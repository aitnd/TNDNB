var ffe=Object.defineProperty;var hfe=(t,e,r)=>e in t?ffe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var nC=(t,e,r)=>hfe(t,typeof e!="symbol"?e+"":e,r);function zK(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Yo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function mfe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var iC={exports:{}},Sy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E9;function pfe(){if(E9)return Sy;E9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return Sy.Fragment=e,Sy.jsx=r,Sy.jsxs=r,Sy}var T9;function gfe(){return T9||(T9=1,iC.exports=pfe()),iC.exports}var m=gfe(),sC={exports:{}},Xt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S9;function vfe(){if(S9)return Xt;S9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),h=Symbol.for("react.activity"),g=Symbol.iterator;function v(q){return q===null||typeof q!="object"?null:(q=g&&q[g]||q["@@iterator"],typeof q=="function"?q:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function E(q,z,V){this.props=q,this.context=z,this.refs=w,this.updater=V||x}E.prototype.isReactComponent={},E.prototype.setState=function(q,z){if(typeof q!="object"&&typeof q!="function"&&q!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,q,z,"setState")},E.prototype.forceUpdate=function(q){this.updater.enqueueForceUpdate(this,q,"forceUpdate")};function A(){}A.prototype=E.prototype;function k(q,z,V){this.props=q,this.context=z,this.refs=w,this.updater=V||x}var R=k.prototype=new A;R.constructor=k,b(R,E.prototype),R.isPureReactComponent=!0;var j=Array.isArray;function P(){}var S={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(q,z,V){var W=V.ref;return{$$typeof:t,type:q,key:z,ref:W!==void 0?W:null,props:V}}function D(q,z){return O(q.type,z,q.props)}function M(q){return typeof q=="object"&&q!==null&&q.$$typeof===t}function F(q){var z={"=":"=0",":":"=2"};return"$"+q.replace(/[=:]/g,function(V){return z[V]})}var U=/\/+/g;function le(q,z){return typeof q=="object"&&q!==null&&q.key!=null?F(""+q.key):z.toString(36)}function de(q){switch(q.status){case"fulfilled":return q.value;case"rejected":throw q.reason;default:switch(typeof q.status=="string"?q.then(P,P):(q.status="pending",q.then(function(z){q.status==="pending"&&(q.status="fulfilled",q.value=z)},function(z){q.status==="pending"&&(q.status="rejected",q.reason=z)})),q.status){case"fulfilled":return q.value;case"rejected":throw q.reason}}throw q}function J(q,z,V,W,Y){var ue=typeof q;(ue==="undefined"||ue==="boolean")&&(q=null);var me=!1;if(q===null)me=!0;else switch(ue){case"bigint":case"string":case"number":me=!0;break;case"object":switch(q.$$typeof){case t:case e:me=!0;break;case f:return me=q._init,J(me(q._payload),z,V,W,Y)}}if(me)return Y=Y(q),me=W===""?"."+le(q,0):W,j(Y)?(V="",me!=null&&(V=me.replace(U,"$&/")+"/"),J(Y,z,V,"",function(ve){return ve})):Y!=null&&(M(Y)&&(Y=D(Y,V+(Y.key==null||q&&q.key===Y.key?"":(""+Y.key).replace(U,"$&/")+"/")+me)),z.push(Y)),1;me=0;var ce=W===""?".":W+":";if(j(q))for(var ie=0;ie<q.length;ie++)W=q[ie],ue=ce+le(W,ie),me+=J(W,z,V,ue,Y);else if(ie=v(q),typeof ie=="function")for(q=ie.call(q),ie=0;!(W=q.next()).done;)W=W.value,ue=ce+le(W,ie++),me+=J(W,z,V,ue,Y);else if(ue==="object"){if(typeof q.then=="function")return J(de(q),z,V,W,Y);throw z=String(q),Error("Objects are not valid as a React child (found: "+(z==="[object Object]"?"object with keys {"+Object.keys(q).join(", ")+"}":z)+"). If you meant to render a collection of children, use an array instead.")}return me}function Q(q,z,V){if(q==null)return q;var W=[],Y=0;return J(q,W,"","",function(ue){return z.call(V,ue,Y++)}),W}function fe(q){if(q._status===-1){var z=q._result;z=z(),z.then(function(V){(q._status===0||q._status===-1)&&(q._status=1,q._result=V)},function(V){(q._status===0||q._status===-1)&&(q._status=2,q._result=V)}),q._status===-1&&(q._status=0,q._result=z)}if(q._status===1)return q._result.default;throw q._result}var ee=typeof reportError=="function"?reportError:function(q){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var z=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof q=="object"&&q!==null&&typeof q.message=="string"?String(q.message):String(q),error:q});if(!window.dispatchEvent(z))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",q);return}console.error(q)},ge={map:Q,forEach:function(q,z,V){Q(q,function(){z.apply(this,arguments)},V)},count:function(q){var z=0;return Q(q,function(){z++}),z},toArray:function(q){return Q(q,function(z){return z})||[]},only:function(q){if(!M(q))throw Error("React.Children.only expected to receive a single React element child.");return q}};return Xt.Activity=h,Xt.Children=ge,Xt.Component=E,Xt.Fragment=r,Xt.Profiler=i,Xt.PureComponent=k,Xt.StrictMode=n,Xt.Suspense=l,Xt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Xt.__COMPILER_RUNTIME={__proto__:null,c:function(q){return S.H.useMemoCache(q)}},Xt.cache=function(q){return function(){return q.apply(null,arguments)}},Xt.cacheSignal=function(){return null},Xt.cloneElement=function(q,z,V){if(q==null)throw Error("The argument must be a React element, but you passed "+q+".");var W=b({},q.props),Y=q.key;if(z!=null)for(ue in z.key!==void 0&&(Y=""+z.key),z)!I.call(z,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&z.ref===void 0||(W[ue]=z[ue]);var ue=arguments.length-2;if(ue===1)W.children=V;else if(1<ue){for(var me=Array(ue),ce=0;ce<ue;ce++)me[ce]=arguments[ce+2];W.children=me}return O(q.type,Y,W)},Xt.createContext=function(q){return q={$$typeof:a,_currentValue:q,_currentValue2:q,_threadCount:0,Provider:null,Consumer:null},q.Provider=q,q.Consumer={$$typeof:s,_context:q},q},Xt.createElement=function(q,z,V){var W,Y={},ue=null;if(z!=null)for(W in z.key!==void 0&&(ue=""+z.key),z)I.call(z,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=z[W]);var me=arguments.length-2;if(me===1)Y.children=V;else if(1<me){for(var ce=Array(me),ie=0;ie<me;ie++)ce[ie]=arguments[ie+2];Y.children=ce}if(q&&q.defaultProps)for(W in me=q.defaultProps,me)Y[W]===void 0&&(Y[W]=me[W]);return O(q,ue,Y)},Xt.createRef=function(){return{current:null}},Xt.forwardRef=function(q){return{$$typeof:o,render:q}},Xt.isValidElement=M,Xt.lazy=function(q){return{$$typeof:f,_payload:{_status:-1,_result:q},_init:fe}},Xt.memo=function(q,z){return{$$typeof:u,type:q,compare:z===void 0?null:z}},Xt.startTransition=function(q){var z=S.T,V={};S.T=V;try{var W=q(),Y=S.S;Y!==null&&Y(V,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(P,ee)}catch(ue){ee(ue)}finally{z!==null&&V.types!==null&&(z.types=V.types),S.T=z}},Xt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Xt.use=function(q){return S.H.use(q)},Xt.useActionState=function(q,z,V){return S.H.useActionState(q,z,V)},Xt.useCallback=function(q,z){return S.H.useCallback(q,z)},Xt.useContext=function(q){return S.H.useContext(q)},Xt.useDebugValue=function(){},Xt.useDeferredValue=function(q,z){return S.H.useDeferredValue(q,z)},Xt.useEffect=function(q,z){return S.H.useEffect(q,z)},Xt.useEffectEvent=function(q){return S.H.useEffectEvent(q)},Xt.useId=function(){return S.H.useId()},Xt.useImperativeHandle=function(q,z,V){return S.H.useImperativeHandle(q,z,V)},Xt.useInsertionEffect=function(q,z){return S.H.useInsertionEffect(q,z)},Xt.useLayoutEffect=function(q,z){return S.H.useLayoutEffect(q,z)},Xt.useMemo=function(q,z){return S.H.useMemo(q,z)},Xt.useOptimistic=function(q,z){return S.H.useOptimistic(q,z)},Xt.useReducer=function(q,z,V){return S.H.useReducer(q,z,V)},Xt.useRef=function(q){return S.H.useRef(q)},Xt.useState=function(q){return S.H.useState(q)},Xt.useSyncExternalStore=function(q,z,V){return S.H.useSyncExternalStore(q,z,V)},Xt.useTransition=function(){return S.H.useTransition()},Xt.version="19.2.0",Xt}var A9;function om(){return A9||(A9=1,sC.exports=vfe()),sC.exports}var N=om();const ke=Yo(N),yfe=zK({__proto__:null,default:ke},[N]);var aC={exports:{}},Ay={},oC={exports:{}},lC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var k9;function xfe(){return k9||(k9=1,(function(t){function e(J,Q){var fe=J.length;J.push(Q);e:for(;0<fe;){var ee=fe-1>>>1,ge=J[ee];if(0<i(ge,Q))J[ee]=Q,J[fe]=ge,fe=ee;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var Q=J[0],fe=J.pop();if(fe!==Q){J[0]=fe;e:for(var ee=0,ge=J.length,q=ge>>>1;ee<q;){var z=2*(ee+1)-1,V=J[z],W=z+1,Y=J[W];if(0>i(V,fe))W<ge&&0>i(Y,V)?(J[ee]=Y,J[W]=fe,ee=W):(J[ee]=V,J[z]=fe,ee=z);else if(W<ge&&0>i(Y,fe))J[ee]=Y,J[W]=fe,ee=W;else break e}}return Q}function i(J,Q){var fe=J.sortIndex-Q.sortIndex;return fe!==0?fe:J.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],f=1,h=null,g=3,v=!1,x=!1,b=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,A=typeof clearTimeout=="function"?clearTimeout:null,k=typeof setImmediate<"u"?setImmediate:null;function R(J){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=J)n(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=r(u)}}function j(J){if(b=!1,R(J),!x)if(r(l)!==null)x=!0,P||(P=!0,F());else{var Q=r(u);Q!==null&&de(j,Q.startTime-J)}}var P=!1,S=-1,I=5,O=-1;function D(){return w?!0:!(t.unstable_now()-O<I)}function M(){if(w=!1,P){var J=t.unstable_now();O=J;var Q=!0;try{e:{x=!1,b&&(b=!1,A(S),S=-1),v=!0;var fe=g;try{t:{for(R(J),h=r(l);h!==null&&!(h.expirationTime>J&&D());){var ee=h.callback;if(typeof ee=="function"){h.callback=null,g=h.priorityLevel;var ge=ee(h.expirationTime<=J);if(J=t.unstable_now(),typeof ge=="function"){h.callback=ge,R(J),Q=!0;break t}h===r(l)&&n(l),R(J)}else n(l);h=r(l)}if(h!==null)Q=!0;else{var q=r(u);q!==null&&de(j,q.startTime-J),Q=!1}}break e}finally{h=null,g=fe,v=!1}Q=void 0}}finally{Q?F():P=!1}}}var F;if(typeof k=="function")F=function(){k(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=M,F=function(){le.postMessage(null)}}else F=function(){E(M,0)};function de(J,Q){S=E(function(){J(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(J){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var fe=g;g=Q;try{return J()}finally{g=fe}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(J,Q){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var fe=g;g=J;try{return Q()}finally{g=fe}},t.unstable_scheduleCallback=function(J,Q,fe){var ee=t.unstable_now();switch(typeof fe=="object"&&fe!==null?(fe=fe.delay,fe=typeof fe=="number"&&0<fe?ee+fe:ee):fe=ee,J){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=fe+ge,J={id:f++,callback:Q,priorityLevel:J,startTime:fe,expirationTime:ge,sortIndex:-1},fe>ee?(J.sortIndex=fe,e(u,J),r(l)===null&&J===r(u)&&(b?(A(S),S=-1):b=!0,de(j,fe-ee))):(J.sortIndex=ge,e(l,J),x||v||(x=!0,P||(P=!0,F()))),J},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(J){var Q=g;return function(){var fe=g;g=Q;try{return J.apply(this,arguments)}finally{g=fe}}}})(lC)),lC}var C9;function bfe(){return C9||(C9=1,oC.exports=xfe()),oC.exports}var cC={exports:{}},ca={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var N9;function wfe(){if(N9)return ca;N9=1;var t=om();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var f=2;f<arguments.length;f++)u+="&args[]="+encodeURIComponent(arguments[f])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,f){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:h==null?null:""+h,children:l,containerInfo:u,implementation:f}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return ca.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,ca.createPortal=function(l,u){var f=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,f)},ca.flushSync=function(l){var u=a.T,f=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=u,n.p=f,n.d.f()}},ca.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},ca.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},ca.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var f=u.as,h=o(f,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;f==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:h,integrity:g,fetchPriority:v}):f==="script"&&n.d.X(l,{crossOrigin:h,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},ca.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var f=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},ca.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var f=u.as,h=o(f,u.crossOrigin);n.d.L(l,f,{crossOrigin:h,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},ca.preloadModule=function(l,u){if(typeof l=="string")if(u){var f=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},ca.requestFormReset=function(l){n.d.r(l)},ca.unstable_batchedUpdates=function(l,u){return l(u)},ca.useFormState=function(l,u,f){return a.H.useFormState(l,u,f)},ca.useFormStatus=function(){return a.H.useHostTransitionStatus()},ca.version="19.2.0",ca}var I9;function $K(){if(I9)return cC.exports;I9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),cC.exports=wfe(),cC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var O9;function _fe(){if(O9)return Ay;O9=1;var t=bfe(),e=om(),r=$K();function n(c){var d="https://react.dev/errors/"+c;if(1<arguments.length){d+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)d+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+d+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var d=c,p=c;if(c.alternate)for(;d.return;)d=d.return;else{c=d;do d=c,(d.flags&4098)!==0&&(p=d.return),c=d.return;while(c)}return d.tag===3?p:null}function a(c){if(c.tag===13){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function o(c){if(c.tag===31){var d=c.memoizedState;if(d===null&&(c=c.alternate,c!==null&&(d=c.memoizedState)),d!==null)return d.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(n(188))}function u(c){var d=c.alternate;if(!d){if(d=s(c),d===null)throw Error(n(188));return d!==c?null:c}for(var p=c,y=d;;){var T=p.return;if(T===null)break;var C=T.alternate;if(C===null){if(y=T.return,y!==null){p=y;continue}break}if(T.child===C.child){for(C=T.child;C;){if(C===p)return l(T),c;if(C===y)return l(T),d;C=C.sibling}throw Error(n(188))}if(p.return!==y.return)p=T,y=C;else{for(var B=!1,X=T.child;X;){if(X===p){B=!0,p=T,y=C;break}if(X===y){B=!0,y=T,p=C;break}X=X.sibling}if(!B){for(X=C.child;X;){if(X===p){B=!0,p=C,y=T;break}if(X===y){B=!0,y=C,p=T;break}X=X.sibling}if(!B)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:d}function f(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c;for(c=c.child;c!==null;){if(d=f(c),d!==null)return d;c=c.sibling}return null}var h=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),A=Symbol.for("react.consumer"),k=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),j=Symbol.for("react.suspense"),P=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var U=Symbol.for("react.client.reference");function le(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===U?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case b:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case j:return"Suspense";case P:return"SuspenseList";case O:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case x:return"Portal";case k:return c.displayName||"Context";case A:return(c._context.displayName||"Context")+".Consumer";case R:var d=c.render;return c=c.displayName,c||(c=d.displayName||d.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return d=c.displayName||null,d!==null?d:le(c.type)||"Memo";case I:d=c._payload,c=c._init;try{return le(c(d))}catch{}}return null}var de=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,fe={pending:!1,data:null,method:null,action:null},ee=[],ge=-1;function q(c){return{current:c}}function z(c){0>ge||(c.current=ee[ge],ee[ge]=null,ge--)}function V(c,d){ge++,ee[ge]=c.current,c.current=d}var W=q(null),Y=q(null),ue=q(null),me=q(null);function ce(c,d){switch(V(ue,d),V(Y,c),V(W,null),d.nodeType){case 9:case 11:c=(c=d.documentElement)&&(c=c.namespaceURI)?W7(c):0;break;default:if(c=d.tagName,d=d.namespaceURI)d=W7(d),c=G7(d,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}z(W),V(W,c)}function ie(){z(W),z(Y),z(ue)}function ve(c){c.memoizedState!==null&&V(me,c);var d=W.current,p=G7(d,c.type);d!==p&&(V(Y,c),V(W,p))}function Ue(c){Y.current===c&&(z(W),z(Y)),me.current===c&&(z(me),wy._currentValue=fe)}var G,Je;function Oe(c){if(G===void 0)try{throw Error()}catch(p){var d=p.stack.trim().match(/\n( *(at )?)/);G=d&&d[1]||"",Je=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+c+Je}var rt=!1;function Xe(c,d){if(!c||rt)return"";rt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(d){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Re){var Ce=Re}Reflect.construct(c,[],ze)}else{try{ze.call()}catch(Re){Ce=Re}c.call(ze.prototype)}}else{try{throw Error()}catch(Re){Ce=Re}(ze=c())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Re){if(Re&&Ce&&typeof Re.stack=="string")return[Re.stack,Ce.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var C=y.DetermineComponentFrameRoot(),B=C[0],X=C[1];if(B&&X){var he=B.split(`
`),Ae=X.split(`
`);for(T=y=0;y<he.length&&!he[y].includes("DetermineComponentFrameRoot");)y++;for(;T<Ae.length&&!Ae[T].includes("DetermineComponentFrameRoot");)T++;if(y===he.length||T===Ae.length)for(y=he.length-1,T=Ae.length-1;1<=y&&0<=T&&he[y]!==Ae[T];)T--;for(;1<=y&&0<=T;y--,T--)if(he[y]!==Ae[T]){if(y!==1||T!==1)do if(y--,T--,0>T||he[y]!==Ae[T]){var Fe=`
`+he[y].replace(" at new "," at ");return c.displayName&&Fe.includes("<anonymous>")&&(Fe=Fe.replace("<anonymous>",c.displayName)),Fe}while(1<=y&&0<=T);break}}}finally{rt=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Oe(p):""}function je(c,d){switch(c.tag){case 26:case 27:case 5:return Oe(c.type);case 16:return Oe("Lazy");case 13:return c.child!==d&&d!==null?Oe("Suspense Fallback"):Oe("Suspense");case 19:return Oe("SuspenseList");case 0:case 15:return Xe(c.type,!1);case 11:return Xe(c.type.render,!1);case 1:return Xe(c.type,!0);case 31:return Oe("Activity");default:return""}}function at(c){try{var d="",p=null;do d+=je(c,p),p=c,c=c.return;while(c);return d}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var wt=Object.prototype.hasOwnProperty,Ot=t.unstable_scheduleCallback,Yr=t.unstable_cancelCallback,Wr=t.unstable_shouldYield,Lr=t.unstable_requestPaint,Gt=t.unstable_now,Tr=t.unstable_getCurrentPriorityLevel,Sn=t.unstable_ImmediatePriority,hi=t.unstable_UserBlockingPriority,xe=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,nt=t.unstable_IdlePriority,jt=t.log,Kt=t.unstable_setDisableYieldValue,rr=null,br=null;function Fi(c){if(typeof jt=="function"&&Kt(c),br&&typeof br.setStrictMode=="function")try{br.setStrictMode(rr,c)}catch{}}var Xr=Math.clz32?Math.clz32:ss,Dl=Math.log,aa=Math.LN2;function ss(c){return c>>>=0,c===0?32:31-(Dl(c)/aa|0)|0}var mi=256,yo=262144,Qr=4194304;function Bi(c){var d=c&42;if(d!==0)return d;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Ct(c,d,p){var y=c.pendingLanes;if(y===0)return 0;var T=0,C=c.suspendedLanes,B=c.pingedLanes;c=c.warmLanes;var X=y&134217727;return X!==0?(y=X&~C,y!==0?T=Bi(y):(B&=X,B!==0?T=Bi(B):p||(p=X&~c,p!==0&&(T=Bi(p))))):(X=y&~C,X!==0?T=Bi(X):B!==0?T=Bi(B):p||(p=y&~c,p!==0&&(T=Bi(p)))),T===0?0:d!==0&&d!==T&&(d&C)===0&&(C=T&-T,p=d&-d,C>=p||C===32&&(p&4194048)!==0)?d:T}function wr(c,d){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&d)===0}function In(c,d){switch(c){case 1:case 2:case 4:case 8:case 64:return d+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return d+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ri(){var c=Qr;return Qr<<=1,(Qr&62914560)===0&&(Qr=4194304),c}function ni(c){for(var d=[],p=0;31>p;p++)d.push(c);return d}function Jr(c,d){c.pendingLanes|=d,d!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function Ui(c,d,p,y,T,C){var B=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var X=c.entanglements,he=c.expirationTimes,Ae=c.hiddenUpdates;for(p=B&~p;0<p;){var Fe=31-Xr(p),ze=1<<Fe;X[Fe]=0,he[Fe]=-1;var Ce=Ae[Fe];if(Ce!==null)for(Ae[Fe]=null,Fe=0;Fe<Ce.length;Fe++){var Re=Ce[Fe];Re!==null&&(Re.lane&=-536870913)}p&=~ze}y!==0&&ys(c,y,0),C!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=C&~(B&~d))}function ys(c,d,p){c.pendingLanes|=d,c.suspendedLanes&=~d;var y=31-Xr(d);c.entangledLanes|=d,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function Zr(c,d){var p=c.entangledLanes|=d;for(c=c.entanglements;p;){var y=31-Xr(p),T=1<<y;T&d|c[y]&d&&(c[y]|=d),p&=~T}}function Ai(c,d){var p=d&-d;return p=(p&42)!==0?1:Us(p),(p&(c.suspendedLanes|d))!==0?0:p}function Us(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function pi(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function K(){var c=Q.p;return c!==0?c:(c=window.event,c===void 0?32:g9(c.type))}function ae(c,d){var p=Q.p;try{return Q.p=c,d()}finally{Q.p=p}}var Z=Math.random().toString(36).slice(2),re="__reactFiber$"+Z,se="__reactProps$"+Z,oe="__reactContainer$"+Z,we="__reactEvents$"+Z,De="__reactListeners$"+Z,be="__reactHandles$"+Z,Te="__reactResources$"+Z,_e="__reactMarker$"+Z;function We(c){delete c[re],delete c[se],delete c[we],delete c[De],delete c[be]}function Qe(c){var d=c[re];if(d)return d;for(var p=c.parentNode;p;){if(d=p[oe]||p[re]){if(p=d.alternate,d.child!==null||p!==null&&p.child!==null)for(c=e9(c);c!==null;){if(p=c[re])return p;c=e9(c)}return d}c=p,p=c.parentNode}return null}function ct(c){if(c=c[re]||c[oe]){var d=c.tag;if(d===5||d===6||d===13||d===31||d===26||d===27||d===3)return c}return null}function qe(c){var d=c.tag;if(d===5||d===26||d===27||d===6)return c.stateNode;throw Error(n(33))}function tt(c){var d=c[Te];return d||(d=c[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),d}function pt(c){c[_e]=!0}var Fr=new Set,Br={};function en(c,d){xs(c,d),xs(c+"Capture",d)}function xs(c,d){for(Br[c]=d,c=0;c<d.length;c++)Fr.add(d[c])}var Oa=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),bs={},oa={};function Ka(c){return wt.call(oa,c)?!0:wt.call(bs,c)?!1:Oa.test(c)?oa[c]=!0:(bs[c]=!0,!1)}function gi(c,d,p){if(Ka(d))if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(d);return;case"boolean":var y=d.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(d);return}}c.setAttribute(d,""+p)}}function Ra(c,d,p){if(p===null)c.removeAttribute(d);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(d);return}c.setAttribute(d,""+p)}}function vi(c,d,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(d,p,""+y)}}function Vi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Ac(c){var d=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(d==="checkbox"||d==="radio")}function Sh(c,d,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,d);if(!c.hasOwnProperty(d)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,C=y.set;return Object.defineProperty(c,d,{configurable:!0,get:function(){return T.call(this)},set:function(B){p=""+B,C.call(this,B)}}),Object.defineProperty(c,d,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(B){p=""+B},stopTracking:function(){c._valueTracker=null,delete c[d]}}}}function Ur(c){if(!c._valueTracker){var d=Ac(c)?"checked":"value";c._valueTracker=Sh(c,d,""+c[d])}}function vu(c){if(!c)return!1;var d=c._valueTracker;if(!d)return!0;var p=d.getValue(),y="";return c&&(y=Ac(c)?c.checked?"true":"false":c.value),c=y,c!==p?(d.setValue(c),!0):!1}function xo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var yu=/[\n"\\]/g;function la(c){return c.replace(yu,function(d){return"\\"+d.charCodeAt(0).toString(16)+" "})}function Dd(c,d,p,y,T,C,B,X){c.name="",B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"?c.type=B:c.removeAttribute("type"),d!=null?B==="number"?(d===0&&c.value===""||c.value!=d)&&(c.value=""+Vi(d)):c.value!==""+Vi(d)&&(c.value=""+Vi(d)):B!=="submit"&&B!=="reset"||c.removeAttribute("value"),d!=null?Ah(c,B,Vi(d)):p!=null?Ah(c,B,Vi(p)):y!=null&&c.removeAttribute("value"),T==null&&C!=null&&(c.defaultChecked=!!C),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?c.name=""+Vi(X):c.removeAttribute("name")}function Md(c,d,p,y,T,C,B,X){if(C!=null&&typeof C!="function"&&typeof C!="symbol"&&typeof C!="boolean"&&(c.type=C),d!=null||p!=null){if(!(C!=="submit"&&C!=="reset"||d!=null)){Ur(c);return}p=p!=null?""+Vi(p):"",d=d!=null?""+Vi(d):p,X||d===c.value||(c.value=d),c.defaultValue=d}y=y??T,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=X?c.checked:!!y,c.defaultChecked=!!y,B!=null&&typeof B!="function"&&typeof B!="symbol"&&typeof B!="boolean"&&(c.name=B),Ur(c)}function Ah(c,d,p){d==="number"&&xo(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Ml(c,d,p,y){if(c=c.options,d){d={};for(var T=0;T<p.length;T++)d["$"+p[T]]=!0;for(p=0;p<c.length;p++)T=d.hasOwnProperty("$"+c[p].value),c[p].selected!==T&&(c[p].selected=T),T&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Vi(p),d=null,T=0;T<c.length;T++){if(c[T].value===p){c[T].selected=!0,y&&(c[T].defaultSelected=!0);return}d!==null||c[T].disabled||(d=c[T])}d!==null&&(d.selected=!0)}}function Im(c,d,p){if(d!=null&&(d=""+Vi(d),d!==c.value&&(c.value=d),p==null)){c.defaultValue!==d&&(c.defaultValue=d);return}c.defaultValue=p!=null?""+Vi(p):""}function Ll(c,d,p,y){if(d==null){if(y!=null){if(p!=null)throw Error(n(92));if(de(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),d=p}p=Vi(d),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Ur(c)}function Vs(c,d){if(d){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=d;return}}c.textContent=d}var ne=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Be(c,d,p){var y=d.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(d,""):d==="float"?c.cssFloat="":c[d]="":y?c.setProperty(d,p):typeof p!="number"||p===0||ne.has(d)?d==="float"?c.cssFloat=p:c[d]=(""+p).trim():c[d]=p+"px"}function dt(c,d,p){if(d!=null&&typeof d!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||d!=null&&d.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var T in d)y=d[T],d.hasOwnProperty(T)&&p[T]!==y&&Be(c,T,y)}else for(var C in d)d.hasOwnProperty(C)&&Be(c,C,d[C])}function St(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var bt=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Nr=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function fn(c){return Nr.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function hn(){}var bo=null;function Jo(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var Ld=null,kc=null;function kh(c){var d=ct(c);if(d&&(c=d.stateNode)){var p=c[se]||null;e:switch(c=d.stateNode,d.type){case"input":if(Dd(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),d=p.name,p.type==="radio"&&d!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+la(""+d)+'"][type="radio"]'),d=0;d<p.length;d++){var y=p[d];if(y!==c&&y.form===c.form){var T=y[se]||null;if(!T)throw Error(n(90));Dd(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(d=0;d<p.length;d++)y=p[d],y.form===c.form&&vu(y)}break e;case"textarea":Im(c,p.value,p.defaultValue);break e;case"select":d=p.value,d!=null&&Ml(c,!!p.multiple,d,!1)}}}var Om=!1;function Fd(c,d,p){if(Om)return c(d,p);Om=!0;try{var y=c(d);return y}finally{if(Om=!1,(Ld!==null||kc!==null)&&(Mw(),Ld&&(d=Ld,c=kc,kc=Ld=null,kh(d),c)))for(d=0;d<c.length;d++)kh(c[d])}}function Fl(c,d){var p=c.stateNode;if(p===null)return null;var y=p[se]||null;if(y===null)return null;p=y[d];e:switch(d){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,d,typeof p));return p}var Zo=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Ch=!1;if(Zo)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Ch=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Ch=!1}var Cc=null,Fv=null,Nh=null;function Bv(){if(Nh)return Nh;var c,d=Fv,p=d.length,y,T="value"in Cc?Cc.value:Cc.textContent,C=T.length;for(c=0;c<p&&d[c]===T[c];c++);var B=p-c;for(y=1;y<=B&&d[p-y]===T[C-y];y++);return Nh=T.slice(c,1<y?1-y:void 0)}function Ih(c){var d=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&d===13&&(c=13)):c=d,c===10&&(c=13),32<=c||c===13?c:0}function xu(){return!0}function Bl(){return!1}function zs(c){function d(p,y,T,C,B){this._reactName=p,this._targetInst=T,this.type=y,this.nativeEvent=C,this.target=B,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(p=c[X],this[X]=p?p(C):C[X]);return this.isDefaultPrevented=(C.defaultPrevented!=null?C.defaultPrevented:C.returnValue===!1)?xu:Bl,this.isPropagationStopped=Bl,this}return h(d.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=xu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=xu)},persist:function(){},isPersistent:xu}),d}var bu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Nc=zs(bu),Bd=h({},bu,{view:0,detail:0}),Uv=zs(Bd),Ud,Rm,Ic,Pm=h({},Bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Vd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Ic&&(Ic&&c.type==="mousemove"?(Ud=c.screenX-Ic.screenX,Rm=c.screenY-Ic.screenY):Rm=Ud=0,Ic=c),Ud)},movementY:function(c){return"movementY"in c?c.movementY:Rm}}),Vv=zs(Pm),Oh=h({},Pm,{dataTransfer:0}),Hb=zs(Oh),qb=h({},Bd,{relatedTarget:0}),Rh=zs(qb),zv=h({},bu,{animationName:0,elapsedTime:0,pseudoElement:0}),Wb=zs(zv),jm=h({},bu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Gb=zs(jm),Kb=h({},bu,{data:0}),Oc=zs(Kb),Yb={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Xb={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Qb={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Jb(c){var d=this.nativeEvent;return d.getModifierState?d.getModifierState(c):(c=Qb[c])?!!d[c]:!1}function Vd(){return Jb}var Pa=h({},Bd,{key:function(c){if(c.key){var d=Yb[c.key]||c.key;if(d!=="Unidentified")return d}return c.type==="keypress"?(c=Ih(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?Xb[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Vd,charCode:function(c){return c.type==="keypress"?Ih(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Ih(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),Zb=zs(Pa),ew=h({},Pm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),wu=zs(ew),_=h({},Bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Vd}),L=zs(_),H=h({},bu,{propertyName:0,elapsedTime:0,pseudoElement:0}),te=zs(H),Ee=h({},Pm,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Ie=zs(Ee),ut=h({},bu,{newState:0,oldState:0}),Zt=zs(ut),ki=[9,13,27,32],Vr=Zo&&"CompositionEvent"in window,Wn=null;Zo&&"documentMode"in document&&(Wn=document.documentMode);var el=Zo&&"TextEvent"in window&&!Wn,Rc=Zo&&(!Vr||Wn&&8<Wn&&11>=Wn),Ul=" ",Vl=!1;function Ph(c,d){switch(c){case"keyup":return ki.indexOf(d.keyCode)!==-1;case"keydown":return d.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Dm(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Mm=!1;function Mue(c,d){switch(c){case"compositionend":return Dm(d);case"keypress":return d.which!==32?null:(Vl=!0,Ul);case"textInput":return c=d.data,c===Ul&&Vl?null:c;default:return null}}function Lue(c,d){if(Mm)return c==="compositionend"||!Vr&&Ph(c,d)?(c=Bv(),Nh=Fv=Cc=null,Mm=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(d.ctrlKey||d.altKey||d.metaKey)||d.ctrlKey&&d.altKey){if(d.char&&1<d.char.length)return d.char;if(d.which)return String.fromCharCode(d.which)}return null;case"compositionend":return Rc&&d.locale!=="ko"?null:d.data;default:return null}}var Fue={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function nM(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d==="input"?!!Fue[c.type]:d==="textarea"}function iM(c,d,p,y){Ld?kc?kc.push(y):kc=[y]:Ld=y,d=$w(d,"onChange"),0<d.length&&(p=new Nc("onChange","change",null,p,y),c.push({event:p,listeners:d}))}var $v=null,Hv=null;function Bue(c){U7(c,0)}function tw(c){var d=qe(c);if(vu(d))return c}function sM(c,d){if(c==="change")return d}var aM=!1;if(Zo){var uA;if(Zo){var dA="oninput"in document;if(!dA){var oM=document.createElement("div");oM.setAttribute("oninput","return;"),dA=typeof oM.oninput=="function"}uA=dA}else uA=!1;aM=uA&&(!document.documentMode||9<document.documentMode)}function lM(){$v&&($v.detachEvent("onpropertychange",cM),Hv=$v=null)}function cM(c){if(c.propertyName==="value"&&tw(Hv)){var d=[];iM(d,Hv,c,Jo(c)),Fd(Bue,d)}}function Uue(c,d,p){c==="focusin"?(lM(),$v=d,Hv=p,$v.attachEvent("onpropertychange",cM)):c==="focusout"&&lM()}function Vue(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return tw(Hv)}function zue(c,d){if(c==="click")return tw(d)}function $ue(c,d){if(c==="input"||c==="change")return tw(d)}function Hue(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var wo=typeof Object.is=="function"?Object.is:Hue;function qv(c,d){if(wo(c,d))return!0;if(typeof c!="object"||c===null||typeof d!="object"||d===null)return!1;var p=Object.keys(c),y=Object.keys(d);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var T=p[y];if(!wt.call(d,T)||!wo(c[T],d[T]))return!1}return!0}function uM(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function dM(c,d){var p=uM(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=d&&y>=d)return{node:p,offset:d-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=uM(p)}}function fM(c,d){return c&&d?c===d?!0:c&&c.nodeType===3?!1:d&&d.nodeType===3?fM(c,d.parentNode):"contains"in c?c.contains(d):c.compareDocumentPosition?!!(c.compareDocumentPosition(d)&16):!1:!1}function hM(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var d=xo(c.document);d instanceof c.HTMLIFrameElement;){try{var p=typeof d.contentWindow.location.href=="string"}catch{p=!1}if(p)c=d.contentWindow;else break;d=xo(c.document)}return d}function fA(c){var d=c&&c.nodeName&&c.nodeName.toLowerCase();return d&&(d==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||d==="textarea"||c.contentEditable==="true")}var que=Zo&&"documentMode"in document&&11>=document.documentMode,Lm=null,hA=null,Wv=null,mA=!1;function mM(c,d,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;mA||Lm==null||Lm!==xo(y)||(y=Lm,"selectionStart"in y&&fA(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Wv&&qv(Wv,y)||(Wv=y,y=$w(hA,"onSelect"),0<y.length&&(d=new Nc("onSelect","select",null,d,p),c.push({event:d,listeners:y}),d.target=Lm)))}function jh(c,d){var p={};return p[c.toLowerCase()]=d.toLowerCase(),p["Webkit"+c]="webkit"+d,p["Moz"+c]="moz"+d,p}var Fm={animationend:jh("Animation","AnimationEnd"),animationiteration:jh("Animation","AnimationIteration"),animationstart:jh("Animation","AnimationStart"),transitionrun:jh("Transition","TransitionRun"),transitionstart:jh("Transition","TransitionStart"),transitioncancel:jh("Transition","TransitionCancel"),transitionend:jh("Transition","TransitionEnd")},pA={},pM={};Zo&&(pM=document.createElement("div").style,"AnimationEvent"in window||(delete Fm.animationend.animation,delete Fm.animationiteration.animation,delete Fm.animationstart.animation),"TransitionEvent"in window||delete Fm.transitionend.transition);function Dh(c){if(pA[c])return pA[c];if(!Fm[c])return c;var d=Fm[c],p;for(p in d)if(d.hasOwnProperty(p)&&p in pM)return pA[c]=d[p];return c}var gM=Dh("animationend"),vM=Dh("animationiteration"),yM=Dh("animationstart"),Wue=Dh("transitionrun"),Gue=Dh("transitionstart"),Kue=Dh("transitioncancel"),xM=Dh("transitionend"),bM=new Map,gA="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");gA.push("scrollEnd");function zl(c,d){bM.set(c,d),en(d,[c])}var rw=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var d=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(d))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},tl=[],Bm=0,vA=0;function nw(){for(var c=Bm,d=vA=Bm=0;d<c;){var p=tl[d];tl[d++]=null;var y=tl[d];tl[d++]=null;var T=tl[d];tl[d++]=null;var C=tl[d];if(tl[d++]=null,y!==null&&T!==null){var B=y.pending;B===null?T.next=T:(T.next=B.next,B.next=T),y.pending=T}C!==0&&wM(p,T,C)}}function iw(c,d,p,y){tl[Bm++]=c,tl[Bm++]=d,tl[Bm++]=p,tl[Bm++]=y,vA|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function yA(c,d,p,y){return iw(c,d,p,y),sw(c)}function Mh(c,d){return iw(c,null,null,d),sw(c)}function wM(c,d,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var T=!1,C=c.return;C!==null;)C.childLanes|=p,y=C.alternate,y!==null&&(y.childLanes|=p),C.tag===22&&(c=C.stateNode,c===null||c._visibility&1||(T=!0)),c=C,C=C.return;return c.tag===3?(C=c.stateNode,T&&d!==null&&(T=31-Xr(p),c=C.hiddenUpdates,y=c[T],y===null?c[T]=[d]:y.push(d),d.lane=p|536870912),C):null}function sw(c){if(50<my)throw my=0,kk=null,Error(n(185));for(var d=c.return;d!==null;)c=d,d=c.return;return c.tag===3?c.stateNode:null}var Um={};function Yue(c,d,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=d,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function _o(c,d,p,y){return new Yue(c,d,p,y)}function xA(c){return c=c.prototype,!(!c||!c.isReactComponent)}function _u(c,d){var p=c.alternate;return p===null?(p=_o(c.tag,d,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=d,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,d=c.dependencies,p.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function _M(c,d){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=d,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,d=p.dependencies,c.dependencies=d===null?null:{lanes:d.lanes,firstContext:d.firstContext}),c}function aw(c,d,p,y,T,C){var B=0;if(y=c,typeof c=="function")xA(c)&&(B=1);else if(typeof c=="string")B=efe(c,p,W.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case O:return c=_o(31,p,d,T),c.elementType=O,c.lanes=C,c;case b:return Lh(p.children,T,C,d);case w:B=8,T|=24;break;case E:return c=_o(12,p,d,T|2),c.elementType=E,c.lanes=C,c;case j:return c=_o(13,p,d,T),c.elementType=j,c.lanes=C,c;case P:return c=_o(19,p,d,T),c.elementType=P,c.lanes=C,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case k:B=10;break e;case A:B=9;break e;case R:B=11;break e;case S:B=14;break e;case I:B=16,y=null;break e}B=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return d=_o(B,p,d,T),d.elementType=c,d.type=y,d.lanes=C,d}function Lh(c,d,p,y){return c=_o(7,c,y,d),c.lanes=p,c}function bA(c,d,p){return c=_o(6,c,null,d),c.lanes=p,c}function EM(c){var d=_o(18,null,null,0);return d.stateNode=c,d}function wA(c,d,p){return d=_o(4,c.children!==null?c.children:[],c.key,d),d.lanes=p,d.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},d}var TM=new WeakMap;function rl(c,d){if(typeof c=="object"&&c!==null){var p=TM.get(c);return p!==void 0?p:(d={value:c,source:d,stack:at(d)},TM.set(c,d),d)}return{value:c,source:d,stack:at(d)}}var Vm=[],zm=0,ow=null,Gv=0,nl=[],il=0,zd=null,Pc=1,jc="";function Eu(c,d){Vm[zm++]=Gv,Vm[zm++]=ow,ow=c,Gv=d}function SM(c,d,p){nl[il++]=Pc,nl[il++]=jc,nl[il++]=zd,zd=c;var y=Pc;c=jc;var T=32-Xr(y)-1;y&=~(1<<T),p+=1;var C=32-Xr(d)+T;if(30<C){var B=T-T%5;C=(y&(1<<B)-1).toString(32),y>>=B,T-=B,Pc=1<<32-Xr(d)+T|p<<T|y,jc=C+c}else Pc=1<<C|p<<T|y,jc=c}function _A(c){c.return!==null&&(Eu(c,1),SM(c,1,0))}function EA(c){for(;c===ow;)ow=Vm[--zm],Vm[zm]=null,Gv=Vm[--zm],Vm[zm]=null;for(;c===zd;)zd=nl[--il],nl[il]=null,jc=nl[--il],nl[il]=null,Pc=nl[--il],nl[il]=null}function AM(c,d){nl[il++]=Pc,nl[il++]=jc,nl[il++]=zd,Pc=d.id,jc=d.overflow,zd=c}var $s=null,Mn=null,_r=!1,$d=null,sl=!1,TA=Error(n(519));function Hd(c){var d=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Kv(rl(d,c)),TA}function kM(c){var d=c.stateNode,p=c.type,y=c.memoizedProps;switch(d[re]=c,d[se]=y,p){case"dialog":hr("cancel",d),hr("close",d);break;case"iframe":case"object":case"embed":hr("load",d);break;case"video":case"audio":for(p=0;p<gy.length;p++)hr(gy[p],d);break;case"source":hr("error",d);break;case"img":case"image":case"link":hr("error",d),hr("load",d);break;case"details":hr("toggle",d);break;case"input":hr("invalid",d),Md(d,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":hr("invalid",d);break;case"textarea":hr("invalid",d),Ll(d,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||d.textContent===""+p||y.suppressHydrationWarning===!0||H7(d.textContent,p)?(y.popover!=null&&(hr("beforetoggle",d),hr("toggle",d)),y.onScroll!=null&&hr("scroll",d),y.onScrollEnd!=null&&hr("scrollend",d),y.onClick!=null&&(d.onclick=hn),d=!0):d=!1,d||Hd(c,!0)}function CM(c){for($s=c.return;$s;)switch($s.tag){case 5:case 31:case 13:sl=!1;return;case 27:case 3:sl=!0;return;default:$s=$s.return}}function $m(c){if(c!==$s)return!1;if(!_r)return CM(c),_r=!0,!1;var d=c.tag,p;if((p=d!==3&&d!==27)&&((p=d===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||zk(c.type,c.memoizedProps)),p=!p),p&&Mn&&Hd(c),CM(c),d===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Mn=Z7(c)}else if(d===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Mn=Z7(c)}else d===27?(d=Mn,sf(c.type)?(c=Gk,Gk=null,Mn=c):Mn=d):Mn=$s?ol(c.stateNode.nextSibling):null;return!0}function Fh(){Mn=$s=null,_r=!1}function SA(){var c=$d;return c!==null&&(Ja===null?Ja=c:Ja.push.apply(Ja,c),$d=null),c}function Kv(c){$d===null?$d=[c]:$d.push(c)}var AA=q(null),Bh=null,Tu=null;function qd(c,d,p){V(AA,d._currentValue),d._currentValue=p}function Su(c){c._currentValue=AA.current,z(AA)}function kA(c,d,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&d)!==d?(c.childLanes|=d,y!==null&&(y.childLanes|=d)):y!==null&&(y.childLanes&d)!==d&&(y.childLanes|=d),c===p)break;c=c.return}}function CA(c,d,p,y){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var C=T.dependencies;if(C!==null){var B=T.child;C=C.firstContext;e:for(;C!==null;){var X=C;C=T;for(var he=0;he<d.length;he++)if(X.context===d[he]){C.lanes|=p,X=C.alternate,X!==null&&(X.lanes|=p),kA(C.return,p,c),y||(B=null);break e}C=X.next}}else if(T.tag===18){if(B=T.return,B===null)throw Error(n(341));B.lanes|=p,C=B.alternate,C!==null&&(C.lanes|=p),kA(B,p,c),B=null}else B=T.child;if(B!==null)B.return=T;else for(B=T;B!==null;){if(B===c){B=null;break}if(T=B.sibling,T!==null){T.return=B.return,B=T;break}B=B.return}T=B}}function Hm(c,d,p,y){c=null;for(var T=d,C=!1;T!==null;){if(!C){if((T.flags&524288)!==0)C=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var B=T.alternate;if(B===null)throw Error(n(387));if(B=B.memoizedProps,B!==null){var X=T.type;wo(T.pendingProps.value,B.value)||(c!==null?c.push(X):c=[X])}}else if(T===me.current){if(B=T.alternate,B===null)throw Error(n(387));B.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(wy):c=[wy])}T=T.return}c!==null&&CA(d,c,p,y),d.flags|=262144}function lw(c){for(c=c.firstContext;c!==null;){if(!wo(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function Uh(c){Bh=c,Tu=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Hs(c){return NM(Bh,c)}function cw(c,d){return Bh===null&&Uh(c),NM(c,d)}function NM(c,d){var p=d._currentValue;if(d={context:d,memoizedValue:p,next:null},Tu===null){if(c===null)throw Error(n(308));Tu=d,c.dependencies={lanes:0,firstContext:d},c.flags|=524288}else Tu=Tu.next=d;return p}var Xue=typeof AbortController<"u"?AbortController:function(){var c=[],d=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){d.aborted=!0,c.forEach(function(p){return p()})}},Que=t.unstable_scheduleCallback,Jue=t.unstable_NormalPriority,zi={$$typeof:k,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function NA(){return{controller:new Xue,data:new Map,refCount:0}}function Yv(c){c.refCount--,c.refCount===0&&Que(Jue,function(){c.controller.abort()})}var Xv=null,IA=0,qm=0,Wm=null;function Zue(c,d){if(Xv===null){var p=Xv=[];IA=0,qm=Pk(),Wm={status:"pending",value:void 0,then:function(y){p.push(y)}}}return IA++,d.then(IM,IM),d}function IM(){if(--IA===0&&Xv!==null){Wm!==null&&(Wm.status="fulfilled");var c=Xv;Xv=null,qm=0,Wm=null;for(var d=0;d<c.length;d++)(0,c[d])()}}function ede(c,d){var p=[],y={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return c.then(function(){y.status="fulfilled",y.value=d;for(var T=0;T<p.length;T++)(0,p[T])(d)},function(T){for(y.status="rejected",y.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),y}var OM=J.S;J.S=function(c,d){m7=Gt(),typeof d=="object"&&d!==null&&typeof d.then=="function"&&Zue(c,d),OM!==null&&OM(c,d)};var Vh=q(null);function OA(){var c=Vh.current;return c!==null?c:An.pooledCache}function uw(c,d){d===null?V(Vh,Vh.current):V(Vh,d.pool)}function RM(){var c=OA();return c===null?null:{parent:zi._currentValue,pool:c}}var Gm=Error(n(460)),RA=Error(n(474)),dw=Error(n(542)),fw={then:function(){}};function PM(c){return c=c.status,c==="fulfilled"||c==="rejected"}function jM(c,d,p){switch(p=c[p],p===void 0?c.push(d):p!==d&&(d.then(hn,hn),d=p),d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,MM(c),c;default:if(typeof d.status=="string")d.then(hn,hn);else{if(c=An,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=d,c.status="pending",c.then(function(y){if(d.status==="pending"){var T=d;T.status="fulfilled",T.value=y}},function(y){if(d.status==="pending"){var T=d;T.status="rejected",T.reason=y}})}switch(d.status){case"fulfilled":return d.value;case"rejected":throw c=d.reason,MM(c),c}throw $h=d,Gm}}function zh(c){try{var d=c._init;return d(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?($h=p,Gm):p}}var $h=null;function DM(){if($h===null)throw Error(n(459));var c=$h;return $h=null,c}function MM(c){if(c===Gm||c===dw)throw Error(n(483))}var Km=null,Qv=0;function hw(c){var d=Qv;return Qv+=1,Km===null&&(Km=[]),jM(Km,c,d)}function Jv(c,d){d=d.props.ref,c.ref=d!==void 0?d:null}function mw(c,d){throw d.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(d),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(d).join(", ")+"}":c)))}function LM(c){function d(ye,pe){if(c){var Se=ye.deletions;Se===null?(ye.deletions=[pe],ye.flags|=16):Se.push(pe)}}function p(ye,pe){if(!c)return null;for(;pe!==null;)d(ye,pe),pe=pe.sibling;return null}function y(ye){for(var pe=new Map;ye!==null;)ye.key!==null?pe.set(ye.key,ye):pe.set(ye.index,ye),ye=ye.sibling;return pe}function T(ye,pe){return ye=_u(ye,pe),ye.index=0,ye.sibling=null,ye}function C(ye,pe,Se){return ye.index=Se,c?(Se=ye.alternate,Se!==null?(Se=Se.index,Se<pe?(ye.flags|=67108866,pe):Se):(ye.flags|=67108866,pe)):(ye.flags|=1048576,pe)}function B(ye){return c&&ye.alternate===null&&(ye.flags|=67108866),ye}function X(ye,pe,Se,Ve){return pe===null||pe.tag!==6?(pe=bA(Se,ye.mode,Ve),pe.return=ye,pe):(pe=T(pe,Se),pe.return=ye,pe)}function he(ye,pe,Se,Ve){var Nt=Se.type;return Nt===b?Fe(ye,pe,Se.props.children,Ve,Se.key):pe!==null&&(pe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===I&&zh(Nt)===pe.type)?(pe=T(pe,Se.props),Jv(pe,Se),pe.return=ye,pe):(pe=aw(Se.type,Se.key,Se.props,null,ye.mode,Ve),Jv(pe,Se),pe.return=ye,pe)}function Ae(ye,pe,Se,Ve){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Se.containerInfo||pe.stateNode.implementation!==Se.implementation?(pe=wA(Se,ye.mode,Ve),pe.return=ye,pe):(pe=T(pe,Se.children||[]),pe.return=ye,pe)}function Fe(ye,pe,Se,Ve,Nt){return pe===null||pe.tag!==7?(pe=Lh(Se,ye.mode,Ve,Nt),pe.return=ye,pe):(pe=T(pe,Se),pe.return=ye,pe)}function ze(ye,pe,Se){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=bA(""+pe,ye.mode,Se),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return Se=aw(pe.type,pe.key,pe.props,null,ye.mode,Se),Jv(Se,pe),Se.return=ye,Se;case x:return pe=wA(pe,ye.mode,Se),pe.return=ye,pe;case I:return pe=zh(pe),ze(ye,pe,Se)}if(de(pe)||F(pe))return pe=Lh(pe,ye.mode,Se,null),pe.return=ye,pe;if(typeof pe.then=="function")return ze(ye,hw(pe),Se);if(pe.$$typeof===k)return ze(ye,cw(ye,pe),Se);mw(ye,pe)}return null}function Ce(ye,pe,Se,Ve){var Nt=pe!==null?pe.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Nt!==null?null:X(ye,pe,""+Se,Ve);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case v:return Se.key===Nt?he(ye,pe,Se,Ve):null;case x:return Se.key===Nt?Ae(ye,pe,Se,Ve):null;case I:return Se=zh(Se),Ce(ye,pe,Se,Ve)}if(de(Se)||F(Se))return Nt!==null?null:Fe(ye,pe,Se,Ve,null);if(typeof Se.then=="function")return Ce(ye,pe,hw(Se),Ve);if(Se.$$typeof===k)return Ce(ye,pe,cw(ye,Se),Ve);mw(ye,Se)}return null}function Re(ye,pe,Se,Ve,Nt){if(typeof Ve=="string"&&Ve!==""||typeof Ve=="number"||typeof Ve=="bigint")return ye=ye.get(Se)||null,X(pe,ye,""+Ve,Nt);if(typeof Ve=="object"&&Ve!==null){switch(Ve.$$typeof){case v:return ye=ye.get(Ve.key===null?Se:Ve.key)||null,he(pe,ye,Ve,Nt);case x:return ye=ye.get(Ve.key===null?Se:Ve.key)||null,Ae(pe,ye,Ve,Nt);case I:return Ve=zh(Ve),Re(ye,pe,Se,Ve,Nt)}if(de(Ve)||F(Ve))return ye=ye.get(Se)||null,Fe(pe,ye,Ve,Nt,null);if(typeof Ve.then=="function")return Re(ye,pe,Se,hw(Ve),Nt);if(Ve.$$typeof===k)return Re(ye,pe,Se,cw(pe,Ve),Nt);mw(pe,Ve)}return null}function vt(ye,pe,Se,Ve){for(var Nt=null,Ir=null,_t=pe,nr=pe=0,vr=null;_t!==null&&nr<Se.length;nr++){_t.index>nr?(vr=_t,_t=null):vr=_t.sibling;var Or=Ce(ye,_t,Se[nr],Ve);if(Or===null){_t===null&&(_t=vr);break}c&&_t&&Or.alternate===null&&d(ye,_t),pe=C(Or,pe,nr),Ir===null?Nt=Or:Ir.sibling=Or,Ir=Or,_t=vr}if(nr===Se.length)return p(ye,_t),_r&&Eu(ye,nr),Nt;if(_t===null){for(;nr<Se.length;nr++)_t=ze(ye,Se[nr],Ve),_t!==null&&(pe=C(_t,pe,nr),Ir===null?Nt=_t:Ir.sibling=_t,Ir=_t);return _r&&Eu(ye,nr),Nt}for(_t=y(_t);nr<Se.length;nr++)vr=Re(_t,ye,nr,Se[nr],Ve),vr!==null&&(c&&vr.alternate!==null&&_t.delete(vr.key===null?nr:vr.key),pe=C(vr,pe,nr),Ir===null?Nt=vr:Ir.sibling=vr,Ir=vr);return c&&_t.forEach(function(uf){return d(ye,uf)}),_r&&Eu(ye,nr),Nt}function Pt(ye,pe,Se,Ve){if(Se==null)throw Error(n(151));for(var Nt=null,Ir=null,_t=pe,nr=pe=0,vr=null,Or=Se.next();_t!==null&&!Or.done;nr++,Or=Se.next()){_t.index>nr?(vr=_t,_t=null):vr=_t.sibling;var uf=Ce(ye,_t,Or.value,Ve);if(uf===null){_t===null&&(_t=vr);break}c&&_t&&uf.alternate===null&&d(ye,_t),pe=C(uf,pe,nr),Ir===null?Nt=uf:Ir.sibling=uf,Ir=uf,_t=vr}if(Or.done)return p(ye,_t),_r&&Eu(ye,nr),Nt;if(_t===null){for(;!Or.done;nr++,Or=Se.next())Or=ze(ye,Or.value,Ve),Or!==null&&(pe=C(Or,pe,nr),Ir===null?Nt=Or:Ir.sibling=Or,Ir=Or);return _r&&Eu(ye,nr),Nt}for(_t=y(_t);!Or.done;nr++,Or=Se.next())Or=Re(_t,ye,nr,Or.value,Ve),Or!==null&&(c&&Or.alternate!==null&&_t.delete(Or.key===null?nr:Or.key),pe=C(Or,pe,nr),Ir===null?Nt=Or:Ir.sibling=Or,Ir=Or);return c&&_t.forEach(function(dfe){return d(ye,dfe)}),_r&&Eu(ye,nr),Nt}function vn(ye,pe,Se,Ve){if(typeof Se=="object"&&Se!==null&&Se.type===b&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case v:e:{for(var Nt=Se.key;pe!==null;){if(pe.key===Nt){if(Nt=Se.type,Nt===b){if(pe.tag===7){p(ye,pe.sibling),Ve=T(pe,Se.props.children),Ve.return=ye,ye=Ve;break e}}else if(pe.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===I&&zh(Nt)===pe.type){p(ye,pe.sibling),Ve=T(pe,Se.props),Jv(Ve,Se),Ve.return=ye,ye=Ve;break e}p(ye,pe);break}else d(ye,pe);pe=pe.sibling}Se.type===b?(Ve=Lh(Se.props.children,ye.mode,Ve,Se.key),Ve.return=ye,ye=Ve):(Ve=aw(Se.type,Se.key,Se.props,null,ye.mode,Ve),Jv(Ve,Se),Ve.return=ye,ye=Ve)}return B(ye);case x:e:{for(Nt=Se.key;pe!==null;){if(pe.key===Nt)if(pe.tag===4&&pe.stateNode.containerInfo===Se.containerInfo&&pe.stateNode.implementation===Se.implementation){p(ye,pe.sibling),Ve=T(pe,Se.children||[]),Ve.return=ye,ye=Ve;break e}else{p(ye,pe);break}else d(ye,pe);pe=pe.sibling}Ve=wA(Se,ye.mode,Ve),Ve.return=ye,ye=Ve}return B(ye);case I:return Se=zh(Se),vn(ye,pe,Se,Ve)}if(de(Se))return vt(ye,pe,Se,Ve);if(F(Se)){if(Nt=F(Se),typeof Nt!="function")throw Error(n(150));return Se=Nt.call(Se),Pt(ye,pe,Se,Ve)}if(typeof Se.then=="function")return vn(ye,pe,hw(Se),Ve);if(Se.$$typeof===k)return vn(ye,pe,cw(ye,Se),Ve);mw(ye,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,pe!==null&&pe.tag===6?(p(ye,pe.sibling),Ve=T(pe,Se),Ve.return=ye,ye=Ve):(p(ye,pe),Ve=bA(Se,ye.mode,Ve),Ve.return=ye,ye=Ve),B(ye)):p(ye,pe)}return function(ye,pe,Se,Ve){try{Qv=0;var Nt=vn(ye,pe,Se,Ve);return Km=null,Nt}catch(_t){if(_t===Gm||_t===dw)throw _t;var Ir=_o(29,_t,null,ye.mode);return Ir.lanes=Ve,Ir.return=ye,Ir}finally{}}}var Hh=LM(!0),FM=LM(!1),Wd=!1;function PA(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function jA(c,d){c=c.updateQueue,d.updateQueue===c&&(d.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Gd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Kd(c,d,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(zr&2)!==0){var T=y.pending;return T===null?d.next=d:(d.next=T.next,T.next=d),y.pending=d,d=sw(c),wM(c,null,p),d}return iw(c,y,d,p),sw(c)}function Zv(c,d,p){if(d=d.updateQueue,d!==null&&(d=d.shared,(p&4194048)!==0)){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,Zr(c,p)}}function DA(c,d){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var T=null,C=null;if(p=p.firstBaseUpdate,p!==null){do{var B={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};C===null?T=C=B:C=C.next=B,p=p.next}while(p!==null);C===null?T=C=d:C=C.next=d}else T=C=d;p={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:C,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=d:c.next=d,p.lastBaseUpdate=d}var MA=!1;function ey(){if(MA){var c=Wm;if(c!==null)throw c}}function ty(c,d,p,y){MA=!1;var T=c.updateQueue;Wd=!1;var C=T.firstBaseUpdate,B=T.lastBaseUpdate,X=T.shared.pending;if(X!==null){T.shared.pending=null;var he=X,Ae=he.next;he.next=null,B===null?C=Ae:B.next=Ae,B=he;var Fe=c.alternate;Fe!==null&&(Fe=Fe.updateQueue,X=Fe.lastBaseUpdate,X!==B&&(X===null?Fe.firstBaseUpdate=Ae:X.next=Ae,Fe.lastBaseUpdate=he))}if(C!==null){var ze=T.baseState;B=0,Fe=Ae=he=null,X=C;do{var Ce=X.lane&-536870913,Re=Ce!==X.lane;if(Re?(gr&Ce)===Ce:(y&Ce)===Ce){Ce!==0&&Ce===qm&&(MA=!0),Fe!==null&&(Fe=Fe.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var vt=c,Pt=X;Ce=d;var vn=p;switch(Pt.tag){case 1:if(vt=Pt.payload,typeof vt=="function"){ze=vt.call(vn,ze,Ce);break e}ze=vt;break e;case 3:vt.flags=vt.flags&-65537|128;case 0:if(vt=Pt.payload,Ce=typeof vt=="function"?vt.call(vn,ze,Ce):vt,Ce==null)break e;ze=h({},ze,Ce);break e;case 2:Wd=!0}}Ce=X.callback,Ce!==null&&(c.flags|=64,Re&&(c.flags|=8192),Re=T.callbacks,Re===null?T.callbacks=[Ce]:Re.push(Ce))}else Re={lane:Ce,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Fe===null?(Ae=Fe=Re,he=ze):Fe=Fe.next=Re,B|=Ce;if(X=X.next,X===null){if(X=T.shared.pending,X===null)break;Re=X,X=Re.next,Re.next=null,T.lastBaseUpdate=Re,T.shared.pending=null}}while(!0);Fe===null&&(he=ze),T.baseState=he,T.firstBaseUpdate=Ae,T.lastBaseUpdate=Fe,C===null&&(T.shared.lanes=0),Zd|=B,c.lanes=B,c.memoizedState=ze}}function BM(c,d){if(typeof c!="function")throw Error(n(191,c));c.call(d)}function UM(c,d){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)BM(p[c],d)}var Ym=q(null),pw=q(0);function VM(c,d){c=ju,V(pw,c),V(Ym,d),ju=c|d.baseLanes}function LA(){V(pw,ju),V(Ym,Ym.current)}function FA(){ju=pw.current,z(Ym),z(pw)}var Eo=q(null),al=null;function Yd(c){var d=c.alternate;V(Ci,Ci.current&1),V(Eo,c),al===null&&(d===null||Ym.current!==null||d.memoizedState!==null)&&(al=c)}function BA(c){V(Ci,Ci.current),V(Eo,c),al===null&&(al=c)}function zM(c){c.tag===22?(V(Ci,Ci.current),V(Eo,c),al===null&&(al=c)):Xd()}function Xd(){V(Ci,Ci.current),V(Eo,Eo.current)}function To(c){z(Eo),al===c&&(al=null),z(Ci)}var Ci=q(0);function gw(c){for(var d=c;d!==null;){if(d.tag===13){var p=d.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||qk(p)||Wk(p)))return d}else if(d.tag===19&&(d.memoizedProps.revealOrder==="forwards"||d.memoizedProps.revealOrder==="backwards"||d.memoizedProps.revealOrder==="unstable_legacy-backwards"||d.memoizedProps.revealOrder==="together")){if((d.flags&128)!==0)return d}else if(d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return null;d=d.return}d.sibling.return=d.return,d=d.sibling}return null}var Au=0,er=null,pn=null,$i=null,vw=!1,Xm=!1,qh=!1,yw=0,ry=0,Qm=null,tde=0;function yi(){throw Error(n(321))}function UA(c,d){if(d===null)return!1;for(var p=0;p<d.length&&p<c.length;p++)if(!wo(c[p],d[p]))return!1;return!0}function VA(c,d,p,y,T,C){return Au=C,er=d,d.memoizedState=null,d.updateQueue=null,d.lanes=0,J.H=c===null||c.memoizedState===null?SL:rk,qh=!1,C=p(y,T),qh=!1,Xm&&(C=HM(d,p,y,T)),$M(c),C}function $M(c){J.H=sy;var d=pn!==null&&pn.next!==null;if(Au=0,$i=pn=er=null,vw=!1,ry=0,Qm=null,d)throw Error(n(300));c===null||Hi||(c=c.dependencies,c!==null&&lw(c)&&(Hi=!0))}function HM(c,d,p,y){er=c;var T=0;do{if(Xm&&(Qm=null),ry=0,Xm=!1,25<=T)throw Error(n(301));if(T+=1,$i=pn=null,c.updateQueue!=null){var C=c.updateQueue;C.lastEffect=null,C.events=null,C.stores=null,C.memoCache!=null&&(C.memoCache.index=0)}J.H=AL,C=d(p,y)}while(Xm);return C}function rde(){var c=J.H,d=c.useState()[0];return d=typeof d.then=="function"?ny(d):d,c=c.useState()[0],(pn!==null?pn.memoizedState:null)!==c&&(er.flags|=1024),d}function zA(){var c=yw!==0;return yw=0,c}function $A(c,d,p){d.updateQueue=c.updateQueue,d.flags&=-2053,c.lanes&=~p}function HA(c){if(vw){for(c=c.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}vw=!1}Au=0,$i=pn=er=null,Xm=!1,ry=yw=0,Qm=null}function ja(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return $i===null?er.memoizedState=$i=c:$i=$i.next=c,$i}function Ni(){if(pn===null){var c=er.alternate;c=c!==null?c.memoizedState:null}else c=pn.next;var d=$i===null?er.memoizedState:$i.next;if(d!==null)$i=d,pn=c;else{if(c===null)throw er.alternate===null?Error(n(467)):Error(n(310));pn=c,c={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},$i===null?er.memoizedState=$i=c:$i=$i.next=c}return $i}function xw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ny(c){var d=ry;return ry+=1,Qm===null&&(Qm=[]),c=jM(Qm,c,d),d=er,($i===null?d.memoizedState:$i.next)===null&&(d=d.alternate,J.H=d===null||d.memoizedState===null?SL:rk),c}function bw(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ny(c);if(c.$$typeof===k)return Hs(c)}throw Error(n(438,String(c)))}function qA(c){var d=null,p=er.updateQueue;if(p!==null&&(d=p.memoCache),d==null){var y=er.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(d={data:y.data.map(function(T){return T.slice()}),index:0})))}if(d==null&&(d={data:[],index:0}),p===null&&(p=xw(),er.updateQueue=p),p.memoCache=d,p=d.data[d.index],p===void 0)for(p=d.data[d.index]=Array(c),y=0;y<c;y++)p[y]=D;return d.index++,p}function ku(c,d){return typeof d=="function"?d(c):d}function ww(c){var d=Ni();return WA(d,pn,c)}function WA(c,d,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var T=c.baseQueue,C=y.pending;if(C!==null){if(T!==null){var B=T.next;T.next=C.next,C.next=B}d.baseQueue=T=C,y.pending=null}if(C=c.baseState,T===null)c.memoizedState=C;else{d=T.next;var X=B=null,he=null,Ae=d,Fe=!1;do{var ze=Ae.lane&-536870913;if(ze!==Ae.lane?(gr&ze)===ze:(Au&ze)===ze){var Ce=Ae.revertLane;if(Ce===0)he!==null&&(he=he.next={lane:0,revertLane:0,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null}),ze===qm&&(Fe=!0);else if((Au&Ce)===Ce){Ae=Ae.next,Ce===qm&&(Fe=!0);continue}else ze={lane:0,revertLane:Ae.revertLane,gesture:null,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},he===null?(X=he=ze,B=C):he=he.next=ze,er.lanes|=Ce,Zd|=Ce;ze=Ae.action,qh&&p(C,ze),C=Ae.hasEagerState?Ae.eagerState:p(C,ze)}else Ce={lane:ze,revertLane:Ae.revertLane,gesture:Ae.gesture,action:Ae.action,hasEagerState:Ae.hasEagerState,eagerState:Ae.eagerState,next:null},he===null?(X=he=Ce,B=C):he=he.next=Ce,er.lanes|=ze,Zd|=ze;Ae=Ae.next}while(Ae!==null&&Ae!==d);if(he===null?B=C:he.next=X,!wo(C,c.memoizedState)&&(Hi=!0,Fe&&(p=Wm,p!==null)))throw p;c.memoizedState=C,c.baseState=B,c.baseQueue=he,y.lastRenderedState=C}return T===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function GA(c){var d=Ni(),p=d.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,T=p.pending,C=d.memoizedState;if(T!==null){p.pending=null;var B=T=T.next;do C=c(C,B.action),B=B.next;while(B!==T);wo(C,d.memoizedState)||(Hi=!0),d.memoizedState=C,d.baseQueue===null&&(d.baseState=C),p.lastRenderedState=C}return[C,y]}function qM(c,d,p){var y=er,T=Ni(),C=_r;if(C){if(p===void 0)throw Error(n(407));p=p()}else p=d();var B=!wo((pn||T).memoizedState,p);if(B&&(T.memoizedState=p,Hi=!0),T=T.queue,XA(KM.bind(null,y,T,c),[c]),T.getSnapshot!==d||B||$i!==null&&$i.memoizedState.tag&1){if(y.flags|=2048,Jm(9,{destroy:void 0},GM.bind(null,y,T,p,d),null),An===null)throw Error(n(349));C||(Au&127)!==0||WM(y,d,p)}return p}function WM(c,d,p){c.flags|=16384,c={getSnapshot:d,value:p},d=er.updateQueue,d===null?(d=xw(),er.updateQueue=d,d.stores=[c]):(p=d.stores,p===null?d.stores=[c]:p.push(c))}function GM(c,d,p,y){d.value=p,d.getSnapshot=y,YM(d)&&XM(c)}function KM(c,d,p){return p(function(){YM(d)&&XM(c)})}function YM(c){var d=c.getSnapshot;c=c.value;try{var p=d();return!wo(c,p)}catch{return!0}}function XM(c){var d=Mh(c,2);d!==null&&Za(d,c,2)}function KA(c){var d=ja();if(typeof c=="function"){var p=c;if(c=p(),qh){Fi(!0);try{p()}finally{Fi(!1)}}}return d.memoizedState=d.baseState=c,d.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:c},d}function QM(c,d,p,y){return c.baseState=p,WA(c,pn,typeof y=="function"?y:ku)}function nde(c,d,p,y,T){if(Tw(c))throw Error(n(485));if(c=d.action,c!==null){var C={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(B){C.listeners.push(B)}};J.T!==null?p(!0):C.isTransition=!1,y(C),p=d.pending,p===null?(C.next=d.pending=C,JM(d,C)):(C.next=p.next,d.pending=p.next=C)}}function JM(c,d){var p=d.action,y=d.payload,T=c.state;if(d.isTransition){var C=J.T,B={};J.T=B;try{var X=p(T,y),he=J.S;he!==null&&he(B,X),ZM(c,d,X)}catch(Ae){YA(c,d,Ae)}finally{C!==null&&B.types!==null&&(C.types=B.types),J.T=C}}else try{C=p(T,y),ZM(c,d,C)}catch(Ae){YA(c,d,Ae)}}function ZM(c,d,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){eL(c,d,y)},function(y){return YA(c,d,y)}):eL(c,d,p)}function eL(c,d,p){d.status="fulfilled",d.value=p,tL(d),c.state=p,d=c.pending,d!==null&&(p=d.next,p===d?c.pending=null:(p=p.next,d.next=p,JM(c,p)))}function YA(c,d,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do d.status="rejected",d.reason=p,tL(d),d=d.next;while(d!==y)}c.action=null}function tL(c){c=c.listeners;for(var d=0;d<c.length;d++)(0,c[d])()}function rL(c,d){return d}function nL(c,d){if(_r){var p=An.formState;if(p!==null){e:{var y=er;if(_r){if(Mn){t:{for(var T=Mn,C=sl;T.nodeType!==8;){if(!C){T=null;break t}if(T=ol(T.nextSibling),T===null){T=null;break t}}C=T.data,T=C==="F!"||C==="F"?T:null}if(T){Mn=ol(T.nextSibling),y=T.data==="F!";break e}}Hd(y)}y=!1}y&&(d=p[0])}}return p=ja(),p.memoizedState=p.baseState=d,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:rL,lastRenderedState:d},p.queue=y,p=_L.bind(null,er,y),y.dispatch=p,y=KA(!1),C=tk.bind(null,er,!1,y.queue),y=ja(),T={state:d,dispatch:null,action:c,pending:null},y.queue=T,p=nde.bind(null,er,T,C,p),T.dispatch=p,y.memoizedState=c,[d,p,!1]}function iL(c){var d=Ni();return sL(d,pn,c)}function sL(c,d,p){if(d=WA(c,d,rL)[0],c=ww(ku)[0],typeof d=="object"&&d!==null&&typeof d.then=="function")try{var y=ny(d)}catch(B){throw B===Gm?dw:B}else y=d;d=Ni();var T=d.queue,C=T.dispatch;return p!==d.memoizedState&&(er.flags|=2048,Jm(9,{destroy:void 0},ide.bind(null,T,p),null)),[y,C,c]}function ide(c,d){c.action=d}function aL(c){var d=Ni(),p=pn;if(p!==null)return sL(d,p,c);Ni(),d=d.memoizedState,p=Ni();var y=p.queue.dispatch;return p.memoizedState=c,[d,y,!1]}function Jm(c,d,p,y){return c={tag:c,create:p,deps:y,inst:d,next:null},d=er.updateQueue,d===null&&(d=xw(),er.updateQueue=d),p=d.lastEffect,p===null?d.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,d.lastEffect=c),c}function oL(){return Ni().memoizedState}function _w(c,d,p,y){var T=ja();er.flags|=c,T.memoizedState=Jm(1|d,{destroy:void 0},p,y===void 0?null:y)}function Ew(c,d,p,y){var T=Ni();y=y===void 0?null:y;var C=T.memoizedState.inst;pn!==null&&y!==null&&UA(y,pn.memoizedState.deps)?T.memoizedState=Jm(d,C,p,y):(er.flags|=c,T.memoizedState=Jm(1|d,C,p,y))}function lL(c,d){_w(8390656,8,c,d)}function XA(c,d){Ew(2048,8,c,d)}function sde(c){er.flags|=4;var d=er.updateQueue;if(d===null)d=xw(),er.updateQueue=d,d.events=[c];else{var p=d.events;p===null?d.events=[c]:p.push(c)}}function cL(c){var d=Ni().memoizedState;return sde({ref:d,nextImpl:c}),function(){if((zr&2)!==0)throw Error(n(440));return d.impl.apply(void 0,arguments)}}function uL(c,d){return Ew(4,2,c,d)}function dL(c,d){return Ew(4,4,c,d)}function fL(c,d){if(typeof d=="function"){c=c();var p=d(c);return function(){typeof p=="function"?p():d(null)}}if(d!=null)return c=c(),d.current=c,function(){d.current=null}}function hL(c,d,p){p=p!=null?p.concat([c]):null,Ew(4,4,fL.bind(null,d,c),p)}function QA(){}function mL(c,d){var p=Ni();d=d===void 0?null:d;var y=p.memoizedState;return d!==null&&UA(d,y[1])?y[0]:(p.memoizedState=[c,d],c)}function pL(c,d){var p=Ni();d=d===void 0?null:d;var y=p.memoizedState;if(d!==null&&UA(d,y[1]))return y[0];if(y=c(),qh){Fi(!0);try{c()}finally{Fi(!1)}}return p.memoizedState=[y,d],y}function JA(c,d,p){return p===void 0||(Au&1073741824)!==0&&(gr&261930)===0?c.memoizedState=d:(c.memoizedState=p,c=g7(),er.lanes|=c,Zd|=c,p)}function gL(c,d,p,y){return wo(p,d)?p:Ym.current!==null?(c=JA(c,p,y),wo(c,d)||(Hi=!0),c):(Au&42)===0||(Au&1073741824)!==0&&(gr&261930)===0?(Hi=!0,c.memoizedState=p):(c=g7(),er.lanes|=c,Zd|=c,d)}function vL(c,d,p,y,T){var C=Q.p;Q.p=C!==0&&8>C?C:8;var B=J.T,X={};J.T=X,tk(c,!1,d,p);try{var he=T(),Ae=J.S;if(Ae!==null&&Ae(X,he),he!==null&&typeof he=="object"&&typeof he.then=="function"){var Fe=ede(he,y);iy(c,d,Fe,ko(c))}else iy(c,d,y,ko(c))}catch(ze){iy(c,d,{then:function(){},status:"rejected",reason:ze},ko())}finally{Q.p=C,B!==null&&X.types!==null&&(B.types=X.types),J.T=B}}function ade(){}function ZA(c,d,p,y){if(c.tag!==5)throw Error(n(476));var T=yL(c).queue;vL(c,T,d,fe,p===null?ade:function(){return xL(c),p(y)})}function yL(c){var d=c.memoizedState;if(d!==null)return d;d={memoizedState:fe,baseState:fe,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:fe},next:null};var p={};return d.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:ku,lastRenderedState:p},next:null},c.memoizedState=d,c=c.alternate,c!==null&&(c.memoizedState=d),d}function xL(c){var d=yL(c);d.next===null&&(d=c.alternate.memoizedState),iy(c,d.next.queue,{},ko())}function ek(){return Hs(wy)}function bL(){return Ni().memoizedState}function wL(){return Ni().memoizedState}function ode(c){for(var d=c.return;d!==null;){switch(d.tag){case 24:case 3:var p=ko();c=Gd(p);var y=Kd(d,c,p);y!==null&&(Za(y,d,p),Zv(y,d,p)),d={cache:NA()},c.payload=d;return}d=d.return}}function lde(c,d,p){var y=ko();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Tw(c)?EL(d,p):(p=yA(c,d,p,y),p!==null&&(Za(p,c,y),TL(p,d,y)))}function _L(c,d,p){var y=ko();iy(c,d,p,y)}function iy(c,d,p,y){var T={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Tw(c))EL(d,T);else{var C=c.alternate;if(c.lanes===0&&(C===null||C.lanes===0)&&(C=d.lastRenderedReducer,C!==null))try{var B=d.lastRenderedState,X=C(B,p);if(T.hasEagerState=!0,T.eagerState=X,wo(X,B))return iw(c,d,T,0),An===null&&nw(),!1}catch{}finally{}if(p=yA(c,d,T,y),p!==null)return Za(p,c,y),TL(p,d,y),!0}return!1}function tk(c,d,p,y){if(y={lane:2,revertLane:Pk(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Tw(c)){if(d)throw Error(n(479))}else d=yA(c,p,y,2),d!==null&&Za(d,c,2)}function Tw(c){var d=c.alternate;return c===er||d!==null&&d===er}function EL(c,d){Xm=vw=!0;var p=c.pending;p===null?d.next=d:(d.next=p.next,p.next=d),c.pending=d}function TL(c,d,p){if((p&4194048)!==0){var y=d.lanes;y&=c.pendingLanes,p|=y,d.lanes=p,Zr(c,p)}}var sy={readContext:Hs,use:bw,useCallback:yi,useContext:yi,useEffect:yi,useImperativeHandle:yi,useLayoutEffect:yi,useInsertionEffect:yi,useMemo:yi,useReducer:yi,useRef:yi,useState:yi,useDebugValue:yi,useDeferredValue:yi,useTransition:yi,useSyncExternalStore:yi,useId:yi,useHostTransitionStatus:yi,useFormState:yi,useActionState:yi,useOptimistic:yi,useMemoCache:yi,useCacheRefresh:yi};sy.useEffectEvent=yi;var SL={readContext:Hs,use:bw,useCallback:function(c,d){return ja().memoizedState=[c,d===void 0?null:d],c},useContext:Hs,useEffect:lL,useImperativeHandle:function(c,d,p){p=p!=null?p.concat([c]):null,_w(4194308,4,fL.bind(null,d,c),p)},useLayoutEffect:function(c,d){return _w(4194308,4,c,d)},useInsertionEffect:function(c,d){_w(4,2,c,d)},useMemo:function(c,d){var p=ja();d=d===void 0?null:d;var y=c();if(qh){Fi(!0);try{c()}finally{Fi(!1)}}return p.memoizedState=[y,d],y},useReducer:function(c,d,p){var y=ja();if(p!==void 0){var T=p(d);if(qh){Fi(!0);try{p(d)}finally{Fi(!1)}}}else T=d;return y.memoizedState=y.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},y.queue=c,c=c.dispatch=lde.bind(null,er,c),[y.memoizedState,c]},useRef:function(c){var d=ja();return c={current:c},d.memoizedState=c},useState:function(c){c=KA(c);var d=c.queue,p=_L.bind(null,er,d);return d.dispatch=p,[c.memoizedState,p]},useDebugValue:QA,useDeferredValue:function(c,d){var p=ja();return JA(p,c,d)},useTransition:function(){var c=KA(!1);return c=vL.bind(null,er,c.queue,!0,!1),ja().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,d,p){var y=er,T=ja();if(_r){if(p===void 0)throw Error(n(407));p=p()}else{if(p=d(),An===null)throw Error(n(349));(gr&127)!==0||WM(y,d,p)}T.memoizedState=p;var C={value:p,getSnapshot:d};return T.queue=C,lL(KM.bind(null,y,C,c),[c]),y.flags|=2048,Jm(9,{destroy:void 0},GM.bind(null,y,C,p,d),null),p},useId:function(){var c=ja(),d=An.identifierPrefix;if(_r){var p=jc,y=Pc;p=(y&~(1<<32-Xr(y)-1)).toString(32)+p,d="_"+d+"R_"+p,p=yw++,0<p&&(d+="H"+p.toString(32)),d+="_"}else p=tde++,d="_"+d+"r_"+p.toString(32)+"_";return c.memoizedState=d},useHostTransitionStatus:ek,useFormState:nL,useActionState:nL,useOptimistic:function(c){var d=ja();d.memoizedState=d.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return d.queue=p,d=tk.bind(null,er,!0,p),p.dispatch=d,[c,d]},useMemoCache:qA,useCacheRefresh:function(){return ja().memoizedState=ode.bind(null,er)},useEffectEvent:function(c){var d=ja(),p={impl:c};return d.memoizedState=p,function(){if((zr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},rk={readContext:Hs,use:bw,useCallback:mL,useContext:Hs,useEffect:XA,useImperativeHandle:hL,useInsertionEffect:uL,useLayoutEffect:dL,useMemo:pL,useReducer:ww,useRef:oL,useState:function(){return ww(ku)},useDebugValue:QA,useDeferredValue:function(c,d){var p=Ni();return gL(p,pn.memoizedState,c,d)},useTransition:function(){var c=ww(ku)[0],d=Ni().memoizedState;return[typeof c=="boolean"?c:ny(c),d]},useSyncExternalStore:qM,useId:bL,useHostTransitionStatus:ek,useFormState:iL,useActionState:iL,useOptimistic:function(c,d){var p=Ni();return QM(p,pn,c,d)},useMemoCache:qA,useCacheRefresh:wL};rk.useEffectEvent=cL;var AL={readContext:Hs,use:bw,useCallback:mL,useContext:Hs,useEffect:XA,useImperativeHandle:hL,useInsertionEffect:uL,useLayoutEffect:dL,useMemo:pL,useReducer:GA,useRef:oL,useState:function(){return GA(ku)},useDebugValue:QA,useDeferredValue:function(c,d){var p=Ni();return pn===null?JA(p,c,d):gL(p,pn.memoizedState,c,d)},useTransition:function(){var c=GA(ku)[0],d=Ni().memoizedState;return[typeof c=="boolean"?c:ny(c),d]},useSyncExternalStore:qM,useId:bL,useHostTransitionStatus:ek,useFormState:aL,useActionState:aL,useOptimistic:function(c,d){var p=Ni();return pn!==null?QM(p,pn,c,d):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:qA,useCacheRefresh:wL};AL.useEffectEvent=cL;function nk(c,d,p,y){d=c.memoizedState,p=p(y,d),p=p==null?d:h({},d,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var ik={enqueueSetState:function(c,d,p){c=c._reactInternals;var y=ko(),T=Gd(y);T.payload=d,p!=null&&(T.callback=p),d=Kd(c,T,y),d!==null&&(Za(d,c,y),Zv(d,c,y))},enqueueReplaceState:function(c,d,p){c=c._reactInternals;var y=ko(),T=Gd(y);T.tag=1,T.payload=d,p!=null&&(T.callback=p),d=Kd(c,T,y),d!==null&&(Za(d,c,y),Zv(d,c,y))},enqueueForceUpdate:function(c,d){c=c._reactInternals;var p=ko(),y=Gd(p);y.tag=2,d!=null&&(y.callback=d),d=Kd(c,y,p),d!==null&&(Za(d,c,p),Zv(d,c,p))}};function kL(c,d,p,y,T,C,B){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,C,B):d.prototype&&d.prototype.isPureReactComponent?!qv(p,y)||!qv(T,C):!0}function CL(c,d,p,y){c=d.state,typeof d.componentWillReceiveProps=="function"&&d.componentWillReceiveProps(p,y),typeof d.UNSAFE_componentWillReceiveProps=="function"&&d.UNSAFE_componentWillReceiveProps(p,y),d.state!==c&&ik.enqueueReplaceState(d,d.state,null)}function Wh(c,d){var p=d;if("ref"in d){p={};for(var y in d)y!=="ref"&&(p[y]=d[y])}if(c=c.defaultProps){p===d&&(p=h({},p));for(var T in c)p[T]===void 0&&(p[T]=c[T])}return p}function NL(c){rw(c)}function IL(c){console.error(c)}function OL(c){rw(c)}function Sw(c,d){try{var p=c.onUncaughtError;p(d.value,{componentStack:d.stack})}catch(y){setTimeout(function(){throw y})}}function RL(c,d,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:d.tag===1?d.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function sk(c,d,p){return p=Gd(p),p.tag=3,p.payload={element:null},p.callback=function(){Sw(c,d)},p}function PL(c){return c=Gd(c),c.tag=3,c}function jL(c,d,p,y){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var C=y.value;c.payload=function(){return T(C)},c.callback=function(){RL(d,p,y)}}var B=p.stateNode;B!==null&&typeof B.componentDidCatch=="function"&&(c.callback=function(){RL(d,p,y),typeof T!="function"&&(ef===null?ef=new Set([this]):ef.add(this));var X=y.stack;this.componentDidCatch(y.value,{componentStack:X!==null?X:""})})}function cde(c,d,p,y,T){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(d=p.alternate,d!==null&&Hm(d,p,T,!0),p=Eo.current,p!==null){switch(p.tag){case 31:case 13:return al===null?Lw():p.alternate===null&&xi===0&&(xi=3),p.flags&=-257,p.flags|=65536,p.lanes=T,y===fw?p.flags|=16384:(d=p.updateQueue,d===null?p.updateQueue=new Set([y]):d.add(y),Ik(c,y,T)),!1;case 22:return p.flags|=65536,y===fw?p.flags|=16384:(d=p.updateQueue,d===null?(d={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=d):(p=d.retryQueue,p===null?d.retryQueue=new Set([y]):p.add(y)),Ik(c,y,T)),!1}throw Error(n(435,p.tag))}return Ik(c,y,T),Lw(),!1}if(_r)return d=Eo.current,d!==null?((d.flags&65536)===0&&(d.flags|=256),d.flags|=65536,d.lanes=T,y!==TA&&(c=Error(n(422),{cause:y}),Kv(rl(c,p)))):(y!==TA&&(d=Error(n(423),{cause:y}),Kv(rl(d,p))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,y=rl(y,p),T=sk(c.stateNode,y,T),DA(c,T),xi!==4&&(xi=2)),!1;var C=Error(n(520),{cause:y});if(C=rl(C,p),hy===null?hy=[C]:hy.push(C),xi!==4&&(xi=2),d===null)return!0;y=rl(y,p),p=d;do{switch(p.tag){case 3:return p.flags|=65536,c=T&-T,p.lanes|=c,c=sk(p.stateNode,y,c),DA(p,c),!1;case 1:if(d=p.type,C=p.stateNode,(p.flags&128)===0&&(typeof d.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(ef===null||!ef.has(C))))return p.flags|=65536,T&=-T,p.lanes|=T,T=PL(T),jL(T,c,p,y),DA(p,T),!1}p=p.return}while(p!==null);return!1}var ak=Error(n(461)),Hi=!1;function qs(c,d,p,y){d.child=c===null?FM(d,null,p,y):Hh(d,c.child,p,y)}function DL(c,d,p,y,T){p=p.render;var C=d.ref;if("ref"in y){var B={};for(var X in y)X!=="ref"&&(B[X]=y[X])}else B=y;return Uh(d),y=VA(c,d,p,B,C,T),X=zA(),c!==null&&!Hi?($A(c,d,T),Cu(c,d,T)):(_r&&X&&_A(d),d.flags|=1,qs(c,d,y,T),d.child)}function ML(c,d,p,y,T){if(c===null){var C=p.type;return typeof C=="function"&&!xA(C)&&C.defaultProps===void 0&&p.compare===null?(d.tag=15,d.type=C,LL(c,d,C,y,T)):(c=aw(p.type,null,y,d,d.mode,T),c.ref=d.ref,c.return=d,d.child=c)}if(C=c.child,!mk(c,T)){var B=C.memoizedProps;if(p=p.compare,p=p!==null?p:qv,p(B,y)&&c.ref===d.ref)return Cu(c,d,T)}return d.flags|=1,c=_u(C,y),c.ref=d.ref,c.return=d,d.child=c}function LL(c,d,p,y,T){if(c!==null){var C=c.memoizedProps;if(qv(C,y)&&c.ref===d.ref)if(Hi=!1,d.pendingProps=y=C,mk(c,T))(c.flags&131072)!==0&&(Hi=!0);else return d.lanes=c.lanes,Cu(c,d,T)}return ok(c,d,p,y,T)}function FL(c,d,p,y){var T=y.children,C=c!==null?c.memoizedState:null;if(c===null&&d.stateNode===null&&(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((d.flags&128)!==0){if(C=C!==null?C.baseLanes|p:p,c!==null){for(y=d.child=c.child,T=0;y!==null;)T=T|y.lanes|y.childLanes,y=y.sibling;y=T&~C}else y=0,d.child=null;return BL(c,d,C,p,y)}if((p&536870912)!==0)d.memoizedState={baseLanes:0,cachePool:null},c!==null&&uw(d,C!==null?C.cachePool:null),C!==null?VM(d,C):LA(),zM(d);else return y=d.lanes=536870912,BL(c,d,C!==null?C.baseLanes|p:p,p,y)}else C!==null?(uw(d,C.cachePool),VM(d,C),Xd(),d.memoizedState=null):(c!==null&&uw(d,null),LA(),Xd());return qs(c,d,T,p),d.child}function ay(c,d){return c!==null&&c.tag===22||d.stateNode!==null||(d.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),d.sibling}function BL(c,d,p,y,T){var C=OA();return C=C===null?null:{parent:zi._currentValue,pool:C},d.memoizedState={baseLanes:p,cachePool:C},c!==null&&uw(d,null),LA(),zM(d),c!==null&&Hm(c,d,y,!0),d.childLanes=T,null}function Aw(c,d){return d=Cw({mode:d.mode,children:d.children},c.mode),d.ref=c.ref,c.child=d,d.return=c,d}function UL(c,d,p){return Hh(d,c.child,null,p),c=Aw(d,d.pendingProps),c.flags|=2,To(d),d.memoizedState=null,c}function ude(c,d,p){var y=d.pendingProps,T=(d.flags&128)!==0;if(d.flags&=-129,c===null){if(_r){if(y.mode==="hidden")return c=Aw(d,y),d.lanes=536870912,ay(null,c);if(BA(d),(c=Mn)?(c=J7(c,sl),c=c!==null&&c.data==="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:zd!==null?{id:Pc,overflow:jc}:null,retryLane:536870912,hydrationErrors:null},p=EM(c),p.return=d,d.child=p,$s=d,Mn=null)):c=null,c===null)throw Hd(d);return d.lanes=536870912,null}return Aw(d,y)}var C=c.memoizedState;if(C!==null){var B=C.dehydrated;if(BA(d),T)if(d.flags&256)d.flags&=-257,d=UL(c,d,p);else if(d.memoizedState!==null)d.child=c.child,d.flags|=128,d=null;else throw Error(n(558));else if(Hi||Hm(c,d,p,!1),T=(p&c.childLanes)!==0,Hi||T){if(y=An,y!==null&&(B=Ai(y,p),B!==0&&B!==C.retryLane))throw C.retryLane=B,Mh(c,B),Za(y,c,B),ak;Lw(),d=UL(c,d,p)}else c=C.treeContext,Mn=ol(B.nextSibling),$s=d,_r=!0,$d=null,sl=!1,c!==null&&AM(d,c),d=Aw(d,y),d.flags|=4096;return d}return c=_u(c.child,{mode:y.mode,children:y.children}),c.ref=d.ref,d.child=c,c.return=d,c}function kw(c,d){var p=d.ref;if(p===null)c!==null&&c.ref!==null&&(d.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(d.flags|=4194816)}}function ok(c,d,p,y,T){return Uh(d),p=VA(c,d,p,y,void 0,T),y=zA(),c!==null&&!Hi?($A(c,d,T),Cu(c,d,T)):(_r&&y&&_A(d),d.flags|=1,qs(c,d,p,T),d.child)}function VL(c,d,p,y,T,C){return Uh(d),d.updateQueue=null,p=HM(d,y,p,T),$M(c),y=zA(),c!==null&&!Hi?($A(c,d,C),Cu(c,d,C)):(_r&&y&&_A(d),d.flags|=1,qs(c,d,p,C),d.child)}function zL(c,d,p,y,T){if(Uh(d),d.stateNode===null){var C=Um,B=p.contextType;typeof B=="object"&&B!==null&&(C=Hs(B)),C=new p(y,C),d.memoizedState=C.state!==null&&C.state!==void 0?C.state:null,C.updater=ik,d.stateNode=C,C._reactInternals=d,C=d.stateNode,C.props=y,C.state=d.memoizedState,C.refs={},PA(d),B=p.contextType,C.context=typeof B=="object"&&B!==null?Hs(B):Um,C.state=d.memoizedState,B=p.getDerivedStateFromProps,typeof B=="function"&&(nk(d,p,B,y),C.state=d.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof C.getSnapshotBeforeUpdate=="function"||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(B=C.state,typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount(),B!==C.state&&ik.enqueueReplaceState(C,C.state,null),ty(d,y,C,T),ey(),C.state=d.memoizedState),typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!0}else if(c===null){C=d.stateNode;var X=d.memoizedProps,he=Wh(p,X);C.props=he;var Ae=C.context,Fe=p.contextType;B=Um,typeof Fe=="object"&&Fe!==null&&(B=Hs(Fe));var ze=p.getDerivedStateFromProps;Fe=typeof ze=="function"||typeof C.getSnapshotBeforeUpdate=="function",X=d.pendingProps!==X,Fe||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(X||Ae!==B)&&CL(d,C,y,B),Wd=!1;var Ce=d.memoizedState;C.state=Ce,ty(d,y,C,T),ey(),Ae=d.memoizedState,X||Ce!==Ae||Wd?(typeof ze=="function"&&(nk(d,p,ze,y),Ae=d.memoizedState),(he=Wd||kL(d,p,he,y,Ce,Ae,B))?(Fe||typeof C.UNSAFE_componentWillMount!="function"&&typeof C.componentWillMount!="function"||(typeof C.componentWillMount=="function"&&C.componentWillMount(),typeof C.UNSAFE_componentWillMount=="function"&&C.UNSAFE_componentWillMount()),typeof C.componentDidMount=="function"&&(d.flags|=4194308)):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),d.memoizedProps=y,d.memoizedState=Ae),C.props=y,C.state=Ae,C.context=B,y=he):(typeof C.componentDidMount=="function"&&(d.flags|=4194308),y=!1)}else{C=d.stateNode,jA(c,d),B=d.memoizedProps,Fe=Wh(p,B),C.props=Fe,ze=d.pendingProps,Ce=C.context,Ae=p.contextType,he=Um,typeof Ae=="object"&&Ae!==null&&(he=Hs(Ae)),X=p.getDerivedStateFromProps,(Ae=typeof X=="function"||typeof C.getSnapshotBeforeUpdate=="function")||typeof C.UNSAFE_componentWillReceiveProps!="function"&&typeof C.componentWillReceiveProps!="function"||(B!==ze||Ce!==he)&&CL(d,C,y,he),Wd=!1,Ce=d.memoizedState,C.state=Ce,ty(d,y,C,T),ey();var Re=d.memoizedState;B!==ze||Ce!==Re||Wd||c!==null&&c.dependencies!==null&&lw(c.dependencies)?(typeof X=="function"&&(nk(d,p,X,y),Re=d.memoizedState),(Fe=Wd||kL(d,p,Fe,y,Ce,Re,he)||c!==null&&c.dependencies!==null&&lw(c.dependencies))?(Ae||typeof C.UNSAFE_componentWillUpdate!="function"&&typeof C.componentWillUpdate!="function"||(typeof C.componentWillUpdate=="function"&&C.componentWillUpdate(y,Re,he),typeof C.UNSAFE_componentWillUpdate=="function"&&C.UNSAFE_componentWillUpdate(y,Re,he)),typeof C.componentDidUpdate=="function"&&(d.flags|=4),typeof C.getSnapshotBeforeUpdate=="function"&&(d.flags|=1024)):(typeof C.componentDidUpdate!="function"||B===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=1024),d.memoizedProps=y,d.memoizedState=Re),C.props=y,C.state=Re,C.context=he,y=Fe):(typeof C.componentDidUpdate!="function"||B===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=4),typeof C.getSnapshotBeforeUpdate!="function"||B===c.memoizedProps&&Ce===c.memoizedState||(d.flags|=1024),y=!1)}return C=y,kw(c,d),y=(d.flags&128)!==0,C||y?(C=d.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:C.render(),d.flags|=1,c!==null&&y?(d.child=Hh(d,c.child,null,T),d.child=Hh(d,null,p,T)):qs(c,d,p,T),d.memoizedState=C.state,c=d.child):c=Cu(c,d,T),c}function $L(c,d,p,y){return Fh(),d.flags|=256,qs(c,d,p,y),d.child}var lk={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function ck(c){return{baseLanes:c,cachePool:RM()}}function uk(c,d,p){return c=c!==null?c.childLanes&~p:0,d&&(c|=Ao),c}function HL(c,d,p){var y=d.pendingProps,T=!1,C=(d.flags&128)!==0,B;if((B=C)||(B=c!==null&&c.memoizedState===null?!1:(Ci.current&2)!==0),B&&(T=!0,d.flags&=-129),B=(d.flags&32)!==0,d.flags&=-33,c===null){if(_r){if(T?Yd(d):Xd(),(c=Mn)?(c=J7(c,sl),c=c!==null&&c.data!=="&"?c:null,c!==null&&(d.memoizedState={dehydrated:c,treeContext:zd!==null?{id:Pc,overflow:jc}:null,retryLane:536870912,hydrationErrors:null},p=EM(c),p.return=d,d.child=p,$s=d,Mn=null)):c=null,c===null)throw Hd(d);return Wk(c)?d.lanes=32:d.lanes=536870912,null}var X=y.children;return y=y.fallback,T?(Xd(),T=d.mode,X=Cw({mode:"hidden",children:X},T),y=Lh(y,T,p,null),X.return=d,y.return=d,X.sibling=y,d.child=X,y=d.child,y.memoizedState=ck(p),y.childLanes=uk(c,B,p),d.memoizedState=lk,ay(null,y)):(Yd(d),dk(d,X))}var he=c.memoizedState;if(he!==null&&(X=he.dehydrated,X!==null)){if(C)d.flags&256?(Yd(d),d.flags&=-257,d=fk(c,d,p)):d.memoizedState!==null?(Xd(),d.child=c.child,d.flags|=128,d=null):(Xd(),X=y.fallback,T=d.mode,y=Cw({mode:"visible",children:y.children},T),X=Lh(X,T,p,null),X.flags|=2,y.return=d,X.return=d,y.sibling=X,d.child=y,Hh(d,c.child,null,p),y=d.child,y.memoizedState=ck(p),y.childLanes=uk(c,B,p),d.memoizedState=lk,d=ay(null,y));else if(Yd(d),Wk(X)){if(B=X.nextSibling&&X.nextSibling.dataset,B)var Ae=B.dgst;B=Ae,y=Error(n(419)),y.stack="",y.digest=B,Kv({value:y,source:null,stack:null}),d=fk(c,d,p)}else if(Hi||Hm(c,d,p,!1),B=(p&c.childLanes)!==0,Hi||B){if(B=An,B!==null&&(y=Ai(B,p),y!==0&&y!==he.retryLane))throw he.retryLane=y,Mh(c,y),Za(B,c,y),ak;qk(X)||Lw(),d=fk(c,d,p)}else qk(X)?(d.flags|=192,d.child=c.child,d=null):(c=he.treeContext,Mn=ol(X.nextSibling),$s=d,_r=!0,$d=null,sl=!1,c!==null&&AM(d,c),d=dk(d,y.children),d.flags|=4096);return d}return T?(Xd(),X=y.fallback,T=d.mode,he=c.child,Ae=he.sibling,y=_u(he,{mode:"hidden",children:y.children}),y.subtreeFlags=he.subtreeFlags&65011712,Ae!==null?X=_u(Ae,X):(X=Lh(X,T,p,null),X.flags|=2),X.return=d,y.return=d,y.sibling=X,d.child=y,ay(null,y),y=d.child,X=c.child.memoizedState,X===null?X=ck(p):(T=X.cachePool,T!==null?(he=zi._currentValue,T=T.parent!==he?{parent:he,pool:he}:T):T=RM(),X={baseLanes:X.baseLanes|p,cachePool:T}),y.memoizedState=X,y.childLanes=uk(c,B,p),d.memoizedState=lk,ay(c.child,y)):(Yd(d),p=c.child,c=p.sibling,p=_u(p,{mode:"visible",children:y.children}),p.return=d,p.sibling=null,c!==null&&(B=d.deletions,B===null?(d.deletions=[c],d.flags|=16):B.push(c)),d.child=p,d.memoizedState=null,p)}function dk(c,d){return d=Cw({mode:"visible",children:d},c.mode),d.return=c,c.child=d}function Cw(c,d){return c=_o(22,c,null,d),c.lanes=0,c}function fk(c,d,p){return Hh(d,c.child,null,p),c=dk(d,d.pendingProps.children),c.flags|=2,d.memoizedState=null,c}function qL(c,d,p){c.lanes|=d;var y=c.alternate;y!==null&&(y.lanes|=d),kA(c.return,d,p)}function hk(c,d,p,y,T,C){var B=c.memoizedState;B===null?c.memoizedState={isBackwards:d,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:T,treeForkCount:C}:(B.isBackwards=d,B.rendering=null,B.renderingStartTime=0,B.last=y,B.tail=p,B.tailMode=T,B.treeForkCount=C)}function WL(c,d,p){var y=d.pendingProps,T=y.revealOrder,C=y.tail;y=y.children;var B=Ci.current,X=(B&2)!==0;if(X?(B=B&1|2,d.flags|=128):B&=1,V(Ci,B),qs(c,d,y,p),y=_r?Gv:0,!X&&c!==null&&(c.flags&128)!==0)e:for(c=d.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&qL(c,p,d);else if(c.tag===19)qL(c,p,d);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===d)break e;for(;c.sibling===null;){if(c.return===null||c.return===d)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(T){case"forwards":for(p=d.child,T=null;p!==null;)c=p.alternate,c!==null&&gw(c)===null&&(T=p),p=p.sibling;p=T,p===null?(T=d.child,d.child=null):(T=p.sibling,p.sibling=null),hk(d,!1,T,p,C,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=d.child,d.child=null;T!==null;){if(c=T.alternate,c!==null&&gw(c)===null){d.child=T;break}c=T.sibling,T.sibling=p,p=T,T=c}hk(d,!0,p,null,C,y);break;case"together":hk(d,!1,null,null,void 0,y);break;default:d.memoizedState=null}return d.child}function Cu(c,d,p){if(c!==null&&(d.dependencies=c.dependencies),Zd|=d.lanes,(p&d.childLanes)===0)if(c!==null){if(Hm(c,d,p,!1),(p&d.childLanes)===0)return null}else return null;if(c!==null&&d.child!==c.child)throw Error(n(153));if(d.child!==null){for(c=d.child,p=_u(c,c.pendingProps),d.child=p,p.return=d;c.sibling!==null;)c=c.sibling,p=p.sibling=_u(c,c.pendingProps),p.return=d;p.sibling=null}return d.child}function mk(c,d){return(c.lanes&d)!==0?!0:(c=c.dependencies,!!(c!==null&&lw(c)))}function dde(c,d,p){switch(d.tag){case 3:ce(d,d.stateNode.containerInfo),qd(d,zi,c.memoizedState.cache),Fh();break;case 27:case 5:ve(d);break;case 4:ce(d,d.stateNode.containerInfo);break;case 10:qd(d,d.type,d.memoizedProps.value);break;case 31:if(d.memoizedState!==null)return d.flags|=128,BA(d),null;break;case 13:var y=d.memoizedState;if(y!==null)return y.dehydrated!==null?(Yd(d),d.flags|=128,null):(p&d.child.childLanes)!==0?HL(c,d,p):(Yd(d),c=Cu(c,d,p),c!==null?c.sibling:null);Yd(d);break;case 19:var T=(c.flags&128)!==0;if(y=(p&d.childLanes)!==0,y||(Hm(c,d,p,!1),y=(p&d.childLanes)!==0),T){if(y)return WL(c,d,p);d.flags|=128}if(T=d.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),V(Ci,Ci.current),y)break;return null;case 22:return d.lanes=0,FL(c,d,p,d.pendingProps);case 24:qd(d,zi,c.memoizedState.cache)}return Cu(c,d,p)}function GL(c,d,p){if(c!==null)if(c.memoizedProps!==d.pendingProps)Hi=!0;else{if(!mk(c,p)&&(d.flags&128)===0)return Hi=!1,dde(c,d,p);Hi=(c.flags&131072)!==0}else Hi=!1,_r&&(d.flags&1048576)!==0&&SM(d,Gv,d.index);switch(d.lanes=0,d.tag){case 16:e:{var y=d.pendingProps;if(c=zh(d.elementType),d.type=c,typeof c=="function")xA(c)?(y=Wh(c,y),d.tag=1,d=zL(null,d,c,y,p)):(d.tag=0,d=ok(null,d,c,y,p));else{if(c!=null){var T=c.$$typeof;if(T===R){d.tag=11,d=DL(null,d,c,y,p);break e}else if(T===S){d.tag=14,d=ML(null,d,c,y,p);break e}}throw d=le(c)||c,Error(n(306,d,""))}}return d;case 0:return ok(c,d,d.type,d.pendingProps,p);case 1:return y=d.type,T=Wh(y,d.pendingProps),zL(c,d,y,T,p);case 3:e:{if(ce(d,d.stateNode.containerInfo),c===null)throw Error(n(387));y=d.pendingProps;var C=d.memoizedState;T=C.element,jA(c,d),ty(d,y,null,p);var B=d.memoizedState;if(y=B.cache,qd(d,zi,y),y!==C.cache&&CA(d,[zi],p,!0),ey(),y=B.element,C.isDehydrated)if(C={element:y,isDehydrated:!1,cache:B.cache},d.updateQueue.baseState=C,d.memoizedState=C,d.flags&256){d=$L(c,d,y,p);break e}else if(y!==T){T=rl(Error(n(424)),d),Kv(T),d=$L(c,d,y,p);break e}else{switch(c=d.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Mn=ol(c.firstChild),$s=d,_r=!0,$d=null,sl=!0,p=FM(d,null,y,p),d.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Fh(),y===T){d=Cu(c,d,p);break e}qs(c,d,y,p)}d=d.child}return d;case 26:return kw(c,d),c===null?(p=i9(d.type,null,d.pendingProps,null))?d.memoizedState=p:_r||(p=d.type,c=d.pendingProps,y=Hw(ue.current).createElement(p),y[re]=d,y[se]=c,Ws(y,p,c),pt(y),d.stateNode=y):d.memoizedState=i9(d.type,c.memoizedProps,d.pendingProps,c.memoizedState),null;case 27:return ve(d),c===null&&_r&&(y=d.stateNode=t9(d.type,d.pendingProps,ue.current),$s=d,sl=!0,T=Mn,sf(d.type)?(Gk=T,Mn=ol(y.firstChild)):Mn=T),qs(c,d,d.pendingProps.children,p),kw(c,d),c===null&&(d.flags|=4194304),d.child;case 5:return c===null&&_r&&((T=y=Mn)&&(y=Vde(y,d.type,d.pendingProps,sl),y!==null?(d.stateNode=y,$s=d,Mn=ol(y.firstChild),sl=!1,T=!0):T=!1),T||Hd(d)),ve(d),T=d.type,C=d.pendingProps,B=c!==null?c.memoizedProps:null,y=C.children,zk(T,C)?y=null:B!==null&&zk(T,B)&&(d.flags|=32),d.memoizedState!==null&&(T=VA(c,d,rde,null,null,p),wy._currentValue=T),kw(c,d),qs(c,d,y,p),d.child;case 6:return c===null&&_r&&((c=p=Mn)&&(p=zde(p,d.pendingProps,sl),p!==null?(d.stateNode=p,$s=d,Mn=null,c=!0):c=!1),c||Hd(d)),null;case 13:return HL(c,d,p);case 4:return ce(d,d.stateNode.containerInfo),y=d.pendingProps,c===null?d.child=Hh(d,null,y,p):qs(c,d,y,p),d.child;case 11:return DL(c,d,d.type,d.pendingProps,p);case 7:return qs(c,d,d.pendingProps,p),d.child;case 8:return qs(c,d,d.pendingProps.children,p),d.child;case 12:return qs(c,d,d.pendingProps.children,p),d.child;case 10:return y=d.pendingProps,qd(d,d.type,y.value),qs(c,d,y.children,p),d.child;case 9:return T=d.type._context,y=d.pendingProps.children,Uh(d),T=Hs(T),y=y(T),d.flags|=1,qs(c,d,y,p),d.child;case 14:return ML(c,d,d.type,d.pendingProps,p);case 15:return LL(c,d,d.type,d.pendingProps,p);case 19:return WL(c,d,p);case 31:return ude(c,d,p);case 22:return FL(c,d,p,d.pendingProps);case 24:return Uh(d),y=Hs(zi),c===null?(T=OA(),T===null&&(T=An,C=NA(),T.pooledCache=C,C.refCount++,C!==null&&(T.pooledCacheLanes|=p),T=C),d.memoizedState={parent:y,cache:T},PA(d),qd(d,zi,T)):((c.lanes&p)!==0&&(jA(c,d),ty(d,null,null,p),ey()),T=c.memoizedState,C=d.memoizedState,T.parent!==y?(T={parent:y,cache:y},d.memoizedState=T,d.lanes===0&&(d.memoizedState=d.updateQueue.baseState=T),qd(d,zi,y)):(y=C.cache,qd(d,zi,y),y!==T.cache&&CA(d,[zi],p,!0))),qs(c,d,d.pendingProps.children,p),d.child;case 29:throw d.pendingProps}throw Error(n(156,d.tag))}function Nu(c){c.flags|=4}function pk(c,d,p,y,T){if((d=(c.mode&32)!==0)&&(d=!1),d){if(c.flags|=16777216,(T&335544128)===T)if(c.stateNode.complete)c.flags|=8192;else if(b7())c.flags|=8192;else throw $h=fw,RA}else c.flags&=-16777217}function KL(c,d){if(d.type!=="stylesheet"||(d.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!c9(d))if(b7())c.flags|=8192;else throw $h=fw,RA}function Nw(c,d){d!==null&&(c.flags|=4),c.flags&16384&&(d=c.tag!==22?ri():536870912,c.lanes|=d,rp|=d)}function oy(c,d){if(!_r)switch(c.tailMode){case"hidden":d=c.tail;for(var p=null;d!==null;)d.alternate!==null&&(p=d),d=d.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?d||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Ln(c){var d=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(d)for(var T=c.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags&65011712,y|=T.flags&65011712,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=y,c.childLanes=p,d}function fde(c,d,p){var y=d.pendingProps;switch(EA(d),d.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ln(d),null;case 1:return Ln(d),null;case 3:return p=d.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),d.memoizedState.cache!==y&&(d.flags|=2048),Su(zi),ie(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&($m(d)?Nu(d):c===null||c.memoizedState.isDehydrated&&(d.flags&256)===0||(d.flags|=1024,SA())),Ln(d),null;case 26:var T=d.type,C=d.memoizedState;return c===null?(Nu(d),C!==null?(Ln(d),KL(d,C)):(Ln(d),pk(d,T,null,y,p))):C?C!==c.memoizedState?(Nu(d),Ln(d),KL(d,C)):(Ln(d),d.flags&=-16777217):(c=c.memoizedProps,c!==y&&Nu(d),Ln(d),pk(d,T,c,y,p)),null;case 27:if(Ue(d),p=ue.current,T=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Nu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Ln(d),null}c=W.current,$m(d)?kM(d):(c=t9(T,y,p),d.stateNode=c,Nu(d))}return Ln(d),null;case 5:if(Ue(d),T=d.type,c!==null&&d.stateNode!=null)c.memoizedProps!==y&&Nu(d);else{if(!y){if(d.stateNode===null)throw Error(n(166));return Ln(d),null}if(C=W.current,$m(d))kM(d);else{var B=Hw(ue.current);switch(C){case 1:C=B.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:C=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":C=B.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":C=B.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":C=B.createElement("div"),C.innerHTML="<script><\/script>",C=C.removeChild(C.firstChild);break;case"select":C=typeof y.is=="string"?B.createElement("select",{is:y.is}):B.createElement("select"),y.multiple?C.multiple=!0:y.size&&(C.size=y.size);break;default:C=typeof y.is=="string"?B.createElement(T,{is:y.is}):B.createElement(T)}}C[re]=d,C[se]=y;e:for(B=d.child;B!==null;){if(B.tag===5||B.tag===6)C.appendChild(B.stateNode);else if(B.tag!==4&&B.tag!==27&&B.child!==null){B.child.return=B,B=B.child;continue}if(B===d)break e;for(;B.sibling===null;){if(B.return===null||B.return===d)break e;B=B.return}B.sibling.return=B.return,B=B.sibling}d.stateNode=C;e:switch(Ws(C,T,y),T){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Nu(d)}}return Ln(d),pk(d,d.type,c===null?null:c.memoizedProps,d.pendingProps,p),null;case 6:if(c&&d.stateNode!=null)c.memoizedProps!==y&&Nu(d);else{if(typeof y!="string"&&d.stateNode===null)throw Error(n(166));if(c=ue.current,$m(d)){if(c=d.stateNode,p=d.memoizedProps,y=null,T=$s,T!==null)switch(T.tag){case 27:case 5:y=T.memoizedProps}c[re]=d,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||H7(c.nodeValue,p)),c||Hd(d,!0)}else c=Hw(c).createTextNode(y),c[re]=d,d.stateNode=c}return Ln(d),null;case 31:if(p=d.memoizedState,c===null||c.memoizedState!==null){if(y=$m(d),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=d.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[re]=d}else Fh(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ln(d),c=!1}else p=SA(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return d.flags&256?(To(d),d):(To(d),null);if((d.flags&128)!==0)throw Error(n(558))}return Ln(d),null;case 13:if(y=d.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=$m(d),y!==null&&y.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=d.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[re]=d}else Fh(),(d.flags&128)===0&&(d.memoizedState=null),d.flags|=4;Ln(d),T=!1}else T=SA(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=T),T=!0;if(!T)return d.flags&256?(To(d),d):(To(d),null)}return To(d),(d.flags&128)!==0?(d.lanes=p,d):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=d.child,T=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(T=y.alternate.memoizedState.cachePool.pool),C=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(C=y.memoizedState.cachePool.pool),C!==T&&(y.flags|=2048)),p!==c&&p&&(d.child.flags|=8192),Nw(d,d.updateQueue),Ln(d),null);case 4:return ie(),c===null&&Lk(d.stateNode.containerInfo),Ln(d),null;case 10:return Su(d.type),Ln(d),null;case 19:if(z(Ci),y=d.memoizedState,y===null)return Ln(d),null;if(T=(d.flags&128)!==0,C=y.rendering,C===null)if(T)oy(y,!1);else{if(xi!==0||c!==null&&(c.flags&128)!==0)for(c=d.child;c!==null;){if(C=gw(c),C!==null){for(d.flags|=128,oy(y,!1),c=C.updateQueue,d.updateQueue=c,Nw(d,c),d.subtreeFlags=0,c=p,p=d.child;p!==null;)_M(p,c),p=p.sibling;return V(Ci,Ci.current&1|2),_r&&Eu(d,y.treeForkCount),d.child}c=c.sibling}y.tail!==null&&Gt()>jw&&(d.flags|=128,T=!0,oy(y,!1),d.lanes=4194304)}else{if(!T)if(c=gw(C),c!==null){if(d.flags|=128,T=!0,c=c.updateQueue,d.updateQueue=c,Nw(d,c),oy(y,!0),y.tail===null&&y.tailMode==="hidden"&&!C.alternate&&!_r)return Ln(d),null}else 2*Gt()-y.renderingStartTime>jw&&p!==536870912&&(d.flags|=128,T=!0,oy(y,!1),d.lanes=4194304);y.isBackwards?(C.sibling=d.child,d.child=C):(c=y.last,c!==null?c.sibling=C:d.child=C,y.last=C)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Gt(),c.sibling=null,p=Ci.current,V(Ci,T?p&1|2:p&1),_r&&Eu(d,y.treeForkCount),c):(Ln(d),null);case 22:case 23:return To(d),FA(),y=d.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(d.flags|=8192):y&&(d.flags|=8192),y?(p&536870912)!==0&&(d.flags&128)===0&&(Ln(d),d.subtreeFlags&6&&(d.flags|=8192)):Ln(d),p=d.updateQueue,p!==null&&Nw(d,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(y=d.memoizedState.cachePool.pool),y!==p&&(d.flags|=2048),c!==null&&z(Vh),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),d.memoizedState.cache!==p&&(d.flags|=2048),Su(zi),Ln(d),null;case 25:return null;case 30:return null}throw Error(n(156,d.tag))}function hde(c,d){switch(EA(d),d.tag){case 1:return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 3:return Su(zi),ie(),c=d.flags,(c&65536)!==0&&(c&128)===0?(d.flags=c&-65537|128,d):null;case 26:case 27:case 5:return Ue(d),null;case 31:if(d.memoizedState!==null){if(To(d),d.alternate===null)throw Error(n(340));Fh()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 13:if(To(d),c=d.memoizedState,c!==null&&c.dehydrated!==null){if(d.alternate===null)throw Error(n(340));Fh()}return c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 19:return z(Ci),null;case 4:return ie(),null;case 10:return Su(d.type),null;case 22:case 23:return To(d),FA(),c!==null&&z(Vh),c=d.flags,c&65536?(d.flags=c&-65537|128,d):null;case 24:return Su(zi),null;case 25:return null;default:return null}}function YL(c,d){switch(EA(d),d.tag){case 3:Su(zi),ie();break;case 26:case 27:case 5:Ue(d);break;case 4:ie();break;case 31:d.memoizedState!==null&&To(d);break;case 13:To(d);break;case 19:z(Ci);break;case 10:Su(d.type);break;case 22:case 23:To(d),FA(),c!==null&&z(Vh);break;case 24:Su(zi)}}function ly(c,d){try{var p=d.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var T=y.next;p=T;do{if((p.tag&c)===c){y=void 0;var C=p.create,B=p.inst;y=C(),B.destroy=y}p=p.next}while(p!==T)}}catch(X){rn(d,d.return,X)}}function Qd(c,d,p){try{var y=d.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var C=T.next;y=C;do{if((y.tag&c)===c){var B=y.inst,X=B.destroy;if(X!==void 0){B.destroy=void 0,T=d;var he=p,Ae=X;try{Ae()}catch(Fe){rn(T,he,Fe)}}}y=y.next}while(y!==C)}}catch(Fe){rn(d,d.return,Fe)}}function XL(c){var d=c.updateQueue;if(d!==null){var p=c.stateNode;try{UM(d,p)}catch(y){rn(c,c.return,y)}}}function QL(c,d,p){p.props=Wh(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){rn(c,d,y)}}function cy(c,d){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(T){rn(c,d,T)}}function Dc(c,d){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(T){rn(c,d,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){rn(c,d,T)}else p.current=null}function JL(c){var d=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(d){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(T){rn(c,c.return,T)}}function gk(c,d,p){try{var y=c.stateNode;Dde(y,c.type,p,d),y[se]=d}catch(T){rn(c,c.return,T)}}function ZL(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&sf(c.type)||c.tag===4}function vk(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||ZL(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&sf(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function yk(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,d):(d=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,d.appendChild(c),p=p._reactRootContainer,p!=null||d.onclick!==null||(d.onclick=hn));else if(y!==4&&(y===27&&sf(c.type)&&(p=c.stateNode,d=null),c=c.child,c!==null))for(yk(c,d,p),c=c.sibling;c!==null;)yk(c,d,p),c=c.sibling}function Iw(c,d,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,d?p.insertBefore(c,d):p.appendChild(c);else if(y!==4&&(y===27&&sf(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(Iw(c,d,p),c=c.sibling;c!==null;)Iw(c,d,p),c=c.sibling}function e7(c){var d=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,T=d.attributes;T.length;)d.removeAttributeNode(T[0]);Ws(d,y,p),d[re]=c,d[se]=p}catch(C){rn(c,c.return,C)}}var Iu=!1,qi=!1,xk=!1,t7=typeof WeakSet=="function"?WeakSet:Set,ws=null;function mde(c,d){if(c=c.containerInfo,Uk=Qw,c=hM(c),fA(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var T=y.anchorOffset,C=y.focusNode;y=y.focusOffset;try{p.nodeType,C.nodeType}catch{p=null;break e}var B=0,X=-1,he=-1,Ae=0,Fe=0,ze=c,Ce=null;t:for(;;){for(var Re;ze!==p||T!==0&&ze.nodeType!==3||(X=B+T),ze!==C||y!==0&&ze.nodeType!==3||(he=B+y),ze.nodeType===3&&(B+=ze.nodeValue.length),(Re=ze.firstChild)!==null;)Ce=ze,ze=Re;for(;;){if(ze===c)break t;if(Ce===p&&++Ae===T&&(X=B),Ce===C&&++Fe===y&&(he=B),(Re=ze.nextSibling)!==null)break;ze=Ce,Ce=ze.parentNode}ze=Re}p=X===-1||he===-1?null:{start:X,end:he}}else p=null}p=p||{start:0,end:0}}else p=null;for(Vk={focusedElem:c,selectionRange:p},Qw=!1,ws=d;ws!==null;)if(d=ws,c=d.child,(d.subtreeFlags&1028)!==0&&c!==null)c.return=d,ws=c;else for(;ws!==null;){switch(d=ws,C=d.alternate,c=d.flags,d.tag){case 0:if((c&4)!==0&&(c=d.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)T=c[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&C!==null){c=void 0,p=d,T=C.memoizedProps,C=C.memoizedState,y=p.stateNode;try{var vt=Wh(p.type,T);c=y.getSnapshotBeforeUpdate(vt,C),y.__reactInternalSnapshotBeforeUpdate=c}catch(Pt){rn(p,p.return,Pt)}}break;case 3:if((c&1024)!==0){if(c=d.stateNode.containerInfo,p=c.nodeType,p===9)Hk(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":Hk(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=d.sibling,c!==null){c.return=d.return,ws=c;break}ws=d.return}}function r7(c,d,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Ru(c,p),y&4&&ly(5,p);break;case 1:if(Ru(c,p),y&4)if(c=p.stateNode,d===null)try{c.componentDidMount()}catch(B){rn(p,p.return,B)}else{var T=Wh(p.type,d.memoizedProps);d=d.memoizedState;try{c.componentDidUpdate(T,d,c.__reactInternalSnapshotBeforeUpdate)}catch(B){rn(p,p.return,B)}}y&64&&XL(p),y&512&&cy(p,p.return);break;case 3:if(Ru(c,p),y&64&&(c=p.updateQueue,c!==null)){if(d=null,p.child!==null)switch(p.child.tag){case 27:case 5:d=p.child.stateNode;break;case 1:d=p.child.stateNode}try{UM(c,d)}catch(B){rn(p,p.return,B)}}break;case 27:d===null&&y&4&&e7(p);case 26:case 5:Ru(c,p),d===null&&y&4&&JL(p),y&512&&cy(p,p.return);break;case 12:Ru(c,p);break;case 31:Ru(c,p),y&4&&s7(c,p);break;case 13:Ru(c,p),y&4&&a7(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=Ede.bind(null,p),$de(c,p))));break;case 22:if(y=p.memoizedState!==null||Iu,!y){d=d!==null&&d.memoizedState!==null||qi,T=Iu;var C=qi;Iu=y,(qi=d)&&!C?Pu(c,p,(p.subtreeFlags&8772)!==0):Ru(c,p),Iu=T,qi=C}break;case 30:break;default:Ru(c,p)}}function n7(c){var d=c.alternate;d!==null&&(c.alternate=null,n7(d)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(d=c.stateNode,d!==null&&We(d)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Gn=null,Ya=!1;function Ou(c,d,p){for(p=p.child;p!==null;)i7(c,d,p),p=p.sibling}function i7(c,d,p){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(rr,p)}catch{}switch(p.tag){case 26:qi||Dc(p,d),Ou(c,d,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:qi||Dc(p,d);var y=Gn,T=Ya;sf(p.type)&&(Gn=p.stateNode,Ya=!1),Ou(c,d,p),yy(p.stateNode),Gn=y,Ya=T;break;case 5:qi||Dc(p,d);case 6:if(y=Gn,T=Ya,Gn=null,Ou(c,d,p),Gn=y,Ya=T,Gn!==null)if(Ya)try{(Gn.nodeType===9?Gn.body:Gn.nodeName==="HTML"?Gn.ownerDocument.body:Gn).removeChild(p.stateNode)}catch(C){rn(p,d,C)}else try{Gn.removeChild(p.stateNode)}catch(C){rn(p,d,C)}break;case 18:Gn!==null&&(Ya?(c=Gn,X7(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),up(c)):X7(Gn,p.stateNode));break;case 4:y=Gn,T=Ya,Gn=p.stateNode.containerInfo,Ya=!0,Ou(c,d,p),Gn=y,Ya=T;break;case 0:case 11:case 14:case 15:Qd(2,p,d),qi||Qd(4,p,d),Ou(c,d,p);break;case 1:qi||(Dc(p,d),y=p.stateNode,typeof y.componentWillUnmount=="function"&&QL(p,d,y)),Ou(c,d,p);break;case 21:Ou(c,d,p);break;case 22:qi=(y=qi)||p.memoizedState!==null,Ou(c,d,p),qi=y;break;default:Ou(c,d,p)}}function s7(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{up(c)}catch(p){rn(d,d.return,p)}}}function a7(c,d){if(d.memoizedState===null&&(c=d.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{up(c)}catch(p){rn(d,d.return,p)}}function pde(c){switch(c.tag){case 31:case 13:case 19:var d=c.stateNode;return d===null&&(d=c.stateNode=new t7),d;case 22:return c=c.stateNode,d=c._retryCache,d===null&&(d=c._retryCache=new t7),d;default:throw Error(n(435,c.tag))}}function Ow(c,d){var p=pde(c);d.forEach(function(y){if(!p.has(y)){p.add(y);var T=Tde.bind(null,c,y);y.then(T,T)}})}function Xa(c,d){var p=d.deletions;if(p!==null)for(var y=0;y<p.length;y++){var T=p[y],C=c,B=d,X=B;e:for(;X!==null;){switch(X.tag){case 27:if(sf(X.type)){Gn=X.stateNode,Ya=!1;break e}break;case 5:Gn=X.stateNode,Ya=!1;break e;case 3:case 4:Gn=X.stateNode.containerInfo,Ya=!0;break e}X=X.return}if(Gn===null)throw Error(n(160));i7(C,B,T),Gn=null,Ya=!1,C=T.alternate,C!==null&&(C.return=null),T.return=null}if(d.subtreeFlags&13886)for(d=d.child;d!==null;)o7(d,c),d=d.sibling}var $l=null;function o7(c,d){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:Xa(d,c),Qa(c),y&4&&(Qd(3,c,c.return),ly(3,c),Qd(5,c,c.return));break;case 1:Xa(d,c),Qa(c),y&512&&(qi||p===null||Dc(p,p.return)),y&64&&Iu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var T=$l;if(Xa(d,c),Qa(c),y&512&&(qi||p===null||Dc(p,p.return)),y&4){var C=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,T=T.ownerDocument||T;t:switch(y){case"title":C=T.getElementsByTagName("title")[0],(!C||C[_e]||C[re]||C.namespaceURI==="http://www.w3.org/2000/svg"||C.hasAttribute("itemprop"))&&(C=T.createElement(y),T.head.insertBefore(C,T.querySelector("head > title"))),Ws(C,y,p),C[re]=c,pt(C),y=C;break e;case"link":var B=o9("link","href",T).get(y+(p.href||""));if(B){for(var X=0;X<B.length;X++)if(C=B[X],C.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&C.getAttribute("rel")===(p.rel==null?null:p.rel)&&C.getAttribute("title")===(p.title==null?null:p.title)&&C.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){B.splice(X,1);break t}}C=T.createElement(y),Ws(C,y,p),T.head.appendChild(C);break;case"meta":if(B=o9("meta","content",T).get(y+(p.content||""))){for(X=0;X<B.length;X++)if(C=B[X],C.getAttribute("content")===(p.content==null?null:""+p.content)&&C.getAttribute("name")===(p.name==null?null:p.name)&&C.getAttribute("property")===(p.property==null?null:p.property)&&C.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&C.getAttribute("charset")===(p.charSet==null?null:p.charSet)){B.splice(X,1);break t}}C=T.createElement(y),Ws(C,y,p),T.head.appendChild(C);break;default:throw Error(n(468,y))}C[re]=c,pt(C),y=C}c.stateNode=y}else l9(T,c.type,c.stateNode);else c.stateNode=a9(T,y,c.memoizedProps);else C!==y?(C===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):C.count--,y===null?l9(T,c.type,c.stateNode):a9(T,y,c.memoizedProps)):y===null&&c.stateNode!==null&&gk(c,c.memoizedProps,p.memoizedProps)}break;case 27:Xa(d,c),Qa(c),y&512&&(qi||p===null||Dc(p,p.return)),p!==null&&y&4&&gk(c,c.memoizedProps,p.memoizedProps);break;case 5:if(Xa(d,c),Qa(c),y&512&&(qi||p===null||Dc(p,p.return)),c.flags&32){T=c.stateNode;try{Vs(T,"")}catch(vt){rn(c,c.return,vt)}}y&4&&c.stateNode!=null&&(T=c.memoizedProps,gk(c,T,p!==null?p.memoizedProps:T)),y&1024&&(xk=!0);break;case 6:if(Xa(d,c),Qa(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(vt){rn(c,c.return,vt)}}break;case 3:if(Gw=null,T=$l,$l=qw(d.containerInfo),Xa(d,c),$l=T,Qa(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{up(d.containerInfo)}catch(vt){rn(c,c.return,vt)}xk&&(xk=!1,l7(c));break;case 4:y=$l,$l=qw(c.stateNode.containerInfo),Xa(d,c),Qa(c),$l=y;break;case 12:Xa(d,c),Qa(c);break;case 31:Xa(d,c),Qa(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Ow(c,y)));break;case 13:Xa(d,c),Qa(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Pw=Gt()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Ow(c,y)));break;case 22:T=c.memoizedState!==null;var he=p!==null&&p.memoizedState!==null,Ae=Iu,Fe=qi;if(Iu=Ae||T,qi=Fe||he,Xa(d,c),qi=Fe,Iu=Ae,Qa(c),y&8192)e:for(d=c.stateNode,d._visibility=T?d._visibility&-2:d._visibility|1,T&&(p===null||he||Iu||qi||Gh(c)),p=null,d=c;;){if(d.tag===5||d.tag===26){if(p===null){he=p=d;try{if(C=he.stateNode,T)B=C.style,typeof B.setProperty=="function"?B.setProperty("display","none","important"):B.display="none";else{X=he.stateNode;var ze=he.memoizedProps.style,Ce=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;X.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(vt){rn(he,he.return,vt)}}}else if(d.tag===6){if(p===null){he=d;try{he.stateNode.nodeValue=T?"":he.memoizedProps}catch(vt){rn(he,he.return,vt)}}}else if(d.tag===18){if(p===null){he=d;try{var Re=he.stateNode;T?Q7(Re,!0):Q7(he.stateNode,!1)}catch(vt){rn(he,he.return,vt)}}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===c)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===c)break e;for(;d.sibling===null;){if(d.return===null||d.return===c)break e;p===d&&(p=null),d=d.return}p===d&&(p=null),d.sibling.return=d.return,d=d.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Ow(c,p))));break;case 19:Xa(d,c),Qa(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Ow(c,y)));break;case 30:break;case 21:break;default:Xa(d,c),Qa(c)}}function Qa(c){var d=c.flags;if(d&2){try{for(var p,y=c.return;y!==null;){if(ZL(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var T=p.stateNode,C=vk(c);Iw(c,C,T);break;case 5:var B=p.stateNode;p.flags&32&&(Vs(B,""),p.flags&=-33);var X=vk(c);Iw(c,X,B);break;case 3:case 4:var he=p.stateNode.containerInfo,Ae=vk(c);yk(c,Ae,he);break;default:throw Error(n(161))}}catch(Fe){rn(c,c.return,Fe)}c.flags&=-3}d&4096&&(c.flags&=-4097)}function l7(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var d=c;l7(d),d.tag===5&&d.flags&1024&&d.stateNode.reset(),c=c.sibling}}function Ru(c,d){if(d.subtreeFlags&8772)for(d=d.child;d!==null;)r7(c,d.alternate,d),d=d.sibling}function Gh(c){for(c=c.child;c!==null;){var d=c;switch(d.tag){case 0:case 11:case 14:case 15:Qd(4,d,d.return),Gh(d);break;case 1:Dc(d,d.return);var p=d.stateNode;typeof p.componentWillUnmount=="function"&&QL(d,d.return,p),Gh(d);break;case 27:yy(d.stateNode);case 26:case 5:Dc(d,d.return),Gh(d);break;case 22:d.memoizedState===null&&Gh(d);break;case 30:Gh(d);break;default:Gh(d)}c=c.sibling}}function Pu(c,d,p){for(p=p&&(d.subtreeFlags&8772)!==0,d=d.child;d!==null;){var y=d.alternate,T=c,C=d,B=C.flags;switch(C.tag){case 0:case 11:case 15:Pu(T,C,p),ly(4,C);break;case 1:if(Pu(T,C,p),y=C,T=y.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ae){rn(y,y.return,Ae)}if(y=C,T=y.updateQueue,T!==null){var X=y.stateNode;try{var he=T.shared.hiddenCallbacks;if(he!==null)for(T.shared.hiddenCallbacks=null,T=0;T<he.length;T++)BM(he[T],X)}catch(Ae){rn(y,y.return,Ae)}}p&&B&64&&XL(C),cy(C,C.return);break;case 27:e7(C);case 26:case 5:Pu(T,C,p),p&&y===null&&B&4&&JL(C),cy(C,C.return);break;case 12:Pu(T,C,p);break;case 31:Pu(T,C,p),p&&B&4&&s7(T,C);break;case 13:Pu(T,C,p),p&&B&4&&a7(T,C);break;case 22:C.memoizedState===null&&Pu(T,C,p),cy(C,C.return);break;case 30:break;default:Pu(T,C,p)}d=d.sibling}}function bk(c,d){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,d.memoizedState!==null&&d.memoizedState.cachePool!==null&&(c=d.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&Yv(p))}function wk(c,d){c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Yv(c))}function Hl(c,d,p,y){if(d.subtreeFlags&10256)for(d=d.child;d!==null;)c7(c,d,p,y),d=d.sibling}function c7(c,d,p,y){var T=d.flags;switch(d.tag){case 0:case 11:case 15:Hl(c,d,p,y),T&2048&&ly(9,d);break;case 1:Hl(c,d,p,y);break;case 3:Hl(c,d,p,y),T&2048&&(c=null,d.alternate!==null&&(c=d.alternate.memoizedState.cache),d=d.memoizedState.cache,d!==c&&(d.refCount++,c!=null&&Yv(c)));break;case 12:if(T&2048){Hl(c,d,p,y),c=d.stateNode;try{var C=d.memoizedProps,B=C.id,X=C.onPostCommit;typeof X=="function"&&X(B,d.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(he){rn(d,d.return,he)}}else Hl(c,d,p,y);break;case 31:Hl(c,d,p,y);break;case 13:Hl(c,d,p,y);break;case 23:break;case 22:C=d.stateNode,B=d.alternate,d.memoizedState!==null?C._visibility&2?Hl(c,d,p,y):uy(c,d):C._visibility&2?Hl(c,d,p,y):(C._visibility|=2,Zm(c,d,p,y,(d.subtreeFlags&10256)!==0||!1)),T&2048&&bk(B,d);break;case 24:Hl(c,d,p,y),T&2048&&wk(d.alternate,d);break;default:Hl(c,d,p,y)}}function Zm(c,d,p,y,T){for(T=T&&((d.subtreeFlags&10256)!==0||!1),d=d.child;d!==null;){var C=c,B=d,X=p,he=y,Ae=B.flags;switch(B.tag){case 0:case 11:case 15:Zm(C,B,X,he,T),ly(8,B);break;case 23:break;case 22:var Fe=B.stateNode;B.memoizedState!==null?Fe._visibility&2?Zm(C,B,X,he,T):uy(C,B):(Fe._visibility|=2,Zm(C,B,X,he,T)),T&&Ae&2048&&bk(B.alternate,B);break;case 24:Zm(C,B,X,he,T),T&&Ae&2048&&wk(B.alternate,B);break;default:Zm(C,B,X,he,T)}d=d.sibling}}function uy(c,d){if(d.subtreeFlags&10256)for(d=d.child;d!==null;){var p=c,y=d,T=y.flags;switch(y.tag){case 22:uy(p,y),T&2048&&bk(y.alternate,y);break;case 24:uy(p,y),T&2048&&wk(y.alternate,y);break;default:uy(p,y)}d=d.sibling}}var dy=8192;function ep(c,d,p){if(c.subtreeFlags&dy)for(c=c.child;c!==null;)u7(c,d,p),c=c.sibling}function u7(c,d,p){switch(c.tag){case 26:ep(c,d,p),c.flags&dy&&c.memoizedState!==null&&tfe(p,$l,c.memoizedState,c.memoizedProps);break;case 5:ep(c,d,p);break;case 3:case 4:var y=$l;$l=qw(c.stateNode.containerInfo),ep(c,d,p),$l=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=dy,dy=16777216,ep(c,d,p),dy=y):ep(c,d,p));break;default:ep(c,d,p)}}function d7(c){var d=c.alternate;if(d!==null&&(c=d.child,c!==null)){d.child=null;do d=c.sibling,c.sibling=null,c=d;while(c!==null)}}function fy(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];ws=y,h7(y,c)}d7(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)f7(c),c=c.sibling}function f7(c){switch(c.tag){case 0:case 11:case 15:fy(c),c.flags&2048&&Qd(9,c,c.return);break;case 3:fy(c);break;case 12:fy(c);break;case 22:var d=c.stateNode;c.memoizedState!==null&&d._visibility&2&&(c.return===null||c.return.tag!==13)?(d._visibility&=-3,Rw(c)):fy(c);break;default:fy(c)}}function Rw(c){var d=c.deletions;if((c.flags&16)!==0){if(d!==null)for(var p=0;p<d.length;p++){var y=d[p];ws=y,h7(y,c)}d7(c)}for(c=c.child;c!==null;){switch(d=c,d.tag){case 0:case 11:case 15:Qd(8,d,d.return),Rw(d);break;case 22:p=d.stateNode,p._visibility&2&&(p._visibility&=-3,Rw(d));break;default:Rw(d)}c=c.sibling}}function h7(c,d){for(;ws!==null;){var p=ws;switch(p.tag){case 0:case 11:case 15:Qd(8,p,d);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:Yv(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,ws=y;else e:for(p=c;ws!==null;){y=ws;var T=y.sibling,C=y.return;if(n7(y),y===p){ws=null;break e}if(T!==null){T.return=C,ws=T;break e}ws=C}}}var gde={getCacheForType:function(c){var d=Hs(zi),p=d.data.get(c);return p===void 0&&(p=c(),d.data.set(c,p)),p},cacheSignal:function(){return Hs(zi).controller.signal}},vde=typeof WeakMap=="function"?WeakMap:Map,zr=0,An=null,fr=null,gr=0,tn=0,So=null,Jd=!1,tp=!1,_k=!1,ju=0,xi=0,Zd=0,Kh=0,Ek=0,Ao=0,rp=0,hy=null,Ja=null,Tk=!1,Pw=0,m7=0,jw=1/0,Dw=null,ef=null,as=0,tf=null,np=null,Du=0,Sk=0,Ak=null,p7=null,my=0,kk=null;function ko(){return(zr&2)!==0&&gr!==0?gr&-gr:J.T!==null?Pk():K()}function g7(){if(Ao===0)if((gr&536870912)===0||_r){var c=yo;yo<<=1,(yo&3932160)===0&&(yo=262144),Ao=c}else Ao=536870912;return c=Eo.current,c!==null&&(c.flags|=32),Ao}function Za(c,d,p){(c===An&&(tn===2||tn===9)||c.cancelPendingCommit!==null)&&(ip(c,0),rf(c,gr,Ao,!1)),Jr(c,p),((zr&2)===0||c!==An)&&(c===An&&((zr&2)===0&&(Kh|=p),xi===4&&rf(c,gr,Ao,!1)),Mc(c))}function v7(c,d,p){if((zr&6)!==0)throw Error(n(327));var y=!p&&(d&127)===0&&(d&c.expiredLanes)===0||wr(c,d),T=y?bde(c,d):Nk(c,d,!0),C=y;do{if(T===0){tp&&!y&&rf(c,d,0,!1);break}else{if(p=c.current.alternate,C&&!yde(p)){T=Nk(c,d,!1),C=!1;continue}if(T===2){if(C=d,c.errorRecoveryDisabledLanes&C)var B=0;else B=c.pendingLanes&-536870913,B=B!==0?B:B&536870912?536870912:0;if(B!==0){d=B;e:{var X=c;T=hy;var he=X.current.memoizedState.isDehydrated;if(he&&(ip(X,B).flags|=256),B=Nk(X,B,!1),B!==2){if(_k&&!he){X.errorRecoveryDisabledLanes|=C,Kh|=C,T=4;break e}C=Ja,Ja=T,C!==null&&(Ja===null?Ja=C:Ja.push.apply(Ja,C))}T=B}if(C=!1,T!==2)continue}}if(T===1){ip(c,0),rf(c,d,0,!0);break}e:{switch(y=c,C=T,C){case 0:case 1:throw Error(n(345));case 4:if((d&4194048)!==d)break;case 6:rf(y,d,Ao,!Jd);break e;case 2:Ja=null;break;case 3:case 5:break;default:throw Error(n(329))}if((d&62914560)===d&&(T=Pw+300-Gt(),10<T)){if(rf(y,d,Ao,!Jd),Ct(y,0,!0)!==0)break e;Du=d,y.timeoutHandle=K7(y7.bind(null,y,p,Ja,Dw,Tk,d,Ao,Kh,rp,Jd,C,"Throttled",-0,0),T);break e}y7(y,p,Ja,Dw,Tk,d,Ao,Kh,rp,Jd,C,null,-0,0)}}break}while(!0);Mc(c)}function y7(c,d,p,y,T,C,B,X,he,Ae,Fe,ze,Ce,Re){if(c.timeoutHandle=-1,ze=d.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:hn},u7(d,C,ze);var vt=(C&62914560)===C?Pw-Gt():(C&4194048)===C?m7-Gt():0;if(vt=rfe(ze,vt),vt!==null){Du=C,c.cancelPendingCommit=vt(A7.bind(null,c,d,C,p,y,T,B,X,he,Fe,ze,null,Ce,Re)),rf(c,C,B,!Ae);return}}A7(c,d,C,p,y,T,B,X,he)}function yde(c){for(var d=c;;){var p=d.tag;if((p===0||p===11||p===15)&&d.flags&16384&&(p=d.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var T=p[y],C=T.getSnapshot;T=T.value;try{if(!wo(C(),T))return!1}catch{return!1}}if(p=d.child,d.subtreeFlags&16384&&p!==null)p.return=d,d=p;else{if(d===c)break;for(;d.sibling===null;){if(d.return===null||d.return===c)return!0;d=d.return}d.sibling.return=d.return,d=d.sibling}}return!0}function rf(c,d,p,y){d&=~Ek,d&=~Kh,c.suspendedLanes|=d,c.pingedLanes&=~d,y&&(c.warmLanes|=d),y=c.expirationTimes;for(var T=d;0<T;){var C=31-Xr(T),B=1<<C;y[C]=-1,T&=~B}p!==0&&ys(c,p,d)}function Mw(){return(zr&6)===0?(py(0),!1):!0}function Ck(){if(fr!==null){if(tn===0)var c=fr.return;else c=fr,Tu=Bh=null,HA(c),Km=null,Qv=0,c=fr;for(;c!==null;)YL(c.alternate,c),c=c.return;fr=null}}function ip(c,d){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,Fde(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Du=0,Ck(),An=c,fr=p=_u(c.current,null),gr=d,tn=0,So=null,Jd=!1,tp=wr(c,d),_k=!1,rp=Ao=Ek=Kh=Zd=xi=0,Ja=hy=null,Tk=!1,(d&8)!==0&&(d|=d&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=d;0<y;){var T=31-Xr(y),C=1<<T;d|=c[T],y&=~C}return ju=d,nw(),p}function x7(c,d){er=null,J.H=sy,d===Gm||d===dw?(d=DM(),tn=3):d===RA?(d=DM(),tn=4):tn=d===ak?8:d!==null&&typeof d=="object"&&typeof d.then=="function"?6:1,So=d,fr===null&&(xi=1,Sw(c,rl(d,c.current)))}function b7(){var c=Eo.current;return c===null?!0:(gr&4194048)===gr?al===null:(gr&62914560)===gr||(gr&536870912)!==0?c===al:!1}function w7(){var c=J.H;return J.H=sy,c===null?sy:c}function _7(){var c=J.A;return J.A=gde,c}function Lw(){xi=4,Jd||(gr&4194048)!==gr&&Eo.current!==null||(tp=!0),(Zd&134217727)===0&&(Kh&134217727)===0||An===null||rf(An,gr,Ao,!1)}function Nk(c,d,p){var y=zr;zr|=2;var T=w7(),C=_7();(An!==c||gr!==d)&&(Dw=null,ip(c,d)),d=!1;var B=xi;e:do try{if(tn!==0&&fr!==null){var X=fr,he=So;switch(tn){case 8:Ck(),B=6;break e;case 3:case 2:case 9:case 6:Eo.current===null&&(d=!0);var Ae=tn;if(tn=0,So=null,sp(c,X,he,Ae),p&&tp){B=0;break e}break;default:Ae=tn,tn=0,So=null,sp(c,X,he,Ae)}}xde(),B=xi;break}catch(Fe){x7(c,Fe)}while(!0);return d&&c.shellSuspendCounter++,Tu=Bh=null,zr=y,J.H=T,J.A=C,fr===null&&(An=null,gr=0,nw()),B}function xde(){for(;fr!==null;)E7(fr)}function bde(c,d){var p=zr;zr|=2;var y=w7(),T=_7();An!==c||gr!==d?(Dw=null,jw=Gt()+500,ip(c,d)):tp=wr(c,d);e:do try{if(tn!==0&&fr!==null){d=fr;var C=So;t:switch(tn){case 1:tn=0,So=null,sp(c,d,C,1);break;case 2:case 9:if(PM(C)){tn=0,So=null,T7(d);break}d=function(){tn!==2&&tn!==9||An!==c||(tn=7),Mc(c)},C.then(d,d);break e;case 3:tn=7;break e;case 4:tn=5;break e;case 7:PM(C)?(tn=0,So=null,T7(d)):(tn=0,So=null,sp(c,d,C,7));break;case 5:var B=null;switch(fr.tag){case 26:B=fr.memoizedState;case 5:case 27:var X=fr;if(B?c9(B):X.stateNode.complete){tn=0,So=null;var he=X.sibling;if(he!==null)fr=he;else{var Ae=X.return;Ae!==null?(fr=Ae,Fw(Ae)):fr=null}break t}}tn=0,So=null,sp(c,d,C,5);break;case 6:tn=0,So=null,sp(c,d,C,6);break;case 8:Ck(),xi=6;break e;default:throw Error(n(462))}}wde();break}catch(Fe){x7(c,Fe)}while(!0);return Tu=Bh=null,J.H=y,J.A=T,zr=p,fr!==null?0:(An=null,gr=0,nw(),xi)}function wde(){for(;fr!==null&&!Wr();)E7(fr)}function E7(c){var d=GL(c.alternate,c,ju);c.memoizedProps=c.pendingProps,d===null?Fw(c):fr=d}function T7(c){var d=c,p=d.alternate;switch(d.tag){case 15:case 0:d=VL(p,d,d.pendingProps,d.type,void 0,gr);break;case 11:d=VL(p,d,d.pendingProps,d.type.render,d.ref,gr);break;case 5:HA(d);default:YL(p,d),d=fr=_M(d,ju),d=GL(p,d,ju)}c.memoizedProps=c.pendingProps,d===null?Fw(c):fr=d}function sp(c,d,p,y){Tu=Bh=null,HA(d),Km=null,Qv=0;var T=d.return;try{if(cde(c,T,d,p,gr)){xi=1,Sw(c,rl(p,c.current)),fr=null;return}}catch(C){if(T!==null)throw fr=T,C;xi=1,Sw(c,rl(p,c.current)),fr=null;return}d.flags&32768?(_r||y===1?c=!0:tp||(gr&536870912)!==0?c=!1:(Jd=c=!0,(y===2||y===9||y===3||y===6)&&(y=Eo.current,y!==null&&y.tag===13&&(y.flags|=16384))),S7(d,c)):Fw(d)}function Fw(c){var d=c;do{if((d.flags&32768)!==0){S7(d,Jd);return}c=d.return;var p=fde(d.alternate,d,ju);if(p!==null){fr=p;return}if(d=d.sibling,d!==null){fr=d;return}fr=d=c}while(d!==null);xi===0&&(xi=5)}function S7(c,d){do{var p=hde(c.alternate,c);if(p!==null){p.flags&=32767,fr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!d&&(c=c.sibling,c!==null)){fr=c;return}fr=c=p}while(c!==null);xi=6,fr=null}function A7(c,d,p,y,T,C,B,X,he){c.cancelPendingCommit=null;do Bw();while(as!==0);if((zr&6)!==0)throw Error(n(327));if(d!==null){if(d===c.current)throw Error(n(177));if(C=d.lanes|d.childLanes,C|=vA,Ui(c,p,C,B,X,he),c===An&&(fr=An=null,gr=0),np=d,tf=c,Du=p,Sk=C,Ak=T,p7=y,(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Sde(xe,function(){return O7(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(d.flags&13878)!==0,(d.subtreeFlags&13878)!==0||y){y=J.T,J.T=null,T=Q.p,Q.p=2,B=zr,zr|=4;try{mde(c,d,p)}finally{zr=B,Q.p=T,J.T=y}}as=1,k7(),C7(),N7()}}function k7(){if(as===1){as=0;var c=tf,d=np,p=(d.flags&13878)!==0;if((d.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var y=Q.p;Q.p=2;var T=zr;zr|=4;try{o7(d,c);var C=Vk,B=hM(c.containerInfo),X=C.focusedElem,he=C.selectionRange;if(B!==X&&X&&X.ownerDocument&&fM(X.ownerDocument.documentElement,X)){if(he!==null&&fA(X)){var Ae=he.start,Fe=he.end;if(Fe===void 0&&(Fe=Ae),"selectionStart"in X)X.selectionStart=Ae,X.selectionEnd=Math.min(Fe,X.value.length);else{var ze=X.ownerDocument||document,Ce=ze&&ze.defaultView||window;if(Ce.getSelection){var Re=Ce.getSelection(),vt=X.textContent.length,Pt=Math.min(he.start,vt),vn=he.end===void 0?Pt:Math.min(he.end,vt);!Re.extend&&Pt>vn&&(B=vn,vn=Pt,Pt=B);var ye=dM(X,Pt),pe=dM(X,vn);if(ye&&pe&&(Re.rangeCount!==1||Re.anchorNode!==ye.node||Re.anchorOffset!==ye.offset||Re.focusNode!==pe.node||Re.focusOffset!==pe.offset)){var Se=ze.createRange();Se.setStart(ye.node,ye.offset),Re.removeAllRanges(),Pt>vn?(Re.addRange(Se),Re.extend(pe.node,pe.offset)):(Se.setEnd(pe.node,pe.offset),Re.addRange(Se))}}}}for(ze=[],Re=X;Re=Re.parentNode;)Re.nodeType===1&&ze.push({element:Re,left:Re.scrollLeft,top:Re.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<ze.length;X++){var Ve=ze[X];Ve.element.scrollLeft=Ve.left,Ve.element.scrollTop=Ve.top}}Qw=!!Uk,Vk=Uk=null}finally{zr=T,Q.p=y,J.T=p}}c.current=d,as=2}}function C7(){if(as===2){as=0;var c=tf,d=np,p=(d.flags&8772)!==0;if((d.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var y=Q.p;Q.p=2;var T=zr;zr|=4;try{r7(c,d.alternate,d)}finally{zr=T,Q.p=y,J.T=p}}as=3}}function N7(){if(as===4||as===3){as=0,Lr();var c=tf,d=np,p=Du,y=p7;(d.subtreeFlags&10256)!==0||(d.flags&10256)!==0?as=5:(as=0,np=tf=null,I7(c,c.pendingLanes));var T=c.pendingLanes;if(T===0&&(ef=null),pi(p),d=d.stateNode,br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(rr,d,void 0,(d.current.flags&128)===128)}catch{}if(y!==null){d=J.T,T=Q.p,Q.p=2,J.T=null;try{for(var C=c.onRecoverableError,B=0;B<y.length;B++){var X=y[B];C(X.value,{componentStack:X.stack})}}finally{J.T=d,Q.p=T}}(Du&3)!==0&&Bw(),Mc(c),T=c.pendingLanes,(p&261930)!==0&&(T&42)!==0?c===kk?my++:(my=0,kk=c):my=0,py(0)}}function I7(c,d){(c.pooledCacheLanes&=d)===0&&(d=c.pooledCache,d!=null&&(c.pooledCache=null,Yv(d)))}function Bw(){return k7(),C7(),N7(),O7()}function O7(){if(as!==5)return!1;var c=tf,d=Sk;Sk=0;var p=pi(Du),y=J.T,T=Q.p;try{Q.p=32>p?32:p,J.T=null,p=Ak,Ak=null;var C=tf,B=Du;if(as=0,np=tf=null,Du=0,(zr&6)!==0)throw Error(n(331));var X=zr;if(zr|=4,f7(C.current),c7(C,C.current,B,p),zr=X,py(0,!1),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(rr,C)}catch{}return!0}finally{Q.p=T,J.T=y,I7(c,d)}}function R7(c,d,p){d=rl(p,d),d=sk(c.stateNode,d,2),c=Kd(c,d,2),c!==null&&(Jr(c,2),Mc(c))}function rn(c,d,p){if(c.tag===3)R7(c,c,p);else for(;d!==null;){if(d.tag===3){R7(d,c,p);break}else if(d.tag===1){var y=d.stateNode;if(typeof d.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ef===null||!ef.has(y))){c=rl(p,c),p=PL(2),y=Kd(d,p,2),y!==null&&(jL(p,y,d,c),Jr(y,2),Mc(y));break}}d=d.return}}function Ik(c,d,p){var y=c.pingCache;if(y===null){y=c.pingCache=new vde;var T=new Set;y.set(d,T)}else T=y.get(d),T===void 0&&(T=new Set,y.set(d,T));T.has(p)||(_k=!0,T.add(p),c=_de.bind(null,c,d,p),d.then(c,c))}function _de(c,d,p){var y=c.pingCache;y!==null&&y.delete(d),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,An===c&&(gr&p)===p&&(xi===4||xi===3&&(gr&62914560)===gr&&300>Gt()-Pw?(zr&2)===0&&ip(c,0):Ek|=p,rp===gr&&(rp=0)),Mc(c)}function P7(c,d){d===0&&(d=ri()),c=Mh(c,d),c!==null&&(Jr(c,d),Mc(c))}function Ede(c){var d=c.memoizedState,p=0;d!==null&&(p=d.retryLane),P7(c,p)}function Tde(c,d){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,T=c.memoizedState;T!==null&&(p=T.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(d),P7(c,p)}function Sde(c,d){return Ot(c,d)}var Uw=null,ap=null,Ok=!1,Vw=!1,Rk=!1,nf=0;function Mc(c){c!==ap&&c.next===null&&(ap===null?Uw=ap=c:ap=ap.next=c),Vw=!0,Ok||(Ok=!0,kde())}function py(c,d){if(!Rk&&Vw){Rk=!0;do for(var p=!1,y=Uw;y!==null;){if(c!==0){var T=y.pendingLanes;if(T===0)var C=0;else{var B=y.suspendedLanes,X=y.pingedLanes;C=(1<<31-Xr(42|c)+1)-1,C&=T&~(B&~X),C=C&201326741?C&201326741|1:C?C|2:0}C!==0&&(p=!0,L7(y,C))}else C=gr,C=Ct(y,y===An?C:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(C&3)===0||wr(y,C)||(p=!0,L7(y,C));y=y.next}while(p);Rk=!1}}function Ade(){j7()}function j7(){Vw=Ok=!1;var c=0;nf!==0&&Lde()&&(c=nf);for(var d=Gt(),p=null,y=Uw;y!==null;){var T=y.next,C=D7(y,d);C===0?(y.next=null,p===null?Uw=T:p.next=T,T===null&&(ap=p)):(p=y,(c!==0||(C&3)!==0)&&(Vw=!0)),y=T}as!==0&&as!==5||py(c),nf!==0&&(nf=0)}function D7(c,d){for(var p=c.suspendedLanes,y=c.pingedLanes,T=c.expirationTimes,C=c.pendingLanes&-62914561;0<C;){var B=31-Xr(C),X=1<<B,he=T[B];he===-1?((X&p)===0||(X&y)!==0)&&(T[B]=In(X,d)):he<=d&&(c.expiredLanes|=X),C&=~X}if(d=An,p=gr,p=Ct(c,c===d?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===d&&(tn===2||tn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&Yr(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||wr(c,p)){if(d=p&-p,d===c.callbackPriority)return d;switch(y!==null&&Yr(y),pi(p)){case 2:case 8:p=hi;break;case 32:p=xe;break;case 268435456:p=nt;break;default:p=xe}return y=M7.bind(null,c),p=Ot(p,y),c.callbackPriority=d,c.callbackNode=p,d}return y!==null&&y!==null&&Yr(y),c.callbackPriority=2,c.callbackNode=null,2}function M7(c,d){if(as!==0&&as!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(Bw()&&c.callbackNode!==p)return null;var y=gr;return y=Ct(c,c===An?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(v7(c,y,d),D7(c,Gt()),c.callbackNode!=null&&c.callbackNode===p?M7.bind(null,c):null)}function L7(c,d){if(Bw())return null;v7(c,d,!0)}function kde(){Bde(function(){(zr&6)!==0?Ot(Sn,Ade):j7()})}function Pk(){if(nf===0){var c=qm;c===0&&(c=mi,mi<<=1,(mi&261888)===0&&(mi=256)),nf=c}return nf}function F7(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:fn(""+c)}function B7(c,d){var p=d.ownerDocument.createElement("input");return p.name=d.name,p.value=d.value,c.id&&p.setAttribute("form",c.id),d.parentNode.insertBefore(p,d),c=new FormData(c),p.parentNode.removeChild(p),c}function Cde(c,d,p,y,T){if(d==="submit"&&p&&p.stateNode===T){var C=F7((T[se]||null).action),B=y.submitter;B&&(d=(d=B[se]||null)?F7(d.formAction):B.getAttribute("formAction"),d!==null&&(C=d,B=null));var X=new Nc("action","action",null,y,T);c.push({event:X,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(nf!==0){var he=B?B7(T,B):new FormData(T);ZA(p,{pending:!0,data:he,method:T.method,action:C},null,he)}}else typeof C=="function"&&(X.preventDefault(),he=B?B7(T,B):new FormData(T),ZA(p,{pending:!0,data:he,method:T.method,action:C},C,he))},currentTarget:T}]})}}for(var jk=0;jk<gA.length;jk++){var Dk=gA[jk],Nde=Dk.toLowerCase(),Ide=Dk[0].toUpperCase()+Dk.slice(1);zl(Nde,"on"+Ide)}zl(gM,"onAnimationEnd"),zl(vM,"onAnimationIteration"),zl(yM,"onAnimationStart"),zl("dblclick","onDoubleClick"),zl("focusin","onFocus"),zl("focusout","onBlur"),zl(Wue,"onTransitionRun"),zl(Gue,"onTransitionStart"),zl(Kue,"onTransitionCancel"),zl(xM,"onTransitionEnd"),xs("onMouseEnter",["mouseout","mouseover"]),xs("onMouseLeave",["mouseout","mouseover"]),xs("onPointerEnter",["pointerout","pointerover"]),xs("onPointerLeave",["pointerout","pointerover"]),en("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),en("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),en("onBeforeInput",["compositionend","keypress","textInput","paste"]),en("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),en("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Ode=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(gy));function U7(c,d){d=(d&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],T=y.event;y=y.listeners;e:{var C=void 0;if(d)for(var B=y.length-1;0<=B;B--){var X=y[B],he=X.instance,Ae=X.currentTarget;if(X=X.listener,he!==C&&T.isPropagationStopped())break e;C=X,T.currentTarget=Ae;try{C(T)}catch(Fe){rw(Fe)}T.currentTarget=null,C=he}else for(B=0;B<y.length;B++){if(X=y[B],he=X.instance,Ae=X.currentTarget,X=X.listener,he!==C&&T.isPropagationStopped())break e;C=X,T.currentTarget=Ae;try{C(T)}catch(Fe){rw(Fe)}T.currentTarget=null,C=he}}}}function hr(c,d){var p=d[we];p===void 0&&(p=d[we]=new Set);var y=c+"__bubble";p.has(y)||(V7(d,c,2,!1),p.add(y))}function Mk(c,d,p){var y=0;d&&(y|=4),V7(p,c,y,d)}var zw="_reactListening"+Math.random().toString(36).slice(2);function Lk(c){if(!c[zw]){c[zw]=!0,Fr.forEach(function(p){p!=="selectionchange"&&(Ode.has(p)||Mk(p,!1,c),Mk(p,!0,c))});var d=c.nodeType===9?c:c.ownerDocument;d===null||d[zw]||(d[zw]=!0,Mk("selectionchange",!1,d))}}function V7(c,d,p,y){switch(g9(d)){case 2:var T=sfe;break;case 8:T=afe;break;default:T=Jk}p=T.bind(null,d,p,c),T=void 0,!Ch||d!=="touchstart"&&d!=="touchmove"&&d!=="wheel"||(T=!0),y?T!==void 0?c.addEventListener(d,p,{capture:!0,passive:T}):c.addEventListener(d,p,!0):T!==void 0?c.addEventListener(d,p,{passive:T}):c.addEventListener(d,p,!1)}function Fk(c,d,p,y,T){var C=y;if((d&1)===0&&(d&2)===0&&y!==null)e:for(;;){if(y===null)return;var B=y.tag;if(B===3||B===4){var X=y.stateNode.containerInfo;if(X===T)break;if(B===4)for(B=y.return;B!==null;){var he=B.tag;if((he===3||he===4)&&B.stateNode.containerInfo===T)return;B=B.return}for(;X!==null;){if(B=Qe(X),B===null)return;if(he=B.tag,he===5||he===6||he===26||he===27){y=C=B;continue e}X=X.parentNode}}y=y.return}Fd(function(){var Ae=C,Fe=Jo(p),ze=[];e:{var Ce=bM.get(c);if(Ce!==void 0){var Re=Nc,vt=c;switch(c){case"keypress":if(Ih(p)===0)break e;case"keydown":case"keyup":Re=Zb;break;case"focusin":vt="focus",Re=Rh;break;case"focusout":vt="blur",Re=Rh;break;case"beforeblur":case"afterblur":Re=Rh;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Re=Vv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Re=Hb;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Re=L;break;case gM:case vM:case yM:Re=Wb;break;case xM:Re=te;break;case"scroll":case"scrollend":Re=Uv;break;case"wheel":Re=Ie;break;case"copy":case"cut":case"paste":Re=Gb;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Re=wu;break;case"toggle":case"beforetoggle":Re=Zt}var Pt=(d&4)!==0,vn=!Pt&&(c==="scroll"||c==="scrollend"),ye=Pt?Ce!==null?Ce+"Capture":null:Ce;Pt=[];for(var pe=Ae,Se;pe!==null;){var Ve=pe;if(Se=Ve.stateNode,Ve=Ve.tag,Ve!==5&&Ve!==26&&Ve!==27||Se===null||ye===null||(Ve=Fl(pe,ye),Ve!=null&&Pt.push(vy(pe,Ve,Se))),vn)break;pe=pe.return}0<Pt.length&&(Ce=new Re(Ce,vt,null,p,Fe),ze.push({event:Ce,listeners:Pt}))}}if((d&7)===0){e:{if(Ce=c==="mouseover"||c==="pointerover",Re=c==="mouseout"||c==="pointerout",Ce&&p!==bo&&(vt=p.relatedTarget||p.fromElement)&&(Qe(vt)||vt[oe]))break e;if((Re||Ce)&&(Ce=Fe.window===Fe?Fe:(Ce=Fe.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Re?(vt=p.relatedTarget||p.toElement,Re=Ae,vt=vt?Qe(vt):null,vt!==null&&(vn=s(vt),Pt=vt.tag,vt!==vn||Pt!==5&&Pt!==27&&Pt!==6)&&(vt=null)):(Re=null,vt=Ae),Re!==vt)){if(Pt=Vv,Ve="onMouseLeave",ye="onMouseEnter",pe="mouse",(c==="pointerout"||c==="pointerover")&&(Pt=wu,Ve="onPointerLeave",ye="onPointerEnter",pe="pointer"),vn=Re==null?Ce:qe(Re),Se=vt==null?Ce:qe(vt),Ce=new Pt(Ve,pe+"leave",Re,p,Fe),Ce.target=vn,Ce.relatedTarget=Se,Ve=null,Qe(Fe)===Ae&&(Pt=new Pt(ye,pe+"enter",vt,p,Fe),Pt.target=Se,Pt.relatedTarget=vn,Ve=Pt),vn=Ve,Re&&vt)t:{for(Pt=Rde,ye=Re,pe=vt,Se=0,Ve=ye;Ve;Ve=Pt(Ve))Se++;Ve=0;for(var Nt=pe;Nt;Nt=Pt(Nt))Ve++;for(;0<Se-Ve;)ye=Pt(ye),Se--;for(;0<Ve-Se;)pe=Pt(pe),Ve--;for(;Se--;){if(ye===pe||pe!==null&&ye===pe.alternate){Pt=ye;break t}ye=Pt(ye),pe=Pt(pe)}Pt=null}else Pt=null;Re!==null&&z7(ze,Ce,Re,Pt,!1),vt!==null&&vn!==null&&z7(ze,vn,vt,Pt,!0)}}e:{if(Ce=Ae?qe(Ae):window,Re=Ce.nodeName&&Ce.nodeName.toLowerCase(),Re==="select"||Re==="input"&&Ce.type==="file")var Ir=sM;else if(nM(Ce))if(aM)Ir=$ue;else{Ir=Vue;var _t=Uue}else Re=Ce.nodeName,!Re||Re.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?Ae&&St(Ae.elementType)&&(Ir=sM):Ir=zue;if(Ir&&(Ir=Ir(c,Ae))){iM(ze,Ir,p,Fe);break e}_t&&_t(c,Ce,Ae),c==="focusout"&&Ae&&Ce.type==="number"&&Ae.memoizedProps.value!=null&&Ah(Ce,"number",Ce.value)}switch(_t=Ae?qe(Ae):window,c){case"focusin":(nM(_t)||_t.contentEditable==="true")&&(Lm=_t,hA=Ae,Wv=null);break;case"focusout":Wv=hA=Lm=null;break;case"mousedown":mA=!0;break;case"contextmenu":case"mouseup":case"dragend":mA=!1,mM(ze,p,Fe);break;case"selectionchange":if(que)break;case"keydown":case"keyup":mM(ze,p,Fe)}var nr;if(Vr)e:{switch(c){case"compositionstart":var vr="onCompositionStart";break e;case"compositionend":vr="onCompositionEnd";break e;case"compositionupdate":vr="onCompositionUpdate";break e}vr=void 0}else Mm?Ph(c,p)&&(vr="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(vr="onCompositionStart");vr&&(Rc&&p.locale!=="ko"&&(Mm||vr!=="onCompositionStart"?vr==="onCompositionEnd"&&Mm&&(nr=Bv()):(Cc=Fe,Fv="value"in Cc?Cc.value:Cc.textContent,Mm=!0)),_t=$w(Ae,vr),0<_t.length&&(vr=new Oc(vr,c,null,p,Fe),ze.push({event:vr,listeners:_t}),nr?vr.data=nr:(nr=Dm(p),nr!==null&&(vr.data=nr)))),(nr=el?Mue(c,p):Lue(c,p))&&(vr=$w(Ae,"onBeforeInput"),0<vr.length&&(_t=new Oc("onBeforeInput","beforeinput",null,p,Fe),ze.push({event:_t,listeners:vr}),_t.data=nr)),Cde(ze,c,Ae,p,Fe)}U7(ze,d)})}function vy(c,d,p){return{instance:c,listener:d,currentTarget:p}}function $w(c,d){for(var p=d+"Capture",y=[];c!==null;){var T=c,C=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||C===null||(T=Fl(c,p),T!=null&&y.unshift(vy(c,T,C)),T=Fl(c,d),T!=null&&y.push(vy(c,T,C))),c.tag===3)return y;c=c.return}return[]}function Rde(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function z7(c,d,p,y,T){for(var C=d._reactName,B=[];p!==null&&p!==y;){var X=p,he=X.alternate,Ae=X.stateNode;if(X=X.tag,he!==null&&he===y)break;X!==5&&X!==26&&X!==27||Ae===null||(he=Ae,T?(Ae=Fl(p,C),Ae!=null&&B.unshift(vy(p,Ae,he))):T||(Ae=Fl(p,C),Ae!=null&&B.push(vy(p,Ae,he)))),p=p.return}B.length!==0&&c.push({event:d,listeners:B})}var Pde=/\r\n?/g,jde=/\u0000|\uFFFD/g;function $7(c){return(typeof c=="string"?c:""+c).replace(Pde,`
`).replace(jde,"")}function H7(c,d){return d=$7(d),$7(c)===d}function gn(c,d,p,y,T,C){switch(p){case"children":typeof y=="string"?d==="body"||d==="textarea"&&y===""||Vs(c,y):(typeof y=="number"||typeof y=="bigint")&&d!=="body"&&Vs(c,""+y);break;case"className":Ra(c,"class",y);break;case"tabIndex":Ra(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ra(c,p,y);break;case"style":dt(c,y,C);break;case"data":if(d!=="object"){Ra(c,"data",y);break}case"src":case"href":if(y===""&&(d!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=fn(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof C=="function"&&(p==="formAction"?(d!=="input"&&gn(c,d,"name",T.name,T,null),gn(c,d,"formEncType",T.formEncType,T,null),gn(c,d,"formMethod",T.formMethod,T,null),gn(c,d,"formTarget",T.formTarget,T,null)):(gn(c,d,"encType",T.encType,T,null),gn(c,d,"method",T.method,T,null),gn(c,d,"target",T.target,T,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=fn(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=hn);break;case"onScroll":y!=null&&hr("scroll",c);break;case"onScrollEnd":y!=null&&hr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=fn(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":hr("beforetoggle",c),hr("toggle",c),gi(c,"popover",y);break;case"xlinkActuate":vi(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":vi(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":vi(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":vi(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":vi(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":vi(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":vi(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":vi(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":vi(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":gi(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=bt.get(p)||p,gi(c,p,y))}}function Bk(c,d,p,y,T,C){switch(p){case"style":dt(c,y,C);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Vs(c,y):(typeof y=="number"||typeof y=="bigint")&&Vs(c,""+y);break;case"onScroll":y!=null&&hr("scroll",c);break;case"onScrollEnd":y!=null&&hr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=hn);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Br.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),d=p.slice(2,T?p.length-7:void 0),C=c[se]||null,C=C!=null?C[p]:null,typeof C=="function"&&c.removeEventListener(d,C,T),typeof y=="function")){typeof C!="function"&&C!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(d,y,T);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):gi(c,p,y)}}}function Ws(c,d,p){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":hr("error",c),hr("load",c);var y=!1,T=!1,C;for(C in p)if(p.hasOwnProperty(C)){var B=p[C];if(B!=null)switch(C){case"src":y=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:gn(c,d,C,B,p,null)}}T&&gn(c,d,"srcSet",p.srcSet,p,null),y&&gn(c,d,"src",p.src,p,null);return;case"input":hr("invalid",c);var X=C=B=T=null,he=null,Ae=null;for(y in p)if(p.hasOwnProperty(y)){var Fe=p[y];if(Fe!=null)switch(y){case"name":T=Fe;break;case"type":B=Fe;break;case"checked":he=Fe;break;case"defaultChecked":Ae=Fe;break;case"value":C=Fe;break;case"defaultValue":X=Fe;break;case"children":case"dangerouslySetInnerHTML":if(Fe!=null)throw Error(n(137,d));break;default:gn(c,d,y,Fe,p,null)}}Md(c,C,X,he,Ae,B,T,!1);return;case"select":hr("invalid",c),y=B=C=null;for(T in p)if(p.hasOwnProperty(T)&&(X=p[T],X!=null))switch(T){case"value":C=X;break;case"defaultValue":B=X;break;case"multiple":y=X;default:gn(c,d,T,X,p,null)}d=C,p=B,c.multiple=!!y,d!=null?Ml(c,!!y,d,!1):p!=null&&Ml(c,!!y,p,!0);return;case"textarea":hr("invalid",c),C=T=y=null;for(B in p)if(p.hasOwnProperty(B)&&(X=p[B],X!=null))switch(B){case"value":y=X;break;case"defaultValue":T=X;break;case"children":C=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(91));break;default:gn(c,d,B,X,p,null)}Ll(c,y,T,C);return;case"option":for(he in p)if(p.hasOwnProperty(he)&&(y=p[he],y!=null))switch(he){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:gn(c,d,he,y,p,null)}return;case"dialog":hr("beforetoggle",c),hr("toggle",c),hr("cancel",c),hr("close",c);break;case"iframe":case"object":hr("load",c);break;case"video":case"audio":for(y=0;y<gy.length;y++)hr(gy[y],c);break;case"image":hr("error",c),hr("load",c);break;case"details":hr("toggle",c);break;case"embed":case"source":case"link":hr("error",c),hr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ae in p)if(p.hasOwnProperty(Ae)&&(y=p[Ae],y!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,d));default:gn(c,d,Ae,y,p,null)}return;default:if(St(d)){for(Fe in p)p.hasOwnProperty(Fe)&&(y=p[Fe],y!==void 0&&Bk(c,d,Fe,y,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(y=p[X],y!=null&&gn(c,d,X,y,p,null))}function Dde(c,d,p,y){switch(d){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,C=null,B=null,X=null,he=null,Ae=null,Fe=null;for(Re in p){var ze=p[Re];if(p.hasOwnProperty(Re)&&ze!=null)switch(Re){case"checked":break;case"value":break;case"defaultValue":he=ze;default:y.hasOwnProperty(Re)||gn(c,d,Re,null,y,ze)}}for(var Ce in y){var Re=y[Ce];if(ze=p[Ce],y.hasOwnProperty(Ce)&&(Re!=null||ze!=null))switch(Ce){case"type":C=Re;break;case"name":T=Re;break;case"checked":Ae=Re;break;case"defaultChecked":Fe=Re;break;case"value":B=Re;break;case"defaultValue":X=Re;break;case"children":case"dangerouslySetInnerHTML":if(Re!=null)throw Error(n(137,d));break;default:Re!==ze&&gn(c,d,Ce,Re,y,ze)}}Dd(c,B,X,he,Ae,Fe,C,T);return;case"select":Re=B=X=Ce=null;for(C in p)if(he=p[C],p.hasOwnProperty(C)&&he!=null)switch(C){case"value":break;case"multiple":Re=he;default:y.hasOwnProperty(C)||gn(c,d,C,null,y,he)}for(T in y)if(C=y[T],he=p[T],y.hasOwnProperty(T)&&(C!=null||he!=null))switch(T){case"value":Ce=C;break;case"defaultValue":X=C;break;case"multiple":B=C;default:C!==he&&gn(c,d,T,C,y,he)}d=X,p=B,y=Re,Ce!=null?Ml(c,!!p,Ce,!1):!!y!=!!p&&(d!=null?Ml(c,!!p,d,!0):Ml(c,!!p,p?[]:"",!1));return;case"textarea":Re=Ce=null;for(X in p)if(T=p[X],p.hasOwnProperty(X)&&T!=null&&!y.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:gn(c,d,X,null,y,T)}for(B in y)if(T=y[B],C=p[B],y.hasOwnProperty(B)&&(T!=null||C!=null))switch(B){case"value":Ce=T;break;case"defaultValue":Re=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==C&&gn(c,d,B,T,y,C)}Im(c,Ce,Re);return;case"option":for(var vt in p)if(Ce=p[vt],p.hasOwnProperty(vt)&&Ce!=null&&!y.hasOwnProperty(vt))switch(vt){case"selected":c.selected=!1;break;default:gn(c,d,vt,null,y,Ce)}for(he in y)if(Ce=y[he],Re=p[he],y.hasOwnProperty(he)&&Ce!==Re&&(Ce!=null||Re!=null))switch(he){case"selected":c.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:gn(c,d,he,Ce,y,Re)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in p)Ce=p[Pt],p.hasOwnProperty(Pt)&&Ce!=null&&!y.hasOwnProperty(Pt)&&gn(c,d,Pt,null,y,Ce);for(Ae in y)if(Ce=y[Ae],Re=p[Ae],y.hasOwnProperty(Ae)&&Ce!==Re&&(Ce!=null||Re!=null))switch(Ae){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,d));break;default:gn(c,d,Ae,Ce,y,Re)}return;default:if(St(d)){for(var vn in p)Ce=p[vn],p.hasOwnProperty(vn)&&Ce!==void 0&&!y.hasOwnProperty(vn)&&Bk(c,d,vn,void 0,y,Ce);for(Fe in y)Ce=y[Fe],Re=p[Fe],!y.hasOwnProperty(Fe)||Ce===Re||Ce===void 0&&Re===void 0||Bk(c,d,Fe,Ce,y,Re);return}}for(var ye in p)Ce=p[ye],p.hasOwnProperty(ye)&&Ce!=null&&!y.hasOwnProperty(ye)&&gn(c,d,ye,null,y,Ce);for(ze in y)Ce=y[ze],Re=p[ze],!y.hasOwnProperty(ze)||Ce===Re||Ce==null&&Re==null||gn(c,d,ze,Ce,y,Re)}function q7(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Mde(){if(typeof performance.getEntriesByType=="function"){for(var c=0,d=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var T=p[y],C=T.transferSize,B=T.initiatorType,X=T.duration;if(C&&X&&q7(B)){for(B=0,X=T.responseEnd,y+=1;y<p.length;y++){var he=p[y],Ae=he.startTime;if(Ae>X)break;var Fe=he.transferSize,ze=he.initiatorType;Fe&&q7(ze)&&(he=he.responseEnd,B+=Fe*(he<X?1:(X-Ae)/(he-Ae)))}if(--y,d+=8*(C+B)/(T.duration/1e3),c++,10<c)break}}if(0<c)return d/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var Uk=null,Vk=null;function Hw(c){return c.nodeType===9?c:c.ownerDocument}function W7(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function G7(c,d){if(c===0)switch(d){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&d==="foreignObject"?0:c}function zk(c,d){return c==="textarea"||c==="noscript"||typeof d.children=="string"||typeof d.children=="number"||typeof d.children=="bigint"||typeof d.dangerouslySetInnerHTML=="object"&&d.dangerouslySetInnerHTML!==null&&d.dangerouslySetInnerHTML.__html!=null}var $k=null;function Lde(){var c=window.event;return c&&c.type==="popstate"?c===$k?!1:($k=c,!0):($k=null,!1)}var K7=typeof setTimeout=="function"?setTimeout:void 0,Fde=typeof clearTimeout=="function"?clearTimeout:void 0,Y7=typeof Promise=="function"?Promise:void 0,Bde=typeof queueMicrotask=="function"?queueMicrotask:typeof Y7<"u"?function(c){return Y7.resolve(null).then(c).catch(Ude)}:K7;function Ude(c){setTimeout(function(){throw c})}function sf(c){return c==="head"}function X7(c,d){var p=d,y=0;do{var T=p.nextSibling;if(c.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(T),up(d);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")yy(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,yy(p);for(var C=p.firstChild;C;){var B=C.nextSibling,X=C.nodeName;C[_e]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&C.rel.toLowerCase()==="stylesheet"||p.removeChild(C),C=B}}else p==="body"&&yy(c.ownerDocument.body);p=T}while(p);up(d)}function Q7(c,d){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?d?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(d?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function Hk(c){var d=c.firstChild;for(d&&d.nodeType===10&&(d=d.nextSibling);d;){var p=d;switch(d=d.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":Hk(p),We(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function Vde(c,d,p,y){for(;c.nodeType===1;){var T=p;if(c.nodeName.toLowerCase()!==d.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[_e])switch(d){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(C=c.getAttribute("rel"),C==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(C!==T.rel||c.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(C=c.getAttribute("src"),(C!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&C&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(d==="input"&&c.type==="hidden"){var C=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===C)return c}else return c;if(c=ol(c.nextSibling),c===null)break}return null}function zde(c,d,p){if(d==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=ol(c.nextSibling),c===null))return null;return c}function J7(c,d){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!d||(c=ol(c.nextSibling),c===null))return null;return c}function qk(c){return c.data==="$?"||c.data==="$~"}function Wk(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function $de(c,d){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=d;else if(c.data!=="$?"||p.readyState!=="loading")d();else{var y=function(){d(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function ol(c){for(;c!=null;c=c.nextSibling){var d=c.nodeType;if(d===1||d===3)break;if(d===8){if(d=c.data,d==="$"||d==="$!"||d==="$?"||d==="$~"||d==="&"||d==="F!"||d==="F")break;if(d==="/$"||d==="/&")return null}}return c}var Gk=null;function Z7(c){c=c.nextSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(d===0)return ol(c.nextSibling);d--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||d++}c=c.nextSibling}return null}function e9(c){c=c.previousSibling;for(var d=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(d===0)return c;d--}else p!=="/$"&&p!=="/&"||d++}c=c.previousSibling}return null}function t9(c,d,p){switch(d=Hw(p),c){case"html":if(c=d.documentElement,!c)throw Error(n(452));return c;case"head":if(c=d.head,!c)throw Error(n(453));return c;case"body":if(c=d.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function yy(c){for(var d=c.attributes;d.length;)c.removeAttributeNode(d[0]);We(c)}var ll=new Map,r9=new Set;function qw(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Mu=Q.d;Q.d={f:Hde,r:qde,D:Wde,C:Gde,L:Kde,m:Yde,X:Qde,S:Xde,M:Jde};function Hde(){var c=Mu.f(),d=Mw();return c||d}function qde(c){var d=ct(c);d!==null&&d.tag===5&&d.type==="form"?xL(d):Mu.r(c)}var op=typeof document>"u"?null:document;function n9(c,d,p){var y=op;if(y&&typeof d=="string"&&d){var T=la(d);T='link[rel="'+c+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),r9.has(T)||(r9.add(T),c={rel:c,crossOrigin:p,href:d},y.querySelector(T)===null&&(d=y.createElement("link"),Ws(d,"link",c),pt(d),y.head.appendChild(d)))}}function Wde(c){Mu.D(c),n9("dns-prefetch",c,null)}function Gde(c,d){Mu.C(c,d),n9("preconnect",c,d)}function Kde(c,d,p){Mu.L(c,d,p);var y=op;if(y&&c&&d){var T='link[rel="preload"][as="'+la(d)+'"]';d==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+la(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+la(p.imageSizes)+'"]')):T+='[href="'+la(c)+'"]';var C=T;switch(d){case"style":C=lp(c);break;case"script":C=cp(c)}ll.has(C)||(c=h({rel:"preload",href:d==="image"&&p&&p.imageSrcSet?void 0:c,as:d},p),ll.set(C,c),y.querySelector(T)!==null||d==="style"&&y.querySelector(xy(C))||d==="script"&&y.querySelector(by(C))||(d=y.createElement("link"),Ws(d,"link",c),pt(d),y.head.appendChild(d)))}}function Yde(c,d){Mu.m(c,d);var p=op;if(p&&c){var y=d&&typeof d.as=="string"?d.as:"script",T='link[rel="modulepreload"][as="'+la(y)+'"][href="'+la(c)+'"]',C=T;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":C=cp(c)}if(!ll.has(C)&&(c=h({rel:"modulepreload",href:c},d),ll.set(C,c),p.querySelector(T)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(by(C)))return}y=p.createElement("link"),Ws(y,"link",c),pt(y),p.head.appendChild(y)}}}function Xde(c,d,p){Mu.S(c,d,p);var y=op;if(y&&c){var T=tt(y).hoistableStyles,C=lp(c);d=d||"default";var B=T.get(C);if(!B){var X={loading:0,preload:null};if(B=y.querySelector(xy(C)))X.loading=5;else{c=h({rel:"stylesheet",href:c,"data-precedence":d},p),(p=ll.get(C))&&Kk(c,p);var he=B=y.createElement("link");pt(he),Ws(he,"link",c),he._p=new Promise(function(Ae,Fe){he.onload=Ae,he.onerror=Fe}),he.addEventListener("load",function(){X.loading|=1}),he.addEventListener("error",function(){X.loading|=2}),X.loading|=4,Ww(B,d,y)}B={type:"stylesheet",instance:B,count:1,state:X},T.set(C,B)}}}function Qde(c,d){Mu.X(c,d);var p=op;if(p&&c){var y=tt(p).hoistableScripts,T=cp(c),C=y.get(T);C||(C=p.querySelector(by(T)),C||(c=h({src:c,async:!0},d),(d=ll.get(T))&&Yk(c,d),C=p.createElement("script"),pt(C),Ws(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(T,C))}}function Jde(c,d){Mu.M(c,d);var p=op;if(p&&c){var y=tt(p).hoistableScripts,T=cp(c),C=y.get(T);C||(C=p.querySelector(by(T)),C||(c=h({src:c,async:!0,type:"module"},d),(d=ll.get(T))&&Yk(c,d),C=p.createElement("script"),pt(C),Ws(C,"link",c),p.head.appendChild(C)),C={type:"script",instance:C,count:1,state:null},y.set(T,C))}}function i9(c,d,p,y){var T=(T=ue.current)?qw(T):null;if(!T)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(d=lp(p.href),p=tt(T).hoistableStyles,y=p.get(d),y||(y={type:"style",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=lp(p.href);var C=tt(T).hoistableStyles,B=C.get(c);if(B||(T=T.ownerDocument||T,B={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},C.set(c,B),(C=T.querySelector(xy(c)))&&!C._p&&(B.instance=C,B.state.loading=5),ll.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},ll.set(c,p),C||Zde(T,c,p,B.state))),d&&y===null)throw Error(n(528,""));return B}if(d&&y!==null)throw Error(n(529,""));return null;case"script":return d=p.async,p=p.src,typeof p=="string"&&d&&typeof d!="function"&&typeof d!="symbol"?(d=cp(p),p=tt(T).hoistableScripts,y=p.get(d),y||(y={type:"script",instance:null,count:0,state:null},p.set(d,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function lp(c){return'href="'+la(c)+'"'}function xy(c){return'link[rel="stylesheet"]['+c+"]"}function s9(c){return h({},c,{"data-precedence":c.precedence,precedence:null})}function Zde(c,d,p,y){c.querySelector('link[rel="preload"][as="style"]['+d+"]")?y.loading=1:(d=c.createElement("link"),y.preload=d,d.addEventListener("load",function(){return y.loading|=1}),d.addEventListener("error",function(){return y.loading|=2}),Ws(d,"link",p),pt(d),c.head.appendChild(d))}function cp(c){return'[src="'+la(c)+'"]'}function by(c){return"script[async]"+c}function a9(c,d,p){if(d.count++,d.instance===null)switch(d.type){case"style":var y=c.querySelector('style[data-href~="'+la(p.href)+'"]');if(y)return d.instance=y,pt(y),y;var T=h({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),pt(y),Ws(y,"style",T),Ww(y,p.precedence,c),d.instance=y;case"stylesheet":T=lp(p.href);var C=c.querySelector(xy(T));if(C)return d.state.loading|=4,d.instance=C,pt(C),C;y=s9(p),(T=ll.get(T))&&Kk(y,T),C=(c.ownerDocument||c).createElement("link"),pt(C);var B=C;return B._p=new Promise(function(X,he){B.onload=X,B.onerror=he}),Ws(C,"link",y),d.state.loading|=4,Ww(C,p.precedence,c),d.instance=C;case"script":return C=cp(p.src),(T=c.querySelector(by(C)))?(d.instance=T,pt(T),T):(y=p,(T=ll.get(C))&&(y=h({},p),Yk(y,T)),c=c.ownerDocument||c,T=c.createElement("script"),pt(T),Ws(T,"link",y),c.head.appendChild(T),d.instance=T);case"void":return null;default:throw Error(n(443,d.type))}else d.type==="stylesheet"&&(d.state.loading&4)===0&&(y=d.instance,d.state.loading|=4,Ww(y,p.precedence,c));return d.instance}function Ww(c,d,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=y.length?y[y.length-1]:null,C=T,B=0;B<y.length;B++){var X=y[B];if(X.dataset.precedence===d)C=X;else if(C!==T)break}C?C.parentNode.insertBefore(c,C.nextSibling):(d=p.nodeType===9?p.head:p,d.insertBefore(c,d.firstChild))}function Kk(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.title==null&&(c.title=d.title)}function Yk(c,d){c.crossOrigin==null&&(c.crossOrigin=d.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=d.referrerPolicy),c.integrity==null&&(c.integrity=d.integrity)}var Gw=null;function o9(c,d,p){if(Gw===null){var y=new Map,T=Gw=new Map;T.set(p,y)}else T=Gw,y=T.get(p),y||(y=new Map,T.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),T=0;T<p.length;T++){var C=p[T];if(!(C[_e]||C[re]||c==="link"&&C.getAttribute("rel")==="stylesheet")&&C.namespaceURI!=="http://www.w3.org/2000/svg"){var B=C.getAttribute(d)||"";B=c+B;var X=y.get(B);X?X.push(C):y.set(B,[C])}}return y}function l9(c,d,p){c=c.ownerDocument||c,c.head.insertBefore(p,d==="title"?c.querySelector("head > title"):null)}function efe(c,d,p){if(p===1||d.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof d.precedence!="string"||typeof d.href!="string"||d.href==="")break;return!0;case"link":if(typeof d.rel!="string"||typeof d.href!="string"||d.href===""||d.onLoad||d.onError)break;switch(d.rel){case"stylesheet":return c=d.disabled,typeof d.precedence=="string"&&c==null;default:return!0}case"script":if(d.async&&typeof d.async!="function"&&typeof d.async!="symbol"&&!d.onLoad&&!d.onError&&d.src&&typeof d.src=="string")return!0}return!1}function c9(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function tfe(c,d,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=lp(y.href),C=d.querySelector(xy(T));if(C){d=C._p,d!==null&&typeof d=="object"&&typeof d.then=="function"&&(c.count++,c=Kw.bind(c),d.then(c,c)),p.state.loading|=4,p.instance=C,pt(C);return}C=d.ownerDocument||d,y=s9(y),(T=ll.get(T))&&Kk(y,T),C=C.createElement("link"),pt(C);var B=C;B._p=new Promise(function(X,he){B.onload=X,B.onerror=he}),Ws(C,"link",y),p.instance=C}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,d),(d=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=Kw.bind(c),d.addEventListener("load",p),d.addEventListener("error",p))}}var Xk=0;function rfe(c,d){return c.stylesheets&&c.count===0&&Xw(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&Xw(c,c.stylesheets),c.unsuspend){var C=c.unsuspend;c.unsuspend=null,C()}},6e4+d);0<c.imgBytes&&Xk===0&&(Xk=62500*Mde());var T=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&Xw(c,c.stylesheets),c.unsuspend)){var C=c.unsuspend;c.unsuspend=null,C()}},(c.imgBytes>Xk?50:800)+d);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(T)}}:null}function Kw(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)Xw(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var Yw=null;function Xw(c,d){c.stylesheets=null,c.unsuspend!==null&&(c.count++,Yw=new Map,d.forEach(nfe,c),Yw=null,Kw.call(c))}function nfe(c,d){if(!(d.state.loading&4)){var p=Yw.get(c);if(p)var y=p.get(null);else{p=new Map,Yw.set(c,p);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),C=0;C<T.length;C++){var B=T[C];(B.nodeName==="LINK"||B.getAttribute("media")!=="not all")&&(p.set(B.dataset.precedence,B),y=B)}y&&p.set(null,y)}T=d.instance,B=T.getAttribute("data-precedence"),C=p.get(B)||y,C===y&&p.set(null,T),p.set(B,T),this.count++,y=Kw.bind(this),T.addEventListener("load",y),T.addEventListener("error",y),C?C.parentNode.insertBefore(T,C.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),d.state.loading|=4}}var wy={$$typeof:k,Provider:null,Consumer:null,_currentValue:fe,_currentValue2:fe,_threadCount:0};function ife(c,d,p,y,T,C,B,X,he){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ni(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ni(0),this.hiddenUpdates=ni(null),this.identifierPrefix=y,this.onUncaughtError=T,this.onCaughtError=C,this.onRecoverableError=B,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=he,this.incompleteTransitions=new Map}function u9(c,d,p,y,T,C,B,X,he,Ae,Fe,ze){return c=new ife(c,d,p,B,he,Ae,Fe,ze,X),d=1,C===!0&&(d|=24),C=_o(3,null,null,d),c.current=C,C.stateNode=c,d=NA(),d.refCount++,c.pooledCache=d,d.refCount++,C.memoizedState={element:y,isDehydrated:p,cache:d},PA(C),c}function d9(c){return c?(c=Um,c):Um}function f9(c,d,p,y,T,C){T=d9(T),y.context===null?y.context=T:y.pendingContext=T,y=Gd(d),y.payload={element:p},C=C===void 0?null:C,C!==null&&(y.callback=C),p=Kd(c,y,d),p!==null&&(Za(p,c,d),Zv(p,c,d))}function h9(c,d){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<d?p:d}}function Qk(c,d){h9(c,d),(c=c.alternate)&&h9(c,d)}function m9(c){if(c.tag===13||c.tag===31){var d=Mh(c,67108864);d!==null&&Za(d,c,67108864),Qk(c,67108864)}}function p9(c){if(c.tag===13||c.tag===31){var d=ko();d=Us(d);var p=Mh(c,d);p!==null&&Za(p,c,d),Qk(c,d)}}var Qw=!0;function sfe(c,d,p,y){var T=J.T;J.T=null;var C=Q.p;try{Q.p=2,Jk(c,d,p,y)}finally{Q.p=C,J.T=T}}function afe(c,d,p,y){var T=J.T;J.T=null;var C=Q.p;try{Q.p=8,Jk(c,d,p,y)}finally{Q.p=C,J.T=T}}function Jk(c,d,p,y){if(Qw){var T=Zk(y);if(T===null)Fk(c,d,y,Jw,p),v9(c,y);else if(lfe(T,c,d,p,y))y.stopPropagation();else if(v9(c,y),d&4&&-1<ofe.indexOf(c)){for(;T!==null;){var C=ct(T);if(C!==null)switch(C.tag){case 3:if(C=C.stateNode,C.current.memoizedState.isDehydrated){var B=Bi(C.pendingLanes);if(B!==0){var X=C;for(X.pendingLanes|=2,X.entangledLanes|=2;B;){var he=1<<31-Xr(B);X.entanglements[1]|=he,B&=~he}Mc(C),(zr&6)===0&&(jw=Gt()+500,py(0))}}break;case 31:case 13:X=Mh(C,2),X!==null&&Za(X,C,2),Mw(),Qk(C,2)}if(C=Zk(y),C===null&&Fk(c,d,y,Jw,p),C===T)break;T=C}T!==null&&y.stopPropagation()}else Fk(c,d,y,null,p)}}function Zk(c){return c=Jo(c),eC(c)}var Jw=null;function eC(c){if(Jw=null,c=Qe(c),c!==null){var d=s(c);if(d===null)c=null;else{var p=d.tag;if(p===13){if(c=a(d),c!==null)return c;c=null}else if(p===31){if(c=o(d),c!==null)return c;c=null}else if(p===3){if(d.stateNode.current.memoizedState.isDehydrated)return d.tag===3?d.stateNode.containerInfo:null;c=null}else d!==c&&(c=null)}}return Jw=c,null}function g9(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Sn:return 2;case hi:return 8;case xe:case Ke:return 32;case nt:return 268435456;default:return 32}default:return 32}}var tC=!1,af=null,of=null,lf=null,_y=new Map,Ey=new Map,cf=[],ofe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function v9(c,d){switch(c){case"focusin":case"focusout":af=null;break;case"dragenter":case"dragleave":of=null;break;case"mouseover":case"mouseout":lf=null;break;case"pointerover":case"pointerout":_y.delete(d.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ey.delete(d.pointerId)}}function Ty(c,d,p,y,T,C){return c===null||c.nativeEvent!==C?(c={blockedOn:d,domEventName:p,eventSystemFlags:y,nativeEvent:C,targetContainers:[T]},d!==null&&(d=ct(d),d!==null&&m9(d)),c):(c.eventSystemFlags|=y,d=c.targetContainers,T!==null&&d.indexOf(T)===-1&&d.push(T),c)}function lfe(c,d,p,y,T){switch(d){case"focusin":return af=Ty(af,c,d,p,y,T),!0;case"dragenter":return of=Ty(of,c,d,p,y,T),!0;case"mouseover":return lf=Ty(lf,c,d,p,y,T),!0;case"pointerover":var C=T.pointerId;return _y.set(C,Ty(_y.get(C)||null,c,d,p,y,T)),!0;case"gotpointercapture":return C=T.pointerId,Ey.set(C,Ty(Ey.get(C)||null,c,d,p,y,T)),!0}return!1}function y9(c){var d=Qe(c.target);if(d!==null){var p=s(d);if(p!==null){if(d=p.tag,d===13){if(d=a(p),d!==null){c.blockedOn=d,ae(c.priority,function(){p9(p)});return}}else if(d===31){if(d=o(p),d!==null){c.blockedOn=d,ae(c.priority,function(){p9(p)});return}}else if(d===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function Zw(c){if(c.blockedOn!==null)return!1;for(var d=c.targetContainers;0<d.length;){var p=Zk(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);bo=y,p.target.dispatchEvent(y),bo=null}else return d=ct(p),d!==null&&m9(d),c.blockedOn=p,!1;d.shift()}return!0}function x9(c,d,p){Zw(c)&&p.delete(d)}function cfe(){tC=!1,af!==null&&Zw(af)&&(af=null),of!==null&&Zw(of)&&(of=null),lf!==null&&Zw(lf)&&(lf=null),_y.forEach(x9),Ey.forEach(x9)}function e_(c,d){c.blockedOn===d&&(c.blockedOn=null,tC||(tC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,cfe)))}var t_=null;function b9(c){t_!==c&&(t_=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){t_===c&&(t_=null);for(var d=0;d<c.length;d+=3){var p=c[d],y=c[d+1],T=c[d+2];if(typeof y!="function"){if(eC(y||p)===null)continue;break}var C=ct(p);C!==null&&(c.splice(d,3),d-=3,ZA(C,{pending:!0,data:T,method:p.method,action:y},y,T))}}))}function up(c){function d(he){return e_(he,c)}af!==null&&e_(af,c),of!==null&&e_(of,c),lf!==null&&e_(lf,c),_y.forEach(d),Ey.forEach(d);for(var p=0;p<cf.length;p++){var y=cf[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<cf.length&&(p=cf[0],p.blockedOn===null);)y9(p),p.blockedOn===null&&cf.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var T=p[y],C=p[y+1],B=T[se]||null;if(typeof C=="function")B||b9(p);else if(B){var X=null;if(C&&C.hasAttribute("formAction")){if(T=C,B=C[se]||null)X=B.formAction;else if(eC(T)!==null)continue}else X=B.action;typeof X=="function"?p[y+1]=X:(p.splice(y,3),y-=3),b9(p)}}}function w9(){function c(C){C.canIntercept&&C.info==="react-transition"&&C.intercept({handler:function(){return new Promise(function(B){return T=B})},focusReset:"manual",scroll:"manual"})}function d(){T!==null&&(T(),T=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var C=navigation.currentEntry;C&&C.url!=null&&navigation.navigate(C.url,{state:C.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,T=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",d),navigation.addEventListener("navigateerror",d),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",d),navigation.removeEventListener("navigateerror",d),T!==null&&(T(),T=null)}}}function rC(c){this._internalRoot=c}r_.prototype.render=rC.prototype.render=function(c){var d=this._internalRoot;if(d===null)throw Error(n(409));var p=d.current,y=ko();f9(p,y,c,d,null,null)},r_.prototype.unmount=rC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var d=c.containerInfo;f9(c.current,2,null,c,null,null),Mw(),d[oe]=null}};function r_(c){this._internalRoot=c}r_.prototype.unstable_scheduleHydration=function(c){if(c){var d=K();c={blockedOn:null,target:c,priority:d};for(var p=0;p<cf.length&&d!==0&&d<cf[p].priority;p++);cf.splice(p,0,c),p===0&&y9(c)}};var _9=e.version;if(_9!=="19.2.0")throw Error(n(527,_9,"19.2.0"));Q.findDOMNode=function(c){var d=c._reactInternals;if(d===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(d),c=c!==null?f(c):null,c=c===null?null:c.stateNode,c};var ufe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var n_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!n_.isDisabled&&n_.supportsFiber)try{rr=n_.inject(ufe),br=n_}catch{}}return Ay.createRoot=function(c,d){if(!i(c))throw Error(n(299));var p=!1,y="",T=NL,C=IL,B=OL;return d!=null&&(d.unstable_strictMode===!0&&(p=!0),d.identifierPrefix!==void 0&&(y=d.identifierPrefix),d.onUncaughtError!==void 0&&(T=d.onUncaughtError),d.onCaughtError!==void 0&&(C=d.onCaughtError),d.onRecoverableError!==void 0&&(B=d.onRecoverableError)),d=u9(c,1,!1,null,null,p,y,null,T,C,B,w9),c[oe]=d.current,Lk(c),new rC(d)},Ay.hydrateRoot=function(c,d,p){if(!i(c))throw Error(n(299));var y=!1,T="",C=NL,B=IL,X=OL,he=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(C=p.onUncaughtError),p.onCaughtError!==void 0&&(B=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.formState!==void 0&&(he=p.formState)),d=u9(c,1,!0,d,p??null,y,T,he,C,B,X,w9),d.context=d9(null),p=d.current,y=ko(),y=Us(y),T=Gd(y),T.callback=null,Kd(p,T,y),p=y,d.current.lanes=p,Jr(d,p),Mc(d),c[oe]=d.current,Lk(c),new r_(d)},Ay.version="19.2.0",Ay}var R9;function Efe(){if(R9)return aC.exports;R9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),aC.exports=_fe(),aC.exports}var Tfe=Efe();const Sfe=Yo(Tfe),Afe="modulepreload",kfe=function(t){return"/ontap/"+t},P9={},Fn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(u){return Promise.all(u.map(f=>Promise.resolve(f).then(h=>({status:"fulfilled",value:h}),h=>({status:"rejected",reason:h}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(r.map(u=>{if(u=kfe(u),u in P9)return;P9[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const g=document.createElement("link");if(g.rel=f?"stylesheet":Afe,f||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),f)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},HK=N.createContext(void 0),qK=({children:t})=>{const[e,r]=N.useState("light");N.useEffect(()=>{let s=localStorage.getItem("theme");(!s||s==="noel")&&(s="light",localStorage.setItem("theme","light")),r(s),document.documentElement.setAttribute("data-theme",s)},[]);const n=i=>{r(i),document.documentElement.setAttribute("data-theme",i),localStorage.setItem("theme",i)};return m.jsx(HK.Provider,{value:{theme:e,setTheme:n},children:t})},sa=()=>{const t=N.useContext(HK);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},h6=N.createContext({});function m6(t){const e=N.useRef(null);return e.current===null&&(e.current=t()),e.current}const p6=typeof window<"u",WK=p6?N.useLayoutEffect:N.useEffect,XT=N.createContext(null);function g6(t,e){t.indexOf(e)===-1&&t.push(e)}function v6(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const od=(t,e,r)=>r>e?e:r<t?t:r;let y6=()=>{};const ld={},GK=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function KK(t){return typeof t=="object"&&t!==null}const YK=t=>/^0[^.\s]+$/u.test(t);function x6(t){let e;return()=>(e===void 0&&(e=t()),e)}const Al=t=>t,Cfe=(t,e)=>r=>e(t(r)),Lx=(...t)=>t.reduce(Cfe),N1=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class b6{constructor(){this.subscriptions=[]}add(e){return g6(this.subscriptions,e),()=>v6(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qc=t=>t*1e3,bl=t=>t/1e3;function XK(t,e){return e?t*(1e3/e):0}const QK=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,Nfe=1e-7,Ife=12;function Ofe(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=QK(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>Nfe&&++o<Ife);return a}function Fx(t,e,r,n){if(t===e&&r===n)return Al;const i=s=>Ofe(s,0,1,t,r);return s=>s===0||s===1?s:QK(i(s),e,n)}const JK=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,ZK=t=>e=>1-t(1-e),eY=Fx(.33,1.53,.69,.99),w6=ZK(eY),tY=JK(w6),rY=t=>(t*=2)<1?.5*w6(t):.5*(2-Math.pow(2,-10*(t-1))),_6=t=>1-Math.sin(Math.acos(t)),nY=ZK(_6),iY=JK(_6),Rfe=Fx(.42,0,1,1),Pfe=Fx(0,0,.58,1),sY=Fx(.42,0,.58,1),jfe=t=>Array.isArray(t)&&typeof t[0]!="number",aY=t=>Array.isArray(t)&&typeof t[0]=="number",Dfe={linear:Al,easeIn:Rfe,easeInOut:sY,easeOut:Pfe,circIn:_6,circInOut:iY,circOut:nY,backIn:w6,backInOut:tY,backOut:eY,anticipate:rY},Mfe=t=>typeof t=="string",j9=t=>{if(aY(t)){y6(t.length===4);const[e,r,n,i]=t;return Fx(e,r,n,i)}else if(Mfe(t))return Dfe[t];return t},i_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function Lfe(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(f){a.has(f)&&(u.schedule(f),t()),f(o)}const u={schedule:(f,h=!1,g=!1)=>{const x=g&&i?r:n;return h&&a.add(f),x.has(f)||x.add(f),f},cancel:f=>{n.delete(f),a.delete(f)},process:f=>{if(o=f,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(f))}};return u}const Ffe=40;function oY(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=i_.reduce((k,R)=>(k[R]=Lfe(s),k),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:f,update:h,preRender:g,render:v,postRender:x}=a,b=()=>{const k=ld.useManualTiming?i.timestamp:performance.now();r=!1,ld.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(k-i.timestamp,Ffe),1)),i.timestamp=k,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),f.process(i),h.process(i),g.process(i),v.process(i),x.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(b))},w=()=>{r=!0,n=!0,i.isProcessing||t(b)};return{schedule:i_.reduce((k,R)=>{const j=a[R];return k[R]=(P,S=!1,I=!1)=>(r||w(),j.schedule(P,S,I)),k},{}),cancel:k=>{for(let R=0;R<i_.length;R++)a[i_[R]].cancel(k)},state:i,steps:a}}const{schedule:Qn,cancel:zf,state:Xs,steps:uC}=oY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Al,!0);let u2;function Bfe(){u2=void 0}const so={now:()=>(u2===void 0&&so.set(Xs.isProcessing||ld.useManualTiming?Xs.timestamp:performance.now()),u2),set:t=>{u2=t,queueMicrotask(Bfe)}},lY=t=>e=>typeof e=="string"&&e.startsWith(t),cY=lY("--"),Ufe=lY("var(--"),E6=t=>Ufe(t)?Vfe.test(t.split("/*")[0].trim()):!1,Vfe=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,Jg={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},I1={...Jg,transform:t=>od(0,1,t)},s_={...Jg,default:1},e1=t=>Math.round(t*1e5)/1e5,T6=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function zfe(t){return t==null}const $fe=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,S6=(t,e)=>r=>!!(typeof r=="string"&&$fe.test(r)&&r.startsWith(t)||e&&!zfe(r)&&Object.prototype.hasOwnProperty.call(r,e)),uY=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(T6);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},Hfe=t=>od(0,255,t),dC={...Jg,transform:t=>Math.round(Hfe(t))},u0={test:S6("rgb","red"),parse:uY("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+dC.transform(t)+", "+dC.transform(e)+", "+dC.transform(r)+", "+e1(I1.transform(n))+")"};function qfe(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const fI={test:S6("#"),parse:qfe,transform:u0.transform},Bx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),mf=Bx("deg"),Jc=Bx("%"),$t=Bx("px"),Wfe=Bx("vh"),Gfe=Bx("vw"),D9={...Jc,parse:t=>Jc.parse(t)/100,transform:t=>Jc.transform(t*100)},Rp={test:S6("hsl","hue"),parse:uY("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Jc.transform(e1(e))+", "+Jc.transform(e1(r))+", "+e1(I1.transform(n))+")"},Qi={test:t=>u0.test(t)||fI.test(t)||Rp.test(t),parse:t=>u0.test(t)?u0.parse(t):Rp.test(t)?Rp.parse(t):fI.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?u0.transform(t):Rp.transform(t),getAnimatableNone:t=>{const e=Qi.parse(t);return e.alpha=0,Qi.transform(e)}},Kfe=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function Yfe(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(T6))==null?void 0:e.length)||0)+(((r=t.match(Kfe))==null?void 0:r.length)||0)>0}const dY="number",fY="color",Xfe="var",Qfe="var(",M9="${}",Jfe=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function O1(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Jfe,l=>(Qi.test(l)?(n.color.push(s),i.push(fY),r.push(Qi.parse(l))):l.startsWith(Qfe)?(n.var.push(s),i.push(Xfe),r.push(l)):(n.number.push(s),i.push(dY),r.push(parseFloat(l))),++s,M9)).split(M9);return{values:r,split:o,indexes:n,types:i}}function hY(t){return O1(t).values}function mY(t){const{split:e,types:r}=O1(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===dY?s+=e1(i[a]):o===fY?s+=Qi.transform(i[a]):s+=i[a]}return s}}const Zfe=t=>typeof t=="number"?0:Qi.test(t)?Qi.getAnimatableNone(t):t;function ehe(t){const e=hY(t);return mY(t)(e.map(Zfe))}const $f={test:Yfe,parse:hY,createTransformer:mY,getAnimatableNone:ehe};function fC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function the({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=fC(l,o,t+1/3),s=fC(l,o,t),a=fC(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function O2(t,e){return r=>r>0?e:t}const ai=(t,e,r)=>t+(e-t)*r,hC=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},rhe=[fI,u0,Rp],nhe=t=>rhe.find(e=>e.test(t));function L9(t){const e=nhe(t);if(!e)return!1;let r=e.parse(t);return e===Rp&&(r=the(r)),r}const F9=(t,e)=>{const r=L9(t),n=L9(e);if(!r||!n)return O2(t,e);const i={...r};return s=>(i.red=hC(r.red,n.red,s),i.green=hC(r.green,n.green,s),i.blue=hC(r.blue,n.blue,s),i.alpha=ai(r.alpha,n.alpha,s),u0.transform(i))},hI=new Set(["none","hidden"]);function ihe(t,e){return hI.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function she(t,e){return r=>ai(t,e,r)}function A6(t){return typeof t=="number"?she:typeof t=="string"?E6(t)?O2:Qi.test(t)?F9:lhe:Array.isArray(t)?pY:typeof t=="object"?Qi.test(t)?F9:ahe:O2}function pY(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>A6(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function ahe(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=A6(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function ohe(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const lhe=(t,e)=>{const r=$f.createTransformer(e),n=O1(t),i=O1(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?hI.has(t)&&!i.values.length||hI.has(e)&&!n.values.length?ihe(t,e):Lx(pY(ohe(n,i),i.values),r):O2(t,e)};function gY(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?ai(t,e,r):A6(t)(t,e)}const che=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>Qn.update(e,r),stop:()=>zf(e),now:()=>Xs.isProcessing?Xs.timestamp:so.now()}},vY=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},R2=2e4;function k6(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<R2;)e+=r,n=t.next(e);return e>=R2?1/0:e}function uhe(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(k6(n),R2);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:bl(i)}}const dhe=5;function yY(t,e,r){const n=Math.max(e-dhe,0);return XK(r-t(n),e-n)}const bi={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},mC=.001;function fhe({duration:t=bi.duration,bounce:e=bi.bounce,velocity:r=bi.velocity,mass:n=bi.mass}){let i,s,a=1-e;a=od(bi.minDamping,bi.maxDamping,a),t=od(bi.minDuration,bi.maxDuration,bl(t)),a<1?(i=u=>{const f=u*a,h=f*t,g=f-r,v=mI(u,a),x=Math.exp(-h);return mC-g/v*x},s=u=>{const h=u*a*t,g=h*r+r,v=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-h),b=mI(Math.pow(u,2),a);return(-i(u)+mC>0?-1:1)*((g-v)*x)/b}):(i=u=>{const f=Math.exp(-u*t),h=(u-r)*t+1;return-mC+f*h},s=u=>{const f=Math.exp(-u*t),h=(r-u)*(t*t);return f*h});const o=5/t,l=mhe(i,s,o);if(t=Qc(t),isNaN(l))return{stiffness:bi.stiffness,damping:bi.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const hhe=12;function mhe(t,e,r){let n=r;for(let i=1;i<hhe;i++)n=n-t(n)/e(n);return n}function mI(t,e){return t*Math.sqrt(1-e*e)}const phe=["duration","bounce"],ghe=["stiffness","damping","mass"];function B9(t,e){return e.some(r=>t[r]!==void 0)}function vhe(t){let e={velocity:bi.velocity,stiffness:bi.stiffness,damping:bi.damping,mass:bi.mass,isResolvedFromDuration:!1,...t};if(!B9(t,ghe)&&B9(t,phe))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*od(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:bi.mass,stiffness:i,damping:s}}else{const r=fhe(t);e={...e,...r,mass:bi.mass},e.isResolvedFromDuration=!0}return e}function P2(t=bi.visualDuration,e=bi.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:f,duration:h,velocity:g,isResolvedFromDuration:v}=vhe({...r,velocity:-bl(r.velocity||0)}),x=g||0,b=u/(2*Math.sqrt(l*f)),w=a-s,E=bl(Math.sqrt(l/f)),A=Math.abs(w)<5;n||(n=A?bi.restSpeed.granular:bi.restSpeed.default),i||(i=A?bi.restDelta.granular:bi.restDelta.default);let k;if(b<1){const j=mI(E,b);k=P=>{const S=Math.exp(-b*E*P);return a-S*((x+b*E*w)/j*Math.sin(j*P)+w*Math.cos(j*P))}}else if(b===1)k=j=>a-Math.exp(-E*j)*(w+(x+E*w)*j);else{const j=E*Math.sqrt(b*b-1);k=P=>{const S=Math.exp(-b*E*P),I=Math.min(j*P,300);return a-S*((x+b*E*w)*Math.sinh(I)+j*w*Math.cosh(I))/j}}const R={calculatedDuration:v&&h||null,next:j=>{const P=k(j);if(v)o.done=j>=h;else{let S=j===0?x:0;b<1&&(S=j===0?Qc(x):yY(k,j,P));const I=Math.abs(S)<=n,O=Math.abs(a-P)<=i;o.done=I&&O}return o.value=o.done?a:P,o},toString:()=>{const j=Math.min(k6(R),R2),P=vY(S=>R.next(j*S).value,j,30);return j+"ms "+P},toTransition:()=>{}};return R}P2.applyToOptions=t=>{const e=uhe(t,100,P2);return t.ease=e.ease,t.duration=Qc(e.duration),t.type="keyframes",t};function pI({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:f}){const h=t[0],g={done:!1,value:h},v=I=>o!==void 0&&I<o||l!==void 0&&I>l,x=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let b=r*e;const w=h+b,E=a===void 0?w:a(w);E!==w&&(b=E-h);const A=I=>-b*Math.exp(-I/n),k=I=>E+A(I),R=I=>{const O=A(I),D=k(I);g.done=Math.abs(O)<=u,g.value=g.done?E:D};let j,P;const S=I=>{v(g.value)&&(j=I,P=P2({keyframes:[g.value,x(g.value)],velocity:yY(k,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:f}))};return S(0),{calculatedDuration:null,next:I=>{let O=!1;return!P&&j===void 0&&(O=!0,R(I),S(I)),j!==void 0&&I>=j?P.next(I-j):(!O&&R(I),g)}}}function yhe(t,e,r){const n=[],i=r||ld.mix||gY,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Al:e;o=Lx(l,o)}n.push(o)}return n}function xhe(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(y6(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=yhe(e,n,i),l=o.length,u=f=>{if(a&&f<t[0])return e[0];let h=0;if(l>1)for(;h<t.length-2&&!(f<t[h+1]);h++);const g=N1(t[h],t[h+1],f);return o[h](g)};return r?f=>u(od(t[0],t[s-1],f)):u}function bhe(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=N1(0,e,n);t.push(ai(r,1,i))}}function whe(t){const e=[0];return bhe(e,t.length-1),e}function _he(t,e){return t.map(r=>r*e)}function Ehe(t,e){return t.map(()=>e||sY).splice(0,t.length-1)}function t1({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=jfe(n)?n.map(j9):j9(n),s={done:!1,value:e[0]},a=_he(r&&r.length===e.length?r:whe(e),t),o=xhe(a,e,{ease:Array.isArray(i)?i:Ehe(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const The=t=>t!==null;function C6(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(The),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const She={decay:pI,inertia:pI,tween:t1,keyframes:t1,spring:P2};function xY(t){typeof t.type=="string"&&(t.type=She[t.type])}class N6{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Ahe=t=>t/100;class I6 extends N6{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==so.now()&&this.tick(so.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;xY(e);const{type:r=t1,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||t1;l!==t1&&typeof o[0]!="number"&&(this.mixKeyframes=Lx(Ahe,gY(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=k6(u));const{calculatedDuration:f}=u;this.calculatedDuration=f,this.resolvedDuration=f+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:f,repeat:h,repeatType:g,repeatDelay:v,type:x,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const E=this.currentTime-u*(this.playbackSpeed>=0?1:-1),A=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let k=this.currentTime,R=n;if(h){const I=Math.min(this.currentTime,i)/o;let O=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&O--,O=Math.min(O,h+1),!!(O%2)&&(g==="reverse"?(D=1-D,v&&(D-=v/o)):g==="mirror"&&(R=a)),k=od(0,1,D)*o}const j=A?{done:!1,value:f[0]}:R.next(k);s&&(j.value=s(j.value));let{done:P}=j;!A&&l!==null&&(P=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&P);return S&&x!==pI&&(j.value=C6(f,this.options,w,this.speed)),b&&b(j.value),S&&this.finish(),j}then(e,r){return this.finished.then(e,r)}get duration(){return bl(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bl(e)}get time(){return bl(this.currentTime)}set time(e){var r;e=Qc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(so.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=bl(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=che,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(so.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function khe(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const d0=t=>t*180/Math.PI,gI=t=>{const e=d0(Math.atan2(t[1],t[0]));return vI(e)},Che={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:gI,rotateZ:gI,skewX:t=>d0(Math.atan(t[1])),skewY:t=>d0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},vI=t=>(t=t%360,t<0&&(t+=360),t),U9=gI,V9=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),z9=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),Nhe={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:V9,scaleY:z9,scale:t=>(V9(t)+z9(t))/2,rotateX:t=>vI(d0(Math.atan2(t[6],t[5]))),rotateY:t=>vI(d0(Math.atan2(-t[2],t[0]))),rotateZ:U9,rotate:U9,skewX:t=>d0(Math.atan(t[4])),skewY:t=>d0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function yI(t){return t.includes("scale")?1:0}function xI(t,e){if(!t||t==="none")return yI(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=Nhe,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Che,i=o}if(!i)return yI(e);const s=n[e],a=i[1].split(",").map(Ohe);return typeof s=="function"?s(a):a[s]}const Ihe=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return xI(r,e)};function Ohe(t){return parseFloat(t.trim())}const Zg=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],ev=new Set(Zg),$9=t=>t===Jg||t===$t,Rhe=new Set(["x","y","z"]),Phe=Zg.filter(t=>!Rhe.has(t));function jhe(t){const e=[];return Phe.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const E0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>xI(e,"x"),y:(t,{transform:e})=>xI(e,"y")};E0.translateX=E0.x;E0.translateY=E0.y;const T0=new Set;let bI=!1,wI=!1,_I=!1;function bY(){if(wI){const t=Array.from(T0).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=jhe(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}wI=!1,bI=!1,T0.forEach(t=>t.complete(_I)),T0.clear()}function wY(){T0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(wI=!0)})}function Dhe(){_I=!0,wY(),bY(),_I=!1}class O6{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(T0.add(this),bI||(bI=!0,Qn.read(wY),Qn.resolveKeyframes(bY))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}khe(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),T0.delete(this)}cancel(){this.state==="scheduled"&&(T0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Mhe=t=>t.startsWith("--");function Lhe(t,e,r){Mhe(e)?t.style.setProperty(e,r):t.style[e]=r}const Fhe=x6(()=>window.ScrollTimeline!==void 0),Bhe={};function Uhe(t,e){const r=x6(t);return()=>Bhe[e]??r()}const _Y=Uhe(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),zy=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,H9={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:zy([0,.65,.55,1]),circOut:zy([.55,0,1,.45]),backIn:zy([.31,.01,.66,-.59]),backOut:zy([.33,1.53,.69,.99])};function EY(t,e){if(t)return typeof t=="function"?_Y()?vY(t,e):"ease-out":aY(t)?zy(t):Array.isArray(t)?t.map(r=>EY(r,e)||H9.easeOut):H9[t]}function Vhe(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const f={[e]:r};l&&(f.offset=l);const h=EY(o,i);Array.isArray(h)&&(f.easing=h);const g={delay:n,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(f,g)}function TY(t){return typeof t=="function"&&"applyToOptions"in t}function zhe({type:t,...e}){return TY(t)&&_Y()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class $he extends N6{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,y6(typeof e.type!="string");const u=zhe(e);this.animation=Vhe(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const f=C6(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(f):Lhe(r,n,f),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return bl(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+bl(e)}get time(){return bl(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Fhe()?(this.animation.timeline=e,Al):r(this)}}const SY={anticipate:rY,backInOut:tY,circInOut:iY};function Hhe(t){return t in SY}function qhe(t){typeof t.ease=="string"&&Hhe(t.ease)&&(t.ease=SY[t.ease])}const q9=10;class Whe extends $he{constructor(e){qhe(e),xY(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new I6({...a,autoplay:!1}),l=Qc(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-q9).value,o.sample(l).value,q9),o.stop()}}const W9=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&($f.test(t)||t==="0")&&!t.startsWith("url("));function Ghe(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Khe(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=W9(i,e),o=W9(s,e);return!a||!o?!1:Ghe(t)||(r==="spring"||TY(r))&&n}function EI(t){t.duration=0,t.type="keyframes"}const Yhe=new Set(["opacity","clipPath","filter","transform"]),Xhe=x6(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Qhe(t){var f;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((f=e==null?void 0:e.owner)==null?void 0:f.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Xhe()&&r&&Yhe.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const Jhe=40;class Zhe extends N6{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:f,...h}){var x;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=so.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:f,...h},v=(f==null?void 0:f.KeyframeResolver)||O6;this.keyframeResolver=new v(o,(b,w,E)=>this.onKeyframesResolved(b,w,g,!E),l,u,f),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:f}=n;this.resolvedAt=so.now(),Khe(e,s,a,o)||((ld.instantAnimations||!l)&&(f==null||f(C6(e,n,r))),e[0]=e[e.length-1],EI(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Jhe?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!u&&Qhe(g)?new Whe({...g,element:g.motionValue.owner.current}):new I6(g);v.finished.then(()=>this.notifyFinished()).catch(Al),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Dhe()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const e0e=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function t0e(t){const e=e0e.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function AY(t,e,r=1){const[n,i]=t0e(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return GK(a)?parseFloat(a):a}return E6(i)?AY(i,e,r+1):i}function R6(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const kY=new Set(["width","height","top","left","right","bottom",...Zg]),r0e={test:t=>t==="auto",parse:t=>t},CY=t=>e=>e.test(t),NY=[Jg,$t,Jc,mf,Gfe,Wfe,r0e],G9=t=>NY.find(CY(t));function n0e(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||YK(t):!0}const i0e=new Set(["brightness","contrast","saturate","opacity"]);function s0e(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(T6)||[];if(!n)return t;const i=r.replace(n,"");let s=i0e.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const a0e=/\b([a-z-]*)\(.*?\)/gu,TI={...$f,getAnimatableNone:t=>{const e=t.match(a0e);return e?e.map(s0e).join(" "):t}},K9={...Jg,transform:Math.round},o0e={rotate:mf,rotateX:mf,rotateY:mf,rotateZ:mf,scale:s_,scaleX:s_,scaleY:s_,scaleZ:s_,skew:mf,skewX:mf,skewY:mf,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:I1,originX:D9,originY:D9,originZ:$t},P6={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,backgroundPositionX:$t,backgroundPositionY:$t,...o0e,zIndex:K9,fillOpacity:I1,strokeOpacity:I1,numOctaves:K9},l0e={...P6,color:Qi,backgroundColor:Qi,outlineColor:Qi,fill:Qi,stroke:Qi,borderColor:Qi,borderTopColor:Qi,borderRightColor:Qi,borderBottomColor:Qi,borderLeftColor:Qi,filter:TI,WebkitFilter:TI},IY=t=>l0e[t];function OY(t,e){let r=IY(t);return r!==TI&&(r=$f),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const c0e=new Set(["auto","none","0"]);function u0e(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!c0e.has(s)&&O1(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=OY(r,i)}class d0e extends O6{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),E6(u))){const f=AY(u,r.current);f!==void 0&&(e[l]=f),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!kY.has(n)||e.length!==2)return;const[i,s]=e,a=G9(i),o=G9(s);if(a!==o)if($9(a)&&$9(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else E0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||n0e(e[i]))&&n.push(i);n.length&&u0e(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=E0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=E0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function f0e(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const RY=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function PY(t){return KK(t)&&"offsetHeight"in t}const Y9=30,h0e=t=>!isNaN(parseFloat(t));class m0e{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=so.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=so.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=h0e(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new b6);const n=this.events[e].add(r);return e==="change"?()=>{n(),Qn.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=so.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>Y9)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,Y9);return XK(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function mg(t,e){return new m0e(t,e)}const{schedule:j6}=oY(queueMicrotask,!1),Yl={x:!1,y:!1};function jY(){return Yl.x||Yl.y}function p0e(t){return t==="x"||t==="y"?Yl[t]?null:(Yl[t]=!0,()=>{Yl[t]=!1}):Yl.x||Yl.y?null:(Yl.x=Yl.y=!0,()=>{Yl.x=Yl.y=!1})}function DY(t,e){const r=f0e(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function X9(t){return!(t.pointerType==="touch"||jY())}function g0e(t,e,r={}){const[n,i,s]=DY(t,r),a=o=>{if(!X9(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const f=h=>{X9(h)&&(u(h),l.removeEventListener("pointerleave",f))};l.addEventListener("pointerleave",f,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const MY=(t,e)=>e?t===e?!0:MY(t,e.parentElement):!1,D6=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,v0e=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function y0e(t){return v0e.has(t.tagName)||t.tabIndex!==-1}const d2=new WeakSet;function Q9(t){return e=>{e.key==="Enter"&&t(e)}}function pC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const x0e=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=Q9(()=>{if(d2.has(r))return;pC(r,"down");const i=Q9(()=>{pC(r,"up")}),s=()=>pC(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function J9(t){return D6(t)&&!jY()}function b0e(t,e,r={}){const[n,i,s]=DY(t,r),a=o=>{const l=o.currentTarget;if(!J9(o))return;d2.add(l);const u=e(l,o),f=(v,x)=>{window.removeEventListener("pointerup",h),window.removeEventListener("pointercancel",g),d2.has(l)&&d2.delete(l),J9(v)&&typeof u=="function"&&u(v,{success:x})},h=v=>{f(v,l===window||l===document||r.useGlobalTarget||MY(l,v.target))},g=v=>{f(v,!1)};window.addEventListener("pointerup",h,i),window.addEventListener("pointercancel",g,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),PY(o)&&(o.addEventListener("focus",u=>x0e(u,i)),!y0e(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function LY(t){return KK(t)&&"ownerSVGElement"in t}function w0e(t){return LY(t)&&t.tagName==="svg"}const _a=t=>!!(t&&t.getVelocity),_0e=[...NY,Qi,$f],E0e=t=>_0e.find(CY(t)),M6=N.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function Z9(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function T0e(...t){return e=>{let r=!1;const n=t.map(i=>{const s=Z9(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():Z9(t[i],null)}}}}function S0e(...t){return N.useCallback(T0e(...t),t)}class A0e extends N.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=PY(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function k0e({children:t,isPresent:e,anchorX:r,root:n}){const i=N.useId(),s=N.useRef(null),a=N.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=N.useContext(M6),l=S0e(s,t==null?void 0:t.ref);return N.useInsertionEffect(()=>{const{width:u,height:f,top:h,left:g,right:v}=a.current;if(e||!s.current||!u||!f)return;const x=r==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");o&&(b.nonce=o);const w=n??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${f}px !important;
            ${x}px !important;
            top: ${h}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[e]),m.jsx(A0e,{isPresent:e,childRef:s,sizeRef:a,children:N.cloneElement(t,{ref:l})})}const C0e=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=m6(N0e),f=N.useId();let h=!0,g=N.useMemo(()=>(h=!1,{id:f,initial:e,isPresent:r,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;n&&n()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[r,u,n]);return s&&h&&(g={...g}),N.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[r]),N.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(t=m.jsx(k0e,{isPresent:r,anchorX:o,root:l,children:t})),m.jsx(XT.Provider,{value:g,children:t})};function N0e(){return new Map}function FY(t=!0){const e=N.useContext(XT);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=N.useId();N.useEffect(()=>{if(t)return i(s)},[t]);const a=N.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const a_=t=>t.key||"";function eF(t){const e=[];return N.Children.forEach(t,r=>{N.isValidElement(r)&&e.push(r)}),e}const BY=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,f]=FY(a),h=N.useMemo(()=>eF(t),[t]),g=a&&!u?[]:h.map(a_),v=N.useRef(!0),x=N.useRef(h),b=m6(()=>new Map),[w,E]=N.useState(h),[A,k]=N.useState(h);WK(()=>{v.current=!1,x.current=h;for(let P=0;P<A.length;P++){const S=a_(A[P]);g.includes(S)?b.delete(S):b.get(S)!==!0&&b.set(S,!1)}},[A,g.length,g.join("-")]);const R=[];if(h!==w){let P=[...h];for(let S=0;S<A.length;S++){const I=A[S],O=a_(I);g.includes(O)||(P.splice(S,0,I),R.push(I))}return s==="wait"&&R.length&&(P=R),k(eF(P)),E(h),null}const{forceRender:j}=N.useContext(h6);return m.jsx(m.Fragment,{children:A.map(P=>{const S=a_(P),I=a&&!u?!1:h===A||g.includes(S),O=()=>{if(b.has(S))b.set(S,!0);else return;let D=!0;b.forEach(M=>{M||(D=!1)}),D&&(j==null||j(),k(x.current),a&&(f==null||f()),n&&n())};return m.jsx(C0e,{isPresent:I,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:I?void 0:O,anchorX:o,children:P},S)})})},UY=N.createContext({strict:!1}),tF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pg={};for(const t in tF)pg[t]={isEnabled:e=>tF[t].some(r=>!!e[r])};function I0e(t){for(const e in t)pg[e]={...pg[e],...t[e]}}const O0e=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function j2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||O0e.has(t)}let VY=t=>!j2(t);function R0e(t){typeof t=="function"&&(VY=e=>e.startsWith("on")?!j2(e):t(e))}try{R0e(require("@emotion/is-prop-valid").default)}catch{}function P0e(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(VY(i)||r===!0&&j2(i)||!e&&!j2(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const QT=N.createContext({});function JT(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function R1(t){return typeof t=="string"||Array.isArray(t)}const L6=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],F6=["initial",...L6];function ZT(t){return JT(t.animate)||F6.some(e=>R1(t[e]))}function zY(t){return!!(ZT(t)||t.variants)}function j0e(t,e){if(ZT(t)){const{initial:r,animate:n}=t;return{initial:r===!1||R1(r)?r:void 0,animate:R1(n)?n:void 0}}return t.inherit!==!1?e:{}}function D0e(t){const{initial:e,animate:r}=j0e(t,N.useContext(QT));return N.useMemo(()=>({initial:e,animate:r}),[rF(e),rF(r)])}function rF(t){return Array.isArray(t)?t.join(" "):t}function nF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const ky={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($t.test(t))t=parseFloat(t);else return t;const r=nF(t,e.target.x),n=nF(t,e.target.y);return`${r}% ${n}%`}},M0e={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=$f.parse(t);if(i.length>5)return n;const s=$f.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=ai(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}},SI={borderRadius:{...ky,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:ky,borderTopRightRadius:ky,borderBottomLeftRadius:ky,borderBottomRightRadius:ky,boxShadow:M0e};function $Y(t,{layout:e,layoutId:r}){return ev.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!SI[t]||t==="opacity")}const L0e={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},F0e=Zg.length;function B0e(t,e,r){let n="",i=!0;for(let s=0;s<F0e;s++){const a=Zg[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=RY(o,P6[a]);if(!l){i=!1;const f=L0e[a]||a;n+=`${f}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function B6(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(ev.has(l)){a=!0;continue}else if(cY(l)){i[l]=u;continue}else{const f=RY(u,P6[l]);l.startsWith("origin")?(o=!0,s[l]=f):n[l]=f}}if(e.transform||(a||r?n.transform=B0e(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:f=0}=s;n.transformOrigin=`${l} ${u} ${f}`}}const U6=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function HY(t,e,r){for(const n in e)!_a(e[n])&&!$Y(n,r)&&(t[n]=e[n])}function U0e({transformTemplate:t},e){return N.useMemo(()=>{const r=U6();return B6(r,e,t),Object.assign({},r.vars,r.style)},[e])}function V0e(t,e){const r=t.style||{},n={};return HY(n,r,t),Object.assign(n,U0e(t,e)),n}function z0e(t,e){const r={},n=V0e(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const $0e={offset:"stroke-dashoffset",array:"stroke-dasharray"},H0e={offset:"strokeDashoffset",array:"strokeDasharray"};function q0e(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?$0e:H0e;t[s.offset]=$t.transform(-n);const a=$t.transform(e),o=$t.transform(r);t[s.array]=`${a} ${o}`}function qY(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,f){if(B6(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:h,style:g}=t;h.transform&&(g.transform=h.transform,delete h.transform),(g.transform||h.transformOrigin)&&(g.transformOrigin=h.transformOrigin??"50% 50%",delete h.transformOrigin),g.transform&&(g.transformBox=(f==null?void 0:f.transformBox)??"fill-box",delete h.transformBox),e!==void 0&&(h.x=e),r!==void 0&&(h.y=r),n!==void 0&&(h.scale=n),i!==void 0&&q0e(h,i,s,a,!1)}const WY=()=>({...U6(),attrs:{}}),GY=t=>typeof t=="string"&&t.toLowerCase()==="svg";function W0e(t,e,r,n){const i=N.useMemo(()=>{const s=WY();return qY(s,e,GY(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};HY(s,t.style,t),i.style={...s,...i.style}}return i}const G0e=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function V6(t){return typeof t!="string"||t.includes("-")?!1:!!(G0e.indexOf(t)>-1||/[A-Z]/u.test(t))}function K0e(t,e,r,{latestValues:n},i,s=!1){const o=(V6(t)?W0e:z0e)(e,n,i,t),l=P0e(e,typeof t=="string",s),u=t!==N.Fragment?{...l,...o,ref:r}:{},{children:f}=e,h=N.useMemo(()=>_a(f)?f.get():f,[f]);return N.createElement(t,{...u,children:h})}function iF(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function z6(t,e,r,n){if(typeof e=="function"){const[i,s]=iF(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=iF(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function f2(t){return _a(t)?t.get():t}function Y0e({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:X0e(r,n,i,t),renderState:e()}}function X0e(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=f2(s[g]);let{initial:a,animate:o}=t;const l=ZT(t),u=zY(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let f=r?r.initial===!1:!1;f=f||a===!1;const h=f?o:a;if(h&&typeof h!="boolean"&&!JT(h)){const g=Array.isArray(h)?h:[h];for(let v=0;v<g.length;v++){const x=z6(t,g[v]);if(x){const{transitionEnd:b,transition:w,...E}=x;for(const A in E){let k=E[A];if(Array.isArray(k)){const R=f?k.length-1:0;k=k[R]}k!==null&&(i[A]=k)}for(const A in b)i[A]=b[A]}}}return i}const KY=t=>(e,r)=>{const n=N.useContext(QT),i=N.useContext(XT),s=()=>Y0e(t,e,n,i);return r?s():m6(s)};function $6(t,e,r){var s;const{style:n}=t,i={};for(const a in n)(_a(n[a])||e.style&&_a(e.style[a])||$Y(a,t)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const Q0e=KY({scrapeMotionValuesFromProps:$6,createRenderState:U6});function YY(t,e,r){const n=$6(t,e,r);for(const i in t)if(_a(t[i])||_a(e[i])){const s=Zg.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const J0e=KY({scrapeMotionValuesFromProps:YY,createRenderState:WY}),Z0e=Symbol.for("motionComponentSymbol");function Pp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function eme(t,e,r){return N.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Pp(r)&&(r.current=n))},[e])}const H6=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),tme="framerAppearId",XY="data-"+H6(tme),QY=N.createContext({});function rme(t,e,r,n,i){var b,w;const{visualElement:s}=N.useContext(QT),a=N.useContext(UY),o=N.useContext(XT),l=N.useContext(M6).reducedMotion,u=N.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const f=u.current,h=N.useContext(QY);f&&!f.projection&&i&&(f.type==="html"||f.type==="svg")&&nme(u.current,r,i,h);const g=N.useRef(!1);N.useInsertionEffect(()=>{f&&g.current&&f.update(r,o)});const v=r[XY],x=N.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,v)));return WK(()=>{f&&(g.current=!0,window.MotionIsMounted=!0,f.updateFeatures(),f.scheduleRenderMicrotask(),x.current&&f.animationState&&f.animationState.animateChanges())}),N.useEffect(()=>{f&&(!x.current&&f.animationState&&f.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,v)}),x.current=!1),f.enteringChildren=void 0)}),f}function nme(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:f}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:JY(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Pp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:f,layoutScroll:l,layoutRoot:u})}function JY(t){if(t)return t.options.allowProjection!==!1?t.projection:JY(t.parent)}function gC(t,{forwardMotionProps:e=!1}={},r,n){r&&I0e(r);const i=V6(t)?J0e:Q0e;function s(o,l){let u;const f={...N.useContext(M6),...o,layoutId:ime(o)},{isStatic:h}=f,g=D0e(o),v=i(o,h);if(!h&&p6){sme();const x=ame(f);u=x.MeasureLayout,g.visualElement=rme(t,v,f,n,x.ProjectionNode)}return m.jsxs(QT.Provider,{value:g,children:[u&&g.visualElement?m.jsx(u,{visualElement:g.visualElement,...f}):null,K0e(t,o,eme(v,g.visualElement,l),v,h,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=N.forwardRef(s);return a[Z0e]=t,a}function ime({layoutId:t}){const e=N.useContext(h6).id;return e&&t!==void 0?e+"-"+t:t}function sme(t,e){N.useContext(UY).strict}function ame(t){const{drag:e,layout:r}=pg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ome(t,e){if(typeof Proxy>"u")return gC;const r=new Map,n=(s,a)=>gC(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,gC(a,void 0,t,e)),r.get(a))})}function ZY({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function lme({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function cme(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function vC(t){return t===void 0||t===1}function AI({scale:t,scaleX:e,scaleY:r}){return!vC(t)||!vC(e)||!vC(r)}function Zh(t){return AI(t)||eX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function eX(t){return sF(t.x)||sF(t.y)}function sF(t){return t&&t!=="0%"}function D2(t,e,r){const n=t-r,i=e*n;return r+i}function aF(t,e,r,n,i){return i!==void 0&&(t=D2(t,i,n)),D2(t,r,n)+e}function kI(t,e=0,r=1,n,i){t.min=aF(t.min,e,r,n,i),t.max=aF(t.max,e,r,n,i)}function tX(t,{x:e,y:r}){kI(t.x,e.translate,e.scale,e.originPoint),kI(t.y,r.translate,r.scale,r.originPoint)}const oF=.999999999999,lF=1.0000000000001;function ume(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Dp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,tX(t,a)),n&&Zh(s.latestValues)&&Dp(t,s.latestValues))}e.x<lF&&e.x>oF&&(e.x=1),e.y<lF&&e.y>oF&&(e.y=1)}function jp(t,e){t.min=t.min+e,t.max=t.max+e}function cF(t,e,r,n,i=.5){const s=ai(t.min,t.max,i);kI(t,e,r,s,n)}function Dp(t,e){cF(t.x,e.x,e.scaleX,e.scale,e.originX),cF(t.y,e.y,e.scaleY,e.scale,e.originY)}function rX(t,e){return ZY(cme(t.getBoundingClientRect(),e))}function dme(t,e,r){const n=rX(t,r),{scroll:i}=e;return i&&(jp(n.x,i.offset.x),jp(n.y,i.offset.y)),n}const uF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Mp=()=>({x:uF(),y:uF()}),dF=()=>({min:0,max:0}),ls=()=>({x:dF(),y:dF()}),CI={current:null},nX={current:!1};function fme(){if(nX.current=!0,!!p6)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>CI.current=t.matches;t.addEventListener("change",e),e()}else CI.current=!1}const hme=new WeakMap;function mme(t,e,r){for(const n in e){const i=e[n],s=r[n];if(_a(i))t.addValue(n,i);else if(_a(s))t.addValue(n,mg(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,mg(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const fF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class pme{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=O6,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=so.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,Qn.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=ZT(r),this.isVariantNode=zY(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:f,...h}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in h){const v=h[g];l[g]!==void 0&&_a(v)&&v.set(l[g])}}mount(e){var r;this.current=e,hme.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),nX.current||fme(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:CI.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),zf(this.notifyUpdate),zf(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=ev.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Qn.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in pg){const r=pg[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ls()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<fF.length;n++){const i=fF[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=mme(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=mg(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(GK(n)||YK(n))?n=parseFloat(n):!E0e(n)&&$f.test(r)&&(n=OY(e,r)),this.setBaseTarget(e,_a(n)?n.get():n)),_a(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=z6(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!_a(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new b6),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){j6.render(this.render)}}class iX extends pme{constructor(){super(...arguments),this.KeyframeResolver=d0e}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;_a(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function sX(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function gme(t){return window.getComputedStyle(t)}class vme extends iX{constructor(){super(...arguments),this.type="html",this.renderInstance=sX}readValueFromInstance(e,r){var n;if(ev.has(r))return(n=this.projection)!=null&&n.isProjecting?yI(r):Ihe(e,r);{const i=gme(e),s=(cY(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return rX(e,r)}build(e,r,n){B6(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return $6(e,r,n)}}const aX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function yme(t,e,r,n){sX(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(aX.has(i)?i:H6(i),e.attrs[i])}class xme extends iX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ls}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(ev.has(r)){const n=IY(r);return n&&n.default||0}return r=aX.has(r)?r:H6(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return YY(e,r,n)}build(e,r,n){qY(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){yme(e,r,n,i)}mount(e){this.isSVGTag=GY(e.tagName),super.mount(e)}}const bme=(t,e)=>V6(t)?new xme(e):new vme(e,{allowProjection:t!==N.Fragment});function qp(t,e,r){const n=t.getProps();return z6(n,e,r!==void 0?r:n.custom,t)}const NI=t=>Array.isArray(t);function wme(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,mg(r))}function _me(t){return NI(t)?t[t.length-1]||0:t}function Eme(t,e){const r=qp(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=_me(s[a]);wme(t,a,o)}}function Tme(t){return!!(_a(t)&&t.add)}function II(t,e){const r=t.getValue("willChange");if(Tme(r))return r.add(e);if(!r&&ld.WillChange){const n=new ld.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function oX(t){return t.props[XY]}const Sme=t=>t!==null;function Ame(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(Sme),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const kme={type:"spring",stiffness:500,damping:25,restSpeed:10},Cme=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),Nme={type:"keyframes",duration:.8},Ime={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ome=(t,{keyframes:e})=>e.length>2?Nme:ev.has(t)?t.startsWith("scale")?Cme(e[1]):kme:Ime;function Rme({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...f}){return!!Object.keys(f).length}const q6=(t,e,r,n={},i,s)=>a=>{const o=R6(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Qc(l);const f={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Rme(o)||Object.assign(f,Ome(t,f)),f.duration&&(f.duration=Qc(f.duration)),f.repeatDelay&&(f.repeatDelay=Qc(f.repeatDelay)),f.from!==void 0&&(f.keyframes[0]=f.from);let h=!1;if((f.type===!1||f.duration===0&&!f.repeatDelay)&&(EI(f),f.delay===0&&(h=!0)),(ld.instantAnimations||ld.skipAnimations)&&(h=!0,EI(f),f.delay=0),f.allowFlatten=!o.type&&!o.ease,h&&!s&&e.get()!==void 0){const g=Ame(f.keyframes,o);if(g!==void 0){Qn.update(()=>{f.onUpdate(g),f.onComplete()});return}}return o.isSync?new I6(f):new Zhe(f)};function Pme({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function lX(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in o){const h=t.getValue(f,t.latestValues[f]??null),g=o[f];if(g===void 0||u&&Pme(u,f))continue;const v={delay:r,...R6(s||{},f)},x=h.get();if(x!==void 0&&!h.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const E=oX(t);if(E){const A=window.MotionHandoffAnimation(E,f,Qn);A!==null&&(v.startTime=A,b=!0)}}II(t,f),h.start(q6(f,h,g,t.shouldReduceMotion&&kY.has(f)?{type:!1}:v,t,b));const w=h.animation;w&&l.push(w)}return a&&Promise.all(l).then(()=>{Qn.update(()=>{a&&Eme(t,a)})}),l}function cX(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,f)=>u.sortNodePosition(f)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function OI(t,e,r={}){var l;const n=qp(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(lX(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:f=0,staggerChildren:h,staggerDirection:g}=i;return jme(t,e,u,f,h,g,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,f]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>f())}else return Promise.all([s(),a(r.delay)])}function jme(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(OI(l,e,{...a,delay:r+(typeof n=="function"?0:n)+cX(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Dme(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>OI(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=OI(t,e,r);else{const i=typeof e=="function"?qp(t,e,r.custom):e;n=Promise.all(lX(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function uX(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Mme=F6.length;function dX(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?dX(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Mme;r++){const n=F6[r],i=t.props[n];(R1(i)||i===!1)&&(e[n]=i)}return e}const Lme=[...L6].reverse(),Fme=L6.length;function Bme(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Dme(t,r,n)))}function Ume(t){let e=Bme(t),r=hF(),n=!0;const i=l=>(u,f)=>{var g;const h=qp(t,f,l==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(h){const{transition:v,transitionEnd:x,...b}=h;u={...u,...b,...x}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,f=dX(t.parent)||{},h=[],g=new Set;let v={},x=1/0;for(let w=0;w<Fme;w++){const E=Lme[w],A=r[E],k=u[E]!==void 0?u[E]:f[E],R=R1(k),j=E===l?A.isActive:null;j===!1&&(x=w);let P=k===f[E]&&k!==u[E]&&R;if(P&&n&&t.manuallyAnimateOnMount&&(P=!1),A.protectedKeys={...v},!A.isActive&&j===null||!k&&!A.prevProp||JT(k)||typeof k=="boolean")continue;const S=Vme(A.prevProp,k);let I=S||E===l&&A.isActive&&!P&&R||w>x&&R,O=!1;const D=Array.isArray(k)?k:[k];let M=D.reduce(i(E),{});j===!1&&(M={});const{prevResolvedValues:F={}}=A,U={...F,...M},le=Q=>{I=!0,g.has(Q)&&(O=!0,g.delete(Q)),A.needsAnimating[Q]=!0;const fe=t.getValue(Q);fe&&(fe.liveStyle=!1)};for(const Q in U){const fe=M[Q],ee=F[Q];if(v.hasOwnProperty(Q))continue;let ge=!1;NI(fe)&&NI(ee)?ge=!uX(fe,ee):ge=fe!==ee,ge?fe!=null?le(Q):g.add(Q):fe!==void 0&&g.has(Q)?le(Q):A.protectedKeys[Q]=!0}A.prevProp=k,A.prevResolvedValues=M,A.isActive&&(v={...v,...M}),n&&t.blockInitialAnimation&&(I=!1);const de=P&&S;I&&(!de||O)&&h.push(...D.map(Q=>{const fe={type:E};if(typeof Q=="string"&&n&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,ge=qp(ee,Q);if(ee.enteringChildren&&ge){const{delayChildren:q}=ge.transition||{};fe.delay=cX(ee.enteringChildren,t,q)}}return{animation:Q,options:fe}}))}if(g.size){const w={};if(typeof u.initial!="boolean"){const E=qp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);E&&E.transition&&(w.transition=E.transition)}g.forEach(E=>{const A=t.getBaseTarget(E),k=t.getValue(E);k&&(k.liveStyle=!0),w[E]=A??null}),h.push({animation:w})}let b=!!h.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(h):Promise.resolve()}function o(l,u){var h;if(r[l].isActive===u)return Promise.resolve();(h=t.variantChildren)==null||h.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(l,u)}),r[l].isActive=u;const f=a(l);for(const g in r)r[g].protectedKeys={};return f}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=hF()}}}function Vme(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!uX(e,t):!1}function Yh(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function hF(){return{animate:Yh(!0),whileInView:Yh(),whileHover:Yh(),whileTap:Yh(),whileDrag:Yh(),whileFocus:Yh(),exit:Yh()}}class ch{constructor(e){this.isMounted=!1,this.node=e}update(){}}class zme extends ch{constructor(e){super(e),e.animationState||(e.animationState=Ume(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();JT(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let $me=0;class Hme extends ch{constructor(){super(...arguments),this.id=$me++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const qme={animation:{Feature:zme},exit:{Feature:Hme}};function P1(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Ux(t){return{point:{x:t.pageX,y:t.pageY}}}const Wme=t=>e=>D6(e)&&t(e,Ux(e));function r1(t,e,r,n){return P1(t,e,Wme(r),n)}const fX=1e-4,Gme=1-fX,Kme=1+fX,hX=.01,Yme=0-hX,Xme=0+hX;function La(t){return t.max-t.min}function Qme(t,e,r){return Math.abs(t-e)<=r}function mF(t,e,r,n=.5){t.origin=n,t.originPoint=ai(e.min,e.max,t.origin),t.scale=La(r)/La(e),t.translate=ai(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Gme&&t.scale<=Kme||isNaN(t.scale))&&(t.scale=1),(t.translate>=Yme&&t.translate<=Xme||isNaN(t.translate))&&(t.translate=0)}function n1(t,e,r,n){mF(t.x,e.x,r.x,n?n.originX:void 0),mF(t.y,e.y,r.y,n?n.originY:void 0)}function pF(t,e,r){t.min=r.min+e.min,t.max=t.min+La(e)}function Jme(t,e,r){pF(t.x,e.x,r.x),pF(t.y,e.y,r.y)}function gF(t,e,r){t.min=e.min-r.min,t.max=t.min+La(e)}function M2(t,e,r){gF(t.x,e.x,r.x),gF(t.y,e.y,r.y)}function gl(t){return[t("x"),t("y")]}const mX=({current:t})=>t?t.ownerDocument.defaultView:null,vF=(t,e)=>Math.abs(t-e);function Zme(t,e){const r=vF(t.x,e.x),n=vF(t.y,e.y);return Math.sqrt(r**2+n**2)}class pX{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=xC(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Zme(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:b}=g,{timestamp:w}=Xs;this.history.push({...b,timestamp:w});const{onStart:E,onMove:A}=this.handlers;v||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),A&&A(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=yC(v,this.transformPagePoint),Qn.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=xC(g.type==="pointercancel"?this.lastMoveEventInfo:yC(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,E),b&&b(g,E)},!D6(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=Ux(e),l=yC(o,this.transformPagePoint),{point:u}=l,{timestamp:f}=Xs;this.history=[{...u,timestamp:f}];const{onSessionStart:h}=r;h&&h(e,xC(l,this.history)),this.removeListeners=Lx(r1(this.contextWindow,"pointermove",this.handlePointerMove),r1(this.contextWindow,"pointerup",this.handlePointerUp),r1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),zf(this.updatePoint)}}function yC(t,e){return e?{point:e(t.point)}:t}function yF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function xC({point:t},e){return{point:t,delta:yF(t,gX(e)),offset:yF(t,epe(e)),velocity:tpe(e,.1)}}function epe(t){return t[0]}function gX(t){return t[t.length-1]}function tpe(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=gX(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Qc(e)));)r--;if(!n)return{x:0,y:0};const s=bl(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function rpe(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?ai(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?ai(r,t,n.max):Math.min(t,r)),t}function xF(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function npe(t,{top:e,left:r,bottom:n,right:i}){return{x:xF(t.x,r,i),y:xF(t.y,e,n)}}function bF(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function ipe(t,e){return{x:bF(t.x,e.x),y:bF(t.y,e.y)}}function spe(t,e){let r=.5;const n=La(t),i=La(e);return i>n?r=N1(e.min,e.max-n,t.min):n>i&&(r=N1(t.min,t.max-i,e.min)),od(0,1,r)}function ape(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const RI=.35;function ope(t=RI){return t===!1?t=0:t===!0&&(t=RI),{x:wF(t,"left","right"),y:wF(t,"top","bottom")}}function wF(t,e,r){return{min:_F(t,e),max:_F(t,r)}}function _F(t,e){return typeof t=="number"?t:t[e]||0}const lpe=new WeakMap;class cpe{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ls(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=h=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Ux(h).point)},a=(h,g)=>{const{drag:v,dragPropagation:x,onDragStart:b}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=p0e(v),!this.openDragLock))return;this.latestPointerEvent=h,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),gl(E=>{let A=this.getAxisMotionValue(E).get()||0;if(Jc.test(A)){const{projection:k}=this.visualElement;if(k&&k.layout){const R=k.layout.layoutBox[E];R&&(A=La(R)*(parseFloat(A)/100))}}this.originPoint[E]=A}),b&&Qn.postRender(()=>b(h,g)),II(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=g;if(x&&this.currentDirection===null){this.currentDirection=upe(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(h,g)},l=(h,g)=>{this.latestPointerEvent=h,this.latestPanInfo=g,this.stop(h,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>gl(h=>{var g;return this.getAnimationState(h)==="paused"&&((g=this.getAxisMotionValue(h).animation)==null?void 0:g.play())}),{dragSnapToOrigin:f}=this.getProps();this.panSession=new pX(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:f,distanceThreshold:n,contextWindow:mX(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&Qn.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!o_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=rpe(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Pp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=npe(n.layoutBox,e):this.constraints=!1,this.elastic=ope(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&gl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=ape(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Pp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=dme(n,i.root,this.visualElement.getTransformPagePoint());let a=ipe(i.layout.layoutBox,s);if(r){const o=r(lme(a));this.hasMutatedConstraints=!!o,o&&(a=ZY(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=gl(f=>{if(!o_(f,r,this.currentDirection))return;let h=l&&l[f]||{};a&&(h={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:n?e[f]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...h};return this.startAxisValueAnimation(f,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return II(this.visualElement,e),n.start(q6(e,n,0,r,this.visualElement,!1))}stopAnimation(){gl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){gl(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){gl(r=>{const{drag:n}=this.getProps();if(!o_(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-ai(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Pp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};gl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=spe({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),gl(a=>{if(!o_(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(ai(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;lpe.set(this.visualElement,this);const e=this.visualElement.current,r=r1(e,"pointerdown",l=>{const{drag:u,dragListener:f=!0}=this.getProps();u&&f&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Pp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Qn.read(n);const a=P1(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(gl(f=>{const h=this.getAxisMotionValue(f);h&&(this.originPoint[f]+=l[f].translate,h.set(h.get()+l[f].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=RI,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function o_(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function upe(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class dpe extends ch{constructor(e){super(e),this.removeGroupControls=Al,this.removeListeners=Al,this.controls=new cpe(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Al}unmount(){this.removeGroupControls(),this.removeListeners()}}const EF=t=>(e,r)=>{t&&Qn.postRender(()=>t(e,r))};class fpe extends ch{constructor(){super(...arguments),this.removePointerDownListener=Al}onPointerDown(e){this.session=new pX(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:mX(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:EF(e),onStart:EF(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&Qn.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=r1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const h2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let bC=!1;class hpe extends N.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),bC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),h2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,bC=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Qn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),j6.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;bC=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function vX(t){const[e,r]=FY(),n=N.useContext(h6);return m.jsx(hpe,{...t,layoutGroup:n,switchLayoutGroup:N.useContext(QY),isPresent:e,safeToRemove:r})}function mpe(t,e,r){const n=_a(t)?t:mg(t);return n.start(q6("",n,e,r)),n.animation}const ppe=(t,e)=>t.depth-e.depth;class gpe{constructor(){this.children=[],this.isDirty=!1}add(e){g6(this.children,e),this.isDirty=!0}remove(e){v6(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(ppe),this.isDirty=!1,this.children.forEach(e)}}function vpe(t,e){const r=so.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(zf(n),t(s-e))};return Qn.setup(n,!0),()=>zf(n)}const yX=["TopLeft","TopRight","BottomLeft","BottomRight"],ype=yX.length,TF=t=>typeof t=="string"?parseFloat(t):t,SF=t=>typeof t=="number"||$t.test(t);function xpe(t,e,r,n,i,s){i?(t.opacity=ai(0,r.opacity??1,bpe(n)),t.opacityExit=ai(e.opacity??1,0,wpe(n))):s&&(t.opacity=ai(e.opacity??1,r.opacity??1,n));for(let a=0;a<ype;a++){const o=`border${yX[a]}Radius`;let l=AF(e,o),u=AF(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||SF(l)===SF(u)?(t[o]=Math.max(ai(TF(l),TF(u),n),0),(Jc.test(u)||Jc.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=ai(e.rotate||0,r.rotate||0,n))}function AF(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const bpe=xX(0,.5,nY),wpe=xX(.5,.95,Al);function xX(t,e,r){return n=>n<t?0:n>e?1:r(N1(t,e,n))}function kF(t,e){t.min=e.min,t.max=e.max}function ql(t,e){kF(t.x,e.x),kF(t.y,e.y)}function CF(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function NF(t,e,r,n,i){return t-=e,t=D2(t,1/r,n),i!==void 0&&(t=D2(t,1/i,n)),t}function _pe(t,e=0,r=1,n=.5,i,s=t,a=t){if(Jc.test(e)&&(e=parseFloat(e),e=ai(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=ai(s.min,s.max,n);t===s&&(o-=e),t.min=NF(t.min,e,r,o,i),t.max=NF(t.max,e,r,o,i)}function IF(t,e,[r,n,i],s,a){_pe(t,e[r],e[n],e[i],e.scale,s,a)}const Epe=["x","scaleX","originX"],Tpe=["y","scaleY","originY"];function OF(t,e,r,n){IF(t.x,e,Epe,r?r.x:void 0,n?n.x:void 0),IF(t.y,e,Tpe,r?r.y:void 0,n?n.y:void 0)}function RF(t){return t.translate===0&&t.scale===1}function bX(t){return RF(t.x)&&RF(t.y)}function PF(t,e){return t.min===e.min&&t.max===e.max}function Spe(t,e){return PF(t.x,e.x)&&PF(t.y,e.y)}function jF(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function wX(t,e){return jF(t.x,e.x)&&jF(t.y,e.y)}function DF(t){return La(t.x)/La(t.y)}function MF(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Ape{constructor(){this.members=[]}add(e){g6(this.members,e),e.scheduleRender()}remove(e){if(v6(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function kpe(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:f,rotateX:h,rotateY:g,skewX:v,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),f&&(n+=`rotate(${f}deg) `),h&&(n+=`rotateX(${h}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),x&&(n+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const wC=["","X","Y","Z"],Cpe=1e3;let Npe=0;function _C(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function _X(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=oX(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",Qn,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&_X(n)}function EX({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=Npe++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Rpe),this.nodes.forEach(Mpe),this.nodes.forEach(Lpe),this.nodes.forEach(Ppe)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new gpe)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new b6),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=LY(a)&&!w0e(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let f,h=0;const g=()=>this.root.updateBlockedByResize=!1;Qn.read(()=>{h=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==h&&(h=v,this.root.updateBlockedByResize=!0,f&&f(),f=vpe(g,250),h2.hasAnimatedSinceResize&&(h2.hasAnimatedSinceResize=!1,this.nodes.forEach(BF)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:h,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||zpe,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),E=!this.targetLayout||!wX(this.targetLayout,v),A=!h&&g;if(this.options.layoutRoot||this.resumeFrom||A||h&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const k={...R6(x,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(k.delay=0,k.type=!1),this.startAnimation(k),this.setAnimationOrigin(f,A)}else h||BF(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),zf(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Fpe),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&_X(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let f=0;f<this.path.length;f++){const h=this.path[f];h.shouldResetTransform=!0,h.updateScroll("snapshot"),h.options.layoutRoot&&h.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(LF);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(FF);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Dpe),this.nodes.forEach(Ipe),this.nodes.forEach(Ope)):this.nodes.forEach(FF),this.clearAllSnapshots();const o=so.now();Xs.delta=od(0,1e3/60,o-Xs.timestamp),Xs.timestamp=o,Xs.isProcessing=!0,uC.update.process(Xs),uC.preRender.process(Xs),uC.render.process(Xs),Xs.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,j6.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(jpe),this.sharedNodes.forEach(Bpe)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Qn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Qn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!La(this.snapshot.measuredBox.x)&&!La(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ls(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!bX(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,f=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||Zh(this.latestValues)||f)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),$pe(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ls();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Hpe))){const{scroll:f}=this.root;f&&(jp(o.x,f.offset.x),jp(o.y,f.offset.y))}return o}removeElementScroll(a){var l;const o=ls();if(ql(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const f=this.path[u],{scroll:h,options:g}=f;f!==this.root&&h&&g.layoutScroll&&(h.wasRoot&&ql(o,a),jp(o.x,h.offset.x),jp(o.y,h.offset.y))}return o}applyTransform(a,o=!1){const l=ls();ql(l,a);for(let u=0;u<this.path.length;u++){const f=this.path[u];!o&&f.options.layoutScroll&&f.scroll&&f!==f.root&&Dp(l,{x:-f.scroll.offset.x,y:-f.scroll.offset.y}),Zh(f.latestValues)&&Dp(l,f.latestValues)}return Zh(this.latestValues)&&Dp(l,this.latestValues),l}removeTransform(a){const o=ls();ql(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!Zh(u.latestValues))continue;AI(u.latestValues)&&u.updateSnapshot();const f=ls(),h=u.measurePageBox();ql(f,h),OF(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,f)}return Zh(this.latestValues)&&OF(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Xs.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:f,layoutId:h}=this.options;if(!this.layout||!(f||h))return;this.resolvedRelativeTargetAt=Xs.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ls(),this.targetWithTransforms=ls()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Jme(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ql(this.target,this.layout.layoutBox),tX(this.target,this.targetDelta)):ql(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||AI(this.parent.latestValues)||eX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ls(),this.relativeTargetOrigin=ls(),M2(this.relativeTargetOrigin,o,l),ql(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===Xs.timestamp&&(l=!1),l)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;ql(this.layoutCorrected,this.layout.layoutBox);const h=this.treeScale.x,g=this.treeScale.y;ume(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ls());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(CF(this.prevProjectionDelta.x,this.projectionDelta.x),CF(this.prevProjectionDelta.y,this.projectionDelta.y)),n1(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==h||this.treeScale.y!==g||!MF(this.projectionDelta.x,this.prevProjectionDelta.x)||!MF(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Mp(),this.projectionDelta=Mp(),this.projectionDeltaWithTransform=Mp()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},f={...this.latestValues},h=Mp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=ls(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,w=this.getStack(),E=!w||w.members.length<=1,A=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(Vpe));this.animationProgress=0;let k;this.mixTargetDelta=R=>{const j=R/1e3;UF(h.x,a.x,j),UF(h.y,a.y,j),this.setTargetDelta(h),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(M2(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Upe(this.relativeTarget,this.relativeTargetOrigin,g,j),k&&Spe(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=ls()),ql(k,this.relativeTarget)),b&&(this.animationValues=f,xpe(f,u,this.latestValues,j,A,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=j},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(zf(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Qn.update(()=>{h2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=mg(0)),this.currentAnimation=mpe(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:f=>{this.mixTargetDelta(f),a.onUpdate&&a.onUpdate(f)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Cpe),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:f}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&TX(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ls();const h=La(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+h;const g=La(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}ql(o,l),Dp(o,f),n1(this.projectionDeltaWithTransform,this.layoutCorrected,o,f)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Ape),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&_C("z",a,u,this.animationValues);for(let f=0;f<wC.length;f++)_C(`rotate${wC[f]}`,a,u,this.animationValues),_C(`skew${wC[f]}`,a,u,this.animationValues);a.render();for(const f in u)a.setStaticValue(f,u[f]),this.animationValues&&(this.animationValues[f]=u[f]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=f2(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=f2(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Zh(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const f=u.animationValues||u.latestValues;this.applyTransformsToTarget();let h=kpe(this.projectionDeltaWithTransform,this.treeScale,f);l&&(h=l(f,h)),a.transform=h;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?a.opacity=u===this?f.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:f.opacityExit:a.opacity=u===this?f.opacity!==void 0?f.opacity:"":f.opacityExit!==void 0?f.opacityExit:0;for(const x in SI){if(f[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:E}=SI[x],A=h==="none"?f[x]:b(f[x],u);if(w){const k=w.length;for(let R=0;R<k;R++)a[w[R]]=A}else E?this.options.visualElement.renderState.vars[x]=A:a[x]=A}this.options.layoutId&&(a.pointerEvents=u===this?f2(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(LF),this.root.sharedNodes.clear()}}}function Ipe(t){t.updateLayout()}function Ope(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?gl(h=>{const g=a?e.measuredBox[h]:e.layoutBox[h],v=La(g);g.min=n[h].min,g.max=g.min+v}):TX(s,e.layoutBox,n)&&gl(h=>{const g=a?e.measuredBox[h]:e.layoutBox[h],v=La(n[h]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[h].max=t.relativeTarget[h].min+v)});const o=Mp();n1(o,n,e.layoutBox);const l=Mp();a?n1(l,t.applyTransform(i,!0),e.measuredBox):n1(l,n,e.layoutBox);const u=!bX(o);let f=!1;if(!t.resumeFrom){const h=t.getClosestProjectingParent();if(h&&!h.resumeFrom){const{snapshot:g,layout:v}=h;if(g&&v){const x=ls();M2(x,e.layoutBox,g.layoutBox);const b=ls();M2(b,n,v.layoutBox),wX(x,b)||(f=!0),h.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=h)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:f})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Rpe(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ppe(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function jpe(t){t.clearSnapshot()}function LF(t){t.clearMeasurements()}function FF(t){t.isLayoutDirty=!1}function Dpe(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function BF(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Mpe(t){t.resolveTargetDelta()}function Lpe(t){t.calcProjection()}function Fpe(t){t.resetSkewAndRotation()}function Bpe(t){t.removeLeadSnapshot()}function UF(t,e,r){t.translate=ai(e.translate,0,r),t.scale=ai(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function VF(t,e,r,n){t.min=ai(e.min,r.min,n),t.max=ai(e.max,r.max,n)}function Upe(t,e,r,n){VF(t.x,e.x,r.x,n),VF(t.y,e.y,r.y,n)}function Vpe(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const zpe={duration:.45,ease:[.4,0,.1,1]},zF=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),$F=zF("applewebkit/")&&!zF("chrome/")?Math.round:Al;function HF(t){t.min=$F(t.min),t.max=$F(t.max)}function $pe(t){HF(t.x),HF(t.y)}function TX(t,e,r){return t==="position"||t==="preserve-aspect"&&!Qme(DF(e),DF(r),.2)}function Hpe(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const qpe=EX({attachResizeListener:(t,e)=>P1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),EC={current:void 0},SX=EX({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!EC.current){const t=new qpe({});t.mount(window),t.setOptions({layoutScroll:!0}),EC.current=t}return EC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),Wpe={pan:{Feature:fpe},drag:{Feature:dpe,ProjectionNode:SX,MeasureLayout:vX}};function qF(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&Qn.postRender(()=>s(e,Ux(e)))}class Gpe extends ch{mount(){const{current:e}=this.node;e&&(this.unmount=g0e(e,(r,n)=>(qF(this.node,n,"Start"),i=>qF(this.node,i,"End"))))}unmount(){}}class Kpe extends ch{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Lx(P1(this.node.current,"focus",()=>this.onFocus()),P1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function WF(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&Qn.postRender(()=>s(e,Ux(e)))}class Ype extends ch{mount(){const{current:e}=this.node;e&&(this.unmount=b0e(e,(r,n)=>(WF(this.node,n,"Start"),(i,{success:s})=>WF(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const PI=new WeakMap,TC=new WeakMap,Xpe=t=>{const e=PI.get(t.target);e&&e(t)},Qpe=t=>{t.forEach(Xpe)};function Jpe({root:t,...e}){const r=t||document;TC.has(r)||TC.set(r,{});const n=TC.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Qpe,{root:t,...e})),n[i]}function Zpe(t,e,r){const n=Jpe(e);return PI.set(t,r),n.observe(t),()=>{PI.delete(t),n.unobserve(t)}}const ege={some:0,all:1};class tge extends ch{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:ege[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:f,onViewportLeave:h}=this.node.getProps(),g=u?f:h;g&&g(l)};return Zpe(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(rge(e,r))&&this.startObserver()}unmount(){}}function rge({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const nge={inView:{Feature:tge},tap:{Feature:Ype},focus:{Feature:Kpe},hover:{Feature:Gpe}},ige={layout:{ProjectionNode:SX,MeasureLayout:vX}},sge={...qme,...nge,...Wpe,...ige},j0=ome(sge,bme);var Ql=$K();const AX=Yo(Ql);function age(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const oge=t=>{switch(t){case"success":return uge;case"info":return fge;case"warning":return dge;case"error":return hge;default:return null}},lge=Array(12).fill(0),cge=({visible:t,className:e})=>ke.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},ke.createElement("div",{className:"sonner-spinner"},lge.map((r,n)=>ke.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),uge=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),dge=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),fge=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hge=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},ke.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),mge=ke.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},ke.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),ke.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pge=()=>{const[t,e]=ke.useState(document.hidden);return ke.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let jI=1;class gge{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:jI++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,a;const o=i.then(async u=>{if(a=["resolve",u],ke.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(yge(u)&&!u.ok){s=!1;const h=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,x=typeof h=="object"&&!ke.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...x})}else if(u instanceof Error){s=!1;const h=typeof r.error=="function"?await r.error(u):r.error,g=typeof r.description=="function"?await r.description(u):r.description,x=typeof h=="object"&&!ke.isValidElement(h)?h:{message:h};this.create({id:n,type:"error",description:g,...x})}else if(r.success!==void 0){s=!1;const h=typeof r.success=="function"?await r.success(u):r.success,g=typeof r.description=="function"?await r.description(u):r.description,x=typeof h=="object"&&!ke.isValidElement(h)?h:{message:h};this.create({id:n,type:"success",description:g,...x})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;const f=typeof r.error=="function"?await r.error(u):r.error,h=typeof r.description=="function"?await r.description(u):r.description,v=typeof f=="object"&&!ke.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:h,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,f)=>o.then(()=>a[0]==="reject"?f(a[1]):u(a[1])).catch(f));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||jI++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const eo=new gge,vge=(t,e)=>{const r=(e==null?void 0:e.id)||jI++;return eo.addToast({title:t,...e,id:r}),r},yge=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",xge=vge,bge=()=>eo.toasts,wge=()=>eo.getActiveToasts(),on=Object.assign(xge,{success:eo.success,info:eo.info,warning:eo.warning,error:eo.error,custom:eo.custom,message:eo.message,promise:eo.promise,dismiss:eo.dismiss,loading:eo.loading},{getHistory:bge,getToasts:wge});age("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function l_(t){return t.label!==void 0}const _ge=3,Ege="24px",Tge="16px",GF=4e3,Sge=356,Age=14,kge=45,Cge=200;function Lc(...t){return t.filter(Boolean).join(" ")}function Nge(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const Ige=t=>{var e,r,n,i,s,a,o,l,u;const{invert:f,toast:h,unstyled:g,interacting:v,setHeights:x,visibleToasts:b,heights:w,index:E,toasts:A,expanded:k,removeToast:R,defaultRichColors:j,closeButton:P,style:S,cancelButtonStyle:I,actionButtonStyle:O,className:D="",descriptionClassName:M="",duration:F,position:U,gap:le,expandByDefault:de,classNames:J,icons:Q,closeButtonAriaLabel:fe="Close toast"}=t,[ee,ge]=ke.useState(null),[q,z]=ke.useState(null),[V,W]=ke.useState(!1),[Y,ue]=ke.useState(!1),[me,ce]=ke.useState(!1),[ie,ve]=ke.useState(!1),[Ue,G]=ke.useState(!1),[Je,Oe]=ke.useState(0),[rt,Xe]=ke.useState(0),je=ke.useRef(h.duration||F||GF),at=ke.useRef(null),wt=ke.useRef(null),Ot=E===0,Yr=E+1<=b,Wr=h.type,Lr=h.dismissible!==!1,Gt=h.className||"",Tr=h.descriptionClassName||"",Sn=ke.useMemo(()=>w.findIndex(Ct=>Ct.toastId===h.id)||0,[w,h.id]),hi=ke.useMemo(()=>{var Ct;return(Ct=h.closeButton)!=null?Ct:P},[h.closeButton,P]),xe=ke.useMemo(()=>h.duration||F||GF,[h.duration,F]),Ke=ke.useRef(0),nt=ke.useRef(0),jt=ke.useRef(0),Kt=ke.useRef(null),[rr,br]=U.split("-"),Fi=ke.useMemo(()=>w.reduce((Ct,wr,In)=>In>=Sn?Ct:Ct+wr.height,0),[w,Sn]),Xr=pge(),Dl=h.invert||f,aa=Wr==="loading";nt.current=ke.useMemo(()=>Sn*le+Fi,[Sn,Fi]),ke.useEffect(()=>{je.current=xe},[xe]),ke.useEffect(()=>{W(!0)},[]),ke.useEffect(()=>{const Ct=wt.current;if(Ct){const wr=Ct.getBoundingClientRect().height;return Xe(wr),x(In=>[{toastId:h.id,height:wr,position:h.position},...In]),()=>x(In=>In.filter(ri=>ri.toastId!==h.id))}},[x,h.id]),ke.useLayoutEffect(()=>{if(!V)return;const Ct=wt.current,wr=Ct.style.height;Ct.style.height="auto";const In=Ct.getBoundingClientRect().height;Ct.style.height=wr,Xe(In),x(ri=>ri.find(Jr=>Jr.toastId===h.id)?ri.map(Jr=>Jr.toastId===h.id?{...Jr,height:In}:Jr):[{toastId:h.id,height:In,position:h.position},...ri])},[V,h.title,h.description,x,h.id,h.jsx,h.action,h.cancel]);const ss=ke.useCallback(()=>{ue(!0),Oe(nt.current),x(Ct=>Ct.filter(wr=>wr.toastId!==h.id)),setTimeout(()=>{R(h)},Cge)},[h,R,x,nt]);ke.useEffect(()=>{if(h.promise&&Wr==="loading"||h.duration===1/0||h.type==="loading")return;let Ct;return k||v||Xr?(()=>{if(jt.current<Ke.current){const ri=new Date().getTime()-Ke.current;je.current=je.current-ri}jt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(Ke.current=new Date().getTime(),Ct=setTimeout(()=>{h.onAutoClose==null||h.onAutoClose.call(h,h),ss()},je.current))})(),()=>clearTimeout(Ct)},[k,v,h,Wr,Xr,ss]),ke.useEffect(()=>{h.delete&&(ss(),h.onDismiss==null||h.onDismiss.call(h,h))},[ss,h.delete]);function mi(){var Ct;if(Q!=null&&Q.loading){var wr;return ke.createElement("div",{className:Lc(J==null?void 0:J.loader,h==null||(wr=h.classNames)==null?void 0:wr.loader,"sonner-loader"),"data-visible":Wr==="loading"},Q.loading)}return ke.createElement(cge,{className:Lc(J==null?void 0:J.loader,h==null||(Ct=h.classNames)==null?void 0:Ct.loader),visible:Wr==="loading"})}const yo=h.icon||(Q==null?void 0:Q[Wr])||oge(Wr);var Qr,Bi;return ke.createElement("li",{tabIndex:0,ref:wt,className:Lc(D,Gt,J==null?void 0:J.toast,h==null||(e=h.classNames)==null?void 0:e.toast,J==null?void 0:J.default,J==null?void 0:J[Wr],h==null||(r=h.classNames)==null?void 0:r[Wr]),"data-sonner-toast":"","data-rich-colors":(Qr=h.richColors)!=null?Qr:j,"data-styled":!(h.jsx||h.unstyled||g),"data-mounted":V,"data-promise":!!h.promise,"data-swiped":Ue,"data-removed":Y,"data-visible":Yr,"data-y-position":rr,"data-x-position":br,"data-index":E,"data-front":Ot,"data-swiping":me,"data-dismissible":Lr,"data-type":Wr,"data-invert":Dl,"data-swipe-out":ie,"data-swipe-direction":q,"data-expanded":!!(k||de&&V),"data-testid":h.testId,style:{"--index":E,"--toasts-before":E,"--z-index":A.length-E,"--offset":`${Y?Je:nt.current}px`,"--initial-height":de?"auto":`${rt}px`,...S,...h.style},onDragEnd:()=>{ce(!1),ge(null),Kt.current=null},onPointerDown:Ct=>{Ct.button!==2&&(aa||!Lr||(at.current=new Date,Oe(nt.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(ce(!0),Kt.current={x:Ct.clientX,y:Ct.clientY})))},onPointerUp:()=>{var Ct,wr,In;if(ie||!Lr)return;Kt.current=null;const ri=Number(((Ct=wt.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ni=Number(((wr=wt.current)==null?void 0:wr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Jr=new Date().getTime()-((In=at.current)==null?void 0:In.getTime()),Ui=ee==="x"?ri:ni,ys=Math.abs(Ui)/Jr;if(Math.abs(Ui)>=kge||ys>.11){Oe(nt.current),h.onDismiss==null||h.onDismiss.call(h,h),z(ee==="x"?ri>0?"right":"left":ni>0?"down":"up"),ss(),ve(!0);return}else{var Zr,Ai;(Zr=wt.current)==null||Zr.style.setProperty("--swipe-amount-x","0px"),(Ai=wt.current)==null||Ai.style.setProperty("--swipe-amount-y","0px")}G(!1),ce(!1),ge(null)},onPointerMove:Ct=>{var wr,In,ri;if(!Kt.current||!Lr||((wr=window.getSelection())==null?void 0:wr.toString().length)>0)return;const Jr=Ct.clientY-Kt.current.y,Ui=Ct.clientX-Kt.current.x;var ys;const Zr=(ys=t.swipeDirections)!=null?ys:Nge(U);!ee&&(Math.abs(Ui)>1||Math.abs(Jr)>1)&&ge(Math.abs(Ui)>Math.abs(Jr)?"x":"y");let Ai={x:0,y:0};const Us=pi=>1/(1.5+Math.abs(pi)/20);if(ee==="y"){if(Zr.includes("top")||Zr.includes("bottom"))if(Zr.includes("top")&&Jr<0||Zr.includes("bottom")&&Jr>0)Ai.y=Jr;else{const pi=Jr*Us(Jr);Ai.y=Math.abs(pi)<Math.abs(Jr)?pi:Jr}}else if(ee==="x"&&(Zr.includes("left")||Zr.includes("right")))if(Zr.includes("left")&&Ui<0||Zr.includes("right")&&Ui>0)Ai.x=Ui;else{const pi=Ui*Us(Ui);Ai.x=Math.abs(pi)<Math.abs(Ui)?pi:Ui}(Math.abs(Ai.x)>0||Math.abs(Ai.y)>0)&&G(!0),(In=wt.current)==null||In.style.setProperty("--swipe-amount-x",`${Ai.x}px`),(ri=wt.current)==null||ri.style.setProperty("--swipe-amount-y",`${Ai.y}px`)}},hi&&!h.jsx&&Wr!=="loading"?ke.createElement("button",{"aria-label":fe,"data-disabled":aa,"data-close-button":!0,onClick:aa||!Lr?()=>{}:()=>{ss(),h.onDismiss==null||h.onDismiss.call(h,h)},className:Lc(J==null?void 0:J.closeButton,h==null||(n=h.classNames)==null?void 0:n.closeButton)},(Bi=Q==null?void 0:Q.close)!=null?Bi:mge):null,(Wr||h.icon||h.promise)&&h.icon!==null&&((Q==null?void 0:Q[Wr])!==null||h.icon)?ke.createElement("div",{"data-icon":"",className:Lc(J==null?void 0:J.icon,h==null||(i=h.classNames)==null?void 0:i.icon)},h.promise||h.type==="loading"&&!h.icon?h.icon||mi():null,h.type!=="loading"?yo:null):null,ke.createElement("div",{"data-content":"",className:Lc(J==null?void 0:J.content,h==null||(s=h.classNames)==null?void 0:s.content)},ke.createElement("div",{"data-title":"",className:Lc(J==null?void 0:J.title,h==null||(a=h.classNames)==null?void 0:a.title)},h.jsx?h.jsx:typeof h.title=="function"?h.title():h.title),h.description?ke.createElement("div",{"data-description":"",className:Lc(M,Tr,J==null?void 0:J.description,h==null||(o=h.classNames)==null?void 0:o.description)},typeof h.description=="function"?h.description():h.description):null),ke.isValidElement(h.cancel)?h.cancel:h.cancel&&l_(h.cancel)?ke.createElement("button",{"data-button":!0,"data-cancel":!0,style:h.cancelButtonStyle||I,onClick:Ct=>{l_(h.cancel)&&Lr&&(h.cancel.onClick==null||h.cancel.onClick.call(h.cancel,Ct),ss())},className:Lc(J==null?void 0:J.cancelButton,h==null||(l=h.classNames)==null?void 0:l.cancelButton)},h.cancel.label):null,ke.isValidElement(h.action)?h.action:h.action&&l_(h.action)?ke.createElement("button",{"data-button":!0,"data-action":!0,style:h.actionButtonStyle||O,onClick:Ct=>{l_(h.action)&&(h.action.onClick==null||h.action.onClick.call(h.action,Ct),!Ct.defaultPrevented&&ss())},className:Lc(J==null?void 0:J.actionButton,h==null||(u=h.classNames)==null?void 0:u.actionButton)},h.action.label):null)};function KF(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Oge(t,e){const r={};return[t,e].forEach((n,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?Tge:Ege;function l(u){["top","right","bottom","left"].forEach(f=>{r[`${a}-${f}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}const Rge=ke.forwardRef(function(e,r){const{id:n,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:f,mobileOffset:h,theme:g="light",richColors:v,duration:x,style:b,visibleToasts:w=_ge,toastOptions:E,dir:A=KF(),gap:k=Age,icons:R,containerAriaLabel:j="Notifications"}=e,[P,S]=ke.useState([]),I=ke.useMemo(()=>n?P.filter(V=>V.toasterId===n):P.filter(V=>!V.toasterId),[P,n]),O=ke.useMemo(()=>Array.from(new Set([s].concat(I.filter(V=>V.position).map(V=>V.position)))),[I,s]),[D,M]=ke.useState([]),[F,U]=ke.useState(!1),[le,de]=ke.useState(!1),[J,Q]=ke.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),fe=ke.useRef(null),ee=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ge=ke.useRef(null),q=ke.useRef(!1),z=ke.useCallback(V=>{S(W=>{var Y;return(Y=W.find(ue=>ue.id===V.id))!=null&&Y.delete||eo.dismiss(V.id),W.filter(({id:ue})=>ue!==V.id)})},[]);return ke.useEffect(()=>eo.subscribe(V=>{if(V.dismiss){requestAnimationFrame(()=>{S(W=>W.map(Y=>Y.id===V.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{AX.flushSync(()=>{S(W=>{const Y=W.findIndex(ue=>ue.id===V.id);return Y!==-1?[...W.slice(0,Y),{...W[Y],...V},...W.slice(Y+1)]:[V,...W]})})})}),[P]),ke.useEffect(()=>{if(g!=="system"){Q(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const V=window.matchMedia("(prefers-color-scheme: dark)");try{V.addEventListener("change",({matches:W})=>{Q(W?"dark":"light")})}catch{V.addListener(({matches:Y})=>{try{Q(Y?"dark":"light")}catch(ue){console.error(ue)}})}},[g]),ke.useEffect(()=>{P.length<=1&&U(!1)},[P]),ke.useEffect(()=>{const V=W=>{var Y;if(a.every(ce=>W[ce]||W.code===ce)){var me;U(!0),(me=fe.current)==null||me.focus()}W.code==="Escape"&&(document.activeElement===fe.current||(Y=fe.current)!=null&&Y.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",V),()=>document.removeEventListener("keydown",V)},[a]),ke.useEffect(()=>{if(fe.current)return()=>{ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null,q.current=!1)}},[fe.current]),ke.createElement("section",{ref:r,"aria-label":`${j} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((V,W)=>{var Y;const[ue,me]=V.split("-");return I.length?ke.createElement("ol",{key:V,dir:A==="auto"?KF():A,tabIndex:-1,ref:fe,className:u,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":ue,"data-x-position":me,style:{"--front-toast-height":`${((Y=D[0])==null?void 0:Y.height)||0}px`,"--width":`${Sge}px`,"--gap":`${k}px`,...b,...Oge(f,h)},onBlur:ce=>{q.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(q.current=!1,ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||q.current||(q.current=!0,ge.current=ce.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{le||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||de(!0)},onPointerUp:()=>de(!1)},I.filter(ce=>!ce.position&&W===0||ce.position===V).map((ce,ie)=>{var ve,Ue;return ke.createElement(Ige,{key:ce.id,icons:R,index:ie,toast:ce,defaultRichColors:v,duration:(ve=E==null?void 0:E.duration)!=null?ve:x,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:i,visibleToasts:w,closeButton:(Ue=E==null?void 0:E.closeButton)!=null?Ue:l,interacting:le,position:V,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:z,toasts:I.filter(G=>G.position==ce.position),heights:D.filter(G=>G.position==ce.position),setHeights:M,expandByDefault:o,gap:k,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),Pge=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/8PDn1wfM/favicon.png",alt:"Online Exam Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift3.png",alt:"Gift Icon",...t,className:"h-16 w-16 object-contain"}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M3.75 4.5a3 3 0 00-3 3v10.5a3 3 0 003 3h16.5a3 3 0 003-3V7.5a3 3 0 00-3-3H3.75zm.75 4.5a.75.75 0 01.75-.75h13.5a.75.75 0 010 1.5H5.25a.75.75 0 01-.75-.75zm0 3.75a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zm0 2.25a.75.75 0 01.75-.75h3a.75.75 0 010 1.5h-3a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})},jge=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.25 4.5a.75.75 0 00-1.5 0v5.337a2.25 2.25 0 00-1.5 2.063v.75a.75.75 0 001.5 0v-.75a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v.75a.75.75 0 001.5 0v-.75a2.25 2.25 0 00-1.5-2.063V6.75z"}),m.jsx("path",{d:"M6.163 15.25a.75.75 0 011.06-1.06l1.25 1.25a.75.75 0 01-1.06 1.06l-1.25-1.25zm10.617 0a.75.75 0 011.06 1.06l-1.25 1.25a.75.75 0 01-1.06 1.06l1.25-1.25z"})]}),W6=t=>{const{theme:e}=sa();return e==="noel"?m.jsx("img",{src:"/assets/img/ball.png",alt:"Check",...t,className:`${t.className} object-contain`}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})},G6=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z",clipRule:"evenodd"})}),D0=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-4.28 9.22a.75.75 0 000 1.06l3 3a.75.75 0 101.06-1.06L10.81 12l1.47-1.47a.75.75 0 10-1.06-1.06l-3 3z",clipRule:"evenodd"})}),Dge=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06-1.06L14.44 12l-2.22-2.22a.75.75 0 011.06-1.06l3 3z",clipRule:"evenodd"})}),Mge=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/J0JwWn5p/Mattahan-Buuf-One-of-those-ugly-pens-you-just-find-lying-around-128.png",alt:"Pen Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/celebrate.png",alt:"Santa",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM9 12a3 3 0 116 0 3 3 0 01-6 0zm-2.121 4.212a.75.75 0 01.688-1.228 5.253 5.253 0 018.866 0 .75.75 0 11-.688 1.228 3.753 3.753 0 00-7.49 0z",clipRule:"evenodd"})]})},Lge=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-4.5a.75.75 0 000 1.5h6a.75.75 0 00.75-.75V4.5a.75.75 0 00-1.5 0v2.253a9 9 0 00-15.06 4.042.75.75 0 00.75.75h1.5a.75.75 0 00.75-.75zM19.245 13.941a7.5 7.5 0 01-12.548 3.364l-1.903-1.903h4.5a.75.75 0 000-1.5h-6a.75.75 0 00-.75.75v6a.75.75 0 001.5 0v-2.253a9 9 0 0015.06-4.042.75.75 0 00-.75-.75h-1.5a.75.75 0 00-.75.75z",clipRule:"evenodd"})}),gg=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/xjbVmxDW/Oxygen-Icons-org-Oxygen-Categories-applications-education-university-256.png",alt:"Graduation Cap Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/home.png",alt:"Home Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm0 3a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z"}),m.jsx("path",{d:"M12 3v2m0 14v2M3 12h2m14 0h-2m-8-8L6.414 5.414m11.172 11.172L16.243 15.12m0-9.706l-1.121 1.121M5.414 17.586L6.536 16.464"})]})},DI=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/66GxZjxN/school-114359.png",alt:"School Bag Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/bell.png",alt:"Bell Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2a1 1 0 011 1v7.683a4.502 4.502 0 012.722 2.054 3 3 0 01-1.33 3.963 3.003 3.003 0 01-4.783-3.963A4.502 4.502 0 0111 10.683V3a1 1 0 011-1zm-3.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm7 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}),m.jsx("path",{d:"M12 22a8.956 8.956 0 01-6-2.583V18h12v1.417A8.956 8.956 0 0112 22z"})]})},Fge=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/h47RmyWN/Mattahan-Buuf-They-reply-technosorcery-128.png",alt:"Wrench Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift4.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.981A10.503 10.503 0 0112 21a10.5 10.5 0 01-10.5-10.5c0-4.368 2.667-8.162 6.43-9.742a.75.75 0 01.819.162z",clipRule:"evenodd"}),m.jsx("path",{d:"M12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z"})]})},Bge=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/zvWm1BFk/book-512x512-35977.png",alt:"Book Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/hat.png",alt:"Hat Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2L3 8v2h18V8l-9-6zm-1.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm3 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}),m.jsx("path",{d:"M4 14v6h16v-6H4zm6 2h4v2h-4v-2z"})]})},YF=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/2yvpf67d/Mattahan-Buuf-A-Proper-Journal-Icon-128.png",alt:"Journal Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift5.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M12 2a10 10 0 100 20 10 10 0 000-20zM4 12a8 8 0 1116 0 8 8 0 01-16 0z",clipRule:"evenodd"}),m.jsx("path",{d:"M16.95 7.05l-1.414 1.414-2.122-2.122 1.414-1.414 2.122 2.122zm-9.9 9.9l1.414-1.414 2.122 2.122-1.414 1.414-2.122-2.122zm9.9 0l-1.414-1.414-2.122 2.122 1.414 1.414 2.122-2.122zm-9.9-9.9l1.414 1.414-2.122 2.122L5.636 9.172l2.122-2.122z"})]})},XF=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/2yvpf67d/Mattahan-Buuf-A-Proper-Journal-Icon-128.png",alt:"Journal Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/star-gold.png",alt:"Star Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M8.25 2.25A.75.75 0 019 3v.257a3.75 3.75 0 013 0V3a.75.75 0 011.5 0v.257a3.75 3.75 0 013 0V3a.75.75 0 01.75.75h-.008v.016c.361.32.622.754.74 1.232A23.953 23.953 0 0112 6c-2.305 0-4.52-.42-6.502-1.195a2.5 2.5 0 01.74-1.232H6a.75.75 0 01.75-.75h1.5zm-2.784 4.542a25.474 25.474 0 0013.068 0 .75.75 0 01.443.923 23.92 23.92 0 01-13.954 0 .75.75 0 01.443-.923zM8.25 10.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zm3.75 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zm3.75 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}),m.jsx("path",{d:"M4.145 9.421a.75.75 0 01.558-.923 25.483 25.483 0 0114.594 0 .75.75 0 01.558.923l-.36.99a25.01 25.01 0 01-14.832 0l-.36-.99z"}),m.jsx("path",{fillRule:"evenodd",d:"M3 15.75A2.25 2.25 0 015.25 13.5h13.5A2.25 2.25 0 0121 15.75v3A2.25 2.25 0 0118.75 21H5.25A2.25 2.25 0 013 18.75v-3z",clipRule:"evenodd"})]})},kX=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/xjbVmxDW/Oxygen-Icons-org-Oxygen-Categories-applications-education-university-256.png",alt:"Graduation Cap Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/star-gold.png",alt:"Gold Star Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M11.25 4.5A.75.75 0 0112 5.25v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0111.25 4.5zM12.75 6a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0V6zM11.25 7.5A.75.75 0 0112 8.25v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0111.25 7.5zM12.75 9a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0V9z",clipRule:"evenodd"}),m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM6.262 6.072a8.25 8.25 0 1011.476 11.476A8.25 8.25 0 006.262 6.072zM12 18.75a.75.75 0 01-.75-.75V15a.75.75 0 011.5 0v3a.75.75 0 01-.75.75z",clipRule:"evenodd"}),m.jsx("path",{d:"M14.25 12a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})]})},K6=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/FFJXSWXv/study-learning-knowledge-education-book-notebook-icon-256768.png",alt:"Book and Glasses Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift1.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M11.25 4.533A9.708 9.708 0 006 3.75c-1.052 0-2.062.18-3 .512V17.25a8.987 8.987 0 013.75-.82V9.75a.75.75 0 011.5 0v7.5a.75.75 0 01-1.5 0V15a6.726 6.726 0 00-3-.585V18.75C3.393 18.932 3.69 19.1 4 19.29c2.023.784 4.18 1.093 6.364 1.294a.75.75 0 00.872-.725V4.534z"}),m.jsx("path",{d:"M12.75 4.533V19.86a.75.75 0 00.872.725 49.33 49.33 0 006.364-1.294c.31-.19.607-.358.914-.54V5.25c-1.084-.308-2.18-.46-3.25-.46-1.637 0-3.235.32-4.75.922V4.534z"})]})},Uge=t=>{const{theme:e}=sa();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/kG8rd4vv/Limpa-Curriculum-Vitae-Education-256.png",alt:"Blackboard Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift2.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M2.25 6a3 3 0 013-3h13.5a3 3 0 013 3v12a3 3 0 01-3-3H5.25a3 3 0 01-3-3V6zm3.75 3a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H7.5a.75.75 0 01-.75-.75zM7.5 12a.75.75 0 000 1.5h6a.75.75 0 000-1.5h-6z",clipRule:"evenodd"})})},Vge=[{name:"light",label:"Sng",color:"bg-white"},{name:"dark",label:"Ti",color:"bg-slate-900"},{name:"noel",label:"Ging Sinh",color:"bg-[#8B0000]"},{name:"modern",label:"Hin i",color:"bg-indigo-600"},{name:"classic",label:"C in",color:"bg-[#6F6049]"},{name:"sunrise",label:"Bnh Minh",color:"bg-orange-500"},{name:"tri-an",label:"Tri n",color:"bg-red-400"}],zge=()=>{const[t,e]=N.useState(!1),{theme:r,setTheme:n}=sa(),i=s=>{n(s),e(!1)};return m.jsxs("div",{className:"relative",children:[t&&m.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-40 rounded-lg border border-border bg-card p-2 shadow-2xl flex flex-col gap-1 animate-slide-in-right",children:Vge.map(s=>m.jsxs("button",{onClick:()=>i(s.name),className:`w-full text-left px-3 py-2 text-sm font-semibold rounded-md flex items-center gap-3 transition-colors ${r===s.name?"bg-primary/20 text-primary":"text-card-foreground hover:bg-secondary"}`,children:[m.jsx("span",{className:`w-4 h-4 rounded-full ${s.color} border border-white/20`}),s.label]},s.name))}),m.jsx("button",{onClick:()=>e(!t),className:"flex h-10 w-10 items-center justify-center rounded-lg bg-secondary text-secondary-foreground shadow-sm transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Change theme",children:m.jsx(jge,{className:"h-6 w-6"})})]})},$ge=()=>{const t=["gift1.png","bell.png","star-gold.png","ball.png","gift2.png","gift3.png","gift4.png","gift5.png"],{theme:e}=sa();return e!=="noel"?null:m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
        /* === PHN 5: HIU NG TUYT & QU RI === */
        .snowflakes {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        
        .snowflake {
            color: #fff;
            font-size: 1.2em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 3px rgba(255,255,255,0.8); /* Tuyt pht sng nh */
            position: fixed;
            top: -10%;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite, infinite;
            animation-play-state: running, running;
        }

        .snowflake-img img {
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
            width: 30px; 
            height: auto;
            opacity: 0.9;
        }

        @keyframes snowflakes-fall {
            0% { top: -10%; }
            100% { top: 100%; }
        }
        @keyframes snowflakes-shake {
            0% { transform: translateX(0px) rotate(0deg); }
            50% { transform: translateX(80px) rotate(180deg); }
            100% { transform: translateX(0px) rotate(360deg); }
        }

        /* Cu hnh ri ngu nhin */
        .snowflake:nth-of-type(1) { left: 1%; animation-duration: 12s, 4s; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(2) { left: 5%; animation-duration: 15s, 6s; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(3) { left: 10%; animation-duration: 10s, 3s; animation-delay: 2s, 0.5s; }
        .snowflake:nth-of-type(4) { left: 15%; animation-duration: 18s, 5s; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(5) { left: 20%; animation-duration: 11s, 4s; animation-delay: 2s, 2s; }
        .snowflake:nth-of-type(6) { left: 25%; animation-duration: 14s, 7s; animation-delay: 6s, 3s; }
        .snowflake:nth-of-type(7) { left: 30%; animation-duration: 16s, 5s; animation-delay: 3s, 2s; }
        .snowflake:nth-of-type(8) { left: 35%; animation-duration: 13s, 4s; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(9) { left: 40%; animation-duration: 17s, 6s; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(10) { left: 45%; animation-duration: 9s, 3s; animation-delay: 5s, 1.5s; }
        .snowflake:nth-of-type(11) { left: 50%; animation-duration: 14s, 5s; animation-delay: 2s, 3s; }
        .snowflake:nth-of-type(12) { left: 55%; animation-duration: 11s, 4s; animation-delay: 4s, 1s; }
        .snowflake:nth-of-type(13) { left: 60%; animation-duration: 19s, 7s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(14) { left: 65%; animation-duration: 12s, 3s; animation-delay: 3s, 0s; }
        .snowflake:nth-of-type(15) { left: 70%; animation-duration: 15s, 6s; animation-delay: 5s, 4s; }
        .snowflake:nth-of-type(16) { left: 75%; animation-duration: 10s, 4s; animation-delay: 0s, 2s; }
        .snowflake:nth-of-type(17) { left: 80%; animation-duration: 16s, 5s; animation-delay: 2s, 1s; }
        .snowflake:nth-of-type(18) { left: 85%; animation-duration: 13s, 4s; animation-delay: 4s, 3s; }
        .snowflake:nth-of-type(19) { left: 90%; animation-duration: 18s, 6s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(20) { left: 95%; animation-duration: 11s, 3s; animation-delay: 3s, 0s; }
        
        .snowflake:nth-of-type(21) { left: 2%; animation-duration: 13s, 5s; animation-delay: 5s, 1s; }
        .snowflake:nth-of-type(22) { left: 8%; animation-duration: 10s, 3s; animation-delay: 2s, 4s; }
        .snowflake:nth-of-type(23) { left: 12%; animation-duration: 16s, 6s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(24) { left: 18%; animation-duration: 12s, 4s; animation-delay: 6s, 0s; }
        .snowflake:nth-of-type(25) { left: 22%; animation-duration: 14s, 5s; animation-delay: 0s, 3s; }
        .snowflake:nth-of-type(26) { left: 28%; animation-duration: 11s, 3s; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(27) { left: 32%; animation-duration: 19s, 7s; animation-delay: 2s, 1s; }
        .snowflake:nth-of-type(28) { left: 38%; animation-duration: 15s, 6s; animation-delay: 5s, 5s; }
        .snowflake:nth-of-type(29) { left: 42%; animation-duration: 12s, 4s; animation-delay: 1s, 0s; }
        .snowflake:nth-of-type(30) { left: 48%; animation-duration: 17s, 5s; animation-delay: 3s, 2s; }
        .snowflake:nth-of-type(31) { left: 52%; animation-duration: 9s, 3s; animation-delay: 0s, 3s; }
        .snowflake:nth-of-type(32) { left: 58%; animation-duration: 14s, 6s; animation-delay: 4s, 1s; }
        .snowflake:nth-of-type(33) { left: 62%; animation-duration: 11s, 4s; animation-delay: 2s, 4s; }
        .snowflake:nth-of-type(34) { left: 68%; animation-duration: 16s, 5s; animation-delay: 6s, 0s; }
        .snowflake:nth-of-type(35) { left: 72%; animation-duration: 13s, 3s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(36) { left: 78%; animation-duration: 18s, 7s; animation-delay: 5s, 1s; }
        .snowflake:nth-of-type(37) { left: 82%; animation-duration: 10s, 4s; animation-delay: 2s, 3s; }
        .snowflake:nth-of-type(38) { left: 88%; animation-duration: 15s, 6s; animation-delay: 4s, 0s; }
        .snowflake:nth-of-type(39) { left: 92%; animation-duration: 12s, 5s; animation-delay: 0s, 2s; }
        .snowflake:nth-of-type(40) { left: 98%; animation-duration: 17s, 4s; animation-delay: 3s, 5s; }

        .snowflake:nth-child(odd) { animation-direction: normal; }
        .snowflake:nth-child(even) { animation-direction: alternate; }

        @media (max-width: 768px) {
            .snowflake { font-size: 1em; }
            .snowflake-img img { width: 20px; }
        }
      `}}),m.jsxs("div",{className:"snowflakes","aria-hidden":"true",children:[Array.from({length:100}).map((r,n)=>m.jsxs("div",{className:"snowflake",children:[["","",""][n%3]," "]},`snow-${n}`)),Array.from({length:8}).map((r,n)=>{const i=t[n%t.length];return m.jsx("div",{className:"snowflake snowflake-img",children:m.jsx("img",{src:`/assets/img/${i}`,alt:"",style:{width:"25px",height:"auto"}})},`img-${n}`)})]})]})},Hge=()=>{};var QF={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CX={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st=function(t,e){if(!t)throw tv(e)},tv=function(t){return new Error("Firebase Database ("+CX.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NX=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},qge=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},Y6={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,f=s>>2,h=(s&3)<<4|o>>4;let g=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(g=64)),n.push(r[f],r[h],r[g],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(NX(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qge(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const h=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||h==null)throw new Wge;const g=s<<2|o>>4;if(n.push(g),u!==64){const v=o<<4&240|u>>2;if(n.push(v),h!==64){const x=u<<6&192|h;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class Wge extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IX=function(t){const e=NX(t);return Y6.encodeByteArray(e,!0)},L2=function(t){return IX(t).replace(/\./g,"")},F2=function(t){try{return Y6.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gge(t){return OX(void 0,t)}function OX(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Kge(r)||(t[r]=OX(t[r],e[r]));return t}function Kge(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yge(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xge=()=>Yge().__FIREBASE_DEFAULTS__,Qge=()=>{if(typeof process>"u"||typeof QF>"u")return;const t=QF.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Jge=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&F2(t[1]);return e&&JSON.parse(e)},eS=()=>{try{return Hge()||Xge()||Qge()||Jge()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},RX=t=>{var e,r;return(r=(e=eS())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},X6=t=>{const e=RX(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},PX=()=>{var t;return(t=eS())==null?void 0:t.config},jX=t=>{var e;return(e=eS())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _d(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function tS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Q6(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[L2(JSON.stringify(r)),L2(JSON.stringify(a)),""].join(".")}const i1={};function Zge(){const t={prod:[],emulator:[]};for(const e of Object.keys(i1))i1[e]?t.emulator.push(e):t.prod.push(e);return t}function eve(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let JF=!1;function rS(t,e){if(typeof window>"u"||typeof document>"u"||!_d(window.location.host)||i1[t]===e||i1[t]||JF)return;i1[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=Zge().prod.length>0;function a(){const g=document.getElementById(n);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{JF=!0,a()},g}function f(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function h(){const g=eve(n),v=r("text"),x=document.getElementById(v)||document.createElement("span"),b=r("learnmore"),w=document.getElementById(b)||document.createElement("a"),E=r("preprendIcon"),A=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const k=g.element;o(k),f(w,b);const R=u();l(A,E),k.append(A,x,w,R),document.body.appendChild(k)}s?(x.innerText="Preview backend disconnected.",A.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(A.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",h):h()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ka(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function J6(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ka())}function tve(){var e;const t=(e=eS())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function rve(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function nve(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function DX(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function ive(){const t=ka();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function sve(){return CX.NODE_ADMIN===!0}function ave(){return!tve()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function ove(){try{return typeof indexedDB=="object"}catch{return!1}}function lve(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cve="FirebaseError";class du extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=cve,Object.setPrototypeOf(this,du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Vx.prototype.create)}}class Vx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?uve(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new du(i,o,n)}}function uve(t,e){return t.replace(dve,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const dve=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j1(t){return JSON.parse(t)}function Is(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MX=function(t){let e={},r={},n={},i="";try{const s=t.split(".");e=j1(F2(s[0])||""),r=j1(F2(s[1])||""),i=s[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:i}},fve=function(t){const e=MX(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},hve=function(t){const e=MX(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function vg(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function B2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function U2(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n}function iu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(ZF(s)&&ZF(a)){if(!iu(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function ZF(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rv(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function $y(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Hy(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mve{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let h=0;h<16;h++)n[h]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let h=0;h<16;h++)n[h]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let h=16;h<80;h++){const g=n[h-3]^n[h-8]^n[h-14]^n[h-16];n[h]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,f;for(let h=0;h<80;h++){h<40?h<20?(u=o^s&(a^o),f=1518500249):(u=s^a^o,f=1859775393):h<60?(u=s&a|o&(s|a),f=2400959708):(u=s^a^o,f=3395469782);const g=(i<<5|i>>>27)+u+l+f+n[h]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<r;){if(a===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<r;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<r;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[n]=this.chain_[i]>>s&255,++n;return e}}function pve(t,e){const r=new gve(t,e);return r.subscribe.bind(r)}class gve{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");vve(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=SC),i.error===void 0&&(i.error=SC),i.complete===void 0&&(i.complete=SC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function vve(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function SC(){}function yg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yve=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const s=i-55296;n++,st(n<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(n)-56320;i=65536+(s<<10)+a}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},nS=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(t){return t&&t._delegate?t._delegate:t}class cd{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xve=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Wc;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(wve(e))try{this.getOrInitializeService({instanceIdentifier:e0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=e0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=e0){return this.instances.has(e)}getOptions(e=e0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:bve(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=e0){return this.component?this.component.multipleInstances?e:e0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function bve(t){return t===e0?void 0:t}function wve(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ve{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new xve(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mr||(mr={}));const Eve={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},Tve=mr.INFO,Sve={[mr.DEBUG]:"log",[mr.VERBOSE]:"log",[mr.INFO]:"info",[mr.WARN]:"warn",[mr.ERROR]:"error"},Ave=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=Sve[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class iS{constructor(e){this.name=e,this._logLevel=Tve,this._logHandler=Ave,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Eve[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mr.DEBUG,...e),this._logHandler(this,mr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mr.VERBOSE,...e),this._logHandler(this,mr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mr.INFO,...e),this._logHandler(this,mr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mr.WARN,...e),this._logHandler(this,mr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mr.ERROR,...e),this._logHandler(this,mr.ERROR,...e)}}const kve=(t,e)=>e.some(r=>t instanceof r);let eB,tB;function Cve(){return eB||(eB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Nve(){return tB||(tB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const LX=new WeakMap,MI=new WeakMap,FX=new WeakMap,AC=new WeakMap,Z6=new WeakMap;function Ive(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Rf(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&LX.set(r,t)}).catch(()=>{}),Z6.set(e,t),e}function Ove(t){if(MI.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});MI.set(t,e)}let LI={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return MI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FX.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Rf(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Rve(t){LI=t(LI)}function Pve(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(kC(this),e,...r);return FX.set(n,e.sort?e.sort():[e]),Rf(n)}:Nve().includes(t)?function(...e){return t.apply(kC(this),e),Rf(LX.get(this))}:function(...e){return Rf(t.apply(kC(this),e))}}function jve(t){return typeof t=="function"?Pve(t):(t instanceof IDBTransaction&&Ove(t),kve(t,Cve())?new Proxy(t,LI):t)}function Rf(t){if(t instanceof IDBRequest)return Ive(t);if(AC.has(t))return AC.get(t);const e=jve(t);return e!==t&&(AC.set(t,e),Z6.set(e,t)),e}const kC=t=>Z6.get(t);function Dve(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Rf(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Rf(a.result),l.oldVersion,l.newVersion,Rf(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const Mve=["get","getKey","getAll","getAllKeys","count"],Lve=["put","add","delete","clear"],CC=new Map;function rB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(CC.get(e))return CC.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=Lve.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||Mve.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return CC.set(e,s),s}Rve(t=>({...t,get:(e,r,n)=>rB(e,r)||t.get(e,r,n),has:(e,r)=>!!rB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fve{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(Bve(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function Bve(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const FI="@firebase/app",nB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new iS("@firebase/app"),Uve="@firebase/app-compat",Vve="@firebase/analytics-compat",zve="@firebase/analytics",$ve="@firebase/app-check-compat",Hve="@firebase/app-check",qve="@firebase/auth",Wve="@firebase/auth-compat",Gve="@firebase/database",Kve="@firebase/data-connect",Yve="@firebase/database-compat",Xve="@firebase/functions",Qve="@firebase/functions-compat",Jve="@firebase/installations",Zve="@firebase/installations-compat",eye="@firebase/messaging",tye="@firebase/messaging-compat",rye="@firebase/performance",nye="@firebase/performance-compat",iye="@firebase/remote-config",sye="@firebase/remote-config-compat",aye="@firebase/storage",oye="@firebase/storage-compat",lye="@firebase/firestore",cye="@firebase/ai",uye="@firebase/firestore-compat",dye="firebase",fye="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BI="[DEFAULT]",hye={[FI]:"fire-core",[Uve]:"fire-core-compat",[zve]:"fire-analytics",[Vve]:"fire-analytics-compat",[Hve]:"fire-app-check",[$ve]:"fire-app-check-compat",[qve]:"fire-auth",[Wve]:"fire-auth-compat",[Gve]:"fire-rtdb",[Kve]:"fire-data-connect",[Yve]:"fire-rtdb-compat",[Xve]:"fire-fn",[Qve]:"fire-fn-compat",[Jve]:"fire-iid",[Zve]:"fire-iid-compat",[eye]:"fire-fcm",[tye]:"fire-fcm-compat",[rye]:"fire-perf",[nye]:"fire-perf-compat",[iye]:"fire-rc",[sye]:"fire-rc-compat",[aye]:"fire-gcs",[oye]:"fire-gcs-compat",[lye]:"fire-fst",[uye]:"fire-fst-compat",[cye]:"fire-vertex","fire-js":"fire-js",[dye]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D1=new Map,mye=new Map,UI=new Map;function iB(t,e){try{t.container.addComponent(e)}catch(r){ud.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Hf(t){const e=t.name;if(UI.has(e))return ud.debug(`There were multiple attempts to register component ${e}.`),!1;UI.set(e,t);for(const r of D1.values())iB(r,t);for(const r of mye.values())iB(r,t);return!0}function zx(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function no(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pye={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Pf=new Vx("app","Firebase",pye);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gye{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new cd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Pf.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uh=fye;function sS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:BI,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Pf.create("bad-app-name",{appName:String(i)});if(r||(r=PX()),!r)throw Pf.create("no-options");const s=D1.get(i);if(s){if(iu(r,s.options)&&iu(n,s.config))return s;throw Pf.create("duplicate-app",{appName:i})}const a=new _ve(i);for(const l of UI.values())a.addComponent(l);const o=new gye(r,n,a);return D1.set(i,o),o}function lm(t=BI){const e=D1.get(t);if(!e&&t===BI&&PX())return sS();if(!e)throw Pf.create("no-app",{appName:t});return e}function vye(){return Array.from(D1.values())}function kl(t,e,r){let n=hye[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),ud.warn(a.join(" "));return}Hf(new cd(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yye="firebase-heartbeat-database",xye=1,M1="firebase-heartbeat-store";let NC=null;function BX(){return NC||(NC=Dve(yye,xye,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(M1)}catch(r){console.warn(r)}}}}).catch(t=>{throw Pf.create("idb-open",{originalErrorMessage:t.message})})),NC}async function bye(t){try{const r=(await BX()).transaction(M1),n=await r.objectStore(M1).get(UX(t));return await r.done,n}catch(e){if(e instanceof du)ud.warn(e.message);else{const r=Pf.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});ud.warn(r.message)}}}async function sB(t,e){try{const n=(await BX()).transaction(M1,"readwrite");await n.objectStore(M1).put(e,UX(t)),await n.done}catch(r){if(r instanceof du)ud.warn(r.message);else{const n=Pf.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});ud.warn(n.message)}}}function UX(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wye=1024,_ye=30;class Eye{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new Sye(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=aB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>_ye){const a=Aye(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){ud.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=aB(),{heartbeatsToSend:n,unsentEntries:i}=Tye(this._heartbeatsCache.heartbeats),s=L2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return ud.warn(r),""}}}function aB(){return new Date().toISOString().substring(0,10)}function Tye(t,e=wye){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),oB(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),oB(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class Sye{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return ove()?lve().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await bye(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return sB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function oB(t){return L2(JSON.stringify({version:2,heartbeats:t})).length}function Aye(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kye(t){Hf(new cd("platform-logger",e=>new Fve(e),"PRIVATE")),Hf(new cd("heartbeat",e=>new Eye(e),"PRIVATE")),kl(FI,nB,t),kl(FI,nB,"esm2020"),kl("fire-js","")}kye("");var lB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var jf,VX;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function O(){}O.prototype=I.prototype,S.F=I.prototype,S.prototype=new O,S.prototype.constructor=S,S.D=function(D,M,F){for(var U=Array(arguments.length-2),le=2;le<arguments.length;le++)U[le-2]=arguments[le];return I.prototype[M].apply(D,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,O){O||(O=0);const D=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)D[M]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(M=0;M<16;++M)D[M]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=S.g[0],O=S.g[1],M=S.g[2];let F=S.g[3],U;U=I+(F^O&(M^F))+D[0]+3614090360&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[1]+3905402710&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[2]+606105819&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[3]+3250441966&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(F^O&(M^F))+D[4]+4118548399&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[5]+1200080426&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[6]+2821735955&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[7]+4249261313&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(F^O&(M^F))+D[8]+1770035416&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[9]+2336552879&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[10]+4294925233&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[11]+2304563134&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(F^O&(M^F))+D[12]+1804603682&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[13]+4254626195&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[14]+2792965006&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[15]+1236535329&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(M^F&(O^M))+D[1]+4129170786&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[6]+3225465664&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[11]+643717713&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[0]+3921069994&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(M^F&(O^M))+D[5]+3593408605&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[10]+38016083&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[15]+3634488961&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[4]+3889429448&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(M^F&(O^M))+D[9]+568446438&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[14]+3275163606&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[3]+4107603335&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[8]+1163531501&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(M^F&(O^M))+D[13]+2850285829&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[2]+4243563512&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[7]+1735328473&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[12]+2368359562&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(O^M^F)+D[5]+4294588738&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[8]+2272392833&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[11]+1839030562&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[14]+4259657740&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(O^M^F)+D[1]+2763975236&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[4]+1272893353&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[7]+4139469664&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[10]+3200236656&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(O^M^F)+D[13]+681279174&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[0]+3936430074&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[3]+3572445317&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[6]+76029189&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(O^M^F)+D[9]+3654602809&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[12]+3873151461&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[15]+530742520&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[2]+3299628645&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(M^(O|~F))+D[0]+4096336452&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[7]+1126891415&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[14]+2878612391&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[5]+4237533241&4294967295,O=M+(U<<21&4294967295|U>>>11),U=I+(M^(O|~F))+D[12]+1700485571&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[3]+2399980690&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[10]+4293915773&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[1]+2240044497&4294967295,O=M+(U<<21&4294967295|U>>>11),U=I+(M^(O|~F))+D[8]+1873313359&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[15]+4264355552&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[6]+2734768916&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[13]+1309151649&4294967295,O=M+(U<<21&4294967295|U>>>11),U=I+(M^(O|~F))+D[4]+4149444226&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[11]+3174756917&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[2]+718787259&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+F&4294967295}n.prototype.v=function(S,I){I===void 0&&(I=S.length);const O=I-this.blockSize,D=this.C;let M=this.h,F=0;for(;F<I;){if(M==0)for(;F<=O;)i(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<I;)if(D[M++]=S.charCodeAt(F++),M==this.blockSize){i(this,D),M=0;break}}else for(;F<I;)if(D[M++]=S[F++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=I},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var O=S.length-8;O<S.length;++O)S[O]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,O=0;O<4;++O)for(let D=0;D<32;D+=8)S[I++]=this.g[O]>>>D&255;return S};function s(S,I){var O=o;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=I(S)}function a(S,I){this.h=I;const O=[];let D=!0;for(let M=S.length-1;M>=0;M--){const F=S[M]|0;D&&F==I||(O[M]=F,D=!1)}this.g=O}var o={};function l(S){return-128<=S&&S<128?s(S,function(I){return new a([I|0],I<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return h;if(S<0)return w(u(-S));const I=[];let O=1;for(let D=0;S>=O;D++)I[D]=S/O|0,O*=4294967296;return new a(I,0)}function f(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return w(f(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=u(Math.pow(I,8));let D=h;for(let F=0;F<S.length;F+=8){var M=Math.min(8,S.length-F);const U=parseInt(S.substring(F,F+M),I);M<8?(M=u(Math.pow(I,M)),D=D.j(M).add(u(U))):(D=D.j(O),D=D.add(u(U)))}return D}var h=l(0),g=l(1),v=l(16777216);t=a.prototype,t.m=function(){if(b(this))return-w(this).m();let S=0,I=1;for(let O=0;O<this.g.length;O++){const D=this.i(O);S+=(D>=0?D:4294967296+D)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(b(this))return"-"+w(this).toString(S);const I=u(Math.pow(S,6));var O=this;let D="";for(;;){const M=R(O,I).g;O=E(O,M.j(I));let F=((O.g.length>0?O.g[0]:O.h)>>>0).toString(S);if(O=M,x(O))return F+D;for(;F.length<6;)F="0"+F;D=F+D}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=E(this,S),b(S)?-1:x(S)?0:1};function w(S){const I=S.g.length,O=[];for(let D=0;D<I;D++)O[D]=~S.g[D];return new a(O,~S.h).add(g)}t.abs=function(){return b(this)?w(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),O=[];let D=0;for(let M=0;M<=I;M++){let F=D+(this.i(M)&65535)+(S.i(M)&65535),U=(F>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);D=U>>>16,F&=65535,U&=65535,O[M]=U<<16|F}return new a(O,O[O.length-1]&-2147483648?-1:0)};function E(S,I){return S.add(w(I))}t.j=function(S){if(x(this)||x(S))return h;if(b(this))return b(S)?w(this).j(w(S)):w(w(this).j(S));if(b(S))return w(this.j(w(S)));if(this.l(v)<0&&S.l(v)<0)return u(this.m()*S.m());const I=this.g.length+S.g.length,O=[];for(var D=0;D<2*I;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<S.g.length;M++){const F=this.i(D)>>>16,U=this.i(D)&65535,le=S.i(M)>>>16,de=S.i(M)&65535;O[2*D+2*M]+=U*de,A(O,2*D+2*M),O[2*D+2*M+1]+=F*de,A(O,2*D+2*M+1),O[2*D+2*M+1]+=U*le,A(O,2*D+2*M+1),O[2*D+2*M+2]+=F*le,A(O,2*D+2*M+2)}for(S=0;S<I;S++)O[S]=O[2*S+1]<<16|O[2*S];for(S=I;S<2*I;S++)O[S]=0;return new a(O,0)};function A(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function k(S,I){this.g=S,this.h=I}function R(S,I){if(x(I))throw Error("division by zero");if(x(S))return new k(h,h);if(b(S))return I=R(w(S),I),new k(w(I.g),w(I.h));if(b(I))return I=R(S,w(I)),new k(w(I.g),I.h);if(S.g.length>30){if(b(S)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var O=g,D=I;D.l(S)<=0;)O=j(O),D=j(D);var M=P(O,1),F=P(D,1);for(D=P(D,2),O=P(O,2);!x(D);){var U=F.add(D);U.l(S)<=0&&(M=M.add(O),F=U),D=P(D,1),O=P(O,1)}return I=E(S,M.j(I)),new k(M,I)}for(M=h;S.l(I)>=0;){for(O=Math.max(1,Math.floor(S.m()/I.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),F=u(O),U=F.j(I);b(U)||U.l(S)>0;)O-=D,F=u(O),U=F.j(I);x(F)&&(F=g),M=M.add(F),S=E(S,U)}return new k(M,S)}t.B=function(S){return R(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),O=[];for(let D=0;D<I;D++)O[D]=this.i(D)&S.i(D);return new a(O,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),O=[];for(let D=0;D<I;D++)O[D]=this.i(D)|S.i(D);return new a(O,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),O=[];for(let D=0;D<I;D++)O[D]=this.i(D)^S.i(D);return new a(O,this.h^S.h)};function j(S){const I=S.g.length+1,O=[];for(let D=0;D<I;D++)O[D]=S.i(D)<<1|S.i(D-1)>>>31;return new a(O,S.h)}function P(S,I){const O=I>>5;I%=32;const D=S.g.length-O,M=[];for(let F=0;F<D;F++)M[F]=I>0?S.i(F+O)>>>I|S.i(F+O+1)<<32-I:S.i(F+O);return new a(M,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,VX=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=f,jf=a}).apply(typeof lB<"u"?lB:typeof self<"u"?self:typeof window<"u"?window:{});var c_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zX,qy,$X,m2,VI,HX,qX,WX;(function(){var t,e=Object.defineProperty;function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof c_=="object"&&c_];for(var L=0;L<_.length;++L){var H=_[L];if(H&&H.Math==Math)return H}throw Error("Cannot find global object")}var n=r(this);function i(_,L){if(L)e:{var H=n;_=_.split(".");for(var te=0;te<_.length-1;te++){var Ee=_[te];if(!(Ee in H))break e;H=H[Ee]}_=_[_.length-1],te=H[_],L=L(te),L!=te&&L!=null&&e(H,_,{configurable:!0,writable:!0,value:L})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(L){var H=[],te;for(te in L)Object.prototype.hasOwnProperty.call(L,te)&&H.push([te,L[te]]);return H}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(_){var L=typeof _;return L=="object"&&_!=null||L=="function"}function l(_,L,H){return _.call.apply(_.bind,arguments)}function u(_,L,H){return u=l,u.apply(null,arguments)}function f(_,L){var H=Array.prototype.slice.call(arguments,1);return function(){var te=H.slice();return te.push.apply(te,arguments),_.apply(this,te)}}function h(_,L){function H(){}H.prototype=L.prototype,_.Z=L.prototype,_.prototype=new H,_.prototype.constructor=_,_.Ob=function(te,Ee,Ie){for(var ut=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)ut[Zt-2]=arguments[Zt];return L.prototype[Ee].apply(te,ut)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function v(_){const L=_.length;if(L>0){const H=Array(L);for(let te=0;te<L;te++)H[te]=_[te];return H}return[]}function x(_,L){for(let te=1;te<arguments.length;te++){const Ee=arguments[te];var H=typeof Ee;if(H=H!="object"?H:Ee?Array.isArray(Ee)?"array":H:"null",H=="array"||H=="object"&&typeof Ee.length=="number"){H=_.length||0;const Ie=Ee.length||0;_.length=H+Ie;for(let ut=0;ut<Ie;ut++)_[H+ut]=Ee[ut]}else _.push(Ee)}}class b{constructor(L,H){this.i=L,this.j=H,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function w(_){a.setTimeout(()=>{throw _},0)}function E(){var _=S;let L=null;return _.g&&(L=_.g,_.g=_.g.next,_.g||(_.h=null),L.next=null),L}class A{constructor(){this.h=this.g=null}add(L,H){const te=k.get();te.set(L,H),this.h?this.h.next=te:this.g=te,this.h=te}}var k=new b(()=>new R,_=>_.reset());class R{constructor(){this.next=this.g=this.h=null}set(L,H){this.h=L,this.g=H,this.next=null}reset(){this.next=this.g=this.h=null}}let j,P=!1,S=new A,I=()=>{const _=Promise.resolve(void 0);j=()=>{_.then(O)}};function O(){for(var _;_=E();){try{_.h.call(_.g)}catch(H){w(H)}var L=k;L.j(_),L.h<100&&(L.h++,_.next=L.g,L.g=_)}P=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(_,L){this.type=_,this.g=this.target=L,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var _=!1,L=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const H=()=>{};a.addEventListener("test",H,L),a.removeEventListener("test",H,L)}catch{}return _})();function U(_){return/^[\s\xa0]*$/.test(_)}function le(_,L){M.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,L)}h(le,M),le.prototype.init=function(_,L){const H=this.type=_.type,te=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=L,L=_.relatedTarget,L||(H=="mouseover"?L=_.fromElement:H=="mouseout"&&(L=_.toElement)),this.relatedTarget=L,te?(this.clientX=te.clientX!==void 0?te.clientX:te.pageX,this.clientY=te.clientY!==void 0?te.clientY:te.pageY,this.screenX=te.screenX||0,this.screenY=te.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),J=0;function Q(_,L,H,te,Ee){this.listener=_,this.proxy=null,this.src=L,this.type=H,this.capture=!!te,this.ha=Ee,this.key=++J,this.da=this.fa=!1}function fe(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function ee(_,L,H){for(const te in _)L.call(H,_[te],te,_)}function ge(_,L){for(const H in _)L.call(void 0,_[H],H,_)}function q(_){const L={};for(const H in _)L[H]=_[H];return L}const z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(_,L){let H,te;for(let Ee=1;Ee<arguments.length;Ee++){te=arguments[Ee];for(H in te)_[H]=te[H];for(let Ie=0;Ie<z.length;Ie++)H=z[Ie],Object.prototype.hasOwnProperty.call(te,H)&&(_[H]=te[H])}}function W(_){this.src=_,this.g={},this.h=0}W.prototype.add=function(_,L,H,te,Ee){const Ie=_.toString();_=this.g[Ie],_||(_=this.g[Ie]=[],this.h++);const ut=ue(_,L,te,Ee);return ut>-1?(L=_[ut],H||(L.fa=!1)):(L=new Q(L,this.src,Ie,!!te,Ee),L.fa=H,_.push(L)),L};function Y(_,L){const H=L.type;if(H in _.g){var te=_.g[H],Ee=Array.prototype.indexOf.call(te,L,void 0),Ie;(Ie=Ee>=0)&&Array.prototype.splice.call(te,Ee,1),Ie&&(fe(L),_.g[H].length==0&&(delete _.g[H],_.h--))}}function ue(_,L,H,te){for(let Ee=0;Ee<_.length;++Ee){const Ie=_[Ee];if(!Ie.da&&Ie.listener==L&&Ie.capture==!!H&&Ie.ha==te)return Ee}return-1}var me="closure_lm_"+(Math.random()*1e6|0),ce={};function ie(_,L,H,te,Ee){if(Array.isArray(L)){for(let Ie=0;Ie<L.length;Ie++)ie(_,L[Ie],H,te,Ee);return null}return H=at(H),_&&_[de]?_.J(L,H,o(te)?!!te.capture:!1,Ee):ve(_,L,H,!1,te,Ee)}function ve(_,L,H,te,Ee,Ie){if(!L)throw Error("Invalid event type");const ut=o(Ee)?!!Ee.capture:!!Ee;let Zt=Xe(_);if(Zt||(_[me]=Zt=new W(_)),H=Zt.add(L,H,te,ut,Ie),H.proxy)return H;if(te=Ue(),H.proxy=te,te.src=_,te.listener=H,_.addEventListener)F||(Ee=ut),Ee===void 0&&(Ee=!1),_.addEventListener(L.toString(),te,Ee);else if(_.attachEvent)_.attachEvent(Oe(L.toString()),te);else if(_.addListener&&_.removeListener)_.addListener(te);else throw Error("addEventListener and attachEvent are unavailable.");return H}function Ue(){function _(H){return L.call(_.src,_.listener,H)}const L=rt;return _}function G(_,L,H,te,Ee){if(Array.isArray(L))for(var Ie=0;Ie<L.length;Ie++)G(_,L[Ie],H,te,Ee);else te=o(te)?!!te.capture:!!te,H=at(H),_&&_[de]?(_=_.i,Ie=String(L).toString(),Ie in _.g&&(L=_.g[Ie],H=ue(L,H,te,Ee),H>-1&&(fe(L[H]),Array.prototype.splice.call(L,H,1),L.length==0&&(delete _.g[Ie],_.h--)))):_&&(_=Xe(_))&&(L=_.g[L.toString()],_=-1,L&&(_=ue(L,H,te,Ee)),(H=_>-1?L[_]:null)&&Je(H))}function Je(_){if(typeof _!="number"&&_&&!_.da){var L=_.src;if(L&&L[de])Y(L.i,_);else{var H=_.type,te=_.proxy;L.removeEventListener?L.removeEventListener(H,te,_.capture):L.detachEvent?L.detachEvent(Oe(H),te):L.addListener&&L.removeListener&&L.removeListener(te),(H=Xe(L))?(Y(H,_),H.h==0&&(H.src=null,L[me]=null)):fe(_)}}}function Oe(_){return _ in ce?ce[_]:ce[_]="on"+_}function rt(_,L){if(_.da)_=!0;else{L=new le(L,this);const H=_.listener,te=_.ha||_.src;_.fa&&Je(_),_=H.call(te,L)}return _}function Xe(_){return _=_[me],_ instanceof W?_:null}var je="__closure_events_fn_"+(Math.random()*1e9>>>0);function at(_){return typeof _=="function"?_:(_[je]||(_[je]=function(L){return _.handleEvent(L)}),_[je])}function wt(){D.call(this),this.i=new W(this),this.M=this,this.G=null}h(wt,D),wt.prototype[de]=!0,wt.prototype.removeEventListener=function(_,L,H,te){G(this,_,L,H,te)};function Ot(_,L){var H,te=_.G;if(te)for(H=[];te;te=te.G)H.push(te);if(_=_.M,te=L.type||L,typeof L=="string")L=new M(L,_);else if(L instanceof M)L.target=L.target||_;else{var Ee=L;L=new M(te,_),V(L,Ee)}Ee=!0;let Ie,ut;if(H)for(ut=H.length-1;ut>=0;ut--)Ie=L.g=H[ut],Ee=Yr(Ie,te,!0,L)&&Ee;if(Ie=L.g=_,Ee=Yr(Ie,te,!0,L)&&Ee,Ee=Yr(Ie,te,!1,L)&&Ee,H)for(ut=0;ut<H.length;ut++)Ie=L.g=H[ut],Ee=Yr(Ie,te,!1,L)&&Ee}wt.prototype.N=function(){if(wt.Z.N.call(this),this.i){var _=this.i;for(const L in _.g){const H=_.g[L];for(let te=0;te<H.length;te++)fe(H[te]);delete _.g[L],_.h--}}this.G=null},wt.prototype.J=function(_,L,H,te){return this.i.add(String(_),L,!1,H,te)},wt.prototype.K=function(_,L,H,te){return this.i.add(String(_),L,!0,H,te)};function Yr(_,L,H,te){if(L=_.i.g[String(L)],!L)return!0;L=L.concat();let Ee=!0;for(let Ie=0;Ie<L.length;++Ie){const ut=L[Ie];if(ut&&!ut.da&&ut.capture==H){const Zt=ut.listener,ki=ut.ha||ut.src;ut.fa&&Y(_.i,ut),Ee=Zt.call(ki,te)!==!1&&Ee}}return Ee&&!te.defaultPrevented}function Wr(_,L){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=u(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:a.setTimeout(_,L||0)}function Lr(_){_.g=Wr(()=>{_.g=null,_.i&&(_.i=!1,Lr(_))},_.l);const L=_.h;_.h=null,_.m.apply(null,L)}class Gt extends D{constructor(L,H){super(),this.m=L,this.l=H,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:Lr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(_){D.call(this),this.h=_,this.g={}}h(Tr,D);var Sn=[];function hi(_){ee(_.g,function(L,H){this.g.hasOwnProperty(H)&&Je(L)},_),_.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),hi(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=a.JSON.stringify,Ke=a.JSON.parse,nt=class{stringify(_){return a.JSON.stringify(_,void 0)}parse(_){return a.JSON.parse(_,void 0)}};function jt(){}function Kt(){}var rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function br(){M.call(this,"d")}h(br,M);function Fi(){M.call(this,"c")}h(Fi,M);var Xr={},Dl=null;function aa(){return Dl=Dl||new wt}Xr.Ia="serverreachability";function ss(_){M.call(this,Xr.Ia,_)}h(ss,M);function mi(_){const L=aa();Ot(L,new ss(L))}Xr.STAT_EVENT="statevent";function yo(_,L){M.call(this,Xr.STAT_EVENT,_),this.stat=L}h(yo,M);function Qr(_){const L=aa();Ot(L,new yo(L,_))}Xr.Ja="timingevent";function Bi(_,L){M.call(this,Xr.Ja,_),this.size=L}h(Bi,M);function Ct(_,L){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){_()},L)}function wr(){this.g=!0}wr.prototype.ua=function(){this.g=!1};function In(_,L,H,te,Ee,Ie){_.info(function(){if(_.g)if(Ie){var ut="",Zt=Ie.split("&");for(let Vr=0;Vr<Zt.length;Vr++){var ki=Zt[Vr].split("=");if(ki.length>1){const Wn=ki[0];ki=ki[1];const el=Wn.split("_");ut=el.length>=2&&el[1]=="type"?ut+(Wn+"="+ki+"&"):ut+(Wn+"=redacted&")}}}else ut=null;else ut=Ie;return"XMLHTTP REQ ("+te+") [attempt "+Ee+"]: "+L+`
`+H+`
`+ut})}function ri(_,L,H,te,Ee,Ie,ut){_.info(function(){return"XMLHTTP RESP ("+te+") [ attempt "+Ee+"]: "+L+`
`+H+`
`+Ie+" "+ut})}function ni(_,L,H,te){_.info(function(){return"XMLHTTP TEXT ("+L+"): "+Ui(_,H)+(te?" "+te:"")})}function Jr(_,L){_.info(function(){return"TIMEOUT: "+L})}wr.prototype.info=function(){};function Ui(_,L){if(!_.g)return L;if(!L)return null;try{const Ie=JSON.parse(L);if(Ie){for(_=0;_<Ie.length;_++)if(Array.isArray(Ie[_])){var H=Ie[_];if(!(H.length<2)){var te=H[1];if(Array.isArray(te)&&!(te.length<1)){var Ee=te[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(let ut=1;ut<te.length;ut++)te[ut]=""}}}}return xe(Ie)}catch{return L}}var ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},Zr={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ai;function Us(){}h(Us,jt),Us.prototype.g=function(){return new XMLHttpRequest},Ai=new Us;function pi(_){return encodeURIComponent(String(_))}function K(_){var L=1;_=_.split(":");const H=[];for(;L>0&&_.length;)H.push(_.shift()),L--;return _.length&&H.push(_.join(":")),H}function ae(_,L,H,te){this.j=_,this.i=L,this.l=H,this.S=te||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Z}function Z(){this.i=null,this.g="",this.h=!1}var re={},se={};function oe(_,L,H){_.M=1,_.A=vu(vi(L)),_.u=H,_.R=!0,we(_,null)}function we(_,L){_.F=Date.now(),_e(_),_.B=vi(_.A);var H=_.B,te=_.S;Array.isArray(te)||(te=[String(te)]),St(H.i,"t",te),_.C=0,H=_.j.L,_.h=new Z,_.g=Qb(_.j,H?L:null,!_.u),_.P>0&&(_.O=new Gt(u(_.Y,_,_.g),_.P)),L=_.V,H=_.g,te=_.ba;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Sn[0]=Ee.toString()),Ee=Sn);for(let Ie=0;Ie<Ee.length;Ie++){const ut=ie(H,Ee[Ie],te||L.handleEvent,!1,L.h||L);if(!ut)break;L.g[ut.key]=ut}L=_.J?q(_.J):{},_.u?(_.v||(_.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,L)):(_.v="GET",_.g.ea(_.B,_.v,null,L)),mi(),In(_.i,_.v,_.B,_.l,_.S,_.u)}ae.prototype.ba=function(_){_=_.target;const L=this.O;L&&Bl(_)==3?L.j():this.Y(_)},ae.prototype.Y=function(_){try{if(_==this.g)e:{const Zt=Bl(this.g),ki=this.g.ya(),Vr=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||zs(this.g)))){this.K||Zt!=4||ki==7||(ki==8||Vr<=0?mi(3):mi(2)),Qe(this);var L=this.g.ca();this.X=L;var H=De(this);if(this.o=L==200,ri(this.i,this.v,this.B,this.l,this.S,Zt,L),this.o){if(this.U&&!this.L){t:{if(this.g){var te,Ee=this.g;if((te=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(te)){var Ie=te;break t}}Ie=null}if(_=Ie)ni(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,tt(this,_);else{this.o=!1,this.m=3,Qr(12),qe(this),ct(this);break e}}if(this.R){_=!0;let Wn;for(;!this.K&&this.C<H.length;)if(Wn=Te(this,H),Wn==se){Zt==4&&(this.m=4,Qr(14),_=!1),ni(this.i,this.l,null,"[Incomplete Response]");break}else if(Wn==re){this.m=4,Qr(15),ni(this.i,this.l,H,"[Invalid Chunk]"),_=!1;break}else ni(this.i,this.l,Wn,null),tt(this,Wn);if(be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||H.length!=0||this.h.h||(this.m=1,Qr(16),_=!1),this.o=this.o&&_,!_)ni(this.i,this.l,H,"[Invalid Chunked Response]"),qe(this),ct(this);else if(H.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),zv(ut),ut.P=!0,Qr(11))}}else ni(this.i,this.l,H,null),tt(this,H);Zt==4&&qe(this),this.o&&!this.K&&(Zt==4?Gb(this.j,this):(this.o=!1,_e(this)))}else bu(this.g),L==400&&H.indexOf("Unknown SID")>0?(this.m=3,Qr(12)):(this.m=0,Qr(13)),qe(this),ct(this)}}}catch{}finally{}};function De(_){if(!be(_))return _.g.la();const L=zs(_.g);if(L==="")return"";let H="";const te=L.length,Ee=Bl(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return qe(_),ct(_),"";_.h.i=new a.TextDecoder}for(let Ie=0;Ie<te;Ie++)_.h.h=!0,H+=_.h.i.decode(L[Ie],{stream:!(Ee&&Ie==te-1)});return L.length=0,_.h.g+=H,_.C=0,_.h.g}function be(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function Te(_,L){var H=_.C,te=L.indexOf(`
`,H);return te==-1?se:(H=Number(L.substring(H,te)),isNaN(H)?re:(te+=1,te+H>L.length?se:(L=L.slice(te,te+H),_.C=te+H,L)))}ae.prototype.cancel=function(){this.K=!0,qe(this)};function _e(_){_.T=Date.now()+_.H,We(_,_.H)}function We(_,L){if(_.D!=null)throw Error("WatchDog timer not null");_.D=Ct(u(_.aa,_),L)}function Qe(_){_.D&&(a.clearTimeout(_.D),_.D=null)}ae.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(Jr(this.i,this.B),this.M!=2&&(mi(),Qr(17)),qe(this),this.m=2,ct(this)):We(this,this.T-_)};function ct(_){_.j.I==0||_.K||Gb(_.j,_)}function qe(_){Qe(_);var L=_.O;L&&typeof L.dispose=="function"&&L.dispose(),_.O=null,hi(_.V),_.g&&(L=_.g,_.g=null,L.abort(),L.dispose())}function tt(_,L){try{var H=_.j;if(H.I!=0&&(H.g==_||xs(H.h,_))){if(!_.L&&xs(H.h,_)&&H.I==3){try{var te=H.Ba.g.parse(L)}catch{te=null}if(Array.isArray(te)&&te.length==3){var Ee=te;if(Ee[0]==0){e:if(!H.v){if(H.g)if(H.g.F+3e3<_.F)jm(H),Ud(H);else break e;Rh(H),Qr(18)}}else H.xa=Ee[1],0<H.xa-H.K&&Ee[2]<37500&&H.F&&H.A==0&&!H.C&&(H.C=Ct(u(H.Va,H),6e3));en(H.h)<=1&&H.ta&&(H.ta=void 0)}else Oc(H,11)}else if((_.L||H.g==_)&&jm(H),!U(L))for(Ee=H.Ba.g.parse(L),L=0;L<Ee.length;L++){let Vr=Ee[L];const Wn=Vr[0];if(!(Wn<=H.K))if(H.K=Wn,Vr=Vr[1],H.I==2)if(Vr[0]=="c"){H.M=Vr[1],H.ba=Vr[2];const el=Vr[3];el!=null&&(H.ka=el,H.j.info("VER="+H.ka));const Rc=Vr[4];Rc!=null&&(H.za=Rc,H.j.info("SVER="+H.za));const Ul=Vr[5];Ul!=null&&typeof Ul=="number"&&Ul>0&&(te=1.5*Ul,H.O=te,H.j.info("backChannelRequestTimeoutMs_="+te)),te=H;const Vl=_.g;if(Vl){const Ph=Vl.g?Vl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ph){var Ie=te.h;Ie.g||Ph.indexOf("spdy")==-1&&Ph.indexOf("quic")==-1&&Ph.indexOf("h2")==-1||(Ie.j=Ie.l,Ie.g=new Set,Ie.h&&(Oa(Ie,Ie.h),Ie.h=null))}if(te.G){const Dm=Vl.g?Vl.g.getResponseHeader("X-HTTP-Session-Id"):null;Dm&&(te.wa=Dm,Ur(te.J,te.G,Dm))}}H.I=3,H.l&&H.l.ra(),H.aa&&(H.T=Date.now()-_.F,H.j.info("Handshake RTT: "+H.T+"ms")),te=H;var ut=_;if(te.na=Xb(te,te.L?te.ba:null,te.W),ut.L){bs(te.h,ut);var Zt=ut,ki=te.O;ki&&(Zt.H=ki),Zt.D&&(Qe(Zt),_e(Zt)),te.g=ut}else qb(te);H.i.length>0&&Ic(H)}else Vr[0]!="stop"&&Vr[0]!="close"||Oc(H,7);else H.I==3&&(Vr[0]=="stop"||Vr[0]=="close"?Vr[0]=="stop"?Oc(H,7):Uv(H):Vr[0]!="noop"&&H.l&&H.l.qa(Vr),H.A=0)}}mi(4)}catch{}}var pt=class{constructor(_,L){this.g=_,this.map=L}};function Fr(_){this.l=_||10,a.PerformanceNavigationTiming?(_=a.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Br(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function en(_){return _.h?1:_.g?_.g.size:0}function xs(_,L){return _.h?_.h==L:_.g?_.g.has(L):!1}function Oa(_,L){_.g?_.g.add(L):_.h=L}function bs(_,L){_.h&&_.h==L?_.h=null:_.g&&_.g.has(L)&&_.g.delete(L)}Fr.prototype.cancel=function(){if(this.i=oa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function oa(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let L=_.i;for(const H of _.g.values())L=L.concat(H.G);return L}return v(_.i)}var Ka=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function gi(_,L){if(_){_=_.split("&");for(let H=0;H<_.length;H++){const te=_[H].indexOf("=");let Ee,Ie=null;te>=0?(Ee=_[H].substring(0,te),Ie=_[H].substring(te+1)):Ee=_[H],L(Ee,Ie?decodeURIComponent(Ie.replace(/\+/g," ")):"")}}}function Ra(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;_ instanceof Ra?(this.l=_.l,Vi(this,_.j),this.o=_.o,this.g=_.g,Ac(this,_.u),this.h=_.h,Sh(this,bt(_.i)),this.m=_.m):_&&(L=String(_).match(Ka))?(this.l=!1,Vi(this,L[1]||"",!0),this.o=xo(L[2]||""),this.g=xo(L[3]||"",!0),Ac(this,L[4]),this.h=xo(L[5]||"",!0),Sh(this,L[6]||"",!0),this.m=xo(L[7]||"")):(this.l=!1,this.i=new Ll(null,this.l))}Ra.prototype.toString=function(){const _=[];var L=this.j;L&&_.push(yu(L,Dd,!0),":");var H=this.g;return(H||L=="file")&&(_.push("//"),(L=this.o)&&_.push(yu(L,Dd,!0),"@"),_.push(pi(H).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),H=this.u,H!=null&&_.push(":",String(H))),(H=this.h)&&(this.g&&H.charAt(0)!="/"&&_.push("/"),_.push(yu(H,H.charAt(0)=="/"?Ah:Md,!0))),(H=this.i.toString())&&_.push("?",H),(H=this.m)&&_.push("#",yu(H,Im)),_.join("")},Ra.prototype.resolve=function(_){const L=vi(this);let H=!!_.j;H?Vi(L,_.j):H=!!_.o,H?L.o=_.o:H=!!_.g,H?L.g=_.g:H=_.u!=null;var te=_.h;if(H)Ac(L,_.u);else if(H=!!_.h){if(te.charAt(0)!="/")if(this.g&&!this.h)te="/"+te;else{var Ee=L.h.lastIndexOf("/");Ee!=-1&&(te=L.h.slice(0,Ee+1)+te)}if(Ee=te,Ee==".."||Ee==".")te="";else if(Ee.indexOf("./")!=-1||Ee.indexOf("/.")!=-1){te=Ee.lastIndexOf("/",0)==0,Ee=Ee.split("/");const Ie=[];for(let ut=0;ut<Ee.length;){const Zt=Ee[ut++];Zt=="."?te&&ut==Ee.length&&Ie.push(""):Zt==".."?((Ie.length>1||Ie.length==1&&Ie[0]!="")&&Ie.pop(),te&&ut==Ee.length&&Ie.push("")):(Ie.push(Zt),te=!0)}te=Ie.join("/")}else te=Ee}return H?L.h=te:H=_.i.toString()!=="",H?Sh(L,bt(_.i)):H=!!_.m,H&&(L.m=_.m),L};function vi(_){return new Ra(_)}function Vi(_,L,H){_.j=H?xo(L,!0):L,_.j&&(_.j=_.j.replace(/:$/,""))}function Ac(_,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);_.u=L}else _.u=null}function Sh(_,L,H){L instanceof Ll?(_.i=L,fn(_.i,_.l)):(H||(L=yu(L,Ml)),_.i=new Ll(L,_.l))}function Ur(_,L,H){_.i.set(L,H)}function vu(_){return Ur(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function xo(_,L){return _?L?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function yu(_,L,H){return typeof _=="string"?(_=encodeURI(_).replace(L,la),H&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function la(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Dd=/[#\/\?@]/g,Md=/[#\?:]/g,Ah=/[#\?]/g,Ml=/[#\?@]/g,Im=/#/g;function Ll(_,L){this.h=this.g=null,this.i=_||null,this.j=!!L}function Vs(_){_.g||(_.g=new Map,_.h=0,_.i&&gi(_.i,function(L,H){_.add(decodeURIComponent(L.replace(/\+/g," ")),H)}))}t=Ll.prototype,t.add=function(_,L){Vs(this),this.i=null,_=Nr(this,_);let H=this.g.get(_);return H||this.g.set(_,H=[]),H.push(L),this.h+=1,this};function ne(_,L){Vs(_),L=Nr(_,L),_.g.has(L)&&(_.i=null,_.h-=_.g.get(L).length,_.g.delete(L))}function Be(_,L){return Vs(_),L=Nr(_,L),_.g.has(L)}t.forEach=function(_,L){Vs(this),this.g.forEach(function(H,te){H.forEach(function(Ee){_.call(L,Ee,te,this)},this)},this)};function dt(_,L){Vs(_);let H=[];if(typeof L=="string")Be(_,L)&&(H=H.concat(_.g.get(Nr(_,L))));else for(_=Array.from(_.g.values()),L=0;L<_.length;L++)H=H.concat(_[L]);return H}t.set=function(_,L){return Vs(this),this.i=null,_=Nr(this,_),Be(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[L]),this.h+=1,this},t.get=function(_,L){return _?(_=dt(this,_),_.length>0?String(_[0]):L):L};function St(_,L,H){ne(_,L),H.length>0&&(_.i=null,_.g.set(Nr(_,L),v(H)),_.h+=H.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],L=Array.from(this.g.keys());for(let te=0;te<L.length;te++){var H=L[te];const Ee=pi(H);H=dt(this,H);for(let Ie=0;Ie<H.length;Ie++){let ut=Ee;H[Ie]!==""&&(ut+="="+pi(H[Ie])),_.push(ut)}}return this.i=_.join("&")};function bt(_){const L=new Ll;return L.i=_.i,_.g&&(L.g=new Map(_.g),L.h=_.h),L}function Nr(_,L){return L=String(L),_.j&&(L=L.toLowerCase()),L}function fn(_,L){L&&!_.j&&(Vs(_),_.i=null,_.g.forEach(function(H,te){const Ee=te.toLowerCase();te!=Ee&&(ne(this,te),St(this,Ee,H))},_)),_.j=L}function hn(_,L){const H=new wr;if(a.Image){const te=new Image;te.onload=f(Jo,H,"TestLoadImage: loaded",!0,L,te),te.onerror=f(Jo,H,"TestLoadImage: error",!1,L,te),te.onabort=f(Jo,H,"TestLoadImage: abort",!1,L,te),te.ontimeout=f(Jo,H,"TestLoadImage: timeout",!1,L,te),a.setTimeout(function(){te.ontimeout&&te.ontimeout()},1e4),te.src=_}else L(!1)}function bo(_,L){const H=new wr,te=new AbortController,Ee=setTimeout(()=>{te.abort(),Jo(H,"TestPingServer: timeout",!1,L)},1e4);fetch(_,{signal:te.signal}).then(Ie=>{clearTimeout(Ee),Ie.ok?Jo(H,"TestPingServer: ok",!0,L):Jo(H,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Ee),Jo(H,"TestPingServer: error",!1,L)})}function Jo(_,L,H,te,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),te(H)}catch{}}function Ld(){this.g=new nt}function kc(_){this.i=_.Sb||null,this.h=_.ab||!1}h(kc,jt),kc.prototype.g=function(){return new kh(this.i,this.h)};function kh(_,L){wt.call(this),this.H=_,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}h(kh,wt),t=kh.prototype,t.open=function(_,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=L,this.readyState=1,Fl(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(L.body=_),(this.H||a).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Fd(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,Fl(this)),this.g&&(this.readyState=3,Fl(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Om(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Om(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var L=_.value?_.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!_.done}))&&(this.response=this.responseText+=L)}_.done?Fd(this):Fl(this),this.readyState==3&&Om(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,Fd(this))},t.Na=function(_){this.g&&(this.response=_,Fd(this))},t.ga=function(){this.g&&Fd(this)};function Fd(_){_.readyState=4,_.l=null,_.j=null,_.B=null,Fl(_)}t.setRequestHeader=function(_,L){this.A.append(_,L)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],L=this.h.entries();for(var H=L.next();!H.done;)H=H.value,_.push(H[0]+": "+H[1]),H=L.next();return _.join(`\r
`)};function Fl(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(kh.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function Zo(_){let L="";return ee(_,function(H,te){L+=te,L+=":",L+=H,L+=`\r
`}),L}function Ch(_,L,H){e:{for(te in H){var te=!1;break e}te=!0}te||(H=Zo(H),typeof _=="string"?H!=null&&pi(H):Ur(_,L,H))}function mn(_){wt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}h(mn,wt);var Cc=/^https?$/i,Fv=["POST","PUT"];t=mn.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,L,H,te){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);L=L?L.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ai.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(L,String(_),!0),this.B=!1}catch(Ie){Nh(this,Ie);return}if(_=H||"",H=new Map(this.headers),te)if(Object.getPrototypeOf(te)===Object.prototype)for(var Ee in te)H.set(Ee,te[Ee]);else if(typeof te.keys=="function"&&typeof te.get=="function")for(const Ie of te.keys())H.set(Ie,te.get(Ie));else throw Error("Unknown input type for opt_headers: "+String(te));te=Array.from(H.keys()).find(Ie=>Ie.toLowerCase()=="content-type"),Ee=a.FormData&&_ instanceof a.FormData,!(Array.prototype.indexOf.call(Fv,L,void 0)>=0)||te||Ee||H.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Ie,ut]of H)this.g.setRequestHeader(Ie,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(Ie){Nh(this,Ie)}};function Nh(_,L){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=L,_.o=5,Bv(_),xu(_)}function Bv(_){_.A||(_.A=!0,Ot(_,"complete"),Ot(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,Ot(this,"complete"),Ot(this,"abort"),xu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xu(this,!0)),mn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ih(this):this.Xa())},t.Xa=function(){Ih(this)};function Ih(_){if(_.h&&typeof s<"u"){if(_.v&&Bl(_)==4)setTimeout(_.Ca.bind(_),0);else if(Ot(_,"readystatechange"),Bl(_)==4){_.h=!1;try{const Ie=_.ca();e:switch(Ie){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var H;if(!(H=L)){var te;if(te=Ie===0){let ut=String(_.D).match(Ka)[1]||null;!ut&&a.self&&a.self.location&&(ut=a.self.location.protocol.slice(0,-1)),te=!Cc.test(ut?ut.toLowerCase():"")}H=te}if(H)Ot(_,"complete"),Ot(_,"success");else{_.o=6;try{var Ee=Bl(_)>2?_.g.statusText:""}catch{Ee=""}_.l=Ee+" ["+_.ca()+"]",Bv(_)}}finally{xu(_)}}}}function xu(_,L){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const H=_.g;_.g=null,L||Ot(_,"ready");try{H.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Bl(_){return _.g?_.g.readyState:0}t.ca=function(){try{return Bl(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var L=this.g.responseText;return _&&L.indexOf(_)==0&&(L=L.substring(_.length)),Ke(L)}};function zs(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function bu(_){const L={};_=(_.g&&Bl(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let te=0;te<_.length;te++){if(U(_[te]))continue;var H=K(_[te]);const Ee=H[0];if(H=H[1],typeof H!="string")continue;H=H.trim();const Ie=L[Ee]||[];L[Ee]=Ie,Ie.push(H)}ge(L,function(te){return te.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Nc(_,L,H){return H&&H.internalChannelParams&&H.internalChannelParams[_]||L}function Bd(_){this.za=0,this.i=[],this.j=new wr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Nc("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Nc("baseRetryDelayMs",5e3,_),this.Za=Nc("retryDelaySeedMs",1e4,_),this.Ta=Nc("forwardChannelMaxRetries",2,_),this.va=Nc("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Fr(_&&_.concurrentRequestLimit),this.Ba=new Ld,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Bd.prototype,t.ka=8,t.I=1,t.connect=function(_,L,H,te){Qr(0),this.W=_,this.H=L||{},H&&te!==void 0&&(this.H.OSID=H,this.H.OAID=te),this.F=this.X,this.J=Xb(this,null,this.W),Ic(this)};function Uv(_){if(Rm(_),_.I==3){var L=_.V++,H=vi(_.J);if(Ur(H,"SID",_.M),Ur(H,"RID",L),Ur(H,"TYPE","terminate"),Oh(_,H),L=new ae(_,_.j,L),L.M=2,L.A=vu(vi(H)),H=!1,a.navigator&&a.navigator.sendBeacon)try{H=a.navigator.sendBeacon(L.A.toString(),"")}catch{}!H&&a.Image&&(new Image().src=L.A,H=!0),H||(L.g=Qb(L.j,null),L.g.ea(L.A)),L.F=Date.now(),_e(L)}Yb(_)}function Ud(_){_.g&&(zv(_),_.g.cancel(),_.g=null)}function Rm(_){Ud(_),_.v&&(a.clearTimeout(_.v),_.v=null),jm(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&a.clearTimeout(_.m),_.m=null)}function Ic(_){if(!Br(_.h)&&!_.m){_.m=!0;var L=_.Ea;j||I(),P||(j(),P=!0),S.add(L,_),_.D=0}}function Pm(_,L){return en(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=L.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=Ct(u(_.Ea,_,L),Kb(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const Ee=new ae(this,this.j,_);let Ie=this.o;if(this.U&&(Ie?(Ie=q(Ie),V(Ie,this.U)):Ie=this.U),this.u!==null||this.R||(Ee.J=Ie,Ie=null),this.S)e:{for(var L=0,H=0;H<this.i.length;H++){t:{var te=this.i[H];if("__data__"in te.map&&(te=te.map.__data__,typeof te=="string")){te=te.length;break t}te=void 0}if(te===void 0)break;if(L+=te,L>4096){L=H;break e}if(L===4096||H===this.i.length-1){L=H+1;break e}}L=1e3}else L=1e3;L=Hb(this,Ee,L),H=vi(this.J),Ur(H,"RID",_),Ur(H,"CVER",22),this.G&&Ur(H,"X-HTTP-Session-Id",this.G),Oh(this,H),Ie&&(this.R?L="headers="+pi(Zo(Ie))+"&"+L:this.u&&Ch(H,this.u,Ie)),Oa(this.h,Ee),this.Ra&&Ur(H,"TYPE","init"),this.S?(Ur(H,"$req",L),Ur(H,"SID","null"),Ee.U=!0,oe(Ee,H,null)):oe(Ee,H,L),this.I=2}}else this.I==3&&(_?Vv(this,_):this.i.length==0||Br(this.h)||Vv(this))};function Vv(_,L){var H;L?H=L.l:H=_.V++;const te=vi(_.J);Ur(te,"SID",_.M),Ur(te,"RID",H),Ur(te,"AID",_.K),Oh(_,te),_.u&&_.o&&Ch(te,_.u,_.o),H=new ae(_,_.j,H,_.D+1),_.u===null&&(H.J=_.o),L&&(_.i=L.G.concat(_.i)),L=Hb(_,H,1e3),H.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),Oa(_.h,H),oe(H,te,L)}function Oh(_,L){_.H&&ee(_.H,function(H,te){Ur(L,te,H)}),_.l&&ee({},function(H,te){Ur(L,te,H)})}function Hb(_,L,H){H=Math.min(_.i.length,H);const te=_.l?u(_.l.Ka,_.l,_):null;e:{var Ee=_.i;let Zt=-1;for(;;){const ki=["count="+H];Zt==-1?H>0?(Zt=Ee[0].g,ki.push("ofs="+Zt)):Zt=0:ki.push("ofs="+Zt);let Vr=!0;for(let Wn=0;Wn<H;Wn++){var Ie=Ee[Wn].g;const el=Ee[Wn].map;if(Ie-=Zt,Ie<0)Zt=Math.max(0,Ee[Wn].g-100),Vr=!1;else try{Ie="req"+Ie+"_"||"";try{var ut=el instanceof Map?el:Object.entries(el);for(const[Rc,Ul]of ut){let Vl=Ul;o(Ul)&&(Vl=xe(Ul)),ki.push(Ie+Rc+"="+encodeURIComponent(Vl))}}catch(Rc){throw ki.push(Ie+"type="+encodeURIComponent("_badmap")),Rc}}catch{te&&te(el)}}if(Vr){ut=ki.join("&");break e}}ut=void 0}return _=_.i.splice(0,H),L.G=_,ut}function qb(_){if(!_.g&&!_.v){_.Y=1;var L=_.Da;j||I(),P||(j(),P=!0),S.add(L,_),_.A=0}}function Rh(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=Ct(u(_.Da,_),Kb(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,Wb(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=Ct(u(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Qr(10),Ud(this),Wb(this))};function zv(_){_.B!=null&&(a.clearTimeout(_.B),_.B=null)}function Wb(_){_.g=new ae(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var L=vi(_.na);Ur(L,"RID","rpc"),Ur(L,"SID",_.M),Ur(L,"AID",_.K),Ur(L,"CI",_.F?"0":"1"),!_.F&&_.ia&&Ur(L,"TO",_.ia),Ur(L,"TYPE","xmlhttp"),Oh(_,L),_.u&&_.o&&Ch(L,_.u,_.o),_.O&&(_.g.H=_.O);var H=_.g;_=_.ba,H.M=1,H.A=vu(vi(L)),H.u=null,H.R=!0,we(H,_)}t.Va=function(){this.C!=null&&(this.C=null,Ud(this),Rh(this),Qr(19))};function jm(_){_.C!=null&&(a.clearTimeout(_.C),_.C=null)}function Gb(_,L){var H=null;if(_.g==L){jm(_),zv(_),_.g=null;var te=2}else if(xs(_.h,L))H=L.G,bs(_.h,L),te=1;else return;if(_.I!=0){if(L.o)if(te==1){H=L.u?L.u.length:0,L=Date.now()-L.F;var Ee=_.D;te=aa(),Ot(te,new Bi(te,H)),Ic(_)}else qb(_);else if(Ee=L.m,Ee==3||Ee==0&&L.X>0||!(te==1&&Pm(_,L)||te==2&&Rh(_)))switch(H&&H.length>0&&(L=_.h,L.i=L.i.concat(H)),Ee){case 1:Oc(_,5);break;case 4:Oc(_,10);break;case 3:Oc(_,6);break;default:Oc(_,2)}}}function Kb(_,L){let H=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(H*=2),H*L}function Oc(_,L){if(_.j.info("Error code "+L),L==2){var H=u(_.bb,_),te=_.Ua;const Ee=!te;te=new Ra(te||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Vi(te,"https"),vu(te),Ee?hn(te.toString(),H):bo(te.toString(),H)}else Qr(2);_.I=0,_.l&&_.l.pa(L),Yb(_),Rm(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),Qr(2)):(this.j.info("Failed to ping google.com"),Qr(1))};function Yb(_){if(_.I=0,_.ja=[],_.l){const L=oa(_.h);(L.length!=0||_.i.length!=0)&&(x(_.ja,L),x(_.ja,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.oa()}}function Xb(_,L,H){var te=H instanceof Ra?vi(H):new Ra(H);if(te.g!="")L&&(te.g=L+"."+te.g),Ac(te,te.u);else{var Ee=a.location;te=Ee.protocol,L=L?L+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;const Ie=new Ra(null);te&&Vi(Ie,te),L&&(Ie.g=L),Ee&&Ac(Ie,Ee),H&&(Ie.h=H),te=Ie}return H=_.G,L=_.wa,H&&L&&Ur(te,H,L),Ur(te,"VER",_.ka),Oh(_,te),te}function Qb(_,L,H){if(L&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=_.Aa&&!_.ma?new mn(new kc({ab:H})):new mn(_.ma),L.Fa(_.L),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Jb(){}t=Jb.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function Vd(){}Vd.prototype.g=function(_,L){return new Pa(_,L)};function Pa(_,L){wt.call(this),this.g=new Bd(L),this.l=_,this.h=L&&L.messageUrlParams||null,_=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(_?_["X-WebChannel-Content-Type"]=L.messageContentType:_={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(_?_["X-WebChannel-Client-Profile"]=L.sa:_={"X-WebChannel-Client-Profile":L.sa}),this.g.U=_,(_=L&&L.Qb)&&!U(_)&&(this.g.u=_),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!U(L)&&(this.g.G=L,_=this.h,_!==null&&L in _&&(_=this.h,L in _&&delete _[L])),this.j=new wu(this)}h(Pa,wt),Pa.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Pa.prototype.close=function(){Uv(this.g)},Pa.prototype.o=function(_){var L=this.g;if(typeof _=="string"){var H={};H.__data__=_,_=H}else this.v&&(H={},H.__data__=xe(_),_=H);L.i.push(new pt(L.Ya++,_)),L.I==3&&Ic(L)},Pa.prototype.N=function(){this.g.l=null,delete this.j,Uv(this.g),delete this.g,Pa.Z.N.call(this)};function Zb(_){br.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var L=_.__sm__;if(L){e:{for(const H in L){_=H;break e}_=void 0}(this.i=_)&&(_=this.i,L=L!==null&&_ in L?L[_]:void 0),this.data=L}else this.data=_}h(Zb,br);function ew(){Fi.call(this),this.status=1}h(ew,Fi);function wu(_){this.g=_}h(wu,Jb),wu.prototype.ra=function(){Ot(this.g,"a")},wu.prototype.qa=function(_){Ot(this.g,new Zb(_))},wu.prototype.pa=function(_){Ot(this.g,new ew)},wu.prototype.oa=function(){Ot(this.g,"b")},Vd.prototype.createWebChannel=Vd.prototype.g,Pa.prototype.send=Pa.prototype.o,Pa.prototype.open=Pa.prototype.m,Pa.prototype.close=Pa.prototype.close,WX=function(){return new Vd},qX=function(){return aa()},HX=Xr,VI={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ys.NO_ERROR=0,ys.TIMEOUT=8,ys.HTTP_ERROR=6,m2=ys,Zr.COMPLETE="complete",$X=Zr,Kt.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",wt.prototype.listen=wt.prototype.J,qy=Kt,mn.prototype.listenOnce=mn.prototype.K,mn.prototype.getLastError=mn.prototype.Ha,mn.prototype.getLastErrorCode=mn.prototype.ya,mn.prototype.getStatus=mn.prototype.ca,mn.prototype.getResponseJson=mn.prototype.La,mn.prototype.getResponseText=mn.prototype.la,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Fa,zX=mn}).apply(typeof c_<"u"?c_:typeof self<"u"?self:typeof window<"u"?window:{});const cB="@firebase/firestore",uB="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ma{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ma.UNAUTHENTICATED=new ma(null),ma.GOOGLE_CREDENTIALS=new ma("google-credentials-uid"),ma.FIRST_PARTY=new ma("first-party-uid"),ma.MOCK_USER=new ma("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let nv="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M0=new iS("@firebase/firestore");function Tp(){return M0.logLevel}function ht(t,...e){if(M0.logLevel<=mr.DEBUG){const r=e.map(eR);M0.debug(`Firestore (${nv}): ${t}`,...r)}}function dd(t,...e){if(M0.logLevel<=mr.ERROR){const r=e.map(eR);M0.error(`Firestore (${nv}): ${t}`,...r)}}function L0(t,...e){if(M0.logLevel<=mr.WARN){const r=e.map(eR);M0.warn(`Firestore (${nv}): ${t}`,...r)}}function eR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,GX(t,n,r)}function GX(t,e,r){let n=`FIRESTORE (${nv}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw dd(n),new Error(n)}function Kr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||GX(e,i,n)}function Jt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends du{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KX{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class YX{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ma.UNAUTHENTICATED)))}shutdown(){}}class Cye{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Nye{constructor(e){this.t=e,this.currentUser=ma.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Kr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Qu;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Qu,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ht("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ht("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Qu)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(ht("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Kr(typeof n.accessToken=="string",31837,{l:n}),new KX(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Kr(e===null||typeof e=="string",2055,{h:e}),new ma(e)}}class Iye{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ma.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Oye{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new Iye(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(ma.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class dB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Rye{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,no(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Kr(this.o===void 0,3512);const n=s=>{s.error!=null&&ht("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ht("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{ht("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ht("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new dB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Kr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new dB(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pye(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Pye(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function yr(t,e){return t<e?-1:t>e?1:0}function zI(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return IC(i)===IC(s)?yr(i,s):IC(i)?1:-1}return yr(t.length,e.length)}const jye=55296,Dye=57343;function IC(t){const e=t.charCodeAt(0);return e>=jye&&e<=Dye}function xg(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $I="__name__";class zc{constructor(e,r,n){r===void 0?r=0:r>e.length&&zt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&zt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return zc.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof zc?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=zc.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return yr(e.length,r.length)}static compareSegments(e,r){const n=zc.isNumericId(e),i=zc.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?zc.extractNumericId(e).compare(zc.extractNumericId(r)):zI(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return jf.fromString(e.substring(4,e.length-2))}}class Cn extends zc{construct(e,r,n){return new Cn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new lt(Le.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Cn(r)}static emptyPath(){return new Cn([])}}const Mye=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Os extends zc{construct(e,r,n){return new Os(e,r,n)}static isValidIdentifier(e){return Mye.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Os.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===$I}static keyField(){return new Os([$I])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new lt(Le.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new lt(Le.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new lt(Le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new lt(Le.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Os(r)}static emptyPath(){return new Os([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Cn.fromString(e))}static fromName(e){return new kt(Cn.fromString(e).popFirst(5))}static empty(){return new kt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XX(t,e,r){if(!r)throw new lt(Le.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function QX(t,e,r,n){if(e===!0&&n===!0)throw new lt(Le.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function fB(t){if(!kt.isDocumentKey(t))throw new lt(Le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function hB(t){if(kt.isDocumentKey(t))throw new lt(Le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function JX(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function oS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":zt(12329,{type:typeof t})}function Sa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lt(Le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=oS(t);throw new lt(Le.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Lye(t,e){if(e<=0)throw new lt(Le.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){const r={typeString:t};return e&&(r.value=e),r}function $x(t,e){if(!JX(t))throw new lt(Le.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new lt(Le.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mB=-62135596800,pB=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*pB);return new wn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new lt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new lt(Le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<mB)throw new lt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/pB}_compareTo(e){return this.seconds===e.seconds?yr(this.nanoseconds,e.nanoseconds):yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if($x(e,wn._jsonSchema))return new wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-mB;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wn._jsonSchemaVersion="firestore/timestamp/1.0",wn._jsonSchema={type:ts("string",wn._jsonSchemaVersion),seconds:ts("number"),nanoseconds:ts("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{static fromTimestamp(e){return new Yt(e)}static min(){return new Yt(new wn(0,0))}static max(){return new Yt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L1=-1;function Fye(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Yt.fromTimestamp(n===1e9?new wn(r+1,0):new wn(r,n));return new qf(i,kt.empty(),e)}function Bye(t){return new qf(t.readTime,t.key,L1)}class qf{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new qf(Yt.min(),kt.empty(),L1)}static max(){return new qf(Yt.max(),kt.empty(),L1)}}function Uye(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=kt.comparator(t.documentKey,e.documentKey),r!==0?r:yr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vye="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zye{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function iv(t){if(t.code!==Le.FAILED_PRECONDITION||t.message!==Vye)throw t;ht("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.reject(r)}static resolve(e){return new $e(((r,n)=>{r(e)}))}static reject(e){return new $e(((r,n)=>{n(e)}))}static waitFor(e){return new $e(((r,n)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&r()}),(l=>n(l)))})),a=!0,s===i&&r()}))}static or(e){let r=$e.resolve(!1);for(const n of e)r=r.next((i=>i?$e.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new $e(((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next((f=>{a[u]=f,++o,o===s&&n(a)}),(f=>i(f)))}}))}static doWhile(e,r){return new $e(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function $ye(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function sv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lS{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}lS.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tR=-1;function cS(t){return t==null}function V2(t){return t===0&&1/t==-1/0}function Hye(t){return typeof t=="number"&&Number.isInteger(t)&&!V2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZX="";function qye(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=gB(e)),e=Wye(t.get(r),e);return gB(e)}function Wye(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case ZX:r+="";break;default:r+=s}}return r}function gB(t){return t+ZX+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vB(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function dh(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function eQ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let is=class HI{constructor(e,r){this.comparator=e,this.root=r||Df.EMPTY}insert(e,r){return new HI(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Df.BLACK,null,null))}remove(e){return new HI(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Df.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new u_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new u_(this.root,e,this.comparator,!1)}getReverseIterator(){return new u_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new u_(this.root,e,this.comparator,!0)}},u_=class{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Df=class Lu{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Lu.RED,this.left=i??Lu.EMPTY,this.right=s??Lu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Lu(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Lu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Lu.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw zt(27949);return e+(this.isRed()?0:1)}};Df.EMPTY=null,Df.RED=!0,Df.BLACK=!1;Df.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Df(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fs{constructor(e){this.comparator=e,this.data=new is(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new yB(this.data.getIterator())}getIteratorFrom(e){return new yB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof fs)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new fs(this.comparator);return r.data=e,r}}class yB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bo{constructor(e){this.fields=e,e.sort(Os.comparator)}static empty(){return new Bo([])}unionWith(e){let r=new fs(Os.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Bo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return xg(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ds{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new tQ("Invalid base64 string: "+s):s}})(e);return new Ds(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Ds(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ds.EMPTY_BYTE_STRING=new Ds("");const Gye=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Wf(t){if(Kr(!!t,39018),typeof t=="string"){let e=0;const r=Gye.exec(t);if(Kr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Pi(t.seconds),nanos:Pi(t.nanos)}}function Pi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Gf(t){return typeof t=="string"?Ds.fromBase64String(t):Ds.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rQ="server_timestamp",nQ="__type__",iQ="__previous_value__",sQ="__local_write_time__";function uS(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[nQ])==null?void 0:n.stringValue)===rQ}function dS(t){const e=t.mapValue.fields[iQ];return uS(e)?dS(e):e}function F1(t){const e=Wf(t.mapValue.fields[sQ].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kye{constructor(e,r,n,i,s,a,o,l,u,f){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=f}}const z2="(default)";class bg{constructor(e,r){this.projectId=e,this.database=r||z2}static empty(){return new bg("","")}get isDefaultDatabase(){return this.database===z2}isEqual(e){return e instanceof bg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aQ="__type__",Yye="__max__",d_={mapValue:{}},oQ="__vector__",$2="value";function Kf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?uS(t)?4:Qye(t)?9007199254740991:Xye(t)?10:11:zt(28295,{value:t})}function su(t,e){if(t===e)return!0;const r=Kf(t);if(r!==Kf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return F1(t).isEqual(F1(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Wf(i.timestampValue),o=Wf(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Gf(i.bytesValue).isEqual(Gf(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Pi(i.geoPointValue.latitude)===Pi(s.geoPointValue.latitude)&&Pi(i.geoPointValue.longitude)===Pi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Pi(i.integerValue)===Pi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Pi(i.doubleValue),o=Pi(s.doubleValue);return a===o?V2(a)===V2(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return xg(t.arrayValue.values||[],e.arrayValue.values||[],su);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(vB(a)!==vB(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!su(a[l],o[l])))return!1;return!0})(t,e);default:return zt(52216,{left:t})}}function B1(t,e){return(t.values||[]).find((r=>su(r,e)))!==void 0}function wg(t,e){if(t===e)return 0;const r=Kf(t),n=Kf(e);if(r!==n)return yr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return yr(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Pi(s.integerValue||s.doubleValue),l=Pi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return xB(t.timestampValue,e.timestampValue);case 4:return xB(F1(t),F1(e));case 5:return zI(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=Gf(s),l=Gf(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const f=yr(o[u],l[u]);if(f!==0)return f}return yr(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=yr(Pi(s.latitude),Pi(a.latitude));return o!==0?o:yr(Pi(s.longitude),Pi(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return bB(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var g,v,x,b;const o=s.fields||{},l=a.fields||{},u=(g=o[$2])==null?void 0:g.arrayValue,f=(v=l[$2])==null?void 0:v.arrayValue,h=yr(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((b=f==null?void 0:f.values)==null?void 0:b.length)||0);return h!==0?h:bB(u,f)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===d_.mapValue&&a===d_.mapValue)return 0;if(s===d_.mapValue)return 1;if(a===d_.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},f=Object.keys(u);l.sort(),f.sort();for(let h=0;h<l.length&&h<f.length;++h){const g=zI(l[h],f[h]);if(g!==0)return g;const v=wg(o[l[h]],u[f[h]]);if(v!==0)return v}return yr(l.length,f.length)})(t.mapValue,e.mapValue);default:throw zt(23264,{he:r})}}function xB(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yr(t,e);const r=Wf(t),n=Wf(e),i=yr(r.seconds,n.seconds);return i!==0?i:yr(r.nanos,n.nanos)}function bB(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=wg(r[i],n[i]);if(s)return s}return yr(r.length,n.length)}function _g(t){return qI(t)}function qI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Wf(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Gf(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return kt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=qI(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${qI(r.fields[a])}`;return i+"}"})(t.mapValue):zt(61005,{value:t})}function p2(t){switch(Kf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=dS(t);return e?16+p2(e):16;case 5:return 2*t.stringValue.length;case 6:return Gf(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+p2(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return dh(n.fields,((s,a)=>{i+=s.length+p2(a)})),i})(t.mapValue);default:throw zt(13486,{value:t})}}function H2(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function WI(t){return!!t&&"integerValue"in t}function rR(t){return!!t&&"arrayValue"in t}function wB(t){return!!t&&"nullValue"in t}function _B(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function g2(t){return!!t&&"mapValue"in t}function Xye(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[aQ])==null?void 0:n.stringValue)===oQ}function s1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return dh(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=s1(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=s1(t.arrayValue.values[r]);return e}return{...t}}function Qye(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Yye}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class io{constructor(e){this.value=e}static empty(){return new io({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!g2(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=s1(r)}setAll(e){let r=Os.emptyPath(),n={},i=[];e.forEach(((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=s1(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());g2(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return su(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];g2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){dh(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new io(s1(this.value))}}function lQ(t){const e=[];return dh(t.fields,((r,n)=>{const i=new Os([r]);if(g2(n)){const s=lQ(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Bo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class va{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new va(e,0,Yt.min(),Yt.min(),Yt.min(),io.empty(),0)}static newFoundDocument(e,r,n,i){return new va(e,1,r,Yt.min(),n,i,0)}static newNoDocument(e,r){return new va(e,2,r,Yt.min(),Yt.min(),io.empty(),0)}static newUnknownDocument(e,r){return new va(e,3,r,Yt.min(),Yt.min(),io.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Yt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=io.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=io.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Yt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof va&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new va(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eg{constructor(e,r){this.position=e,this.inclusive=r}}function EB(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=kt.comparator(kt.fromName(a.referenceValue),r.key):n=wg(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function TB(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!su(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,r="asc"){this.field=e,this.dir=r}}function Jye(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cQ{}class Zi extends cQ{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new e1e(e,r,n):r==="array-contains"?new n1e(e,n):r==="in"?new i1e(e,n):r==="not-in"?new s1e(e,n):r==="array-contains-any"?new a1e(e,n):new Zi(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new t1e(e,n):new r1e(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(wg(r,this.value)):r!==null&&Kf(this.value)===Kf(r)&&this.matchesComparison(wg(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gc extends cQ{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new gc(e,r)}matches(e){return uQ(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function uQ(t){return t.op==="and"}function dQ(t){return Zye(t)&&uQ(t)}function Zye(t){for(const e of t.filters)if(e instanceof gc)return!1;return!0}function GI(t){if(t instanceof Zi)return t.field.canonicalString()+t.op.toString()+_g(t.value);if(dQ(t))return t.filters.map((e=>GI(e))).join(",");{const e=t.filters.map((r=>GI(r))).join(",");return`${t.op}(${e})`}}function fQ(t,e){return t instanceof Zi?(function(n,i){return i instanceof Zi&&n.op===i.op&&n.field.isEqual(i.field)&&su(n.value,i.value)})(t,e):t instanceof gc?(function(n,i){return i instanceof gc&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,o)=>s&&fQ(a,i.filters[o])),!0):!1})(t,e):void zt(19439)}function hQ(t){return t instanceof Zi?(function(r){return`${r.field.canonicalString()} ${r.op} ${_g(r.value)}`})(t):t instanceof gc?(function(r){return r.op.toString()+" {"+r.getFilters().map(hQ).join(" ,")+"}"})(t):"Filter"}class e1e extends Zi{constructor(e,r,n){super(e,r,n),this.key=kt.fromName(n.referenceValue)}matches(e){const r=kt.comparator(e.key,this.key);return this.matchesComparison(r)}}class t1e extends Zi{constructor(e,r){super(e,"in",r),this.keys=mQ("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class r1e extends Zi{constructor(e,r){super(e,"not-in",r),this.keys=mQ("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function mQ(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>kt.fromName(n.referenceValue)))}class n1e extends Zi{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return rR(r)&&B1(r.arrayValue,this.value)}}class i1e extends Zi{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&B1(this.value.arrayValue,r)}}class s1e extends Zi{constructor(e,r){super(e,"not-in",r)}matches(e){if(B1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!B1(this.value.arrayValue,r)}}class a1e extends Zi{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!rR(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>B1(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o1e{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function SB(t,e=null,r=[],n=[],i=null,s=null,a=null){return new o1e(t,e,r,n,i,s,a)}function nR(t){const e=Jt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>GI(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),cS(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>_g(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>_g(n))).join(",")),e.Te=r}return e.Te}function iR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Jye(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!fQ(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!TB(t.startAt,e.startAt)&&TB(t.endAt,e.endAt)}function KI(t){return kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cm{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function l1e(t,e,r,n,i,s,a,o){return new cm(t,e,r,n,i,s,a,o)}function fS(t){return new cm(t)}function AB(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function sR(t){return t.collectionGroup!==null}function Wp(t){const e=Jt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new fs(Os.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new U1(s,n))})),r.has(Os.keyField().canonicalString())||e.Ie.push(new U1(Os.keyField(),n))}return e.Ie}function Zc(t){const e=Jt(t);return e.Ee||(e.Ee=c1e(e,Wp(t))),e.Ee}function c1e(t,e){if(t.limitType==="F")return SB(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new U1(i.field,s)}));const r=t.endAt?new Eg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Eg(t.startAt.position,t.startAt.inclusive):null;return SB(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function YI(t,e){const r=t.filters.concat([e]);return new cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function q2(t,e,r){return new cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function hS(t,e){return iR(Zc(t),Zc(e))&&t.limitType===e.limitType}function pQ(t){return`${nR(Zc(t))}|lt:${t.limitType}`}function Sp(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>hQ(i))).join(", ")}]`),cS(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>_g(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>_g(i))).join(",")),`Target(${n})`})(Zc(t))}; limitType=${t.limitType})`}function mS(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):kt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of Wp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,o,l){const u=EB(a,o,l);return a.inclusive?u<=0:u<0})(n.startAt,Wp(n),i)||n.endAt&&!(function(a,o,l){const u=EB(a,o,l);return a.inclusive?u>=0:u>0})(n.endAt,Wp(n),i))})(t,e)}function u1e(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function gQ(t){return(e,r)=>{let n=!1;for(const i of Wp(t)){const s=d1e(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function d1e(t,e,r){const n=t.field.isKeyField()?kt.comparator(e.key,r.key):(function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?wg(l,u):zt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return zt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class um{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){dh(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return eQ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f1e=new is(kt.comparator);function fd(){return f1e}const vQ=new is(kt.comparator);function Wy(...t){let e=vQ;for(const r of t)e=e.insert(r.key,r);return e}function yQ(t){let e=vQ;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function f0(){return a1()}function xQ(){return a1()}function a1(){return new um((t=>t.toString()),((t,e)=>t.isEqual(e)))}const h1e=new is(kt.comparator),m1e=new fs(kt.comparator);function xr(...t){let e=m1e;for(const r of t)e=e.add(r);return e}const p1e=new fs(yr);function g1e(){return p1e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:V2(e)?"-0":e}}function bQ(t){return{integerValue:""+t}}function v1e(t,e){return Hye(e)?bQ(e):aR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pS{constructor(){this._=void 0}}function y1e(t,e,r){return t instanceof V1?(function(i,s){const a={fields:{[nQ]:{stringValue:rQ},[sQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&uS(s)&&(s=dS(s)),s&&(a.fields[iQ]=s),{mapValue:a}})(r,e):t instanceof Tg?_Q(t,e):t instanceof Sg?EQ(t,e):(function(i,s){const a=wQ(i,s),o=kB(a)+kB(i.Ae);return WI(a)&&WI(i.Ae)?bQ(o):aR(i.serializer,o)})(t,e)}function x1e(t,e,r){return t instanceof Tg?_Q(t,e):t instanceof Sg?EQ(t,e):r}function wQ(t,e){return t instanceof W2?(function(n){return WI(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class V1 extends pS{}class Tg extends pS{constructor(e){super(),this.elements=e}}function _Q(t,e){const r=TQ(e);for(const n of t.elements)r.some((i=>su(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Sg extends pS{constructor(e){super(),this.elements=e}}function EQ(t,e){let r=TQ(e);for(const n of t.elements)r=r.filter((i=>!su(i,n)));return{arrayValue:{values:r}}}class W2 extends pS{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function kB(t){return Pi(t.integerValue||t.doubleValue)}function TQ(t){return rR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oR{constructor(e,r){this.field=e,this.transform=r}}function b1e(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Tg&&i instanceof Tg||n instanceof Sg&&i instanceof Sg?xg(n.elements,i.elements,su):n instanceof W2&&i instanceof W2?su(n.Ae,i.Ae):n instanceof V1&&i instanceof V1})(t.transform,e.transform)}class w1e{constructor(e,r){this.version=e,this.transformResults=r}}class Ba{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ba}static exists(e){return new Ba(void 0,e)}static updateTime(e){return new Ba(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function v2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class gS{}function SQ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vS(t.key,Ba.none()):new Hx(t.key,t.data,Ba.none());{const r=t.data,n=io.empty();let i=new fs(Os.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new fh(t.key,n,new Bo(i.toArray()),Ba.none())}}function _1e(t,e,r){t instanceof Hx?(function(i,s,a){const o=i.value.clone(),l=NB(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,r):t instanceof fh?(function(i,s,a){if(!v2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=NB(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(AQ(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function o1(t,e,r,n){return t instanceof Hx?(function(s,a,o,l){if(!v2(s.precondition,a))return o;const u=s.value.clone(),f=IB(s.fieldTransforms,l,a);return u.setAll(f),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof fh?(function(s,a,o,l){if(!v2(s.precondition,a))return o;const u=IB(s.fieldTransforms,l,a),f=a.data;return f.setAll(AQ(s)),f.setAll(u),a.convertToFoundDocument(a.version,f).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((h=>h.field)))})(t,e,r,n):(function(s,a,o){return v2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,r)}function E1e(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=wQ(n.transform,i||null);s!=null&&(r===null&&(r=io.empty()),r.set(n.field,s))}return r||null}function CB(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&xg(n,i,((s,a)=>b1e(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Hx extends gS{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class fh extends gS{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function AQ(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function NB(t,e,r){const n=new Map;Kr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,x1e(a,o,r[i]))}return n}function IB(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,y1e(s,a,e))}return n}class vS extends gS{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class T1e extends gS{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S1e{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&_1e(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=o1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=o1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=xQ();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=SQ(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Yt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),xr())}isEqual(e){return this.batchId===e.batchId&&xg(this.mutations,e.mutations,((r,n)=>CB(r,n)))&&xg(this.baseMutations,e.baseMutations,((r,n)=>CB(r,n)))}}class lR{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Kr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return h1e})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new lR(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A1e{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k1e{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Gi,Sr;function C1e(t){switch(t){case Le.OK:return zt(64938);case Le.CANCELLED:case Le.UNKNOWN:case Le.DEADLINE_EXCEEDED:case Le.RESOURCE_EXHAUSTED:case Le.INTERNAL:case Le.UNAVAILABLE:case Le.UNAUTHENTICATED:return!1;case Le.INVALID_ARGUMENT:case Le.NOT_FOUND:case Le.ALREADY_EXISTS:case Le.PERMISSION_DENIED:case Le.FAILED_PRECONDITION:case Le.ABORTED:case Le.OUT_OF_RANGE:case Le.UNIMPLEMENTED:case Le.DATA_LOSS:return!0;default:return zt(15467,{code:t})}}function kQ(t){if(t===void 0)return dd("GRPC error has no .code"),Le.UNKNOWN;switch(t){case Gi.OK:return Le.OK;case Gi.CANCELLED:return Le.CANCELLED;case Gi.UNKNOWN:return Le.UNKNOWN;case Gi.DEADLINE_EXCEEDED:return Le.DEADLINE_EXCEEDED;case Gi.RESOURCE_EXHAUSTED:return Le.RESOURCE_EXHAUSTED;case Gi.INTERNAL:return Le.INTERNAL;case Gi.UNAVAILABLE:return Le.UNAVAILABLE;case Gi.UNAUTHENTICATED:return Le.UNAUTHENTICATED;case Gi.INVALID_ARGUMENT:return Le.INVALID_ARGUMENT;case Gi.NOT_FOUND:return Le.NOT_FOUND;case Gi.ALREADY_EXISTS:return Le.ALREADY_EXISTS;case Gi.PERMISSION_DENIED:return Le.PERMISSION_DENIED;case Gi.FAILED_PRECONDITION:return Le.FAILED_PRECONDITION;case Gi.ABORTED:return Le.ABORTED;case Gi.OUT_OF_RANGE:return Le.OUT_OF_RANGE;case Gi.UNIMPLEMENTED:return Le.UNIMPLEMENTED;case Gi.DATA_LOSS:return Le.DATA_LOSS;default:return zt(39323,{code:t})}}(Sr=Gi||(Gi={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function N1e(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I1e=new jf([4294967295,4294967295],0);function OB(t){const e=N1e().encode(t),r=new VX;return r.update(e),new Uint8Array(r.digest())}function RB(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new jf([r,n],0),new jf([i,s],0)]}class cR{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Gy(`Invalid padding: ${r}`);if(n<0)throw new Gy(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Gy(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Gy(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=jf.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(jf.fromNumber(n)));return i.compare(I1e)===1&&(i=new jf([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=OB(e),[n,i]=RB(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new cR(s,i,r);return n.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const r=OB(e),[n,i]=RB(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Gy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yS{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,qx.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new yS(Yt.min(),i,new is(yr),fd(),xr())}}class qx{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new qx(n,r,xr(),xr(),xr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class CQ{constructor(e,r){this.targetId=e,this.Ce=r}}class NQ{constructor(e,r,n=Ds.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class PB{constructor(){this.ve=0,this.Fe=jB(),this.Me=Ds.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xr(),r=xr(),n=xr();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:zt(38017,{changeType:s})}})),new qx(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=jB()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Kr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class O1e{constructor(e){this.Ge=e,this.ze=new Map,this.je=fd(),this.Je=f_(),this.He=f_(),this.Ye=new is(yr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:zt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(KI(s))if(n===0){const a=new kt(s.path);this.et(r,a,va.newNoDocument(a,Yt.min()))}else Kr(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Gf(n).toUint8Array()}catch(l){if(l instanceof tQ)return L0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new cR(a,i,s)}catch(l){return L0(l instanceof Gy?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&KI(o.target)){const l=new kt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,va.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}}));let n=xr();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new yS(e,r,this.Ye,this.je,n);return this.je=fd(),this.Je=f_(),this.He=f_(),this.Ye=new is(yr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new PB,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new fs(yr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new fs(yr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ht("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new PB),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function f_(){return new is(kt.comparator)}function jB(){return new is(kt.comparator)}const R1e={asc:"ASCENDING",desc:"DESCENDING"},P1e={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},j1e={and:"AND",or:"OR"};class D1e{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function XI(t,e){return t.useProto3Json||cS(e)?e:{value:e}}function G2(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function IQ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function M1e(t,e){return G2(t,e.toTimestamp())}function eu(t){return Kr(!!t,49232),Yt.fromTimestamp((function(r){const n=Wf(r);return new wn(n.seconds,n.nanos)})(t))}function uR(t,e){return QI(t,e).canonicalString()}function QI(t,e){const r=(function(i){return new Cn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function OQ(t){const e=Cn.fromString(t);return Kr(MQ(e),10190,{key:e.toString()}),e}function JI(t,e){return uR(t.databaseId,e.path)}function OC(t,e){const r=OQ(e);if(r.get(1)!==t.databaseId.projectId)throw new lt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new lt(Le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new kt(PQ(r))}function RQ(t,e){return uR(t.databaseId,e)}function L1e(t){const e=OQ(t);return e.length===4?Cn.emptyPath():PQ(e)}function ZI(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function PQ(t){return Kr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function DB(t,e,r){return{name:JI(t,e),fields:r.value.mapValue.fields}}function F1e(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:zt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,f){return u.useProto3Json?(Kr(f===void 0||typeof f=="string",58123),Ds.fromBase64String(f||"")):(Kr(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Ds.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const f=u.code===void 0?Le.UNKNOWN:kQ(u.code);return new lt(f,u.message||"")})(a);r=new NQ(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=OC(t,n.document.name),s=eu(n.document.updateTime),a=n.document.createTime?eu(n.document.createTime):Yt.min(),o=new io({mapValue:{fields:n.document.fields}}),l=va.newFoundDocument(i,s,a,o),u=n.targetIds||[],f=n.removedTargetIds||[];r=new y2(u,f,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=OC(t,n.document),s=n.readTime?eu(n.readTime):Yt.min(),a=va.newNoDocument(i,s),o=n.removedTargetIds||[];r=new y2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=OC(t,n.document),s=n.removedTargetIds||[];r=new y2([],s,i,null)}else{if(!("filter"in e))return zt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new k1e(i,s),o=n.targetId;r=new CQ(o,a)}}return r}function B1e(t,e){let r;if(e instanceof Hx)r={update:DB(t,e.key,e.value)};else if(e instanceof vS)r={delete:JI(t,e.key)};else if(e instanceof fh)r={update:DB(t,e.key,e.data),updateMask:K1e(e.fieldMask)};else{if(!(e instanceof T1e))return zt(16599,{Vt:e.type});r={verify:JI(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const o=a.transform;if(o instanceof V1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Tg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Sg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof W2)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw zt(20930,{transform:a.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:M1e(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:zt(27497)})(t,e.precondition)),r}function U1e(t,e){return t&&t.length>0?(Kr(e!==void 0,14353),t.map((r=>(function(i,s){let a=i.updateTime?eu(i.updateTime):eu(s);return a.isEqual(Yt.min())&&(a=eu(s)),new w1e(a,i.transformResults||[])})(r,e)))):[]}function V1e(t,e){return{documents:[RQ(t,e.path)]}}function z1e(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=RQ(t,i);const s=(function(u){if(u.length!==0)return DQ(gc.create(u,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((f=>(function(g){return{field:Ap(g.field),direction:q1e(g.dir)}})(f)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=XI(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function $1e(t){let e=L1e(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Kr(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let s=[];r.where&&(s=(function(h){const g=jQ(h);return g instanceof gc&&dQ(g)?g.getFilters():[g]})(r.where));let a=[];r.orderBy&&(a=(function(h){return h.map((g=>(function(x){return new U1(kp(x.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(h){let g;return g=typeof h=="object"?h.value:h,cS(g)?null:g})(r.limit));let l=null;r.startAt&&(l=(function(h){const g=!!h.before,v=h.values||[];return new Eg(v,g)})(r.startAt));let u=null;return r.endAt&&(u=(function(h){const g=!h.before,v=h.values||[];return new Eg(v,g)})(r.endAt)),l1e(e,i,a,s,o,"F",l,u)}function H1e(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function jQ(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=kp(r.unaryFilter.field);return Zi.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=kp(r.unaryFilter.field);return Zi.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=kp(r.unaryFilter.field);return Zi.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=kp(r.unaryFilter.field);return Zi.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Zi.create(kp(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return gc.create(r.compositeFilter.filters.map((n=>jQ(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return zt(1026)}})(r.compositeFilter.op))})(t):zt(30097,{filter:t})}function q1e(t){return R1e[t]}function W1e(t){return P1e[t]}function G1e(t){return j1e[t]}function Ap(t){return{fieldPath:t.canonicalString()}}function kp(t){return Os.fromServerFormat(t.fieldPath)}function DQ(t){return t instanceof Zi?(function(r){if(r.op==="=="){if(_B(r.value))return{unaryFilter:{field:Ap(r.field),op:"IS_NAN"}};if(wB(r.value))return{unaryFilter:{field:Ap(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(_B(r.value))return{unaryFilter:{field:Ap(r.field),op:"IS_NOT_NAN"}};if(wB(r.value))return{unaryFilter:{field:Ap(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ap(r.field),op:W1e(r.op),value:r.value}}})(t):t instanceof gc?(function(r){const n=r.getFilters().map((i=>DQ(i)));return n.length===1?n[0]:{compositeFilter:{op:G1e(r.op),filters:n}}})(t):zt(54877,{filter:t})}function K1e(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function MQ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,r,n,i,s=Yt.min(),a=Yt.min(),o=Ds.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Tf(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Tf(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Tf(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1e{constructor(e){this.yt=e}}function X1e(t){const e=$1e({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?q2(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1e{constructor(){this.Cn=new J1e}addToCollectionParentIndex(e,r){return this.Cn.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(qf.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(qf.min())}updateCollectionGroup(e,r,n){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class J1e{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new fs(Cn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new fs(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MB={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},LQ=41943040;class ro{static withCacheSize(e){return new ro(e,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ro.DEFAULT_COLLECTION_PERCENTILE=10,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ro.DEFAULT=new ro(LQ,ro.DEFAULT_COLLECTION_PERCENTILE,ro.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ro.DISABLED=new ro(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ag(0)}static cr(){return new Ag(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LB="LruGarbageCollector",Z1e=1048576;function FB([t,e],[r,n]){const i=yr(t,r);return i===0?yr(e,n):i}class exe{constructor(e){this.Ir=e,this.buffer=new fs(FB),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();FB(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class txe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ht(LB,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){sv(r)?ht(LB,"Ignoring IndexedDB error during garbage collection: ",r):await iv(r)}await this.Vr(3e5)}))}}class rxe{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return $e.resolve(lS.ce);const n=new exe(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ht("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(MB)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ht("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),MB):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,u;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((h=>(h>this.params.maximumSequenceNumbersToCollect?(ht("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${h}`),i=this.params.maximumSequenceNumbersToCollect):i=h,a=Date.now(),this.nthSequenceNumber(e,i)))).next((h=>(n=h,o=Date.now(),this.removeTargets(e,n,r)))).next((h=>(s=h,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((h=>(u=Date.now(),Tp()<=mr.DEBUG&&ht("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-f}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${h} documents in `+(u-l)+`ms
Total Duration: ${u-f}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:h}))))}}function nxe(t,e){return new rxe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ixe{constructor(){this.changes=new um((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,va.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sxe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class axe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&o1(n.mutation,i,Bo.empty(),wn.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,xr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=xr()){const i=f0();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let a=Wy();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=f0();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,xr())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{r.set(a,o)}))}))}computeViews(e,r,n,i){let s=fd();const a=a1(),o=(function(){return a1()})();return r.forEach(((l,u)=>{const f=n.get(u.key);i.has(u.key)&&(f===void 0||f.mutation instanceof fh)?s=s.insert(u.key,u):f!==void 0?(a.set(u.key,f.mutation.getFieldMask()),o1(f.mutation,u,f.mutation.getFieldMask(),wn.now())):a.set(u.key,Bo.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((u,f)=>a.set(u,f))),r.forEach(((u,f)=>o.set(u,new sxe(f,a.get(u)??null)))),o)))}recalculateAndSaveOverlays(e,r){const n=a1();let i=new is(((a,o)=>a-o)),s=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const o of a)o.keys().forEach((l=>{const u=r.get(l);if(u===null)return;let f=n.get(l)||Bo.empty();f=o.applyToLocalView(u,f),n.set(l,f);const h=(i.get(o.batchId)||xr()).add(l);i=i.insert(o.batchId,h)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,f=l.value,h=xQ();f.forEach((g=>{if(!s.has(g)){const v=SQ(r.get(g),n.get(g));v!==null&&h.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,h))}return $e.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return kt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):sR(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):$e.resolve(f0());let o=L1,l=s;return a.next((u=>$e.forEach(u,((f,h)=>(o<h.largestBatchId&&(o=h.largestBatchId),s.get(f)?$e.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{l=l.insert(f,g)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,l,u,xr()))).next((f=>({batchId:o,changes:yQ(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new kt(r)).next((n=>{let i=Wy();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Wy();return this.indexManager.getCollectionParents(e,s).next((o=>$e.forEach(o,(l=>{const u=(function(h,g){return new cm(g,null,h.explicitOrderBy.slice(),h.filters.slice(),h.limit,h.limitType,h.startAt,h.endAt)})(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((f=>{f.forEach(((h,g)=>{a=a.insert(h,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((a=>{s.forEach(((l,u)=>{const f=u.getKey();a.get(f)===null&&(a=a.insert(f,va.newInvalidDocument(f)))}));let o=Wy();return a.forEach(((l,u)=>{const f=s.get(l);f!==void 0&&o1(f.mutation,u,Bo.empty(),wn.now()),mS(r,u)&&(o=o.insert(l,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oxe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return $e.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:eu(i.createTime)}})(r)),$e.resolve()}getNamedQuery(e,r){return $e.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:X1e(i.bundledQuery),readTime:eu(i.readTime)}})(r)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lxe{constructor(){this.overlays=new is(kt.comparator),this.qr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=f0();return $e.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),$e.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),$e.resolve()}getOverlaysForCollection(e,r,n){const i=f0(),s=r.length+1,a=new kt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new is(((u,f)=>u-f));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let f=s.get(u.largestBatchId);f===null&&(f=f0(),s=s.insert(u.largestBatchId,f)),f.set(u.getKey(),u)}}const o=f0(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,f)=>o.set(u,f))),!(o.size()>=i)););return $e.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new A1e(r,n));let s=this.qr.get(r);s===void 0&&(s=xr(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cxe{constructor(){this.sessionToken=Ds.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dR{constructor(){this.Qr=new fs(Ss.$r),this.Ur=new fs(Ss.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Ss(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Ss(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new kt(new Cn([])),n=new Ss(r,e),i=new Ss(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new kt(new Cn([])),n=new Ss(r,e),i=new Ss(r,e+1);let s=xr();return this.Ur.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const r=new Ss(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ss{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return kt.comparator(e.key,r.key)||yr(e.Yr,r.Yr)}static Kr(e,r){return yr(e.Yr,r.Yr)||kt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uxe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new fs(Ss.$r)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new S1e(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Ss(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,r){return $e.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?tR:this.tr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ss(r,0),i=new Ss(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new fs(yr);return r.forEach((i=>{const s=new Ss(i,0),a=new Ss(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{n=n.add(o.Yr)}))})),$e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;kt.isDocumentKey(s)||(s=s.child(""));const a=new Ss(new kt(s),0);let o=new fs(yr);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)}),a),$e.resolve(this.ti(o))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){Kr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $e.forEach(r.mutations,(i=>{const s=new Ss(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Ss(r,0),i=this.Zr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dxe{constructor(e){this.ri=e,this.docs=(function(){return new is(kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():va.newInvalidDocument(r))}getEntries(e,r){let n=fd();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():va.newInvalidDocument(i))})),$e.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=fd();const a=r.path,o=new kt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:f}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Uye(Bye(f),n)<=0||(i.has(f.key)||mS(r,f))&&(s=s.insert(f.key,f.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,r,n,i){zt(9500)}ii(e,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new fxe(this)}getSize(e){return $e.resolve(this.size)}}class fxe extends ixe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),$e.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hxe{constructor(e){this.persistence=e,this.si=new um((r=>nR(r)),iR),this.lastRemoteSnapshotVersion=Yt.min(),this.highestTargetId=0,this.oi=0,this._i=new dR,this.targetCount=0,this.ai=Ag.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$e.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ag(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.Pr(r),$e.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),$e.waitFor(s).next((()=>i))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return $e.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),$e.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),$e.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return $e.resolve(n)}containsKey(e,r){return $e.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FQ{constructor(e,r){this.ui={},this.overlays={},this.ci=new lS(0),this.li=!1,this.li=!0,this.hi=new cxe,this.referenceDelegate=e(this),this.Pi=new hxe(this),this.indexManager=new Q1e,this.remoteDocumentCache=(function(i){return new dxe(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Y1e(r),this.Ii=new oxe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new lxe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new uxe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ht("MemoryPersistence","Starting transaction:",e);const i=new mxe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return $e.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class mxe extends zye{constructor(e){super(),this.currentSequenceNumber=e}}class fR{constructor(e){this.persistence=e,this.Ri=new dR,this.Vi=null}static mi(e){return new fR(e)}get fi(){if(this.Vi)return this.Vi;throw zt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$e.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),$e.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(n=>{const i=kt.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,Yt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return $e.or([()=>$e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class K2{constructor(e,r){this.persistence=e,this.pi=new um((n=>qye(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=nxe(this,r)}static mi(e,r){return new K2(e,r)}Ei(){}di(e){return $e.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return $e.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?$e.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,r).next((o=>{o||(n++,s.removeEntry(a,Yt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=p2(e.data.value)),r}br(e,r,n){return $e.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return $e.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=xr(),i=xr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new hR(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pxe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gxe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return ave()?8:$ye(ka())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new pxe;return this.Ss(e,r,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Tp()<=mr.DEBUG&&ht("QueryEngine","SDK will not create cache indexes for query:",Sp(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(Tp()<=mr.DEBUG&&ht("QueryEngine","Query:",Sp(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Tp()<=mr.DEBUG&&ht("QueryEngine","The SDK decides to create cache indexes for query:",Sp(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zc(r))):$e.resolve())}ys(e,r){if(AB(r))return $e.resolve(null);let n=Zc(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=q2(r,null,"F"),n=Zc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=xr(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{const u=this.Ds(r,o);return this.Cs(r,u,a,l.readTime)?this.ys(e,q2(r,null,"F")):this.vs(e,u,r,l)}))))})))))}ws(e,r,n,i){return AB(r)||i.isEqual(Yt.min())?$e.resolve(null):this.ps.getDocuments(e,n).next((s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?$e.resolve(null):(Tp()<=mr.DEBUG&&ht("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sp(r)),this.vs(e,a,r,Fye(i,L1)).next((o=>o)))}))}Ds(e,r){let n=new fs(gQ(e));return r.forEach(((i,s)=>{mS(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Tp()<=mr.DEBUG&&ht("QueryEngine","Using full collection scan to execute query:",Sp(r)),this.ps.getDocumentsMatchingQuery(e,r,qf.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="LocalStore",vxe=3e8;class yxe{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new is(yr),this.xs=new um((s=>nR(s)),iR),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new axe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function xxe(t,e,r,n){return new yxe(t,e,r,n)}async function BQ(t,e){const r=Jt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],o=[];let l=xr();for(const u of i){a.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}for(const u of s){o.push(u.batchId);for(const f of u.mutations)l=l.add(f.key)}return r.localDocuments.getDocuments(n,l).next((u=>({Ls:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function bxe(t,e){const r=Jt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,u,f){const h=u.batch,g=h.keys();let v=$e.resolve();return g.forEach((x=>{v=v.next((()=>f.getEntry(l,x))).next((b=>{const w=u.docVersions.get(x);Kr(w!==null,48541),b.version.compareTo(w)<0&&(h.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),f.addEntry(b)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(l,h)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=xr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function UQ(t){const e=Jt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function wxe(t,e){const r=Jt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach(((f,h)=>{const g=i.get(h);if(!g)return;o.push(r.Pi.removeMatchingKeys(s,f.removedDocuments,h).next((()=>r.Pi.addMatchingKeys(s,f.addedDocuments,h))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(h)!==null?v=v.withResumeToken(Ds.EMPTY_BYTE_STRING,Yt.min()).withLastLimboFreeSnapshotVersion(Yt.min()):f.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(f.resumeToken,n)),i=i.insert(h,v),(function(b,w,E){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=vxe?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(g,v,f)&&o.push(r.Pi.updateTargetData(s,v))}));let l=fd(),u=xr();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,f))})),o.push(_xe(s,a,e.documentUpdates).next((f=>{l=f.ks,u=f.qs}))),!n.isEqual(Yt.min())){const f=r.Pi.getLastRemoteSnapshotVersion(s).next((h=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));o.push(f)}return $e.waitFor(o).next((()=>a.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(r.Ms=i,s)))}function _xe(t,e,r){let n=xr(),i=xr();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let a=fd();return r.forEach(((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Yt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ht(mR,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function Exe(t,e){const r=Jt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=tR),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Txe(t,e){const r=Jt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,$e.resolve(i)):r.Pi.allocateTargetId(n).next((a=>(i=new Tf(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function e5(t,e,r){const n=Jt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!sv(a))throw a;ht(mR,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function BB(t,e,r){const n=Jt(t);let i=Yt.min(),s=xr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,u,f){const h=Jt(l),g=h.xs.get(f);return g!==void 0?$e.resolve(h.Ms.get(g)):h.Pi.getTargetData(u,f)})(n,a,Zc(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:Yt.min(),r?s:xr()))).next((o=>(Sxe(n,u1e(e),o),{documents:o,Qs:s})))))}function Sxe(t,e,r){let n=t.Os.get(e)||Yt.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class UB{constructor(){this.activeTargetIds=g1e()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class Axe{constructor(){this.Mo=new UB,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new UB,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kxe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VB="ConnectivityMonitor";class zB{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ht(VB,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ht(VB,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h_=null;function t5(){return h_===null?h_=(function(){return 268435456+Math.round(2147483648*Math.random())})():h_++,"0x"+h_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RC="RestConnection",Cxe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Nxe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===z2?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=t5(),o=this.zo(e,r.toUriEncodedString());ht(RC,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),f=_d(u);return this.Jo(e,o,l,n,f).then((h=>(ht(RC,`Received RPC '${e}' ${a}: `,h),h)),(h=>{throw L0(RC,`RPC '${e}' ${a} failed with error: `,h,"url: ",o,"request:",n),h}))}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+nv})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=Cxe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ixe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua="WebChannelConnection";class Oxe extends Nxe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=t5();return new Promise(((o,l)=>{const u=new zX;u.setWithCredentials(!0),u.listenOnce($X.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case m2.NO_ERROR:const h=u.getResponseJson();ht(ua,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(h)),o(h);break;case m2.TIMEOUT:ht(ua,`RPC '${e}' ${a} timed out`),l(new lt(Le.DEADLINE_EXCEEDED,"Request time out"));break;case m2.HTTP_ERROR:const g=u.getStatus();if(ht(ua,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const b=(function(E){const A=E.toLowerCase().replace(/_/g,"-");return Object.values(Le).indexOf(A)>=0?A:Le.UNKNOWN})(x.status);l(new lt(b,x.message))}else l(new lt(Le.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new lt(Le.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ht(ua,`RPC '${e}' ${a} completed.`)}}));const f=JSON.stringify(i);ht(ua,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=t5(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=WX(),o=qX(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const f=s.join("");ht(ua,`Creating RPC '${e}' stream ${i}: ${f}`,l);const h=a.createWebChannel(f,l);this.I_(h);let g=!1,v=!1;const x=new Ixe({Yo:w=>{v?ht(ua,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(g||(ht(ua,`Opening RPC '${e}' stream ${i} transport.`),h.open(),g=!0),ht(ua,`RPC '${e}' stream ${i} sending:`,w),h.send(w))},Zo:()=>h.close()}),b=(w,E,A)=>{w.listen(E,(k=>{try{A(k)}catch(R){setTimeout((()=>{throw R}),0)}}))};return b(h,qy.EventType.OPEN,(()=>{v||(ht(ua,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),b(h,qy.EventType.CLOSE,(()=>{v||(v=!0,ht(ua,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(h))})),b(h,qy.EventType.ERROR,(w=>{v||(v=!0,L0(ua,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),x.a_(new lt(Le.UNAVAILABLE,"The operation could not be completed")))})),b(h,qy.EventType.MESSAGE,(w=>{var E;if(!v){const A=w.data[0];Kr(!!A,16349);const k=A,R=(k==null?void 0:k.error)||((E=k[0])==null?void 0:E.error);if(R){ht(ua,`RPC '${e}' stream ${i} received error:`,R);const j=R.status;let P=(function(O){const D=Gi[O];if(D!==void 0)return kQ(D)})(j),S=R.message;P===void 0&&(P=Le.INTERNAL,S="Unknown error status: "+j+" with message "+R.message),v=!0,x.a_(new lt(P,S)),h.close()}else ht(ua,`RPC '${e}' stream ${i} received:`,A),x.u_(A)}})),b(o,HX.STAT_EVENT,(w=>{w.stat===VI.PROXY?ht(ua,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===VI.NOPROXY&&ht(ua,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function PC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xS(t){return new D1e(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VQ{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ht("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="PersistentStream";class zQ{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new VQ(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Le.RESOURCE_EXHAUSTED?(dd(r.toString()),dd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new lt(Le.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ht($B,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(ht($B,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Rxe extends zQ{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=F1e(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Yt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Yt.min():a.readTime?eu(a.readTime):Yt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=ZI(this.serializer),r.addTarget=(function(s,a){let o;const l=a.target;if(o=KI(l)?{documents:V1e(s,l)}:{query:z1e(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=IQ(s,a.resumeToken);const u=XI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Yt.min())>0){o.readTime=G2(s,a.snapshotVersion.toTimestamp());const u=XI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const n=H1e(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=ZI(this.serializer),r.removeTarget=e,this.q_(r)}}class Pxe extends zQ{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Kr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Kr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Kr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=U1e(e.writeResults,e.commitTime),n=eu(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=ZI(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>B1e(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jxe{}class Dxe extends jxe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new lt(Le.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,QI(r,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Le.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,QI(r,n),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new lt(Le.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Mxe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(dd(r),this.aa=!1):ht("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0="RemoteStore";class Lxe{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{dm(this)&&(ht(F0,"Restarting streams for network reachability change."),await(async function(l){const u=Jt(l);u.Ea.add(4),await Wx(u),u.Ra.set("Unknown"),u.Ea.delete(4),await bS(u)})(this))}))})),this.Ra=new Mxe(n,i)}}async function bS(t){if(dm(t))for(const e of t.da)await e(!0)}async function Wx(t){for(const e of t.da)await e(!1)}function $Q(t,e){const r=Jt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),yR(r)?vR(r):av(r).O_()&&gR(r,e))}function pR(t,e){const r=Jt(t),n=av(r);r.Ia.delete(e),n.O_()&&HQ(r,e),r.Ia.size===0&&(n.O_()?n.L_():dm(r)&&r.Ra.set("Unknown"))}function gR(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Yt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}av(t).Y_(e)}function HQ(t,e){t.Va.Ue(e),av(t).Z_(e)}function vR(t){t.Va=new O1e({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),av(t).start(),t.Ra.ua()}function yR(t){return dm(t)&&!av(t).x_()&&t.Ia.size>0}function dm(t){return Jt(t).Ea.size===0}function qQ(t){t.Va=void 0}async function Fxe(t){t.Ra.set("Online")}async function Bxe(t){t.Ia.forEach(((e,r)=>{gR(t,e)}))}async function Uxe(t,e){qQ(t),yR(t)?(t.Ra.ha(e),vR(t)):t.Ra.set("Unknown")}async function Vxe(t,e,r){if(t.Ra.set("Online"),e instanceof NQ&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(n){ht(F0,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await Y2(t,n)}else if(e instanceof y2?t.Va.Ze(e):e instanceof CQ?t.Va.st(e):t.Va.tt(e),!r.isEqual(Yt.min()))try{const n=await UQ(t.localStore);r.compareTo(n)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const f=s.Ia.get(u);f&&s.Ia.set(u,f.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,u)=>{const f=s.Ia.get(l);if(!f)return;s.Ia.set(l,f.withResumeToken(Ds.EMPTY_BYTE_STRING,f.snapshotVersion)),HQ(s,l);const h=new Tf(f.target,l,u,f.sequenceNumber);gR(s,h)})),s.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){ht(F0,"Failed to raise snapshot:",n),await Y2(t,n)}}async function Y2(t,e,r){if(!sv(e))throw e;t.Ea.add(1),await Wx(t),t.Ra.set("Offline"),r||(r=()=>UQ(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ht(F0,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await bS(t)}))}function WQ(t,e){return e().catch((r=>Y2(t,r,e)))}async function wS(t){const e=Jt(t),r=Yf(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:tR;for(;zxe(e);)try{const i=await Exe(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,$xe(e,i)}catch(i){await Y2(e,i)}GQ(e)&&KQ(e)}function zxe(t){return dm(t)&&t.Ta.length<10}function $xe(t,e){t.Ta.push(e);const r=Yf(t);r.O_()&&r.X_&&r.ea(e.mutations)}function GQ(t){return dm(t)&&!Yf(t).x_()&&t.Ta.length>0}function KQ(t){Yf(t).start()}async function Hxe(t){Yf(t).ra()}async function qxe(t){const e=Yf(t);for(const r of t.Ta)e.ea(r.mutations)}async function Wxe(t,e,r){const n=t.Ta.shift(),i=lR.from(n,e,r);await WQ(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await wS(t)}async function Gxe(t,e){e&&Yf(t).X_&&await(async function(n,i){if((function(a){return C1e(a)&&a!==Le.ABORTED})(i.code)){const s=n.Ta.shift();Yf(n).B_(),await WQ(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await wS(n)}})(t,e),GQ(t)&&KQ(t)}async function HB(t,e){const r=Jt(t);r.asyncQueue.verifyOperationInProgress(),ht(F0,"RemoteStore received new credentials");const n=dm(r);r.Ea.add(3),await Wx(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await bS(r)}async function Kxe(t,e){const r=Jt(t);e?(r.Ea.delete(2),await bS(r)):e||(r.Ea.add(2),await Wx(r),r.Ra.set("Unknown"))}function av(t){return t.ma||(t.ma=(function(r,n,i){const s=Jt(r);return s.sa(),new Rxe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:Fxe.bind(null,t),t_:Bxe.bind(null,t),r_:Uxe.bind(null,t),H_:Vxe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),yR(t)?vR(t):t.Ra.set("Unknown")):(await t.ma.stop(),qQ(t))}))),t.ma}function Yf(t){return t.fa||(t.fa=(function(r,n,i){const s=Jt(r);return s.sa(),new Pxe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Hxe.bind(null,t),r_:Gxe.bind(null,t),ta:qxe.bind(null,t),na:Wxe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await wS(t)):(await t.fa.stop(),t.Ta.length>0&&(ht(F0,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xR{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Qu,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new xR(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Le.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function bR(t,e){if(dd("AsyncQueue",`${e}: ${t}`),sv(t))return new lt(Le.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gp{static emptySet(e){return new Gp(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||kt.comparator(r.key,n.key):(r,n)=>kt.comparator(r.key,n.key),this.keyedMap=Wy(),this.sortedSet=new is(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Gp)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Gp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qB{constructor(){this.ga=new is(kt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):zt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class kg{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach((o=>{a.push({type:0,doc:o})})),new kg(e,r,Gp.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&hS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yxe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Xxe{constructor(){this.queries=WB(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Jt(r),s=i.queries;i.queries=WB(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(n)}))})(this,new lt(Le.ABORTED,"Firestore shutting down"))}}function WB(){return new um((t=>pQ(t)),hS)}async function wR(t,e){const r=Jt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new Yxe,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=bR(a,`Initialization of query '${Sp(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&ER(r)}async function _R(t,e){const r=Jt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Qxe(t,e){const r=Jt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&ER(r)}function Jxe(t,e,r){const n=Jt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function ER(t){t.Ca.forEach((e=>{e.next()}))}var r5,GB;(GB=r5||(r5={})).Ma="default",GB.Cache="cache";class TR{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new kg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=kg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==r5.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YQ{constructor(e){this.key=e}}class XQ{constructor(e){this.key=e}}class Zxe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xr(),this.mutatedKeys=xr(),this.eu=gQ(e),this.tu=new Gp(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new qB,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,h)=>{const g=i.get(f),v=mS(this.query,h)?h:null,x=!!g&&this.mutatedKeys.has(g.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;g&&v?g.data.isEqual(v.data)?x!==b&&(n.track({type:3,doc:v}),w=!0):this.su(g,v)||(n.track({type:2,doc:v}),w=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(o=!0)):!g&&v?(n.track({type:0,doc:v}),w=!0):g&&!v&&(n.track({type:1,doc:g}),w=!0,(l||u)&&(o=!0)),w&&(v?(a=a.add(v),s=b?s.add(f):s.delete(f)):(a=a.delete(f),s=s.delete(f)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const f=this.query.limitType==="F"?a.last():a.first();a=a.delete(f.key),s=s.delete(f.key),n.track({type:1,doc:f})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((f,h)=>(function(v,x){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Rt:w})}};return b(v)-b(x)})(f.type,h.type)||this.eu(f.doc,h.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new kg(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new qB,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new XQ(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new YQ(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=xr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return kg.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const SR="SyncEngine";class ebe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class tbe{constructor(e){this.key=e,this.hu=!1}}class rbe{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new um((o=>pQ(o)),hS),this.Iu=new Map,this.Eu=new Set,this.du=new is(kt.comparator),this.Au=new Map,this.Ru=new dR,this.Vu={},this.mu=new Map,this.fu=Ag.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function nbe(t,e,r=!0){const n=rJ(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await QQ(n,e,r,!0),i}async function ibe(t,e){const r=rJ(t);await QQ(r,e,!0,!1)}async function QQ(t,e,r,n){const i=await Txe(t.localStore,Zc(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await sbe(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&$Q(t.remoteStore,i),o}async function sbe(t,e,r,n,i){t.pu=(h,g,v)=>(async function(b,w,E,A){let k=w.view.ru(E);k.Cs&&(k=await BB(b.localStore,w.query,!1).then((({documents:S})=>w.view.ru(S,k))));const R=A&&A.targetChanges.get(w.targetId),j=A&&A.targetMismatches.get(w.targetId)!=null,P=w.view.applyChanges(k,b.isPrimaryClient,R,j);return YB(b,w.targetId,P.au),P.snapshot})(t,h,g,v);const s=await BB(t.localStore,e,!0),a=new Zxe(e,s.Qs),o=a.ru(s.documents),l=qx.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);YB(t,r,u.au);const f=new ebe(e,r,a);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function abe(t,e,r){const n=Jt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((a=>!hS(a,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await e5(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&pR(n.remoteStore,i.targetId),n5(n,i.targetId)})).catch(iv)):(n5(n,i.targetId),await e5(n.localStore,i.targetId,!0))}async function obe(t,e){const r=Jt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),pR(r.remoteStore,n.targetId))}async function lbe(t,e,r){const n=pbe(t);try{const i=await(function(a,o){const l=Jt(a),u=wn.now(),f=o.reduce(((v,x)=>v.add(x.key)),xr());let h,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let x=fd(),b=xr();return l.Ns.getEntries(v,f).next((w=>{x=w,x.forEach(((E,A)=>{A.isValidDocument()||(b=b.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,x))).next((w=>{h=w;const E=[];for(const A of o){const k=E1e(A,h.get(A.key).overlayedDocument);k!=null&&E.push(new fh(A.key,k,lQ(k.value.mapValue),Ba.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,E,o)})).next((w=>{g=w;const E=w.applyToLocalDocumentSet(h,b);return l.documentOverlayCache.saveOverlays(v,w.batchId,E)}))})).then((()=>({batchId:g.batchId,changes:yQ(h)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new is(yr)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u})(n,i.batchId,r),await Gx(n,i.changes),await wS(n.remoteStore)}catch(i){const s=bR(i,"Failed to persist write");r.reject(s)}}async function JQ(t,e){const r=Jt(t);try{const n=await wxe(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=r.Au.get(s);a&&(Kr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Kr(a.hu,14607):i.removedDocuments.size>0&&(Kr(a.hu,42227),a.hu=!1))})),await Gx(r,n,e)}catch(n){await iv(n)}}function KB(t,e,r){const n=Jt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Jt(a);l.onlineState=o;let u=!1;l.queries.forEach(((f,h)=>{for(const g of h.Sa)g.va(o)&&(u=!0)})),u&&ER(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function cbe(t,e,r){const n=Jt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new is(kt.comparator);a=a.insert(s,va.newNoDocument(s,Yt.min()));const o=xr().add(s),l=new yS(Yt.min(),new Map,new is(yr),a,o);await JQ(n,l),n.du=n.du.remove(s),n.Au.delete(e),AR(n)}else await e5(n.localStore,e,!1).then((()=>n5(n,e,r))).catch(iv)}async function ube(t,e){const r=Jt(t),n=e.batch.batchId;try{const i=await bxe(r.localStore,e);eJ(r,n,null),ZQ(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await Gx(r,i)}catch(i){await iv(i)}}async function dbe(t,e,r){const n=Jt(t);try{const i=await(function(a,o){const l=Jt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let f;return l.mutationQueue.lookupMutationBatch(u,o).next((h=>(Kr(h!==null,37113),f=h.keys(),l.mutationQueue.removeMutationBatch(u,h)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,f,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,f))).next((()=>l.localDocuments.getDocuments(u,f)))}))})(n.localStore,e);eJ(n,e,r),ZQ(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await Gx(n,i)}catch(i){await iv(i)}}function ZQ(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function eJ(t,e,r){const n=Jt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function n5(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||tJ(t,n)}))}function tJ(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(pR(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),AR(t))}function YB(t,e,r){for(const n of r)n instanceof YQ?(t.Ru.addReference(n.key,e),fbe(t,n)):n instanceof XQ?(ht(SR,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||tJ(t,n.key)):zt(19791,{wu:n})}function fbe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ht(SR,"New document in limbo: "+r),t.Eu.add(n),AR(t))}function AR(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new kt(Cn.fromString(e)),n=t.fu.next();t.Au.set(n,new tbe(r)),t.du=t.du.insert(r,n),$Q(t.remoteStore,new Tf(Zc(fS(r.path)),n,"TargetPurposeLimboResolution",lS.ce))}}async function Gx(t,e,r){const n=Jt(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,l)=>{a.push(n.pu(l,e,r).then((u=>{var f;if((u||r)&&n.isPrimaryClient){const h=u?!u.fromCache:(f=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:f.current;n.sharedClientState.updateQueryState(l.targetId,h?"current":"not-current")}if(u){i.push(u);const h=hR.As(l.targetId,u);s.push(h)}})))})),await Promise.all(a),n.Pu.H_(i),await(async function(l,u){const f=Jt(l);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(h=>$e.forEach(u,(g=>$e.forEach(g.Es,(v=>f.persistence.referenceDelegate.addReference(h,g.targetId,v))).next((()=>$e.forEach(g.ds,(v=>f.persistence.referenceDelegate.removeReference(h,g.targetId,v)))))))))}catch(h){if(!sv(h))throw h;ht(mR,"Failed to update sequence numbers: "+h)}for(const h of u){const g=h.targetId;if(!h.fromCache){const v=f.Ms.get(g),x=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(x);f.Ms=f.Ms.insert(g,b)}}})(n.localStore,s))}async function hbe(t,e){const r=Jt(t);if(!r.currentUser.isEqual(e)){ht(SR,"User change. New user:",e.toKey());const n=await BQ(r.localStore,e);r.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new lt(Le.CANCELLED,a))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Gx(r,n.Ls)}}function mbe(t,e){const r=Jt(t),n=r.Au.get(e);if(n&&n.hu)return xr().add(n.key);{let i=xr();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function rJ(t){const e=Jt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=JQ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=mbe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=cbe.bind(null,e),e.Pu.H_=Qxe.bind(null,e.eventManager),e.Pu.yu=Jxe.bind(null,e.eventManager),e}function pbe(t){const e=Jt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=ube.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=dbe.bind(null,e),e}class X2{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=xS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return xxe(this.persistence,new gxe,e.initialUser,this.serializer)}Cu(e){return new FQ(fR.mi,this.serializer)}Du(e){return new Axe}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}X2.provider={build:()=>new X2};class gbe extends X2{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Kr(this.persistence.referenceDelegate instanceof K2,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new txe(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ro.withCacheSize(this.cacheSizeBytes):ro.DEFAULT;return new FQ((n=>K2.mi(n,r)),this.serializer)}}class i5{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>KB(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=hbe.bind(null,this.syncEngine),await Kxe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Xxe})()}createDatastore(e){const r=xS(e.databaseInfo.databaseId),n=(function(s){return new Oxe(s)})(e.databaseInfo);return(function(s,a,o,l){return new Dxe(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,a,o){return new Lxe(n,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>KB(this.syncEngine,r,0)),(function(){return zB.v()?new zB:new kxe})())}createSyncEngine(e,r){return(function(i,s,a,o,l,u,f){const h=new rbe(i,s,a,o,l,u);return f&&(h.gu=!0),h})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Jt(i);ht(F0,"RemoteStore shutting down."),s.Ea.add(5),await Wx(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}i5.provider={build:()=>new i5};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):dd("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xf="FirestoreClient";class vbe{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ma.UNAUTHENTICATED,this.clientId=aS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{ht(Xf,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(ht(Xf,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Qu;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=bR(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function jC(t,e){t.asyncQueue.verifyOperationInProgress(),ht(Xf,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await BQ(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function XB(t,e){t.asyncQueue.verifyOperationInProgress();const r=await ybe(t);ht(Xf,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>HB(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>HB(e.remoteStore,i))),t._onlineComponents=e}async function ybe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ht(Xf,"Using user provided OfflineComponentProvider");try{await jC(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Le.FAILED_PRECONDITION||i.code===Le.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;L0("Error using user provided cache. Falling back to memory cache: "+r),await jC(t,new X2)}}else ht(Xf,"Using default OfflineComponentProvider"),await jC(t,new gbe(void 0));return t._offlineComponents}async function nJ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ht(Xf,"Using user provided OnlineComponentProvider"),await XB(t,t._uninitializedComponentsProvider._online)):(ht(Xf,"Using default OnlineComponentProvider"),await XB(t,new i5))),t._onlineComponents}function xbe(t){return nJ(t).then((e=>e.syncEngine))}async function Q2(t){const e=await nJ(t),r=e.eventManager;return r.onListen=nbe.bind(null,e.syncEngine),r.onUnlisten=abe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=ibe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=obe.bind(null,e.syncEngine),r}function bbe(t,e,r={}){const n=new Qu;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const f=new kR({next:g=>{f.Nu(),a.enqueueAndForget((()=>_R(s,h)));const v=g.docs.has(o);!v&&g.fromCache?u.reject(new lt(Le.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new lt(Le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new TR(fS(o.path),f,{includeMetadataChanges:!0,qa:!0});return wR(s,h)})(await Q2(t),t.asyncQueue,e,r,n))),n.promise}function wbe(t,e,r={}){const n=new Qu;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const f=new kR({next:g=>{f.Nu(),a.enqueueAndForget((()=>_R(s,h))),g.fromCache&&l.source==="server"?u.reject(new lt(Le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),h=new TR(o,f,{includeMetadataChanges:!0,qa:!0});return wR(s,h)})(await Q2(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iJ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QB=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sJ="firestore.googleapis.com",JB=!0;class ZB{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=sJ,this.ssl=JB}else this.host=e.host,this.ssl=e.ssl??JB;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=LQ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Z1e)throw new lt(Le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}QX("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=iJ(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new lt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new lt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new lt(Le.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class _S{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZB({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZB(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new YX;switch(n.type){case"firstParty":return new Oye(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new lt(Le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=QB.get(r);n&&(ht("ComponentProvider","Removing Datastore"),QB.delete(r),n.terminate())})(this),Promise.resolve()}}function aJ(t,e,r,n={}){var u;t=Sa(t,_S);const i=_d(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(tS(`https://${o}`),rS("Firestore",!0)),s.host!==sJ&&s.host!==o&&L0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!iu(l,a)&&(t._setSettings(l),n.mockUserToken)){let f,h;if(typeof n.mockUserToken=="string")f=n.mockUserToken,h=ma.MOCK_USER;else{f=Q6(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new lt(Le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new ma(g)}t._authCredentials=new Cye(new KX(f,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class li{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ju(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new li(this.firestore,e,this._key)}toJSON(){return{type:li._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if($x(r,li._jsonSchema))return new li(e,n||null,new kt(Cn.fromString(r.referencePath)))}}li._jsonSchemaVersion="firestore/documentReference/1.0",li._jsonSchema={type:ts("string",li._jsonSchemaVersion),referencePath:ts("string")};class Ju extends Ec{constructor(e,r,n){super(e,r,fS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new li(this.firestore,null,new kt(e))}withConverter(e){return new Ju(this.firestore,e,this._path)}}function Wt(t,e,...r){if(t=jr(t),XX("collection","path",e),t instanceof _S){const n=Cn.fromString(e,...r);return hB(n),new Ju(t,null,n)}{if(!(t instanceof li||t instanceof Ju))throw new lt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Cn.fromString(e,...r));return hB(n),new Ju(t.firestore,null,n)}}function Ft(t,e,...r){if(t=jr(t),arguments.length===1&&(e=aS.newId()),XX("doc","path",e),t instanceof _S){const n=Cn.fromString(e,...r);return fB(n),new li(t,null,new kt(n))}{if(!(t instanceof li||t instanceof Ju))throw new lt(Le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Cn.fromString(e,...r));return fB(n),new li(t.firestore,t instanceof Ju?t.converter:null,new kt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eU="AsyncQueue";class tU{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new VQ(this,"async_queue_retry"),this._c=()=>{const n=PC();n&&ht(eU,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=PC();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=PC();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Qu;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!sv(e))throw e;ht(eU,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,dd("INTERNAL UNHANDLED ERROR: ",rU(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=xR.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&zt(47125,{Pc:rU(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function rU(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class vc extends _S{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new tU,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tU(e),this._firestoreClient=void 0,await e}}}function oJ(t,e){const r=typeof t=="object"?t:lm(),n=typeof t=="string"?t:z2,i=zx(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=X6("firestore");s&&aJ(i,...s)}return i}function ov(t){if(t._terminated)throw new lt(Le.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||_be(t),t._firestoreClient}function _be(t){var n,i,s;const e=t._freezeSettings(),r=(function(o,l,u,f){return new Kye(o,l,u,f.host,f.ssl,f.experimentalForceLongPolling,f.experimentalAutoDetectLongPolling,iJ(f.experimentalLongPollingOptions),f.useFetchStreams,f.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new vbe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ro{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ro(Ds.fromBase64String(e))}catch(r){throw new lt(Le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ro(Ds.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ro._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if($x(e,Ro._jsonSchema))return Ro.fromBase64String(e.bytes)}}Ro._jsonSchemaVersion="firestore/bytes/1.0",Ro._jsonSchema={type:ts("string",Ro._jsonSchemaVersion),bytes:ts("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new lt(Le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Os(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function ES(){return new fm($I)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new lt(Le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new lt(Le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yr(this._lat,e._lat)||yr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:lc._jsonSchemaVersion}}static fromJSON(e){if($x(e,lc._jsonSchema))return new lc(e.latitude,e.longitude)}}lc._jsonSchemaVersion="firestore/geoPoint/1.0",lc._jsonSchema={type:ts("string",lc._jsonSchemaVersion),latitude:ts("number"),longitude:ts("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:cc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if($x(e,cc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new cc(e.vectorValues);throw new lt(Le.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}cc._jsonSchemaVersion="firestore/vectorValue/1.0",cc._jsonSchema={type:ts("string",cc._jsonSchemaVersion),vectorValues:ts("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ebe=/^__.*__$/;class Tbe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new fh(e,this.data,this.fieldMask,r,this.fieldTransforms):new Hx(e,this.data,r,this.fieldTransforms)}}class lJ{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new fh(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function cJ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ac:t})}}class TS{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new TS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return J2(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(cJ(this.Ac)&&Ebe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class Sbe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||xS(e)}Cc(e,r,n,i=!1){return new TS({Ac:e,methodName:r,Dc:n,path:Os.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function lv(t){const e=t._freezeSettings(),r=xS(t._databaseId);return new Sbe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function CR(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);RR("Data must be an object, but it was:",a,n);const o=mJ(n,a);let l,u;if(s.merge)l=new Bo(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const f=[];for(const h of s.mergeFields){const g=s5(e,h,r);if(!a.contains(g))throw new lt(Le.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);gJ(f,g)||f.push(g)}l=new Bo(f),u=a.fieldTransforms.filter((h=>l.covers(h.field)))}else l=null,u=a.fieldTransforms;return new Tbe(new io(o),l,u)}class SS extends hm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof SS}}function uJ(t,e,r){return new TS({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class NR extends hm{_toFieldTransform(e){return new oR(e.path,new V1)}isEqual(e){return e instanceof NR}}class IR extends hm{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=uJ(this,e,!0),n=this.vc.map((s=>mm(s,r))),i=new Tg(n);return new oR(e.path,i)}isEqual(e){return e instanceof IR&&iu(this.vc,e.vc)}}class OR extends hm{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=uJ(this,e,!0),n=this.vc.map((s=>mm(s,r))),i=new Sg(n);return new oR(e.path,i)}isEqual(e){return e instanceof OR&&iu(this.vc,e.vc)}}function dJ(t,e,r,n){const i=t.Cc(1,e,r);RR("Data must be an object, but it was:",i,n);const s=[],a=io.empty();dh(n,((l,u)=>{const f=PR(e,l,r);u=jr(u);const h=i.yc(f);if(u instanceof SS)s.push(f);else{const g=mm(u,h);g!=null&&(s.push(f),a.set(f,g))}}));const o=new Bo(s);return new lJ(a,o,i.fieldTransforms)}function fJ(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[s5(e,n,r)],l=[i];if(s.length%2!=0)throw new lt(Le.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(s5(e,s[g])),l.push(s[g+1]);const u=[],f=io.empty();for(let g=o.length-1;g>=0;--g)if(!gJ(u,o[g])){const v=o[g];let x=l[g];x=jr(x);const b=a.yc(v);if(x instanceof SS)u.push(v);else{const w=mm(x,b);w!=null&&(u.push(v),f.set(v,w))}}const h=new Bo(u);return new lJ(f,h,a.fieldTransforms)}function hJ(t,e,r,n=!1){return mm(r,t.Cc(n?4:3,e))}function mm(t,e){if(pJ(t=jr(t)))return RR("Unsupported field value:",e,t),mJ(t,e);if(t instanceof hm)return(function(n,i){if(!cJ(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const o of n){let l=mm(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=jr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return v1e(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=wn.fromDate(n);return{timestampValue:G2(i.serializer,s)}}if(n instanceof wn){const s=new wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:G2(i.serializer,s)}}if(n instanceof lc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ro)return{bytesValue:IQ(i.serializer,n._byteString)};if(n instanceof li){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:uR(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof cc)return(function(a,o){return{mapValue:{fields:{[aQ]:{stringValue:oQ},[$2]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return aR(o.serializer,u)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${oS(n)}`)})(t,e)}function mJ(t,e){const r={};return eQ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dh(t,((n,i)=>{const s=mm(i,e.mc(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function pJ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wn||t instanceof lc||t instanceof Ro||t instanceof li||t instanceof hm||t instanceof cc)}function RR(t,e,r){if(!pJ(r)||!JX(r)){const n=oS(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function s5(t,e,r){if((e=jr(e))instanceof fm)return e._internalPath;if(typeof e=="string")return PR(t,e);throw J2("Field path arguments must be of type string or ",t,!1,void 0,r)}const Abe=new RegExp("[~\\*/\\[\\]]");function PR(t,e,r){if(e.search(Abe)>=0)throw J2(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new fm(...e.split("."))._internalPath}catch{throw J2(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function J2(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new lt(Le.INVALID_ARGUMENT,o+t+l)}function gJ(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new li(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new kbe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(AS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class kbe extends jR{data(){return super.data()}}function AS(t,e){return typeof e=="string"?PR(t,e):e instanceof fm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vJ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new lt(Le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class DR{}class Kx extends DR{}function pr(t,e,...r){let n=[];e instanceof DR&&n.push(e),n=n.concat(r),(function(s){const a=s.filter((l=>l instanceof kS)).length,o=s.filter((l=>l instanceof Yx)).length;if(a>1||a>0&&o>0)throw new lt(Le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class Yx extends Kx{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new Yx(e,r,n)}_apply(e){const r=this._parse(e);return xJ(e._query,r),new Ec(e.firestore,e.converter,YI(e._query,r))}_parse(e){const r=lv(e.firestore);return(function(s,a,o,l,u,f,h){let g;if(u.isKeyField()){if(f==="array-contains"||f==="array-contains-any")throw new lt(Le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${f}' queries on documentId().`);if(f==="in"||f==="not-in"){sU(h,f);const x=[];for(const b of h)x.push(iU(l,s,b));g={arrayValue:{values:x}}}else g=iU(l,s,h)}else f!=="in"&&f!=="not-in"&&f!=="array-contains-any"||sU(h,f),g=hJ(o,a,h,f==="in"||f==="not-in");return Zi.create(u,f,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function Ar(t,e,r){const n=e,i=AS("where",t);return Yx._create(i,n,r)}class kS extends DR{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new kS(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:gc.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)xJ(a,l),a=YI(a,l)})(e._query,r),new Ec(e.firestore,e.converter,YI(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class CS extends Kx{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new CS(e,r)}_apply(e){const r=(function(i,s,a){if(i.startAt!==null)throw new lt(Le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new lt(Le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new U1(s,a)})(e._query,this._field,this._direction);return new Ec(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new cm(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function uo(t,e="asc"){const r=e,n=AS("orderBy",t);return CS._create(n,r)}class NS extends Kx{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new NS(e,r,n)}_apply(e){return new Ec(e.firestore,e.converter,q2(e._query,this._limit,this._limitType))}}function wl(t){return Lye("limit",t),NS._create("limit",t,"F")}class IS extends Kx{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new IS(e,r,n)}_apply(e){const r=Cbe(e,this.type,this._docOrFields,this._inclusive);return new Ec(e.firestore,e.converter,(function(i,s){return new cm(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,r))}}function yJ(...t){return IS._create("startAfter",t,!1)}function Cbe(t,e,r,n){if(r[0]=jr(r[0]),r[0]instanceof jR)return(function(s,a,o,l,u){if(!l)throw new lt(Le.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const f=[];for(const h of Wp(s))if(h.field.isKeyField())f.push(H2(a,l.key));else{const g=l.data.field(h.field);if(uS(g))throw new lt(Le.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+h.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const v=h.field.canonicalString();throw new lt(Le.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}f.push(g)}return new Eg(f,u)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=lv(t.firestore);return(function(a,o,l,u,f,h){const g=a.explicitOrderBy;if(f.length>g.length)throw new lt(Le.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let x=0;x<f.length;x++){const b=f[x];if(g[x].field.isKeyField()){if(typeof b!="string")throw new lt(Le.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!sR(a)&&b.indexOf("/")!==-1)throw new lt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const w=a.path.child(Cn.fromString(b));if(!kt.isDocumentKey(w))throw new lt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const E=new kt(w);v.push(H2(o,E))}else{const w=hJ(l,u,b);v.push(w)}}return new Eg(v,h)})(t._query,t.firestore._databaseId,i,e,r,n)}}function iU(t,e,r){if(typeof(r=jr(r))=="string"){if(r==="")throw new lt(Le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!sR(e)&&r.indexOf("/")!==-1)throw new lt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Cn.fromString(r));if(!kt.isDocumentKey(n))throw new lt(Le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return H2(t,new kt(n))}if(r instanceof li)return H2(t,r._key);throw new lt(Le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${oS(r)}.`)}function sU(t,e){if(!Array.isArray(t)||t.length===0)throw new lt(Le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function xJ(t,e){const r=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new lt(Le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Le.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class bJ{convertValue(e,r="none"){switch(Kf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Gf(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw zt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return dh(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[$2].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Pi(a.doubleValue)));return new cc(r)}convertGeoPoint(e){return new lc(Pi(e.latitude),Pi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=dS(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(F1(e));default:return null}}convertTimestamp(e){const r=Wf(e);return new wn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Cn.fromString(e);Kr(MQ(n),9688,{name:e});const i=new bg(n.get(1),n.get(3)),s=new kt(n.popFirst(5));return i.isEqual(r)||dd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MR(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Lp{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Mf extends jR{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new l1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(AS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Le.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Mf._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Mf._jsonSchemaVersion="firestore/documentSnapshot/1.0",Mf._jsonSchema={type:ts("string",Mf._jsonSchemaVersion),bundleSource:ts("string","DocumentSnapshot"),bundleName:ts("string"),bundle:ts("string")};class l1 extends Mf{data(e={}){return super.data(e)}}class Lf{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Lp(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new l1(this._firestore,this._userDataWriter,n.key,n,new Lp(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new lt(Le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new l1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new l1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Lp(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,f=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),f=a.indexOf(o.doc.key)),{type:Nbe(o.type),doc:l,oldIndex:u,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Le.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Lf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=aS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function Nbe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uc(t){t=Sa(t,li);const e=Sa(t.firestore,vc);return bbe(ov(e),t._key).then((r=>wJ(e,t,r)))}Lf._jsonSchemaVersion="firestore/querySnapshot/1.0",Lf._jsonSchema={type:ts("string",Lf._jsonSchemaVersion),bundleSource:ts("string","QuerySnapshot"),bundleName:ts("string"),bundle:ts("string")};class LR extends bJ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ro(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new li(this.firestore,null,r)}}function _n(t){t=Sa(t,Ec);const e=Sa(t.firestore,vc),r=ov(e),n=new LR(e);return vJ(t._query),wbe(r,t._query).then((i=>new Lf(e,n,t,i)))}function cv(t,e,r){t=Sa(t,li);const n=Sa(t.firestore,vc),i=MR(t.converter,e,r);return uv(n,[CR(lv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ba.none())])}function si(t,e,r,...n){t=Sa(t,li);const i=Sa(t.firestore,vc),s=lv(i);let a;return a=typeof(e=jr(e))=="string"||e instanceof fm?fJ(s,"updateDoc",t._key,e,r,n):dJ(s,"updateDoc",t._key,e),uv(i,[a.toMutation(t._key,Ba.exists(!0))])}function OS(t){return uv(Sa(t.firestore,vc),[new vS(t._key,Ba.none())])}function Qf(t,e){const r=Sa(t.firestore,vc),n=Ft(t),i=MR(t.converter,e);return uv(r,[CR(lv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,Ba.exists(!1))]).then((()=>n))}function Vo(t,...e){var l,u,f;t=jr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||nU(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(nU(e[n])){const h=e[n];e[n]=(l=h.next)==null?void 0:l.bind(h),e[n+1]=(u=h.error)==null?void 0:u.bind(h),e[n+2]=(f=h.complete)==null?void 0:f.bind(h)}let s,a,o;if(t instanceof li)a=Sa(t.firestore,vc),o=fS(t._key.path),s={next:h=>{e[n]&&e[n](wJ(a,t,h))},error:e[n+1],complete:e[n+2]};else{const h=Sa(t,Ec);a=Sa(h.firestore,vc),o=h._query;const g=new LR(a);s={next:v=>{e[n]&&e[n](new Lf(a,g,h,v))},error:e[n+1],complete:e[n+2]},vJ(t._query)}return(function(g,v,x,b){const w=new kR(b),E=new TR(v,w,x);return g.asyncQueue.enqueueAndForget((async()=>wR(await Q2(g),E))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>_R(await Q2(g),E)))}})(ov(a),o,i,s)}function uv(t,e){return(function(n,i){const s=new Qu;return n.asyncQueue.enqueueAndForget((async()=>lbe(await xbe(n),i,s))),s.promise})(ov(t),e)}function wJ(t,e,r){const n=r.docs.get(e._key),i=new LR(t);return new Mf(t,i,e._key,n,new Lp(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _J{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=lv(e)}set(e,r,n){this._verifyNotCommitted();const i=DC(e,this._firestore),s=MR(i.converter,r,n),a=CR(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,Ba.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=DC(e,this._firestore);let a;return a=typeof(r=jr(r))=="string"||r instanceof fm?fJ(this._dataReader,"WriteBatch.update",s._key,r,n,i):dJ(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(a.toMutation(s._key,Ba.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=DC(e,this._firestore);return this._mutations=this._mutations.concat(new vS(r._key,Ba.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Le.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function DC(t,e){if((t=jr(t)).firestore!==e)throw new lt(Le.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function Ua(){return new NR("serverTimestamp")}function z1(...t){return new IR("arrayUnion",t)}function FR(...t){return new OR("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BR(t){return ov(t=Sa(t,vc)),new _J(t,(e=>uv(t,e)))}(function(e,r=!0){(function(i){nv=i})(uh),Hf(new cd("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new vc(new Nye(n.getProvider("auth-internal")),new Rye(a,n.getProvider("app-check-internal")),(function(u,f){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new lt(Le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bg(u.options.projectId,f)})(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),kl(cB,uB,e),kl(cB,uB,"esm2020")})();const $u=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:bJ,Bytes:Ro,CollectionReference:Ju,DocumentReference:li,DocumentSnapshot:Mf,FieldPath:fm,FieldValue:hm,Firestore:vc,FirestoreError:lt,GeoPoint:lc,Query:Ec,QueryCompositeFilterConstraint:kS,QueryConstraint:Kx,QueryDocumentSnapshot:l1,QueryFieldFilterConstraint:Yx,QueryLimitConstraint:NS,QueryOrderByConstraint:CS,QuerySnapshot:Lf,QueryStartAtConstraint:IS,SnapshotMetadata:Lp,Timestamp:wn,VectorValue:cc,WriteBatch:_J,_AutoId:aS,_ByteString:Ds,_DatabaseId:bg,_DocumentKey:kt,_EmptyAuthCredentialsProvider:YX,_FieldPath:Os,_cast:Sa,_logWarn:L0,_validateIsNotUsedTogether:QX,addDoc:Qf,arrayRemove:FR,arrayUnion:z1,collection:Wt,connectFirestoreEmulator:aJ,deleteDoc:OS,doc:Ft,documentId:ES,ensureFirestoreConfigured:ov,executeWrite:uv,getDoc:uc,getDocs:_n,getFirestore:oJ,limit:wl,onSnapshot:Vo,orderBy:uo,query:pr,serverTimestamp:Ua,setDoc:cv,startAfter:yJ,updateDoc:si,where:Ar,writeBatch:BR},Symbol.toStringTag,{value:"Module"}));var Ibe="firebase",Obe="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */kl(Ibe,Obe,"app");function EJ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rbe=EJ,TJ=new Vx("auth","Firebase",EJ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z2=new iS("@firebase/auth");function Pbe(t,...e){Z2.logLevel<=mr.WARN&&Z2.warn(`Auth (${uh}): ${t}`,...e)}function x2(t,...e){Z2.logLevel<=mr.ERROR&&Z2.error(`Auth (${uh}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,...e){throw UR(t,...e)}function tu(t,...e){return UR(t,...e)}function SJ(t,e,r){const n={...Rbe(),[e]:r};return new Vx("auth","Firebase",n).create(e,{appName:t.name})}function Zu(t){return SJ(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function UR(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return TJ.create(t,...e)}function Vt(t,e,...r){if(!t)throw UR(e,...r)}function Hu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw x2(e),new Error(e)}function hd(t,e){t||Hu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function a5(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function jbe(){return aU()==="http:"||aU()==="https:"}function aU(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dbe(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(jbe()||nve()||"connection"in navigator)?navigator.onLine:!0}function Mbe(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xx{constructor(e,r){this.shortDelay=e,this.longDelay=r,hd(r>e,"Short delay should be less than long delay!"),this.isMobile=J6()||DX()}get(){return Dbe()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VR(t,e){hd(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Hu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Hu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Hu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lbe={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fbe=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],Bbe=new Xx(3e4,6e4);function Ed(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function hu(t,e,r,n,i={}){return kJ(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=rv({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return rve()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&_d(t.emulatorConfig.host)&&(u.credentials="include"),AJ.fetch()(await CJ(t,t.config.apiHost,r,o),u)})}async function kJ(t,e,r){t._canInitEmulator=!1;const n={...Lbe,...e};try{const i=new Vbe(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw m_(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw m_(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw m_(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw m_(t,"user-disabled",a);const f=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw SJ(t,f,u);yc(t,f)}}catch(i){if(i instanceof du)throw i;yc(t,"network-request-failed",{message:String(i)})}}async function Qx(t,e,r,n,i={}){const s=await hu(t,e,r,n,i);return"mfaPendingCredential"in s&&yc(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function CJ(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?VR(t.config,i):`${t.config.apiScheme}://${i}`;return Fbe.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function Ube(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class Vbe{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(tu(this.auth,"network-request-failed")),Bbe.get())})}}function m_(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=tu(t,e,n);return i.customData._tokenResponse=r,i}function oU(t){return t!==void 0&&t.enterprise!==void 0}class zbe{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return Ube(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function $be(t,e){return hu(t,"GET","/v2/recaptchaConfig",Ed(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hbe(t,e){return hu(t,"POST","/v1/accounts:delete",e)}async function eE(t,e){return hu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function qbe(t,e=!1){const r=jr(t),n=await r.getIdToken(e),i=zR(n);Vt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:c1(MC(i.auth_time)),issuedAtTime:c1(MC(i.iat)),expirationTime:c1(MC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function MC(t){return Number(t)*1e3}function zR(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return x2("JWT malformed, contained fewer than 3 sections"),null;try{const i=F2(r);return i?JSON.parse(i):(x2("Failed to decode base64 JWT payload"),null)}catch(i){return x2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function lU(t){const e=zR(t);return Vt(e,"internal-error"),Vt(typeof e.exp<"u","internal-error"),Vt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cg(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof du&&Wbe(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Wbe({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gbe{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class o5{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=c1(this.lastLoginAt),this.creationTime=c1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tE(t){var h;const e=t.auth,r=await t.getIdToken(),n=await Cg(t,eE(e,{idToken:r}));Vt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(h=i.providerUserInfo)!=null&&h.length?NJ(i.providerUserInfo):[],a=Ybe(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new o5(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,f)}async function Kbe(t){const e=jr(t);await tE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Ybe(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function NJ(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xbe(t,e){const r=await kJ(t,{},async()=>{const n=rv({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await CJ(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&_d(t.emulatorConfig.host)&&(l.credentials="include"),AJ.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Qbe(t,e){return hu(t,"POST","/v2/accounts:revokeToken",Ed(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Vt(e.idToken,"internal-error"),Vt(typeof e.idToken<"u","internal-error"),Vt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Vt(e.length!==0,"internal-error");const r=lU(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Vt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await Xbe(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Kp;return n&&(Vt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Vt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Vt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Kp,this.toJSON())}_performRefresh(){return Hu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function df(t,e){Vt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class nc{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Gbe(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new o5(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Cg(this,this.stsTokenManager.getToken(this.auth,e));return Vt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return qbe(this,e)}reload(){return Kbe(this)}_assign(e){this!==e&&(Vt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new nc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Vt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await tE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(no(this.auth.app))return Promise.reject(Zu(this.auth));const e=await this.getIdToken();return await Cg(this,Hbe(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:h,emailVerified:g,isAnonymous:v,providerData:x,stsTokenManager:b}=r;Vt(h&&b,e,"internal-error");const w=Kp.fromJSON(this.name,b);Vt(typeof h=="string",e,"internal-error"),df(n,e.name),df(i,e.name),Vt(typeof g=="boolean",e,"internal-error"),Vt(typeof v=="boolean",e,"internal-error"),df(s,e.name),df(a,e.name),df(o,e.name),df(l,e.name),df(u,e.name),df(f,e.name);const E=new nc({uid:h,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:f});return x&&Array.isArray(x)&&(E.providerData=x.map(A=>({...A}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new Kp;i.updateFromServerResponse(r);const s=new nc({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await tE(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Vt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?NJ(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Kp;o.updateFromIdToken(n);const l=new nc({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new o5(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new Map;function qu(t){hd(t instanceof Function,"Expected a class definition");let e=cU.get(t);return e?(hd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cU.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}IJ.type="NONE";const uU=IJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b2(t,e,r){return`firebase:${t}:${e}:${r}`}class Yp{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=b2(this.userKey,i.apiKey,s),this.fullPersistenceKey=b2("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await eE(this.auth,{idToken:e}).catch(()=>{});return r?nc._fromGetAccountInfoResponse(this.auth,r,e):null}return nc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Yp(qu(uU),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||qu(uU);const a=b2(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const f=await u._get(a);if(f){let h;if(typeof f=="string"){const g=await eE(e,{idToken:f}).catch(()=>{});if(!g)break;h=await nc._fromGetAccountInfoResponse(e,g,f)}else h=nc._fromJSON(e,f);u!==s&&(o=h),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Yp(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Yp(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(jJ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OJ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MJ(e))return"Blackberry";if(LJ(e))return"Webos";if(RJ(e))return"Safari";if((e.includes("chrome/")||PJ(e))&&!e.includes("edge/"))return"Chrome";if(DJ(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function OJ(t=ka()){return/firefox\//i.test(t)}function RJ(t=ka()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function PJ(t=ka()){return/crios\//i.test(t)}function jJ(t=ka()){return/iemobile/i.test(t)}function DJ(t=ka()){return/android/i.test(t)}function MJ(t=ka()){return/blackberry/i.test(t)}function LJ(t=ka()){return/webos/i.test(t)}function $R(t=ka()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Jbe(t=ka()){var e;return $R(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Zbe(){return ive()&&document.documentMode===10}function FJ(t=ka()){return $R(t)||DJ(t)||LJ(t)||MJ(t)||/windows phone/i.test(t)||jJ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BJ(t,e=[]){let r;switch(t){case"Browser":r=dU(ka());break;case"Worker":r=`${dU(ka())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${uh}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function twe(t,e={}){return hu(t,"GET","/v2/passwordPolicy",Ed(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rwe=6;class nwe{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??rwe,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iwe{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fU(this),this.idTokenSubscription=new fU(this),this.beforeStateQueue=new ewe(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=TJ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=qu(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Yp.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await eE(this,{idToken:e}),n=await nc._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(no(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Vt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await tE(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=Mbe()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(no(this.app))return Promise.reject(Zu(this));const r=e?jr(e):null;return r&&Vt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Vt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return no(this.app)?Promise.reject(Zu(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return no(this.app)?Promise.reject(Zu(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(qu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await twe(this),r=new nwe(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Vx("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Qbe(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&qu(e)||this._popupRedirectResolver;Vt(r,this,"argument-error"),this.redirectPersistenceManager=await Yp.create(this,[qu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Vt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Vt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=BJ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(no(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&Pbe(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function hh(t){return jr(t)}class fU{constructor(e){this.auth=e,this.observer=null,this.addObserver=pve(r=>this.observer=r)}get next(){return Vt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let RS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function swe(t){RS=t}function UJ(t){return RS.loadJS(t)}function awe(){return RS.recaptchaEnterpriseScript}function owe(){return RS.gapiScript}function lwe(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class cwe{constructor(){this.enterprise=new uwe}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class uwe{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const dwe="recaptcha-enterprise",VJ="NO_RECAPTCHA";class fwe{constructor(e){this.type=dwe,this.auth=hh(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{$be(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new zbe(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;oU(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(VJ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new cwe().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&oU(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=awe();l.length!==0&&(l+=o),UJ(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function hU(t,e,r,n=!1,i=!1){const s=new fwe(t);let a;if(i)a=VJ;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function rE(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await hU(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await hU(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hwe(t,e){const r=zx(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(iu(s,e??{}))return i;yc(i,"already-initialized")}return r.initialize({options:e})}function mwe(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(qu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function pwe(t,e,r){const n=hh(t);Vt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=zJ(e),{host:a,port:o}=gwe(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},f=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Vt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Vt(iu(u,n.config.emulator)&&iu(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,_d(a)?(tS(`${s}//${a}${l}`),rS("Auth",!0)):vwe()}function zJ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function gwe(t){const e=zJ(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:mU(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:mU(a)}}}function mU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function vwe(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HR{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return Hu("not implemented")}_getIdTokenResponse(e){return Hu("not implemented")}_linkToIdToken(e,r){return Hu("not implemented")}_getReauthenticationResolver(e){return Hu("not implemented")}}async function ywe(t,e){return hu(t,"POST","/v1/accounts:update",e)}async function xwe(t,e){return hu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bwe(t,e){return Qx(t,"POST","/v1/accounts:signInWithPassword",Ed(t,e))}async function wwe(t,e){return hu(t,"POST","/v1/accounts:sendOobCode",Ed(t,e))}async function _we(t,e){return wwe(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ewe(t,e){return Qx(t,"POST","/v1/accounts:signInWithEmailLink",Ed(t,e))}async function Twe(t,e){return Qx(t,"POST","/v1/accounts:signInWithEmailLink",Ed(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $1 extends HR{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new $1(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new $1(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,r,"signInWithPassword",bwe);case"emailLink":return Ewe(e,{email:this._email,oobCode:this._password});default:yc(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return rE(e,n,"signUpPassword",xwe);case"emailLink":return Twe(e,{idToken:r,email:this._email,oobCode:this._password});default:yc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xp(t,e){return Qx(t,"POST","/v1/accounts:signInWithIdp",Ed(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Swe="http://localhost";class B0 extends HR{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new B0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):yc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new B0(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return Xp(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Xp(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Xp(e,r)}buildRequest(){const e={requestUri:Swe,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=rv(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Awe(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function kwe(t){const e=$y(Hy(t)).link,r=e?$y(Hy(e)).deep_link_id:null,n=$y(Hy(t)).deep_link_id;return(n?$y(Hy(n)).link:null)||n||r||e||t}class qR{constructor(e){const r=$y(Hy(e)),n=r.apiKey??null,i=r.oobCode??null,s=Awe(r.mode??null);Vt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=kwe(e);try{return new qR(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(){this.providerId=pm.PROVIDER_ID}static credential(e,r){return $1._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=qR.parseLink(r);return Vt(n,"argument-error"),$1._fromEmailAndCode(e,n.code,n.tenantId)}}pm.PROVIDER_ID="password";pm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";pm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $J{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jx extends $J{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends Jx{constructor(){super("facebook.com")}static credential(e){return B0._fromParams({providerId:vf.PROVIDER_ID,signInMethod:vf.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return vf.credentialFromTaggedObject(e)}static credentialFromError(e){return vf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return vf.credential(e.oauthAccessToken)}catch{return null}}}vf.FACEBOOK_SIGN_IN_METHOD="facebook.com";vf.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yf extends Jx{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return B0._fromParams({providerId:yf.PROVIDER_ID,signInMethod:yf.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return yf.credentialFromTaggedObject(e)}static credentialFromError(e){return yf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return yf.credential(r,n)}catch{return null}}}yf.GOOGLE_SIGN_IN_METHOD="google.com";yf.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xf extends Jx{constructor(){super("github.com")}static credential(e){return B0._fromParams({providerId:xf.PROVIDER_ID,signInMethod:xf.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return xf.credentialFromTaggedObject(e)}static credentialFromError(e){return xf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return xf.credential(e.oauthAccessToken)}catch{return null}}}xf.GITHUB_SIGN_IN_METHOD="github.com";xf.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bf extends Jx{constructor(){super("twitter.com")}static credential(e,r){return B0._fromParams({providerId:bf.PROVIDER_ID,signInMethod:bf.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return bf.credentialFromTaggedObject(e)}static credentialFromError(e){return bf.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return bf.credential(r,n)}catch{return null}}}bf.TWITTER_SIGN_IN_METHOD="twitter.com";bf.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Cwe(t,e){return Qx(t,"POST","/v1/accounts:signUp",Ed(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await nc._fromIdTokenResponse(e,n,i),a=pU(n);return new U0({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=pU(n);return new U0({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function pU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nE extends du{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,nE.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new nE(e,r,n,i)}}function HJ(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?nE._fromErrorAndOperation(t,s,e,n):s})}async function Nwe(t,e,r=!1){const n=await Cg(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return U0._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qJ(t,e,r=!1){const{auth:n}=t;if(no(n.app))return Promise.reject(Zu(n));const i="reauthenticate";try{const s=await Cg(t,HJ(n,i,e,t),r);Vt(s.idToken,n,"internal-error");const a=zR(s.idToken);Vt(a,n,"internal-error");const{sub:o}=a;return Vt(t.uid===o,n,"user-mismatch"),U0._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yc(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WJ(t,e,r=!1){if(no(t.app))return Promise.reject(Zu(t));const n="signIn",i=await HJ(t,n,e),s=await U0._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function Iwe(t,e){return WJ(hh(t),e)}async function Owe(t,e){return qJ(jr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function GJ(t){const e=hh(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function Rwe(t,e,r){const n=hh(t);await rE(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",_we)}async function WR(t,e,r){if(no(t.app))return Promise.reject(Zu(t));const n=hh(t),a=await rE(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Cwe).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&GJ(t),l}),o=await U0._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function l5(t,e,r){return no(t.app)?Promise.reject(Zu(t)):Iwe(jr(t),pm.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&GJ(t),n})}function Pwe(t,e){return jwe(jr(t),null,e)}async function jwe(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const a=await Cg(t,ywe(n,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LC(t,e){return jr(t).setPersistence(e)}function Dwe(t,e,r,n){return jr(t).onIdTokenChanged(e,r,n)}function Mwe(t,e,r){return jr(t).beforeAuthStateChanged(e,r)}function KJ(t,e,r,n){return jr(t).onAuthStateChanged(e,r,n)}function YJ(t){return jr(t).signOut()}const iE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(iE,"1"),this.storage.removeItem(iE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lwe=1e3,Fwe=10;class QJ extends XJ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FJ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);Zbe()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,Fwe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},Lwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}QJ.type="LOCAL";const c5=QJ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JJ extends XJ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}JJ.type="SESSION";const GR=JJ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bwe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new PS(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await Bwe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}PS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KR(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uwe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=KR("",20);i.port1.start();const f=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(h){const g=h;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(f),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(f),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){return window}function Vwe(t){ru().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZJ(){return typeof ru().WorkerGlobalScope<"u"&&typeof ru().importScripts=="function"}async function zwe(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function $we(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function Hwe(){return ZJ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eZ="firebaseLocalStorageDb",qwe=1,sE="firebaseLocalStorage",tZ="fbase_key";class Zx{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function jS(t,e){return t.transaction([sE],e?"readwrite":"readonly").objectStore(sE)}function Wwe(){const t=indexedDB.deleteDatabase(eZ);return new Zx(t).toPromise()}function u5(){const t=indexedDB.open(eZ,qwe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(sE,{keyPath:tZ})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(sE)?e(n):(n.close(),await Wwe(),e(await u5()))})})}async function gU(t,e,r){const n=jS(t,!0).put({[tZ]:e,value:r});return new Zx(n).toPromise()}async function Gwe(t,e){const r=jS(t,!1).get(e),n=await new Zx(r).toPromise();return n===void 0?null:n.value}function vU(t,e){const r=jS(t,!0).delete(e);return new Zx(r).toPromise()}const Kwe=800,Ywe=3;class rZ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await u5(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>Ywe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return ZJ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=PS._getInstance(Hwe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await zwe(),!this.activeServiceWorker)return;this.sender=new Uwe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||$we()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await u5();return await gU(e,iE,"1"),await vU(e,iE),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>gU(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>Gwe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>vU(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=jS(i,!1).getAll();return new Zx(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Kwe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}rZ.type="LOCAL";const Xwe=rZ;new Xx(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qwe(t,e){return e?qu(e):(Vt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR extends HR{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Xp(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Xp(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Xp(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Jwe(t){return WJ(t.auth,new YR(t),t.bypassAuthState)}function Zwe(t){const{auth:e,user:r}=t;return Vt(r,e,"internal-error"),qJ(r,new YR(t),t.bypassAuthState)}async function e_e(t){const{auth:e,user:r}=t;return Vt(r,e,"internal-error"),Nwe(r,new YR(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nZ{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Jwe;case"linkViaPopup":case"linkViaRedirect":return e_e;case"reauthViaPopup":case"reauthViaRedirect":return Zwe;default:yc(this.auth,"internal-error")}}resolve(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){hd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t_e=new Xx(2e3,1e4);class Fp extends nZ{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,Fp.currentPopupAction&&Fp.currentPopupAction.cancel(),Fp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Vt(e,this.auth,"internal-error"),e}async onExecution(){hd(this.filter.length===1,"Popup operations only handle one event");const e=KR();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(tu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Fp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,t_e.get())};e()}}Fp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r_e="pendingRedirect",w2=new Map;class n_e extends nZ{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=w2.get(this.auth._key());if(!e){try{const n=await i_e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}w2.set(this.auth._key(),e)}return this.bypassAuthState||w2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function i_e(t,e){const r=o_e(e),n=a_e(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function s_e(t,e){w2.set(t._key(),e)}function a_e(t){return qu(t._redirectPersistence)}function o_e(t){return b2(r_e,t.config.apiKey,t.name)}async function l_e(t,e,r=!1){if(no(t.app))return Promise.reject(Zu(t));const n=hh(t),i=Qwe(n,e),a=await new n_e(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c_e=600*1e3;class u_e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!d_e(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!iZ(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(tu(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=c_e&&this.cachedEventUids.clear(),this.cachedEventUids.has(yU(e))}saveEventToCache(e){this.cachedEventUids.add(yU(e)),this.lastProcessedEventTime=Date.now()}}function yU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function iZ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function d_e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return iZ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function f_e(t,e={}){return hu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,m_e=/^https?/;async function p_e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await f_e(t);for(const r of e)try{if(g_e(r))return}catch{}yc(t,"unauthorized-domain")}function g_e(t){const e=a5(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!m_e.test(r))return!1;if(h_e.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v_e=new Xx(3e4,6e4);function xU(){const t=ru().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function y_e(t){return new Promise((e,r)=>{var i,s,a;function n(){xU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{xU(),r(tu(t,"network-request-failed"))},timeout:v_e.get()})}if((s=(i=ru().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=ru().gapi)!=null&&a.load)n();else{const o=lwe("iframefcb");return ru()[o]=()=>{gapi.load?n():r(tu(t,"network-request-failed"))},UJ(`${owe()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw _2=null,e})}let _2=null;function x_e(t){return _2=_2||y_e(t),_2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b_e=new Xx(5e3,15e3),w_e="__/auth/iframe",__e="emulator/auth/iframe",E_e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},T_e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function S_e(t){const e=t.config;Vt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?VR(e,__e):`https://${t.config.authDomain}/${w_e}`,n={apiKey:e.apiKey,appName:t.name,v:uh},i=T_e.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${rv(n).slice(1)}`}async function A_e(t){const e=await x_e(t),r=ru().gapi;return Vt(r,t,"internal-error"),e.open({where:document.body,url:S_e(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:E_e,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=tu(t,"network-request-failed"),o=ru().setTimeout(()=>{s(a)},b_e.get());function l(){ru().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_e={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},C_e=500,N_e=600,I_e="_blank",O_e="http://localhost";class bU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function R_e(t,e,r,n=C_e,i=N_e){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...k_e,width:n.toString(),height:i.toString(),top:s,left:a},u=ka().toLowerCase();r&&(o=PJ(u)?I_e:r),OJ(u)&&(e=e||O_e,l.scrollbars="yes");const f=Object.entries(l).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(Jbe(u)&&o!=="_self")return P_e(e||"",o),new bU(null);const h=window.open(e||"",o,f);Vt(h,t,"popup-blocked");try{h.focus()}catch{}return new bU(h)}function P_e(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_e="__/auth/handler",D_e="emulator/auth/handler",M_e=encodeURIComponent("fac");async function wU(t,e,r,n,i,s){Vt(t.config.authDomain,t,"auth-domain-config-required"),Vt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:uh,eventId:i};if(e instanceof $J){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",B2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,h]of Object.entries({}))a[f]=h}if(e instanceof Jx){const f=e.getScopes().filter(h=>h!=="");f.length>0&&(a.scopes=f.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const l=await t._getAppCheckToken(),u=l?`#${M_e}=${encodeURIComponent(l)}`:"";return`${L_e(t)}?${rv(o).slice(1)}${u}`}function L_e({config:t}){return t.emulator?VR(t,D_e):`https://${t.authDomain}/${j_e}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FC="webStorageSupport";class F_e{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GR,this._completeRedirectFn=l_e,this._overrideRedirectResult=s_e}async _openPopup(e,r,n,i){var a;hd((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await wU(e,r,n,a5(),i);return R_e(e,s,KR())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await wU(e,r,n,a5(),i);return Vwe(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(hd(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await A_e(e),n=new u_e(e);return r.register("authEvent",i=>(Vt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(FC,{type:FC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[FC];s!==void 0&&r(!!s),yc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=p_e(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return FJ()||RJ()||$R()}}const B_e=F_e;var _U="@firebase/auth",EU="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U_e{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Vt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function V_e(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function z_e(t){Hf(new cd("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Vt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:BJ(t)},u=new iwe(n,i,s,l);return mwe(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Hf(new cd("auth-internal",e=>{const r=hh(e.getProvider("auth").getImmediate());return(n=>new U_e(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),kl(_U,EU,V_e(t)),kl(_U,EU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $_e=300,H_e=jX("authIdTokenMaxAge")||$_e;let TU=null;const q_e=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>H_e)return;const i=r==null?void 0:r.token;TU!==i&&(TU=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function XR(t=lm()){const e=zx(t,"auth");if(e.isInitialized())return e.getImmediate();const r=hwe(t,{popupRedirectResolver:B_e,persistence:[Xwe,c5,GR]}),n=jX("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=q_e(s.toString());Mwe(r,a,()=>a(r.currentUser)),Dwe(r,o=>a(o))}}const i=RX("auth");return i&&pwe(r,`http://${i}`),r}function W_e(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}swe({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=tu("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",W_e().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});z_e("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sZ="firebasestorage.googleapis.com",G_e="storageBucket",K_e=120*1e3,Y_e=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mh=class aZ extends du{constructor(e,r,n=0){super(BC(e),`Firebase Storage: ${r} (${BC(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,aZ.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return BC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var au;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(au||(au={}));function BC(t){return"storage/"+t}function X_e(){const t="An unknown error occurred, please check the error payload for server response.";return new mh(au.UNKNOWN,t)}function Q_e(){return new mh(au.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function J_e(){return new mh(au.CANCELED,"User canceled the upload/download.")}function Z_e(t){return new mh(au.INVALID_URL,"Invalid URL '"+t+"'.")}function e2e(t){return new mh(au.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function SU(t){return new mh(au.INVALID_ARGUMENT,t)}function oZ(){return new mh(au.APP_DELETED,"The Firebase app was deleted.")}function t2e(t){return new mh(au.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ic{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=ic.makeFromUrl(e,r)}catch{return new ic(e,"")}if(n.path==="")return n;throw e2e(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const f="v[A-Za-z0-9_]+",h=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${h}/${f}/b/${i}/o${g}`,"i"),x={bucket:1,path:3},b=r===sZ?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",E=new RegExp(`^https?://${b}/${i}/${w}`,"i"),k=[{regex:o,indices:l,postModify:s},{regex:v,indices:x,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<k.length;R++){const j=k[R],P=j.regex.exec(e);if(P){const S=P[j.indices.bucket];let I=P[j.indices.path];I||(I=""),n=new ic(S,I),j.postModify(n);break}}if(n==null)throw Z_e(e);return n}}class r2e{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function n2e(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function f(...w){u||(u=!0,e.apply(null,w))}function h(w){i=setTimeout(()=>{i=null,t(v,l())},w)}function g(){s&&clearTimeout(s)}function v(w,...E){if(u){g();return}if(w){g(),f.call(null,w,...E);return}if(l()||a){g(),f.call(null,w,...E);return}n<64&&(n*=2);let k;o===1?(o=2,k=0):k=(n+Math.random())*1e3,h(k)}let x=!1;function b(w){x||(x=!0,g(),!u&&(i!==null?(w||(o=2),clearTimeout(i),h(0)):w||(o=1)))}return h(0),s=setTimeout(()=>{a=!0,b(!0)},r),b}function i2e(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s2e(t){return t!==void 0}function AU(t,e,r,n){if(n<e)throw SU(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw SU(`Invalid value for '${t}'. Expected ${r} or less.`)}function a2e(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var aE;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(aE||(aE={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function o2e(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class l2e{constructor(e,r,n,i,s,a,o,l,u,f,h,g=!0,v=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=f,this.connectionFactory_=h,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new p_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===aE.NO_ERROR,l=s.getStatus();if(!o||o2e(l,this.additionalRetryCodes_)&&this.retry){const f=s.getErrorCode()===aE.ABORT;n(!1,new p_(!1,null,f));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new p_(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());s2e(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=X_e();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?oZ():J_e();a(l)}else{const l=Q_e();a(l)}};this.canceled_?r(!1,new p_(!1,null,!0)):this.backoffId_=n2e(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&i2e(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class p_{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function c2e(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function u2e(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function d2e(t,e){e&&(t["X-Firebase-GMPID"]=e)}function f2e(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function h2e(t,e,r,n,i,s,a=!0,o=!1){const l=a2e(t.urlParams),u=t.url+l,f=Object.assign({},t.headers);return d2e(f,e),c2e(f,r),u2e(f,s),f2e(f,n),new l2e(u,t.method,f,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2e(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function p2e(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oE{constructor(e,r){this._service=e,r instanceof ic?this._location=r:this._location=ic.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new oE(e,r)}get root(){const e=new ic(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return p2e(this._location.path)}get storage(){return this._service}get parent(){const e=m2e(this._location.path);if(e===null)return null;const r=new ic(this._location.bucket,e);return new oE(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw t2e(e)}}function kU(t,e){const r=e==null?void 0:e[G_e];return r==null?null:ic.makeFromBucketSpec(r,t)}function g2e(t,e,r,n={}){t.host=`${e}:${r}`;const i=_d(e);i&&(tS(`https://${t.host}/b`),rS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:Q6(s,t.app.options.projectId))}class v2e{constructor(e,r,n,i,s,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=sZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=K_e,this._maxUploadRetryTime=Y_e,this._requests=new Set,i!=null?this._bucket=ic.makeFromBucketSpec(i,this._host):this._bucket=kU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=ic.makeFromBucketSpec(this._url,e):this._bucket=kU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AU("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AU("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(no(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new oE(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new r2e(oZ());{const a=h2e(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const CU="@firebase/storage",NU="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lZ="storage";function y2e(t=lm(),e){t=jr(t);const n=zx(t,lZ).getImmediate({identifier:e}),i=X6("storage");return i&&x2e(n,...i),n}function x2e(t,e,r,n={}){g2e(t,e,r,n)}function b2e(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new v2e(r,n,i,e,uh)}function w2e(){Hf(new cd(lZ,b2e,"PUBLIC").setMultipleInstances(!0)),kl(CU,NU,""),kl(CU,NU,"esm2020")}w2e();var IU={};const OU="@firebase/database",RU="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cZ="";function _2e(t){cZ=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E2e{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Is(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:j1(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T2e{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return fu(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uZ=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new E2e(e)}}catch{}return new T2e},h0=uZ("localStorage"),S2e=uZ("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qp=new iS("@firebase/database"),A2e=(function(){let t=1;return function(){return t++}})(),dZ=function(t){const e=yve(t),r=new mve;r.update(e);const n=r.digest();return Y6.encodeByteArray(n)},eb=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=eb.apply(null,n):typeof n=="object"?e+=Is(n):e+=n,e+=" "}return e};let u1=null,PU=!0;const k2e=function(t,e){st(!0,"Can't turn on custom loggers persistently."),Qp.logLevel=mr.VERBOSE,u1=Qp.log.bind(Qp)},Ns=function(...t){if(PU===!0&&(PU=!1,u1===null&&S2e.get("logging_enabled")===!0&&k2e()),u1){const e=eb.apply(null,t);u1(e)}},tb=function(t){return function(...e){Ns(t,...e)}},d5=function(...t){const e="FIREBASE INTERNAL ERROR: "+eb(...t);Qp.error(e)},md=function(...t){const e=`FIREBASE FATAL ERROR: ${eb(...t)}`;throw Qp.error(e),new Error(e)},Va=function(...t){const e="FIREBASE WARNING: "+eb(...t);Qp.warn(e)},C2e=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Va("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},DS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},N2e=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Ng="[MIN_NAME]",V0="[MAX_NAME]",gm=function(t,e){if(t===e)return 0;if(t===Ng||e===V0)return-1;if(e===Ng||t===V0)return 1;{const r=jU(t),n=jU(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},I2e=function(t,e){return t===e?0:t<e?-1:1},Cy=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Is(e))},QR=function(t){if(typeof t!="object"||t===null)return Is(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=Is(e[n]),r+=":",r+=QR(t[e[n]]);return r+="}",r},fZ=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n};function Ms(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const hZ=function(t){st(!DS(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),n),s=o+n,a=Math.round(t*Math.pow(2,r-o)-Math.pow(2,r))):(s=0,a=Math.round(t/Math.pow(2,1-n-r))));const u=[];for(l=r;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const f=u.join("");let h="";for(l=0;l<64;l+=8){let g=parseInt(f.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),h=h+g}return h.toLowerCase()},O2e=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},R2e=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function P2e(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const j2e=new RegExp("^-?(0*)\\d{1,10}$"),D2e=-2147483648,M2e=2147483647,jU=function(t){if(j2e.test(t)){const e=Number(t);if(e>=D2e&&e<=M2e)return e}return null},dv=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Va("Exception was thrown by user callback.",r),e},Math.floor(0))}},L2e=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},d1=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F2e{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,no(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)==null||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Va(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B2e{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ns("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Va(e)}}class E2{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}E2.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="5",mZ="v",pZ="s",gZ="r",vZ="f",yZ=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xZ="ls",bZ="p",f5="ac",wZ="websocket",_Z="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EZ{constructor(e,r,n,i,s=!1,a="",o=!1,l=!1,u=null){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=h0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&h0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function U2e(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TZ(t,e,r){st(typeof e=="string","typeof type must == string"),st(typeof r=="object","typeof params must == object");let n;if(e===wZ)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===_Z)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);U2e(t)&&(r.ns=t.namespace);const i=[];return Ms(r,(s,a)=>{i.push(s+"="+a)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V2e{constructor(){this.counters_={}}incrementCounter(e,r=1){fu(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return Gge(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UC={},VC={};function ZR(t){const e=t.toString();return UC[e]||(UC[e]=new V2e),UC[e]}function z2e(t,e){const r=t.toString();return VC[r]||(VC[r]=e()),VC[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2e{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&dv(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DU="start",H2e="close",q2e="pLPCommand",W2e="pRTLPCB",SZ="id",AZ="pw",kZ="ser",G2e="cb",K2e="seg",Y2e="ts",X2e="d",Q2e="dframe",CZ=1870,NZ=30,J2e=CZ-NZ,Z2e=25e3,eEe=3e4;class Bp{constructor(e,r,n,i,s,a,o){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=tb(e),this.stats_=ZR(r),this.urlFn=l=>(this.appCheckToken&&(l[f5]=this.appCheckToken),TZ(r,_Z,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new $2e(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(eEe)),N2e(()=>{if(this.isClosed_)return;this.scriptTagHolder=new eP((...s)=>{const[a,o,l,u,f]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===DU)this.id=o,this.password=l;else if(a===H2e)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const n={};n[DU]="t",n[kZ]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[G2e]=this.scriptTagHolder.uniqueCallbackIdentifier),n[mZ]=JR,this.transportSessionId&&(n[pZ]=this.transportSessionId),this.lastSessionId&&(n[xZ]=this.lastSessionId),this.applicationId&&(n[bZ]=this.applicationId),this.appCheckToken&&(n[f5]=this.appCheckToken),typeof location<"u"&&location.hostname&&yZ.test(location.hostname)&&(n[gZ]=vZ);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Bp.forceAllow_=!0}static forceDisallow(){Bp.forceDisallow_=!0}static isAvailable(){return Bp.forceAllow_?!0:!Bp.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!O2e()&&!R2e()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Is(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=IX(r),i=fZ(n,J2e);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[Q2e]="t",n[SZ]=e,n[AZ]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Is(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class eP{constructor(e,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=A2e(),window[q2e+this.uniqueCallbackIdentifier]=e,window[W2e+this.uniqueCallbackIdentifier]=r,this.myIFrame=eP.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Ns("frame writing exception"),o.stack&&Ns(o.stack),Ns(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ns("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[SZ]=this.myID,e[AZ]=this.myPW,e[kZ]=this.currentSerial;let r=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+NZ+n.length<=CZ;){const a=this.pendingSegs.shift();n=n+"&"+K2e+i+"="+a.seg+"&"+Y2e+i+"="+a.ts+"&"+X2e+i+"="+a.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(Z2e)),s=()=>{clearTimeout(i),n()};this.addTag(e,s)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{Ns("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tEe=16384,rEe=45e3;let lE=null;typeof MozWebSocket<"u"?lE=MozWebSocket:typeof WebSocket<"u"&&(lE=WebSocket);class Zl{constructor(e,r,n,i,s,a,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=tb(this.connId),this.stats_=ZR(r),this.connURL=Zl.connectionURL_(r,a,o,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,i,s){const a={};return a[mZ]=JR,typeof location<"u"&&location.hostname&&yZ.test(location.hostname)&&(a[gZ]=vZ),r&&(a[pZ]=r),n&&(a[xZ]=n),i&&(a[f5]=i),s&&(a[bZ]=s),TZ(e,wZ,a)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,h0.set("previous_websocket_failure",!0);try{let n;sve(),this.mySock=new lE(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Zl.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&lE!==null&&!Zl.forceDisallow_}static previouslyFailed(){return h0.isInMemoryStorage||h0.get("previous_websocket_failure")===!0}markConnectionHealthy(){h0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=j1(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(st(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=Is(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=fZ(r,tEe);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(rEe))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Zl.responsesRequiredToBeHealthy=2;Zl.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{static get ALL_TRANSPORTS(){return[Bp,Zl]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=Zl&&Zl.isAvailable();let n=r&&!Zl.previouslyFailed();if(e.webSocketOnly&&(r||Va("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[Zl];else{const i=this.transports_=[];for(const s of H1.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);H1.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}H1.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nEe=6e4,iEe=5e3,sEe=10*1024,aEe=100*1024,zC="t",MU="d",oEe="s",LU="r",lEe="e",FU="o",BU="a",UU="n",VU="p",cEe="h";class uEe{constructor(e,r,n,i,s,a,o,l,u,f){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=f,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=tb("c:"+this.id+":"),this.transportManager_=new H1(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=d1(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>aEe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>sEe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(zC in e){const r=e[zC];r===BU?this.upgradeIfSecondaryHealthy_():r===LU?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===FU&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Cy("t",e),n=Cy("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:VU,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:BU,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:UU,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Cy("t",e),n=Cy("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Cy(zC,e);if(MU in e){const n=e[MU];if(r===cEe){const i={...n};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===UU){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===oEe?this.onConnectionShutdown_(n):r===LU?this.onReset_(n):r===lEe?d5("Server Error: "+n):r===FU?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):d5("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),JR!==n&&Va("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),d1(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(nEe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):d1(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(iEe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:VU,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(h0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IZ{put(e,r,n,i){}merge(e,r,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let OZ=class{constructor(e){this.allowedEvents_=e,this.listeners_={},st(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const i=this.getInitialEvent(e);i&&r.apply(n,i)}off(e,r,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===r&&(!n||n===i[s].context)){i.splice(s,1);return}}validateEventType_(e){st(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cE extends OZ{static getInstance(){return new cE}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!J6()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return st(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU=32,$U=768;let un=class{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}};function $r(){return new un("")}function or(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function Jf(t){return t.pieces_.length-t.pieceNum_}function kn(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new un(t.pieces_,e)}function tP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function dEe(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function q1(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function RZ(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new un(e,0)}function oi(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof un)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new un(r,0)}function ur(t){return t.pieceNum_>=t.pieces_.length}function ao(t,e){const r=or(t),n=or(e);if(r===null)return e;if(r===n)return ao(kn(t),kn(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function fEe(t,e){const r=q1(t,0),n=q1(e,0);for(let i=0;i<r.length&&i<n.length;i++){const s=gm(r[i],n[i]);if(s!==0)return s}return r.length===n.length?0:r.length<n.length?-1:1}function rP(t,e){if(Jf(t)!==Jf(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function _l(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(Jf(t)>Jf(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class hEe{constructor(e,r){this.errorPrefix_=r,this.parts_=q1(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=nS(this.parts_[n]);PZ(this)}}function mEe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=nS(e),PZ(t)}function pEe(t){const e=t.parts_.pop();t.byteLength_-=nS(e),t.parts_.length>0&&(t.byteLength_-=1)}function PZ(t){if(t.byteLength_>$U)throw new Error(t.errorPrefix_+"has a key path longer than "+$U+" bytes ("+t.byteLength_+").");if(t.parts_.length>zU)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+zU+") or object contains a cycle "+t0(t))}function t0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP extends OZ{static getInstance(){return new nP}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return st(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ny=1e3,gEe=300*1e3,HU=30*1e3,vEe=1.3,yEe=3e4,xEe="server_kill",qU=3;class ed extends IZ{constructor(e,r,n,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=ed.nextPersistentConnectionId_++,this.log_=tb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ny,this.maxReconnectDelay_=gEe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");nP.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&cE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const i=++this.requestNumber_,s={r:i,a:e,b:r};this.log_(Is(s)),st(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const r=new Wc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?r.resolve(o):r.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(e,r,n,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),st(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),st(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:r,query:e,tag:n};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n},a="q";e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,u=o.s;ed.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&fu(e,"w")){const n=vg(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Va(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||hve(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=HU)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=fve(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),st(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,r)}sendUnlisten_(e,r,n,i){this.log_("Unlisten on "+e+" for "+r);const s={p:e},a="n";i&&(s.q=n,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,i){const s={p:r,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,r,n,i){this.putInternal("p",e,r,n,i)}merge(e,r,n,i){this.putInternal("m",e,r,n,i)}putInternal(e,r,n,i,s){this.initConnection_();const a={p:r,d:n};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const s=n.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Is(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):d5("Unrecognized action received from server: "+Is(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){st(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ny,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Ny,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>yEe&&(this.reconnectDelay_=Ny),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*vEe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ed.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,n())},u=function(h){st(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(h)};this.realtime_={close:l,sendRequest:u};const f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[h,g]=await Promise.all([this.authTokenProvider_.getToken(f),this.appCheckTokenProvider_.getToken(f)]);a?Ns("getToken() completed but was canceled"):(Ns("getToken() completed. Creating connection."),this.authToken_=h&&h.accessToken,this.appCheckToken_=g&&g.token,o=new uEe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,v=>{Va(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(xEe)},s))}catch(h){this.log_("Failed to get token: "+h),a||(this.repoInfo_.nodeAdmin&&Va(h),l())}}}interrupt(e){Ns("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ns("Resuming connection for reason: "+e),delete this.interruptReasons_[e],B2(this.interruptReasons_)&&(this.reconnectDelay_=Ny,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(s=>QR(s)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,r){const n=new un(e).toString();let i;if(this.listens.has(n)){const s=this.listens.get(n);i=s.get(r),s.delete(r),s.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,r){Ns("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=qU&&(this.reconnectDelay_=HU,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ns("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=qU&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+cZ.replace(/\./g,"-")]=1,J6()?e["framework.cordova"]=1:DX()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=cE.getInstance().currentlyOnline();return B2(this.interruptReasons_)&&e}}ed.nextPersistentConnectionId_=0;ed.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new dr(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new dr(Ng,e),i=new dr(Ng,r);return this.compare(n,i)!==0}minPost(){return dr.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let g_;class jZ extends MS{static get __EMPTY_NODE(){return g_}static set __EMPTY_NODE(e){g_=e}compare(e,r){return gm(e.name,r.name)}isDefinedOn(e){throw tv("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return dr.MIN}maxPost(){return new dr(V0,g_)}makePost(e,r){return st(typeof e=="string","KeyIndex indexValue must always be a string."),new dr(e,g_)}toString(){return".key"}}const Jp=new jZ;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v_{constructor(e,r,n,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=r?n(e.key,r):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Cs{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Cs.RED,this.left=i??oo.EMPTY_NODE,this.right=s??oo.EMPTY_NODE}copy(e,r,n,i,s){return new Cs(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return oo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,i;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return oo.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Cs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Cs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Cs.RED=!0;Cs.BLACK=!1;class bEe{copy(e,r,n,i,s){return this}insert(e,r,n){return new Cs(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class oo{constructor(e,r=oo.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new oo(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Cs.BLACK,null,null))}remove(e){return new oo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Cs.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new v_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new v_(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new v_(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new v_(this.root_,null,this.comparator_,!0,e)}}oo.EMPTY_NODE=new bEe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wEe(t,e){return gm(t.name,e.name)}function iP(t,e){return gm(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let h5;function _Ee(t){h5=t}const DZ=function(t){return typeof t=="number"?"number:"+hZ(t):"string:"+t},MZ=function(t){if(t.isLeafNode()){const e=t.val();st(typeof e=="string"||typeof e=="number"||typeof e=="object"&&fu(e,".sv"),"Priority must be a string or number.")}else st(t===h5||t.isEmpty(),"priority of unexpected type.");st(t===h5||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let WU;class Ts{static set __childrenNodeConstructor(e){WU=e}static get __childrenNodeConstructor(){return WU}constructor(e,r=Ts.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,st(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),MZ(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ts(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ts.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ur(e)?this:or(e)===".priority"?this.priorityNode_:Ts.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Ts.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=or(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(st(n!==".priority"||Jf(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Ts.__childrenNodeConstructor.EMPTY_NODE.updateChild(kn(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+DZ(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=hZ(this.value_):e+=this.value_,this.lazyHash_=dZ(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ts.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ts.__childrenNodeConstructor?-1:(st(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,i=Ts.VALUE_TYPE_ORDER.indexOf(r),s=Ts.VALUE_TYPE_ORDER.indexOf(n);return st(i>=0,"Unknown leaf type: "+r),st(s>=0,"Unknown leaf type: "+n),i===s?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ts.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LZ,FZ;function EEe(t){LZ=t}function TEe(t){FZ=t}class SEe extends MS{compare(e,r){const n=e.node.getPriority(),i=r.node.getPriority(),s=n.compareTo(i);return s===0?gm(e.name,r.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return dr.MIN}maxPost(){return new dr(V0,new Ts("[PRIORITY-POST]",FZ))}makePost(e,r){const n=LZ(e);return new dr(r,new Ts("[PRIORITY-POST]",n))}toString(){return".priority"}}const ci=new SEe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AEe=Math.log(2);class kEe{constructor(e){const r=s=>parseInt(Math.log(s)/AEe,10),n=s=>parseInt(Array(s+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const uE=function(t,e,r,n){t.sort(e);const i=function(l,u){const f=u-l;let h,g;if(f===0)return null;if(f===1)return h=t[l],g=r?r(h):h,new Cs(g,h.node,Cs.BLACK,null,null);{const v=parseInt(f/2,10)+l,x=i(l,v),b=i(v+1,u);return h=t[v],g=r?r(h):h,new Cs(g,h.node,Cs.BLACK,x,b)}},s=function(l){let u=null,f=null,h=t.length;const g=function(x,b){const w=h-x,E=h;h-=x;const A=i(w+1,E),k=t[w],R=r?r(k):k;v(new Cs(R,k.node,b,null,A))},v=function(x){u?(u.left=x,u=x):(f=x,u=x)};for(let x=0;x<l.count;++x){const b=l.nextBitIsOne(),w=Math.pow(2,l.count-(x+1));b?g(w,Cs.BLACK):(g(w,Cs.BLACK),g(w,Cs.RED))}return f},a=new kEe(t.length),o=s(a);return new oo(n||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $C;const dp={};class Wu{static get Default(){return st(dp&&ci,"ChildrenNode.ts has not been loaded"),$C=$C||new Wu({".priority":dp},{".priority":ci}),$C}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=vg(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof oo?r:null}hasIndex(e){return fu(this.indexSet_,e.toString())}addIndex(e,r){st(e!==Jp,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=r.getIterator(dr.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=s.getNext();let o;i?o=uE(n,e.getCompare()):o=dp;const l=e.toString(),u={...this.indexSet_};u[l]=e;const f={...this.indexes_};return f[l]=o,new Wu(f,u)}addToIndexes(e,r){const n=U2(this.indexes_,(i,s)=>{const a=vg(this.indexSet_,s);if(st(a,"Missing index implementation for "+s),i===dp)if(a.isDefinedOn(e.node)){const o=[],l=r.getIterator(dr.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),uE(o,a.getCompare())}else return dp;else{const o=r.get(e.name);let l=i;return o&&(l=l.remove(new dr(e.name,o))),l.insert(e,e.node)}});return new Wu(n,this.indexSet_)}removeFromIndexes(e,r){const n=U2(this.indexes_,i=>{if(i===dp)return i;{const s=r.get(e.name);return s?i.remove(new dr(e.name,s)):i}});return new Wu(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Iy;class qt{static get EMPTY_NODE(){return Iy||(Iy=new qt(new oo(iP),null,Wu.Default))}constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&MZ(this.priorityNode_),this.children_.isEmpty()&&st(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Iy}updatePriority(e){return this.children_.isEmpty()?this:new qt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Iy:r}}getChild(e){const r=or(e);return r===null?this:this.getImmediateChild(r).getChild(kn(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(st(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new dr(e,r);let i,s;r.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,r),s=this.indexMap_.addToIndexes(n,this.children_));const a=i.isEmpty()?Iy:this.priorityNode_;return new qt(i,a,s)}}updateChild(e,r){const n=or(e);if(n===null)return r;{st(or(e)!==".priority"||Jf(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(kn(e),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,i=0,s=!0;if(this.forEachChild(ci,(a,o)=>{r[a]=o.val(e),n++,s&&qt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*n){const a=[];for(const o in r)a[o]=r[o];return a}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+DZ(this.getPriority().val())+":"),this.forEachChild(ci,(r,n)=>{const i=n.hash();i!==""&&(e+=":"+r+":"+i)}),this.lazyHash_=e===""?"":dZ(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const i=this.resolveIndex_(n);if(i){const s=i.getPredecessorKey(new dr(e,r));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new dr(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new dr(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,dr.Wrap);let s=i.peek();for(;s!=null&&r.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,dr.Wrap);let s=i.peek();for(;s!=null&&r.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===rb?-1:0}withIndex(e){if(e===Jp||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new qt(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===Jp||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(ci),i=r.getIterator(ci);let s=n.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=n.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===Jp?null:this.indexMap_.get(e.toString())}}qt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class CEe extends qt{constructor(){super(new oo(iP),qt.EMPTY_NODE,Wu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qt.EMPTY_NODE}isEmpty(){return!1}}const rb=new CEe;Object.defineProperties(dr,{MIN:{value:new dr(Ng,qt.EMPTY_NODE)},MAX:{value:new dr(V0,rb)}});jZ.__EMPTY_NODE=qt.EMPTY_NODE;Ts.__childrenNodeConstructor=qt;_Ee(rb);TEe(rb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NEe=!0;function ji(t,e=null){if(t===null)return qt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),st(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Ts(r,ji(e))}if(!(t instanceof Array)&&NEe){const r=[];let n=!1;if(Ms(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=ji(o);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new dr(a,l)))}}),r.length===0)return qt.EMPTY_NODE;const s=uE(r,wEe,a=>a.name,iP);if(n){const a=uE(r,ci.getCompare());return new qt(s,ji(e),new Wu({".priority":a},{".priority":ci}))}else return new qt(s,ji(e),Wu.Default)}else{let r=qt.EMPTY_NODE;return Ms(t,(n,i)=>{if(fu(t,n)&&n.substring(0,1)!=="."){const s=ji(i);(s.isLeafNode()||!s.isEmpty())&&(r=r.updateImmediateChild(n,s))}}),r.updatePriority(ji(e))}}EEe(ji);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IEe extends MS{constructor(e){super(),this.indexPath_=e,st(!ur(e)&&or(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),i=this.extractChild(r.node),s=n.compareTo(i);return s===0?gm(e.name,r.name):s}makePost(e,r){const n=ji(e),i=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new dr(r,i)}maxPost(){const e=qt.EMPTY_NODE.updateChild(this.indexPath_,rb);return new dr(V0,e)}toString(){return q1(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OEe extends MS{compare(e,r){const n=e.node.compareTo(r.node);return n===0?gm(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return dr.MIN}maxPost(){return dr.MAX}makePost(e,r){const n=ji(e);return new dr(r,n)}toString(){return".value"}}const REe=new OEe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BZ(t){return{type:"value",snapshotNode:t}}function Ig(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function W1(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function G1(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function PEe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sP{constructor(e){this.index_=e}updateChild(e,r,n,i,s,a){st(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(r);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()||(a!=null&&(n.isEmpty()?e.hasChild(r)?a.trackChildChange(W1(r,o)):st(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Ig(r,n)):a.trackChildChange(G1(r,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(ci,(i,s)=>{r.hasChild(i)||n.trackChildChange(W1(i,s))}),r.isLeafNode()||r.forEachChild(ci,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||n.trackChildChange(G1(i,s,a))}else n.trackChildChange(Ig(i,s))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?qt.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K1{constructor(e){this.indexedFilter_=new sP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=K1.getStartPost_(e),this.endPost_=K1.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,i,s,a){return this.matches(new dr(r,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,i,s,a)}updateFullNode(e,r,n){r.isLeafNode()&&(r=qt.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(qt.EMPTY_NODE);const s=this;return r.forEachChild(ci,(a,o)=>{s.matches(new dr(a,o))||(i=i.updateImmediateChild(a,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jEe{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new K1(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,i,s,a){return this.rangedFilter_.matches(new dr(r,n))||(n=qt.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,i,s,a):this.fullLimitUpdateChild_(e,r,n,s,a)}updateFullNode(e,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=qt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=qt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(qt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,i,s){let a;if(this.reverse_){const h=this.index_.getCompare();a=(g,v)=>h(v,g)}else a=this.index_.getCompare();const o=e;st(o.numChildren()===this.limit_,"");const l=new dr(r,n),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),f=this.rangedFilter_.matches(l);if(o.hasChild(r)){const h=o.getImmediateChild(r);let g=i.getChildAfterChild(this.index_,u,this.reverse_);for(;g!=null&&(g.name===r||o.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:a(g,l);if(f&&!n.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(G1(r,n,h)),o.updateImmediateChild(r,n);{s!=null&&s.trackChildChange(W1(r,h));const b=o.updateImmediateChild(r,qt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Ig(g.name,g.node)),b.updateImmediateChild(g.name,g.node)):b}}else return n.isEmpty()?e:f&&a(u,l)>=0?(s!=null&&(s.trackChildChange(W1(u.name,u.node)),s.trackChildChange(Ig(r,n))),o.updateImmediateChild(r,n).updateImmediateChild(u.name,qt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=ci}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return st(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return st(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Ng}hasEnd(){return this.endSet_}getIndexEndValue(){return st(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return st(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:V0}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return st(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===ci}copy(){const e=new aP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function DEe(t){return t.loadsAllData()?new sP(t.getIndex()):t.hasLimit()?new jEe(t):new K1(t)}function GU(t){const e={};if(t.isDefault())return e;let r;if(t.index_===ci?r="$priority":t.index_===REe?r="$value":t.index_===Jp?r="$key":(st(t.index_ instanceof IEe,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=Is(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Is(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Is(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Is(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Is(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function KU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==ci&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dE extends IZ{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(st(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=tb("p:rest:"),this.listens_={}}listen(e,r,n,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=dE.getListenId_(e,n),o={};this.listens_[a]=o;const l=GU(e._queryParams);this.restRequest_(s+".json",l,(u,f)=>{let h=f;if(u===404&&(h=null,u=null),u===null&&this.onDataUpdate_(s,h,!1,n),vg(this.listens_,a)===o){let g;u?u===401?g="permission_denied":g="rest_error:"+u:g="ok",i(g,null)}})}unlisten(e,r){const n=dE.getListenId_(e,r);delete this.listens_[n]}get(e){const r=GU(e._queryParams),n=e._path.toString(),i=new Wc;return this.restRequest_(n+".json",r,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(n,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(r.auth=i.accessToken),s&&s.token&&(r.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+rv(r);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=j1(o.responseText)}catch{Va("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,l)}else o.status!==401&&o.status!==404&&Va("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MEe{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fE(){return{value:null,children:new Map}}function fv(t,e,r){if(ur(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=or(e);t.children.has(n)||t.children.set(n,fE());const i=t.children.get(n);e=kn(e),fv(i,e,r)}}function m5(t,e){if(ur(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const r=t.value;return t.value=null,r.forEachChild(ci,(n,i)=>{fv(t,new un(n),i)}),m5(t,e)}}else if(t.children.size>0){const r=or(e);return e=kn(e),t.children.has(r)&&m5(t.children.get(r),e)&&t.children.delete(r),t.children.size===0}else return!0}function p5(t,e,r){t.value!==null?r(e,t.value):LEe(t,(n,i)=>{const s=new un(e.toString()+"/"+n);p5(i,s,r)})}function LEe(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FEe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&Ms(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YU=10*1e3,BEe=30*1e3,UEe=300*1e3;class VEe{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new FEe(e);const n=YU+(BEe-YU)*Math.random();d1(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;Ms(e,(i,s)=>{s>0&&fu(this.statsToReport_,i)&&(r[i]=s,n=!0)}),n&&this.server_.reportStats(r),d1(this.reportStats_.bind(this),Math.floor(Math.random()*2*UEe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var sc;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(sc||(sc={}));function oP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function lP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function cP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=sc.ACK_USER_WRITE,this.source=oP()}operationForChild(e){if(ur(this.path)){if(this.affectedTree.value!=null)return st(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new un(e));return new hE($r(),r,this.revert)}}else return st(or(this.path)===e,"operationForChild called for unrelated child."),new hE(kn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Y1{constructor(e,r){this.source=e,this.path=r,this.type=sc.LISTEN_COMPLETE}operationForChild(e){return ur(this.path)?new Y1(this.source,$r()):new Y1(this.source,kn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z0{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=sc.OVERWRITE}operationForChild(e){return ur(this.path)?new z0(this.source,$r(),this.snap.getImmediateChild(e)):new z0(this.source,kn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Og{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=sc.MERGE}operationForChild(e){if(ur(this.path)){const r=this.children.subtree(new un(e));return r.isEmpty()?null:r.value?new z0(this.source,$r(),r.value):new Og(this.source,$r(),r)}else return st(or(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Og(this.source,kn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $0{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ur(e))return this.isFullyInitialized()&&!this.filtered_;const r=or(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zEe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function $Ee(t,e,r,n){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(PEe(a.childName,a.snapshotNode))}),Oy(t,i,"child_removed",e,n,r),Oy(t,i,"child_added",e,n,r),Oy(t,i,"child_moved",s,n,r),Oy(t,i,"child_changed",e,n,r),Oy(t,i,"value",e,n,r),i}function Oy(t,e,r,n,i,s){const a=n.filter(o=>o.type===r);a.sort((o,l)=>qEe(t,o,l)),a.forEach(o=>{const l=HEe(t,o,s);i.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function HEe(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function qEe(t,e,r){if(e.childName==null||r.childName==null)throw tv("Should only compare child_ events.");const n=new dr(e.childName,e.snapshotNode),i=new dr(r.childName,r.snapshotNode);return t.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LS(t,e){return{eventCache:t,serverCache:e}}function f1(t,e,r,n){return LS(new $0(e,r,n),t.serverCache)}function UZ(t,e,r,n){return LS(t.eventCache,new $0(e,r,n))}function g5(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function H0(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HC;const WEe=()=>(HC||(HC=new oo(I2e)),HC);class Rn{static fromObject(e){let r=new Rn(null);return Ms(e,(n,i)=>{r=r.set(new un(n),i)}),r}constructor(e,r=WEe()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:$r(),value:this.value};if(ur(e))return null;{const n=or(e),i=this.children.get(n);if(i!==null){const s=i.findRootMostMatchingPathAndValue(kn(e),r);return s!=null?{path:oi(new un(n),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ur(e))return this;{const r=or(e),n=this.children.get(r);return n!==null?n.subtree(kn(e)):new Rn(null)}}set(e,r){if(ur(e))return new Rn(r,this.children);{const n=or(e),s=(this.children.get(n)||new Rn(null)).set(kn(e),r),a=this.children.insert(n,s);return new Rn(this.value,a)}}remove(e){if(ur(e))return this.children.isEmpty()?new Rn(null):new Rn(null,this.children);{const r=or(e),n=this.children.get(r);if(n){const i=n.remove(kn(e));let s;return i.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,i),this.value===null&&s.isEmpty()?new Rn(null):new Rn(this.value,s)}else return this}}get(e){if(ur(e))return this.value;{const r=or(e),n=this.children.get(r);return n?n.get(kn(e)):null}}setTree(e,r){if(ur(e))return r;{const n=or(e),s=(this.children.get(n)||new Rn(null)).setTree(kn(e),r);let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),new Rn(this.value,a)}}fold(e){return this.fold_($r(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((i,s)=>{n[i]=s.fold_(oi(e,i),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,$r(),r)}findOnPath_(e,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(ur(e))return null;{const s=or(e),a=this.children.get(s);return a?a.findOnPath_(kn(e),oi(r,s),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,$r(),r)}foreachOnPath_(e,r,n){if(ur(e))return this;{this.value&&n(r,this.value);const i=or(e),s=this.children.get(i);return s?s.foreachOnPath_(kn(e),oi(r,i),n):new Rn(null)}}foreach(e){this.foreach_($r(),e)}foreach_(e,r){this.children.inorderTraversal((n,i)=>{i.foreach_(oi(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.writeTree_=e}static empty(){return new dc(new Rn(null))}}function h1(t,e,r){if(ur(e))return new dc(new Rn(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let s=n.value;const a=ao(i,e);return s=s.updateChild(a,r),new dc(t.writeTree_.set(i,s))}else{const i=new Rn(r),s=t.writeTree_.setTree(e,i);return new dc(s)}}}function v5(t,e,r){let n=t;return Ms(r,(i,s)=>{n=h1(n,oi(e,i),s)}),n}function XU(t,e){if(ur(e))return dc.empty();{const r=t.writeTree_.setTree(e,new Rn(null));return new dc(r)}}function y5(t,e){return vm(t,e)!=null}function vm(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(ao(r.path,e)):null}function QU(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(ci,(n,i)=>{e.push(new dr(n,i))}):t.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new dr(n,i.value))}),e}function Ff(t,e){if(ur(e))return t;{const r=vm(t,e);return r!=null?new dc(new Rn(r)):new dc(t.writeTree_.subtree(e))}}function x5(t){return t.writeTree_.isEmpty()}function Rg(t,e){return VZ($r(),t.writeTree_,e)}function VZ(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(st(s.value!==null,"Priority writes must always be leaf nodes"),n=s.value):r=VZ(oi(t,i),s,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(oi(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uP(t,e){return qZ(e,t)}function GEe(t,e,r,n,i){st(n>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:i}),i&&(t.visibleWrites=h1(t.visibleWrites,e,r)),t.lastWriteId=n}function KEe(t,e,r,n){st(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=v5(t.visibleWrites,e,r),t.lastWriteId=n}function YEe(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function XEe(t,e){const r=t.allWrites.findIndex(o=>o.writeId===e);st(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let i=n.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=r&&QEe(o,n.path)?i=!1:_l(n.path,o.path)&&(s=!0)),a--}if(i){if(s)return JEe(t),!0;if(n.snap)t.visibleWrites=XU(t.visibleWrites,n.path);else{const o=n.children;Ms(o,l=>{t.visibleWrites=XU(t.visibleWrites,oi(n.path,l))})}return!0}else return!1}function QEe(t,e){if(t.snap)return _l(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&_l(oi(t.path,r),e))return!0;return!1}function JEe(t){t.visibleWrites=zZ(t.allWrites,ZEe,$r()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function ZEe(t){return t.visible}function zZ(t,e,r){let n=dc.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)_l(r,a)?(o=ao(r,a),n=h1(n,o,s.snap)):_l(a,r)&&(o=ao(a,r),n=h1(n,$r(),s.snap.getChild(o)));else if(s.children){if(_l(r,a))o=ao(r,a),n=v5(n,o,s.children);else if(_l(a,r))if(o=ao(a,r),ur(o))n=v5(n,$r(),s.children);else{const l=vg(s.children,or(o));if(l){const u=l.getChild(kn(o));n=h1(n,$r(),u)}}}else throw tv("WriteRecord should have .snap or .children")}}return n}function $Z(t,e,r,n,i){if(!n&&!i){const s=vm(t.visibleWrites,e);if(s!=null)return s;{const a=Ff(t.visibleWrites,e);if(x5(a))return r;if(r==null&&!y5(a,$r()))return null;{const o=r||qt.EMPTY_NODE;return Rg(a,o)}}}else{const s=Ff(t.visibleWrites,e);if(!i&&x5(s))return r;if(!i&&r==null&&!y5(s,$r()))return null;{const a=function(u){return(u.visible||i)&&(!n||!~n.indexOf(u.writeId))&&(_l(u.path,e)||_l(e,u.path))},o=zZ(t.allWrites,a,e),l=r||qt.EMPTY_NODE;return Rg(o,l)}}}function eTe(t,e,r){let n=qt.EMPTY_NODE;const i=vm(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(ci,(s,a)=>{n=n.updateImmediateChild(s,a)}),n;if(r){const s=Ff(t.visibleWrites,e);return r.forEachChild(ci,(a,o)=>{const l=Rg(Ff(s,new un(a)),o);n=n.updateImmediateChild(a,l)}),QU(s).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}else{const s=Ff(t.visibleWrites,e);return QU(s).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}}function tTe(t,e,r,n,i){st(n||i,"Either existingEventSnap or existingServerSnap must exist");const s=oi(e,r);if(y5(t.visibleWrites,s))return null;{const a=Ff(t.visibleWrites,s);return x5(a)?i.getChild(r):Rg(a,i.getChild(r))}}function rTe(t,e,r,n){const i=oi(e,r),s=vm(t.visibleWrites,i);if(s!=null)return s;if(n.isCompleteForChild(r)){const a=Ff(t.visibleWrites,i);return Rg(a,n.getNode().getImmediateChild(r))}else return null}function nTe(t,e){return vm(t.visibleWrites,e)}function iTe(t,e,r,n,i,s,a){let o;const l=Ff(t.visibleWrites,e),u=vm(l,$r());if(u!=null)o=u;else if(r!=null)o=Rg(l,r);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const f=[],h=a.getCompare(),g=s?o.getReverseIteratorFrom(n,a):o.getIteratorFrom(n,a);let v=g.getNext();for(;v&&f.length<i;)h(v,n)!==0&&f.push(v),v=g.getNext();return f}else return[]}function sTe(){return{visibleWrites:dc.empty(),allWrites:[],lastWriteId:-1}}function mE(t,e,r,n){return $Z(t.writeTree,t.treePath,e,r,n)}function dP(t,e){return eTe(t.writeTree,t.treePath,e)}function JU(t,e,r,n){return tTe(t.writeTree,t.treePath,e,r,n)}function pE(t,e){return nTe(t.writeTree,oi(t.treePath,e))}function aTe(t,e,r,n,i,s){return iTe(t.writeTree,t.treePath,e,r,n,i,s)}function fP(t,e,r){return rTe(t.writeTree,t.treePath,e,r)}function HZ(t,e){return qZ(oi(t.treePath,e),t.writeTree)}function qZ(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oTe{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;st(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),st(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const s=i.type;if(r==="child_added"&&s==="child_removed")this.changeMap.set(n,G1(n,e.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&s==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&s==="child_changed")this.changeMap.set(n,W1(n,i.oldSnap));else if(r==="child_changed"&&s==="child_added")this.changeMap.set(n,Ig(n,e.snapshotNode));else if(r==="child_changed"&&s==="child_changed")this.changeMap.set(n,G1(n,e.snapshotNode,i.oldSnap));else throw tv("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lTe{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const WZ=new lTe;class hP{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new $0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return fP(this.writes_,e,n)}}getChildAfterChild(e,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:H0(this.viewCache_),s=aTe(this.writes_,i,r,1,n,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cTe(t){return{filter:t}}function uTe(t,e){st(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),st(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function dTe(t,e,r,n,i){const s=new oTe;let a,o;if(r.type===sc.OVERWRITE){const u=r;u.source.fromUser?a=b5(t,e,u.path,u.snap,n,i,s):(st(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!ur(u.path),a=gE(t,e,u.path,u.snap,n,i,o,s))}else if(r.type===sc.MERGE){const u=r;u.source.fromUser?a=hTe(t,e,u.path,u.children,n,i,s):(st(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=w5(t,e,u.path,u.children,n,i,o,s))}else if(r.type===sc.ACK_USER_WRITE){const u=r;u.revert?a=gTe(t,e,u.path,n,i,s):a=mTe(t,e,u.path,u.affectedTree,n,i,s)}else if(r.type===sc.LISTEN_COMPLETE)a=pTe(t,e,r.path,n,s);else throw tv("Unknown operation type: "+r.type);const l=s.getChanges();return fTe(e,a,l),{viewCache:a,changes:l}}function fTe(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=g5(t);(r.length>0||!t.eventCache.isFullyInitialized()||i&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&r.push(BZ(g5(e)))}}function GZ(t,e,r,n,i,s){const a=e.eventCache;if(pE(n,r)!=null)return e;{let o,l;if(ur(r))if(st(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=H0(e),f=u instanceof qt?u:qt.EMPTY_NODE,h=dP(n,f);o=t.filter.updateFullNode(e.eventCache.getNode(),h,s)}else{const u=mE(n,H0(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=or(r);if(u===".priority"){st(Jf(r)===1,"Can't have a priority with additional path components");const f=a.getNode();l=e.serverCache.getNode();const h=JU(n,r,f,l);h!=null?o=t.filter.updatePriority(f,h):o=a.getNode()}else{const f=kn(r);let h;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const g=JU(n,r,a.getNode(),l);g!=null?h=a.getNode().getImmediateChild(u).updateChild(f,g):h=a.getNode().getImmediateChild(u)}else h=fP(n,u,e.serverCache);h!=null?o=t.filter.updateChild(a.getNode(),u,h,f,i,s):o=a.getNode()}}return f1(e,o,a.isFullyInitialized()||ur(r),t.filter.filtersNodes())}}function gE(t,e,r,n,i,s,a,o){const l=e.serverCache;let u;const f=a?t.filter:t.filter.getIndexedFilter();if(ur(r))u=f.updateFullNode(l.getNode(),n,null);else if(f.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(r,n);u=f.updateFullNode(l.getNode(),v,null)}else{const v=or(r);if(!l.isCompleteForPath(r)&&Jf(r)>1)return e;const x=kn(r),w=l.getNode().getImmediateChild(v).updateChild(x,n);v===".priority"?u=f.updatePriority(l.getNode(),w):u=f.updateChild(l.getNode(),v,w,x,WZ,null)}const h=UZ(e,u,l.isFullyInitialized()||ur(r),f.filtersNodes()),g=new hP(i,h,s);return GZ(t,h,r,i,g,o)}function b5(t,e,r,n,i,s,a){const o=e.eventCache;let l,u;const f=new hP(i,e,s);if(ur(r))u=t.filter.updateFullNode(e.eventCache.getNode(),n,a),l=f1(e,u,!0,t.filter.filtersNodes());else{const h=or(r);if(h===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),n),l=f1(e,u,o.isFullyInitialized(),o.isFiltered());else{const g=kn(r),v=o.getNode().getImmediateChild(h);let x;if(ur(g))x=n;else{const b=f.getCompleteChild(h);b!=null?tP(g)===".priority"&&b.getChild(RZ(g)).isEmpty()?x=b:x=b.updateChild(g,n):x=qt.EMPTY_NODE}if(v.equals(x))l=e;else{const b=t.filter.updateChild(o.getNode(),h,x,g,f,a);l=f1(e,b,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function ZU(t,e){return t.eventCache.isCompleteForChild(e)}function hTe(t,e,r,n,i,s,a){let o=e;return n.foreach((l,u)=>{const f=oi(r,l);ZU(e,or(f))&&(o=b5(t,o,f,u,i,s,a))}),n.foreach((l,u)=>{const f=oi(r,l);ZU(e,or(f))||(o=b5(t,o,f,u,i,s,a))}),o}function eV(t,e,r){return r.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function w5(t,e,r,n,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ur(r)?u=n:u=new Rn(null).setTree(r,n);const f=e.serverCache.getNode();return u.children.inorderTraversal((h,g)=>{if(f.hasChild(h)){const v=e.serverCache.getNode().getImmediateChild(h),x=eV(t,v,g);l=gE(t,l,new un(h),x,i,s,a,o)}}),u.children.inorderTraversal((h,g)=>{const v=!e.serverCache.isCompleteForChild(h)&&g.value===null;if(!f.hasChild(h)&&!v){const x=e.serverCache.getNode().getImmediateChild(h),b=eV(t,x,g);l=gE(t,l,new un(h),b,i,s,a,o)}}),l}function mTe(t,e,r,n,i,s,a){if(pE(i,r)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(ur(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return gE(t,e,r,l.getNode().getChild(r),i,s,o,a);if(ur(r)){let u=new Rn(null);return l.getNode().forEachChild(Jp,(f,h)=>{u=u.set(new un(f),h)}),w5(t,e,r,u,i,s,o,a)}else return e}else{let u=new Rn(null);return n.foreach((f,h)=>{const g=oi(r,f);l.isCompleteForPath(g)&&(u=u.set(f,l.getNode().getChild(g)))}),w5(t,e,r,u,i,s,o,a)}}function pTe(t,e,r,n,i){const s=e.serverCache,a=UZ(e,s.getNode(),s.isFullyInitialized()||ur(r),s.isFiltered());return GZ(t,a,r,n,WZ,i)}function gTe(t,e,r,n,i,s){let a;if(pE(n,r)!=null)return e;{const o=new hP(n,e,i),l=e.eventCache.getNode();let u;if(ur(r)||or(r)===".priority"){let f;if(e.serverCache.isFullyInitialized())f=mE(n,H0(e));else{const h=e.serverCache.getNode();st(h instanceof qt,"serverChildren would be complete if leaf node"),f=dP(n,h)}f=f,u=t.filter.updateFullNode(l,f,s)}else{const f=or(r);let h=fP(n,f,e.serverCache);h==null&&e.serverCache.isCompleteForChild(f)&&(h=l.getImmediateChild(f)),h!=null?u=t.filter.updateChild(l,f,h,kn(r),o,s):e.eventCache.getNode().hasChild(f)?u=t.filter.updateChild(l,f,qt.EMPTY_NODE,kn(r),o,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=mE(n,H0(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,s)))}return a=e.serverCache.isFullyInitialized()||pE(n,$r())!=null,f1(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vTe{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new sP(n.getIndex()),s=DEe(n);this.processor_=cTe(s);const a=r.serverCache,o=r.eventCache,l=i.updateFullNode(qt.EMPTY_NODE,a.getNode(),null),u=s.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),f=new $0(l,a.isFullyInitialized(),i.filtersNodes()),h=new $0(u,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=LS(h,f),this.eventGenerator_=new zEe(this.query_)}get query(){return this.query_}}function yTe(t){return t.viewCache_.serverCache.getNode()}function xTe(t,e){const r=H0(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!ur(e)&&!r.getImmediateChild(or(e)).isEmpty())?r.getChild(e):null}function tV(t){return t.eventRegistrations_.length===0}function bTe(t,e){t.eventRegistrations_.push(e)}function rV(t,e,r){const n=[];if(r){st(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(r,i);a&&n.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return n}function nV(t,e,r,n){e.type===sc.MERGE&&e.source.queryId!==null&&(st(H0(t.viewCache_),"We should always have a full cache before handling merges"),st(g5(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=dTe(t.processor_,i,e,r,n);return uTe(t.processor_,s.viewCache),st(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,KZ(t,s.changes,s.viewCache.eventCache.getNode(),null)}function wTe(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(ci,(s,a)=>{n.push(Ig(s,a))}),r.isFullyInitialized()&&n.push(BZ(r.getNode())),KZ(t,n,r.getNode(),e)}function KZ(t,e,r,n){const i=n?[n]:t.eventRegistrations_;return $Ee(t.eventGenerator_,e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vE;class _Te{constructor(){this.views=new Map}}function ETe(t){st(!vE,"__referenceConstructor has already been defined"),vE=t}function TTe(){return st(vE,"Reference.ts has not been loaded"),vE}function STe(t){return t.views.size===0}function mP(t,e,r,n){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return st(s!=null,"SyncTree gave us an op for an invalid query."),nV(s,e,r,n)}else{let s=[];for(const a of t.views.values())s=s.concat(nV(a,e,r,n));return s}}function ATe(t,e,r,n,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=mE(r,i?n:null),l=!1;o?l=!0:n instanceof qt?(o=dP(r,n),l=!1):(o=qt.EMPTY_NODE,l=!1);const u=LS(new $0(o,l,!1),new $0(n,i,!1));return new vTe(e,u)}return a}function kTe(t,e,r,n,i,s){const a=ATe(t,e,n,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),bTe(a,r),wTe(a,r)}function CTe(t,e,r,n){const i=e._queryIdentifier,s=[];let a=[];const o=Zf(t);if(i==="default")for(const[l,u]of t.views.entries())a=a.concat(rV(u,r,n)),tV(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(a=a.concat(rV(l,r,n)),tV(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!Zf(t)&&s.push(new(TTe())(e._repo,e._path)),{removed:s,events:a}}function YZ(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function Zp(t,e){let r=null;for(const n of t.views.values())r=r||xTe(n,e);return r}function XZ(t,e){if(e._queryParams.loadsAllData())return FS(t);{const n=e._queryIdentifier;return t.views.get(n)}}function QZ(t,e){return XZ(t,e)!=null}function Zf(t){return FS(t)!=null}function FS(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yE;function NTe(t){st(!yE,"__referenceConstructor has already been defined"),yE=t}function ITe(){return st(yE,"Reference.ts has not been loaded"),yE}let OTe=1;class iV{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Rn(null),this.pendingWriteTree_=sTe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function JZ(t,e,r,n,i){return GEe(t.pendingWriteTree_,e,r,n,i),i?hv(t,new z0(oP(),e,r)):[]}function RTe(t,e,r,n){KEe(t.pendingWriteTree_,e,r,n);const i=Rn.fromObject(r);return hv(t,new Og(oP(),e,i))}function Sf(t,e,r=!1){const n=YEe(t.pendingWriteTree_,e);if(XEe(t.pendingWriteTree_,e)){let s=new Rn(null);return n.snap!=null?s=s.set($r(),!0):Ms(n.children,a=>{s=s.set(new un(a),!0)}),hv(t,new hE(n.path,s,r))}else return[]}function BS(t,e,r){return hv(t,new z0(lP(),e,r))}function PTe(t,e,r){const n=Rn.fromObject(r);return hv(t,new Og(lP(),e,n))}function jTe(t,e){return hv(t,new Y1(lP(),e))}function DTe(t,e,r){const n=gP(t,r);if(n){const i=vP(n),s=i.path,a=i.queryId,o=ao(s,e),l=new Y1(cP(a),o);return yP(t,s,l)}else return[]}function _5(t,e,r,n,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||QZ(a,e))){const l=CTe(a,e,r,n);STe(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(o=l.events,!i){const f=u.findIndex(g=>g._queryParams.loadsAllData())!==-1,h=t.syncPointTree_.findOnPath(s,(g,v)=>Zf(v));if(f&&!h){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=FTe(g);for(let x=0;x<v.length;++x){const b=v[x],w=b.query,E=tee(t,b);t.listenProvider_.startListening(m1(w),xE(t,w),E.hashFn,E.onComplete)}}}!h&&u.length>0&&!n&&(f?t.listenProvider_.stopListening(m1(e),null):u.forEach(g=>{const v=t.queryToTagMap.get(US(g));t.listenProvider_.stopListening(m1(g),v)}))}BTe(t,u)}return o}function MTe(t,e,r,n){const i=gP(t,n);if(i!=null){const s=vP(i),a=s.path,o=s.queryId,l=ao(a,e),u=new z0(cP(o),l,r);return yP(t,a,u)}else return[]}function LTe(t,e,r,n){const i=gP(t,n);if(i){const s=vP(i),a=s.path,o=s.queryId,l=ao(a,e),u=Rn.fromObject(r),f=new Og(cP(o),l,u);return yP(t,a,f)}else return[]}function sV(t,e,r,n=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const x=ao(g,i);s=s||Zp(v,x),a=a||Zf(v)});let o=t.syncPointTree_.get(i);o?(a=a||Zf(o),s=s||Zp(o,$r())):(o=new _Te,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=qt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,x)=>{const b=Zp(x,$r());b&&(s=s.updateImmediateChild(v,b))}));const u=QZ(o,e);if(!u&&!e._queryParams.loadsAllData()){const g=US(e);st(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=UTe();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const f=uP(t.pendingWriteTree_,i);let h=kTe(o,e,r,f,s,l);if(!u&&!a&&!n){const g=XZ(o,e);h=h.concat(VTe(t,e,g))}return h}function pP(t,e,r){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=ao(a,e),u=Zp(o,l);if(u)return u});return $Z(i,e,s,r,!0)}function hv(t,e){return ZZ(e,t.syncPointTree_,null,uP(t.pendingWriteTree_,$r()))}function ZZ(t,e,r,n){if(ur(t.path))return eee(t,e,r,n);{const i=e.get($r());r==null&&i!=null&&(r=Zp(i,$r()));let s=[];const a=or(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=r?r.getImmediateChild(a):null,f=HZ(n,a);s=s.concat(ZZ(o,l,u,f))}return i&&(s=s.concat(mP(i,t,n,r))),s}}function eee(t,e,r,n){const i=e.get($r());r==null&&i!=null&&(r=Zp(i,$r()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=r?r.getImmediateChild(a):null,u=HZ(n,a),f=t.operationForChild(a);f&&(s=s.concat(eee(f,o,l,u)))}),i&&(s=s.concat(mP(i,t,n,r))),s}function tee(t,e){const r=e.query,n=xE(t,r);return{hashFn:()=>(yTe(e)||qt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?DTe(t,r._path,n):jTe(t,r._path);{const s=P2e(i,r);return _5(t,r,null,s)}}}}function xE(t,e){const r=US(e);return t.queryToTagMap.get(r)}function US(t){return t._path.toString()+"$"+t._queryIdentifier}function gP(t,e){return t.tagToQueryMap.get(e)}function vP(t){const e=t.indexOf("$");return st(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new un(t.substr(0,e))}}function yP(t,e,r){const n=t.syncPointTree_.get(e);st(n,"Missing sync point for query tag that we're tracking");const i=uP(t.pendingWriteTree_,e);return mP(n,r,i,null)}function FTe(t){return t.fold((e,r,n)=>{if(r&&Zf(r))return[FS(r)];{let i=[];return r&&(i=YZ(r)),Ms(n,(s,a)=>{i=i.concat(a)}),i}})}function m1(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(ITe())(t._repo,t._path):t}function BTe(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const i=US(n),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function UTe(){return OTe++}function VTe(t,e,r){const n=e._path,i=xE(t,e),s=tee(t,r),a=t.listenProvider_.startListening(m1(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(n);if(i)st(!Zf(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,f,h)=>{if(!ur(u)&&f&&Zf(f))return[FS(f).query];{let g=[];return f&&(g=g.concat(YZ(f).map(v=>v.query))),Ms(h,(v,x)=>{g=g.concat(x)}),g}});for(let u=0;u<l.length;++u){const f=l[u];t.listenProvider_.stopListening(m1(f),xE(t,f))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xP{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new xP(r)}node(){return this.node_}}class bP{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=oi(this.path_,e);return new bP(this.syncTree_,r)}node(){return pP(this.syncTree_,this.path_)}}const zTe=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},aV=function(t,e,r){if(!t||typeof t!="object")return t;if(st(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return $Te(t[".sv"],e,r);if(typeof t[".sv"]=="object")return HTe(t[".sv"],e);st(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},$Te=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:st(!1,"Unexpected server value: "+t)}},HTe=function(t,e,r){t.hasOwnProperty("increment")||st(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&st(!1,"Unexpected increment value: "+n);const i=e.node();if(st(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const a=i.getValue();return typeof a!="number"?n:a+n},ree=function(t,e,r,n){return wP(e,new bP(r,t),n)},nee=function(t,e,r){return wP(t,new xP(e),r)};function wP(t,e,r){const n=t.getPriority().val(),i=aV(n,e.getImmediateChild(".priority"),r);let s;if(t.isLeafNode()){const a=t,o=aV(a.getValue(),e,r);return o!==a.getValue()||i!==a.getPriority().val()?new Ts(o,ji(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ts(i))),a.forEachChild(ci,(o,l)=>{const u=wP(l,e.getImmediateChild(o),r);u!==l&&(s=s.updateImmediateChild(o,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _P{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function EP(t,e){let r=e instanceof un?e:new un(e),n=t,i=or(r);for(;i!==null;){const s=vg(n.node.children,i)||{children:{},childCount:0};n=new _P(i,n,s),r=kn(r),i=or(r)}return n}function mv(t){return t.node.value}function iee(t,e){t.node.value=e,E5(t)}function see(t){return t.node.childCount>0}function qTe(t){return mv(t)===void 0&&!see(t)}function VS(t,e){Ms(t.node.children,(r,n)=>{e(new _P(r,t,n))})}function aee(t,e,r,n){r&&e(t),VS(t,i=>{aee(i,e,!0)})}function WTe(t,e,r){let n=t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function nb(t){return new un(t.parent===null?t.name:nb(t.parent)+"/"+t.name)}function E5(t){t.parent!==null&&GTe(t.parent,t.name,t)}function GTe(t,e,r){const n=qTe(r),i=fu(t.node.children,e);n&&i?(delete t.node.children[e],t.node.childCount--,E5(t)):!n&&!i&&(t.node.children[e]=r.node,t.node.childCount++,E5(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KTe=/[\[\].#$\/\u0000-\u001F\u007F]/,YTe=/[\[\].#$\u0000-\u001F\u007F]/,qC=10*1024*1024,TP=function(t){return typeof t=="string"&&t.length!==0&&!KTe.test(t)},oee=function(t){return typeof t=="string"&&t.length!==0&&!YTe.test(t)},XTe=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),oee(t)},lee=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!DS(t)||t&&typeof t=="object"&&fu(t,".sv")},T5=function(t,e,r,n){zS(yg(t,"value"),e,r)},zS=function(t,e,r){const n=r instanceof un?new hEe(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+t0(n));if(typeof e=="function")throw new Error(t+"contains a function "+t0(n)+" with contents = "+e.toString());if(DS(e))throw new Error(t+"contains "+e.toString()+" "+t0(n));if(typeof e=="string"&&e.length>qC/3&&nS(e)>qC)throw new Error(t+"contains a string greater than "+qC+" utf8 bytes "+t0(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Ms(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!TP(a)))throw new Error(t+" contains an invalid key ("+a+") "+t0(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);mEe(n,a),zS(t,o,n),pEe(n)}),i&&s)throw new Error(t+' contains ".value" child '+t0(n)+" in addition to actual children.")}},QTe=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const s=q1(n);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!TP(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(fEe);let i=null;for(r=0;r<e.length;r++){if(n=e[r],i!==null&&_l(i,n))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},cee=function(t,e,r,n){const i=yg(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Ms(e,(a,o)=>{const l=new un(a);if(zS(i,o,oi(r,l)),tP(l)===".priority"&&!lee(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),QTe(i,s)},JTe=function(t,e,r){if(DS(e))throw new Error(yg(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!lee(e))throw new Error(yg(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},uee=function(t,e,r,n){if(!oee(r))throw new Error(yg(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},ZTe=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),uee(t,e,r)},Up=function(t,e){if(or(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},eSe=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!TP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!XTe(r))throw new Error(yg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tSe{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function $S(t,e){let r=null;for(let n=0;n<e.length;n++){const i=e[n],s=i.getPath();r!==null&&!rP(s,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:s}),r.events.push(i)}r&&t.eventLists_.push(r)}function dee(t,e,r){$S(t,r),fee(t,n=>rP(n,e))}function xc(t,e,r){$S(t,r),fee(t,n=>_l(n,e)||_l(e,n))}function fee(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const i=t.eventLists_[n];if(i){const s=i.path;e(s)?(rSe(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function rSe(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();u1&&Ns("event: "+r.toString()),dv(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nSe="repo_interrupt",iSe=25;class sSe{constructor(e,r,n,i){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tSe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=fE(),this.transactionQueueTree_=new _P,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aSe(t,e,r){if(t.stats_=ZR(t.repoInfo_),t.forceRestClient_||L2e())t.server_=new dE(t.repoInfo_,(n,i,s,a)=>{oV(t,n,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>lV(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Is(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new ed(t.repoInfo_,e,(n,i,s,a)=>{oV(t,n,i,s,a)},n=>{lV(t,n)},n=>{lSe(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=z2e(t.repoInfo_,()=>new VEe(t.stats_,t.server_)),t.infoData_=new MEe,t.infoSyncTree_=new iV({startListening:(n,i,s,a)=>{let o=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(o=BS(t.infoSyncTree_,n._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),SP(t,"connected",!1),t.serverSyncTree_=new iV({startListening:(n,i,s,a)=>(t.server_.listen(n,s,i,(o,l)=>{const u=a(o,l);xc(t.eventQueue_,n._path,u)}),[]),stopListening:(n,i)=>{t.server_.unlisten(n,i)}})}function oSe(t){const r=t.infoData_.getNode(new un(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function HS(t){return zTe({timestamp:oSe(t)})}function oV(t,e,r,n,i){t.dataUpdateCount++;const s=new un(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let a=[];if(i)if(n){const l=U2(r,u=>ji(u));a=LTe(t.serverSyncTree_,s,l,i)}else{const l=ji(r);a=MTe(t.serverSyncTree_,s,l,i)}else if(n){const l=U2(r,u=>ji(u));a=PTe(t.serverSyncTree_,s,l)}else{const l=ji(r);a=BS(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=Pg(t,s)),xc(t.eventQueue_,o,a)}function lV(t,e){SP(t,"connected",e),e===!1&&dSe(t)}function lSe(t,e){Ms(e,(r,n)=>{SP(t,r,n)})}function SP(t,e,r){const n=new un("/.info/"+e),i=ji(r);t.infoData_.updateSnapshot(n,i);const s=BS(t.infoSyncTree_,n,i);xc(t.eventQueue_,n,s)}function AP(t){return t.nextWriteId_++}function cSe(t,e,r,n,i){qS(t,"set",{path:e.toString(),value:r,priority:n});const s=HS(t),a=ji(r,n),o=pP(t.serverSyncTree_,e),l=nee(a,o,s),u=AP(t),f=JZ(t.serverSyncTree_,e,l,u,!0);$S(t.eventQueue_,f),t.server_.put(e.toString(),a.val(!0),(g,v)=>{const x=g==="ok";x||Va("set at "+e+" failed: "+g);const b=Sf(t.serverSyncTree_,u,!x);xc(t.eventQueue_,e,b),eh(t,i,g,v)});const h=CP(t,e);Pg(t,h),xc(t.eventQueue_,h,[])}function uSe(t,e,r,n){qS(t,"update",{path:e.toString(),value:r});let i=!0;const s=HS(t),a={};if(Ms(r,(o,l)=>{i=!1,a[o]=ree(oi(e,o),ji(l),t.serverSyncTree_,s)}),i)Ns("update() called with empty data.  Don't do anything."),eh(t,n,"ok",void 0);else{const o=AP(t),l=RTe(t.serverSyncTree_,e,a,o);$S(t.eventQueue_,l),t.server_.merge(e.toString(),r,(u,f)=>{const h=u==="ok";h||Va("update at "+e+" failed: "+u);const g=Sf(t.serverSyncTree_,o,!h),v=g.length>0?Pg(t,e):e;xc(t.eventQueue_,v,g),eh(t,n,u,f)}),Ms(r,u=>{const f=CP(t,oi(e,u));Pg(t,f)}),xc(t.eventQueue_,e,[])}}function dSe(t){qS(t,"onDisconnectEvents");const e=HS(t),r=fE();p5(t.onDisconnect_,$r(),(i,s)=>{const a=ree(i,s,t.serverSyncTree_,e);fv(r,i,a)});let n=[];p5(r,$r(),(i,s)=>{n=n.concat(BS(t.serverSyncTree_,i,s));const a=CP(t,i);Pg(t,a)}),t.onDisconnect_=fE(),xc(t.eventQueue_,$r(),n)}function fSe(t,e,r){t.server_.onDisconnectCancel(e.toString(),(n,i)=>{n==="ok"&&m5(t.onDisconnect_,e),eh(t,r,n,i)})}function cV(t,e,r,n){const i=ji(r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&fv(t.onDisconnect_,e,i),eh(t,n,s,a)})}function hSe(t,e,r,n,i){const s=ji(r,n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&fv(t.onDisconnect_,e,s),eh(t,i,a,o)})}function mSe(t,e,r,n){if(B2(r)){Ns("onDisconnect().update() called with empty data.  Don't do anything."),eh(t,n,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),r,(i,s)=>{i==="ok"&&Ms(r,(a,o)=>{const l=ji(o);fv(t.onDisconnect_,oi(e,a),l)}),eh(t,n,i,s)})}function pSe(t,e,r){let n;or(e._path)===".info"?n=sV(t.infoSyncTree_,e,r):n=sV(t.serverSyncTree_,e,r),dee(t.eventQueue_,e._path,n)}function gSe(t,e,r){let n;or(e._path)===".info"?n=_5(t.infoSyncTree_,e,r):n=_5(t.serverSyncTree_,e,r),dee(t.eventQueue_,e._path,n)}function vSe(t){t.persistentConnection_&&t.persistentConnection_.interrupt(nSe)}function qS(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Ns(r,...e)}function eh(t,e,r,n){e&&dv(()=>{if(r==="ok")e(null);else{const i=(r||"error").toUpperCase();let s=i;n&&(s+=": "+n);const a=new Error(s);a.code=i,e(a)}})}function hee(t,e,r){return pP(t.serverSyncTree_,e,r)||qt.EMPTY_NODE}function kP(t,e=t.transactionQueueTree_){if(e||WS(t,e),mv(e)){const r=pee(t,e);st(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&ySe(t,nb(e),r)}else see(e)&&VS(e,r=>{kP(t,r)})}function ySe(t,e,r){const n=r.map(u=>u.currentWriteId),i=hee(t,e,n);let s=i;const a=i.hash();for(let u=0;u<r.length;u++){const f=r[u];st(f.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),f.status=1,f.retryCount++;const h=ao(e,f.path);s=s.updateChild(h,f.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,u=>{qS(t,"transaction put response",{path:l.toString(),status:u});let f=[];if(u==="ok"){const h=[];for(let g=0;g<r.length;g++)r[g].status=2,f=f.concat(Sf(t.serverSyncTree_,r[g].currentWriteId)),r[g].onComplete&&h.push(()=>r[g].onComplete(null,!0,r[g].currentOutputSnapshotResolved)),r[g].unwatcher();WS(t,EP(t.transactionQueueTree_,e)),kP(t,t.transactionQueueTree_),xc(t.eventQueue_,e,f);for(let g=0;g<h.length;g++)dv(h[g])}else{if(u==="datastale")for(let h=0;h<r.length;h++)r[h].status===3?r[h].status=4:r[h].status=0;else{Va("transaction at "+l.toString()+" failed: "+u);for(let h=0;h<r.length;h++)r[h].status=4,r[h].abortReason=u}Pg(t,e)}},a)}function Pg(t,e){const r=mee(t,e),n=nb(r),i=pee(t,r);return xSe(t,i,n),n}function xSe(t,e,r){if(e.length===0)return;const n=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=ao(r,l.path);let f=!1,h;if(st(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)f=!0,h=l.abortReason,i=i.concat(Sf(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=iSe)f=!0,h="maxretry",i=i.concat(Sf(t.serverSyncTree_,l.currentWriteId,!0));else{const g=hee(t,l.path,a);l.currentInputSnapshot=g;const v=e[o].update(g.val());if(v!==void 0){zS("transaction failed: Data returned ",v,l.path);let x=ji(v);typeof v=="object"&&v!=null&&fu(v,".priority")||(x=x.updatePriority(g.getPriority()));const w=l.currentWriteId,E=HS(t),A=nee(x,g,E);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=A,l.currentWriteId=AP(t),a.splice(a.indexOf(w),1),i=i.concat(JZ(t.serverSyncTree_,l.path,A,l.currentWriteId,l.applyLocally)),i=i.concat(Sf(t.serverSyncTree_,w,!0))}else f=!0,h="nodata",i=i.concat(Sf(t.serverSyncTree_,l.currentWriteId,!0))}xc(t.eventQueue_,r,i),i=[],f&&(e[o].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(h==="nodata"?n.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):n.push(()=>e[o].onComplete(new Error(h),!1,null))))}WS(t,t.transactionQueueTree_);for(let o=0;o<n.length;o++)dv(n[o]);kP(t,t.transactionQueueTree_)}function mee(t,e){let r,n=t.transactionQueueTree_;for(r=or(e);r!==null&&mv(n)===void 0;)n=EP(n,r),e=kn(e),r=or(e);return n}function pee(t,e){const r=[];return gee(t,e,r),r.sort((n,i)=>n.order-i.order),r}function gee(t,e,r){const n=mv(e);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);VS(e,i=>{gee(t,i,r)})}function WS(t,e){const r=mv(e);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,iee(e,r.length>0?r:void 0)}VS(e,n=>{WS(t,n)})}function CP(t,e){const r=nb(mee(t,e)),n=EP(t.transactionQueueTree_,e);return WTe(n,i=>{WC(t,i)}),WC(t,n),aee(n,i=>{WC(t,i)}),r}function WC(t,e){const r=mv(e);if(r){const n=[];let i=[],s=-1;for(let a=0;a<r.length;a++)r[a].status===3||(r[a].status===1?(st(s===a-1,"All SENT items should be at beginning of queue."),s=a,r[a].status=3,r[a].abortReason="set"):(st(r[a].status===0,"Unexpected transaction status in abort"),r[a].unwatcher(),i=i.concat(Sf(t.serverSyncTree_,r[a].currentWriteId,!0)),r[a].onComplete&&n.push(r[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?iee(e,void 0):r.length=s+1,xc(t.eventQueue_,nb(e),i);for(let a=0;a<n.length;a++)dv(n[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bSe(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function wSe(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Va(`Invalid query segment '${r}' in query '${t}'`)}return e}const uV=function(t,e){const r=_Se(t),n=r.namespace;r.domain==="firebase.com"&&md(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&md("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||C2e();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new EZ(r.host,r.secure,n,i,e,"",n!==r.subdomain),path:new un(r.pathString)}},_Se=function(t){let e="",r="",n="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let f=t.indexOf("/");f===-1&&(f=t.length);let h=t.indexOf("?");h===-1&&(h=t.length),e=t.substring(0,Math.min(f,h)),f<h&&(i=bSe(t.substring(f,h)));const g=wSe(t.substring(Math.min(t.length,h)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const v=e.slice(0,u);if(v.toLowerCase()==="localhost")r="localhost";else if(v.split(".").length<=2)r=v;else{const x=e.indexOf(".");n=e.substring(0,x).toLowerCase(),r=e.substring(x+1),s=n}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ESe{constructor(e,r,n,i){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Is(this.snapshot.exportVal())}}class TSe{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SSe{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return st(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe{constructor(e,r){this._repo=e,this._path=r}cancel(){const e=new Wc;return fSe(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Up("OnDisconnect.remove",this._path);const e=new Wc;return cV(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Up("OnDisconnect.set",this._path),T5("OnDisconnect.set",e,this._path);const r=new Wc;return cV(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}setWithPriority(e,r){Up("OnDisconnect.setWithPriority",this._path),T5("OnDisconnect.setWithPriority",e,this._path),JTe("OnDisconnect.setWithPriority",r);const n=new Wc;return hSe(this._repo,this._path,e,r,n.wrapCallback(()=>{})),n.promise}update(e){Up("OnDisconnect.update",this._path),cee("OnDisconnect.update",e,this._path);const r=new Wc;return mSe(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e,r,n,i){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return ur(this._path)?null:tP(this._path)}get ref(){return new ph(this._repo,this._path)}get _queryIdentifier(){const e=KU(this._queryParams),r=QR(e);return r==="{}"?"default":r}get _queryObject(){return KU(this._queryParams)}isEqual(e){if(e=jr(e),!(e instanceof NP))return!1;const r=this._repo===e._repo,n=rP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+dEe(this._path)}}class ph extends NP{constructor(e,r){super(e,r,new aP,!1)}get parent(){const e=RZ(this._path);return e===null?null:new ph(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class bE{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new un(e),n=S5(this.ref,e);return new bE(this._node.getChild(r),n,ci)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>e(new bE(i,S5(this.ref,n),ci)))}hasChild(e){const r=new un(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function lo(t,e){return t=jr(t),t._checkNotDeleted("ref"),e!==void 0?S5(t._root,e):t._root}function S5(t,e){return t=jr(t),or(t._path)===null?ZTe("child","path",e):uee("child","path",e),new ph(t._repo,oi(t._path,e))}function vee(t){return t=jr(t),new ASe(t._repo,t._path)}function A5(t){return Up("remove",t._path),GS(t,null)}function GS(t,e){t=jr(t),Up("set",t._path),T5("set",e,t._path);const r=new Wc;return cSe(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function k5(t,e){cee("update",e,t._path);const r=new Wc;return uSe(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}class IP{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new ESe("value",this,new bE(e.snapshotNode,new ph(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new TSe(this,e,r):null}matches(e){return e instanceof IP?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function kSe(t,e,r,n,i){const s=new SSe(r,void 0),a=new IP(s);return pSe(t._repo,t,a),()=>gSe(t._repo,t,a)}function X1(t,e,r,n){return kSe(t,"value",e)}ETe(ph);NTe(ph);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CSe="FIREBASE_DATABASE_EMULATOR_HOST",C5={};let NSe=!1;function ISe(t,e,r,n){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=_d(s);t.repoInfo_=new EZ(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(t.authTokenProvider_=n)}function OSe(t,e,r,n,i){let s=n||t.options.databaseURL;s===void 0&&(t.options.projectId||md("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ns("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=uV(s,i),o=a.repoInfo,l;typeof process<"u"&&IU&&(l=IU[CSe]),l?(s=`http://${l}?ns=${o.namespace}`,a=uV(s,i),o=a.repoInfo):a.repoInfo.secure;const u=new B2e(t.name,t.options,e);eSe("Invalid Firebase Database URL",a),ur(a.path)||md("Database URL must point to the root of a Firebase Database (not including a child path).");const f=PSe(o,t,u,new F2e(t,r));return new jSe(f,t)}function RSe(t,e){const r=C5[e];(!r||r[t.key]!==t)&&md(`Database ${e}(${t.repoInfo_}) has already been deleted.`),vSe(t),delete r[t.key]}function PSe(t,e,r,n){let i=C5[e.name];i||(i={},C5[e.name]=i);let s=i[t.toURLString()];return s&&md("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new sSe(t,NSe,r,n),i[t.toURLString()]=s,s}class jSe{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(aSe(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ph(this._repo,$r())),this._rootInternal}_delete(){return this._rootInternal!==null&&(RSe(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&md("Cannot call "+e+" on a deleted database.")}}function DSe(t=lm(),e){const r=zx(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=X6("database");n&&MSe(r,...n)}return r}function MSe(t,e,r,n={}){t=jr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${r}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&iu(n,s.repoInfo_.emulatorOptions))return;md("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)n.mockUserToken&&md('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new E2(E2.OWNER);else if(n.mockUserToken){const o=typeof n.mockUserToken=="string"?n.mockUserToken:Q6(n.mockUserToken,t.app.options.projectId);a=new E2(o)}_d(e)&&(tS(e),rS("Database",!0)),ISe(s,i,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LSe(t){_2e(uh),Hf(new cd("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return OSe(n,i,s,r)},"PUBLIC").setMultipleInstances(!0)),kl(OU,RU,t),kl(OU,RU,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FSe={".sv":"timestamp"};function m0(){return FSe}ed.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};ed.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};LSe();const KS={apiKey:"AIzaSyDll7h-FpzCVml2vy8KeMPA6xExGUda_NE",authDomain:"thi-tnd.firebaseapp.com",projectId:"thi-tnd",storageBucket:"thi-tnd.firebasestorage.app",messagingSenderId:"107125875663",appId:"1:107125875663:web:0e1a632779f51340c828ba",databaseURL:"https://thi-tnd-default-rtdb.asia-southeast1.firebasedatabase.app"},ib=vye().length?lm():sS(KS),Js=XR(ib),Ye=oJ(ib),ra=DSe(ib);y2e(ib);const yee=Object.freeze(Object.defineProperty({__proto__:null,app:ib,auth:Js,db:Ye,firebaseConfig:KS,rtdb:ra},Symbol.toStringTag,{value:"Module"})),xee=async(t,e,r,n,i,s,a,o,l,u)=>{try{const f={title:t,message:e,type:r,targetType:n==="role"?"all":n,_originalTargetType:n,targetId:i,targetName:l||null,targetRoles:u||[],senderId:s,senderName:a||"H thng",createdAt:Ua(),expiryDate:o?wn.fromDate(o):null,read:!1,readBy:[],deletedBy:[]};if(n==="user"&&i)await Qf(Wt(Ye,"users",i,"notifications"),f);else if(n==="class"&&i){let h=new Map;const g=pr(Wt(Ye,"courses"),Ar("name","==",i)),v=await _n(g);let x=null,b=i;if(!v.empty)x=v.docs[0].id;else{const A=Ft(Ye,"courses",i),k=await _n(pr(Wt(Ye,"courses"),Ar(ES(),"==",i)));k.empty||(x=i,b=k.docs[0].data().name)}const w=[];if(b&&w.push(_n(pr(Wt(Ye,"users"),Ar("courseName","==",b)))),x&&w.push(_n(pr(Wt(Ye,"users"),Ar("courseId","==",x)))),(await Promise.all(w)).forEach(A=>{A.docs.forEach(k=>h.set(k.id,k.id))}),h.size>0){const A=BR(Ye);h.forEach(k=>{const R=Ft(Wt(Ye,"users",k,"notifications"));A.set(R,f)}),await A.commit()}}await Qf(Wt(Ye,"notifications"),f)}catch(f){throw console.error("Error sending notification:",f),f}},BSe=async(t,e,r)=>{try{const n=[],i=pr(Wt(Ye,"notifications"),Ar("targetType","==","all"),wl(20)),s=pr(Wt(Ye,"users",t,"notifications"),uo("createdAt","desc"),wl(20));try{(await _n(i)).docs.forEach(l=>{var h;const u=l.data();if(u.targetRoles&&Array.isArray(u.targetRoles)&&u.targetRoles.length>0&&(!r||!u.targetRoles.includes(r)))return;const f=((h=u.readBy)==null?void 0:h.includes(t))||!1;n.push({id:l.id,...u,read:f})})}catch(o){console.warn("Error fetching global:",o)}try{(await _n(s)).docs.forEach(l=>{n.push({id:l.id,...l.data()})})}catch(o){console.error("Error fetching personal:",o)}return n.sort((o,l)=>{var h,g;const u=((h=o.createdAt)==null?void 0:h.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u}).filter(o=>{var l;return!((l=o.deletedBy)!=null&&l.includes(t))})}catch(n){return console.error("Error fetching notifications:",n),[]}},dV=async(t,e)=>{try{const r=Ft(Ye,"notifications",t),{arrayUnion:n}=await Fn(async()=>{const{arrayUnion:s}=await Promise.resolve().then(()=>$u);return{arrayUnion:s}},void 0);try{await si(r,{deletedBy:n(e)});return}catch{}const i=Ft(Ye,"users",e,"notifications",t);await si(i,{deletedBy:n(e)})}catch{}},bee=async(t,e)=>{try{const r=wn.now(),n=[],i=pr(Wt(Ye,"notifications"),Ar("targetType","==","all"),wl(20));if((await _n(i)).forEach(o=>{const l=o.data();l.targetRoles&&Array.isArray(l.targetRoles)&&l.targetRoles.length>0&&(!e||!l.targetRoles.includes(e))||(l.type==="special"||l.type==="attention")&&(!l.expiryDate||l.expiryDate.seconds&&l.expiryDate.seconds>r.seconds)&&n.push({id:o.id,...l})}),t){const o=pr(Wt(Ye,"users",t,"notifications"),uo("createdAt","desc"),wl(20));(await _n(o)).forEach(u=>{const f=u.data();(f.type==="special"||f.type==="attention")&&(!f.expiryDate||f.expiryDate.seconds&&f.expiryDate.seconds>r.seconds)&&n.push({id:u.id,...f})})}return Array.from(new Map(n.map(o=>[o.id,o])).values()).sort((o,l)=>{var h,g;const u=((h=o.createdAt)==null?void 0:h.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u})}catch(r){return console.error("Error fetching marquee:",r),[]}},USe=async(t,e)=>{try{const r=Ft(Ye,"users",e,"notifications",t);try{await si(r,{read:!0});return}catch{}const n=Ft(Ye,"notifications",t),{arrayUnion:i}=await Fn(async()=>{const{arrayUnion:s}=await Promise.resolve().then(()=>$u);return{arrayUnion:s}},void 0);await si(n,{readBy:i(e)})}catch(r){console.error("Error marking read:",r)}},VSe=async()=>{try{const t=pr(Wt(Ye,"notifications"),uo("createdAt","desc"));return(await _n(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching all notifications:",t),[]}},zSe=async t=>{try{return await OS(Ft(Ye,"notifications",t)),!0}catch(e){return console.error("Error deleting notification:",e),!1}},$Se=async(t,e)=>{try{const r=Ft(Ye,"notifications",t);return await si(r,{...e,updatedAt:Ua()}),!0}catch(r){return console.error("Error updating notification:",r),!1}};var wee={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},fV=ke.createContext&&ke.createContext(wee),HSe=["attr","size","title"];function qSe(t,e){if(t==null)return{};var r=WSe(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function WSe(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function wE(){return wE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wE.apply(this,arguments)}function hV(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _E(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hV(Object(r),!0).forEach(function(n){GSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hV(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GSe(t,e,r){return e=KSe(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KSe(t){var e=YSe(t,"string");return typeof e=="symbol"?e:e+""}function YSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _ee(t){return t&&t.map((e,r)=>ke.createElement(e.tag,_E({key:r},e.attr),_ee(e.child)))}function mt(t){return e=>ke.createElement(XSe,wE({attr:_E({},t.attr)},e),_ee(t.child))}function XSe(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=qSe(t,HSe),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),ke.createElement("svg",wE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:_E(_E({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&ke.createElement("title",null,s),t.children)};return fV!==void 0?ke.createElement(fV.Consumer,null,r=>e(r)):e(wee)}function eg(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function QSe(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function JSe(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function ZSe(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function e4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function t4e(t){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function r4e(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(t)}function n4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function i4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function N5(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function mV(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function q0(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Eee(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(t)}function s4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(t)}function a4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function o4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function l4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function c4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function u4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function d4e(t){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(t)}function Uu(t){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function pv(t){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function f4e(t){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function h4e(t){return mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Tee(t){return mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function GC(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function m4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.12 245.96c-13.25 0-24 10.74-24 24 1.14 72.25-8.14 141.9-27.7 211.55-2.73 9.72 2.15 30.49 23.12 30.49 10.48 0 20.11-6.92 23.09-17.52 13.53-47.91 31.04-125.41 29.48-224.52.01-13.25-10.73-24-23.99-24zm-.86-81.73C194 164.16 151.25 211.3 152.1 265.32c.75 47.94-3.75 95.91-13.37 142.55-2.69 12.98 5.67 25.69 18.64 28.36 13.05 2.67 25.67-5.66 28.36-18.64 10.34-50.09 15.17-101.58 14.37-153.02-.41-25.95 19.92-52.49 54.45-52.34 31.31.47 57.15 25.34 57.62 55.47.77 48.05-2.81 96.33-10.61 143.55-2.17 13.06 6.69 25.42 19.76 27.58 19.97 3.33 26.81-15.1 27.58-19.77 8.28-50.03 12.06-101.21 11.27-152.11-.88-55.8-47.94-101.88-104.91-102.72zm-110.69-19.78c-10.3-8.34-25.37-6.8-33.76 3.48-25.62 31.5-39.39 71.28-38.75 112 .59 37.58-2.47 75.27-9.11 112.05-2.34 13.05 6.31 25.53 19.36 27.89 20.11 3.5 27.07-14.81 27.89-19.36 7.19-39.84 10.5-80.66 9.86-121.33-.47-29.88 9.2-57.88 28-80.97 8.35-10.28 6.79-25.39-3.49-33.76zm109.47-62.33c-15.41-.41-30.87 1.44-45.78 4.97-12.89 3.06-20.87 15.98-17.83 28.89 3.06 12.89 16 20.83 28.89 17.83 11.05-2.61 22.47-3.77 34-3.69 75.43 1.13 137.73 61.5 138.88 134.58.59 37.88-1.28 76.11-5.58 113.63-1.5 13.17 7.95 25.08 21.11 26.58 16.72 1.95 25.51-11.88 26.58-21.11a929.06 929.06 0 0 0 5.89-119.85c-1.56-98.75-85.07-180.33-186.16-181.83zm252.07 121.45c-2.86-12.92-15.51-21.2-28.61-18.27-12.94 2.86-21.12 15.66-18.26 28.61 4.71 21.41 4.91 37.41 4.7 61.6-.11 13.27 10.55 24.09 23.8 24.2h.2c13.17 0 23.89-10.61 24-23.8.18-22.18.4-44.11-5.83-72.34zm-40.12-90.72C417.29 43.46 337.6 1.29 252.81.02 183.02-.82 118.47 24.91 70.46 72.94 24.09 119.37-.9 181.04.14 246.65l-.12 21.47c-.39 13.25 10.03 24.31 23.28 24.69.23.02.48.02.72.02 12.92 0 23.59-10.3 23.97-23.3l.16-23.64c-.83-52.5 19.16-101.86 56.28-139 38.76-38.8 91.34-59.67 147.68-58.86 69.45 1.03 134.73 35.56 174.62 92.39 7.61 10.86 22.56 13.45 33.42 5.86 10.84-7.62 13.46-22.59 5.84-33.43z"},child:[]}]})(t)}function p4e(t){return mt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm-11.34 240.23c-2.89 4.82-8.1 7.77-13.72 7.77h-.31c-4.24 0-8.31 1.69-11.31 4.69l-5.66 5.66c-3.12 3.12-3.12 8.19 0 11.31l5.66 5.66c3 3 4.69 7.07 4.69 11.31V304c0 8.84-7.16 16-16 16h-6.11c-6.06 0-11.6-3.42-14.31-8.85l-22.62-45.23c-2.44-4.88-8.95-5.94-12.81-2.08l-19.47 19.46c-3 3-7.07 4.69-11.31 4.69H50.81C49.12 277.55 48 266.92 48 256c0-110.28 89.72-200 200-200 21.51 0 42.2 3.51 61.63 9.82l-50.16 38.53c-5.11 3.41-4.63 11.06.86 13.81l10.83 5.41c5.42 2.71 8.84 8.25 8.84 14.31V216c0 4.42-3.58 8-8 8h-3.06c-3.03 0-5.8-1.71-7.15-4.42-1.56-3.12-5.96-3.29-7.76-.3l-17.37 28.95zM408 358.43c0 4.24-1.69 8.31-4.69 11.31l-9.57 9.57c-3 3-7.07 4.69-11.31 4.69h-15.16c-4.24 0-8.31-1.69-11.31-4.69l-13.01-13.01a26.767 26.767 0 0 0-25.42-7.04l-21.27 5.32c-1.27.32-2.57.48-3.88.48h-10.34c-4.24 0-8.31-1.69-11.31-4.69l-11.91-11.91a8.008 8.008 0 0 1-2.34-5.66v-10.2c0-3.27 1.99-6.21 5.03-7.43l39.34-15.74c1.98-.79 3.86-1.82 5.59-3.05l23.71-16.89a7.978 7.978 0 0 1 4.64-1.48h12.09c3.23 0 6.15 1.94 7.39 4.93l5.35 12.85a4 4 0 0 0 3.69 2.46h3.8c1.78 0 3.35-1.18 3.84-2.88l4.2-14.47c.5-1.71 2.06-2.88 3.84-2.88h6.06c2.21 0 4 1.79 4 4v12.93c0 2.12.84 4.16 2.34 5.66l11.91 11.91c3 3 4.69 7.07 4.69 11.31v24.6z"},child:[]}]})(t)}function pV(t){return mt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function EE(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function p1(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function g4e(t){return mt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function See(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function TE(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function Aee(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function gV(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function v4e(t){return mt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function y_(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function y4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function wf(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function OP(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function p0(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function I5(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function x4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function kee(t){return mt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(t)}function Cee(t){return mt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(t)}function Nee(t){return mt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function Iee(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function b4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function w4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Oee(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function Af(t){return mt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function _4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M501.1 395.7L384 278.6c-23.1-23.1-57.6-27.6-85.4-13.9L192 158.1V96L64 0 0 64l96 128h62.1l106.6 106.6c-13.6 27.8-9.2 62.3 13.9 85.4l117.1 117.1c14.6 14.6 38.2 14.6 52.7 0l52.7-52.7c14.5-14.6 14.5-38.2 0-52.7zM331.7 225c28.3 0 54.9 11 74.9 31l19.4 19.4c15.8-6.9 30.8-16.5 43.8-29.5 37.1-37.1 49.7-89.3 37.9-136.7-2.2-9-13.5-12.1-20.1-5.5l-74.4 74.4-67.9-11.3L334 98.9l74.4-74.4c6.6-6.6 3.4-17.9-5.7-20.2-47.4-11.7-99.6.9-136.6 37.9-28.5 28.5-41.9 66.1-41.2 103.6l82.1 82.1c8.1-1.9 16.5-2.9 24.7-2.9zm-103.9 82l-56.7-56.7L18.7 402.8c-25 25-25 65.5 0 90.5s65.5 25 90.5 0l123.6-123.6c-7.6-19.9-9.9-41.6-5-62.7zM64 472c-13.2 0-24-10.8-24-24 0-13.3 10.7-24 24-24s24 10.7 24 24c0 13.2-10.7 24-24 24z"},child:[]}]})(t)}function Gc(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function E4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function T4e(t){return mt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function S4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function A4e(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(t)}function k4e(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function Ree(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function Pee(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function C4e(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"},child:[]}]})(t)}function N4e(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function I4e(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L362.3 248.3C412.1 230.7 448 183.8 448 128 448 57.3 390.7 0 320 0c-67.1 0-121.5 51.8-126.9 117.4L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM96 422.4V464c0 26.5 21.5 48 48 48h350.2L207.4 290.3C144.2 301.3 96 356 96 422.4z"},child:[]}]})(t)}function tg(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}function SE(t){return mt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function Bf(t){return mt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}const O4e=()=>{const[t,e]=N.useState(null);N.useEffect(()=>{(async()=>{const s=await bee();if(s.length>0){const a=s.find(u=>u.type==="special"),o=s.find(u=>u.type==="attention"),l=a||o;l&&(sessionStorage.getItem(`seen_alert_${l.id}`)||e(l))}})()},[]);const r=()=>{t&&(sessionStorage.setItem(`seen_alert_${t.id}`,"true"),e(null))};if(!t)return null;const n=t.type==="special";return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-4",children:m.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all scale-100 animate-bounce-in border-t-8 ${n?"border-red-500":"border-orange-500"}`,children:m.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[m.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 ${n?"bg-red-100 text-red-500":"bg-orange-100 text-orange-500"}`,children:m.jsx(pv,{className:"text-4xl animate-pulse"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:n?"THNG BO C BIT":"CH "}),m.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:t.title}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:t.message}),m.jsx("button",{onClick:r,className:`px-8 py-3 rounded-xl font-bold text-white shadow-lg hover:shadow-xl hover:scale-105 transition-all ${n?"bg-gradient-to-r from-red-500 to-pink-600":"bg-gradient-to-r from-orange-400 to-yellow-500"}`,children:" Hiu"})]})})})};var O5=function(t,e){return O5=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},O5(t,e)};function jee(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");O5(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var AE=function(){return AE=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},AE.apply(this,arguments)};function gv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Dee(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Mee(t,e){return function(r,n){e(r,n,t)}}function Lee(t,e,r,n,i,s){function a(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,f=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),h,g=!1,v=r.length-1;v>=0;v--){var x={};for(var b in n)x[b]=b==="access"?{}:n[b];for(var b in n.access)x.access[b]=n.access[b];x.addInitializer=function(E){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(E||null))};var w=(0,r[v])(o==="accessor"?{get:f.get,set:f.set}:f[l],x);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(h=a(w.get))&&(f.get=h),(h=a(w.set))&&(f.set=h),(h=a(w.init))&&i.unshift(h)}else(h=a(w))&&(o==="field"?i.unshift(h):f[l]=h)}u&&Object.defineProperty(u,n.name,f),g=!0}function Fee(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Bee(t){return typeof t=="symbol"?t:"".concat(t)}function Uee(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Vee(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function yt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(f){try{u(n.next(f))}catch(h){a(h)}}function l(f){try{u(n.throw(f))}catch(h){a(h)}}function u(f){f.done?s(f.value):i(f.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function zee(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(f){return l([u,f])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(f){u=[6,f],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var YS=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function $ee(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&YS(e,t,r)}function kE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function RP(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function Hee(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(RP(arguments[e]));return t}function qee(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Wee(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function jg(t){return this instanceof jg?(this.v=t,this):new jg(t)}function Gee(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(x){return Promise.resolve(x).then(v,h)}}function o(v,x){n[v]&&(i[v]=function(b){return new Promise(function(w,E){s.push([v,b,w,E])>1||l(v,b)})},x&&(i[v]=x(i[v])))}function l(v,x){try{u(n[v](x))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof jg?Promise.resolve(v.value.v).then(f,h):g(s[0][2],v)}function f(v){l("next",v)}function h(v){l("throw",v)}function g(v,x){v(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Kee(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:jg(t[i](a)),done:!1}:s?s(a):a}:s}}function Yee(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof kE=="function"?kE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function Xee(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var R4e=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},R5=function(t){return R5=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},R5(t)};function Qee(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=R5(t),n=0;n<r.length;n++)r[n]!=="default"&&YS(e,t,r[n]);return R4e(e,t),e}function Jee(t){return t&&t.__esModule?t:{default:t}}function Zee(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function ete(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function tte(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function rte(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var P4e=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function nte(t){function e(s){t.error=t.hasError?new P4e(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function ite(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const j4e={__extends:jee,__assign:AE,__rest:gv,__decorate:Dee,__param:Mee,__esDecorate:Lee,__runInitializers:Fee,__propKey:Bee,__setFunctionName:Uee,__metadata:Vee,__awaiter:yt,__generator:zee,__createBinding:YS,__exportStar:$ee,__values:kE,__read:RP,__spread:Hee,__spreadArrays:qee,__spreadArray:Wee,__await:jg,__asyncGenerator:Gee,__asyncDelegator:Kee,__asyncValues:Yee,__makeTemplateObject:Xee,__importStar:Qee,__importDefault:Jee,__classPrivateFieldGet:Zee,__classPrivateFieldSet:ete,__classPrivateFieldIn:tte,__addDisposableResource:rte,__disposeResources:nte,__rewriteRelativeImportExtension:ite},D4e=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:rte,get __assign(){return AE},__asyncDelegator:Kee,__asyncGenerator:Gee,__asyncValues:Yee,__await:jg,__awaiter:yt,__classPrivateFieldGet:Zee,__classPrivateFieldIn:tte,__classPrivateFieldSet:ete,__createBinding:YS,__decorate:Dee,__disposeResources:nte,__esDecorate:Lee,__exportStar:$ee,__extends:jee,__generator:zee,__importDefault:Jee,__importStar:Qee,__makeTemplateObject:Xee,__metadata:Vee,__param:Mee,__propKey:Bee,__read:RP,__rest:gv,__rewriteRelativeImportExtension:ite,__runInitializers:Fee,__setFunctionName:Uee,__spread:Hee,__spreadArray:Wee,__spreadArrays:qee,__values:kE,default:j4e},Symbol.toStringTag,{value:"Module"})),M4e=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class PP extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class L4e extends PP{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class vV extends PP{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class yV extends PP{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var P5;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(P5||(P5={}));class F4e{constructor(e,{headers:r={},customFetch:n,region:i=P5.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=M4e(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return yt(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:f,timeout:h}=n;let g={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let b;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(g["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(g["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let w=f;h&&(a=new AbortController,s=setTimeout(()=>a.abort(),h),f?(w=a.signal,f.addEventListener("abort",()=>a.abort())):w=a.signal);const E=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:b,signal:w}).catch(j=>{throw new L4e(j)}),A=E.headers.get("x-relay-error");if(A&&A==="true")throw new vV(E);if(!E.ok)throw new yV(E);let k=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return k==="application/json"?R=yield E.json():k==="application/octet-stream"||k==="application/pdf"?R=yield E.blob():k==="text/event-stream"?R=E:k==="multipart/form-data"?R=yield E.formData():R=yield E.text(),{data:R,error:null,response:E}}catch(o){return{data:null,error:o,response:o instanceof yV||o instanceof vV?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var da={};const vv=mfe(D4e);var x_={},b_={},w_={},__={},E_={},T_={},xV;function ste(){if(xV)return T_;xV=1,Object.defineProperty(T_,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return T_.default=t,T_}var bV;function ate(){if(bV)return E_;bV=1,Object.defineProperty(E_,"__esModule",{value:!0});const e=vv.__importDefault(ste());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,f,h,g;let v=null,x=null,b=null,w=l.status,E=l.statusText;if(l.ok){if(this.method!=="HEAD"){const j=await l.text();j===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=j:x=JSON.parse(j))}const k=(f=this.headers.get("Prefer"))===null||f===void 0?void 0:f.match(/count=(exact|planned|estimated)/),R=(h=l.headers.get("content-range"))===null||h===void 0?void 0:h.split("/");k&&R&&R.length>1&&(b=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,w=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const k=await l.text();try{v=JSON.parse(k),Array.isArray(v)&&l.status===404&&(x=[],v=null,w=200,E="OK")}catch{l.status===404&&k===""?(w=204,E="No Content"):v={message:k}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,w=200,E="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:b,status:w,statusText:E}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,f,h,g,v,x;let b="";const w=l==null?void 0:l.cause;if(w){const E=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",A=(f=w==null?void 0:w.code)!==null&&f!==void 0?f:"";b=`${(h=l==null?void 0:l.name)!==null&&h!==void 0?h:"FetchError"}: ${l==null?void 0:l.message}`,b+=`

Caused by: ${(g=w==null?void 0:w.name)!==null&&g!==void 0?g:"Error"}: ${E}`,A&&(b+=` (${A})`),w!=null&&w.stack&&(b+=`
${w.stack}`)}else b=(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return E_.default=r,E_}var wV;function ote(){if(wV)return __;wV=1,Object.defineProperty(__,"__esModule",{value:!0});const e=vv.__importDefault(ate());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",f=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${f?`${f},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var f;const h=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(f=this.headers.get("Accept"))!==null&&f!==void 0?f:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${h};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return __.default=r,__}var _V;function jP(){if(_V)return w_;_V=1,Object.defineProperty(w_,"__esModule",{value:!0});const e=vv.__importDefault(ote()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const f=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${f}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return w_.default=n,w_}var EV;function lte(){if(EV)return b_;EV=1,Object.defineProperty(b_,"__esModule",{value:!0});const e=vv.__importDefault(jP());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let u=!1;const f=(i??"*").split("").map(h=>/\s/.test(h)&&!u?"":(h==='"'&&(u=!u),h)).join("");return this.url.searchParams.set("select",f),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((f,h)=>f.concat(Object.keys(h)),[]);if(u.length>0){const f=[...new Set(u)].map(h=>`"${h}"`);this.url.searchParams.set("columns",f.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var u;const f="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const h=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(h.length>0){const g=[...new Set(h)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:f,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return b_.default=r,b_}var TV;function B4e(){if(TV)return x_;TV=1,Object.defineProperty(x_,"__esModule",{value:!0});const t=vv,e=t.__importDefault(lte()),r=t.__importDefault(jP());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:u}={}){var f;let h;const g=new URL(`${this.url}/rpc/${s}`);let v;o||l?(h=o?"HEAD":"GET",Object.entries(a).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{g.searchParams.append(b,w)})):(h="POST",v=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:h,url:g,headers:x,schema:this.schemaName,body:v,fetch:(f=this.fetch)!==null&&f!==void 0?f:fetch})}}return x_.default=n,x_}var SV;function U4e(){if(SV)return da;SV=1,Object.defineProperty(da,"__esModule",{value:!0}),da.PostgrestError=da.PostgrestBuilder=da.PostgrestTransformBuilder=da.PostgrestFilterBuilder=da.PostgrestQueryBuilder=da.PostgrestClient=void 0;const t=vv,e=t.__importDefault(B4e());da.PostgrestClient=e.default;const r=t.__importDefault(lte());da.PostgrestQueryBuilder=r.default;const n=t.__importDefault(jP());da.PostgrestFilterBuilder=n.default;const i=t.__importDefault(ote());da.PostgrestTransformBuilder=i.default;const s=t.__importDefault(ate());da.PostgrestBuilder=s.default;const a=t.__importDefault(ste());return da.PostgrestError=a.default,da.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},da}var cte=U4e();const ute=Yo(cte),V4e=zK({__proto__:null,default:ute},[cte]),{PostgrestClient:z4e,PostgrestQueryBuilder:Qst,PostgrestFilterBuilder:Jst,PostgrestTransformBuilder:Zst,PostgrestBuilder:eat,PostgrestError:tat}=ute||V4e;class $4e{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const H4e="2.86.0",q4e=`realtime-js/${H4e}`,dte="1.0.0",W4e="2.0.0",AV=dte,j5=1e4,G4e=1e3,K4e=100;var a0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(a0||(a0={}));var os;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(os||(os={}));var Jl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jl||(Jl={}));var D5;(function(t){t.websocket="websocket"})(D5||(D5={}));var o0;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(o0||(o0={}));class Y4e{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,f=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},h=Object.keys(f).length===0?"":JSON.stringify(f);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(h.length>255)throw new Error(`metadata length ${h.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+h.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,l.length),x.setUint8(b++,o.length),x.setUint8(b++,a.length),x.setUint8(b++,u.length),x.setUint8(b++,h.length),x.setUint8(b++,r),Array.from(l,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(o,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(a,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(u,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(h,E=>x.setUint8(b++,E.charCodeAt(0)));var w=new Uint8Array(v.byteLength+n.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(n),v.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const f=n.decode(e.slice(l,l+s));l=l+s;const h=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),v=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,x={type:this.BROADCAST_EVENT,event:f,payload:v};return a>0&&(x.meta=JSON.parse(h)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let fte=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var On;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(On||(On={}));const kV=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=X4e(a,t,e,i),s),{}):{}},X4e=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?hte(s,a):M5(a)},hte=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return eAe(e,r)}switch(t){case On.bool:return Q4e(e);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return J4e(e);case On.json:case On.jsonb:return Z4e(e);case On.timestamp:return tAe(e);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return M5(e);default:return M5(e)}},M5=t=>t,Q4e=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},J4e=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Z4e=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},eAe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>hte(e,o))}return t},tAe=t=>typeof t=="string"?t.replace(" ","T"):t,mte=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class KC{constructor(e,r,n={},i=j5){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var CV;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(CV||(CV={}));class g1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=g1.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=g1.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=g1.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,f)=>{a[u]||(l[u]=f)}),this.map(a,(u,f)=>{const h=s[u];if(h){const g=f.map(w=>w.presence_ref),v=h.map(w=>w.presence_ref),x=f.filter(w=>v.indexOf(w.presence_ref)<0),b=h.filter(w=>g.indexOf(w.presence_ref)<0);x.length>0&&(o[u]=x),b.length>0&&(l[u]=b)}else o[u]=f}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const f=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),f.length>0){const h=e[o].map(v=>v.presence_ref),g=f.filter(v=>h.indexOf(v.presence_ref)<0);e[o].unshift(...g)}n(o,f,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const f=l.map(h=>h.presence_ref);u=u.filter(h=>f.indexOf(h.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var NV;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(NV||(NV={}));var v1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(v1||(v1={}));var Fu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Fu||(Fu={}));class DP{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=os.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new KC(this,Jl.join,this.params,this.timeout),this.rejoinTimer=new fte(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=os.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=os.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=os.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jl.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new g1(this),this.broadcastEndpointURL=mte(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==os.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],f=!!this.bindings[v1.PRESENCE]&&this.bindings[v1.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,h={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:f}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(h.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Fu.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Fu.CLOSED)),this.updateJoinPayload(Object.assign({config:g},h)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(Fu.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,E=[];for(let A=0;A<w;A++){const k=b[A],{filter:{event:R,schema:j,table:P,filter:S}}=k,I=v&&v[A];if(I&&I.event===R&&I.schema===j&&I.table===P&&I.filter===S)E.push(Object.assign(Object.assign({},k),{id:I.id}));else{this.unsubscribe(),this.state=os.errored,e==null||e(Fu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Fu.SUBSCRIBED);return}}).receive("error",v=>{this.state=os.errored,e==null||e(Fu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Fu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===os.joined&&e===v1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=os.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new KC(this,Jl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=os.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new KC(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>K4e){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:f}=Jl;if(n&&[o,l,u,f].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,b,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(b=v.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var x,b,w,E,A,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const R=v.id,j=(x=v.filter)===null||x===void 0?void 0:x.event;return R&&((b=r.ids)===null||b===void 0?void 0:b.includes(R))&&(j==="*"||(j==null?void 0:j.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(A=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||A===void 0?void 0:A.toLocaleLowerCase();return R==="*"||R===((k=r==null?void 0:r.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:b,table:w,commit_timestamp:E,type:A,errors:k}=x;g=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:E,eventType:A,new:{},old:{},errors:k}),this._getPayloadRecords(x))}v.callback(g,n)})}_isClosed(){return this.state===os.closed}_isJoined(){return this.state===os.joined}_isJoining(){return this.state===os.joining}_isLeaving(){return this.state===os.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&DP.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jl.close,{},e)}_onError(e){this._on(Jl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=os.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=kV(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=kV(e.columns,e.old_record)),r}}const YC=()=>{},S_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},rAe=[1e3,2e3,5e3,1e4],nAe=1e4,iAe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class sAe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=j5,this.transport=null,this.heartbeatIntervalMs=S_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=YC,this.ref=0,this.reconnectTimer=null,this.vsn=AV,this.logger=YC,this.conn=null,this.sendBuffer=[],this.serializer=new Y4e,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${D5.websocket}`,this.httpEndpoint=mte(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=$4e.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case a0.connecting:return o0.Connecting;case a0.open:return o0.Open;case a0.closing:return o0.Closing;default:return o0.Closed}}isConnected(){return this.connectionState()===o0.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new DP(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(G4e,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},S_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===a0.open||this.conn.readyState===a0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([iAe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:q4e};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Jl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new fte(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},S_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,f,h,g,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:j5,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:S_.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:YC,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:AV,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(x=>rAe[x-1]||nAe),this.vsn){case dte:this.encode=(f=e==null?void 0:e.encode)!==null&&f!==void 0?f:((x,b)=>b(JSON.stringify(x))),this.decode=(h=e==null?void 0:e.decode)!==null&&h!==void 0?h:((x,b)=>b(JSON.parse(x)));break;case W4e:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class XS extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ii(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class aAe extends XS{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class L5 extends XS{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const MP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),oAe=()=>Response,F5=t=>{if(Array.isArray(t))return t.map(r=>F5(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=F5(n)}),e},lAe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},cAe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),XC=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},uAe=(t,e,r)=>yt(void 0,void 0,void 0,function*(){const n=yield oAe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new aAe(XC(i),s,a))}).catch(i=>{e(new L5(XC(i),i))}):e(new L5(XC(t),t))}),dAe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(lAe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function sb(t,e,r,n,i,s){return yt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,dAe(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>uAe(l,o,n))})})}function Q1(t,e,r,n){return yt(this,void 0,void 0,function*(){return sb(t,"GET",e,r,n)})}function Xl(t,e,r,n,i){return yt(this,void 0,void 0,function*(){return sb(t,"POST",e,n,i,r)})}function B5(t,e,r,n,i){return yt(this,void 0,void 0,function*(){return sb(t,"PUT",e,n,i,r)})}function fAe(t,e,r,n){return yt(this,void 0,void 0,function*(){return sb(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function LP(t,e,r,n,i){return yt(this,void 0,void 0,function*(){return sb(t,"DELETE",e,n,i,r)})}class hAe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return yt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ii(e))return{data:null,error:e};throw e}})}}var pte;class mAe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[pte]="BlobDownloadBuilder",this.promise=null}asStream(){return new hAe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return yt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(ii(e))return{data:null,error:e};throw e}})}}pte=Symbol.toStringTag;const pAe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},IV={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class gAe{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=MP(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return yt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},IV),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),f=this._getFinalPath(u),h=yield(e=="PUT"?B5:Xl)(this.fetch,`${this.url}/object/${f}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:h.Id,fullPath:h.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(ii(s))return{data:null,error:s};throw s}})}upload(e,r,n){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return yt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:IV.upsert},i),f=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,f["cache-control"]=`max-age=${u.cacheControl}`,f["content-type"]=u.contentType);const h=yield B5(this.fetch,o.toString(),l,{headers:f});return{data:{path:s,fullPath:h.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(ii(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return yt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Xl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new XS("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}update(e,r,n){return yt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return yt(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ii(i))return{data:null,error:i};throw i}})}copy(e,r,n){return yt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ii(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return yt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Xl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ii(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return yt(this,void 0,void 0,function*(){try{const i=yield Xl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ii(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>Q1(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new mAe(l,this.shouldThrowOnError)}info(e){return yt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield Q1(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:F5(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}exists(e){return yt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield fAe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n)&&n instanceof L5){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return yt(this,void 0,void 0,function*(){try{return{data:yield LP(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}list(e,r,n){return yt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},pAe),r),{prefix:e||""});return{data:yield Xl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ii(i))return{data:null,error:i};throw i}})}listV2(e,r){return yt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Xl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const gte="2.86.0",vte={"X-Client-Info":`storage-js/${gte}`};class vAe{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vte),r),this.fetch=MP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return yt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield Q1(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}getBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Q1(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}createBucket(e){return yt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(ii(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return yt(this,void 0,void 0,function*(){try{return{data:yield B5(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(ii(n))return{data:null,error:n};throw n}})}emptyBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield LP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var J1=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function yAe(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function xAe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function bAe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=yAe(t.baseUrl,n,i),l=await xAe(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),f=await u.text(),h=(u.headers.get("content-type")||"").includes("application/json"),g=h&&f?JSON.parse(f):f;if(!u.ok){const v=h?g:void 0,x=v==null?void 0:v.error;throw new J1((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:g}}}}function A_(t){return t.join("")}var wAe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:A_(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${A_(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${A_(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${A_(t.namespace)}`}),!0}catch(e){if(e instanceof J1&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof J1&&r.status===409)return;throw r}}};function fp(t){return t.join("")}var _Ae=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fp(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fp(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${fp(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${fp(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${fp(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${fp(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof J1&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof J1&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},EAe=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=bAe({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new wAe(this.client,e),this.tableOps=new _Ae(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class TAe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},vte),r),this.fetch=MP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}listBuckets(e){return yt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield Q1(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield LP(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(ii(r))return{data:null,error:r};throw r}})}from(e){if(!cAe(e))throw new XS("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new EAe({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>yt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const FP={"X-Client-Info":`storage-js/${gte}`,"Content-Type":"application/json"};class yte extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Po(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class QC extends yte{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class SAe extends yte{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var OV;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(OV||(OV={}));const BP=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),AAe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},RV=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),kAe=(t,e,r)=>yt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new QC(RV(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new QC(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new QC(o,i,a))}}else e(new SAe(RV(t),t))}),CAe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(AAe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function NAe(t,e,r,n,i,s){return yt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,CAe(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>kAe(l,o,n))})})}function jo(t,e,r,n,i){return yt(this,void 0,void 0,function*(){return NAe(t,"POST",e,n,i,r)})}class IAe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=BP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return yt(this,void 0,void 0,function*(){try{return{data:(yield jo(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}getIndex(e,r){return yt(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}listIndexes(e){return yt(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return yt(this,void 0,void 0,function*(){try{return{data:(yield jo(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Po(n))return{data:null,error:n};throw n}})}}class OAe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=BP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return yt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield jo(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}getVectors(e){return yt(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}listVectors(e){return yt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield jo(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}queryVectors(e){return yt(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}deleteVectors(e){return yt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield jo(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}}class RAe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},FP),r),this.fetch=BP(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:(yield jo(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}getBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:yield jo(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}listBuckets(){return yt(this,arguments,void 0,function*(e={}){try{return{data:yield jo(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}deleteBucket(e){return yt(this,void 0,void 0,function*(){try{return{data:(yield jo(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Po(r))return{data:null,error:r};throw r}})}}class PAe extends RAe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new jAe(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return yt(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return yt(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return yt(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return yt(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class jAe extends IAe{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return yt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return yt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return yt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return yt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new DAe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class DAe extends OAe{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return yt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return yt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return yt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return yt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return yt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class MAe extends vAe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new gAe(this.url,this.headers,e,this.fetch)}get vectors(){return new PAe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new TAe(this.url+"/iceberg",this.headers,this.fetch)}}const LAe="2.86.0";let Ky="";typeof Deno<"u"?Ky="deno":typeof document<"u"?Ky="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Ky="react-native":Ky="node";const FAe={"X-Client-Info":`supabase-js-${Ky}/${LAe}`},BAe={headers:FAe},UAe={schema:"public"},VAe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},zAe={},$Ae=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),HAe=()=>Headers,qAe=(t,e,r)=>{const n=$Ae(r),i=HAe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))}};function WAe(t){return t.endsWith("/")?t:t+"/"}function GAe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:f,global:h}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},f),a),storage:{},global:Object.assign(Object.assign(Object.assign({},h),o),{headers:Object.assign(Object.assign({},(r=h==null?void 0:h.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function KAe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(WAe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const xte="2.86.0",Cp=30*1e3,U5=3,JC=U5*Cp,YAe="http://localhost:9999",XAe="supabase.auth.token",QAe={"X-Client-Info":`gotrue-js/${xte}`},V5="X-Supabase-Api-Version",bte={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},JAe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ZAe=600*1e3;class Z1 extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function At(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class eke extends Z1{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function tke(t){return At(t)&&t.name==="AuthApiError"}class l0 extends Z1{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class gh extends Z1{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Co extends gh{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rke(t){return At(t)&&t.name==="AuthSessionMissingError"}class hp extends gh{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class k_ extends gh{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class C_ extends gh{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nke(t){return At(t)&&t.name==="AuthImplicitGrantRedirectError"}class PV extends gh{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class z5 extends gh{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function ZC(t){return At(t)&&t.name==="AuthRetryableFetchError"}class jV extends gh{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class $5 extends gh{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const CE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),DV=` 	
\r=`.split(""),ike=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<DV.length;e+=1)t[DV[e].charCodeAt(0)]=-2;for(let e=0;e<CE.length;e+=1)t[CE[e].charCodeAt(0)]=e;return t})();function MV(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(CE[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(CE[n]),e.queuedBits-=6}}function wte(t,e,r){const n=ike[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function LV(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{oke(a,n,r)};for(let a=0;a<t.length;a+=1)wte(t.charCodeAt(a),i,s);return e.join("")}function ske(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function ake(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}ske(n,e)}}function oke(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function rg(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)wte(t.charCodeAt(i),r,n);return new Uint8Array(e)}function lke(t){const e=[];return ake(t,r=>e.push(r)),new Uint8Array(e)}function g0(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>MV(i,r,n)),MV(null,r,n),e.join("")}function cke(t){return Math.round(Date.now()/1e3)+t}function uke(){return Symbol("auth-callback")}const Gs=()=>typeof window<"u"&&typeof document<"u",Xh={tested:!1,writable:!1},_te=()=>{if(!Gs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Xh.tested)return Xh.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Xh.tested=!0,Xh.writable=!0}catch{Xh.tested=!0,Xh.writable=!1}return Xh.writable};function dke(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Ete=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),fke=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Np=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},Qh=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ff=async(t,e)=>{await t.removeItem(e)};class QS{constructor(){this.promise=new QS.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}QS.promiseConstructor=Promise;function eN(t){const e=t.split(".");if(e.length!==3)throw new $5("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!JAe.test(e[n]))throw new $5("JWT not in base64url format");return{header:JSON.parse(LV(e[0])),payload:JSON.parse(LV(e[1])),signature:rg(e[2]),raw:{header:e[0],payload:e[1]}}}async function hke(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function mke(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function pke(t){return("0"+t.toString(16)).substr(-2)}function gke(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,pke).join("")}async function vke(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function yke(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await vke(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function mp(t,e,r=!1){const n=gke();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Np(t,`${e}-code-verifier`,i);const s=await yke(n);return[s,n===s?"plain":"s256"]}const xke=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function bke(t){const e=t.headers.get(V5);if(!e||!e.match(xke))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function wke(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function _ke(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Eke=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function pp(t){if(!Eke.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function tN(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function Tke(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function FV(t){return JSON.parse(JSON.stringify(t))}const r0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Ske=[502,503,504];async function BV(t){var e;if(!fke(t))throw new z5(r0(t),0);if(Ske.includes(t.status))throw new z5(r0(t),t.status);let r;try{r=await t.json()}catch(s){throw new l0(r0(s),s)}let n;const i=bke(t);if(i&&i.getTime()>=bte["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new jV(r0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Co}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new jV(r0(r),t.status,r.weak_password.reasons);throw new eke(r0(r),t.status||500,n)}const Ake=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Dt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[V5]||(s[V5]=bte["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await kke(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function kke(t,e,r,n,i,s){const a=Ake(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new z5(r0(l),0)}if(o.ok||await BV(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await BV(l)}}function Kl(t){var e;let r=null;Ike(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=cke(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function UV(t){const e=Kl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function _f(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function Cke(t){return{data:t,error:null}}function Nke(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=gv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function VV(t){return t}function Ike(t){return t.access_token&&t.refresh_token&&t.expires_in}const rN=["global","local","others"];class Oke{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Ete(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=rN[0]){if(rN.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${rN.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(At(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:_f})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=gv(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:Nke,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(At(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:_f})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:VV});if(f.error)throw f.error;const h=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(At(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){pp(e);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:_f})}catch(r){if(At(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){pp(e);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:_f})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){pp(e);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:_f})}catch(n){if(At(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){pp(e.userId);try{const{data:r,error:n}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(At(r))return{data:null,error:r};throw r}}async _deleteFactor(e){pp(e.userId),pp(e.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},f=await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:VV});if(f.error)throw f.error;const h=await f.json(),g=(a=f.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=f.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},h),u),error:null}}catch(u){if(At(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(At(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(At(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(At(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(At(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(At(r))return{data:null,error:r};throw r}}}function zV(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const gp={debug:!!(globalThis&&_te()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Tte extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Rke extends Tte{}async function Pke(t,e,r){gp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),gp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){gp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{gp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw gp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new Rke(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(gp.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function jke(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Ste(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function Dke(t){return parseInt(t,16)}function Mke(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function Lke(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:f,uri:h,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!h)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Ste(t.address),x=f?`${f}://${n}`:n,b=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${v}

${b}`;let E=`URI: ${h}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),o&&(E+=`
Not Before: ${o.toISOString()}`),l&&(E+=`
Request ID: ${l}`),u){let A=`
Resources:`;for(const k of u){if(!k||typeof k!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${k}`);A+=`
- ${k}`}E+=A}return`${w}
${E}`}class Xi extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class NE extends Xi{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function Fke({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xi({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new Xi({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new Xi({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new Xi({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new Xi({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new Xi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new Xi({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new Xi({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Ate(a)){if(s.rp.id!==a)return new Xi({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Xi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new Xi({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new Xi({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Xi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function Bke({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new Xi({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new Xi({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Ate(n)){if(r.rpId!==n)return new Xi({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new Xi({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new Xi({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new Xi({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class Uke{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const Vke=new Uke;function zke(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=gv(t,["challenge","user","excludeCredentials"]),s=rg(e).buffer,a=Object.assign(Object.assign({},r),{id:rg(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:rg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function $ke(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=gv(t,["challenge","allowCredentials"]),i=rg(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:rg(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function Hke(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:g0(new Uint8Array(t.response.attestationObject)),clientDataJSON:g0(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function qke(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:g0(new Uint8Array(i.authenticatorData)),clientDataJSON:g0(new Uint8Array(i.clientDataJSON)),signature:g0(new Uint8Array(i.signature)),userHandle:i.userHandle?g0(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Ate(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function $V(){var t,e;return!!(Gs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function Wke(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new NE("Browser returned unexpected credential type",e)}:{data:null,error:new NE("Empty credential response",e)}}catch(e){return{data:null,error:Fke({error:e,options:t})}}}async function Gke(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new NE("Browser returned unexpected credential type",e)}:{data:null,error:new NE("Empty credential response",e)}}catch(e){return{data:null,error:Bke({error:e,options:t})}}}const Kke={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},Yke={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function IE(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=IE(o,a):n[s]=IE(a)}else n[s]=a}return n}function Xke(t,e){return IE(Kke,t,e||{})}function Qke(t,e){return IE(Yke,t,e||{})}class Jke{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??Vke.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=Xke(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:f,error:h}=await Wke({publicKey:u,signal:l});return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}case"request":{const u=Qke(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:f,error:h}=await Gke(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return f?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:f}},error:null}:{data:null,error:h}}}}catch(a){return At(a)?{data:null,error:a}:{data:null,error:new l0("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Z1("rpId is required for WebAuthn authentication")};try{if(!$V())return{data:null,error:new l0("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return At(a)?{data:null,error:a}:{data:null,error:new l0("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new Z1("rpId is required for WebAuthn registration")};try{if(!$V())return{data:null,error:new l0("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(f=>{var h;return(h=f.data)===null||h===void 0?void 0:h.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(f=>f?this.client.mfa.unenroll({factorId:f==null?void 0:f.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return At(a)?{data:null,error:a}:{data:null,error:new l0("Unexpected error in register",a)}}}}jke();const Zke={url:YAe,storageKey:XAe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:QAe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function HV(t,e,r){return await r()}const vp={};class ex{get jwks(){var e,r;return(r=(e=vp[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){vp[this.storageKey]=Object.assign(Object.assign({},vp[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=vp[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){vp[this.storageKey]=Object.assign(Object.assign({},vp[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},Zke),e);if(this.storageKey=s.storageKey,this.instanceID=(r=ex.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ex.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Gs()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Oke({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Ete(s.fetch),this.lock=s.lock||HV,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Gs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=Pke:this.lock=HV,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new Jke(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:_te()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=zV(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=zV(this.memoryStorage)),Gs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${xte}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Gs()&&(r=dke(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Gs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),nke(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return At(r)?this._returnResult({error:r}):this._returnResult({error:new l0("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kl}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(At(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:f,password:h,options:g}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await mp(this.storage,this.storageKey)),s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:f,password:h,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:x},xform:Kl})}else if("phone"in e){const{phone:f,password:h,options:g}=e;s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:f,password:h,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Kl})}else throw new k_("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(At(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:UV})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:UV})}else throw new k_("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new hp;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(At(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,f,h,g;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:w,statement:E,options:A}=e;let k;if(Gs())if(typeof w=="object")k=w;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")k=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");k=w}const R=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href),j=await k.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!j||j.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const P=Ste(j[0]);let S=(n=A==null?void 0:A.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const O=await k.request({method:"eth_chainId"});S=Dke(O)}const I={domain:R.host,address:P,statement:E,uri:R.href,version:"1",chainId:S,nonce:(i=A==null?void 0:A.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=A==null?void 0:A.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=A==null?void 0:A.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=A==null?void 0:A.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=A==null?void 0:A.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(f=A==null?void 0:A.signInWithEthereum)===null||f===void 0?void 0:f.resources};v=Lke(I),x=await k.request({method:"personal_sign",params:[Mke(v),P]})}try{const{data:b,error:w}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((h=e.options)===null||h===void 0)&&h.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Kl});if(w)throw w;if(!b||!b.session||!b.user){const E=new hp;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(At(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,f,h,g,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:w,wallet:E,statement:A,options:k}=e;let R;if(Gs())if(typeof E=="object")R=E;else{const P=window;if("solana"in P&&typeof P.solana=="object"&&("signIn"in P.solana&&typeof P.solana.signIn=="function"||"signMessage"in P.solana&&typeof P.solana.signMessage=="function"))R=P.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=E}const j=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const P=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},k==null?void 0:k.signInWithSolana),{version:"1",domain:j.host,uri:j.href}),A?{statement:A}:null));let S;if(Array.isArray(P)&&P[0]&&typeof P[0]=="object")S=P[0];else if(P&&typeof P=="object"&&"signedMessage"in P&&"signature"in P)S=P;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${j.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...A?["",A,""]:[""],"Version: 1",`URI: ${j.href}`,`Issued At: ${(i=(n=k==null?void 0:k.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=k==null?void 0:k.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${k.signInWithSolana.notBefore}`]:[],...!((a=k==null?void 0:k.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${k.signInWithSolana.expirationTime}`]:[],...!((o=k==null?void 0:k.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${k.signInWithSolana.chainId}`]:[],...!((l=k==null?void 0:k.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${k.signInWithSolana.nonce}`]:[],...!((u=k==null?void 0:k.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${k.signInWithSolana.requestId}`]:[],...!((h=(f=k==null?void 0:k.signInWithSolana)===null||f===void 0?void 0:f.resources)===null||h===void 0)&&h.length?["Resources",...k.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const P=await R.signMessage(new TextEncoder().encode(x),"utf8");if(!P||!(P instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=P}}try{const{data:w,error:E}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:g0(b)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Kl});if(E)throw E;if(!w||!w.session||!w.user){const A=new hp;return this._returnResult({data:{user:null,session:null},error:A})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(At(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await Qh(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Kl});if(await ff(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new hp;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(At(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kl}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const f=new hp;return this._returnResult({data:{user:null,session:null},error:f})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(At(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,f=null;this.flowType==="pkce"&&([u,f]=await mp(this.storage,this.storageKey));const{error:h}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:f},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:h})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:f}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:f})}throw new k_("You must provide either an email or phone number.")}catch(o){if(At(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Kl});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(At(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await mp(this.storage,this.storageKey));const u=await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:Cke});return!((s=u.data)===null||s===void 0)&&s.url&&Gs()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(At(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Co;const{error:i}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(At(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new k_("You must provide either an email or phone number and a type")}catch(r){if(At(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await Qh(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<JC:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await Qh(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=tN()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=Tke(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:_f}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Co}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:_f})})}catch(r){if(At(r))return rke(r)&&(await this._removeSession(),await ff(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Co;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await mp(this.storage,this.storageKey));const{data:u,error:f}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:_f});if(f)throw f;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(At(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Co;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=eN(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(At(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Co;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(At(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Gs())throw new C_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new C_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new PV("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new C_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new PV("No code detected.");const{data:A,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:A.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new C_("No session defined in URL");const f=Math.round(Date.now()/1e3),h=parseInt(o);let g=f+h;l&&(g=parseInt(l));const v=g-f;v*1e3<=Cp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const x=g-h;f-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,f):f-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,f);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:h,expires_at:g,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(n){if(At(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await Qh(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(tke(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ff(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=uke(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await mp(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(At(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,f;const{data:h,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",v,{headers:this.headers,jwt:(f=(u=h.session)===null||u===void 0?void 0:u.access_token)!==null&&f!==void 0?f:void 0})});if(i)throw i;return Gs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(At(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:f}=e,h=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:f,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kl}),{data:g,error:v}=h;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new hp}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(At(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await mke(async i=>(i>0&&await hke(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kl})),(i,s)=>{const a=200*Math.pow(2,i);return s&&ZC(s)&&Date.now()+a-n<Cp})}catch(n){if(this._debug(r,"error",n),At(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Gs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await Qh(this.storage,this.storageKey);if(i&&this.userStorage){let a=await Qh(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Np(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:tN()}else if(i&&!i.user&&!i.user){const a=await Qh(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ff(this.storage,this.storageKey+"-user"),await Np(this.storage,this.storageKey,i)):i.user=tN()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<JC;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${JC}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),ZC(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Co;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new QS;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Co;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),At(s)){const a={data:null,error:s};return ZC(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Np(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=FV(i);await Np(this.storage,this.storageKey,s)}else{const i=FV(r);await Np(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ff(this.storage,this.storageKey),await ff(this.storage,this.storageKey+"-code-verifier"),await ff(this.storage,this.storageKey+"-user"),this.userStorage&&await ff(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Gs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Cp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Cp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Cp}ms, refresh threshold is ${U5} ticks`),i<=U5&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Tte)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Gs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await mp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?Hke(e.webauthn.credential_response):qke(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:zke(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:$ke(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=eN(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(f=>f.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Co})})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Co});const a=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Gs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Co});const a=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Gs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Dt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Co})})}catch(e){if(At(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Dt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Co})})}catch(r){if(At(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+ZAe>i)return n;const{data:s,error:a}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=eN(n);r!=null&&r.allowExpired||wke(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const f=_ke(i.alg),h=await crypto.subtle.importKey("jwk",u,f,!0,["verify"]);if(!await crypto.subtle.verify(f,h,a,lke(`${o}.${l}`)))throw new $5("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(At(n))return this._returnResult({data:null,error:n});throw n}}}ex.nextInstanceID={};const eCe=ex;class tCe extends eCe{constructor(e){super(e)}}class rCe{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=KAe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:UAe,realtime:zAe,auth:Object.assign(Object.assign({},VAe),{storageKey:l}),global:BAe},f=GAe(n??{},u);this.storageKey=(i=f.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=f.global.headers)!==null&&s!==void 0?s:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=qAe(r,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.accessToken&&this.accessToken().then(h=>this.realtime.setAuth(h)).catch(h=>console.warn("Failed to set initial Realtime auth token:",h)),this.rest=new z4e(new URL("rest/v1",o).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),this.storage=new MAe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),f.accessToken||this._listenForAuthEvents()}get functions(){return new F4e(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:f},h,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new tCe({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),h),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:u,throwOnError:f,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new sAe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const nCe=(t,e,r)=>new rCe(t,e,r);function iCe(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}iCe()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const sCe="https://hykypgxaegmufdothwbv.supabase.co",aCe="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5a3lwZ3hhZWdtdWZkb3Rod2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NTE3NzMsImV4cCI6MjA3NzEyNzc3M30.Euzl2vfhHrxhgN-tfg2XftMaX9hEiJOorSJq16n2CRY",OE=nCe(sCe,aCe),th=t=>{const e=(t||"").toLowerCase();return e==="hoc_vien"||e==="student"||e==="hoc-vien"?"/ontap/assets/img/avatar1.webp":"/ontap/assets/img/avatar.webp"},oCe=t=>new Promise((e,r)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=i=>{var a;const s=new Image;s.src=(a=i.target)==null?void 0:a.result,s.onload=()=>{let u=s.width,f=s.height;u>f?u>350&&(f*=350/u,u=350):f>350&&(u*=350/f,f=350);const h=document.createElement("canvas");h.width=u,h.height=f;const g=h.getContext("2d");if(!g){r(new Error("Canvas context not available"));return}g.drawImage(s,0,0,u,f),h.toBlob(v=>{v?e(v):r(new Error("WebP conversion failed"))},"image/webp",.6)},s.onerror=o=>r(o)},n.onerror=i=>r(i)}),lCe=async(t,e)=>{try{const r=await oCe(t),i=`avatars/${`${e}_${Date.now()}.webp`}`,{error:s}=await OE.storage.from("avatars").upload(i,r,{cacheControl:"3600",upsert:!0});if(s)throw console.error("Supabase upload error:",s),s;const{data:a}=OE.storage.from("avatars").getPublicUrl(i);return a.publicUrl}catch(r){throw console.error("Error uploading avatar:",r),r}},cCe=async t=>{try{const e=Ft(Ye,"users",t),r=await uc(e);if(r.exists()){const n=r.data();return{id:t,email:n.email,full_name:n.fullName||n.full_name||"Ngi dng",role:(()=>{const i=n.role;return i==="teacher"||i==="giao-vien"||i==="giao_vien"?"giao_vien":i==="student"||i==="hoc-vien"||i==="hoc_vien"?"hoc_vien":i==="manager"||i==="quan-ly"||i==="quan_ly"?"quan_ly":i==="leader"||i==="lanh-dao"||i==="lanh_dao"?"lanh_dao":i==="admin"?"admin":"hoc_vien"})(),photoURL:n.photoURL||th(n.role),birthDate:n.birthDate||"",address:n.address||"",class:n.class||"",phoneNumber:n.phoneNumber||"",courseName:n.courseName||"",courseId:n.courseId||""}}return null}catch(e){throw console.error("Error fetching user profile from Firestore:",e),e}},qV=async(t,e,r,n,i,s,a,o)=>{try{let l=r;i==="n tp"&&n?l=`${r} / ${n}`:i==="Thi th"&&(l=`${r} (Thi th)`),await Qf(Wt(Ye,"exam_results"),{studentId:t,licenseId:e,score:s,totalQuestions:a,timeTaken:o,completedAt:Ua(),type:i,quizTitle:l})}catch(l){console.error("Error saving exam result to Firestore:",l)}},uCe=async()=>{try{const t=pr(Wt(Ye,"courses")),e=await _n(t),r=[];return e.forEach(n=>{const i=n.data();i.name&&r.push({id:n.id,name:i.name})}),r.sort((n,i)=>n.name.localeCompare(i.name))}catch(t){return console.error("Error fetching courses:",t),[]}},dCe=async t=>{try{if(!t||t.length<3)return[];const e=pr(Wt(Ye,"users"),Ar("email",">=",t),Ar("email","<=",t+""));return(await _n(e)).docs.map(n=>{const i=n.data();return{id:n.id,email:i.email,full_name:i.fullName||i.full_name||"Ngi dng",role:(()=>{const s=i.role;return s==="teacher"||s==="giao-vien"?"giao_vien":s==="student"||s==="hoc-vien"?"hoc_vien":s==="manager"||s==="quan-ly"?"quan_ly":s==="leader"||s==="lanh-dao"?"lanh_dao":s||"hoc_vien"})(),photoURL:i.photoURL||th(i.role),birthDate:i.birthDate||"",address:i.address||"",class:i.class||"",phoneNumber:i.phoneNumber||"",courseName:i.courseName||"",courseId:i.courseId||""}})}catch(e){return console.error("Error searching users:",e),[]}},fCe=({userProfile:t})=>{const[e,r]=N.useState([]),[n,i]=N.useState(!0);N.useEffect(()=>{s()},[]);const s=async()=>{i(!0);const q=await VSe();r(q),i(!1)},a=q=>!(t.role==="giao_vien"&&(q.type==="special"||q.type==="attention")),o=async q=>{confirm("Bn c chc chn mun XA VNH VIN thng bo ny? Hnh ng ny s g thng bo khi mn hnh ca tt c ngi dng.")&&(await zSe(q)?(alert(" xa thng bo!"),s()):alert("C li xy ra khi xa."))},l=q=>q?new Date(q*1e3).toLocaleString("vi-VN"):"--",[u,f]=N.useState(!1),[h,g]=N.useState(""),[v,x]=N.useState(""),[b,w]=N.useState("system"),[E,A]=N.useState("all"),[k,R]=N.useState([]),[j,P]=N.useState(""),[S,I]=N.useState([]),[O,D]=N.useState(""),[M,F]=N.useState([]),[U,le]=N.useState(null),[de,J]=N.useState(""),[Q,fe]=N.useState(null),ee=q=>{if(fe(q),g(q.title),x(q.message),w(q.type),A(q.targetType==="all"&&q.targetRoles&&q.targetRoles.length>0?"role":q.targetType),q.targetType==="class"&&P(q.targetName||""),q.targetType,q.targetRoles&&I(q.targetRoles),q.expiryDate){const z=new Date(q.expiryDate.seconds*1e3);z.toISOString().slice(0,16);const V=z.getTimezoneOffset()*6e4,W=new Date(z.getTime()-V).toISOString().slice(0,16);J(W)}else J("");f(!0)};N.useEffect(()=>{u&&E==="class"&&uCe().then(R)},[u,E]),N.useEffect(()=>{if(O.length>2&&E==="user"){const q=setTimeout(async()=>{const z=await dCe(O);F(z)},500);return()=>clearTimeout(q)}},[O,E]);const ge=async q=>{if(q.preventDefault(),!h||!v)return alert("Vui lng nhp tiu  v ni dung");if(E==="class"&&!j)return alert("Vui lng chn lp");if(E==="user"&&!U&&!Q)return alert("Vui lng chn ngi nhn");if(E==="role"&&S.length===0)return alert("Vui lng chn t nht mt vai tr");try{if(Q){const z={title:h,message:v,type:b,expiryDate:de?new Date(de):null};E==="role"&&(z.targetRoles=S),await $Se(Q.id,z)?(alert(" cp nht thng bo!"),f(!1),fe(null),s()):alert("Li khi cp nht.")}else{let z=null;E==="class"&&(z=j),E==="user"&&(z=U.id),await xee(h,v,b,E,z,t.id,t.full_name,de?new Date(de):null,E==="user"&&U?`${U.full_name} (${U.email})`:void 0,E==="role"?S:void 0),alert(" gi thng bo thnh cng!"),f(!1),s()}g(""),x(""),w("system"),I([]),fe(null),J(""),P(""),le(null),F([]),D("")}catch(z){console.error(z),alert("Li khi x l thng bo")}};return m.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-20 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 bg-gradient-to-r from-teal-500 to-emerald-600 text-white flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[m.jsx(pv,{})," Qun L Thng Bo H Thng"]}),m.jsx("p",{className:"text-teal-100 mt-1 opacity-90",children:t.role==="giao_vien"?"Bn c th xem tt c v qun l thng bo thng.":"Bn c ton quyn qun l thng bo."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:async()=>{if(confirm(`CNH BO: Hnh ng ny s xa TT C thng bo trong hp th ring ca TT C hc vin.
Ch gi li thng bo chung (Ton h thng).
Bn c chc chn mun dn dp khng?`)){i(!0);try{const{collection:q,getDocs:z,deleteDoc:V,writeBatch:W,doc:Y}=await Fn(async()=>{const{collection:ie,getDocs:ve,deleteDoc:Ue,writeBatch:G,doc:Je}=await Promise.resolve().then(()=>$u);return{collection:ie,getDocs:ve,deleteDoc:Ue,writeBatch:G,doc:Je}},void 0),{db:ue}=await Fn(async()=>{const{db:ie}=await Promise.resolve().then(()=>yee);return{db:ie}},void 0),me=await z(q(ue,"users"));let ce=0;for(const ie of me.docs){const ve=q(ue,"users",ie.id,"notifications"),Ue=await z(ve);if(!Ue.empty){const G=W(ue);Ue.docs.forEach(Je=>{G.delete(Je.ref),ce++}),await G.commit()}}alert(` dn dp thnh cng ${ce} thng bo rc t hc vin.`)}catch(q){console.error(q),alert("C li xy ra khi dn dp.")}finally{i(!1)}}},className:"bg-red-100 text-red-600 px-4 py-2 rounded-lg font-bold shadow hover:bg-red-200 transition flex items-center gap-2",title:"Xa tt c thng bo trong hp th hc vin (dng khi b li hin th)",children:[m.jsx(Gc,{})," Dn dp rc"]}),m.jsxs("button",{onClick:()=>f(!0),className:"bg-white text-teal-600 px-4 py-2 rounded-lg font-bold shadow hover:bg-teal-50 transition flex items-center gap-2",children:[m.jsx(wf,{})," To mi"]})]})]}),m.jsx("div",{className:"flex-1 p-6 bg-gray-50 dark:bg-slate-900/50 overflow-x-auto",children:n?m.jsx("div",{className:"text-center py-20 text-gray-500",children:"ang ti d liu..."}):m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-gray-200 dark:border-slate-700 overflow-hidden min-w-[800px]",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-bold uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-32",children:"i tng"}),m.jsx("th",{className:"p-4 w-32",children:"Loi"}),m.jsx("th",{className:"p-4",children:"Tiu  & Ni dung"}),m.jsx("th",{className:"p-4 w-40",children:"Ngi to"}),m.jsx("th",{className:"p-4 w-48",children:"Ht hn (Marquee)"}),m.jsx("th",{className:"p-4 w-40",children:"Ngy to"}),m.jsx("th",{className:"p-4 w-32 text-center",children:"Hnh ng"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:e.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"p-10 text-center text-gray-500 text-base",children:"H thng cha c thng bo no."})}):e.map(q=>{var V,W;const z=a(q);return m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsxs("td",{className:"p-4 align-top",children:[m.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-bold whitespace-nowrap border
                                                            ${q.targetType==="all"?"bg-purple-100 text-purple-700 border-purple-200":q.targetType==="class"?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-pink-100 text-pink-700 border-pink-200"}
                                                        `,children:[q.targetType==="all"&&m.jsxs(m.Fragment,{children:[m.jsx(pV,{})," Tt c"]}),q.targetType==="class"&&m.jsxs(m.Fragment,{children:[m.jsx(Bf,{})," Lp"]}),q.targetType==="user"&&m.jsxs(m.Fragment,{children:[m.jsx(SE,{})," C nhn"]})]}),q.targetType!=="all"&&m.jsx("div",{className:"text-xs text-gray-500 mt-1 font-mono break-words max-w-[150px]",children:q.targetName?m.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:q.targetName}):q.targetId})]}),m.jsx("td",{className:"p-4 align-top",children:m.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold whitespace-nowrap
                                                            ${q.type==="special"?"bg-red-100 text-red-600":q.type==="attention"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}
                                                        `,children:q.type==="special"?"C BIT":q.type==="attention"?"CH ":"Thng"})}),m.jsxs("td",{className:"p-4 align-top",children:[m.jsx("div",{className:"font-bold text-gray-900 dark:text-white mb-1 text-base",children:q.title}),m.jsx("div",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:q.message})]}),m.jsxs("td",{className:"p-4 align-top text-gray-700 dark:text-gray-300 font-medium",children:[q.senderName,m.jsx("div",{className:"text-xs text-gray-400 font-normal",children:q.senderId===t.id?"(Bn)":""})]}),m.jsx("td",{className:"p-4 align-top",children:q.type==="special"||q.type==="attention"?m.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono bg-gray-100 dark:bg-slate-900 px-2 py-1 rounded border whitespace-nowrap",children:[m.jsx(c4e,{className:"text-gray-400"}),l((V=q.expiryDate)==null?void 0:V.seconds)]}):m.jsx("span",{className:"text-gray-400 text-xs",children:"--"})}),m.jsx("td",{className:"p-4 align-top text-gray-500 text-xs whitespace-nowrap",children:l((W=q.createdAt)==null?void 0:W.seconds)}),m.jsx("td",{className:"p-4 align-top text-center",children:z?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsxs("button",{onClick:()=>ee(q),className:"text-blue-500 hover:text-blue-700 p-2 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors flex items-center gap-1",title:"Sa",children:[m.jsx(Uu,{size:14})," ",m.jsx("span",{className:"text-xs font-bold",children:"Sa"})]}),m.jsxs("button",{onClick:()=>o(q.id),className:"text-red-500 hover:text-red-700 p-2 bg-red-50 hover:bg-red-100 rounded-lg transition-colors flex items-center gap-1",title:"Xa vnh vin",children:[m.jsx(Gc,{size:14})," ",m.jsx("span",{className:"text-xs font-bold",children:"Xa"})]})]}):m.jsx("div",{className:"text-gray-300 flex justify-center p-2 cursor-not-allowed",title:"Bn khng c quyn xa thng bo cp cao ny",children:m.jsx(JSe,{})})})]},q.id)})})]})})})]}),u&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm",onClick:()=>f(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-scale-in",onClick:q=>q.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b dark:border-slate-700 bg-gray-50 dark:bg-slate-900 flex justify-between items-center",children:[m.jsx("h2",{className:"text-xl font-bold flex items-center gap-2 text-gray-800 dark:text-white",children:Q?m.jsxs(m.Fragment,{children:[m.jsx(Uu,{className:"text-blue-600"})," Cp nht thng bo"]}):m.jsxs(m.Fragment,{children:[m.jsx(wf,{className:"text-teal-600"})," To thng bo mi"]})}),m.jsx("button",{onClick:()=>f(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),m.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Gi ti:"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="all"?"bg-purple-50 border-purple-500 text-purple-700 ring-1 ring-purple-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"all",checked:E==="all",onChange:()=>A("all"),className:"hidden"}),m.jsx(pV,{})," Tt c"]}),m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="class"?"bg-indigo-50 border-indigo-500 text-indigo-700 ring-1 ring-indigo-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"class",checked:E==="class",onChange:()=>A("class"),className:"hidden"}),m.jsx(Bf,{})," Lp hc"]}),m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="role"?"bg-orange-50 border-orange-500 text-orange-700 ring-1 ring-orange-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"role",checked:E==="role",onChange:()=>A("role"),className:"hidden"}),m.jsx(Bf,{})," Theo Vai tr"]}),m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="user"?"bg-pink-50 border-pink-500 text-pink-700 ring-1 ring-pink-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"user",checked:E==="user",onChange:()=>A("user"),className:"hidden"}),m.jsx(SE,{})," C nhn"]})]})]}),E==="class"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Chn lp:"}),m.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:j,onChange:q=>P(q.target.value),required:!0,children:[m.jsx("option",{value:"",children:"-- Chn lp --"}),k.map(q=>m.jsxs("option",{value:q.name,children:[q.name," -- (",q.id,")"]},q.id))]})]}),E==="role"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2",children:"Chn Vai tr:"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"hoc_vien",label:"Hc vin"},{id:"giao_vien",label:"Gio vin"},{id:"quan_ly",label:"Qun l"},{id:"lanh_dao",label:"Lnh o"},{id:"admin",label:"Admin"}].map(q=>m.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[m.jsx("input",{type:"checkbox",value:q.id,checked:S.includes(q.id),onChange:z=>{z.target.checked?I([...S,q.id]):I(S.filter(V=>V!==q.id))},className:"w-4 h-4 text-teal-600"}),m.jsx("span",{children:q.label})]},q.id))})]}),E==="user"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tm ngi nhn (Email):"}),m.jsx("input",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",placeholder:"Nhp email...",value:O,onChange:q=>D(q.target.value)}),M.length>0&&m.jsx("div",{className:"mt-2 border rounded max-h-40 overflow-y-auto bg-gray-50 dark:bg-slate-900",children:M.map(q=>m.jsxs("div",{onClick:()=>{le(q),F([]),D(q.email)},className:"p-2 hover:bg-teal-50 cursor-pointer flex justify-between items-center border-b last:border-0",children:[m.jsx("span",{className:"font-medium",children:q.full_name}),m.jsx("span",{className:"text-xs text-gray-500",children:q.email})]},q.id))}),U&&m.jsxs("div",{className:"mt-2 p-2 bg-green-50 text-green-700 text-sm rounded flex items-center gap-2",children:[m.jsx(q0,{}),"  chn: ",m.jsx("b",{children:U.full_name})," (",U.email,")"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tiu :"}),m.jsx("input",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:h,onChange:q=>g(q.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ni dung:"}),m.jsx("textarea",{className:"w-full p-2 border rounded-lg dark:bg-slate-700 h-24",value:v,onChange:q=>x(q.target.value),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Loi thng bo:"}),m.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:b,onChange:q=>w(q.target.value),children:[m.jsx("option",{value:"system",children:"Thng (Xanh)"}),m.jsx("option",{value:"attention",children:"Ch  (Cam)"}),m.jsx("option",{value:"special",children:"c bit ( - Marquee)"})]})]}),(b==="attention"||b==="special")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ht hn chy ch (Marquee):"}),m.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:de,onChange:q=>J(q.target.value),required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t dark:border-slate-700 mt-6",children:[m.jsx("button",{type:"button",onClick:()=>f(!1),className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-bold shadow-lg shadow-teal-500/30 transition transform hover:-translate-y-0.5",children:Q?"Cp nht":"Gi thng bo"})]})]})]})})]})},WV=t=>{let e;const r=new Set,n=(u,f)=>{const h=typeof u=="function"?u(e):u;if(!Object.is(h,e)){const g=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),r.forEach(v=>v(e,g))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,i,o);return o},hCe=(t=>t?WV(t):WV),mCe=t=>t;function pCe(t,e=mCe){const r=ke.useSyncExternalStore(t.subscribe,ke.useCallback(()=>e(t.getState()),[t,e]),ke.useCallback(()=>e(t.getInitialState()),[t,e]));return ke.useDebugValue(r),r}const GV=t=>{const e=hCe(t),r=n=>pCe(e,n);return Object.assign(r,e),r},gCe=(t=>t?GV(t):GV),et={WELCOME:"welcome",LOGIN:"login",DASHBOARD:"dashboard",LICENSE_SELECTION:"license_selection",NAME_INPUT:"name_input",MODE_SELECTION:"mode_selection",SUBJECT_SELECTION:"subject_selection",IN_QUIZ:"in_quiz",IN_ONLINE_EXAM:"in_online_exam",RESULT:"results",EXAM_RESULT:"exam_result",HISTORY:"history",MY_CLASS:"my_class",CLASS_MANAGEMENT:"class_management",REGISTER:"register",ACCOUNT:"account",NOTIFICATION_MGMT:"notification_mgmt",MAILBOX:"mailbox",THI_TRUC_TUYEN:"thi_truc_tuyen",ONLINE_EXAM_MANAGEMENT:"online_exam_management",ANALYTICS:"analytics"},bn=gCe(t=>({appState:et.WELCOME,licenses:[],selectedLicense:null,subjects:[],selectedSubject:null,currentQuiz:null,userAnswers:{},score:0,userName:"",userProfile:null,resumeSessionAvailable:!1,isMobileApp:!1,setAppState:e=>t({appState:e}),setLicenses:e=>t({licenses:e}),setSelectedLicense:e=>t({selectedLicense:e}),setSubjects:e=>t({subjects:e}),setSelectedSubject:e=>t({selectedSubject:e}),setCurrentQuiz:e=>t({currentQuiz:e}),setUserAnswers:e=>t({userAnswers:e}),setScore:e=>t({score:e}),setUserName:e=>t({userName:e}),setUserProfile:e=>t({userProfile:e}),setResumeSessionAvailable:e=>t({resumeSessionAvailable:e}),setIsMobileApp:e=>t({isMobileApp:e}),resetQuizState:()=>t({currentQuiz:null,userAnswers:{},score:0})})),KV=({onStart:t,onLoginClick:e,onRegisterClick:r})=>{const{theme:n}=sa();return m.jsx("div",{className:"text-center p-4 animate-slide-in-right",children:m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 md:p-12 max-w-2xl mx-auto relative",children:[n==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/MH9hVp8S/happy-techers-day.jpg",alt:"Icon Chc mng Ngy Nh gio",className:"h-24 w-24 mx-auto mb-4 rounded-full object-cover"}):n==="noel"?m.jsx(gg,{className:"h-24 w-24 mx-auto text-primary mb-4"}):m.jsx(gg,{className:"h-24 w-24 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-foreground mb-2",children:"ng Dng n tp"}),n==="tri-an"&&m.jsx("p",{className:"text-xl font-semibold text-primary mb-4",children:"Phin bn c bit Tri n Thy C"}),n==="noel"&&m.jsx("p",{className:"text-xl font-semibold text-primary mb-4",children:"Cho n Ging Sinh An Lnh"}),m.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Cho mng anh/ch  n vi ng dng n tp, n thi chng ch chuyn mn phng tin thy ni a."}),n==="tri-an"&&m.jsx("p",{className:"text-lg text-muted-foreground mb-8 italic",children:'"Nhn ngy Nh gio Vit Nam 20-11, knh chc qu thy c lun mnh khe, hnh phc v thnh cng trong s nghip trng ngi."'}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold text-lg py-4 px-10 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Bt u"}),m.jsx("button",{onClick:e,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold text-lg py-4 px-10 rounded-lg hover:bg-secondary/80 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300",children:"ng nhp"})]}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:r,className:"text-primary hover:underline font-medium",children:"Cha c ti khon? ng k ngay"})})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const vCe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,a)=>{r.platforms.set(s,a)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},yCe=t=>t.CapacitorPlatforms=vCe(t),kte=yCe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});kte.addPlatform;kte.setPlatform;var Dg;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Dg||(Dg={}));let nN=class extends Error{constructor(e,r){super(e),this.message=e,this.code=r}};const xCe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},bCe=t=>{var e,r,n,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},u=t.CapacitorPlatforms,f=()=>a!==null?a.name:xCe(t),h=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,g=()=>h()!=="web",v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||g,x=S=>{const I=R.get(S);return!!(I!=null&&I.platforms.has(h())||E(S))},b=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||x,w=S=>{var I;return(I=o.PluginHeaders)===null||I===void 0?void 0:I.find(O=>O.name===S)},E=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||w,A=S=>t.console.error(S),k=(S,I,O)=>Promise.reject(`${O} does not have an implementation of "${I}".`),R=new Map,j=(S,I={})=>{const O=R.get(S);if(O)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),O.proxy;const D=h(),M=E(S);let F;const U=async()=>(!F&&D in I?F=typeof I[D]=="function"?F=await I[D]():F=I[D]:a!==null&&!F&&"web"in I&&(F=typeof I.web=="function"?F=await I.web():F=I.web),F),le=(ge,q)=>{var z,V;if(M){const W=M==null?void 0:M.methods.find(Y=>q===Y.name);if(W)return W.rtype==="promise"?Y=>o.nativePromise(S,q.toString(),Y):(Y,ue)=>o.nativeCallback(S,q.toString(),Y,ue);if(ge)return(z=ge[q])===null||z===void 0?void 0:z.bind(ge)}else{if(ge)return(V=ge[q])===null||V===void 0?void 0:V.bind(ge);throw new nN(`"${S}" plugin is not implemented on ${D}`,Dg.Unimplemented)}},de=ge=>{let q;const z=(...V)=>{const W=U().then(Y=>{const ue=le(Y,ge);if(ue){const me=ue(...V);return q=me==null?void 0:me.remove,me}else throw new nN(`"${S}.${ge}()" is not implemented on ${D}`,Dg.Unimplemented)});return ge==="addListener"&&(W.remove=async()=>q()),W};return z.toString=()=>`${ge.toString()}() { [capacitor code] }`,Object.defineProperty(z,"name",{value:ge,writable:!1,configurable:!1}),z},J=de("addListener"),Q=de("removeListener"),fe=(ge,q)=>{const z=J({eventName:ge},q),V=async()=>{const Y=await z;Q({eventName:ge,callbackId:Y},q)},W=new Promise(Y=>z.then(()=>Y({remove:V})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},W},ee=new Proxy({},{get(ge,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?fe:J;case"removeListener":return Q;default:return de(q)}}});return l[S]=ee,R.set(S,{name:S,proxy:ee,platforms:new Set([...Object.keys(I),...M?[D]:[]])}),ee},P=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||j;return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=h,o.handleError=A,o.isNativePlatform=v,o.isPluginAvailable=b,o.pluginMethodNoop=k,o.registerPlugin=P,o.Exception=nN,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},wCe=t=>t.Capacitor=bCe(t),RE=wCe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),_Ce=RE.registerPlugin;RE.Plugins;let iat=class{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(e,r),a=Promise.resolve({remove:s});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),a}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){const n=this.listeners[e];n&&n.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new RE.Exception(e,Dg.Unimplemented)}unavailable(e="not available"){return new RE.Exception(e,Dg.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}};var YV;(function(t){t[t.NONE=0]="NONE",t[t.TOUCH_ID=1]="TOUCH_ID",t[t.FACE_ID=2]="FACE_ID",t[t.FINGERPRINT=3]="FINGERPRINT",t[t.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",t[t.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",t[t.MULTIPLE=6]="MULTIPLE"})(YV||(YV={}));var XV;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",t[t.USER_LOCKOUT=2]="USER_LOCKOUT",t[t.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",t[t.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",t[t.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",t[t.APP_CANCEL=11]="APP_CANCEL",t[t.INVALID_CONTEXT=12]="INVALID_CONTEXT",t[t.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",t[t.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",t[t.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",t[t.USER_CANCEL=16]="USER_CANCEL",t[t.USER_FALLBACK=17]="USER_FALLBACK"})(XV||(XV={}));const Cte=_Ce("NativeBiometric",{web:()=>Fn(()=>import("./web-CUPILzB5.js"),[]).then(t=>new t.NativeBiometricWeb)});/*! Capacitor: https://capacitorjs.com/ - MIT License */const ECe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,a)=>{r.platforms.set(s,a)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},TCe=t=>t.CapacitorPlatforms=ECe(t),Nte=TCe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Nte.addPlatform;Nte.setPlatform;var Mg;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Mg||(Mg={}));class iN extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const SCe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},ACe=t=>{var e,r,n,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},u=t.CapacitorPlatforms,f=()=>a!==null?a.name:SCe(t),h=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||f,g=()=>h()!=="web",v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||g,x=S=>{const I=R.get(S);return!!(I!=null&&I.platforms.has(h())||E(S))},b=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||x,w=S=>{var I;return(I=o.PluginHeaders)===null||I===void 0?void 0:I.find(O=>O.name===S)},E=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||w,A=S=>t.console.error(S),k=(S,I,O)=>Promise.reject(`${O} does not have an implementation of "${I}".`),R=new Map,j=(S,I={})=>{const O=R.get(S);if(O)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),O.proxy;const D=h(),M=E(S);let F;const U=async()=>(!F&&D in I?F=typeof I[D]=="function"?F=await I[D]():F=I[D]:a!==null&&!F&&"web"in I&&(F=typeof I.web=="function"?F=await I.web():F=I.web),F),le=(ge,q)=>{var z,V;if(M){const W=M==null?void 0:M.methods.find(Y=>q===Y.name);if(W)return W.rtype==="promise"?Y=>o.nativePromise(S,q.toString(),Y):(Y,ue)=>o.nativeCallback(S,q.toString(),Y,ue);if(ge)return(z=ge[q])===null||z===void 0?void 0:z.bind(ge)}else{if(ge)return(V=ge[q])===null||V===void 0?void 0:V.bind(ge);throw new iN(`"${S}" plugin is not implemented on ${D}`,Mg.Unimplemented)}},de=ge=>{let q;const z=(...V)=>{const W=U().then(Y=>{const ue=le(Y,ge);if(ue){const me=ue(...V);return q=me==null?void 0:me.remove,me}else throw new iN(`"${S}.${ge}()" is not implemented on ${D}`,Mg.Unimplemented)});return ge==="addListener"&&(W.remove=async()=>q()),W};return z.toString=()=>`${ge.toString()}() { [capacitor code] }`,Object.defineProperty(z,"name",{value:ge,writable:!1,configurable:!1}),z},J=de("addListener"),Q=de("removeListener"),fe=(ge,q)=>{const z=J({eventName:ge},q),V=async()=>{const Y=await z;Q({eventName:ge,callbackId:Y},q)},W=new Promise(Y=>z.then(()=>Y({remove:V})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await V()},W},ee=new Proxy({},{get(ge,q){switch(q){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?fe:J;case"removeListener":return Q;default:return de(q)}}});return l[S]=ee,R.set(S,{name:S,proxy:ee,platforms:new Set([...Object.keys(I),...M?[D]:[]])}),ee},P=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||j;return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=h,o.handleError=A,o.isNativePlatform=v,o.isPluginAvailable=b,o.pluginMethodNoop=k,o.registerPlugin=P,o.Exception=iN,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},kCe=t=>t.Capacitor=ACe(t),Lg=kCe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),UP=Lg.registerPlugin;Lg.Plugins;class Ite{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Lg.Exception(e,Mg.Unimplemented)}unavailable(e="not available"){return new Lg.Exception(e,Mg.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const QV=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),JV=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class CCe extends Ite{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=JV(i).trim(),s=JV(s).trim(),r[i]=s}),r}async setCookie(e){try{const r=QV(e.key),n=QV(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}UP("CapacitorCookies",{web:()=>new CCe});const NCe=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),ICe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},OCe=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(u=>{o=e?encodeURIComponent(u):u,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${n}&${l}`},"").substr(1):null,RCe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=ICe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);r.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);r.body=s;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class PCe extends Ite{async request(e){const r=RCe(e,e.webFetchExtra),n=OCe(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,s=await fetch(i,r),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,u;switch(o){case"arraybuffer":case"blob":u=await s.blob(),l=await NCe(u);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const f={};return s.headers.forEach((h,g)=>{f[g]=h}),{data:l,headers:f,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}UP("CapacitorHttp",{web:()=>new PCe});const VP=UP("Preferences",{web:()=>Fn(()=>import("./web-B20mEobV.js"),[]).then(t=>new t.PreferencesWeb)}),zP="biometric_credentials",jCe=async()=>{if(!Lg.isNativePlatform())return!1;try{return(await Cte.isAvailable()).isAvailable}catch{return!1}},DCe=async(t,e)=>{try{await VP.set({key:zP,value:JSON.stringify({email:t,pass:e})}),console.log("Credentials saved for biometric login.")}catch(r){console.error("Error saving credentials:",r)}},MCe=async()=>{const{value:t}=await VP.get({key:zP});return!!t},LCe=async()=>{try{if(!await jCe())throw new Error("Biometric not available");await Cte.verifyIdentity({reason:"Chm vn tay  ng nhp",title:"ng nhp",subtitle:"S dng vn tay ca bn",description:"Xc thc  truy cp ti khon  lu"});const{value:r}=await VP.get({key:zP});return r?JSON.parse(r):null}catch(t){return console.error("Biometric verification failed:",t),null}},FCe=async t=>{const e=t.trim();return e.includes("@")?e:`${e}@gmail.com`},BCe=({onBack:t})=>{const[e,r]=N.useState(""),[n,i]=N.useState(""),[s,a]=N.useState(!1),[o,l]=N.useState(null),[u,f]=N.useState(null),[h,g]=N.useState(!1),[v,x]=N.useState(""),[b,w]=N.useState(!1),[E,A]=N.useState(!1);N.useEffect(()=>{k()},[]);const k=async()=>{const S=await MCe();A(S)},R=async()=>{a(!0),l(null);const S=await LCe();if(S)try{await LC(Js,c5),await l5(Js,S.email,S.pass)}catch(I){a(!1),console.error("Bio login failed:",I),l("ng nhp vn tay tht bi (phin ht hn hoc i mt khu).")}else a(!1)},j=async S=>{S.preventDefault(),a(!0),l(null);try{const I=await FCe(e);b?await LC(Js,c5):await LC(Js,GR),await l5(Js,I,n),b&&await DCe(I,n)}catch(I){console.error("Login failed:",I),I.code==="auth/invalid-email"?l("Tn ng nhp hoc email khng hp l."):I.code==="auth/user-not-found"||I.code==="auth/wrong-password"||I.code==="auth/invalid-credential"?l("Ti khon hoc mt khu khng chnh xc."):l("ng nhp tht bi. Vui lng th li.")}finally{Js.currentUser||a(!1)}},P=async S=>{if(S.preventDefault(),!!v){a(!0),l(null),f(null);try{await Rwe(Js,v),f(` gi email khi phc n ${v}. Vui lng kim tra hp th (c mc Spam).`),x("")}catch(I){console.error("Reset password failed:",I),I.code==="auth/user-not-found"?l("Email ny cha c ng k."):I.code==="auth/invalid-email"?l("Email khng hp l."):l("Gi email tht bi. Vui lng th li sau.")}finally{a(!1)}}};return h?m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:()=>{g(!1),l(null),f(null)},className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:m.jsx(D0,{className:"h-10 w-10 text-primary"})}),m.jsx("div",{className:"h-20 w-20 mx-auto text-primary mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:m.jsx(TE,{className:"text-4xl"})}),m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Khi phc mt khu"}),m.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Nhp email ca bn  nhn lin kt t li mt khu."})]}),m.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:P,children:[o&&m.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md mb-4 text-center text-sm",children:o}),u&&m.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center text-sm",children:u}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Email ng k"}),m.jsx("input",{type:"email",value:v,onChange:S=>x(S.target.value),placeholder:"email@example.com",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 disabled:opacity-50",children:s?"ang gi...":"Gi yu cu"})]})})]}):m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(D0,{className:"h-10 w-10 text-primary"})}),m.jsx(gg,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"ng nhp"}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Truy cp vo h thng qun l hc tp."})]}),m.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:j,children:[o&&m.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md mb-4 text-center",children:o}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"account",className:"block text-sm font-medium text-card-foreground mb-2",children:"Ti khon"}),m.jsx("input",{id:"account",type:"text",value:e,onChange:S=>r(S.target.value),placeholder:"Nhp ti khon hoc email",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-card-foreground mb-2",children:"Mt khu"}),m.jsx("input",{id:"password",type:"password",value:n,onChange:S=>i(S.target.value),placeholder:"",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0})]}),m.jsx("div",{className:"flex justify-end mb-4",children:m.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-primary hover:underline",children:"Qun mt khu?"})}),m.jsxs("div",{className:"mb-6 flex items-center gap-2 cursor-pointer",onClick:()=>w(!b),children:[b?m.jsx(s4e,{className:"text-primary text-xl"}):m.jsx(b4e,{className:"text-gray-400 text-xl"}),m.jsx("span",{className:"text-sm text-muted-foreground select-none",children:"Ghi nh ng nhp"})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 disabled:opacity-50 disabled:cursor-wait mb-4",children:s?"ang x l...":"ng nhp"}),E&&m.jsx("div",{className:"flex justify-center mt-4",children:m.jsxs("button",{type:"button",onClick:R,disabled:s,className:"flex flex-col items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[m.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:m.jsx(m4e,{className:"text-3xl"})}),m.jsx("span",{className:"text-sm font-medium",children:"ng nhp bng vn tay"})]})})]})})]})},UCe=({onBack:t,onSuccess:e})=>{const[r,n]=N.useState(""),[i,s]=N.useState(""),[a,o]=N.useState(""),[l,u]=N.useState(""),[f,h]=N.useState(""),[g,v]=N.useState(""),[x,b]=N.useState(""),[w,E]=N.useState(!1),[A,k]=N.useState(null),R=async j=>{if(j.preventDefault(),E(!0),k(null),i.length<6){k("Mt khu phi c t nht 6 k t."),E(!1);return}if(i!==a){k("Mt khu xc nhn khng khp."),E(!1);return}try{const S=(await WR(Js,r.trim(),i)).user,I=r.split("@")[0].toLowerCase();await cv(Ft(Ye,"users",S.uid),{email:S.email,fullName:l.trim(),phoneNumber:g.trim(),birthDate:x,role:"hoc_vien",class:f.trim(),username:I,createdAt:Ua()}),console.log("Registration successful"),e()}catch(P){console.error("Registration failed:",P),P.code==="auth/email-already-in-use"?k("Email ny  c s dng."):P.code==="auth/invalid-email"?k("Email khng hp l."):P.code==="auth/weak-password"?k("Mt khu qu yu."):k("ng k tht bi. Vui lng th li.")}finally{E(!1)}};return m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-6",children:[m.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-2 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:m.jsx(D0,{className:"h-8 w-8 text-primary"})}),m.jsx(gg,{className:"h-16 w-16 mx-auto text-primary mb-2"}),m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"ng K"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"To ti khon hc vin mi"})]}),m.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[A&&m.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md text-sm text-center",children:A}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"H v Tn *"}),m.jsx("input",{type:"text",value:l,onChange:j=>u(j.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nguyn Vn A"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Lp Hc *"}),m.jsx("input",{type:"text",value:f,onChange:j=>h(j.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nhp tn lp (GV s duyt)"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Ngy sinh"}),m.jsx("input",{type:"date",value:x,onChange:j=>b(j.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"ST"}),m.jsx("input",{type:"tel",value:g,onChange:j=>v(j.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"09..."})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Email *"}),m.jsx("input",{type:"email",value:r,onChange:j=>n(j.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"email@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Mt khu *"}),m.jsx("input",{type:"password",value:i,onChange:j=>s(j.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"t nht 6 k t"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Xc nhn mt khu *"}),m.jsx("input",{type:"password",value:a,onChange:j=>o(j.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nhp li mt khu"})]}),m.jsx("button",{type:"submit",disabled:w,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 mt-4 disabled:opacity-50",children:w?"ang to ti khon...":"ng K"})]})})]})},VCe=(t,e)=>{const r="h-14 w-14 mx-auto text-primary mb-3 object-contain",n="h-14 w-14 mx-auto mb-3 object-cover rounded-full border-2 border-border/20 shadow-sm",i="h-14 w-14 mx-auto mb-3 object-contain drop-shadow-lg",s=t.name.toLowerCase();if(e==="noel")return s.includes("thuyn trng")?m.jsx("img",{src:"/assets/img/hat.png",alt:"Captain Hat",className:i}):s.includes("my trng")?m.jsx("img",{src:"/assets/img/gift4.png",alt:"Chief Engineer",className:i}):s.includes("thy th")?m.jsx("img",{src:"/assets/img/bell.png",alt:"Sailor",className:i}):s.includes("li phng tin")?m.jsx("img",{src:"/assets/img/tree.png",alt:"Helm",className:i}):s.includes("chng ch")?m.jsx("img",{src:"/assets/img/star-gold.png",alt:"Certificate",className:i}):m.jsx("img",{src:"/assets/img/gift5.png",alt:"Default",className:i});if(e==="tri-an")switch(t.id){case"thuyentruong-h1":return m.jsx("img",{src:"https://i.postimg.cc/Vs76y54F/8.jpg",alt:t.name,className:n});case"thuyentruong-h2":return m.jsx("img",{src:"https://i.postimg.cc/Pf6xGNK4/9.jpg",alt:t.name,className:n});case"thuyentruong-h3":return m.jsx("img",{src:"https://i.postimg.cc/Vs76y54W/7.jpg",alt:t.name,className:n});case"thuythu":return m.jsx(DI,{className:r});case"lai-phuong-tien":return m.jsx(gg,{className:r});case"maytruong-h1":return m.jsx("img",{src:"https://i.postimg.cc/zDpm90H6/undefined.jpg",alt:t.name,className:n});case"maytruong-h2":return m.jsx("img",{src:"https://i.postimg.cc/wMwSLjdc/Teachers-day-background-design-art-illustration.jpg",alt:t.name,className:n});case"maytruong-h3":return m.jsx("img",{src:"https://i.postimg.cc/NFdWmjwH/Hinh-thiep.jpg",alt:t.name,className:n});case"thomay":return m.jsx("img",{src:"https://i.postimg.cc/cJYy2WQN/hinh-nen-3.jpg",alt:t.name,className:n});case"caotoc":return m.jsx("img",{src:"https://i.postimg.cc/dQWMQybn/5.jpg",alt:t.name,className:n});case"ven-bien":return m.jsx("img",{src:"https://i.postimg.cc/zDdmDgs0/6.jpg",alt:t.name,className:n});case"antoan-ven-bien":return m.jsx("img",{src:"https://i.postimg.cc/ZYFWdtv0/BOARD.webp",alt:t.name,className:n});case"antoan-xang-dau":return m.jsx("img",{src:"https://i.postimg.cc/T2k82Dzc/4.jpg",alt:t.name,className:n});case"antoan-hoa-chat":return m.jsx("img",{src:"https://i.postimg.cc/mZVx08Ff/World-Teacher-s-Day-Flowers-Border-Pink.jpg",alt:t.name,className:n});default:return s.includes("chng ch")?m.jsx(XF,{className:r}):m.jsx(YF,{className:r})}return s.includes("thuyn trng")?m.jsx(Bge,{className:r}):s.includes("my trng")?m.jsx(Fge,{className:r}):s.includes("thy th")?m.jsx(DI,{className:r}):s.includes("li phng tin")?m.jsx(gg,{className:r}):s.includes("chng ch")?m.jsx(XF,{className:r}):m.jsx(YF,{className:r})},zCe=({licenses:t,onSelect:e,onBack:r})=>{const{theme:n}=sa();return m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(D0,{className:"h-10 w-10 text-primary"})}),n==="noel"?m.jsx("img",{src:"/assets/img/tree.png",alt:"Tree",className:"h-20 w-20 mx-auto mb-4 object-contain drop-shadow-lg"}):m.jsx(DI,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Chn Hng Bng"}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Anh/ch vui lng chn hng bng mun n tp v thi th."})]}),m.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(i=>{const s=i.subjects.reduce((a,o)=>a+o.questions.length,0);return m.jsxs("button",{onClick:()=>e(i),className:"group w-full p-4 bg-background rounded-lg text-center hover:bg-primary/10 transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-ring focus:outline-none",children:[VCe(i,n),m.jsx("h3",{className:"text-md font-bold text-primary",children:i.name}),m.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[i.subjects.length," mn - ",s," cu"]})]},i.id)})})})]})},$Ce=({onNameSubmit:t,onBack:e})=>{const[r,n]=N.useState(""),i=s=>{s.preventDefault();const a=r.trim();t(a||"Hc vin")};return m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx(Mge,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsxs("div",{className:"relative flex justify-center items-center",children:[m.jsx("div",{className:"absolute left-0",children:m.jsx("button",{onClick:e,className:"bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(D0,{className:"h-10 w-10 text-primary"})})}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Thng tin ca anh/ch"})]}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Nhp tn  ti c th lu li tin  hc tp cho anh/ch."})]}),m.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:i,children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-card-foreground mb-2",children:"Tn ca anh/ch"}),m.jsx("input",{id:"name",type:"text",value:r,onChange:s=>n(s.target.value),placeholder:"V d: Nguyn Vn A (c th b trng)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",autoFocus:!0}),m.jsx("button",{type:"submit",className:"mt-6 w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300",children:"Xc nhn"})]})})]})},HCe=({onModeSelect:t,licenseName:e,userName:r,onSwitchLicense:n})=>m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("div",{className:"absolute right-0 top-0",children:m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground hover:text-primary transition-all duration-300 py-1 px-2 rounded-md hover:bg-secondary",title:"Chn li hng bng",children:[m.jsx(Lge,{className:"h-4 w-4"}),m.jsx("span",{children:"Chn li hng bng"})]})}),m.jsxs("h1",{className:"text-4xl font-bold text-foreground",children:["Cho anh/ch ",r,"!"]}),m.jsxs("p",{className:"text-lg text-muted-foreground mt-2",children:["Anh/ch ang hc hng bng ",m.jsx("span",{className:"font-semibold text-primary",children:e}),"."]}),m.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:"Hy chn mt ch   bt u."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{onClick:()=>t("practice"),className:"group bg-card text-card-foreground p-8 rounded-2xl shadow-lg text-center hover:bg-primary/10 transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-ring",children:[m.jsx(K6,{className:"h-16 w-16 mx-auto text-primary mb-4 transition-transform group-hover:scale-110"}),m.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"n tp"}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Luyn tp tng mn  nm vng kin thc."})]}),m.jsxs("button",{onClick:()=>t("online_exam"),className:"group bg-card text-card-foreground p-8 rounded-2xl shadow-lg text-center hover:bg-destructive/10 transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-ring",children:[m.jsx(Uge,{className:"h-16 w-16 mx-auto text-destructive mb-4 transition-transform group-hover:scale-110"}),m.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"Thi th"}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Lm bi thi 30 cu ngu nhin trong 45 pht."})]})]})]}),ZV=t=>{if(!t)return"";const e=new Date(t),r=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return`(${r}/${n} ${i}:${s})`},qCe=({subjects:t,progress:e,onSelect:r,onBack:n})=>m.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:n,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(D0,{className:"h-10 w-10 text-primary"})}),m.jsx(K6,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Chn Mn hc"}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Chn mt mn  bt u n tp."})]}),m.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:m.jsx("div",{className:"space-y-3",children:t.map(i=>{const s=e[i.id],a=s&&s.lastScore!==null;return m.jsxs("button",{onClick:()=>r(i),className:"w-full flex items-center justify-between p-5 bg-background rounded-lg text-left hover:bg-primary/10 transition-all duration-300 transform hover:scale-[1.02] focus:ring-4 focus:ring-ring focus:outline-none",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-primary",children:i.name}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.questions.length," cu hi"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[a&&m.jsxs("div",{className:"text-right text-sm",children:[m.jsxs("p",{className:"text-muted-foreground flex items-center justify-end",children:[m.jsx("span",{children:"Ln cui:"}),m.jsxs("span",{className:"font-semibold text-primary ml-1",children:[s.lastScore,"/",i.questions.length]}),s.lastScoreTimestamp&&m.jsx("span",{className:"ml-1.5 text-xs text-muted-foreground/80",children:ZV(s.lastScoreTimestamp)})]}),m.jsxs("p",{className:"text-muted-foreground flex items-center justify-end mt-0.5",children:[m.jsx("span",{children:"Cao nht:"}),m.jsxs("span",{className:"font-semibold text-success ml-1",children:[s.highScore,"/",i.questions.length]}),s.highScoreTimestamp&&m.jsx("span",{className:"ml-1.5 text-xs text-muted-foreground/80",children:ZV(s.highScoreTimestamp)})]})]}),m.jsx(Dge,{className:"h-6 w-6 text-muted-foreground"})]})]},i.id)})})})]}),WCe=({quiz:t,onFinish:e,onBack:r,initialIndex:n=0,initialAnswers:i={},onProgressUpdate:s})=>{const[a,o]=N.useState(n),[l,u]=N.useState(i);if(!t.questions||t.questions.length===0)return m.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 text-center",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cha c cu hi no trong ch  ny."}),m.jsx("button",{onClick:r,className:"bg-primary text-primary-foreground hover:bg-primary/90 py-2 px-4 rounded-lg",children:"Quay li"})]});const f=N.useMemo(()=>t.questions[a],[t.questions,a]);if(!f)return m.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 text-center",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"C li xy ra khi ti cu hi."}),m.jsx("button",{onClick:r,className:"bg-primary text-primary-foreground py-2 px-4 rounded-lg",children:"Quay li"})]});const h=N.useMemo(()=>l[f.id]!==void 0,[l,f.id]),g=N.useMemo(()=>l[f.id]||null,[l,f.id]);N.useEffect(()=>{s==null||s(a,0,l)},[a,l]);const v=()=>{e(l)},x=E=>{h||u(A=>({...A,[f.id]:E}))},b=()=>{a===t.questions.length-1?v():o(A=>A+1)},w=a/t.questions.length*100;return m.jsx("div",{className:"w-full max-w-3xl mx-auto p-4 md:p-6 animate-slide-in-right font-quiz-default",children:m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-6 md:p-8",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 relative",children:[m.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-background/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-card transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(D0,{className:"h-10 w-10"})}),m.jsx("h1",{className:"text-xl font-bold text-foreground text-center flex-grow",children:t.title}),m.jsx("button",{onClick:v,className:"bg-secondary text-secondary-foreground hover:bg-secondary/80 text-sm font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Kt thc"})]}),m.jsx("div",{className:"w-full bg-secondary rounded-full h-2.5 mb-2",children:m.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),m.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:m.jsxs("span",{children:["Cu ",a+1," / ",t.questions.length]})})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-5 text-foreground",children:f.text}),f.image&&m.jsx("div",{className:"mb-6 rounded-lg overflow-hidden",children:m.jsx("img",{src:f.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),m.jsx("div",{className:"space-y-3",children:f.answers.map(E=>{const A=g===E.id;let k="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 flex items-center justify-between text-lg";const R=E.id===f.correctAnswerId;return h?R?k+=" bg-success/10 border-success text-success":A&&!R?k+=" bg-destructive/10 border-destructive text-destructive":k+=" border-border text-muted-foreground":A?k+=" bg-primary/10 border-primary ring-2 ring-primary text-primary-foreground":k+=" bg-background hover:bg-muted border-border text-foreground",m.jsxs("button",{onClick:()=>x(E.id),disabled:h,className:k,children:[m.jsx("span",{className:"flex-grow",children:E.text}),h&&m.jsxs(m.Fragment,{children:[R&&m.jsx(W6,{className:"h-6 w-6 text-success ml-3"}),A&&!R&&m.jsx(G6,{className:"h-6 w-6 text-destructive ml-3"})]})]},E.id)})}),m.jsx("div",{className:"mt-8",children:m.jsx("div",{className:"text-right",children:h?m.jsx("button",{onClick:b,className:"bg-success text-success-foreground font-bold py-3 px-8 rounded-lg hover:bg-success/90 transition-all duration-300 animate-slide-in-right",children:a===t.questions.length-1?"Hon thnh":"Cu tip theo"}):m.jsx("div",{className:"h-[48px]"})})})]})]})})},GCe=t=>{const e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},KCe=({checked:t,onChange:e})=>m.jsx("div",{onClick:e,className:`w-[14px] h-[14px] border border-[#999] inline-block cursor-pointer bg-white relative ${t?"bg-[#333]":""}`,children:t&&m.jsx("div",{className:"absolute top-[2px] left-[2px] w-[8px] h-[8px] bg-[#333]"})}),YCe=t=>{if(!t)return"---";if(/^\d{2}\/\d{2}\/\d{4}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,r,n]=t.split("-");return`${n}/${r}/${e}`}return t},Ote=({quiz:t,onFinish:e,onBack:r,userName:n,userProfile:i,selectedLicense:s,initialIndex:a=0,initialAnswers:o={},initialTime:l,onProgressUpdate:u})=>{const[f,h]=N.useState(a),[g,v]=N.useState(o),[x,b]=N.useState(l!==void 0?l:t.timeLimit??3600),w=N.useMemo(()=>t.questions[f],[t.questions,f]),E=N.useRef(g);N.useEffect(()=>{E.current=g,u==null||u(f,x,g)},[g]),N.useEffect(()=>{u==null||u(f,x,g)},[f]),N.useEffect(()=>{x%5===0&&(u==null||u(f,x,g))},[x]);const A=()=>{window.confirm("Anh/ch c chc chn mun thot khi bi thi khng? Mi tin trnh s b mt.")&&r()},k=N.useCallback(()=>{const P=E.current,S=t.questions.length-Object.keys(P).length,I=S>0?`Anh/ch vn cn ${S} cu cha tr li. Anh/ch c chc chn mun np bi khng?`:"Anh/ch  hon thnh tt c cc cu hi. Anh/ch c mun np bi khng?";window.confirm(I)&&e(P)},[t.questions.length,e]),R=N.useRef(e);N.useEffect(()=>{R.current=e},[e]),N.useEffect(()=>{const P=setInterval(()=>{b(S=>S>0?S-1:0)},1e3);return()=>clearInterval(P)},[]),N.useEffect(()=>{x===0&&(alert(" ht gi lm bi! H thng s t ng np bi ca anh/ch."),R.current(E.current))},[x]);const j=(P,S)=>{v(I=>({...I,[P]:S}))};return m.jsxs("div",{className:"w-full max-w-7xl mx-auto font-sans text-black shadow-lg animate-slide-in-right rounded-md",children:[m.jsx("div",{className:"h-3 bg-yellow-700 rounded-t-md border-b-2 border-yellow-900"}),m.jsxs("div",{className:"bg-white p-4",children:[m.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-300",children:[m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("img",{src:(i==null?void 0:i.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}`,alt:"Avatar",className:"w-[100px] h-[130px] border border-gray-300 object-cover p-1 bg-white",onError:P=>{P.target.src="https://i.postimg.cc/8PDn1wfM/favicon.png"}}),m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsx("p",{className:"font-bold text-blue-700 text-lg uppercase",children:(i==null?void 0:i.full_name)||(i==null?void 0:i.fullName)||n||"Hc vin"}),m.jsxs("p",{children:["S bo danh: ",m.jsx("span",{className:"font-semibold text-gray-800",children:((i==null?void 0:i.email)||"").split("@")[0]||"---"})]}),m.jsxs("p",{children:["Ngy sinh: ",m.jsx("span",{className:"font-semibold text-gray-800",children:YCe(i==null?void 0:i.birthDate)})]}),m.jsxs("p",{children:["a ch: ",m.jsx("span",{className:"font-semibold text-gray-800",children:(i==null?void 0:i.address)||"---"})]}),m.jsxs("p",{children:["Lp: ",m.jsx("span",{className:"font-semibold text-gray-800",children:(i==null?void 0:i.class)||(i==null?void 0:i.courseName)||"---"})]}),m.jsxs("p",{children:["Hng bng: ",m.jsx("span",{className:"font-bold text-red-600 border border-red-500 px-1 rounded bg-red-50",children:(s==null?void 0:s.name)||"---"})]})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsxs("div",{className:"bg-[#f0ad4e] text-black p-2 rounded-md text-sm w-48",children:[m.jsx("p",{className:"font-bold",children:"ang thi"}),m.jsx("p",{children:"Thi gian: 45 pht"}),m.jsx("p",{children:"B gi: 0 pht"}),m.jsxs("p",{children:["Cn li: ",m.jsx("span",{className:"font-bold",children:GCe(x)})]})]}),m.jsx("button",{onClick:A,className:"text-sm text-gray-600 hover:text-red-500 font-semibold",children:"Thot"})]})]}),m.jsxs("div",{className:"flex mt-4 gap-4",children:[m.jsxs("div",{className:"flex-1 border border-gray-400 rounded-md p-4 flex flex-col justify-between min-h-[500px]",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold mb-4 border-b border-dashed border-gray-400 pb-2",children:"Ni dung cu hi"}),m.jsxs("p",{className:"font-bold text-red-600 mb-2",children:["Cu :",f+1]}),m.jsx("p",{className:"mb-4 font-semibold",children:w.text}),w.image&&m.jsx("div",{className:"mb-4 flex justify-start",children:m.jsx("img",{src:w.image,alt:"Hnh nh cu hi",className:"max-w-full h-auto max-h-60 object-contain border border-gray-300 rounded-md"})}),m.jsx("div",{className:"space-y-4",children:w.answers.map((P,S)=>m.jsxs("div",{className:"flex items-start",children:[m.jsxs("span",{className:"font-bold mr-2 text-gray-700 min-w-[20px]",children:[String.fromCharCode(65+S),"."]}),m.jsx("p",{children:P.text})]},P.id))})]}),m.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[m.jsxs("button",{onClick:()=>h(P=>Math.max(0,P-1)),disabled:f===0,className:"bg-[#f0ad4e] text-black px-4 py-2 rounded-md border border-gray-400 flex items-center font-semibold hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Tr li"]}),f<t.questions.length-1&&m.jsxs("button",{onClick:()=>h(P=>Math.min(t.questions.length-1,P+1)),className:"bg-[#f0ad4e] text-black px-4 py-2 rounded-md border border-gray-400 flex items-center font-semibold hover:bg-yellow-500 transition-colors",children:["Tip tc",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})]})]}),m.jsxs("div",{className:"w-[200px] flex-none flex flex-col",children:[m.jsx("div",{className:"border border-gray-300 rounded-md",children:m.jsxs("table",{className:"w-full border-collapse text-xs",children:[m.jsx("thead",{className:"sticky top-0 bg-[#f0ad4e] z-10",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-gray-400 p-2",children:"Cu"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"a"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"b"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"c"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"d"})]})}),m.jsx("tbody",{children:t.questions.map((P,S)=>m.jsxs("tr",{className:f===S?"bg-cyan-200":"hover:bg-gray-50",children:[m.jsxs("td",{className:`border border-gray-400 p-2 font-bold text-center cursor-pointer whitespace-nowrap ${f===S?"text-black":"text-gray-500"}`,onClick:()=>h(S),children:["Cu ",S+1]}),P.answers.slice(0,4).map(I=>m.jsx("td",{className:"border border-gray-400 p-2 text-center",children:m.jsx(KCe,{checked:g[P.id]===I.id,onChange:()=>j(P.id,I.id)})},I.id))]},P.id))})]})}),m.jsx("div",{className:"text-center mt-4 pt-2 border-t border-gray-200",children:m.jsx("button",{onClick:k,className:"bg-[#337ab7] text-white px-8 py-2 rounded-md font-semibold hover:bg-blue-700 transition-colors w-full",children:"Np bi"})})]})]}),m.jsxs("div",{className:"mt-4 bg-[#005a9c] text-white p-4 rounded-b-md flex items-center gap-4 text-xs",children:[m.jsx("img",{src:"https://i.postimg.cc/8PDn1wfM/favicon.png",alt:"Logo",className:"h-16 w-16 object-contain"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:"CNG TY C PHN T VN V GIO DC NINH BNH"}),m.jsx("p",{children:"a ch: ng Triu Vit Vng, phng Hoa L, tnh Ninh Bnh "})]})]})]})]})},XCe=({quiz:t,userAnswers:e,score:r,onRetry:n,onBack:i,userName:s})=>{const[a,o]=N.useState("all"),[l]=N.useState(()=>new Date),u=t.questions.length,f=r>=25,h=N.useMemo(()=>new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(l),[l]),g=N.useMemo(()=>a==="incorrect"?t.questions.filter(v=>e[v.id]!==v.correctAnswerId):t.questions,[a,t.questions,e]);return m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right font-quiz-default",children:[m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 text-center mb-8",children:[m.jsx(kX,{className:"h-24 w-24 mx-auto text-yellow-400 mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Kt qu Thi th"}),m.jsxs("div",{className:"my-4 text-muted-foreground",children:[m.jsxs("p",{className:"text-lg",children:["Th sinh: ",m.jsx("span",{className:"font-bold text-primary",children:s})]}),m.jsxs("p",{className:"text-sm",children:["Hon thnh lc: ",h]})]}),m.jsx("p",{className:`text-2xl font-bold mb-6 ${f?"text-success":"text-destructive"}`,children:f?"Chc mng, anh/ch  T!":"Rt tic, anh/ch KHNG T."}),m.jsxs("div",{className:`inline-block p-6 rounded-xl border ${f?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:[m.jsxs("p",{className:`text-5xl font-extrabold ${f?"text-success":"text-destructive"}`,children:[r," / ",u]}),m.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:"S cu ng"})]})]}),m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Xem li bi lm"}),m.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="all"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:"Tt c"}),m.jsxs("button",{onClick:()=>o("incorrect"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="incorrect"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:["Ch cu sai (",t.questions.length-r,")"]})]})]}),m.jsx("div",{className:"space-y-6 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map((v,x)=>{const b=e[v.id],w=v.correctAnswerId;return m.jsxs("div",{className:"p-4 border-b border-border last:border-b-0",children:[m.jsxs("p",{className:"font-semibold text-lg mb-3 text-foreground",children:[m.jsxs("span",{className:"mr-2",children:["Cu ",t.questions.findIndex(E=>E.id===v.id)+1,":"]}),v.text]}),v.image&&m.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:m.jsx("img",{src:v.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),m.jsx("div",{className:"space-y-2",children:v.answers.map(E=>{const A=E.id===b,k=E.id===w;let R="flex items-center p-3 rounded-md text-sm ";return k?R+="bg-success/10 text-success":A?R+="bg-destructive/10 text-destructive":R+="bg-muted/50 text-muted-foreground",m.jsxs("div",{className:R,children:[k?m.jsx(W6,{className:"h-5 w-5 mr-3 text-success"}):A?m.jsx(G6,{className:"h-5 w-5 mr-3 text-destructive"}):m.jsx("div",{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:E.text})]},E.id)})})]},v.id)}):m.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tuyt vi! Anh/ch  tr li ng tt c cc cu hi."})})]}),m.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[m.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold py-3 px-8 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Quay li"}),m.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold py-3 px-8 rounded-lg hover:bg-muted focus:outline-none focus:ring-4 focus:ring-ring transition-colors duration-300",children:"Lm li bi thi"})]})]})},QCe=({quiz:t,userAnswers:e,score:r,onRetry:n,onBack:i,userName:s})=>{const[a,o]=N.useState("all"),[l]=N.useState(()=>new Date),u=t.questions.length,f=u>0?Math.round(r/u*100):0,h=N.useMemo(()=>new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(l),[l]),g=N.useMemo(()=>a==="incorrect"?t.questions.filter(v=>e[v.id]!==v.correctAnswerId):t.questions,[a,t.questions,e]);return m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right font-quiz-default",children:[m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 text-center mb-8",children:[m.jsx(kX,{className:"h-24 w-24 mx-auto text-yellow-400 mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Kt qu n tp"}),m.jsxs("div",{className:"my-4 text-muted-foreground",children:[m.jsxs("p",{className:"text-lg",children:["Hc vin: ",m.jsx("span",{className:"font-bold text-primary",children:s})]}),m.jsxs("p",{className:"text-sm",children:["Hon thnh lc: ",h]})]}),m.jsxs("div",{className:"bg-primary/10 inline-block p-6 rounded-xl border border-primary/20 mt-4",children:[m.jsxs("p",{className:"text-5xl font-extrabold text-primary",children:[r," / ",u]}),m.jsxs("p",{className:"text-2xl font-semibold text-primary/80 mt-1",children:["(",f,"%)"]})]})]}),m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Xem li bi lm"}),m.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="all"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:"Tt c"}),m.jsxs("button",{onClick:()=>o("incorrect"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="incorrect"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:["Ch cu sai (",t.questions.length-r,")"]})]})]}),m.jsx("div",{className:"space-y-6 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map((v,x)=>{const b=e[v.id],w=v.correctAnswerId;return m.jsxs("div",{className:"p-4 border-b border-border last:border-b-0",children:[m.jsxs("p",{className:"font-semibold text-lg mb-3 text-foreground",children:[m.jsxs("span",{className:"mr-2",children:["Cu ",t.questions.findIndex(E=>E.id===v.id)+1,":"]}),v.text]}),v.image&&m.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:m.jsx("img",{src:v.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),m.jsx("div",{className:"space-y-2",children:v.answers.map(E=>{const A=E.id===b,k=E.id===w;let R="flex items-center p-3 rounded-md text-sm ";return k?R+="bg-success/10 text-success":A?R+="bg-destructive/10 text-destructive":R+="bg-muted/50 text-muted-foreground",m.jsxs("div",{className:R,children:[k?m.jsx(W6,{className:"h-5 w-5 mr-3 text-success"}):A?m.jsx(G6,{className:"h-5 w-5 mr-3 text-destructive"}):m.jsx("div",{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:E.text})]},E.id)})})]},v.id)}):m.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tuyt vi! Anh/ch  tr li ng tt c cc cu hi."})})]}),m.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[m.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold py-3 px-8 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Cc mn khc"}),m.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold py-3 px-8 rounded-lg hover:bg-muted focus:outline-none focus:ring-4 focus:ring-ring transition-colors duration-300",children:"Lm li"})]})]})},JCe="_card_108q9_3",ZCe="_header_108q9_45",eNe="_logoPlaceholder_108q9_69",tNe="_schoolName_108q9_97",rNe="_body_108q9_113",nNe="_cardTitle_108q9_135",iNe="_contentRow_108q9_157",sNe="_photoSection_108q9_169",aNe="_photoWrapper_108q9_179",oNe="_avatar_108q9_195",lNe="_infoSection_108q9_209",cNe="_infoRow_108q9_229",uNe="_label_108q9_239",dNe="_value_108q9_255",fNe="_valueHighlight_108q9_265",hNe="_footer_108q9_281",mNe="_barcode_108q9_299",nn={card:JCe,header:ZCe,logoPlaceholder:eNe,schoolName:tNe,body:rNe,cardTitle:nNe,contentRow:iNe,photoSection:sNe,photoWrapper:aNe,avatar:oNe,infoSection:lNe,infoRow:cNe,label:uNe,value:dNe,valueHighlight:fNe,footer:hNe,barcode:mNe},pNe=t=>{if(!t)return" --/--/----";if(/^\d{2}\/\d{2}\/\d{4}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,r,n]=t.split("-");return`${n}/${r}/${e}`}return t},gNe=({user:t})=>{const e=t.role!=="hoc_vien",r=e?"TH GIO VIN":"TH HC VIN",n=e?{background:"linear-gradient(135deg, #b91c1c 0%, #c2410c 100%)",borderBottom:"4px solid #fcd34d"}:{},i=e?{color:"#b91c1c",textShadow:"0px 1px 2px rgba(0,0,0,0.1)"}:{};return m.jsxs("div",{className:nn.card,style:e?{borderColor:"#fcd34d",boxShadow:"0 10px 25px -5px rgba(234, 88, 12, 0.3)"}:{},children:[m.jsxs("div",{className:nn.header,style:n,children:[m.jsx("div",{className:nn.logoPlaceholder,style:e?{color:"#fbbf24",background:"rgba(255,255,255,0.2)"}:{},children:m.jsx(E4e,{size:20})}),m.jsxs("div",{className:nn.schoolName,style:e?{color:"#fff",fontWeight:"800"}:{},children:["Cng ty C phn",m.jsx("br",{}),"T VN V GIO DC NINH BNH"]})]}),m.jsxs("div",{className:nn.body,children:[m.jsx("h2",{className:nn.cardTitle,style:i,children:r}),m.jsxs("div",{className:nn.contentRow,children:[m.jsx("div",{className:nn.photoSection,children:m.jsx("div",{className:nn.photoWrapper,style:e?{borderColor:"#fcd34d"}:{},children:m.jsx("img",{src:t.photoURL||(e?"/assets/img/avatar.webp":"/assets/img/avatar1.webp"),onError:s=>{const a=s.target;a.onerror=null,a.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.full_name||"User")}&background=random&size=150`},alt:"Avatar",className:nn.avatar})})}),m.jsxs("div",{className:nn.infoSection,children:[m.jsxs("div",{className:nn.infoRow,children:[m.jsx("span",{className:nn.label,children:"H tn:"}),m.jsxs("span",{className:`${nn.value} ${nn.valueHighlight}`,style:e?{color:"#b91c1c"}:{},children:[t.full_name||t.fullName||"---",t.isVerified&&m.jsx("span",{style:{marginLeft:"4px",color:"#22c55e",display:"inline-flex",alignItems:"center"},children:m.jsx(q0,{size:14})})]})]}),m.jsxs("div",{className:nn.infoRow,children:[m.jsx("span",{className:nn.label,children:"Ngy sinh: "}),m.jsxs("span",{className:nn.value,children:[" ",pNe(t.birthDate)]})]}),e?m.jsxs("div",{className:nn.infoRow,children:[m.jsx("span",{className:nn.label,children:"Phng: "}),m.jsx("span",{className:nn.value,style:{fontWeight:"bold"},children:" Phng o to - T vn hnh my tu thy"})]}):m.jsxs("div",{className:nn.infoRow,children:[m.jsx("span",{className:nn.label,children:"Lp hc: "}),m.jsx("span",{className:nn.value,children:t.courseName||"Cha vo kha"})]}),m.jsxs("div",{className:nn.infoRow,children:[m.jsx("span",{className:nn.label,children:"a ch:"}),m.jsx("span",{className:nn.value,style:{fontSize:"0.9rem"},children:t.address||"---"})]})]})]})]}),m.jsxs("div",{className:nn.footer,style:e?{background:"#fef2f2",borderTop:"1px dashed #fca5a5"}:{},children:[m.jsx("div",{className:nn.barcode,style:e?{opacity:.8}:{}}),m.jsxs("div",{style:{position:"absolute",bottom:"5px",fontSize:"0.6rem",color:e?"#991b1b":"#718096"},children:["ID: ",t.id?t.id.substring(0,10).toUpperCase():"---"]})]})]})},Ry=({label:t,count:e,color:r})=>m.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-800 p-4 rounded-xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:t}),m.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e})]}),m.jsx("div",{className:`w-3 h-3 rounded-full ${r} animate-pulse`})]}),vNe=({userRole:t})=>{if(!["admin","quan_ly","lanh_dao"].includes(t))return null;const[e,r]=N.useState({total:0,admins:0,teachers:0,students:0}),[n,i]=N.useState(0);return N.useEffect(()=>{if(!ra)return;const s=lo(ra,"status"),a=X1(s,o=>{if(!o.exists()){r({total:0,admins:0,teachers:0,students:0});return}const l=o.val();let u=0,f=0,h=0,g=0,v=0;Object.values(l).forEach(x=>{x.state==="online"&&(u++,["admin","quan_ly","lanh_dao"].includes(x.role)?f++:x.role==="giao_vien"?h++:x.role==="guest"?v++:g++)}),r({total:u,admins:f,teachers:h,students:g}),i(v)});return()=>a()},[]),m.jsxs(j0.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsx(Ry,{label:"Trc tuyn",count:e.total,color:"bg-blue-600"}),m.jsx(Ry,{label:"Khch",count:n,color:"bg-gray-500"}),m.jsx(Ry,{label:"Hc vin",count:e.students,color:"bg-green-600"}),m.jsx(Ry,{label:"Gio vin",count:e.teachers,color:"bg-orange-600"}),m.jsx(Ry,{label:"Qun l",count:e.admins,color:"bg-purple-600"})]})};function Rte(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Rte(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function qr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Rte(t))&&(n&&(n+=" "),n+=e);return n}var yNe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function $P(t){if(typeof t!="string")return!1;var e=yNe;return e.includes(t)}var xNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bNe=new Set(xNe);function Pte(t){return typeof t!="string"?!1:bNe.has(t)}function jte(t){return typeof t=="string"&&t.startsWith("data-")}function qo(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Pte(r)||jte(r))&&(e[r]=t[r]);return e}function Fg(t){if(t==null)return null;if(N.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return qo(e)}return typeof t=="object"&&!Array.isArray(t)?qo(t):null}function $a(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Pte(r)||jte(r)||$P(r))&&(e[r]=t[r]);return e}function wNe(t){return t==null?null:N.isValidElement(t)?$a(t.props):typeof t=="object"&&!Array.isArray(t)?$a(t):null}var _Ne=["children","width","height","viewBox","className","style","title","desc"];function H5(){return H5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H5.apply(null,arguments)}function ENe(t,e){if(t==null)return{};var r,n,i=TNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var HP=N.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=t,f=ENe(t,_Ne),h=s||{width:n,height:i,x:0,y:0},g=qr("recharts-surface",a);return N.createElement("svg",H5({},$a(f),{className:g,width:n,height:i,style:o,viewBox:"".concat(h.x," ").concat(h.y," ").concat(h.width," ").concat(h.height),ref:e}),N.createElement("title",null,l),N.createElement("desc",null,u),r)}),SNe=["children","className"];function q5(){return q5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},q5.apply(null,arguments)}function ANe(t,e){if(t==null)return{};var r,n,i=kNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ia=N.forwardRef((t,e)=>{var{children:r,className:n}=t,i=ANe(t,SNe),s=qr("recharts-layer",n);return N.createElement("g",q5({className:s},$a(i),{ref:e}),r)}),Dte=N.createContext(null),CNe=()=>N.useContext(Dte);function Pn(t){return function(){return t}}const Mte=Math.cos,PE=Math.sin,Tc=Math.sqrt,jE=Math.PI,JS=2*jE,W5=Math.PI,G5=2*W5,n0=1e-6,NNe=G5-n0;function Lte(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function INe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Lte;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class ONe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Lte:INe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,u=i-r,f=a-e,h=o-r,g=f*f+h*h;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>n0)if(!(Math.abs(h*l-u*f)>n0)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-a,x=i-o,b=l*l+u*u,w=v*v+x*x,E=Math.sqrt(b),A=Math.sqrt(g),k=s*Math.tan((W5-Math.acos((b+g-w)/(2*E*A)))/2),R=k/A,j=k/E;Math.abs(R-1)>n0&&this._append`L${e+R*f},${r+R*h}`,this._append`A${s},${s},0,0,${+(h*v>f*x)},${this._x1=e+j*l},${this._y1=r+j*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,f=r+l,h=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${f}`:(Math.abs(this._x1-u)>n0||Math.abs(this._y1-f)>n0)&&this._append`L${u},${f}`,n&&(g<0&&(g=g%G5+G5),g>NNe?this._append`A${n},${n},0,1,${h},${e-o},${r-l}A${n},${n},0,1,${h},${this._x1=u},${this._y1=f}`:g>n0&&this._append`A${n},${n},0,${+(g>=W5)},${h},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function qP(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new ONe(e)}function WP(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Fte(t){this._context=t}Fte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function ZS(t){return new Fte(t)}function Bte(t){return t[0]}function Ute(t){return t[1]}function Vte(t,e){var r=Pn(!0),n=null,i=ZS,s=null,a=qP(o);t=typeof t=="function"?t:t===void 0?Bte:Pn(t),e=typeof e=="function"?e:e===void 0?Ute:Pn(e);function o(l){var u,f=(l=WP(l)).length,h,g=!1,v;for(n==null&&(s=i(v=a())),u=0;u<=f;++u)!(u<f&&r(h=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(h,u,l),+e(h,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Pn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Pn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Pn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function N_(t,e,r){var n=null,i=Pn(!0),s=null,a=ZS,o=null,l=qP(u);t=typeof t=="function"?t:t===void 0?Bte:Pn(+t),e=typeof e=="function"?e:Pn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Ute:Pn(+r);function u(h){var g,v,x,b=(h=WP(h)).length,w,E=!1,A,k=new Array(b),R=new Array(b);for(s==null&&(o=a(A=l())),g=0;g<=b;++g){if(!(g<b&&i(w=h[g],g,h))===E)if(E=!E)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=g-1;x>=v;--x)o.point(k[x],R[x]);o.lineEnd(),o.areaEnd()}E&&(k[g]=+t(w,g,h),R[g]=+e(w,g,h),o.point(n?+n(w,g,h):k[g],r?+r(w,g,h):R[g]))}if(A)return o=null,A+""||null}function f(){return Vte().defined(i).curve(a).context(s)}return u.x=function(h){return arguments.length?(t=typeof h=="function"?h:Pn(+h),n=null,u):t},u.x0=function(h){return arguments.length?(t=typeof h=="function"?h:Pn(+h),u):t},u.x1=function(h){return arguments.length?(n=h==null?null:typeof h=="function"?h:Pn(+h),u):n},u.y=function(h){return arguments.length?(e=typeof h=="function"?h:Pn(+h),r=null,u):e},u.y0=function(h){return arguments.length?(e=typeof h=="function"?h:Pn(+h),u):e},u.y1=function(h){return arguments.length?(r=h==null?null:typeof h=="function"?h:Pn(+h),u):r},u.lineX0=u.lineY0=function(){return f().x(t).y(e)},u.lineY1=function(){return f().x(t).y(r)},u.lineX1=function(){return f().x(n).y(e)},u.defined=function(h){return arguments.length?(i=typeof h=="function"?h:Pn(!!h),u):i},u.curve=function(h){return arguments.length?(a=h,s!=null&&(o=a(s)),u):a},u.context=function(h){return arguments.length?(h==null?s=o=null:o=a(s=h),u):s},u}class zte{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function RNe(t){return new zte(t,!0)}function PNe(t){return new zte(t,!1)}const GP={draw(t,e){const r=Tc(e/jE);t.moveTo(r,0),t.arc(0,0,r,0,JS)}},jNe={draw(t,e){const r=Tc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},$te=Tc(1/3),DNe=$te*2,MNe={draw(t,e){const r=Tc(e/DNe),n=r*$te;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},LNe={draw(t,e){const r=Tc(e),n=-r/2;t.rect(n,n,r,r)}},FNe=.8908130915292852,Hte=PE(jE/10)/PE(7*jE/10),BNe=PE(JS/10)*Hte,UNe=-Mte(JS/10)*Hte,VNe={draw(t,e){const r=Tc(e*FNe),n=BNe*r,i=UNe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=JS*s/5,o=Mte(a),l=PE(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},sN=Tc(3),zNe={draw(t,e){const r=-Tc(e/(sN*3));t.moveTo(0,r*2),t.lineTo(-sN*r,-r),t.lineTo(sN*r,-r),t.closePath()}},cl=-.5,ul=Tc(3)/2,K5=1/Tc(12),$Ne=(K5/2+1)*3,HNe={draw(t,e){const r=Tc(e/$Ne),n=r/2,i=r*K5,s=n,a=r*K5+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(cl*n-ul*i,ul*n+cl*i),t.lineTo(cl*s-ul*a,ul*s+cl*a),t.lineTo(cl*o-ul*l,ul*o+cl*l),t.lineTo(cl*n+ul*i,cl*i-ul*n),t.lineTo(cl*s+ul*a,cl*a-ul*s),t.lineTo(cl*o+ul*l,cl*l-ul*o),t.closePath()}};function qNe(t,e){let r=null,n=qP(i);t=typeof t=="function"?t:Pn(t||GP),e=typeof e=="function"?e:Pn(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Pn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Pn(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function DE(){}function ME(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function qte(t){this._context=t}qte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:ME(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:ME(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function WNe(t){return new qte(t)}function Wte(t){this._context=t}Wte.prototype={areaStart:DE,areaEnd:DE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:ME(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function GNe(t){return new Wte(t)}function Gte(t){this._context=t}Gte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:ME(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function KNe(t){return new Gte(t)}function Kte(t){this._context=t}Kte.prototype={areaStart:DE,areaEnd:DE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function YNe(t){return new Kte(t)}function ez(t){return t<0?-1:1}function tz(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(ez(s)+ez(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function rz(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function aN(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function LE(t){this._context=t}LE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:aN(this,this._t0,rz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,aN(this,rz(this,r=tz(this,t,e)),r);break;default:aN(this,this._t0,r=tz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Yte(t){this._context=new Xte(t)}(Yte.prototype=Object.create(LE.prototype)).point=function(t,e){LE.prototype.point.call(this,e,t)};function Xte(t){this._context=t}Xte.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function XNe(t){return new LE(t)}function QNe(t){return new Yte(t)}function Qte(t){this._context=t}Qte.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=nz(t),i=nz(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function nz(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function JNe(t){return new Qte(t)}function e4(t,e){this._context=t,this._t=e}e4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function ZNe(t){return new e4(t,.5)}function e3e(t){return new e4(t,0)}function t3e(t){return new e4(t,1)}function W0(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Y5(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function r3e(t,e){return t[e]}function n3e(t){const e=[];return e.key=t,e}function i3e(){var t=Pn([]),e=Y5,r=W0,n=r3e;function i(s){var a=Array.from(t.apply(this,arguments),n3e),o,l=a.length,u=-1,f;for(const h of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(h,a[o].key,u,s)]).data=h;for(o=0,f=WP(e(a));o<l;++o)a[f[o]].index=o;return r(a,f),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Pn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Pn(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?Y5:typeof s=="function"?s:Pn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??W0,i):r},i}function s3e(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}W0(t,e)}}function a3e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}W0(t,e)}}function o3e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var f=t[e[o]],h=f[n][1]||0,g=f[n-1][1]||0,v=(h-g)/2,x=0;x<o;++x){var b=t[e[x]],w=b[n][1]||0,E=b[n-1][1]||0;v+=w-E}l+=h,u+=v*h}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,W0(t,e)}}var oN={},lN={},iz;function l3e(){return iz||(iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(lN)),lN}var cN={},sz;function Jte(){return sz||(sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(cN)),cN}var uN={},az;function KP(){return az||(az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(uN)),uN}var dN={},fN={},oz;function c3e(){return oz||(oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(fN)),fN}var lz;function YP(){return lz||(lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=c3e(),r=KP();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",f=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const h=i[o];u?h==="\\"&&o+1<a?(o++,l+=i[o]):h===u?u="":l+=h:f?h==='"'||h==="'"?u=h:h==="]"?(f=!1,s.push(l),l=""):l+=h:h==="["?(f=!0,l&&(s.push(l),l="")):h==="."?l&&(s.push(l),l=""):l+=h,o++}return l&&s.push(l),s}t.toPath=n})(dN)),dN}var cz;function XP(){return cz||(cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=l3e(),r=Jte(),n=KP(),i=YP();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const f=o[l];return f===void 0?r.isDeepKey(l)?s(o,i.toPath(l),u):u:f}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const f=o[l];return f===void 0?u:f}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const f=o[l];return f===void 0?u:f}}}function a(o,l,u){if(l.length===0)return u;let f=o;for(let h=0;h<l.length;h++){if(f==null||e.isUnsafeProperty(l[h]))return u;f=f[l[h]]}return f===void 0?u:f}t.get=s})(oN)),oN}var hN,uz;function u3e(){return uz||(uz=1,hN=XP().get),hN}var d3e=u3e();const G0=Yo(d3e);var f3e=4;function kf(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:f3e,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function wi(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,s,a)=>{var o=r[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+kf(o)+s:i+s},"")}var Ea=t=>t===0?0:t>0?1:-1,bc=t=>typeof t=="number"&&t!=+t,pd=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,xt=t=>(typeof t=="number"||t instanceof Number)&&!bc(t),ou=t=>xt(t)||typeof t=="string",h3e=0,tx=t=>{var e=++h3e;return"".concat(t||"").concat(e)},zo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!xt(e)&&typeof e!="string")return n;var s;if(pd(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return bc(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},Zte=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function ea(t,e,r){return xt(t)&&xt(e)?kf(t+r*(e-t)):e}function ere(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):G0(n,e))===r)}var js=t=>t===null||typeof t>"u",ab=t=>js(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function m3e(t){return t!=null}function ob(){}var p3e=["type","size","sizeType"];function X5(){return X5=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},X5.apply(null,arguments)}function dz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dz(Object(r),!0).forEach(function(n){g3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g3e(t,e,r){return(e=v3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v3e(t){var e=y3e(t,"string");return typeof e=="symbol"?e:e+""}function y3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x3e(t,e){if(t==null)return{};var r,n,i=b3e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function b3e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tre={symbolCircle:GP,symbolCross:jNe,symbolDiamond:MNe,symbolSquare:LNe,symbolStar:VNe,symbolTriangle:zNe,symbolWye:HNe},w3e=Math.PI/180,_3e=t=>{var e="symbol".concat(ab(t));return tre[e]||GP},E3e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*w3e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},T3e=(t,e)=>{tre["symbol".concat(ab(t))]=e},QP=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=x3e(t,p3e),s=fz(fz({},i),{},{type:e,size:r,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=_3e(a),v=qNe().type(g).size(E3e(r,n,a)),x=v();if(x!==null)return x},{className:l,cx:u,cy:f}=s,h=$a(s);return xt(u)&&xt(f)&&xt(r)?N.createElement("path",X5({},h,{className:qr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(f,")"),d:o()})):null};QP.registerSymbol=T3e;var rre=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,JP=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(N.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{$P(i)&&(n[i]=(s=>r[i](r,s)))}),n},S3e=(t,e,r)=>n=>(t(e,r,n),null),ZP=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];$P(i)&&typeof s=="function"&&(n||(n={}),n[i]=S3e(s,e,r))}),n};function hz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function A3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hz(Object(r),!0).forEach(function(n){k3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function k3e(t,e,r){return(e=C3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C3e(t){var e=N3e(t,"string");return typeof e=="symbol"?e:e+""}function N3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ms(t,e){var r=A3e({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function FE(){return FE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FE.apply(null,arguments)}function mz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function I3e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mz(Object(r),!0).forEach(function(n){O3e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function O3e(t,e,r){return(e=R3e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function R3e(t){var e=P3e(t,"string");return typeof e=="symbol"?e:e+""}function P3e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vl=32,j3e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function D3e(t){var{data:e,iconType:r,inactiveColor:n}=t,i=vl/2,s=vl/6,a=vl/3,o=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline"){var u;return N.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:vl,y2:i,className:"recharts-legend-icon"})}if(l==="line")return N.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(vl,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return N.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(vl/8,"h").concat(vl,"v").concat(vl*3/4,"h").concat(-vl,"z"),className:"recharts-legend-icon"});if(N.isValidElement(e.legendIcon)){var f=I3e({},e);return delete f.legendIcon,N.cloneElement(e.legendIcon,f)}return N.createElement(QP,{fill:o,cx:i,cy:i,size:vl,sizeType:"diameter",type:l})}function M3e(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=t,o={x:0,y:0,width:vl,height:vl},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,h)=>{var g=f.formatter||i,v=qr({"recharts-legend-item":!0,["legend-item-".concat(h)]:!0,inactive:f.inactive});if(f.type==="none")return null;var x=f.inactive?s:f.color,b=g?g(f.value,f,h):f.value;return N.createElement("li",FE({className:v,style:l,key:"legend-item-".concat(h)},ZP(t,f,h)),N.createElement(HP,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},N.createElement(D3e,{data:f,iconType:a,inactiveColor:s})),N.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}var L3e=t=>{var e=ms(t,j3e),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return N.createElement("ul",{className:"recharts-default-legend",style:s},N.createElement(M3e,FE({},e,{payload:r})))},mN={},pN={},pz;function F3e(){return pz||(pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(pN)),pN}var gN={},gz;function nre(){return gz||(gz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(gN)),gN}var vN={},yN={},xN={},vz;function B3e(){return vz||(vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(xN)),xN}var yz;function e8(){return yz||(yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=B3e();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(yN)),yN}var bN={},xz;function U3e(){return xz||(xz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(bN)),bN}var bz;function V3e(){return bz||(bz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=e8(),r=U3e();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(vN)),vN}var wN={},_N={},wz;function z3e(){return wz||(wz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XP();function r(n){return function(i){return e.get(i,n)}}t.property=r})(_N)),_N}var EN={},TN={},SN={},AN={},_z;function ire(){return _z||(_z=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(AN)),AN}var kN={},Ez;function sre(){return Ez||(Ez=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(kN)),kN}var CN={},Tz;function are(){return Tz||(Tz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(CN)),CN}var Sz;function $3e(){return Sz||(Sz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ire(),r=sre(),n=are();function i(f,h,g){return typeof g!="function"?i(f,h,()=>{}):s(f,h,function v(x,b,w,E,A,k){const R=g(x,b,w,E,A,k);return R!==void 0?!!R:s(x,b,v,k)},new Map)}function s(f,h,g,v){if(h===f)return!0;switch(typeof h){case"object":return a(f,h,g,v);case"function":return Object.keys(h).length>0?s(f,{...h},g,v):n.eq(f,h);default:return e.isObject(f)?typeof h=="string"?h==="":!0:n.eq(f,h)}}function a(f,h,g,v){if(h==null)return!0;if(Array.isArray(h))return l(f,h,g,v);if(h instanceof Map)return o(f,h,g,v);if(h instanceof Set)return u(f,h,g,v);const x=Object.keys(h);if(f==null||r.isPrimitive(f))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(h))return v.get(h)===f;v==null||v.set(h,f);try{for(let b=0;b<x.length;b++){const w=x[b];if(!r.isPrimitive(f)&&!(w in f)||h[w]===void 0&&f[w]!==void 0||h[w]===null&&f[w]!==null||!g(f[w],h[w],w,f,h,v))return!1}return!0}finally{v==null||v.delete(h)}}function o(f,h,g,v){if(h.size===0)return!0;if(!(f instanceof Map))return!1;for(const[x,b]of h.entries()){const w=f.get(x);if(g(w,b,x,f,h,v)===!1)return!1}return!0}function l(f,h,g,v){if(h.length===0)return!0;if(!Array.isArray(f))return!1;const x=new Set;for(let b=0;b<h.length;b++){const w=h[b];let E=!1;for(let A=0;A<f.length;A++){if(x.has(A))continue;const k=f[A];let R=!1;if(g(k,w,b,f,h,v)&&(R=!0),R){x.add(A),E=!0;break}}if(!E)return!1}return!0}function u(f,h,g,v){return h.size===0?!0:f instanceof Set?l([...f],[...h],g,v):!1}t.isMatchWith=i,t.isSetMatch=u})(SN)),SN}var Az;function ore(){return Az||(Az=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$3e();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(TN)),TN}var NN={},IN={},ON={},kz;function H3e(){return kz||(kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(ON)),ON}var RN={},Cz;function lre(){return Cz||(Cz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(RN)),RN}var PN={},Nz;function cre(){return Nz||(Nz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",f="[object Array]",h="[object Function]",g="[object ArrayBuffer]",v="[object Object]",x="[object Error]",b="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",A="[object Uint16Array]",k="[object Uint32Array]",R="[object BigUint64Array]",j="[object Int8Array]",P="[object Int16Array]",S="[object Int32Array]",I="[object BigInt64Array]",O="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=x,t.float32ArrayTag=O,t.float64ArrayTag=D,t.functionTag=h,t.int16ArrayTag=P,t.int32ArrayTag=S,t.int8ArrayTag=j,t.mapTag=l,t.numberTag=n,t.objectTag=v,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=A,t.uint32ArrayTag=k,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=E})(PN)),PN}var jN={},Iz;function q3e(){return Iz||(Iz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(jN)),jN}var Oz;function ure(){return Oz||(Oz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=H3e(),r=lre(),n=cre(),i=sre(),s=q3e();function a(f,h){return o(f,void 0,f,new Map,h)}function o(f,h,g,v=new Map,x=void 0){const b=x==null?void 0:x(f,h,g,v);if(b!==void 0)return b;if(i.isPrimitive(f))return f;if(v.has(f))return v.get(f);if(Array.isArray(f)){const w=new Array(f.length);v.set(f,w);for(let E=0;E<f.length;E++)w[E]=o(f[E],E,g,v,x);return Object.hasOwn(f,"index")&&(w.index=f.index),Object.hasOwn(f,"input")&&(w.input=f.input),w}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const w=new RegExp(f.source,f.flags);return w.lastIndex=f.lastIndex,w}if(f instanceof Map){const w=new Map;v.set(f,w);for(const[E,A]of f)w.set(E,o(A,E,g,v,x));return w}if(f instanceof Set){const w=new Set;v.set(f,w);for(const E of f)w.add(o(E,void 0,g,v,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(s.isTypedArray(f)){const w=new(Object.getPrototypeOf(f)).constructor(f.length);v.set(f,w);for(let E=0;E<f.length;E++)w[E]=o(f[E],E,g,v,x);return w}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const w=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return v.set(f,w),l(w,f,g,v,x),w}if(typeof File<"u"&&f instanceof File){const w=new File([f],f.name,{type:f.type});return v.set(f,w),l(w,f,g,v,x),w}if(typeof Blob<"u"&&f instanceof Blob){const w=new Blob([f],{type:f.type});return v.set(f,w),l(w,f,g,v,x),w}if(f instanceof Error){const w=new f.constructor;return v.set(f,w),w.message=f.message,w.name=f.name,w.stack=f.stack,w.cause=f.cause,l(w,f,g,v,x),w}if(f instanceof Boolean){const w=new Boolean(f.valueOf());return v.set(f,w),l(w,f,g,v,x),w}if(f instanceof Number){const w=new Number(f.valueOf());return v.set(f,w),l(w,f,g,v,x),w}if(f instanceof String){const w=new String(f.valueOf());return v.set(f,w),l(w,f,g,v,x),w}if(typeof f=="object"&&u(f)){const w=Object.create(Object.getPrototypeOf(f));return v.set(f,w),l(w,f,g,v,x),w}return f}function l(f,h,g=f,v,x){const b=[...Object.keys(h),...e.getSymbols(h)];for(let w=0;w<b.length;w++){const E=b[w],A=Object.getOwnPropertyDescriptor(f,E);(A==null||A.writable)&&(f[E]=o(h[E],E,g,v,x))}}function u(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(IN)),IN}var Rz;function W3e(){return Rz||(Rz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ure();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(NN)),NN}var Pz;function G3e(){return Pz||(Pz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ore(),r=W3e();function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(EN)),EN}var DN={},MN={},LN={},jz;function K3e(){return jz||(jz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ure(),r=cre();function n(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const f=s==null?void 0:s(a,o,l,u);if(f!==void 0)return f;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const h=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(h,i),h}case r.argumentsTag:{const h={};return e.copyProperties(h,i),h.length=i.length,h[Symbol.iterator]=i[Symbol.iterator],h}default:return}})}t.cloneDeepWith=n})(LN)),LN}var Dz;function Y3e(){return Dz||(Dz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=K3e();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(MN)),MN}var FN={},BN={},Mz;function dre(){return Mz||(Mz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(BN)),BN}var UN={},Lz;function X3e(){return Lz||(Lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lre();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(UN)),UN}var Fz;function Q3e(){return Fz||(Fz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jte(),r=dre(),n=X3e(),i=YP();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let f=0;f<l.length;f++){const h=l[f];if((u==null||!Object.hasOwn(u,h))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(h)&&h<u.length))return!1;u=u[h]}return!0}t.has=s})(FN)),FN}var Bz;function J3e(){return Bz||(Bz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ore(),r=KP(),n=Y3e(),i=XP(),s=Q3e();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const f=i.get(u,o);return f===void 0?s.has(u,o):l===void 0?f===void 0:e.isMatch(f,l)}}t.matchesProperty=a})(DN)),DN}var Uz;function Z3e(){return Uz||(Uz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=nre(),r=z3e(),n=G3e(),i=J3e();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(wN)),wN}var Vz;function eIe(){return Vz||(Vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F3e(),r=nre(),n=V3e(),i=Z3e();function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(mN)),mN}var VN,zz;function tIe(){return zz||(zz=1,VN=eIe().uniqBy),VN}var rIe=tIe();const $z=Yo(rIe);function fre(t,e,r){return e===!0?$z(t,r):typeof e=="function"?$z(t,e):t}var zN={exports:{}},$N={},HN={exports:{}},qN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Hz;function nIe(){if(Hz)return qN;Hz=1;var t=om();function e(h,g){return h===g&&(h!==0||1/h===1/g)||h!==h&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(h,g){var v=g(),x=n({inst:{value:v,getSnapshot:g}}),b=x[0].inst,w=x[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&w({inst:b})},[h,v,g]),i(function(){return l(b)&&w({inst:b}),h(function(){l(b)&&w({inst:b})})},[h]),a(v),v}function l(h){var g=h.getSnapshot;h=h.value;try{var v=g();return!r(h,v)}catch{return!0}}function u(h,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return qN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,qN}var qz;function iIe(){return qz||(qz=1,HN.exports=nIe()),HN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wz;function sIe(){if(Wz)return $N;Wz=1;var t=om(),e=iIe();function r(u,f){return u===f&&(u!==0||1/u===1/f)||u!==u&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return $N.useSyncExternalStoreWithSelector=function(u,f,h,g,v){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function E(P){if(!A){if(A=!0,k=P,P=g(P),v!==void 0&&b.hasValue){var S=b.value;if(v(S,P))return R=S}return R=P}if(S=R,n(k,P))return S;var I=g(P);return v!==void 0&&v(S,I)?(k=P,S):(k=P,R=I)}var A=!1,k,R,j=h===void 0?null:h;return[function(){return E(f())},j===null?void 0:function(){return E(j())}]},[f,h,g,v]);var w=i(u,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},$N}var Gz;function aIe(){return Gz||(Gz=1,zN.exports=sIe()),zN.exports}var oIe=aIe(),t8=N.createContext(null),lIe=t=>t,Dn=()=>{var t=N.useContext(t8);return t?t.store.dispatch:lIe},T2=()=>{},cIe=()=>T2,uIe=(t,e)=>t===e;function Et(t){var e=N.useContext(t8);return oIe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:cIe,e?e.store.getState:T2,e?e.store.getState:T2,e?t:T2,uIe)}function dIe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function fIe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function hIe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var Kz=t=>Array.isArray(t)?t:[t];function mIe(t){const e=Array.isArray(t[0])?t[0]:t;return hIe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function pIe(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var gIe=class{constructor(t){this.value=t}deref(){return this.value}},vIe=typeof WeakRef<"u"?WeakRef:gIe,yIe=0,Yz=1;function I_(){return{s:yIe,v:void 0,o:null,p:null}}function hre(t,e={}){let r=I_();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var h;let o=r;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const w=b.get(x);w===void 0?(o=I_(),b.set(x,o)):o=w}else{let b=o.p;b===null&&(o.p=b=new Map);const w=b.get(x);w===void 0?(o=I_(),b.set(x,o)):o=w}}const u=o;let f;if(o.s===Yz)f=o.v;else if(f=t.apply(null,arguments),s++,n){const g=((h=i==null?void 0:i.deref)==null?void 0:h.call(i))??i;g!=null&&n(g,f)&&(f=g,s!==0&&s--),i=typeof f=="object"&&f!==null||typeof f=="function"?new vIe(f):f}return u.s=Yz,u.v=f,f}return a.clearCache=()=>{r=I_(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function xIe(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),dIe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const f={...r,...l},{memoize:h,memoizeOptions:g=[],argsMemoize:v=hre,argsMemoizeOptions:x=[]}=f,b=Kz(g),w=Kz(x),E=mIe(i),A=h(function(){return s++,u.apply(null,arguments)},...b),k=v(function(){a++;const j=pIe(E,arguments);return o=A.apply(null,j),o},...w);return Object.assign(k,{resultFunc:u,memoizedResultFunc:A,dependencies:E,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:h,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Ne=xIe(hre),bIe=Object.assign((t,e=Ne)=>{fIe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>bIe}),WN={},GN={},KN={},Xz;function wIe(){return Xz||(Xz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(KN)),KN}var YN={},XN={},Qz;function mre(){return Qz||(Qz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(XN)),XN}var Jz;function _Ie(){return Jz||(Jz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mre(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(YN)),YN}var Zz;function EIe(){return Zz||(Zz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wIe(),r=_Ie(),n=YP();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,x)=>{let b=v;for(let w=0;w<x.length&&b!=null;++w)b=b[x[w]];return b},f=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:u(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?u(x,v):typeof x=="object"?x[v]:x,h=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:h.map(x=>f(x,v))})).slice().sort((v,x)=>{for(let b=0;b<h.length;b++){const w=e.compareValues(v.criteria[b],x.criteria[b],o[b]);if(w!==0)return w}return 0}).map(v=>v.original)}t.orderBy=i})(GN)),GN}var QN={},e$;function TIe(){return e$||(e$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,l)=>{for(let u=0;u<o.length;u++){const f=o[u];Array.isArray(f)&&l<s?a(f,l+1):i.push(f)}};return a(r,0),i}t.flatten=e})(QN)),QN}var JN={},t$;function pre(){return t$||(t$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=dre(),r=e8(),n=ire(),i=are();function s(a,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(JN)),JN}var r$;function SIe(){return r$||(r$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EIe(),r=TIe(),n=pre();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(WN)),WN}var ZN,n$;function AIe(){return n$||(n$=1,ZN=SIe().sortBy),ZN}var kIe=AIe();const t4=Yo(kIe);var gre=t=>t.legend.settings,CIe=t=>t.legend.size,NIe=t=>t.legend.payload,IIe=Ne([NIe,gre],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?t4(n,r):n});function OIe(){return Et(IIe)}var O_=1;function vre(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=N.useState({height:0,left:0,top:0,width:0}),n=N.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>O_||Math.abs(a.left-e.left)>O_||Math.abs(a.top-e.top)>O_||Math.abs(a.width-e.width)>O_)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Ys(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var RIe=typeof Symbol=="function"&&Symbol.observable||"@@observable",i$=RIe,e3=()=>Math.random().toString(36).substring(7).split("").join("."),PIe={INIT:`@@redux/INIT${e3()}`,REPLACE:`@@redux/REPLACE${e3()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${e3()}`},BE=PIe;function r8(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function yre(t,e,r){if(typeof t!="function")throw new Error(Ys(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Ys(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Ys(1));return r(yre)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((w,E)=>{a.set(E,w)}))}function f(){if(l)throw new Error(Ys(3));return i}function h(w){if(typeof w!="function")throw new Error(Ys(4));if(l)throw new Error(Ys(5));let E=!0;u();const A=o++;return a.set(A,w),function(){if(E){if(l)throw new Error(Ys(6));E=!1,u(),a.delete(A),s=null}}}function g(w){if(!r8(w))throw new Error(Ys(7));if(typeof w.type>"u")throw new Error(Ys(8));if(typeof w.type!="string")throw new Error(Ys(17));if(l)throw new Error(Ys(9));try{l=!0,i=n(i,w)}finally{l=!1}return(s=a).forEach(A=>{A()}),w}function v(w){if(typeof w!="function")throw new Error(Ys(10));n=w,g({type:BE.REPLACE})}function x(){const w=h;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(Ys(11));function A(){const R=E;R.next&&R.next(f())}return A(),{unsubscribe:w(A)}},[i$](){return this}}}return g({type:BE.INIT}),{dispatch:g,subscribe:h,getState:f,replaceReducer:v,[i$]:x}}function jIe(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:BE.INIT})>"u")throw new Error(Ys(12));if(typeof r(void 0,{type:BE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Ys(13))})}function xre(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{jIe(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let f=0;f<n.length;f++){const h=n[f],g=r[h],v=a[h],x=g(v,o);if(typeof x>"u")throw o&&o.type,new Error(Ys(14));u[h]=x,l=l||x!==v}return l=l||n.length!==Object.keys(a).length,l?u:a}}function UE(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function DIe(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(Ys(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=UE(...o)(i.dispatch),{...i,dispatch:s}}}function bre(t){return r8(t)&&"type"in t&&typeof t.type=="string"}var wre=Symbol.for("immer-nothing"),s$=Symbol.for("immer-draftable"),Ha=Symbol.for("immer-state");function ec(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Uo=Object,Bg=Uo.getPrototypeOf,VE="constructor",r4="prototype",Q5="configurable",zE="enumerable",S2="writable",rx="value",gd=t=>!!t&&!!t[Ha];function wc(t){var e;return t?_re(t)||n4(t)||!!t[s$]||!!((e=t[VE])!=null&&e[s$])||i4(t)||s4(t):!1}var MIe=Uo[r4][VE].toString(),a$=new WeakMap;function _re(t){if(!t||!n8(t))return!1;const e=Bg(t);if(e===null||e===Uo[r4])return!0;const r=Uo.hasOwnProperty.call(e,VE)&&e[VE];if(r===Object)return!0;if(!Ip(r))return!1;let n=a$.get(r);return n===void 0&&(n=Function.toString.call(r),a$.set(r,n)),n===MIe}function lb(t,e,r=!0){cb(t)===0?(r?Reflect.ownKeys(t):Uo.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function cb(t){const e=t[Ha];return e?e.type_:n4(t)?1:i4(t)?2:s4(t)?3:0}var o$=(t,e,r=cb(t))=>r===2?t.has(e):Uo[r4].hasOwnProperty.call(t,e),J5=(t,e,r=cb(t))=>r===2?t.get(e):t[e],$E=(t,e,r,n=cb(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function LIe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var n4=Array.isArray,i4=t=>t instanceof Map,s4=t=>t instanceof Set,n8=t=>typeof t=="object",Ip=t=>typeof t=="function",t3=t=>typeof t=="boolean",Bu=t=>t.copy_||t.base_,i8=t=>t.modified_?t.copy_:t.base_;function Z5(t,e){if(i4(t))return new Map(t);if(s4(t))return new Set(t);if(n4(t))return Array[r4].slice.call(t);const r=_re(t);if(e===!0||e==="class_only"&&!r){const n=Uo.getOwnPropertyDescriptors(t);delete n[Ha];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o[S2]===!1&&(o[S2]=!0,o[Q5]=!0),(o.get||o.set)&&(n[a]={[Q5]:!0,[S2]:!0,[zE]:o[zE],[rx]:t[a]})}return Uo.create(Bg(t),n)}else{const n=Bg(t);if(n!==null&&r)return{...t};const i=Uo.create(n);return Uo.assign(i,t)}}function s8(t,e=!1){return a4(t)||gd(t)||!wc(t)||(cb(t)>1&&Uo.defineProperties(t,{set:R_,add:R_,clear:R_,delete:R_}),Uo.freeze(t),e&&lb(t,(r,n)=>{s8(n,!0)},!1)),t}function FIe(){ec(2)}var R_={[rx]:FIe};function a4(t){return t===null||!n8(t)?!0:Uo.isFrozen(t)}var HE="MapSet",eO="Patches",Ere={};function Ug(t){const e=Ere[t];return e||ec(0,t),e}var BIe=t=>!!Ere[t],nx,Tre=()=>nx,UIe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:BIe(HE)?Ug(HE):void 0});function l$(t,e){e&&(t.patchPlugin_=Ug(eO),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function tO(t){rO(t),t.drafts_.forEach(VIe),t.drafts_=null}function rO(t){t===nx&&(nx=t.parent_)}var c$=t=>nx=UIe(nx,t);function VIe(t){const e=t[Ha];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function u$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[Ha].modified_&&(tO(e),ec(4)),wc(t)&&(t=d$(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[Ha].base_,t,e)}else t=d$(e,r);return zIe(e,t,!0),tO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==wre?t:void 0}function d$(t,e){if(a4(e))return e;const r=e[Ha];if(!r)return a8(e,t.handledSet_,t);if(!o4(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);kre(r,t)}return r.copy_}function zIe(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&s8(e,r)}function Sre(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var o4=(t,e)=>t.scope_===e,$Ie=[];function Are(t,e,r,n){const i=Bu(t),s=t.type_;if(n!==void 0&&J5(i,n,s)===e){$E(i,n,r,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;lb(i,(l,u)=>{if(gd(u)){const f=o.get(u)||[];f.push(l),o.set(u,f)}})}const a=t.draftLocations_.get(e)??$Ie;for(const o of a)$E(i,o,r,s)}function HIe(t,e,r){t.callbacks_.push(function(i){var o;const s=e;if(!s||!o4(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=i8(s);Are(t,s.draft_??s,a,r),kre(s,i)})}function kre(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}Sre(t)}}function qIe(t,e,r){const{scope_:n}=t;if(gd(r)){const i=r[Ha];o4(i,n)&&i.callbacks_.push(function(){A2(t);const a=i8(i);Are(t,r,a,e)})}else wc(r)&&t.callbacks_.push(function(){const s=Bu(t);J5(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&a8(J5(t.copy_,e,t.type_),n.handledSet_,n)})}function a8(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||gd(t)||e.has(t)||!wc(t)||a4(t)||(e.add(t),lb(t,(n,i)=>{if(gd(i)){const s=i[Ha];if(o4(s,r)){const a=i8(s);$E(t,n,a,t.type_),Sre(s)}}else wc(i)&&a8(i,e,r)})),t}function WIe(t,e){const r=n4(t),n={type_:r?1:0,scope_:e?e.scope_:Tre(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=o8;r&&(i=[n],s=ix);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,[o,n]}var o8={get(t,e){if(e===Ha)return t;const r=Bu(t);if(!o$(r,e,t.type_))return GIe(t,r,e);const n=r[e];if(t.finalized_||!wc(n))return n;if(n===r3(t.base_,e)){A2(t);const i=t.type_===1?+e:e,s=iO(t.scope_,n,t,i);return t.copy_[i]=s}return n},has(t,e){return e in Bu(t)},ownKeys(t){return Reflect.ownKeys(Bu(t))},set(t,e,r){const n=Cre(Bu(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=r3(Bu(t),e),s=i==null?void 0:i[Ha];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(LIe(r,i)&&(r!==void 0||o$(t.base_,e,t.type_)))return!0;A2(t),nO(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),qIe(t,e,r)),!0},deleteProperty(t,e){return A2(t),r3(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),nO(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Bu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[S2]:!0,[Q5]:t.type_!==1||e!=="length",[zE]:n[zE],[rx]:r[e]}},defineProperty(){ec(11)},getPrototypeOf(t){return Bg(t.base_)},setPrototypeOf(){ec(12)}},ix={};lb(o8,(t,e)=>{ix[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}});ix.deleteProperty=function(t,e){return ix.set.call(this,t,e,void 0)};ix.set=function(t,e,r){return o8.set.call(this,t[0],e,r,t[0])};function r3(t,e){const r=t[Ha];return(r?Bu(r):t)[e]}function GIe(t,e,r){var i;const n=Cre(e,r);return n?rx in n?n[rx]:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function Cre(t,e){if(!(e in t))return;let r=Bg(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Bg(r)}}function nO(t){t.modified_||(t.modified_=!0,t.parent_&&nO(t.parent_))}function A2(t){t.copy_||(t.assigned_=new Map,t.copy_=Z5(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var KIe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Ip(r)&&!Ip(n)){const a=n;n=r;const o=this;return function(u=a,...f){return o.produce(u,h=>n.call(this,h,...f))}}Ip(n)||ec(6),i!==void 0&&!Ip(i)&&ec(7);let s;if(wc(r)){const a=c$(this),o=iO(a,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?tO(a):rO(a)}return l$(a,i),u$(s,a)}else if(!r||!n8(r)){if(s=n(r),s===void 0&&(s=r),s===wre&&(s=void 0),this.autoFreeze_&&s8(s,!0),i){const a=[],o=[];Ug(eO).generateReplacementPatches_(r,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else ec(1,r)},this.produceWithPatches=(r,n)=>{if(Ip(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,s;return[this.produce(r,n,(o,l)=>{i=o,s=l}),i,s]},t3(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),t3(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),t3(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wc(e)||ec(8),gd(e)&&(e=fc(e));const r=c$(this),n=iO(r,e,void 0);return n[Ha].isManual_=!0,rO(r),n}finishDraft(e,r){const n=e&&e[Ha];(!n||!n.isManual_)&&ec(9);const{scope_:i}=n;return l$(i,r),u$(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Ug(eO).applyPatches_;return gd(e)?i(e,r):this.produce(e,s=>i(s,r))}};function iO(t,e,r,n){const[i,s]=i4(e)?Ug(HE).proxyMap_(e,r):s4(e)?Ug(HE).proxySet_(e,r):WIe(e,r);return((r==null?void 0:r.scope_)??Tre()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?HIe(r,s,n):s.callbacks_.push(function(l){var f;(f=l.mapSetPlugin_)==null||f.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function fc(t){return gd(t)||ec(10,t),Nre(t)}function Nre(t){if(!wc(t)||a4(t))return t;const e=t[Ha];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=Z5(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=Z5(t,!0);return lb(r,(i,s)=>{$E(r,i,Nre(s))},n),e&&(e.finalized_=!1),r}var YIe=new KIe,Ire=YIe.produce;function Ore(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var XIe=Ore(),QIe=Ore,JIe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?UE:UE.apply(null,arguments)};function Nl(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error($o(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>bre(n)&&n.type===t,r}var Rre=class Yy extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Yy.prototype)}static get[Symbol.species](){return Yy}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Yy(...e[0].concat(this)):new Yy(...e.concat(this))}};function f$(t){return wc(t)?Ire(t,()=>{}):t}function P_(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function ZIe(t){return typeof t=="boolean"}var e5e=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Rre;return r&&(ZIe(r)?a.push(XIe):a.push(QIe(r.extraArgument))),a},Pre="RTK_autoBatch",Yn=()=>t=>({payload:t,meta:{[Pre]:!0}}),h$=t=>e=>{setTimeout(e,t)},jre=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:h$(10):t.type==="callback"?t.queueNotification:h$(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const h=()=>i&&f(),g=n.subscribe(h);return o.add(f),()=>{g(),o.delete(f)}},dispatch(f){var h;try{return i=!((h=f==null?void 0:f.meta)!=null&&h[Pre]),s=!i,s&&(a||(a=!0,l(u))),n.dispatch(f)}finally{i=!0}}})},t5e=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new Rre(t);return n&&i.push(jre(typeof n=="object"?n:void 0)),i};function r5e(t){const e=e5e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(r8(r))o=xre(r);else throw new Error($o(1));let l;typeof n=="function"?l=n(e):l=e();let u=UE;i&&(u=JIe({trace:!1,...typeof i=="object"&&i}));const f=DIe(...l),h=t5e(f);let g=typeof a=="function"?a(h):h();const v=u(...g);return yre(o,s,v)}function Dre(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error($o(28));if(o in e)throw new Error($o(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function n5e(t){return typeof t=="function"}function i5e(t,e){let[r,n,i]=Dre(e),s;if(n5e(t))s=()=>f$(t());else{const o=f$(t);s=()=>o}function a(o=s(),l){let u=[r[l.type],...n.filter(({matcher:f})=>f(l)).map(({reducer:f})=>f)];return u.filter(f=>!!f).length===0&&(u=[i]),u.reduce((f,h)=>{if(h)if(gd(f)){const v=h(f,l);return v===void 0?f:v}else{if(wc(f))return Ire(f,g=>h(g,l));{const g=h(f,l);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},o)}return a.getInitialState=s,a}var s5e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",a5e=(t=21)=>{let e="",r=t;for(;r--;)e+=s5e[Math.random()*64|0];return e},o5e=Symbol.for("rtk-slice-createasyncthunk");function l5e(t,e){return`${t}/${e}`}function c5e({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[o5e];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error($o(11));const o=(typeof i.reducers=="function"?i.reducers(d5e()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},f={addCase(R,j){const P=typeof R=="string"?R:R.type;if(!P)throw new Error($o(12));if(P in u.sliceCaseReducersByType)throw new Error($o(13));return u.sliceCaseReducersByType[P]=j,f},addMatcher(R,j){return u.sliceMatchers.push({matcher:R,reducer:j}),f},exposeAction(R,j){return u.actionCreators[R]=j,f},exposeCaseReducer(R,j){return u.sliceCaseReducersByName[R]=j,f}};l.forEach(R=>{const j=o[R],P={reducerName:R,type:l5e(s,R),createNotation:typeof i.reducers=="function"};h5e(j)?p5e(P,j,f,e):f5e(P,j,f)});function h(){const[R={},j=[],P=void 0]=typeof i.extraReducers=="function"?Dre(i.extraReducers):[i.extraReducers],S={...R,...u.sliceCaseReducersByType};return i5e(i.initialState,I=>{for(let O in S)I.addCase(O,S[O]);for(let O of u.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of j)I.addMatcher(O.matcher,O.reducer);P&&I.addDefaultCase(P)})}const g=R=>R,v=new Map,x=new WeakMap;let b;function w(R,j){return b||(b=h()),b(R,j)}function E(){return b||(b=h()),b.getInitialState()}function A(R,j=!1){function P(I){let O=I[R];return typeof O>"u"&&j&&(O=P_(x,P,E)),O}function S(I=g){const O=P_(v,j,()=>new WeakMap);return P_(O,I,()=>{const D={};for(const[M,F]of Object.entries(i.selectors??{}))D[M]=u5e(F,I,()=>P_(x,I,E),j);return D})}return{reducerPath:R,getSelectors:S,get selectors(){return S(P)},selectSlice:P}}const k={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...A(a),injectInto(R,{reducerPath:j,...P}={}){const S=j??a;return R.inject({reducerPath:S,reducer:w},P),{...k,...A(S,!0)}}};return k}}function u5e(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var go=c5e();function d5e(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function f5e({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!m5e(n))throw new Error($o(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Nl(t,a):Nl(t))}function h5e(t){return t._reducerDefinitionType==="asyncThunk"}function m5e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function p5e({type:t,reducerName:e},r,n,i){if(!i)throw new Error($o(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:f}=r,h=i(t,s,f);n.exposeAction(e,h),a&&n.addCase(h.fulfilled,a),o&&n.addCase(h.pending,o),l&&n.addCase(h.rejected,l),u&&n.addMatcher(h.settled,u),n.exposeCaseReducer(e,{fulfilled:a||j_,pending:o||j_,rejected:l||j_,settled:u||j_})}function j_(){}var g5e="task",Mre="listener",Lre="completed",l8="cancelled",v5e=`task-${l8}`,y5e=`task-${Lre}`,sO=`${Mre}-${l8}`,x5e=`${Mre}-${Lre}`,l4=class{constructor(t){nC(this,"name","TaskAbortError");nC(this,"message");this.code=t,this.message=`${g5e} ${l8} (reason: ${t})`}},c8=(t,e)=>{if(typeof t!="function")throw new TypeError($o(32))},qE=()=>{},Fre=(t,e=qE)=>(t.catch(e),t),Bre=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),S0=t=>{if(t.aborted)throw new l4(t.reason)};function Ure(t,e){let r=qE;return new Promise((n,i)=>{const s=()=>i(new l4(t.reason));if(t.aborted){s();return}r=Bre(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=qE})}var b5e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof l4?"cancelled":"rejected",error:r}}finally{e==null||e()}},WE=t=>e=>Fre(Ure(t,e).then(r=>(S0(t),r))),Vre=t=>{const e=WE(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:ng}=Object,m$={},c4="listenerMiddleware",w5e=(t,e)=>{const r=n=>Bre(t,()=>n.abort(t.reason));return(n,i)=>{c8(n);const s=new AbortController;r(s);const a=b5e(async()=>{S0(t),S0(s.signal);const o=await n({pause:WE(s.signal),delay:Vre(s.signal),signal:s.signal});return S0(s.signal),o},()=>s.abort(y5e));return i!=null&&i.autoJoin&&e.push(a.catch(qE)),{result:WE(t)(a),cancel(){s.abort(v5e)}}}},_5e=(t,e)=>{const r=async(n,i)=>{S0(e);let s=()=>{};const o=[new Promise((l,u)=>{let f=t({predicate:n,effect:(h,g)=>{g.unsubscribe(),l([h,g.getState(),g.getOriginalState()])}});s=()=>{f(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await Ure(e,Promise.race(o));return S0(e),l}finally{s()}};return(n,i)=>Fre(r(n,i))},zre=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Nl(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error($o(21));return c8(s),{predicate:i,type:e,effect:s}},$re=ng(t=>{const{type:e,predicate:r,effect:n}=zre(t);return{id:a5e(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error($o(22))}}},{withTypes:()=>$re}),p$=(t,e)=>{const{type:r,effect:n,predicate:i}=zre(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},aO=t=>{t.pending.forEach(e=>{e.abort(sO)})},E5e=(t,e)=>()=>{for(const r of e.keys())aO(r);t.clear()},g$=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},Hre=ng(Nl(`${c4}/add`),{withTypes:()=>Hre}),T5e=Nl(`${c4}/removeAll`),qre=ng(Nl(`${c4}/remove`),{withTypes:()=>qre}),S5e=(...t)=>{console.error(`${c4}/error`,...t)},ub=(t={})=>{const e=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},i=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:a=S5e}=t;c8(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&aO(v)}),l=v=>{const x=p$(e,v)??$re(v);return o(x)};ng(l,{withTypes:()=>l});const u=v=>{const x=p$(e,v);return x&&(x.unsubscribe(),v.cancelActive&&aO(x)),!!x};ng(u,{withTypes:()=>u});const f=async(v,x,b,w)=>{const E=new AbortController,A=_5e(l,E.signal),k=[];try{v.pending.add(E),n(v),await Promise.resolve(v.effect(x,ng({},b,{getOriginalState:w,condition:(R,j)=>A(R,j).then(Boolean),take:A,delay:Vre(E.signal),pause:WE(E.signal),extra:s,signal:E.signal,fork:w5e(E.signal,k),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,j,P)=>{R!==E&&(R.abort(sO),P.delete(R))})},cancel:()=>{E.abort(sO),v.pending.delete(E)},throwIfCancelled:()=>{S0(E.signal)}})))}catch(R){R instanceof l4||g$(a,R,{raisedBy:"effect"})}finally{await Promise.all(k),E.abort(x5e),i(v),v.pending.delete(E)}},h=E5e(e,r);return{middleware:v=>x=>b=>{if(!bre(b))return x(b);if(Hre.match(b))return l(b.payload);if(T5e.match(b)){h();return}if(qre.match(b))return u(b.payload);let w=v.getState();const E=()=>{if(w===m$)throw new Error($o(23));return w};let A;try{if(A=x(b),e.size>0){const k=v.getState(),R=Array.from(e.values());for(const j of R){let P=!1;try{P=j.predicate(b,k,w)}catch(S){P=!1,g$(a,S,{raisedBy:"predicate"})}P&&f(j,b,v,E)}}}finally{w=m$}return A},startListening:l,stopListening:u,clearListeners:h}};function $o(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var A5e={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Wre=go({name:"chartLayout",initialState:A5e,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:k5e,setLayout:C5e,setChartSize:N5e,setScale:I5e}=Wre.actions,O5e=Wre.reducer;function Gre(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function Zn(t){return Number.isFinite(t)}function lu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function v$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?v$(Object(r),!0).forEach(function(n){R5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):v$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R5e(t,e,r){return(e=P5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P5e(t){var e=j5e(t,"string");return typeof e=="symbol"?e:e+""}function j5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zn(t,e,r){return js(t)||js(e)?r:ou(e)?G0(t,e,r):typeof e=="function"?e(t):r}var D5e=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&xt(t[s]))return Vp(Vp({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&xt(t[a]))return Vp(Vp({},t),{},{[a]:t[a]+(i||0)})}return t},Td=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Kre=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},Yre=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:f,ticks:h,niceTicks:g,axisType:v}=t;if(!a)return null;var x=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,b=i==="category"&&a.bandwidth?a.bandwidth()/x:0;if(b=v==="angleAxis"&&s&&s.length>=2?Ea(s[0]-s[1])*2*b:b,h||g){var w=(h||g||[]).map((E,A)=>{var k=n?n.indexOf(E):E;return{coordinate:a(k)+b,value:E,offset:b,index:A}});return w.filter(E=>!bc(E.coordinate))}return l&&u?u.map((E,A)=>({coordinate:a(E)+b,value:E,index:A,offset:b})):a.ticks&&f!=null?a.ticks(f).map((E,A)=>({coordinate:a(E)+b,value:E,offset:b,index:A})):a.domain().map((E,A)=>({coordinate:a(E)+b,value:n?n[E]:E,index:A,offset:b}))},y$=1e-4,M5e=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-y$,s=Math.max(n[0],n[1])+y$,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},L5e=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,o=0;o<r;++o){var l=t[o],u=l==null?void 0:l[i];if(u!=null){var f=u[1],h=u[0],g=bc(f)?h:f;g>=0?(u[0]=s,u[1]=s+g,s=f):(u[0]=a,u[1]=a+g,a=f)}}}},F5e=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<r;++a){var o=t[a],l=o==null?void 0:o[i];if(l!=null){var u=bc(l[1])?l[0]:l[1];u>=0?(l[0]=s,l[1]=s+u,s=l[1]):(l[0]=0,l[1]=0)}}}},B5e={sign:L5e,expand:s3e,none:W0,silhouette:a3e,wiggle:o3e,positive:F5e},U5e=(t,e,r)=>{var n,i=(n=B5e[r])!==null&&n!==void 0?n:W0,s=i3e().keys(e).value((o,l)=>Number(zn(o,l,0))).order(Y5).offset(i),a=s(t);return a.forEach((o,l)=>{o.forEach((u,f)=>{var h=zn(t[f],e[l],0);Array.isArray(h)&&h.length===2&&xt(h[0])&&xt(h[1])&&(u[0]=h[0],u[1]=h[1])})}),a};function V5e(t){return t==null?void 0:String(t)}function x$(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!js(i[e.dataKey])){var o=ere(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=zn(i,js(a)?e.dataKey:a);return js(l)?null:e.scale(l)}var z5e=t=>{var e=t.flat(2).filter(xt);return[Math.min(...e),Math.max(...e)]},$5e=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],H5e=(t,e,r)=>{if(t!=null)return $5e(Object.keys(t).reduce((n,i)=>{var s=t[i];if(!s)return n;var{stackedData:a}=s,o=a.reduce((l,u)=>{var f=Gre(u,e,r),h=z5e(f);return!Zn(h[0])||!Zn(h[1])?l:[Math.min(l[0],h[0]),Math.max(l[1],h[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},b$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,w$=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,GE=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=t4(e,f=>f.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function _$(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return Vp(Vp({},e),{},{dataKey:r,payload:n,value:i,name:s})}function u4(t,e){if(t)return String(t);if(typeof e=="string")return e}var q5e=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},W5e=(t,e)=>e==="centric"?t.angle:t.radius,Sd=t=>t.layout.width,Ad=t=>t.layout.height,G5e=t=>t.layout.scale,Xre=t=>t.layout.margin,d4=Ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),f4=Ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),Qre="data-recharts-item-index",Jre="data-recharts-item-id",db=60;function E$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?E$(Object(r),!0).forEach(function(n){K5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):E$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function K5e(t,e,r){return(e=Y5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Y5e(t){var e=X5e(t,"string");return typeof e=="symbol"?e:e+""}function X5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Q5e=t=>t.brush.height;function J5e(t){var e=f4(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:db;return r+i}return r},0)}function Z5e(t){var e=f4(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:db;return r+i}return r},0)}function eOe(t){var e=d4(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function tOe(t){var e=d4(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Fs=Ne([Sd,Ad,Xre,Q5e,J5e,Z5e,eOe,tOe,gre,CIe],(t,e,r,n,i,s,a,o,l,u)=>{var f={left:(r.left||0)+i,right:(r.right||0)+s},h={top:(r.top||0)+a,bottom:(r.bottom||0)+o},g=D_(D_({},h),f),v=g.bottom;g.bottom+=n,g=D5e(g,l,u);var x=t-g.left-g.right,b=e-g.top-g.bottom;return D_(D_({brushBottom:v},g),{},{width:Math.max(x,0),height:Math.max(b,0)})}),rOe=Ne(Fs,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Zre=Ne(Sd,Ad,(t,e)=>({x:0,y:0,width:t,height:e})),nOe=N.createContext(null),vo=()=>N.useContext(nOe)!=null,h4=t=>t.brush,m4=Ne([h4,Fs,Xre],(t,e,r)=>({height:t.height,x:xt(t.x)?t.x:e.left,y:xt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:xt(t.width)?t.width:e.width})),n3={},i3={},s3={},T$;function iOe(){return T$||(T$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),f=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},h=()=>{u&&f(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,h()},n)},x=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{x(),a=void 0,o=null},w=()=>{f()},E=function(...A){if(i!=null&&i.aborted)return;a=this,o=A;const k=g==null;v(),l&&k&&f()};return E.schedule=v,E.cancel=b,E.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),E}t.debounce=e})(s3)),s3}var S$;function sOe(){return S$||(S$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=iOe();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let f,h=null;const g=e.debounce(function(...b){f=n.apply(this,b),h=null},i,{edges:u}),v=function(...b){return l!=null&&(h===null&&(h=Date.now()),Date.now()-h>=l)?(f=n.apply(this,b),h=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,b),f)},x=()=>(g.flush(),f);return v.cancel=g.cancel,v.flush=x,v}t.debounce=r})(i3)),i3}var A$;function aOe(){return A$||(A$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sOe();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(n3)),n3}var a3,k$;function oOe(){return k$||(k$=1,a3=aOe().throttle),a3}var lOe=oOe();const cOe=Yo(lOe);var KE=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(r.replace(/%s/g,()=>i[a++]))}},ene=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=pd(n)?t:Number(n),l=pd(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},uOe={width:0,height:0,overflow:"visible"},dOe={width:0,overflowX:"visible"},fOe={height:0,overflowY:"visible"},hOe={},mOe=t=>{var{width:e,height:r}=t,n=pd(e),i=pd(r);return n&&i?uOe:n?dOe:i?fOe:hOe};function pOe(t){var{width:e,height:r,aspect:n}=t,i=e,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oO.apply(null,arguments)}function C$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function N$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?C$(Object(r),!0).forEach(function(n){gOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):C$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gOe(t,e,r){return(e=vOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vOe(t){var e=yOe(t,"string");return typeof e=="symbol"?e:e+""}function yOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tne=N.createContext({width:-1,height:-1});function xOe(t){return lu(t.width)&&lu(t.height)}function rne(t){var{children:e,width:r,height:n}=t,i=N.useMemo(()=>({width:r,height:n}),[r,n]);return xOe(i)?N.createElement(tne.Provider,{value:i},e):null}var u8=()=>N.useContext(tne),bOe=N.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:f=0,id:h,className:g,onResize:v,style:x={}}=t,b=N.useRef(null),w=N.useRef();w.current=v,N.useImperativeHandle(e,()=>b.current);var[E,A]=N.useState({containerWidth:n.width,containerHeight:n.height}),k=N.useCallback((I,O)=>{A(D=>{var M=Math.round(I),F=Math.round(O);return D.containerWidth===M&&D.containerHeight===F?D:{containerWidth:M,containerHeight:F}})},[]);N.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return ob;var I=F=>{var U,{width:le,height:de}=F[0].contentRect;k(le,de),(U=w.current)===null||U===void 0||U.call(w,le,de)};f>0&&(I=cOe(I,f,{trailing:!0,leading:!1}));var O=new ResizeObserver(I),{width:D,height:M}=b.current.getBoundingClientRect();return k(D,M),O.observe(b.current),()=>{O.disconnect()}},[k,f]);var{containerWidth:R,containerHeight:j}=E;KE(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:P,calculatedHeight:S}=ene(R,j,{width:i,height:s,aspect:r,maxHeight:l});return KE(P!=null&&P>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,P,S,i,s,a,o,r),N.createElement("div",{id:h?"".concat(h):void 0,className:qr("recharts-responsive-container",g),style:N$(N$({},x),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},N.createElement("div",{style:mOe({width:i,height:s})},N.createElement(rne,{width:P,height:S},u)))}),lO=N.forwardRef((t,e)=>{var r=u8();if(lu(r.width)&&lu(r.height))return t.children;var{width:n,height:i}=pOe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=ene(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return xt(s)&&xt(a)?N.createElement(rne,{width:s,height:a},t.children):N.createElement(bOe,oO({},t,{width:n,height:i,ref:e}))});function nne(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var p4=()=>{var t,e=vo(),r=Et(rOe),n=Et(m4),i=(t=Et(h4))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},wOe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},ine=()=>{var t;return(t=Et(Fs))!==null&&t!==void 0?t:wOe},d8=()=>Et(Sd),f8=()=>Et(Ad),_Oe=()=>Et(t=>t.layout.margin),dn=t=>t.layout.layoutType,yv=()=>Et(dn),EOe=()=>{var t=yv();if(t==="horizontal"||t==="vertical")return t},TOe=()=>{var t=yv();return t!==void 0},g4=t=>{var e=Dn(),r=vo(),{width:n,height:i}=t,s=u8(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),N.useEffect(()=>{!r&&lu(a)&&lu(o)&&e(N5e({width:a,height:o}))},[e,r,a,o]),null},sne=Symbol.for("immer-nothing"),I$=Symbol.for("immer-draftable"),Wo=Symbol.for("immer-state");function tc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var sx=Object.getPrototypeOf;function Vg(t){return!!t&&!!t[Wo]}function K0(t){var e;return t?ane(t)||Array.isArray(t)||!!t[I$]||!!((e=t.constructor)!=null&&e[I$])||fb(t)||y4(t):!1}var SOe=Object.prototype.constructor.toString(),O$=new WeakMap;function ane(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=O$.get(r);return n===void 0&&(n=Function.toString.call(r),O$.set(r,n)),n===SOe}function YE(t,e,r=!0){v4(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function v4(t){const e=t[Wo];return e?e.type_:Array.isArray(t)?1:fb(t)?2:y4(t)?3:0}function cO(t,e){return v4(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function one(t,e,r){const n=v4(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function AOe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function fb(t){return t instanceof Map}function y4(t){return t instanceof Set}function i0(t){return t.copy_||t.base_}function uO(t,e){if(fb(t))return new Map(t);if(y4(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=ane(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Wo];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(sx(t),n)}else{const n=sx(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function h8(t,e=!1){return x4(t)||Vg(t)||!K0(t)||(v4(t)>1&&Object.defineProperties(t,{set:M_,add:M_,clear:M_,delete:M_}),Object.freeze(t),e&&Object.values(t).forEach(r=>h8(r,!0))),t}function kOe(){tc(2)}var M_={value:kOe};function x4(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var COe={};function Y0(t){const e=COe[t];return e||tc(0,t),e}var ax;function lne(){return ax}function NOe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function R$(t,e){e&&(Y0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dO(t){fO(t),t.drafts_.forEach(IOe),t.drafts_=null}function fO(t){t===ax&&(ax=t.parent_)}function P$(t){return ax=NOe(ax,t)}function IOe(t){const e=t[Wo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function j$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Wo].modified_&&(dO(e),tc(4)),K0(t)&&(t=XE(e,t),e.parent_||QE(e,t)),e.patches_&&Y0("Patches").generateReplacementPatches_(r[Wo].base_,t,e.patches_,e.inversePatches_)):t=XE(e,r,[]),dO(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==sne?t:void 0}function XE(t,e,r){if(x4(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Wo];if(!i)return YE(e,(s,a)=>D$(t,i,e,s,a,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return QE(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),YE(a,(l,u)=>D$(t,i,s,l,u,r,o),n),QE(t,s,!1),r&&t.patches_&&Y0("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function D$(t,e,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=x4(i);if(!(o&&!a)){if(Vg(i)){const l=s&&e&&e.type_!==3&&!cO(e.assigned_,n)?s.concat(n):void 0,u=XE(t,i,l);if(one(r,n,u),Vg(u))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(K0(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;XE(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(fb(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&QE(t,i)}}}function QE(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&h8(e,r)}function OOe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:lne(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=m8;r&&(i=[n],s=ox);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var m8={get(t,e){if(e===Wo)return t;const r=i0(t);if(!cO(r,e))return ROe(t,r,e);const n=r[e];return t.finalized_||!K0(n)?n:n===o3(t.base_,e)?(l3(t),t.copy_[e]=mO(n,t)):n},has(t,e){return e in i0(t)},ownKeys(t){return Reflect.ownKeys(i0(t))},set(t,e,r){const n=cne(i0(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=o3(i0(t),e),s=i==null?void 0:i[Wo];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(AOe(r,i)&&(r!==void 0||cO(t.base_,e)))return!0;l3(t),hO(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return o3(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,l3(t),hO(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=i0(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){tc(11)},getPrototypeOf(t){return sx(t.base_)},setPrototypeOf(){tc(12)}},ox={};YE(m8,(t,e)=>{ox[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});ox.deleteProperty=function(t,e){return ox.set.call(this,t,e,void 0)};ox.set=function(t,e,r){return m8.set.call(this,t[0],e,r,t[0])};function o3(t,e){const r=t[Wo];return(r?i0(r):t)[e]}function ROe(t,e,r){var i;const n=cne(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function cne(t,e){if(!(e in t))return;let r=sx(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=sx(r)}}function hO(t){t.modified_||(t.modified_=!0,t.parent_&&hO(t.parent_))}function l3(t){t.copy_||(t.copy_=uO(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var POe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...u){return a.produce(l,f=>r.call(this,f,...u))}}typeof r!="function"&&tc(6),n!==void 0&&typeof n!="function"&&tc(7);let i;if(K0(e)){const s=P$(this),a=mO(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?dO(s):fO(s)}return R$(s,n),j$(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===sne&&(i=void 0),this.autoFreeze_&&h8(i,!0),n){const s=[],a=[];Y0("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else tc(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){K0(t)||tc(8),Vg(t)&&(t=jOe(t));const e=P$(this),r=mO(t,void 0);return r[Wo].isManual_=!0,fO(e),r}finishDraft(t,e){const r=t&&t[Wo];(!r||!r.isManual_)&&tc(9);const{scope_:n}=r;return R$(n,e),j$(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Y0("Patches").applyPatches_;return Vg(t)?n(t,e):this.produce(t,i=>n(i,e))}};function mO(t,e){const r=fb(t)?Y0("MapSet").proxyMap_(t,e):y4(t)?Y0("MapSet").proxySet_(t,e):OOe(t,e);return(e?e.scope_:lne()).drafts_.push(r),r}function jOe(t){return Vg(t)||tc(10,t),une(t)}function une(t){if(!K0(t)||x4(t))return t;const e=t[Wo];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=uO(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=uO(t,!0);return YE(r,(i,s)=>{one(r,i,une(s))},n),e&&(e.finalized_=!1),r}var DOe=new POe;DOe.produce;var MOe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},dne=go({name:"legend",initialState:MOe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Yn()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=fc(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Yn()},removeLegendPayload:{reducer(t,e){var r=fc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Yn()}}}),{setLegendSize:M$,setLegendSettings:LOe,addLegendPayload:fne,replaceLegendPayload:hne,removeLegendPayload:mne}=dne.actions,FOe=dne.reducer,BOe=["contextPayload"];function pO(){return pO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pO.apply(null,arguments)}function L$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?L$(Object(r),!0).forEach(function(n){UOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):L$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UOe(t,e,r){return(e=VOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VOe(t){var e=zOe(t,"string");return typeof e=="symbol"?e:e+""}function zOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Oe(t,e){if(t==null)return{};var r,n,i=HOe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HOe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qOe(t){return t.value}function WOe(t){var{contextPayload:e}=t,r=$Oe(t,BOe),n=fre(e,t.payloadUniqBy,qOe),i=zg(zg({},r),{},{payload:n});return N.isValidElement(t.content)?N.cloneElement(t.content,i):typeof t.content=="function"?N.createElement(t.content,i):N.createElement(L3e,i)}function GOe(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:l}=e,u,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?u={left:((n||0)-s.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?f={top:((i||0)-s.height)/2}:f=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),zg(zg({},u),f)}function KOe(t){var e=Dn();return N.useEffect(()=>{e(LOe(t))},[e,t]),null}function YOe(t){var e=Dn();return N.useEffect(()=>(e(M$(t)),()=>{e(M$({width:0,height:0}))}),[e,t]),null}function XOe(t,e,r,n){return t==="vertical"&&xt(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var QOe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function pne(t){var e=ms(t,QOe),r=OIe(),n=CNe(),i=_Oe(),{width:s,height:a,wrapperStyle:o,portal:l}=e,[u,f]=vre([r]),h=d8(),g=f8();if(h==null||g==null)return null;var v=h-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),x=XOe(e.layout,a,s,v),b=l?o:zg(zg({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||a||"auto"},GOe(o,e,i,h,g,u)),o),w=l??n;if(w==null||r==null)return null;var E=N.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:f},N.createElement(KOe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&N.createElement(YOe,{width:u.width,height:u.height}),N.createElement(WOe,pO({},e,x,{margin:i,chartWidth:h,chartHeight:g,contextPayload:r})));return Ql.createPortal(E,w)}pne.displayName="Legend";function gO(){return gO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gO.apply(null,arguments)}function F$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function c3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?F$(Object(r),!0).forEach(function(n){JOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):F$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JOe(t,e,r){return(e=ZOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZOe(t){var e=e6e(t,"string");return typeof e=="symbol"?e:e+""}function e6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t6e(t){return Array.isArray(t)&&ou(t[0])&&ou(t[1])?t.join(" ~ "):t}var r6e=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:f,labelFormatter:h,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var j={padding:0,margin:0},P=(o?t4(s,o):s).map((S,I)=>{if(S.type==="none")return null;var O=S.formatter||a||t6e,{value:D,name:M}=S,F=D,U=M;if(O){var le=O(D,M,S,I,s);if(Array.isArray(le))[F,U]=le;else if(le!=null)F=le;else return null}var de=c3({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return N.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:de},ou(U)?N.createElement("span",{className:"recharts-tooltip-item-name"},U):null,ou(U)?N.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,N.createElement("span",{className:"recharts-tooltip-item-value"},F),N.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return N.createElement("ul",{className:"recharts-tooltip-item-list",style:j},P)}return null},x=c3({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=c3({margin:0},i),w=!js(f),E=w?f:"",A=qr("recharts-default-tooltip",l),k=qr("recharts-tooltip-label",u);w&&h&&s!==void 0&&s!==null&&(E=h(f,s));var R=g?{role:"status","aria-live":"assertive"}:{};return N.createElement("div",gO({className:A,style:x},R),N.createElement("p",{className:k,style:b},N.isValidElement(E)?E:"".concat(E)),v())},Py="recharts-tooltip-wrapper",n6e={visibility:"hidden"};function i6e(t){var{coordinate:e,translateX:r,translateY:n}=t;return qr(Py,{["".concat(Py,"-right")]:xt(r)&&e&&xt(e.x)&&r>=e.x,["".concat(Py,"-left")]:xt(r)&&e&&xt(e.x)&&r<e.x,["".concat(Py,"-bottom")]:xt(n)&&e&&xt(e.y)&&n>=e.y,["".concat(Py,"-top")]:xt(n)&&e&&xt(e.y)&&n<e.y})}function B$(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(s&&xt(s[n]))return s[n];var f=r[n]-o-(i>0?i:0),h=r[n]+i;if(e[n])return a[n]?f:h;var g=l[n];if(g==null)return 0;if(a[n]){var v=f,x=g;return v<x?Math.max(h,g):Math.max(f,g)}if(u==null)return 0;var b=h+o,w=g+u;return b>w?Math.max(f,g):Math.max(h,g)}function s6e(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function a6e(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,f,h;return a.height>0&&a.width>0&&r?(f=B$({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),h=B$({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=s6e({translateX:f,translateY:h,useTranslate3d:o})):u=n6e,{cssProperties:u,cssClasses:i6e({translateX:f,translateY:h,coordinate:r})}}function U$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?U$(Object(r),!0).forEach(function(n){vO(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):U$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vO(t,e,r){return(e=o6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o6e(t){var e=l6e(t,"string");return typeof e=="symbol"?e:e+""}function l6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class c6e extends N.PureComponent{constructor(){super(...arguments),vO(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),vO(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:f,reverseDirection:h,useTranslate3d:g,viewBox:v,wrapperStyle:x,lastBoundingBox:b,innerRef:w,hasPortalFromProps:E}=this.props,{cssClasses:A,cssProperties:k}=a6e({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:f,reverseDirection:h,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),R=E?{}:L_(L_({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},k),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),j=L_(L_({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return N.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:A,style:j,ref:w},s)}}var gne=()=>{var t;return(t=Et(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function yO(){return yO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yO.apply(null,arguments)}function V$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V$(Object(r),!0).forEach(function(n){u6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u6e(t,e,r){return(e=d6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d6e(t){var e=f6e(t,"string");return typeof e=="symbol"?e:e+""}function f6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $$={curveBasisClosed:GNe,curveBasisOpen:KNe,curveBasis:WNe,curveBumpX:RNe,curveBumpY:PNe,curveLinearClosed:YNe,curveLinear:ZS,curveMonotoneX:XNe,curveMonotoneY:QNe,curveNatural:JNe,curveStep:ZNe,curveStepAfter:t3e,curveStepBefore:e3e},JE=t=>Zn(t.x)&&Zn(t.y),H$=t=>t.base!=null&&JE(t.base)&&JE(t),jy=t=>t.x,Dy=t=>t.y,h6e=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(ab(t));return(r==="curveMonotone"||r==="curveBump")&&e?$$["".concat(r).concat(e==="vertical"?"Y":"X")]:$$[r]||ZS},m6e=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=h6e(e,i),o=s?r.filter(JE):r,l;if(Array.isArray(n)){var u=r.map((v,x)=>z$(z$({},v),{},{base:n[x]}));i==="vertical"?l=N_().y(Dy).x1(jy).x0(v=>v.base.x):l=N_().x(jy).y1(Dy).y0(v=>v.base.y);var f=l.defined(H$).curve(a),h=s?u.filter(H$):u;return f(h)}i==="vertical"&&xt(n)?l=N_().y(Dy).x1(jy).x0(n):xt(n)?l=N_().x(jy).y1(Dy).y0(n):l=Vte().x(jy).y(Dy);var g=l.defined(JE).curve(a);return g(o)},ig=t=>{var{className:e,points:r,path:n,pathRef:i}=t,s=yv();if((!r||!r.length)&&!n)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=r&&r.length?m6e(a):n;return N.createElement("path",yO({},qo(t),JP(t),{className:qr("recharts-curve",e),d:o===null?void 0:o,ref:i}))},p6e=["x","y","top","left","width","height","className"];function xO(){return xO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xO.apply(null,arguments)}function q$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function g6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?q$(Object(r),!0).forEach(function(n){v6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):q$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function v6e(t,e,r){return(e=y6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function y6e(t){var e=x6e(t,"string");return typeof e=="symbol"?e:e+""}function x6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b6e(t,e){if(t==null)return{};var r,n,i=w6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function w6e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var _6e=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),E6e=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=b6e(t,p6e),u=g6e({x:e,y:r,top:n,left:i,width:s,height:a},l);return!xt(e)||!xt(r)||!xt(s)||!xt(a)||!xt(n)||!xt(i)?null:N.createElement("path",xO({},$a(u),{className:qr("recharts-cross",o),d:_6e(e,r,s,a,n,i)}))};function T6e(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function W$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W$(Object(r),!0).forEach(function(n){S6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function S6e(t,e,r){return(e=A6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function A6e(t){var e=k6e(t,"string");return typeof e=="symbol"?e:e+""}function k6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var C6e=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),vne=(t,e,r)=>t.map(n=>"".concat(C6e(n)," ").concat(e,"ms ").concat(r)).join(","),N6e=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),lx=(t,e)=>Object.keys(e).reduce((r,n)=>G$(G$({},r),{},{[n]:t(n,e[n])}),{});function K$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?K$(Object(r),!0).forEach(function(n){I6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):K$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function I6e(t,e,r){return(e=O6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function O6e(t){var e=R6e(t,"string");return typeof e=="symbol"?e:e+""}function R6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ZE=(t,e,r)=>t+(e-t)*r,bO=t=>{var{from:e,to:r}=t;return e!==r},yne=(t,e,r)=>{var n=lx((i,s)=>{if(bO(s)){var[a,o]=t(s.from,s.to,s.velocity);return cs(cs({},s),{},{from:a,velocity:o})}return s},e);return r<1?lx((i,s)=>bO(s)&&n[i]!=null?cs(cs({},s),{},{velocity:ZE(s.velocity,n[i].velocity,r),from:ZE(s.from,n[i].from,r)}):s,e):yne(t,n,r-1)};function P6e(t,e,r,n,i,s){var a,o=n.reduce((g,v)=>cs(cs({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),l=()=>lx((g,v)=>v.from,o),u=()=>!Object.values(o).filter(bO).length,f=null,h=g=>{a||(a=g);var v=g-a,x=v/r.dt;o=yne(r,o,x),i(cs(cs(cs({},t),e),l())),a=g,u()||(f=s.setTimeout(h))};return()=>(f=s.setTimeout(h),()=>{var g;(g=f)===null||g===void 0||g()})}function j6e(t,e,r,n,i,s,a){var o=null,l=i.reduce((h,g)=>{var v=t[g],x=e[g];return v==null||x==null?h:cs(cs({},h),{},{[g]:[v,x]})},{}),u,f=h=>{u||(u=h);var g=(h-u)/n,v=lx((b,w)=>ZE(...w,r(g)),l);if(s(cs(cs(cs({},t),e),v)),g<1)o=a.setTimeout(f);else{var x=lx((b,w)=>ZE(...w,r(1)),l);s(cs(cs(cs({},t),e),x))}};return()=>(o=a.setTimeout(f),()=>{var h;(h=o)===null||h===void 0||h()})}const D6e=(t,e,r,n,i,s)=>{var a=N6e(t,e);return r==null?()=>(i(cs(cs({},t),e)),()=>{}):r.isStepper===!0?P6e(t,e,r,a,i,s):j6e(t,e,r,n,a,i,s)};var eT=1e-4,xne=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],bne=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),Y$=(t,e)=>r=>{var n=xne(t,e);return bne(n,r)},M6e=(t,e)=>r=>{var n=xne(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return bne(i,r)},L6e=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},F6e=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=L6e(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},B6e=(t,e,r,n)=>{var i=Y$(t,r),s=Y$(e,n),a=M6e(t,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var f=u>1?1:u,h=f,g=0;g<8;++g){var v=i(h)-f,x=a(h);if(Math.abs(v-f)<eT||x<eT)return s(h);h=o(h-v/x)}return s(h)};return l.isStepper=!1,l},X$=function(){return B6e(...F6e(...arguments))},U6e=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*r,f=l*n,h=l+(u-f)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<eT&&Math.abs(h)<eT?[o,0]:[g,h]};return s.isStepper=!0,s.dt=i,s},V6e=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return X$(t);case"spring":return U6e();default:if(t.split("(")[0]==="cubic-bezier")return X$(t)}return typeof t=="function"?t:null};function z6e(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class $6e{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function H6e(){return z6e(new $6e)}var q6e=N.createContext(H6e);function W6e(t,e){var r=N.useContext(q6e);return N.useMemo(()=>e??r(t),[t,e,r])}var G6e=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),hb={isSsr:G6e()},K6e={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},Q$={t:0},u3={t:1};function b4(t){var e=ms(t,K6e),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,f=r==="auto"?!hb.isSsr:r,h=W6e(e.animationId,e.animationManager),[g,v]=N.useState(f?Q$:u3),x=N.useRef(null);return N.useEffect(()=>{f||v(u3)},[f]),N.useEffect(()=>{if(!f||!n)return ob;var b=D6e(Q$,u3,V6e(s),i,v,h.getTimeoutController()),w=()=>{x.current=b()};return h.start([l,a,w,i,o]),()=>{h.stop(),x.current&&x.current(),o()}},[f,n,i,s,a,l,o,h]),u(g.t)}function w4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=N.useRef(tx(e)),n=N.useRef(t);return n.current!==t&&(r.current=tx(e),n.current=t),r.current}var Y6e=["radius"],X6e=["radius"],J$,Z$,eH,tH,rH,nH,iH,sH,aH,oH;function lH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lH(Object(r),!0).forEach(function(n){Q6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Q6e(t,e,r){return(e=J6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function J6e(t){var e=Z6e(t,"string");return typeof e=="symbol"?e:e+""}function Z6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tT(){return tT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tT.apply(null,arguments)}function uH(t,e){if(t==null)return{};var r,n,i=eRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eRe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Fc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var dH=(t,e,r,n,i)=>{var s=kf(r),a=kf(n),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,u=s>=0?1:-1,f=a>=0&&s>=0||a<0&&s<0?1:0,h;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,x=4;v<x;v++)g[v]=i[v]>o?o:i[v];h=wi(J$||(J$=Fc(["M",",",""])),t,e+l*g[0]),g[0]>0&&(h+=wi(Z$||(Z$=Fc(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,t+u*g[0],e)),h+=wi(eH||(eH=Fc(["L ",",",""])),t+r-u*g[1],e),g[1]>0&&(h+=wi(tH||(tH=Fc(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,t+r,e+l*g[1])),h+=wi(rH||(rH=Fc(["L ",",",""])),t+r,e+n-l*g[2]),g[2]>0&&(h+=wi(nH||(nH=Fc(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,t+r-u*g[2],e+n)),h+=wi(iH||(iH=Fc(["L ",",",""])),t+u*g[3],e+n),g[3]>0&&(h+=wi(sH||(sH=Fc(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,t,e+n-l*g[3])),h+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);h=wi(aH||(aH=Fc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*b,b,b,f,t+u*b,e,t+r-u*b,e,b,b,f,t+r,e+l*b,t+r,e+n-l*b,b,b,f,t+r-u*b,e+n,t+u*b,e+n,b,b,f,t,e+n-l*b)}else h=wi(oH||(oH=Fc(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return h},fH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},wne=t=>{var e=ms(t,fH),r=N.useRef(null),[n,i]=N.useState(-1);N.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:f}=e,{animationEasing:h,animationDuration:g,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:b}=e,w=N.useRef(o),E=N.useRef(l),A=N.useRef(s),k=N.useRef(a),R=N.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),j=w4(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var P=qr("recharts-rectangle",f);if(!b){var S=$a(e),{radius:I}=S,O=uH(S,Y6e);return N.createElement("path",tT({},O,{x:kf(s),y:kf(a),width:kf(o),height:kf(l),radius:typeof u=="number"?u:void 0,className:P,d:dH(s,a,o,l,u)}))}var D=w.current,M=E.current,F=A.current,U=k.current,le="0px ".concat(n===-1?1:n,"px"),de="".concat(n,"px 0px"),J=vne(["strokeDasharray"],g,typeof h=="string"?h:fH.animationEasing);return N.createElement(b4,{animationId:j,key:j,canBegin:n>0,duration:g,easing:h,isActive:b,begin:v},Q=>{var fe=ea(D,o,Q),ee=ea(M,l,Q),ge=ea(F,s,Q),q=ea(U,a,Q);r.current&&(w.current=fe,E.current=ee,A.current=ge,k.current=q);var z;x?Q>0?z={transition:J,strokeDasharray:de}:z={strokeDasharray:le}:z={strokeDasharray:de};var V=$a(e),{radius:W}=V,Y=uH(V,X6e);return N.createElement("path",tT({},Y,{radius:typeof u=="number"?u:void 0,className:P,d:dH(ge,q,fe,ee,u),ref:r,style:cH(cH({},z),e.style)}))})};function hH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hH(Object(r),!0).forEach(function(n){tRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function tRe(t,e,r){return(e=rRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function rRe(t){var e=nRe(t,"string");return typeof e=="symbol"?e:e+""}function nRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rT=Math.PI/180,iRe=t=>t*180/Math.PI,rs=(t,e,r,n)=>({x:t+Math.cos(-rT*n)*r,y:e+Math.sin(-rT*n)*r}),_ne=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},sRe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},aRe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=sRe({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:a,angle:iRe(l),angleInRadian:l}},oRe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},lRe=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},cRe=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:s}=aRe({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=oRe(e),f=s,h;if(l<=u){for(;f>u;)f-=360;for(;f<l;)f+=360;h=f>=l&&f<=u}else{for(;f>l;)f-=360;for(;f<u;)f+=360;h=f>=u&&f<=l}return h?mH(mH({},e),{},{radius:i,angle:lRe(f,e)}):null};function Ene(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=rs(e,r,n,i),o=rs(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}var pH,gH,vH,yH,xH,bH,wH;function wO(){return wO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wO.apply(null,arguments)}function v0(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var uRe=(t,e)=>{var r=Ea(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},F_=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+n,f=Math.asin(o/u)/rT,h=l?i:i+s*f,g=rs(e,r,u,h),v=rs(e,r,n,h),x=l?i-s*f:i,b=rs(e,r,u*Math.cos(f*rT),x);return{center:g,circleTangency:v,lineTangency:b,theta:f}},Tne=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=uRe(s,a),l=s+o,u=rs(e,r,i,s),f=rs(e,r,i,l),h=wi(pH||(pH=v0(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(s>l),f.x,f.y);if(n>0){var g=rs(e,r,n,s),v=rs(e,r,n,l);h+=wi(gH||(gH=v0(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(o)>180),+(s<=l),g.x,g.y)}else h+=wi(vH||(vH=v0(["L ",","," Z"])),e,r);return h},dRe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,f=Ea(u-l),{circleTangency:h,lineTangency:g,theta:v}=F_({cx:e,cy:r,radius:i,angle:l,sign:f,cornerRadius:s,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:w}=F_({cx:e,cy:r,radius:i,angle:u,sign:-f,cornerRadius:s,cornerIsExternal:o}),E=o?Math.abs(l-u):Math.abs(l-u)-v-w;if(E<0)return a?wi(yH||(yH=v0(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):Tne({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var A=wi(xH||(xH=v0(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(f<0),h.x,h.y,i,i,+(E>180),+(f<0),x.x,x.y,s,s,+(f<0),b.x,b.y);if(n>0){var{circleTangency:k,lineTangency:R,theta:j}=F_({cx:e,cy:r,radius:n,angle:l,sign:f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:P,lineTangency:S,theta:I}=F_({cx:e,cy:r,radius:n,angle:u,sign:-f,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),O=o?Math.abs(l-u):Math.abs(l-u)-j-I;if(O<0&&s===0)return"".concat(A,"L").concat(e,",").concat(r,"Z");A+=wi(bH||(bH=v0(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,s,s,+(f<0),P.x,P.y,n,n,+(O>180),+(f>0),k.x,k.y,s,s,+(f<0),R.x,R.y)}else A+=wi(wH||(wH=v0(["L",",","Z"])),e,r);return A},fRe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Sne=t=>{var e=ms(t,fRe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f,className:h}=e;if(s<i||u===f)return null;var g=qr("recharts-sector",h),v=s-i,x=zo(a,v,0,!0),b;return x>0&&Math.abs(u-f)<360?b=dRe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:f}):b=Tne({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:f}),N.createElement("path",wO({},$a(e),{className:g,d:b}))};function hRe(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(rre(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=rs(n,i,s,o),u=rs(n,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return Ene(e)}}var d3={},f3={},h3={},_H;function mRe(){return _H||(_H=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mre();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(h3)),h3}var EH;function pRe(){return EH||(EH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mRe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(f3)),f3}var TH;function gRe(){return TH||(TH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pre(),r=pRe();function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}t.range=n})(d3)),d3}var m3,SH;function vRe(){return SH||(SH=1,m3=gRe().range),m3}var yRe=vRe();const Ane=Yo(yRe);function Uf(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function xRe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function p8(t){let e,r,n;t.length!==2?(e=Uf,r=(o,l)=>Uf(t(o),l),n=(o,l)=>t(o)-l):(e=t===Uf||t===xRe?t:bRe,r=t,n=t);function i(o,l,u=0,f=o.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;r(o[h],l)<0?u=h+1:f=h}while(u<f)}return u}function s(o,l,u=0,f=o.length){if(u<f){if(e(l,l)!==0)return f;do{const h=u+f>>>1;r(o[h],l)<=0?u=h+1:f=h}while(u<f)}return u}function a(o,l,u=0,f=o.length){const h=i(o,l,u,f-1);return h>u&&n(o[h-1],l)>-n(o[h],l)?h-1:h}return{left:i,center:a,right:s}}function bRe(){return 0}function kne(t){return t===null?NaN:+t}function*wRe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const _Re=p8(Uf),mb=_Re.right;p8(kne).center;class AH extends Map{constructor(e,r=SRe){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(kH(this,e))}has(e){return super.has(kH(this,e))}set(e,r){return super.set(ERe(this,e),r)}delete(e){return super.delete(TRe(this,e))}}function kH({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function ERe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function TRe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function SRe(t){return t!==null&&typeof t=="object"?t.valueOf():t}function ARe(t=Uf){if(t===Uf)return Cne;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Cne(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const kRe=Math.sqrt(50),CRe=Math.sqrt(10),NRe=Math.sqrt(2);function nT(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=kRe?10:s>=CRe?5:s>=NRe?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?nT(t,e,r*2):[o,l,u]}function _O(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?nT(e,t,r):nT(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function EO(t,e,r){return e=+e,t=+t,r=+r,nT(t,e,r)[2]}function TO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?EO(e,t,r):EO(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function CH(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function NH(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Nne(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Cne:ARe(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,f=Math.log(l),h=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*h*(l-h)/l)*(u-l/2<0?-1:1),v=Math.max(r,Math.floor(e-u*h/l+g)),x=Math.min(n,Math.floor(e+(l-u)*h/l+g));Nne(t,e,v,x,i)}const s=t[e];let a=r,o=n;for(My(t,r,e),i(t[n],s)>0&&My(t,r,n);a<o;){for(My(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?My(t,r,o):(++o,My(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function My(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function IRe(t,e,r){if(t=Float64Array.from(wRe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return NH(t);if(e>=1)return CH(t);var n,i=(n-1)*e,s=Math.floor(i),a=CH(Nne(t,s).subarray(0,s+1)),o=NH(t.subarray(s+1));return a+(o-a)*(i-s)}}function ORe(t,e,r=kne){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function RRe(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Pl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function kd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const SO=Symbol("implicit");function g8(){var t=new AH,e=[],r=[],n=SO;function i(s){let a=t.get(s);if(a===void 0){if(n!==SO)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new AH;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return g8(e,r).unknown(n)},Pl.apply(i,arguments),i}function v8(){var t=g8().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,f=.5;delete t.unknown;function h(){var g=e().length,v=i<n,x=v?i:n,b=v?n:i;s=(b-x)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),x+=(b-x-s*(g-l))*f,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var w=RRe(g).map(function(E){return x+s*E});return r(v?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),h()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,h()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,o=!0,h()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(o=!!g,h()):o},t.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),h()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),h()):l},t.paddingOuter=function(g){return arguments.length?(u=+g,h()):u},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),h()):f},t.copy=function(){return v8(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(f)},Pl.apply(h(),arguments)}function Ine(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Ine(e())},t}function PRe(){return Ine(v8.apply(null,arguments).paddingInner(1))}function y8(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function One(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function pb(){}var cx=.7,iT=1/cx,sg="\\s*([+-]?\\d+)\\s*",ux="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",jRe=/^#([0-9a-f]{3,8})$/,DRe=new RegExp(`^rgb\\(${sg},${sg},${sg}\\)$`),MRe=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),LRe=new RegExp(`^rgba\\(${sg},${sg},${sg},${ux}\\)$`),FRe=new RegExp(`^rgba\\(${nu},${nu},${nu},${ux}\\)$`),BRe=new RegExp(`^hsl\\(${ux},${nu},${nu}\\)$`),URe=new RegExp(`^hsla\\(${ux},${nu},${nu},${ux}\\)$`),IH={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};y8(pb,dx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:OH,formatHex:OH,formatHex8:VRe,formatHsl:zRe,formatRgb:RH,toString:RH});function OH(){return this.rgb().formatHex()}function VRe(){return this.rgb().formatHex8()}function zRe(){return Rne(this).formatHsl()}function RH(){return this.rgb().formatRgb()}function dx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=jRe.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?PH(e):r===3?new co(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?B_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?B_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=DRe.exec(t))?new co(e[1],e[2],e[3],1):(e=MRe.exec(t))?new co(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=LRe.exec(t))?B_(e[1],e[2],e[3],e[4]):(e=FRe.exec(t))?B_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=BRe.exec(t))?MH(e[1],e[2]/100,e[3]/100,1):(e=URe.exec(t))?MH(e[1],e[2]/100,e[3]/100,e[4]):IH.hasOwnProperty(t)?PH(IH[t]):t==="transparent"?new co(NaN,NaN,NaN,0):null}function PH(t){return new co(t>>16&255,t>>8&255,t&255,1)}function B_(t,e,r,n){return n<=0&&(t=e=r=NaN),new co(t,e,r,n)}function $Re(t){return t instanceof pb||(t=dx(t)),t?(t=t.rgb(),new co(t.r,t.g,t.b,t.opacity)):new co}function AO(t,e,r,n){return arguments.length===1?$Re(t):new co(t,e,r,n??1)}function co(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}y8(co,AO,One(pb,{brighter(t){return t=t==null?iT:Math.pow(iT,t),new co(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?cx:Math.pow(cx,t),new co(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new co(A0(this.r),A0(this.g),A0(this.b),sT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:jH,formatHex:jH,formatHex8:HRe,formatRgb:DH,toString:DH}));function jH(){return`#${y0(this.r)}${y0(this.g)}${y0(this.b)}`}function HRe(){return`#${y0(this.r)}${y0(this.g)}${y0(this.b)}${y0((isNaN(this.opacity)?1:this.opacity)*255)}`}function DH(){const t=sT(this.opacity);return`${t===1?"rgb(":"rgba("}${A0(this.r)}, ${A0(this.g)}, ${A0(this.b)}${t===1?")":`, ${t})`}`}function sT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function A0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function y0(t){return t=A0(t),(t<16?"0":"")+t.toString(16)}function MH(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new rc(t,e,r,n)}function Rne(t){if(t instanceof rc)return new rc(t.h,t.s,t.l,t.opacity);if(t instanceof pb||(t=dx(t)),!t)return new rc;if(t instanceof rc)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new rc(a,o,l,t.opacity)}function qRe(t,e,r,n){return arguments.length===1?Rne(t):new rc(t,e,r,n??1)}function rc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}y8(rc,qRe,One(pb,{brighter(t){return t=t==null?iT:Math.pow(iT,t),new rc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?cx:Math.pow(cx,t),new rc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new co(p3(t>=240?t-240:t+120,i,n),p3(t,i,n),p3(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new rc(LH(this.h),U_(this.s),U_(this.l),sT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=sT(this.opacity);return`${t===1?"hsl(":"hsla("}${LH(this.h)}, ${U_(this.s)*100}%, ${U_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function LH(t){return t=(t||0)%360,t<0?t+360:t}function U_(t){return Math.max(0,Math.min(1,t||0))}function p3(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const x8=t=>()=>t;function WRe(t,e){return function(r){return t+r*e}}function GRe(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function KRe(t){return(t=+t)==1?Pne:function(e,r){return r-e?GRe(e,r,t):x8(isNaN(e)?r:e)}}function Pne(t,e){var r=e-t;return r?WRe(t,r):x8(isNaN(t)?e:t)}const FH=(function t(e){var r=KRe(e);function n(i,s){var a=r((i=AO(i)).r,(s=AO(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=Pne(i.opacity,s.opacity);return function(f){return i.r=a(f),i.g=o(f),i.b=l(f),i.opacity=u(f),i+""}}return n.gamma=t,n})(1);function YRe(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function XRe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function QRe(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=xv(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function JRe(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function aT(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function ZRe(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=xv(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var kO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,g3=new RegExp(kO.source,"g");function ePe(t){return function(){return t}}function tPe(t){return function(e){return t(e)+""}}function rPe(t,e){var r=kO.lastIndex=g3.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=kO.exec(t))&&(i=g3.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:aT(n,i)})),r=g3.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?tPe(l[0].x):ePe(e):(e=l.length,function(u){for(var f=0,h;f<e;++f)o[(h=l[f]).i]=h.x(u);return o.join("")})}function xv(t,e){var r=typeof e,n;return e==null||r==="boolean"?x8(e):(r==="number"?aT:r==="string"?(n=dx(e))?(e=n,FH):rPe:e instanceof dx?FH:e instanceof Date?JRe:XRe(e)?YRe:Array.isArray(e)?QRe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?ZRe:aT)(t,e)}function b8(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function nPe(t,e){e===void 0&&(e=t,t=xv);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function iPe(t){return function(){return t}}function oT(t){return+t}var BH=[0,1];function Fa(t){return t}function CO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:iPe(isNaN(e)?NaN:.5)}function sPe(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function aPe(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=CO(i,n),s=r(a,s)):(n=CO(n,i),s=r(s,a)),function(o){return s(n(o))}}function oPe(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=CO(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=mb(t,o,1,n)-1;return s[l](i[l](o))}}function gb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function _4(){var t=BH,e=BH,r=xv,n,i,s,a=Fa,o,l,u;function f(){var g=Math.min(t.length,e.length);return a!==Fa&&(a=sPe(t[0],t[g-1])),o=g>2?oPe:aPe,l=u=null,h}function h(g){return g==null||isNaN(g=+g)?s:(l||(l=o(t.map(n),e,r)))(n(a(g)))}return h.invert=function(g){return a(i((u||(u=o(e,t.map(n),aT)))(g)))},h.domain=function(g){return arguments.length?(t=Array.from(g,oT),f()):t.slice()},h.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},h.rangeRound=function(g){return e=Array.from(g),r=b8,f()},h.clamp=function(g){return arguments.length?(a=g?!0:Fa,f()):a!==Fa},h.interpolate=function(g){return arguments.length?(r=g,f()):r},h.unknown=function(g){return arguments.length?(s=g,h):s},function(g,v){return n=g,i=v,f()}}function w8(){return _4()(Fa,Fa)}function lPe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function lT(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function $g(t){return t=lT(Math.abs(t)),t?t[1]:NaN}function cPe(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function uPe(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var dPe=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function fx(t){if(!(e=dPe.exec(t)))throw new Error("invalid format: "+t);var e;return new _8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}fx.prototype=_8.prototype;function _8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}_8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function fPe(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var jne;function hPe(t,e){var r=lT(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(jne=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+lT(t,Math.max(0,e+s-1))[0]}function UH(t,e){var r=lT(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const VH={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:lPe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>UH(t*100,e),r:UH,s:hPe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function zH(t){return t}var $H=Array.prototype.map,HH=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function mPe(t){var e=t.grouping===void 0||t.thousands===void 0?zH:cPe($H.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?zH:uPe($H.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(h){h=fx(h);var g=h.fill,v=h.align,x=h.sign,b=h.symbol,w=h.zero,E=h.width,A=h.comma,k=h.precision,R=h.trim,j=h.type;j==="n"?(A=!0,j="g"):VH[j]||(k===void 0&&(k=12),R=!0,j="g"),(w||g==="0"&&v==="=")&&(w=!0,g="0",v="=");var P=b==="$"?r:b==="#"&&/[boxX]/.test(j)?"0"+j.toLowerCase():"",S=b==="$"?n:/[%p]/.test(j)?a:"",I=VH[j],O=/[defgprs%]/.test(j);k=k===void 0?6:/[gprs]/.test(j)?Math.max(1,Math.min(21,k)):Math.max(0,Math.min(20,k));function D(M){var F=P,U=S,le,de,J;if(j==="c")U=I(M)+U,M="";else{M=+M;var Q=M<0||1/M<0;if(M=isNaN(M)?l:I(Math.abs(M),k),R&&(M=fPe(M)),Q&&+M==0&&x!=="+"&&(Q=!1),F=(Q?x==="("?x:o:x==="-"||x==="("?"":x)+F,U=(j==="s"?HH[8+jne/3]:"")+U+(Q&&x==="("?")":""),O){for(le=-1,de=M.length;++le<de;)if(J=M.charCodeAt(le),48>J||J>57){U=(J===46?i+M.slice(le+1):M.slice(le))+U,M=M.slice(0,le);break}}}A&&!w&&(M=e(M,1/0));var fe=F.length+M.length+U.length,ee=fe<E?new Array(E-fe+1).join(g):"";switch(A&&w&&(M=e(ee+M,ee.length?E-U.length:1/0),ee=""),v){case"<":M=F+M+U+ee;break;case"=":M=F+ee+M+U;break;case"^":M=ee.slice(0,fe=ee.length>>1)+F+M+U+ee.slice(fe);break;default:M=ee+F+M+U;break}return s(M)}return D.toString=function(){return h+""},D}function f(h,g){var v=u((h=fx(h),h.type="f",h)),x=Math.max(-8,Math.min(8,Math.floor($g(g)/3)))*3,b=Math.pow(10,-x),w=HH[8+x/3];return function(E){return v(b*E)+w}}return{format:u,formatPrefix:f}}var V_,E8,Dne;pPe({thousands:",",grouping:[3],currency:["$",""]});function pPe(t){return V_=mPe(t),E8=V_.format,Dne=V_.formatPrefix,V_}function gPe(t){return Math.max(0,-$g(Math.abs(t)))}function vPe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor($g(e)/3)))*3-$g(Math.abs(t)))}function yPe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,$g(e)-$g(t))+1}function Mne(t,e,r,n){var i=TO(t,e,r),s;switch(n=fx(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=vPe(i,a))&&(n.precision=s),Dne(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=yPe(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=gPe(i))&&(n.precision=s-(n.type==="%")*2);break}}return E8(n)}function vh(t){var e=t.domain;return t.ticks=function(r){var n=e();return _O(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Mne(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,f=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);f-- >0;){if(u=EO(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Lne(){var t=w8();return t.copy=function(){return gb(t,Lne())},Pl.apply(t,arguments),vh(t)}function Fne(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,oT),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Fne(t).unknown(e)},t=arguments.length?Array.from(t,oT):[0,1],vh(r)}function Bne(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function qH(t){return Math.log(t)}function WH(t){return Math.exp(t)}function xPe(t){return-Math.log(-t)}function bPe(t){return-Math.exp(-t)}function wPe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function _Pe(t){return t===10?wPe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function EPe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function GH(t){return(e,r)=>-t(-e,r)}function T8(t){const e=t(qH,WH),r=e.domain;let n=10,i,s;function a(){return i=EPe(n),s=_Pe(n),r()[0]<0?(i=GH(i),s=GH(s),t(xPe,bPe)):t(qH,WH),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],f=l[l.length-1];const h=f<u;h&&([u,f]=[f,u]);let g=i(u),v=i(f),x,b;const w=o==null?10:+o;let E=[];if(!(n%1)&&v-g<w){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(x=1;x<n;++x)if(b=g<0?x/s(-g):x*s(g),!(b<u)){if(b>f)break;E.push(b)}}else for(;g<=v;++g)for(x=n-1;x>=1;--x)if(b=g>0?x/s(-g):x*s(g),!(b<u)){if(b>f)break;E.push(b)}E.length*2<w&&(E=_O(u,f,w))}else E=_O(g,v,Math.min(v-g,w)).map(s);return h?E.reverse():E},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=fx(l)).precision==null&&(l.trim=!0),l=E8(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return f=>{let h=f/s(Math.round(i(f)));return h*n<n-.5&&(h*=n),h<=u?l(f):""}},e.nice=()=>r(Bne(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Une(){const t=T8(_4()).domain([1,10]);return t.copy=()=>gb(t,Une()).base(t.base()),Pl.apply(t,arguments),t}function KH(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function YH(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function S8(t){var e=1,r=t(KH(e),YH(e));return r.constant=function(n){return arguments.length?t(KH(e=+n),YH(e)):e},vh(r)}function Vne(){var t=S8(_4());return t.copy=function(){return gb(t,Vne()).constant(t.constant())},Pl.apply(t,arguments)}function XH(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function TPe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function SPe(t){return t<0?-t*t:t*t}function A8(t){var e=t(Fa,Fa),r=1;function n(){return r===1?t(Fa,Fa):r===.5?t(TPe,SPe):t(XH(r),XH(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},vh(e)}function k8(){var t=A8(_4());return t.copy=function(){return gb(t,k8()).exponent(t.exponent())},Pl.apply(t,arguments),t}function APe(){return k8.apply(null,arguments).exponent(.5)}function QH(t){return Math.sign(t)*t*t}function kPe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function zne(){var t=w8(),e=[0,1],r=!1,n;function i(s){var a=kPe(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(QH(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,oT)).map(QH)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return zne(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Pl.apply(i,arguments),vh(i)}function $ne(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=ORe(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[mb(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(Uf),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return $ne().domain(t).range(e).unknown(n)},Pl.apply(s,arguments)}function Hne(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[mb(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return Hne().domain([t,e]).range(i).unknown(s)},Pl.apply(vh(a),arguments)}function qne(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[mb(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return qne().domain(t).range(e).unknown(r)},Pl.apply(i,arguments)}const v3=new Date,y3=new Date;function ps(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>ps(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(v3.setTime(+s),y3.setTime(+a),t(v3),t(y3),Math.floor(r(v3,y3))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const cT=ps(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);cT.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?ps(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):cT);cT.range;const Gu=1e3,El=Gu*60,Ku=El*60,vd=Ku*24,C8=vd*7,JH=vd*30,x3=vd*365,x0=ps(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Gu)},(t,e)=>(e-t)/Gu,t=>t.getUTCSeconds());x0.range;const N8=ps(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gu)},(t,e)=>{t.setTime(+t+e*El)},(t,e)=>(e-t)/El,t=>t.getMinutes());N8.range;const I8=ps(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*El)},(t,e)=>(e-t)/El,t=>t.getUTCMinutes());I8.range;const O8=ps(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Gu-t.getMinutes()*El)},(t,e)=>{t.setTime(+t+e*Ku)},(t,e)=>(e-t)/Ku,t=>t.getHours());O8.range;const R8=ps(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Ku)},(t,e)=>(e-t)/Ku,t=>t.getUTCHours());R8.range;const vb=ps(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*El)/vd,t=>t.getDate()-1);vb.range;const E4=ps(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vd,t=>t.getUTCDate()-1);E4.range;const Wne=ps(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/vd,t=>Math.floor(t/vd));Wne.range;function ym(t){return ps(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*El)/C8)}const T4=ym(0),uT=ym(1),CPe=ym(2),NPe=ym(3),Hg=ym(4),IPe=ym(5),OPe=ym(6);T4.range;uT.range;CPe.range;NPe.range;Hg.range;IPe.range;OPe.range;function xm(t){return ps(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/C8)}const S4=xm(0),dT=xm(1),RPe=xm(2),PPe=xm(3),qg=xm(4),jPe=xm(5),DPe=xm(6);S4.range;dT.range;RPe.range;PPe.range;qg.range;jPe.range;DPe.range;const P8=ps(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());P8.range;const j8=ps(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());j8.range;const yd=ps(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());yd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ps(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});yd.range;const xd=ps(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());xd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:ps(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});xd.range;function Gne(t,e,r,n,i,s){const a=[[x0,1,Gu],[x0,5,5*Gu],[x0,15,15*Gu],[x0,30,30*Gu],[s,1,El],[s,5,5*El],[s,15,15*El],[s,30,30*El],[i,1,Ku],[i,3,3*Ku],[i,6,6*Ku],[i,12,12*Ku],[n,1,vd],[n,2,2*vd],[r,1,C8],[e,1,JH],[e,3,3*JH],[t,1,x3]];function o(u,f,h){const g=f<u;g&&([u,f]=[f,u]);const v=h&&typeof h.range=="function"?h:l(u,f,h),x=v?v.range(u,+f+1):[];return g?x.reverse():x}function l(u,f,h){const g=Math.abs(f-u)/h,v=p8(([,,w])=>w).right(a,g);if(v===a.length)return t.every(TO(u/x3,f/x3,h));if(v===0)return cT.every(Math.max(TO(u,f,h),1));const[x,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return x.every(b)}return[o,l]}const[MPe,LPe]=Gne(xd,j8,S4,Wne,R8,I8),[FPe,BPe]=Gne(yd,P8,T4,vb,O8,N8);function b3(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function w3(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Ly(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function UPe(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Fy(i),f=By(i),h=Fy(s),g=By(s),v=Fy(a),x=By(a),b=Fy(o),w=By(o),E=Fy(l),A=By(l),k={a:Q,A:fe,b:ee,B:ge,c:null,d:iq,e:iq,f:c8e,g:x8e,G:w8e,H:a8e,I:o8e,j:l8e,L:Kne,m:u8e,M:d8e,p:q,q:z,Q:oq,s:lq,S:f8e,u:h8e,U:m8e,V:p8e,w:g8e,W:v8e,x:null,X:null,y:y8e,Y:b8e,Z:_8e,"%":aq},R={a:V,A:W,b:Y,B:ue,c:null,d:sq,e:sq,f:A8e,g:M8e,G:F8e,H:E8e,I:T8e,j:S8e,L:Xne,m:k8e,M:C8e,p:me,q:ce,Q:oq,s:lq,S:N8e,u:I8e,U:O8e,V:R8e,w:P8e,W:j8e,x:null,X:null,y:D8e,Y:L8e,Z:B8e,"%":aq},j={a:D,A:M,b:F,B:U,c:le,d:rq,e:rq,f:r8e,g:tq,G:eq,H:nq,I:nq,j:JPe,L:t8e,m:QPe,M:ZPe,p:O,q:XPe,Q:i8e,s:s8e,S:e8e,u:qPe,U:WPe,V:GPe,w:HPe,W:KPe,x:de,X:J,y:tq,Y:eq,Z:YPe,"%":n8e};k.x=P(r,k),k.X=P(n,k),k.c=P(e,k),R.x=P(r,R),R.X=P(n,R),R.c=P(e,R);function P(ie,ve){return function(Ue){var G=[],Je=-1,Oe=0,rt=ie.length,Xe,je,at;for(Ue instanceof Date||(Ue=new Date(+Ue));++Je<rt;)ie.charCodeAt(Je)===37&&(G.push(ie.slice(Oe,Je)),(je=ZH[Xe=ie.charAt(++Je)])!=null?Xe=ie.charAt(++Je):je=Xe==="e"?" ":"0",(at=ve[Xe])&&(Xe=at(Ue,je)),G.push(Xe),Oe=Je+1);return G.push(ie.slice(Oe,Je)),G.join("")}}function S(ie,ve){return function(Ue){var G=Ly(1900,void 0,1),Je=I(G,ie,Ue+="",0),Oe,rt;if(Je!=Ue.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ve&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Oe=w3(Ly(G.y,0,1)),rt=Oe.getUTCDay(),Oe=rt>4||rt===0?dT.ceil(Oe):dT(Oe),Oe=E4.offset(Oe,(G.V-1)*7),G.y=Oe.getUTCFullYear(),G.m=Oe.getUTCMonth(),G.d=Oe.getUTCDate()+(G.w+6)%7):(Oe=b3(Ly(G.y,0,1)),rt=Oe.getDay(),Oe=rt>4||rt===0?uT.ceil(Oe):uT(Oe),Oe=vb.offset(Oe,(G.V-1)*7),G.y=Oe.getFullYear(),G.m=Oe.getMonth(),G.d=Oe.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),rt="Z"in G?w3(Ly(G.y,0,1)).getUTCDay():b3(Ly(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(rt+5)%7:G.w+G.U*7-(rt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,w3(G)):b3(G)}}function I(ie,ve,Ue,G){for(var Je=0,Oe=ve.length,rt=Ue.length,Xe,je;Je<Oe;){if(G>=rt)return-1;if(Xe=ve.charCodeAt(Je++),Xe===37){if(Xe=ve.charAt(Je++),je=j[Xe in ZH?ve.charAt(Je++):Xe],!je||(G=je(ie,Ue,G))<0)return-1}else if(Xe!=Ue.charCodeAt(G++))return-1}return G}function O(ie,ve,Ue){var G=u.exec(ve.slice(Ue));return G?(ie.p=f.get(G[0].toLowerCase()),Ue+G[0].length):-1}function D(ie,ve,Ue){var G=v.exec(ve.slice(Ue));return G?(ie.w=x.get(G[0].toLowerCase()),Ue+G[0].length):-1}function M(ie,ve,Ue){var G=h.exec(ve.slice(Ue));return G?(ie.w=g.get(G[0].toLowerCase()),Ue+G[0].length):-1}function F(ie,ve,Ue){var G=E.exec(ve.slice(Ue));return G?(ie.m=A.get(G[0].toLowerCase()),Ue+G[0].length):-1}function U(ie,ve,Ue){var G=b.exec(ve.slice(Ue));return G?(ie.m=w.get(G[0].toLowerCase()),Ue+G[0].length):-1}function le(ie,ve,Ue){return I(ie,e,ve,Ue)}function de(ie,ve,Ue){return I(ie,r,ve,Ue)}function J(ie,ve,Ue){return I(ie,n,ve,Ue)}function Q(ie){return a[ie.getDay()]}function fe(ie){return s[ie.getDay()]}function ee(ie){return l[ie.getMonth()]}function ge(ie){return o[ie.getMonth()]}function q(ie){return i[+(ie.getHours()>=12)]}function z(ie){return 1+~~(ie.getMonth()/3)}function V(ie){return a[ie.getUTCDay()]}function W(ie){return s[ie.getUTCDay()]}function Y(ie){return l[ie.getUTCMonth()]}function ue(ie){return o[ie.getUTCMonth()]}function me(ie){return i[+(ie.getUTCHours()>=12)]}function ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ve=P(ie+="",k);return ve.toString=function(){return ie},ve},parse:function(ie){var ve=S(ie+="",!1);return ve.toString=function(){return ie},ve},utcFormat:function(ie){var ve=P(ie+="",R);return ve.toString=function(){return ie},ve},utcParse:function(ie){var ve=S(ie+="",!0);return ve.toString=function(){return ie},ve}}}var ZH={"-":"",_:" ",0:"0"},Bs=/^\s*\d+/,VPe=/^%/,zPe=/[\\^$*+?|[\]().{}]/g;function Dr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function $Pe(t){return t.replace(zPe,"\\$&")}function Fy(t){return new RegExp("^(?:"+t.map($Pe).join("|")+")","i")}function By(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function HPe(t,e,r){var n=Bs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function qPe(t,e,r){var n=Bs.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function WPe(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function GPe(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function KPe(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function eq(t,e,r){var n=Bs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function tq(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function YPe(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function XPe(t,e,r){var n=Bs.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function QPe(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function rq(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function JPe(t,e,r){var n=Bs.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function nq(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function ZPe(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function e8e(t,e,r){var n=Bs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function t8e(t,e,r){var n=Bs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function r8e(t,e,r){var n=Bs.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function n8e(t,e,r){var n=VPe.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function i8e(t,e,r){var n=Bs.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function s8e(t,e,r){var n=Bs.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function iq(t,e){return Dr(t.getDate(),e,2)}function a8e(t,e){return Dr(t.getHours(),e,2)}function o8e(t,e){return Dr(t.getHours()%12||12,e,2)}function l8e(t,e){return Dr(1+vb.count(yd(t),t),e,3)}function Kne(t,e){return Dr(t.getMilliseconds(),e,3)}function c8e(t,e){return Kne(t,e)+"000"}function u8e(t,e){return Dr(t.getMonth()+1,e,2)}function d8e(t,e){return Dr(t.getMinutes(),e,2)}function f8e(t,e){return Dr(t.getSeconds(),e,2)}function h8e(t){var e=t.getDay();return e===0?7:e}function m8e(t,e){return Dr(T4.count(yd(t)-1,t),e,2)}function Yne(t){var e=t.getDay();return e>=4||e===0?Hg(t):Hg.ceil(t)}function p8e(t,e){return t=Yne(t),Dr(Hg.count(yd(t),t)+(yd(t).getDay()===4),e,2)}function g8e(t){return t.getDay()}function v8e(t,e){return Dr(uT.count(yd(t)-1,t),e,2)}function y8e(t,e){return Dr(t.getFullYear()%100,e,2)}function x8e(t,e){return t=Yne(t),Dr(t.getFullYear()%100,e,2)}function b8e(t,e){return Dr(t.getFullYear()%1e4,e,4)}function w8e(t,e){var r=t.getDay();return t=r>=4||r===0?Hg(t):Hg.ceil(t),Dr(t.getFullYear()%1e4,e,4)}function _8e(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Dr(e/60|0,"0",2)+Dr(e%60,"0",2)}function sq(t,e){return Dr(t.getUTCDate(),e,2)}function E8e(t,e){return Dr(t.getUTCHours(),e,2)}function T8e(t,e){return Dr(t.getUTCHours()%12||12,e,2)}function S8e(t,e){return Dr(1+E4.count(xd(t),t),e,3)}function Xne(t,e){return Dr(t.getUTCMilliseconds(),e,3)}function A8e(t,e){return Xne(t,e)+"000"}function k8e(t,e){return Dr(t.getUTCMonth()+1,e,2)}function C8e(t,e){return Dr(t.getUTCMinutes(),e,2)}function N8e(t,e){return Dr(t.getUTCSeconds(),e,2)}function I8e(t){var e=t.getUTCDay();return e===0?7:e}function O8e(t,e){return Dr(S4.count(xd(t)-1,t),e,2)}function Qne(t){var e=t.getUTCDay();return e>=4||e===0?qg(t):qg.ceil(t)}function R8e(t,e){return t=Qne(t),Dr(qg.count(xd(t),t)+(xd(t).getUTCDay()===4),e,2)}function P8e(t){return t.getUTCDay()}function j8e(t,e){return Dr(dT.count(xd(t)-1,t),e,2)}function D8e(t,e){return Dr(t.getUTCFullYear()%100,e,2)}function M8e(t,e){return t=Qne(t),Dr(t.getUTCFullYear()%100,e,2)}function L8e(t,e){return Dr(t.getUTCFullYear()%1e4,e,4)}function F8e(t,e){var r=t.getUTCDay();return t=r>=4||r===0?qg(t):qg.ceil(t),Dr(t.getUTCFullYear()%1e4,e,4)}function B8e(){return"+0000"}function aq(){return"%"}function oq(t){return+t}function lq(t){return Math.floor(+t/1e3)}var yp,Jne,Zne;U8e({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function U8e(t){return yp=UPe(t),Jne=yp.format,yp.parse,Zne=yp.utcFormat,yp.utcParse,yp}function V8e(t){return new Date(t)}function z8e(t){return t instanceof Date?+t:+new Date(+t)}function D8(t,e,r,n,i,s,a,o,l,u){var f=w8(),h=f.invert,g=f.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),w=u("%I %p"),E=u("%a %d"),A=u("%b %d"),k=u("%B"),R=u("%Y");function j(P){return(l(P)<P?v:o(P)<P?x:a(P)<P?b:s(P)<P?w:n(P)<P?i(P)<P?E:A:r(P)<P?k:R)(P)}return f.invert=function(P){return new Date(h(P))},f.domain=function(P){return arguments.length?g(Array.from(P,z8e)):g().map(V8e)},f.ticks=function(P){var S=g();return t(S[0],S[S.length-1],P??10)},f.tickFormat=function(P,S){return S==null?j:u(S)},f.nice=function(P){var S=g();return(!P||typeof P.range!="function")&&(P=e(S[0],S[S.length-1],P??10)),P?g(Bne(S,P)):f},f.copy=function(){return gb(f,D8(t,e,r,n,i,s,a,o,l,u))},f}function $8e(){return Pl.apply(D8(FPe,BPe,yd,P8,T4,vb,O8,N8,x0,Jne).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function H8e(){return Pl.apply(D8(MPe,LPe,xd,j8,S4,E4,R8,I8,x0,Zne).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function A4(){var t=0,e=1,r,n,i,s,a=Fa,o=!1,l;function u(h){return h==null||isNaN(h=+h)?l:a(i===0?.5:(h=(s(h)-r)*i,o?Math.max(0,Math.min(1,h)):h))}u.domain=function(h){return arguments.length?([t,e]=h,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(h){return arguments.length?(o=!!h,u):o},u.interpolator=function(h){return arguments.length?(a=h,u):a};function f(h){return function(g){var v,x;return arguments.length?([v,x]=g,a=h(v,x),u):[a(0),a(1)]}}return u.range=f(xv),u.rangeRound=f(b8),u.unknown=function(h){return arguments.length?(l=h,u):l},function(h){return s=h,r=h(t),n=h(e),i=r===n?0:1/(n-r),u}}function yh(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function eie(){var t=vh(A4()(Fa));return t.copy=function(){return yh(t,eie())},kd.apply(t,arguments)}function tie(){var t=T8(A4()).domain([1,10]);return t.copy=function(){return yh(t,tie()).base(t.base())},kd.apply(t,arguments)}function rie(){var t=S8(A4());return t.copy=function(){return yh(t,rie()).constant(t.constant())},kd.apply(t,arguments)}function M8(){var t=A8(A4());return t.copy=function(){return yh(t,M8()).exponent(t.exponent())},kd.apply(t,arguments)}function q8e(){return M8.apply(null,arguments).exponent(.5)}function nie(){var t=[],e=Fa;function r(n){if(n!=null&&!isNaN(n=+n))return e((mb(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(Uf),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>IRe(t,s/n))},r.copy=function(){return nie(e).domain(t)},kd.apply(r,arguments)}function k4(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,u=Fa,f,h=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+f(b))-s)*(n*b<n*s?o:l),u(h?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,r]=b,i=f(t=+t),s=f(e=+e),a=f(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(b){return arguments.length?(h=!!b,v):h},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(w){var E,A,k;return arguments.length?([E,A,k]=w,u=nPe(b,[E,A,k]),v):[u(0),u(.5),u(1)]}}return v.range=x(xv),v.rangeRound=x(b8),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return f=b,i=b(t),s=b(e),a=b(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v}}function iie(){var t=vh(k4()(Fa));return t.copy=function(){return yh(t,iie())},kd.apply(t,arguments)}function sie(){var t=T8(k4()).domain([.1,1,10]);return t.copy=function(){return yh(t,sie()).base(t.base())},kd.apply(t,arguments)}function aie(){var t=S8(k4());return t.copy=function(){return yh(t,aie()).constant(t.constant())},kd.apply(t,arguments)}function L8(){var t=A8(k4());return t.copy=function(){return yh(t,L8()).exponent(t.exponent())},kd.apply(t,arguments)}function W8e(){return L8.apply(null,arguments).exponent(.5)}const Xy=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:v8,scaleDiverging:iie,scaleDivergingLog:sie,scaleDivergingPow:L8,scaleDivergingSqrt:W8e,scaleDivergingSymlog:aie,scaleIdentity:Fne,scaleImplicit:SO,scaleLinear:Lne,scaleLog:Une,scaleOrdinal:g8,scalePoint:PRe,scalePow:k8,scaleQuantile:$ne,scaleQuantize:Hne,scaleRadial:zne,scaleSequential:eie,scaleSequentialLog:tie,scaleSequentialPow:M8,scaleSequentialQuantile:nie,scaleSequentialSqrt:q8e,scaleSequentialSymlog:rie,scaleSqrt:APe,scaleSymlog:Vne,scaleThreshold:qne,scaleTime:$8e,scaleUtc:H8e,tickFormat:Mne},Symbol.toStringTag,{value:"Module"}));var Cd=t=>t.chartData,C4=Ne([Cd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),oie=(t,e,r,n)=>n?C4(t):Cd(t),G8e=(t,e,r)=>r?C4(t):Cd(t);function rh(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(Zn(e)&&Zn(r))return!0}return!1}function cq(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function lie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(Zn(r))i=r;else if(typeof r=="function")return;if(Zn(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(rh(a))return a}}function K8e(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(rh(n))return cq(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(xt(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&b$.test(i)){var l=b$.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(xt(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&w$.test(s)){var f=w$.exec(s);if(f==null||f[1]==null||e==null)o=void 0;else{var h=+f[1];o=e[1]+h}}else o=e==null?void 0:e[1];var g=[a,o];if(rh(g))return e==null?g:cq(g,e,r)}}}var bv=1e9,Y8e={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},B8,Jn=!0,Il="[DecimalError] ",k0=Il+"Invalid argument: ",F8=Il+"Exponent out of range: ",wv=Math.floor,s0=Math.pow,X8e=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Do,As=1e7,Bn=7,cie=9007199254740991,fT=wv(cie/Bn),gt={};gt.absoluteValue=gt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};gt.comparedTo=gt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};gt.decimalPlaces=gt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*Bn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};gt.dividedBy=gt.div=function(t){return td(this,new this.constructor(t))};gt.dividedToIntegerBy=gt.idiv=function(t){var e=this,r=e.constructor;return Nn(td(e,new r(t),0,1),r.precision)};gt.equals=gt.eq=function(t){return!this.cmp(t)};gt.exponent=function(){return ns(this)};gt.greaterThan=gt.gt=function(t){return this.cmp(t)>0};gt.greaterThanOrEqualTo=gt.gte=function(t){return this.cmp(t)>=0};gt.isInteger=gt.isint=function(){return this.e>this.d.length-2};gt.isNegative=gt.isneg=function(){return this.s<0};gt.isPositive=gt.ispos=function(){return this.s>0};gt.isZero=function(){return this.s===0};gt.lessThan=gt.lt=function(t){return this.cmp(t)<0};gt.lessThanOrEqualTo=gt.lte=function(t){return this.cmp(t)<1};gt.logarithm=gt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Do))throw Error(Il+"NaN");if(r.s<1)throw Error(Il+(r.s?"NaN":"-Infinity"));return r.eq(Do)?new n(0):(Jn=!1,e=td(hx(r,s),hx(t,s),s),Jn=!0,Nn(e,i))};gt.minus=gt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?fie(e,t):uie(e,(t.s=-t.s,t))};gt.modulo=gt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Il+"NaN");return r.s?(Jn=!1,e=td(r,t,0,1).times(t),Jn=!0,r.minus(e)):Nn(new n(r),i)};gt.naturalExponential=gt.exp=function(){return die(this)};gt.naturalLogarithm=gt.ln=function(){return hx(this)};gt.negated=gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};gt.plus=gt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?uie(e,t):fie(e,(t.s=-t.s,t))};gt.precision=gt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(k0+t);if(e=ns(i)+1,n=i.d.length-1,r=n*Bn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};gt.squareRoot=gt.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Il+"NaN")}for(t=ns(o),Jn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Kc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=wv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(td(o,s,a+2)).times(.5),Kc(s.d).slice(0,a)===(e=Kc(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Nn(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return Jn=!0,Nn(n,r)};gt.times=gt.mul=function(t){var e,r,n,i,s,a,o,l,u,f=this,h=f.constructor,g=f.d,v=(t=new h(t)).d;if(!f.s||!t.s)return new h(0);for(t.s*=f.s,r=f.e+t.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+v[n]*g[i-n-1]+e,s[i--]=o%As|0,e=o/As|0;s[i]=(s[i]+e)%As|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,Jn?Nn(t,h.precision):t};gt.toDecimalPlaces=gt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cu(t,0,bv),e===void 0?e=n.rounding:cu(e,0,8),Nn(r,t+ns(r)+1,e))};gt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=X0(n,!0):(cu(t,0,bv),e===void 0?e=i.rounding:cu(e,0,8),n=Nn(new i(n),t+1,e),r=X0(n,!0,t+1)),r};gt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?X0(i):(cu(t,0,bv),e===void 0?e=s.rounding:cu(e,0,8),n=Nn(new s(i),t+ns(i)+1,e),r=X0(n.abs(),!1,t+ns(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};gt.toInteger=gt.toint=function(){var t=this,e=t.constructor;return Nn(new e(t),ns(t)+1,e.rounding)};gt.toNumber=function(){return+this};gt.toPower=gt.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,u=12,f=+(t=new l(t));if(!t.s)return new l(Do);if(o=new l(o),!o.s){if(t.s<1)throw Error(Il+"Infinity");return o}if(o.eq(Do))return o;if(n=l.precision,t.eq(Do))return Nn(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=f<0?-f:f)<=cie){for(i=new l(Do),e=Math.ceil(n/Bn+4),Jn=!1;r%2&&(i=i.times(o),dq(i.d,e)),r=wv(r/2),r!==0;)o=o.times(o),dq(o.d,e);return Jn=!0,t.s<0?new l(Do).div(i):Nn(i,n)}}else if(s<0)throw Error(Il+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Jn=!1,i=t.times(hx(o,n+u)),Jn=!0,i=die(i),i.s=s,i};gt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ns(i),n=X0(i,r<=s.toExpNeg||r>=s.toExpPos)):(cu(t,1,bv),e===void 0?e=s.rounding:cu(e,0,8),i=Nn(new s(i),t,e),r=ns(i),n=X0(i,t<=r||r<=s.toExpNeg,t)),n};gt.toSignificantDigits=gt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cu(t,1,bv),e===void 0?e=n.rounding:cu(e,0,8)),Nn(new n(r),t,e)};gt.toString=gt.valueOf=gt.val=gt.toJSON=gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ns(t),r=t.constructor;return X0(t,e<=r.toExpNeg||e>=r.toExpPos)};function uie(t,e){var r,n,i,s,a,o,l,u,f=t.constructor,h=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Jn?Nn(e,h):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,i=a,o=l.length),a=Math.ceil(h/Bn),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/As|0,l[s]%=As;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Jn?Nn(e,h):e}function cu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(k0+t)}function Kc(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=Bn-n.length,r&&(s+=pf(r)),s+=n;a=t[e],n=a+"",r=Bn-n.length,r&&(s+=pf(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var td=(function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%As|0,a=s/As|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*As+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,u,f,h,g,v,x,b,w,E,A,k,R,j,P,S,I,O=n.constructor,D=n.s==i.s?1:-1,M=n.d,F=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Il+"Division by zero");for(l=n.e-i.e,S=F.length,j=M.length,v=new O(D),x=v.d=[],u=0;F[u]==(M[u]||0);)++u;if(F[u]>(M[u]||0)&&--l,s==null?A=s=O.precision:a?A=s+(ns(n)-ns(i))+1:A=s,A<0)return new O(0);if(A=A/Bn+2|0,u=0,S==1)for(f=0,F=F[0],A++;(u<j||f)&&A--;u++)k=f*As+(M[u]||0),x[u]=k/F|0,f=k%F|0;else{for(f=As/(F[0]+1)|0,f>1&&(F=t(F,f),M=t(M,f),S=F.length,j=M.length),R=S,b=M.slice(0,S),w=b.length;w<S;)b[w++]=0;I=F.slice(),I.unshift(0),P=F[0],F[1]>=As/2&&++P;do f=0,o=e(F,b,S,w),o<0?(E=b[0],S!=w&&(E=E*As+(b[1]||0)),f=E/P|0,f>1?(f>=As&&(f=As-1),h=t(F,f),g=h.length,w=b.length,o=e(h,b,g,w),o==1&&(f--,r(h,S<g?I:F,g))):(f==0&&(o=f=1),h=F.slice()),g=h.length,g<w&&h.unshift(0),r(b,h,w),o==-1&&(w=b.length,o=e(F,b,S,w),o<1&&(f++,r(b,S<w?I:F,w))),w=b.length):o===0&&(f++,b=[0]),x[u++]=f,o&&b[0]?b[w++]=M[R]||0:(b=[M[R]],w=1);while((R++<j||b[0]!==void 0)&&A--)}return x[0]||x.shift(),v.e=l,Nn(v,a?s+ns(v)+1:s)}})();function die(t,e){var r,n,i,s,a,o,l=0,u=0,f=t.constructor,h=f.precision;if(ns(t)>16)throw Error(F8+ns(t));if(!t.s)return new f(Do);for(Jn=!1,o=h,a=new f(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(s0(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new f(Do),f.precision=o;;){if(i=Nn(i.times(t),o),r=r.times(++l),a=s.plus(td(i,r,o)),Kc(a.d).slice(0,o)===Kc(s.d).slice(0,o)){for(;u--;)s=Nn(s.times(s),o);return f.precision=h,e==null?(Jn=!0,Nn(s,h)):s}s=a}}function ns(t){for(var e=t.e*Bn,r=t.d[0];r>=10;r/=10)e++;return e}function _3(t,e,r){if(e>t.LN10.sd())throw Jn=!0,r&&(t.precision=r),Error(Il+"LN10 precision limit exceeded");return Nn(new t(t.LN10),e)}function pf(t){for(var e="";t--;)e+="0";return e}function hx(t,e){var r,n,i,s,a,o,l,u,f,h=1,g=10,v=t,x=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(Il+(v.s?"NaN":"-Infinity"));if(v.eq(Do))return new b(0);if(e==null?(Jn=!1,u=w):u=e,v.eq(10))return e==null&&(Jn=!0),_3(b,u);if(u+=g,b.precision=u,r=Kc(x),n=r.charAt(0),s=ns(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=Kc(v.d),n=r.charAt(0),h++;s=ns(v),n>1?(v=new b("0."+r),s++):v=new b(n+"."+r.slice(1))}else return l=_3(b,u+2,w).times(s+""),v=hx(new b(n+"."+r.slice(1)),u-g).plus(l),b.precision=w,e==null?(Jn=!0,Nn(v,w)):v;for(o=a=v=td(v.minus(Do),v.plus(Do),u),f=Nn(v.times(v),u),i=3;;){if(a=Nn(a.times(f),u),l=o.plus(td(a,new b(i),u)),Kc(l.d).slice(0,u)===Kc(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(_3(b,u+2,w).times(s+""))),o=td(o,new b(h),u),b.precision=w,e==null?(Jn=!0,Nn(o,w)):o;o=l,i+=2}}function uq(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=wv(r/Bn),t.d=[],n=(r+1)%Bn,r<0&&(n+=Bn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=Bn;n<i;)t.d.push(+e.slice(n,n+=Bn));e=e.slice(n),n=Bn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Jn&&(t.e>fT||t.e<-fT))throw Error(F8+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nn(t,e,r){var n,i,s,a,o,l,u,f,h=t.d;for(a=1,s=h[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=Bn,i=e,u=h[f=0];else{if(f=Math.ceil((n+1)/Bn),s=h.length,f>=s)return t;for(u=s=h[f],a=1;s>=10;s/=10)a++;n%=Bn,i=n-Bn+a}if(r!==void 0&&(s=s0(10,a-i-1),o=u/s%10|0,l=e<0||h[f+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/s0(10,a-i):0:h[f-1])%10&1||r==(t.s<0?8:7))),e<1||!h[0])return l?(s=ns(t),h.length=1,e=e-s-1,h[0]=s0(10,(Bn-e%Bn)%Bn),t.e=wv(-e/Bn)||0):(h.length=1,h[0]=t.e=t.s=0),t;if(n==0?(h.length=f,s=1,f--):(h.length=f+1,s=s0(10,Bn-n),h[f]=i>0?(u/s0(10,a-i)%s0(10,i)|0)*s:0),l)for(;;)if(f==0){(h[0]+=s)==As&&(h[0]=1,++t.e);break}else{if(h[f]+=s,h[f]!=As)break;h[f--]=0,s=1}for(n=h.length;h[--n]===0;)h.pop();if(Jn&&(t.e>fT||t.e<-fT))throw Error(F8+ns(t));return t}function fie(t,e){var r,n,i,s,a,o,l,u,f,h,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Jn?Nn(e,v):e;if(l=t.d,h=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(f=a<0,f?(r=l,a=-a,o=h.length):(r=h,n=u,o=l.length),i=Math.max(Math.ceil(v/Bn),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=h.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(l[i]!=h[i]){f=l[i]<h[i];break}a=0}for(f&&(r=l,l=h,h=r,e.s=-e.s),o=l.length,i=h.length-o;i>0;--i)l[o++]=0;for(i=h.length;i>a;){if(l[--i]<h[i]){for(s=i;s&&l[--s]===0;)l[s]=As-1;--l[s],l[i]+=As}l[i]-=h[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,Jn?Nn(e,v):e):new g(0)}function X0(t,e,r){var n,i=ns(t),s=Kc(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+pf(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+pf(-i-1)+s,r&&(n=r-a)>0&&(s+=pf(n))):i>=a?(s+=pf(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+pf(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=pf(n))),t.s<0?"-"+s:s}function dq(t,e){if(t.length>e)return t.length=e,!0}function hie(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(k0+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return uq(a,s.toString())}else if(typeof s!="string")throw Error(k0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,X8e.test(s))uq(a,s);else throw Error(k0+s)}if(i.prototype=gt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=hie,i.config=i.set=Q8e,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function Q8e(t){if(!t||typeof t!="object")throw Error(Il+"Object expected");var e,r,n,i=["precision",1,bv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(wv(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(k0+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(k0+r+": "+n);return this}var B8=hie(Y8e);Do=new B8(1);const ln=B8;var J8e=t=>t,mie={},pie=t=>t===mie,fq=t=>function e(){return arguments.length===0||arguments.length===1&&pie(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},gie=(t,e)=>t===1?e:fq(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==mie).length;return s>=t?e(...n):gie(t-s,fq(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=n.map(f=>pie(f)?o.shift():f);return e(...u,...o)}))}),Z8e=t=>gie(t.length,t),NO=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},eje=Z8e((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),tje=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return J8e;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}};function vie(t){var e;return t===0?e=1:e=Math.floor(new ln(t).abs().log(10).toNumber())+1,e}function yie(t,e,r){for(var n=new ln(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var xie=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},bie=(t,e,r)=>{if(t.lte(0))return new ln(0);var n=vie(t.toNumber()),i=new ln(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new ln(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?new ln(l.toNumber()):new ln(Math.ceil(l.toNumber()))},rje=(t,e,r)=>{var n=new ln(1),i=new ln(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new ln(10).pow(vie(t)-1),i=new ln(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new ln(Math.floor(t)))}else t===0?i=new ln(Math.floor((e-1)/2)):r||(i=new ln(Math.floor(t)));var a=Math.floor((e-1)/2),o=tje(eje(l=>i.add(new ln(l-a).mul(n)).toNumber()),NO);return o(0,e)},wie=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new ln(0),tickMin:new ln(0),tickMax:new ln(0)};var a=bie(new ln(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new ln(0):(o=new ln(e).add(r).div(2),o=o.sub(new ln(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new ln(r).sub(o).div(a).toNumber()),f=l+u+1;return f>n?wie(e,r,n,i,s+1):(f<n&&(u=r>0?u+(n-f):u,l=r>0?l:l+(n-f)),{step:a,tickMin:o.sub(new ln(l).mul(a)),tickMax:o.add(new ln(u).mul(a))})},nje=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=xie([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...NO(0,i-1).map(()=>1/0)]:[...NO(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(o===l)return rje(o,i,s);var{step:f,tickMin:h,tickMax:g}=wie(o,l,a,s,0),v=yie(h,g.add(new ln(.1).mul(f)),f);return r>n?v.reverse():v},ije=function(e,r){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=xie([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var l=Math.max(r,2),u=bie(new ln(o).sub(a).div(l-1),s,0),f=[...yie(new ln(a),new ln(o),u),o];return s===!1&&(f=f.map(h=>Math.round(h))),n>i?f.reverse():f},sje=t=>t.rootProps.barCategoryGap,yb=t=>t.rootProps.stackOffset,_ie=t=>t.rootProps.reverseStackOrder,U8=t=>t.options.chartName,V8=t=>t.rootProps.syncId,Eie=t=>t.rootProps.syncMethod,z8=t=>t.options.eventEmitter,aje=t=>t.rootProps.baseValue,na={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Vu={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},No={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},N4=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},oje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Vu.angleAxisId,includeHidden:!1,name:void 0,reversed:Vu.reversed,scale:Vu.scale,tick:Vu.tick,tickCount:void 0,ticks:void 0,type:Vu.type,unit:void 0},lje={allowDataOverflow:No.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:No.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:No.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:No.scale,tick:No.tick,tickCount:No.tickCount,ticks:void 0,type:No.type,unit:void 0},cje={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:Vu.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Vu.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Vu.scale,tick:Vu.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},uje={allowDataOverflow:No.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:No.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:No.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:No.scale,tick:No.tick,tickCount:No.tickCount,ticks:void 0,type:"category",unit:void 0},$8=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?cje:oje,H8=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?uje:lje,I4=t=>t.polarOptions,q8=Ne([Sd,Ad,Fs],_ne),Tie=Ne([I4,q8],(t,e)=>{if(t!=null)return zo(t.innerRadius,e,0)}),Sie=Ne([I4,q8],(t,e)=>{if(t!=null)return zo(t.outerRadius,e,e*.8)}),dje=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},Aie=Ne([I4],dje);Ne([$8,Aie],N4);var kie=Ne([q8,Tie,Sie],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});Ne([H8,kie],N4);var Cie=Ne([dn,I4,Tie,Sie,Sd,Ad],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:zo(a,i,i/2),cy:zo(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),ei=(t,e)=>e,xb=(t,e,r)=>r;function W8(t){return t==null?void 0:t.id}function Nie(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var f=W8(o);u.forEach((h,g)=>{var v=s==null||i?g:String(zn(h,s,null)),x=zn(h,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[f]:x}),a.set(v,b)})}}),Array.from(a.values())}function G8(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var O4=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function R4(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function fje(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var gs=t=>{var e=dn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},_v=t=>t.tooltip.settings.axisId;function hq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hq(Object(r),!0).forEach(function(n){hje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hje(t,e,r){return(e=mje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mje(t){var e=pje(t,"string");return typeof e=="symbol"?e:e+""}function pje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var IO=[0,"auto"],_s={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Iie=(t,e)=>t.cartesianAxis.xAxis[e],Nd=(t,e)=>{var r=Iie(t,e);return r??_s},Es={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:IO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:db},Oie=(t,e)=>t.cartesianAxis.yAxis[e],Id=(t,e)=>{var r=Oie(t,e);return r??Es},gje={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},K8=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??gje},fi=(t,e,r)=>{switch(e){case"xAxis":return Nd(t,r);case"yAxis":return Id(t,r);case"zAxis":return K8(t,r);case"angleAxis":return $8(t,r);case"radiusAxis":return H8(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},vje=(t,e,r)=>{switch(e){case"xAxis":return Nd(t,r);case"yAxis":return Id(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},bb=(t,e,r)=>{switch(e){case"xAxis":return Nd(t,r);case"yAxis":return Id(t,r);case"angleAxis":return $8(t,r);case"radiusAxis":return H8(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Rie=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function Y8(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Pie=t=>t.graphicalItems.cartesianItems,yje=Ne([ei,xb],Y8),X8=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),wb=Ne([Pie,fi,yje],X8,{memoizeOptions:{resultEqualityCheck:R4}}),jie=Ne([wb],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(G8)),Die=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),xje=Ne([wb],Die),Q8=t=>t.map(e=>e.data).filter(Boolean).flat(1),bje=Ne([wb],Q8,{memoizeOptions:{resultEqualityCheck:R4}}),J8=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},Z8=Ne([bje,oie],J8),ej=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:zn(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:zn(i,n)}))):t.map(n=>({value:n})),P4=Ne([Z8,fi,wb],ej);function Mie(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function k2(t){if(ou(t)||t instanceof Date){var e=Number(t);if(Zn(e))return e}}function mq(t){if(Array.isArray(t)){var e=[k2(t[0]),k2(t[1])];return rh(e)?e:void 0}var r=k2(t);if(r!=null)return[r,r]}function bd(t){return t.map(k2).filter(m3e)}function wje(t,e,r){return!r||typeof e!="number"||bc(e)?[]:r.length?bd(r.flatMap(n=>{var i=zn(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!Zn(s)||!Zn(a)))return[e-s,e+a]})):[]}var vs=t=>{var e=gs(t),r=_v(t);return bb(t,e,r)},_b=Ne([vs],t=>t==null?void 0:t.dataKey),_je=Ne([jie,oie,vs],Nie),Lie=(t,e,r,n)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=n?[...l].reverse():l,f=u.map(W8);return[o,{stackedData:U5e(t,f,r),graphicalItems:u}]}))},Fie=Ne([_je,jie,yb,_ie],Lie),Bie=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var a=H5e(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},Eje=Ne([fi],t=>t.allowDataOverflow),tj=t=>{var e;if(t==null||!("domain"in t))return IO;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=bd(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:IO},rj=Ne([fi],tj),nj=Ne([rj,Eje],lie),Tje=Ne([Fie,Cd,ei,nj],Bie,{memoizeOptions:{resultEqualityCheck:O4}}),j4=t=>t.errorBars,Sje=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>Mie(r,n)),mT=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},ij=(t,e,r,n,i)=>{var s,a;if(r.length>0&&t.forEach(o=>{r.forEach(l=>{var u,f,h=(u=n[l.id])===null||u===void 0?void 0:u.filter(E=>Mie(i,E)),g=zn(o,(f=e.dataKey)!==null&&f!==void 0?f:l.dataKey),v=wje(o,g,h);if(v.length>=2){var x=Math.min(...v),b=Math.max(...v);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var w=mq(g);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),a=a==null?w[1]:Math.max(a,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=mq(zn(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),Zn(s)&&Zn(a))return[s,a]},Aje=Ne([Z8,fi,xje,j4,ei],ij,{memoizeOptions:{resultEqualityCheck:O4}});function kje(t){var{value:e}=t;if(ou(e)||e instanceof Date)return e}var Cje=(t,e,r)=>{var n=t.map(kje).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&Zte(n))?Ane(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},Uie=t=>t.referenceElements.dots,Ev=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),Nje=Ne([Uie,ei,xb],Ev),Vie=t=>t.referenceElements.areas,Ije=Ne([Vie,ei,xb],Ev),zie=t=>t.referenceElements.lines,Oje=Ne([zie,ei,xb],Ev),$ie=(t,e)=>{if(t!=null){var r=bd(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Rje=Ne(Nje,ei,$ie),Hie=(t,e)=>{if(t!=null){var r=bd(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Pje=Ne([Ije,ei],Hie);function jje(t){var e;if(t.x!=null)return bd([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:bd(r)}function Dje(t){var e;if(t.y!=null)return bd([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:bd(r)}var qie=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?jje(n):Dje(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},Mje=Ne([Oje,ei],qie),Lje=Ne(Rje,Mje,Pje,(t,e,r)=>mT(t,r,e)),sj=(t,e,r,n,i,s,a,o)=>{if(r!=null)return r;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?mT(n,s,i):mT(s,i);return K8e(e,u,t.allowDataOverflow)},Fje=Ne([fi,rj,nj,Tje,Aje,Lje,dn,ei],sj,{memoizeOptions:{resultEqualityCheck:O4}}),Bje=[0,1],aj=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=Td(e,s);if(u&&o==null){var f;return Ane(0,(f=r==null?void 0:r.length)!==null&&f!==void 0?f:0)}return l==="category"?Cje(n,t,u):i==="expand"?Bje:a}},oj=Ne([fi,dn,Z8,P4,yb,ei,Fje],aj),Wie=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(ab(s));return o in Xy?o:"point"}}},Tv=Ne([fi,dn,Rie,U8,ei],Wie);function Uje(t){if(t!=null){if(t in Xy)return Xy[t]();var e="scale".concat(ab(t));if(e in Xy)return Xy[e]()}}function lj(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=Uje(e);if(i!=null){var s=i.domain(r).range(n);return M5e(s),s}}}var cj=(t,e,r)=>{var n=tj(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&rh(t))return nje(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&rh(t))return ije(t,e.tickCount,e.allowDecimals)}},uj=Ne([oj,bb,Tv],cj),dj=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&rh(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},Vje=Ne([fi,oj,uj,ei],dj),zje=Ne(P4,fi,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(bd(t.map(h=>h.value))).sort((h,g)=>h-g),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var f=u-l;r=Math.min(r,f)}}return r/a}}),Gie=Ne(zje,dn,sje,Fs,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!Zn(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=zo(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),$je=(t,e,r)=>{var n=Nd(t,e);return n==null||typeof n.padding!="string"?0:Gie(t,"xAxis",e,r,n.padding)},Hje=(t,e,r)=>{var n=Id(t,e);return n==null||typeof n.padding!="string"?0:Gie(t,"yAxis",e,r,n.padding)},qje=Ne(Nd,$je,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Wje=Ne(Id,Hje,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Gje=Ne([Fs,qje,m4,h4,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),Kje=Ne([Fs,dn,Wje,m4,h4,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Eb=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Gje(t,r,n);case"yAxis":return Kje(t,r,n);case"zAxis":return(i=K8(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return Aie(t);case"radiusAxis":return kie(t,r);default:return}},Kie=Ne([fi,Eb],N4),D4=Ne([fi,Tv,Vje,Kie],lj);Ne([wb,j4,ei],Sje);function Yie(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var M4=(t,e)=>e,L4=(t,e,r)=>r,Yje=Ne(d4,M4,L4,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Yie)),Xje=Ne(f4,M4,L4,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Yie)),Xie=(t,e)=>({width:t.width,height:e.height}),Qje=(t,e)=>{var r=typeof e.width=="number"?e.width:db;return{width:r,height:t.height}},Jje=Ne(Fs,Nd,Xie),Zje=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},eDe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},tDe=Ne(Ad,Fs,Yje,M4,L4,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=Xie(e,o);a==null&&(a=Zje(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),rDe=Ne(Sd,Fs,Xje,M4,L4,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=Qje(e,o);a==null&&(a=eDe(e,n,t));var u=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),nDe=(t,e)=>{var r=Nd(t,e);if(r!=null)return tDe(t,r.orientation,r.mirror)},iDe=Ne([Fs,Nd,nDe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),sDe=(t,e)=>{var r=Id(t,e);if(r!=null)return rDe(t,r.orientation,r.mirror)},aDe=Ne([Fs,Id,sDe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),oDe=Ne(Fs,Id,(t,e)=>{var r=typeof e.width=="number"?e.width:db;return{width:r,height:t.height}}),Qie=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=Td(t,n),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&Zte(l))return l}},fj=Ne([dn,P4,fi,ei],Qie),Jie=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Td(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},hj=Ne([dn,P4,bb,ei],Jie),pq=Ne([dn,vje,Tv,D4,fj,hj,Eb,uj,ei],(t,e,r,n,i,s,a,o,l)=>{if(e!=null){var u=Td(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:r,scale:n}}}),lDe=(t,e,r,n,i,s,a,o,l)=>{if(!(e==null||n==null)){var u=Td(t,l),{type:f,ticks:h,tickCount:g}=e,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=f==="category"&&n.bandwidth?n.bandwidth()/v:0;x=l==="angleAxis"&&s!=null&&s.length>=2?Ea(s[0]-s[1])*2*x:x;var b=h||i;if(b){var w=b.map((E,A)=>{var k=a?a.indexOf(E):E;return{index:A,coordinate:n(k)+x,value:E,offset:x}});return w.filter(E=>Zn(E.coordinate))}return u&&o?o.map((E,A)=>({coordinate:n(E)+x,value:E,index:A,offset:x})).filter(E=>Zn(E.coordinate)):n.ticks?n.ticks(g).map(E=>({coordinate:n(E)+x,value:E,offset:x})):n.domain().map((E,A)=>({coordinate:n(E)+x,value:a?a[E]:E,index:A,offset:x}))}},Zie=Ne([dn,bb,Tv,D4,uj,Eb,fj,hj,ei],lDe),cDe=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=Td(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Ea(n[0]-n[1])*2*u:u,o&&s?s.map((f,h)=>({coordinate:r(f)+u,value:f,index:h,offset:u})):r.ticks?r.ticks(l).map(f=>({coordinate:r(f)+u,value:f,offset:u})):r.domain().map((f,h)=>({coordinate:r(f)+u,value:i?i[f]:f,index:h,offset:u}))}},ese=Ne([dn,bb,D4,Eb,fj,hj,ei],cDe),tse=Ne(fi,D4,(t,e)=>{if(!(t==null||e==null))return hT(hT({},t),{},{scale:e})}),uDe=Ne([fi,Tv,oj,Kie],lj);Ne((t,e,r)=>K8(t,r),uDe,(t,e)=>{if(!(t==null||e==null))return hT(hT({},t),{},{scale:e})});var dDe=Ne([dn,d4,f4],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),rse=t=>t.options.defaultTooltipEventType,nse=t=>t.options.validateTooltipEventTypes;function ise(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function mj(t,e){var r=rse(t),n=nse(t);return ise(e,r,n)}function fDe(t){return Et(e=>mj(e,t))}var sse=(t,e)=>{var r,n=Number(e);if(!(bc(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},hDe=t=>t.tooltip.settings,Ef={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},mDe={itemInteraction:{click:Ef,hover:Ef},axisInteraction:{click:Ef,hover:Ef},keyboardInteraction:Ef,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},ase=go({name:"tooltip",initialState:mDe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Yn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=fc(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Yn()},removeTooltipEntrySettings:{reducer(t,e){var r=fc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Yn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:pDe,replaceTooltipEntrySettings:gDe,removeTooltipEntrySettings:vDe,setTooltipSettingsState:yDe,setActiveMouseOverItemIndex:ose,mouseLeaveItem:xDe,mouseLeaveChart:lse,setActiveClickItemIndex:bDe,setMouseOverAxisIndex:cse,setMouseClickAxisIndex:wDe,setSyncInteraction:OO,setKeyboardInteraction:RO}=ase.actions,_De=ase.reducer;function gq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function z_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gq(Object(r),!0).forEach(function(n){EDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EDe(t,e,r){return(e=TDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TDe(t){var e=SDe(t,"string");return typeof e=="symbol"?e:e+""}function SDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ADe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function kDe(t){return t.index!=null}var use=(t,e,r,n)=>{if(e==null)return Ef;var i=ADe(t,e,r);if(i==null)return Ef;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(kDe(i)){if(s)return z_(z_({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return z_(z_({},Ef),{},{coordinate:i.coordinate})};function CDe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function NDe(t,e){var r=CDe(t),n=e[0],i=e[1];if(r===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return r>=s&&r<=a}function IDe(t,e,r){if(r==null||e==null)return!0;var n=zn(t,e);return n==null||!rh(r)?!0:NDe(n,r)}var pj=(t,e,r,n)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!Zn(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||IDe(u,r,n)?String(l):null},dse=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var f=i==null?void 0:i[Number(s)];if(f)switch(r){case"horizontal":return{x:f.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:f.coordinate}}}},fse=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Tb=t=>t.options.tooltipPayloadSearcher,Sv=t=>t.tooltip;function vq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vq(Object(r),!0).forEach(function(n){ODe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ODe(t,e,r){return(e=RDe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RDe(t){var e=PDe(t,"string");return typeof e=="symbol"?e:e+""}function PDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function jDe(t,e){return t??e}var hse=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:f}=r,h=[];return t.reduce((g,v)=>{var x,{dataDefinedOnItem:b,settings:w}=v,E=jDe(b,o),A=Array.isArray(E)?Gre(E,u,f):E,k=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:n,R=w==null?void 0:w.nameKey,j;if(n&&Array.isArray(A)&&!Array.isArray(A[0])&&a==="axis"?j=ere(A,n,i):j=s(A,e,l,R),Array.isArray(j))j.forEach(S=>{var I=yq(yq({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});g.push(_$({tooltipEntrySettings:I,dataKey:S.dataKey,payload:S.payload,value:zn(S.payload,S.dataKey),name:S.name}))});else{var P;g.push(_$({tooltipEntrySettings:w,dataKey:k,payload:j,value:zn(j,k),name:(P=zn(j,R))!==null&&P!==void 0?P:w==null?void 0:w.name}))}return g},h)}},gj=Ne([vs,dn,Rie,U8,gs],Wie),DDe=Ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),MDe=Ne([gs,_v],Y8),Av=Ne([DDe,vs,MDe],X8,{memoizeOptions:{resultEqualityCheck:R4}}),LDe=Ne([Av],t=>t.filter(G8)),FDe=Ne([Av],Q8,{memoizeOptions:{resultEqualityCheck:R4}}),kv=Ne([FDe,Cd],J8),BDe=Ne([LDe,Cd,vs],Nie),vj=Ne([kv,vs,Av],ej),mse=Ne([vs],tj),UDe=Ne([vs],t=>t.allowDataOverflow),pse=Ne([mse,UDe],lie),VDe=Ne([Av],t=>t.filter(G8)),zDe=Ne([BDe,VDe,yb,_ie],Lie),$De=Ne([zDe,Cd,gs,pse],Bie),HDe=Ne([Av],Die),qDe=Ne([kv,vs,HDe,j4,gs],ij,{memoizeOptions:{resultEqualityCheck:O4}}),WDe=Ne([Uie,gs,_v],Ev),GDe=Ne([WDe,gs],$ie),KDe=Ne([Vie,gs,_v],Ev),YDe=Ne([KDe,gs],Hie),XDe=Ne([zie,gs,_v],Ev),QDe=Ne([XDe,gs],qie),JDe=Ne([GDe,QDe,YDe],mT),ZDe=Ne([vs,mse,pse,$De,qDe,JDe,dn,gs],sj),Sb=Ne([vs,dn,kv,vj,yb,gs,ZDe],aj),eMe=Ne([Sb,vs,gj],cj),tMe=Ne([vs,Sb,eMe,gs],dj),gse=t=>{var e=gs(t),r=_v(t),n=!1;return Eb(t,e,r,n)},vse=Ne([vs,gse],N4),yse=Ne([vs,gj,tMe,vse],lj),rMe=Ne([dn,vj,vs,gs],Qie),nMe=Ne([dn,vj,vs,gs],Jie),iMe=(t,e,r,n,i,s,a,o)=>{if(e){var{type:l}=e,u=Td(t,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,h=l==="category"&&n.bandwidth?n.bandwidth()/f:0;return h=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Ea(i[0]-i[1])*2*h:h,u&&a?a.map((g,v)=>({coordinate:n(g)+h,value:g,index:v,offset:h})):n.domain().map((g,v)=>({coordinate:n(g)+h,value:s?s[g]:g,index:v,offset:h}))}}},Od=Ne([dn,vs,gj,yse,gse,rMe,nMe,gs],iMe),yj=Ne([rse,nse,hDe],(t,e,r)=>ise(r.shared,t,e)),xse=t=>t.tooltip.settings.trigger,xj=t=>t.tooltip.settings.defaultIndex,Ab=Ne([Sv,yj,xse,xj],use),Wg=Ne([Ab,kv,_b,Sb],pj),bse=Ne([Od,Wg],sse),wse=Ne([Ab],t=>{if(t)return t.dataKey}),sMe=Ne([Ab],t=>{if(t)return t.graphicalItemId}),_se=Ne([Sv,yj,xse,xj],fse),aMe=Ne([Sd,Ad,dn,Fs,Od,xj,_se,Tb],dse),oMe=Ne([Ab,aMe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),lMe=Ne([Ab],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),cMe=Ne([_se,Wg,Cd,_b,bse,Tb,yj],hse),uMe=Ne([cMe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function xq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xq(Object(r),!0).forEach(function(n){dMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dMe(t,e,r){return(e=fMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fMe(t){var e=hMe(t,"string");return typeof e=="symbol"?e:e+""}function hMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mMe=()=>Et(vs),pMe=()=>{var t=mMe(),e=Et(Od),r=Et(yse);return GE(!t||!r?void 0:bq(bq({},t),{},{scale:r}),e)};function wq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wq(Object(r),!0).forEach(function(n){gMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gMe(t,e,r){return(e=vMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vMe(t){var e=yMe(t,"string");return typeof e=="symbol"?e:e+""}function yMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xMe=(t,e,r,n)=>{var i=e.find(s=>s&&s.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},bMe=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=n;return xp(xp(xp({},n),rs(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=n;return xp(xp(xp({},n),rs(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function wMe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var Ese=(t,e,r,n,i)=>{var s,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,u,f,h,g,v=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[a-1])===null||u===void 0?void 0:u.coordinate,x=(f=r[o])===null||f===void 0?void 0:f.coordinate,b=o>=a-1?(h=r[0])===null||h===void 0?void 0:h.coordinate:(g=r[o+1])===null||g===void 0?void 0:g.coordinate,w=void 0;if(!(v==null||x==null||b==null))if(Ea(x-v)!==Ea(b-x)){var E=[];if(Ea(b-x)===Ea(i[1]-i[0])){w=b;var A=x+i[1]-i[0];E[0]=Math.min(A,(A+v)/2),E[1]=Math.max(A,(A+v)/2)}else{w=v;var k=b+i[1]-i[0];E[0]=Math.min(x,(k+x)/2),E[1]=Math.max(x,(k+x)/2)}var R=[Math.min(x,(w+x)/2),Math.max(x,(w+x)/2)];if(t>R[0]&&t<=R[1]||t>=E[0]&&t<=E[1]){var j;return(j=r[o])===null||j===void 0?void 0:j.index}}else{var P=Math.min(v,b),S=Math.max(v,b);if(t>(P+x)/2&&t<=(S+x)/2){var I;return(I=r[o])===null||I===void 0?void 0:I.index}}}else if(e)for(var O=0;O<a;O++){var D=e[O];if(D!=null){var M=e[O+1],F=e[O-1];if(O===0&&M!=null&&t<=(D.coordinate+M.coordinate)/2||O===a-1&&F!=null&&t>(D.coordinate+F.coordinate)/2||O>0&&O<a-1&&F!=null&&M!=null&&t>(D.coordinate+F.coordinate)/2&&t<=(D.coordinate+M.coordinate)/2)return D.index}}return-1},Tse=()=>Et(U8),bj=(t,e)=>e,Sse=(t,e,r)=>r,wj=(t,e,r,n)=>n,_Me=Ne(Od,t=>t4(t,e=>e.coordinate)),_j=Ne([Sv,bj,Sse,wj],use),Ej=Ne([_j,kv,_b,Sb],pj),EMe=(t,e,r)=>{if(e!=null){var n=Sv(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Ase=Ne([Sv,bj,Sse,wj],fse),pT=Ne([Sd,Ad,dn,Fs,Od,wj,Ase,Tb],dse),TMe=Ne([_j,pT],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),kse=Ne([Od,Ej],sse),SMe=Ne([Ase,Ej,Cd,_b,kse,Tb,bj],hse),AMe=Ne([_j,Ej],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),kMe=(t,e,r,n,i,s,a)=>{if(!(!t||!r||!n||!i)&&wMe(t,a)){var o=q5e(t,e),l=Ese(o,s,i,r,n),u=xMe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},CMe=(t,e,r,n,i,s,a)=>{if(!(!t||!n||!i||!s||!r)){var o=cRe(t,r);if(o){var l=W5e(o,e),u=Ese(l,a,s,n,i),f=bMe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:f}}}},NMe=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?kMe(t,e,n,i,s,a,o):CMe(t,e,r,n,i,s,a)},IMe=Ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),OMe=Ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(na)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:fje}});function _q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Eq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_q(Object(r),!0).forEach(function(n){RMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RMe(t,e,r){return(e=PMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PMe(t){var e=jMe(t,"string");return typeof e=="symbol"?e:e+""}function jMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DMe={},MMe={zIndexMap:Object.values(na).reduce((t,e)=>Eq(Eq({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),DMe)},LMe=new Set(Object.values(na));function FMe(t){return LMe.has(t)}var Cse=go({name:"zIndex",initialState:MMe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Yn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!FMe(r)&&delete t.zIndexMap[r])},prepare:Yn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Yn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Yn()}}}),{registerZIndexPortal:BMe,unregisterZIndexPortal:UMe,registerZIndexPortalElement:VMe,unregisterZIndexPortalElement:zMe}=Cse.actions,$Me=Cse.reducer;function Sc(t){var{zIndex:e,children:r}=t,n=TOe(),i=n&&e!==void 0&&e!==0,s=vo(),a=Dn();N.useLayoutEffect(()=>i?(a(BMe({zIndex:e})),()=>{a(UMe({zIndex:e}))}):ob,[a,e,i]);var o=Et(l=>IMe(l,e,s));return i?o?Ql.createPortal(r,o):null:r}function PO(){return PO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PO.apply(null,arguments)}function Tq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Tq(Object(r),!0).forEach(function(n){HMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Tq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HMe(t,e,r){return(e=qMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qMe(t){var e=WMe(t,"string");return typeof e=="symbol"?e:e+""}function WMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function GMe(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return N.isValidElement(e)?N.cloneElement(e,n):N.createElement(r,n)}function KMe(t){var e,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:f}=t,h=r,g=n,v=i;if(!l||!h||f!=="ScatterChart"&&u!=="axis")return null;var x,b,w;if(f==="ScatterChart")x=h,b=E6e,w=na.cursorLine;else if(f==="BarChart")x=T6e(o,h,s,a),b=wne,w=na.cursorRectangle;else if(o==="radial"&&rre(h)){var{cx:E,cy:A,radius:k,startAngle:R,endAngle:j}=Ene(h);x={cx:E,cy:A,startAngle:R,endAngle:j,innerRadius:k,outerRadius:k},b=Sne,w=na.cursorLine}else x={points:hRe(o,h,s)},b=ig,w=na.cursorLine;var P=typeof l=="object"&&"className"in l?l.className:void 0,S=$_($_($_($_({stroke:"#ccc",pointerEvents:"none"},s),x),Fg(l)),{},{payload:g,payloadIndex:v,className:qr("recharts-tooltip-cursor",P)});return N.createElement(Sc,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},N.createElement(GMe,{cursor:l,cursorComp:b,cursorProps:S}))}function YMe(t){var e=pMe(),r=ine(),n=yv(),i=Tse();return e==null||r==null||n==null||i==null?null:N.createElement(KMe,PO({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var Nse=N.createContext(null),XMe=()=>N.useContext(Nse),E3={exports:{}},Sq;function QMe(){return Sq||(Sq=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,f){this.fn=l,this.context=u,this.once=f||!1}function s(l,u,f,h,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var v=new i(f,h||l,g),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],f,h;if(this._eventsCount===0)return u;for(h in f=this._events)e.call(f,h)&&u.push(r?h.slice(1):h);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(f)):u},o.prototype.listeners=function(u){var f=r?r+u:u,h=this._events[f];if(!h)return[];if(h.fn)return[h.fn];for(var g=0,v=h.length,x=new Array(v);g<v;g++)x[g]=h[g].fn;return x},o.prototype.listenerCount=function(u){var f=r?r+u:u,h=this._events[f];return h?h.fn?1:h.length:0},o.prototype.emit=function(u,f,h,g,v,x){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],E=arguments.length,A,k;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,f),!0;case 3:return w.fn.call(w.context,f,h),!0;case 4:return w.fn.call(w.context,f,h,g),!0;case 5:return w.fn.call(w.context,f,h,g,v),!0;case 6:return w.fn.call(w.context,f,h,g,v,x),!0}for(k=1,A=new Array(E-1);k<E;k++)A[k-1]=arguments[k];w.fn.apply(w.context,A)}else{var R=w.length,j;for(k=0;k<R;k++)switch(w[k].once&&this.removeListener(u,w[k].fn,void 0,!0),E){case 1:w[k].fn.call(w[k].context);break;case 2:w[k].fn.call(w[k].context,f);break;case 3:w[k].fn.call(w[k].context,f,h);break;case 4:w[k].fn.call(w[k].context,f,h,g);break;default:if(!A)for(j=1,A=new Array(E-1);j<E;j++)A[j-1]=arguments[j];w[k].fn.apply(w[k].context,A)}}return!0},o.prototype.on=function(u,f,h){return s(this,u,f,h,!1)},o.prototype.once=function(u,f,h){return s(this,u,f,h,!0)},o.prototype.removeListener=function(u,f,h,g){var v=r?r+u:u;if(!this._events[v])return this;if(!f)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===f&&(!g||x.once)&&(!h||x.context===h)&&a(this,v);else{for(var b=0,w=[],E=x.length;b<E;b++)(x[b].fn!==f||g&&!x[b].once||h&&x[b].context!==h)&&w.push(x[b]);w.length?this._events[v]=w.length===1?w[0]:w:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var f;return u?(f=r?r+u:u,this._events[f]&&a(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(E3)),E3.exports}var JMe=QMe();const ZMe=Yo(JMe);var mx=new ZMe,jO="recharts.syncEvent.tooltip",Aq="recharts.syncEvent.brush";function Ise(t,e){if(e){var r=Number.parseInt(e,10);if(!bc(r))return t==null?void 0:t[r]}}var eLe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},Ose=go({name:"options",initialState:eLe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),tLe=Ose.reducer,{createEventEmitter:rLe}=Ose.actions;function nLe(t){return t.tooltip.syncInteraction}var iLe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Rse=go({name:"chartData",initialState:iLe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:kq,setDataStartEndIndexes:sLe,setComputedData:oat}=Rse.actions,aLe=Rse.reducer,oLe=["x","y"];function Cq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Cq(Object(r),!0).forEach(function(n){lLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Cq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function lLe(t,e,r){return(e=cLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cLe(t){var e=uLe(t,"string");return typeof e=="symbol"?e:e+""}function uLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dLe(t,e){if(t==null)return{};var r,n,i=fLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function hLe(){var t=Et(V8),e=Et(z8),r=Dn(),n=Et(Eie),i=Et(Od),s=yv(),a=p4(),o=Et(l=>l.rootProps.className);N.useEffect(()=>{if(t==null)return ob;var l=(u,f,h)=>{if(e!==h&&t===u){if(n==="index"){var g;if(a&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var v=f.payload.coordinate,{x,y:b}=v,w=dLe(v,oLe),{x:E,y:A,width:k,height:R}=f.payload.sourceViewBox,j=bp(bp({},w),{},{x:a.x+(k?(x-E)/k:0)*a.width,y:a.y+(R?(b-A)/R:0)*a.height});r(bp(bp({},f),{},{payload:bp(bp({},f.payload),{},{coordinate:j})}))}else r(f);return}if(i!=null){var P;if(typeof n=="function"){var S={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},I=n(i,S);P=i[I]}else n==="value"&&(P=i.find(J=>String(J.value)===f.payload.label));var{coordinate:O}=f.payload;if(P==null||f.payload.active===!1||O==null||a==null){r(OO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:M}=O,F=Math.min(D,a.x+a.width),U=Math.min(M,a.y+a.height),le={x:s==="horizontal"?P.coordinate:F,y:s==="horizontal"?U:P.coordinate},de=OO({active:f.payload.active,coordinate:le,dataKey:f.payload.dataKey,index:String(P.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(de)}}};return mx.on(jO,l),()=>{mx.off(jO,l)}},[o,r,e,t,n,i,s,a])}function mLe(){var t=Et(V8),e=Et(z8),r=Dn();N.useEffect(()=>{if(t==null)return ob;var n=(i,s,a)=>{e!==a&&t===i&&r(sLe(s))};return mx.on(Aq,n),()=>{mx.off(Aq,n)}},[r,e,t])}function pLe(){var t=Dn();N.useEffect(()=>{t(rLe())},[t]),hLe(),mLe()}function gLe(t,e,r,n,i,s){var a=Et(v=>EMe(v,t,e)),o=Et(z8),l=Et(V8),u=Et(Eie),f=Et(nLe),h=f==null?void 0:f.active,g=p4();N.useEffect(()=>{if(!h&&l!=null&&o!=null){var v=OO({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});mx.emit(jO,l,v,o)}},[h,r,a,i,n,o,l,u,s,g])}function Nq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Iq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Nq(Object(r),!0).forEach(function(n){vLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Nq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vLe(t,e,r){return(e=yLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function yLe(t){var e=xLe(t,"string");return typeof e=="symbol"?e:e+""}function xLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function bLe(t){return t.dataKey}function wLe(t,e){return N.isValidElement(t)?N.cloneElement(t,e):typeof t=="function"?N.createElement(t,e):N.createElement(r6e,e)}var Oq=[],_Le={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function DO(t){var e,r,n=ms(t,_Le),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:f,offset:h,payloadUniqBy:g,position:v,reverseDirection:x,useTranslate3d:b,wrapperStyle:w,cursor:E,shared:A,trigger:k,defaultIndex:R,portal:j,axisId:P}=n,S=Dn(),I=typeof R=="number"?String(R):R;N.useEffect(()=>{S(yDe({shared:A,trigger:k,axisId:P,active:i,defaultIndex:I}))},[S,A,k,P,i,I]);var O=p4(),D=gne(),M=fDe(A),{activeIndex:F,isActive:U}=(e=Et(me=>AMe(me,M,k,I)))!==null&&e!==void 0?e:{},le=Et(me=>SMe(me,M,k,I)),de=Et(me=>kse(me,M,k,I)),J=Et(me=>TMe(me,M,k,I)),Q=le,fe=XMe(),ee=(r=i??U)!==null&&r!==void 0?r:!1,[ge,q]=vre([Q,ee]),z=M==="axis"?de:void 0;gLe(M,k,J,z,F,ee);var V=j??fe;if(V==null||O==null||M==null)return null;var W=Q??Oq;ee||(W=Oq),u&&W.length&&(W=fre(W.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),g,bLe));var Y=W.length>0,ue=N.createElement(c6e,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:f,active:ee,coordinate:J,hasPayload:Y,offset:h,position:v,reverseDirection:x,useTranslate3d:b,viewBox:O,wrapperStyle:w,lastBoundingBox:ge,innerRef:q,hasPortalFromProps:!!j},wLe(l,Iq(Iq({},n),{},{payload:W,label:z,active:ee,activeIndex:F,coordinate:J,accessibilityLayer:D})));return N.createElement(N.Fragment,null,Ql.createPortal(ue,V),ee&&N.createElement(YMe,{cursor:E,tooltipEventType:M,coordinate:J,payload:W,index:F}))}var F4=t=>null;F4.displayName="Cell";function ELe(t,e,r){return(e=TLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TLe(t){var e=SLe(t,"string");return typeof e=="symbol"?e:e+""}function SLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class ALe{constructor(e){ELe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function Rq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kLe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Rq(Object(r),!0).forEach(function(n){CLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Rq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CLe(t,e,r){return(e=NLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NLe(t){var e=ILe(t,"string");return typeof e=="symbol"?e:e+""}function ILe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OLe={cacheSize:2e3,enableCache:!0},Pse=kLe({},OLe),Pq=new ALe(Pse.cacheSize),RLe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},jq="recharts_measurement_span";function PLe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var Dq=(t,e)=>{try{var r=document.getElementById(jq);r||(r=document.createElement("span"),r.setAttribute("id",jq),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,RLe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},y1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||hb.isSsr)return{width:0,height:0};if(!Pse.enableCache)return Dq(e,r);var n=PLe(e,r),i=Pq.get(n);if(i)return i;var s=Dq(e,r);return Pq.set(n,s),s},jse;function jLe(t,e,r){return(e=DLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DLe(t){var e=MLe(t,"string");return typeof e=="symbol"?e:e+""}function MLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Mq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,Lq=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,LLe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,FLe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,BLe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},ULe=["cm","mm","pt","pc","in","Q","px"];function VLe(t){return ULe.includes(t)}var zp="NaN";function zLe(t,e){return t*BLe[e]}class Qs{static parse(e){var r,[,n,i]=(r=FLe.exec(e))!==null&&r!==void 0?r:[];return n==null?Qs.NaN:new Qs(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,bc(e)&&(this.unit=""),r!==""&&!LLe.test(r)&&(this.num=NaN,this.unit=""),VLe(r)&&(this.num=zLe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Qs(NaN,""):new Qs(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Qs(NaN,""):new Qs(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Qs(NaN,""):new Qs(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Qs(NaN,""):new Qs(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bc(this.num)}}jse=Qs;jLe(Qs,"NaN",new jse(NaN,""));function Dse(t){if(t==null||t.includes(zp))return zp;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=Mq.exec(e))!==null&&r!==void 0?r:[],a=Qs.parse(n??""),o=Qs.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return zp;e=e.replace(Mq,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,f,h,g]=(u=Lq.exec(e))!==null&&u!==void 0?u:[],v=Qs.parse(f??""),x=Qs.parse(g??""),b=h==="+"?v.add(x):v.subtract(x);if(b.isNaN())return zp;e=e.replace(Lq,b.toString())}return e}var Fq=/\(([^()]*)\)/;function $Le(t){for(var e=t,r;(r=Fq.exec(e))!=null;){var[,n]=r;e=e.replace(Fq,Dse(n))}return e}function HLe(t){var e=t.replace(/\s+/g,"");return e=$Le(e),e=Dse(e),e}function qLe(t){try{return HLe(t)}catch{return zp}}function T3(t){var e=qLe(t.slice(5,-1));return e===zp?"":e}var WLe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],GLe=["dx","dy","angle","className","breakAll"];function MO(){return MO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},MO.apply(null,arguments)}function Bq(t,e){if(t==null)return{};var r,n,i=KLe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function KLe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Mse=/[ \f\n\r\t\v\u2028\u2029]+/,Lse=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];js(e)||(r?i=e.toString().split(""):i=e.toString().split(Mse));var s=i.map(o=>({word:o,width:y1(o,n).width})),a=r?0:y1("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function YLe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Fse=(t,e,r,n)=>t.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||n||l.width+o+r<Number(e)))l.words.push(a),l.width+=o+r;else{var u={words:[a],width:o};i.push(u)}return i},[]),Bse=t=>t.reduce((e,r)=>e.width>r.width?e:r),XLe="",Uq=(t,e,r,n,i,s,a,o)=>{var l=t.slice(0,e),u=Lse({breakAll:r,style:n,children:l+XLe});if(!u)return[!1,[]];var f=Fse(u.wordsWithComputedWidth,s,a,o),h=f.length>i||Bse(f).width>Number(s);return[h,f]},QLe=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,u=xt(s),f=String(a),h=Fse(e,n,r,i);if(!u||i)return h;var g=h.length>s||Bse(h).width>Number(n);if(!g)return h;for(var v=0,x=f.length-1,b=0,w;v<=x&&b<=f.length-1;){var E=Math.floor((v+x)/2),A=E-1,[k,R]=Uq(f,A,l,o,s,n,r,i),[j]=Uq(f,E,l,o,s,n,r,i);if(!k&&!j&&(v=E+1),k&&j&&(x=E-1),!k&&j){w=R;break}b++}return w||h},Vq=t=>{var e=js(t)?[]:t.toString().split(Mse);return[{words:e,width:void 0}]},JLe=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!hb.isSsr){var o,l,u=Lse({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:f,spaceWidth:h}=u;o=f,l=h}else return Vq(n);return QLe({breakAll:s,children:n,maxLines:a,style:i},o,l,e,!!r)}return Vq(n)},Use="#808080",ZLe={angle:0,breakAll:!1,capHeight:"0.71em",fill:Use,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},B4=N.forwardRef((t,e)=>{var r=ms(t,ZLe),{x:n,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:f}=r,h=Bq(r,WLe),g=N.useMemo(()=>JLe({breakAll:h.breakAll,children:h.children,maxLines:h.maxLines,scaleToFit:l,style:h.style,width:h.width}),[h.breakAll,h.children,h.maxLines,l,h.style,h.width]),{dx:v,dy:x,angle:b,className:w,breakAll:E}=h,A=Bq(h,GLe);if(!ou(n)||!ou(i)||g.length===0)return null;var k=Number(n)+(xt(v)?v:0),R=Number(i)+(xt(x)?x:0);if(!Zn(k)||!Zn(R))return null;var j;switch(f){case"start":j=T3("calc(".concat(a,")"));break;case"middle":j=T3("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:j=T3("calc(".concat(g.length-1," * -").concat(s,")"));break}var P=[];if(l){var S=g[0].width,{width:I}=h;P.push("scale(".concat(xt(I)&&xt(S)?I/S:1,")"))}return b&&P.push("rotate(".concat(b,", ").concat(k,", ").concat(R,")")),P.length&&(A.transform=P.join(" ")),N.createElement("text",MO({},$a(A),{ref:e,x:k,y:R,className:qr("recharts-text",w),textAnchor:u,fill:o.includes("url")?Use:o}),g.map((O,D)=>{var M=O.words.join(E?"":" ");return N.createElement("tspan",{x:k,dy:D===0?j:s,key:"".concat(M,"-").concat(D)},M)}))});B4.displayName="Text";var e7e=["labelRef"],t7e=["content"];function zq(t,e){if(t==null)return{};var r,n,i=r7e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function r7e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function $q(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Oi(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$q(Object(r),!0).forEach(function(n){n7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$q(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n7e(t,e,r){return(e=i7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i7e(t){var e=s7e(t,"string");return typeof e=="symbol"?e:e+""}function s7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zu(){return zu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zu.apply(null,arguments)}var Vse=N.createContext(null),a7e=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a,children:o}=t,l=N.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,r,n,i,s,a]);return N.createElement(Vse.Provider,{value:l},o)},zse=()=>{var t=N.useContext(Vse),e=p4();return t||nne(e)},o7e=N.createContext(null),l7e=()=>{var t=N.useContext(o7e),e=Et(Cie);return t||e},c7e=t=>{var{value:e,formatter:r}=t,n=js(t.children)?e:t.children;return typeof r=="function"?r(n):n},Tj=t=>t!=null&&typeof t=="function",u7e=(t,e)=>{var r=Ea(e-t),n=Math.min(Math.abs(e-t),360);return r*n},d7e=(t,e,r,n,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:f,startAngle:h,endAngle:g,clockWise:v}=i,x=(u+f)/2,b=u7e(h,g),w=b>=0?1:-1,E,A;switch(e){case"insideStart":E=h+w*s,A=v;break;case"insideEnd":E=g-w*s,A=!v;break;case"end":E=g+w*s,A=v;break;default:throw new Error("Unsupported position ".concat(e))}A=b<=0?A:!A;var k=rs(o,l,x,E),R=rs(o,l,x,E+(A?1:-1)*359),j="M".concat(k.x,",").concat(k.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(A?0:1,`,
    `).concat(R.x,",").concat(R.y),P=js(t.id)?tx("recharts-radial-line-"):t.id;return N.createElement("text",zu({},n,{dominantBaseline:"central",className:qr("recharts-radial-bar-label",a)}),N.createElement("defs",null,N.createElement("path",{id:P,d:j})),N.createElement("textPath",{xlinkHref:"#".concat(P)},r))},f7e=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(r==="outside"){var{x:f,y:h}=rs(n,i,a+e,u);return{x:f,y:h,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:x}=rs(n,i,g,u);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},LO=t=>"cx"in t&&xt(t.cx),h7e=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,s;r!=null&&!LO(r)&&(s=r);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:f}=e,h=a,g=a+(l-u)/2,v=(h+g)/2,x=(l+u)/2,b=h+l/2,w=f>=0?1:-1,E=w*n,A=w>0?"end":"start",k=w>0?"start":"end",R=l>=0?1:-1,j=R*n,P=R>0?"end":"start",S=R>0?"start":"end";if(i==="top"){var I={x:h+l/2,y:o-E,textAnchor:"middle",verticalAnchor:A};return Oi(Oi({},I),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var O={x:g+u/2,y:o+f+E,textAnchor:"middle",verticalAnchor:k};return Oi(Oi({},O),s?{height:Math.max(s.y+s.height-(o+f),0),width:u}:{})}if(i==="left"){var D={x:v-j,y:o+f/2,textAnchor:P,verticalAnchor:"middle"};return Oi(Oi({},D),s?{width:Math.max(D.x-s.x,0),height:f}:{})}if(i==="right"){var M={x:v+x+j,y:o+f/2,textAnchor:S,verticalAnchor:"middle"};return Oi(Oi({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:f}:{})}var F=s?{width:x,height:f}:{};return i==="insideLeft"?Oi({x:v+j,y:o+f/2,textAnchor:S,verticalAnchor:"middle"},F):i==="insideRight"?Oi({x:v+x-j,y:o+f/2,textAnchor:P,verticalAnchor:"middle"},F):i==="insideTop"?Oi({x:h+l/2,y:o+E,textAnchor:"middle",verticalAnchor:k},F):i==="insideBottom"?Oi({x:g+u/2,y:o+f-E,textAnchor:"middle",verticalAnchor:A},F):i==="insideTopLeft"?Oi({x:h+j,y:o+E,textAnchor:S,verticalAnchor:k},F):i==="insideTopRight"?Oi({x:h+l-j,y:o+E,textAnchor:P,verticalAnchor:k},F):i==="insideBottomLeft"?Oi({x:g+j,y:o+f-E,textAnchor:S,verticalAnchor:A},F):i==="insideBottomRight"?Oi({x:g+u-j,y:o+f-E,textAnchor:P,verticalAnchor:A},F):i&&typeof i=="object"&&(xt(i.x)||pd(i.x))&&(xt(i.y)||pd(i.y))?Oi({x:a+zo(i.x,x),y:o+zo(i.y,f),textAnchor:"end",verticalAnchor:"end"},F):Oi({x:b,y:o+f/2,textAnchor:"middle",verticalAnchor:"middle"},F)},m7e={angle:0,offset:5,zIndex:na.label,position:"middle",textBreakAll:!1};function gf(t){var e=ms(t,m7e),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,f=l7e(),h=zse(),g=n==="center"?h:f??h,v,x,b;if(r==null?v=g:LO(r)?v=r:v=nne(r),!v||js(i)&&js(s)&&!N.isValidElement(a)&&typeof a!="function")return null;var w=Oi(Oi({},e),{},{viewBox:v});if(N.isValidElement(a)){var{labelRef:E}=w,A=zq(w,e7e);return N.cloneElement(a,A)}if(typeof a=="function"){var{content:k}=w,R=zq(w,t7e);if(x=N.createElement(a,R),N.isValidElement(x))return x}else x=c7e(e);var j=$a(e);if(LO(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return d7e(e,n,x,j,v);b=f7e(v,e.offset,e.position)}else b=h7e(e,v);return N.createElement(Sc,{zIndex:e.zIndex},N.createElement(B4,zu({ref:u,className:qr("recharts-label",o)},j,b,{textAnchor:YLe(j.textAnchor)?j.textAnchor:b.textAnchor,breakAll:l}),x))}gf.displayName="Label";var p7e=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?N.createElement(gf,zu({key:"label-implicit"},n)):ou(t)?N.createElement(gf,zu({key:"label-implicit",value:t},n)):N.isValidElement(t)?t.type===gf?N.cloneElement(t,Oi({key:"label-implicit"},n)):N.createElement(gf,zu({key:"label-implicit",content:t},n)):Tj(t)?N.createElement(gf,zu({key:"label-implicit",content:t},n)):t&&typeof t=="object"?N.createElement(gf,zu({},t,{key:"label-implicit"},n)):null};function g7e(t){var{label:e,labelRef:r}=t,n=zse();return p7e(e,n,r)||null}var S3={},A3={},Hq;function v7e(){return Hq||(Hq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(A3)),A3}var k3={},qq;function y7e(){return qq||(qq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(k3)),k3}var Wq;function x7e(){return Wq||(Wq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=v7e(),r=y7e(),n=e8();function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(S3)),S3}var C3,Gq;function b7e(){return Gq||(Gq=1,C3=x7e().last),C3}var w7e=b7e();const _7e=Yo(w7e);var E7e=["valueAccessor"],T7e=["dataKey","clockWise","id","textBreakAll","zIndex"];function gT(){return gT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gT.apply(null,arguments)}function Kq(t,e){if(t==null)return{};var r,n,i=S7e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function S7e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var A7e=t=>Array.isArray(t.value)?_7e(t.value):t.value,$se=N.createContext(void 0),k7e=$se.Provider,Hse=N.createContext(void 0),C7e=Hse.Provider;function N7e(){return N.useContext($se)}function I7e(){return N.useContext(Hse)}function C2(t){var{valueAccessor:e=A7e}=t,r=Kq(t,E7e),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:o}=r,l=Kq(r,T7e),u=N7e(),f=I7e(),h=u||f;return!h||!h.length?null:N.createElement(Sc,{zIndex:o??na.label},N.createElement(ia,{className:"recharts-label-list"},h.map((g,v)=>{var x,b=js(n)?e(g,v):zn(g&&g.payload,n),w=js(s)?{}:{id:"".concat(s,"-").concat(v)};return N.createElement(gf,gT({key:"label-".concat(v)},$a(g),l,w,{fill:(x=r.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}C2.displayName="LabelList";function qse(t){var{label:e}=t;return e?e===!0?N.createElement(C2,{key:"labelList-implicit"}):N.isValidElement(e)||Tj(e)?N.createElement(C2,{key:"labelList-implicit",content:e}):typeof e=="object"?N.createElement(C2,gT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function FO(){return FO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},FO.apply(null,arguments)}var Wse=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=qr("recharts-dot",i);return xt(e)&&xt(r)&&xt(n)?N.createElement("circle",FO({},qo(t),JP(t),{className:s,cx:e,cy:r,r:n})):null},Gse=t=>t.graphicalItems.polarItems,O7e=Ne([ei,xb],Y8),U4=Ne([Gse,fi,O7e],X8),R7e=Ne([U4],Q8),V4=Ne([R7e,C4],J8),P7e=Ne([V4,fi,U4],ej);Ne([V4,fi,U4],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=zn(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:zn(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var Yq=()=>{},j7e=Ne([V4,fi,U4,j4,ei],ij),D7e=Ne([fi,rj,nj,Yq,j7e,Yq,dn,ei],sj),Kse=Ne([fi,dn,V4,P7e,yb,ei,D7e],aj),M7e=Ne([Kse,fi,Tv],cj);Ne([fi,Kse,M7e,ei],dj);var L7e={radiusAxis:{},angleAxis:{}},Yse=go({name:"polarAxis",initialState:L7e,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:lat,removeRadiusAxis:cat,addAngleAxis:uat,removeAngleAxis:dat}=Yse.actions,F7e=Yse.reducer;function Xq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(r),!0).forEach(function(n){B7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function B7e(t,e,r){return(e=U7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U7e(t){var e=V7e(t,"string");return typeof e=="symbol"?e:e+""}function V7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var z7e=(t,e)=>e,Sj=Ne([Gse,z7e],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),$7e=[],Aj=(t,e,r)=>(r==null?void 0:r.length)===0?$7e:r,Xse=Ne([C4,Sj,Aj],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>Qq(Qq({},e.presentationProps),s.props))),i!=null)return i}}),H7e=Ne([Xse,Sj,Aj],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=zn(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:u4(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),q7e=Ne([Xse,Sj,Aj,Fs],(t,e,r,n)=>{if(!(e==null||t==null))return Z9e({offset:n,pieSettings:e,displayedData:t,cells:r})}),N3={exports:{}},yn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Jq;function W7e(){if(Jq)return yn;Jq=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),f=Symbol.for("react.memo"),h=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case r:case i:case n:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case h:case f:return b;case s:return b;default:return w}}case e:return w}}}return yn.ContextConsumer=s,yn.ContextProvider=a,yn.Element=t,yn.ForwardRef=o,yn.Fragment=r,yn.Lazy=h,yn.Memo=f,yn.Portal=e,yn.Profiler=i,yn.StrictMode=n,yn.Suspense=l,yn.SuspenseList=u,yn.isContextConsumer=function(b){return x(b)===s},yn.isContextProvider=function(b){return x(b)===a},yn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},yn.isForwardRef=function(b){return x(b)===o},yn.isFragment=function(b){return x(b)===r},yn.isLazy=function(b){return x(b)===h},yn.isMemo=function(b){return x(b)===f},yn.isPortal=function(b){return x(b)===e},yn.isProfiler=function(b){return x(b)===i},yn.isStrictMode=function(b){return x(b)===n},yn.isSuspense=function(b){return x(b)===l},yn.isSuspenseList=function(b){return x(b)===u},yn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===h||b.$$typeof===f||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},yn.typeOf=x,yn}var Zq;function G7e(){return Zq||(Zq=1,N3.exports=W7e()),N3.exports}var K7e=G7e(),eW=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",tW=null,I3=null,Qse=t=>{if(t===tW&&Array.isArray(I3))return I3;var e=[];return N.Children.forEach(t,r=>{js(r)||(K7e.isFragment(r)?e=e.concat(Qse(r.props.children)):e.push(r))}),I3=e,tW=t,e};function Jse(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>eW(i)):n=[eW(e)],Qse(t).forEach(i=>{var s=G0(i,"type.displayName")||G0(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var Zse=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,O3={},rW;function Y7e(){return rW||(rW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(O3)),O3}var R3,nW;function X7e(){return nW||(nW=1,R3=Y7e().isPlainObject),R3}var Q7e=X7e();const J7e=Yo(Q7e);var iW,sW,aW,oW,lW;function cW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cW(Object(r),!0).forEach(function(n){Z7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Z7e(t,e,r){return(e=e9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e9e(t){var e=t9e(t,"string");return typeof e=="symbol"?e:e+""}function t9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vT(){return vT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vT.apply(null,arguments)}function Uy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var dW=(t,e,r,n,i)=>{var s=r-n,a;return a=wi(iW||(iW=Uy(["M ",",",""])),t,e),a+=wi(sW||(sW=Uy(["L ",",",""])),t+r,e),a+=wi(aW||(aW=Uy(["L ",",",""])),t+r-s/2,e+i),a+=wi(oW||(oW=Uy(["L ",",",""])),t+r-s/2-n,e+i),a+=wi(lW||(lW=Uy(["L ",","," Z"])),t,e),a},r9e={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},n9e=t=>{var e=ms(t,r9e),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:f,isUpdateAnimationActive:h}=e,g=N.useRef(null),[v,x]=N.useState(-1),b=N.useRef(i),w=N.useRef(s),E=N.useRef(a),A=N.useRef(r),k=N.useRef(n),R=w4(t,"trapezoid-");if(N.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var le=g.current.getTotalLength();le&&x(le)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var j=qr("recharts-trapezoid",o);if(!h)return N.createElement("g",null,N.createElement("path",vT({},$a(e),{className:j,d:dW(r,n,i,s,a)})));var P=b.current,S=w.current,I=E.current,O=A.current,D=k.current,M="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),U=vne(["strokeDasharray"],u,l);return N.createElement(b4,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:h,begin:f},le=>{var de=ea(P,i,le),J=ea(S,s,le),Q=ea(I,a,le),fe=ea(O,r,le),ee=ea(D,n,le);g.current&&(b.current=de,w.current=J,E.current=Q,A.current=fe,k.current=ee);var ge=le>0?{transition:U,strokeDasharray:F}:{strokeDasharray:M};return N.createElement("path",vT({},$a(e),{className:j,d:dW(fe,ee,de,J,Q),ref:g,style:uW(uW({},ge),e.style)}))})},i9e=["option","shapeType","activeClassName"];function s9e(t,e){if(t==null)return{};var r,n,i=a9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function a9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function fW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fW(Object(r),!0).forEach(function(n){o9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function o9e(t,e,r){return(e=l9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function l9e(t){var e=c9e(t,"string");return typeof e=="symbol"?e:e+""}function c9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function u9e(t,e){return yT(yT({},e),t)}function d9e(t,e){return t==="symbols"}function hW(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return N.createElement(wne,r);case"trapezoid":return N.createElement(n9e,r);case"sector":return N.createElement(Sne,r);case"symbols":if(d9e(e))return N.createElement(QP,r);break;case"curve":return N.createElement(ig,r);default:return null}}function f9e(t){return N.isValidElement(t)?t.props:t}function h9e(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=s9e(t,i9e),s;if(N.isValidElement(e))s=N.cloneElement(e,yT(yT({},i),f9e(e)));else if(typeof e=="function")s=e(i,i.index);else if(J7e(e)&&typeof e!="boolean"){var a=u9e(e,i);s=N.createElement(hW,{shapeType:r,elementProps:a})}else{var o=i;s=N.createElement(hW,{shapeType:r,elementProps:o})}return i.isActive?N.createElement(ia,{className:n},s):s}var m9e=(t,e,r)=>{var n=Dn();return(i,s)=>a=>{t==null||t(i,s,a),n(ose({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},p9e=t=>{var e=Dn();return(r,n)=>i=>{t==null||t(r,n,i),e(xDe())}},g9e=(t,e,r)=>{var n=Dn();return(i,s)=>a=>{t==null||t(i,s,a),n(bDe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function eae(t){var{tooltipEntrySettings:e}=t,r=Dn(),n=vo(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(pDe(e)):i.current!==e&&r(gDe({prev:i.current,next:e})),i.current=e)},[e,r,n]),N.useLayoutEffect(()=>()=>{i.current&&(r(vDe(i.current)),i.current=null)},[r]),null}function v9e(t){var{legendPayload:e}=t,r=Dn(),n=vo(),i=N.useRef(null);return N.useLayoutEffect(()=>{n||(i.current===null?r(fne(e)):i.current!==e&&r(hne({prev:i.current,next:e})),i.current=e)},[r,n,e]),N.useLayoutEffect(()=>()=>{i.current&&(r(mne(i.current)),i.current=null)},[r]),null}function y9e(t){var{legendPayload:e}=t,r=Dn(),n=Et(dn),i=N.useRef(null);return N.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(fne(e)):i.current!==e&&r(hne({prev:i.current,next:e})),i.current=e)},[r,n,e]),N.useLayoutEffect(()=>()=>{i.current&&(r(mne(i.current)),i.current=null)},[r]),null}var P3,x9e=()=>{var[t]=N.useState(()=>tx("uid-"));return t},b9e=(P3=yfe.useId)!==null&&P3!==void 0?P3:x9e;function w9e(t,e){var r=b9e();return e||(t?"".concat(t,"-").concat(r):r)}var _9e=N.createContext(void 0),tae=t=>{var{id:e,type:r,children:n}=t,i=w9e("recharts-".concat(r),e);return N.createElement(_9e.Provider,{value:i},n(i))},E9e={cartesianItems:[],polarItems:[]},rae=go({name:"graphicalItems",initialState:E9e,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Yn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=fc(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Yn()},removeCartesianGraphicalItem:{reducer(t,e){var r=fc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Yn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Yn()},removePolarGraphicalItem:{reducer(t,e){var r=fc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Yn()}}}),{addCartesianGraphicalItem:T9e,replaceCartesianGraphicalItem:S9e,removeCartesianGraphicalItem:A9e,addPolarGraphicalItem:k9e,removePolarGraphicalItem:C9e}=rae.actions,N9e=rae.reducer,I9e=t=>{var e=Dn(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?e(T9e(t)):r.current!==t&&e(S9e({prev:r.current,next:t})),r.current=t},[e,t]),N.useLayoutEffect(()=>()=>{r.current&&(e(A9e(r.current)),r.current=null)},[e]),null},O9e=N.memo(I9e);function R9e(t){var e=Dn();return N.useLayoutEffect(()=>(e(k9e(t)),()=>{e(C9e(t))}),[e,t]),null}var P9e=["key"],j9e=["onMouseEnter","onClick","onMouseLeave"],D9e=["id"],M9e=["id"];function mW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _i(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mW(Object(r),!0).forEach(function(n){L9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function L9e(t,e,r){return(e=F9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function F9e(t){var e=B9e(t,"string");return typeof e=="symbol"?e:e+""}function B9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nh.apply(null,arguments)}function z4(t,e){if(t==null)return{};var r,n,i=U9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function U9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function V9e(t){var e=N.useMemo(()=>Jse(t.children,F4),[t.children]),r=Et(n=>H7e(n,t.id,e));return r==null?null:N.createElement(y9e,{legendPayload:r})}var z9e=N.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:u,id:f}=t,h={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:u4(o,e),hide:l,type:u,color:a,unit:"",graphicalItemId:f}};return N.createElement(eae,{tooltipEntrySettings:h})}),$9e=(t,e)=>t>e?"start":t<e?"end":"middle",H9e=(t,e,r)=>zo(typeof e=="function"?e(t):e,r,r*.8),q9e=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=_ne(s,a),l=i+zo(t.cx,s,s/2),u=n+zo(t.cy,a,a/2),f=zo(t.innerRadius,o,0),h=H9e(r,t.outerRadius,o),g=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:u,innerRadius:f,outerRadius:h,maxRadius:g}},W9e=(t,e)=>{var r=Ea(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function G9e(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var K9e=(t,e)=>{if(N.isValidElement(t))return N.cloneElement(t,e);if(typeof t=="function")return t(e);var r=qr("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=z4(e,P9e);return N.createElement(ig,nh({},i,{type:"linear",className:r}))},Y9e=(t,e,r)=>{if(N.isValidElement(t))return N.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),N.isValidElement(n)))return n;var i=qr("recharts-pie-label-text",G9e(t));return N.createElement(B4,nh({},e,{alignmentBaseline:"middle",className:i}),n)};function X9e(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=qo(r),l=Fg(i),u=Fg(s),f=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,h=e.map((g,v)=>{var x=(g.startAngle+g.endAngle)/2,b=rs(g.cx,g.cy,g.outerRadius+f,x),w=_i(_i(_i(_i({},o),g),{},{stroke:"none"},l),{},{index:v,textAnchor:$9e(b.x,g.cx)},b),E=_i(_i(_i(_i({},o),g),{},{fill:"none",stroke:g.fill},u),{},{index:v,points:[rs(g.cx,g.cy,g.outerRadius,x),b],key:"line"});return N.createElement(Sc,{zIndex:na.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},N.createElement(ia,null,s&&K9e(s,E),Y9e(i,w,zn(g,a))))});return N.createElement(ia,{className:"recharts-pie-labels"},h)}function Q9e(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?N.createElement(qse,{label:i}):N.createElement(X9e,{sectors:e,props:r,showLabels:n})}function J9e(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:a}=t,o=Et(Wg),l=Et(wse),u=Et(sMe),{onMouseEnter:f,onClick:h,onMouseLeave:g}=i,v=z4(i,j9e),x=m9e(f,i.dataKey,a),b=p9e(g),w=g9e(h,i.dataKey,a);return e==null||e.length===0?null:N.createElement(N.Fragment,null,e.map((E,A)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var k=u==null||u===a,R=String(A)===o&&(l==null||i.dataKey===l)&&k,j=o?n:null,P=r&&R?r:j,S=_i(_i({},E),{},{stroke:E.stroke,tabIndex:-1,[Qre]:A,[Jre]:a});return N.createElement(ia,nh({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(A),tabIndex:-1,className:"recharts-pie-sector"},ZP(v,E,A),{onMouseEnter:x(E,A),onMouseLeave:b(E,A),onClick:w(E,A)}),N.createElement(h9e,nh({option:s??P,index:A,shapeType:"sector",isActive:R},S)))}))}function Z9e(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:u,nameKey:f,tooltipType:h}=r,g=Math.abs(r.minAngle),v=W9e(o,l),x=Math.abs(v),b=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(P=>zn(P,u,0)!==0).length,E=(x>=360?w:w-1)*b,A=x-w*g-E,k=n.reduce((P,S)=>{var I=zn(S,u,0);return P+(xt(I)?I:0)},0),R;if(k>0){var j;R=n.map((P,S)=>{var I=zn(P,u,0),O=zn(P,f,S),D=q9e(r,s,P),M=(xt(I)?I:0)/k,F,U=_i(_i({},P),i&&i[S]&&i[S].props);S?F=j.endAngle+Ea(v)*b*(I!==0?1:0):F=o;var le=F+Ea(v)*((I!==0?g:0)+M*A),de=(F+le)/2,J=(D.innerRadius+D.outerRadius)/2,Q=[{name:O,value:I,payload:U,dataKey:u,type:h,graphicalItemId:r.id}],fe=rs(D.cx,D.cy,J,de);return j=_i(_i(_i(_i({},r.presentationProps),{},{percent:M,cornerRadius:typeof a=="string"?parseFloat(a):a,name:O,tooltipPayload:Q,midAngle:de,middleRadius:J,tooltipPosition:fe},U),D),{},{value:I,dataKey:u,startAngle:F,endAngle:le,payload:U,paddingAngle:Ea(v)*b}),j})}return R}function eFe(t){var{showLabels:e,sectors:r,children:n}=t,i=N.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return N.createElement(C7e,{value:e?i:void 0},n)}function tFe(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:f,onAnimationStart:h,onAnimationEnd:g}=e,v=w4(e,"recharts-pie-"),x=r.current,[b,w]=N.useState(!1),E=N.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),A=N.useCallback(()=>{typeof h=="function"&&h(),w(!0)},[h]);return N.createElement(eFe,{showLabels:!b,sectors:i},N.createElement(b4,{animationId:v,begin:a,duration:o,isActive:s,easing:l,onAnimationStart:A,onAnimationEnd:E,key:v},k=>{var R=[],j=i&&i[0],P=j==null?void 0:j.startAngle;return i==null||i.forEach((S,I)=>{var O=x&&x[I],D=I>0?G0(S,"paddingAngle",0):0;if(O){var M=ea(O.endAngle-O.startAngle,S.endAngle-S.startAngle,k),F=_i(_i({},S),{},{startAngle:P+D,endAngle:P+M+D});R.push(F),P=F.endAngle}else{var{endAngle:U,startAngle:le}=S,de=ea(0,U-le,k),J=_i(_i({},S),{},{startAngle:P+D,endAngle:P+de+D});R.push(J),P=J.endAngle}}),r.current=R,N.createElement(ia,null,N.createElement(J9e,{sectors:R,activeShape:u,inactiveShape:f,allOtherPieProps:e,shape:e.shape,id:n}))}),N.createElement(Q9e,{showLabels:!b,sectors:i,props:e}),e.children)}var rFe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:na.area};function nFe(t){var{id:e}=t,r=z4(t,D9e),{hide:n,className:i,rootTabIndex:s}=t,a=N.useMemo(()=>Jse(t.children,F4),[t.children]),o=Et(f=>q7e(f,e,a)),l=N.useRef(null),u=qr("recharts-pie",i);return n||o==null?(l.current=null,N.createElement(ia,{tabIndex:s,className:u})):N.createElement(Sc,{zIndex:t.zIndex},N.createElement(z9e,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),N.createElement(ia,{tabIndex:s,className:u},N.createElement(tFe,{props:_i(_i({},r),{},{sectors:o}),previousSectorsRef:l,id:e})))}function nae(t){var e=ms(t,rFe),{id:r}=e,n=z4(e,M9e),i=qo(n);return N.createElement(tae,{id:r,type:"pie"},s=>N.createElement(N.Fragment,null,N.createElement(R9e,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),N.createElement(V9e,nh({},n,{id:s})),N.createElement(nFe,nh({},n,{id:s}))))}nae.displayName="Pie";var iFe=["points"];function pW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function j3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pW(Object(r),!0).forEach(function(n){sFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sFe(t,e,r){return(e=aFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aFe(t){var e=oFe(t,"string");return typeof e=="symbol"?e:e+""}function oFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xT.apply(null,arguments)}function lFe(t,e){if(t==null)return{};var r,n,i=cFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uFe(t){var{option:e,dotProps:r,className:n}=t;if(N.isValidElement(e))return N.cloneElement(e,r);if(typeof e=="function")return e(r);var i=qr(n,typeof e!="boolean"?e.className:""),s=r??{},{points:a}=s,o=lFe(s,iFe);return N.createElement(Wse,xT({},o,{className:i}))}function dFe(t,e){return t==null?!1:e?!0:t.length===1}function fFe(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:u=na.scatter}=t;if(!dFe(e,r))return null;var f=Zse(r),h=wNe(r),g=e.map((x,b)=>{var w,E,A=j3(j3(j3({r:3},a),h),{},{index:b,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(E=x.y)!==null&&E!==void 0?E:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return N.createElement(uFe,{key:"dot-".concat(b),option:r,dotProps:A,className:i})}),v={};return o&&l!=null&&(v.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(l,")")),N.createElement(Sc,{zIndex:u},N.createElement(ia,xT({className:n},v),g))}function gW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function vW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gW(Object(r),!0).forEach(function(n){hFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hFe(t,e,r){return(e=mFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mFe(t){var e=pFe(t,"string");return typeof e=="symbol"?e:e+""}function pFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var iae=0,gFe={xAxis:{},yAxis:{},zAxis:{}},sae=go({name:"cartesianAxis",initialState:gFe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Yn()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Yn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Yn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Yn()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Yn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Yn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Yn()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Yn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Yn()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);t.yAxis[r]=vW(vW({},t.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:vFe,replaceXAxis:yFe,removeXAxis:xFe,addYAxis:bFe,replaceYAxis:wFe,removeYAxis:_Fe,addZAxis:fat,replaceZAxis:hat,removeZAxis:mat,updateYAxisWidth:EFe}=sae.actions,TFe=sae.reducer,SFe=Ne([Fs],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),AFe=Ne([SFe,Sd,Ad],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),kj=()=>Et(AFe),kFe=()=>Et(uMe);function yW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function D3(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yW(Object(r),!0).forEach(function(n){CFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CFe(t,e,r){return(e=NFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NFe(t){var e=IFe(t,"string");return typeof e=="symbol"?e:e+""}function IFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OFe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=D3(D3(D3({},o),Fg(i)),JP(i)),u;return N.isValidElement(i)?u=N.cloneElement(i,l):typeof i=="function"?u=i(l):u=N.createElement(Wse,l),N.createElement(ia,{className:"recharts-active-dot",clipPath:a},u)};function xW(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=na.activeDot}=t,o=Et(Wg),l=kFe();if(e==null||l==null)return null;var u=e.find(f=>l.includes(f.payload));return js(u)?null:N.createElement(Sc,{zIndex:a},N.createElement(OFe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var aae=t=>{var{chartData:e}=t,r=Dn(),n=vo();return N.useEffect(()=>n?()=>{}:(r(kq(e)),()=>{r(kq(void 0))}),[e,r,n]),null},bW={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},oae=go({name:"brush",initialState:bW,reducers:{setBrushSettings(t,e){return e.payload==null?bW:e.payload}}}),{setBrushSettings:pat}=oae.actions,RFe=oae.reducer;function PFe(t,e,r){return(e=jFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jFe(t){var e=DFe(t,"string");return typeof e=="symbol"?e:e+""}function DFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Cj{static create(e){return new Cj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}PFe(Cj,"EPS",1e-4);function MFe(t){return(t%180+180)%180}var LFe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=MFe(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},FFe={dots:[],areas:[],lines:[]},lae=go({name:"referenceElements",initialState:FFe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=fc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=fc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=fc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:gat,removeDot:vat,addArea:yat,removeArea:xat,addLine:bat,removeLine:wat}=lae.actions,BFe=lae.reducer,UFe=N.createContext(void 0),VFe=t=>{var{children:e}=t,[r]=N.useState("".concat(tx("recharts"),"-clip")),n=kj();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return N.createElement(UFe.Provider,{value:r},N.createElement("defs",null,N.createElement("clipPath",{id:r},N.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function cae(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function zFe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return LFe(n,r)}function $Fe(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function px(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function HFe(t,e){return cae(t,e+1)}function qFe(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,l=0,u=1,f=a,h=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:cae(n,u)};var b=l,w,E=()=>(w===void 0&&(w=r(x,b)),w),A=x.coordinate,k=l===0||px(t,A,E,f,o);k||(l=0,f=a,u+=1),k&&(f=A+t*(E()/2+i),l+=u)},g;u<=s.length;)if(g=h(),g)return g.v;return[]}function WFe(t,e,r,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,u=1;u<=a;u++){for(var f=(a-1)%u,h=o,g=!0,v=function(){var A=n[x],k=x,R,j=()=>(R===void 0&&(R=r(A,k)),R),P=A.coordinate,S=x===f||px(t,P,j,h,l);if(!S)return g=!1,1;S&&(h=P+t*(j()/2+i))},x=f;x<a&&!v();x+=u);if(g){for(var b=[],w=f;w<a;w+=u)b.push(n[w]);return b}}return[]}function wW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ha(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wW(Object(r),!0).forEach(function(n){GFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function GFe(t,e,r){return(e=KFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function KFe(t){var e=YFe(t,"string");return typeof e=="symbol"?e:e+""}function YFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XFe(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],x,b=()=>(x===void 0&&(x=r(v,g)),x);if(g===a-1){var w=t*(v.coordinate+t*b()/2-l);s[g]=v=ha(ha({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else s[g]=v=ha(ha({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var E=px(t,v.tickCoord,b,o,l);E&&(l=v.tickCoord-t*(b()/2+i),s[g]=ha(ha({},v),{},{isShow:!0}))}},f=a-1;f>=0;f--)u(f);return s}function QFe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var f=n[o-1],h=r(f,o-1),g=t*(f.coordinate+t*h/2-u);if(a[o-1]=f=ha(ha({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var v=px(t,f.tickCoord,()=>h,l,u);v&&(u=f.tickCoord-t*(h/2+i),a[o-1]=ha(ha({},f),{},{isShow:!0}))}}for(var x=s?o-1:o,b=function(A){var k=a[A],R,j=()=>(R===void 0&&(R=r(k,A)),R);if(A===0){var P=t*(k.coordinate-t*j()/2-l);a[A]=k=ha(ha({},k),{},{tickCoord:P<0?k.coordinate-P*t:k.coordinate})}else a[A]=k=ha(ha({},k),{},{tickCoord:k.coordinate});if(k.tickCoord!=null){var S=px(t,k.tickCoord,j,l,u);S&&(l=k.tickCoord+t*(j()/2+i),a[A]=ha(ha({},k),{},{isShow:!0}))}},w=0;w<x;w++)b(w);return a}function Nj(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:f,angle:h}=t;if(!i||!i.length||!n)return[];if(xt(l)||hb.isSsr){var g;return(g=HFe(i,xt(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],x=o==="top"||o==="bottom"?"width":"height",b=f&&x==="width"?y1(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(k,R)=>{var j=typeof u=="function"?u(k.value,R):k.value;return x==="width"?zFe(y1(j,{fontSize:e,letterSpacing:r}),b,h):y1(j,{fontSize:e,letterSpacing:r})[x]},E=i.length>=2?Ea(i[1].coordinate-i[0].coordinate):1,A=$Fe(s,E,x);return l==="equidistantPreserveStart"?qFe(E,A,w,i,a):l==="equidistantPreserveEnd"?WFe(E,A,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=QFe(E,A,w,i,a,l==="preserveStartEnd"):v=XFe(E,A,w,i,a),v.filter(k=>k.isShow))}var JFe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(f=>{if(f){var h=f.getBoundingClientRect();h.width>a&&(a=h.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(r?n:0);return Math.round(u)}return 0},ZFe=["axisLine","width","height","className","hide","ticks","axisType"];function eBe(t,e){if(t==null)return{};var r,n,i=tBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Q0(){return Q0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q0.apply(null,arguments)}function _W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(r),!0).forEach(function(n){rBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rBe(t,e,r){return(e=nBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nBe(t){var e=iBe(t,"string");return typeof e=="symbol"?e:e+""}function iBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rd={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:na.axis};function sBe(t){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=Ji(Ji(Ji({},l),qo(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var f=+(s==="top"&&!a||s==="bottom"&&a);u=Ji(Ji({},u),{},{x1:e,y1:r+f*i,x2:e+n,y2:r+f*i})}else{var h=+(s==="left"&&!a||s==="right"&&a);u=Ji(Ji({},u),{},{x1:e+h*n,y1:r,x2:e+h*n,y2:r+i})}return N.createElement("line",Q0({},u,{className:qr("recharts-cartesian-axis-line",G0(o,"className"))}))}function aBe(t,e,r,n,i,s,a,o,l){var u,f,h,g,v,x,b=o?-1:1,w=t.tickSize||a,E=xt(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=f=t.coordinate,g=r+ +!o*i,h=g-b*w,x=h-b*l,v=E;break;case"left":h=g=t.coordinate,f=e+ +!o*n,u=f-b*w,v=u-b*l,x=E;break;case"right":h=g=t.coordinate,f=e+ +o*n,u=f+b*w,v=u+b*l,x=E;break;default:u=f=t.coordinate,g=r+ +o*i,h=g+b*w,x=h+b*l,v=E;break}return{line:{x1:u,y1:h,x2:f,y2:g},tick:{x:v,y:x}}}function oBe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function lBe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function cBe(t){var{option:e,tickProps:r,value:n}=t,i,s=qr(r.className,"recharts-cartesian-axis-tick-value");if(N.isValidElement(e))i=N.cloneElement(e,Ji(Ji({},r),{},{className:s}));else if(typeof e=="function")i=e(Ji(Ji({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=qr(a,e==null?void 0:e.className)),i=N.createElement(B4,Q0({},r,{className:a}),n)}return i}var uBe=N.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:f,mirror:h,x:g,y:v,width:x,height:b,tickSize:w,tickMargin:E,fontSize:A,letterSpacing:k,getTicksConfig:R,events:j,axisType:P}=t,S=Nj(Ji(Ji({},R),{},{ticks:r}),A,k),I=oBe(f,h),O=lBe(f,h),D=qo(R),M=Fg(n),F={};typeof i=="object"&&(F=i);var U=Ji(Ji({},D),{},{fill:"none"},F),le=S.map(Q=>Ji({entry:Q},aBe(Q,g,v,x,b,f,w,h,E))),de=le.map(Q=>{var{entry:fe,line:ee}=Q;return N.createElement(ia,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(fe.value,"-").concat(fe.coordinate,"-").concat(fe.tickCoord)},i&&N.createElement("line",Q0({},U,ee,{className:qr("recharts-cartesian-axis-tick-line",G0(i,"className"))})))}),J=le.map((Q,fe)=>{var{entry:ee,tick:ge}=Q,q=Ji(Ji(Ji(Ji({textAnchor:I,verticalAnchor:O},D),{},{stroke:"none",fill:s},M),ge),{},{index:fe,payload:ee,visibleTicksCount:S.length,tickFormatter:a,padding:l},u);return N.createElement(ia,Q0({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},ZP(j,ee,fe)),n&&N.createElement(cBe,{option:n,tickProps:q,value:"".concat(typeof a=="function"?a(ee.value,fe):ee.value).concat(o||"")}))});return N.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(P,"-ticks")},J.length>0&&N.createElement(Sc,{zIndex:na.label},N.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(P,"-tick-labels"),ref:e},J)),de.length>0&&N.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(P,"-tick-lines")},de))}),dBe=N.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o,axisType:l}=t,u=eBe(t,ZFe),[f,h]=N.useState(""),[g,v]=N.useState(""),x=N.useRef(null);N.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return JFe({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=N.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=E;var A=E[0];if(A){var k=window.getComputedStyle(A),R=k.fontSize,j=k.letterSpacing;(R!==f||j!==g)&&(h(R),v(j))}}},[f,g]);return a||n!=null&&n<=0||i!=null&&i<=0?null:N.createElement(Sc,{zIndex:t.zIndex},N.createElement(ia,{className:qr("recharts-cartesian-axis",s)},N.createElement(sBe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:qo(t)}),N.createElement(uBe,{ref:b,axisType:l,events:u,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),N.createElement(a7e,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},N.createElement(g7e,{label:t.label,labelRef:t.labelRef}),t.children)))}),Ij=N.forwardRef((t,e)=>{var r=ms(t,rd);return N.createElement(dBe,Q0({},r,{ref:e}))});Ij.displayName="CartesianAxis";var fBe=["x1","y1","x2","y2","key"],hBe=["offset"],mBe=["xAxisId","yAxisId"],pBe=["xAxisId","yAxisId"];function EW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ya(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?EW(Object(r),!0).forEach(function(n){gBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):EW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function gBe(t,e,r){return(e=vBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vBe(t){var e=yBe(t,"string");return typeof e=="symbol"?e:e+""}function yBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function b0(){return b0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},b0.apply(null,arguments)}function bT(t,e){if(t==null)return{};var r,n,i=xBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var bBe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return N.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function uae(t){var{option:e,lineItemProps:r}=t,n;if(N.isValidElement(e))n=N.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:s,y1:a,x2:o,y2:l,key:u}=r,f=bT(r,fBe),h=(i=qo(f))!==null&&i!==void 0?i:{},{offset:g}=h,v=bT(h,hBe);n=N.createElement("line",b0({},v,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:u}))}return n}function wBe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=bT(t,mBe),l=i.map((u,f)=>{var h=ya(ya({},o),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(f),index:f});return N.createElement(uae,{key:"line-".concat(f),option:n,lineItemProps:h})});return N.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function _Be(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=bT(t,pBe),l=i.map((u,f)=>{var h=ya(ya({},o),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(f),index:f});return N.createElement(uae,{option:n,lineItemProps:h,key:"line-".concat(f)})});return N.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function EBe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==u[0]&&u.unshift(0);var f=u.map((h,g)=>{var v=!u[g+1],x=v?i+a-h:u[g+1]-h;if(x<=0)return null;var b=g%e.length;return N.createElement("rect",{key:"react-".concat(g),y:h,x:n,height:x,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function TBe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var u=l.map(h=>Math.round(h+i-i)).sort((h,g)=>h-g);i!==u[0]&&u.unshift(0);var f=u.map((h,g)=>{var v=!u[g+1],x=v?i+a-h:u[g+1]-h;if(x<=0)return null;var b=g%r.length;return N.createElement("rect",{key:"react-".concat(g),x:h,y:s,width:x,height:o,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return N.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var SBe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return Kre(Nj(ya(ya(ya({},rd),r),{},{ticks:Yre(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},ABe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return Kre(Nj(ya(ya(ya({},rd),r),{},{ticks:Yre(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},kBe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:na.grid};function Oj(t){var e=d8(),r=f8(),n=ine(),i=ya(ya({},ms(t,kBe)),{},{x:xt(t.x)?t.x:n.left,y:xt(t.y)?t.y:n.top,width:xt(t.width)?t.width:n.width,height:xt(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:u,height:f,syncWithTicks:h,horizontalValues:g,verticalValues:v}=i,x=vo(),b=Et(O=>pq(O,"xAxis",s,x)),w=Et(O=>pq(O,"yAxis",a,x));if(!lu(u)||!lu(f)||!xt(o)||!xt(l))return null;var E=i.verticalCoordinatesGenerator||SBe,A=i.horizontalCoordinatesGenerator||ABe,{horizontalPoints:k,verticalPoints:R}=i;if((!k||!k.length)&&typeof A=="function"){var j=g&&g.length,P=A({yAxis:w?ya(ya({},w),{},{ticks:j?g:w.ticks}):void 0,width:e??u,height:r??f,offset:n},j?!0:h);KE(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof P,"]")),Array.isArray(P)&&(k=P)}if((!R||!R.length)&&typeof E=="function"){var S=v&&v.length,I=E({xAxis:b?ya(ya({},b),{},{ticks:S?v:b.ticks}):void 0,width:e??u,height:r??f,offset:n},S?!0:h);KE(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(R=I)}return N.createElement(Sc,{zIndex:i.zIndex},N.createElement("g",{className:"recharts-cartesian-grid"},N.createElement(bBe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),N.createElement(EBe,b0({},i,{horizontalPoints:k})),N.createElement(TBe,b0({},i,{verticalPoints:R})),N.createElement(wBe,b0({},i,{offset:n,horizontalPoints:k,xAxis:b,yAxis:w})),N.createElement(_Be,b0({},i,{offset:n,verticalPoints:R,xAxis:b,yAxis:w}))))}Oj.displayName="CartesianGrid";var CBe={},dae=go({name:"errorBars",initialState:CBe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:_at,replaceErrorBar:Eat,removeErrorBar:Tat}=dae.actions,NBe=dae.reducer;function fae(t,e){var r,n,i=Et(u=>Nd(u,t)),s=Et(u=>Id(u,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:_s.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Es.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function IBe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=kj(),{needClipX:s,needClipY:a,needClip:o}=fae(e,r);if(!o||!i)return null;var{x:l,y:u,width:f,height:h}=i;return N.createElement("clipPath",{id:"clipPath-".concat(n)},N.createElement("rect",{x:s?l:l-f/2,y:a?u:u-h/2,width:s?f:f*2,height:a?h:h*2}))}function OBe(t){var e=Fg(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=r),(Number.isNaN(o)||o<0)&&(o=n),{r:a,strokeWidth:o}}return{r,strokeWidth:n}}var M3={exports:{}},L3={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var TW;function RBe(){if(TW)return L3;TW=1;var t=om();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return L3.useSyncExternalStoreWithSelector=function(l,u,f,h,g){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function w(j){if(!E){if(E=!0,A=j,j=h(j),g!==void 0&&x.hasValue){var P=x.value;if(g(P,j))return k=P}return k=j}if(P=k,r(A,j))return P;var S=h(j);return g!==void 0&&g(P,S)?(A=j,P):(A=j,k=S)}var E=!1,A,k,R=f===void 0?null:f;return[function(){return w(u())},R===null?void 0:function(){return w(R())}]},[u,f,h,g]);var b=n(l,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),o(b),b},L3}var SW;function PBe(){return SW||(SW=1,M3.exports=RBe()),M3.exports}PBe();function jBe(t){t()}function DBe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){jBe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var AW={notify(){},get:()=>[]};function MBe(t,e){let r,n=AW,i=0,s=!1;function a(b){f();const w=n.subscribe(b);let E=!1;return()=>{E||(E=!0,w(),h())}}function o(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return s}function f(){i++,r||(r=t.subscribe(l),n=DBe())}function h(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=AW)}function g(){s||(s=!0,f())}function v(){s&&(s=!1,h())}const x={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>n};return x}var LBe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FBe=LBe(),BBe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",UBe=BBe(),VBe=()=>FBe||UBe?N.useLayoutEffect:N.useEffect,zBe=VBe();function kW(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function $Be(t,e){if(kW(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!kW(t[r[i]],e[r[i]]))return!1;return!0}var F3=Symbol.for("react-redux-context"),B3=typeof globalThis<"u"?globalThis:{};function HBe(){if(!N.createContext)return{};const t=B3[F3]??(B3[F3]=new Map);let e=t.get(N.createContext);return e||(e=N.createContext(null),t.set(N.createContext,e)),e}var qBe=HBe();function WBe(t){const{children:e,context:r,serverState:n,store:i}=t,s=N.useMemo(()=>{const l=MBe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=N.useMemo(()=>i.getState(),[i]);zBe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=r||qBe;return N.createElement(o.Provider,{value:s},e)}var GBe=WBe,KBe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function YBe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Rj(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(KBe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!$Be(t[n],e[n]))return!1}else if(!YBe(t[n],e[n]))return!1;return!0}function Pj(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:iae}function jj(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:iae}var hae=(t,e,r)=>tse(t,"xAxis",Pj(t,e),r),mae=(t,e,r)=>ese(t,"xAxis",Pj(t,e),r),pae=(t,e,r)=>tse(t,"yAxis",jj(t,e),r),gae=(t,e,r)=>ese(t,"yAxis",jj(t,e),r),XBe=Ne([dn,hae,pae,mae,gae],(t,e,r,n,i)=>Td(t,"xAxis")?GE(e,n,!1):GE(r,i,!1)),QBe=(t,e)=>e,vae=Ne([Pie,QBe],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),yae=t=>{var e=dn(t),r=Td(e,"xAxis");return r?"yAxis":"xAxis"},JBe=(t,e)=>{var r=yae(t);return r==="yAxis"?jj(t,e):Pj(t,e)},ZBe=(t,e,r)=>Fie(t,yae(t),JBe(t,e),r),eUe=Ne([vae,ZBe],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,i=W8(t);if(!(n==null||i==null)){var s=(r=e[n])===null||r===void 0?void 0:r.stackedData,a=s==null?void 0:s.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),tUe=Ne([dn,hae,pae,mae,gae,eUe,G8e,XBe,vae,aje],(t,e,r,n,i,s,a,o,l,u)=>{var{chartData:f,dataStartIndex:h,dataEndIndex:g}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:v}=l,x;if(v&&v.length>0?x=v:x=f==null?void 0:f.slice(h,g+1),x!=null)return bUe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:h,areaSettings:l,stackedData:s,displayedData:x,chartBaseValue:u,bandSize:o})}}),rUe=["id"],nUe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function C0(){return C0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},C0.apply(null,arguments)}function xae(t,e){if(t==null)return{};var r,n,i=iUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function iUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $p(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?CW(Object(r),!0).forEach(function(n){sUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):CW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sUe(t,e,r){return(e=aUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aUe(t){var e=oUe(t,"string");return typeof e=="symbol"?e:e+""}function oUe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function wT(t,e){return t&&t!=="none"?t:e}var lUe=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:wT(n,i),value:u4(r,e),payload:t}]},cUe=N.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:u,id:f}=t,h={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:u4(a,e),hide:o,type:u,color:wT(n,s),unit:l,graphicalItemId:f}};return N.createElement(eae,{tooltipEntrySettings:h})});function uUe(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:s,dataKey:a}=n,o=qo(n);return N.createElement(fFe,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function dUe(t){var{showLabels:e,children:r,points:n}=t,i=n.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return $p($p({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return N.createElement(k7e,{value:e?i:void 0},r)}function NW(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:l,connectNulls:u,isRange:f}=s,{id:h}=s,g=xae(s,rUe),v=qo(g),x=$a(g);return N.createElement(N.Fragment,null,(e==null?void 0:e.length)>1&&N.createElement(ia,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},N.createElement(ig,C0({},x,{id:h,points:e,connectNulls:u,type:o,baseLine:r,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&N.createElement(ig,C0({},v,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&f&&N.createElement(ig,C0({},v,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:r}))),N.createElement(uUe,{points:e,props:g,clipPathId:i}))}function fUe(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.y,l=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!Zn(o)||!Zn(l))return null;var u=n*Math.abs(o-l),f=Math.max(...s.map(h=>h.x||0));return xt(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(h=>h.x||0),f)),xt(f)?N.createElement("rect",{x:0,y:o<l?o:o-u,width:f+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function hUe(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.x,l=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!Zn(o)||!Zn(l))return null;var u=n*Math.abs(o-l),f=Math.max(...s.map(h=>h.y||0));return xt(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(h=>h.y||0),f)),xt(f)?N.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(f+(a?parseInt("".concat(a),10):1))}):null}function mUe(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:s}=t;return r==="vertical"?N.createElement(fUe,{alpha:e,points:n,baseLine:i,strokeWidth:s}):N.createElement(hUe,{alpha:e,points:n,baseLine:i,strokeWidth:s})}function pUe(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:f,animationEasing:h,onAnimationStart:g,onAnimationEnd:v}=n,x=N.useMemo(()=>({points:a,baseLine:o}),[a,o]),b=w4(x,"recharts-area-"),w=EOe(),[E,A]=N.useState(!1),k=!E,R=N.useCallback(()=>{typeof v=="function"&&v(),A(!1)},[v]),j=N.useCallback(()=>{typeof g=="function"&&g(),A(!0)},[g]);if(w==null)return null;var P=i.current,S=s.current;return N.createElement(dUe,{showLabels:k,points:a},n.children,N.createElement(b4,{animationId:b,begin:u,duration:f,isActive:l,easing:h,onAnimationEnd:R,onAnimationStart:j,key:b},I=>{if(P){var O=P.length/a.length,D=I===1?a:a.map((F,U)=>{var le=Math.floor(U*O);if(P[le]){var de=P[le];return $p($p({},F),{},{x:ea(de.x,F.x,I),y:ea(de.y,F.y,I)})}return F}),M;return xt(o)?M=ea(S,o,I):js(o)||bc(o)?M=ea(S,0,I):M=o.map((F,U)=>{var le=Math.floor(U*O);if(Array.isArray(S)&&S[le]){var de=S[le];return $p($p({},F),{},{x:ea(de.x,F.x,I),y:ea(de.y,F.y,I)})}return F}),I>0&&(i.current=D,s.current=M),N.createElement(NW,{points:D,baseLine:M,needClip:e,clipPathId:r,props:n})}return I>0&&(i.current=a,s.current=o),N.createElement(ia,null,l&&N.createElement("defs",null,N.createElement("clipPath",{id:"animationClipPath-".concat(r)},N.createElement(mUe,{alpha:I,points:a,baseLine:o,layout:w,strokeWidth:n.strokeWidth}))),N.createElement(ia,{clipPath:"url(#animationClipPath-".concat(r,")")},N.createElement(NW,{points:a,baseLine:o,needClip:e,clipPathId:r,props:n})))}),N.createElement(qse,{label:n.label}))}function gUe(t){var{needClip:e,clipPathId:r,props:n}=t,i=N.useRef(null),s=N.useRef();return N.createElement(pUe,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s})}class vUe extends N.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:u,width:f,height:h,id:g,baseLine:v,zIndex:x}=this.props;if(e)return null;var b=qr("recharts-area",i),w=g,{r:E,strokeWidth:A}=OBe(r),k=Zse(r),R=E*2+A,j=o?"url(#clipPath-".concat(k?"":"dots-").concat(w,")"):void 0;return N.createElement(Sc,{zIndex:x},N.createElement(ia,{className:b},o&&N.createElement("defs",null,N.createElement(IBe,{clipPathId:w,xAxisId:l,yAxisId:u}),!k&&N.createElement("clipPath",{id:"clipPath-dots-".concat(w)},N.createElement("rect",{x:a-R/2,y:s-R/2,width:f+R,height:h+R}))),N.createElement(gUe,{needClip:o,clipPathId:w,props:this.props})),N.createElement(xW,{points:n,mainColor:wT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}),this.props.isRange&&Array.isArray(v)&&N.createElement(xW,{points:v,mainColor:wT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:j}))}}var bae={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:na.area};function yUe(t){var e,r=ms(t,bae),{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:u,fillOpacity:f,hide:h,isAnimationActive:g,legendType:v,stroke:x,xAxisId:b,yAxisId:w}=r,E=xae(r,nUe),A=yv(),k=Tse(),{needClip:R}=fae(b,w),j=vo(),{points:P,isRange:S,baseLine:I}=(e=Et(le=>tUe(le,t.id,j)))!==null&&e!==void 0?e:{},O=kj();if(A!=="horizontal"&&A!=="vertical"||O==null||k!=="AreaChart"&&k!=="ComposedChart")return null;var{height:D,width:M,x:F,y:U}=O;return!P||!P.length?null:N.createElement(vUe,C0({},E,{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:I,connectNulls:o,dot:l,fill:u,fillOpacity:f,height:D,hide:h,layout:A,isAnimationActive:g==="auto"?!hb.isSsr:g,isRange:S,legendType:v,needClip:R,points:P,stroke:x,width:M,left:F,top:U,xAxisId:b,yAxisId:w}))}var xUe=(t,e,r,n,i)=>{var s=r??e;if(xt(s))return s;var a=t==="horizontal"?i:n,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return s==="dataMin"?u:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function bUe(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:f,xAxisTicks:h,yAxisTicks:g,bandSize:v}=t,x=i&&i.length,b=xUe(s,a,r,o,l),w=s==="horizontal",E=!1,A=u.map((R,j)=>{var P,S,I;if(x)I=i[f+j];else{var O=zn(R,n);Array.isArray(O)?(I=O,E=!0):I=[b,O]}var D=(P=(S=I)===null||S===void 0?void 0:S[1])!==null&&P!==void 0?P:null,M=D==null||x&&!e&&zn(R,n)==null;return w?{x:x$({axis:o,ticks:h,bandSize:v,entry:R,index:j}),y:M?null:l.scale(D),value:I,payload:R}:{x:M?null:o.scale(D),y:x$({axis:l,ticks:g,bandSize:v,entry:R,index:j}),value:I,payload:R}}),k;return x||E?k=A.map(R=>{var j=Array.isArray(R.value)?R.value[0]:null;return w?{x:R.x,y:j!=null&&R.y!=null?l.scale(j):null,payload:R.payload}:{x:j!=null?o.scale(j):null,y:R.y,payload:R.payload}}):k=w?l.scale(b):o.scale(b),{points:A,baseLine:k,isRange:E}}function wUe(t){var e=ms(t,bae),r=vo();return N.createElement(tae,{id:e.id,type:"area"},n=>N.createElement(N.Fragment,null,N.createElement(v9e,{legendPayload:lUe(e)}),N.createElement(cUe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),N.createElement(O9e,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:V5e(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),N.createElement(yUe,C0({},e,{id:n}))))}var _T=N.memo(wUe,Rj);_T.displayName="Area";var _Ue=["domain","range"],EUe=["domain","range"];function IW(t,e){if(t==null)return{};var r,n,i=TUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function TUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function OW(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function wae(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=IW(t,_Ue),{domain:s,range:a}=e,o=IW(e,EUe);return!OW(r,s)||!OW(n,a)?!1:Rj(i,o)}var SUe=["dangerouslySetInnerHTML","ticks","scale"],AUe=["id","scale"];function BO(){return BO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},BO.apply(null,arguments)}function RW(t,e){if(t==null)return{};var r,n,i=kUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function kUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function CUe(t){var e=Dn(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?e(vFe(t)):r.current!==t&&e(yFe({prev:r.current,next:t})),r.current=t},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(e(xFe(r.current)),r.current=null)},[e]),null}var NUe=t=>{var{xAxisId:e,className:r}=t,n=Et(Zre),i=vo(),s="xAxis",a=Et(E=>Zie(E,s,e,i)),o=Et(E=>Jje(E,e)),l=Et(E=>iDe(E,e)),u=Et(E=>Iie(E,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:f,ticks:h,scale:g}=t,v=RW(t,SUe),{id:x,scale:b}=u,w=RW(u,AUe);return N.createElement(Ij,BO({},v,w,{x:l.x,y:l.y,width:o.width,height:o.height,className:qr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:a,axisType:s}))},IUe={allowDataOverflow:_s.allowDataOverflow,allowDecimals:_s.allowDecimals,allowDuplicatedCategory:_s.allowDuplicatedCategory,angle:_s.angle,axisLine:rd.axisLine,height:_s.height,hide:!1,includeHidden:_s.includeHidden,interval:_s.interval,minTickGap:_s.minTickGap,mirror:_s.mirror,orientation:_s.orientation,padding:_s.padding,reversed:_s.reversed,scale:_s.scale,tick:_s.tick,tickCount:_s.tickCount,tickLine:rd.tickLine,tickSize:rd.tickSize,type:_s.type,xAxisId:0},OUe=t=>{var e=ms(t,IUe);return N.createElement(N.Fragment,null,N.createElement(CUe,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),N.createElement(NUe,e))},Dj=N.memo(OUe,wae);Dj.displayName="XAxis";var RUe=["dangerouslySetInnerHTML","ticks","scale"],PUe=["id","scale"];function UO(){return UO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UO.apply(null,arguments)}function PW(t,e){if(t==null)return{};var r,n,i=jUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function jUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function DUe(t){var e=Dn(),r=N.useRef(null);return N.useLayoutEffect(()=>{r.current===null?e(bFe(t)):r.current!==t&&e(wFe({prev:r.current,next:t})),r.current=t},[t,e]),N.useLayoutEffect(()=>()=>{r.current&&(e(_Fe(r.current)),r.current=null)},[e]),null}var MUe=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,s=N.useRef(null),a=N.useRef(null),o=Et(Zre),l=vo(),u=Dn(),f="yAxis",h=Et(P=>oDe(P,e)),g=Et(P=>aDe(P,e)),v=Et(P=>Zie(P,f,e,l)),x=Et(P=>Oie(P,e));if(N.useLayoutEffect(()=>{if(!(n!=="auto"||!h||Tj(i)||N.isValidElement(i)||x==null)){var P=s.current;if(P){var S=P.getCalculatedWidth();Math.round(h.width)!==Math.round(S)&&u(EFe({id:e,width:S}))}}},[v,h,u,i,e,n,x]),h==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:w,scale:E}=t,A=PW(t,RUe),{id:k,scale:R}=x,j=PW(x,PUe);return N.createElement(Ij,UO({},A,j,{ref:s,labelRef:a,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:h.width,height:h.height,className:qr("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:v,axisType:f}))},LUe={allowDataOverflow:Es.allowDataOverflow,allowDecimals:Es.allowDecimals,allowDuplicatedCategory:Es.allowDuplicatedCategory,angle:Es.angle,axisLine:rd.axisLine,hide:!1,includeHidden:Es.includeHidden,interval:Es.interval,minTickGap:Es.minTickGap,mirror:Es.mirror,orientation:Es.orientation,padding:Es.padding,reversed:Es.reversed,scale:Es.scale,tick:Es.tick,tickCount:Es.tickCount,tickLine:rd.tickLine,tickSize:rd.tickSize,type:Es.type,width:Es.width,yAxisId:0},FUe=t=>{var e=ms(t,LUe);return N.createElement(N.Fragment,null,N.createElement(DUe,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),N.createElement(MUe,e))},Mj=N.memo(FUe,wae);Mj.displayName="YAxis";var BUe=(t,e)=>e,Lj=Ne([BUe,dn,Cie,gs,vse,Od,_Me,Fs],NMe),Fj=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},_ae=Nl("mouseClick"),Eae=ub();Eae.startListening({actionCreator:_ae,effect:(t,e)=>{var r=t.payload,n=Lj(e.getState(),Fj(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(wDe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var VO=Nl("mouseMove"),Tae=ub(),H_=null;Tae.startListening({actionCreator:VO,effect:(t,e)=>{var r=t.payload;H_!==null&&cancelAnimationFrame(H_);var n=Fj(r);H_=requestAnimationFrame(()=>{var i=e.getState(),s=mj(i,i.tooltip.settings.shared);if(s==="axis"){var a=Lj(i,n);(a==null?void 0:a.activeIndex)!=null?e.dispatch(cse({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(lse())}H_=null})}});function UUe(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var jW={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Sae=go({name:"rootProps",initialState:jW,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:jW.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),VUe=Sae.reducer,{updateOptions:zUe}=Sae.actions,Aae=go({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:$Ue}=Aae.actions,HUe=Aae.reducer,kae=Nl("keyDown"),Cae=Nl("focus"),Bj=ub();Bj.startListening({actionCreator:kae,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=pj(i,kv(r),_b(r),Sb(r)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Od(r);if(s==="Enter"){var u=pT(r,"axis","hover",String(i.index));e.dispatch(RO({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var f=dDe(r),h=f==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*h;if(!(l==null||v>=l.length||v<0)){var x=pT(r,"axis","hover",String(v));e.dispatch(RO({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});Bj.startListening({actionCreator:Cae,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=pT(r,"axis","hover",String(s));e.dispatch(RO({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var fl=Nl("externalEvent"),Nae=ub(),U3=new Map;Nae.startListening({actionCreator:fl,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,s=U3.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:oMe(o),activeDataKey:wse(o),activeIndex:Wg(o),activeLabel:bse(o),activeTooltipIndex:Wg(o),isTooltipActive:lMe(o)};r(l,n)}finally{U3.delete(i)}});U3.set(i,a)}}});var qUe=Ne([Sv],t=>t.tooltipItemPayloads),WUe=Ne([qUe,Tb,(t,e)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),Iae=Nl("touchMove"),Oae=ub();Oae.startListening({actionCreator:Iae,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=mj(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var a=Lj(n,Fj({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(cse({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var f=u.getAttribute(Qre),h=(o=u.getAttribute(Jre))!==null&&o!==void 0?o:void 0,g=Av(n).find(b=>b.id===h);if(f==null||g==null||h==null)return;var{dataKey:v}=g,x=WUe(n,f,h);e.dispatch(ose({activeDataKey:v,activeIndex:f,activeCoordinate:x,activeGraphicalItemId:h}))}}}});var GUe=xre({brush:RFe,cartesianAxis:TFe,chartData:aLe,errorBars:NBe,graphicalItems:N9e,layout:O5e,legend:FOe,options:tLe,polarAxis:F7e,polarOptions:HUe,referenceElements:BFe,rootProps:VUe,tooltip:_De,zIndex:$Me}),KUe=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return r5e({reducer:GUe,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([Eae.middleware,Tae.middleware,Bj.middleware,Nae.middleware,Oae.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(jre({type:"raf"}))},devTools:{serialize:{replacer:UUe},name:"recharts-".concat(r)}})};function Rae(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=vo(),s=N.useRef(null);if(i)return r;s.current==null&&(s.current=KUe(e,n));var a=t8;return N.createElement(GBe,{context:a,store:s.current},r)}function YUe(t){var{layout:e,margin:r}=t,n=Dn(),i=vo();return N.useEffect(()=>{i||(n(C5e(e)),n(k5e(r)))},[n,i,e,r]),null}var Pae=N.memo(YUe,Rj);function jae(t){var e=Dn();return N.useEffect(()=>{e(zUe(t))},[e,t]),null}function DW(t){var{zIndex:e,isPanorama:r}=t,n=N.useRef(null),i=Dn();return N.useLayoutEffect(()=>(n.current&&i(VMe({zIndex:e,element:n.current,isPanorama:r})),()=>{i(zMe({zIndex:e,isPanorama:r}))}),[i,e,r]),N.createElement("g",{tabIndex:-1,ref:n})}function MW(t){var{children:e,isPanorama:r}=t,n=Et(OMe);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return N.createElement(N.Fragment,null,i.map(a=>N.createElement(DW,{key:a,zIndex:a,isPanorama:r})),e,s.map(a=>N.createElement(DW,{key:a,zIndex:a,isPanorama:r})))}var XUe=["children"];function QUe(t,e){if(t==null)return{};var r,n,i=JUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function JUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ET(){return ET=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ET.apply(null,arguments)}var ZUe={width:"100%",height:"100%",display:"block"},eVe=N.forwardRef((t,e)=>{var r=d8(),n=f8(),i=gne();if(!lu(r)||!lu(n))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,u,f;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?f=a.role:f=i?"application":void 0),N.createElement(HP,ET({},a,{title:o,desc:l,role:f,tabIndex:u,width:r,height:n,style:ZUe,ref:e}),s)}),tVe=t=>{var{children:e}=t,r=Et(m4);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return N.createElement(HP,{width:n,height:i,x:a,y:s},e)},LW=N.forwardRef((t,e)=>{var{children:r}=t,n=QUe(t,XUe),i=vo();return i?N.createElement(tVe,null,N.createElement(MW,{isPanorama:!0},r)):N.createElement(eVe,ET({ref:e},n),N.createElement(MW,{isPanorama:!1},r))});function rVe(){var t=Dn(),[e,r]=N.useState(null),n=Et(G5e);return N.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;Zn(s)&&s!==n&&t(I5e(s))}},[e,t,n]),r}function FW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nVe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FW(Object(r),!0).forEach(function(n){iVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iVe(t,e,r){return(e=sVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sVe(t){var e=aVe(t,"string");return typeof e=="symbol"?e:e+""}function aVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function J0(){return J0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},J0.apply(null,arguments)}var oVe=()=>(pLe(),null);function TT(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var lVe=N.forwardRef((t,e)=>{var r,n,i=N.useRef(null),[s,a]=N.useState({containerWidth:TT((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:TT((n=t.style)===null||n===void 0?void 0:n.height)}),o=N.useCallback((u,f)=>{a(h=>{var g=Math.round(u),v=Math.round(f);return h.containerWidth===g&&h.containerHeight===v?h:{containerWidth:g,containerHeight:v}})},[]),l=N.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:f,height:h}=u.getBoundingClientRect();o(f,h);var g=x=>{var{width:b,height:w}=x[0].contentRect;o(b,w)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return N.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),N.createElement(N.Fragment,null,N.createElement(g4,{width:s.containerWidth,height:s.containerHeight}),N.createElement("div",J0({ref:l},t)))}),cVe=N.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,s]=N.useState({containerWidth:TT(r),containerHeight:TT(n)}),a=N.useCallback((l,u)=>{s(f=>{var h=Math.round(l),g=Math.round(u);return f.containerWidth===h&&f.containerHeight===g?f:{containerWidth:h,containerHeight:g}})},[]),o=N.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:f}=l.getBoundingClientRect();a(u,f)}},[e,a]);return N.createElement(N.Fragment,null,N.createElement(g4,{width:i.containerWidth,height:i.containerHeight}),N.createElement("div",J0({ref:o},t)))}),uVe=N.forwardRef((t,e)=>{var{width:r,height:n}=t;return N.createElement(N.Fragment,null,N.createElement(g4,{width:r,height:n}),N.createElement("div",J0({ref:e},t)))}),dVe=N.forwardRef((t,e)=>{var{width:r,height:n}=t;return pd(r)||pd(n)?N.createElement(cVe,J0({},t,{ref:e})):N.createElement(uVe,J0({},t,{ref:e}))});function fVe(t){return t===!0?lVe:dVe}var hVe=N.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:f,onMouseMove:h,onMouseUp:g,onTouchEnd:v,onTouchMove:x,onTouchStart:b,style:w,width:E,responsive:A,dispatchTouchEvents:k=!0}=t,R=N.useRef(null),j=Dn(),[P,S]=N.useState(null),[I,O]=N.useState(null),D=rVe(),M=u8(),F=(M==null?void 0:M.width)>0?M.width:E,U=(M==null?void 0:M.height)>0?M.height:i,le=N.useCallback(ie=>{D(ie),typeof e=="function"&&e(ie),S(ie),O(ie),ie!=null&&(R.current=ie)},[D,e,S,O]),de=N.useCallback(ie=>{j(_ae(ie)),j(fl({handler:s,reactEvent:ie}))},[j,s]),J=N.useCallback(ie=>{j(VO(ie)),j(fl({handler:u,reactEvent:ie}))},[j,u]),Q=N.useCallback(ie=>{j(lse()),j(fl({handler:f,reactEvent:ie}))},[j,f]),fe=N.useCallback(ie=>{j(VO(ie)),j(fl({handler:h,reactEvent:ie}))},[j,h]),ee=N.useCallback(()=>{j(Cae())},[j]),ge=N.useCallback(ie=>{j(kae(ie.key))},[j]),q=N.useCallback(ie=>{j(fl({handler:a,reactEvent:ie}))},[j,a]),z=N.useCallback(ie=>{j(fl({handler:o,reactEvent:ie}))},[j,o]),V=N.useCallback(ie=>{j(fl({handler:l,reactEvent:ie}))},[j,l]),W=N.useCallback(ie=>{j(fl({handler:g,reactEvent:ie}))},[j,g]),Y=N.useCallback(ie=>{j(fl({handler:b,reactEvent:ie}))},[j,b]),ue=N.useCallback(ie=>{k&&j(Iae(ie)),j(fl({handler:x,reactEvent:ie}))},[j,k,x]),me=N.useCallback(ie=>{j(fl({handler:v,reactEvent:ie}))},[j,v]),ce=fVe(A);return N.createElement(Nse.Provider,{value:P},N.createElement(Dte.Provider,{value:I},N.createElement(ce,{width:F??(w==null?void 0:w.width),height:U??(w==null?void 0:w.height),className:qr("recharts-wrapper",n),style:nVe({position:"relative",cursor:"default",width:F,height:U},w),onClick:de,onContextMenu:q,onDoubleClick:z,onFocus:ee,onKeyDown:ge,onMouseDown:V,onMouseEnter:J,onMouseLeave:Q,onMouseMove:fe,onMouseUp:W,onTouchEnd:me,onTouchMove:ue,onTouchStart:Y,ref:le},N.createElement(oVe,null),r)))}),mVe=["width","height","responsive","children","className","style","compact","title","desc"];function pVe(t,e){if(t==null)return{};var r,n,i=gVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Dae=N.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:f}=t,h=pVe(t,mVe),g=qo(h);return l?N.createElement(N.Fragment,null,N.createElement(g4,{width:r,height:n}),N.createElement(LW,{otherAttributes:g,title:u,desc:f},s)):N.createElement(hVe,{className:a,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},N.createElement(LW,{otherAttributes:g,title:u,desc:f,ref:e},N.createElement(VFe,null,s)))});function zO(){return zO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zO.apply(null,arguments)}var vVe={top:5,right:5,bottom:5,left:5},yVe={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:vVe,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},xVe=N.forwardRef(function(e,r){var n,i=ms(e.categoricalChartProps,yVe),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,f={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return N.createElement(Rae,{preloadedState:{options:f},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},N.createElement(aae,{chartData:u.data}),N.createElement(Pae,{layout:i.layout,margin:i.margin}),N.createElement(jae,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(Dae,zO({},i,{ref:r})))});function bVe(t){var e=Dn();return N.useEffect(()=>{e($Ue(t))},[e,t]),null}var wVe=["layout"];function $O(){return $O=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$O.apply(null,arguments)}function _Ve(t,e){if(t==null)return{};var r,n,i=EVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function EVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var TVe={top:5,right:5,bottom:5,left:5},Mae={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:TVe,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},SVe=N.forwardRef(function(e,r){var n,i=ms(e.categoricalChartProps,Mae),{layout:s}=i,a=_Ve(i,wVe),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f}=e,h={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:f,eventEmitter:void 0};return N.createElement(Rae,{preloadedState:{options:h},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},N.createElement(aae,{chartData:i.data}),N.createElement(Pae,{layout:s,margin:i.margin}),N.createElement(jae,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),N.createElement(bVe,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),N.createElement(Dae,$O({},a,{ref:r})))});function BW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BW(Object(r),!0).forEach(function(n){AVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function AVe(t,e,r){return(e=kVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kVe(t){var e=CVe(t,"string");return typeof e=="symbol"?e:e+""}function CVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NVe=["item"],IVe=UW(UW({},Mae),{},{layout:"centric",startAngle:0,endAngle:360}),OVe=N.forwardRef((t,e)=>{var r=ms(t,IVe);return N.createElement(SVe,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:NVe,tooltipPayloadSearcher:Ise,categoricalChartProps:r,ref:e})}),RVe=["axis"],Lae=N.forwardRef((t,e)=>N.createElement(xVe,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:RVe,tooltipPayloadSearcher:Ise,categoricalChartProps:t,ref:e}));const PVe=({userRole:t})=>{if(!["admin","quan_ly","lanh_dao"].includes(t))return null;const e=bn(E=>E.setAppState),[r,n]=N.useState(!1),[i,s]=N.useState(!1),[a,o]=N.useState("7d"),[l,u]=N.useState([]),[f,h]=N.useState(null),[g,v]=N.useState(!1),[x,b]=N.useState(null);if(N.useEffect(()=>{n(!0)},[]),N.useEffect(()=>{r&&(async()=>{v(!0);try{const A=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:a})});if(A.ok){const k=await A.json();u(k.chart),h(k.metrics)}else{const k=await A.text();console.error("Failed to fetch analytics:",k),b("Li kt ni API: "+A.status);try{const R=JSON.parse(k);R.error&&b(R.error)}catch{}u([]),h(null)}}catch(A){console.error("Error fetching analytics:",A),b(A.message||"Li khng xc nh")}finally{v(!1)}})()},[a,r]),!r)return null;const w=E=>{const A=Math.floor(E/60),k=Math.floor(E%60);return`${A}m ${k}s`};return m.jsx(j0.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4",children:m.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-gray-100 dark:border-zinc-800 overflow-hidden transition-all duration-300",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-zinc-800 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white dark:from-zinc-900 dark:to-zinc-900 cursor-pointer",onClick:()=>s(!i),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:m.jsx(mV,{className:"text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Tng quan truy cp"}),m.jsx("p",{className:"text-xs text-gray-500",children:a==="7d"?"7 ngy qua":a==="30d"?"30 ngy qua":"Hm nay"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",onClick:E=>E.stopPropagation(),children:[m.jsx("button",{onClick:E=>{E.stopPropagation(),e(et.ANALYTICS)},className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:"Xem chi tit"}),m.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:"text-xs border-none bg-gray-100 dark:bg-zinc-800 rounded-lg px-3 py-1.5 text-gray-600 dark:text-gray-300 focus:ring-0 cursor-pointer hover:bg-gray-200 transition-colors outline-none",children:[m.jsx("option",{value:"7d",children:"7 ngy qua"}),m.jsx("option",{value:"30d",children:"30 ngy qua"}),m.jsx("option",{value:"today",children:"Hm nay"})]}),m.jsx("button",{onClick:()=>s(!i),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:i?m.jsx(o4e,{}):m.jsx(a4e,{})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-white dark:bg-zinc-900 relative",children:[g&&m.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-zinc-900/50 z-10 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&m.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-zinc-900/90 z-10 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[m.jsx("p",{className:"font-bold",children:"Khng th ti d liu"}),m.jsx("p",{className:"text-sm",children:x}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra quyn truy cp Service Account"})]}),m.jsx(q_,{icon:m.jsx(Bf,{className:"text-blue-500"}),label:"Ngi dng mi",value:f?f.newUsers.toLocaleString():"...",trend:"--",trendUp:!0,color:"bg-blue-50 dark:bg-blue-900/20"}),m.jsx(q_,{icon:m.jsx(A4e,{className:"text-green-500"}),label:"Thi gian TB",value:f?w(f.avgSessionDuration):"...",trend:"--",trendUp:!0,color:"bg-green-50 dark:bg-green-900/20"}),m.jsx(q_,{icon:m.jsx(p4e,{className:"text-purple-500"}),label:"Phin truy cp",value:f?f.totalSessions.toLocaleString():"...",trend:"--",trendUp:!0,color:"bg-purple-50 dark:bg-purple-900/20"}),m.jsx(q_,{icon:m.jsx(mV,{className:"text-orange-500"}),label:"T l thot",value:f?`${f.bounceRate.toFixed(1)}%`:"...",trend:"--",trendUp:!1,color:"bg-orange-50 dark:bg-orange-900/20"})]}),m.jsx(BY,{children:i&&m.jsx(j0.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden border-t border-gray-100 dark:border-zinc-800",children:m.jsxs("div",{className:"p-6 h-[350px] w-full bg-gray-50/30 dark:bg-zinc-900/30 relative",children:[g&&m.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-zinc-900/50 z-10 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&m.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-zinc-900/90 z-10 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[m.jsx("p",{className:"font-bold",children:"Khng th ti d liu"}),m.jsx("p",{className:"text-sm",children:x}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra quyn truy cp Service Account"})]}),m.jsx(lO,{width:"100%",height:"100%",children:m.jsxs(Lae,{data:l,margin:{top:10,right:10,left:0,bottom:0},children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"colorVisits",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),m.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),m.jsx(Oj,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB",opacity:.5}),m.jsx(Dj,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12},dy:10,interval:a==="30d"?4:0}),m.jsx(Mj,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),m.jsx(DO,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),m.jsx(_T,{type:"monotone",dataKey:"visits",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorVisits)",name:"Lt truy cp",animationDuration:1e3}),m.jsx(_T,{type:"monotone",dataKey:"users",stroke:"#10B981",strokeWidth:3,fillOpacity:1,fill:"url(#colorUsers)",name:"Ngi dng",animationDuration:1e3})]})})]})})})]})})},q_=({icon:t,label:e,value:r,trend:n,trendUp:i,color:s})=>m.jsxs("div",{className:`p-4 rounded-xl ${s} transition-all duration-300 hover:shadow-md`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-white dark:bg-zinc-800 rounded-lg shadow-sm",children:t}),m.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${i?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:n})]}),m.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:r}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:e})]}),jVe=({userProfile:t,onStart:e,onHistoryClick:r,onClassClick:n,onOnlineExamClick:i})=>{const{theme:s}=sa();return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 animate-slide-in-right",children:[m.jsx(PVe,{userRole:t.role}),m.jsx(vNe,{userRole:t.role}),m.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[m.jsx("div",{className:"flex flex-col items-center",children:m.jsx(gNe,{user:t})}),m.jsxs("div",{className:"bg-card/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-border",children:[m.jsxs("h1",{className:"text-3xl font-bold text-primary mb-6 text-center",children:["Xin cho, ",t.full_name||"Hc vin","!"]}),m.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Chc bn c mt bui n tp hiu qu v t kt qu cao."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:e,className:"w-full bg-primary text-primary-foreground font-bold text-lg py-4 px-6 rounded-xl hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-lg",children:[m.jsx(K6,{className:"w-8 h-8"}),m.jsx("span",{children:"Vo n Tp / Thi Th"})]}),["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role)&&m.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white font-bold text-lg py-4 px-6 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-lg",children:[m.jsx(Pge,{className:"w-8 h-8"}),m.jsx("span",{children:"Qun l Thi Trc Tuyn"})]})]})]})]})]})},ST=async t=>{try{const e=pr(Wt(Ye,"exam_results"),Ar("studentId","==",t));return(await _n(e)).docs.map(i=>{const s=i.data(),a=s.submitted_at||s.completedAt,o=a?a.toDate():new Date;return{id:i.id,...s,userId:s.studentId,completedAt:o}}).sort((i,s)=>s.completedAt.getTime()-i.completedAt.getTime())}catch(e){return console.error("Error fetching exam history:",e),[]}},DVe=({userProfile:t,onBack:e})=>{const[r,n]=N.useState([]),[i,s]=N.useState(!0),[a,o]=N.useState({});N.useEffect(()=>{(async()=>{const g=await ST(t.id);g.sort((x,b)=>b.completedAt.getTime()-x.completedAt.getTime()),n(g),s(!1);const v=Array.from(new Set(g.filter(x=>x.roomId).map(x=>x.roomId)));if(v.length>0){const x={};await Promise.all(v.map(async b=>{try{const{doc:w,getDoc:E}=await Fn(async()=>{const{doc:R,getDoc:j}=await Promise.resolve().then(()=>$u);return{doc:R,getDoc:j}},void 0),{db:A}=await Fn(async()=>{const{db:R}=await Promise.resolve().then(()=>yee);return{db:R}},void 0),k=await E(w(A,"exam_rooms",b));k.exists()&&(x[b]=k.data())}catch(w){console.error(`Error fetching room ${b}`,w)}})),o(x)}})()},[t.id]);const l=h=>h.roomId?"Thi Trc Tuyn":h.quizId==="exam-quiz"||h.quizId==="thithu2"||h.type==="Thi th"?"Thi th":"n tp",u=h=>{switch(h){case"Thi Trc Tuyn":return"bg-red-100 text-red-800 border-red-200";case"Thi th":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},f=h=>{if(h.roomId&&a[h.roomId]){const g=a[h.roomId];return`Phng thi ${g.name} / ${g.course_name||"T do"} / ${g.license_name||""}`}return h.quizTitle||(h.roomId?`Phng thi ${h.roomId}`:h.type)};return m.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[m.jsx(p1,{className:"text-primary"}),"Lch s n tp & Thi"]}),m.jsx("button",{onClick:e,className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-secondary/80 transition-colors shadow-sm",children:"Quay li"})]}),i?m.jsx("div",{className:"text-center p-8",children:m.jsx("p",{className:"text-muted-foreground",children:"ang ti d liu..."})}):r.length===0?m.jsx("div",{className:"text-center p-8 bg-card rounded-xl shadow-sm border border-border",children:m.jsx("p",{className:"text-muted-foreground",children:"Cha c lch s lm bi no."})}):m.jsx("div",{className:"bg-white dark:bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-muted/50 border-b border-border text-xs uppercase text-muted-foreground",children:[m.jsx("th",{className:"p-4 font-semibold",children:"Loi"}),m.jsx("th",{className:"p-4 font-semibold",children:"Bi thi"}),m.jsx("th",{className:"p-4 font-semibold text-center",children:"im s"}),m.jsx("th",{className:"p-4 font-semibold",children:"Gi np"})," ",m.jsx("th",{className:"p-4 font-semibold",children:"Ngy np"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:r.map(h=>{const g=l(h);return m.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[m.jsx("td",{className:"p-4 align-middle",children:m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${u(g)}`,children:g})}),m.jsx("td",{className:"p-4 align-middle font-medium text-foreground",children:f(h)}),m.jsxs("td",{className:"p-4 align-middle text-center",children:[m.jsx("span",{className:"font-bold text-primary",children:h.score}),m.jsxs("span",{className:"text-muted-foreground text-sm",children:[" / ",h.totalQuestions]})]}),m.jsx("td",{className:"p-4 align-middle text-sm",children:new Date(h.completedAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}),m.jsx("td",{className:"p-4 align-middle text-sm text-muted-foreground",children:new Date(h.completedAt).toLocaleDateString("vi-VN")})]},h.id)})})]})})})]})},MVe=t=>{if(!t)return"Thnh vin";const e=t.toLowerCase().trim();return{admin:"Qun tr vin",quan_ly:"Qun l",lanh_dao:"Lnh o",giao_vien:"Gio vin",hoc_vien:"Hc vin",phu_huynh:"Ph huynh"}[e]||t},LVe=({userProfile:t,onBack:e})=>{const[r,n]=N.useState(null),[i,s]=N.useState([]),[a,o]=N.useState([]),[l,u]=N.useState(!0),[f,h]=N.useState("grid"),[g,v]=N.useState({}),[x,b]=N.useState("");return N.useEffect(()=>{let w,E,A;return(async()=>{if(!t.id)return;const R=Ft(Ye,"users",t.id),j=await uc(R);if(!j.exists()){u(!1);return}const S=j.data().courseId;if(!S){u(!1);return}const I=Ft(Ye,"courses",S);w=Vo(I,O=>{if(O.exists()){const D={id:O.id,...O.data()};if(n(D),D.licenseId&&Fn(async()=>{const{fetchLicenses:M}=await Promise.resolve().then(()=>rM);return{fetchLicenses:M}},void 0).then(({fetchLicenses:M})=>{M().then(F=>{const U=F.find(le=>le.id===D.licenseId);U&&b(U.name)})}),E&&E(),D.teacherIds&&D.teacherIds.length>0)try{const M=[...new Set(D.teacherIds.filter(F=>F&&F.trim()!==""))].slice(0,10);if(M.length>0){const F=pr(Wt(Ye,"users"),Ar(ES(),"in",M));E=Vo(F,U=>{s(U.docs.map(le=>{const de=le.data();return{uid:le.id,...de,photoURL:de.photoURL||th(de.role)}}))})}else s([])}catch(M){console.error("Error creating teacher query:",M),s([])}else s([]);if(A)u(!1);else{const M=pr(Wt(Ye,"users"),Ar("courseId","==",S),Ar("role","==","hoc_vien"));A=Vo(M,async F=>{const U=F.docs.map(de=>{const J=de.data();return{uid:de.id,...J,photoURL:J.photoURL||th(J.role)}});o(U);const le={};await Promise.all(U.map(async de=>{try{const J=await ST(de.uid);if(J&&J.length>0){const Q=J[0];le[de.uid]={type:Q.quizTitle||Q.type||"Bi thi",time:Q.completedAt?Q.completedAt.toLocaleString("vi-VN"):"--",score:`${Q.score}/${Q.totalQuestions} cu`}}else le[de.uid]={type:"--",time:"--",score:"--"}}catch(J){console.error(`Error fetching history for ${de.uid}`,J),le[de.uid]={type:"Li",time:"--",score:"--"}}})),v(le),u(!1)})}}else n(null),u(!1)})})(),()=>{w&&w(),E&&E(),A&&A()}},[t.id]),l?m.jsx("div",{className:"flex justify-center items-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):r?m.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 mb-2 transition-colors font-medium",children:[m.jsx(eg,{})," Quay li Dashboard"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:m.jsx(p0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:r.name}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-0.5",children:r.description||"Cha c m t"}),x&&m.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold border border-yellow-200",children:[m.jsx(EE,{}),m.jsxs("span",{children:["Chng ch: ",x]})]})]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 flex items-center gap-3",children:[m.jsx("div",{className:"bg-green-100 p-2 rounded-full text-green-600",children:m.jsx(tg,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Gio vin"}),m.jsx("p",{className:"font-bold text-lg",children:i.length})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:m.jsx(Bf,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Hc vin"}),m.jsx("p",{className:"font-bold text-lg",children:a.length})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-5 sticky top-20",children:[m.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-800 dark:text-white border-b pb-3 border-gray-100 dark:border-slate-700",children:[m.jsx(tg,{className:"text-green-500"})," i ng Gio vin"]}),m.jsxs("div",{className:"space-y-3",children:[i.map(w=>m.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors group cursor-pointer",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}&background=random`,alt:w.fullName,className:"w-10 h-10 rounded-full object-cover border border-gray-200 dark:border-slate-600 group-hover:scale-105 transition-transform"}),r.headTeacherId===w.uid&&m.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-white rounded-full p-0.5 border-2 border-white",children:m.jsx(EE,{size:10})})]}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:w.fullName}),m.jsx("p",{className:"text-[11px] text-gray-400",children:MVe(w.role)}),r.headTeacherId===w.uid&&m.jsx("span",{className:"inline-flex items-center text-[10px] font-bold text-yellow-600",children:" GV Ch Nhim"})]})]},w.uid)),i.length===0&&m.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Cha c thng tin gio vin."})]})]})}),m.jsx("div",{className:"lg:col-span-3",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 min-h-[500px]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>h("grid"),className:`p-1.5 rounded ${f==="grid"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng li",children:m.jsx(Oee,{})}),m.jsx("button",{onClick:()=>h("list"),className:`p-1.5 rounded ${f==="list"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng danh sch",children:m.jsx(Aee,{})})]}),m.jsxs("span",{className:"text-sm px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:[a.length," thnh vin"]})]}),a.length===0?m.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[m.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-6 rounded-full mb-4",children:m.jsx(Bf,{className:"text-gray-300 w-12 h-12"})}),m.jsx("p",{className:"text-gray-500 font-medium",children:"Lp cha c hc vin no khc."})]}):f==="grid"?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5",children:a.map(w=>m.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-4 border border-gray-100 dark:border-slate-700 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30 transition-all duration-300 group relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-100 to-transparent -mr-8 -mt-8 rounded-full opacity-50 group-hover:scale-150 transition-transform"}),m.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}&background=random`,alt:w.fullName,className:"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-slate-600 shadow-sm group-hover:border-blue-500 transition-colors"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 transition-colors text-base",children:w.fullName}),m.jsxs("div",{className:"space-y-1.5 mt-2",children:[m.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5 bg-white dark:bg-slate-800 px-2 py-1 rounded border border-gray-100 dark:border-slate-600 w-fit",children:[m.jsx("span",{children:""})," ",w.birthDate||"--/--"]}),m.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1.5",title:w.address,children:[m.jsx("span",{children:""})," ",w.address||"Cha cp nht"]})]}),w.uid===t.id&&m.jsx("div",{className:"mt-2",children:m.jsx("span",{className:"text-[10px] font-bold text-teal-600 bg-teal-50 border border-teal-100 px-2 py-0.5 rounded-full",children:"L ti"})})]})]})]},w.uid))}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-slate-700 dark:text-gray-300",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Hc vin"}),m.jsx("th",{className:"px-4 py-3",children:"Ngy sinh"}),m.jsx("th",{className:"px-4 py-3",children:"Bi lm gn nht"}),m.jsx("th",{className:"px-4 py-3",children:"Thi gian"}),m.jsx("th",{className:"px-4 py-3 rounded-r-lg",children:"im"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:a.map(w=>{const E=g[w.uid]||{type:"--",time:"--",score:"--"};return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white flex items-center gap-3",children:[m.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}`,className:"w-8 h-8 rounded-full border border-gray-200"}),m.jsxs("div",{children:[m.jsx("p",{children:w.fullName}),w.uid===t.id&&m.jsx("span",{className:"text-[10px] font-bold text-teal-600 border border-teal-100 bg-teal-50 px-1 rounded",children:"Ti"})]})]}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:w.birthDate||"--"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold
                                                        ${E.type.includes("n")?"bg-blue-100 text-blue-700":E.type.includes("Th")?"bg-purple-100 text-purple-700":E.type==="--"?"bg-gray-100 text-gray-500":"bg-red-100 text-red-700"}`,children:E.type})}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:E.time}),m.jsx("td",{className:"px-4 py-3 font-bold text-teal-600",children:E.score})]},w.uid)})})]})})]})})]})]}):m.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-emerald-600",children:[m.jsx(p0,{className:"text-teal-600"})," Lp Ca Ti"]}),m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Quay li"})]}),m.jsx("div",{className:"text-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:m.jsx("p",{className:"text-gray-500",children:"Bn cha c phn lp."})})]})};/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var AT={};AT.version="0.18.5";var Fae=1252,FVe=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],Uj={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},Vj=function(t){FVe.indexOf(t)!=-1&&(Fae=Uj[0]=t)};function BVe(){Vj(1252)}var ac=function(t){Vj(t)};function zj(){ac(1200),BVe()}function VW(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function UVe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function Bae(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var Qy=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?UVe(t.slice(2)):e==254&&r==255?Bae(t.slice(2)):e==65279?t.slice(1):t},W_=function(e){return String.fromCharCode(e)},zW=function(e){return String.fromCharCode(e)},gx,Cf="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function vx(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Cf.charAt(s)+Cf.charAt(a)+Cf.charAt(o)+Cf.charAt(l);return e}function Go(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Cf.indexOf(t.charAt(u++)),a=Cf.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Cf.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Cf.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var lr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Rd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function ih(t){return lr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function $W(t){return lr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Mo=function(e){return lr?Rd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function $4(t){if(typeof ArrayBuffer>"u")return Mo(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function xh(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function VVe(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function $j(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return $j(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Rs=lr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Rd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function zVe(t){for(var e=[],r=0,n=t.length+250,i=ih(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=ih(65535),n=65530)}return e.push(i.slice(0,r)),Rs(e)}var za=/\u0000/g,Jy=/[\u0001-\u0006]/g;function ag(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function oc(t,e){var r=""+t;return r.length>=e?r:Ei("0",e-r.length)+r}function Hj(t,e){var r=""+t;return r.length>=e?r:Ei(" ",e-r.length)+r}function kT(t,e){var r=""+t;return r.length>=e?r:r+Ei(" ",e-r.length)}function $Ve(t,e){var r=""+Math.round(t);return r.length>=e?r:Ei("0",e-r.length)+r}function HVe(t,e){var r=""+t;return r.length>=e?r:Ei("0",e-r.length)+r}var HW=Math.pow(2,32);function wp(t,e){if(t>HW||t<-HW)return $Ve(t,e);var r=Math.round(t);return HVe(r,e)}function CT(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var qW=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],V3=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function qVe(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},WW={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},WVe={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function NT(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,f=0,h=Math.floor(i);u<e&&(h=Math.floor(i),o=h*a+s,f=h*u+l,!(i-h<5e-8));)i=1/(i-h),s=a,a=o,l=u,u=f;if(f>e&&(u>e?(f=l,o=s):(f=u,o=a)),!r)return[0,n*o,f];var g=Math.floor(n*o/f);return[g,n*o-g*f,f]}function w0(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=JVe(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var Uae=new Date(1899,11,31,0,0,0),GVe=Uae.getTime(),KVe=new Date(1900,2,1,0,0,0);function Vae(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=KVe&&(r+=1440*60*1e3),(r-(GVe+(t.getTimezoneOffset()-Uae.getTimezoneOffset())*6e4))/(1440*60*1e3)}function qj(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function YVe(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function XVe(t){var e=t<0?12:11,r=qj(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function QVe(t){var e=qj(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function yx(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=XVe(t):e===10?r=t.toFixed(10).substr(0,12):r=QVe(t),qj(YVe(r.toUpperCase()))}function Z0(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):yx(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Ol(14,Vae(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function JVe(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function ZVe(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return V3[r.m-1][1];case 5:return V3[r.m-1][0];default:return V3[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return qW[r.q][0];default:return qW[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?oc(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=oc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var f=u>0?oc(l,u):"";return f}function Nf(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var zae=/%/g;function eze(t,e,r){var n=e.replace(zae,""),i=e.length-n.length;return nd(t,n,r*Math.pow(10,2*i))+Ei("%",i)}function tze(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return nd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function $ae(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+$ae(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Hae=/# (\?+)( ?)\/( ?)(\d+)/;function rze(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?Ei(" ",t[1].length+1+t[4].length):Hj(a,t[1].length)+t[2]+"/"+t[3]+oc(o,t[4].length))}function nze(t,e,r){return r+(e===0?"":""+e)+Ei(" ",t[1].length+2+t[4].length)}var qae=/^#*0*\.([0#]+)/,Wae=/\).*[0#]/,Gae=/\(###\) ###\\?-####/;function Da(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function GW(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function KW(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function ize(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function sze(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function hl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Wae)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?hl("n",n,r):"("+hl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return tze(t,e,r);if(e.indexOf("%")!==-1)return eze(t,e,r);if(e.indexOf("E")!==-1)return $ae(e,r);if(e.charCodeAt(0)===36)return"$"+hl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+wp(l,e.length);if(e.match(/^[#?]+$/))return i=wp(r,0),i==="0"&&(i=""),i.length>e.length?i:Da(e.substr(0,e.length-i.length))+i;if(s=e.match(Hae))return rze(s,l,u);if(e.match(/^#+0+$/))return u+wp(l,e.length-e.indexOf("0"));if(s=e.match(qae))return i=GW(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Da(s[1])).replace(/\.$/,"."+Da(s[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+Ei("0",Da(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+GW(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Nf(wp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+hl(t,e,-r):Nf(""+(Math.floor(r)+ize(r,s[1].length)))+"."+oc(KW(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return hl(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ag(hl(t,e.replace(/[\\-]/g,""),r)),a=0,ag(ag(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(Gae))return i=hl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=NT(l,Math.pow(10,a)-1,!1),i=""+u,f=nd("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=kT(o[2],a),f.length<s[4].length&&(f=Da(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=NT(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Hj(o[1],a)+s[2]+"/"+s[3]+kT(o[2],a):Ei(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=wp(r,0),e.length<=i.length?i:Da(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,g=e.length-i.length-h;return Da(e.substr(0,h)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=KW(r,s[1].length),r<0?"-"+hl(t,e,-r):Nf(sze(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?oc(0,3-x.length):"")+x})+"."+oc(a,s[1].length);switch(e){case"###,##0.00":return hl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Nf(wp(l,0));return v!=="0"?u+v:"";case"###,###.00":return hl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return hl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function aze(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return nd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function oze(t,e,r){var n=e.replace(zae,""),i=e.length-n.length;return nd(t,n,r*Math.pow(10,2*i))+Ei("%",i)}function Kae(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Kae(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,f){return l+u+f.substr(0,(i+s)%i)+"."+f.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Uc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Wae)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Uc("n",n,r):"("+Uc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return aze(t,e,r);if(e.indexOf("%")!==-1)return oze(t,e,r);if(e.indexOf("E")!==-1)return Kae(e,r);if(e.charCodeAt(0)===36)return"$"+Uc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+oc(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Da(e.substr(0,e.length-i.length))+i;if(s=e.match(Hae))return nze(s,l,u);if(e.match(/^#+0+$/))return u+oc(l,e.length-e.indexOf("0"));if(s=e.match(qae))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Da(s[1])).replace(/\.$/,"."+Da(s[1])),i=i.replace(/\.(\d*)$/,function(x,b){return"."+b+Ei("0",Da(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Nf(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Uc(t,e,-r):Nf(""+r)+"."+Ei("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Uc(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=ag(Uc(t,e.replace(/[\\-]/g,""),r)),a=0,ag(ag(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(Gae))return i=Uc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var f="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=NT(l,Math.pow(10,a)-1,!1),i=""+u,f=nd("n",s[1],o[1]),f.charAt(f.length-1)==" "&&(f=f.substr(0,f.length-1)+"0"),i+=f+s[2]+"/"+s[3],f=kT(o[2],a),f.length<s[4].length&&(f=Da(s[4].substr(s[4].length-f.length))+f),i+=f,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=NT(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?Hj(o[1],a)+s[2]+"/"+s[3]+kT(o[2],a):Ei(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Da(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var h=e.indexOf(".")-a,g=e.length-i.length-h;return Da(e.substr(0,h)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Uc(t,e,-r):Nf(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?oc(0,3-x.length):"")+x})+"."+oc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Nf(""+l);return v!=="0"?u+v:"";default:if(e.match(/\.[0#?]*$/))return Uc(t,e.slice(0,e.lastIndexOf(".")),r)+Da(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function nd(t,e,r){return(r|0)===r?Uc(t,e,r):hl(t,e,r)}function lze(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Yae=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Cv(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":CT(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Yae))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function cze(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,f,h,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!CT(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(h=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(h);i[i.length]={t:"t",v:s},++a;break;case"\\":var v=t.charAt(++a),x=v==="("||v===")"?v:"t";i[i.length]={t:x,v},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=w0(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=w0(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var b={t:o,v:o};if(u==null&&(u=w0(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",a+=5,g="h"):(b.t="t",++a),u==null&&b.t==="T")return"";i[i.length]=b,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Yae)){if(u==null&&(u=w0(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Cv(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var w=0,E=0,A;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,l="h",w<1&&(w=1);break;case"s":(A=i[a].v.match(/\.0+$/))&&(E=Math.max(E,A[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[a].v.match(/[Hh]/)&&(w=1),w<2&&i[a].v.match(/[Mm]/)&&(w=2),w<3&&i[a].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var k="",R;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=ZVe(i[a].t.charCodeAt(0),i[a].v,u,E),i[a].t="t";break;case"n":case"?":for(R=a+1;i[R]!=null&&((o=i[R].t)==="?"||o==="D"||(o===" "||o==="t")&&i[R+1]!=null&&(i[R+1].t==="?"||i[R+1].t==="t"&&i[R+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[R].v==="/"||i[R].v===" "&&i[R+1]!=null&&i[R+1].t=="?"));)i[a].v+=i[R].v,i[R]={v:"",t:";"},++R;k+=i[a].v,a=R-1;break;case"G":i[a].t="t",i[a].v=Z0(e,r);break}var j="",P,S;if(k.length>0){k.charCodeAt(0)==40?(P=e<0&&k.charCodeAt(0)===45?-e:e,S=nd("n",k,P)):(P=e<0&&n>1?-e:e,S=nd("n",k,P),P<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),R=S.length-1;var I=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){I=a;break}var O=i.length;if(I===i.length&&S.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(R>=i[a].v.length-1?(R-=i[a].v.length,i[a].v=S.substr(R+1,i[a].v.length)):R<0?i[a].v="":(i[a].v=S.substr(0,R+1),R=-1),i[a].t="t",O=a);R>=0&&O<i.length&&(i[O].v=S.substr(0,R+1)+i[O].v)}else if(I!==i.length&&S.indexOf("E")===-1){for(R=S.indexOf(".")-1,a=I;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(f=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")-1:i[a].v.length-1,j=i[a].v.substr(f+1);f>=0;--f)R>=0&&(i[a].v.charAt(f)==="0"||i[a].v.charAt(f)==="#")&&(j=S.charAt(R--)+j);i[a].v=j,i[a].t="t",O=a}for(R>=0&&O<i.length&&(i[O].v=S.substr(0,R+1)+i[O].v),R=S.indexOf(".")+1,a=I;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==I)){for(f=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")+1:0,j=i[a].v.substr(0,f);f<i[a].v.length;++f)R<S.length&&(j+=S.charAt(R++));i[a].v=j,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(P=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=nd(i[a].t,i[a].v,P),i[a].t="t");var D="";for(a=0;a!==i.length;++a)i[a]!=null&&(D+=i[a].v);return D}var YW=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function XW(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function uze(t,e){var r=lze(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(YW),o=r[1].match(YW);return XW(e,a)?[n,r[0]]:XW(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Ol(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Mt)[t],n==null&&(n=r.table&&r.table[WW[t]]||Mt[WW[t]]),n==null&&(n=WVe[t]||"General");break}if(CT(n,0))return Z0(e,r);e instanceof Date&&(e=Vae(e,r.date1904));var i=uze(n,e);if(CT(i[1]))return Z0(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return cze(i[1],e,r,i[0])}function id(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Mt[r]==null){e<0&&(e=r);continue}if(Mt[r]==t){e=r;break}}e<0&&(e=391)}return Mt[e]=t,e}function H4(t){for(var e=0;e!=392;++e)t[e]!==void 0&&id(t[e],e)}function Nv(){Mt=qVe()}var dze={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Xae=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function fze(t){var e=typeof t=="number"?Mt[t]:t;return e=e.replace(Xae,"(\\d+)"),new RegExp("^"+e+"$")}function hze(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(Xae)||[]).forEach(function(h,g){var v=parseInt(r[g+1],10);switch(h.toLowerCase().charAt(0)){case"y":n=v;break;case"d":s=v;break;case"h":a=v;break;case"s":l=v;break;case"m":a>=0?o=v:i=v;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var f=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?f:u+"T"+f}var mze=(function(){var t={};t.version="1.2.0";function e(){for(var S=0,I=new Array(256),O=0;O!=256;++O)S=O,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,I[O]=S;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function n(S){var I=0,O=0,D=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)M[D]=S[D];for(D=0;D!=256;++D)for(O=S[D],I=256+D;I<4096;I+=256)O=M[I]=O>>>8^S[O&255];var F=[];for(D=1;D!=16;++D)F[D-1]=typeof Int32Array<"u"?M.subarray(D*256,D*256+256):M.slice(D*256,D*256+256);return F}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],f=i[5],h=i[6],g=i[7],v=i[8],x=i[9],b=i[10],w=i[11],E=i[12],A=i[13],k=i[14];function R(S,I){for(var O=I^-1,D=0,M=S.length;D<M;)O=O>>>8^r[(O^S.charCodeAt(D++))&255];return~O}function j(S,I){for(var O=I^-1,D=S.length-15,M=0;M<D;)O=k[S[M++]^O&255]^A[S[M++]^O>>8&255]^E[S[M++]^O>>16&255]^w[S[M++]^O>>>24]^b[S[M++]]^x[S[M++]]^v[S[M++]]^g[S[M++]]^h[S[M++]]^f[S[M++]]^u[S[M++]]^l[S[M++]]^o[S[M++]]^a[S[M++]]^s[S[M++]]^r[S[M++]];for(D+=15;M<D;)O=O>>>8^r[(O^S[M++])&255];return~O}function P(S,I){for(var O=I^-1,D=0,M=S.length,F=0,U=0;D<M;)F=S.charCodeAt(D++),F<128?O=O>>>8^r[(O^F)&255]:F<2048?(O=O>>>8^r[(O^(192|F>>6&31))&255],O=O>>>8^r[(O^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,U=S.charCodeAt(D++)&1023,O=O>>>8^r[(O^(240|F>>8&7))&255],O=O>>>8^r[(O^(128|F>>2&63))&255],O=O>>>8^r[(O^(128|U>>6&15|(F&3)<<4))&255],O=O>>>8^r[(O^(128|U&63))&255]):(O=O>>>8^r[(O^(224|F>>12&15))&255],O=O>>>8^r[(O^(128|F>>6&63))&255],O=O>>>8^r[(O^(128|F&63))&255]);return~O}return t.table=r,t.bstr=R,t.buf=j,t.str=P,t})(),It=(function(){var e={};e.version="1.2.1";function r(K,ae){for(var Z=K.split("/"),re=ae.split("/"),se=0,oe=0,we=Math.min(Z.length,re.length);se<we;++se){if(oe=Z[se].length-re[se].length)return oe;if(Z[se]!=re[se])return Z[se]<re[se]?-1:1}return Z.length-re.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(0,ae+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(ae+1)}function s(K,ae){typeof ae=="string"&&(ae=new Date(ae));var Z=ae.getHours();Z=Z<<6|ae.getMinutes(),Z=Z<<5|ae.getSeconds()>>>1,K.write_shift(2,Z);var re=ae.getFullYear()-1980;re=re<<4|ae.getMonth()+1,re=re<<5|ae.getDate(),K.write_shift(2,re)}function a(K){var ae=K.read_shift(2)&65535,Z=K.read_shift(2)&65535,re=new Date,se=Z&31;Z>>>=5;var oe=Z&15;Z>>>=4,re.setMilliseconds(0),re.setFullYear(Z+1980),re.setMonth(oe-1),re.setDate(se);var we=ae&31;ae>>>=5;var De=ae&63;return ae>>>=6,re.setHours(ae),re.setMinutes(De),re.setSeconds(we<<1),re}function o(K){Zs(K,0);for(var ae={},Z=0;K.l<=K.length-4;){var re=K.read_shift(2),se=K.read_shift(2),oe=K.l+se,we={};switch(re){case 21589:Z=K.read_shift(1),Z&1&&(we.mtime=K.read_shift(4)),se>5&&(Z&2&&(we.atime=K.read_shift(4)),Z&4&&(we.ctime=K.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}K.l=oe,ae[re]=we}return ae}var l;function u(){return l||(l={})}function f(K,ae){if(K[0]==80&&K[1]==75)return mi(K,ae);if((K[0]|32)==109&&(K[1]|32)==105)return Jr(K,ae);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var Z=3,re=512,se=0,oe=0,we=0,De=0,be=0,Te=[],_e=K.slice(0,512);Zs(_e,0);var We=h(_e);switch(Z=We[0],Z){case 3:re=512;break;case 4:re=4096;break;case 0:if(We[1]==0)return mi(K,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+Z)}re!==512&&(_e=K.slice(0,re),Zs(_e,28));var Qe=K.slice(0,re);g(_e,Z);var ct=_e.read_shift(4,"i");if(Z===3&&ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ct);_e.l+=4,we=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),De=_e.read_shift(4,"i"),se=_e.read_shift(4,"i"),be=_e.read_shift(4,"i"),oe=_e.read_shift(4,"i");for(var qe=-1,tt=0;tt<109&&(qe=_e.read_shift(4,"i"),!(qe<0));++tt)Te[tt]=qe;var pt=v(K,re);w(be,oe,pt,re,Te);var Fr=A(pt,we,Te,re);Fr[we].name="!Directory",se>0&&De!==U&&(Fr[De].name="!MiniFAT"),Fr[Te[0]].name="!FAT",Fr.fat_addrs=Te,Fr.ssz=re;var Br={},en=[],xs=[],Oa=[];k(we,Fr,pt,en,se,Br,xs,De),x(xs,Oa,en),en.shift();var bs={FileIndex:xs,FullPaths:Oa};return ae&&ae.raw&&(bs.raw={header:Qe,sectors:pt}),bs}function h(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(le,"Header Signature: "),K.l+=16;var ae=K.read_shift(2,"u");return[K.read_shift(2,"u"),ae]}function g(K,ae){var Z=9;switch(K.l+=2,Z=K.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+Z);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+Z);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+Z)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function v(K,ae){for(var Z=Math.ceil(K.length/ae)-1,re=[],se=1;se<Z;++se)re[se-1]=K.slice(se*ae,(se+1)*ae);return re[Z-1]=K.slice(Z*ae),re}function x(K,ae,Z){for(var re=0,se=0,oe=0,we=0,De=0,be=Z.length,Te=[],_e=[];re<be;++re)Te[re]=_e[re]=re,ae[re]=Z[re];for(;De<_e.length;++De)re=_e[De],se=K[re].L,oe=K[re].R,we=K[re].C,Te[re]===re&&(se!==-1&&Te[se]!==se&&(Te[re]=Te[se]),oe!==-1&&Te[oe]!==oe&&(Te[re]=Te[oe])),we!==-1&&(Te[we]=re),se!==-1&&re!=Te[re]&&(Te[se]=Te[re],_e.lastIndexOf(se)<De&&_e.push(se)),oe!==-1&&re!=Te[re]&&(Te[oe]=Te[re],_e.lastIndexOf(oe)<De&&_e.push(oe));for(re=1;re<be;++re)Te[re]===re&&(oe!==-1&&Te[oe]!==oe?Te[re]=Te[oe]:se!==-1&&Te[se]!==se&&(Te[re]=Te[se]));for(re=1;re<be;++re)if(K[re].type!==0){if(De=re,De!=Te[De])do De=Te[De],ae[re]=ae[De]+"/"+ae[re];while(De!==0&&Te[De]!==-1&&De!=Te[De]);Te[re]=-1}for(ae[0]+="/",re=1;re<be;++re)K[re].type!==2&&(ae[re]+="/")}function b(K,ae,Z){for(var re=K.start,se=K.size,oe=[],we=re;Z&&se>0&&we>=0;)oe.push(ae.slice(we*F,we*F+F)),se-=F,we=c0(Z,we*4);return oe.length===0?Me(0):Rs(oe).slice(0,K.size)}function w(K,ae,Z,re,se){var oe=U;if(K===U){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var we=Z[K],De=(re>>>2)-1;if(!we)return;for(var be=0;be<De&&(oe=c0(we,be*4))!==U;++be)se.push(oe);w(c0(we,re-4),ae-1,Z,re,se)}}function E(K,ae,Z,re,se){var oe=[],we=[];se||(se=[]);var De=re-1,be=0,Te=0;for(be=ae;be>=0;){se[be]=!0,oe[oe.length]=be,we.push(K[be]);var _e=Z[Math.floor(be*4/re)];if(Te=be*4&De,re<4+Te)throw new Error("FAT boundary crossed: "+be+" 4 "+re);if(!K[_e])break;be=c0(K[_e],Te)}return{nodes:oe,data:lG([we])}}function A(K,ae,Z,re){var se=K.length,oe=[],we=[],De=[],be=[],Te=re-1,_e=0,We=0,Qe=0,ct=0;for(_e=0;_e<se;++_e)if(De=[],Qe=_e+ae,Qe>=se&&(Qe-=se),!we[Qe]){be=[];var qe=[];for(We=Qe;We>=0;){qe[We]=!0,we[We]=!0,De[De.length]=We,be.push(K[We]);var tt=Z[Math.floor(We*4/re)];if(ct=We*4&Te,re<4+ct)throw new Error("FAT boundary crossed: "+We+" 4 "+re);if(!K[tt]||(We=c0(K[tt],ct),qe[We]))break}oe[Qe]={nodes:De,data:lG([be])}}return oe}function k(K,ae,Z,re,se,oe,we,De){for(var be=0,Te=re.length?2:0,_e=ae[K].data,We=0,Qe=0,ct;We<_e.length;We+=128){var qe=_e.slice(We,We+128);Zs(qe,64),Qe=qe.read_shift(2),ct=Jj(qe,0,Qe-Te),re.push(ct);var tt={name:ct,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},pt=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);pt!==0&&(tt.ct=R(qe,qe.l-8));var Fr=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Fr!==0&&(tt.mt=R(qe,qe.l-8)),tt.start=qe.read_shift(4,"i"),tt.size=qe.read_shift(4,"i"),tt.size<0&&tt.start<0&&(tt.size=tt.type=0,tt.start=U,tt.name=""),tt.type===5?(be=tt.start,se>0&&be!==U&&(ae[be].name="!StreamData")):tt.size>=4096?(tt.storage="fat",ae[tt.start]===void 0&&(ae[tt.start]=E(Z,tt.start,ae.fat_addrs,ae.ssz)),ae[tt.start].name=tt.name,tt.content=ae[tt.start].data.slice(0,tt.size)):(tt.storage="minifat",tt.size<0?tt.size=0:be!==U&&tt.start!==U&&ae[be]&&(tt.content=b(tt,ae[be].data,(ae[De]||{}).data))),tt.content&&Zs(tt.content,0),oe[ct]=tt,we.push(tt)}}function R(K,ae){return new Date((Oo(K,ae+4)/1e7*Math.pow(2,32)+Oo(K,ae)/1e7-11644473600)*1e3)}function j(K,ae){return u(),f(l.readFileSync(K),ae)}function P(K,ae){var Z=ae&&ae.type;switch(Z||lr&&Buffer.isBuffer(K)&&(Z="buffer"),Z||"base64"){case"file":return j(K,ae);case"base64":return f(Mo(Go(K)),ae);case"binary":return f(Mo(K),ae)}return f(K,ae)}function S(K,ae){var Z=ae||{},re=Z.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=re+"/",K.FileIndex[0]={name:re,type:5}),Z.CLSID&&(K.FileIndex[0].clsid=Z.CLSID),I(K)}function I(K){var ae="Sh33tJ5";if(!It.find(K,"/"+ae)){var Z=Me(4);Z[0]=55,Z[1]=Z[3]=50,Z[2]=54,K.FileIndex.push({name:ae,type:2,content:Z,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+ae),O(K)}}function O(K,ae){S(K);for(var Z=!1,re=!1,se=K.FullPaths.length-1;se>=0;--se){var oe=K.FileIndex[se];switch(oe.type){case 0:re?Z=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:re=!0,isNaN(oe.R*oe.L*oe.C)&&(Z=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(Z=!0);break;default:Z=!0;break}}if(!(!Z&&!ae)){var we=new Date(1987,1,19),De=0,be=Object.create?Object.create(null):{},Te=[];for(se=0;se<K.FullPaths.length;++se)be[K.FullPaths[se]]=!0,K.FileIndex[se].type!==0&&Te.push([K.FullPaths[se],K.FileIndex[se]]);for(se=0;se<Te.length;++se){var _e=n(Te[se][0]);re=be[_e],re||(Te.push([_e,{name:i(_e).replace("/",""),type:1,clsid:J,ct:we,mt:we,content:null}]),be[_e]=!0)}for(Te.sort(function(ct,qe){return r(ct[0],qe[0])}),K.FullPaths=[],K.FileIndex=[],se=0;se<Te.length;++se)K.FullPaths[se]=Te[se][0],K.FileIndex[se]=Te[se][1];for(se=0;se<Te.length;++se){var We=K.FileIndex[se],Qe=K.FullPaths[se];if(We.name=i(Qe).replace("/",""),We.L=We.R=We.C=-(We.color=1),We.size=We.content?We.content.length:0,We.start=0,We.clsid=We.clsid||J,se===0)We.C=Te.length>1?1:-1,We.size=0,We.type=5;else if(Qe.slice(-1)=="/"){for(De=se+1;De<Te.length&&n(K.FullPaths[De])!=Qe;++De);for(We.C=De>=Te.length?-1:De,De=se+1;De<Te.length&&n(K.FullPaths[De])!=n(Qe);++De);We.R=De>=Te.length?-1:De,We.type=1}else n(K.FullPaths[se+1]||"")==n(Qe)&&(We.R=se+1),We.type=2}}}function D(K,ae){var Z=ae||{};if(Z.fileType=="mad")return Ui(K,Z);switch(O(K),Z.fileType){case"zip":return Qr(K,Z)}var re=(function(ct){for(var qe=0,tt=0,pt=0;pt<ct.FileIndex.length;++pt){var Fr=ct.FileIndex[pt];if(Fr.content){var Br=Fr.content.length;Br>0&&(Br<4096?qe+=Br+63>>6:tt+=Br+511>>9)}}for(var en=ct.FullPaths.length+3>>2,xs=qe+7>>3,Oa=qe+127>>7,bs=xs+tt+en+Oa,oa=bs+127>>7,Ka=oa<=109?0:Math.ceil((oa-109)/127);bs+oa+Ka+127>>7>oa;)Ka=++oa<=109?0:Math.ceil((oa-109)/127);var gi=[1,Ka,oa,Oa,en,tt,qe,0];return ct.FileIndex[0].size=qe<<6,gi[7]=(ct.FileIndex[0].start=gi[0]+gi[1]+gi[2]+gi[3]+gi[4]+gi[5])+(gi[6]+7>>3),gi})(K),se=Me(re[7]<<9),oe=0,we=0;{for(oe=0;oe<8;++oe)se.write_shift(1,de[oe]);for(oe=0;oe<8;++oe)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),oe=0;oe<3;++oe)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,re[2]),se.write_shift(4,re[0]+re[1]+re[2]+re[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,re[3]?re[0]+re[1]+re[2]-1:U),se.write_shift(4,re[3]),se.write_shift(-4,re[1]?re[0]-1:U),se.write_shift(4,re[1]),oe=0;oe<109;++oe)se.write_shift(-4,oe<re[2]?re[1]+oe:-1)}if(re[1])for(we=0;we<re[1];++we){for(;oe<236+we*127;++oe)se.write_shift(-4,oe<re[2]?re[1]+oe:-1);se.write_shift(-4,we===re[1]-1?U:we+1)}var De=function(ct){for(we+=ct;oe<we-1;++oe)se.write_shift(-4,oe+1);ct&&(++oe,se.write_shift(-4,U))};for(we=oe=0,we+=re[1];oe<we;++oe)se.write_shift(-4,Q.DIFSECT);for(we+=re[2];oe<we;++oe)se.write_shift(-4,Q.FATSECT);De(re[3]),De(re[4]);for(var be=0,Te=0,_e=K.FileIndex[0];be<K.FileIndex.length;++be)_e=K.FileIndex[be],_e.content&&(Te=_e.content.length,!(Te<4096)&&(_e.start=we,De(Te+511>>9)));for(De(re[6]+7>>3);se.l&511;)se.write_shift(-4,Q.ENDOFCHAIN);for(we=oe=0,be=0;be<K.FileIndex.length;++be)_e=K.FileIndex[be],_e.content&&(Te=_e.content.length,!(!Te||Te>=4096)&&(_e.start=we,De(Te+63>>6)));for(;se.l&511;)se.write_shift(-4,Q.ENDOFCHAIN);for(oe=0;oe<re[4]<<2;++oe){var We=K.FullPaths[oe];if(!We||We.length===0){for(be=0;be<17;++be)se.write_shift(4,0);for(be=0;be<3;++be)se.write_shift(4,-1);for(be=0;be<12;++be)se.write_shift(4,0);continue}_e=K.FileIndex[oe],oe===0&&(_e.start=_e.size?_e.start-1:U);var Qe=oe===0&&Z.root||_e.name;if(Te=2*(Qe.length+1),se.write_shift(64,Qe,"utf16le"),se.write_shift(2,Te),se.write_shift(1,_e.type),se.write_shift(1,_e.color),se.write_shift(-4,_e.L),se.write_shift(-4,_e.R),se.write_shift(-4,_e.C),_e.clsid)se.write_shift(16,_e.clsid,"hex");else for(be=0;be<4;++be)se.write_shift(4,0);se.write_shift(4,_e.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,_e.start),se.write_shift(4,_e.size),se.write_shift(4,0)}for(oe=1;oe<K.FileIndex.length;++oe)if(_e=K.FileIndex[oe],_e.size>=4096)if(se.l=_e.start+1<<9,lr&&Buffer.isBuffer(_e.content))_e.content.copy(se,se.l,0,_e.size),se.l+=_e.size+511&-512;else{for(be=0;be<_e.size;++be)se.write_shift(1,_e.content[be]);for(;be&511;++be)se.write_shift(1,0)}for(oe=1;oe<K.FileIndex.length;++oe)if(_e=K.FileIndex[oe],_e.size>0&&_e.size<4096)if(lr&&Buffer.isBuffer(_e.content))_e.content.copy(se,se.l,0,_e.size),se.l+=_e.size+63&-64;else{for(be=0;be<_e.size;++be)se.write_shift(1,_e.content[be]);for(;be&63;++be)se.write_shift(1,0)}if(lr)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function M(K,ae){var Z=K.FullPaths.map(function(be){return be.toUpperCase()}),re=Z.map(function(be){var Te=be.split("/");return Te[Te.length-(be.slice(-1)=="/"?2:1)]}),se=!1;ae.charCodeAt(0)===47?(se=!0,ae=Z[0].slice(0,-1)+ae):se=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),we=se===!0?Z.indexOf(oe):re.indexOf(oe);if(we!==-1)return K.FileIndex[we];var De=!oe.match(Jy);for(oe=oe.replace(za,""),De&&(oe=oe.replace(Jy,"!")),we=0;we<Z.length;++we)if((De?Z[we].replace(Jy,"!"):Z[we]).replace(za,"")==oe||(De?re[we].replace(Jy,"!"):re[we]).replace(za,"")==oe)return K.FileIndex[we];return null}var F=64,U=-2,le="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function fe(K,ae,Z){u();var re=D(K,Z);l.writeFileSync(ae,re)}function ee(K){for(var ae=new Array(K.length),Z=0;Z<K.length;++Z)ae[Z]=String.fromCharCode(K[Z]);return ae.join("")}function ge(K,ae){var Z=D(K,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),l.writeFileSync(ae.filename,Z),Z;case"binary":return typeof Z=="string"?Z:ee(Z);case"base64":return vx(typeof Z=="string"?Z:ee(Z));case"buffer":if(lr)return Buffer.isBuffer(Z)?Z:Rd(Z);case"array":return typeof Z=="string"?Mo(Z):Z}return Z}var q;function z(K){try{var ae=K.InflateRaw,Z=new ae;if(Z._processChunk(new Uint8Array([3,0]),Z._finishFlushFlag),Z.bytesRead)q=K;else throw new Error("zlib does not expose bytesRead")}catch(re){console.error("cannot use native zlib: "+(re.message||re))}}function V(K,ae){if(!q)return aa(K,ae);var Z=q.InflateRaw,re=new Z,se=re._processChunk(K.slice(K.l),re._finishFlushFlag);return K.l+=re.bytesRead,se}function W(K){return q?q.deflateRawSync(K):nt(K)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(K){var ae=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var ie=typeof Uint8Array<"u",ve=ie?new Uint8Array(256):[],Ue=0;Ue<256;++Ue)ve[Ue]=ce(Ue);function G(K,ae){var Z=ve[K&255];return ae<=8?Z>>>8-ae:(Z=Z<<8|ve[K>>8&255],ae<=16?Z>>>16-ae:(Z=Z<<8|ve[K>>16&255],Z>>>24-ae))}function Je(K,ae){var Z=ae&7,re=ae>>>3;return(K[re]|(Z<=6?0:K[re+1]<<8))>>>Z&3}function Oe(K,ae){var Z=ae&7,re=ae>>>3;return(K[re]|(Z<=5?0:K[re+1]<<8))>>>Z&7}function rt(K,ae){var Z=ae&7,re=ae>>>3;return(K[re]|(Z<=4?0:K[re+1]<<8))>>>Z&15}function Xe(K,ae){var Z=ae&7,re=ae>>>3;return(K[re]|(Z<=3?0:K[re+1]<<8))>>>Z&31}function je(K,ae){var Z=ae&7,re=ae>>>3;return(K[re]|(Z<=1?0:K[re+1]<<8))>>>Z&127}function at(K,ae,Z){var re=ae&7,se=ae>>>3,oe=(1<<Z)-1,we=K[se]>>>re;return Z<8-re||(we|=K[se+1]<<8-re,Z<16-re)||(we|=K[se+2]<<16-re,Z<24-re)||(we|=K[se+3]<<24-re),we&oe}function wt(K,ae,Z){var re=ae&7,se=ae>>>3;return re<=5?K[se]|=(Z&7)<<re:(K[se]|=Z<<re&255,K[se+1]=(Z&7)>>8-re),ae+3}function Ot(K,ae,Z){var re=ae&7,se=ae>>>3;return Z=(Z&1)<<re,K[se]|=Z,ae+1}function Yr(K,ae,Z){var re=ae&7,se=ae>>>3;return Z<<=re,K[se]|=Z&255,Z>>>=8,K[se+1]=Z,ae+8}function Wr(K,ae,Z){var re=ae&7,se=ae>>>3;return Z<<=re,K[se]|=Z&255,Z>>>=8,K[se+1]=Z&255,K[se+2]=Z>>>8,ae+16}function Lr(K,ae){var Z=K.length,re=2*Z>ae?2*Z:ae+5,se=0;if(Z>=ae)return K;if(lr){var oe=$W(re);if(K.copy)K.copy(oe);else for(;se<K.length;++se)oe[se]=K[se];return oe}else if(ie){var we=new Uint8Array(re);if(we.set)we.set(K);else for(;se<Z;++se)we[se]=K[se];return we}return K.length=re,K}function Gt(K){for(var ae=new Array(K),Z=0;Z<K;++Z)ae[Z]=0;return ae}function Tr(K,ae,Z){var re=1,se=0,oe=0,we=0,De=0,be=K.length,Te=ie?new Uint16Array(32):Gt(32);for(oe=0;oe<32;++oe)Te[oe]=0;for(oe=be;oe<Z;++oe)K[oe]=0;be=K.length;var _e=ie?new Uint16Array(be):Gt(be);for(oe=0;oe<be;++oe)Te[se=K[oe]]++,re<se&&(re=se),_e[oe]=0;for(Te[0]=0,oe=1;oe<=re;++oe)Te[oe+16]=De=De+Te[oe-1]<<1;for(oe=0;oe<be;++oe)De=K[oe],De!=0&&(_e[oe]=Te[De+16]++);var We=0;for(oe=0;oe<be;++oe)if(We=K[oe],We!=0)for(De=G(_e[oe],re)>>re-We,we=(1<<re+4-We)-1;we>=0;--we)ae[De|we<<We]=We&15|oe<<4;return re}var Sn=ie?new Uint16Array(512):Gt(512),hi=ie?new Uint16Array(32):Gt(32);if(!ie){for(var xe=0;xe<512;++xe)Sn[xe]=0;for(xe=0;xe<32;++xe)hi[xe]=0}(function(){for(var K=[],ae=0;ae<32;ae++)K.push(5);Tr(K,hi,32);var Z=[];for(ae=0;ae<=143;ae++)Z.push(8);for(;ae<=255;ae++)Z.push(9);for(;ae<=279;ae++)Z.push(7);for(;ae<=287;ae++)Z.push(8);Tr(Z,Sn,288)})();var Ke=(function(){for(var ae=ie?new Uint8Array(32768):[],Z=0,re=0;Z<me.length-1;++Z)for(;re<me[Z+1];++re)ae[re]=Z;for(;re<32768;++re)ae[re]=29;var se=ie?new Uint8Array(259):[];for(Z=0,re=0;Z<ue.length-1;++Z)for(;re<ue[Z+1];++re)se[re]=Z;function oe(De,be){for(var Te=0;Te<De.length;){var _e=Math.min(65535,De.length-Te),We=Te+_e==De.length;for(be.write_shift(1,+We),be.write_shift(2,_e),be.write_shift(2,~_e&65535);_e-- >0;)be[be.l++]=De[Te++]}return be.l}function we(De,be){for(var Te=0,_e=0,We=ie?new Uint16Array(32768):[];_e<De.length;){var Qe=Math.min(65535,De.length-_e);if(Qe<10){for(Te=wt(be,Te,+(_e+Qe==De.length)),Te&7&&(Te+=8-(Te&7)),be.l=Te/8|0,be.write_shift(2,Qe),be.write_shift(2,~Qe&65535);Qe-- >0;)be[be.l++]=De[_e++];Te=be.l*8;continue}Te=wt(be,Te,+(_e+Qe==De.length)+2);for(var ct=0;Qe-- >0;){var qe=De[_e];ct=(ct<<5^qe)&32767;var tt=-1,pt=0;if((tt=We[ct])&&(tt|=_e&-32768,tt>_e&&(tt-=32768),tt<_e))for(;De[tt+pt]==De[_e+pt]&&pt<250;)++pt;if(pt>2){qe=se[pt],qe<=22?Te=Yr(be,Te,ve[qe+1]>>1)-1:(Yr(be,Te,3),Te+=5,Yr(be,Te,ve[qe-23]>>5),Te+=3);var Fr=qe<8?0:qe-4>>2;Fr>0&&(Wr(be,Te,pt-ue[qe]),Te+=Fr),qe=ae[_e-tt],Te=Yr(be,Te,ve[qe]>>3),Te-=3;var Br=qe<4?0:qe-2>>1;Br>0&&(Wr(be,Te,_e-tt-me[qe]),Te+=Br);for(var en=0;en<pt;++en)We[ct]=_e&32767,ct=(ct<<5^De[_e])&32767,++_e;Qe-=pt-1}else qe<=143?qe=qe+48:Te=Ot(be,Te,1),Te=Yr(be,Te,ve[qe]),We[ct]=_e&32767,++_e}Te=Yr(be,Te,0)-1}return be.l=(Te+7)/8|0,be.l}return function(be,Te){return be.length<8?oe(be,Te):we(be,Te)}})();function nt(K){var ae=Me(50+Math.floor(K.length*1.1)),Z=Ke(K,ae);return ae.slice(0,Z)}var jt=ie?new Uint16Array(32768):Gt(32768),Kt=ie?new Uint16Array(32768):Gt(32768),rr=ie?new Uint16Array(128):Gt(128),br=1,Fi=1;function Xr(K,ae){var Z=Xe(K,ae)+257;ae+=5;var re=Xe(K,ae)+1;ae+=5;var se=rt(K,ae)+4;ae+=4;for(var oe=0,we=ie?new Uint8Array(19):Gt(19),De=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],be=1,Te=ie?new Uint8Array(8):Gt(8),_e=ie?new Uint8Array(8):Gt(8),We=we.length,Qe=0;Qe<se;++Qe)we[Y[Qe]]=oe=Oe(K,ae),be<oe&&(be=oe),Te[oe]++,ae+=3;var ct=0;for(Te[0]=0,Qe=1;Qe<=be;++Qe)_e[Qe]=ct=ct+Te[Qe-1]<<1;for(Qe=0;Qe<We;++Qe)(ct=we[Qe])!=0&&(De[Qe]=_e[ct]++);var qe=0;for(Qe=0;Qe<We;++Qe)if(qe=we[Qe],qe!=0){ct=ve[De[Qe]]>>8-qe;for(var tt=(1<<7-qe)-1;tt>=0;--tt)rr[ct|tt<<qe]=qe&7|Qe<<3}var pt=[];for(be=1;pt.length<Z+re;)switch(ct=rr[je(K,ae)],ae+=ct&7,ct>>>=3){case 16:for(oe=3+Je(K,ae),ae+=2,ct=pt[pt.length-1];oe-- >0;)pt.push(ct);break;case 17:for(oe=3+Oe(K,ae),ae+=3;oe-- >0;)pt.push(0);break;case 18:for(oe=11+je(K,ae),ae+=7;oe-- >0;)pt.push(0);break;default:pt.push(ct),be<ct&&(be=ct);break}var Fr=pt.slice(0,Z),Br=pt.slice(Z);for(Qe=Z;Qe<286;++Qe)Fr[Qe]=0;for(Qe=re;Qe<30;++Qe)Br[Qe]=0;return br=Tr(Fr,jt,286),Fi=Tr(Br,Kt,30),ae}function Dl(K,ae){if(K[0]==3&&!(K[1]&3))return[ih(ae),2];for(var Z=0,re=0,se=$W(ae||1<<18),oe=0,we=se.length>>>0,De=0,be=0;(re&1)==0;){if(re=Oe(K,Z),Z+=3,re>>>1)re>>1==1?(De=9,be=5):(Z=Xr(K,Z),De=br,be=Fi);else{Z&7&&(Z+=8-(Z&7));var Te=K[Z>>>3]|K[(Z>>>3)+1]<<8;if(Z+=32,Te>0)for(!ae&&we<oe+Te&&(se=Lr(se,oe+Te),we=se.length);Te-- >0;)se[oe++]=K[Z>>>3],Z+=8;continue}for(;;){!ae&&we<oe+32767&&(se=Lr(se,oe+32767),we=se.length);var _e=at(K,Z,De),We=re>>>1==1?Sn[_e]:jt[_e];if(Z+=We&15,We>>>=4,(We>>>8&255)===0)se[oe++]=We;else{if(We==256)break;We-=257;var Qe=We<8?0:We-4>>2;Qe>5&&(Qe=0);var ct=oe+ue[We];Qe>0&&(ct+=at(K,Z,Qe),Z+=Qe),_e=at(K,Z,be),We=re>>>1==1?hi[_e]:Kt[_e],Z+=We&15,We>>>=4;var qe=We<4?0:We-2>>1,tt=me[We];for(qe>0&&(tt+=at(K,Z,qe),Z+=qe),!ae&&we<ct&&(se=Lr(se,ct+100),we=se.length);oe<ct;)se[oe]=se[oe-tt],++oe}}}return ae?[se,Z+7>>>3]:[se.slice(0,oe),Z+7>>>3]}function aa(K,ae){var Z=K.slice(K.l||0),re=Dl(Z,ae);return K.l+=re[1],re[0]}function ss(K,ae){if(K)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function mi(K,ae){var Z=K;Zs(Z,0);var re=[],se=[],oe={FileIndex:re,FullPaths:se};S(oe,{root:ae.root});for(var we=Z.length-4;(Z[we]!=80||Z[we+1]!=75||Z[we+2]!=5||Z[we+3]!=6)&&we>=0;)--we;Z.l=we+4,Z.l+=4;var De=Z.read_shift(2);Z.l+=6;var be=Z.read_shift(4);for(Z.l=be,we=0;we<De;++we){Z.l+=20;var Te=Z.read_shift(4),_e=Z.read_shift(4),We=Z.read_shift(2),Qe=Z.read_shift(2),ct=Z.read_shift(2);Z.l+=8;var qe=Z.read_shift(4),tt=o(Z.slice(Z.l+We,Z.l+We+Qe));Z.l+=We+Qe+ct;var pt=Z.l;Z.l=qe+4,yo(Z,Te,_e,oe,tt),Z.l=pt}return oe}function yo(K,ae,Z,re,se){K.l+=2;var oe=K.read_shift(2),we=K.read_shift(2),De=a(K);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var be=K.read_shift(4),Te=K.read_shift(4),_e=K.read_shift(4),We=K.read_shift(2),Qe=K.read_shift(2),ct="",qe=0;qe<We;++qe)ct+=String.fromCharCode(K[K.l++]);if(Qe){var tt=o(K.slice(K.l,K.l+Qe));(tt[21589]||{}).mt&&(De=tt[21589].mt),((se||{})[21589]||{}).mt&&(De=se[21589].mt)}K.l+=Qe;var pt=K.slice(K.l,K.l+Te);switch(we){case 8:pt=V(K,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var Fr=!1;oe&8&&(be=K.read_shift(4),be==134695760&&(be=K.read_shift(4),Fr=!0),Te=K.read_shift(4),_e=K.read_shift(4)),Te!=ae&&ss(Fr,"Bad compressed size: "+ae+" != "+Te),_e!=Z&&ss(Fr,"Bad uncompressed size: "+Z+" != "+_e),Zr(re,ct,pt,{unsafe:!0,mt:De})}function Qr(K,ae){var Z=ae||{},re=[],se=[],oe=Me(1),we=Z.compression?8:0,De=0,be=0,Te=0,_e=0,We=0,Qe=K.FullPaths[0],ct=Qe,qe=K.FileIndex[0],tt=[],pt=0;for(be=1;be<K.FullPaths.length;++be)if(ct=K.FullPaths[be].slice(Qe.length),qe=K.FileIndex[be],!(!qe.size||!qe.content||ct=="Sh33tJ5")){var Fr=_e,Br=Me(ct.length);for(Te=0;Te<ct.length;++Te)Br.write_shift(1,ct.charCodeAt(Te)&127);Br=Br.slice(0,Br.l),tt[We]=mze.buf(qe.content,0);var en=qe.content;we==8&&(en=W(en)),oe=Me(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,De),oe.write_shift(2,we),qe.mt?s(oe,qe.mt):oe.write_shift(4,0),oe.write_shift(-4,tt[We]),oe.write_shift(4,en.length),oe.write_shift(4,qe.content.length),oe.write_shift(2,Br.length),oe.write_shift(2,0),_e+=oe.length,re.push(oe),_e+=Br.length,re.push(Br),_e+=en.length,re.push(en),oe=Me(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,De),oe.write_shift(2,we),oe.write_shift(4,0),oe.write_shift(-4,tt[We]),oe.write_shift(4,en.length),oe.write_shift(4,qe.content.length),oe.write_shift(2,Br.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Fr),pt+=oe.l,se.push(oe),pt+=Br.length,se.push(Br),++We}return oe=Me(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,We),oe.write_shift(2,We),oe.write_shift(4,pt),oe.write_shift(4,_e),oe.write_shift(2,0),Rs([Rs(re),Rs(se),oe])}var Bi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ct(K,ae){if(K.ctype)return K.ctype;var Z=K.name||"",re=Z.match(/\.([^\.]+)$/);return re&&Bi[re[1]]||ae&&(re=(Z=ae).match(/[\.\\]([^\.\\])+$/),re&&Bi[re[1]])?Bi[re[1]]:"application/octet-stream"}function wr(K){for(var ae=vx(K),Z=[],re=0;re<ae.length;re+=76)Z.push(ae.slice(re,re+76));return Z.join(`\r
`)+`\r
`}function In(K){var ae=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Te){var _e=Te.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var Z=[],re=ae.split(`\r
`),se=0;se<re.length;++se){var oe=re[se];if(oe.length==0){Z.push("");continue}for(var we=0;we<oe.length;){var De=76,be=oe.slice(we,we+De);be.charAt(De-1)=="="?De--:be.charAt(De-2)=="="?De-=2:be.charAt(De-3)=="="&&(De-=3),be=oe.slice(we,we+De),we+=De,we<oe.length&&(be+="="),Z.push(be)}}return Z.join(`\r
`)}function ri(K){for(var ae=[],Z=0;Z<K.length;++Z){for(var re=K[Z];Z<=K.length&&re.charAt(re.length-1)=="=";)re=re.slice(0,re.length-1)+K[++Z];ae.push(re)}for(var se=0;se<ae.length;++se)ae[se]=ae[se].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Mo(ae.join(`\r
`))}function ni(K,ae,Z){for(var re="",se="",oe="",we,De=0;De<10;++De){var be=ae[De];if(!be||be.match(/^\s*$/))break;var Te=be.match(/^(.*?):\s*([^\s].*)$/);if(Te)switch(Te[1].toLowerCase()){case"content-location":re=Te[2].trim();break;case"content-type":oe=Te[2].trim();break;case"content-transfer-encoding":se=Te[2].trim();break}}switch(++De,se.toLowerCase()){case"base64":we=Mo(Go(ae.slice(De).join("")));break;case"quoted-printable":we=ri(ae.slice(De));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var _e=Zr(K,re.slice(Z.length),we,{unsafe:!0});oe&&(_e.ctype=oe)}function Jr(K,ae){if(ee(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var Z=ae&&ae.root||"",re=(lr&&Buffer.isBuffer(K)?K.toString("binary"):ee(K)).split(`\r
`),se=0,oe="";for(se=0;se<re.length;++se)if(oe=re[se],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),Z||(Z=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,Z.length)!=Z))for(;Z.length>0&&(Z=Z.slice(0,Z.length-1),Z=Z.slice(0,Z.lastIndexOf("/")+1),oe.slice(0,Z.length)!=Z););var we=(re[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var De="--"+(we[1]||""),be=[],Te=[],_e={FileIndex:be,FullPaths:Te};S(_e);var We,Qe=0;for(se=0;se<re.length;++se){var ct=re[se];ct!==De&&ct!==De+"--"||(Qe++&&ni(_e,re.slice(We,se),Z),We=se)}return _e}function Ui(K,ae){var Z=ae||{},re=Z.boundary||"SheetJS";re="------="+re;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+re.slice(2)+'"',"","",""],oe=K.FullPaths[0],we=oe,De=K.FileIndex[0],be=1;be<K.FullPaths.length;++be)if(we=K.FullPaths[be].slice(oe.length),De=K.FileIndex[be],!(!De.size||!De.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var Te=De.content,_e=lr&&Buffer.isBuffer(Te)?Te.toString("binary"):ee(Te),We=0,Qe=Math.min(1024,_e.length),ct=0,qe=0;qe<=Qe;++qe)(ct=_e.charCodeAt(qe))>=32&&ct<128&&++We;var tt=We>=Qe*4/5;se.push(re),se.push("Content-Location: "+(Z.root||"file:///C:/SheetJS/")+we),se.push("Content-Transfer-Encoding: "+(tt?"quoted-printable":"base64")),se.push("Content-Type: "+Ct(De,we)),se.push(""),se.push(tt?In(_e):wr(_e))}return se.push(re+`--\r
`),se.join(`\r
`)}function ys(K){var ae={};return S(ae,K),ae}function Zr(K,ae,Z,re){var se=re&&re.unsafe;se||S(K);var oe=!se&&It.find(K,ae);if(!oe){var we=K.FullPaths[0];ae.slice(0,we.length)==we?we=ae:(we.slice(-1)!="/"&&(we+="/"),we=(we+ae).replace("//","/")),oe={name:i(ae),type:2},K.FileIndex.push(oe),K.FullPaths.push(we),se||It.utils.cfb_gc(K)}return oe.content=Z,oe.size=Z?Z.length:0,re&&(re.CLSID&&(oe.clsid=re.CLSID),re.mt&&(oe.mt=re.mt),re.ct&&(oe.ct=re.ct)),oe}function Ai(K,ae){S(K);var Z=It.find(K,ae);if(Z){for(var re=0;re<K.FileIndex.length;++re)if(K.FileIndex[re]==Z)return K.FileIndex.splice(re,1),K.FullPaths.splice(re,1),!0}return!1}function Us(K,ae,Z){S(K);var re=It.find(K,ae);if(re){for(var se=0;se<K.FileIndex.length;++se)if(K.FileIndex[se]==re)return K.FileIndex[se].name=i(Z),K.FullPaths[se]=Z,!0}return!1}function pi(K){O(K,!0)}return e.find=M,e.read=P,e.parse=f,e.write=ge,e.writeFile=fe,e.utils={cfb_new:ys,cfb_add:Zr,cfb_del:Ai,cfb_mov:Us,cfb_gc:pi,ReadShift:x1,CheckField:yoe,prep_blob:Zs,bconcat:Rs,use_zlib:z,_deflateRaw:nt,_inflateRaw:aa,consts:Q},e})();function pze(t){return typeof t=="string"?$4(t):Array.isArray(t)?VVe(t):t}function kb(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=$4(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Yc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([pze(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=xh(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function gze(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Si(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function QW(t,e){for(var r=[],n=Si(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function q4(t){for(var e=[],r=Si(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function W4(t){for(var e=[],r=Si(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function vze(t){for(var e=[],r=Si(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var IT=new Date(1899,11,30,0,0,0);function hs(t,e){var r=t.getTime(),n=IT.getTime()+(t.getTimezoneOffset()-IT.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var Qae=new Date,yze=IT.getTime()+(Qae.getTimezoneOffset()-IT.getTimezoneOffset())*6e4,JW=Qae.getTimezoneOffset();function G4(t){var e=new Date;return e.setTime(t*24*60*60*1e3+yze),e.getTimezoneOffset()!==JW&&e.setTime(e.getTime()+(e.getTimezoneOffset()-JW)*6e4),e}function xze(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var ZW=new Date("2017-02-19T19:06:09.000Z"),Jae=isNaN(ZW.getFullYear())?new Date("2/19/17"):ZW,bze=Jae.getFullYear()==2017;function $n(t,e){var r=new Date(t);if(bze)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(Jae.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function em(t,e){if(lr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Yc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Yc(Bae(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Yc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Yc(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Hn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Hn(t[r]));return e}function Ei(t,e){for(var r="";r.length<e;)r+=t;return r}function hc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var wze=["january","february","march","april","may","june","july","august","september","october","november","december"];function Gg(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&wze.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var _ze=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function Zae(t){return t?t.content&&t.type?em(t.content,!0):t.data?Qy(t.data):t.asNodeBuffer&&lr?Qy(t.asNodeBuffer().toString("binary")):t.asBinary?Qy(t.asBinary()):t._data&&t._data.getContent?Qy(em(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function eoe(t){if(!t)return null;if(t.data)return VW(t.data);if(t.asNodeBuffer&&lr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?VW(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function Eze(t){return t&&t.name.slice(-4)===".bin"?eoe(t):Zae(t)}function yl(t,e){for(var r=t.FullPaths||Si(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function Wj(t,e){var r=yl(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Ki(t,e,r){if(!r)return Eze(Wj(t,e));if(!e)return null;try{return Ki(t,e)}catch{return null}}function Lo(t,e,r){if(!r)return Zae(Wj(t,e));if(!e)return null;try{return Lo(t,e)}catch{return null}}function Tze(t,e,r){return eoe(Wj(t,e))}function eG(t){for(var e=t.FullPaths||Si(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ir(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return lr?n=Rd(r):n=zVe(r),It.utils.cfb_add(t,e,n)}It.utils.cfb_add(t,e,r)}else t.file(e,r)}function Gj(){return It.utils.cfb_new()}function toe(t,e){switch(e.type){case"base64":return It.read(t,{type:"base64"});case"binary":return It.read(t,{type:"binary"});case"buffer":case"array":return It.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function Zy(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Mi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,Sze=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,tG=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,Aze=/<[^>]*>/g,Ia=Mi.match(tG)?tG:Aze,kze=/<\w*:/,Cze=/<(\/?)\w+:/;function Ht(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(Sze),o=0,l="",u=0,f="",h="",g=1;if(a)for(u=0;u!=a.length;++u){for(h=a[u],s=0;s!=h.length&&h.charCodeAt(s)!==61;++s);for(f=h.slice(0,s).trim();h.charCodeAt(s+1)==32;)++s;for(g=(i=h.charCodeAt(s+1))==34||i==39?1:0,l=h.slice(s+1+g,h.length-g),o=0;o!=f.length&&f.charCodeAt(o)!==58;++o);if(o===f.length)f.indexOf("_")>0&&(f=f.slice(0,f.indexOf("_"))),n[f]=l,n[f.toLowerCase()]=l;else{var v=(o===5&&f.slice(0,5)==="xmlns"?"xmlns":"")+f.slice(o+1);if(n[v]&&f.slice(o-3,o)=="ext")continue;n[v]=l,n[v.toLowerCase()]=l}}return n}function mu(t){return t.replace(Cze,"<$1")}var roe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},Kj=q4(roe),kr=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return roe[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}})(),Yj=/[&<>'"]/g,Nze=/[\u0000-\u0008\u000b-\u001f]/g;function cn(t){var e=t+"";return e.replace(Yj,function(r){return Kj[r]}).replace(Nze,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function rG(t){return cn(t).replace(/ /g,"_x0020_")}var noe=/[\u0000-\u001f]/g;function Xj(t){var e=t+"";return e.replace(Yj,function(r){return Kj[r]}).replace(/\n/g,"<br/>").replace(noe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function Ize(t){var e=t+"";return e.replace(Yj,function(r){return Kj[r]}).replace(noe,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var nG=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function Oze(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function Un(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function z3(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function iG(t){var e=ih(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function sG(t){return Rd(t,"binary").toString("utf8")}var G_="foo bar baz",En=lr&&(sG(G_)==z3(G_)&&sG||iG(G_)==z3(G_)&&iG)||z3,Yc=lr?function(t){return Rd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},xx=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),ioe=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),Rze=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),Pze=/<\/?(?:vt:)?variant>/g,jze=/<(?:vt:)([^>]*)>([\s\S]*)</;function aG(t,e){var r=Ht(t),n=t.match(Rze(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(Pze,"").match(jze);a&&i.push({v:En(a[2]),t:a[1]})}),i}var soe=/(^\s|\s$|\n)/;function ta(t,e){return"<"+t+(e.match(soe)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function bx(t){return Si(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function it(t,e,r){return"<"+t+(r!=null?bx(r):"")+(e!=null?(e.match(soe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function HO(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function Dze(t,e){switch(typeof t){case"string":var r=it("vt:lpwstr",cn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return it((t|0)==t?"vt:i4":"vt:r8",cn(String(t)));case"boolean":return it("vt:bool",t?"true":"false")}if(t instanceof Date)return it("vt:filetime",HO(t));throw new Error("Unable to serialize "+t)}function Qj(t){if(lr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return En(xh($j(t)));throw new Error("Bad input format: expected Buffer or string")}var wx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,ds={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},bm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Io={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function Mze(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function Lze(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var oG=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},lG=lr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Rd(e)})):oG(t)}:oG,cG=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Yu(t,i)));return n.join("").replace(za,"")},Jj=lr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(za,""):cG(t,e,r)}:cG,uG=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},aoe=lr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):uG(t,e,r)}:uG,dG=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Op(t,i)));return n.join("")},Cb=lr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):dG(e,r,n)}:dG,ooe=function(t,e){var r=Oo(t,e);return r>0?Cb(t,e+4,e+4+r-1):""},loe=ooe,coe=function(t,e){var r=Oo(t,e);return r>0?Cb(t,e+4,e+4+r-1):""},uoe=coe,doe=function(t,e){var r=2*Oo(t,e);return r>0?Cb(t,e+4,e+4+r-1):""},foe=doe,hoe=function(e,r){var n=Oo(e,r);return n>0?Jj(e,r+4,r+4+n):""},moe=hoe,poe=function(t,e){var r=Oo(t,e);return r>0?Cb(t,e+4,e+4+r):""},goe=poe,voe=function(t,e){return Mze(t,e)},OT=voe,Zj=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};lr&&(loe=function(e,r){if(!Buffer.isBuffer(e))return ooe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},uoe=function(e,r){if(!Buffer.isBuffer(e))return coe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},foe=function(e,r){if(!Buffer.isBuffer(e))return doe(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},moe=function(e,r){if(!Buffer.isBuffer(e))return hoe(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},goe=function(e,r){if(!Buffer.isBuffer(e))return poe(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},OT=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):voe(e,r)},Zj=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Op=function(t,e){return t[e]},Yu=function(t,e){return t[e+1]*256+t[e]},Fze=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},Oo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},c0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},Bze=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function x1(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,lr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Yu(this,u)),u+=2;t*=2;break;case"utf8":r=Cb(this,this.l,this.l+t);break;case"utf16le":t*=2,r=Jj(this,this.l,this.l+t);break;case"wstr":return x1.call(this,t,"dbcs");case"lpstr-ansi":r=loe(this,this.l),t=4+Oo(this,this.l);break;case"lpstr-cp":r=uoe(this,this.l),t=4+Oo(this,this.l);break;case"lpwstr":r=foe(this,this.l),t=4+2*Oo(this,this.l);break;case"lpp4":t=4+Oo(this,this.l),r=moe(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+Oo(this,this.l),r=goe(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Op(this,this.l+t++))!==0;)s.push(W_(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=Yu(this,this.l+t))!==0;)s.push(W_(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Op(this,u),this.l=u+1,o=x1.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(W_(Yu(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Op(this,u),this.l=u+1,o=x1.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(W_(Op(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Op(this,this.l),this.l++,n;case 2:return n=(e==="i"?Fze:Yu)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?c0:Bze)(this,this.l),this.l+=4,n):(i=Oo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=OT(this,this.l):i=OT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=aoe(this,this.l,t);break}}return this.l+=t,r}var Uze=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},Vze=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},zze=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function $ze(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)zze(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,Uze(this,e,this.l);break;case 8:if(n=8,r==="f"){Lze(this,e,this.l);break}case 16:break;case-4:n=4,Vze(this,e,this.l);break}return this.l+=n,this}function yoe(t,e){var r=aoe(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function Zs(t,e){t.l=e,t.read_shift=x1,t.chk=yoe,t.write_shift=$ze}function Ca(t,e){t.l+=e}function Me(t){var e=ih(t);return Zs(e,0),e}function Pd(t,e,r){if(t){var n,i,s;Zs(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var u=kx[o]||kx[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var f=u.f&&u.f(t,s,r);if(t.l=l,e(f,u,o))return}}}function fo(){var t=[],e=lr?256:2048,r=function(u){var f=Me(u);return Zs(f,0),f},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),Rs(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function He(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=kx[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&Zj(r)&&t.push(r)}}function b1(t,e,r){var n=Hn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function fG(t,e,r){var n=Hn(t);return n.s=b1(n.s,e.s,r),n.e=b1(n.e,e.s,r),n}function w1(t,e){if(t.cRel&&t.c<0)for(t=Hn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Hn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Ut(t);return!t.cRel&&t.cRel!=null&&(r=Wze(r)),!t.rRel&&t.rRel!=null&&(r=Hze(r)),r}function $3(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+ui(t.s.c)+":"+(t.e.cRel?"":"$")+ui(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Di(t.s.r)+":"+(t.e.rRel?"":"$")+Di(t.e.r):w1(t.s,e.biff)+":"+w1(t.e,e.biff)}function eD(t){return parseInt(qze(t),10)-1}function Di(t){return""+(t+1)}function Hze(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function qze(t){return t.replace(/\$(\d+)$/,"$1")}function tD(t){for(var e=Gze(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function ui(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function Wze(t){return t.replace(/^([A-Z])/,"$$$1")}function Gze(t){return t.replace(/^\$([A-Z])/,"$1")}function Kze(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function di(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Ut(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function po(t){var e=t.indexOf(":");return e==-1?{s:di(t),e:di(t)}:{s:di(t.slice(0,e)),e:di(t.slice(e+1))}}function tr(t,e){return typeof e>"u"||typeof e=="number"?tr(t.s,t.e):(typeof t!="string"&&(t=Ut(t)),typeof e!="string"&&(e=Ut(e)),t==e?t:t+":"+e)}function Cr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function hG(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Ol(t.z,r?hs(e):e)}catch{}try{return t.w=Ol((t.XF||{}).numFmtId||(r?14:0),r?hs(e):e)}catch{return""+e}}function wd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?jd[t.v]||t.v:e==null?hG(t,t.v):hG(t,e))}function bh(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function xoe(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?di(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var f=Cr(s["!ref"]);u.s.c=f.s.c,u.s.r=f.s.r,u.e.c=Math.max(u.e.c,f.e.c),u.e.r=Math.max(u.e.r,f.e.r),a==-1&&(u.e.r=a=f.e.r+1)}for(var h=0;h!=e.length;++h)if(e[h]){if(!Array.isArray(e[h]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[h].length;++g)if(!(typeof e[h][g]>"u")){var v={v:e[h][g]},x=a+h,b=o+g;if(u.s.r>x&&(u.s.r=x),u.s.c>b&&(u.s.c=b),u.e.r<x&&(u.e.r=x),u.e.c<b&&(u.e.c=b),e[h][g]&&typeof e[h][g]=="object"&&!Array.isArray(e[h][g])&&!(e[h][g]instanceof Date))v=e[h][g];else if(Array.isArray(v.v)&&(v.f=e[h][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Mt[14],n.cellDates?(v.t="d",v.w=Ol(v.z,hs(v.v))):(v.t="n",v.v=hs(v.v),v.w=Ol(v.z,v.v))):v.t="s";if(i)s[x]||(s[x]=[]),s[x][b]&&s[x][b].z&&(v.z=s[x][b].z),s[x][b]=v;else{var w=Ut({c:b,r:x});s[w]&&s[w].z&&(v.z=s[w].z),s[w]=v}}}return u.s.c<1e7&&(s["!ref"]=tr(u)),s}function Iv(t,e){return xoe(null,t,e)}function Yze(t){return t.read_shift(4,"i")}function mc(t,e){return e||(e=Me(4)),e.write_shift(4,t),e}function Aa(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Ps(t,e){var r=!1;return e==null&&(r=!0,e=Me(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function Xze(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function Qze(t,e){return e||(e=Me(4)),e.write_shift(2,0),e.write_shift(2,0),e}function rD(t,e){var r=t.l,n=t.read_shift(1),i=Aa(t),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(Xze(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function Jze(t,e){var r=!1;return e==null&&(r=!0,e=Me(15+4*t.t.length)),e.write_shift(1,0),Ps(t.t,e),r?e.slice(0,e.l):e}var Zze=rD;function e$e(t,e){var r=!1;return e==null&&(r=!0,e=Me(23+4*t.t.length)),e.write_shift(1,1),Ps(t.t,e),e.write_shift(4,1),Qze({},e),r?e.slice(0,e.l):e}function jl(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function wm(t,e){return e==null&&(e=Me(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function _m(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Em(t,e){return e==null&&(e=Me(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var t$e=Aa,boe=Ps;function nD(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function RT(t,e){var r=!1;return e==null&&(r=!0,e=Me(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var r$e=Aa,qO=nD,iD=RT;function sD(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?OT([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):c0(e,0)>>2;return r?i/100:i}function woe(t,e){e==null&&(e=Me(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function _oe(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function n$e(t,e){return e||(e=Me(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Tm=_oe,Ov=n$e;function ba(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function tm(t,e){return(e||Me(8)).write_shift(8,t,"f")}function i$e(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=N0[i];u&&(e.rgb=Ex(u));break;case 2:e.rgb=Ex([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function PT(t,e){if(e||(e=Me(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function s$e(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function a$e(t,e){e||(e=Me(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function Eoe(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function o$e(t){return Eoe(t,1)}function l$e(t){return Eoe(t,2)}var aD=2,to=3,K_=11,mG=12,jT=19,Y_=64,c$e=65,u$e=71,d$e=4108,f$e=4126,ks=80,Toe=81,h$e=[ks,Toe],WO={1:{n:"CodePage",t:aD},2:{n:"Category",t:ks},3:{n:"PresentationFormat",t:ks},4:{n:"ByteCount",t:to},5:{n:"LineCount",t:to},6:{n:"ParagraphCount",t:to},7:{n:"SlideCount",t:to},8:{n:"NoteCount",t:to},9:{n:"HiddenCount",t:to},10:{n:"MultimediaClipCount",t:to},11:{n:"ScaleCrop",t:K_},12:{n:"HeadingPairs",t:d$e},13:{n:"TitlesOfParts",t:f$e},14:{n:"Manager",t:ks},15:{n:"Company",t:ks},16:{n:"LinksUpToDate",t:K_},17:{n:"CharacterCount",t:to},19:{n:"SharedDoc",t:K_},22:{n:"HyperlinksChanged",t:K_},23:{n:"AppVersion",t:to,p:"version"},24:{n:"DigSig",t:c$e},26:{n:"ContentType",t:ks},27:{n:"ContentStatus",t:ks},28:{n:"Language",t:ks},29:{n:"Version",t:ks},255:{},2147483648:{n:"Locale",t:jT},2147483651:{n:"Behavior",t:jT},1919054434:{}},GO={1:{n:"CodePage",t:aD},2:{n:"Title",t:ks},3:{n:"Subject",t:ks},4:{n:"Author",t:ks},5:{n:"Keywords",t:ks},6:{n:"Comments",t:ks},7:{n:"Template",t:ks},8:{n:"LastAuthor",t:ks},9:{n:"RevNumber",t:ks},10:{n:"EditTime",t:Y_},11:{n:"LastPrinted",t:Y_},12:{n:"CreatedDate",t:Y_},13:{n:"ModifiedDate",t:Y_},14:{n:"PageCount",t:to},15:{n:"WordCount",t:to},16:{n:"CharCount",t:to},17:{n:"Thumbnail",t:u$e},18:{n:"Application",t:ks},19:{n:"DocSecurity",t:to},255:{},2147483648:{n:"Locale",t:jT},2147483651:{n:"Behavior",t:jT},1919054434:{}},pG={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},m$e=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function p$e(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var g$e=p$e([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),N0=Hn(g$e),jd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Soe={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},KO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},X_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function oD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function v$e(t){var e=oD();if(!t||!t.match)return e;var r={};if((t.match(Ia)||[]).forEach(function(n){var i=Ht(n);switch(i[0].replace(kze,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[KO[i.ContentType]]!==void 0&&e[KO[i.ContentType]].push(i.PartName);break}}),e.xmlns!==ds.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function Aoe(t,e){var r=vze(KO),n=[],i;n[n.length]=Mi,n[n.length]=it("Types",null,{xmlns:ds.CT,"xmlns:xsd":ds.xsd,"xmlns:xsi":ds.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return it("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=it("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:X_[l][e.bookType]||X_[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=it("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:X_[l][e.bookType]||X_[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=it("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var cr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function _x(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function _1(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ia)||[]).forEach(function(i){var s=Ht(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:Zy(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}function og(t){var e=[Mi,it("Relationships",null,{xmlns:ds.RELS})];return Si(t["!id"]).forEach(function(r){e[e.length]=it("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function an(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[cr.HLINK,cr.XPATH,cr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var y$e="application/vnd.oasis.opendocument.spreadsheet";function x$e(t,e){for(var r=Qj(t),n,i;n=wx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Ht(n[0],!1),i.path=="/"&&i.type!==y$e)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function b$e(t){var e=[Mi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function gG(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function w$e(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function _$e(t){var e=[Mi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(gG(t[r][0],t[r][1])),e.push(w$e("",t[r][0]));return e.push(gG("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function koe(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+AT.version+"</meta:generator></office:meta></office:document-meta>"}var Cl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],E$e=(function(){for(var t=new Array(Cl.length),e=0;e<Cl.length;++e){var r=Cl[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function Coe(t){var e={};t=En(t);for(var r=0;r<Cl.length;++r){var n=Cl[r],i=t.match(E$e[r]);i!=null&&i.length>0&&(e[n[1]]=kr(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=$n(e[n[1]]))}return e}function H3(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=cn(e),n[n.length]=r?it(t,e,r):ta(t,e))}function Noe(t,e){var r=e||{},n=[Mi,it("cp:coreProperties",null,{"xmlns:cp":ds.CORE_PROPS,"xmlns:dc":ds.dc,"xmlns:dcterms":ds.dcterms,"xmlns:dcmitype":ds.dcmitype,"xmlns:xsi":ds.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&H3("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:HO(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&H3("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:HO(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Cl.length;++s){var a=Cl[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&H3(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var I0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ioe=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function Ooe(t,e,r,n){var i=[];if(typeof t=="string")i=aG(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(f){return{v:f}}));var a=typeof e=="string"?aG(e,n).map(function(f){return f.v}):e,o=0,l=0;if(a.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function T$e(t,e,r){var n={};return e||(e={}),t=En(t),I0.forEach(function(i){var s=(t.match(xx(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=kr(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&Ooe(n.HeadingPairs,n.TitlesOfParts,e,r),e}function Roe(t){var e=[],r=it;return t||(t={}),t.Application="SheetJS",e[e.length]=Mi,e[e.length]=it("Properties",null,{xmlns:ds.EXT_PROPS,"xmlns:vt":ds.vt}),I0.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=cn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+cn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var S$e=/<[^>]+>[^<]*/g;function A$e(t,e){var r={},n="",i=t.match(S$e);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Ht(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=kr(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),u=l[0].slice(4),f=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=kr(f);break;case"bool":r[n]=Un(f);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(f,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(f);break;case"filetime":case"date":r[n]=$n(f);break;case"cy":case"error":r[n]=kr(f);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}function Poe(t){var e=[Mi,it("Properties",null,{xmlns:ds.CUST_PROPS,"xmlns:vt":ds.vt})];if(!t)return e.join("");var r=1;return Si(t).forEach(function(i){++r,e[e.length]=it("property",Dze(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:cn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var YO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},q3;function k$e(t,e,r){q3||(q3=q4(YO)),e=q3[e]||e,t[e]=r}function C$e(t,e){var r=[];return Si(YO).map(function(n){for(var i=0;i<Cl.length;++i)if(Cl[i][1]==n)return Cl[i];for(i=0;i<I0.length;++i)if(I0[i][1]==n)return I0[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(ta(YO[n[1]]||n[1],i))}}),it("DocumentProperties",r.join(""),{xmlns:Io.o})}function N$e(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Si(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Cl.length;++a)if(s==Cl[a][1])return;for(a=0;a<I0.length;++a)if(s==I0[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(it(rG(s),o,{"dt:dt":l}))}}),e&&Si(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(it(rG(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Io.o+'">'+i.join("")+"</"+n+">"}function lD(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function I$e(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Me(8);return a.write_shift(4,n),a.write_shift(4,i),a}function joe(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function Doe(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function Moe(t,e,r){return e===31?Doe(t):joe(t,e,r)}function XO(t,e,r){return Moe(t,e,r===!1?0:4)}function O$e(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Moe(t,e,0)}function R$e(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(za,""),t.l-i&2&&(t.l+=2)}return r}function P$e(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(za,"");return r}function j$e(t){var e=t.l,r=DT(t,Toe);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=DT(t,to);return[r,n]}function D$e(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(j$e(t));return r}function vG(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(za,"").replace(Jy,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function Loe(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function M$e(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function DT(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==mG&&n!==e&&h$e.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===mG?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return joe(t,n,4).replace(za,"");case 31:return Doe(t);case 64:return lD(t);case 65:return Loe(t);case 71:return M$e(t);case 80:return XO(t,n,!s.raw).replace(za,"");case 81:return O$e(t,n).replace(za,"");case 4108:return D$e(t);case 4126:case 4127:return n==4127?R$e(t):P$e(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function yG(t,e){var r=Me(4),n=Me(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Me(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=I$e(e);break;case 31:case 80:for(n=Me(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Rs([r,n])}function xG(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,u={};for(a=0;a!=i;++a){var f=t.read_shift(4),h=t.read_shift(4);s[a]=[f,h+r]}s.sort(function(A,k){return A[1]-k[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var v=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,v=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],v=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],v=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(v=!1,t.l=s[a][1]),v)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var x=e[s[a][0]];if(g[x.n]=DT(t,x.t,{raw:!0}),x.p==="version"&&(g[x.n]=String(g[x.n]>>16)+"."+("0000"+String(g[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(g[x.n]){case 0:g[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:ac(o=g[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[x.n])}}else if(s[a][0]===1){if(o=g.CodePage=DT(t,aD),ac(o),l!==-1){var b=t.l;t.l=s[l][1],u=vG(t,o),t.l=b}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}u=vG(t,o)}else{var w=u[s[a][0]],E;switch(t[t.l]){case 65:t.l+=4,E=Loe(t);break;case 30:t.l+=4,E=XO(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,E=XO(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,E=t.read_shift(4,"i");break;case 19:t.l+=4,E=t.read_shift(4);break;case 5:t.l+=4,E=t.read_shift(8,"f");break;case 11:t.l+=4,E=Ii(t,4);break;case 64:t.l+=4,E=$n(lD(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[w]=E}}return t.l=r+n,g}var Foe=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function L$e(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function bG(t,e,r){var n=Me(8),i=[],s=[],a=8,o=0,l=Me(8),u=Me(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Me(8),u.write_shift(4,0),i.unshift(u);var f=[Me(4)];for(f[0].write_shift(4,t.length),o=0;o<t.length;++o){var h=t[o][0];for(l=Me(8+2*(h.length+1)+(h.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,h.length+1),l.write_shift(0,h,"dbcs");l.l!=l.length;)l.write_shift(1,0);f.push(l)}l=Rs(f),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(Foe.indexOf(t[o][0])>-1||Ioe.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],v=0;if(e){v=+e[t[o][0]];var x=r[v];if(x.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}l=yG(x.t,g)}else{var w=L$e(g);w==-1&&(w=31,g=String(g)),l=yG(w,g)}s.push(l),u=Me(8),u.write_shift(4,e?v:2+o),i.push(u),a+=8+l.length}var E=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,E),E+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Rs([n].concat(i).concat(s))}function wG(t,e,r){var n=t.content;if(!n)return{};Zs(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),f=n.read_shift(16);if(f!==It.utils.consts.HEADER_CLSID&&f!==r)throw new Error("Bad PropertySet CLSID "+f);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var h=xG(n,e),g={SystemIdentifier:u};for(var v in h)g[v]=h[v];if(g.FMTID=s,i===1)return g;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=xG(n,null)}catch{}for(v in x)g[v]=x[v];return g.FMTID=[s,a],g}function _G(t,e,r,n,i,s){var a=Me(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,It.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=bG(t,r,n);if(o.push(l),i){var u=bG(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return Rs(o)}function hf(t,e){return t.read_shift(e),null}function F$e(t,e){e||(e=Me(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function B$e(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Ii(t,e){return t.read_shift(e)===1}function Ma(t,e){return e||(e=Me(2)),e.write_shift(2,+!!t),e}function Yi(t){return t.read_shift(2,"u")}function xl(t,e){return e||(e=Me(2)),e.write_shift(2,t),e}function Boe(t,e){return B$e(t,e,Yi)}function U$e(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Uoe(t,e,r){return r||(r=Me(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Nb(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function V$e(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",f=e===0?"":t.read_shift(e,u);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=f,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function z$e(t){var e=t.t||"",r=Me(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Me(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Rs(i)}function rm(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Ib(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):rm(t,n,r)}function Sm(t,e,r){if(r.biff>5)return Ib(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Voe(t,e,r){return r||(r=Me(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function $$e(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function H$e(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(za,"");return n&&(t.l+=24),i}function q$e(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(za,"");return r+a}function W$e(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return H$e(t);case"0303000000000000c000000000000046":return q$e(t);default:throw new Error("Unsupported Moniker "+r)}}function Q_(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(za,""):"";return r}function EG(t,e){e||(e=Me(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function G$e(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,u="",f,h;i&16&&(s=Q_(t,r-t.l)),i&128&&(a=Q_(t,r-t.l)),(i&257)===257&&(o=Q_(t,r-t.l)),(i&257)===1&&(l=W$e(t,r-t.l)),i&8&&(u=Q_(t,r-t.l)),i&32&&(f=t.read_shift(16)),i&64&&(h=lD(t)),t.l=r;var g=a||o||l||"";g&&u&&(g+="#"+u),g||(g="#"+u),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var v={Target:g};return f&&(v.guid=f),h&&(v.time=h),s&&(v.Tooltip=s),v}function K$e(t){var e=Me(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),EG(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&EG(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function zoe(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function $oe(t,e){var r=zoe(t);return r[3]=0,r}function pu(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function nm(t,e,r,n){return n||(n=Me(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Y$e(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function X$e(t,e,r){return e===0?"":Sm(t,e,r)}function Q$e(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function Hoe(t){var e=t.read_shift(2),r=sD(t);return[e,r]}function J$e(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Nb(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function K4(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function qoe(t,e){return e||(e=Me(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Woe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var Z$e=Woe;function Goe(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function eHe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function tHe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function fa(t){t.l+=2,t.l+=t.read_shift(2)}var rHe={0:fa,4:fa,5:fa,6:fa,7:tHe,8:fa,9:fa,10:fa,11:fa,12:fa,13:eHe,14:fa,15:fa,16:fa,17:fa,18:fa,19:fa,20:fa,21:Goe};function nHe(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(rHe[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function J_(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function cD(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Me(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function iHe(t,e){return e===0||t.read_shift(2),1200}function sHe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Sm(t,0,r);return t.read_shift(e+n-t.l),i}function aHe(t,e){var r=!e||e.biff==8,n=Me(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function oHe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function lHe(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Nb(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function cHe(t,e){var r=!e||e.biff>=8?2:1,n=Me(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function uHe(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(V$e(t));return s.Count=n,s.Unique=i,s}function dHe(t,e){var r=Me(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=z$e(t[i]);var s=Rs([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function fHe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function hHe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function mHe(t){var e=Y$e(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function pHe(t){return t.read_shift(2),t.read_shift(4)}function TG(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function gHe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:u}}function vHe(){var t=Me(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function yHe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function xHe(t){var e=Me(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function bHe(){}function wHe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Nb(t,0,r),n}function _He(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Me(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function EHe(t){var e=pu(t);return e.isst=t.read_shift(4),e}function THe(t,e,r,n){var i=Me(10);return nm(t,e,n,i),i.write_shift(4,r),i}function SHe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=pu(t);r.biff==2&&t.l++;var s=Ib(t,n-t.l,r);return i.val=s,i}function AHe(t,e,r,n,i){var s=!i||i.biff==8,a=Me(8+ +s+(1+s)*r.length);return nm(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function kHe(t,e,r){var n=t.read_shift(2),i=Sm(t,0,r);return[n,i]}function CHe(t,e,r,n){var i=r&&r.biff==5;n||(n=Me(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var NHe=Sm;function SG(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function IHe(t,e){var r=e.biff==8||!e.biff?4:2,n=Me(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function OHe(t){var e=t.read_shift(2),r=t.read_shift(2),n=Hoe(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function RHe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(Hoe(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function PHe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function jHe(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=m$e[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function DHe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=jHe(t,e,n.fStyle,r),n}function AG(t,e,r,n){var i=r&&r.biff==5;n||(n=Me(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function MHe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function LHe(t){var e=Me(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function kG(t,e,r){var n=pu(t);(r.biff==2||e==9)&&++t.l;var i=U$e(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function FHe(t,e,r,n,i,s){var a=Me(8);return nm(t,e,n,a),Uoe(r,s,a),a}function BHe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=pu(t),i=ba(t);return n.val=i,n}function UHe(t,e,r,n){var i=Me(14);return nm(t,e,n,i),tm(r,i),i}var CG=X$e;function VHe(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=rm(t,s),o=[];n>t.l;)o.push(Ib(t));return[s,i,a,o]}function NG(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=J$e(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var zHe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function IG(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=rm(t,a,r);i&32&&(u=zHe[u.charCodeAt(0)]);var f=n-t.l;r&&r.biff==2&&--f;var h=n==t.l||o===0||!(f>0)?[]:nYe(t,f,r,o);return{chKey:s,Name:u,itab:l,rgce:h}}function Koe(t,e,r){if(r.biff<8)return $He(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(Q$e(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function $He(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Nb(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function HHe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=rm(t,n,r),a=rm(t,i,r);return[s,a]}function qHe(t,e,r){var n=Woe(t);t.l++;var i=t.read_shift(1);return e-=8,[iYe(t,e,r),i,n]}function OG(t,e,r){var n=Z$e(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,tYe(t,e,r)]}function WHe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function GHe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=Sm(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function KHe(t,e,r){return GHe(t,e,r)}function YHe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(K4(t));return r}function XHe(t){var e=Me(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)qoe(t[r],e);return e}function QHe(t,e,r){if(r&&r.biff<8)return ZHe(t,e,r);var n=Goe(t),i=nHe(t,e-22,n[1]);return{cmo:n,ft:i}}var JHe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function ZHe(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((JHe[n]||Ca)(t,e,r)),{cmo:[i,n,s],ft:a}}function eqe(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=$$e(t,6,r);var o=t.read_shift(2);t.read_shift(2),Yi(t,2);var l=t.read_shift(2);t.l+=l;for(var u=1;u<t.lens.length-1;++u){if(t.l-n!=t.lens[u])throw new Error("TxO: bad continue record");var f=t[t.l],h=rm(t,t.lens[u+1]-t.lens[u]-1);if(i+=h,i.length>=(f?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function tqe(t,e){var r=K4(t);t.l+=16;var n=G$e(t,e-24);return[r,n]}function rqe(t){var e=Me(24),r=di(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Rs([e,K$e(t[1])])}function nqe(t,e){t.read_shift(2);var r=K4(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(za,""),[r,n]}function iqe(t){var e=t[1].Tooltip,r=Me(10+2*(e.length+1));r.write_shift(2,2048);var n=di(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function sqe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=pG[r]||r,r=t.read_shift(2),e[1]=pG[r]||r,e}function aqe(t){return t||(t=Me(4)),t.write_shift(2,1),t.write_shift(2,1),t}function oqe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push($oe(t));return r}function lqe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push($oe(t));return r}function cqe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function Yoe(t,e,r){if(!r.cellStyles)return Ca(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function uqe(t,e){var r=Me(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function dqe(t,e){var r={};return e<32||(t.l+=16,r.header=ba(t),r.footer=ba(t),t.l+=2),r}function fqe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function hqe(t){for(var e=Me(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var mqe=pu,pqe=Boe,gqe=Ib;function vqe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function yqe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=pu(t);++t.l;var i=Sm(t,e-7,r);return n.t="str",n.val=i,n}function xqe(t){var e=pu(t);++t.l;var r=ba(t);return e.t="n",e.val=r,e}function bqe(t,e,r){var n=Me(15);return jb(n,t,e),n.write_shift(8,r,"f"),n}function wqe(t){var e=pu(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function _qe(t,e,r){var n=Me(9);return jb(n,t,e),n.write_shift(2,r),n}function Eqe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function Tqe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function Sqe(t,e,r){var n=t.l+e,i=pu(t),s=t.read_shift(2),a=rm(t,s,r);return t.l=n,i.t="str",i.val=a,i}var Aqe=[2,3,48,49,131,139,140,245],QO=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=q4({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],f=ih(1);switch(l.type){case"base64":f=Mo(Go(o));break;case"binary":f=Mo(o);break;case"buffer":case"array":f=o;break}Zs(f,0);var h=f.read_shift(1),g=!!(h&136),v=!1,x=!1;switch(h){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+h.toString(16))}var b=0,w=521;h==2&&(b=f.read_shift(2)),f.l+=3,h!=2&&(b=f.read_shift(4)),b>1048576&&(b=1e6),h!=2&&(w=f.read_shift(2));var E=f.read_shift(2),A=l.codepage||1252;h!=2&&(f.l+=16,f.read_shift(1),f[f.l]!==0&&(A=t[f[f.l]]),f.l+=1,f.l+=2),x&&(f.l+=36);for(var k=[],R={},j=Math.min(f.length,h==2?521:w-10-(v?264:0)),P=x?32:11;f.l<j&&f[f.l]!=13;)switch(R={},R.name=gx.utils.decode(A,f.slice(f.l,f.l+P)).replace(/[\u0000\r\n].*$/g,""),f.l+=P,R.type=String.fromCharCode(f.read_shift(1)),h!=2&&!x&&(R.offset=f.read_shift(4)),R.len=f.read_shift(1),h==2&&(R.offset=f.read_shift(2)),R.dec=f.read_shift(1),R.name.length&&k.push(R),h!=2&&(f.l+=x?13:14),R.type){case"B":(!v||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(f[f.l]!==13&&(f.l=w-1),f.read_shift(1)!==13)throw new Error("DBF Terminator not found "+f.l+" "+f[f.l]);f.l=w;var S=0,I=0;for(u[0]=[],I=0;I!=k.length;++I)u[0][I]=k[I].name;for(;b-- >0;){if(f[f.l]===42){f.l+=E;continue}for(++f.l,u[++S]=[],I=0,I=0;I!=k.length;++I){var O=f.slice(f.l,f.l+k[I].len);f.l+=k[I].len,Zs(O,0);var D=gx.utils.decode(A,O);switch(k[I].type){case"C":D.trim().length&&(u[S][I]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[S][I]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[S][I]=D;break;case"F":u[S][I]=parseFloat(D.trim());break;case"+":case"I":u[S][I]=x?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[S][I]=!0;break;case"N":case"F":u[S][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+h.toString(16));u[S][I]="##MEMO##"+(x?parseInt(D.trim(),10):O.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[S][I]=+D||0);break;case"@":u[S][I]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[S][I]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[S][I]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][I]=-O.read_shift(-8,"f");break;case"B":if(v&&k[I].len==8){u[S][I]=O.read_shift(8,"f");break}case"G":case"P":O.l+=k[I].len;break;case"0":if(k[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+k[I].type)}}}if(h!=2&&f.l<f.length&&f[f.l++]!=26)throw new Error("DBF EOF Marker missing "+(f.l-1)+" of "+f.length+" "+f[f.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=k,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var f=Iv(r(o,u),u);return f["!cols"]=u.DBF.map(function(h){return{wch:h.len,DBF:h}}),delete u.DBF,f}function i(o,l){try{return bh(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&ac(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var f=fo(),h=FT(o,{header:1,raw:!0,cellDates:!0}),g=h[0],v=h.slice(1),x=o["!cols"]||[],b=0,w=0,E=0,A=1;for(b=0;b<g.length;++b){if(((x[b]||{}).DBF||{}).name){g[b]=x[b].DBF.name,++E;continue}if(g[b]!=null){if(++E,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(w=0;w<1024;++w)if(g.indexOf(g[b]+"_"+w)==-1){g[b]+="_"+w;break}}}}var k=Cr(o["!ref"]),R=[],j=[],P=[];for(b=0;b<=k.e.c-k.s.c;++b){var S="",I="",O=0,D=[];for(w=0;w<v.length;++w)v[w][b]!=null&&D.push(v[w][b]);if(D.length==0||g[b]==null){R[b]="?";continue}for(w=0;w<D.length;++w){switch(typeof D[w]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=D[w]instanceof Date?"D":"C";break;default:I="C"}O=Math.max(O,String(D[w]).length),S=S&&S!=I?"C":I}O>250&&(O=250),I=((x[b]||{}).DBF||{}).type,I=="C"&&x[b].DBF.len>O&&(O=x[b].DBF.len),S=="B"&&I=="N"&&(S="N",P[b]=x[b].DBF.dec,O=x[b].DBF.len),j[b]=S=="C"||I=="N"?O:s[S]||0,A+=j[b],R[b]=S}var M=f.next(32);for(M.write_shift(4,318902576),M.write_shift(4,v.length),M.write_shift(2,296+32*E),M.write_shift(2,A),b=0;b<4;++b)M.write_shift(4,0);for(M.write_shift(4,0|(+e[Fae]||3)<<8),b=0,w=0;b<g.length;++b)if(g[b]!=null){var F=f.next(32),U=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,U,"sbcs"),F.write_shift(1,R[b]=="?"?"C":R[b],"sbcs"),F.write_shift(4,w),F.write_shift(1,j[b]||s[R[b]]||0),F.write_shift(1,P[b]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),w+=j[b]||s[R[b]]||0}var le=f.next(264);for(le.write_shift(4,13),b=0;b<65;++b)le.write_shift(4,0);for(b=0;b<v.length;++b){var de=f.next(A);for(de.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(R[w]){case"L":de.write_shift(1,v[b][w]==null?63:v[b][w]?84:70);break;case"B":de.write_shift(8,v[b][w]||0,"f");break;case"N":var J="0";for(typeof v[b][w]=="number"&&(J=v[b][w].toFixed(P[w]||0)),E=0;E<j[w]-J.length;++E)de.write_shift(1,32);de.write_shift(1,J,"sbcs");break;case"D":v[b][w]?(de.write_shift(4,("0000"+v[b][w].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(v[b][w].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+v[b][w].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(v[b][w]!=null?v[b][w]:"").slice(0,j[w]);for(de.write_shift(1,Q,"sbcs"),E=0;E<j[w]-Q.length;++E)de.write_shift(1,32);break}}return f.next(1).write_shift(1,26),f.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),Xoe=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Si(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,v){var x=t[v];return typeof x=="number"?zW(x):x},n=function(g,v,x){var b=v.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?g:zW(b)};t["|"]=254;function i(g,v){switch(v.type){case"base64":return s(Go(g),v);case"binary":return s(g,v);case"buffer":return s(lr&&Buffer.isBuffer(g)?g.toString("binary"):xh(g),v);case"array":return s(em(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var x=g.split(/[\n\r]+/),b=-1,w=-1,E=0,A=0,k=[],R=[],j=null,P={},S=[],I=[],O=[],D=0,M;for(+v.codepage>=0&&ac(+v.codepage);E!==x.length;++E){D=0;var F=x[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),U=F.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),le=U[0],de;if(F.length>0)switch(le){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&R.push(F.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,Q=!1,fe=!1,ee=!1,ge=-1,q=-1;for(A=1;A<U.length;++A)switch(U[A].charAt(0)){case"A":break;case"X":w=parseInt(U[A].slice(1))-1,Q=!0;break;case"Y":for(b=parseInt(U[A].slice(1))-1,Q||(w=0),M=k.length;M<=b;++M)k[M]=[];break;case"K":de=U[A].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(hc(de))?isNaN(Gg(de).getDate())||(de=$n(de)):(de=hc(de),j!==null&&Cv(j)&&(de=G4(de))),J=!0;break;case"E":ee=!0;var z=lg(U[A].slice(1),{r:b,c:w});k[b][w]=[k[b][w],z];break;case"S":fe=!0,k[b][w]=[k[b][w],"S5S"];break;case"G":break;case"R":ge=parseInt(U[A].slice(1))-1;break;case"C":q=parseInt(U[A].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+F)}if(J&&(k[b][w]&&k[b][w].length==2?k[b][w][0]=de:k[b][w]=de,j=null),fe){if(ee)throw new Error("SYLK shared formula cannot have own formula");var V=ge>-1&&k[ge][q];if(!V||!V[1])throw new Error("SYLK shared formula cannot find base");k[b][w][1]=mle(V[1],{r:b-ge,c:w-q})}break;case"F":var W=0;for(A=1;A<U.length;++A)switch(U[A].charAt(0)){case"X":w=parseInt(U[A].slice(1))-1,++W;break;case"Y":for(b=parseInt(U[A].slice(1))-1,M=k.length;M<=b;++M)k[M]=[];break;case"M":D=parseInt(U[A].slice(1))/20;break;case"F":break;case"G":break;case"P":j=R[parseInt(U[A].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=U[A].slice(1).split(" "),M=parseInt(O[0],10);M<=parseInt(O[1],10);++M)D=parseInt(O[2],10),I[M-1]=D===0?{hidden:!0}:{wch:D},sh(I[M-1]);break;case"C":w=parseInt(U[A].slice(1))-1,I[w]||(I[w]={});break;case"R":b=parseInt(U[A].slice(1))-1,S[b]||(S[b]={}),D>0?(S[b].hpt=D,S[b].hpx=Yg(D)):D===0&&(S[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+F)}W<1&&(j=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+F)}}return S.length>0&&(P["!rows"]=S),I.length>0&&(P["!cols"]=I),v&&v.sheetRows&&(k=k.slice(0,v.sheetRows)),[k,P]}function a(g,v){var x=i(g,v),b=x[0],w=x[1],E=Iv(b,v);return Si(w).forEach(function(A){E[A]=w[A]}),E}function o(g,v){return bh(a(g,v),v)}function l(g,v,x,b){var w="C;Y"+(x+1)+";X"+(b+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+pD(g.f,{r:x,c:b}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(g,v){v.forEach(function(x,b){var w="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?w+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Tx(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Sx(x.wpx)),typeof x.wch=="number"&&(w+=Math.round(x.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function f(g,v){v.forEach(function(x,b){var w="F;";x.hidden?w+="M0;":x.hpt?w+="M"+20*x.hpt+";":x.hpx&&(w+="M"+20*Ax(x.hpx)+";"),w.length>2&&g.push(w+"R"+(b+1))})}function h(g,v){var x=["ID;PWXL;N;E"],b=[],w=Cr(g["!ref"]),E,A=Array.isArray(g),k=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),g["!cols"]&&u(x,g["!cols"]),g["!rows"]&&f(x,g["!rows"]),x.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var R=w.s.r;R<=w.e.r;++R)for(var j=w.s.c;j<=w.e.c;++j){var P=Ut({r:R,c:j});E=A?(g[R]||[])[j]:g[P],!(!E||E.v==null&&(!E.f||E.F))&&b.push(l(E,g,R,j))}return x.join(k)+k+b.join(k)+k+"E"+k}return{to_workbook:o,to_sheet:a,from_sheet:h}})(),Qoe=(function(){function t(s,a){switch(a.type){case"base64":return e(Go(s),a);case"binary":return e(s,a);case"buffer":return e(lr&&Buffer.isBuffer(s)?s.toString("binary"):xh(s),a);case"array":return e(em(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,f=0,h=[];f!==o.length;++f){if(o[f].trim()==="BOT"){h[++l]=[],u=0;continue}if(!(l<0)){var g=o[f].trim().split(","),v=g[0],x=g[1];++f;for(var b=o[f]||"";(b.match(/["]/g)||[]).length&1&&f<o.length-1;)b+=`
`+o[++f];switch(b=b.trim(),+v){case-1:if(b==="BOT"){h[++l]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?h[l][u]=!0:b==="FALSE"?h[l][u]=!1:isNaN(hc(x))?isNaN(Gg(x).getDate())?h[l][u]=x:h[l][u]=$n(x):h[l][u]=hc(x),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),h[l][u++]=b!==""?b:null;break}if(b==="EOD")break}}return a&&a.sheetRows&&(h=h.slice(0,a.sheetRows)),h}function r(s,a){return Iv(t(s,a),a)}function n(s,a){return bh(r(s,a),a)}var i=(function(){var s=function(l,u,f,h,g){l.push(u),l.push(f+","+h),l.push('"'+g.replace(/"/g,'""')+'"')},a=function(l,u,f,h){l.push(u+","+f),l.push(u==1?'"'+h.replace(/"/g,'""')+'"':h)};return function(l){var u=[],f=Cr(l["!ref"]),h,g=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,f.e.r-f.s.r+1,""),s(u,"TUPLES",0,f.e.c-f.s.c+1,""),s(u,"DATA",0,0,"");for(var v=f.s.r;v<=f.e.r;++v){a(u,-1,0,"BOT");for(var x=f.s.c;x<=f.e.c;++x){var b=Ut({r:v,c:x});if(h=g?(l[v]||[])[x]:l[b],!h){a(u,1,0,"");continue}switch(h.t){case"n":var w=h.w;!w&&h.v!=null&&(w=h.v),w==null?h.f&&!h.F?a(u,1,0,"="+h.f):a(u,1,0,""):a(u,0,w,"V");break;case"b":a(u,0,h.v?1:0,h.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(h.v)?h.v:'="'+h.v+'"');break;case"d":h.w||(h.w=Ol(h.z||Mt[14],hs($n(h.v)))),a(u,0,h.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var E=`\r
`,A=u.join(E);return A}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),Joe=(function(){function t(h){return h.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(h){return h.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(h,g){for(var v=h.split(`
`),x=-1,b=-1,w=0,E=[];w!==v.length;++w){var A=v[w].trim().split(":");if(A[0]==="cell"){var k=di(A[1]);if(E.length<=k.r)for(x=E.length;x<=k.r;++x)E[x]||(E[x]=[]);switch(x=k.r,b=k.c,A[2]){case"t":E[x][b]=t(A[3]);break;case"v":E[x][b]=+A[3];break;case"vtf":var R=A[A.length-1];case"vtc":switch(A[3]){case"nl":E[x][b]=!!+A[4];break;default:E[x][b]=+A[4];break}A[2]=="vtf"&&(E[x][b]=[E[x][b],R])}}}return g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),E}function n(h,g){return Iv(r(h,g),g)}function i(h,g){return bh(n(h,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(h){if(!h||!h["!ref"])return"";for(var g=[],v=[],x,b="",w=po(h["!ref"]),E=Array.isArray(h),A=w.s.r;A<=w.e.r;++A)for(var k=w.s.c;k<=w.e.c;++k)if(b=Ut({r:A,c:k}),x=E?(h[A]||[])[k]:h[b],!(!x||x.v==null||x.t==="z")){switch(v=["cell",b,"t"],x.t){case"s":case"str":v.push(e(x.v));break;case"n":x.f?(v[2]="vtf",v[3]="n",v[4]=x.v,v[5]=e(x.f)):(v[2]="v",v[3]=x.v);break;case"b":v[2]="vt"+(x.f?"f":"c"),v[3]="nl",v[4]=x.v?"1":"0",v[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var R=hs($n(x.v));v[2]="vtc",v[3]="nd",v[4]=""+R,v[5]=x.w||Ol(x.z||Mt[14],R);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function f(h){return[s,a,o,a,u(h),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:f}})(),Kg=(function(){function t(f,h,g,v,x){x.raw?h[g][v]=f:f===""||(f==="TRUE"?h[g][v]=!0:f==="FALSE"?h[g][v]=!1:isNaN(hc(f))?isNaN(Gg(f).getDate())?h[g][v]=f:h[g][v]=$n(f):h[g][v]=hc(f))}function e(f,h){var g=h||{},v=[];if(!f||f.length===0)return v;for(var x=f.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var w=10,E=0,A=0;A<=b;++A)E=x[A].indexOf(" "),E==-1?E=x[A].length:E++,w=Math.max(w,E);for(A=0;A<=b;++A){v[A]=[];var k=0;for(t(x[A].slice(0,w).trim(),v,A,k,g),k=1;k<=(x[A].length-w)/10+1;++k)t(x[A].slice(w+(k-1)*10,w+k*10).trim(),v,A,k,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(f){for(var h={},g=!1,v=0,x=0;v<f.length;++v)(x=f.charCodeAt(v))==34?g=!g:!g&&x in r&&(h[x]=(h[x]||0)+1);x=[];for(v in h)Object.prototype.hasOwnProperty.call(h,v)&&x.push([h[v],v]);if(!x.length){h=n;for(v in h)Object.prototype.hasOwnProperty.call(h,v)&&x.push([h[v],v])}return x.sort(function(b,w){return b[0]-w[0]||n[b[1]]-n[w[1]]}),r[x.pop()[1]]||44}function s(f,h){var g=h||{},v="",x=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};f.slice(0,4)=="sep="?f.charCodeAt(5)==13&&f.charCodeAt(6)==10?(v=f.charAt(4),f=f.slice(7)):f.charCodeAt(5)==13||f.charCodeAt(5)==10?(v=f.charAt(4),f=f.slice(6)):v=i(f.slice(0,1024)):g&&g.FS?v=g.FS:v=i(f.slice(0,1024));var w=0,E=0,A=0,k=0,R=0,j=v.charCodeAt(0),P=!1,S=0,I=f.charCodeAt(0);f=f.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?fze(g.dateNF):null;function D(){var M=f.slice(k,R),F={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)F.t="z";else if(g.raw)F.t="s",F.v=M;else if(M.trim().length===0)F.t="s",F.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(F.t="s",F.v=M.slice(2,-1).replace(/""/g,'"')):VGe(M)?(F.t="n",F.f=M.slice(1)):(F.t="s",F.v=M);else if(M=="TRUE")F.t="b",F.v=!0;else if(M=="FALSE")F.t="b",F.v=!1;else if(!isNaN(A=hc(M)))F.t="n",g.cellText!==!1&&(F.w=M),F.v=A;else if(!isNaN(Gg(M).getDate())||O&&M.match(O)){F.z=g.dateNF||Mt[14];var U=0;O&&M.match(O)&&(M=hze(M,g.dateNF,M.match(O)||[]),U=1),g.cellDates?(F.t="d",F.v=$n(M,U)):(F.t="n",F.v=hs($n(M,U))),g.cellText!==!1&&(F.w=Ol(F.z,F.v instanceof Date?hs(F.v):F.v)),g.cellNF||delete F.z}else F.t="s",F.v=M;if(F.t=="z"||(g.dense?(x[w]||(x[w]=[]),x[w][E]=F):x[Ut({c:E,r:w})]=F),k=R+1,I=f.charCodeAt(k),b.e.c<E&&(b.e.c=E),b.e.r<w&&(b.e.r=w),S==j)++E;else if(E=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;R<f.length;++R)switch(S=f.charCodeAt(R)){case 34:I===34&&(P=!P);break;case j:case 10:case 13:if(!P&&D())break e;break}return R-k>0&&D(),x["!ref"]=tr(b),x}function a(f,h){return!(h&&h.PRN)||h.FS||f.slice(0,4)=="sep="||f.indexOf("	")>=0||f.indexOf(",")>=0||f.indexOf(";")>=0?s(f,h):Iv(e(f,h),h)}function o(f,h){var g="",v=h.type=="string"?[0,0,0,0]:ED(f,h);switch(h.type){case"base64":g=Go(f);break;case"binary":g=f;break;case"buffer":h.codepage==65001?g=f.toString("utf8"):h.codepage&&typeof gx<"u"||(g=lr&&Buffer.isBuffer(f)?f.toString("binary"):xh(f));break;case"array":g=em(f);break;case"string":g=f;break;default:throw new Error("Unrecognized type "+h.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=En(g.slice(3)):h.type!="string"&&h.type!="buffer"&&h.codepage==65001?g=En(g):h.type=="binary"&&typeof gx<"u",g.slice(0,19)=="socialcalc:version:"?Joe.to_sheet(h.type=="string"?g:En(g),h):a(g,h)}function l(f,h){return bh(o(f,h),h)}function u(f){for(var h=[],g=Cr(f["!ref"]),v,x=Array.isArray(f),b=g.s.r;b<=g.e.r;++b){for(var w=[],E=g.s.c;E<=g.e.c;++E){var A=Ut({r:b,c:E});if(v=x?(f[b]||[])[E]:f[A],!v||v.v==null){w.push("          ");continue}for(var k=(v.w||(wd(v),v.w)||"").slice(0,10);k.length<10;)k+=" ";w.push(k+(E===0?" ":""))}h.push(w.join(""))}return h.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})();function kqe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=Xoe.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Kg.to_workbook(t,e)}}var O0=(function(){function t(z,V,W){if(z){Zs(z,z.l||0);for(var Y=W.Enum||ge;z.l<z.length;){var ue=z.read_shift(2),me=Y[ue]||Y[65535],ce=z.read_shift(2),ie=z.l+ce,ve=me.f&&me.f(z,ce,W);if(z.l=ie,V(ve,me,ue))return}}}function e(z,V){switch(V.type){case"base64":return r(Mo(Go(z)),V);case"binary":return r(Mo(z),V);case"buffer":case"array":return r(z,V)}throw"Unsupported type "+V.type}function r(z,V){if(!z)return z;var W=V||{},Y=W.dense?[]:{},ue="Sheet1",me="",ce=0,ie={},ve=[],Ue=[],G={s:{r:0,c:0},e:{r:0,c:0}},Je=W.sheetRows||0;if(z[2]==0&&(z[3]==8||z[3]==9)&&z.length>=16&&z[14]==5&&z[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(z[2]==2)W.Enum=ge,t(z,function(je,at,wt){switch(wt){case 0:W.vers=je,je>=4096&&(W.qpro=!0);break;case 6:G=je;break;case 204:je&&(me=je);break;case 222:me=je;break;case 15:case 51:W.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:wt==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=W.dateNF||Mt[14],W.cellDates&&(je[1].t="d",je[1].v=G4(je[1].v))),W.qpro&&je[3]>ce&&(Y["!ref"]=tr(G),ie[ue]=Y,ve.push(ue),Y=W.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ce=je[3],ue=me||"Sheet"+(ce+1),me="");var Ot=W.dense?(Y[je[0].r]||[])[je[0].c]:Y[Ut(je[0])];if(Ot){Ot.t=je[1].t,Ot.v=je[1].v,je[1].z!=null&&(Ot.z=je[1].z),je[1].f!=null&&(Ot.f=je[1].f);break}W.dense?(Y[je[0].r]||(Y[je[0].r]=[]),Y[je[0].r][je[0].c]=je[1]):Y[Ut(je[0])]=je[1];break}},W);else if(z[2]==26||z[2]==14)W.Enum=q,z[2]==14&&(W.qpro=!0,z.l=0),t(z,function(je,at,wt){switch(wt){case 204:ue=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>ce&&(Y["!ref"]=tr(G),ie[ue]=Y,ve.push(ue),Y=W.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ce=je[3],ue="Sheet"+(ce+1)),Je>0&&je[0].r>=Je)break;W.dense?(Y[je[0].r]||(Y[je[0].r]=[]),Y[je[0].r][je[0].c]=je[1]):Y[Ut(je[0])]=je[1],G.e.c<je[0].c&&(G.e.c=je[0].c),G.e.r<je[0].r&&(G.e.r=je[0].r);break;case 27:je[14e3]&&(Ue[je[14e3][0]]=je[14e3][1]);break;case 1537:Ue[je[0]]=je[1],je[0]==ce&&(ue=je[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+z[2]);if(Y["!ref"]=tr(G),ie[me||ue]=Y,ve.push(me||ue),!Ue.length)return{SheetNames:ve,Sheets:ie};for(var Oe={},rt=[],Xe=0;Xe<Ue.length;++Xe)ie[ve[Xe]]?(rt.push(Ue[Xe]||ve[Xe]),Oe[Ue[Xe]]=ie[Ue[Xe]]||ie[ve[Xe]]):(rt.push(Ue[Xe]),Oe[Ue[Xe]]={"!ref":"A1"});return{SheetNames:rt,Sheets:Oe}}function n(z,V){var W=V||{};if(+W.codepage>=0&&ac(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=fo(),ue=Cr(z["!ref"]),me=Array.isArray(z),ce=[];ot(Y,0,s(1030)),ot(Y,6,l(ue));for(var ie=Math.min(ue.e.r,8191),ve=ue.s.r;ve<=ie;++ve)for(var Ue=Di(ve),G=ue.s.c;G<=ue.e.c;++G){ve===ue.s.r&&(ce[G]=ui(G));var Je=ce[G]+Ue,Oe=me?(z[ve]||[])[G]:z[Je];if(!(!Oe||Oe.t=="z"))if(Oe.t=="n")(Oe.v|0)==Oe.v&&Oe.v>=-32768&&Oe.v<=32767?ot(Y,13,v(ve,G,Oe.v)):ot(Y,14,b(ve,G,Oe.v));else{var rt=wd(Oe);ot(Y,15,h(ve,G,rt.slice(0,239)))}}return ot(Y,1),Y.end()}function i(z,V){var W=V||{};if(+W.codepage>=0&&ac(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=fo();ot(Y,0,a(z));for(var ue=0,me=0;ue<z.SheetNames.length;++ue)(z.Sheets[z.SheetNames[ue]]||{})["!ref"]&&ot(Y,27,ee(z.SheetNames[ue],me++));var ce=0;for(ue=0;ue<z.SheetNames.length;++ue){var ie=z.Sheets[z.SheetNames[ue]];if(!(!ie||!ie["!ref"])){for(var ve=Cr(ie["!ref"]),Ue=Array.isArray(ie),G=[],Je=Math.min(ve.e.r,8191),Oe=ve.s.r;Oe<=Je;++Oe)for(var rt=Di(Oe),Xe=ve.s.c;Xe<=ve.e.c;++Xe){Oe===ve.s.r&&(G[Xe]=ui(Xe));var je=G[Xe]+rt,at=Ue?(ie[Oe]||[])[Xe]:ie[je];if(!(!at||at.t=="z"))if(at.t=="n")ot(Y,23,D(Oe,Xe,ce,at.v));else{var wt=wd(at);ot(Y,22,S(Oe,Xe,ce,wt.slice(0,239)))}}++ce}}return ot(Y,1),Y.end()}function s(z){var V=Me(2);return V.write_shift(2,z),V}function a(z){var V=Me(26);V.write_shift(2,4096),V.write_shift(2,4),V.write_shift(4,0);for(var W=0,Y=0,ue=0,me=0;me<z.SheetNames.length;++me){var ce=z.SheetNames[me],ie=z.Sheets[ce];if(!(!ie||!ie["!ref"])){++ue;var ve=po(ie["!ref"]);W<ve.e.r&&(W=ve.e.r),Y<ve.e.c&&(Y=ve.e.c)}}return W>8191&&(W=8191),V.write_shift(2,W),V.write_shift(1,ue),V.write_shift(1,Y),V.write_shift(2,0),V.write_shift(2,0),V.write_shift(1,1),V.write_shift(1,2),V.write_shift(4,0),V.write_shift(4,0),V}function o(z,V,W){var Y={s:{c:0,r:0},e:{c:0,r:0}};return V==8&&W.qpro?(Y.s.c=z.read_shift(1),z.l++,Y.s.r=z.read_shift(2),Y.e.c=z.read_shift(1),z.l++,Y.e.r=z.read_shift(2),Y):(Y.s.c=z.read_shift(2),Y.s.r=z.read_shift(2),V==12&&W.qpro&&(z.l+=2),Y.e.c=z.read_shift(2),Y.e.r=z.read_shift(2),V==12&&W.qpro&&(z.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(z){var V=Me(8);return V.write_shift(2,z.s.c),V.write_shift(2,z.s.r),V.write_shift(2,z.e.c),V.write_shift(2,z.e.r),V}function u(z,V,W){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(Y[0].c=z.read_shift(1),Y[3]=z.read_shift(1),Y[0].r=z.read_shift(2),z.l+=2):(Y[2]=z.read_shift(1),Y[0].c=z.read_shift(2),Y[0].r=z.read_shift(2)),Y}function f(z,V,W){var Y=z.l+V,ue=u(z,V,W);if(ue[1].t="s",W.vers==20768){z.l++;var me=z.read_shift(1);return ue[1].v=z.read_shift(me,"utf8"),ue}return W.qpro&&z.l++,ue[1].v=z.read_shift(Y-z.l,"cstr"),ue}function h(z,V,W){var Y=Me(7+W.length);Y.write_shift(1,255),Y.write_shift(2,V),Y.write_shift(2,z),Y.write_shift(1,39);for(var ue=0;ue<Y.length;++ue){var me=W.charCodeAt(ue);Y.write_shift(1,me>=128?95:me)}return Y.write_shift(1,0),Y}function g(z,V,W){var Y=u(z,V,W);return Y[1].v=z.read_shift(2,"i"),Y}function v(z,V,W){var Y=Me(7);return Y.write_shift(1,255),Y.write_shift(2,V),Y.write_shift(2,z),Y.write_shift(2,W,"i"),Y}function x(z,V,W){var Y=u(z,V,W);return Y[1].v=z.read_shift(8,"f"),Y}function b(z,V,W){var Y=Me(13);return Y.write_shift(1,255),Y.write_shift(2,V),Y.write_shift(2,z),Y.write_shift(8,W,"f"),Y}function w(z,V,W){var Y=z.l+V,ue=u(z,V,W);if(ue[1].v=z.read_shift(8,"f"),W.qpro)z.l=Y;else{var me=z.read_shift(2);R(z.slice(z.l,z.l+me),ue),z.l+=me}return ue}function E(z,V,W){var Y=V&32768;return V&=-32769,V=(Y?z:0)+(V>=8192?V-16384:V),(Y?"":"$")+(W?ui(V):Di(V))}var A={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},k=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(z,V){Zs(z,0);for(var W=[],Y=0,ue="",me="",ce="",ie="";z.l<z.length;){var ve=z[z.l++];switch(ve){case 0:W.push(z.read_shift(8,"f"));break;case 1:me=E(V[0].c,z.read_shift(2),!0),ue=E(V[0].r,z.read_shift(2),!1),W.push(me+ue);break;case 2:{var Ue=E(V[0].c,z.read_shift(2),!0),G=E(V[0].r,z.read_shift(2),!1);me=E(V[0].c,z.read_shift(2),!0),ue=E(V[0].r,z.read_shift(2),!1),W.push(Ue+G+":"+me+ue)}break;case 3:if(z.l<z.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(z.read_shift(2));break;case 6:{for(var Je="";ve=z[z.l++];)Je+=String.fromCharCode(ve);W.push('"'+Je.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:ie=W.pop(),ce=W.pop(),W.push(["AND","OR"][ve-20]+"("+ce+","+ie+")");break;default:if(ve<32&&k[ve])ie=W.pop(),ce=W.pop(),W.push(ce+k[ve]+ie);else if(A[ve]){if(Y=A[ve][1],Y==69&&(Y=z[z.l++]),Y>W.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+W.join("|")+"|");return}var Oe=W.slice(-Y);W.length-=Y,W.push(A[ve][0]+"("+Oe.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}W.length==1?V[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function j(z){var V=[{c:0,r:0},{t:"n",v:0},0];return V[0].r=z.read_shift(2),V[3]=z[z.l++],V[0].c=z[z.l++],V}function P(z,V){var W=j(z);return W[1].t="s",W[1].v=z.read_shift(V-4,"cstr"),W}function S(z,V,W,Y){var ue=Me(6+Y.length);ue.write_shift(2,z),ue.write_shift(1,W),ue.write_shift(1,V),ue.write_shift(1,39);for(var me=0;me<Y.length;++me){var ce=Y.charCodeAt(me);ue.write_shift(1,ce>=128?95:ce)}return ue.write_shift(1,0),ue}function I(z,V){var W=j(z);W[1].v=z.read_shift(2);var Y=W[1].v>>1;if(W[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return W[1].v=Y,W}function O(z,V){var W=j(z),Y=z.read_shift(4),ue=z.read_shift(4),me=z.read_shift(2);if(me==65535)return Y===0&&ue===3221225472?(W[1].t="e",W[1].v=15):Y===0&&ue===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var ce=me&32768;return me=(me&32767)-16446,W[1].v=(1-ce*2)*(ue*Math.pow(2,me+32)+Y*Math.pow(2,me)),W}function D(z,V,W,Y){var ue=Me(14);if(ue.write_shift(2,z),ue.write_shift(1,W),ue.write_shift(1,V),Y==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var me=0,ce=0,ie=0,ve=0;return Y<0&&(me=1,Y=-Y),ce=Math.log2(Y)|0,Y/=Math.pow(2,ce-31),ve=Y>>>0,(ve&2147483648)==0&&(Y/=2,++ce,ve=Y>>>0),Y-=ve,ve|=2147483648,ve>>>=0,Y*=Math.pow(2,32),ie=Y>>>0,ue.write_shift(4,ie),ue.write_shift(4,ve),ce+=16383+(me?32768:0),ue.write_shift(2,ce),ue}function M(z,V){var W=O(z);return z.l+=V-14,W}function F(z,V){var W=j(z),Y=z.read_shift(4);return W[1].v=Y>>6,W}function U(z,V){var W=j(z),Y=z.read_shift(8,"f");return W[1].v=Y,W}function le(z,V){var W=U(z);return z.l+=V-10,W}function de(z,V){return z[z.l+V-1]==0?z.read_shift(V,"cstr"):""}function J(z,V){var W=z[z.l++];W>V-1&&(W=V-1);for(var Y="";Y.length<W;)Y+=String.fromCharCode(z[z.l++]);return Y}function Q(z,V,W){if(!(!W.qpro||V<21)){var Y=z.read_shift(1);z.l+=17,z.l+=1,z.l+=2;var ue=z.read_shift(V-21,"cstr");return[Y,ue]}}function fe(z,V){for(var W={},Y=z.l+V;z.l<Y;){var ue=z.read_shift(2);if(ue==14e3){for(W[ue]=[0,""],W[ue][0]=z.read_shift(2);z[z.l];)W[ue][1]+=String.fromCharCode(z[z.l]),z.l++;z.l++}}return W}function ee(z,V){var W=Me(5+z.length);W.write_shift(2,14e3),W.write_shift(2,V);for(var Y=0;Y<z.length;++Y){var ue=z.charCodeAt(Y);W[W.l++]=ue>127?95:ue}return W[W.l++]=0,W}var ge={0:{n:"BOF",f:Yi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:x},15:{n:"LABEL",f},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},q={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:P},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:fe},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:le},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function Cqe(t){var e={},r=t.match(Ia),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=Ht(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=Uj[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var Nqe=(function(){var t=xx("t"),e=xx("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:kr(a[1])},l=s.match(e);return l&&(o.s=Cqe(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),Iqe=(function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),Oqe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,Rqe=/<(?:\w+:)?r>/,Pqe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function uD(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=kr(En(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=En(t),r&&(n.h=Xj(n.t))):t.match(Rqe)&&(n.r=En(t),n.t=kr(En((t.replace(Pqe,"").match(Oqe)||[]).join("").replace(Ia,""))),r&&(n.h=Iqe(Nqe(n.r)))),n):{t:""}}var jqe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,Dqe=/<(?:\w+:)?(?:si|sstItem)>/g,Mqe=/<\/(?:\w+:)?(?:si|sstItem)>/;function Lqe(t,e){var r=[],n="";if(!t)return r;var i=t.match(jqe);if(i){n=i[2].replace(Dqe,"").split(Mqe);for(var s=0;s!=n.length;++s){var a=uD(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=Ht(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var Fqe=/^\s|\s$|[\t\n\r]/;function Zoe(t,e){if(!e.bookSST)return"";var r=[Mi];r[r.length]=it("sst",null,{xmlns:bm[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(Fqe)&&(s+=' xml:space="preserve"'),s+=">"+cn(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function Bqe(t){return[t.read_shift(4),t.read_shift(4)]}function Uqe(t,e){var r=[],n=!1;return Pd(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function Vqe(t,e){return e||(e=Me(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var zqe=Jze;function $qe(t){var e=fo();He(e,159,Vqe(t));for(var r=0;r<t.length;++r)He(e,19,zqe(t[r]));return He(e,160),e.end()}function ele(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function sd(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function Hqe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=sd(t,4),e.U=sd(t,4),e.W=sd(t,4),e}function qqe(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function Wqe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(qqe(t));return e}function Gqe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function Kqe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=sd(t,4),e.U=sd(t,4),e.W=sd(t,4),e}function Yqe(t){var e=Kqe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function tle(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function rle(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function Xqe(t){var e=sd(t);switch(e.Minor){case 2:return[e.Minor,Qqe(t)];case 3:return[e.Minor,Jqe()];case 4:return[e.Minor,Zqe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function Qqe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=tle(t,r),i=rle(t,t.length-t.l);return{t:"Std",h:n,v:i}}function Jqe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function Zqe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ia,function(s){var a=Ht(s);switch(mu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function eWe(t,e){var r={},n=r.EncryptionVersionInfo=sd(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=tle(t,i),e-=i,r.EncryptionVerifier=rle(t,e),r}function tWe(t){var e={},r=e.EncryptionVersionInfo=sd(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function dD(t){var e=0,r,n=ele(t),i=n.length+1,s,a,o,l,u;for(r=ih(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var nle=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,u=a.length-1;u>=0;--u)for(var f=a[u],h=0;h!=7;++h)f&64&&(o^=r[l]),f*=2,--l;return o};return function(a){for(var o=ele(a),l=s(o),u=o.length,f=ih(16),h=0;h!=16;++h)f[h]=0;var g,v,x;for((u&1)===1&&(g=l>>8,f[u]=i(t[0],g),--u,g=l&255,v=o[o.length-1],f[u]=i(v,g));u>0;)--u,g=l>>8,f[u]=i(o[u],g),--u,g=l&255,f[u]=i(o[u],g);for(u=15,x=15-o.length;x>0;)g=l>>8,f[u]=i(t[x],g),--u,--x,g=l&255,f[u]=i(o[u],g),--u,--x;return f}})(),rWe=function(t,e,r,n,i){i||(i=e),n||(n=nle(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},nWe=function(t){var e=0,r=nle(t);return function(n){var i=rWe("",n,e,r);return e=i[1],i[0]}};function iWe(t,e,r,n){var i={key:Yi(t),verificationBytes:Yi(t)};return r.password&&(i.verifier=dD(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=nWe(r.password)),i}function sWe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=tWe(t):n.Data=eWe(t,e),n}function aWe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?sWe(t,e-2,n):iWe(t,r.biff>=8?e:e-2,r,n),n}var ile=(function(){function t(i,s){switch(s.type){case"base64":return e(Go(i),s);case"binary":return e(i,s);case"buffer":return e(lr&&Buffer.isBuffer(i)?i.toString("binary"):xh(i),s);case"array":return e(em(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(f,h){Array.isArray(o)&&(o[h]=[]);for(var g=/\\\w+\b/g,v=0,x,b=-1;x=g.exec(f);){switch(x[0]){case"\\cell":var w=f.slice(v,g.lastIndex-x[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var E={v:w,t:"s"};Array.isArray(o)?o[h][b]=E:o[Ut({r:h,c:b})]=E}break}v=g.lastIndex}b>u.e.c&&(u.e.c=b)}),o["!ref"]=tr(u),o}function r(i,s){return bh(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Cr(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var f=a.s.c;f<=a.e.c;++f)s.push("\\cellx"+(f+1));for(s.push("\\pard\\intbl"),f=a.s.c;f<=a.e.c;++f){var h=Ut({r:u,c:f});o=l?(i[u]||[])[f]:i[h],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(wd(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function oWe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Ex(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function lWe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,u=i+s;switch(l=a/(u>1?2-u:u),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,u/2]}function cWe(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function MT(t,e){if(e===0)return t;var r=lWe(oWe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Ex(cWe(r))}var sle=6,uWe=15,dWe=1,xa=sle;function Tx(t){return Math.floor((t+Math.round(128/xa)/256)*xa)}function Sx(t){return Math.floor((t-5)/xa*100+.5)/100}function LT(t){return Math.round((t*xa+5)/xa*256)/256}function W3(t){return LT(Sx(Tx(t)))}function fD(t){var e=Math.abs(t-W3(t)),r=xa;if(e>.005)for(xa=dWe;xa<uWe;++xa)Math.abs(t-W3(t))<=e&&(e=Math.abs(t-W3(t)),r=xa);xa=r}function sh(t){t.width?(t.wpx=Tx(t.width),t.wch=Sx(t.wpx),t.MDW=xa):t.wpx?(t.wch=Sx(t.wpx),t.width=LT(t.wch),t.MDW=xa):typeof t.wch=="number"&&(t.width=LT(t.wch),t.wpx=Tx(t.width),t.MDW=xa),t.customWidth&&delete t.customWidth}var fWe=96,ale=fWe;function Ax(t){return t*96/ale}function Yg(t){return t*ale/96}var hWe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function mWe(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(Ia)||[]).forEach(function(a){var o=Ht(a);switch(mu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=Un(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=Un(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function pWe(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(Ia)||[]).forEach(function(a){var o=Ht(a);switch(mu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function gWe(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(Ia)||[]).forEach(function(a){var o=Ht(a);switch(mu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=En(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?Un(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?Un(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?Un(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?Un(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?Un(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?Un(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?Un(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=Uj[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=Un(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=N0[i.color.index];i.color.index==81&&(l=N0[1]),l||(l=N0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=MT(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function vWe(t,e,r){e.NumberFmt=[];for(var n=Si(Mt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Mt[n[i]];var s=t[0].match(Ia);if(s)for(i=0;i<s.length;++i){var a=Ht(s[i]);switch(mu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=kr(En(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}id(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function yWe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=it("numFmt",null,{numFmtId:n,formatCode:cn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=it("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var Z_=["numFmtId","fillId","fontId","borderId","xfId"],e2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function xWe(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Ia)||[]).forEach(function(s){var a=Ht(s),o=0;switch(mu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<Z_.length;++o)n[Z_[o]]&&(n[Z_[o]]=parseInt(n[Z_[o]],10));for(o=0;o<e2.length;++o)n[e2[o]]&&(n[e2[o]]=Un(n[e2[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=Un(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function bWe(t){var e=[];return e[e.length]=it("cellXfs",null),t.forEach(function(r){e[e.length]=it("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=it("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var wWe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var f={};if(!o)return f;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var h;return(h=o.match(e))&&vWe(h,f,u),(h=o.match(i))&&gWe(h,f,l,u),(h=o.match(n))&&pWe(h,f,l,u),(h=o.match(s))&&mWe(h,f,l,u),(h=o.match(r))&&xWe(h,f,u),f}})();function ole(t,e){var r=[Mi,it("styleSheet",null,{xmlns:bm[0],"xmlns:vt":ds.vt})],n;return t.SSF&&(n=yWe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=bWe(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function _We(t,e){var r=t.read_shift(2),n=Aa(t);return[r,n]}function EWe(t,e,r){r||(r=Me(6+4*e.length)),r.write_shift(2,t),Ps(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function TWe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=s$e(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=i$e(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Aa(t),n}function SWe(t,e){e||(e=Me(153)),e.write_shift(2,t.sz*20),a$e(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),PT(t.color,e);var n=0;return n=2,e.write_shift(1,n),Ps(t.name,e),e.length>e.l?e.slice(0,e.l):e}var AWe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],G3,kWe=Ca;function RG(t,e){e||(e=Me(84)),G3||(G3=q4(AWe));var r=G3[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(PT({auto:1},e),PT({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function CWe(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function lle(t,e,r){r||(r=Me(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Vy(t,e){return e||(e=Me(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var NWe=Ca;function IWe(t,e){return e||(e=Me(51)),e.write_shift(1,0),Vy(null,e),Vy(null,e),Vy(null,e),Vy(null,e),Vy(null,e),e.length>e.l?e.slice(0,e.l):e}function OWe(t,e){return e||(e=Me(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),RT(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function RWe(t,e,r){var n=Me(2052);return n.write_shift(4,t),RT(e,n),RT(r,n),n.length>n.l?n.slice(0,n.l):n}function PWe(t,e,r){var n={};n.NumberFmt=[];for(var i in Mt)n.NumberFmt[i]=Mt[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Pd(t,function(l,u,f){switch(f){case 44:n.NumberFmt[l[0]]=l[1],id(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=MT(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(f),a=!0;break;case 38:s.pop(),a=!1;break;default:if(u.T>0)s.push(f);else if(u.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+f.toString(16))}}),n}function jWe(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(He(t,615,mc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&He(t,44,EWe(i,e[i]))}),He(t,616))}}function DWe(t){var e=1;He(t,611,mc(e)),He(t,43,SWe({sz:12,color:{theme:1},name:"Calibri",family:2})),He(t,612)}function MWe(t){var e=2;He(t,603,mc(e)),He(t,45,RG({patternType:"none"})),He(t,45,RG({patternType:"gray125"})),He(t,604)}function LWe(t){var e=1;He(t,613,mc(e)),He(t,46,IWe()),He(t,614)}function FWe(t){var e=1;He(t,626,mc(e)),He(t,47,lle({numFmtId:0},65535)),He(t,627)}function BWe(t,e){He(t,617,mc(e.length)),e.forEach(function(r){He(t,47,lle(r,0))}),He(t,618)}function UWe(t){var e=1;He(t,619,mc(e)),He(t,48,OWe({xfId:0,name:"Normal"})),He(t,620)}function VWe(t){var e=0;He(t,505,mc(e)),He(t,506)}function zWe(t){var e=0;He(t,508,RWe(e,"TableStyleMedium9","PivotStyleMedium4")),He(t,509)}function $We(t,e){var r=fo();return He(r,278),jWe(r,t.SSF),DWe(r),MWe(r),LWe(r),FWe(r),BWe(r,e.cellXfs),UWe(r),VWe(r),zWe(r),He(r,279),r.end()}var HWe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function qWe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ia)||[]).forEach(function(i){var s=Ht(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[HWe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function WWe(){}function GWe(){}var KWe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,YWe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,XWe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function QWe(t,e,r){e.themeElements={};var n;[["clrScheme",KWe,qWe],["fontScheme",YWe,WWe],["fmtScheme",XWe,GWe]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var JWe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function cle(t,e){(!t||t.length===0)&&(t=hD());var r,n={};if(!(r=t.match(JWe)))throw new Error("themeElements not found in theme");return QWe(r[0],n,e),n.raw=t,n}function hD(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Mi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function ZWe(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=toe(s,{type:"array"})}catch{return}var o=Lo(a,"theme/theme/theme1.xml",!0);if(o)return cle(o,r)}}function eGe(t){return t.read_shift(4)}function tGe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=rGe(t,4);break;case 2:e.xclrValue=zoe(t);break;case 3:e.xclrValue=eGe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function rGe(t,e){return Ca(t,e)}function nGe(t,e){return Ca(t,e)}function iGe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=tGe(t);break;case 6:n[1]=nGe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function sGe(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(iGe(t,r-t.l));return{ixfe:n,ext:s}}function aGe(t,e){e.forEach(function(r){r[0]})}function oGe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Aa(t)}}function lGe(t){var e=Me(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Ps(t.name,e),e.slice(0,e.l)}function cGe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function uGe(t){var e=Me(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function dGe(t,e){var r=Me(8+2*e.length);return r.write_shift(4,t),Ps(e,r),r.slice(0,r.l)}function fGe(t){return t.l+=4,t.read_shift(4)!=0}function hGe(t,e){var r=Me(8);return r.write_shift(4,t),r.write_shift(4,1),r}function mGe(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return Pd(t,function(l,u,f){switch(f){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(h){o==1?n.Cell.push({type:n.Types[h[0]-1].name,index:h[1]}):o==0&&n.Value.push({type:n.Types[h[0]-1].name,index:h[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(f),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!u.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}}),n}function pGe(){var t=fo();return He(t,332),He(t,334,mc(1)),He(t,335,lGe({name:"XLDAPR",version:12e4,flags:3496657072})),He(t,336),He(t,339,dGe(1,"XLDAPR")),He(t,52),He(t,35,mc(514)),He(t,4096,mc(0)),He(t,4097,xl(1)),He(t,36),He(t,53),He(t,340),He(t,337,hGe(1)),He(t,51,uGe([[1,0]])),He(t,338),He(t,333),t.end()}function gGe(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(Ia,function(o){var l=Ht(o);switch(mu(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(a=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function ule(){var t=[Mi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function vGe(t){var e=[];if(!t)return e;var r=1;return(t.match(Ia)||[]).forEach(function(n){var i=Ht(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function yGe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Ut(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function xGe(t,e,r){var n=[];return Pd(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function bGe(t,e,r,n){if(!t)return t;var i=n||{},s=!1;Pd(t,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function wGe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var Hp=1024;function dle(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[it("xml",null,{"xmlns:v":Io.v,"xmlns:o":Io.o,"xmlns:x":Io.x,"xmlns:mv":Io.mv}).replace(/\/>/,">"),it("o:shapelayout",it("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),it("v:shapetype",[it("v:stroke",null,{joinstyle:"miter"}),it("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Hp<t*1e3;)Hp+=1e3;return e.forEach(function(s){var a=di(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?it("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=it("v:fill",l,o),f={on:"t",obscured:"t"};++Hp,i=i.concat(["<v:shape"+bx({id:"_x0000_s"+Hp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,it("v:shadow",null,f),it("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",ta("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),ta("x:AutoFill","False"),ta("x:Row",String(a.r)),ta("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function PG(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=di(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Cr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=tr(l);u!==t["!ref"]&&(t["!ref"]=u)}s.c||(s.c=[]);var f={a:a.author,t:a.t,r:a.r,T:r};a.h&&(f.h=a.h);for(var h=s.c.length-1;h>=0;--h){if(!r&&s.c[h].T)return;r&&!s.c[h].T&&s.c.splice(h,1)}if(r&&n){for(h=0;h<n.length;++h)if(f.a==n[h].id){f.a=n[h].name||f.a;break}}s.c.push(f)})}function _Ge(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Ht(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},f=di(l.ref);if(!(e.sheetRows&&e.sheetRows<=f.r)){var h=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!h&&!!h[1]&&uD(h[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=g.h),n.push(u)}}}}),n}function fle(t){var e=[Mi,it("comments",null,{xmlns:bm[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=cn(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(cn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(ta("t",cn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(ta("t",cn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function EGe(t,e){var r=[],n=!1,i={},s=0;return t.replace(Ia,function(o,l){var u=Ht(o);switch(mu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function TGe(t,e,r){var n=[Mi,it("ThreadedComments",null,{xmlns:ds.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(it("threadedComment",ta("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function SGe(t,e){var r=[],n=!1;return t.replace(Ia,function(s){var a=Ht(s);switch(mu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function AGe(t){var e=[Mi,it("personList",null,{xmlns:ds.TCMNT,"xmlns:x":bm[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(it("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function kGe(t){var e={};e.iauthor=t.read_shift(4);var r=Tm(t);return e.rfx=r.s,e.ref=Ut(r.s),t.l+=16,e}function CGe(t,e){return e==null&&(e=Me(36)),e.write_shift(4,t[1].iauthor),Ov(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var NGe=Aa;function IGe(t){return Ps(t.slice(0,54))}function OGe(t,e){var r=[],n=[],i={},s=!1;return Pd(t,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function RGe(t){var e=fo(),r=[];return He(e,628),He(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),He(e,632,IGe(i.a)))})}),He(e,631),He(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:di(n[0]),e:di(n[0])};He(e,635,CGe([s,i])),i.t&&i.t.length>0&&He(e,637,e$e(i)),He(e,636),delete i.iauthor})}),He(e,634),He(e,629),e.end()}var PGe="application/vnd.ms-office.vbaProject";function jGe(t){var e=It.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");It.utils.cfb_add(e,i,t.FileIndex[n].content)}}),It.write(e)}function DGe(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&It.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var hle=["xlsb","xlsm","xlam","biff8","xla"];function MGe(){return{"!type":"dialog"}}function LGe(){return{"!type":"dialog"}}function FGe(){return{"!type":"macro"}}function BGe(){return{"!type":"macro"}}var lg=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,f=a.length>0?parseInt(a,10)|0:0;return o?f+=e.c:--f,l?u+=e.r:--u,i+(o?"":"$")+ui(f)+(l?"":"$")+Di(u)}return function(i,s){return e=s,i.replace(t,r)}})(),mD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,pD=(function(){return function(e,r){return e.replace(mD,function(n,i,s,a,o,l){var u=tD(a)-(s?0:r.c),f=eD(l)-(o?0:r.r),h=f==0?"":o?f+1:"["+f+"]",g=u==0?"":s?u+1:"["+u+"]";return i+"R"+h+"C"+g})}})();function mle(t,e){return t.replace(mD,function(r,n,i,s,a,o){return n+(i=="$"?i+s:ui(tD(s)+e.c))+(a=="$"?a+o:Di(eD(o)+e.r))})}function UGe(t,e,r){var n=po(e),i=n.s,s=di(r),a={r:s.r-i.r,c:s.c-i.c};return mle(t,a)}function VGe(t){return t.length!=1}function jG(t){return t.replace(/_xlfn\./g,"")}function Wi(t){t.l+=1}function ah(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function ple(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return gle(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=ah(t),o=ah(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function gle(t){var e=ah(t),r=ah(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function zGe(t,e,r){if(r.biff<8)return gle(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=ah(t),a=ah(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function vle(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return $Ge(t);var n=t.read_shift(r&&r.biff==12?4:2),i=ah(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function $Ge(t){var e=ah(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function HGe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function qGe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return WGe(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function WGe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function GGe(t,e,r){var n=(t[t.l++]&96)>>5,i=ple(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function KGe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=ple(t,s,r);return[n,i,a]}function YGe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function XGe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function QGe(t,e,r){var n=(t[t.l++]&96)>>5,i=zGe(t,e-1,r);return[n,i]}function JGe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function DG(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function ZGe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function eKe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function tKe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function rKe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function nKe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function yle(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function iKe(t){return t.read_shift(2),yle(t)}function sKe(t){return t.read_shift(2),yle(t)}function aKe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=vle(t,0,r);return[n,i]}function oKe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=qGe(t,0,r);return[n,i]}function lKe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=vle(t,0,r);return[n,i,s]}function cKe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[fYe[i],wle[i],n]}function uKe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:dKe(t);return[i,(s[0]===0?wle:dYe)[s[1]]]}function dKe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function fKe(t,e,r){t.l+=r&&r.biff==2?3:4}function hKe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function mKe(t){return t.l++,jd[t.read_shift(1)]}function pKe(t){return t.l++,t.read_shift(2)}function gKe(t){return t.l++,t.read_shift(1)!==0}function vKe(t){return t.l++,ba(t)}function yKe(t,e,r){return t.l++,Nb(t,e-1,r)}function xKe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Ii(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=jd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ba(t);break;case 2:r[1]=Sm(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function bKe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Tm:K4)(t));return i}function wKe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=xKe(t,r.biff);return a}function _Ke(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function EKe(t,e,r){if(r.biff==5)return TKe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function TKe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function SKe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function AKe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function kKe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function CKe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var NKe=Ca,IKe=Ca,OKe=Ca;function Ob(t,e,r){return t.l+=2,[HGe(t)]}function gD(t){return t.l+=6,[]}var RKe=Ob,PKe=gD,jKe=gD,DKe=Ob;function xle(t){return t.l+=2,[Yi(t),t.read_shift(2)&1]}var MKe=Ob,LKe=xle,FKe=gD,BKe=Ob,UKe=Ob,VKe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function zKe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=VKe[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function $Ke(t){return t.l+=2,[t.read_shift(4)]}function HKe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function qKe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function WKe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function GKe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function KKe(t){return t.l+=4,[0,0]}var MG={1:{n:"PtgExp",f:hKe},2:{n:"PtgTbl",f:OKe},3:{n:"PtgAdd",f:Wi},4:{n:"PtgSub",f:Wi},5:{n:"PtgMul",f:Wi},6:{n:"PtgDiv",f:Wi},7:{n:"PtgPower",f:Wi},8:{n:"PtgConcat",f:Wi},9:{n:"PtgLt",f:Wi},10:{n:"PtgLe",f:Wi},11:{n:"PtgEq",f:Wi},12:{n:"PtgGe",f:Wi},13:{n:"PtgGt",f:Wi},14:{n:"PtgNe",f:Wi},15:{n:"PtgIsect",f:Wi},16:{n:"PtgUnion",f:Wi},17:{n:"PtgRange",f:Wi},18:{n:"PtgUplus",f:Wi},19:{n:"PtgUminus",f:Wi},20:{n:"PtgPercent",f:Wi},21:{n:"PtgParen",f:Wi},22:{n:"PtgMissArg",f:Wi},23:{n:"PtgStr",f:yKe},26:{n:"PtgSheet",f:HKe},27:{n:"PtgEndSheet",f:qKe},28:{n:"PtgErr",f:mKe},29:{n:"PtgBool",f:gKe},30:{n:"PtgInt",f:pKe},31:{n:"PtgNum",f:vKe},32:{n:"PtgArray",f:JGe},33:{n:"PtgFunc",f:cKe},34:{n:"PtgFuncVar",f:uKe},35:{n:"PtgName",f:_Ke},36:{n:"PtgRef",f:aKe},37:{n:"PtgArea",f:GGe},38:{n:"PtgMemArea",f:SKe},39:{n:"PtgMemErr",f:NKe},40:{n:"PtgMemNoMem",f:IKe},41:{n:"PtgMemFunc",f:AKe},42:{n:"PtgRefErr",f:kKe},43:{n:"PtgAreaErr",f:YGe},44:{n:"PtgRefN",f:oKe},45:{n:"PtgAreaN",f:QGe},46:{n:"PtgMemAreaN",f:WKe},47:{n:"PtgMemNoMemN",f:GKe},57:{n:"PtgNameX",f:EKe},58:{n:"PtgRef3d",f:lKe},59:{n:"PtgArea3d",f:KGe},60:{n:"PtgRefErr3d",f:CKe},61:{n:"PtgAreaErr3d",f:XGe},255:{}},YKe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},XKe={1:{n:"PtgElfLel",f:xle},2:{n:"PtgElfRw",f:BKe},3:{n:"PtgElfCol",f:RKe},6:{n:"PtgElfRwV",f:UKe},7:{n:"PtgElfColV",f:DKe},10:{n:"PtgElfRadical",f:MKe},11:{n:"PtgElfRadicalS",f:FKe},13:{n:"PtgElfColS",f:PKe},15:{n:"PtgElfColSV",f:jKe},16:{n:"PtgElfRadicalLel",f:LKe},25:{n:"PtgList",f:zKe},29:{n:"PtgSxName",f:$Ke},255:{}},QKe={0:{n:"PtgAttrNoop",f:KKe},1:{n:"PtgAttrSemi",f:nKe},2:{n:"PtgAttrIf",f:tKe},4:{n:"PtgAttrChoose",f:ZGe},8:{n:"PtgAttrGoto",f:eKe},16:{n:"PtgAttrSum",f:fKe},32:{n:"PtgAttrBaxcel",f:DG},33:{n:"PtgAttrBaxcel",f:DG},64:{n:"PtgAttrSpace",f:iKe},65:{n:"PtgAttrSpaceSemi",f:sKe},128:{n:"PtgAttrIfError",f:rKe},255:{}};function Rb(t,e,r,n){if(n.biff<8)return Ca(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=wKe(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=bKe(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Ca(t,e)),s}function Pb(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=MG[s]||MG[YKe[s]],(s===24||s===25)&&(i=(s===24?XKe:QKe)[t[t.l+1]]),!i||!i.f?Ca(t,e):a.push([i.n,i.f(t,e,r)]);return a}function JKe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var ZKe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function eYe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function ble(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function LG(t,e,r){var n=ble(t,e,r);return n=="#REF"?n:eYe(n,r)}function ga(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,f,h=0,g=0,v,x="";if(!t[0]||!t[0][0])return"";for(var b=-1,w="",E=0,A=t[0].length;E<A;++E){var k=t[0][E];switch(k[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),b>=0){switch(t[0][b][1][0]){case 0:w=Ei(" ",t[0][b][1][1]);break;case 1:w=Ei("\r",t[0][b][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}u=u+w,b=-1}o.push(u+ZKe[k[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":f=b1(k[1][1],a,i),o.push(w1(f,s));break;case"PtgRefN":f=r?b1(k[1][1],r,i):k[1][1],o.push(w1(f,s));break;case"PtgRef3d":h=k[1][1],f=b1(k[1][2],a,i),x=LG(n,h,i),o.push(x+"!"+w1(f,s));break;case"PtgFunc":case"PtgFuncVar":var R=k[1][0],j=k[1][1];R||(R=0),R&=127;var P=R==0?[]:o.slice(-R);o.length-=R,j==="User"&&(j=P.shift()),o.push(j+"("+P.join(",")+")");break;case"PtgBool":o.push(k[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(k[1]);break;case"PtgNum":o.push(String(k[1]));break;case"PtgStr":o.push('"'+k[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(k[1]);break;case"PtgAreaN":v=fG(k[1][1],r?{s:r}:a,i),o.push($3(v,i));break;case"PtgArea":v=fG(k[1][1],a,i),o.push($3(v,i));break;case"PtgArea3d":h=k[1][1],v=k[1][2],x=LG(n,h,i),o.push(x+"!"+$3(v,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=k[1][2];var S=(n.names||[])[g-1]||(n[0]||[])[g],I=S?S.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var O=k[1][1];g=k[1][2];var D;if(i.biff<=5)O<0&&(O=-O),n[O]&&(D=n[O][g]);else{var M="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][g]&&n[O][g].itab>0&&(M=n.SheetNames[n[O][g].itab-1]+"!"):M=n.SheetNames[g-1]+"!"),n[O]&&n[O][g])M+=n[O][g].Name;else if(n[0]&&n[0][g])M+=n[0][g].Name;else{var F=(ble(n,O,i)||"").split(";;");F[g-1]?M=F[g-1]:M+="SH33TJSERRX"}o.push(M);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var U="(",le=")";if(b>=0){switch(w="",t[0][b][1][0]){case 2:U=Ei(" ",t[0][b][1][1])+U;break;case 3:U=Ei("\r",t[0][b][1][1])+U;break;case 4:le=Ei(" ",t[0][b][1][1])+le;break;case 5:le=Ei("\r",t[0][b][1][1])+le;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}o.push(U+o.pop()+le);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":f={c:k[1][1],r:k[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[Ut(f)]){var J=n.sharedf[Ut(f)];o.push(ga(J,a,de,n,i))}else{var Q=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(f.c<u[0].s.c||f.c>u[0].e.c)&&!(f.r<u[0].s.r||f.r>u[0].e.r)){o.push(ga(u[1],a,de,n,i)),Q=!0;break}Q||o.push(k[1])}break;case"PtgArray":o.push("{"+JKe(k[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+k[1].idx+"[#"+k[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(k));default:throw new Error("Unrecognized Formula Token: "+String(k))}var fe=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&fe.indexOf(t[0][E][0])==-1){k=t[0][b];var ee=!0;switch(k[1][0]){case 4:ee=!1;case 0:w=Ei(" ",k[1][1]);break;case 5:ee=!1;case 1:w=Ei("\r",k[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+k[1][0])}o.push((ee?w:"")+o.pop()+(ee?"":w)),b=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function tYe(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ca(t,e-2)];var o=Pb(t,a,r);return e!==a+i&&(s=Rb(t,e-a-i,o,r)),t.l=n,[o,s]}function rYe(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ca(t,e-2)];var o=Pb(t,a,r);return e!==a+i&&(s=Rb(t,e-a-i,o,r)),t.l=n,[o,s]}function nYe(t,e,r,n){var i=t.l+e,s=Pb(t,n,r),a;return i!==t.l&&(a=Rb(t,i-t.l,s,r)),[s,a]}function iYe(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=Pb(t,s,r);return s==65535?[[],Ca(t,e-2)]:(e!==s+2&&(i=Rb(t,n-s-2,a,r)),[a,i])}function sYe(t){var e;if(Yu(t,t.l+6)!==65535)return[ba(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function aYe(t){if(t==null){var e=Me(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return tm(t);return tm(0)}function K3(t,e,r){var n=t.l+e,i=pu(t);r.biff==2&&++t.l;var s=sYe(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=rYe(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function oYe(t,e,r,n,i){var s=nm(e,r,i),a=aYe(t.v),o=Me(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Me(t.bf.length),f=0;f<t.bf.length;++f)u[f]=t.bf[f];var h=Rs([s,a,o,u]);return h}function Y4(t,e,r){var n=t.read_shift(4),i=Pb(t,n,r),s=t.read_shift(4),a=s>0?Rb(t,s,i,r):null;return[i,a]}var lYe=Y4,X4=Y4,cYe=Y4,uYe=Y4,dYe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},wle={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},fYe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function FG(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function hYe(t){var e="of:="+t.replace(mD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function Y3(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function mYe(t){return t.replace(/\./,"!")}var E1={},cg={},T1=typeof Map<"u";function vD(t,e,r){var n=0,i=t.length;if(r){if(T1?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=T1?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(T1?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function Q4(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(xa=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Sx(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=LT(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function R0(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function wh(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){id(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function _le(t,e,r,n,i,s){try{n.cellNF&&(t.z=Mt[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=$n(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Mt[e]==null&&id(dze[e]||"General",e),t.t==="e")t.w=t.w||jd[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yx(t.v);else if(t.t==="d"){var a=hs(t.v);(a|0)===a?t.w=a.toString(10):t.w=yx(a)}else{if(t.v===void 0)return"";t.w=Z0(t.v,cg)}else t.t==="d"?t.w=Ol(e,hs(t.v),cg):t.w=Ol(e,t.v,cg)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=MT(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=MT(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function pYe(t,e,r){if(t&&t["!ref"]){var n=Cr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function gYe(t,e){var r=Cr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=tr(r))}var vYe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,yYe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,xYe=/<(?:\w:)?hyperlink [^>]*>/mg,bYe=/"(\w*:\w*)"/,wYe=/<(?:\w:)?col\b[^>]*[\/]?>/g,_Ye=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,EYe=/<(?:\w:)?pageMargins[^>]*\/>/g,Ele=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,TYe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,SYe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function AYe(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",f="",h=t.match(yYe);h?(u=t.slice(0,h.index),f=t.slice(h.index+h[0].length)):u=f=t;var g=u.match(Ele);g?yD(g[0],o,i,r):(g=u.match(TYe))&&CYe(g[0],g[1]||"",o,i,r);var v=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(v>0){var x=u.slice(v,v+50).match(bYe);x&&gYe(o,x[1])}var b=u.match(SYe);b&&b[1]&&VYe(b[1],i);var w=[];if(e.cellStyles){var E=u.match(wYe);E&&MYe(w,E)}h&&HYe(h[1],o,e,l,s,a);var A=f.match(_Ye);A&&(o["!autofilter"]=FYe(A[0]));var k=[],R=f.match(vYe);if(R)for(v=0;v!=R.length;++v)k[v]=Cr(R[v].slice(R[v].indexOf('"')+1));var j=f.match(xYe);j&&PYe(o,j,n);var P=f.match(EYe);if(P&&(o["!margins"]=jYe(Ht(P[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=tr(l)),e.sheetRows>0&&o["!ref"]){var S=Cr(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=tr(S))}return w.length>0&&(o["!cols"]=w),k.length>0&&(o["!merges"]=k),o}function kYe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+tr(t[r])+'"/>';return e+"</mergeCells>"}function yD(t,e,r,n){var i=Ht(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=kr(En(i.codeName)))}function CYe(t,e,r,n,i){yD(t.slice(0,t.indexOf(">")),r,n,i)}function NYe(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Yc(cn(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+it("outlinePr",null,u)}!s&&!o||(i[i.length]=it("sheetPr",o,a))}var IYe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],OYe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function RYe(t){var e={sheet:1};return IYe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),OYe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=dD(t.password).toString(16).toUpperCase()),it("sheetProtection",null,e)}function PYe(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=Ht(En(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+kr(s.location))):(s.Target="#"+kr(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Cr(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var f=Ut({c:u,r:l});n?(t[l]||(t[l]=[]),t[l][u]||(t[l][u]={t:"z",v:void 0}),t[l][u].l=s):(t[f]||(t[f]={t:"z",v:void 0}),t[f].l=s)}}}function jYe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function DYe(t){return R0(t),it("pageMargins",null,t)}function MYe(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Ht(e[n],!0);i.hidden&&(i.hidden=Un(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,fD(i.width)),sh(i);s<=a;)t[s++]=Hn(i)}}function LYe(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=it("col",null,Q4(i,n)));return r[r.length]="</cols>",r.join("")}function FYe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function BYe(t,e,r,n){var i=typeof t.ref=="string"?t.ref:tr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=po(i);a.s.r==a.e.r&&(a.e.r=po(e["!ref"]).e.r,i=tr(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),it("autoFilter",null,{ref:i})}var UYe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function VYe(t,e){e.Views||(e.Views=[{}]),(t.match(UYe)||[]).forEach(function(r,n){var i=Ht(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),Un(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function zYe(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),it("sheetViews",it("sheetView",null,i),{})}function $Ye(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=jd[t.v];break;case"d":n&&n.cellDates?i=$n(t.v,-1).toISOString():(t=Hn(t),t.t="n",i=""+(t.v=hs($n(t.v)))),typeof t.z>"u"&&(t.z=Mt[14]);break;default:i=t.v;break}var o=ta("v",cn(i)),l={r:e},u=wh(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=ta("v",""+vD(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var f=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=it("f",cn(t.f),f)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),it("c",o,l)}var HYe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=xx("v"),a=xx("f");return function(l,u,f,h,g,v){for(var x=0,b="",w=[],E=[],A=0,k=0,R=0,j="",P,S,I=0,O=0,D,M,F=0,U=0,le=Array.isArray(v.CellXf),de,J=[],Q=[],fe=Array.isArray(u),ee=[],ge={},q=!1,z=!!f.sheetStubs,V=l.split(e),W=0,Y=V.length;W!=Y;++W){b=V[W].trim();var ue=b.length;if(ue!==0){var me=0;e:for(x=0;x<ue;++x)switch(b[x]){case">":if(b[x-1]!="/"){++x;break e}if(f&&f.cellStyles){if(S=Ht(b.slice(me,x),!0),I=S.r!=null?parseInt(S.r,10):I+1,O=-1,f.sheetRows&&f.sheetRows<I)continue;ge={},q=!1,S.ht&&(q=!0,ge.hpt=parseFloat(S.ht),ge.hpx=Yg(ge.hpt)),S.hidden=="1"&&(q=!0,ge.hidden=!0),S.outlineLevel!=null&&(q=!0,ge.level=+S.outlineLevel),q&&(ee[I-1]=ge)}break;case"<":me=x;break}if(me>=x)break;if(S=Ht(b.slice(me,x),!0),I=S.r!=null?parseInt(S.r,10):I+1,O=-1,!(f.sheetRows&&f.sheetRows<I)){h.s.r>I-1&&(h.s.r=I-1),h.e.r<I-1&&(h.e.r=I-1),f&&f.cellStyles&&(ge={},q=!1,S.ht&&(q=!0,ge.hpt=parseFloat(S.ht),ge.hpx=Yg(ge.hpt)),S.hidden=="1"&&(q=!0,ge.hidden=!0),S.outlineLevel!=null&&(q=!0,ge.level=+S.outlineLevel),q&&(ee[I-1]=ge)),w=b.slice(x).split(t);for(var ce=0;ce!=w.length&&w[ce].trim().charAt(0)=="<";++ce);for(w=w.slice(ce),x=0;x!=w.length;++x)if(b=w[x].trim(),b.length!==0){if(E=b.match(r),A=x,k=0,R=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,E!=null&&E.length===2){for(A=0,j=E[1],k=0;k!=j.length&&!((R=j.charCodeAt(k)-64)<1||R>26);++k)A=26*A+R;--A,O=A}else++O;for(k=0;k!=b.length&&b.charCodeAt(k)!==62;++k);if(++k,S=Ht(b.slice(0,k),!0),S.r||(S.r=Ut({r:I-1,c:O})),j=b.slice(k),P={t:""},(E=j.match(s))!=null&&E[1]!==""&&(P.v=kr(E[1])),f.cellFormula){if((E=j.match(a))!=null&&E[1]!==""){if(P.f=kr(En(E[1])).replace(/\r\n/g,`
`),f.xlfn||(P.f=jG(P.f)),E[0].indexOf('t="array"')>-1)P.F=(j.match(i)||[])[1],P.F.indexOf(":")>-1&&J.push([Cr(P.F),P.F]);else if(E[0].indexOf('t="shared"')>-1){M=Ht(E[0]);var ie=kr(En(E[1]));f.xlfn||(ie=jG(ie)),Q[parseInt(M.si,10)]=[M,ie,S.r]}}else(E=j.match(/<f[^>]*\/>/))&&(M=Ht(E[0]),Q[M.si]&&(P.f=UGe(Q[M.si][1],Q[M.si][2],S.r)));var ve=di(S.r);for(k=0;k<J.length;++k)ve.r>=J[k][0].s.r&&ve.r<=J[k][0].e.r&&ve.c>=J[k][0].s.c&&ve.c<=J[k][0].e.c&&(P.F=J[k][1])}if(S.t==null&&P.v===void 0)if(P.f||P.F)P.v=0,P.t="n";else if(z)P.t="z";else continue;else P.t=S.t||"n";switch(h.s.c>O&&(h.s.c=O),h.e.c<O&&(h.e.c=O),P.t){case"n":if(P.v==""||P.v==null){if(!z)continue;P.t="z"}else P.v=parseFloat(P.v);break;case"s":if(typeof P.v>"u"){if(!z)continue;P.t="z"}else D=E1[parseInt(P.v,10)],P.v=D.t,P.r=D.r,f.cellHTML&&(P.h=D.h);break;case"str":P.t="s",P.v=P.v!=null?En(P.v):"",f.cellHTML&&(P.h=Xj(P.v));break;case"inlineStr":E=j.match(n),P.t="s",E!=null&&(D=uD(E[1]))?(P.v=D.t,f.cellHTML&&(P.h=D.h)):P.v="";break;case"b":P.v=Un(P.v);break;case"d":f.cellDates?P.v=$n(P.v,1):(P.v=hs($n(P.v,1)),P.t="n");break;case"e":(!f||f.cellText!==!1)&&(P.w=P.v),P.v=Soe[P.v];break}if(F=U=0,de=null,le&&S.s!==void 0&&(de=v.CellXf[S.s],de!=null&&(de.numFmtId!=null&&(F=de.numFmtId),f.cellStyles&&de.fillId!=null&&(U=de.fillId))),_le(P,F,U,f,g,v),f.cellDates&&le&&P.t=="n"&&Cv(Mt[F])&&(P.t="d",P.v=G4(P.v)),S.cm&&f.xlmeta){var Ue=(f.xlmeta.Cell||[])[+S.cm-1];Ue&&Ue.type=="XLDAPR"&&(P.D=!0)}if(fe){var G=di(S.r);u[G.r]||(u[G.r]=[]),u[G.r][G.c]=P}else u[S.r]=P}}}}ee.length>0&&(u["!rows"]=ee)}})();function qYe(t,e,r,n){var i=[],s=[],a=Cr(t["!ref"]),o="",l,u="",f=[],h=0,g=0,v=t["!rows"],x=Array.isArray(t),b={r:u},w,E=-1;for(g=a.s.c;g<=a.e.c;++g)f[g]=ui(g);for(h=a.s.r;h<=a.e.r;++h){for(s=[],u=Di(h),g=a.s.c;g<=a.e.c;++g){l=f[g]+u;var A=x?(t[h]||[])[g]:t[l];A!==void 0&&(o=$Ye(A,l,t,e))!=null&&s.push(o)}(s.length>0||v&&v[h])&&(b={r:u},v&&v[h]&&(w=v[h],w.hidden&&(b.hidden=1),E=-1,w.hpx?E=Ax(w.hpx):w.hpt&&(E=w.hpt),E>-1&&(b.ht=E,b.customHeight=1),w.level&&(b.outlineLevel=w.level)),i[i.length]=it("row",s.join(""),b))}if(v)for(;h<v.length;++h)v&&v[h]&&(b={r:h+1},w=v[h],w.hidden&&(b.hidden=1),E=-1,w.hpx?E=Ax(w.hpx):w.hpt&&(E=w.hpt),E>-1&&(b.ht=E,b.customHeight=1),w.level&&(b.outlineLevel=w.level),i[i.length]=it("row","",b));return i.join("")}function Tle(t,e,r,n){var i=[Mi,it("worksheet",null,{xmlns:bm[0],"xmlns:r":ds.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",f=Cr(u);if(f.e.c>16383||f.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");f.e.c=Math.min(f.e.c,16383),f.e.r=Math.min(f.e.c,1048575),u=tr(f)}n||(n={}),l["!comments"]=[];var h=[];NYe(l,r,t,e,i),i[i.length]=it("dimension",null,{ref:u}),i[i.length]=zYe(l,e,t,r),e.sheetFormat&&(i[i.length]=it("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=LYe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=qYe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=RYe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=BYe(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=kYe(l["!merges"]));var g=-1,v,x=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(x=an(n,-1,cn(b[1].Target).replace(/#.*$/,""),cr.HLINK),v["r:id"]="rId"+x),(g=b[1].Target.indexOf("#"))>-1&&(v.location=cn(b[1].Target.slice(g+1))),b[1].Tooltip&&(v.tooltip=cn(b[1].Tooltip)),i[i.length]=it("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=DYe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=ta("ignoredErrors",it("ignoredError",null,{numberStoredAsText:1,sqref:u}))),h.length>0&&(x=an(n,-1,"../drawings/drawing"+(t+1)+".xml",cr.DRAW),i[i.length]=it("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=h),l["!comments"].length>0&&(x=an(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",cr.VML),i[i.length]=it("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function WYe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function GYe(t,e,r){var n=Me(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=Ax(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},f=0;f<16;++f)if(!(e.s.c>f+1<<10||e.e.c<f<<10)){for(var h=-1,g=-1,v=f<<10;v<f+1<<10;++v){u.c=v;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ut(u)];x&&(h<0&&(h=v),g=v)}h<0||(++o,n.write_shift(4,h),n.write_shift(4,g))}var b=n.l;return n.l=l,n.write_shift(4,o),n.l=b,n.length>n.l?n.slice(0,n.l):n}function KYe(t,e,r,n){var i=GYe(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&He(t,0,i)}var YYe=Tm,XYe=Ov;function QYe(){}function JYe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=t$e(t),r}function ZYe(t,e,r){r==null&&(r=Me(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return PT({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),boe(t,r),r.slice(0,r.l)}function eXe(t){var e=jl(t);return[e]}function tXe(t,e,r){return r==null&&(r=Me(8)),wm(e,r)}function rXe(t){var e=_m(t);return[e]}function nXe(t,e,r){return r==null&&(r=Me(4)),Em(e,r)}function iXe(t){var e=jl(t),r=t.read_shift(1);return[e,r,"b"]}function sXe(t,e,r){return r==null&&(r=Me(9)),wm(e,r),r.write_shift(1,t.v?1:0),r}function aXe(t){var e=_m(t),r=t.read_shift(1);return[e,r,"b"]}function oXe(t,e,r){return r==null&&(r=Me(5)),Em(e,r),r.write_shift(1,t.v?1:0),r}function lXe(t){var e=jl(t),r=t.read_shift(1);return[e,r,"e"]}function cXe(t,e,r){return r==null&&(r=Me(9)),wm(e,r),r.write_shift(1,t.v),r}function uXe(t){var e=_m(t),r=t.read_shift(1);return[e,r,"e"]}function dXe(t,e,r){return r==null&&(r=Me(8)),Em(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function fXe(t){var e=jl(t),r=t.read_shift(4);return[e,r,"s"]}function hXe(t,e,r){return r==null&&(r=Me(12)),wm(e,r),r.write_shift(4,e.v),r}function mXe(t){var e=_m(t),r=t.read_shift(4);return[e,r,"s"]}function pXe(t,e,r){return r==null&&(r=Me(8)),Em(e,r),r.write_shift(4,e.v),r}function gXe(t){var e=jl(t),r=ba(t);return[e,r,"n"]}function vXe(t,e,r){return r==null&&(r=Me(16)),wm(e,r),tm(t.v,r),r}function Sle(t){var e=_m(t),r=ba(t);return[e,r,"n"]}function yXe(t,e,r){return r==null&&(r=Me(12)),Em(e,r),tm(t.v,r),r}function xXe(t){var e=jl(t),r=sD(t);return[e,r,"n"]}function bXe(t,e,r){return r==null&&(r=Me(12)),wm(e,r),woe(t.v,r),r}function wXe(t){var e=_m(t),r=sD(t);return[e,r,"n"]}function _Xe(t,e,r){return r==null&&(r=Me(8)),Em(e,r),woe(t.v,r),r}function EXe(t){var e=jl(t),r=rD(t);return[e,r,"is"]}function TXe(t){var e=jl(t),r=Aa(t);return[e,r,"str"]}function SXe(t,e,r){return r==null&&(r=Me(12+4*t.v.length)),wm(e,r),Ps(t.v,r),r.length>r.l?r.slice(0,r.l):r}function AXe(t){var e=_m(t),r=Aa(t);return[e,r,"str"]}function kXe(t,e,r){return r==null&&(r=Me(8+4*t.v.length)),Em(e,r),Ps(t.v,r),r.length>r.l?r.slice(0,r.l):r}function CXe(t,e,r){var n=t.l+e,i=jl(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=X4(t,n-t.l,r);a[3]=ga(o,null,i,r.supbooks,r)}else t.l=n;return a}function NXe(t,e,r){var n=t.l+e,i=jl(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=X4(t,n-t.l,r);a[3]=ga(o,null,i,r.supbooks,r)}else t.l=n;return a}function IXe(t,e,r){var n=t.l+e,i=jl(t);i.r=r["!row"];var s=ba(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=X4(t,n-t.l,r);a[3]=ga(o,null,i,r.supbooks,r)}else t.l=n;return a}function OXe(t,e,r){var n=t.l+e,i=jl(t);i.r=r["!row"];var s=Aa(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=X4(t,n-t.l,r);a[3]=ga(o,null,i,r.supbooks,r)}else t.l=n;return a}var RXe=Tm,PXe=Ov;function jXe(t,e){return e==null&&(e=Me(4)),e.write_shift(4,t),e}function DXe(t,e){var r=t.l+e,n=Tm(t),i=nD(t),s=Aa(t),a=Aa(t),o=Aa(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function MXe(t,e){var r=Me(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Ov({s:di(t[0]),e:di(t[0])},r),iD("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Ps(i||"",r),Ps(t[1].Tooltip||"",r),Ps("",r),r.slice(0,r.l)}function LXe(){}function FXe(t,e,r){var n=t.l+e,i=_oe(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=lYe(t,n-t.l,r);a[1]=o}else t.l=n;return a}function BXe(t,e,r){var n=t.l+e,i=Tm(t),s=[i];if(r.cellFormula){var a=uYe(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function UXe(t,e,r){r==null&&(r=Me(18));var n=Q4(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var Ale=["left","right","top","bottom","header","footer"];function VXe(t){var e={};return Ale.forEach(function(r){e[r]=ba(t)}),e}function zXe(t,e){return e==null&&(e=Me(48)),R0(t),Ale.forEach(function(r){tm(t[r],e)}),e}function $Xe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function HXe(t,e,r){r==null&&(r=Me(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function qXe(t){var e=Me(24);return e.write_shift(4,4),e.write_shift(4,1),Ov(t,e),e}function WXe(t,e){return e==null&&(e=Me(66)),e.write_shift(2,t.password?dD(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function GXe(){}function KXe(){}function YXe(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,f={s:{r:2e6,c:2e6},e:{r:0,c:0}},h=!1,g=!1,v,x,b,w,E,A,k,R,j,P=[];o.biff=12,o["!row"]=0;var S=0,I=!1,O=[],D={},M=o.supbooks||i.supbooks||[[]];if(M.sharedf=D,M.arrayf=O,M.SheetNames=i.SheetNames||i.Sheets.map(function(fe){return fe.name}),!o.supbooks&&(o.supbooks=M,i.Names))for(var F=0;F<i.Names.length;++F)M[0][F+1]=i.Names[F];var U=[],le=[],de=!1;kx[16]={n:"BrtShortReal",f:Sle};var J;if(Pd(t,function(ee,ge,q){if(!g)switch(q){case 148:u=ee;break;case 0:v=ee,o.sheetRows&&o.sheetRows<=v.r&&(g=!0),R=Di(w=v.r),o["!row"]=v.r,(ee.hidden||ee.hpt||ee.level!=null)&&(ee.hpt&&(ee.hpx=Yg(ee.hpt)),le[ee.r]=ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:ee[2]},ee[2]){case"n":x.v=ee[1];break;case"s":k=E1[ee[1]],x.v=k.t,x.r=k.r;break;case"b":x.v=!!ee[1];break;case"e":x.v=ee[1],o.cellText!==!1&&(x.w=jd[x.v]);break;case"str":x.t="s",x.v=ee[1];break;case"is":x.t="s",x.v=ee[1].t;break}if((b=a.CellXf[ee[0].iStyleRef])&&_le(x,b.numFmtId,null,o,s,a),E=ee[0].c==-1?E+1:ee[0].c,o.dense?(l[w]||(l[w]=[]),l[w][E]=x):l[ui(E)+R]=x,o.cellFormula){for(I=!1,S=0;S<O.length;++S){var z=O[S];v.r>=z[0].s.r&&v.r<=z[0].e.r&&E>=z[0].s.c&&E<=z[0].e.c&&(x.F=tr(z[0]),I=!0)}!I&&ee.length>3&&(x.f=ee[3])}if(f.s.r>v.r&&(f.s.r=v.r),f.s.c>E&&(f.s.c=E),f.e.r<v.r&&(f.e.r=v.r),f.e.c<E&&(f.e.c=E),o.cellDates&&b&&x.t=="n"&&Cv(Mt[b.numFmtId])){var V=w0(x.v);V&&(x.t="d",x.v=new Date(V.y,V.m-1,V.d,V.H,V.M,V.S,V.u))}J&&(J.type=="XLDAPR"&&(x.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||h)break;x={t:"z",v:void 0},E=ee[0].c==-1?E+1:ee[0].c,o.dense?(l[w]||(l[w]=[]),l[w][E]=x):l[ui(E)+R]=x,f.s.r>v.r&&(f.s.r=v.r),f.s.c>E&&(f.s.c=E),f.e.r<v.r&&(f.e.r=v.r),f.e.c<E&&(f.e.c=E),J&&(J.type=="XLDAPR"&&(x.D=!0),J=void 0);break;case 176:P.push(ee);break;case 49:J=((o.xlmeta||{}).Cell||[])[ee-1];break;case 494:var W=n["!id"][ee.relId];for(W?(ee.Target=W.Target,ee.loc&&(ee.Target+="#"+ee.loc),ee.Rel=W):ee.relId==""&&(ee.Target="#"+ee.loc),w=ee.rfx.s.r;w<=ee.rfx.e.r;++w)for(E=ee.rfx.s.c;E<=ee.rfx.e.c;++E)o.dense?(l[w]||(l[w]=[]),l[w][E]||(l[w][E]={t:"z",v:void 0}),l[w][E].l=ee):(A=Ut({c:E,r:w}),l[A]||(l[A]={t:"z",v:void 0}),l[A].l=ee);break;case 426:if(!o.cellFormula)break;O.push(ee),j=o.dense?l[w][E]:l[ui(E)+R],j.f=ga(ee[1],f,{r:v.r,c:E},M,o),j.F=tr(ee[0]);break;case 427:if(!o.cellFormula)break;D[Ut(ee[0].s)]=ee[1],j=o.dense?l[w][E]:l[ui(E)+R],j.f=ga(ee[1],f,{r:v.r,c:E},M,o);break;case 60:if(!o.cellStyles)break;for(;ee.e>=ee.s;)U[ee.e--]={width:ee.w/256,hidden:!!(ee.flags&1),level:ee.level},de||(de=!0,fD(ee.w/256)),sh(U[ee.e+1]);break;case 161:l["!autofilter"]={ref:tr(ee)};break;case 476:l["!margins"]=ee;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ee.name&&(i.Sheets[r].CodeName=ee.name),(ee.above||ee.left)&&(l["!outline"]={above:ee.above,left:ee.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ee.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:h=!0;break;case 36:h=!1;break;case 37:h=!0;break;case 38:h=!1;break;default:if(!ge.T){if(!h||o.WTF)throw new Error("Unexpected record 0x"+q.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(f.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=tr(u||f)),o.sheetRows&&l["!ref"]){var Q=Cr(l["!ref"]);o.sheetRows<=+Q.e.r&&(Q.e.r=o.sheetRows-1,Q.e.r>f.e.r&&(Q.e.r=f.e.r),Q.e.r<Q.s.r&&(Q.s.r=Q.e.r),Q.e.c>f.e.c&&(Q.e.c=f.e.c),Q.e.c<Q.s.c&&(Q.s.c=Q.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tr(Q))}return P.length>0&&(l["!merges"]=P),U.length>0&&(l["!cols"]=U),le.length>0&&(l["!rows"]=le),l}function XXe(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Hn(e),e.z=e.z||Mt[14],e.v=hs($n(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=wh(i.cellXfs,e,i),e.l&&s["!links"].push([Ut(l),e.l]),e.c&&s["!comments"].push([Ut(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=vD(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?He(t,18,pXe(e,l)):He(t,7,hXe(e,l))):(l.t="str",a?He(t,17,kXe(e,l)):He(t,6,SXe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?He(t,13,_Xe(e,l)):He(t,2,bXe(e,l)):a?He(t,16,yXe(e,l)):He(t,5,vXe(e,l)),!0;case"b":return l.t="b",a?He(t,15,oXe(e,l)):He(t,4,sXe(e,l)),!0;case"e":return l.t="e",a?He(t,14,dXe(e,l)):He(t,3,cXe(e,l)),!0}return a?He(t,12,nXe(e,l)):He(t,1,tXe(e,l)),!0}function QXe(t,e,r,n){var i=Cr(e["!ref"]||"A1"),s,a="",o=[];He(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var f=i.s.r;f<=u;++f){a=Di(f),KYe(t,e,i,f);var h=!1;if(f<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){f===i.s.r&&(o[g]=ui(g)),s=o[g]+a;var v=l?(e[f]||[])[g]:e[s];if(!v){h=!1;continue}h=XXe(t,v,f,g,n,e,h)}}He(t,146)}function JXe(t,e){!e||!e["!merges"]||(He(t,177,jXe(e["!merges"].length)),e["!merges"].forEach(function(r){He(t,176,PXe(r))}),He(t,178))}function ZXe(t,e){!e||!e["!cols"]||(He(t,390),e["!cols"].forEach(function(r,n){r&&He(t,60,UXe(n,r))}),He(t,391))}function eQe(t,e){!e||!e["!ref"]||(He(t,648),He(t,649,qXe(Cr(e["!ref"]))),He(t,650))}function tQe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=an(r,-1,n[1].Target.replace(/#.*$/,""),cr.HLINK);He(t,494,MXe(n,i))}}),delete e["!links"]}function rQe(t,e,r,n){if(e["!comments"].length>0){var i=an(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",cr.VML);He(t,551,iD("rId"+i)),e["!legacy"]=i}}function nQe(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:tr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=po(s);o.s.r==o.e.r&&(o.e.r=po(e["!ref"]).e.r,s=tr(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),He(t,161,Ov(Cr(s))),He(t,162)}}function iQe(t,e,r){He(t,133),He(t,137,HXe(e,r)),He(t,138),He(t,134)}function sQe(t,e){e["!protect"]&&He(t,535,WXe(e["!protect"]))}function aQe(t,e,r,n){var i=fo(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Cr(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],He(i,129),(r.vbaraw||a["!outline"])&&He(i,147,ZYe(o,a["!outline"])),He(i,148,XYe(l)),iQe(i,a,r.Workbook),ZXe(i,a),QXe(i,a,t,e),sQe(i,a),nQe(i,a,r,t),JXe(i,a),tQe(i,a,n),a["!margins"]&&He(i,476,zXe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&eQe(i,a),rQe(i,a,t,n),He(i,130),i.end()}function oQe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=kr((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function lQe(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,u="A",f={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(h){var g=oQe(h);f.s.r=f.s.c=0,f.e.c=o,u=ui(o),g[0].forEach(function(v,x){a[u+Di(x)]={t:"n",v,z:g[1]},l=x}),f.e.r<l&&(f.e.r=l),++o}),o>0&&(a["!ref"]=tr(f)),a}function cQe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(Ele);return o&&yD(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function uQe(t,e){t.l+=10;var r=Aa(t);return{name:r}}function dQe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Pd(t,function(l,u,f){switch(f){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+f.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var xD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],fQe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],hQe=[],mQe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function BG(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=Un(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function UG(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=Un(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function kle(t){UG(t.WBProps,xD),UG(t.CalcPr,mQe),BG(t.WBView,fQe),BG(t.Sheets,hQe),cg.date1904=Un(t.WBProps.date1904)}function pQe(t){return!t.Workbook||!t.Workbook.WBProps?"false":Un(t.Workbook.WBProps.date1904)?"true":"false"}var gQe="][*?/\\".split("");function Cle(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return gQe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function vQe(t,e,r){t.forEach(function(n,i){Cle(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function yQe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];vQe(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)pYe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var xQe=/<\w+:workbook/;function bQe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(Ia,function(l,u){var f=Ht(l);switch(mu(f[0])){case"<?xml":break;case"<workbook":l.match(xQe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=f[i];break;case"</workbook>":break;case"<fileVersion":delete f[0],r.AppVersion=f;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":xD.forEach(function(h){if(f[h[0]]!=null)switch(h[2]){case"bool":r.WBProps[h[0]]=Un(f[h[0]]);break;case"int":r.WBProps[h[0]]=parseInt(f[h[0]],10);break;default:r.WBProps[h[0]]=f[h[0]]}}),f.codeName&&(r.WBProps.CodeName=En(f.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete f[0],r.WBView.push(f);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(f.state){case"hidden":f.Hidden=1;break;case"veryHidden":f.Hidden=2;break;default:f.Hidden=0}delete f.state,f.name=kr(En(f.name)),delete f[0],r.Sheets.push(f);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=En(f.name),f.comment&&(s.Comment=f.comment),f.localSheetId&&(s.Sheet=+f.localSheetId),Un(f.hidden||"0")&&(s.Hidden=!0),a=u+l.length;break;case"</definedName>":s.Ref=kr(En(t.slice(a,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete f[0],r.CalcPr=f;break;case"<calcPr/>":delete f[0],r.CalcPr=f;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+f[0]+" in workbook")}return l}),bm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return kle(r),r}function Nle(t){var e=[Mi];e[e.length]=it("workbook",null,{xmlns:bm[0],"xmlns:r":ds.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(xD.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=it("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:cn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=it("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=it("definedName",cn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function wQe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=qO(t),r.name=Aa(t),r}function _Qe(t,e){return e||(e=Me(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),iD(t.strRelID,e),Ps(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function EQe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Aa(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function TQe(t,e){e||(e=Me(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),boe(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function SQe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function AQe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=r$e(t),a=cYe(t,0,r),o=nD(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function kQe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],kx[16]={n:"BrtFRTArchID$",f:SQe},Pd(t,function(l,u,f){switch(f){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ga(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([f,l]):a[0]=[f,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(f),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(f),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+f.toString(16))}}},e),kle(r),r.Names=s,r.supbooks=a,r}function CQe(t,e){He(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};He(t,156,_Qe(i))}He(t,144)}function NQe(t,e){e||(e=Me(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Ps("SheetJS",e),Ps(AT.version,e),Ps(AT.version,e),Ps("7262",e),e.length>e.l?e.slice(0,e.l):e}function IQe(t,e){e||(e=Me(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function OQe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(He(t,135),He(t,158,IQe(i)),He(t,136))}}function RQe(t,e){var r=fo();return He(r,131),He(r,128,NQe()),He(r,153,TQe(t.Workbook&&t.Workbook.WBProps||null)),OQe(r,t),CQe(r,t),He(r,132),r.end()}function PQe(t,e,r){return e.slice(-4)===".bin"?kQe(t,r):bQe(t,r)}function jQe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?YXe(t,n,r,i,s,a,o):AYe(t,n,r,i,s,a,o)}function DQe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?dQe(t,n,r,i,s):cQe(t,n,r,i,s)}function MQe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?FGe():BGe()}function LQe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?MGe():LGe()}function FQe(t,e,r,n){return e.slice(-4)===".bin"?PWe(t,r,n):wWe(t,r,n)}function BQe(t,e,r){return cle(t,r)}function UQe(t,e,r){return e.slice(-4)===".bin"?Uqe(t,r):Lqe(t,r)}function VQe(t,e,r){return e.slice(-4)===".bin"?OGe(t,r):_Ge(t,r)}function zQe(t,e,r){return e.slice(-4)===".bin"?xGe(t):vGe(t)}function $Qe(t,e,r,n){return r.slice(-4)===".bin"?bGe(t,e,r,n):void 0}function HQe(t,e,r){return e.slice(-4)===".bin"?mGe(t,e,r):gGe(t,e,r)}function qQe(t,e,r){return(e.slice(-4)===".bin"?RQe:Nle)(t)}function WQe(t,e,r,n,i){return(e.slice(-4)===".bin"?aQe:Tle)(t,r,n,i)}function GQe(t,e,r){return(e.slice(-4)===".bin"?$We:ole)(t,r)}function KQe(t,e,r){return(e.slice(-4)===".bin"?$qe:Zoe)(t,r)}function YQe(t,e,r){return(e.slice(-4)===".bin"?RGe:fle)(t)}function XQe(t){return(t.slice(-4)===".bin"?pGe:ule)()}var Ile=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,Ole=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Wl(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(Ile),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(Ole),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function QQe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(Ile),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(Ole),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var S1;function JQe(t,e){var r=S1[t]||kr(t);return r==="General"?Z0(e):Ol(r,e)}function ZQe(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=Un(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=$n(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[kr(e)]=i}function eJe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||jd[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yx(t.v):t.w=Z0(t.v):t.w=JQe(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=S1[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Cv(n)){var i=w0(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function tJe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=hWe[n.Pattern]||n.Pattern)}t[e.ID]=e}function rJe(t,e,r,n,i,s,a,o,l,u){var f="General",h=n.StyleID,g={};u=u||{};var v=[],x=0;for(h===void 0&&o&&(h=o.StyleID),h===void 0&&a&&(h=a.StyleID);s[h]!==void 0&&(s[h].nf&&(f=s[h].nf),s[h].Interior&&v.push(s[h].Interior),!!s[h].Parent);)h=s[h].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=Un(t);break;case"String":n.t="s",n.r=nG(kr(t)),n.v=t.indexOf("<")>-1?kr(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=($n(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=kr(t):n.v<60&&(n.v=n.v-1),(!f||f=="General")&&(f="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Soe[t],u.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=nG(e||t));break}if(eJe(n,f,u),u.cellFormula!==!1)if(n.Formula){var b=kr(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=lg(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=lg("RC:RC",i):n.ArrayRange&&(n.F=lg(n.ArrayRange,i),l.push([Cr(n.F),n.F]))}else for(x=0;x<l.length;++x)i.r>=l[x][0].s.r&&i.r<=l[x][0].e.r&&i.c>=l[x][0].s.c&&i.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(v.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function nJe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function X3(t,e){var r=e||{};Nv();var n=Qy(Qj(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=En(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Hn(r);return a.type="string",Kg.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(at){i.indexOf("<"+at)>=0&&(s=!0)}),s)return zJe(n,r);S1={"General Number":"General","General Date":Mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Mt[15],"Short Date":Mt[14],"Long Time":Mt[19],"Medium Time":Mt[18],"Short Time":Mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Mt[2],Standard:Mt[4],Percent:Mt[10],Scientific:Mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,f={},h=[],g=r.dense?[]:{},v="",x={},b={},w=Wl('<Data ss:Type="String">'),E=0,A=0,k=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},j={},P={},S="",I=0,O=[],D={},M={},F=0,U=[],le=[],de={},J=[],Q,fe=!1,ee=[],ge=[],q={},z=0,V=0,W={Sheets:[],WBProps:{date1904:!1}},Y={};wx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ue="";o=wx.exec(n);)switch(o[3]=(ue=o[3]).toLowerCase()){case"data":if(ue=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?rJe(n.slice(E,o.index),S,w,l[l.length-1][0]=="comment"?de:x,{c:A,r:k},j,J[A],b,ee,r):(S="",w=Wl(o[0]),E=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(le.length>0&&(x.c=le),(!r.sheetRows||r.sheetRows>k)&&x.v!==void 0&&(r.dense?(g[k]||(g[k]=[]),g[k][A]=x):g[ui(A)+Di(k)]=x),x.HRef&&(x.l={Target:kr(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(z=A+(parseInt(x.MergeAcross,10)|0),V=k+(parseInt(x.MergeDown,10)|0),O.push({s:{c:A,r:k},e:{c:z,r:V}})),!r.sheetStubs)x.MergeAcross?A=z+1:++A;else if(x.MergeAcross||x.MergeDown){for(var me=A;me<=z;++me)for(var ce=k;ce<=V;++ce)(me>A||ce>k)&&(r.dense?(g[ce]||(g[ce]=[]),g[ce][me]={t:"z"}):g[ui(me)+Di(ce)]={t:"z"});A=z+1}else++A;else x=QQe(o[0]),x.Index&&(A=+x.Index-1),A<R.s.c&&(R.s.c=A),A>R.e.c&&(R.e.c=A),o[0].slice(-2)==="/>"&&++A,le=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(k<R.s.r&&(R.s.r=k),k>R.e.r&&(R.e.r=k),o[0].slice(-2)==="/>"&&(b=Wl(o[0]),b.Index&&(k=+b.Index-1)),A=0,++k):(b=Wl(o[0]),b.Index&&(k=+b.Index-1),q={},(b.AutoFitHeight=="0"||b.Height)&&(q.hpx=parseInt(b.Height,10),q.hpt=Ax(q.hpx),ge[k]=q),b.Hidden=="1"&&(q.hidden=!0,ge[k]=q));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));h.push(v),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(g["!ref"]=tr(R),r.sheetRows&&r.sheetRows<=R.e.r&&(g["!fullref"]=g["!ref"],R.e.r=r.sheetRows-1,g["!ref"]=tr(R))),O.length&&(g["!merges"]=O),J.length>0&&(g["!cols"]=J),ge.length>0&&(g["!rows"]=ge),f[v]=g}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},k=A=0,l.push([o[3],!1]),u=Wl(o[0]),v=kr(u.Name),g=r.dense?[]:{},O=[],ee=[],ge=[],Y={name:v,Hidden:0},W.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),J=[],fe=!1}break;case"style":o[1]==="/"?tJe(j,P,r):P=Wl(o[0]);break;case"numberformat":P.nf=kr(Wl(o[0]).Format||"General"),S1[P.nf]&&(P.nf=S1[P.nf]);for(var ie=0;ie!=392&&Mt[ie]!=P.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Mt[ie]==null){id(P.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Q=Wl(o[0]),Q.Hidden&&(Q.hidden=!0,delete Q.Hidden),Q.Width&&(Q.wpx=parseInt(Q.Width,10)),!fe&&Q.wpx>10){fe=!0,xa=sle;for(var ve=0;ve<J.length;++ve)J[ve]&&sh(J[ve])}fe&&sh(Q),J[Q.Index-1||J.length]=Q;for(var Ue=0;Ue<+Q.Span;++Ue)J[J.length]=Hn(Q);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var G=Ht(o[0]),Je={Name:G.Name,Ref:lg(G.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(Je.Sheet=W.Sheets.length-1),W.Names.push(Je);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;P.Interior=Wl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?k$e(D,ue,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));nJe(de),le.push(de)}else l.push([o[3],!1]),u=Wl(o[0]),de={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Oe=Wl(o[0]);g["!autofilter"]={ref:lg(Oe.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return qG(n,r);var rt=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:rt=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:rt=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:rt=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:rt=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else F=o.index+o[0].length;break;case"header":g["!margins"]||R0(g["!margins"]={},"xlml"),isNaN(+Ht(o[0]).Margin)||(g["!margins"].header=+Ht(o[0]).Margin);break;case"footer":g["!margins"]||R0(g["!margins"]={},"xlml"),isNaN(+Ht(o[0]).Margin)||(g["!margins"].footer=+Ht(o[0]).Margin);break;case"pagemargins":var Xe=Ht(o[0]);g["!margins"]||R0(g["!margins"]={},"xlml"),isNaN(+Xe.Top)||(g["!margins"].top=+Xe.Top),isNaN(+Xe.Left)||(g["!margins"].left=+Xe.Left),isNaN(+Xe.Right)||(g["!margins"].right=+Xe.Right),isNaN(+Xe.Bottom)||(g["!margins"].bottom=+Xe.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:rt=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:rt=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:rt=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:rt=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:rt=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:rt=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:rt=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:rt=!1}break;case"smarttags":break;default:rt=!1;break}if(rt||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?ZQe(M,ue,U,n.slice(F,o.index)):(U=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var je={};return!r.bookSheets&&!r.bookProps&&(je.Sheets=f),je.SheetNames=h,je.Workbook=W,je.SSF=Hn(Mt),je.Props=D,je.Custprops=M,je}function JO(t,e){switch(wD(e=e||{}),e.type||"base64"){case"base64":return X3(Go(t),e);case"binary":case"buffer":case"file":return X3(t,e);case"array":return X3(xh(t),e)}}function iJe(t,e){var r=[];return t.Props&&r.push(C$e(t.Props,e)),t.Custprops&&r.push(N$e(t.Props,t.Custprops)),r.join("")}function sJe(){return""}function aJe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(it("NumberFormat",null,{"ss:Format":cn(Mt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(it("Style",s.join(""),a))}),it("Styles",r.join(""))}function Rle(t){return it("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+pD(t.Ref,{r:0,c:0})})}function oJe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(Rle(i)))}return it("Names",r.join(""))}function lJe(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(Rle(o)))}return s.join("")}function cJe(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(it("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(it("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(it("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(it("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(ta("ProtectContents","True")),t["!protect"].objects&&i.push(ta("ProtectObjects","True")),t["!protect"].scenarios&&i.push(ta("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(ta("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(ta("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":it("WorksheetOptions",i.join(""),{xmlns:Io.x})}function uJe(t){return t.map(function(e){var r=Oze(e.t||""),n=it("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return it("Comment",n,{"ss:Author":e.a})}).join("")}function dJe(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+cn(pD(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=di(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=cn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=cn(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],f=0;f!=u.length;++f)u[f].s.c!=a.c||u[f].s.r!=a.r||(u[f].e.c>u[f].s.c&&(o["ss:MergeAcross"]=u[f].e.c-u[f].s.c),u[f].e.r>u[f].s.r&&(o["ss:MergeDown"]=u[f].e.r-u[f].s.r));var h="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":h="Number",g=String(t.v);break;case"b":h="Boolean",g=t.v?"1":"0";break;case"e":h="Error",g=jd[t.v];break;case"d":h="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Mt[14]);break;case"s":h="String",g=Ize(t.v||"");break}var v=wh(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+v),o["ss:Index"]=a.c+1;var x=t.v!=null?g:"",b=t.t=="z"?"":'<Data ss:Type="'+h+'">'+x+"</Data>";return(t.c||[]).length>0&&(b+=uJe(t.c)),it("Cell",b,o)}function fJe(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Yg(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function hJe(t,e,r,n){if(!t["!ref"])return"";var i=Cr(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(w,E){sh(w);var A=!!w.width,k=Q4(E,w),R={"ss:Index":E+1};A&&(R["ss:Width"]=Tx(k.width)),w.hidden&&(R["ss:Hidden"]="1"),o.push(it("Column",null,R))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var f=[fJe(u,(t["!rows"]||[])[u])],h=i.s.c;h<=i.e.c;++h){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>h)&&!(s[a].s.r>u)&&!(s[a].e.c<h)&&!(s[a].e.r<u)){(s[a].s.c!=h||s[a].s.r!=u)&&(g=!0);break}if(!g){var v={r:u,c:h},x=Ut(v),b=l?(t[u]||[])[h]:t[x];f.push(dJe(b,x,t,e,r,n,v))}}f.push("</Row>"),f.length>2&&o.push(f.join(""))}return o.join("")}function mJe(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?lJe(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?hJe(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(cJe(s,e,t,r)),n.join("")}function pJe(t,e){e||(e={}),t.SSF||(t.SSF=Hn(Mt)),t.SSF&&(Nv(),H4(t.SSF),e.revssf=W4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],wh(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(iJe(t,e)),r.push(sJe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(it("Worksheet",mJe(n,e,t),{"ss:Name":cn(t.SheetNames[n])}));return r[2]=aJe(t,e),r[3]=oJe(t),Mi+it("Workbook",r.join(""),{xmlns:Io.ss,"xmlns:o":Io.o,"xmlns:x":Io.x,"xmlns:ss":Io.ss,"xmlns:dt":Io.dt,"xmlns:html":Io.html})}function gJe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=o$e(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=l$e(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var vJe=[60,1084,2066,2165,2175];function yJe(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=Yu(r,r.l),u=ZO[l],f=0;u!=null&&vJe.indexOf(l)>-1;)s=Yu(r,r.l+2),f=r.l+4,l==2066?f+=4:(l==2165||l==2175)&&(f+=12),o=r.slice(f,r.l+4+s),a.push(o),r.l+=4+s,u=ZO[l=Yu(r,r.l)];var h=Rs(a);Zs(h,0);var g=0;h.lens=[];for(var v=0;v<a.length;++v)h.lens.push(g),g+=a[v].length;if(h.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+h.length+" < "+n;return e.f(h,h.length,i)}function Bc(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Mt[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||jd[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=yx(t.v):t.w=Z0(t.v):t.w=Ol(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&Cv(Mt[n]||String(n))){var i=w0(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function t2(t,e,r){return{v:t,ixfe:e,t:r}}function xJe(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],u="",f={},h,g="",v,x,b,w,E={},A=[],k,R,j=[],P=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},O=function(nt){return nt<8?N0[nt]:nt<64&&P[nt-8]||N0[nt]},D=function(nt,jt,Kt){var rr=jt.XF.data;if(!(!rr||!rr.patternType||!Kt||!Kt.cellStyles)){jt.s={},jt.s.patternType=rr.patternType;var br;(br=Ex(O(rr.icvFore)))&&(jt.s.fgColor={rgb:br}),(br=Ex(O(rr.icvBack)))&&(jt.s.bgColor={rgb:br})}},M=function(nt,jt,Kt){if(!(q>1)&&!(Kt.sheetRows&&nt.r>=Kt.sheetRows)){if(Kt.cellStyles&&jt.XF&&jt.XF.data&&D(nt,jt,Kt),delete jt.ixfe,delete jt.XF,h=nt,g=Ut(nt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),nt.r<a.s.r&&(a.s.r=nt.r),nt.c<a.s.c&&(a.s.c=nt.c),nt.r+1>a.e.r&&(a.e.r=nt.r+1),nt.c+1>a.e.c&&(a.e.c=nt.c+1),Kt.cellFormula&&jt.f){for(var rr=0;rr<A.length;++rr)if(!(A[rr][0].s.c>nt.c||A[rr][0].s.r>nt.r)&&!(A[rr][0].e.c<nt.c||A[rr][0].e.r<nt.r)){jt.F=tr(A[rr][0]),(A[rr][0].s.c!=nt.c||A[rr][0].s.r!=nt.r)&&delete jt.f,jt.f&&(jt.f=""+ga(A[rr][1],a,nt,ee,F));break}}Kt.dense?(i[nt.r]||(i[nt.r]=[]),i[nt.r][nt.c]=jt):i[g]=jt}},F={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:A,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var U,le=[],de=[],J=[],Q=[],fe=!1,ee=[];ee.SheetNames=F.snames,ee.sharedf=F.sharedf,ee.arrayf=F.arrayf,ee.names=[],ee.XTI=[];var ge=0,q=0,z=0,V=[],W=[],Y;F.codepage=1200,ac(1200);for(var ue=!1;t.l<t.length-1;){var me=t.l,ce=t.read_shift(2);if(ce===0&&ge===10)break;var ie=t.l===t.length?0:t.read_shift(2),ve=ZO[ce];if(ve&&ve.f){if(e.bookSheets&&ge===133&&ce!==133)break;if(ge=ce,ve.r===2||ve.r==12){var Ue=t.read_shift(2);if(ie-=2,!F.enc&&Ue!==ce&&((Ue&255)<<8|Ue>>8)!==ce)throw new Error("rt mismatch: "+Ue+"!="+ce);ve.r==12&&(t.l+=10,ie-=10)}var G={};if(ce===10?G=ve.f(t,ie,F):G=yJe(ce,ve,t,ie,F),q==0&&[9,521,1033,2057].indexOf(ge)===-1)continue;switch(ce){case 34:r.opts.Date1904=S.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=G,!e.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=G;break;case 66:var Je=Number(G);switch(Je){case 21010:Je=1200;break;case 32768:Je=1e4;break;case 32769:Je=1252;break}ac(F.codepage=Je),ue=!0;break;case 317:F.rrtabid=G;break;case 25:F.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:F.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(i["!type"]="dialog"),G.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),G.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:j.push(G);break;case 430:ee.push([G]),ee[ee.length-1].XTI=[];break;case 35:case 547:ee[ee.length-1].push(G);break;case 24:case 536:Y={Name:G.Name,Ref:ga(G.rgce,a,null,ee,F)},G.itab>0&&(Y.Sheet=G.itab-1),ee.names.push(Y),ee[0]||(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(W[G.itab-1]={ref:tr(G.rgce[0][0][1][2])});break;case 22:F.ExternCount=G;break;case 23:ee.length==0&&(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].XTI=ee[ee.length-1].XTI.concat(G),ee.XTI=ee.XTI.concat(G);break;case 2196:if(F.biff<8)break;Y!=null&&(Y.Comment=G[1]);break;case 18:i["!protect"]=G;break;case 19:G!==0&&F.WTF&&console.error("Password verifier: "+G);break;case 133:s[G.pos]=G,F.snames.push(G.name);break;case 10:{if(--q)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=tr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Oe=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=tr(a),a.e.r=Oe}a.e.r++,a.e.c++}le.length>0&&(i["!merges"]=le),de.length>0&&(i["!objects"]=de),J.length>0&&(i["!cols"]=J),Q.length>0&&(i["!rows"]=Q),S.Sheets.push(I)}u===""?f=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),F.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(F.biff=5,ue=!0,ac(F.codepage=28591)),F.biff==8&&G.BIFFVer==0&&G.dt==16&&(F.biff=2),q++)break;if(i=e.dense?[]:{},F.biff<8&&!ue&&(ue=!0,ac(F.codepage=e.codepage||1252)),F.biff<5||G.BIFFVer==0&&G.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var rt={pos:t.l-ie,name:u};s[rt.pos]=rt,F.snames.push(u)}else u=(s[me]||{name:""}).name;G.dt==32&&(i["!type"]="chart"),G.dt==64&&(i["!type"]="macro"),le=[],de=[],F.arrayf=A=[],J=[],Q=[],fe=!1,I={Hidden:(s[me]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[G.r]||[])[G.c]:i[Ut({c:G.c,r:G.r})])&&++G.c,k={ixfe:G.ixfe,XF:j[G.ixfe]||{},v:G.val,t:"n"},z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:G.c,r:G.r},k,e);break;case 5:case 517:k={ixfe:G.ixfe,XF:j[G.ixfe],v:G.val,t:G.t},z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:G.c,r:G.r},k,e);break;case 638:k={ixfe:G.ixfe,XF:j[G.ixfe],v:G.rknum,t:"n"},z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:G.c,r:G.r},k,e);break;case 189:for(var Xe=G.c;Xe<=G.C;++Xe){var je=G.rkrec[Xe-G.c][0];k={ixfe:je,XF:j[je],v:G.rkrec[Xe-G.c][1],t:"n"},z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:Xe,r:G.r},k,e)}break;case 6:case 518:case 1030:{if(G.val=="String"){o=G;break}if(k=t2(G.val,G.cell.ixfe,G.tt),k.XF=j[k.ixfe],e.cellFormula){var at=G.formula;if(at&&at[0]&&at[0][0]&&at[0][0][0]=="PtgExp"){var wt=at[0][0][1][0],Ot=at[0][0][1][1],Yr=Ut({r:wt,c:Ot});E[Yr]?k.f=""+ga(G.formula,a,G.cell,ee,F):k.F=((e.dense?(i[wt]||[])[Ot]:i[Yr])||{}).F}else k.f=""+ga(G.formula,a,G.cell,ee,F)}z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M(G.cell,k,e),o=G}break;case 7:case 519:if(o)o.val=G,k=t2(G,o.cell.ixfe,"s"),k.XF=j[k.ixfe],e.cellFormula&&(k.f=""+ga(o.formula,a,o.cell,ee,F)),z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M(o.cell,k,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{A.push(G);var Wr=Ut(G[0].s);if(v=e.dense?(i[G[0].s.r]||[])[G[0].s.c]:i[Wr],e.cellFormula&&v){if(!o||!Wr||!v)break;v.f=""+ga(G[1],a,G[0],ee,F),v.F=tr(G[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;E[Ut(o.cell)]=G[0],v=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Ut(o.cell)],(v||{}).f=""+ga(G[0],a,h,ee,F)}}break;case 253:k=t2(l[G.isst].t,G.ixfe,"s"),l[G.isst].h&&(k.h=l[G.isst].h),k.XF=j[k.ixfe],z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:G.c,r:G.r},k,e);break;case 513:e.sheetStubs&&(k={ixfe:G.ixfe,XF:j[G.ixfe],t:"z"},z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:G.c,r:G.r},k,e));break;case 190:if(e.sheetStubs)for(var Lr=G.c;Lr<=G.C;++Lr){var Gt=G.ixfe[Lr-G.c];k={ixfe:Gt,XF:j[Gt],t:"z"},z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:Lr,r:G.r},k,e)}break;case 214:case 516:case 4:k=t2(G.val,G.ixfe,"s"),k.XF=j[k.ixfe],z>0&&(k.z=V[k.ixfe>>8&63]),Bc(k,e,r.opts.Date1904),M({c:G.c,r:G.r},k,e);break;case 0:case 512:q===1&&(a=G);break;case 252:l=G;break;case 1054:if(F.biff==4){V[z++]=G[1];for(var Tr=0;Tr<z+163&&Mt[Tr]!=G[1];++Tr);Tr>=163&&id(G[1],z+163)}else id(G[1],G[0]);break;case 30:{V[z++]=G;for(var Sn=0;Sn<z+163&&Mt[Sn]!=G;++Sn);Sn>=163&&id(G,z+163)}break;case 229:le=le.concat(G);break;case 93:de[G.cmo[0]]=F.lastobj=G;break;case 438:F.lastobj.TxO=G;break;case 127:F.lastobj.ImData=G;break;case 440:for(w=G[0].s.r;w<=G[0].e.r;++w)for(b=G[0].s.c;b<=G[0].e.c;++b)v=e.dense?(i[w]||[])[b]:i[Ut({c:b,r:w})],v&&(v.l=G[1]);break;case 2048:for(w=G[0].s.r;w<=G[0].e.r;++w)for(b=G[0].s.c;b<=G[0].e.c;++b)v=e.dense?(i[w]||[])[b]:i[Ut({c:b,r:w})],v&&v.l&&(v.l.Tooltip=G[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;v=e.dense?(i[G[0].r]||[])[G[0].c]:i[Ut(G[0])];var hi=de[G[2]];v||(e.dense?(i[G[0].r]||(i[G[0].r]=[]),v=i[G[0].r][G[0].c]={t:"z"}):v=i[Ut(G[0])]={t:"z"},a.e.r=Math.max(a.e.r,G[0].r),a.s.r=Math.min(a.s.r,G[0].r),a.e.c=Math.max(a.e.c,G[0].c),a.s.c=Math.min(a.s.c,G[0].c)),v.c||(v.c=[]),x={a:G[1],t:hi.TxO.t},v.c.push(x)}break;case 2173:aGe(j[G.ixfe],G.ext);break;case 125:{if(!F.cellStyles)break;for(;G.e>=G.s;)J[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},fe||(fe=!0,fD(G.w/256)),sh(J[G.e+1])}break;case 520:{var xe={};G.level!=null&&(Q[G.r]=xe,xe.level=G.level),G.hidden&&(Q[G.r]=xe,xe.hidden=!0),G.hpt&&(Q[G.r]=xe,xe.hpt=G.hpt,xe.hpx=Yg(G.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||R0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=G;break;case 161:i["!margins"]||R0(i["!margins"]={}),i["!margins"].header=G.header,i["!margins"].footer=G.footer;break;case 574:G.RTL&&(S.Views[0].RTL=!0);break;case 146:P=G;break;case 2198:U=G;break;case 140:R=G;break;case 442:u?I.CodeName=G||I.name:S.WBProps.CodeName=G||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),t.l+=ie}return r.SheetNames=Si(s).sort(function(Ke,nt){return Number(Ke)-Number(nt)}).map(function(Ke){return s[Ke].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&f["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=f)):r.Preamble=f,r.Sheets&&W.forEach(function(Ke,nt){r.Sheets[r.SheetNames[nt]]["!autofilter"]=Ke}),r.Strings=l,r.SSF=Hn(Mt),F.enc&&(r.Encryption=F.enc),U&&(r.Themes=U),r.Metadata={},R!==void 0&&(r.Metadata.Country=R),ee.names.length>0&&(S.Names=ee.names),r.Workbook=S,r}var A1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function bJe(t,e,r){var n=It.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=wG(n,WO,A1.DSI);for(var s in i)e[s]=i[s]}catch(u){if(r.WTF)throw u}var a=It.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=wG(a,GO,A1.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(r.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(Ooe(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function wJe(t,e){var r=[],n=[],i=[],s=0,a,o=QW(WO,"n"),l=QW(GO,"n");if(t.Props)for(a=Si(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Si(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)Foe.indexOf(i[s][0])>-1||Ioe.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&It.utils.cfb_add(e,"/SummaryInformation",_G(n,A1.SI,l,GO)),(r.length||u.length)&&It.utils.cfb_add(e,"/DocumentSummaryInformation",_G(r,A1.DSI,o,WO,u.length?u:null,A1.UDI))}function Ple(t,e){e||(e={}),wD(e),zj(),e.codepage&&Vj(e.codepage);var r,n;if(t.FullPaths){if(It.find(t,"/encryption"))throw new Error("File is password-protected");r=It.find(t,"!CompObj"),n=It.find(t,"/Workbook")||It.find(t,"/Book")}else{switch(e.type){case"base64":t=Mo(Go(t));break;case"binary":t=Mo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}Zs(t,0),n={content:t}}var i,s;if(r&&gJe(r),e.bookProps&&!e.bookSheets)i={};else{var a=lr?"buffer":"array";if(n&&n.content)i=xJe(n.content,e);else if((s=It.find(t,"PerfectOffice_MAIN"))&&s.content)i=O0.to_workbook(s.content,(e.type=a,e));else if((s=It.find(t,"NativeContent_MAIN"))&&s.content)i=O0.to_workbook(s.content,(e.type=a,e));else throw(s=It.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&It.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=jGe(t))}var o={};return t.FullPaths&&bJe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function _Je(t,e){var r=e||{},n=It.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return It.utils.cfb_add(n,i,jle(t,r)),r.biff==8&&(t.Props||t.Custprops)&&wJe(t,n),r.biff==8&&t.vbaraw&&DGe(n,It.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var kx={0:{f:WYe},1:{f:eXe},2:{f:xXe},3:{f:lXe},4:{f:iXe},5:{f:gXe},6:{f:TXe},7:{f:fXe},8:{f:OXe},9:{f:IXe},10:{f:CXe},11:{f:NXe},12:{f:rXe},13:{f:wXe},14:{f:uXe},15:{f:aXe},16:{f:Sle},17:{f:AXe},18:{f:mXe},19:{f:rD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:AQe},40:{},42:{},43:{f:TWe},44:{f:_We},45:{f:kWe},46:{f:NWe},47:{f:CWe},48:{},49:{f:Yze},50:{},51:{f:cGe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Yoe},62:{f:EXe},63:{f:yGe},64:{f:GXe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ca,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:$Xe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:JYe},148:{f:YYe,p:16},151:{f:LXe},152:{},153:{f:EQe},154:{},155:{},156:{f:wQe},157:{},158:{},159:{T:1,f:Bqe},160:{T:-1},161:{T:1,f:Tm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:RXe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:oGe},336:{T:-1},337:{f:fGe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:qO},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Koe},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:FXe},427:{f:BXe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:VXe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:QYe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:DXe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:qO},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:NGe},633:{T:1},634:{T:-1},635:{T:1,f:kGe},636:{T:-1},637:{f:Zze},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:uQe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:KXe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},ZO={6:{f:K3},10:{f:hf},12:{f:Yi},13:{f:Yi},14:{f:Ii},15:{f:Ii},16:{f:ba},17:{f:Ii},18:{f:Ii},19:{f:Yi},20:{f:CG},21:{f:CG},23:{f:Koe},24:{f:IG},25:{f:Ii},26:{},27:{},28:{f:KHe},29:{},34:{f:Ii},35:{f:NG},38:{f:ba},39:{f:ba},40:{f:ba},41:{f:ba},42:{f:Ii},43:{f:Ii},47:{f:aWe},49:{f:wHe},51:{f:Yi},60:{},61:{f:gHe},64:{f:Ii},65:{f:bHe},66:{f:Yi},77:{},80:{},81:{},82:{},85:{f:Yi},89:{},90:{},91:{},92:{f:sHe},93:{f:QHe},94:{},95:{f:Ii},96:{},97:{},99:{f:Ii},125:{f:Yoe},128:{f:MHe},129:{f:oHe},130:{f:Yi},131:{f:Ii},132:{f:Ii},133:{f:lHe},134:{},140:{f:sqe},141:{f:Yi},144:{},146:{f:lqe},151:{},152:{},153:{},154:{},155:{},156:{f:Yi},157:{},158:{},160:{f:pqe},161:{f:dqe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:RHe},190:{f:PHe},193:{f:hf},197:{},198:{},199:{},200:{},201:{},202:{f:Ii},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Yi},220:{},221:{f:Ii},222:{},224:{f:DHe},225:{f:iHe},226:{f:hf},227:{},229:{f:YHe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:uHe},253:{f:EHe},255:{f:fHe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Boe},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Ii},353:{f:hf},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:VHe},431:{f:Ii},432:{},433:{},434:{},437:{},438:{f:eqe},439:{f:Ii},440:{f:tqe},441:{},442:{f:Ib},443:{},444:{f:Yi},445:{},446:{},448:{f:hf},449:{f:pHe,r:2},450:{f:hf},512:{f:SG},513:{f:mqe},515:{f:BHe},516:{f:SHe},517:{f:kG},519:{f:gqe},520:{f:hHe},523:{},545:{f:OG},549:{f:TG},566:{},574:{f:yHe},638:{f:OHe},659:{},1048:{},1054:{f:kHe},1084:{},1212:{f:qHe},2048:{f:nqe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:J_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:hf},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:cqe,r:12},2173:{f:sGe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Ii,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:HHe,r:12},2197:{},2198:{f:ZWe,r:12},2199:{},2200:{},2201:{},2202:{f:WHe,r:12},2203:{f:hf},2204:{},2205:{},2206:{},2207:{},2211:{f:mHe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Yi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:fqe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:oqe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:SG},1:{},2:{f:wqe},3:{f:xqe},4:{f:yqe},5:{f:kG},7:{f:Eqe},8:{},9:{f:J_},11:{},22:{f:Yi},30:{f:NHe},31:{},32:{},33:{f:OG},36:{},37:{f:TG},50:{f:Tqe},62:{},52:{},67:{},68:{f:Yi},69:{},86:{},126:{},127:{f:vqe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:Sqe},223:{},234:{},354:{},421:{},518:{f:K3},521:{f:J_},536:{f:IG},547:{f:NG},561:{},579:{},1030:{f:K3},1033:{f:J_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ot(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&Zj(r)&&t.push(r)}}function EJe(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return ot(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var f=t.next(4);for(f.write_shift(2,s),f.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(f=t.next(4),f.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;f.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function jb(t,e,r){return t||(t=Me(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function TJe(t,e,r,n){var i=Me(9);return jb(i,t,e),Uoe(r,n||"b",i),i}function SJe(t,e,r){var n=Me(8+2*r.length);return jb(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function AJe(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?hs($n(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ot(t,2,_qe(r,n,i)):ot(t,3,bqe(r,n,i));return;case"b":case"e":ot(t,5,TJe(r,n,e.v,e.t));return;case"s":case"str":ot(t,4,SJe(r,n,(e.v||"").slice(0,255)));return}ot(t,1,jb(null,r,n))}function kJe(t,e,r,n){var i=Array.isArray(e),s=Cr(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=tr(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Di(u);for(var f=s.s.c;f<=s.e.c;++f){u===s.s.r&&(l[f]=ui(f)),a=l[f]+o;var h=i?(e[u]||[])[f]:e[a];h&&AJe(t,h,u,f)}}}function CJe(t,e){for(var r=e||{},n=fo(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ot(n,r.biff==4?1033:r.biff==3?521:9,cD(t,16,r)),kJe(n,t.Sheets[t.SheetNames[i]],i,r),ot(n,10),n.end()}function NJe(t,e,r){ot(t,49,_He({sz:12,name:"Arial"},r))}function IJe(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ot(t,1054,CHe(i,e[i],r))})}function OJe(t,e){var r=Me(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ot(t,2151,r),r=Me(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),qoe(Cr(e["!ref"]||"A1"),r),r.write_shift(4,4),ot(t,2152,r)}function RJe(t,e){for(var r=0;r<16;++r)ot(t,224,AG({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ot(t,224,AG(n,0,e))})}function PJe(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ot(t,440,rqe(n)),n[1].Tooltip&&ot(t,2048,iqe(n))}delete e["!links"]}function jJe(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&ot(t,125,uqe(Q4(i,n),i))})}}function DJe(t,e,r,n,i){var s=16+wh(i.cellXfs,e,i);if(e.v==null&&!e.bf){ot(t,513,nm(r,n,s));return}if(e.bf)ot(t,6,oYe(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?hs($n(e.v)):e.v;ot(t,515,UHe(r,n,a,s));break;case"b":case"e":ot(t,517,FHe(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=vD(i.Strings,e.v,i.revStrings);ot(t,253,THe(r,n,o,s))}else ot(t,516,AHe(r,n,(e.v||"").slice(0,255),s,i));break;default:ot(t,513,nm(r,n,s))}}function MJe(t,e,r){var n=fo(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,f,h="",g=[],v=Cr(s["!ref"]||"A1"),x=u?65536:16384;if(v.e.c>255||v.e.r>=x){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,x-1)}ot(n,2057,cD(r,16,e)),ot(n,13,xl(1)),ot(n,12,xl(100)),ot(n,15,Ma(!0)),ot(n,17,Ma(!1)),ot(n,16,tm(.001)),ot(n,95,Ma(!0)),ot(n,42,Ma(!1)),ot(n,43,Ma(!1)),ot(n,130,xl(1)),ot(n,128,LHe()),ot(n,131,Ma(!1)),ot(n,132,Ma(!1)),u&&jJe(n,s["!cols"]),ot(n,512,IHe(v,e)),u&&(s["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){h=Di(b);for(var w=v.s.c;w<=v.e.c;++w){b===v.s.r&&(g[w]=ui(w)),f=g[w]+h;var E=l?(s[b]||[])[w]:s[f];E&&(DJe(n,E,b,w,e),u&&E.l&&s["!links"].push([f,E.l]))}}var A=o.CodeName||o.name||i;return u&&ot(n,574,xHe((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&ot(n,229,XHe(s["!merges"])),u&&PJe(n,s),ot(n,442,Voe(A)),u&&OJe(n,s),ot(n,10),n.end()}function LJe(t,e,r){var n=fo(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ot(n,2057,cD(t,5,r)),r.bookType=="xla"&&ot(n,135),ot(n,225,o?xl(1200):null),ot(n,193,F$e(2)),l&&ot(n,191),l&&ot(n,192),ot(n,226),ot(n,92,aHe("SheetJS",r)),ot(n,66,xl(o?1200:1252)),o&&ot(n,353,xl(0)),o&&ot(n,448),ot(n,317,hqe(t.SheetNames.length)),o&&t.vbaraw&&ot(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";ot(n,442,Voe(u))}ot(n,156,xl(17)),ot(n,25,Ma(!1)),ot(n,18,Ma(!1)),ot(n,19,xl(0)),o&&ot(n,431,Ma(!1)),o&&ot(n,444,xl(0)),ot(n,61,vHe()),ot(n,64,Ma(!1)),ot(n,141,xl(0)),ot(n,34,Ma(pQe(t)=="true")),ot(n,14,Ma(!0)),o&&ot(n,439,Ma(!1)),ot(n,218,xl(0)),NJe(n,t,r),IJe(n,t.SSF,r),RJe(n,r),o&&ot(n,352,Ma(!1));var f=n.end(),h=fo();o&&ot(h,140,aqe()),o&&r.Strings&&EJe(h,252,dHe(r.Strings)),ot(h,10);var g=h.end(),v=fo(),x=0,b=0;for(b=0;b<t.SheetNames.length;++b)x+=(o?12:11)+(o?2:1)*t.SheetNames[b].length;var w=f.length+x+g.length;for(b=0;b<t.SheetNames.length;++b){var E=s[b]||{};ot(v,133,cHe({pos:w,hs:E.Hidden||0,dt:0,name:t.SheetNames[b]},r)),w+=e[b].length}var A=v.end();if(x!=A.length)throw new Error("BS8 "+x+" != "+A.length);var k=[];return f.length&&k.push(f),A.length&&k.push(A),g.length&&k.push(g),Rs(k)}function FJe(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Hn(Mt)),t&&t.SSF&&(Nv(),H4(t.SSF),r.revssf=W4(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,_D(r),r.cellXfs=[],wh(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=MJe(i,r,t);return n.unshift(LJe(t,n,r)),Rs(n)}function jle(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=po(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return FJe(t,e);case 4:case 3:case 2:return CJe(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function VG(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=_ze(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,f=0,h=0,g=0,v={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(a=0;a<l.length;++a){var b=l[a].trim(),w=b.slice(0,3).toLowerCase();if(w=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}f=0;continue}if(!(w!="<td"&&w!="<th")){var E=b.split(/<\/t[dh]>/i);for(o=0;o<E.length;++o){var A=E[o].trim();if(A.match(/<t[dh]/i)){for(var k=A,R=0;k.charAt(0)=="<"&&(R=k.indexOf(">"))>-1;)k=k.slice(R+1);for(var j=0;j<x.length;++j){var P=x[j];P.s.c==f&&P.s.r<u&&u<=P.e.r&&(f=P.e.c+1,j=-1)}var S=Ht(A.slice(0,A.indexOf(">")));g=S.colspan?+S.colspan:1,((h=+S.rowspan)>1||g>1)&&x.push({s:{r:u,c:f},e:{r:u+(h||1)-1,c:f+g-1}});var I=S.t||S["data-t"]||"";if(!k.length){f+=g;continue}if(k=ioe(k),v.s.r>u&&(v.s.r=u),v.e.r<u&&(v.e.r=u),v.s.c>f&&(v.s.c=f),v.e.c<f&&(v.e.c=f),!k.length){f+=g;continue}var O={t:"s",v:k};r.raw||!k.trim().length||I=="s"||(k==="TRUE"?O={t:"b",v:!0}:k==="FALSE"?O={t:"b",v:!1}:isNaN(hc(k))?isNaN(Gg(k).getDate())||(O={t:"d",v:$n(k)},r.cellDates||(O={t:"n",v:hs(O.v)}),O.z=r.dateNF||Mt[14]):O={t:"n",v:hc(k)}),r.dense?(n[u]||(n[u]=[]),n[u][f]=O):n[Ut({r:u,c:f})]=O,f+=g}}}}return n["!ref"]=tr(v),x.length&&(n["!merges"]=x),n}function BJe(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var f=Ut({r,c:a}),h=n.dense?(t[r]||[])[a]:t[f],g=h&&h.v!=null&&(h.h||Xj(h.w||(wd(h),h.w)||""))||"",v={};o>1&&(v.rowspan=o),l>1&&(v.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":h&&(v["data-t"]=h&&h.t||"z",h.v!=null&&(v["data-v"]=h.v),h.z!=null&&(v["data-z"]=h.z),h.l&&(h.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+h.l.Target+'">'+g+"</a>")),v.id=(n.id||"sjs")+"-"+f,s.push(it("td",g,v))}}var x="<tr>";return x+s.join("")+"</tr>"}var UJe='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',VJe="</body></html>";function zJe(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return bh(VG(r[0],e),e);var n=SD();return r.forEach(function(i,s){AD(n,VG(i,e),"Sheet"+(s+1))}),n}function $Je(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Dle(t,e){var r=e||{},n=r.header!=null?r.header:UJe,i=r.footer!=null?r.footer:VJe,s=[n],a=po(t["!ref"]);r.dense=Array.isArray(t),s.push($Je(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(BJe(t,a,o,r));return s.push("</table>"+i),s.join("")}function Mle(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?di(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var f=po(t["!ref"]);u.s.r=Math.min(u.s.r,f.s.r),u.s.c=Math.min(u.s.c,f.s.c),u.e.r=Math.max(u.e.r,f.e.r),u.e.c=Math.max(u.e.c,f.e.c),i==-1&&(u.e.r=i=f.e.r+1)}var h=[],g=0,v=t["!rows"]||(t["!rows"]=[]),x=0,b=0,w=0,E=0,A=0,k=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&b<l;++x){var R=o[x];if(zG(R)){if(n.display)continue;v[b]={hidden:!0}}var j=R.children;for(w=E=0;w<j.length;++w){var P=j[w];if(!(n.display&&zG(P))){var S=P.hasAttribute("data-v")?P.getAttribute("data-v"):P.hasAttribute("v")?P.getAttribute("v"):ioe(P.innerHTML),I=P.getAttribute("data-z")||P.getAttribute("z");for(g=0;g<h.length;++g){var O=h[g];O.s.c==E+s&&O.s.r<b+i&&b+i<=O.e.r&&(E=O.e.c+1-s,g=-1)}k=+P.getAttribute("colspan")||1,((A=+P.getAttribute("rowspan")||1)>1||k>1)&&h.push({s:{r:b+i,c:E+s},e:{r:b+i+(A||1)-1,c:E+s+(k||1)-1}});var D={t:"s",v:S},M=P.getAttribute("data-t")||P.getAttribute("t")||"";S!=null&&(S.length==0?D.t=M||"z":n.raw||S.trim().length==0||M=="s"||(S==="TRUE"?D={t:"b",v:!0}:S==="FALSE"?D={t:"b",v:!1}:isNaN(hc(S))?isNaN(Gg(S).getDate())||(D={t:"d",v:$n(S)},n.cellDates||(D={t:"n",v:hs(D.v)}),D.z=n.dateNF||Mt[14]):D={t:"n",v:hc(S)})),D.z===void 0&&I!=null&&(D.z=I);var F="",U=P.getElementsByTagName("A");if(U&&U.length)for(var le=0;le<U.length&&!(U[le].hasAttribute("href")&&(F=U[le].getAttribute("href"),F.charAt(0)!="#"));++le);F&&F.charAt(0)!="#"&&(D.l={Target:F}),n.dense?(t[b+i]||(t[b+i]=[]),t[b+i][E+s]=D):t[Ut({c:E+s,r:b+i})]=D,u.e.c<E+s&&(u.e.c=E+s),E+=k}}++b}return h.length&&(t["!merges"]=(t["!merges"]||[]).concat(h)),u.e.r=Math.max(u.e.r,b-1+i),t["!ref"]=tr(u),b>=l&&(t["!fullref"]=tr((u.e.r=o.length-x+b-1+i,u))),t}function Lle(t,e){var r=e||{},n=r.dense?[]:{};return Mle(n,t,e)}function HJe(t,e){return bh(Lle(t,e),e)}function zG(t){var e="",r=qJe(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function qJe(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function WJe(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=kr(e.replace(/<[^>]*>/g,""));return[r]}var $G={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Fle(t,e){var r=e||{},n=Qj(t),i=[],s,a,o={name:""},l="",u=0,f,h,g={},v=[],x=r.dense?[]:{},b,w,E={value:""},A="",k=0,R=[],j=-1,P=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,O={},D=[],M={},F=0,U=0,le=[],de=1,J=1,Q=[],fe={Names:[]},ee={},ge=["",""],q=[],z={},V="",W=0,Y=!1,ue=!1,me=0;for(wx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=wx.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?x["!ref"]=tr(S):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(x["!fullref"]=x["!ref"],S.e.r=r.sheetRows-1,x["!ref"]=tr(S)),D.length&&(x["!merges"]=D),le.length&&(x["!rows"]=le),f.name=f.||f.name,typeof JSON<"u"&&JSON.stringify(f),v.push(f.name),g[f.name]=x,ue=!1):b[0].charAt(b[0].length-2)!=="/"&&(f=Ht(b[0],!1),j=P=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,x=r.dense?[]:{},D=[],le=[],ue=!0);break;case"table-row-group":b[1]==="/"?--I:++I;break;case"table-row":case"":if(b[1]==="/"){j+=de,de=1;break}if(h=Ht(b[0],!1),h.?j=h.-1:j==-1&&(j=0),de=+h["number-rows-repeated"]||1,de<10)for(me=0;me<de;++me)I>0&&(le[j+me]={level:I});P=-1;break;case"covered-table-cell":b[1]!=="/"&&++P,r.sheetStubs&&(r.dense?(x[j]||(x[j]=[]),x[j][P]={t:"z"}):x[Ut({r:j,c:P})]={t:"z"}),A="",R=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++P,E=Ht(b[0],!1),J=parseInt(E["number-columns-repeated"]||"1",10),w={t:"z",v:null},E.formula&&r.cellFormula!=!1&&(w.f=FG(kr(E.formula))),(E.||E["value-type"])=="string"&&(w.t="s",w.v=kr(E["string-value"]||""),r.dense?(x[j]||(x[j]=[]),x[j][P]=w):x[Ut({r:j,c:P})]=w),P+=J-1;else if(b[1]!=="/"){++P,A="",k=0,R=[],J=1;var ce=de?j+de-1:j;if(P>S.e.c&&(S.e.c=P),P<S.s.c&&(S.s.c=P),j<S.s.r&&(S.s.r=j),ce>S.e.r&&(S.e.r=ce),E=Ht(b[0],!1),q=[],z={},w={t:E.||E["value-type"],v:null},r.cellFormula)if(E.formula&&(E.formula=kr(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(F=parseInt(E["number-matrix-rows-spanned"],10)||0,U=parseInt(E["number-matrix-columns-spanned"],10)||0,M={s:{r:j,c:P},e:{r:j+F-1,c:P+U-1}},w.F=tr(M),Q.push([M,w.F])),E.formula)w.f=FG(E.formula);else for(me=0;me<Q.length;++me)j>=Q[me][0].s.r&&j<=Q[me][0].e.r&&P>=Q[me][0].s.c&&P<=Q[me][0].e.c&&(w.F=Q[me][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(F=parseInt(E["number-rows-spanned"],10)||0,U=parseInt(E["number-columns-spanned"],10)||0,M={s:{r:j,c:P},e:{r:j+F-1,c:P+U-1}},D.push(M)),E["number-columns-repeated"]&&(J=parseInt(E["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=Un(E["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(E.value);break;case"percentage":w.t="n",w.v=parseFloat(E.value);break;case"currency":w.t="n",w.v=parseFloat(E.value);break;case"date":w.t="d",w.v=$n(E["date-value"]),r.cellDates||(w.t="n",w.v=hs(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=xze(E["time-value"])/86400,r.cellDates&&(w.t="d",w.v=G4(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(E.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",E["string-value"]!=null&&(A=kr(E["string-value"]),R=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(Y=!1,w.t==="s"&&(w.v=A||"",R.length&&(w.R=R),Y=k==0),ee.Target&&(w.l=ee),q.length>0&&(w.c=q,q=[]),A&&r.cellText!==!1&&(w.w=A),Y&&(w.t="z",delete w.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=j))for(var ie=0;ie<de;++ie){if(J=parseInt(E["number-columns-repeated"]||"1",10),r.dense)for(x[j+ie]||(x[j+ie]=[]),x[j+ie][P]=ie==0?w:Hn(w);--J>0;)x[j+ie][P+J]=Hn(w);else for(x[Ut({r:j+ie,c:P})]=w;--J>0;)x[Ut({r:j+ie,c:P+J})]=Hn(w);S.e.c<=P&&(S.e.c=P)}J=parseInt(E["number-columns-repeated"]||"1",10),P+=J-1,J=0,w={},A="",R=[]}ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s;z.t=A,R.length&&(z.R=R),z.a=V,q.push(z)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);V="",W=0,A="",k=0,R=[];break;case"creator":b[1]==="/"?V=n.slice(W,b.index):W=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);A="",k=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(O[o.name]=l,(s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&(l="",o=Ht(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Ht(b[0],!1),l+=$G[b[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Ht(b[0],!1),l+=$G[b[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":a=Ht(b[0],!1),ge=Y3(a["cell-range-address"]);var ve={Name:a.name,Ref:ge[0]+"!"+ge[1]};ue&&(ve.Sheet=v.length),fe.Names.push(ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!E||!E["string-value"])){var Ue=WJe(n.slice(k,b.index));A=(A.length>0?A+`
`:"")+Ue[0]}else Ht(b[0],!1),k=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ge=Y3(Ht(b[0])["target-range-address"]),g[ge[0]]["!autofilter"]={ref:ge[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(ee=Ht(b[0],!1),!ee.href)break;ee.Target=kr(ee.href),delete ee.href,ee.Target.charAt(0)=="#"&&ee.Target.indexOf(".")>-1?(ge=Y3(ee.Target.slice(1)),ee.Target="#"+ge[0]+"!"+ge[1]):ee.Target.match(/^\.\.[\\\/]/)&&(ee.Target=ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var G={Sheets:g,SheetNames:v,Workbook:fe};return r.bookSheets&&delete G.Sheets,G}function HG(t,e){e=e||{},yl(t,"META-INF/manifest.xml")&&x$e(Ki(t,"META-INF/manifest.xml"),e);var r=Lo(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Fle(En(r),e);return yl(t,"meta.xml")&&(n.Props=Coe(Ki(t,"meta.xml"))),n}function qG(t,e){return Fle(t,e)}var GJe=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+bx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Mi+e}})(),WG=(function(){var t=function(s){return cn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+cn(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,f=0,h=po(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,x=Array.isArray(s);if(s["!cols"])for(f=0;f<=h.e.c;++f)l.push("        <table:table-column"+(s["!cols"][f]?' table:style-name="co'+s["!cols"][f].ods+'"':"")+`></table:table-column>
`);var b="",w=s["!rows"]||[];for(u=0;u<h.s.r;++u)b=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=h.e.r;++u){for(b=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+b+`>
`),f=0;f<h.s.c;++f)l.push(e);for(;f<=h.e.c;++f){var E=!1,A={},k="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>f)&&!(g[v].s.r>u)&&!(g[v].e.c<f)&&!(g[v].e.r<u)){(g[v].s.c!=f||g[v].s.r!=u)&&(E=!0),A["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,A["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(E){l.push(r);continue}var R=Ut({r:u,c:f}),j=x?(s[u]||[])[f]:s[R];if(j&&j.f&&(A["table:formula"]=cn(hYe(j.f)),j.F&&j.F.slice(0,R.length)==R)){var P=po(j.F);A["table:number-matrix-columns-spanned"]=P.e.c-P.s.c+1,A["table:number-matrix-rows-spanned"]=P.e.r-P.s.r+1}if(!j){l.push(e);continue}switch(j.t){case"b":k=j.v?"TRUE":"FALSE",A["office:value-type"]="boolean",A["office:boolean-value"]=j.v?"true":"false";break;case"n":k=j.w||String(j.v||0),A["office:value-type"]="float",A["office:value"]=j.v||0;break;case"s":case"str":k=j.v==null?"":j.v,A["office:value-type"]="string";break;case"d":k=j.w||$n(j.v).toISOString(),A["office:value-type"]="date",A["office:date-value"]=$n(j.v).toISOString(),A["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(k);if(j.l&&j.l.Target){var I=j.l.Target;I=I.charAt(0)=="#"?"#"+mYe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),S=it("text:a",S,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+it("table:table-cell",it("text:p",S,{}),A)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var f=0;f<u["!cols"].length;++f)if(u["!cols"][f]){var h=u["!cols"][f];if(h.width==null&&h.wpx==null&&h.wch==null)continue;sh(h),h.ods=o;var g=u["!cols"][f].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var f=0;f<u["!rows"].length;++f)if(u["!rows"][f]){u["!rows"][f].ods=l;var h=u["!rows"][f].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+h+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Mi],u=bx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),f=bx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+f+`>
`),l.push(koe().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var h=0;h!=a.SheetNames.length;++h)l.push(n(a.Sheets[a.SheetNames[h]],a,h));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function Ble(t,e){if(e.bookType=="fods")return WG(t,e);var r=Gj(),n="",i=[],s=[];return n="mimetype",ir(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ir(r,n,WG(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",ir(r,n,GJe(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",ir(r,n,Mi+koe()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",ir(r,n,_$e(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ir(r,n,b$e(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function im(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function e6(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):En(xh(t))}function KJe(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Mo(Yc(t))}function YJe(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function oh(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function GG(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function XJe(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function QJe(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function Cx(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function sn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function Ti(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Rr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Cx(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Cx(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Ks(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(sn(n*8+i.type)),i.type==2&&e.push(sn(i.data.length)),e.push(i.data))})}),oh(e)}function bD(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function ml(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Cx(t,n),s=Rr(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:Ti(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Rr(o.data),u=Ti(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=Ti(s[3][0].data)>>>0>0),r.push(a)}return r}function _p(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:sn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:sn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:sn(a.data.length)}],n[2].push({data:Ks(a.meta),type:2})});var s=Ks(n);e.push(sn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),oh(e)}function JJe(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Cx(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[oh(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var f=oh(i);if(f.length!=n)throw new Error("Unexpected length: ".concat(f.length," != ").concat(n));return f}function pl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(JJe(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return oh(e)}function Ep(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=sn(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return oh(e)}function ZJe(t,e,r,n){var i=im(t),s=i.getUint32(4,!0),a=(n>1?12:8)+GG(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,f=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=GG(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(u=i.getFloat64(a,!0),a+=8),s&64&&(f.setTime(f.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var h;switch(t[2]){case 0:break;case 2:h={t:"n",v:u};break;case 3:h={t:"s",v:e[l]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(o>-1)h={t:"s",v:r[o]};else if(l>-1)h={t:"s",v:e[l]};else if(!isNaN(u))h={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return h}function eZe(t,e,r){var n=im(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,u=NaN,f=new Date(2001,0,1);i&1&&(l=XJe(t,s),s+=16),i&2&&(u=n.getFloat64(s,!0),s+=8),i&4&&(f.setTime(f.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var h;switch(t[1]){case 0:break;case 2:h={t:"n",v:l};break;case 3:h={t:"s",v:e[o]};break;case 5:h={t:"d",v:f};break;case 6:h={t:"b",v:u>0};break;case 7:h={t:"n",v:u/86400};break;case 8:h={t:"e",v:0};break;case 9:if(a>-1)h={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:h={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return h}function Q3(t,e){var r=new Uint8Array(32),n=im(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,QJe(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function J3(t,e){var r=new Uint8Array(32),n=im(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function tZe(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return ZJe(t,e,r,t[0]);case 5:return eZe(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function pa(t){var e=Rr(t);return Cx(e[1][0].data)}function KG(t,e){var r=Rr(e.data),n=Ti(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=Rr(a.data),l=Ti(o[1][0].data)>>>0;switch(n){case 1:s[l]=e6(o[3][0].data);break;case 8:{var u=t[pa(o[9][0].data)][0],f=Rr(u.data),h=t[pa(f[1][0].data)][0],g=Ti(h.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var v=Rr(h.data);s[l]=v[3].map(function(x){return e6(x.data)}).join("")}break}}),s}function rZe(t,e){var r,n,i,s,a,o,l,u,f,h,g,v,x,b,w=Rr(t),E=Ti(w[1][0].data)>>>0,A=Ti(w[2][0].data)>>>0,k=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&Ti(w[8][0].data)>0||!1,R,j;if((s=(i=w[7])==null?void 0:i[0])!=null&&s.data&&e!=0)R=(o=(a=w[7])==null?void 0:a[0])==null?void 0:o.data,j=(u=(l=w[6])==null?void 0:l[0])==null?void 0:u.data;else if((h=(f=w[4])==null?void 0:f[0])!=null&&h.data&&e!=1)R=(v=(g=w[4])==null?void 0:g[0])==null?void 0:v.data,j=(b=(x=w[3])==null?void 0:x[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var P=k?4:1,S=im(R),I=[],O=0;O<R.length/2;++O){var D=S.getUint16(O*2,!0);D<65535&&I.push([O,D])}if(I.length!=A)throw"Expected ".concat(A," cells, found ").concat(I.length);var M=[];for(O=0;O<I.length-1;++O)M[I[O][0]]=j.subarray(I[O][1]*P,I[O+1][1]*P);return I.length>=1&&(M[I[I.length-1][0]]=j.subarray(I[I.length-1][1]*P)),{R:E,cells:M}}function nZe(t,e){var r,n=Rr(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?Ti(n[7][0].data)>>>0>0?1:0:-1,s=bD(n[5],function(a){return rZe(a,i)});return{nrows:Ti(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,u){if(a[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));a[o.R][u]=l}),a},[])}}function iZe(t,e,r){var n,i=Rr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(Ti(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(Ti(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=tr(s);var a=Rr(i[4][0].data),o=KG(t,t[pa(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?KG(t,t[pa(a[17][0].data)][0]):[],u=Rr(a[3][0].data),f=0;u[1].forEach(function(h){var g=Rr(h.data),v=t[pa(g[2][0].data)][0],x=Ti(v.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var b=nZe(t,v);b.data.forEach(function(w,E){w.forEach(function(A,k){var R=Ut({r:f+E,c:k}),j=tZe(A,o,l);j&&(r[R]=j)})}),f+=b.nrows})}function sZe(t,e){var r=Rr(e.data),n={"!ref":"A1"},i=t[pa(r[2][0].data)],s=Ti(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return iZe(t,i[0],n),n}function aZe(t,e){var r,n=Rr(e.data),i={name:(r=n[1])!=null&&r[0]?e6(n[1][0].data):"",sheets:[]},s=bD(n[2],pa);return s.forEach(function(a){t[a].forEach(function(o){var l=Ti(o.meta[1][0].data);l==6e3&&i.sheets.push(sZe(t,o))})}),i}function oZe(t,e){var r=SD(),n=Rr(e.data),i=bD(n[1],pa);if(i.forEach(function(s){t[s].forEach(function(a){var o=Ti(a.meta[1][0].data);if(o==2){var l=aZe(t,a);l.sheets.forEach(function(u,f){AD(r,u,f==0?l.name:l.name+"_"+f,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function Z3(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=pl(l.content)}catch(h){return console.log("?? "+l.content.length+" "+(h.message||h))}var f;try{f=ml(u)}catch(h){return console.log("## "+(h.message||h))}f.forEach(function(h){s[h.id]=h.messages,a.push(h.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&Ti(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(u){var f=Ti(u.meta[1][0].data)>>>0;if(f==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return oZe(s,o)}function lZe(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&Ti(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=im(t[7][0].data),f=0,h=[],g=im(t[4][0].data),v=0,x=[],b=0;b<e.length;++b){if(e[b]==null){u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}u.setUint16(b*2,f,!0),g.setUint16(b*2,v,!0);var w,E;switch(typeof e[b]){case"string":w=Q3({t:"s",v:e[b]},r),E=J3({t:"s",v:e[b]},r);break;case"number":w=Q3({t:"n",v:e[b]},r),E=J3({t:"n",v:e[b]},r);break;case"boolean":w=Q3({t:"b",v:e[b]},r),E=J3({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}h.push(w),f+=w.length,x.push(E),v+=E.length,++l}for(t[2][0].data=sn(l);b<t[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return t[6][0].data=oh(h),t[3][0].data=oh(x),l}function cZe(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=po(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(tr(n)));var s=FT(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(V){return V.forEach(function(W){typeof W=="string"&&a.push(W)})});var o={},l=[],u=It.read(e.numbers,{type:"base64"});u.FileIndex.map(function(V,W){return[V,u.FullPaths[W]]}).forEach(function(V){var W=V[0],Y=V[1];if(W.type==2&&W.name.match(/\.iwa/)){var ue=W.content,me=pl(ue),ce=ml(me);ce.forEach(function(ie){l.push(ie.id),o[ie.id]={deps:[],location:Y,type:Ti(ie.messages[0].meta[1][0].data)}})}}),l.sort(function(V,W){return V-W});var f=l.filter(function(V){return V>1}).map(function(V){return[V,sn(V)]});u.FileIndex.map(function(V,W){return[V,u.FullPaths[W]]}).forEach(function(V){var W=V[0];if(V[1],!!W.name.match(/\.iwa/)){var Y=ml(pl(W.content));Y.forEach(function(ue){ue.messages.forEach(function(me){f.forEach(function(ce){ue.messages.some(function(ie){return Ti(ie.meta[1][0].data)!=11006&&YJe(ie.data,ce[1])})&&o[ce[0]].deps.push(ue.id)})})})}});for(var h=It.find(u,o[1].location),g=ml(pl(h.content)),v,x=0;x<g.length;++x){var b=g[x];b.id==1&&(v=b)}var w=pa(Rr(v.messages[0].data)[1][0].data);for(h=It.find(u,o[w].location),g=ml(pl(h.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);for(w=pa(Rr(v.messages[0].data)[2][0].data),h=It.find(u,o[w].location),g=ml(pl(h.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);for(w=pa(Rr(v.messages[0].data)[2][0].data),h=It.find(u,o[w].location),g=ml(pl(h.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);var E=Rr(v.messages[0].data);{E[6][0].data=sn(n.e.r+1),E[7][0].data=sn(n.e.c+1);var A=pa(E[46][0].data),k=It.find(u,o[A].location),R=ml(pl(k.content));{for(var j=0;j<R.length&&R[j].id!=A;++j);if(R[j].id!=A)throw"Bad ColumnRowUIDMapArchive";var P=Rr(R[j].messages[0].data);P[1]=[],P[2]=[],P[3]=[];for(var S=0;S<=n.e.c;++S){var I=[];I[1]=I[2]=[{type:0,data:sn(S+420690)}],P[1].push({type:2,data:Ks(I)}),P[2].push({type:0,data:sn(S)}),P[3].push({type:0,data:sn(S)})}P[4]=[],P[5]=[],P[6]=[];for(var O=0;O<=n.e.r;++O)I=[],I[1]=I[2]=[{type:0,data:sn(O+726270)}],P[4].push({type:2,data:Ks(I)}),P[5].push({type:0,data:sn(O)}),P[6].push({type:0,data:sn(O)});R[j].messages[0].data=Ks(P)}k.content=Ep(_p(R)),k.size=k.content.length,delete E[46];var D=Rr(E[4][0].data);{D[7][0].data=sn(n.e.r+1);var M=Rr(D[1][0].data),F=pa(M[2][0].data);k=It.find(u,o[F].location),R=ml(pl(k.content));{if(R[0].id!=F)throw"Bad HeaderStorageBucket";var U=Rr(R[0].messages[0].data);for(O=0;O<s.length;++O){var le=Rr(U[2][0].data);le[1][0].data=sn(O),le[4][0].data=sn(s[O].length),U[2][O]={type:U[2][0].type,data:Ks(le)}}R[0].messages[0].data=Ks(U)}k.content=Ep(_p(R)),k.size=k.content.length;var de=pa(D[2][0].data);k=It.find(u,o[de].location),R=ml(pl(k.content));{if(R[0].id!=de)throw"Bad HeaderStorageBucket";for(U=Rr(R[0].messages[0].data),S=0;S<=n.e.c;++S)le=Rr(U[2][0].data),le[1][0].data=sn(S),le[4][0].data=sn(n.e.r+1),U[2][S]={type:U[2][0].type,data:Ks(le)};R[0].messages[0].data=Ks(U)}k.content=Ep(_p(R)),k.size=k.content.length;var J=pa(D[4][0].data);(function(){for(var V=It.find(u,o[J].location),W=ml(pl(V.content)),Y,ue=0;ue<W.length;++ue){var me=W[ue];me.id==J&&(Y=me)}var ce=Rr(Y.messages[0].data);{ce[3]=[];var ie=[];a.forEach(function(G,Je){ie[1]=[{type:0,data:sn(Je)}],ie[2]=[{type:0,data:sn(1)}],ie[3]=[{type:2,data:KJe(G)}],ce[3].push({type:2,data:Ks(ie)})})}Y.messages[0].data=Ks(ce);var ve=_p(W),Ue=Ep(ve);V.content=Ue,V.size=V.content.length})();var Q=Rr(D[3][0].data);{var fe=Q[1][0];delete Q[2];var ee=Rr(fe.data);{var ge=pa(ee[2][0].data);(function(){for(var V=It.find(u,o[ge].location),W=ml(pl(V.content)),Y,ue=0;ue<W.length;++ue){var me=W[ue];me.id==ge&&(Y=me)}var ce=Rr(Y.messages[0].data);{delete ce[6],delete Q[7];var ie=new Uint8Array(ce[5][0].data);ce[5]=[];for(var ve=0,Ue=0;Ue<=n.e.r;++Ue){var G=Rr(ie);ve+=lZe(G,s[Ue],a),G[1][0].data=sn(Ue),ce[5].push({data:Ks(G),type:2})}ce[1]=[{type:0,data:sn(n.e.c+1)}],ce[2]=[{type:0,data:sn(n.e.r+1)}],ce[3]=[{type:0,data:sn(ve)}],ce[4]=[{type:0,data:sn(n.e.r+1)}]}Y.messages[0].data=Ks(ce);var Je=_p(W),Oe=Ep(Je);V.content=Oe,V.size=V.content.length})()}fe.data=Ks(ee)}D[3][0].data=Ks(Q)}E[4][0].data=Ks(D)}v.messages[0].data=Ks(E);var q=_p(g),z=Ep(q);return h.content=z,h.size=h.content.length,u}function Ule(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function wD(t){Ule([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function _D(t){Ule([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function uZe(t){return cr.WS.indexOf(t)>-1?"sheet":t==cr.CS?"chart":t==cr.DS?"dialog":t==cr.MS?"macro":t&&t.length?t:"sheet"}function dZe(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,uZe(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function fZe(t,e,r,n,i,s,a,o,l,u,f,h){try{s[n]=_1(Lo(t,r,!0),e);var g=Ki(t,e),v;switch(o){case"sheet":v=jQe(g,e,i,l,s[n],u,f,h);break;case"chart":if(v=DQe(g,e,i,l,s[n],u,f,h),!v||!v["!drawel"])break;var x=Zy(v["!drawel"].Target,e),b=_x(x),w=wGe(Lo(t,x,!0),_1(Lo(t,b,!0),x)),E=Zy(w,x),A=_x(E);v=lQe(Lo(t,E,!0),E,l,_1(Lo(t,A,!0),E),u,v);break;case"macro":v=MQe(g,e,i,l,s[n],u,f,h);break;case"dialog":v=LQe(g,e,i,l,s[n],u,f,h);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=v;var k=[];s&&s[n]&&Si(s[n]).forEach(function(R){var j="";if(s[n][R].Type==cr.CMNT){j=Zy(s[n][R].Target,e);var P=VQe(Ki(t,j,!0),j,l);if(!P||!P.length)return;PG(v,P,!1)}s[n][R].Type==cr.TCMNT&&(j=Zy(s[n][R].Target,e),k=k.concat(EGe(Ki(t,j,!0),l)))}),k&&k.length&&PG(v,k,!0,l.people||[])}catch(R){if(l.WTF)throw R}}function dl(t){return t.charAt(0)=="/"?t.slice(1):t}function hZe(t,e){if(Nv(),e=e||{},wD(e),yl(t,"META-INF/manifest.xml")||yl(t,"objectdata.xml"))return HG(t,e);if(yl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof Z3<"u"){if(t.FileIndex)return Z3(t);var r=It.utils.cfb_new();return eG(t).forEach(function(le){ir(r,le,Tze(t,le))}),Z3(r)}throw new Error("Unsupported NUMBERS file")}if(!yl(t,"[Content_Types].xml"))throw yl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):yl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=eG(t),i=v$e(Lo(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Ki(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Ki(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(E1=[],i.sst)try{E1=UQe(Ki(t,dl(i.sst)),i.sst,e)}catch(le){if(e.WTF)throw le}e.cellStyles&&i.themes.length&&(l=BQe(Lo(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=FQe(Ki(t,dl(i.style)),i.style,l,e))}i.links.map(function(le){try{var de=_1(Lo(t,_x(dl(le))),le);return $Qe(Ki(t,dl(le)),de,le,e)}catch{}});var f=PQe(Ki(t,dl(i.workbooks[0])),i.workbooks[0],e),h={},g="";i.coreprops.length&&(g=Ki(t,dl(i.coreprops[0]),!0),g&&(h=Coe(g)),i.extprops.length!==0&&(g=Ki(t,dl(i.extprops[0]),!0),g&&T$e(g,h,e)));var v={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=Lo(t,dl(i.custprops[0]),!0),g&&(v=A$e(g,e)));var x={};if((e.bookSheets||e.bookProps)&&(f.Sheets?a=f.Sheets.map(function(de){return de.name}):h.Worksheets&&h.SheetNames.length>0&&(a=h.SheetNames),e.bookProps&&(x.Props=h,x.Custprops=v),e.bookSheets&&typeof a<"u"&&(x.SheetNames=a),e.bookSheets?x.SheetNames:e.bookProps))return x;a={};var b={};e.bookDeps&&i.calcchain&&(b=zQe(Ki(t,dl(i.calcchain)),i.calcchain));var w=0,E={},A,k;{var R=f.Sheets;h.Worksheets=R.length,h.SheetNames=[];for(var j=0;j!=R.length;++j)h.SheetNames[j]=R[j].name}var P=s?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");yl(t,I)||(I="xl/_rels/workbook."+P+".rels");var O=_1(Lo(t,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=HQe(Ki(t,dl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=SGe(Ki(t,dl(i.people[0])),e)),O&&(O=dZe(O,f.Sheets));var D=Ki(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=h.Worksheets;++w){var M="sheet";if(O&&O[w]?(A="xl/"+O[w][1].replace(/[\/]?xl\//,""),yl(t,A)||(A=O[w][1]),yl(t,A)||(A=I.replace(/_rels\/.*$/,"")+O[w][1]),M=O[w][2]):(A="xl/worksheets/sheet"+(w+1-D)+"."+P,A=A.replace(/sheet0\./,"sheet.")),k=A.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(w!=e.sheets)continue e;break;case"string":if(h.SheetNames[w].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==w&&(F=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==h.SheetNames[w].toLowerCase()&&(F=1);if(!F)continue e}}fZe(t,A,k,h.SheetNames[w],w,E,a,M,e,f,l,u)}return x={Directory:i,Workbook:f,Props:h,Custprops:v,Deps:b,Sheets:a,SheetNames:h.SheetNames,Strings:E1,Styles:u,Themes:l,SSF:Hn(Mt)},e&&e.bookFiles&&(t.files?(x.keys=n,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(le,de){le=le.replace(/^Root Entry[\/]/,""),x.keys.push(le),x.files[le]=t.FileIndex[de]}))),e&&e.bookVBA&&(i.vba.length>0?x.vbaraw=Ki(t,dl(i.vba[0]),!0):i.defaults&&i.defaults.bin===PGe&&(x.vbaraw=Ki(t,"xl/vbaProject.bin",!0))),x}function mZe(t,e){var r=e||{},n="Workbook",i=It.find(t,n);try{if(n="/!DataSpaces/Version",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(Hqe(i.content),n="/!DataSpaces/DataSpaceMap",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=Wqe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=Gqe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);Yqe(i.content)}catch{}if(n="/EncryptionInfo",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=Xqe(i.content);if(n="/EncryptedPackage",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function pZe(t,e){return e.bookType=="ods"?Ble(t,e):e.bookType=="numbers"?cZe(t,e):e.bookType=="xlsb"?gZe(t,e):vZe(t,e)}function gZe(t,e){Hp=1024,t&&!t.SSF&&(t.SSF=Hn(Mt)),t&&t.SSF&&(Nv(),H4(t.SSF),e.revssf=W4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,T1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=hle.indexOf(e.bookType)>-1,i=oD();_D(e=e||{});var s=Gj(),a="",o=0;if(e.cellXfs=[],wh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ir(s,a,Noe(t.Props,e)),i.coreprops.push(a),an(e.rels,2,a,cr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,ir(s,a,Roe(t.Props)),i.extprops.push(a),an(e.rels,3,a,cr.EXT_PROPS),t.Custprops!==t.Props&&Si(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ir(s,a,Poe(t.Custprops)),i.custprops.push(a),an(e.rels,4,a,cr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},h=t.Sheets[t.SheetNames[o-1]],g=(h||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,ir(s,a,WQe(o-1,a,e,t,f)),i.sheets.push(a),an(e.wbrels,-1,"worksheets/sheet"+o+"."+r,cr.WS[0])}if(h){var v=h["!comments"],x=!1,b="";v&&v.length>0&&(b="xl/comments"+o+"."+r,ir(s,b,YQe(v,b)),i.comments.push(b),an(f,-1,"../comments"+o+"."+r,cr.CMNT),x=!0),h["!legacy"]&&x&&ir(s,"xl/drawings/vmlDrawing"+o+".vml",dle(o,h["!comments"])),delete h["!comments"],delete h["!legacy"]}f["!id"].rId1&&ir(s,_x(a),og(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,ir(s,a,KQe(e.Strings,a,e)),i.strs.push(a),an(e.wbrels,-1,"sharedStrings."+r,cr.SST)),a="xl/workbook."+r,ir(s,a,qQe(t,a)),i.workbooks.push(a),an(e.rels,1,a,cr.WB),a="xl/theme/theme1.xml",ir(s,a,hD(t.Themes,e)),i.themes.push(a),an(e.wbrels,-1,"theme/theme1.xml",cr.THEME),a="xl/styles."+r,ir(s,a,GQe(t,a,e)),i.styles.push(a),an(e.wbrels,-1,"styles."+r,cr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",ir(s,a,t.vbaraw),i.vba.push(a),an(e.wbrels,-1,"vbaProject.bin",cr.VBA)),a="xl/metadata."+r,ir(s,a,XQe(a)),i.metadata.push(a),an(e.wbrels,-1,"metadata."+r,cr.XLMETA),ir(s,"[Content_Types].xml",Aoe(i,e)),ir(s,"_rels/.rels",og(e.rels)),ir(s,"xl/_rels/workbook."+r+".rels",og(e.wbrels)),delete e.revssf,delete e.ssf,s}function vZe(t,e){Hp=1024,t&&!t.SSF&&(t.SSF=Hn(Mt)),t&&t.SSF&&(Nv(),H4(t.SSF),e.revssf=W4(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,T1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=hle.indexOf(e.bookType)>-1,i=oD();_D(e=e||{});var s=Gj(),a="",o=0;if(e.cellXfs=[],wh(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ir(s,a,Noe(t.Props,e)),i.coreprops.push(a),an(e.rels,2,a,cr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,ir(s,a,Roe(t.Props)),i.extprops.push(a),an(e.rels,3,a,cr.EXT_PROPS),t.Custprops!==t.Props&&Si(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ir(s,a,Poe(t.Custprops)),i.custprops.push(a),an(e.rels,4,a,cr.CUST_PROPS));var f=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var h={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,ir(s,a,Tle(o-1,e,t,h)),i.sheets.push(a),an(e.wbrels,-1,"worksheets/sheet"+o+"."+r,cr.WS[0])}if(g){var x=g["!comments"],b=!1,w="";if(x&&x.length>0){var E=!1;x.forEach(function(A){A[1].forEach(function(k){k.T==!0&&(E=!0)})}),E&&(w="xl/threadedComments/threadedComment"+o+"."+r,ir(s,w,TGe(x,f,e)),i.threadedcomments.push(w),an(h,-1,"../threadedComments/threadedComment"+o+"."+r,cr.TCMNT)),w="xl/comments"+o+"."+r,ir(s,w,fle(x)),i.comments.push(w),an(h,-1,"../comments"+o+"."+r,cr.CMNT),b=!0}g["!legacy"]&&b&&ir(s,"xl/drawings/vmlDrawing"+o+".vml",dle(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}h["!id"].rId1&&ir(s,_x(a),og(h))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,ir(s,a,Zoe(e.Strings,e)),i.strs.push(a),an(e.wbrels,-1,"sharedStrings."+r,cr.SST)),a="xl/workbook."+r,ir(s,a,Nle(t)),i.workbooks.push(a),an(e.rels,1,a,cr.WB),a="xl/theme/theme1.xml",ir(s,a,hD(t.Themes,e)),i.themes.push(a),an(e.wbrels,-1,"theme/theme1.xml",cr.THEME),a="xl/styles."+r,ir(s,a,ole(t,e)),i.styles.push(a),an(e.wbrels,-1,"styles."+r,cr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",ir(s,a,t.vbaraw),i.vba.push(a),an(e.wbrels,-1,"vbaProject.bin",cr.VBA)),a="xl/metadata."+r,ir(s,a,ule()),i.metadata.push(a),an(e.wbrels,-1,"metadata."+r,cr.XLMETA),f.length>1&&(a="xl/persons/person.xml",ir(s,a,AGe(f)),i.people.push(a),an(e.wbrels,-1,"persons/person.xml",cr.PEOPLE)),ir(s,"[Content_Types].xml",Aoe(i,e)),ir(s,"_rels/.rels",og(e.rels)),ir(s,"xl/_rels/workbook."+r+".rels",og(e.wbrels)),delete e.revssf,delete e.ssf,s}function ED(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Go(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function yZe(t,e){return It.find(t,"EncryptedPackage")?mZe(t,e):Ple(t,e)}function xZe(t,e){var r,n=t,i=e||{};return i.type||(i.type=lr&&Buffer.isBuffer(t)?"buffer":"base64"),r=toe(n,i),hZe(r,i)}function Vle(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return JO(t.slice(r),e);default:break e}return Kg.to_workbook(t,e)}function bZe(t,e){var r="",n=ED(t,e);switch(e.type){case"base64":r=Go(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=em(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=En(r)),e.type="binary",Vle(r,e)}function wZe(t,e){var r=t;return e.type=="base64"&&(r=Go(r)),r=gx.utils.decode(1200,r.slice(2),"str"),e.type="binary",Vle(r,e)}function _Ze(t){return t.match(/[^\x00-\x7F]/)?Yc(t):t}function eI(t,e,r,n){return n?(r.type="string",Kg.to_workbook(t,r)):Kg.to_workbook(e,r)}function t6(t,e){zj();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return t6(new Uint8Array(t),(r=Hn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),cg={},r.dateNF&&(cg.dateNF=r.dateNF),r.type||(r.type=lr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=lr?"buffer":"binary",n=gze(t),typeof Uint8Array<"u"&&!lr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=_Ze(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=Hn(r),r.type="array",t6($j(n),r)}switch((i=ED(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return yZe(It.read(n,r),r);break;case 9:if(i[1]<=8)return Ple(n,r);break;case 60:return JO(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return kqe(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return Qoe.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?xZe(n,r):eI(t,n,r,s);case 239:return i[3]===60?JO(n,r):eI(t,n,r,s);case 255:if(i[1]===254)return wZe(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return O0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return O0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return QO.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return ile.to_workbook(n,r);break;case 10:case 13:case 32:return bZe(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return Aqe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?QO.to_workbook(n,r):eI(t,n,r,s)}function zle(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return kb(e.file,It.write(t,{type:lr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return It.write(t,e)}function EZe(t,e){var r=Hn(e||{}),n=pZe(t,r);return TZe(n,r)}function TZe(t,e){var r={},n=lr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?It.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array($4(i))}return e.password&&typeof encrypt_agile<"u"?zle(encrypt_agile(i,e.password),e):e.type==="file"?kb(e.file,i):e.type=="string"?En(i):i}function SZe(t,e){var r=e||{},n=_Je(t,r);return zle(n,r)}function Vc(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return vx(Yc(n));case"binary":return Yc(n);case"string":return t;case"file":return kb(e.file,n,"utf8");case"buffer":return lr?Rd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):Vc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function AZe(t,e){switch(e.type){case"base64":return vx(t);case"binary":return t;case"string":return t;case"file":return kb(e.file,t,"binary");case"buffer":return lr?Rd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function r2(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?vx(r):e.type=="string"?En(r):r;case"file":return kb(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function $le(t,e){zj(),yQe(t);var r=Hn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=$le(t,r);return r.type="array",$4(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return Vc(pJe(t,r),r);case"slk":case"sylk":return Vc(Xoe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return Vc(Dle(t.Sheets[t.SheetNames[i]],r),r);case"txt":return AZe(Hle(t.Sheets[t.SheetNames[i]],r),r);case"csv":return Vc(TD(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return Vc(Qoe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return r2(QO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return Vc(Kg.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return Vc(ile.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return Vc(Joe.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return Vc(Ble(t,r),r);case"wk1":return r2(O0.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return r2(O0.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),r2(jle(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),SZe(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return EZe(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function kZe(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function CZe(t,e,r){var n={};return n.type="file",n.file=e,kZe(n),$le(t,n)}function NZe(t,e,r,n,i,s,a,o){var l=Di(r),u=o.defval,f=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),h=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!a||t[r])for(var v=e.s.c;v<=e.e.c;++v){var x=a?t[r][v]:t[n[v]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;s[v]!=null&&(g[s[v]]=u);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[v]!=null){if(b==null)if(x.t=="e"&&b===null)g[s[v]]=null;else if(u!==void 0)g[s[v]]=u;else if(f&&b===null)g[s[v]]=null;else continue;else g[s[v]]=f&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?b:wd(x,b,o);b!=null&&(h=!1)}}return{row:g,isempty:h}}function FT(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},f=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof f){case"string":l=Cr(f);break;case"number":l=Cr(t["!ref"]),l.s.r=f;break;default:l=f}n>0&&(i=0);var h=Di(l.s.r),g=[],v=[],x=0,b=0,w=Array.isArray(t),E=l.s.r,A=0,k={};w&&!t[E]&&(t[E]=[]);var R=u.skipHidden&&t["!cols"]||[],j=u.skipHidden&&t["!rows"]||[];for(A=l.s.c;A<=l.e.c;++A)if(!(R[A]||{}).hidden)switch(g[A]=ui(A),r=w?t[E][A]:t[g[A]+h],n){case 1:s[A]=A-l.s.c;break;case 2:s[A]=g[A];break;case 3:s[A]=u.header[A-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=wd(r,null,u),b=k[a]||0,!b)k[a]=1;else{do o=a+"_"+b++;while(k[o]);k[a]=b,k[o]=1}s[A]=o}for(E=l.s.r+i;E<=l.e.r;++E)if(!(j[E]||{}).hidden){var P=NZe(t,l,E,g,n,s,w,u);(P.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(v[x++]=P.row)}return v.length=x,v}var YG=/"/g;function IZe(t,e,r,n,i,s,a,o){for(var l=!0,u=[],f="",h=Di(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var v=o.dense?(t[r]||[])[g]:t[n[g]+h];if(v==null)f="";else if(v.v!=null){l=!1,f=""+(o.rawNumbers&&v.t=="n"?v.v:wd(v,null,o));for(var x=0,b=0;x!==f.length;++x)if((b=f.charCodeAt(x))===i||b===s||b===34||o.forceQuotes){f='"'+f.replace(YG,'""')+'"';break}f=="ID"&&(f='"ID"')}else v.f!=null&&!v.F?(l=!1,f="="+v.f,f.indexOf(",")>=0&&(f='"'+f.replace(YG,'""')+'"')):f="";u.push(f)}return o.blankrows===!1&&l?null:u.join(a)}function TD(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Cr(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),f="",h=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(g[x]||{}).hidden||(h[x]=ui(x));for(var b=0,w=i.s.r;w<=i.e.r;++w)(v[w]||{}).hidden||(f=IZe(t,i,w,h,a,l,s,n),f!=null&&(n.strip&&(f=f.replace(u,"")),(f||n.blankrows!==!1)&&r.push((b++?o:"")+f)));return delete n.dense,r.join("")}function Hle(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=TD(t,e);return r}function OZe(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Cr(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=ui(o);for(var f=i.s.r;f<=i.e.r;++f)for(s=Di(f),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[f]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function qle(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?di(n.origin):n.origin;a=l.r,o=l.c}var u,f={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var h=Cr(s["!ref"]);f.e.c=Math.max(f.e.c,h.e.c),f.e.r=Math.max(f.e.r,h.e.r),a==-1&&(a=h.e.r+1,f.e.r=a+e.length-1+i)}else a==-1&&(a=0,f.e.r=e.length-1+i);var g=n.header||[],v=0;e.forEach(function(b,w){Si(b).forEach(function(E){(v=g.indexOf(E))==-1&&(g[v=g.length]=E);var A=b[E],k="z",R="",j=Ut({c:o+v,r:a+w+i});u=Nx(s,j),A&&typeof A=="object"&&!(A instanceof Date)?s[j]=A:(typeof A=="number"?k="n":typeof A=="boolean"?k="b":typeof A=="string"?k="s":A instanceof Date?(k="d",n.cellDates||(k="n",A=hs(A)),R=n.dateNF||Mt[14]):A===null&&n.nullError&&(k="e",A=0),u?(u.t=k,u.v=A,delete u.w,delete u.R,R&&(u.z=R)):s[j]=u={t:k,v:A},R&&(u.z=R))})}),f.e.c=Math.max(f.e.c,o+g.length-1);var x=Di(a);if(i)for(v=0;v<g.length;++v)s[ui(v+o)+x]={t:"s",v:g[v]};return s["!ref"]=tr(f),s}function RZe(t,e){return qle(null,t,e)}function Nx(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=di(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Nx(t,Ut(e)):Nx(t,Ut({r:e,c:r||0}))}function PZe(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function SD(){return{SheetNames:[],Sheets:{}}}function AD(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(Cle(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function jZe(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=PZe(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function DZe(t,e){return t.z=e,t}function Wle(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function MZe(t,e,r){return Wle(t,"#"+e,r)}function LZe(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function FZe(t,e,r,n){for(var i=typeof e!="string"?e:Cr(e),s=typeof e=="string"?e:tr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Nx(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var n2={encode_col:ui,encode_row:Di,encode_cell:Ut,encode_range:tr,decode_col:tD,decode_row:eD,split_cell:Kze,decode_cell:di,decode_range:po,format_cell:wd,sheet_add_aoa:xoe,sheet_add_json:qle,sheet_add_dom:Mle,aoa_to_sheet:Iv,json_to_sheet:RZe,table_to_sheet:Lle,table_to_book:HJe,sheet_to_csv:TD,sheet_to_txt:Hle,sheet_to_json:FT,sheet_to_html:Dle,sheet_to_formulae:OZe,sheet_to_row_object_array:FT,sheet_get_cell:Nx,book_new:SD,book_append_sheet:AD,book_set_sheet_visibility:jZe,cell_set_number_format:DZe,cell_set_hyperlink:Wle,cell_set_internal_link:MZe,cell_add_comment:LZe,sheet_set_array_formula:FZe,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const BZe=({courseId:t,courseName:e,licenseId:r,onClose:n,onSuccess:i})=>{const[s,a]=N.useState(null),[o,l]=N.useState([]),[u,f]=N.useState(!1),[h,g]=N.useState(0),v=N.useRef(null),x=A=>{if(A.target.files&&A.target.files[0]){const k=A.target.files[0];a(k),b(k)}},b=A=>{const k=new FileReader;k.onload=R=>{var M,F,U,le;const j=new Uint8Array((M=R.target)==null?void 0:M.result),P=t6(j,{type:"array"}),S=P.SheetNames[0],I=P.Sheets[S],O=n2.sheet_to_json(I,{header:1}),D=[];for(let de=1;de<O.length;de++){const J=O[de];if(!J||J.length===0)continue;const Q=(F=J[0])==null?void 0:F.toString().trim(),fe=(U=J[1])==null?void 0:U.toString().trim();if(Q&&fe){let ee=J[2];typeof ee=="number"?ee=new Date(Math.round((ee-25569)*86400*1e3)).toLocaleDateString("vi-VN"):ee=(ee==null?void 0:ee.toString().trim())||"";const ge=((le=J[3])==null?void 0:le.toString().trim())||"123456";D.push({sbd:Q,fullName:fe,birthDate:ee,password:ge,status:"pending"})}}l(D)},k.readAsArrayBuffer(A)},w=async()=>{if(o.length===0)return;f(!0),g(0);const A="SecondaryAppForImport";let k;try{k=lm(A)}catch{k=sS(KS,A)}const R=XR(k),j=[...o];let P=0;for(let S=0;S<j.length;S++){const I=j[S];try{const O=`${I.sbd}@daotaothuyenvien.com`;let D="";try{D=(await WR(R,O,I.password||"123456")).user.uid}catch(M){throw M.code==="auth/email-already-in-use"?new Error("Ti khon (SBD)  tn ti."):M}D&&(await cv(Ft(Ye,"users",D),{fullName:I.fullName,email:O,role:"hoc_vien",birthDate:I.birthDate,courseId:t,courseName:e,class:e,isVerified:!0,defaultLicenseId:r||null,createdAt:Ua(),updatedAt:Ua(),photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(I.fullName)}&background=random`},{merge:!0}),await si(Ft(Ye,"courses",t),{students:z1(D)}),j[S].status="success",P++)}catch(O){console.error(`Error importing ${I.sbd}:`,O),j[S].status="error",j[S].message=O.message}l([...j]),g(Math.round((S+1)/j.length*100))}await YJ(R),f(!1),P===j.length?(alert(` import thnh cng ${P} hc vin!`),i(),n()):alert(` x l xong. Thnh cng: ${P}, Li: ${j.length-P}`)},E=()=>{const A=n2.aoa_to_sheet([["SBD","H v tn","Ngy sinh","Mt khu (Ty chn)"],["TS001","Nguyn Vn A","01/01/1990","123456"],["TS002","Trn Th B","15/05/1995",""]]),k=n2.book_new();n2.book_append_sheet(k,A,"Mau_Import"),CZe(k,"Mau_Danh_Sach_Hoc_Vien.xlsx")};return m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:n,children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 h-[80vh] flex flex-col relative",onClick:A=>A.stopPropagation(),children:[m.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:m.jsx(Af,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-green-600",children:[m.jsx(Tee,{})," Import Hc Vin t Excel"]}),m.jsxs("div",{className:"flex gap-4 mb-6",children:[m.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition",children:"Ti file mu"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"file",ref:v,onChange:x,accept:".xlsx, .xls",className:"hidden"}),m.jsxs("button",{onClick:()=>{var A;return(A=v.current)==null?void 0:A.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition flex items-center gap-2",children:[m.jsx(T4e,{})," Chn file Excel"]})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 dark:border-slate-700 rounded-lg mb-4",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 font-semibold",children:"SBD"}),m.jsx("th",{className:"p-3 font-semibold",children:"H tn"}),m.jsx("th",{className:"p-3 font-semibold",children:"Ngy sinh"}),m.jsx("th",{className:"p-3 font-semibold",children:"Trng thi"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[o.map((A,k)=>m.jsxs("tr",{className:A.status==="error"?"bg-red-50 dark:bg-red-900/20":A.status==="success"?"bg-green-50 dark:bg-green-900/20":"",children:[m.jsx("td",{className:"p-3",children:A.sbd}),m.jsx("td",{className:"p-3",children:A.fullName}),m.jsx("td",{className:"p-3",children:A.birthDate}),m.jsxs("td",{className:"p-3",children:[A.status==="pending"&&m.jsx("span",{className:"text-gray-500",children:"Ch x l"}),A.status==="success"&&m.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[m.jsx(q0,{})," Thnh cng"]}),A.status==="error"&&m.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[m.jsx(pv,{})," ",A.message]})]})]},k)),o.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-500 italic",children:"Cha c d liu. Vui lng ti file Excel ln."})})]})]})}),m.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-slate-700",children:[m.jsx("div",{className:"text-sm text-gray-500",children:o.length>0&&`Tm thy ${o.length} hc vin.`}),m.jsx("button",{onClick:w,disabled:u||o.length===0,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 shadow-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?m.jsxs(m.Fragment,{children:[m.jsx(Iee,{className:"animate-spin"})," ang x l ",h,"%"]}):"Thc hin Import"})]})]})})},UZe=({courseId:t,courseName:e,licenseId:r,onClose:n,onSuccess:i})=>{const[s,a]=N.useState(""),[o,l]=N.useState(""),[u,f]=N.useState(""),[h,g]=N.useState("123456"),[v,x]=N.useState(!1),[b,w]=N.useState(""),E=async A=>{A.preventDefault(),w(""),x(!0);const k="SecondaryAppForManualCreate";let R;try{R=lm(k)}catch{R=sS(KS,k)}const j=XR(R);try{const P=`${s.trim()}@daotaothuyenvien.com`;let S="";try{S=(await WR(j,P,h)).user.uid}catch(I){throw I.code==="auth/email-already-in-use"?new Error("S bo danh ny  tn ti trong h thng."):I}S&&(await cv(Ft(Ye,"users",S),{fullName:o.trim(),email:P,role:"hoc_vien",birthDate:u,courseId:t,courseName:e,class:e,isVerified:!0,defaultLicenseId:r||null,createdAt:Ua(),updatedAt:Ua(),photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(o.trim())}&background=random`},{merge:!0}),await si(Ft(Ye,"courses",t),{students:z1(S)}),alert(` to ti khon thnh cng cho hc vin: ${o}`),i(),n())}catch(P){console.error("Error creating student:",P),w(P.message||"C li xy ra.")}finally{await YJ(j),x(!1)}};return m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:n,children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",onClick:A=>A.stopPropagation(),children:[m.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:m.jsx(Af,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-blue-600",children:[m.jsx(Pee,{})," Thm Hc Vin Th Cng"]}),m.jsxs("form",{onSubmit:E,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:["S Bo Danh (SBD) ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",value:s,onChange:A=>a(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"V d: TMK3-001",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:["H v Tn ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",value:o,onChange:A=>l(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"V d: Nguyn Vn A",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Ngy sinh"}),m.jsx("input",{type:"text",value:u,onChange:A=>f(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"DD/MM/YYYY"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Mt khu mc nh"}),m.jsx("input",{type:"text",value:h,onChange:A=>g(A.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white bg-gray-100"})]}),b&&m.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2",children:[m.jsx(pv,{})," ",b]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-slate-700 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition",children:"Hy"}),m.jsx("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg transition flex items-center gap-2 disabled:opacity-70",children:v?m.jsxs(m.Fragment,{children:[m.jsx(Iee,{className:"animate-spin"})," ang to..."]}):"To ti khon"})]})]})]})})},VZe=t=>{switch(t){case"admin":return"Qun tr vin";case"lanh_dao":return"Lnh o";case"quan_ly":return"Qun l";case"giao_vien":return"Gio vin";case"hoc_vien":return"Hc vin";default:return t}},tI=t=>t==="admin"?10:t==="lanh_dao"?5:t==="quan_ly"?2:t==="giao_vien"?1:0,xn=t=>(t||"").toLowerCase(),zZe=({userProfile:t,onBack:e})=>{var Ll,Vs;const[r,n]=N.useState([]),[i,s]=N.useState(null),[a,o]=N.useState(!0),[l,u]=N.useState({}),[f,h]=N.useState(!0),[g,v]=N.useState([]),[x,b]=N.useState([]),[w,E]=N.useState([]),[A,k]=N.useState([]),[R,j]=N.useState({}),[P,S]=N.useState(!1),[I,O]=N.useState(!1),[D,M]=N.useState(""),[F,U]=N.useState(""),[le,de]=N.useState(!1),[J,Q]=N.useState(!1),[fe,ee]=N.useState(new Set),[ge,q]=N.useState(!1),[z,V]=N.useState(!1),[W,Y]=N.useState(null),[ue,me]=N.useState([]),[ce,ie]=N.useState(!1),[ve,Ue]=N.useState({}),[G,Je]=N.useState(!1),[Oe,rt]=N.useState(null),[Xe,je]=N.useState(!1),[at,wt]=N.useState(!1),[Ot,Yr]=N.useState(!1),[Wr,Lr]=N.useState(!1),[Gt,Tr]=N.useState(!1),[Sn,hi]=N.useState(""),[xe,Ke]=N.useState(""),[nt,jt]=N.useState(!1),[Kt,rr]=N.useState(!1),[br,Fi]=N.useState(null),[Xr,Dl]=N.useState(""),[aa,ss]=N.useState(""),[mi,yo]=N.useState("system"),[Qr,Bi]=N.useState(""),[Ct,wr]=N.useState(!1),[In,ri]=N.useState("list"),[ni,Jr]=N.useState([]),[Ui,ys]=N.useState(!1),[Zr,Ai]=N.useState(null),[Us,pi]=N.useState(""),[K,ae]=N.useState(""),[Z,re]=N.useState(""),[se,oe]=N.useState(""),[we,De]=N.useState(10),[be,Te]=N.useState(1),[_e,We]=N.useState("fullName"),[Qe,ct]=N.useState("asc"),qe=tI(t.role)>=2,tt=["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role),pt=tI(t.role)>=2,Fr=tI(t.role)>=2,Br=ne=>ne.roomId?"Thi Trc Tuyn":ne.quizId==="exam-quiz"||ne.quizId==="thithu2"||ne.type==="Thi th"||ne.quizTitle&&ne.quizTitle.includes("Thi th")?"Thi th":"n tp",en=ne=>{switch(ne){case"Thi Trc Tuyn":return"bg-red-100 text-red-800 border-red-200";case"Thi th":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},xs=ne=>{if(ne.roomId&&ve[ne.roomId]){const Be=ve[ne.roomId];return`Phng thi ${Be.name} / ${Be.course_name||"T do"} / ${Be.license_name||""}`}return ne.quizTitle||(ne.roomId?`Phng thi ${ne.roomId}`:ne.type)};N.useEffect(()=>{(async()=>{try{const Be=pr(Wt(Ye,"courses")),St=(await _n(Be)).docs.map(fn=>({id:fn.id,...fn.data()}));n(St);const bt=new Set(St.map(fn=>fn.headTeacherId).filter(Boolean)),Nr={};for(const fn of Array.from(bt))if(fn)try{const hn=await uc(Ft(Ye,"users",fn));hn.exists()&&(Nr[fn]=hn.data().fullName)}catch{}u(Nr)}catch(Be){console.error(Be)}finally{o(!1)}})(),Fn(async()=>{const{fetchLicenses:Be}=await Promise.resolve().then(()=>rM);return{fetchLicenses:Be}},void 0).then(({fetchLicenses:Be})=>{Be().then(Jr).catch(console.error)})},[t]),N.useEffect(()=>{if(!i)return;let ne,Be;if(i.teacherIds&&i.teacherIds.length>0)try{const St=[...new Set(i.teacherIds.filter(bt=>bt&&bt.trim()!==""))].slice(0,10);if(St.length>0){const bt=pr(Wt(Ye,"users"),Ar(ES(),"in",St));ne=Vo(bt,Nr=>{b(Nr.docs.map(fn=>{const hn=fn.data();return{uid:fn.id,...hn,photoURL:hn.photoURL||th(hn.role)}}))})}else b([])}catch(St){console.error("Teacher fetch error:",St),b([])}else b([]);const dt=pr(Wt(Ye,"users"),Ar("courseId","==",i.id));return Be=Vo(dt,async St=>{const bt=St.docs.map(fn=>{const hn=fn.data();return{uid:fn.id,...hn,photoURL:hn.photoURL||th(hn.role)}});v(bt);const Nr={};await Promise.all(bt.map(async fn=>{try{const hn=await ST(fn.uid);if(hn&&hn.length>0){const bo=hn[0];Nr[fn.uid]={type:bo.quizTitle||bo.type||"Bi thi",time:bo.completedAt?bo.completedAt.toLocaleString("vi-VN"):"--",score:`${bo.score}/${bo.totalQuestions} cu`,rawDate:bo.completedAt}}else Nr[fn.uid]={type:"--",time:"--",score:"--"}}catch{Nr[fn.uid]={type:"Li",time:"--",score:"--"}}})),j(Nr)}),()=>{ne&&ne(),Be&&Be()}},[i]);const Oa=N.useMemo(()=>{let ne=[...g];if(D){const Be=D.toLowerCase();ne=ne.filter(dt=>{var St,bt,Nr;return((St=dt.fullName)==null?void 0:St.toLowerCase().includes(Be))||((bt=dt.email)==null?void 0:bt.toLowerCase().includes(Be))||((Nr=dt.phoneNumber)==null?void 0:Nr.includes(Be))})}return ne.sort((Be,dt)=>{let St=Be[_e],bt=dt[_e];return _e==="status"&&(St=Be.isVerified||Be.courseId?1:0,bt=dt.isVerified||dt.courseId?1:0),St||(St=""),bt||(bt=""),St<bt?Qe==="asc"?-1:1:St>bt?Qe==="asc"?1:-1:0}),ne},[g,D,_e,Qe]),bs=Math.ceil(Oa.length/we),oa=Oa.slice((be-1)*we,be*we),Ka=ne=>{_e===ne?ct(Be=>Be==="asc"?"desc":"asc"):(We(ne),ct("asc"))},gi=ne=>_e!==ne?m.jsx(Nee,{className:"ml-1 text-gray-300 inline"}):Qe==="asc"?m.jsx(Cee,{className:"ml-1 text-blue-500 inline"}):m.jsx(kee,{className:"ml-1 text-blue-500 inline"});N.useEffect(()=>{P&&(async()=>{const Be=pr(Wt(Ye,"users"),Ar("role","in",["hoc_vien"])),St=(await _n(Be)).docs.map(bt=>({uid:bt.id,...bt.data()}));E(St.filter(bt=>bt.courseId!==(i==null?void 0:i.id)||!bt.courseId))})()},[P,i]),N.useEffect(()=>{I&&(async()=>{const Be=pr(Wt(Ye,"users"),Ar("role","in",["giao_vien","admin","quan_ly","lanh_dao"])),St=(await _n(Be)).docs.map(bt=>({uid:bt.id,...bt.data()}));k(St.filter(bt=>!((i==null?void 0:i.teacherIds)||[]).includes(bt.uid)))})()},[I,i]),N.useEffect(()=>{z&&W&&(ie(!0),(async()=>{const Be=await ST(W.uid);Be.sort((St,bt)=>bt.completedAt.getTime()-St.completedAt.getTime()),me(Be);const dt=Array.from(new Set(Be.filter(St=>St.roomId).map(St=>St.roomId)));if(dt.length>0){const St={};await Promise.all(dt.map(async bt=>{try{const Nr=await uc(Ft(Ye,"exam_rooms",bt));Nr.exists()&&(St[bt]=Nr.data())}catch{}})),Ue(St)}ie(!1)})())},[z,W]);const Ra=async ne=>{ne.preventDefault();try{await Qf(Wt(Ye,"courses"),{name:Sn,description:xe,teacherIds:[],createdAt:Ua(),createdBy:t.id,licenseId:se}),Tr(!1),hi(""),Ke(""),oe(""),window.location.reload()}catch(Be){console.error(Be)}},vi=async ne=>{if(ne.preventDefault(),!!Zr)try{if(await si(Ft(Ye,"courses",Zr.id),{name:Us,description:K,licenseId:Z}),Zr.licenseId!==Z){const Be=pr(Wt(Ye,"users"),Ar("courseId","==",Zr.id)),St=(await _n(Be)).docs.map(bt=>si(Ft(Ye,"users",bt.id),{defaultLicenseId:Z||null}));await Promise.all(St)}alert("Cp nht lp hc thnh cng!"),n(Be=>Be.map(dt=>dt.id===Zr.id?{...dt,name:Us,description:K,licenseId:Z}:dt)),(i==null?void 0:i.id)===Zr.id&&s(Be=>Be?{...Be,name:Us,description:K,licenseId:Z}:null),ys(!1)}catch(Be){console.error(Be),alert("Li khi cp nht lp.")}},Vi=async ne=>{if(confirm("Bn c chc chn mun xa lp ny? Hnh ng ny khng th hon tc!"))try{const Be=pr(Wt(Ye,"users"),Ar("courseId","==",ne)),St=(await _n(Be)).docs.map(bt=>si(Ft(Ye,"users",bt.id),{courseId:null,courseName:null,class:null,isVerified:!1}));await Promise.all(St),await Fn(async()=>{const{deleteDoc:bt}=await Promise.resolve().then(()=>$u);return{deleteDoc:bt}},void 0).then(({deleteDoc:bt})=>bt(Ft(Ye,"courses",ne))),n(bt=>bt.filter(Nr=>Nr.id!==ne)),alert(" xa lp hc!"),(i==null?void 0:i.id)===ne&&s(null)}catch(Be){console.error(Be),alert("Li khi xa lp.")}},Ac=(ne,Be)=>{Be.stopPropagation(),Ai(ne),pi(ne.name),ae(ne.description||""),re(ne.licenseId||""),ys(!0)},Sh=async ne=>{if(!i)return;const Be=w.find(dt=>dt.uid===ne);if(Be&&Be.courseId){alert(`Hc vin ny ang hc lp ${Be.courseName||Be.courseId}. Vui lng xa khi lp c trc khi thm vo lp mi.`);return}de(!0);try{await si(Ft(Ye,"users",ne),{courseId:i.id,courseName:i.name,class:i.name,isVerified:!0,defaultLicenseId:i.licenseId||null,updatedAt:Ua()}),E(dt=>dt.filter(St=>St.uid!==ne)),alert(` thm hc vin vo lp ${i.name}`)}catch(dt){console.error(dt),alert("Li khi thm hc vin.")}finally{de(!1)}},Ur=async ne=>{if(i){Q(!0);try{const Be=Ft(Ye,"courses",i.id);await si(Be,{teacherIds:z1(ne),...nt?{headTeacherId:ne}:{}}),k(dt=>dt.filter(St=>St.uid!==ne)),nt&&s(dt=>dt?{...dt,headTeacherId:ne}:null),s(dt=>dt?{...dt,teacherIds:[...dt.teacherIds||[],ne]}:null)}catch(Be){console.error(Be)}finally{Q(!1)}}},vu=async ne=>{if(i&&confirm("Bn c chc chn xo gio vin ny khi lp?"))try{const Be=Ft(Ye,"courses",i.id);await si(Be,{teacherIds:FR(ne),...i.headTeacherId===ne?{headTeacherId:null}:{}}),s(dt=>dt?{...dt,teacherIds:(dt.teacherIds||[]).filter(St=>St!==ne),headTeacherId:dt.headTeacherId===ne?void 0:dt.headTeacherId}:null)}catch(Be){console.error("Error removing teacher:",Be)}},xo=async ne=>{if(confirm("Bn c chc chn mun xa hc vin ny khi lp?"))try{await si(Ft(Ye,"users",ne),{courseId:null,courseName:null,class:null,isVerified:!1})}catch(Be){console.error(Be)}},yu=ne=>{const Be=new Set(fe);Be.has(ne)?Be.delete(ne):Be.add(ne),ee(Be)},la=ne=>{if(fe.size===ne.length&&ne.length>0)ee(new Set);else{const Be=new Set(ne.map(dt=>dt.uid));ee(Be)}},Dd=async()=>{if(!(fe.size===0||!i)&&confirm(`Bn c chc mun thm ${fe.size} hc vin vo lp ${i.name}?`)){q(!0);try{const ne=Array.from(fe).map(async Be=>{if(!w.find(Nr=>Nr.uid===Be))return;const St=Ft(Ye,"users",Be);await si(St,{courseId:i.id,courseName:i.name,isVerified:!0,defaultLicenseId:i.licenseId||null,class:i.name,updatedAt:Ua()});const bt=Ft(Ye,"courses",i.id);await si(bt,{students:z1(Be)})});await Promise.all(ne),alert(` thm thnh cng ${fe.size} hc vin!`),S(!1),ee(new Set)}catch(ne){console.error(ne),alert("C li xy ra khi thm nhiu hc vin.")}finally{q(!1)}}},Md=(ne,Be,dt)=>{Fi({type:ne,id:Be,name:dt}),Dl(""),ss(""),rr(!0)},Ah=async ne=>{if(ne.preventDefault(),!(!br||!t.id)){wr(!0);try{const Be=Qr?new Date(Qr):null,dt=mi==="special"||mi==="attention",St=dt?"all":br.type,bt=dt?null:br.id;await xee(Xr,aa,mi,St,bt,t.id,t.full_name,Be),alert("Gi thng bo thnh cng!"),rr(!1)}catch(Be){console.error(Be),alert("Li khi gi thng bo. C th thiu Index Firestore.")}finally{wr(!1)}}},Ml=async(ne,Be)=>{var St;const dt=prompt(`Nhp mt khu mi cho hc vin ${Be}:`,"123456");if(dt!==null){if(!dt||dt.length<6){alert("Mt khu phi c t nht 6 k t.");return}try{const bt=await((St=Js.currentUser)==null?void 0:St.getIdToken());if(!bt){alert("Li xc thc.");return}const Nr=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${bt}`},body:JSON.stringify({targetUserId:ne,newPassword:dt})}),fn=await Nr.json();Nr.ok?alert(` i mt khu cho ${Be} thnh cng!`):alert(`Li: ${fn.error}`)}catch(bt){console.error(bt),alert("Li kt ni.")}}},Im=async()=>{if(Oe){je(!0);try{const ne=Be=>Be===void 0?null:Be;await si(Ft(Ye,"users",Oe.uid),{fullName:ne(Oe.fullName),birthDate:ne(Oe.birthDate),email:ne(Oe.email),phoneNumber:ne(Oe.phoneNumber),address:ne(Oe.address),cccd:ne(Oe.cccd),cccdDate:ne(Oe.cccdDate),cccdPlace:ne(Oe.cccdPlace),class:ne(Oe.class),courseCode:ne(Oe.courseCode),role:ne(Oe.role)}),alert(" cp nht thng tin hc vin!"),Je(!1),wt(!1)}catch(ne){console.error("Error updating user:",ne),alert("Li khi cp nht thng tin.")}finally{je(!1)}}};return i?m.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right relative",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl p-6 mb-8 text-white shadow-lg relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:m.jsx(p0,{className:"w-32 h-32 transform rotate-12"})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("button",{onClick:e,className:"absolute top-0 left-0 bg-white/20 hover:bg-white/30 text-white px-3 py-1 rounded text-sm transition flex items-center gap-1 backdrop-blur-sm",children:[m.jsx(eg,{})," Quay li Dashboard"]}),m.jsxs("div",{className:"mt-8",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-md",children:m.jsx(N5,{className:"w-8 h-8"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:i.name}),m.jsx("p",{className:"opacity-90",children:i.description||"Cha c m t"})]})]}),i.licenseId&&m.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400 text-black px-3 py-1 rounded-full text-sm font-bold shadow-sm mt-2",children:[m.jsx(EE,{}),((Ll=ni.find(ne=>ne.id===i.licenseId))==null?void 0:Ll.name)||i.licenseId]})]})]})]}),P&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>S(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 h-[80vh] flex flex-col relative",onClick:ne=>ne.stopPropagation(),children:[m.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full border border-gray-200 dark:border-slate-600",children:m.jsx(Af,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Thm Hc Vin vo ",i.name]}),i.licenseId&&m.jsxs("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full border border-yellow-200",children:["Hng: ",((Vs=ni.find(ne=>ne.id===i.licenseId))==null?void 0:Vs.name)||i.licenseId]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(I5,{className:"absolute left-3 top-3 text-gray-400"}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Tm kim tn, email, st...",value:D,onChange:ne=>M(ne.target.value)})]}),m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-100 dark:border-blue-800 px-4 cursor-pointer",onClick:()=>h(!f),children:[m.jsx("input",{type:"checkbox",checked:f,onChange:ne=>h(ne.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),m.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer select-none",children:"Ch hin hc vin cha c lp"})]})]}),m.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-bold text-gray-500 uppercase px-3 pb-2 border-b border-gray-100 dark:border-slate-700 items-center",children:[m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:w.filter(ne=>{const Be=xn(ne.fullName).includes(xn(D))||xn(ne.email).includes(xn(D))||xn(ne.phoneNumber).includes(xn(D)),dt=f?!ne.courseId:!0;return Be&&dt}).length>0&&fe.size===w.filter(ne=>{const Be=xn(ne.fullName).includes(xn(D))||xn(ne.email).includes(xn(D))||xn(ne.phoneNumber).includes(xn(D)),dt=f?!ne.courseId:!0;return Be&&dt}).length,onChange:()=>la(w.filter(ne=>{const Be=xn(ne.fullName).includes(xn(D))||xn(ne.email).includes(xn(D))||xn(ne.phoneNumber).includes(xn(D)),dt=f?!ne.courseId:!0;return Be&&dt}))})}),m.jsx("div",{className:"col-span-4",children:"Hc vin"}),m.jsx("div",{className:"col-span-2",children:"Ngy sinh/ST"}),m.jsx("div",{className:"col-span-2",children:"a ch"}),m.jsx("div",{className:"col-span-2",children:"Lp (T in)"}),m.jsx("div",{className:"col-span-1 text-center",children:"Thao tc"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 mt-2",children:w.filter(ne=>{const Be=xn(ne.fullName).includes(xn(D))||xn(ne.email).includes(xn(D))||xn(ne.phoneNumber).includes(xn(D)),dt=f?!ne.courseId:!0;return Be&&dt}).map(ne=>m.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center p-3 rounded-lg border transition ${fe.has(ne.uid)?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-gray-50 border-transparent hover:bg-gray-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:fe.has(ne.uid),onChange:()=>yu(ne.uid)})}),m.jsxs("div",{className:"col-span-4 flex items-center gap-3 overflow-hidden",children:[m.jsx("img",{src:ne.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`,onError:Be=>{Be.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`},className:"w-10 h-10 rounded-full border border-gray-200 flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-bold text-sm truncate text-gray-900 dark:text-white",title:ne.fullName,children:ne.fullName}),m.jsx("p",{className:"text-xs text-gray-500 truncate",title:ne.email,children:ne.email})]})]}),m.jsxs("div",{className:"col-span-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx("div",{className:"text-xs text-gray-500",children:ne.birthDate||"--/--/----"}),m.jsx("div",{className:"font-medium",children:ne.phoneNumber||"---"})]}),m.jsx("div",{className:"col-span-2 text-sm text-gray-700 dark:text-gray-300",children:m.jsx("p",{className:"line-clamp-2 text-xs",title:ne.address||ne.cccdPlace,children:ne.address||ne.cccdPlace||"---"})}),m.jsxs("div",{className:"col-span-2 text-sm",children:[m.jsx("div",{className:"text-xs text-gray-900 dark:text-gray-100 font-medium truncate",title:ne.class,children:ne.class||"---"}),ne.courseName&&m.jsxs("div",{className:"text-[10px] text-yellow-600 bg-yellow-50 px-1 rounded inline-block mt-1 truncate max-w-full",children:["ang hc: ",ne.courseName]})]}),m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("button",{onClick:()=>Sh(ne.uid),disabled:le,className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50 shadow-sm transition-transform active:scale-95",title:"Thm vo lp",children:m.jsx(wf,{})})})]},ne.uid))}),fe.size>0&&m.jsx("div",{className:"absolute bottom-6 right-6 left-6 flex justify-center z-10 animate-bounce-in",children:m.jsx("button",{onClick:Dd,disabled:ge,className:"bg-blue-600 text-white px-8 py-3 rounded-full shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-2 font-bold text-lg disabled:opacity-70 disabled:scale-100",children:ge?m.jsx(m.Fragment,{children:"Adding..."}):m.jsxs(m.Fragment,{children:[m.jsx(wf,{})," Thm ",fe.size," hc vin"]})})})]})}),document.body),I&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>O(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 h-[80vh] flex flex-col relative",onClick:ne=>ne.stopPropagation(),children:[m.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 bg-gray-100 p-2 rounded-full",children:m.jsx(Af,{})}),m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thm Gio Vin"}),m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 rounded mb-4",children:[m.jsx("input",{type:"checkbox",checked:nt,onChange:ne=>jt(ne.target.checked),className:"w-5 h-5 text-yellow-600"}),m.jsx("label",{className:"text-sm font-medium",children:"t lm GVCN"})]}),m.jsxs("div",{className:"relative mb-4",children:[m.jsx(I5,{className:"absolute left-3 top-3 text-gray-400"}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded dark:bg-slate-700",placeholder:"Tm kim gio vin...",value:F,onChange:ne=>U(ne.target.value)})]}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2",children:A.filter(ne=>xn(ne.fullName).includes(xn(F))||xn(ne.email).includes(xn(F))).map(ne=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 transition",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:ne.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`,onError:Be=>{Be.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`},className:"w-10 h-10 rounded-full"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm",children:ne.fullName}),m.jsx("p",{className:"text-xs text-gray-500",children:ne.email})]})]}),m.jsx("button",{onClick:()=>Ur(ne.uid),disabled:J,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:"Thm"})]},ne.uid))})]})}),document.body),z&&W&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>V(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-5xl p-6 h-[80vh] flex flex-col relative",onClick:ne=>ne.stopPropagation(),children:[m.jsx("button",{onClick:()=>V(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:m.jsx(Af,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(p1,{className:"text-blue-500"})," Lch s lm bi: ",m.jsx("span",{className:"text-blue-600",children:W.fullName})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:ce?m.jsx("div",{className:"p-10 text-center text-gray-500",children:"ang ti lch s..."}):ue.length===0?m.jsx("div",{className:"p-10 text-center text-gray-500 italic",children:"Hc vin ny cha lm bi thi no."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 sticky top-0 text-gray-500 uppercase text-xs",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 font-semibold",children:"Loi"}),m.jsx("th",{className:"p-4 font-semibold",children:"Bi thi"}),m.jsx("th",{className:"p-4 font-semibold text-center",children:"im s"}),m.jsx("th",{className:"p-4 font-semibold",children:"Gi np"}),m.jsx("th",{className:"p-4 font-semibold",children:"Ngy np"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:ue.map(ne=>{const Be=Br(ne);return m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsx("td",{className:"p-4 align-middle",children:m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold border ${en(Be)}`,children:Be})}),m.jsx("td",{className:"p-4 align-middle font-medium text-gray-900 dark:text-gray-100",children:xs(ne)}),m.jsxs("td",{className:"p-4 align-middle text-center",children:[m.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:ne.score}),m.jsxs("span",{className:"text-gray-400 text-xs",children:[" / ",ne.totalQuestions]})]}),m.jsx("td",{className:"p-4 align-middle text-gray-500",children:new Date(ne.completedAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}),m.jsx("td",{className:"p-4 align-middle text-gray-500",children:new Date(ne.completedAt).toLocaleDateString("vi-VN")})]},ne.id)})})]})})})]})}),document.body),G&&Oe&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>Je(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 relative animate-scale-up max-h-[90vh] overflow-y-auto",onClick:ne=>ne.stopPropagation(),children:[m.jsx("button",{onClick:()=>{Je(!1),wt(!1)},className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full hover:bg-gray-200 transition",children:m.jsx(Af,{})}),m.jsx("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2 text-blue-700 dark:text-blue-400",children:at?m.jsxs(m.Fragment,{children:[m.jsx(Uu,{className:"text-yellow-500"})," Cp Nht Thng Tin"]}):m.jsxs(m.Fragment,{children:[m.jsx(tg,{className:"text-blue-500"})," H S Hc Vin"]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"H v Tn"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.fullName,readOnly:!at,onChange:ne=>rt({...Oe,fullName:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ngy sinh"}),m.jsx("input",{type:"date",className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.birthDate||"",readOnly:!at,onChange:ne=>rt({...Oe,birthDate:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Lp hc (Kha hc)"}),m.jsx("input",{className:"w-full p-2.5 border rounded-lg dark:bg-slate-700 bg-gray-50 border-transparent cursor-default",value:Oe.courseName||Oe.courseCode||"--",readOnly:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ngy cp CCCD"}),m.jsx("input",{type:at?"date":"text",className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.cccdDate||"",readOnly:!at,onChange:ne=>rt({...Oe,cccdDate:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"a ch"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.address||"",readOnly:!at,onChange:ne=>rt({...Oe,address:ne.target.value})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"S in thoi"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.phoneNumber||"",readOnly:!at,onChange:ne=>rt({...Oe,phoneNumber:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Lp hc (t in)"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.class||"",placeholder:"V d: Th my k2",readOnly:!at,onChange:ne=>rt({...Oe,class:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"S CCCD"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.cccd||"",readOnly:!at,onChange:ne=>rt({...Oe,cccd:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ni cp"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Oe.cccdPlace||"",readOnly:!at,onChange:ne=>rt({...Oe,cccdPlace:ne.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Vai tr"}),m.jsxs("select",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${at?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default appearance-none pointer-events-none"}`,value:Oe.role,disabled:!at,onChange:ne=>rt({...Oe,role:ne.target.value}),children:[m.jsx("option",{value:"hoc_vien",children:"Hc vin"}),m.jsx("option",{value:"student",children:"Hc sinh"}),m.jsx("option",{value:"teacher",children:"Gio vin"})]})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-gray-100 dark:border-slate-700",children:at?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>wt(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-gray-700 font-medium",children:"Hy b"}),m.jsxs("button",{onClick:Im,disabled:Xe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg font-medium transition-transform active:scale-95",children:[m.jsx(OP,{})," ",Xe?"ang lu...":"Lu Thay i"]})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>Je(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-gray-700 font-medium",children:"ng"}),m.jsxs("button",{onClick:()=>wt(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg font-medium transition-transform active:scale-95",children:[m.jsx(Uu,{})," Chnh sa"]})]})})]})}),document.body),Kt&&br&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",onClick:()=>rr(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-md animate-scale-up",onClick:ne=>ne.stopPropagation(),children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(y_,{className:"text-yellow-500"})," Gi Thng Bo"]}),m.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["To: ",m.jsx("span",{className:"font-bold text-blue-600",children:br.name})]}),m.jsxs("form",{onSubmit:Ah,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi thng bo"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:mi,onChange:ne=>yo(ne.target.value),children:[m.jsx("option",{value:"system",children:"Bnh thng"}),["admin","lanh_dao","quan_ly"].includes(t.role)&&m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"attention",children:" Ch  (Chy ch vng)"}),m.jsx("option",{value:"special",children:" C BIT (Chy ch )"})]})]})]}),(mi==="special"||mi==="attention")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hiu lc chy ch n"}),m.jsx("input",{type:"datetime-local",className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:Qr,onChange:ne=>Bi(ne.target.value),required:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sau thi gian ny, thng bo s ngng chy ngang mn hnh."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tiu "}),m.jsx("input",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Tiu ...",value:Xr,onChange:ne=>Dl(ne.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tin nhn"}),m.jsx("textarea",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 h-24 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Ni dung...",value:aa,onChange:ne=>ss(ne.target.value),required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:()=>rr(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Hy"}),m.jsx("button",{type:"submit",disabled:Ct,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 shadow-lg font-medium",children:Ct?"ang gi...":"Gi Ngay"})]})]})]})}),document.body),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 mb-2 transition-colors font-medium",children:[m.jsx(eg,{})," Quay li danh sch"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:m.jsx(p0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:i.name}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-0.5",children:i.description})]})]})]}),m.jsx("div",{className:"flex gap-4",children:m.jsxs("button",{onClick:()=>Md("class",i.name,i.name),className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition flex items-center gap-2 font-medium",children:[m.jsx(y_,{})," Thng bo c lp"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-5 sticky top-20",children:[m.jsxs("div",{className:"flex justify-between items-center border-b pb-3 border-gray-100 dark:border-slate-700 mb-4",children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[m.jsx(tg,{className:"text-green-500"})," Gio vin"]}),pt&&m.jsx("button",{onClick:()=>O(!0),className:"text-green-600 hover:bg-green-50 p-1.5 rounded-full transition-colors",children:m.jsx(wf,{size:14})})]}),m.jsxs("div",{className:"space-y-3",children:[x.map(ne=>m.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors group relative cursor-pointer",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:ne.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`,onError:Be=>{Be.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`},className:"w-10 h-10 rounded-full border border-gray-200"}),i.headTeacherId===ne.uid&&m.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-white rounded-full p-0.5 border-2 border-white",children:m.jsx(EE,{size:10})})]}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"font-medium text-sm truncate text-gray-900 dark:text-gray-100",children:ne.fullName}),m.jsx("p",{className:"text-[11px] text-gray-400 truncate",children:VZe(ne.role)}),i.headTeacherId===ne.uid&&m.jsx("span",{className:"text-[10px] font-bold text-yellow-600 bg-yellow-50 px-1.5 py-0.5 rounded border border-yellow-200 mt-1 inline-block",children:"GVCN"})]}),Fr&&m.jsx("button",{onClick:Be=>{Be.stopPropagation(),vu(ne.uid)},className:"text-gray-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded opacity-0 group-hover:opacity-100 transition-all absolute right-2",title:"Xa gio vin",children:m.jsx(Gc,{size:12})})]},ne.uid)),x.length===0&&m.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Cha c gio vin."})]})]})}),m.jsx("div",{className:"lg:col-span-3",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 min-h-[500px]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("h3",{className:"font-bold text-xl flex items-center gap-2 text-gray-800 dark:text-white",children:[m.jsx(Bf,{className:"text-blue-500"})," Hc vin (",g.length,")"]}),m.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1 ml-4",children:[m.jsx("button",{onClick:()=>ri("grid"),className:`p-1.5 rounded ${In==="grid"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng li",children:m.jsx(Oee,{})}),m.jsx("button",{onClick:()=>ri("list"),className:`p-1.5 rounded ${In==="list"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng danh sch",children:m.jsx(Aee,{})})]})]}),tt&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>Yr(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[m.jsx(Tee,{})," Import Excel"]}),m.jsxs("button",{onClick:()=>Lr(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[m.jsx(Pee,{})," Thm th cng"]}),m.jsxs("button",{onClick:()=>S(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[m.jsx(wf,{})," Thm Hc Vin (C sn)"]})]})]}),In==="grid"?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:oa.map(ne=>{const Be=R[ne.uid]||{score:"--"};return m.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-4 border border-gray-100 dark:border-slate-700 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30 transition-all duration-300 group relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-100 to-transparent -mr-8 -mt-8 rounded-full opacity-50 group-hover:scale-150 transition-transform"}),m.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[m.jsx("div",{className:"relative",children:m.jsx("img",{src:ne.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}&background=random`,onError:dt=>{dt.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}&background=random`},alt:ne.fullName,className:"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-slate-600 shadow-sm group-hover:border-blue-500 transition-colors"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h4",{className:"font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 transition-colors text-base flex items-center gap-1",children:[ne.fullName,(ne.isVerified||ne.courseId)&&m.jsx(q0,{className:"text-green-500 text-xs shrink-0"})]}),m.jsx("p",{className:"text-xs text-gray-500 truncate",children:ne.email}),m.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 dark:border-slate-600 text-xs",children:m.jsxs("div",{className:"flex justify-between text-gray-500",children:[m.jsx("span",{children:"Kt qu mi:"}),m.jsx("span",{className:"font-bold text-teal-600",children:Be.score})]})}),m.jsxs("div",{className:"flex gap-2 mt-3 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>Md("user",ne.uid,ne.fullName),className:"text-yellow-600 bg-yellow-50 hover:bg-yellow-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Nhn tin",children:m.jsx(y_,{})}),m.jsx("button",{onClick:()=>{rt(ne),Je(!0)},className:"text-blue-600 bg-blue-50 hover:bg-blue-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Sa thng tin",children:m.jsx(Uu,{})}),tt&&m.jsx("button",{onClick:()=>Ml(ne.uid,ne.fullName),className:"text-yellow-600 bg-yellow-50 hover:bg-yellow-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Reset Mt khu",children:m.jsx(TE,{})}),m.jsx("button",{onClick:()=>{Y(ne),V(!0)},className:"text-purple-600 bg-purple-50 hover:bg-purple-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Xem lch s",children:m.jsx(p1,{})}),tt&&m.jsx("button",{onClick:()=>xo(ne.uid),className:"text-red-600 bg-red-50 hover:bg-red-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Xa",children:m.jsx(Gc,{})})]})]})]})]},ne.uid)})}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-slate-700 dark:text-gray-300 select-none",children:m.jsxs("tr",{children:[m.jsx("th",{onClick:()=>Ka("fullName"),className:"px-4 py-3 rounded-l-lg cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Hc vin ",gi("fullName")]})}),m.jsx("th",{onClick:()=>Ka("birthDate"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Ngy sinh ",gi("birthDate")]})}),m.jsx("th",{onClick:()=>Ka("recentExam"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Bi lm gn nht ",gi("recentExam")]})}),m.jsx("th",{onClick:()=>Ka("time"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Thi gian ",gi("time")]})}),m.jsx("th",{onClick:()=>Ka("score"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["im ",gi("score")]})}),m.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Hnh ng"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[oa.map(ne=>{const Be=R[ne.uid]||{type:"--",time:"--",score:"--"};return m.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white flex items-center gap-3",children:[m.jsx("img",{src:ne.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`,onError:dt=>{dt.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(ne.fullName)}`},className:"w-8 h-8 rounded-full border border-gray-200"}),m.jsxs("div",{children:[m.jsxs("p",{className:"flex items-center gap-1",children:[ne.fullName,(ne.isVerified||ne.courseId)&&m.jsx(q0,{className:"text-green-500 text-xs"})]}),m.jsx("p",{className:"text-xs text-gray-500 font-normal",children:ne.email})]})]}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:ne.birthDate||"--"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold
                                                        ${Be.type.includes("n")?"bg-blue-100 text-blue-700":Be.type.includes("Th")?"bg-purple-100 text-purple-700":Be.type==="--"?"bg-gray-100 text-gray-500":"bg-red-100 text-red-700"}`,children:Be.type})}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:Be.time}),m.jsx("td",{className:"px-4 py-3 font-bold text-teal-600",children:Be.score}),m.jsx("td",{className:"px-4 py-3 text-center",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>Md("user",ne.uid,ne.fullName),className:"text-yellow-500 hover:bg-yellow-50 p-2 rounded-lg transition",title:"Gi tin nhn",children:m.jsx(y_,{})}),m.jsx("button",{onClick:()=>{rt(ne),Je(!0)},className:"text-blue-500 hover:bg-blue-50 p-2 rounded-lg transition",title:"Sa thng tin",children:m.jsx(Uu,{})}),tt&&m.jsx("button",{onClick:()=>Ml(ne.uid,ne.fullName),className:"text-yellow-500 hover:bg-yellow-50 p-2 rounded-lg transition",title:"Reset Mt khu",children:m.jsx(TE,{})}),m.jsx("button",{onClick:()=>{Y(ne),V(!0)},className:"text-purple-500 hover:bg-purple-50 p-2 rounded-lg transition",title:"Xem lch s thi",children:m.jsx(p1,{})}),tt&&m.jsx("button",{onClick:()=>xo(ne.uid),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition",title:"Xa khi lp",children:m.jsx(Gc,{})})]})})]},ne.uid)}),g.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"text-center py-10 text-gray-400 italic",children:"Lp cha c hc vin no."})})]})]})}),bs>1&&m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-100 dark:border-slate-700 gap-4",children:[m.jsxs("div",{className:"text-sm text-gray-500",children:["Hin th trang ",m.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-200",children:be})," / ",m.jsx("span",{className:"font-semibold",children:bs}),m.jsx("span",{className:"mx-2",children:"|"}),"Tng ",m.jsx("span",{className:"font-bold text-blue-600",children:Oa.length})," kt qu"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{className:"border border-gray-300 dark:border-slate-600 rounded-md text-sm p-1.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-200",value:we,onChange:ne=>{De(Number(ne.target.value)),Te(1)},children:[m.jsx("option",{value:5,children:"5 / trang"}),m.jsx("option",{value:10,children:"10 / trang"}),m.jsx("option",{value:20,children:"20 / trang"}),m.jsx("option",{value:50,children:"50 / trang"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>Te(1),disabled:be===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"u"}),m.jsx("button",{onClick:()=>Te(ne=>Math.max(1,ne-1)),disabled:be===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Trc"}),m.jsx("button",{onClick:()=>Te(ne=>Math.min(bs,ne+1)),disabled:be===bs,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Sau"}),m.jsx("button",{onClick:()=>Te(bs),disabled:be===bs,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Cui"})]})]})]})]})})]}),Ot&&i&&m.jsx(BZe,{courseId:i.id,courseName:i.name,licenseId:i.licenseId,onClose:()=>Yr(!1),onSuccess:()=>{}}),Wr&&i&&m.jsx(UZe,{courseId:i.id,courseName:i.name,licenseId:i.licenseId,onClose:()=>Lr(!1),onSuccess:()=>{}})]}):m.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4 animate-slide-in-right relative",children:[Gt&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"To Lp Hc Mi"}),m.jsxs("form",{onSubmit:Ra,className:"space-y-4",children:[m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tn lp",value:Sn,onChange:ne=>hi(ne.target.value),required:!0}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Hng bng (Mc nh)"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:se,onChange:ne=>oe(ne.target.value),children:[m.jsx("option",{value:"",children:"-- Chn hng bng --"}),ni.map(ne=>m.jsx("option",{value:ne.id,children:ne.name},ne.id))]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hc vin s t ng c gn hng bng ny khi n tp."})]}),m.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"M t",value:xe,onChange:ne=>Ke(ne.target.value)}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:()=>Tr(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 text-white rounded",children:"To"})]})]})]})}),document.body),Ui&&Zr&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Chnh Sa Lp Hc"}),m.jsxs("form",{onSubmit:vi,className:"space-y-4",children:[m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tn lp",value:Us,onChange:ne=>pi(ne.target.value),required:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Hng bng mc nh"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:Z,onChange:ne=>re(ne.target.value),children:[m.jsx("option",{value:"",children:"-- Khng chn --"}),ni.map(ne=>m.jsx("option",{value:ne.id,children:ne.name},ne.id))]})]}),m.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"M t",value:K,onChange:ne=>ae(ne.target.value)}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:()=>ys(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lu Thay i"})]})]})]})}),document.body),m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-emerald-600",children:[m.jsx(p0,{className:"text-teal-600"})," Qun l Lp hc"]}),m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Back Dashboard"})]}),a?m.jsx("div",{className:"p-20 text-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"})}):r.length===0?m.jsxs("div",{className:"text-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[m.jsx(p0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-200 mb-2",children:"Cha c lp hc no"}),qe&&m.jsx("button",{onClick:()=>Tr(!0),className:"bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition",children:"To Lp Ngay"})]}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[qe&&m.jsxs("div",{onClick:()=>Tr(!0),className:"bg-gradient-to-br from-teal-500 to-emerald-500 rounded-xl shadow-lg p-6 flex flex-col justify-center items-center text-white cursor-pointer hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[m.jsx("div",{className:"bg-white/20 p-4 rounded-full mb-3 group-hover:bg-white/30 transition-colors",children:m.jsx(wf,{className:"w-8 h-8"})}),m.jsx("h3",{className:"font-bold text-lg",children:"Thm Lp Mi"})]}),r.map(ne=>{var St;const Be=["admin","quan_ly","lanh_dao"].includes(t.role)||t.role==="giao_vien"&&(ne.headTeacherId===t.id||(ne.teacherIds||[]).includes(t.id)),dt=["admin","quan_ly","lanh_dao"].includes(t.role);return m.jsxs("div",{onClick:()=>s(ne),className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group flex flex-col relative",children:[(Be||dt)&&m.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[Be&&m.jsx("button",{onClick:bt=>Ac(ne,bt),className:"p-2 bg-white/90 text-blue-600 rounded-full shadow-sm hover:bg-blue-50",title:"Sa lp",children:m.jsx(Uu,{})}),dt&&m.jsx("button",{onClick:bt=>{bt.stopPropagation(),Vi(ne.id)},className:"p-2 bg-white/90 text-red-600 rounded-full shadow-sm hover:bg-red-50",title:"Xa lp",children:m.jsx(Gc,{})})]}),m.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-600 to-cyan-500 relative flex items-center justify-center overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"}),m.jsx(N5,{className:"text-white/30 w-20 h-20 transform -rotate-12 group-hover:scale-110 transition-transform duration-500"}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",children:[m.jsx("h3",{className:"font-bold text-xl text-white truncate",children:ne.name}),ne.licenseId&&m.jsx("span",{className:"text-xs text-yellow-300 font-mono bg-black/30 px-1 rounded ml-2",children:((St=ni.find(bt=>bt.id===ne.licenseId))==null?void 0:St.name)||ne.licenseId})]})]}),m.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4 flex-1",children:ne.description||"Cha c m t kha hc."}),m.jsxs("div",{className:"flex justify-between items-center text-sm font-medium pt-4 border-t border-gray-100 dark:border-slate-700",children:[m.jsxs("span",{className:`flex items-center gap-1 ${ne.headTeacherId?"text-blue-600 font-bold":"text-gray-500"}`,children:[m.jsx(tg,{})," GVCN: ",ne.headTeacherId?l[ne.headTeacherId]||"...":"Cha c"]}),m.jsxs("span",{className:"text-blue-600 group-hover:underline flex items-center gap-1",children:["Chi tit ",m.jsx(eg,{className:"rotate-180"})]})]})]})]},ne.id)})]})]})},rI=[{id:"admin",name:"Qun tr vin"},{id:"lanh_dao",name:"Lnh o"},{id:"quan_ly",name:"Qun l"},{id:"giao_vien",name:"Gio vin"},{id:"hoc_vien",name:"Hc vin"}],$Ze=["giao_vien","lanh_dao","quan_ly"],HZe=({userProfile:t,onBack:e,onNavigate:r})=>{var hi;const[n,i]=N.useState(t),[s,a]=N.useState(!1),o=t.role!=="hoc_vien",[l,u]=N.useState([]),[f,h]=N.useState(!1),[g,v]=N.useState(""),[x,b]=N.useState("all"),[w,E]=N.useState("all"),[A,k]=N.useState("all"),[R,j]=N.useState(null),[P,S]=N.useState(!1),[I,O]=N.useState(!1),[D,M]=N.useState(null),[F,U]=N.useState(10),[le,de]=N.useState(1),[J,Q]=N.useState("createdAt"),[fe,ee]=N.useState("desc"),[ge,q]=N.useState(!1),[z,V]=N.useState(""),[W,Y]=N.useState(""),[ue,me]=N.useState(""),[ce,ie]=N.useState(!1);N.useEffect(()=>{o&&rt()},[o]);const ve=N.useMemo(()=>{let xe=l;if(x==="staff"?xe=xe.filter(Ke=>$Ze.includes(Ke.role)):x==="hoc_vien"&&(xe=xe.filter(Ke=>Ke.role==="hoc_vien")),w==="verified"?xe=xe.filter(Ke=>Ke.isVerified||Ke.courseId):w==="unverified"&&(xe=xe.filter(Ke=>!Ke.isVerified&&!Ke.courseId)),A!=="all"&&(A==="no_class"?xe=xe.filter(Ke=>!Ke.courseId&&!Ke.courseName):xe=xe.filter(Ke=>Ke.courseName===A)),g.trim()){const Ke=g.toLowerCase();xe=xe.filter(nt=>nt.fullName.toLowerCase().includes(Ke)||nt.email.toLowerCase().includes(Ke)||nt.phoneNumber&&nt.phoneNumber.includes(Ke))}return xe.sort((Ke,nt)=>{let jt=Ke[J],Kt=nt[J];return jt||(jt=""),Kt||(Kt=""),jt<Kt?fe==="asc"?-1:1:jt>Kt?fe==="asc"?1:-1:0}),xe},[l,x,w,A,g,J,fe]),Ue=Math.ceil(ve.length/F),G=ve.slice((le-1)*F,le*F),Je=xe=>{J===xe?ee(Ke=>Ke==="asc"?"desc":"asc"):(Q(xe),ee("asc"))},Oe=xe=>J!==xe?m.jsx(Nee,{className:"ml-1 text-gray-300 inline"}):fe==="asc"?m.jsx(Cee,{className:"ml-1 text-blue-500 inline"}):m.jsx(kee,{className:"ml-1 text-blue-500 inline"}),rt=async()=>{h(!0);try{const xe=pr(Wt(Ye,"users"),uo("createdAt","desc")),nt=(await _n(xe)).docs.map(jt=>{const Kt=jt.data();return{id:jt.id,...Kt,photoURL:Kt.photoURL||th(Kt.photoURL?void 0:Kt.role)}});u(nt)}catch(xe){console.error("Error fetching users:",xe)}finally{h(!1)}},Xe=async xe=>{xe.preventDefault(),a(!0);try{const Ke=nt=>nt===void 0?null:nt;await si(Ft(Ye,"users",t.id),{fullName:Ke(n.full_name),full_name:Ke(n.full_name),phoneNumber:Ke(n.phoneNumber),birthDate:Ke(n.birthDate),address:Ke(n.address),cccd:Ke(n.cccd),cccdDate:Ke(n.cccdDate),cccdPlace:Ke(n.cccdPlace),class:Ke(n.class)}),alert("Cp nht thng tin thnh cng!")}catch(Ke){console.error(Ke),alert("Li khi lu thng tin.")}finally{a(!1)}},je=async xe=>{if(confirm("Bn c chc chn mun xa ti khon ny?"))try{await OS(Ft(Ye,"users",xe)),u(Ke=>Ke.filter(nt=>nt.id!==xe))}catch(Ke){console.error(Ke),alert("Li khi xa.")}},at=async xe=>{if(xe.preventDefault(),!!R)try{const Ke=nt=>nt===void 0?null:nt;await si(Ft(Ye,"users",R.id),{fullName:R.fullName,phoneNumber:Ke(R.phoneNumber),birthDate:Ke(R.birthDate),role:R.role,class:Ke(R.class),cccd:Ke(R.cccd),cccdDate:Ke(R.cccdDate),cccdPlace:Ke(R.cccdPlace),address:Ke(R.address)}),alert(" cp nht!"),S(!1),rt()}catch(Ke){console.error(Ke),alert("Li khi lu.")}},wt=async(xe,Ke)=>{var jt;const nt=prompt(`Nhp mt khu mi cho ${Ke}:`,"123456");if(nt!==null){if(!nt||nt.length<6){alert("Mt khu phi c t nht 6 k t.");return}try{const Kt=await((jt=Js.currentUser)==null?void 0:jt.getIdToken());if(!Kt){alert("Li xc thc: Khng tm thy token admin.");return}const rr=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Kt}`},body:JSON.stringify({targetUserId:xe,newPassword:nt})}),br=await rr.json();rr.ok?alert(` i mt khu cho ${Ke} thnh cng!`):alert(`Li: ${br.error||"Khng xc nh"}`)}catch(Kt){console.error("Reset password error:",Kt),alert("Li kt ni n server.")}}},Ot=xe=>{var Ke;return((Ke=rI.find(nt=>nt.id===xe))==null?void 0:Ke.name)||xe},Yr=async xe=>{if(xe.preventDefault(),W!==ue){alert("Mt khu mi khng khp!");return}if(W.length<6){alert("Mt khu mi phi c t nht 6 k t.");return}ie(!0);try{const Ke=Js.currentUser;if(!Ke||!Ke.email){alert("Li xc thc.");return}const nt=pm.credential(Ke.email,z);await Owe(Ke,nt),await Pwe(Ke,W),alert("i mt khu thnh cng!"),q(!1),V(""),Y(""),me("")}catch(Ke){console.error("Change password error:",Ke),Ke.code==="auth/wrong-password"||Ke.code==="auth/invalid-credential"?alert("Mt khu c khng ng."):Ke.code==="auth/weak-password"?alert("Mt khu qu yu."):alert("Li khi i mt khu: "+Ke.message)}finally{ie(!1)}},[Wr,Lr]=N.useState(!1),Gt=ke.useRef(null),Tr=()=>{var xe;(xe=Gt.current)==null||xe.click()},Sn=async xe=>{var nt;const Ke=(nt=xe.target.files)==null?void 0:nt[0];if(Ke){if(!Ke.type.startsWith("image/")){alert("Vui lng chn file nh!");return}try{Lr(!0);const jt=await lCe(Ke,t.id);await si(Ft(Ye,"users",t.id),{photoURL:jt}),i(Kt=>({...Kt,photoURL:jt})),alert("Ti nh i din thnh cng!")}catch(jt){console.error("Upload failed:",jt),alert("C li xy ra khi ti nh.")}finally{Lr(!1),Gt.current&&(Gt.current.value="")}}};return m.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right pb-20",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("button",{onClick:e,className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-full hover:bg-gray-200",children:m.jsx(eg,{})}),m.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(SE,{})," Ti khon ca ti"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 mb-8 border border-gray-100 dark:border-slate-700",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-blue-600 border-b pb-2",children:"Thng tin c nhn"}),m.jsxs("div",{className:"flex flex-col items-center mb-6",children:[m.jsxs("div",{className:"relative group cursor-pointer",onClick:Tr,children:[m.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 dark:border-slate-600 shadow-lg relative",children:[m.jsx("img",{src:n.photoURL||th(n.role),alt:"Avatar",className:"w-full h-full object-cover"}),Wr&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),m.jsx("div",{className:"absolute bottom-1 right-1 bg-white dark:bg-slate-700 p-2 rounded-full shadow-md text-gray-600 dark:text-gray-200 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:m.jsx(i4e,{size:16})}),m.jsx("input",{type:"file",ref:Gt,className:"hidden",accept:"image/*",onChange:Sn})]}),m.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chm  i nh i din"})]}),m.jsxs("form",{onSubmit:Xe,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"H v Tn"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.full_name||n.fullName||"",onChange:xe=>i({...n,full_name:xe.target.value,fullName:xe.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Email (Khng i)"}),m.jsx("input",{className:"w-full p-2 border rounded bg-gray-50 dark:bg-slate-900 text-gray-500",value:n.email||"",readOnly:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ngy sinh"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:n.birthDate||"",onChange:xe=>i({...n,birthDate:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"S in thoi"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.phoneNumber||"",onChange:xe=>i({...n,phoneNumber:xe.target.value})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"S CCCD"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccd||"",onChange:xe=>i({...n,cccd:xe.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ngy cp"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccdDate||"",onChange:xe=>i({...n,cccdDate:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ni cp"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccdPlace||"",onChange:xe=>i({...n,cccdPlace:xe.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"a ch / Qu qun"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.address||"",onChange:xe=>i({...n,address:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Lp hc (t in)"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.class||"",onChange:xe=>i({...n,class:xe.target.value}),placeholder:"VD: Th my K2"})]})]}),m.jsxs("div",{className:"md:col-span-2 flex justify-end mt-4 gap-3",children:[m.jsxs("button",{type:"button",onClick:()=>q(!0),className:"flex items-center gap-2 bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition shadow-md",children:[m.jsx(gV,{})," i mt khu"]}),m.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition shadow-md disabled:opacity-50",children:[m.jsx(OP,{})," ",s?"ang lu...":"Cp nht thng tin"]})]})]})]}),o&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-slate-700 animate-fade-in-up",children:[m.jsxs("h2",{className:"text-lg font-bold mb-4 text-orange-600 border-b pb-2 flex items-center justify-between",children:[m.jsx("span",{children:"Qun l ngi dng"}),m.jsx("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 rounded-full px-2 py-1",children:"Admin/Lnh o/QL/GV"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(I5,{className:"absolute left-3 top-3 text-gray-400"}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-full dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tm hc vin, gio vin...",value:g,onChange:xe=>v(xe.target.value)})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",value:w,onChange:xe=>E(xe.target.value),children:[m.jsx("option",{value:"all",children:"Tt c trng thi"}),m.jsx("option",{value:"verified",children:" xc thc (Vo lp)"}),m.jsx("option",{value:"unverified",children:"Cha xc thc"})]}),m.jsx(GC,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer max-w-[200px]",value:A,onChange:xe=>k(xe.target.value),children:[m.jsx("option",{value:"all",children:"Tt c lp hc"}),m.jsx("option",{value:"no_class",children:"Cha vo lp"}),Array.from(new Set(l.map(xe=>xe.courseName).filter(Boolean))).sort().map(xe=>m.jsx("option",{value:xe,children:xe},xe))]}),m.jsx(GC,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",value:x,onChange:xe=>b(xe.target.value),children:[m.jsx("option",{value:"all",children:"Tt c vai tr"}),m.jsx("option",{value:"hoc_vien",children:"Hc vin"}),m.jsx("option",{value:"staff",children:"Nhn s (GV/QL/Admin)"})]}),m.jsx(GC,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900 text-sm uppercase text-gray-500 font-bold",children:m.jsxs("tr",{children:[m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Je("fullName"),children:["H v Tn ",Oe("fullName")]}),m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Je("class"),children:["Lp hc ",Oe("class")]}),m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Je("email"),children:["Lin h ",Oe("email")]}),m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Je("role"),children:["Vai tr ",Oe("role")]}),m.jsx("th",{className:"p-3 border-b dark:border-slate-700 text-center",children:"Thao tc"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:f?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-4 text-center",children:"ang ti..."})}):G.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-4 text-center italic text-gray-500",children:"Khng tm thy ngi dng."})}):G.map(xe=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition",children:[m.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white cursor-pointer group",onClick:()=>{M(xe),O(!0)},children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:xe.photoURL,alt:xe.fullName,className:"w-9 h-9 rounded-full object-cover border border-gray-200 dark:border-gray-600 shadow-sm",onError:Ke=>{Ke.currentTarget.src="https://ui-avatars.com/api/?name="+xe.fullName}}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"flex items-center gap-1",children:xe.role==="hoc_vien"&&(xe.isVerified||xe.courseId)?m.jsxs("span",{className:"flex items-center gap-1 text-blue-600 font-semibold group-hover:underline",children:[xe.fullName," ",m.jsx(q0,{className:"text-blue-500 text-xs"})]}):xe.role==="giao_vien"?m.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-400 group-hover:underline",children:xe.fullName}):xe.role==="quan_ly"||xe.role==="lanh_dao"?m.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 group-hover:underline",children:xe.fullName}):xe.role==="admin"?m.jsx("span",{className:"font-bold text-purple-600 dark:text-purple-400 group-hover:underline",children:xe.fullName}):m.jsx("span",{className:"group-hover:underline",children:xe.fullName})})}),m.jsx(See,{className:"opacity-0 group-hover:opacity-100 text-gray-400 text-xs ml-auto"})]})}),m.jsx("td",{className:"p-3 text-sm",children:xe.courseName||xe.courseId?m.jsxs("span",{className:"cursor-pointer text-blue-600 hover:underline hover:text-blue-800 flex items-center gap-1",onClick:Ke=>{Ke.stopPropagation(),r("class_management")},title:"i ti qun l lp",children:[xe.courseName||xe.courseId," ",m.jsx(QSe,{className:"text-xs"})]}):m.jsx("span",{className:"text-gray-400",children:"--"})}),m.jsxs("td",{className:"p-3 text-sm",children:[m.jsx("div",{children:xe.email}),m.jsx("div",{className:"text-xs text-gray-500",children:xe.phoneNumber})]}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${xe.role==="hoc_vien"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:Ot(xe.role)})}),m.jsxs("td",{className:"p-3 flex justify-center gap-2",children:[m.jsx("button",{onClick:()=>{j(xe),S(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Sa thng tin",children:m.jsx(Uu,{})}),t.role==="admin"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>wt(xe.id,xe.fullName),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"i mt khu",children:m.jsx(TE,{})}),m.jsx("button",{onClick:()=>je(xe.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Xa ti khon",children:m.jsx(Gc,{})})]})]})]},xe.id))})]})}),Ue>1&&m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-100 dark:border-slate-700 gap-4",children:[m.jsxs("div",{className:"text-sm text-gray-500",children:["Hin th trang ",m.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-200",children:le})," / ",m.jsx("span",{className:"font-semibold",children:Ue}),m.jsx("span",{className:"mx-2",children:"|"}),"Tng ",m.jsx("span",{className:"font-bold text-blue-600",children:ve.length})," kt qu"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{className:"border border-gray-300 dark:border-slate-600 rounded-md text-sm p-1.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-200",value:F,onChange:xe=>{U(Number(xe.target.value)),de(1)},children:[m.jsx("option",{value:5,children:"5 / trang"}),m.jsx("option",{value:10,children:"10 / trang"}),m.jsx("option",{value:20,children:"20 / trang"}),m.jsx("option",{value:50,children:"50 / trang"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>de(1),disabled:le===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"u"}),m.jsx("button",{onClick:()=>de(xe=>Math.max(1,xe-1)),disabled:le===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Trc"}),m.jsx("button",{onClick:()=>de(xe=>Math.min(Ue,xe+1)),disabled:le===Ue,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Sau"}),m.jsx("button",{onClick:()=>de(Ue),disabled:le===Ue,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Cui"})]})]})]})]}),P&&R&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>S(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",onClick:xe=>xe.stopPropagation(),children:[m.jsxs("h2",{className:"text-lg font-bold mb-4",children:["Sa ti khon: ",R.fullName]}),m.jsxs("form",{onSubmit:at,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"H tn"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.fullName,onChange:xe=>j({...R,fullName:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"ST"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.phoneNumber||"",onChange:xe=>j({...R,phoneNumber:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ngy sinh"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:R.birthDate||"",onChange:xe=>j({...R,birthDate:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Lp hc (t in)"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.class||"",onChange:xe=>j({...R,class:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"CCCD"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.cccd||"",onChange:xe=>j({...R,cccd:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"a ch"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.address||"",onChange:xe=>j({...R,address:xe.target.value})})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Vai tr"}),m.jsx("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.role,onChange:xe=>j({...R,role:xe.target.value}),children:rI.map(xe=>m.jsx("option",{value:xe.id,children:xe.name},xe.id))})]})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lu"})]})]})]})}),I&&D&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>O(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-0 relative overflow-hidden animate-bounce-in",onClick:xe=>xe.stopPropagation(),children:[m.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-cyan-500 relative",children:[m.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 bg-black/20 text-white p-2 rounded-full hover:bg-black/40",children:m.jsx(Af,{})}),m.jsx("div",{className:"absolute -bottom-10 left-6",children:m.jsx("img",{src:D.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(D.fullName)}`,className:"w-24 h-24 rounded-full border-4 border-white dark:border-slate-800 shadow-md bg-white"})})]}),m.jsxs("div",{className:"pt-12 px-6 pb-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[D.fullName,D.isVerified&&m.jsx(q0,{className:"text-blue-500 text-lg"})]}),m.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:((hi=rI.find(xe=>xe.id===D.role))==null?void 0:hi.name)||D.role})]}),m.jsxs("button",{onClick:()=>{j(D),O(!1),S(!0)},className:"flex items-center gap-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-4 py-2 rounded-full font-bold hover:bg-blue-200 dark:hover:bg-blue-900/50 transition",children:[m.jsx(Uu,{})," Sa"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Lp hc"}),m.jsx("p",{className:"font-semibold",children:D.courseName||D.class||"Cha c"})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Ngy sinh"}),m.jsx("p",{className:"font-semibold",children:D.birthDate||"--/--/----"})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"S in thoi"}),m.jsx("p",{className:"font-semibold",children:D.phoneNumber||"---"})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Email"}),m.jsx("p",{className:"font-semibold text-sm truncate",title:D.email,children:D.email})]})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"a ch"}),m.jsx("p",{className:"font-semibold text-sm",children:D.address||D.cccdPlace||"---"})]}),D.cccd&&m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"CCCD"}),m.jsx("p",{className:"font-semibold text-sm",children:D.cccd})]}),D.cccdDate&&m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Ngy cp"}),m.jsx("p",{className:"font-semibold text-sm",children:D.cccdDate})]})]})]})]})]})}),ge&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>q(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",onClick:xe=>xe.stopPropagation(),children:[m.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-gray-800 dark:text-white",children:[m.jsx(gV,{className:"text-blue-600"})," i mt khu"]}),m.jsxs("form",{onSubmit:Yr,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Mt khu c"}),m.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:z,onChange:xe=>V(xe.target.value),required:!0,placeholder:"Nhp mt khu hin ti"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Mt khu mi"}),m.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:W,onChange:xe=>Y(xe.target.value),required:!0,placeholder:"t nht 6 k t",minLength:6})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Xc nhn mt khu mi"}),m.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:ue,onChange:xe=>me(xe.target.value),required:!0,placeholder:"Nhp li mt khu mi"})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>q(!1),className:"px-4 py-2 bg-gray-200 dark:bg-slate-700 dark:text-white rounded hover:bg-gray-300 dark:hover:bg-slate-600 transition",children:"Hy"}),m.jsx("button",{type:"submit",disabled:ce,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:ce?"ang x l...":"i mt khu"})]})]})]})})]})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZe=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WZe=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),XG=t=>{const e=WZe(t);return e.charAt(0).toUpperCase()+e.slice(1)},Gle=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),GZe=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var KZe={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZe=N.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>N.createElement("svg",{ref:l,...KZe,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Gle("lucide",i),...!s&&!GZe(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,f])=>N.createElement(u,f)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ti=(t,e)=>{const r=N.forwardRef(({className:n,...i},s)=>N.createElement(YZe,{ref:s,iconNode:e,className:Gle(`lucide-${qZe(XG(t))}`,`lucide-${t}`,n),...i}));return r.displayName=XG(t),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZe=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],QZe=ti("book-open",XZe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZe=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],ZZe=ti("check",JZe);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eet=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],tet=ti("chevron-left",eet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ret=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],net=ti("circle-alert",ret);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iet=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],set=ti("circle-check-big",iet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aet=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],oet=ti("clock",aet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cet=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],QG=ti("graduation-cap",cet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uet=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],det=ti("history",uet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fet=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],het=ti("image",fet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const met=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],pet=ti("info",met);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const get=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],vet=ti("log-out",get);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yet=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],xet=ti("mail",yet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bet=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],JG=ti("newspaper",bet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wet=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],_et=ti("phone",wet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eet=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Tet=ti("school",Eet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aet=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],ket=ti("search",Aet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cet=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],ZG=ti("send",Cet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Net=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Iet=ti("settings",Net);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oet=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Ret=ti("smile",Oet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pet=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],eK=ti("trash-2",Pet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jet=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Det=ti("triangle-alert",jet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Met=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Let=ti("user-cog",Met);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fet=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],tK=ti("video",Fet);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bet=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Uet=ti("x",Bet);/*!
* sweetalert2 v11.26.4
* Released under the MIT License.
*/function Kle(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Vet(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function rK(t,e){return t.get(Kle(t,e))}function zet(t,e,r){Vet(t,e),e.set(t,r)}function $et(t,e,r){return t.set(Kle(t,e),r),r}const Het=100,Rt={},qet=()=>{Rt.previousActiveElement instanceof HTMLElement?(Rt.previousActiveElement.focus(),Rt.previousActiveElement=null):document.body&&document.body.focus()},Wet=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Rt.restoreFocusTimeout=setTimeout(()=>{qet(),e()},Het),window.scrollTo(r,n)}),Yle="swal2-",Get=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],Pe=Get.reduce((t,e)=>(t[e]=Yle+e,t),{}),Ket=["success","warning","info","question","error"],BT=Ket.reduce((t,e)=>(t[e]=Yle+e,t),{}),Xle="SweetAlert2:",kD=t=>t.charAt(0).toUpperCase()+t.slice(1),qa=t=>{console.warn(`${Xle} ${typeof t=="object"?t.join(" "):t}`)},Am=t=>{console.error(`${Xle} ${t}`)},nK=[],Yet=t=>{nK.includes(t)||(nK.push(t),qa(t))},Qle=(t,e=null)=>{Yet(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},J4=t=>typeof t=="function"?t():t,CD=t=>t&&typeof t.toPromise=="function",Db=t=>CD(t)?t.toPromise():Promise.resolve(t),ND=t=>t&&Promise.resolve(t)===t,Wa=()=>document.body.querySelector(`.${Pe.container}`),Mb=t=>{const e=Wa();return e?e.querySelector(t):null},Xo=t=>Mb(`.${t}`),Pr=()=>Xo(Pe.popup),Rv=()=>Xo(Pe.icon),Xet=()=>Xo(Pe["icon-content"]),Jle=()=>Xo(Pe.title),ID=()=>Xo(Pe["html-container"]),Zle=()=>Xo(Pe.image),OD=()=>Xo(Pe["progress-steps"]),Z4=()=>Xo(Pe["validation-message"]),uu=()=>Mb(`.${Pe.actions} .${Pe.confirm}`),Pv=()=>Mb(`.${Pe.actions} .${Pe.cancel}`),km=()=>Mb(`.${Pe.actions} .${Pe.deny}`),Qet=()=>Xo(Pe["input-label"]),jv=()=>Mb(`.${Pe.loader}`),Lb=()=>Xo(Pe.actions),ece=()=>Xo(Pe.footer),eA=()=>Xo(Pe["timer-progress-bar"]),RD=()=>Xo(Pe.close),Jet=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,PD=()=>{const t=Pr();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((s,a)=>{const o=parseInt(s.getAttribute("tabindex")||"0"),l=parseInt(a.getAttribute("tabindex")||"0");return o>l?1:o<l?-1:0}),n=t.querySelectorAll(Jet),i=Array.from(n).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(s=>ho(s))},jD=()=>ad(document.body,Pe.shown)&&!ad(document.body,Pe["toast-shown"])&&!ad(document.body,Pe["no-backdrop"]),tA=()=>{const t=Pr();return t?ad(t,Pe.toast):!1},Zet=()=>{const t=Pr();return t?t.hasAttribute("data-loading"):!1},Qo=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(a=>{t.appendChild(a)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?t.appendChild(a.cloneNode(!0)):t.appendChild(a)})}},ad=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},ett=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(Pe).includes(r)&&!Object.values(BT).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},Ko=(t,e,r)=>{if(ett(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){qa(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}Hr(t,n)}},rA=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${Pe.popup} > .${Pe[e]}`);case"checkbox":return t.querySelector(`.${Pe.popup} > .${Pe.checkbox} input`);case"radio":return t.querySelector(`.${Pe.popup} > .${Pe.radio} input:checked`)||t.querySelector(`.${Pe.popup} > .${Pe.radio} input:first-child`);case"range":return t.querySelector(`.${Pe.popup} > .${Pe.range} input`);default:return t.querySelector(`.${Pe.popup} > .${Pe.input}`)}},tce=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},rce=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},Hr=(t,e)=>{rce(t,e,!0)},Rl=(t,e)=>{rce(t,e,!1)},If=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&ad(i,e))return i}},P0=(t,e,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},Ls=(t,e="flex")=>{t&&(t.style.display=e)},Na=t=>{t&&(t.style.display="none")},DD=(t,e="block")=>{t&&new MutationObserver(()=>{Fb(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},iK=(t,e,r,n)=>{const i=t.querySelector(e);i&&i.style.setProperty(r,n)},Fb=(t,e,r="flex")=>{e?Ls(t,r):Na(t)},ho=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),ttt=()=>!ho(uu())&&!ho(km())&&!ho(Pv()),r6=t=>t.scrollHeight>t.clientHeight,rtt=(t,e)=>{let r=t;for(;r&&r!==e;){if(r6(r))return!0;r=r.parentElement}return!1},nce=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},MD=(t,e=!1)=>{const r=eA();r&&ho(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},ntt=()=>{const t=eA();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},itt=()=>typeof window>"u"||typeof document>"u",stt=`
 <div aria-labelledby="${Pe.title}" aria-describedby="${Pe["html-container"]}" class="${Pe.popup}" tabindex="-1">
   <button type="button" class="${Pe.close}"></button>
   <ul class="${Pe["progress-steps"]}"></ul>
   <div class="${Pe.icon}"></div>
   <img class="${Pe.image}" />
   <h2 class="${Pe.title}" id="${Pe.title}"></h2>
   <div class="${Pe["html-container"]}" id="${Pe["html-container"]}"></div>
   <input class="${Pe.input}" id="${Pe.input}" />
   <input type="file" class="${Pe.file}" />
   <div class="${Pe.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${Pe.select}" id="${Pe.select}"></select>
   <div class="${Pe.radio}"></div>
   <label class="${Pe.checkbox}">
     <input type="checkbox" id="${Pe.checkbox}" />
     <span class="${Pe.label}"></span>
   </label>
   <textarea class="${Pe.textarea}" id="${Pe.textarea}"></textarea>
   <div class="${Pe["validation-message"]}" id="${Pe["validation-message"]}"></div>
   <div class="${Pe.actions}">
     <div class="${Pe.loader}"></div>
     <button type="button" class="${Pe.confirm}"></button>
     <button type="button" class="${Pe.deny}"></button>
     <button type="button" class="${Pe.cancel}"></button>
   </div>
   <div class="${Pe.footer}"></div>
   <div class="${Pe["timer-progress-bar-container"]}">
     <div class="${Pe["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),att=()=>{const t=Wa();return t?(t.remove(),Rl([document.documentElement,document.body],[Pe["no-backdrop"],Pe["toast-shown"],Pe["has-column"]]),!0):!1},Jh=()=>{Rt.currentInstance.resetValidationMessage()},ott=()=>{const t=Pr(),e=If(t,Pe.input),r=If(t,Pe.file),n=t.querySelector(`.${Pe.range} input`),i=t.querySelector(`.${Pe.range} output`),s=If(t,Pe.select),a=t.querySelector(`.${Pe.checkbox} input`),o=If(t,Pe.textarea);e.oninput=Jh,r.onchange=Jh,s.onchange=Jh,a.onchange=Jh,o.oninput=Jh,n.oninput=()=>{Jh(),i.value=n.value},n.onchange=()=>{Jh(),i.value=n.value}},ltt=t=>typeof t=="string"?document.querySelector(t):t,ctt=t=>{const e=Pr();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},utt=t=>{window.getComputedStyle(t).direction==="rtl"&&(Hr(Wa(),Pe.rtl),Rt.isRTL=!0)},dtt=t=>{const e=att();if(itt()){Am("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=Pe.container,e&&Hr(r,Pe["no-transition"]),Qo(r,stt),r.dataset.swal2Theme=t.theme;const n=ltt(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),ctt(t),utt(n),ott()},LD=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?ftt(t,e):t&&Qo(e,t)},ftt=(t,e)=>{t.jquery?htt(e,t):Qo(e,t.toString())},htt=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},mtt=(t,e)=>{const r=Lb(),n=jv();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Na(r):Ls(r),Ko(r,e,"actions"),ptt(r,n,e),Qo(n,e.loaderHtml||""),Ko(n,e,"loader"))};function ptt(t,e,r){const n=uu(),i=km(),s=Pv();!n||!i||!s||(iI(n,"confirm",r),iI(i,"deny",r),iI(s,"cancel",r),gtt(n,i,s,r),r.reverseButtons&&(r.toast?(t.insertBefore(s,n),t.insertBefore(i,n)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(n,e))))}function gtt(t,e,r,n){if(!n.buttonsStyling){Rl([t,e,r],Pe.styled);return}Hr([t,e,r],Pe.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),nI(t),nI(e),nI(r)}function nI(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function iI(t,e,r){const n=kD(e);Fb(t,r[`show${n}Button`],"inline-block"),Qo(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=Pe[e],Ko(t,r,`${e}Button`)}const vtt=(t,e)=>{const r=RD();r&&(Qo(r,e.closeButtonHtml||""),Ko(r,e,"closeButton"),Fb(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},ytt=(t,e)=>{const r=Wa();r&&(xtt(r,e.backdrop),btt(r,e.position),wtt(r,e.grow),Ko(r,e,"container"))};function xtt(t,e){typeof e=="string"?t.style.background=e:e||Hr([document.documentElement,document.body],Pe["no-backdrop"])}function btt(t,e){e&&(e in Pe?Hr(t,Pe[e]):(qa('The "position" parameter is not valid, defaulting to "center"'),Hr(t,Pe.center)))}function wtt(t,e){e&&Hr(t,Pe[`grow-${e}`])}var jn={innerParams:new WeakMap,domCache:new WeakMap};const _tt=["input","file","range","select","radio","checkbox","textarea"],Ett=(t,e)=>{const r=Pr();if(!r)return;const n=jn.innerParams.get(t),i=!n||e.input!==n.input;_tt.forEach(s=>{const a=If(r,Pe[s]);a&&(Att(s,e.inputAttributes),a.className=Pe[s],i&&Na(a))}),e.input&&(i&&Ttt(e),ktt(e))},Ttt=t=>{if(!t.input)return;if(!Ri[t.input]){Am(`Unexpected type of input! Expected ${Object.keys(Ri).join(" | ")}, got "${t.input}"`);return}const e=ice(t.input);if(!e)return;const r=Ri[t.input](e,t);Ls(e),t.inputAutoFocus&&setTimeout(()=>{tce(r)})},Stt=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},Att=(t,e)=>{const r=Pr();if(!r)return;const n=rA(r,t);if(n){Stt(n);for(const i in e)n.setAttribute(i,e[i])}},ktt=t=>{if(!t.input)return;const e=ice(t.input);e&&Ko(e,t,"input")},FD=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Bb=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=Pe["input-label"];n.setAttribute("for",t.id),n.className=i,typeof r.customClass=="object"&&Hr(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},ice=t=>{const e=Pr();if(e)return If(e,Pe[t]||Pe.input)},UT=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:ND(e)||qa(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Ri={};Ri.text=Ri.email=Ri.password=Ri.number=Ri.tel=Ri.url=Ri.search=Ri.date=Ri["datetime-local"]=Ri.time=Ri.week=Ri.month=(t,e)=>(UT(t,e.inputValue),Bb(t,t,e),FD(t,e),t.type=e.input,t);Ri.file=(t,e)=>(Bb(t,t,e),FD(t,e),t);Ri.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return UT(r,e.inputValue),r.type=e.input,UT(n,e.inputValue),Bb(r,t,e),t};Ri.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");Qo(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return Bb(t,t,e),t};Ri.radio=t=>(t.textContent="",t);Ri.checkbox=(t,e)=>{const r=rA(Pr(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return Qo(n,e.inputPlaceholder||e.inputLabel),r};Ri.textarea=(t,e)=>{UT(t,e.inputValue),FD(t,e),Bb(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Pr()).width),i=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+r(t);s>n?Pr().style.width=`${s}px`:P0(Pr(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Ctt=(t,e)=>{const r=ID();r&&(DD(r),Ko(r,e,"htmlContainer"),e.html?(LD(e.html,r),Ls(r,"block")):e.text?(r.textContent=e.text,Ls(r,"block")):Na(r),Ett(t,e))},Ntt=(t,e)=>{const r=ece();r&&(DD(r),Fb(r,!!e.footer,"block"),e.footer&&LD(e.footer,r),Ko(r,e,"footer"))},Itt=(t,e)=>{const r=jn.innerParams.get(t),n=Rv();if(!n)return;if(r&&e.icon===r.icon){aK(n,e),sK(n,e);return}if(!e.icon&&!e.iconHtml){Na(n);return}if(e.icon&&Object.keys(BT).indexOf(e.icon)===-1){Am(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Na(n);return}Ls(n),aK(n,e),sK(n,e),Hr(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",sce)},sK=(t,e)=>{for(const[r,n]of Object.entries(BT))e.icon!==r&&Rl(t,n);Hr(t,e.icon&&BT[e.icon]),Ptt(t,e),sce(),Ko(t,e,"icon")},sce=()=>{const t=Pr();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},Ott=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Rtt=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,aK=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=oK(e.iconHtml):e.icon==="success"?(n=Ott(e),r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=Rtt:e.icon&&(n=oK({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&Qo(t,n)},Ptt=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])iK(t,r,"background-color",e.iconColor);iK(t,".swal2-success-ring","border-color",e.iconColor)}},oK=t=>`<div class="${Pe["icon-content"]}">${t}</div>`,jtt=(t,e)=>{const r=Zle();if(r){if(!e.imageUrl){Na(r);return}Ls(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),P0(r,"width",e.imageWidth),P0(r,"height",e.imageHeight),r.className=Pe.image,Ko(r,e,"image")}};let BD=!1,ace=0,oce=0,lce=0,cce=0;const Dtt=t=>{t.addEventListener("mousedown",VT),document.body.addEventListener("mousemove",zT),t.addEventListener("mouseup",$T),t.addEventListener("touchstart",VT),document.body.addEventListener("touchmove",zT),t.addEventListener("touchend",$T)},Mtt=t=>{t.removeEventListener("mousedown",VT),document.body.removeEventListener("mousemove",zT),t.removeEventListener("mouseup",$T),t.removeEventListener("touchstart",VT),document.body.removeEventListener("touchmove",zT),t.removeEventListener("touchend",$T)},VT=t=>{const e=Pr();if(t.target===e||Rv().contains(t.target)){BD=!0;const r=uce(t);ace=r.clientX,oce=r.clientY,lce=parseInt(e.style.insetInlineStart)||0,cce=parseInt(e.style.insetBlockStart)||0,Hr(e,"swal2-dragging")}},zT=t=>{const e=Pr();if(BD){let{clientX:r,clientY:n}=uce(t);const i=r-ace;e.style.insetInlineStart=`${lce+(Rt.isRTL?-i:i)}px`,e.style.insetBlockStart=`${cce+(n-oce)}px`}},$T=()=>{const t=Pr();BD=!1,Rl(t,"swal2-dragging")},uce=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},Ltt=(t,e)=>{const r=Wa(),n=Pr();if(!(!r||!n)){if(e.toast){P0(r,"width",e.width),n.style.width="100%";const i=jv();i&&n.insertBefore(i,Rv())}else P0(n,"width",e.width);P0(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Na(Z4()),Ftt(n,e),e.draggable&&!e.toast?(Hr(n,Pe.draggable),Dtt(n)):(Rl(n,Pe.draggable),Mtt(n))}},Ftt=(t,e)=>{const r=e.showClass||{};t.className=`${Pe.popup} ${ho(t)?r.popup:""}`,e.toast?(Hr([document.documentElement,document.body],Pe["toast-shown"]),Hr(t,Pe.toast)):Hr(t,Pe.modal),Ko(t,e,"popup"),typeof e.customClass=="string"&&Hr(t,e.customClass),e.icon&&Hr(t,Pe[`icon-${e.icon}`])},Btt=(t,e)=>{const r=OD();if(!r)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){Na(r);return}Ls(r),r.textContent="",i>=n.length&&qa("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((s,a)=>{const o=Utt(s);if(r.appendChild(o),a===i&&Hr(o,Pe["active-progress-step"]),a!==n.length-1){const l=Vtt(e);r.appendChild(l)}})},Utt=t=>{const e=document.createElement("li");return Hr(e,Pe["progress-step"]),Qo(e,t),e},Vtt=t=>{const e=document.createElement("li");return Hr(e,Pe["progress-step-line"]),t.progressStepsDistance&&P0(e,"width",t.progressStepsDistance),e},ztt=(t,e)=>{const r=Jle();r&&(DD(r),Fb(r,!!(e.title||e.titleText),"block"),e.title&&LD(e.title,r),e.titleText&&(r.innerText=e.titleText),Ko(r,e,"title"))},dce=(t,e)=>{Ltt(t,e),ytt(t,e),Btt(t,e),Itt(t,e),jtt(t,e),ztt(t,e),vtt(t,e),Ctt(t,e),mtt(t,e),Ntt(t,e);const r=Pr();typeof e.didRender=="function"&&r&&e.didRender(r),Rt.eventEmitter.emit("didRender",r)},$tt=()=>ho(Pr()),fce=()=>{var t;return(t=uu())===null||t===void 0?void 0:t.click()},Htt=()=>{var t;return(t=km())===null||t===void 0?void 0:t.click()},qtt=()=>{var t;return(t=Pv())===null||t===void 0?void 0:t.click()},Dv=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),hce=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Wtt=(t,e,r)=>{hce(t),e.toast||(t.keydownHandler=n=>Ktt(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:Pr(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},n6=(t,e)=>{var r;const n=PD();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=Pr())===null||r===void 0||r.focus()},mce=["ArrowRight","ArrowDown"],Gtt=["ArrowLeft","ArrowUp"],Ktt=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Ytt(e,t):e.key==="Tab"?Xtt(e):[...mce,...Gtt].includes(e.key)?Qtt(e.key):e.key==="Escape"&&Jtt(e,t,r)))},Ytt=(t,e)=>{if(!J4(e.allowEnterKey))return;const r=rA(Pr(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;fce(),t.preventDefault()}},Xtt=t=>{const e=t.target,r=PD();let n=-1;for(let i=0;i<r.length;i++)if(e===r[i]){n=i;break}t.shiftKey?n6(n,-1):n6(n,1),t.stopPropagation(),t.preventDefault()},Qtt=t=>{const e=Lb(),r=uu(),n=km(),i=Pv();if(!e||!r||!n||!i)return;const s=[r,n,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const a=mce.includes(t)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let l=0;l<e.children.length;l++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&ho(o))break}o instanceof HTMLButtonElement&&o.focus()}},Jtt=(t,e,r)=>{t.preventDefault(),J4(e.allowEscapeKey)&&r(Dv.esc)};var Xg={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ztt=()=>{const t=Wa();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},pce=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},gce=typeof window<"u"&&!!window.GestureEvent,ert=()=>{if(gce&&!ad(document.body,Pe.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Hr(document.body,Pe.iosfix),trt()}},trt=()=>{const t=Wa();if(!t)return;let e;t.ontouchstart=r=>{e=rrt(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},rrt=t=>{const e=t.target,r=Wa(),n=ID();return!r||!n||nrt(t)||irt(t)?!1:e===r||!r6(r)&&e instanceof HTMLElement&&!rtt(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(r6(n)&&n.contains(e))},nrt=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",irt=t=>t.touches&&t.touches.length>1,srt=()=>{if(ad(document.body,Pe.iosfix)){const t=parseInt(document.body.style.top,10);Rl(document.body,Pe.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},art=()=>{const t=document.createElement("div");t.className=Pe["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let ug=null;const ort=t=>{ug===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(ug=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ug+art()}px`)},lrt=()=>{ug!==null&&(document.body.style.paddingRight=`${ug}px`,ug=null)};function vce(t,e,r,n){tA()?lK(t,n):(Wet(r).then(()=>lK(t,n)),hce(Rt)),gce?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),jD()&&(lrt(),srt(),pce()),crt()}function crt(){Rl([document.documentElement,document.body],[Pe.shown,Pe["height-auto"],Pe["no-backdrop"],Pe["toast-shown"]])}function Of(t){t=drt(t);const e=Xg.swalPromiseResolve.get(this),r=urt(this);this.isAwaitingPromise?t.isDismissed||(Ub(this),e(t)):r&&e(t)}const urt=t=>{const e=Pr();if(!e)return!1;const r=jn.innerParams.get(t);if(!r||ad(e,r.hideClass.popup))return!1;Rl(e,r.showClass.popup),Hr(e,r.hideClass.popup);const n=Wa();return Rl(n,r.showClass.backdrop),Hr(n,r.hideClass.backdrop),frt(t,e,r),!0};function yce(t){const e=Xg.swalPromiseReject.get(this);Ub(this),e&&e(t)}const Ub=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,jn.innerParams.get(t)||t._destroy())},drt=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),frt=(t,e,r)=>{var n;const i=Wa(),s=nce(e);typeof r.willClose=="function"&&r.willClose(e),(n=Rt.eventEmitter)===null||n===void 0||n.emit("willClose",e),s?hrt(t,e,i,r.returnFocus,r.didClose):vce(t,i,r.returnFocus,r.didClose)},hrt=(t,e,r,n,i)=>{Rt.swalCloseEventFinishedCallback=vce.bind(null,t,r,n,i);const s=function(a){if(a.target===e){var o;(o=Rt.swalCloseEventFinishedCallback)===null||o===void 0||o.call(Rt),delete Rt.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},lK=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Rt.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},Qg=t=>{let e=Pr();if(e||new Hc,e=Pr(),!e)return;const r=jv();tA()?Na(Rv()):mrt(e,t),Ls(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},mrt=(t,e)=>{const r=Lb(),n=jv();!r||!n||(!e&&ho(uu())&&(e=uu()),Ls(r),e&&(Na(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),Hr([t,r],Pe.loading))},prt=(t,e)=>{e.input==="select"||e.input==="radio"?brt(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(CD(e.inputValue)||ND(e.inputValue))&&(Qg(uu()),wrt(t,e))},grt=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return vrt(r);case"radio":return yrt(r);case"file":return xrt(r);default:return e.inputAutoTrim?r.value.trim():r.value}},vrt=t=>t.checked?1:0,yrt=t=>t.checked?t.value:null,xrt=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,brt=(t,e)=>{const r=Pr();if(!r)return;const n=i=>{e.input==="select"?_rt(r,HT(i),e):e.input==="radio"&&Ert(r,HT(i),e)};CD(e.inputOptions)||ND(e.inputOptions)?(Qg(uu()),Db(e.inputOptions).then(i=>{t.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):Am(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},wrt=(t,e)=>{const r=t.getInput();r&&(Na(r),Db(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,Ls(r),r.focus(),t.hideLoading()}).catch(n=>{Am(`Error in inputValue promise: ${n}`),r.value="",Ls(r),r.focus(),t.hideLoading()}))};function _rt(t,e,r){const n=If(t,Pe.select);if(!n)return;const i=(s,a,o)=>{const l=document.createElement("option");l.value=o,Qo(l,a),l.selected=xce(o,r.inputValue),s.appendChild(l)};e.forEach(s=>{const a=s[0],o=s[1];if(Array.isArray(o)){const l=document.createElement("optgroup");l.label=a,l.disabled=!1,n.appendChild(l),o.forEach(u=>i(l,u[1],u[0]))}else i(n,o,a)}),n.focus()}function Ert(t,e,r){const n=If(t,Pe.radio);if(!n)return;e.forEach(s=>{const a=s[0],o=s[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=Pe.radio,l.value=a,xce(a,r.inputValue)&&(l.checked=!0);const f=document.createElement("span");Qo(f,o),f.className=Pe.label,u.appendChild(l),u.appendChild(f),n.appendChild(u)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const HT=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=HT(i)),e.push([n,i])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=HT(n)),e.push([r,n])}),e},xce=(t,e)=>!!e&&e.toString()===t.toString(),Trt=t=>{const e=jn.innerParams.get(t);t.disableButtons(),e.input?bce(t,"confirm"):VD(t,!0)},Srt=t=>{const e=jn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?bce(t,"deny"):UD(t,!1)},Art=(t,e)=>{t.disableButtons(),e(Dv.cancel)},bce=(t,e)=>{const r=jn.innerParams.get(t);if(!r.input){Am(`The "input" parameter is needed to be set when using returnInputValueOn${kD(e)}`);return}const n=t.getInput(),i=grt(t,r);r.inputValidator?krt(t,i,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?UD(t,i):VD(t,i)},krt=(t,e,r)=>{const n=jn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Db(n.inputValidator(e,n.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):r==="deny"?UD(t,e):VD(t,e)})},UD=(t,e)=>{const r=jn.innerParams.get(t||void 0);r.showLoaderOnDeny&&Qg(km()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Db(r.preDeny(e,r.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Ub(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>wce(t||void 0,i))):t.close({isDenied:!0,value:e})},cK=(t,e)=>{t.close({isConfirmed:!0,value:e})},wce=(t,e)=>{t.rejectPromise(e)},VD=(t,e)=>{const r=jn.innerParams.get(t||void 0);r.showLoaderOnConfirm&&Qg(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Db(r.preConfirm(e,r.validationMessage))).then(i=>{ho(Z4())||i===!1?(t.hideLoading(),Ub(t)):cK(t,typeof i>"u"?e:i)}).catch(i=>wce(t||void 0,i))):cK(t,e)};function qT(){const t=jn.innerParams.get(this);if(!t)return;const e=jn.domCache.get(this);Na(e.loader),tA()?t.icon&&Ls(Rv()):Crt(e),Rl([e.popup,e.actions],Pe.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Crt=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?Ls(e[0],"inline-block"):ttt()&&Na(t.actions)};function _ce(){const t=jn.innerParams.get(this),e=jn.domCache.get(this);return e?rA(e.popup,t.input):null}function Ece(t,e,r){const n=jn.domCache.get(t);e.forEach(i=>{n[i].disabled=r})}function Tce(t,e){const r=Pr();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${Pe.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else t.disabled=e}function Sce(){Ece(this,["confirmButton","denyButton","cancelButton"],!1)}function Ace(){Ece(this,["confirmButton","denyButton","cancelButton"],!0)}function kce(){Tce(this.getInput(),!1)}function Cce(){Tce(this.getInput(),!0)}function Nce(t){const e=jn.domCache.get(this),r=jn.innerParams.get(this);Qo(e.validationMessage,t),e.validationMessage.className=Pe["validation-message"],r.customClass&&r.customClass.validationMessage&&Hr(e.validationMessage,r.customClass.validationMessage),Ls(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",Pe["validation-message"]),tce(n),Hr(n,Pe.inputerror))}function Ice(){const t=jn.domCache.get(this);t.validationMessage&&Na(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Rl(e,Pe.inputerror))}const dg={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Nrt=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Irt={allowEnterKey:void 0},Ort=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Oce=t=>Object.prototype.hasOwnProperty.call(dg,t),Rce=t=>Nrt.indexOf(t)!==-1,Pce=t=>Irt[t],Rrt=t=>{Oce(t)||qa(`Unknown parameter "${t}"`)},Prt=t=>{Ort.includes(t)&&qa(`The parameter "${t}" is incompatible with toasts`)},jrt=t=>{const e=Pce(t);e&&Qle(t,e)},jce=t=>{t.backdrop===!1&&t.allowOutsideClick&&qa('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&qa(`Invalid theme "${t.theme}"`);for(const e in t)Rrt(e),t.toast&&Prt(e),jrt(e)};function Dce(t){const e=Wa(),r=Pr(),n=jn.innerParams.get(this);if(!r||ad(r,n.hideClass.popup)){qa("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=Drt(t),s=Object.assign({},n,i);jce(s),e.dataset.swal2Theme=s.theme,dce(this,s),jn.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Drt=t=>{const e={};return Object.keys(t).forEach(r=>{Rce(r)?e[r]=t[r]:qa(`Invalid parameter to update: ${r}`)}),e};function Mce(){const t=jn.domCache.get(this),e=jn.innerParams.get(this);if(!e){Lce(this);return}t.popup&&Rt.swalCloseEventFinishedCallback&&(Rt.swalCloseEventFinishedCallback(),delete Rt.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Rt.eventEmitter.emit("didDestroy"),Mrt(this)}const Mrt=t=>{Lce(t),delete t.params,delete Rt.keydownHandler,delete Rt.keydownTarget,delete Rt.currentInstance},Lce=t=>{t.isAwaitingPromise?(sI(jn,t),t.isAwaitingPromise=!0):(sI(Xg,t),sI(jn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},sI=(t,e)=>{for(const r in t)t[r].delete(e)};var Lrt=Object.freeze({__proto__:null,_destroy:Mce,close:Of,closeModal:Of,closePopup:Of,closeToast:Of,disableButtons:Ace,disableInput:Cce,disableLoading:qT,enableButtons:Sce,enableInput:kce,getInput:_ce,handleAwaitingPromise:Ub,hideLoading:qT,rejectPromise:yce,resetValidationMessage:Ice,showValidationMessage:Nce,update:Dce});const Frt=(t,e,r)=>{t.toast?Brt(t,e,r):(Vrt(e),zrt(e),$rt(t,e,r))},Brt=(t,e,r)=>{e.popup.onclick=()=>{t&&(Urt(t)||t.timer||t.input)||r(Dv.close)}},Urt=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let WT=!1;const Vrt=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(WT=!0)}}},zrt=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(WT=!0)}}},$rt=(t,e,r)=>{e.container.onclick=n=>{if(WT){WT=!1;return}n.target===e.container&&J4(t.allowOutsideClick)&&r(Dv.backdrop)}},Hrt=t=>typeof t=="object"&&t.jquery,uK=t=>t instanceof Element||Hrt(t),qrt=t=>{const e={};return typeof t[0]=="object"&&!uK(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const i=t[n];typeof i=="string"||uK(i)?e[r]=i:i!==void 0&&Am(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),e};function Wrt(...t){return new this(...t)}function Grt(t){class e extends this{_main(n,i){return super._main(n,Object.assign({},t,i))}}return e}const Krt=()=>Rt.timeout&&Rt.timeout.getTimerLeft(),Fce=()=>{if(Rt.timeout)return ntt(),Rt.timeout.stop()},Bce=()=>{if(Rt.timeout){const t=Rt.timeout.start();return MD(t),t}},Yrt=()=>{const t=Rt.timeout;return t&&(t.running?Fce():Bce())},Xrt=t=>{if(Rt.timeout){const e=Rt.timeout.increase(t);return MD(e,!0),e}},Qrt=()=>!!(Rt.timeout&&Rt.timeout.isRunning());let dK=!1;const i6={};function Jrt(t="data-swal-template"){i6[t]=this,dK||(document.body.addEventListener("click",Zrt),dK=!0)}const Zrt=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in i6){const n=e.getAttribute(r);if(n){i6[r].fire({template:n});return}}};class ent{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...i)=>{this.removeListener(e,n),r.apply(this,i)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Rt.eventEmitter=new ent;const tnt=(t,e)=>{Rt.eventEmitter.on(t,e)},rnt=(t,e)=>{Rt.eventEmitter.once(t,e)},nnt=(t,e)=>{if(!t){Rt.eventEmitter.reset();return}e?Rt.eventEmitter.removeListener(t,e):Rt.eventEmitter.removeAllListeners(t)};var int=Object.freeze({__proto__:null,argsToParams:qrt,bindClickHandler:Jrt,clickCancel:qtt,clickConfirm:fce,clickDeny:Htt,enableLoading:Qg,fire:Wrt,getActions:Lb,getCancelButton:Pv,getCloseButton:RD,getConfirmButton:uu,getContainer:Wa,getDenyButton:km,getFocusableElements:PD,getFooter:ece,getHtmlContainer:ID,getIcon:Rv,getIconContent:Xet,getImage:Zle,getInputLabel:Qet,getLoader:jv,getPopup:Pr,getProgressSteps:OD,getTimerLeft:Krt,getTimerProgressBar:eA,getTitle:Jle,getValidationMessage:Z4,increaseTimer:Xrt,isDeprecatedParameter:Pce,isLoading:Zet,isTimerRunning:Qrt,isUpdatableParameter:Rce,isValidParameter:Oce,isVisible:$tt,mixin:Grt,off:nnt,on:tnt,once:rnt,resumeTimer:Bce,showLoading:Qg,stopTimer:Fce,toggleTimer:Yrt});class snt{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Uce=["swal-title","swal-html","swal-footer"],ant=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return mnt(r),Object.assign(ont(r),lnt(r),cnt(r),unt(r),dnt(r),fnt(r),hnt(r,Uce))},ont=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{sm(n,["name","value"]);const i=n.getAttribute("name"),s=n.getAttribute("value");!i||!s||(typeof dg[i]=="boolean"?e[i]=s!=="false":typeof dg[i]=="object"?e[i]=JSON.parse(s):e[i]=s)}),e},lnt=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),s=n.getAttribute("value");!i||!s||(e[i]=new Function(`return ${s}`)())}),e},cnt=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{sm(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${kD(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},unt=t=>{const e={},r=t.querySelector("swal-image");return r&&(sm(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},dnt=t=>{const e={},r=t.querySelector("swal-icon");return r&&(sm(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},fnt=t=>{const e={},r=t.querySelector("swal-input");r&&(sm(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{sm(i,["value"]);const s=i.getAttribute("value");if(!s)return;const a=i.innerHTML;e.inputOptions[s]=a})),e},hnt=(t,e)=>{const r={};for(const n in e){const i=e[n],s=t.querySelector(i);s&&(sm(s,[]),r[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return r},mnt=t=>{const e=Uce.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||qa(`Unrecognized element <${n}>`)})},sm=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&qa([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Vce=10,pnt=t=>{const e=Wa(),r=Pr();typeof t.willOpen=="function"&&t.willOpen(r),Rt.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;ynt(e,r,t),setTimeout(()=>{gnt(e,r)},Vce),jD()&&(vnt(e,t.scrollbarPadding,i),Ztt()),!tA()&&!Rt.previousActiveElement&&(Rt.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Rt.eventEmitter.emit("didOpen",r)},GT=t=>{const e=Pr();if(t.target!==e)return;const r=Wa();e.removeEventListener("animationend",GT),e.removeEventListener("transitionend",GT),r.style.overflowY="auto",Rl(r,Pe["no-transition"])},gnt=(t,e)=>{nce(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",GT),e.addEventListener("transitionend",GT)):t.style.overflowY="auto"},vnt=(t,e,r)=>{ert(),e&&r!=="hidden"&&ort(r),setTimeout(()=>{t.scrollTop=0})},ynt=(t,e,r)=>{Hr(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),Ls(e,"grid"),setTimeout(()=>{Hr(e,r.showClass.popup),e.style.removeProperty("opacity")},Vce)):Ls(e,"grid"),Hr([document.documentElement,document.body],Pe.shown),r.heightAuto&&r.backdrop&&!r.toast&&Hr([document.documentElement,document.body],Pe["height-auto"])};var fK={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function xnt(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=fK.email),t.input==="url"&&(t.inputValidator=fK.url))}function bnt(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(qa('Target parameter is not valid, defaulting to "body"'),t.target="body")}function wnt(t){xnt(t),t.showLoaderOnConfirm&&!t.preConfirm&&qa(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),bnt(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),dtt(t)}let $c;var i2=new WeakMap;class Li{constructor(...e){if(zet(this,i2,void 0),typeof window>"u")return;$c=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,$et(i2,this,this._main($c.params))}_main(e,r={}){if(jce(Object.assign({},r,e)),Rt.currentInstance){const s=Xg.swalPromiseResolve.get(Rt.currentInstance),{isAwaitingPromise:a}=Rt.currentInstance;Rt.currentInstance._destroy(),a||s({isDismissed:!0}),jD()&&pce()}Rt.currentInstance=$c;const n=Ent(e,r);wnt(n),Object.freeze(n),Rt.timeout&&(Rt.timeout.stop(),delete Rt.timeout),clearTimeout(Rt.restoreFocusTimeout);const i=Tnt($c);return dce($c,n),jn.innerParams.set($c,n),_nt($c,i,n)}then(e){return rK(i2,this).then(e)}finally(e){return rK(i2,this).finally(e)}}const _nt=(t,e,r)=>new Promise((n,i)=>{const s=a=>{t.close({isDismissed:!0,dismiss:a,isConfirmed:!1,isDenied:!1})};Xg.swalPromiseResolve.set(t,n),Xg.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{Trt(t)},e.denyButton.onclick=()=>{Srt(t)},e.cancelButton.onclick=()=>{Art(t,s)},e.closeButton.onclick=()=>{s(Dv.close)},Frt(r,e,s),Wtt(Rt,r,s),prt(t,r),pnt(r),Snt(Rt,r,s),Ant(e,r),setTimeout(()=>{e.container.scrollTop=0})}),Ent=(t,e)=>{const r=ant(t),n=Object.assign({},dg,e,r,t);return n.showClass=Object.assign({},dg.showClass,n.showClass),n.hideClass=Object.assign({},dg.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},Tnt=t=>{const e={popup:Pr(),container:Wa(),actions:Lb(),confirmButton:uu(),denyButton:km(),cancelButton:Pv(),loader:jv(),closeButton:RD(),validationMessage:Z4(),progressSteps:OD()};return jn.domCache.set(t,e),e},Snt=(t,e,r)=>{const n=eA();Na(n),e.timer&&(t.timeout=new snt(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(Ls(n),Ko(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&MD(e.timer)})))},Ant=(t,e)=>{if(!e.toast){if(!J4(e.allowEnterKey)){Qle("allowEnterKey"),Nnt();return}knt(t)||Cnt(t,e)||n6(-1,1)}},knt=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&ho(r))return r.focus(),!0;return!1},Cnt=(t,e)=>e.focusDeny&&ho(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&ho(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&ho(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Nnt=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Li.prototype.disableButtons=Ace;Li.prototype.enableButtons=Sce;Li.prototype.getInput=_ce;Li.prototype.disableInput=Cce;Li.prototype.enableInput=kce;Li.prototype.hideLoading=qT;Li.prototype.disableLoading=qT;Li.prototype.showValidationMessage=Nce;Li.prototype.resetValidationMessage=Ice;Li.prototype.close=Of;Li.prototype.closePopup=Of;Li.prototype.closeModal=Of;Li.prototype.closeToast=Of;Li.prototype.rejectPromise=yce;Li.prototype.update=Dce;Li.prototype._destroy=Mce;Object.assign(Li,int);Object.keys(Lrt).forEach(t=>{Li[t]=function(...e){return $c&&$c[t]?$c[t](...e):null}});Li.DismissReason=Dv;Li.version="11.26.4";const Hc=Li;Hc.default=Hc;typeof document<"u"&&(function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const zce="usage_config",$ce="settings",Gl={guest:{limit:5,period:"daily",isEnabled:!0,showAds:!0,message:"Bn  s dng ht {limit} lt lm th min ph trong ngy. Vui lng ng nhp  tip tc n tp! Mi chi tit lin h phng o to-Cng ty CP T vn v Gio dc Ninh Bnh. ST: 022 96 282 969"},free_user:{limit:10,period:"daily",isEnabled:!0,showAds:!0,message:"Bn  ht {limit} lt lm bi min ph hm nay. Hy ng k lp hc  m kha ton b tnh nng v n tp khng gii hn. Mi chi tit lin h phng o to-Cng ty CP T vn v Gio dc Ninh Bnh. ST: 022 96 282 969"},verified_user:{limit:50,period:"daily",isEnabled:!1,showAds:!1,message:"Ti khon lp ca bn  t gii hn {limit} lt truy cp. Vui lng lin h gio vin hoc admin  c h tr."},vip_user:{limit:100,period:"daily",isEnabled:!1,showAds:!1,message:"Ti khon VIP ca bn  ht {limit} lt s dng. Vui lng gia hn hoc lin h h tr."},teacher:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn gio vin."},manager:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn cn b qun l."},admin:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn Admin."}},zD=async()=>{try{const t=Ft(Ye,$ce,zce),e=await uc(t);if(e.exists()){const r=e.data();return{...Gl,guest:{...Gl.guest,...r.guest||{}},free_user:{...Gl.free_user,...r.free_user||{}},verified_user:{...Gl.verified_user,...r.verified_user||{}},vip_user:{...Gl.vip_user,...r.vip_user||{}},teacher:{...Gl.teacher,...r.teacher||{}},manager:{...Gl.manager,...r.manager||{}},admin:{...Gl.admin,...r.admin||{}}}}else return console.log("Initializing default usage config..."),await cv(t,Gl),Gl}catch(t){return console.error("Error fetching usage config:",t),Gl}},Int=async t=>{try{const e=Ft(Ye,$ce,zce);await cv(e,t)}catch(e){throw console.error("Error saving usage config:",e),e}},Ont=({onClose:t})=>{const[e,r]=N.useState(null),[n,i]=N.useState(!0),[s,a]=N.useState(!1),[o,l]=N.useState("guest"),[u,f]=N.useState(null),[h,g]=N.useState(!1),[v,x]=N.useState(!1);N.useEffect(()=>{b()},[]);const b=async()=>{i(!0);const P=await zD();r(P),i(!1)},w=async()=>{if(e){a(!0);try{await Int(e),Hc.fire({title:"Thnh cng!",text:"Cu hnh  c lu.",icon:"success",timer:1500,showConfirmButton:!1})}catch{Hc.fire("Li","Khng th lu cu hnh","error")}finally{a(!1)}}},E=(P,S,I)=>{!e||P==="system"||r({...e,[P]:{...e[P],[S]:I}})};if(n)return m.jsx("div",{className:"p-8 text-center",children:"ang ti cu hnh..."});if(!e)return m.jsx("div",{className:"p-8 text-center text-red-500",children:"Li ti d liu"});const A=[{id:"guest",label:"Khch Vng Lai",icon:SE,color:"text-gray-500"},{id:"free_user",label:"Thnh Vin T Do",icon:Ree,color:"text-green-500"},{id:"verified_user",label:"Hc Vin Lp",icon:N4e,color:"text-blue-500"},{id:"vip_user",label:"Thnh Vin VIP",icon:C4e,color:"text-yellow-500"},{id:"teacher",label:"Gio Vin",icon:N5,color:"text-purple-500"},{id:"manager",label:"Cn B Qun L",icon:tg,color:"text-red-500"},{id:"admin",label:"Qun Tr Vin",icon:S4e,color:"text-indigo-600"},{id:"system",label:"H Thng & D Liu",icon:_4e,color:"text-gray-600"}],k=async()=>{g(!0);try{const P=await _n(Wt(Ye,"courses")),S=new Set(P.docs.map(M=>M.id)),I=pr(Wt(Ye,"users"),Ar("courseId","!=",null)),O=await _n(I);let D=0;O.forEach(M=>{const F=M.data();F.courseId&&!S.has(F.courseId)&&D++}),f(D),D===0&&Hc.fire("Tt","D liu sch s! Khng c hc vin li.","success")}catch(P){console.error(P),Hc.fire("Li","Khng th qut d liu","error")}finally{g(!1)}},R=async()=>{if(u){x(!0);try{const P=await _n(Wt(Ye,"courses")),S=new Set(P.docs.map(F=>F.id)),I=pr(Wt(Ye,"users"),Ar("courseId","!=",null)),O=await _n(I),D=BR(Ye);let M=0;O.forEach(F=>{const U=F.data();if(U.courseId&&!S.has(U.courseId)){const le=Ft(Ye,"users",F.id);D.update(le,{courseId:null,courseName:null,class:null,isVerified:!1}),M++}}),M>0&&(await D.commit(),f(0),Hc.fire("Thnh cng",` sa li cho ${M} hc vin!`,"success"))}catch(P){console.error(P),Hc.fire("Li","Khng th sa d liu","error")}finally{x(!1)}}},j=o==="system"?{isEnabled:!1}:e[o];return m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4 backdrop-blur-sm animate-fade-in",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-4xl overflow-hidden flex flex-col max-h-[90vh]",children:[m.jsxs("div",{className:"p-5 bg-gradient-to-r from-purple-600 to-indigo-600 text-white flex justify-between items-center",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx(u4e,{className:"text-2xl animate-spin-slow"}),m.jsx("h2",{className:"text-xl font-bold",children:"Cu Hnh Gii Hn & Quyn Truy Cp"})]}),m.jsx("button",{onClick:t,className:"text-white/80 hover:text-white text-2xl",children:""})]}),m.jsxs("div",{className:"flex flex-1 overflow-hidden",children:[m.jsx("div",{className:"w-1/3 bg-gray-50 dark:bg-slate-900 border-r dark:border-slate-700 overflow-y-auto",children:A.map(P=>m.jsxs("button",{onClick:()=>l(P.id),className:`w-full text-left p-4 border-b dark:border-slate-700 flex items-center gap-3 transition-colors ${o===P.id?"bg-white dark:bg-slate-800 border-l-4 border-l-purple-500 shadow-sm":"hover:bg-gray-100 dark:hover:bg-slate-800 text-gray-500 dark:text-gray-400"}`,children:[m.jsx(P.icon,{className:`text-xl ${o===P.id?P.color:""}`}),m.jsxs("div",{children:[m.jsx("div",{className:`font-bold ${o===P.id?"text-gray-800 dark:text-white":""}`,children:P.label}),m.jsx("div",{className:"text-xs mt-1",children:m.jsx("div",{className:"text-xs mt-1",children:P.id==="system"?m.jsx("span",{className:"text-blue-600 font-bold",children:"Cng c qun tr"}):e[P.id].isEnabled?m.jsxs("span",{className:"text-green-600 font-bold",children:["Limit: ",e[P.id].limit," (",e[P.id].period==="daily"?"Ngy":"Tun",")"]}):m.jsx("span",{className:"text-gray-400",children:"Khng gii hn (Tt)"})})})]})]},P.id))}),m.jsxs("div",{className:"w-2/3 p-6 overflow-y-auto bg-white dark:bg-slate-800",children:[m.jsxs("div",{className:"mb-6 flex items-center justify-between",children:[m.jsxs("h3",{className:"text-xl font-bold flex items-center gap-2",children:[ke.createElement(A.find(P=>P.id===o).icon,{className:A.find(P=>P.id===o).color}),A.find(P=>P.id===o).label]}),o!=="system"&&m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:j.isEnabled,onChange:P=>E(o,"isEnabled",P.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"}),m.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:j.isEnabled?"ang bt gii hn":"Khng gii hn (Tt)"})]})]}),o==="system"?m.jsx("div",{className:"space-y-6 animate-fade-in-up",children:m.jsxs("div",{className:"p-6 bg-orange-50 dark:bg-slate-700/50 rounded-xl border border-orange-200 dark:border-slate-600",children:[m.jsxs("h4",{className:"font-bold text-lg mb-2 text-orange-800 dark:text-orange-400 flex items-center gap-2",children:[m.jsx(r4e,{})," Dn dp d liu rc"]}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-4",children:'Tm v sa cc ti khon hc vin vn cn lin kt vi lp hc  b xa (Orphaned Data). Li ny khin hc vin hin th " xc thc" nhng thng tin lp khng tn ti.'}),m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:k,disabled:h||v,className:"px-4 py-2 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:h?"ang qut...":"1. Qut li"}),u!==null&&u>0&&m.jsxs("div",{className:"flex items-center gap-4 animate-fade-in",children:[m.jsxs("span",{className:"font-bold text-red-500",children:["Tm thy ",u," ti khon li!"]}),m.jsx("button",{onClick:R,disabled:v,className:"px-4 py-2 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50",children:v?"ang sa...":"2. Sa ngay"})]}),u===0&&m.jsx("span",{className:"text-green-600 font-bold animate-fade-in",children:"Khng c li no!"})]})]})}):m.jsxs(m.Fragment,{children:[j.isEnabled&&m.jsxs("div",{className:"space-y-6 animate-fade-in-up",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"S lt ti a"}),m.jsx("input",{type:"number",value:j.limit,onChange:P=>E(o,"limit",parseInt(P.target.value)||0),className:"w-full p-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-purple-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Chu k reset"}),m.jsxs("select",{value:j.period,onChange:P=>E(o,"period",P.target.value),className:"w-full p-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-purple-500 outline-none",children:[m.jsx("option",{value:"daily",children:"Hng Ngy (00:00)"}),m.jsx("option",{value:"weekly",children:"Hng Tun (Th 2)"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Tin nhn bo chn"}),m.jsx("textarea",{rows:3,value:j.message,onChange:P=>E(o,"message",P.target.value),className:"w-full p-3 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Nhp tin nhn..."}),m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" Mo: Dng ",m.jsx("code",{children:"{limit}"}),"  hin th s lt t ng."]})]})]}),m.jsxs("div",{className:"mt-6 flex items-center justify-between bg-orange-50 dark:bg-slate-700/50 p-3 rounded-lg border border-orange-200 dark:border-slate-600",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-orange-700 dark:text-orange-400 text-sm",children:"Hin th Qung Co (Google Adsense)"}),m.jsx("p",{className:"text-xs text-orange-600/80 dark:text-gray-400",children:"Bt  hin qung co cho nhm ny (Khng ph thuc gii hn)."})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:j.showAds,onChange:P=>E(o,"showAds",P.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-9 h-5 bg-gray-300 peer-focus:outline-none rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-4 after:w-4 after:transition-all dark:border-gray-600 peer-checked:bg-orange-500"})]})]}),!j.isEnabled&&m.jsxs("div",{className:"p-6 bg-gray-50 dark:bg-slate-700/50 rounded-xl border border-dashed border-gray-300 dark:border-slate-600 text-center text-gray-500",children:[m.jsx(Rnt,{className:"text-4xl mx-auto mb-2 text-green-500 opacity-50"}),m.jsx("p",{children:"Ngi dng thuc nhm ny c truy cp khng gii hn."})]})]})]}),m.jsxs("div",{className:"p-5 border-t dark:border-slate-700 bg-gray-50 dark:bg-slate-700/50 flex justify-end gap-3",children:[m.jsx("button",{onClick:t,className:"px-6 py-2 rounded-lg font-medium text-gray-600 hover:bg-gray-200 dark:text-gray-300 dark:hover:bg-slate-600 transition-colors",children:"ng"}),m.jsx("button",{onClick:w,disabled:s,className:"px-8 py-2 rounded-lg font-bold text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:shadow-lg hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50",children:s?"ang lu...":m.jsxs(m.Fragment,{children:[m.jsx(OP,{})," Lu Cu Hnh"]})})]})]})]})})},Rnt=({className:t})=>m.jsx("svg",{stroke:"currentColor",fill:"currentColor",strokeWidth:"0",viewBox:"0 0 512 512",className:t,xmlns:"http://www.w3.org/2000/svg",children:m.jsx("path",{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628 0z"})}),Pnt=`
# Changelog

## [v3.7.0] - 2025-12-16
###  Tnh nng mi
- **H thng Thi Trc Tuyn (Online Exam):**
  - Tch hp hon ton module Thi Trc Tuyn vo h thng.
  - Thm trang ch thi (\`/thitructuyen\`) vi giao din mi.
  - H tr hc vin ng nhp v tham gia phng thi bng m phng.
  - Gio vin/Qun l c th truy cp trang Qun l thi t TopNavbar.

###  Giao din & Tri nghim
- **iu hng:**
  - Thm nt "Thi trc tuyn" vo thanh TopNavbar (ng dng n tp).
  - Thm lin kt "Thi trc tuyn" vo Menu chnh v Footer (Trang ch).
  - Cp nht Sitemap  h tr SEO cho trang thi.
- **Trang Thi Trc Tuyn:**
  - Cp nht thng tin Footer v Logo n v.
  - Ti u ha lung ng nhp v chuyn hng ngi dng.

###  K thut
- Cu hnh script build  h tr deploy ng thi c Next.js v React app ln Vercel.
- Dn dp code qun l thi c khi h thng Next.js  trnh xung t.
- Sa cc li giao din v logic nh khc.

---

## [v3.6.0] - 2024-12-15
###  Tnh nng
- Cp nht giao din Dashboard.
- Ti u ha hiu nng ti trang.
`,jnt=({onClose:t})=>m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-2xl max-h-[80vh] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900/50",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:" Lch s cp nht"}),m.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 dark:hover:bg-slate-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:m.jsx(Uet,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-6 text-gray-700 dark:text-gray-300 prose dark:prose-invert max-w-none",children:m.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:Pnt})}),m.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900/50 flex justify-end",children:m.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"ng"})})]})}),Hce=N.createContext({user:null,loading:!0}),nA=()=>N.useContext(Hce),Dnt=({children:t})=>{const[e,r]=N.useState(null),[n,i]=N.useState(!0);return N.useEffect(()=>{const s=KJ(Js,a=>{r(a),i(!1)});return()=>s()},[]),m.jsx(Hce.Provider,{value:{user:e,loading:n},children:t})},Mnt=()=>{const{user:t}=nA(),{userProfile:e}=bn(v=>v),[r,n]=N.useState([]),[i,s]=N.useState(!1),[a,o]=N.useState(0),l=N.useRef(null);N.useEffect(()=>{const v=x=>{l.current&&!l.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),N.useEffect(()=>{t&&e&&BSe(t.uid,void 0,e.role).then(v=>{const x=v.map(b=>({id:b.id,title:b.title,body:b.message,link:void 0,timestamp:b.createdAt?new Date(b.createdAt.seconds*1e3):new Date,read:b.read||!1,type:b.type}));n(x),o(x.filter(b=>!b.read).length)})},[t,e]),N.useEffect(()=>{if(!t||!e)return;const v=pr(Wt(Ye,"notifications"),Ar("targetType","==","all"),uo("createdAt","desc"),wl(10)),x=Vo(v,E=>{E.docChanges().forEach(A=>{if(A.type==="added"){const k=A.doc.data();if(k.targetRoles&&Array.isArray(k.targetRoles)&&k.targetRoles.length>0&&(!e.role||!k.targetRoles.includes(e.role)))return;n(R=>{var S;if(R.some(I=>I.id===A.doc.id))return R;const j={id:A.doc.id,title:k.title,body:k.message,link:void 0,timestamp:k.createdAt?new Date(k.createdAt.seconds*1e3):new Date,read:((S=k.readBy)==null?void 0:S.includes(t.uid))||!1,type:k.type};return Date.now()-j.timestamp.getTime()<1e4&&!j.read&&on(j.title,{description:j.body,duration:5e3}),[j,...R].sort((I,O)=>O.timestamp.getTime()-I.timestamp.getTime())})}})}),b=pr(Wt(Ye,"users",t.uid,"notifications"),uo("createdAt","desc"),wl(10)),w=Vo(b,E=>{E.docChanges().forEach(A=>{if(A.type==="added"){const k=A.doc.data();n(R=>{if(R.some(S=>S.id===A.doc.id))return R;const j={id:A.doc.id,title:k.title,body:k.message,link:void 0,timestamp:k.createdAt?new Date(k.createdAt.seconds*1e3):new Date,read:k.read||!1,type:k.type};return Date.now()-j.timestamp.getTime()<1e4&&!j.read&&on(j.title,{description:j.body,duration:5e3}),[j,...R].sort((S,I)=>I.timestamp.getTime()-S.timestamp.getTime())})}})});return()=>{x(),w()}},[t,e]),N.useEffect(()=>{o(r.filter(v=>!v.read).length)},[r]);const u=()=>{s(!i)},f=async()=>{if(!t||a===0)return;n(x=>x.map(b=>({...b,read:!0}))),o(0);const v=r.filter(x=>!x.read).map(x=>x.id);for(const x of v)await USe(x,t.uid)},h=async(v,x)=>{v.stopPropagation(),t&&(n(b=>b.filter(w=>w.id!==x)),await dV(x,t.uid))},g=async()=>{if(!t)return;const v=r.filter(x=>x.read&&x.type!=="special"&&x.type!=="attention").map(x=>x.id);if(v.length===0){on.info("Khng c thng bo  c no  xa.");return}n(x=>x.filter(b=>!b.read||b.type==="special"||b.type==="attention"));for(const x of v)await dV(x,t.uid);on.success(` xa ${v.length} thng bo  c.`)};return m.jsxs("div",{className:"relative",ref:l,children:[m.jsxs("button",{onClick:u,className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",title:"Thng bo",children:[m.jsx(e4e,{className:`text-xl ${a>0?"text-yellow-500 animate-swing":""}`}),a>0&&m.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-red-600 rounded-full",children:a})]}),i&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-2xl overflow-hidden z-50 border border-gray-200 dark:border-gray-700 animate-fade-in-down",children:[m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-900 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:"Thng bo"}),m.jsxs("div",{className:"flex gap-3 text-xs",children:[m.jsxs("span",{className:"text-blue-500 cursor-pointer hover:underline flex items-center gap-1",onClick:f,title:"nh du tt c l  c",children:[m.jsx(Eee,{}),"  c"]}),m.jsxs("span",{className:"text-red-500 cursor-pointer hover:underline flex items-center gap-1",onClick:g,title:"Xa cc thng bo  c",children:[m.jsx(Gc,{})," Xa  c"]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?m.jsx("div",{className:"p-8 text-center text-gray-400",children:m.jsx("p",{children:"Khng c thng bo mi"})}):r.map(v=>m.jsxs("div",{className:`p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors group relative ${v.read?"":"bg-blue-50 dark:bg-blue-900/10"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1 pr-6",children:[m.jsxs("p",{className:`text-sm text-gray-800 dark:text-gray-100 mb-1 ${v.read?"font-medium":"font-bold"}`,children:[!v.read&&m.jsx(l4e,{className:"inline-block text-[8px] text-blue-500 mr-1 mb-0.5"}),v.title]}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:v.body})]}),v.type!=="special"&&v.type!=="attention"&&m.jsx("button",{onClick:x=>h(x,v.id),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"Xa thng bo",children:m.jsx(Gc,{size:12})})]}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-xs text-gray-400",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),v.link&&m.jsx("a",{href:v.link,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Xem chi tit"})]})]},v.id))})]})]})},Lnt=({userProfile:t,onNavigate:e,onLogout:r})=>{const[n,i]=N.useState(!1),[s,a]=N.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-gray-800 z-40 px-4 shadow-sm flex items-center justify-between transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-1 md:gap-4 overflow-x-auto no-scrollbar",children:[m.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(QZe,{size:18,className:"text-blue-600 dark:text-blue-400"}),m.jsx("span",{className:"font-semibold text-sm md:text-base",children:"n tp"})]}),m.jsxs("button",{onClick:()=>{t&&["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role)?e("online_exam_management"):e("thi_truc_tuyen")},className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(JG,{size:18,className:"text-red-600 dark:text-red-400"}),m.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Thi trc tuyn"})]}),m.jsxs("a",{href:"/",className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap decoration-0",children:[m.jsx(JG,{size:18,className:"text-teal-600 dark:text-teal-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Tin tc"})]}),m.jsxs("button",{onClick:()=>e("account"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(Let,{size:18,className:"text-orange-600 dark:text-orange-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Ti khon"})]}),m.jsxs("button",{onClick:()=>e("mailbox"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(xet,{size:18,className:"text-pink-600 dark:text-pink-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Hp th"})]}),t&&m.jsxs(m.Fragment,{children:[["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)?m.jsxs("button",{onClick:()=>e("class_management"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(Tet,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Qun l lp"})]}):m.jsxs("button",{onClick:()=>e("my_class"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(QG,{size:18,className:"text-green-600 dark:text-green-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Lp ca ti"})]}),["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)&&m.jsxs("button",{onClick:()=>e("notification_mgmt"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap border-l border-gray-200 dark:border-gray-700 ml-2 pl-4",children:[m.jsx(Det,{size:18,className:"text-red-500 animate-pulse-slow"}),m.jsx("span",{className:"font-bold text-sm md:text-base text-red-600 dark:text-red-400",children:"Qun l TB"})]}),t.role==="admin"&&m.jsxs("button",{onClick:()=>i(!0),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap border-l border-gray-200 dark:border-gray-700 ml-2 pl-4",children:[m.jsx(Iet,{size:18,className:"text-purple-600 animate-spin-slow"}),m.jsx("span",{className:"font-bold text-sm md:text-base text-purple-600 dark:text-purple-400",children:"Cu hnh"})]}),m.jsxs("button",{onClick:()=>e("history"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(det,{size:18,className:"text-purple-600 dark:text-purple-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Lch s"})]})]})]}),m.jsx("div",{className:"flex items-center gap-3 md:gap-4 ml-4 flex-shrink-0",children:t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mr-2",children:m.jsx(Mnt,{})}),m.jsx("div",{className:"hidden md:flex flex-col items-end mr-4",children:m.jsx("button",{onClick:()=>a(!0),className:"text-xs font-medium text-gray-500 hover:text-blue-600 transition-colors",children:"v3.7.0"})}),m.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Xin cho,"}),m.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-white max-w-[150px] truncate",children:t.isVerified||t.courseId?m.jsxs("span",{className:`flex items-center gap-1 font-bold ${t.role==="giao_vien"?"text-yellow-600 dark:text-yellow-400":t.role==="quan_ly"||t.role==="lanh_dao"?"text-red-600 dark:text-red-400":t.role==="admin"?"text-purple-600 dark:text-purple-400":"text-blue-600"}`,children:[t.full_name||t.fullName||"---",t.role==="hoc_vien"&&m.jsx(set,{size:14,className:"text-green-500"})]}):m.jsx("span",{className:`font-bold ${t.role==="giao_vien"?"text-yellow-600 dark:text-yellow-400":t.role==="quan_ly"||t.role==="lanh_dao"?"text-red-600 dark:text-red-400":t.role==="admin"?"text-purple-600 dark:text-purple-400":"text-gray-800 dark:text-white"}`,children:t.full_name||t.fullName||"---"})})]}),m.jsx("div",{className:"md:hidden text-gray-700 dark:text-gray-200",children:m.jsx(QG,{size:20})}),m.jsx("div",{className:"h-8 w-[1px] bg-gray-300 dark:bg-gray-700 mx-1"}),m.jsxs("button",{onClick:r,className:"group flex items-center gap-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-2 rounded-full transition-colors",title:"ng xut",children:[m.jsx(vet,{size:18,className:"group-hover:translate-x-1 transition-transform"}),m.jsx("span",{className:"hidden md:inline font-medium text-sm",children:"Thot"})]})]}):m.jsx("button",{onClick:()=>e("login"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-colors shadow-md",children:"ng nhp"})})]}),n&&m.jsx(Ont,{onClose:()=>i(!1)}),s&&m.jsx(jnt,{onClose:()=>a(!1)})]})},iA=0,_h=1,Mv=2,qce=4;function hK(t){return()=>t}function Fnt(t){t()}function Wce(t,e){return r=>t(e(r))}function mK(t,e){return()=>t(e)}function Bnt(t,e){return r=>t(e,r)}function $D(t){return t!==void 0}function Unt(...t){return()=>{t.map(Fnt)}}function Lv(){}function sA(t,e){return e(t),t}function Vnt(t,e){return e(t)}function qn(...t){return t}function Gr(t,e){return t(_h,e)}function sr(t,e){t(iA,e)}function HD(t){t(Mv)}function Xn(t){return t(qce)}function Tt(t,e){return Gr(t,Bnt(e,iA))}function pc(t,e){const r=t(_h,n=>{r(),e(n)});return r}function pK(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function Gce(t,e){return t===e}function Vn(t=Gce){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function Bt(t){return e=>r=>{t(r)&&e(r)}}function ft(t){return e=>Wce(e,t)}function qc(t){return e=>()=>{e(t)}}function Ge(t,...e){const r=znt(...e);return(n,i)=>{switch(n){case Mv:HD(t);return;case _h:return Gr(t,r(i))}}}function Xc(t,e){return r=>n=>{r(e=t(e,n))}}function am(t){return e=>r=>{t>0?t--:e(r)}}function Xu(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function ar(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((s,a)=>{const o=Math.pow(2,a);Gr(s,l=>{const u=r;r=r|o,e[a]=l,u!==i&&r===i&&n&&(n(),n=null)})}),s=>a=>{const o=()=>{s([a].concat(e))};r===i?o():n=o}}function znt(...t){return e=>t.reduceRight(Vnt,e)}function $nt(t){let e,r;const n=()=>e==null?void 0:e();return function(i,s){switch(i){case _h:return s?r===s?void 0:(n(),r=s,e=Gr(t,s),e):(n(),Lv);case Mv:n(),r=null;return}}}function Ze(t){let e=t;const r=Er();return(n,i)=>{switch(n){case iA:e=i;break;case _h:{i(e);break}case qce:return e}return r(n,i)}}function Ta(t,e){return sA(Ze(e),r=>Tt(t,r))}function Er(){const t=[];return(e,r)=>{switch(e){case iA:t.slice().forEach(n=>{n(r)});return;case Mv:t.splice(0,t.length);return;case _h:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}}}function Ho(t){return sA(Er(),e=>Tt(t,e))}function Mr(t,e=[],{singleton:r}={singleton:!0}){return{constructor:t,dependencies:e,id:Hnt(),singleton:r}}const Hnt=()=>Symbol();function qnt(t){const e=new Map,r=({constructor:n,dependencies:i,id:s,singleton:a})=>{if(a&&e.has(s))return e.get(s);const o=n(i.map(l=>r(l)));return a&&e.set(s,o),o};return r(t)}function es(...t){const e=Er(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((s,a)=>{const o=Math.pow(2,a);Gr(s,l=>{r[a]=l,n=n|o,n===i&&sr(e,r)})}),function(s,a){switch(s){case Mv:{HD(e);return}case _h:return n===i&&a(r),Gr(e,a)}}}function Lt(t,e=Gce){return Ge(t,Vn(e))}function s6(...t){return function(e,r){switch(e){case Mv:return;case _h:return Unt(...t.map(n=>Gr(n,r)))}}}var mo=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(mo||{});const Wnt={0:"debug",3:"error",1:"log",2:"warn"},Gnt=()=>typeof globalThis>"u"?window:globalThis,Eh=Mr(()=>{const t=Ze(3);return{log:Ze((e,r,n=1)=>{var i;const s=(i=Gnt().VIRTUOSO_LOG_LEVEL)!=null?i:Xn(t);n>=s&&console[Wnt[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",e,r)}),logLevel:t}},[],{singleton:!0});function Cm(t,e,r){return qD(t,e,r).callbackRef}function qD(t,e,r){const n=ke.useRef(null);let i=a=>{};const s=ke.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(a=>{const o=()=>{const l=a[0].target;l.offsetParent!==null&&t(l)};r?o():requestAnimationFrame(o)}):null,[t,r]);return i=a=>{a&&e?(s==null||s.observe(a),n.current=a):(n.current&&(s==null||s.unobserve(n.current)),n.current=null)},{callbackRef:i,ref:n}}function Knt(t,e,r,n,i,s,a,o,l){const u=ke.useCallback(f=>{const h=Ynt(f.children,e,o?"offsetWidth":"offsetHeight",i);let g=f.parentElement;for(;!g.dataset.virtuosoScroller;)g=g.parentElement;const v=g.lastElementChild.dataset.viewportType==="window";let x;v&&(x=g.ownerDocument.defaultView);const b=a?o?a.scrollLeft:a.scrollTop:v?o?x.scrollX||x.document.documentElement.scrollLeft:x.scrollY||x.document.documentElement.scrollTop:o?g.scrollLeft:g.scrollTop,w=a?o?a.scrollWidth:a.scrollHeight:v?o?x.document.documentElement.scrollWidth:x.document.documentElement.scrollHeight:o?g.scrollWidth:g.scrollHeight,E=a?o?a.offsetWidth:a.offsetHeight:v?o?x.innerWidth:x.innerHeight:o?g.offsetWidth:g.offsetHeight;n({scrollHeight:w,scrollTop:Math.max(b,0),viewportHeight:E}),s==null||s(o?gK("column-gap",getComputedStyle(f).columnGap,i):gK("row-gap",getComputedStyle(f).rowGap,i)),h!==null&&t(h)},[t,e,i,s,a,n,o]);return qD(u,r,l)}function Ynt(t,e,r,n){const i=t.length;if(i===0)return null;const s=[];for(let a=0;a<i;a++){const o=t.item(a);if(o.dataset.index===void 0)continue;const l=parseInt(o.dataset.index),u=parseFloat(o.dataset.knownSize),f=e(o,r);if(f===0&&n("Zero-sized element, this should not happen",{child:o},mo.ERROR),f===u)continue;const h=s[s.length-1];s.length===0||h.size!==f||h.endIndex!==l-1?s.push({endIndex:l,size:f,startIndex:l}):s[s.length-1].endIndex++}return s}function gK(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,mo.WARN),e==="normal"?0:parseInt(e??"0",10)}function Kce(t,e,r){const n=ke.useRef(null),i=ke.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const u=l.getBoundingClientRect(),f=u.width;let h,g;if(e){const v=e.getBoundingClientRect(),x=u.top-v.top;g=v.height-Math.max(0,x),h=x+e.scrollTop}else{const v=a.current.ownerDocument.defaultView;g=v.innerHeight-Math.max(0,u.top),h=u.top+v.scrollY}n.current={offsetTop:h,visibleHeight:g,visibleWidth:f},t(n.current)},[t,e]),{callbackRef:s,ref:a}=qD(i,!0,r),o=ke.useCallback(()=>{i(a.current)},[i,a]);return ke.useEffect(()=>{var l;if(e){e.addEventListener("scroll",o);const u=new ResizeObserver(()=>{requestAnimationFrame(o)});return u.observe(e),()=>{e.removeEventListener("scroll",o),u.unobserve(e)}}else{const u=(l=a.current)==null?void 0:l.ownerDocument.defaultView;return u==null||u.addEventListener("scroll",o),u==null||u.addEventListener("resize",o),()=>{u==null||u.removeEventListener("scroll",o),u==null||u.removeEventListener("resize",o)}}},[o,e,a]),s}const Ga=Mr(()=>{const t=Er(),e=Er(),r=Ze(0),n=Er(),i=Ze(0),s=Er(),a=Er(),o=Ze(0),l=Ze(0),u=Ze(0),f=Ze(0),h=Er(),g=Er(),v=Ze(!1),x=Ze(!1),b=Ze(!1);return Tt(Ge(t,ft(({scrollTop:w})=>w)),e),Tt(Ge(t,ft(({scrollHeight:w})=>w)),a),Tt(e,i),{deviation:r,fixedFooterHeight:u,fixedHeaderHeight:l,footerHeight:f,headerHeight:o,horizontalDirection:x,scrollBy:g,scrollContainerState:t,scrollHeight:a,scrollingInProgress:v,scrollTo:h,scrollTop:e,skipAnimationFrameInResizeObserver:b,smoothScrollTargetReached:n,statefulScrollTop:i,viewportHeight:s}},[],{singleton:!0}),Ix={lvl:0};function Yce(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const s=[];for(let a=1;a<r;a++){const{index:o,value:l}=e(t[a]);s.push({end:o-1,start:n,value:i}),n=o,i=l}return s.push({end:1/0,start:n,value:i}),s}function Tn(t){return t===Ix}function Ox(t,e){if(!Tn(t))return e===t.k?t.v:e<t.k?Ox(t.l,e):Ox(t.r,e)}function _c(t,e,r="k"){if(Tn(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=_c(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return _c(t.l,e,r)}function Fo(t,e,r){return Tn(t)?Jce(e,r,1):e===t.k?us(t,{k:e,v:r}):e<t.k?vK(us(t,{l:Fo(t.l,e,r)})):vK(us(t,{r:Fo(t.r,e,r)}))}function fg(){return Ix}function hg(t,e,r){if(Tn(t))return[];const n=_c(t,e)[0];return Xnt(o6(t,n,r))}function a6(t,e){if(Tn(t))return Ix;const{k:r,l:n,r:i}=t;if(e===r){if(Tn(n))return i;if(Tn(i))return n;{const[s,a]=Qce(n);return N2(us(t,{k:s,l:Xce(n),v:a}))}}else return e<r?N2(us(t,{l:a6(n,e)})):N2(us(t,{r:a6(i,e)}))}function _0(t){return Tn(t)?[]:[..._0(t.l),{k:t.k,v:t.v},..._0(t.r)]}function o6(t,e,r){if(Tn(t))return[];const{k:n,l:i,r:s,v:a}=t;let o=[];return n>e&&(o=o.concat(o6(i,e,r))),n>=e&&n<=r&&o.push({k:n,v:a}),n<=r&&(o=o.concat(o6(s,e,r))),o}function N2(t){const{l:e,lvl:r,r:n}=t;if(n.lvl>=r-1&&e.lvl>=r-1)return t;if(r>n.lvl+1){if(aI(e))return Zce(us(t,{lvl:r-1}));if(!Tn(e)&&!Tn(e.r))return us(e.r,{l:us(e,{r:e.r.l}),lvl:r,r:us(t,{l:e.r.r,lvl:r-1})});throw new Error("Unexpected empty nodes")}else{if(aI(t))return l6(us(t,{lvl:r-1}));if(!Tn(n)&&!Tn(n.l)){const i=n.l,s=aI(i)?n.lvl-1:n.lvl;return us(i,{l:us(t,{lvl:r-1,r:i.l}),lvl:i.lvl+1,r:l6(us(n,{l:i.r,lvl:s}))})}else throw new Error("Unexpected empty nodes")}}function us(t,e){return Jce(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Xce(t){return Tn(t.r)?t.l:N2(us(t,{r:Xce(t.r)}))}function aI(t){return Tn(t)||t.lvl>t.r.lvl}function Qce(t){return Tn(t.r)?[t.k,t.v]:Qce(t.r)}function Jce(t,e,r,n=Ix,i=Ix){return{k:t,l:n,lvl:r,r:i,v:e}}function vK(t){return l6(Zce(t))}function Zce(t){const{l:e}=t;return!Tn(e)&&e.lvl===t.lvl?us(e,{r:us(t,{l:e.r})}):t}function l6(t){const{lvl:e,r}=t;return!Tn(r)&&!Tn(r.r)&&r.lvl===e&&r.r.lvl===e?us(r,{l:us(t,{r:r.l}),lvl:e+1}):t}function Xnt(t){return Yce(t,({k:e,v:r})=>({index:e,value:r}))}function eue(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}function Rx(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}const WD=Mr(()=>({recalcInProgress:Ze(!1)}),[],{singleton:!0});function tue(t,e,r){return t[KT(t,e,r)]}function KT(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const s=Math.floor((n+i)/2),a=t[s],o=r(a,e);if(o===0)return s;if(o===-1){if(i-n<2)return s-1;i=s-1}else{if(i===n)return s;n=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function Qnt(t,e,r,n){const i=KT(t,e,n),s=KT(t,r,n,i);return t.slice(i,s+1)}function lh(t,e){return Math.round(t.getBoundingClientRect()[e])}function aA(t){return!Tn(t.groupOffsetTree)}function GD({index:t},e){return e===t?0:e<t?-1:1}function Jnt(){return{groupIndices:[],groupOffsetTree:fg(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:fg()}}function Znt(t,e){let r=Tn(t)?0:1/0;for(const n of e){const{endIndex:i,size:s,startIndex:a}=n;if(r=Math.min(r,a),Tn(t)){t=Fo(t,0,s);continue}const o=hg(t,a-1,i+1);if(o.some(ait(n)))continue;let l=!1,u=!1;for(const{end:f,start:h,value:g}of o)l?(i>=h||s===g)&&(t=a6(t,h)):(u=g!==s,l=!0),f>i&&i>=h&&g!==s&&(t=Fo(t,i+1,g));u&&(t=Fo(t,a,s))}return[t,r]}function eit(t){return typeof t.groupIndex<"u"}function tit({offset:t},e){return e===t?0:e<t?-1:1}function Px(t,e,r){if(e.length===0)return 0;const{index:n,offset:i,size:s}=tue(e,t,GD),a=t-n,o=s*a+(a-1)*r+i;return o>0?o+r:o}function rue(t,e){if(!aA(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function nue(t,e,r){if(eit(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=rue(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function rit(t,e,r,n=0){return n>0&&(e=Math.max(e,tue(t,n,GD).offset)),Yce(Qnt(t,e,r,tit),sit)}function nit(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,mo.DEBUG);const s=t.sizeTree;let a=s,o=0;if(r.length>0&&Tn(s)&&e.length===2){const g=e[0].size,v=e[1].size;a=r.reduce((x,b)=>Fo(Fo(x,b,g),b+1,v),a)}else[a,o]=Znt(a,e);if(a===s)return t;const{lastIndex:l,lastOffset:u,lastSize:f,offsetTree:h}=c6(t.offsetTree,o,a,i);return{groupIndices:r,groupOffsetTree:r.reduce((g,v)=>Fo(g,v,Px(v,h,i)),fg()),lastIndex:l,lastOffset:u,lastSize:f,offsetTree:h,sizeTree:a}}function iit(t){return _0(t).map(({k:e,v:r},n,i)=>{const s=i[n+1];return{endIndex:s?s.k-1:1/0,size:r,startIndex:e}})}function yK(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function c6(t,e,r,n){let i=t,s=0,a=0,o=0,l=0;if(e!==0){l=KT(i,e-1,GD),o=i[l].offset;const u=_c(r,e-1);s=u[0],a=u[1],i.length&&i[l].size===_c(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:f}of hg(r,e,1/0)){const h=u-s,g=h*a+o+h*n;i.push({index:u,offset:g,size:f}),s=u,o=g,a=f}return{lastIndex:s,lastOffset:o,lastSize:a,offsetTree:i}}function sit(t){return{index:t.index,value:t}}function ait(t){const{endIndex:e,size:r,startIndex:n}=t;return i=>i.start===n&&(i.end===e||i.end===1/0)&&i.value===r}const oit={offsetHeight:"height",offsetWidth:"width"},gu=Mr(([{log:t},{recalcInProgress:e}])=>{const r=Er(),n=Er(),i=Ta(n,0),s=Er(),a=Er(),o=Ze(0),l=Ze([]),u=Ze(void 0),f=Ze(void 0),h=Ze(void 0),g=Ze(void 0),v=Ze((S,I)=>lh(S,oit[I])),x=Ze(void 0),b=Ze(0),w=Jnt(),E=Ta(Ge(r,ar(l,t,b),Xc(nit,w),Vn()),w),A=Ta(Ge(l,Vn(),Xc((S,I)=>({current:I,prev:S.current}),{current:[],prev:[]}),ft(({prev:S})=>S)),[]);Tt(Ge(l,Bt(S=>S.length>0),ar(E,b),ft(([S,I,O])=>{const D=S.reduce((M,F,U)=>Fo(M,F,Px(F,I.offsetTree,O)||U),fg());return{...I,groupIndices:S,groupOffsetTree:D}})),E),Tt(Ge(n,ar(E),Bt(([S,{lastIndex:I}])=>S<I),ft(([S,{lastIndex:I,lastSize:O}])=>[{endIndex:I,size:O,startIndex:S}])),r),Tt(u,f);const k=Ta(Ge(u,ft(S=>S===void 0)),!0);Tt(Ge(f,Bt(S=>S!==void 0&&Tn(Xn(E).sizeTree)),ft(S=>{const I=Xn(h),O=Xn(l).length>0;return I?O?[{endIndex:0,size:I,startIndex:0},{endIndex:1,size:S,startIndex:1}]:[]:[{endIndex:0,size:S,startIndex:0}]})),r),Tt(Ge(g,Bt(S=>S!==void 0&&S.length>0&&Tn(Xn(E).sizeTree)),ft(S=>{const I=[];let O=S[0],D=0;for(let M=1;M<S.length;M++){const F=S[M];F!==O&&(I.push({endIndex:M-1,size:O,startIndex:D}),O=F,D=M)}return I.push({endIndex:S.length-1,size:O,startIndex:D}),I})),r),Tt(Ge(l,ar(h,f),Bt(([,S,I])=>S!==void 0&&I!==void 0),ft(([S,I,O])=>{const D=[];for(let M=0;M<S.length;M++){const F=S[M],U=S[M+1];D.push({startIndex:F,endIndex:F,size:I}),U!==void 0&&D.push({startIndex:F+1,endIndex:U-1,size:O})}return D})),r);const R=Ho(Ge(r,ar(E),Xc(({sizes:S},[I,O])=>({changed:O!==S,sizes:O}),{changed:!1,sizes:w}),ft(S=>S.changed)));Gr(Ge(o,Xc((S,I)=>({diff:S.prev-I,prev:I}),{diff:0,prev:0}),ft(S=>S.diff)),S=>{const{groupIndices:I}=Xn(E);if(S>0)sr(e,!0),sr(s,S+yK(S,I));else if(S<0){const O=Xn(A);O.length>0&&(S-=yK(-S,O)),sr(a,S)}}),Gr(Ge(o,ar(t)),([S,I])=>{S<0&&I("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:o},mo.ERROR)});const j=Ho(s);Tt(Ge(s,ar(E),ft(([S,I])=>{const O=I.groupIndices.length>0,D=[],M=I.lastSize;if(O){const F=Ox(I.sizeTree,0);let U=0,le=0;for(;U<S;){const J=I.groupIndices[le],Q=I.groupIndices.length===le+1?1/0:I.groupIndices[le+1]-J-1;D.push({endIndex:J,size:F,startIndex:J}),D.push({endIndex:J+1+Q-1,size:M,startIndex:J+1}),le++,U+=Q+1}const de=_0(I.sizeTree);return U!==S&&de.shift(),de.reduce((J,{k:Q,v:fe})=>{let ee=J.ranges;return J.prevSize!==0&&(ee=[...J.ranges,{endIndex:Q+S-1,size:J.prevSize,startIndex:J.prevIndex}]),{prevIndex:Q+S,prevSize:fe,ranges:ee}},{prevIndex:S,prevSize:0,ranges:D}).ranges}return _0(I.sizeTree).reduce((F,{k:U,v:le})=>({prevIndex:U+S,prevSize:le,ranges:[...F.ranges,{endIndex:U+S-1,size:F.prevSize,startIndex:F.prevIndex}]}),{prevIndex:0,prevSize:M,ranges:[]}).ranges})),r);const P=Ho(Ge(a,ar(E,b),ft(([S,{offsetTree:I},O])=>{const D=-S;return Px(D,I,O)})));return Tt(Ge(a,ar(E,b),ft(([S,I,O])=>{if(I.groupIndices.length>0){if(Tn(I.sizeTree))return I;let D=fg();const M=Xn(A);let F=0,U=0,le=0;for(;F<-S;){le=M[U];const de=M[U+1]-le-1;U++,F+=de+1}if(D=_0(I.sizeTree).reduce((de,{k:J,v:Q})=>Fo(de,Math.max(0,J+S),Q),D),F!==-S){const de=Ox(I.sizeTree,le);D=Fo(D,0,de);const J=_c(I.sizeTree,-S+1)[1];D=Fo(D,1,J)}return{...I,sizeTree:D,...c6(I.offsetTree,0,D,O)}}else{const D=_0(I.sizeTree).reduce((M,{k:F,v:U})=>Fo(M,Math.max(0,F+S),U),fg());return{...I,sizeTree:D,...c6(I.offsetTree,0,D,O)}}})),E),{beforeUnshiftWith:j,data:x,defaultItemSize:f,firstItemIndex:o,fixedItemSize:u,fixedGroupSize:h,gap:b,groupIndices:l,heightEstimates:g,itemSize:v,listRefresh:R,shiftWith:a,shiftWithOffset:P,sizeRanges:r,sizes:E,statefulTotalCount:i,totalCount:n,trackItemSizes:k,unshiftWith:s}},qn(Eh,WD),{singleton:!0});function lit(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{groupIndices:[],totalCount:0})}const iue=Mr(([{groupIndices:t,sizes:e,totalCount:r},{headerHeight:n,scrollTop:i}])=>{const s=Er(),a=Er(),o=Ho(Ge(s,ft(lit)));return Tt(Ge(o,ft(l=>l.totalCount)),r),Tt(Ge(o,ft(l=>l.groupIndices)),t),Tt(Ge(es(i,e,n),Bt(([l,u])=>aA(u)),ft(([l,u,f])=>_c(u.groupOffsetTree,Math.max(l-f,0),"v")[0]),Vn(),ft(l=>[l])),a),{groupCounts:s,topItemsIndexes:a}},qn(gu,Ga)),Th=Mr(([{log:t}])=>{const e=Ze(!1),r=Ho(Ge(e,Bt(n=>n),Vn()));return Gr(e,n=>{n&&Xn(t)("props updated",{},mo.DEBUG)}),{didMount:r,propsReady:e}},qn(Eh),{singleton:!0}),cit=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function sue(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!cit)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Vb=Mr(([{gap:t,listRefresh:e,sizes:r,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:s,footerHeight:a,headerHeight:o,scrollingInProgress:l,scrollTo:u,smoothScrollTargetReached:f,viewportHeight:h},{log:g}])=>{const v=Er(),x=Er(),b=Ze(0);let w=null,E=null,A=null;function k(){w&&(w(),w=null),A&&(A(),A=null),E&&(clearTimeout(E),E=null),sr(l,!1)}return Tt(Ge(v,ar(r,h,n,b,o,a,g),ar(t,s,i),ft(([[R,j,P,S,I,O,D,M],F,U,le])=>{const de=sue(R),{align:J,behavior:Q,offset:fe}=de,ee=S-1,ge=nue(de,j,ee);let q=Px(ge,j.offsetTree,F)+O;J==="end"?(q+=U+_c(j.sizeTree,ge)[1]-P+le,ge===ee&&(q+=D)):J==="center"?q+=(U+_c(j.sizeTree,ge)[1]-P+le)/2:q-=I,fe&&(q+=fe);const z=V=>{k(),V?(M("retrying to scroll to",{location:R},mo.DEBUG),sr(v,R)):(sr(x,!0),M("list did not change, scroll successful",{},mo.DEBUG))};if(k(),Q==="smooth"){let V=!1;A=Gr(e,W=>{V=V||W}),w=pc(f,()=>{z(V)})}else w=pc(Ge(e,uit(150)),z);return E=setTimeout(()=>{k()},1200),sr(l,!0),M("scrolling from index to",{behavior:Q,index:ge,top:q},mo.DEBUG),{behavior:Q,top:q}})),u),{scrollTargetReached:x,scrollToIndex:v,topListHeight:b}},qn(gu,Ga,Eh),{singleton:!0});function uit(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}function KD(t,e){t==0?e():requestAnimationFrame(()=>{KD(t-1,e)})}function YD(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const zb=Mr(([{defaultItemSize:t,listRefresh:e,sizes:r},{scrollTop:n},{scrollTargetReached:i,scrollToIndex:s},{didMount:a}])=>{const o=Ze(!0),l=Ze(0),u=Ze(!0);return Tt(Ge(a,ar(l),Bt(([f,h])=>!!h),qc(!1)),o),Tt(Ge(a,ar(l),Bt(([f,h])=>!!h),qc(!1)),u),Gr(Ge(es(e,a),ar(o,r,t,u),Bt(([[,f],h,{sizeTree:g},v,x])=>f&&(!Tn(g)||$D(v))&&!h&&!x),ar(l)),([,f])=>{pc(i,()=>{sr(u,!0)}),KD(4,()=>{pc(n,()=>{sr(o,!0)}),sr(s,f)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:l,scrolledToInitialItem:o}},qn(gu,Ga,Vb,Th),{singleton:!0});function aue(t,e){return Math.abs(t-e)<1.01}const jx="up",k1="down",dit="none",fit={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},hit=0,$b=Mr(([{footerHeight:t,headerHeight:e,scrollBy:r,scrollContainerState:n,scrollTop:i,viewportHeight:s}])=>{const a=Ze(!1),o=Ze(!0),l=Er(),u=Er(),f=Ze(4),h=Ze(hit),g=Ta(Ge(s6(Ge(Lt(i),am(1),qc(!0)),Ge(Lt(i),am(1),qc(!1),pK(100))),Vn()),!1),v=Ta(Ge(s6(Ge(r,qc(!0)),Ge(r,qc(!1),pK(200))),Vn()),!1);Tt(Ge(es(Lt(i),Lt(h)),ft(([A,k])=>A<=k),Vn()),o),Tt(Ge(o,Xu(50)),u);const x=Ho(Ge(es(n,Lt(s),Lt(e),Lt(t),Lt(f)),Xc((A,[{scrollHeight:k,scrollTop:R},j,P,S,I])=>{const O=R+j-k>-I,D={scrollHeight:k,scrollTop:R,viewportHeight:j};if(O){let F,U;return R>A.state.scrollTop?(F="SCROLLED_DOWN",U=A.state.scrollTop-R):(F="SIZE_DECREASED",U=A.state.scrollTop-R||A.scrollTopDelta),{atBottom:!0,atBottomBecause:F,scrollTopDelta:U,state:D}}let M;return D.scrollHeight>A.state.scrollHeight?M="SIZE_INCREASED":j<A.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":R<A.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:D}},fit),Vn((A,k)=>A&&A.atBottom===k.atBottom))),b=Ta(Ge(n,Xc((A,{scrollHeight:k,scrollTop:R,viewportHeight:j})=>{if(aue(A.scrollHeight,k))return{changed:!1,jump:0,scrollHeight:k,scrollTop:R};{const P=k-(R+j)<1;return A.scrollTop!==R&&P?{changed:!0,jump:A.scrollTop-R,scrollHeight:k,scrollTop:R}:{changed:!0,jump:0,scrollHeight:k,scrollTop:R}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Bt(A=>A.changed),ft(A=>A.jump)),0);Tt(Ge(x,ft(A=>A.atBottom)),a),Tt(Ge(a,Xu(50)),l);const w=Ze(k1);Tt(Ge(n,ft(({scrollTop:A})=>A),Vn(),Xc((A,k)=>Xn(v)?{direction:A.direction,prevScrollTop:k}:{direction:k<A.prevScrollTop?jx:k1,prevScrollTop:k},{direction:k1,prevScrollTop:0}),ft(A=>A.direction)),w),Tt(Ge(n,Xu(50),qc(dit)),w);const E=Ze(0);return Tt(Ge(g,Bt(A=>!A),qc(0)),E),Tt(Ge(i,Xu(100),ar(g),Bt(([A,k])=>!!k),Xc(([A,k],[R])=>[k,R],[0,0]),ft(([A,k])=>k-A)),E),{atBottomState:x,atBottomStateChange:l,atBottomThreshold:f,atTopStateChange:u,atTopThreshold:h,isAtBottom:a,isAtTop:o,isScrolling:g,lastJumpDueToItemResize:b,scrollDirection:w,scrollVelocity:E}},qn(Ga)),Dx="top",Mx="bottom",xK="none";function bK(t,e,r){return typeof t=="number"?r===jx&&e===Dx||r===k1&&e===Mx?t:0:r===jx?e===Dx?t.main:t.reverse:e===Mx?t.main:t.reverse}function wK(t,e){var r;return typeof t=="number"?t:(r=t[e])!=null?r:0}const XD=Mr(([{deviation:t,fixedHeaderHeight:e,headerHeight:r,scrollTop:n,viewportHeight:i}])=>{const s=Er(),a=Ze(0),o=Ze(0),l=Ze(0),u=Ta(Ge(es(Lt(n),Lt(i),Lt(r),Lt(s,Rx),Lt(l),Lt(a),Lt(e),Lt(t),Lt(o)),ft(([f,h,g,[v,x],b,w,E,A,k])=>{const R=f-A,j=w+E,P=Math.max(g-R,0);let S=xK;const I=wK(k,Dx),O=wK(k,Mx);return v-=A,v+=g+E,x+=g+E,x-=A,v>f+j-I&&(S=jx),x<f-P+h+O&&(S=k1),S!==xK?[Math.max(R-g-bK(b,Dx,S)-I,0),R-P-E+h+bK(b,Mx,S)+O]:null}),Bt(f=>f!=null),Vn(Rx)),[0,0]);return{increaseViewportBy:o,listBoundary:s,overscan:l,topListHeight:a,visibleRange:u}},qn(Ga),{singleton:!0});function mit(t,e,r){if(aA(e)){const n=rue(t,e);return[{index:_c(e.groupOffsetTree,n)[0],offset:0,size:0},{data:r==null?void 0:r[0],index:n,offset:0,size:0}]}return[{data:r==null?void 0:r[0],index:t,offset:0,size:0}]}const oI={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function I2(t,e,r,n,i,s){const{lastIndex:a,lastOffset:o,lastSize:l}=i;let u=0,f=0;if(t.length>0){u=t[0].offset;const b=t[t.length-1];f=b.offset+b.size}const h=r-a,g=o+h*l+(h-1)*n,v=u,x=g-f;return{bottom:f,firstItemIndex:s,items:_K(t,i,s),offsetBottom:x,offsetTop:u,top:v,topItems:_K(e,i,s),topListHeight:e.reduce((b,w)=>w.size+b,0),totalCount:r}}function oue(t,e,r,n,i,s){let a=0;if(r.groupIndices.length>0)for(const f of r.groupIndices){if(f-a>=t)break;a++}const o=t+a,l=YD(e,o),u=Array.from({length:o}).map((f,h)=>({data:s[h+l],index:h+l,offset:0,size:0}));return I2(u,[],o,i,r,n)}function _K(t,e,r){if(t.length===0)return[];if(!aA(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,s=[],a=hg(e.groupOffsetTree,n,i);let o,l=0;for(const u of t){(!o||o.end<u.index)&&(o=a.shift(),l=e.groupIndices.indexOf(o.start));let f;u.index===o.start?f={index:l,type:"group"}:f={groupIndex:l,index:u.index-(l+1)+r},s.push({...f,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return s}function EK(t,e){var r;return t===void 0?0:typeof t=="number"?t:(r=t[e])!=null?r:0}const Nm=Mr(([{data:t,firstItemIndex:e,gap:r,sizes:n,totalCount:i},s,{listBoundary:a,topListHeight:o,visibleRange:l},{initialTopMostItemIndex:u,scrolledToInitialItem:f},{topListHeight:h},g,{didMount:v},{recalcInProgress:x}])=>{const b=Ze([]),w=Ze(0),E=Er(),A=Ze(0);Tt(s.topItemsIndexes,b);const k=Ta(Ge(es(v,x,Lt(l,Rx),Lt(i),Lt(n),Lt(u),f,Lt(b),Lt(e),Lt(r),Lt(A),t),Bt(([S,I,,O,,,,,,,,D])=>{const M=D&&D.length!==O;return S&&!I&&!M}),ft(([,,[S,I],O,D,M,F,U,le,de,J,Q])=>{var fe,ee,ge,q;const z=D,{offsetTree:V,sizeTree:W}=z,Y=Xn(w);if(O===0)return{...oI,totalCount:O};if(S===0&&I===0)return Y===0?{...oI,totalCount:O}:oue(Y,M,D,le,de,Q||[]);if(Tn(W))return Y>0?null:I2(mit(YD(M,O),z,Q),[],O,de,z,le);const ue=[];if(U.length>0){const Je=U[0],Oe=U[U.length-1];let rt=0;for(const Xe of hg(W,Je,Oe)){const je=Xe.value,at=Math.max(Xe.start,Je),wt=Math.min(Xe.end,Oe);for(let Ot=at;Ot<=wt;Ot++)ue.push({data:Q==null?void 0:Q[Ot],index:Ot,offset:rt,size:je}),rt+=je}}if(!F)return I2([],ue,O,de,z,le);const me=U.length>0?U[U.length-1]+1:0,ce=rit(V,S,I,me);if(ce.length===0)return null;const ie=O-1,ve=sA([],Je=>{for(const Oe of ce){const rt=Oe.value;let Xe=rt.offset,je=Oe.start;const at=rt.size;if(rt.offset<S){je+=Math.floor((S-rt.offset+de)/(at+de));const Ot=je-Oe.start;Xe+=Ot*at+Ot*de}je<me&&(Xe+=(me-je)*at,je=me);const wt=Math.min(Oe.end,ie);for(let Ot=je;Ot<=wt&&!(Xe>=I);Ot++)Je.push({data:Q==null?void 0:Q[Ot],index:Ot,offset:Xe,size:at}),Xe+=at+de}}),Ue=EK(J,Dx),G=EK(J,Mx);if(ve.length>0&&(Ue>0||G>0)){const Je=ve[0],Oe=ve[ve.length-1];if(Ue>0&&Je.index>me){const rt=Math.min(Ue,Je.index-me),Xe=[];let je=Je.offset;for(let at=Je.index-1;at>=Je.index-rt;at--){const wt=(ee=(fe=hg(W,at,at)[0])==null?void 0:fe.value)!=null?ee:Je.size;je-=wt+de,Xe.unshift({data:Q==null?void 0:Q[at],index:at,offset:je,size:wt})}ve.unshift(...Xe)}if(G>0&&Oe.index<ie){const rt=Math.min(G,ie-Oe.index);let Xe=Oe.offset+Oe.size+de;for(let je=Oe.index+1;je<=Oe.index+rt;je++){const at=(q=(ge=hg(W,je,je)[0])==null?void 0:ge.value)!=null?q:Oe.size;ve.push({data:Q==null?void 0:Q[je],index:je,offset:Xe,size:at}),Xe+=at+de}}}return I2(ve,ue,O,de,z,le)}),Bt(S=>S!==null),Vn()),oI);Tt(Ge(t,Bt($D),ft(S=>S==null?void 0:S.length)),i),Tt(Ge(k,ft(S=>S.topListHeight)),h),Tt(h,o),Tt(Ge(k,ft(S=>[S.top,S.bottom])),a),Tt(Ge(k,ft(S=>S.items)),E);const R=Ho(Ge(k,Bt(({items:S})=>S.length>0),ar(i,t),Bt(([{items:S},I])=>S[S.length-1].originalIndex===I-1),ft(([,S,I])=>[S-1,I]),Vn(Rx),ft(([S])=>S))),j=Ho(Ge(k,Xu(200),Bt(({items:S,topItems:I})=>S.length>0&&S[0].originalIndex===I.length),ft(({items:S})=>S[0].index),Vn())),P=Ho(Ge(k,Bt(({items:S})=>S.length>0),ft(({items:S})=>{let I=0,O=S.length-1;for(;S[I].type==="group"&&I<O;)I++;for(;S[O].type==="group"&&O>I;)O--;return{endIndex:S[O].index,startIndex:S[I].index}}),Vn(eue)));return{endReached:R,initialItemCount:w,itemsRendered:E,listState:k,minOverscanItemCount:A,rangeChanged:P,startReached:j,topItemsIndexes:b,...g}},qn(gu,iue,XD,zb,Vb,$b,Th,WD),{singleton:!0}),lue=Mr(([{fixedFooterHeight:t,fixedHeaderHeight:e,footerHeight:r,headerHeight:n},{listState:i}])=>{const s=Er(),a=Ta(Ge(es(r,t,n,e,i),ft(([o,l,u,f,h])=>o+l+u+f+h.offsetBottom+h.bottom)),0);return Tt(Lt(a),s),{totalListHeight:a,totalListHeightChanged:s}},qn(Ga,Nm),{singleton:!0}),pit=Mr(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Ze(!1),n=Ta(Ge(es(r,t,e),Bt(([i])=>i),ft(([,i,s])=>Math.max(0,i-s)),Xu(0),Vn()),0);return{alignToBottom:r,paddingTopAddition:n}},qn(Ga,lue),{singleton:!0}),cue=Mr(()=>({context:Ze(null)})),git=({itemBottom:t,itemTop:e,locationParams:{align:r,behavior:n,...i},viewportBottom:s,viewportTop:a})=>e<a?{...i,align:r??"start",behavior:n}:t>s?{...i,align:r??"end",behavior:n}:null,uue=Mr(([{gap:t,sizes:e,totalCount:r},{fixedFooterHeight:n,fixedHeaderHeight:i,headerHeight:s,scrollingInProgress:a,scrollTop:o,viewportHeight:l},{scrollToIndex:u}])=>{const f=Er();return Tt(Ge(f,ar(e,l,r,s,i,n,o),ar(t),ft(([[h,g,v,x,b,w,E,A],k])=>{const{align:R,behavior:j,calculateViewLocation:P=git,done:S,...I}=h,O=nue(h,g,x-1),D=Px(O,g.offsetTree,k)+b+w,M=D+_c(g.sizeTree,O)[1],F=A+w,U=A+v-E,le=P({itemBottom:M,itemTop:D,locationParams:{align:R,behavior:j,...I},viewportBottom:U,viewportTop:F});return le?S&&pc(Ge(a,Bt(de=>!de),am(Xn(a)?1:2)),S):S&&S(),le}),Bt(h=>h!==null)),u),{scrollIntoView:f}},qn(gu,Ga,Vb,Nm,Eh),{singleton:!0});function TK(t){return t?t==="smooth"?"smooth":"auto":!1}const vit=(t,e)=>typeof t=="function"?TK(t(e)):e&&TK(t),yit=Mr(([{listRefresh:t,totalCount:e,fixedItemSize:r,data:n},{atBottomState:i,isAtBottom:s},{scrollToIndex:a},{scrolledToInitialItem:o},{didMount:l,propsReady:u},{log:f},{scrollingInProgress:h},{context:g},{scrollIntoView:v}])=>{const x=Ze(!1),b=Er();let w=null;function E(j){sr(a,{align:"end",behavior:j,index:"LAST"})}Gr(Ge(es(Ge(Lt(e),am(1)),l),ar(Lt(x),s,o,h),ft(([[j,P],S,I,O,D])=>{let M=P&&O,F="auto";return M&&(F=vit(S,I||D),M=M&&!!F),{followOutputBehavior:F,shouldFollow:M,totalCount:j}}),Bt(({shouldFollow:j})=>j)),({followOutputBehavior:j,totalCount:P})=>{w&&(w(),w=null),Xn(r)?requestAnimationFrame(()=>{Xn(f)("following output to ",{totalCount:P},mo.DEBUG),E(j)}):w=pc(t,()=>{Xn(f)("following output to ",{totalCount:P},mo.DEBUG),E(j),w=null})});function A(j){const P=pc(i,S=>{j&&!S.atBottom&&S.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(Xn(f)("scrolling to bottom due to increased size",{},mo.DEBUG),E("auto"))});setTimeout(P,100)}Gr(Ge(es(Lt(x),e,u),Bt(([j,,P])=>j&&P),Xc(({value:j},[,P])=>({refreshed:j===P,value:P}),{refreshed:!1,value:0}),Bt(({refreshed:j})=>j),ar(x,e)),([,j])=>{Xn(o)&&A(j!==!1)}),Gr(b,()=>{A(Xn(x)!==!1)}),Gr(es(Lt(x),i),([j,P])=>{j&&!P.atBottom&&P.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&E("auto")});const k=Ze(null),R=Er();return Tt(s6(Ge(Lt(n),ft(j=>{var P;return(P=j==null?void 0:j.length)!=null?P:0})),Ge(Lt(e))),R),Gr(Ge(es(Ge(R,am(1)),l),ar(Lt(k),o,h,g),ft(([[j,P],S,I,O,D])=>P&&I&&(S==null?void 0:S({context:D,totalCount:j,scrollingInProgress:O}))),Bt(j=>!!j),Xu(0)),j=>{w&&(w(),w=null),Xn(r)?requestAnimationFrame(()=>{Xn(f)("scrolling into view",{}),sr(v,j)}):w=pc(t,()=>{Xn(f)("scrolling into view",{}),sr(v,j),w=null})}),{autoscrollToBottom:b,followOutput:x,scrollIntoViewOnChange:k}},qn(gu,$b,Vb,zb,Th,Eh,Ga,cue,uue)),xit=Mr(([{data:t,firstItemIndex:e,gap:r,sizes:n},{initialTopMostItemIndex:i},{initialItemCount:s,listState:a},{didMount:o}])=>(Tt(Ge(o,ar(s),Bt(([,l])=>l!==0),ar(i,n,e,r,t),ft(([[,l],u,f,h,g,v=[]])=>oue(l,u,f,h,g,v))),a),{}),qn(gu,zb,Nm,Th),{singleton:!0}),bit=Mr(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Ze(0);return Gr(Ge(t,ar(n),Bt(([,i])=>i!==0),ft(([,i])=>({top:i}))),i=>{pc(Ge(r,am(1),Bt(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{sr(e,i)})})}),{initialScrollTop:n}},qn(Th,Ga,Nm),{singleton:!0}),due=Mr(([{scrollVelocity:t}])=>{const e=Ze(!1),r=Er(),n=Ze(!1);return Tt(Ge(t,ar(n,e,r),Bt(([i,s])=>!!s),ft(([i,s,a,o])=>{const{enter:l,exit:u}=s;if(a){if(u(i,o))return!1}else if(l(i,o))return!0;return a}),Vn()),e),Gr(Ge(es(e,t,r),ar(n)),([[i,s,a],o])=>{i&&o&&o.change&&o.change(s,a)}),{isSeeking:e,scrollSeekConfiguration:n,scrollSeekRangeChanged:r,scrollVelocity:t}},qn($b),{singleton:!0}),QD=Mr(([{scrollContainerState:t,scrollTo:e}])=>{const r=Er(),n=Er(),i=Er(),s=Ze(!1),a=Ze(void 0);return Tt(Ge(es(r,n),ft(([{scrollHeight:o,scrollTop:l,viewportHeight:u},{offsetTop:f}])=>({scrollHeight:o,scrollTop:Math.max(0,l-f),viewportHeight:u}))),t),Tt(Ge(e,ar(n),ft(([o,{offsetTop:l}])=>({...o,top:o.top+l}))),i),{customScrollParent:a,useWindowScroll:s,windowScrollContainerState:r,windowScrollTo:i,windowViewportRect:n}},qn(Ga)),wit=Mr(([{sizeRanges:t,sizes:e},{headerHeight:r,scrollTop:n},{initialTopMostItemIndex:i},{didMount:s},{useWindowScroll:a,windowScrollContainerState:o,windowViewportRect:l}])=>{const u=Er(),f=Ze(void 0),h=Ze(null),g=Ze(null);return Tt(o,h),Tt(l,g),Gr(Ge(u,ar(e,n,a,h,g,r)),([v,x,b,w,E,A,k])=>{const R=iit(x.sizeTree);w&&E!==null&&A!==null&&(b=E.scrollTop-A.offsetTop),b-=k,v({ranges:R,scrollTop:b})}),Tt(Ge(f,Bt($D),ft(_it)),i),Tt(Ge(s,ar(f),Bt(([,v])=>v!==void 0),Vn(),ft(([,v])=>v.ranges)),t),{getState:u,restoreStateFrom:f}},qn(gu,Ga,zb,Th,QD));function _it(t){return{align:"start",index:0,offset:t.scrollTop}}const Eit=Mr(([{topItemsIndexes:t}])=>{const e=Ze(0);return Tt(Ge(e,Bt(r=>r>=0),ft(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},qn(Nm));function fue(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const Tit=fue(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Sit=Mr(([{deviation:t,scrollBy:e,scrollingInProgress:r,scrollTop:n},{isAtBottom:i,isScrolling:s,lastJumpDueToItemResize:a,scrollDirection:o},{listState:l},{beforeUnshiftWith:u,gap:f,shiftWithOffset:h,sizes:g},{log:v},{recalcInProgress:x}])=>{const b=Ho(Ge(l,ar(a),Xc(([,E,A,k],[{bottom:R,items:j,offsetBottom:P,totalCount:S},I])=>{const O=R+P;let D=0;return A===S&&E.length>0&&j.length>0&&(j[0].originalIndex===0&&E[0].originalIndex===0||(D=O-k,D!==0&&(D+=I))),[D,j,S,O]},[0,[],0,0]),Bt(([E])=>E!==0),ar(n,o,r,i,v,x),Bt(([,E,A,k,,,R])=>!R&&!k&&E!==0&&A===jx),ft(([[E],,,,,A])=>(A("Upward scrolling compensation",{amount:E},mo.DEBUG),E))));function w(E){E>0?(sr(e,{behavior:"auto",top:-E}),sr(t,0)):(sr(t,0),sr(e,{behavior:"auto",top:-E}))}return Gr(Ge(b,ar(t,s)),([E,A,k])=>{k&&Tit()?sr(t,A-E):w(-E)}),Gr(Ge(es(Ta(s,!1),t,x),Bt(([E,A,k])=>!E&&!k&&A!==0),ft(([E,A])=>A),Xu(1)),w),Tt(Ge(h,ft(E=>({top:-E}))),e),Gr(Ge(u,ar(g,f),ft(([E,{groupIndices:A,lastSize:k,sizeTree:R},j])=>{function P(S){return S*(k+j)}if(A.length===0)return P(E);{let S=0;const I=Ox(R,0);let O=0,D=0;for(;O<E;){O++,S+=I;let M=A.length===D+1?1/0:A[D+1]-A[D]-1;O+M>E&&(S-=I,M=E-O+1),O+=M,S+=P(M),D++}return S}})),E=>{sr(t,E),requestAnimationFrame(()=>{sr(e,{top:E}),requestAnimationFrame(()=>{sr(t,0),sr(x,!1)})})}),{deviation:t}},qn(Ga,$b,Nm,gu,Eh,WD)),Ait=Mr(([t,e,r,n,i,s,a,o,l,u,f])=>({...t,...e,...r,...n,...i,...s,...a,...o,...l,...u,...f}),qn(XD,xit,Th,due,lue,bit,pit,QD,uue,Eh,cue)),hue=Mr(([{data:t,defaultItemSize:e,firstItemIndex:r,fixedItemSize:n,fixedGroupSize:i,gap:s,groupIndices:a,heightEstimates:o,itemSize:l,sizeRanges:u,sizes:f,statefulTotalCount:h,totalCount:g,trackItemSizes:v},{initialItemFinalLocationReached:x,initialTopMostItemIndex:b,scrolledToInitialItem:w},E,A,k,R,{scrollToIndex:j},P,{topItemCount:S},{groupCounts:I},O])=>{const{listState:D,minOverscanItemCount:M,topItemsIndexes:F,rangeChanged:U,...le}=R;return Tt(U,O.scrollSeekRangeChanged),Tt(Ge(O.windowViewportRect,ft(de=>de.visibleHeight)),E.viewportHeight),{data:t,defaultItemHeight:e,firstItemIndex:r,fixedItemHeight:n,fixedGroupHeight:i,gap:s,groupCounts:I,heightEstimates:o,initialItemFinalLocationReached:x,initialTopMostItemIndex:b,scrolledToInitialItem:w,sizeRanges:u,topItemCount:S,topItemsIndexes:F,totalCount:g,...k,groupIndices:a,itemSize:l,listState:D,minOverscanItemCount:M,scrollToIndex:j,statefulTotalCount:h,trackItemSizes:v,rangeChanged:U,...le,...O,...E,sizes:f,...A}},qn(gu,zb,Ga,wit,yit,Nm,Vb,Sit,Eit,iue,Ait));function kit(t,e){const r={},n={};let i=0;const s=t.length;for(;i<s;)n[t[i]]=1,i+=1;for(const a in e)Object.hasOwn(n,a)||(r[a]=e[a]);return r}const s2=typeof document<"u"?ke.useLayoutEffect:ke.useEffect;function mue(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),a=Object.keys(e.events||{}),o=ke.createContext({});function l(w,E){w.propsReady&&sr(w.propsReady,!1);for(const A of n){const k=w[e.required[A]];sr(k,E[A])}for(const A of i)if(A in E){const k=w[e.optional[A]];sr(k,E[A])}w.propsReady&&sr(w.propsReady,!0)}function u(w){return s.reduce((E,A)=>(E[A]=k=>{const R=w[e.methods[A]];sr(R,k)},E),{})}function f(w){return a.reduce((E,A)=>(E[A]=$nt(w[e.events[A]]),E),{})}const h=ke.forwardRef((w,E)=>{const{children:A,...k}=w,[R]=ke.useState(()=>sA(qnt(t),S=>{l(S,k)})),[j]=ke.useState(mK(f,R));s2(()=>{for(const S of a)S in k&&Gr(j[S],k[S]);return()=>{Object.values(j).map(HD)}},[k,j,R]),s2(()=>{l(R,k)}),ke.useImperativeHandle(E,hK(u(R)));const P=r;return m.jsx(o.Provider,{value:R,children:r?m.jsx(P,{...kit([...n,...i,...a],k),children:A}):A})}),g=w=>{const E=ke.useContext(o);return ke.useCallback(A=>{sr(E[w],A)},[E,w])},v=w=>{const E=ke.useContext(o)[w],A=ke.useCallback(k=>Gr(E,k),[E]);return ke.useSyncExternalStore(A,()=>Xn(E),()=>Xn(E))},x=w=>{const E=ke.useContext(o)[w],[A,k]=ke.useState(mK(Xn,E));return s2(()=>Gr(E,R=>{R!==A&&k(hK(R))}),[E,A]),A},b=ke.version.startsWith("18")?v:x;return{Component:h,useEmitter:(w,E)=>{const A=ke.useContext(o)[w];s2(()=>Gr(A,E),[E,A])},useEmitterValue:b,usePublisher:g}}const pue=ke.createContext(void 0),gue=ke.createContext(void 0),vue=typeof document<"u"?ke.useLayoutEffect:ke.useEffect;function lI(t){return"self"in t}function Cit(t){return"body"in t}function yue(t,e,r,n=Lv,i,s){const a=ke.useRef(null),o=ke.useRef(null),l=ke.useRef(null),u=ke.useCallback(g=>{let v,x,b;const w=g.target;if(Cit(w)||lI(w)){const A=lI(w)?w:w.defaultView;b=s?A.scrollX:A.scrollY,v=s?A.document.documentElement.scrollWidth:A.document.documentElement.scrollHeight,x=s?A.innerWidth:A.innerHeight}else b=s?w.scrollLeft:w.scrollTop,v=s?w.scrollWidth:w.scrollHeight,x=s?w.offsetWidth:w.offsetHeight;const E=()=>{t({scrollHeight:v,scrollTop:Math.max(b,0),viewportHeight:x})};g.suppressFlushSync?E():AX.flushSync(E),o.current!==null&&(b===o.current||b<=0||b===v-x)&&(o.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e,s]);ke.useEffect(()=>{const g=i||a.current;return n(i||a.current),u({suppressFlushSync:!0,target:g}),g.addEventListener("scroll",u,{passive:!0}),()=>{n(null),g.removeEventListener("scroll",u)}},[a,u,r,n,i]);function f(g){const v=a.current;if(!v||(s?"offsetWidth"in v&&v.offsetWidth===0:"offsetHeight"in v&&v.offsetHeight===0))return;const x=g.behavior==="smooth";let b,w,E;lI(v)?(w=Math.max(lh(v.document.documentElement,s?"width":"height"),s?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight),b=s?v.innerWidth:v.innerHeight,E=s?window.scrollX:window.scrollY):(w=v[s?"scrollWidth":"scrollHeight"],b=lh(v,s?"width":"height"),E=v[s?"scrollLeft":"scrollTop"]);const A=w-b;if(g.top=Math.ceil(Math.max(Math.min(A,g.top),0)),aue(b,w)||g.top===E){t({scrollHeight:w,scrollTop:E,viewportHeight:b}),x&&e(!0);return}x?(o.current=g.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,o.current=null,e(!0)},1e3)):o.current=null,s&&(g={behavior:g.behavior,left:g.top}),v.scrollTo(g)}function h(g){s&&(g={behavior:g.behavior,left:g.top}),a.current.scrollBy(g)}return{scrollByCallback:h,scrollerRef:a,scrollToCallback:f}}const cI="-webkit-sticky",SK="sticky",JD=fue(()=>{if(typeof document>"u")return SK;const t=document.createElement("div");return t.style.position=cI,t.style.position===cI?cI:SK});function ZD(t){return t}const Nit=Mr(()=>{const t=Ze(o=>`Item ${o}`),e=Ze(o=>`Group ${o}`),r=Ze({}),n=Ze(ZD),i=Ze("div"),s=Ze(Lv),a=(o,l=null)=>Ta(Ge(r,ft(u=>u[o]),Vn()),l);return{components:r,computeItemKey:n,EmptyPlaceholder:a("EmptyPlaceholder"),FooterComponent:a("Footer"),GroupComponent:a("Group","div"),groupContent:e,HeaderComponent:a("Header"),HeaderFooterTag:i,ItemComponent:a("Item","div"),itemContent:t,ListComponent:a("List","div"),ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TopItemListComponent:a("TopItemList")}}),Iit=Mr(([t,e])=>({...t,...e}),qn(hue,Nit)),Oit=({height:t})=>m.jsx("div",{style:{height:t}}),Rit={overflowAnchor:"none",position:JD(),zIndex:1},xue={overflowAnchor:"none"},Pit={...xue,display:"inline-block",height:"100%"},AK=ke.memo(function({showTopList:t=!1}){const e=Qt("listState"),r=Tl("sizeRanges"),n=Qt("useWindowScroll"),i=Qt("customScrollParent"),s=Tl("windowScrollContainerState"),a=Tl("scrollContainerState"),o=i||n?s:a,l=Qt("itemContent"),u=Qt("context"),f=Qt("groupContent"),h=Qt("trackItemSizes"),g=Qt("itemSize"),v=Qt("log"),x=Tl("gap"),b=Qt("horizontalDirection"),{callbackRef:w}=Knt(r,g,h,t?Lv:o,v,x,i,b,Qt("skipAnimationFrameInResizeObserver")),[E,A]=ke.useState(0);eM("deviation",le=>{E!==le&&A(le)});const k=Qt("EmptyPlaceholder"),R=Qt("ScrollSeekPlaceholder")||Oit,j=Qt("ListComponent"),P=Qt("ItemComponent"),S=Qt("GroupComponent"),I=Qt("computeItemKey"),O=Qt("isSeeking"),D=Qt("groupIndices").length>0,M=Qt("alignToBottom"),F=Qt("initialItemFinalLocationReached"),U=t?{}:{boxSizing:"border-box",...b?{display:"inline-block",height:"100%",marginLeft:E!==0?E:M?"auto":0,paddingLeft:e.offsetTop,paddingRight:e.offsetBottom,whiteSpace:"nowrap"}:{marginTop:E!==0?E:M?"auto":0,paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},...F?{}:{visibility:"hidden"}};return!t&&e.totalCount===0&&k?m.jsx(k,{...wa(k,u)}):m.jsx(j,{...wa(j,u),"data-testid":t?"virtuoso-top-item-list":"virtuoso-item-list",ref:w,style:U,children:(t?e.topItems:e.items).map(le=>{const de=le.originalIndex,J=I(de+e.firstItemIndex,le.data,u);return O?N.createElement(R,{...wa(R,u),height:le.size,index:le.index,key:J,type:le.type||"item",...le.type==="group"?{}:{groupIndex:le.groupIndex}}):le.type==="group"?N.createElement(S,{...wa(S,u),"data-index":de,"data-item-index":le.index,"data-known-size":le.size,key:J,style:Rit},f(le.index,u)):N.createElement(P,{...wa(P,u),...Lit(P,le.data),"data-index":de,"data-item-group-index":le.groupIndex,"data-item-index":le.index,"data-known-size":le.size,key:J,style:b?Pit:xue},D?l(le.index,le.groupIndex,le.data,u):l(le.index,le.data,u))})})}),jit={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},Dit={outline:"none",overflowX:"auto",position:"relative"},oA=t=>({height:"100%",position:"absolute",top:0,width:"100%",...t?{display:"flex",flexDirection:"column"}:{}}),Mit={position:JD(),top:0,width:"100%",zIndex:1};function wa(t,e){if(typeof t!="string")return{context:e}}function Lit(t,e){return{item:typeof t=="string"?void 0:e}}const Fit=ke.memo(function(){const t=Qt("HeaderComponent"),e=Tl("headerHeight"),r=Qt("HeaderFooterTag"),n=Cm(ke.useMemo(()=>s=>{e(lh(s,"height"))},[e]),!0,Qt("skipAnimationFrameInResizeObserver")),i=Qt("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...wa(t,i)})}):null}),Bit=ke.memo(function(){const t=Qt("FooterComponent"),e=Tl("footerHeight"),r=Qt("HeaderFooterTag"),n=Cm(ke.useMemo(()=>s=>{e(lh(s,"height"))},[e]),!0,Qt("skipAnimationFrameInResizeObserver")),i=Qt("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...wa(t,i)})}):null});function bue({useEmitter:t,useEmitterValue:e,usePublisher:r}){return ke.memo(function({children:n,style:i,context:s,...a}){const o=r("scrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),f=e("scrollerRef"),h=e("horizontalDirection")||!1,{scrollByCallback:g,scrollerRef:v,scrollToCallback:x}=yue(o,u,l,f,void 0,h);return t("scrollTo",x),t("scrollBy",g),m.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:v,style:{...h?Dit:jit,...i},tabIndex:0,...a,...wa(l,s),children:n})})}function wue({useEmitter:t,useEmitterValue:e,usePublisher:r}){return ke.memo(function({children:n,style:i,context:s,...a}){const o=r("windowScrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),f=e("totalListHeight"),h=e("deviation"),g=e("customScrollParent"),v=ke.useRef(null),x=e("scrollerRef"),{scrollByCallback:b,scrollerRef:w,scrollToCallback:E}=yue(o,u,l,x,g);return vue(()=>{var A;return w.current=g||((A=v.current)==null?void 0:A.ownerDocument.defaultView),()=>{w.current=null}},[w,g]),t("windowScrollTo",E),t("scrollBy",b),m.jsx(l,{ref:v,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...f!==0?{height:f+h}:{}},...a,...wa(l,s),children:n})})}const Uit=({children:t})=>{const e=ke.useContext(pue),r=Tl("viewportHeight"),n=Tl("fixedItemHeight"),i=Qt("alignToBottom"),s=Qt("horizontalDirection"),a=ke.useMemo(()=>Wce(r,l=>lh(l,s?"width":"height")),[r,s]),o=Cm(a,!0,Qt("skipAnimationFrameInResizeObserver"));return ke.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),m.jsx("div",{"data-viewport-type":"element",ref:o,style:oA(i),children:t})},Vit=({children:t})=>{const e=ke.useContext(pue),r=Tl("windowViewportRect"),n=Tl("fixedItemHeight"),i=Qt("customScrollParent"),s=Kce(r,i,Qt("skipAnimationFrameInResizeObserver")),a=Qt("alignToBottom");return ke.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),m.jsx("div",{"data-viewport-type":"window",ref:s,style:oA(a),children:t})},zit=({children:t})=>{const e=Qt("TopItemListComponent")||"div",r=Qt("headerHeight"),n={...Mit,marginTop:`${r}px`},i=Qt("context");return m.jsx(e,{style:n,...wa(e,i),children:t})},$it=ke.memo(function(t){const e=Qt("useWindowScroll"),r=Qt("topItemsIndexes").length>0,n=Qt("customScrollParent"),i=Qt("context");return m.jsxs(n||e?Wit:qit,{...t,context:i,children:[r&&m.jsx(zit,{children:m.jsx(AK,{showTopList:!0})}),m.jsxs(n||e?Vit:Uit,{children:[m.jsx(Fit,{}),m.jsx(AK,{}),m.jsx(Bit,{})]})]})}),{Component:Hit,useEmitter:eM,useEmitterValue:Qt,usePublisher:Tl}=mue(Iit,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},$it),qit=bue({useEmitter:eM,useEmitterValue:Qt,usePublisher:Tl}),Wit=wue({useEmitter:eM,useEmitterValue:Qt,usePublisher:Tl}),Git=Hit,Kit=Mr(()=>{const t=Ze(u=>m.jsxs("td",{children:["Item $",u]})),e=Ze(null),r=Ze(u=>m.jsxs("td",{colSpan:1e3,children:["Group ",u]})),n=Ze(null),i=Ze(null),s=Ze({}),a=Ze(ZD),o=Ze(Lv),l=(u,f=null)=>Ta(Ge(s,ft(h=>h[u]),Vn()),f);return{components:s,computeItemKey:a,context:e,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:i,fixedHeaderContent:n,itemContent:t,groupContent:r,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});qn(hue,Kit);JD();const kK={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},Yit={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:CK,floor:YT,max:C1,min:uI,round:NK}=Math;function IK(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>({data:r===null?null:r[i+t],index:i+t}))}function Xit(t){return{...Yit,items:t}}function a2(t,e){return t&&t.width===e.width&&t.height===e.height}function Qit(t,e){return t&&t.column===e.column&&t.row===e.row}const Jit=Mr(([{increaseViewportBy:t,listBoundary:e,overscan:r,visibleRange:n},{footerHeight:i,headerHeight:s,scrollBy:a,scrollContainerState:o,scrollTo:l,scrollTop:u,smoothScrollTargetReached:f,viewportHeight:h},g,v,{didMount:x,propsReady:b},{customScrollParent:w,useWindowScroll:E,windowScrollContainerState:A,windowScrollTo:k,windowViewportRect:R},j])=>{const P=Ze(0),S=Ze(0),I=Ze(kK),O=Ze({height:0,width:0}),D=Ze({height:0,width:0}),M=Er(),F=Er(),U=Ze(0),le=Ze(null),de=Ze({column:0,row:0}),J=Er(),Q=Er(),fe=Ze(!1),ee=Ze(0),ge=Ze(!0),q=Ze(!1),z=Ze(!1);Gr(Ge(x,ar(ee),Bt(([ce,ie])=>!!ie)),()=>{sr(ge,!1)}),Gr(Ge(es(x,ge,D,O,ee,q),Bt(([ce,ie,ve,Ue,,G])=>ce&&!ie&&ve.height!==0&&Ue.height!==0&&!G)),([,,,,ce])=>{sr(q,!0),KD(1,()=>{sr(M,ce)}),pc(Ge(u),()=>{sr(e,[0,0]),sr(ge,!0)})}),Tt(Ge(Q,Bt(ce=>ce!=null&&ce.scrollTop>0),qc(0)),S),Gr(Ge(x,ar(Q),Bt(([,ce])=>ce!=null)),([,ce])=>{ce&&(sr(O,ce.viewport),sr(D,ce.item),sr(de,ce.gap),ce.scrollTop>0&&(sr(fe,!0),pc(Ge(u,am(1)),ie=>{sr(fe,!1)}),sr(l,{top:ce.scrollTop})))}),Tt(Ge(O,ft(({height:ce})=>ce)),h),Tt(Ge(es(Lt(O,a2),Lt(D,a2),Lt(de,(ce,ie)=>ce&&ce.column===ie.column&&ce.row===ie.row),Lt(u)),ft(([ce,ie,ve,Ue])=>({gap:ve,item:ie,scrollTop:Ue,viewport:ce}))),J),Tt(Ge(es(Lt(P),n,Lt(de,Qit),Lt(D,a2),Lt(O,a2),Lt(le),Lt(S),Lt(fe),Lt(ge),Lt(ee)),Bt(([,,,,,,,ce])=>!ce),ft(([ce,[ie,ve],Ue,G,Je,Oe,rt,,Xe,je])=>{const{column:at,row:wt}=Ue,{height:Ot,width:Yr}=G,{width:Wr}=Je;if(rt===0&&(ce===0||Wr===0))return kK;if(Yr===0){const jt=YD(je,ce),Kt=jt+Math.max(rt-1,0);return Xit(IK(jt,Kt,Oe))}const Lr=_ue(Wr,Yr,at);let Gt,Tr;Xe?ie===0&&ve===0&&rt>0?(Gt=0,Tr=rt-1):(Gt=Lr*YT((ie+wt)/(Ot+wt)),Tr=Lr*CK((ve+wt)/(Ot+wt))-1,Tr=uI(ce-1,C1(Tr,Lr-1)),Gt=uI(Tr,C1(0,Gt))):(Gt=0,Tr=-1);const Sn=IK(Gt,Tr,Oe),{bottom:hi,top:xe}=OK(Je,Ue,G,Sn),Ke=CK(ce/Lr),nt=Ke*Ot+(Ke-1)*wt-hi;return{bottom:hi,itemHeight:Ot,items:Sn,itemWidth:Yr,offsetBottom:nt,offsetTop:xe,top:xe}})),I),Tt(Ge(le,Bt(ce=>ce!==null),ft(ce=>ce.length)),P),Tt(Ge(es(O,D,I,de),Bt(([ce,ie,{items:ve}])=>ve.length>0&&ie.height!==0&&ce.height!==0),ft(([ce,ie,{items:ve},Ue])=>{const{bottom:G,top:Je}=OK(ce,Ue,ie,ve);return[Je,G]}),Vn(Rx)),e);const V=Ze(!1);Tt(Ge(u,ar(V),ft(([ce,ie])=>ie||ce!==0)),V);const W=Ho(Ge(es(I,P),Bt(([{items:ce}])=>ce.length>0),ar(V),Bt(([[ce,ie],ve])=>{const Ue=ce.items[ce.items.length-1].index===ie-1;return(ve||ce.bottom>0&&ce.itemHeight>0&&ce.offsetBottom===0&&ce.items.length===ie)&&Ue}),ft(([[,ce]])=>ce-1),Vn())),Y=Ho(Ge(Lt(I),Bt(({items:ce})=>ce.length>0&&ce[0].index===0),qc(0),Vn())),ue=Ho(Ge(Lt(I),ar(fe),Bt(([{items:ce},ie])=>ce.length>0&&!ie),ft(([{items:ce}])=>({endIndex:ce[ce.length-1].index,startIndex:ce[0].index})),Vn(eue),Xu(0)));Tt(ue,v.scrollSeekRangeChanged),Tt(Ge(M,ar(O,D,P,de),ft(([ce,ie,ve,Ue,G])=>{const Je=sue(ce),{align:Oe,behavior:rt,offset:Xe}=Je;let je=Je.index;je==="LAST"&&(je=Ue-1),je=C1(0,je,uI(Ue-1,je));let at=u6(ie,G,ve,je);return Oe==="end"?at=NK(at-ie.height+ve.height):Oe==="center"&&(at=NK(at-ie.height/2+ve.height/2)),Xe&&(at+=Xe),{behavior:rt,top:at}})),l);const me=Ta(Ge(I,ft(ce=>ce.offsetBottom+ce.bottom)),0);return Tt(Ge(R,ft(ce=>({height:ce.visibleHeight,width:ce.visibleWidth}))),O),{customScrollParent:w,data:le,deviation:U,footerHeight:i,gap:de,headerHeight:s,increaseViewportBy:t,initialItemCount:S,itemDimensions:D,overscan:r,restoreStateFrom:Q,scrollBy:a,scrollContainerState:o,scrollHeight:F,scrollTo:l,scrollToIndex:M,scrollTop:u,smoothScrollTargetReached:f,totalCount:P,useWindowScroll:E,viewportDimensions:O,windowScrollContainerState:A,windowScrollTo:k,windowViewportRect:R,...v,gridState:I,horizontalDirection:z,initialTopMostItemIndex:ee,totalListHeight:me,...g,endReached:W,propsReady:b,rangeChanged:ue,startReached:Y,stateChanged:J,stateRestoreInProgress:fe,...j}},qn(XD,Ga,$b,due,Th,QD,Eh));function _ue(t,e,r){return C1(1,YT((t+r)/(YT(e)+r)))}function OK(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{bottom:0,top:0};const s=u6(t,e,r,n[0].index);return{bottom:u6(t,e,r,n[n.length-1].index)+i,top:s}}function u6(t,e,r,n){const i=_ue(t.width,r.width,e.column),s=YT(n/i),a=s*r.height+C1(0,s-1)*e.row;return a>0?a+e.row:a}const Zit=Mr(()=>{const t=Ze(h=>`Item ${h}`),e=Ze({}),r=Ze(null),n=Ze("virtuoso-grid-item"),i=Ze("virtuoso-grid-list"),s=Ze(ZD),a=Ze("div"),o=Ze(Lv),l=(h,g=null)=>Ta(Ge(e,ft(v=>v[h]),Vn()),g),u=Ze(!1),f=Ze(!1);return Tt(Lt(f),u),{components:e,computeItemKey:s,context:r,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:a,itemClassName:n,ItemComponent:l("Item","div"),itemContent:t,listClassName:i,ListComponent:l("List","div"),readyStateChanged:u,reportReadyState:f,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),est=Mr(([t,e])=>({...t,...e}),qn(Jit,Zit)),tst=ke.memo(function(){const t=Kn("gridState"),e=Kn("listClassName"),r=Kn("itemClassName"),n=Kn("itemContent"),i=Kn("computeItemKey"),s=Kn("isSeeking"),a=Sl("scrollHeight"),o=Kn("ItemComponent"),l=Kn("ListComponent"),u=Kn("ScrollSeekPlaceholder"),f=Kn("context"),h=Sl("itemDimensions"),g=Sl("gap"),v=Kn("log"),x=Kn("stateRestoreInProgress"),b=Sl("reportReadyState"),w=Cm(ke.useMemo(()=>E=>{const A=E.parentElement.parentElement.scrollHeight;a(A);const k=E.firstChild;if(k){const{height:R,width:j}=k.getBoundingClientRect();h({height:R,width:j})}g({column:RK("column-gap",getComputedStyle(E).columnGap,v),row:RK("row-gap",getComputedStyle(E).rowGap,v)})},[a,h,g,v]),!0,!1);return vue(()=>{t.itemHeight>0&&t.itemWidth>0&&b(!0)},[t]),x?null:m.jsx(l,{className:e,ref:w,...wa(l,f),"data-testid":"virtuoso-item-list",style:{paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},children:t.items.map(E=>{const A=i(E.index,E.data,f);return s?m.jsx(u,{...wa(u,f),height:t.itemHeight,index:E.index,width:t.itemWidth},A):N.createElement(o,{...wa(o,f),className:r,"data-index":E.index,key:A},n(E.index,E.data,f))})})}),rst=ke.memo(function(){const t=Kn("HeaderComponent"),e=Sl("headerHeight"),r=Kn("headerFooterTag"),n=Cm(ke.useMemo(()=>s=>{e(lh(s,"height"))},[e]),!0,!1),i=Kn("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...wa(t,i)})}):null}),nst=ke.memo(function(){const t=Kn("FooterComponent"),e=Sl("footerHeight"),r=Kn("headerFooterTag"),n=Cm(ke.useMemo(()=>s=>{e(lh(s,"height"))},[e]),!0,!1),i=Kn("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...wa(t,i)})}):null}),ist=({children:t})=>{const e=ke.useContext(gue),r=Sl("itemDimensions"),n=Sl("viewportDimensions"),i=Cm(ke.useMemo(()=>s=>{n(s.getBoundingClientRect())},[n]),!0,!1);return ke.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),m.jsx("div",{ref:i,style:oA(!1),children:t})},sst=({children:t})=>{const e=ke.useContext(gue),r=Sl("windowViewportRect"),n=Sl("itemDimensions"),i=Kn("customScrollParent"),s=Kce(r,i,!1);return ke.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),m.jsx("div",{ref:s,style:oA(!1),children:t})},ast=ke.memo(function({...t}){const e=Kn("useWindowScroll"),r=Kn("customScrollParent"),n=r||e?lst:ost,i=r||e?sst:ist,s=Kn("context");return m.jsx(n,{...t,...wa(n,s),children:m.jsxs(i,{children:[m.jsx(rst,{}),m.jsx(tst,{}),m.jsx(nst,{})]})})}),{useEmitter:Eue,useEmitterValue:Kn,usePublisher:Sl}=mue(est,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},ast),ost=bue({useEmitter:Eue,useEmitterValue:Kn,usePublisher:Sl}),lst=wue({useEmitter:Eue,useEmitterValue:Kn,usePublisher:Sl});function RK(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,mo.WARN),e==="normal"?0:parseInt(e??"0",10)}const PK=t=>{switch(t){case"admin":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-purple-100 text-purple-600 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",children:"Admin"});case"lanh_dao":case"quan_ly":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-600 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",children:"Qun l"});case"giao_vien":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-yellow-100 text-yellow-600 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",children:"Gio vin"});case"hoc_vien":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-600 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",children:"Hc vin"});default:return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-gray-50 text-gray-500 border border-gray-200 dark:bg-zinc-800 dark:text-gray-400 dark:border-zinc-700",children:"Khch"})}},cst=({userProfile:t,onBack:e})=>{const[r,n]=N.useState(null),[i,s]=N.useState(""),[a,o]=N.useState(!1),[l,u]=N.useState(!1),f=N.useRef(null),[h,g]=N.useState(!1),[v,x]=N.useState([]),[b,w]=N.useState([]),[E,A]=N.useState([]),[k,R]=N.useState(!1);N.useRef(null);const[j,P]=N.useState("");N.useRef(null),N.useEffect(()=>{g(["admin","quan_ly","giao_vien"].includes(t.role))},[t.role]),N.useEffect(()=>{(async()=>{R(!0);try{const fe=pr(Wt(Ye,"users"),wl(100)),ee=await _n(fe),ge=[];ee.forEach(z=>{const V=z.data();z.id!==t.id&&ge.push({id:z.id,name:V.full_name||V.fullName||"Ngi dng",photoURL:V.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(V.full_name||"User")}&background=random`,role:V.role||"hoc_vien",email:V.email||"",lastMessage:"",lastMessageTime:"",unreadCount:0})});const q={admin:1,lanh_dao:2,quan_ly:3,giao_vien:4,hoc_vien:5,guest:6};ge.sort((z,V)=>{const W=q[z.role]||99,Y=q[V.role]||99;return W-Y}),w(ge)}catch(fe){console.error("Error fetching users:",fe)}finally{R(!1)}})()},[h,t.id]),N.useEffect(()=>{if(j.trim()){const Q=j.toLowerCase();A(b.filter(fe=>fe.name.toLowerCase().includes(Q)))}else{const Q=b.filter(fe=>fe.lastMessage||fe.unreadCount);A(Q)}},[j,b,h]),N.useEffect(()=>{if(!r)return;const Q=[t.id,r.id].sort().join("_"),fe=pr(Wt(Ye,"messages"),Ar("conversationId","==",Q),Ar("visibleTo","array-contains",t.id),uo("timestamp","desc"),wl(50)),ee=Vo(fe,z=>{const V=[];z.forEach(W=>{const Y=W.data();V.push({id:W.id,senderId:Y.senderId,senderName:Y.senderName||"",content:Y.content,timestamp:Y.timestamp?Y.timestamp.toDate():new Date,status:"sent"})}),x(V.reverse())}),ge=lo(ra,`typing/${Q}/${r.id}`),q=X1(ge,z=>{u(z.exists()&&z.val()===!0)});return()=>{ee(),q()}},[r,t.id]),N.useEffect(()=>{const Q=lo(ra,"status"),fe=X1(Q,ee=>{if(ee.exists()){const ge=ee.val();w(q=>q.map(z=>{var V;return{...z,isOnline:((V=ge[z.id])==null?void 0:V.state)==="online"}}))}});return()=>fe()},[]),N.useEffect(()=>{const Q=pr(Wt(Ye,"messages"),Ar("visibleTo","array-contains",t.id),uo("timestamp","desc"),wl(20)),ee=Vo(Q,ge=>{ge.docChanges().forEach(q=>{if(q.type==="added"){const z=q.doc.data(),V=z.senderId===t.id?z.receiverId:z.senderId;w(W=>{var me;const Y=[...W],ue=Y.findIndex(ce=>ce.id===V);if(ue>-1){const ce={...Y[ue]};return(!ce.lastMessageTime||((me=z.timestamp)==null?void 0:me.toDate())>new Date(ce.lastMessageTime))&&(ce.lastMessage=z.content,ce.lastMessageTime="Va xong",(r==null?void 0:r.id)!==V&&(ce.unreadCount=(ce.unreadCount||0)+1),Y.splice(ue,1),Y.unshift(ce)),Y}else return W})}})});return()=>ee()},[t.id,r]);const S=Q=>{if(s(Q.target.value),!r)return;const fe=[t.id,r.id].sort().join("_"),ee=lo(ra,`typing/${fe}/${t.id}`);a||(o(!0),GS(ee,!0)),f.current&&clearTimeout(f.current),f.current=setTimeout(()=>{o(!1),A5(ee)},2e3)},I=async(Q,fe)=>{Q==null||Q.preventDefault();const ee=fe||i;if(!(!ee.trim()||!r)){if(!fe){s(""),o(!1);const ge=[t.id,r.id].sort().join("_");A5(lo(ra,`typing/${ge}/${t.id}`)),f.current&&clearTimeout(f.current)}try{const ge=[t.id,r.id].sort().join("_");await Qf(Wt(Ye,"messages"),{senderId:t.id,senderName:t.full_name||"Ngi dng",receiverId:r.id,content:ee,timestamp:Ua(),visibleTo:[t.id,r.id],conversationId:ge}),w(q=>{const z=[...q],V=z.findIndex(W=>W.id===r.id);if(V>-1){const W={...z[V]};W.lastMessage=ee===""?" gi mt like":ee,W.lastMessageTime="Va xong",z.splice(V,1),z.unshift(W)}return z})}catch(ge){console.error("Error sending message:",ge),alert("Li gi tin nhn")}}},O=async Q=>{if(confirm("Bn c chc mun xa tin nhn ny  pha bn?"))try{await si(Ft(Ye,"messages",Q),{visibleTo:FR(t.id)})}catch(fe){console.error("Error deleting:",fe)}},[D,M]=N.useState(null),[F,U]=N.useState(!1),le=N.useRef(null),de=async()=>{if(!r||!D||F)return;U(!0);const Q=[t.id,r.id].sort().join("_");try{const fe=pr(Wt(Ye,"messages"),Ar("conversationId","==",Q),Ar("visibleTo","array-contains",t.id),uo("timestamp","desc"),yJ(D),wl(20)),ee=await _n(fe);if(ee.empty)M(null);else{const ge=[];ee.forEach(q=>{const z=q.data();ge.push({id:q.id,senderId:z.senderId,senderName:"",content:z.content,timestamp:z.timestamp?z.timestamp.toDate():new Date,status:"sent"})}),M(ee.docs[ee.docs.length-1]),x(q=>[...ge.reverse(),...q])}}catch(fe){console.error("Error loading more:",fe)}finally{U(!1)}},J=Q=>{var ee;const fe=(ee=Q.target.files)==null?void 0:ee[0];fe&&I(void 0,`[ gi nh: ${fe.name}]`)};return m.jsxs("div",{className:"w-full h-[calc(100vh-64px)] bg-white dark:bg-black flex",children:[m.jsxs("div",{className:`w-full md:w-[360px] border-r border-gray-200 dark:border-gray-800 flex flex-col bg-white dark:bg-black ${r?"hidden md:flex":"flex"}`,children:[m.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent",children:"Chat"}),m.jsx("div",{className:"flex gap-2",children:m.jsx("button",{className:"p-2 rounded-full bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:m.jsx(tK,{size:20,className:"text-gray-600 dark:text-gray-300"})})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(ket,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),m.jsx("input",{type:"text",value:j,onChange:Q=>P(Q.target.value),placeholder:"Tm ngi dng...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-zinc-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium text-gray-700 dark:text-gray-200"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:k?m.jsx("div",{className:"flex justify-center p-4",children:m.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full"})}):m.jsxs(m.Fragment,{children:[!j&&E.length===0&&m.jsxs("div",{className:"text-center p-8 text-gray-500 text-sm",children:[m.jsx("p",{children:"Cha c cuc tr chuyn no."}),m.jsx("p",{className:"mt-1",children:"Tm kim  bt u chat!"})]}),E.map(Q=>m.jsxs(j0.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(Q),className:`p-3 rounded-xl flex items-center gap-3 cursor-pointer transition-all mb-1 ${(r==null?void 0:r.id)===Q.id?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:Q.photoURL,alt:Q.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 dark:border-gray-800"}),Q.isOnline&&m.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-black rounded-full"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:Q.name}),PK(Q.role)]}),Q.email&&m.jsx("p",{className:"text-xs text-gray-500 truncate",children:Q.email}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[m.jsx("span",{className:`truncate max-w-[140px] ${Q.unreadCount?"font-bold text-gray-900 dark:text-gray-100":""}`,children:Q.lastMessage||(Q.role==="admin"?"H tr trc tuyn":"Bt u tr chuyn")}),Q.lastMessageTime&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-xs",children:""}),m.jsx("span",{className:"text-xs",children:Q.lastMessageTime})]})]})]}),Q.unreadCount?m.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center shadow-sm",children:m.jsx("span",{className:"text-[10px] font-bold text-white",children:Q.unreadCount})}):null]},Q.id))]})})]}),m.jsx("div",{className:`flex-1 flex flex-col bg-white dark:bg-black transition-all ${r?"flex":"hidden md:flex items-center justify-center"}`,children:r?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between bg-white/80 dark:bg-black/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>n(null),className:"md:hidden p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full",children:m.jsx(tet,{size:24,className:"text-blue-600"})}),m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:r.photoURL,alt:"Avt",className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 object-cover"}),r.isOnline&&m.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-black rounded-full"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"font-bold text-gray-900 dark:text-gray-100 leading-tight",children:r.name}),PK(r.role)]}),r.email&&m.jsx("p",{className:"text-xs text-gray-500",children:r.email}),m.jsx("span",{className:`text-xs font-medium flex items-center gap-1 ${r.isOnline?"text-green-600":"text-gray-500"}`,children:r.isOnline?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," ang hot ng"]}):"Ngoi tuyn"})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("div",{className:"flex items-center gap-4 text-blue-600",children:[m.jsx(_et,{size:24,className:"cursor-pointer hover:opacity-80 disabled-opacity"}),m.jsx(tK,{size:24,className:"cursor-pointer hover:opacity-80 disabled-opacity"}),m.jsx(pet,{size:24,className:"cursor-pointer hover:opacity-80"})]})})]}),!1,m.jsx("div",{className:"flex-1 p-4 bg-white dark:bg-black overflow-hidden",children:m.jsx(Git,{ref:le,style:{height:"100%"},data:v,startReached:de,initialTopMostItemIndex:v.length-1,followOutput:"auto",alignToBottom:!0,itemContent:(Q,fe)=>{var q;const ee=fe.senderId===t.id,ge=!ee&&(Q===v.length-1||((q=v[Q+1])==null?void 0:q.senderId)!==fe.senderId);return m.jsxs(j0.div,{layout:!0,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex gap-2 group mb-2 ${ee?"justify-end":"justify-start"}`,children:[!ee&&m.jsx("div",{className:"w-8 flex flex-col justify-end",children:ge?m.jsx("img",{src:r.photoURL,className:"w-8 h-8 rounded-full border border-gray-200 object-cover"}):m.jsx("div",{className:"w-8"})}),ee&&m.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center mr-2",children:m.jsx("button",{onClick:()=>O(fe.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-gray-50 dark:bg-zinc-800 rounded-full",title:"Xa  pha ti",children:m.jsx(eK,{size:14})})}),!ee&&m.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center order-last ml-2",children:m.jsx("button",{onClick:()=>O(fe.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-gray-50 dark:bg-zinc-800 rounded-full",title:"Xa  pha ti",children:m.jsx(eK,{size:14})})}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("div",{className:`px-4 py-2 text-[15px] leading-relaxed break-words shadow-sm ${ee?"bg-blue-600 text-white rounded-2xl rounded-tr-md":"bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-gray-100 rounded-2xl rounded-tl-md border border-gray-200 dark:border-gray-700"}`,children:fe.content}),ee&&m.jsxs("div",{className:"flex items-center justify-end text-[10px] text-gray-400 mt-1 mr-1 gap-1 h-3",children:[fe.status==="sending"&&m.jsx(oet,{size:10,className:"animate-spin"}),fe.status==="sent"&&m.jsx(ZZe,{size:12,className:"text-blue-500"}),fe.status==="error"&&m.jsx(net,{size:12,className:"text-red-500"})]})]})]})},components:{Header:()=>m.jsxs("div",{className:"py-4",children:[F&&m.jsx("div",{className:"text-center text-xs text-gray-400",children:"ang ti tin c hn..."}),!F&&!D&&m.jsxs("div",{className:"flex flex-col items-center mt-4 mb-8 opacity-60",children:[m.jsx("img",{src:r.photoURL,className:"w-20 h-20 rounded-full mb-4 object-cover shadow-lg border-2 border-white"}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.name}),m.jsx("p",{className:"text-sm text-gray-500",children:h?"Thng tin hc vin / ng nghip":"Ban Qun Tr H Thng"})]})]}),Footer:()=>l?m.jsx("div",{className:"flex justify-start mb-2 ml-10 mt-2",children:m.jsxs("div",{className:"bg-gray-100 dark:bg-zinc-800 px-4 py-3 rounded-2xl rounded-tl-md flex gap-1 items-center",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),m.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),m.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}):null}})}),m.jsxs("div",{className:"p-3 bg-white dark:bg-black flex items-center gap-2 border-t border-gray-100 dark:border-gray-800 relative",children:[!1,m.jsxs("button",{className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-full transition-colors relative",children:[m.jsx(het,{size:20}),m.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:J})]}),m.jsxs("form",{onSubmit:I,className:"flex-1 flex items-center gap-2 bg-gray-100 dark:bg-zinc-800 rounded-full px-4 py-2",children:[m.jsx("input",{type:"text",placeholder:"Nhp tin nhn...",value:i,onChange:S,className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 dark:text-white placeholder-gray-500",disabled:!1}),m.jsx("button",{type:"button",onClick:()=>s(Q=>Q+""),className:"text-gray-400 hover:text-yellow-500 transition-colors",children:m.jsx(Ret,{size:20})})]}),i.trim()?m.jsx("button",{onClick:I,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg transition-transform active:scale-95 flex items-center justify-center",children:m.jsx(ZG,{size:18,className:"translate-x-0.5 translate-y-0.5"})}):m.jsx("button",{onClick:()=>I(void 0,""),className:"p-3 text-blue-600 hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-full transition-colors",children:m.jsx("span",{className:"text-xl",children:""})})]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[m.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mb-4",children:m.jsx(ZG,{size:40,className:"text-blue-600 -ml-1 mt-1"})}),m.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Cho mng n vi Chat"}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Chn mt cuc hi thoi t danh sch bn tri"})]})})]})};let o2=null;const tM=async()=>o2||(o2=await zD(),o2),lA=(t,e)=>{if(!e)return{param:t.guest,type:"guest"};const r=e.role;return r==="admin"?{param:t.admin,type:"admin"}:["lanh_dao","quan_ly"].includes(r)?{param:t.manager,type:"manager"}:r==="giao_vien"?{param:t.teacher,type:"teacher"}:e.isVip?{param:t.vip_user,type:"vip"}:e.class&&e.class.length>0||e.isVerified?{param:t.verified_user,type:"verified"}:{param:t.free_user,type:"free"}},Tue=t=>{const e=new Date;if(t==="daily")return e.toLocaleDateString("vi-VN");{const r=e.getDay()||7;return r!==1?e.setHours(-24*(r-1)):e.setHours(0,0,0,0),`W-${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}},jK=async t=>{const e=await tM(),{param:r}=lA(e,t);if(!r.isEnabled)return"ALLOWED";const i=`${t?`usage_user_${t.id}`:"usage_guest"}_${r.period}`,s=Tue(r.period);let a={date:s,count:0};const o=localStorage.getItem(i);if(o)try{const l=JSON.parse(o);l.date===s&&(a=l)}catch(l){console.error("Error parsing usage data",l)}return console.log(`[Usage Check] ${i} - Used: ${a.count}/${r.limit}`),a.count>=r.limit?"BLOCKED":"ALLOWED"},DK=async t=>{const e=await tM(),{param:r}=lA(e,t);if(!r.isEnabled)return;const i=`${t?`usage_user_${t.id}`:"usage_guest"}_${r.period}`,s=Tue(r.period);let a={date:s,count:0};const o=localStorage.getItem(i);if(o)try{const l=JSON.parse(o);l.date===s&&(a=l)}catch{}a.count++,console.log(`[Usage] Incremented usage for ${i}: ${a.count}`),localStorage.setItem(i,JSON.stringify(a))},MK=async(t,e)=>{const r=await tM(),{param:n,type:i}=lA(r,t),s=n.message.replace("{limit}",n.limit.toString()),a=i==="guest";Hc.fire({title:"Ht lt lm bi!",text:s,icon:"warning",showCancelButton:!0,confirmButtonText:a?"ng nhp ngay":"Lin h thy",cancelButtonText:"ng",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(o=>{o.isConfirmed&&(a?e():window.open("https://zalo.me/02296282969","_blank"))})},ust=({userProfile:t})=>{const[e,r]=N.useState(!1);N.useEffect(()=>{(async()=>{try{const l=await zD(),{param:u}=lA(l,t);u.showAds?(r(!0),n(),a()):(r(!1),i(),s())}catch(l){console.error("Error checking AdSense config:",l)}})()},[t]);const n=()=>{if(document.getElementById("google-adsense-script"))return;const l=document.createElement("script");l.id="google-adsense-script",l.async=!0,l.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6121118706628509",l.crossOrigin="anonymous",document.head.appendChild(l),console.log(" Google AdSense Script Loaded (Allowed for this role)")},i=()=>{const o=document.getElementById("google-adsense-script");o&&(o.remove(),console.log(" Google AdSense Script Removed (Blocked for this role)"))},s=()=>{if(document.getElementById("adsense-blocker-style"))return;const o=document.createElement("style");o.id="adsense-blocker-style",o.innerHTML=`
            .adsbygoogle, .google-auto-placed, ins.adsbygoogle {
                display: none !important;
                visibility: hidden !important;
                height: 0 !important;
                width: 0 !important;
                overflow: hidden !important;
                position: absolute !important;
                pointer-events: none !important;
                z-index: -9999 !important;
            }
        `,document.head.appendChild(o),console.log(" AdSense Blocker Style Injected")},a=()=>{const o=document.getElementById("adsense-blocker-style");o&&(o.remove(),console.log(" AdSense Blocker Style Removed"))};return null},dst=({userProfile:t,currentScreen:e,onNavigate:r,onLogout:n})=>{const[i,s]=N.useState(!1),a=N.useRef(null);N.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const o=g=>!!(g==="dashboard"&&(e==="dashboard"||e.startsWith("in_"))||g==="account"&&e==="account"),l=g=>{r(g),s(!1)},u=[{name:"Tin tc",icon:g4e,action:()=>window.location.href="/",active:!1,key:"news"},{name:"n tp",icon:t4e,action:()=>l("dashboard"),active:o("dashboard"),key:"dashboard"},{name:"Ti khon",icon:k4e,action:()=>l("account"),active:o("account"),key:"account"}],f=[];t&&(f.push({name:"Lch s thi",icon:p1,action:()=>l("history"),color:"text-purple-600"}),["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)?(f.push({name:"Qun l lp",icon:p0,action:()=>l("class_management"),color:"text-indigo-600"}),f.push({name:"Qun l TB",icon:pv,action:()=>l("notification_mgmt"),color:"text-red-500"})):f.push({name:"Lp ca ti",icon:Ree,action:()=>l("my_class"),color:"text-green-600"}));const h=()=>s(!i);return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:a,className:`fixed bottom-24 right-4 z-[10000] md:hidden transition-all duration-300 origin-bottom-right ${i?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-4 pointer-events-none"}`,children:m.jsx("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border border-white/20 shadow-2xl rounded-2xl p-4 w-56 flex flex-col gap-2",children:t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 mb-2 uppercase tracking-wider border-b border-gray-200 dark:border-gray-700 pb-2",children:"Menu m rng"}),f.map((g,v)=>{const x=g.icon;return m.jsxs("button",{onClick:()=>{g.action(),s(!1)},className:"flex items-center gap-3 w-full p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors group",children:[m.jsx("div",{className:`p-2 rounded-lg bg-gray-50 dark:bg-slate-800 group-hover:bg-white dark:group-hover:bg-slate-700 shadow-sm ${g.color}`,children:m.jsx(x,{})}),m.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:g.name})]},v)}),m.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),m.jsxs("button",{onClick:()=>{n(),s(!1)},className:"flex items-center gap-3 w-full p-2 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 transition-colors",children:[m.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30",children:m.jsx(x4e,{})}),m.jsx("span",{className:"text-sm font-medium",children:"ng xut"})]})]}):m.jsx("button",{onClick:()=>{l("login"),s(!1)},className:"w-full py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition",children:"ng nhp ngay"})})}),m.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-[9999] md:hidden animate-fade-in-up",children:m.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border border-white/20 shadow-2xl rounded-2xl p-2 flex justify-between items-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent skew-x-12 animate-shine pointer-events-none"}),u.map(g=>{const v=g.icon,x=g.active;return m.jsxs("button",{onClick:g.action,className:`relative flex flex-col items-center justify-center w-full py-2 transition-all duration-300 group ${x?"-translate-y-1":""}`,children:[x&&m.jsx("div",{className:"absolute top-1 w-10 h-10 bg-indigo-500/20 rounded-full blur-md"}),m.jsx(v,{className:`text-2xl mb-1 transition-all duration-300 drop-shadow-sm ${x?"text-indigo-600 dark:text-indigo-400 scale-110 filter drop-shadow-[0_2px_4px_rgba(79,70,229,0.3)]":"text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300"}`}),m.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${x?"text-indigo-600 dark:text-indigo-400 opacity-100":"text-gray-400 dark:text-gray-500 opacity-80 group-hover:opacity-100"}`,children:g.name}),x&&m.jsx("span",{className:"absolute -bottom-1 w-1 h-1 bg-indigo-600 rounded-full"})]},g.key)}),m.jsxs("button",{onClick:h,className:`relative flex flex-col items-center justify-center w-full py-2 transition-all duration-300 group ${i?"-translate-y-1":""}`,children:[i&&m.jsx("div",{className:"absolute top-1 w-10 h-10 bg-orange-500/20 rounded-full blur-md"}),i?m.jsx(Af,{className:"text-2xl mb-1 text-orange-600 dark:text-orange-400 scale-110 transition-all duration-300"}):m.jsx(ZSe,{className:"text-2xl mb-1 text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-all duration-300"}),m.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${i?"text-orange-600 dark:text-orange-400 opacity-100":"text-gray-400 dark:text-gray-500 opacity-80 group-hover:opacity-100"}`,children:"Thm"})]})]})})]})},LK=()=>{const{user:t}=nA(),[e,r]=N.useState(""),[n,i]=N.useState(""),[s,a]=N.useState(""),[o,l]=N.useState(!1),[u,f]=N.useState(""),[h,g]=N.useState(""),[v,x]=N.useState(!1),[b,w]=N.useState(null),[E,A]=N.useState([]),[k,R]=N.useState(null),j=async O=>{O.preventDefault(),a(""),l(!0);try{let D=e.trim();D.includes("@")||(D=`${D}@daotaothuyenvien.com`),await l5(Js,D,n)}catch(D){console.error(D),a("Tn ng nhp hoc mt khu khng ng.")}finally{l(!1)}};N.useEffect(()=>{(async()=>{if(t&&t.uid)try{const D=await uc(Ft(Ye,"users",t.uid));if(D.exists()){const M=D.data(),F=M.courseId;if(F){const U=pr(Wt(Ye,"exam_rooms"),Ar("course_id","==",F),Ar("status","in",["waiting","in_progress"]),uo("created_at","desc"),wl(1)),le=await _n(U);if(!le.empty){const de=le.docs[0];f(de.id),g(` tm thy phng thi cho lp ${M.courseName||""}. Vui lng nhn "VO THI NGAY".`)}}}}catch(D){console.error("Auto-join check failed:",D)}})()},[t]);const P=async()=>{var O;if(!u){on.error("Vui lng nhp m phng thi.");return}l(!0);try{const D=await uc(Ft(Ye,"exam_rooms",u));if(!D.exists()){on.error("Phng thi khng tn ti."),l(!1);return}const M=D.data();if(M.status==="finished"){on.error("Phng thi  kt thc."),l(!1);return}if(M.password&&M.password!==n){on.error("Mt khu phng thi khng ng."),l(!1);return}const F=M.license_id;let U=OE.from("questions").select("*").eq("license_id",F);M.subject_id&&(U=U.eq("subject_id",M.subject_id));const{data:le,error:de}=await U;if(de){console.error("Supabase Error:",de),on.error("Li kt ni d liu cu hi."),l(!1);return}if(!le||le.length===0){on.error("Khng tm thy cu hi ph hp!"),l(!1);return}const Q=le.map(fe=>({id:fe.id,content:fe.question,options:fe.options,correctAnswerId:fe.correct_answer,explanation:fe.explanation,image:fe.image})).sort(()=>.5-Math.random()).slice(0,30);if(A(Q),w({id:D.id,...M}),t){const fe=await uc(Ft(Ye,"users",t.uid)),ee=fe.exists()?fe.data():null;R(ee);const ge=lo(ra,`exam_progress/${D.id}/${t.uid}`),q={user_name:(ee==null?void 0:ee.fullName)||t.displayName||t.email,user_email:t.email,user_sbd:((O=t.email)==null?void 0:O.split("@")[0])||"",status:"doing",joined_at:m0(),total_questions:Q.length,score:0,time_left:(M.duration||45)*60,last_updated:m0()};await GS(ge,q),vee(ge).update({status:"offline"})}x(!0),on.success(" vo phng thi thnh cng!")}catch(D){console.error("Error joining room:",D),on.error("Li khi vo phng thi.")}finally{l(!1)}},S=async(O,D,M)=>{if(!t||!b)return;let F=0;E.forEach(de=>{M[de.id]===de.correctAnswerId&&F++});const U=F/E.length*10,le=lo(ra,`exam_progress/${b.id}/${t.uid}`);k5(le,{current_question_index:O,time_left:D,answers_count:Object.keys(M).length,score:U,last_updated:m0(),status:"doing"}).catch(de=>console.error("RTDB Update Error:",de))},I=async O=>{if(!t||!b)return;let D=0;E.forEach(U=>{O[U.id]===U.correctAnswerId&&D++});const M=D/E.length*10,F=M>=5;try{const U=lo(ra,`exam_progress/${b.id}/${t.uid}`);await k5(U,{status:"submitted",score:M,time_left:0,finished_at:m0()}),await Qf(Wt(Ye,"exam_results"),{room_id:b.id,user_id:t.uid,user_name:(k==null?void 0:k.fullName)||t.email,score:M,correct_count:D,total_questions:E.length,answers:O,submitted_at:Ua(),is_pass:F}),on.success(` np bi! im s: ${M.toFixed(1)}`),x(!1),w(null),A([])}catch(U){console.error("Error submitting exam:",U),on.error("Li khi np bi.")}};return v&&b&&E.length>0?m.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:m.jsx(Ote,{quiz:{id:b.id,title:b.name,questions:E,timeLimit:(b.duration||45)*60},onFinish:I,onBack:()=>{window.confirm("Bn c chc mun thot? Kt qu s khng c lu.")&&x(!1)},userName:(k==null?void 0:k.fullName)||(t==null?void 0:t.email)||"",userProfile:k,selectedLicense:{id:b.license_id,name:`Hng ${b.license_id}`,subjects:[]},onProgressUpdate:S})}):m.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-[#333]",children:[m.jsx("div",{className:"bg-white",children:m.jsxs("div",{className:"w-full h-[150px] bg-cover bg-center relative",style:{backgroundImage:"url('/ontap/assets/img/banner_thitructuyen.jpg')"},children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-200 opacity-50"}),m.jsx("div",{className:"container mx-auto h-full flex items-center px-4 relative z-10",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:"/ontap/assets/img/logo_viwa.png",alt:"Logo",className:"h-24 w-24 object-contain",onError:O=>O.currentTarget.src="https://via.placeholder.com/100?text=LOGO"}),m.jsxs("div",{className:"text-blue-800 uppercase font-bold drop-shadow-sm",children:[m.jsx("h1",{className:"text-3xl",children:"CNG TY CP T VN V GIO DC NINH BNH"}),m.jsx("h2",{className:"text-xl text-red-600 mt-1",children:"NINH BINH CONSULTING AND EDUCATION JOINT STOCK COMPANY"})]})]})})]})}),m.jsx("div",{className:"flex-grow bg-white flex justify-center pt-10 pb-20",children:m.jsx("div",{className:"w-full max-w-4xl px-4",children:t?m.jsxs("div",{className:"max-w-md mx-auto",children:[t.email&&!t.email.endsWith("@daotaothuyenvien.com")&&m.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 shadow-sm",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),m.jsxs("div",{className:"ml-3",children:[m.jsxs("p",{className:"text-sm text-yellow-700",children:["Bn ang ng nhp l ",m.jsx("strong",{className:"font-bold",children:t.displayName||t.email}),"."]}),m.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Nu y l ti khon c nhn, vui lng ng xut  ng nhp bng ",m.jsx("strong",{children:"S Bo Danh"}),"."]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:async()=>{await Js.signOut(),window.location.href="/ontap/thitructuyen"},className:"text-sm font-bold text-red-600 hover:text-red-800 underline",children:"ng xut & ng nhp li"})})]})]})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-blue-700 uppercase",children:"Khu vc Thi Trc Tuyn"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:["Xin cho, ",m.jsx("strong",{className:"text-blue-900",children:t.displayName||t.email})]})]}),m.jsxs("fieldset",{className:"border border-gray-300 p-6 rounded-sm shadow-sm bg-blue-50/30",children:[m.jsx("legend",{className:"px-2 text-blue-800 font-bold text-sm bg-white border border-gray-200 rounded shadow-sm",children:"Vo Phng Thi"}),m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"M phng thi (Room ID):"}),m.jsx("input",{type:"text",placeholder:"Nhp m phng do gim th cung cp...",value:u,onChange:O=>f(O.target.value),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-400 rounded-sm shadow-inner"}),h&&m.jsx("p",{className:"text-green-600 text-xs mt-1 font-bold",children:h})]}),m.jsxs("button",{onClick:P,disabled:o,className:"w-full bg-[#2962ff] text-white px-4 py-2.5 text-sm font-bold rounded-sm hover:bg-blue-700 transition-all shadow-md flex justify-center items-center gap-2 disabled:opacity-70",children:[o?m.jsx("span",{className:"animate-spin",children:""}):m.jsx("span",{children:"VO THI NGAY"}),!o&&m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("a",{href:"/ontap",className:"text-sm text-gray-500 hover:text-blue-600 hover:underline",children:" Quay li n tp"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center mb-8 text-sm text-gray-700 space-y-1",children:[m.jsx("p",{children:"Vui lng nhp ti khon v mt khu  ng nhp."}),m.jsx("p",{children:"Nu bn cha c ti khon hoc qun mt khu vui lng lin h gim th coi thi!"}),m.jsxs("p",{children:["Nu bn mun tra kt qu hc tp, hy vo ",m.jsx("a",{href:"/ontap",className:"text-blue-600 font-bold hover:underline",children:"TRA CU IM"})]}),m.jsxs("p",{children:["Nu bn mun n tp hoc thi th, hy vo ",m.jsx("a",{href:"/ontap",className:"text-blue-600 font-bold hover:underline",children:"THI TH"})]})]}),m.jsx("div",{className:"max-w-md mx-auto",children:m.jsxs("fieldset",{className:"border border-gray-300 p-6 rounded-sm shadow-sm",children:[m.jsx("legend",{className:"px-2 text-gray-700 font-bold text-sm",children:"Thng tin ng nhp"}),m.jsxs("form",{onSubmit:j,className:"space-y-4 mt-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("label",{className:"w-32 text-sm font-bold text-gray-700",children:"S bo danh:"}),m.jsx("input",{type:"text",value:e,onChange:O=>r(O.target.value),className:"flex-1 border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:border-blue-400 rounded-sm",required:!0})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("label",{className:"w-32 text-sm font-bold text-gray-700",children:"Mt khu:"}),m.jsx("input",{type:"password",value:n,onChange:O=>i(O.target.value),className:"flex-1 border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:border-blue-400 rounded-sm",required:!0})]}),s&&m.jsx("p",{className:"text-red-500 text-xs text-center",children:s}),m.jsx("div",{className:"flex justify-end mt-6",children:m.jsx("button",{type:"submit",disabled:o,className:"bg-[#2962ff] text-white px-6 py-1.5 text-sm font-bold rounded-sm hover:bg-blue-700 transition-colors shadow-sm",children:o?"ang x l...":"ng nhp"})})]})]})})]})})}),m.jsxs("div",{className:"bg-[#0d47a1] text-white py-4 text-center text-xs space-y-1",children:[m.jsx("div",{className:"flex justify-center mb-2",children:m.jsx("img",{src:"/ontap/assets/img/logo_viwa_white.png",alt:"Logo Footer",className:"h-16 w-16 object-contain opacity-80",onError:O=>O.currentTarget.style.display="none"})}),m.jsx("p",{className:"uppercase font-bold",children:"Cng ty c phn T vn v Gio dc Ninh Bnh"}),m.jsx("p",{children:"ng Triu Vit Vng - Phng Hoa L - Tnh Ninh Bnh"}),m.jsx("p",{children:"022.96.282.969"}),m.jsx("p",{children:"ninhbinheduco.jsc@gmail.com"}),m.jsx("p",{children:"giaoducninhbinh@daotaothuyenvien.com"})]})]})};/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function d6(){return d6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},d6.apply(this,arguments)}var FK;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(FK||(FK={}));function Vf(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function fst(t,e){{typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Sue(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}var BK;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(BK||(BK={}));const hst=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mst=t=>hst.test(t);function pst(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Sue(t):t,s;if(r)if(mst(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),fst(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=UK(r.substring(1),"/"):s=UK(r,e)}else s=e;return{pathname:s,search:bst(n),hash:wst(i)}}function UK(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function dI(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gst(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function vst(t,e){let r=gst(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function yst(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Sue(t):(i=d6({},t),Vf(!i.pathname||!i.pathname.includes("?"),dI("?","pathname","search",i)),Vf(!i.pathname||!i.pathname.includes("#"),dI("#","pathname","hash",i)),Vf(!i.search||!i.search.includes("#"),dI("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),h-=1;i.pathname=g.join("/")}o=h>=0?e[h]:"/"}let l=pst(i,o),u=a&&a!=="/"&&a.endsWith("/"),f=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||f)&&(l.pathname+="/"),l}const xst=t=>t.join("/").replace(/\/\/+/g,"/"),bst=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wst=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,Aue=["post","put","patch","delete"];new Set(Aue);const _st=["get",...Aue];new Set(_st);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function f6(){return f6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},f6.apply(this,arguments)}const kue=N.createContext(null),Cue=N.createContext(null),Nue=N.createContext(null),cA=N.createContext({outlet:null,matches:[],isDataRoute:!1});function Iue(){return N.useContext(Nue)!=null}function Est(){return Iue()||Vf(!1),N.useContext(Nue).location}function Oue(t){N.useContext(Cue).static||N.useLayoutEffect(t)}function Tst(){let{isDataRoute:t}=N.useContext(cA);return t?Ist():Sst()}function Sst(){Iue()||Vf(!1);let t=N.useContext(kue),{basename:e,future:r,navigator:n}=N.useContext(Cue),{matches:i}=N.useContext(cA),{pathname:s}=Est(),a=JSON.stringify(vst(i,r.v7_relativeSplatPath)),o=N.useRef(!1);return Oue(()=>{o.current=!0}),N.useCallback(function(u,f){if(f===void 0&&(f={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=yst(u,JSON.parse(a),s,f.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:xst([e,h.pathname])),(f.replace?n.replace:n.push)(h,f.state,f)},[e,n,a,s,t])}function Ast(){let{matches:t}=N.useContext(cA),e=t[t.length-1];return e?e.params:{}}var Rue=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(Rue||{}),Pue=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(Pue||{});function kst(t){let e=N.useContext(kue);return e||Vf(!1),e}function Cst(t){let e=N.useContext(cA);return e||Vf(!1),e}function Nst(t){let e=Cst(),r=e.matches[e.matches.length-1];return r.route.id||Vf(!1),r.route.id}function Ist(){let{router:t}=kst(Rue.UseNavigateStable),e=Nst(Pue.UseNavigateStable),r=N.useRef(!1);return Oue(()=>{r.current=!0}),N.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,f6({fromRouteId:e},s)))},[t,e])}new Promise(()=>{});const Ost=()=>{const{roomId:t}=Ast(),e=Tst(),[r,n]=N.useState(null),[i,s]=N.useState(!0),[a,o]=N.useState([]);N.useEffect(()=>{if(!t)return;const g=Ft(Ye,"exam_rooms",t),v=Vo(g,w=>{w.exists()?n({id:w.id,...w.data()}):(on.error("Phng thi khng tn ti!"),e("/admin/exam-manager")),s(!1)},w=>{console.error("Error fetching room:",w),s(!1)}),x=lo(ra,`exam_progress/${t}`),b=X1(x,w=>{if(w.exists()){const E=w.val(),A=Object.keys(E).map(k=>({uid:k,...E[k]}));o(A)}else o([])});return()=>{v(),b()}},[t,e]);const l=async g=>{if(r)try{await si(Ft(Ye,"exam_rooms",r.id),{status:g}),on.success(` cp nht trng thi: ${g}`)}catch{on.error("Li cp nht trng thi")}},u=async()=>{if(!(!r||!window.confirm("Bn c chc chn mun xa phng thi ny?")))try{await OS(Ft(Ye,"exam_rooms",r.id)),on.success(" xa phng thi"),e("/admin/exam-manager")}catch{on.error("Li xa phng thi")}},f=async(g,v)=>{if(window.confirm(`Mi th sinh ${v} ra khi phng?`))try{await A5(lo(ra,`exam_progress/${t}/${g}`)),on.success(` mi ${v} ra khi phng`)}catch{on.error("Li khi mi th sinh")}},h=async(g,v)=>{if(window.confirm(`Buc th sinh ${v} np bi?`))try{await k5(lo(ra,`exam_progress/${t}/${g}`),{status:"submitted",force_submit:!0}),on.success(` buc ${v} np bi`)}catch{on.error("Li khi buc np bi")}};return i?m.jsx("div",{className:"p-8 text-center",children:"ang ti thng tin phng thi..."}):r?m.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:r.name}),m.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[m.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full",children:r.license_id?`Hng ${r.license_id}`:"T do"}),m.jsxs("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:[r.duration," pht"]}),m.jsx("span",{className:`px-3 py-1 rounded-full ${r.status==="in_progress"?"bg-green-100 text-green-700":r.status==="finished"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="waiting"?"ang ch":r.status==="in_progress"?"ang din ra":" kt thc"})]})]}),m.jsxs("div",{className:"flex gap-2",children:[r.status==="waiting"&&m.jsxs("button",{onClick:()=>l("in_progress"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[m.jsx(y4e,{})," Bt u"]}),r.status==="in_progress"&&m.jsxs("button",{onClick:()=>l("finished"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[m.jsx(w4e,{})," Kt thc"]}),m.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 rounded-lg hover:bg-red-50",children:[m.jsx(Gc,{})," Xa phng"]})]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:m.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[m.jsx(Bf,{className:"text-blue-500"}),"Danh sch th sinh (",a.length,")"]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Th sinh"}),m.jsx("th",{className:"px-6 py-4",children:"SBD"}),m.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),m.jsx("th",{className:"px-6 py-4",children:"Tin "}),m.jsx("th",{className:"px-6 py-4",children:"im tm tnh"}),m.jsx("th",{className:"px-6 py-4",children:"Thi gian cn"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Thao tc"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Cha c th sinh no tham gia"})}):a.map(g=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800",children:[g.user_name,m.jsx("div",{className:"text-xs text-gray-400 font-normal",children:g.user_email})]}),m.jsx("td",{className:"px-6 py-4 text-gray-600",children:g.user_sbd}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="doing"?"bg-blue-100 text-blue-700":g.status==="submitted"?"bg-green-100 text-green-700":g.status==="offline"?"bg-gray-100 text-gray-500":"bg-yellow-100 text-yellow-700"}`,children:g.status==="doing"?"ang lm bi":g.status==="submitted"?" np":g.status==="offline"?"Mt kt ni":" vo"})}),m.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[g.answers_count||0,"/",g.total_questions||0," cu"]}),m.jsx("td",{className:"px-6 py-4 font-bold text-blue-600",children:g.score!==void 0?g.score.toFixed(1):"--"}),m.jsx("td",{className:"px-6 py-4 text-gray-600",children:g.time_left?`${Math.floor(g.time_left/60)}p ${g.time_left%60}s`:"--"}),m.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[m.jsx("button",{onClick:()=>h(g.uid,g.user_name),title:"Buc np bi",className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",children:m.jsx(Eee,{})}),m.jsx("button",{onClick:()=>f(g.uid,g.user_name),title:"Mi ra khi phng",className:"p-2 text-red-600 hover:bg-red-50 rounded",children:m.jsx(I4e,{})})]})]},g.uid))})]})})]})]}):m.jsx("div",{className:"p-8 text-center",children:"Khng tm thy phng thi"})},Rst=({userProfile:t,onBack:e})=>{const[r,n]=N.useState([]),[i,s]=N.useState(!1),[a,o]=N.useState(!1),[l,u]=N.useState(""),[f,h]=N.useState(45),[g,v]=N.useState(""),[x,b]=N.useState(""),[w,E]=N.useState(null),[A,k]=N.useState([]),[R,j]=N.useState([]),[P,S]=N.useState("");N.useEffect(()=>{I(),Fn(async()=>{const{fetchLicenses:M}=await Promise.resolve().then(()=>rM);return{fetchLicenses:M}},void 0).then(({fetchLicenses:M})=>{M().then(k)}),(async()=>{const M=pr(Wt(Ye,"courses"),uo("createdAt","desc")),F=await _n(M);j(F.docs.map(U=>({id:U.id,...U.data()})))})()},[]);const I=async()=>{var D;s(!0);try{let M;["admin","quan_ly","lanh_dao"].includes(t.role)?M=pr(Wt(Ye,"exam_rooms"),uo("created_at","desc")):M=pr(Wt(Ye,"exam_rooms"),Ar("teacher_id","==",t.id),uo("created_at","desc"));const U=(await _n(M)).docs.map(le=>({id:le.id,...le.data()}));n(U)}catch(M){console.error("Error fetching rooms:",M),(M==null?void 0:M.code)==="permission-denied"?on.error("Bn khng c quyn truy cp danh sch phng thi."):(D=M==null?void 0:M.message)!=null&&D.includes("index")?on.warning("H thng ang khi to d liu (To Index). Vui lng i 1-2 pht ri ti li trang."):on.error("Khng th ti danh sch phng thi. Vui lng kim tra kt ni.")}finally{s(!1)}},O=async D=>{if(D.preventDefault(),!l||!x){on.error("Vui lng in y  thng tin.");return}const M=A.find(U=>U.id===x),F=R.find(U=>U.id===P);try{await Qf(Wt(Ye,"exam_rooms"),{room_name:l,license_id:x,license_name:(M==null?void 0:M.name)||"Unknown",teacher_id:t.id,teacher_name:t.full_name||t.email||"Unknown",status:"waiting",duration:Number(f),password:g||null,created_at:Ua(),is_paused:!1,course_id:P||null,course_name:(F==null?void 0:F.name)||null}),on.success("To phng thi thnh cng!"),o(!1),u(""),v(""),S(""),I()}catch(U){console.error(U),on.error("Li khi to phng.")}};return w?m.jsx(Ost,{roomId:w,onBack:()=>{E(null),I()}}):m.jsxs("div",{className:"p-6 max-w-7xl mx-auto font-sans text-gray-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-blue-800",children:"Qun l Thi Trc Tuyn"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Quay li"}),m.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[m.jsx(wf,{})," To Phng Thi"]})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn Phng"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hng Bng"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gio Vin"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng Thi"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chi tit"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-4",children:"ang ti..."})}):r.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"Cha c phng thi no."})}):r.map(D=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:D.room_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.license_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.teacher_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                            ${D.status==="waiting"?"bg-yellow-100 text-yellow-800":D.status==="in_progress"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status==="waiting"?"ang ch":D.status==="in_progress"?"ang thi":"Kt thc"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.jsxs("button",{onClick:()=>E(D.id),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:[m.jsx(f4e,{})," Xem chi tit"]})})]},D.id))})]})}),a&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"To Phng Thi Mi"}),m.jsxs("form",{onSubmit:O,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tn phng thi"}),m.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"V d: Thi th M1 - Ln 1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hng bng"}),m.jsxs("select",{value:x,onChange:D=>b(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,children:[m.jsx("option",{value:"",children:"-- Chn hng bng --"}),A.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lp (Ty chn -  t ng vo phng)"}),m.jsxs("select",{value:P,onChange:D=>S(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[m.jsx("option",{value:"",children:"-- Khng chn lp --"}),R.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thi gian lm bi (pht)"}),m.jsx("input",{type:"number",value:f,onChange:D=>h(Number(D.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",min:"1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mt khu (Ty chn)"}),m.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:" trng nu khng cn mt khu"})]}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"To phng"})]})]})]})})]})},Pst=({onBack:t})=>{const[e,r]=N.useState("7d"),[n,i]=N.useState(null),[s,a]=N.useState(!1),[o,l]=N.useState(null);N.useEffect(()=>{(async()=>{a(!0);try{const h=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:e})});if(h.ok){const g=await h.json();i(g)}else l("Failed to fetch data")}catch(h){console.error(h),l("Error connecting to server")}finally{a(!1)}})()},[e]);const u=["#0088FE","#00C49F","#FFBB28","#FF8042"];return m.jsxs(j0.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"container mx-auto px-4 py-8 pb-24",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[m.jsx("button",{onClick:t,className:"p-3 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors shadow-sm bg-white dark:bg-zinc-900",children:m.jsx(eg,{className:"text-xl text-gray-600 dark:text-gray-300"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Thng k chi tit"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Phn tch d liu truy cp website"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsx(n4e,{className:"text-gray-400 ml-2"}),m.jsxs("select",{value:e,onChange:f=>r(f.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 dark:text-gray-200 focus:ring-0 cursor-pointer outline-none",children:[m.jsx("option",{value:"7d",children:"7 ngy qua"}),m.jsx("option",{value:"30d",children:"30 ngy qua"}),m.jsx("option",{value:"today",children:"Hm nay"})]})]})]}),s&&!n&&m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),n&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx(l2,{label:"Ngi dng mi",value:n.metrics.newUsers,color:"blue"}),m.jsx(l2,{label:"Phin truy cp",value:n.metrics.totalSessions,color:"purple"}),m.jsx(l2,{label:"Thi gian TB",value:`${Math.floor(n.metrics.avgSessionDuration/60)}m ${Math.floor(n.metrics.avgSessionDuration%60)}s`,color:"green"}),m.jsx(l2,{label:"T l thot",value:`${n.metrics.bounceRate.toFixed(1)}%`,color:"orange"})]}),m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsx("h3",{className:"text-lg font-bold mb-6 text-gray-800 dark:text-white",children:"Xu hng truy cp"}),m.jsx("div",{className:"h-[300px]",children:m.jsx(lO,{width:"100%",height:"100%",children:m.jsxs(Lae,{data:n.chart,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorVisitsPage",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),m.jsx(Oj,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),m.jsx(Dj,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"},dy:10}),m.jsx(Mj,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"}}),m.jsx(DO,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"}}),m.jsx(_T,{type:"monotone",dataKey:"visits",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorVisitsPage)",name:"Lt truy cp"})]})})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(h4e,{className:"text-blue-500"})," Trang c xem nhiu nht"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-left text-xs font-semibold text-gray-500 border-b border-gray-100 dark:border-zinc-800",children:[m.jsx("th",{className:"pb-3 pl-2",children:"Tiu  trang"}),m.jsx("th",{className:"pb-3 text-right pr-2",children:"Lt xem"})]})}),m.jsx("tbody",{children:n.topPages.map((f,h)=>m.jsxs("tr",{className:"border-b border-gray-50 dark:border-zinc-800/50 last:border-none hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[m.jsx("td",{className:"py-3 pl-2 text-sm text-gray-700 dark:text-gray-300 truncate max-w-[200px]",title:f.name,children:f.name}),m.jsx("td",{className:"py-3 pr-2 text-right text-sm font-bold text-gray-800 dark:text-white",children:f.value.toLocaleString()})]},h))})]})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(d4e,{className:"text-purple-500"})," Thit b"]}),m.jsx("div",{className:"h-[200px] flex items-center justify-center",children:m.jsx(lO,{width:"100%",height:"100%",children:m.jsxs(OVe,{children:[m.jsx(nae,{data:n.devices,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:n.devices.map((f,h)=>m.jsx(F4,{fill:u[h%u.length]},`cell-${h}`))}),m.jsx(DO,{}),m.jsx(pne,{verticalAlign:"bottom",height:36})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(v4e,{className:"text-red-500"})," a im (Top 5)"]}),m.jsx("div",{className:"space-y-3",children:n.cities.slice(0,5).map((f,h)=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:f.name}),m.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[m.jsx("div",{className:"w-24 h-2 bg-gray-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${f.value/n.cities[0].value*100}%`}})}),m.jsx("span",{className:"text-xs font-bold w-8 text-right",children:f.value})]})]},h))})]})]})]})]})]})},l2=({label:t,value:e,color:r})=>{const n={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",green:"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400",purple:"bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400"};return m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:t}),m.jsx("p",{className:`text-xl font-bold ${n[r].split(" ")[1]}`,children:e})]})},jst=(t,e)=>{const r=n=>{const i=n.match(/(\d+)$/);return i?parseInt(i[1],10):0};return r(t.id)-r(e.id)},jue=async()=>{const{data:t,error:e}=await OE.from("licenses").select(`
      id,
      name,
      display_order,
      subjects (
        id,
        name,
        display_order,
        questions (
          *,
          answers (
            id,
            text
          )
        )
      )
    `).order("display_order",{ascending:!0}).order("display_order",{foreignTable:"subjects",ascending:!0});if(e)throw console.error("Error fetching data from Supabase:",e),e;return t.map(n=>({id:n.id,name:n.name,subjects:n.subjects.map(i=>({id:i.id,name:i.name,questions:i.questions.sort(jst).map(s=>({id:s.id,text:s.text,image:s.image,correctAnswerId:s.correct_answer_id,answers:s.answers.map(a=>({id:a.id,text:a.text}))}))}))}))},rM=Object.freeze(Object.defineProperty({__proto__:null,fetchLicenses:jue},Symbol.toStringTag,{value:"Module"})),Dst=()=>{const{user:t}=nA(),e=bn(r=>r.userProfile);N.useEffect(()=>{if(!ra)return;const r=lo(ra,".info/connected");let n,i;if(t&&e)n=lo(ra,"/status/"+t.uid),i={state:"online",last_changed:m0(),role:e.role||"unknown",name:e.full_name||e.fullName||"User",photoURL:e.photoURL||"",device:"web"};else{let a=localStorage.getItem("guest_session_id");a||(a="guest_"+Math.random().toString(36).substr(2,9),localStorage.setItem("guest_session_id",a)),n=lo(ra,"/status/"+a),i={state:"online",last_changed:m0(),role:"guest",name:"Khch",device:"web"}}const s=X1(r,a=>{if(a.val()===!1)return;const o={state:"offline",last_changed:m0()};vee(n).set(o).then(()=>{GS(n,i)})});return()=>{s()}},[t,e])};var c2={},VK;function Mst(){if(VK)return c2;VK=1;function t(s){if(typeof window>"u")return;const a=document.createElement("style");return a.setAttribute("type","text/css"),a.innerHTML=s,document.head.appendChild(a),s}Object.defineProperty(c2,"__esModule",{value:!0});var e=om();function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var n=r(e);t(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const i=e.forwardRef(function({style:a={},className:o="",autoFill:l=!1,play:u=!0,pauseOnHover:f=!1,pauseOnClick:h=!1,direction:g="left",speed:v=50,delay:x=0,loop:b=0,gradient:w=!1,gradientColor:E="white",gradientWidth:A=200,onFinish:k,onCycleComplete:R,onMount:j,children:P},S){const[I,O]=e.useState(0),[D,M]=e.useState(0),[F,U]=e.useState(1),[le,de]=e.useState(!1),J=e.useRef(null),Q=S||J,fe=e.useRef(null),ee=e.useCallback(()=>{if(fe.current&&Q.current){const ue=Q.current.getBoundingClientRect(),me=fe.current.getBoundingClientRect();let ce=ue.width,ie=me.width;(g==="up"||g==="down")&&(ce=ue.height,ie=me.height),U(l&&ce&&ie&&ie<ce?Math.ceil(ce/ie):1),O(ce),M(ie)}},[l,Q,g]);e.useEffect(()=>{if(le&&(ee(),fe.current&&Q.current)){const ue=new ResizeObserver(()=>ee());return ue.observe(Q.current),ue.observe(fe.current),()=>{ue&&ue.disconnect()}}},[ee,Q,le]),e.useEffect(()=>{ee()},[ee,P]),e.useEffect(()=>{de(!0)},[]),e.useEffect(()=>{typeof j=="function"&&j()},[]);const ge=e.useMemo(()=>l?D*F/v:D<I?I/v:D/v,[l,I,D,F,v]),q=e.useMemo(()=>Object.assign(Object.assign({},a),{"--pause-on-hover":!u||f?"paused":"running","--pause-on-click":!u||f&&!h||h?"paused":"running","--width":g==="up"||g==="down"?"100vh":"100%","--transform":g==="up"?"rotate(-90deg)":g==="down"?"rotate(90deg)":"none"}),[a,u,f,h,g]),z=e.useMemo(()=>({"--gradient-color":E,"--gradient-width":typeof A=="number"?`${A}px`:A}),[E,A]),V=e.useMemo(()=>({"--play":u?"running":"paused","--direction":g==="left"?"normal":"reverse","--duration":`${ge}s`,"--delay":`${x}s`,"--iteration-count":b?`${b}`:"infinite","--min-width":l?"auto":"100%"}),[u,g,ge,x,b,l]),W=e.useMemo(()=>({"--transform":g==="up"?"rotate(90deg)":g==="down"?"rotate(-90deg)":"none"}),[g]),Y=e.useCallback(ue=>[...Array(Number.isFinite(ue)&&ue>=0?ue:0)].map((me,ce)=>n.default.createElement(e.Fragment,{key:ce},e.Children.map(P,ie=>n.default.createElement("div",{style:W,className:"rfm-child"},ie)))),[W,P]);return le?n.default.createElement("div",{ref:Q,style:q,className:"rfm-marquee-container "+o},w&&n.default.createElement("div",{style:z,className:"rfm-overlay"}),n.default.createElement("div",{className:"rfm-marquee",style:V,onAnimationIteration:R,onAnimationEnd:k},n.default.createElement("div",{className:"rfm-initial-child-container",ref:fe},e.Children.map(P,ue=>n.default.createElement("div",{style:W,className:"rfm-child"},ue))),Y(F-1)),n.default.createElement("div",{className:"rfm-marquee",style:V},Y(F))):null});return c2.default=i,c2}var Lst=Mst();const Fst=Yo(Lst),Bst=()=>{const[t,e]=N.useState([]),{user:r}=nA(),{userProfile:n}=bn(s=>s),i=async()=>{const s=await bee(r==null?void 0:r.uid,n==null?void 0:n.role);e(s)};return N.useEffect(()=>{i();const s=setInterval(i,300*1e3);return()=>clearInterval(s)},[r,n]),N.useEffect(()=>{const s=pr(Wt(Ye,"notifications"),Ar("targetType","==","all"),Ar("type","in",["special","attention"])),a=Vo(s,()=>{i()});let o=()=>{};if(r){const l=pr(Wt(Ye,"users",r.uid,"notifications"),Ar("type","in",["special","attention"]));o=Vo(l,()=>{i()})}return()=>{a(),o()}},[r]),t.length===0?null:m.jsx("div",{className:"w-full z-30 sticky top-16",children:t.map(s=>m.jsxs("div",{className:`
                        w-full py-2 px-4 flex items-center shadow-md
                        ${s.type==="special"?"bg-gradient-to-r from-red-600 to-red-700 text-white":"bg-gradient-to-r from-amber-400 to-orange-500 text-gray-900"}
                    `,children:[m.jsxs("div",{className:"flex-shrink-0 mr-4 font-bold flex items-center gap-2 uppercase tracking-wider text-sm",children:[s.type==="special"?m.jsx(pv,{className:"animate-pulse"}):m.jsx(See,{}),s.type==="special"?"Thng bo khn":"Ch "]}),m.jsxs(Fst,{gradient:!1,speed:50,className:"flex-1 font-medium text-sm md:text-base",children:[m.jsxs("span",{className:"mx-4",children:[s.title,": ",s.message]}),m.jsx("span",{className:"mx-4",children:" | "}),m.jsxs("span",{className:"mx-4",children:[s.title,": ",s.message]})]})]},s.id))})},Ust=()=>{Dst();const t=bn(V=>V.appState),e=bn(V=>V.setAppState),r=bn(V=>V.licenses),n=bn(V=>V.setLicenses),i=bn(V=>V.selectedLicense),s=bn(V=>V.setSelectedLicense),a=bn(V=>V.subjects),o=bn(V=>V.setSubjects),l=bn(V=>V.selectedSubject),u=bn(V=>V.setSelectedSubject),f=bn(V=>V.currentQuiz),h=bn(V=>V.setCurrentQuiz),g=bn(V=>V.userAnswers),v=bn(V=>V.setUserAnswers),x=bn(V=>V.score),b=bn(V=>V.setScore),w=bn(V=>V.userName),E=bn(V=>V.setUserName),A=bn(V=>V.userProfile),k=bn(V=>V.setUserProfile),R=bn(V=>V.resumeSessionAvailable),j=bn(V=>V.setResumeSessionAvailable),P=bn(V=>V.isMobileApp),S=bn(V=>V.setIsMobileApp);N.useEffect(()=>{const W=new URLSearchParams(window.location.search).get("mode")==="app",Y=Lg.isNativePlatform();console.log("DEBUG: Checking Platform Mode"),console.log("- URL Search:",window.location.search),console.log("- isTestMode:",W),console.log("- isNative:",Y),Y||W?(console.log("SETTING MOBILE APP MODE: TRUE"),S(!0)):(console.log("SETTING MOBILE APP MODE: FALSE"),S(!1))},[]),N.useEffect(()=>{(async()=>{try{const W=await jue();n(W)}catch(W){console.error("Error loading licenses:",W)}})()},[]),N.useEffect(()=>{const V=window.location.pathname;if(V==="/thitructuyen"||V==="/ontap/thitructuyen"){e(et.THI_TRUC_TUYEN);return}const W=KJ(Js,async Y=>{if(Y){Fn(async()=>{const{onSnapshot:me,doc:ce}=await Promise.resolve().then(()=>$u);return{onSnapshot:me,doc:ce}},void 0).then(({onSnapshot:me,doc:ce})=>{me(ce(Ye,"users",Y.uid),ie=>{if(ie.exists()){const ve={id:ie.id,...ie.data()};k(ve),E(ve.full_name||Y.displayName||"")}})});let ue=null;try{ue=await cCe(Y.uid)}catch(me){console.error(" Critical: Could not fetch user profile (Network/Permission):",me)}if(ue===null){console.log(" User Profile missing for Auth UID:",Y.uid,"- Creating default profile...");const me={id:Y.uid,full_name:Y.displayName||"Ngi dng mi",email:Y.email||"",role:"hoc_vien",photoURL:Y.photoURL||"",isVerified:!1};try{const{setDoc:ce,doc:ie}=await Fn(async()=>{const{setDoc:ve,doc:Ue}=await Promise.resolve().then(()=>$u);return{setDoc:ve,doc:Ue}},void 0);await ce(ie(Ye,"users",Y.uid),me,{merge:!0}),ue=me,k(ue),E(ue.full_name),console.log(" Created default profile successfully.")}catch(ce){console.error(" Failed to create default profile:",ce)}}Fn(async()=>{const{initializeFCM:me}=await import("./fcmClient-BJx-aE5p.js");return{initializeFCM:me}},[]).then(({initializeFCM:me})=>{me(Y.uid)}),Fn(async()=>{const{loadSession:me,getLicensePreference:ce}=await import("./sessionService-CxCtOUx6.js");return{loadSession:me,getLicensePreference:ce}},[]).then(({loadSession:me,getLicensePreference:ce})=>{const ie=me(Y.uid);if(ie){console.log("Restoring session...",ie),h(ie.quiz),v(ie.userAnswers),s(ie.selectedLicense),u(ie.selectedSubject),ie.mode==="online_exam"?e(et.IN_ONLINE_EXAM):e(et.IN_QUIZ);return}(async()=>{if(ue!=null&&ue.defaultLicenseId){const G=r.find(Je=>Je.id===ue.defaultLicenseId);if(G){s(G),e(et.MODE_SELECTION);return}}if(ue!=null&&ue.courseId)try{const G=Ft(Ye,"courses",ue.courseId),Je=await uc(G);if(Je.exists()){const Oe=Je.data();if(Oe.licenseId){const rt=r.find(Xe=>Xe.id===Oe.licenseId);if(rt){s(rt),e(et.MODE_SELECTION),Fn(async()=>{const{updateDoc:Xe}=await Promise.resolve().then(()=>$u);return{updateDoc:Xe}},void 0).then(({updateDoc:Xe})=>{Xe(Ft(Ye,"users",Y.uid),{defaultLicenseId:Oe.licenseId}).catch(je=>console.error("Self-heal error:",je))});return}}}}catch(G){console.error("Error in auth fallback:",G)}const Ue=ce();if(Ue){const G=r.find(Je=>Je.id===Ue);G&&s(G),e(et.DASHBOARD)}else e(et.DASHBOARD)})()})}else k(null),E(""),e(et.WELCOME)});return()=>{W()}},[r]);const I=N.useCallback((V,W,Y,ue,me)=>{!ue||!A||Fn(async()=>{const{saveSession:ce}=await import("./sessionService-CxCtOUx6.js");return{saveSession:ce}},[]).then(({saveSession:ce})=>{ce(A.id,ue,me,Y,V,W,i,l)})},[i,l,A]);N.useEffect(()=>{if(t===et.IN_QUIZ||t===et.IN_ONLINE_EXAM){j(!1);return}A&&Fn(async()=>{const{loadSession:V}=await import("./sessionService-CxCtOUx6.js");return{loadSession:V}},[]).then(({loadSession:V})=>{const W=V(A.id);j(!!W)})},[t,A]);const O=()=>{Fn(async()=>{const{loadSession:V}=await import("./sessionService-CxCtOUx6.js");return{loadSession:V}},[]).then(({loadSession:V})=>{if(!A)return;const W=V(A.id);W&&(h(W.quiz),v(W.userAnswers),s(W.selectedLicense),u(W.selectedSubject),W.mode==="online_exam"?e(et.IN_ONLINE_EXAM):e(et.IN_QUIZ))})},D=async()=>{if(A){if(A.defaultLicenseId){const V=r.find(W=>W.id===A.defaultLicenseId);if(V){s(V),e(et.MODE_SELECTION);return}}else if(A.courseId)try{const V=Ft(Ye,"courses",A.courseId),W=await uc(V);if(W.exists()){const Y=W.data();if(Y.licenseId){const ue=r.find(me=>me.id===Y.licenseId);if(ue){s(ue),e(et.MODE_SELECTION),Fn(async()=>{const{updateDoc:me}=await Promise.resolve().then(()=>$u);return{updateDoc:me}},void 0).then(({updateDoc:me})=>{me(Ft(Ye,"users",A.id),{defaultLicenseId:Y.licenseId}).catch(ce=>console.error("Self-heal failed:",ce))});return}}}}catch(V){console.error("Error in license fallback:",V)}Fn(async()=>{const{getLicensePreference:V}=await import("./sessionService-CxCtOUx6.js");return{getLicensePreference:V}},[]).then(({getLicensePreference:V})=>{const W=V();W&&r.find(Y=>Y.id===W)?(s(r.find(Y=>Y.id===W)),e(et.DASHBOARD)):e(et.LICENSE_SELECTION)})}else e(et.LICENSE_SELECTION)},M=()=>{e(et.LOGIN)},F=()=>{e(et.REGISTER)},U=async V=>{s(V),Fn(async()=>{const{saveLicensePreference:W}=await import("./sessionService-CxCtOUx6.js");return{saveLicensePreference:W}},[]).then(({saveLicensePreference:W})=>{W(V.id)}),e(A?et.MODE_SELECTION:et.NAME_INPUT)},le=V=>{E(V),e(et.MODE_SELECTION)},de=async()=>{if(!i)return;if(await jK(A)!=="ALLOWED"){await MK(A,()=>e(et.LOGIN));return}await DK(A);const W=[];i.subjects.forEach(ce=>{W.push(...ce.questions)});const ue=[...W].sort(()=>.5-Math.random()).slice(0,30),me={id:`exam_${Date.now()}`,title:`Thi Th - ${i.name}`,questions:ue,timeLimit:2700};h(me),v({}),b(0),localStorage.removeItem("ontap_quiz_session"),e(et.IN_ONLINE_EXAM)},J=async V=>{V==="practice"?i&&(o(i.subjects),e(et.SUBJECT_SELECTION)):V==="online_exam"&&de()},Q=async V=>{if(await jK(A)!=="ALLOWED"){await MK(A,()=>e(et.LOGIN));return}await DK(A),u(V);const Y={id:V.id,title:V.name,questions:V.questions,timeLimit:0};h(Y),v({}),localStorage.removeItem("ontap_quiz_session"),e(et.IN_QUIZ)},fe=V=>{if(f){Fn(async()=>{const{clearSession:Y}=await import("./sessionService-CxCtOUx6.js");return{clearSession:Y}},[]).then(({clearSession:Y})=>Y()),j(!1);let W=0;if(f.questions.forEach(Y=>{V[Y.id]===Y.correctAnswerId&&W++}),b(W),v(V),t===et.IN_ONLINE_EXAM)A&&qV(A.id,i.id,i.name,null,"Thi th",W,30,f.timeLimit-0),e(et.EXAM_RESULT);else{if(A&&i){const Y=l?l.name:null;qV(A.id,i.id,i.name,Y,"n tp",W,f.questions.length,0)}e(et.RESULT)}}},ee=()=>{t===et.EXAM_RESULT?de():l&&i&&Q(l)},ge=V=>{V==="dashboard"?e(A?et.DASHBOARD:et.WELCOME):V==="history"?e(et.HISTORY):V==="login"?e(et.LOGIN):V==="my_class"?e(et.MY_CLASS):V==="class_management"?e(et.CLASS_MANAGEMENT):V==="account"?e(A?et.ACCOUNT:et.LOGIN):V==="notification_mgmt"?e(et.NOTIFICATION_MGMT):V==="online_exam_management"?e(et.ONLINE_EXAM_MANAGEMENT):V==="mailbox"?e(et.MAILBOX):V==="thi_truc_tuyen"&&e(et.THI_TRUC_TUYEN)},q=async()=>{Fn(async()=>{const{clearSession:V}=await import("./sessionService-CxCtOUx6.js");return{clearSession:V}},[]).then(({clearSession:V})=>V()),await Js.signOut()},z=m.jsx(BY,{mode:"wait",children:m.jsx(j0.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},transition:{duration:.2},className:"w-full h-full",children:(()=>{switch(t){case et.THI_TRUC_TUYEN:return m.jsx(LK,{});case et.WELCOME:return m.jsx(KV,{onStart:D,onLoginClick:M,onRegisterClick:F});case et.LOGIN:return m.jsx(BCe,{onBack:()=>e(et.WELCOME)});case et.REGISTER:return m.jsx(UCe,{onBack:()=>e(et.WELCOME),onSuccess:()=>e(et.DASHBOARD)});case et.LICENSE_SELECTION:return m.jsx(zCe,{licenses:r,onSelect:U,onBack:()=>e(et.WELCOME)});case et.NAME_INPUT:return m.jsx($Ce,{onNameSubmit:le,onBack:()=>e(et.LICENSE_SELECTION)});case et.MODE_SELECTION:return m.jsx(HCe,{onModeSelect:J,licenseName:(i==null?void 0:i.name)||"",userName:w,onSwitchLicense:()=>e(et.LICENSE_SELECTION)});case et.SUBJECT_SELECTION:return m.jsx(qCe,{subjects:a,progress:{},onSelect:Q,onBack:()=>e(et.MODE_SELECTION)});case et.IN_QUIZ:return f?m.jsx(WCe,{quiz:f,onFinish:fe,onBack:()=>e(et.SUBJECT_SELECTION),initialAnswers:g,initialIndex:(()=>{try{const V=localStorage.getItem("ontap_quiz_session");return V?JSON.parse(V).currentQuestionIndex:0}catch{return 0}})(),onProgressUpdate:(V,W,Y)=>I(V,W,Y,f,"practice")}):null;case et.IN_ONLINE_EXAM:return f?m.jsx(Ote,{quiz:f,onFinish:fe,onBack:()=>e(et.MODE_SELECTION),userName:w,userProfile:A,selectedLicense:i,initialAnswers:g,initialIndex:(()=>{try{const V=localStorage.getItem("ontap_quiz_session");return V?JSON.parse(V).currentQuestionIndex:0}catch{return 0}})(),initialTime:(()=>{try{const V=localStorage.getItem("ontap_quiz_session");return V?JSON.parse(V).timeLeft:void 0}catch{return}})(),onProgressUpdate:(V,W,Y)=>I(V,W,Y,f,"online_exam")}):null;case et.RESULT:return f?m.jsx(QCe,{quiz:f,userAnswers:g,score:x,onRetry:ee,onBack:()=>e(et.SUBJECT_SELECTION),userName:w}):null;case et.EXAM_RESULT:return f?m.jsx(XCe,{quiz:f,userAnswers:g,score:x,onRetry:ee,onBack:()=>e(et.MODE_SELECTION),userName:w}):null;case et.DASHBOARD:return m.jsx(jVe,{userProfile:A,onStart:()=>e(et.LICENSE_SELECTION),onHistoryClick:()=>e(et.HISTORY),onClassClick:()=>ge(A.role==="hoc_vien"?"my_class":"class_management"),onOnlineExamClick:()=>e(et.ONLINE_EXAM_MANAGEMENT)});case et.HISTORY:return m.jsx(DVe,{userProfile:A,onBack:()=>e(et.DASHBOARD)});case et.MY_CLASS:return m.jsx(LVe,{userProfile:A,onBack:()=>e(et.DASHBOARD)});case et.CLASS_MANAGEMENT:return m.jsx(zZe,{userProfile:A,onBack:()=>e(et.DASHBOARD)});case et.ACCOUNT:return m.jsx(HZe,{userProfile:A,onBack:()=>e(et.DASHBOARD),onNavigate:ge});case et.NOTIFICATION_MGMT:return A?m.jsx(fCe,{userProfile:A}):null;case et.ONLINE_EXAM_MANAGEMENT:return A?m.jsx(Rst,{userProfile:A,onBack:()=>e(et.DASHBOARD)}):null;case et.MAILBOX:return A?m.jsx(cst,{userProfile:A,onBack:()=>e(et.DASHBOARD)}):null;case et.ANALYTICS:return m.jsx(Pst,{onBack:()=>e(et.DASHBOARD)});default:return m.jsx(KV,{onStart:D,onLoginClick:M,onRegisterClick:F})}})()},t)});return t===et.THI_TRUC_TUYEN?m.jsx(LK,{}):m.jsxs("div",{className:`min-h-screen bg-background text-foreground font-sans transition-colors duration-300 ${P?"pb-16":"pt-16"}`,children:[m.jsx(O4e,{}),m.jsx(Rge,{position:"top-right",richColors:!0,expand:!0}),R&&m.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-black px-6 py-3 rounded-full shadow-xl z-50 animate-bounce cursor-pointer hover:bg-yellow-500 font-bold flex items-center gap-2",onClick:O,children:[m.jsx("span",{children:" Bn ang c bi thi lm d!"}),m.jsx("span",{className:"underline",children:"Lm tip ngay"})]}),m.jsx(ust,{userProfile:A}),!P&&m.jsxs(m.Fragment,{children:[m.jsx(Lnt,{userProfile:A,onNavigate:ge,onLogout:q}),m.jsx(Bst,{})]}),z,P&&m.jsx(dst,{userProfile:A,currentScreen:t,onNavigate:ge,onLogout:q})]})},Vst=()=>m.jsxs(qK,{children:[m.jsx($ge,{}),m.jsx(Ust,{}),m.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:m.jsx(zge,{})})]}),Due=document.getElementById("root");if(!Due)throw new Error("Could not find root element to mount to");const zst=Sfe.createRoot(Due);zst.render(m.jsx(ke.StrictMode,{children:m.jsx(Dnt,{children:m.jsx(qK,{children:m.jsx(Vst,{})})})}));export{Lg as C,iat as W,Ite as a,Ye as b,z1 as c,Ft as d,UP as r,si as u};
