const r="ontap_quiz_session",a="ontap_license_pref",m=(e,s,t,o,c,l,i,S)=>{try{const n={userId:e,quiz:s,mode:t,userAnswers:o,currentQuestionIndex:c,timeLeft:l,selectedLicense:i,selectedSubject:S,timestamp:Date.now()};localStorage.setItem(r,JSON.stringify(n))}catch(n){console.error("Failed to save session",n)}},g=e=>{try{const s=localStorage.getItem(r);if(!s)return null;const t=JSON.parse(s);if(e&&t.userId!==e)return null;const o=1440*60*1e3;return Date.now()-t.timestamp>o?(u(),null):t}catch(s){return console.error("Failed to load session",s),null}},u=()=>{localStorage.removeItem(r)},f=e=>{localStorage.setItem(a,e)},p=()=>localStorage.getItem(a);export{u as clearSession,p as getLicensePreference,g as loadSession,f as saveLicensePreference,m as saveSession};
