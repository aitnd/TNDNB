var pfe=Object.defineProperty;var gfe=(t,e,r)=>e in t?pfe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var CC=(t,e,r)=>gfe(t,typeof e!="symbol"?e+"":e,r);function FY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function ll(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function vfe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var NC={exports:{}},By={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var uF;function yfe(){if(uF)return By;uF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return By.Fragment=e,By.jsx=r,By.jsxs=r,By}var dF;function xfe(){return dF||(dF=1,NC.exports=yfe()),NC.exports}var f=xfe(),IC={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hF;function bfe(){if(hF)return Yt;hF=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),m=Symbol.for("react.activity"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function _(H,B,q){this.props=H,this.context=B,this.refs=w,this.updater=q||x}_.prototype.isReactComponent={},_.prototype.setState=function(H,B){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,B,"setState")},_.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=_.prototype;function A(H,B,q){this.props=H,this.context=B,this.refs=w,this.updater=q||x}var R=A.prototype=new k;R.constructor=A,b(R,_.prototype),R.isPureReactComponent=!0;var P=Array.isArray;function j(){}var S={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function O(H,B,q){var W=q.ref;return{$$typeof:t,type:H,key:B,ref:W!==void 0?W:null,props:q}}function D(H,B){return O(H.type,B,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function F(H){var B={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(q){return B[q]})}var U=/\/+/g;function le(H,B){return typeof H=="object"&&H!==null&&H.key!=null?F(""+H.key):B.toString(36)}function de(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(j,j):(H.status="pending",H.then(function(B){H.status==="pending"&&(H.status="fulfilled",H.value=B)},function(B){H.status==="pending"&&(H.status="rejected",H.reason=B)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function Z(H,B,q,W,Y){var ue=typeof H;(ue==="undefined"||ue==="boolean")&&(H=null);var pe=!1;if(H===null)pe=!0;else switch(ue){case"bigint":case"string":case"number":pe=!0;break;case"object":switch(H.$$typeof){case t:case e:pe=!0;break;case d:return pe=H._init,Z(pe(H._payload),B,q,W,Y)}}if(pe)return Y=Y(H),pe=W===""?"."+le(H,0):W,P(Y)?(q="",pe!=null&&(q=pe.replace(U,"$&/")+"/"),Z(Y,B,q,"",function(ye){return ye})):Y!=null&&(M(Y)&&(Y=D(Y,q+(Y.key==null||H&&H.key===Y.key?"":(""+Y.key).replace(U,"$&/")+"/")+pe)),B.push(Y)),1;pe=0;var ce=W===""?".":W+":";if(P(H))for(var ie=0;ie<H.length;ie++)W=H[ie],ue=ce+le(W,ie),pe+=Z(W,B,q,ue,Y);else if(ie=v(H),typeof ie=="function")for(H=ie.call(H),ie=0;!(W=H.next()).done;)W=W.value,ue=ce+le(W,ie++),pe+=Z(W,B,q,ue,Y);else if(ue==="object"){if(typeof H.then=="function")return Z(de(H),B,q,W,Y);throw B=String(H),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return pe}function J(H,B,q){if(H==null)return H;var W=[],Y=0;return Z(H,W,"","",function(ue){return B.call(q,ue,Y++)}),W}function he(H){if(H._status===-1){var B=H._result;B=B(),B.then(function(q){(H._status===0||H._status===-1)&&(H._status=1,H._result=q)},function(q){(H._status===0||H._status===-1)&&(H._status=2,H._result=q)}),H._status===-1&&(H._status=0,H._result=B)}if(H._status===1)return H._result.default;throw H._result}var ee=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ve={map:J,forEach:function(H,B,q){J(H,function(){B.apply(this,arguments)},q)},count:function(H){var B=0;return J(H,function(){B++}),B},toArray:function(H){return J(H,function(B){return B})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Yt.Activity=m,Yt.Children=ve,Yt.Component=_,Yt.Fragment=r,Yt.Profiler=i,Yt.PureComponent=A,Yt.StrictMode=n,Yt.Suspense=l,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return S.H.useMemoCache(H)}},Yt.cache=function(H){return function(){return H.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(H,B,q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var W=b({},H.props),Y=H.key;if(B!=null)for(ue in B.key!==void 0&&(Y=""+B.key),B)!I.call(B,ue)||ue==="key"||ue==="__self"||ue==="__source"||ue==="ref"&&B.ref===void 0||(W[ue]=B[ue]);var ue=arguments.length-2;if(ue===1)W.children=q;else if(1<ue){for(var pe=Array(ue),ce=0;ce<ue;ce++)pe[ce]=arguments[ce+2];W.children=pe}return O(H.type,Y,W)},Yt.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Yt.createElement=function(H,B,q){var W,Y={},ue=null;if(B!=null)for(W in B.key!==void 0&&(ue=""+B.key),B)I.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=B[W]);var pe=arguments.length-2;if(pe===1)Y.children=q;else if(1<pe){for(var ce=Array(pe),ie=0;ie<pe;ie++)ce[ie]=arguments[ie+2];Y.children=ce}if(H&&H.defaultProps)for(W in pe=H.defaultProps,pe)Y[W]===void 0&&(Y[W]=pe[W]);return O(H,ue,Y)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(H){return{$$typeof:o,render:H}},Yt.isValidElement=M,Yt.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:he}},Yt.memo=function(H,B){return{$$typeof:u,type:H,compare:B===void 0?null:B}},Yt.startTransition=function(H){var B=S.T,q={};S.T=q;try{var W=H(),Y=S.S;Y!==null&&Y(q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(j,ee)}catch(ue){ee(ue)}finally{B!==null&&q.types!==null&&(B.types=q.types),S.T=B}},Yt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Yt.use=function(H){return S.H.use(H)},Yt.useActionState=function(H,B,q){return S.H.useActionState(H,B,q)},Yt.useCallback=function(H,B){return S.H.useCallback(H,B)},Yt.useContext=function(H){return S.H.useContext(H)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(H,B){return S.H.useDeferredValue(H,B)},Yt.useEffect=function(H,B){return S.H.useEffect(H,B)},Yt.useEffectEvent=function(H){return S.H.useEffectEvent(H)},Yt.useId=function(){return S.H.useId()},Yt.useImperativeHandle=function(H,B,q){return S.H.useImperativeHandle(H,B,q)},Yt.useInsertionEffect=function(H,B){return S.H.useInsertionEffect(H,B)},Yt.useLayoutEffect=function(H,B){return S.H.useLayoutEffect(H,B)},Yt.useMemo=function(H,B){return S.H.useMemo(H,B)},Yt.useOptimistic=function(H,B){return S.H.useOptimistic(H,B)},Yt.useReducer=function(H,B,q){return S.H.useReducer(H,B,q)},Yt.useRef=function(H){return S.H.useRef(H)},Yt.useState=function(H){return S.H.useState(H)},Yt.useSyncExternalStore=function(H,B,q){return S.H.useSyncExternalStore(H,B,q)},Yt.useTransition=function(){return S.H.useTransition()},Yt.version="19.2.0",Yt}var fF;function km(){return fF||(fF=1,IC.exports=bfe()),IC.exports}var C=km();const Ne=ll(C),BY=FY({__proto__:null,default:Ne},[C]);var OC={exports:{}},Vy={},RC={exports:{}},PC={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mF;function wfe(){return mF||(mF=1,(function(t){function e(Z,J){var he=Z.length;Z.push(J);e:for(;0<he;){var ee=he-1>>>1,ve=Z[ee];if(0<i(ve,J))Z[ee]=J,Z[he]=ve,he=ee;else break e}}function r(Z){return Z.length===0?null:Z[0]}function n(Z){if(Z.length===0)return null;var J=Z[0],he=Z.pop();if(he!==J){Z[0]=he;e:for(var ee=0,ve=Z.length,H=ve>>>1;ee<H;){var B=2*(ee+1)-1,q=Z[B],W=B+1,Y=Z[W];if(0>i(q,he))W<ve&&0>i(Y,q)?(Z[ee]=Y,Z[W]=he,ee=W):(Z[ee]=q,Z[B]=he,ee=B);else if(W<ve&&0>i(Y,he))Z[ee]=Y,Z[W]=he,ee=W;else break e}}return J}function i(Z,J){var he=Z.sortIndex-J.sortIndex;return he!==0?he:Z.id-J.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,m=null,g=3,v=!1,x=!1,b=!1,w=!1,_=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function R(Z){for(var J=r(u);J!==null;){if(J.callback===null)n(u);else if(J.startTime<=Z)n(u),J.sortIndex=J.expirationTime,e(l,J);else break;J=r(u)}}function P(Z){if(b=!1,R(Z),!x)if(r(l)!==null)x=!0,j||(j=!0,F());else{var J=r(u);J!==null&&de(P,J.startTime-Z)}}var j=!1,S=-1,I=5,O=-1;function D(){return w?!0:!(t.unstable_now()-O<I)}function M(){if(w=!1,j){var Z=t.unstable_now();O=Z;var J=!0;try{e:{x=!1,b&&(b=!1,k(S),S=-1),v=!0;var he=g;try{t:{for(R(Z),m=r(l);m!==null&&!(m.expirationTime>Z&&D());){var ee=m.callback;if(typeof ee=="function"){m.callback=null,g=m.priorityLevel;var ve=ee(m.expirationTime<=Z);if(Z=t.unstable_now(),typeof ve=="function"){m.callback=ve,R(Z),J=!0;break t}m===r(l)&&n(l),R(Z)}else n(l);m=r(l)}if(m!==null)J=!0;else{var H=r(u);H!==null&&de(P,H.startTime-Z),J=!1}}break e}finally{m=null,g=he,v=!1}J=void 0}}finally{J?F():j=!1}}}var F;if(typeof A=="function")F=function(){A(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=M,F=function(){le.postMessage(null)}}else F=function(){_(M,0)};function de(Z,J){S=_(function(){Z(t.unstable_now())},J)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(Z){switch(g){case 1:case 2:case 3:var J=3;break;default:J=g}var he=g;g=J;try{return Z()}finally{g=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(Z,J){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var he=g;g=Z;try{return J()}finally{g=he}},t.unstable_scheduleCallback=function(Z,J,he){var ee=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?ee+he:ee):he=ee,Z){case 1:var ve=-1;break;case 2:ve=250;break;case 5:ve=1073741823;break;case 4:ve=1e4;break;default:ve=5e3}return ve=he+ve,Z={id:d++,callback:J,priorityLevel:Z,startTime:he,expirationTime:ve,sortIndex:-1},he>ee?(Z.sortIndex=he,e(u,Z),r(l)===null&&Z===r(u)&&(b?(k(S),S=-1):b=!0,de(P,he-ee))):(Z.sortIndex=ve,e(l,Z),x||v||(x=!0,j||(j=!0,F()))),Z},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Z){var J=g;return function(){var he=g;g=J;try{return Z.apply(this,arguments)}finally{g=he}}}})(PC)),PC}var pF;function _fe(){return pF||(pF=1,RC.exports=wfe()),RC.exports}var jC={exports:{}},pa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gF;function Efe(){if(gF)return pa;gF=1;var t=km();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,d){var m=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:m==null?null:""+m,children:l,containerInfo:u,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return pa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,pa.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},pa.flushSync=function(l){var u=a.T,d=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=u,n.p=d,n.d.f()}},pa.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},pa.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},pa.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,m=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:m,integrity:g,fetchPriority:v}):d==="script"&&n.d.X(l,{crossOrigin:m,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},pa.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},pa.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,m=o(d,u.crossOrigin);n.d.L(l,d,{crossOrigin:m,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},pa.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},pa.requestFormReset=function(l){n.d.r(l)},pa.unstable_batchedUpdates=function(l,u){return l(u)},pa.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},pa.useFormStatus=function(){return a.H.useHostTransitionStatus()},pa.version="19.2.0",pa}var vF;function VY(){if(vF)return jC.exports;vF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),jC.exports=Efe(),jC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var yF;function Tfe(){if(yF)return Vy;yF=1;var t=_fe(),e=km(),r=VY();function n(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var h=c,p=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(p=h.return),c=h.return;while(c)}return h.tag===3?p:null}function a(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(n(188))}function u(c){var h=c.alternate;if(!h){if(h=s(c),h===null)throw Error(n(188));return h!==c?null:c}for(var p=c,y=h;;){var T=p.return;if(T===null)break;var N=T.alternate;if(N===null){if(y=T.return,y!==null){p=y;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===p)return l(T),c;if(N===y)return l(T),h;N=N.sibling}throw Error(n(188))}if(p.return!==y.return)p=T,y=N;else{for(var V=!1,Q=T.child;Q;){if(Q===p){V=!0,p=T,y=N;break}if(Q===y){V=!0,y=T,p=N;break}Q=Q.sibling}if(!V){for(Q=N.child;Q;){if(Q===p){V=!0,p=N,y=T;break}if(Q===y){V=!0,y=N,p=T;break}Q=Q.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:h}function d(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=d(c),h!==null)return h;c=c.sibling}return null}var m=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),_=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),R=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),O=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function F(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var U=Symbol.for("react.client.reference");function le(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===U?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case b:return"Fragment";case _:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case j:return"SuspenseList";case O:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case x:return"Portal";case A:return c.displayName||"Context";case k:return(c._context.displayName||"Context")+".Consumer";case R:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return h=c.displayName||null,h!==null?h:le(c.type)||"Memo";case I:h=c._payload,c=c._init;try{return le(c(h))}catch{}}return null}var de=Array.isArray,Z=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,J=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},ee=[],ve=-1;function H(c){return{current:c}}function B(c){0>ve||(c.current=ee[ve],ee[ve]=null,ve--)}function q(c,h){ve++,ee[ve]=c.current,c.current=h}var W=H(null),Y=H(null),ue=H(null),pe=H(null);function ce(c,h){switch(q(ue,h),q(Y,c),q(W,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?P9(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=P9(h),c=j9(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}B(W),q(W,c)}function ie(){B(W),B(Y),B(ue)}function ye(c){c.memoizedState!==null&&q(pe,c);var h=W.current,p=j9(h,c.type);h!==p&&(q(Y,c),q(W,p))}function Ve(c){Y.current===c&&(B(W),B(Y)),pe.current===c&&(B(pe),Dy._currentValue=he)}var G,tt;function me(c){if(G===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||"",tt=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+c+tt}var He=!1;function Ke(c,h){if(!c||He)return"";He=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(je){var Oe=je}Reflect.construct(c,[],ze)}else{try{ze.call()}catch(je){Oe=je}c.call(ze.prototype)}}else{try{throw Error()}catch(je){Oe=je}(ze=c())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(je){if(je&&Oe&&typeof je.stack=="string")return[je.stack,Oe.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=y.DetermineComponentFrameRoot(),V=N[0],Q=N[1];if(V&&Q){var fe=V.split(`
`),Ce=Q.split(`
`);for(T=y=0;y<fe.length&&!fe[y].includes("DetermineComponentFrameRoot");)y++;for(;T<Ce.length&&!Ce[T].includes("DetermineComponentFrameRoot");)T++;if(y===fe.length||T===Ce.length)for(y=fe.length-1,T=Ce.length-1;1<=y&&0<=T&&fe[y]!==Ce[T];)T--;for(;1<=y&&0<=T;y--,T--)if(fe[y]!==Ce[T]){if(y!==1||T!==1)do if(y--,T--,0>T||fe[y]!==Ce[T]){var Be=`
`+fe[y].replace(" at new "," at ");return c.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",c.displayName)),Be}while(1<=y&&0<=T);break}}}finally{He=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?me(p):""}function Ie(c,h){switch(c.tag){case 26:case 27:case 5:return me(c.type);case 16:return me("Lazy");case 13:return c.child!==h&&h!==null?me("Suspense Fallback"):me("Suspense");case 19:return me("SuspenseList");case 0:case 15:return Ke(c.type,!1);case 11:return Ke(c.type.render,!1);case 1:return Ke(c.type,!0);case 31:return me("Activity");default:return""}}function et(c){try{var h="",p=null;do h+=Ie(c,p),p=c,c=c.return;while(c);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var ht=Object.prototype.hasOwnProperty,_t=t.unstable_scheduleCallback,Rr=t.unstable_cancelCallback,Pr=t.unstable_shouldYield,$r=t.unstable_requestPaint,Wt=t.unstable_now,Ar=t.unstable_getCurrentPriorityLevel,An=t.unstable_ImmediatePriority,pi=t.unstable_UserBlockingPriority,be=t.unstable_NormalPriority,Qe=t.unstable_LowPriority,nt=t.unstable_IdlePriority,jt=t.log,Gt=t.unstable_setDisableYieldValue,rr=null,wr=null;function Ui(c){if(typeof jt=="function"&&Gt(c),wr&&typeof wr.setStrictMode=="function")try{wr.setStrictMode(rr,c)}catch{}}var rn=Math.clz32?Math.clz32:us,Ql=Math.log,da=Math.LN2;function us(c){return c>>>=0,c===0?32:31-(Ql(c)/da|0)|0}var gi=256,Co=262144,nn=4194304;function zi(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function Ct(c,h,p){var y=c.pendingLanes;if(y===0)return 0;var T=0,N=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var Q=y&134217727;return Q!==0?(y=Q&~N,y!==0?T=zi(y):(V&=Q,V!==0?T=zi(V):p||(p=Q&~c,p!==0&&(T=zi(p))))):(Q=y&~N,Q!==0?T=zi(Q):V!==0?T=zi(V):p||(p=y&~c,p!==0&&(T=zi(p)))),T===0?0:h!==0&&h!==T&&(h&N)===0&&(N=T&-T,p=h&-h,N>=p||N===32&&(p&4194048)!==0)?h:T}function _r(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function jn(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(){var c=nn;return nn<<=1,(nn&62914560)===0&&(nn=4194304),c}function ai(c){for(var h=[],p=0;31>p;p++)h.push(c);return h}function sn(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function $i(c,h,p,y,T,N){var V=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var Q=c.entanglements,fe=c.expirationTimes,Ce=c.hiddenUpdates;for(p=V&~p;0<p;){var Be=31-rn(p),ze=1<<Be;Q[Be]=0,fe[Be]=-1;var Oe=Ce[Be];if(Oe!==null)for(Ce[Be]=null,Be=0;Be<Oe.length;Be++){var je=Oe[Be];je!==null&&(je.lane&=-536870913)}p&=~ze}y!==0&&ks(c,y,0),N!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=N&~(V&~h))}function ks(c,h,p){c.pendingLanes|=h,c.suspendedLanes&=~h;var y=31-rn(h);c.entangledLanes|=h,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function an(c,h){var p=c.entangledLanes|=h;for(c=c.entanglements;p;){var y=31-rn(p),T=1<<y;T&h|c[y]&h&&(c[y]|=h),p&=~T}}function Ci(c,h){var p=h&-h;return p=(p&42)!==0?1:Ks(p),(p&(c.suspendedLanes|h))!==0?0:p}function Ks(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function vi(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function K(){var c=J.p;return c!==0?c:(c=window.event,c===void 0?32:nF(c.type))}function ae(c,h){var p=J.p;try{return J.p=c,h()}finally{J.p=p}}var te=Math.random().toString(36).slice(2),ne="__reactFiber$"+te,se="__reactProps$"+te,oe="__reactContainer$"+te,_e="__reactEvents$"+te,Me="__reactListeners$"+te,we="__reactHandles$"+te,Se="__reactResources$"+te,Ee="__reactMarker$"+te;function Ye(c){delete c[ne],delete c[se],delete c[_e],delete c[Me],delete c[we]}function Ze(c){var h=c[ne];if(h)return h;for(var p=c.parentNode;p;){if(h=p[oe]||p[ne]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(c=U9(c);c!==null;){if(p=c[ne])return p;c=U9(c)}return h}c=p,p=c.parentNode}return null}function ct(c){if(c=c[ne]||c[oe]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function We(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(n(33))}function it(c){var h=c[Se];return h||(h=c[Se]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function gt(c){c[Ee]=!0}var Nr=new Set,Er={};function on(c,h){ds(c,h),ds(c+"Capture",h)}function ds(c,h){for(Er[c]=h,c=0;c<h.length;c++)Nr.add(h[c])}var La=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),No={},ha={};function Jl(c){return ht.call(ha,c)?!0:ht.call(No,c)?!1:La.test(c)?ha[c]=!0:(No[c]=!0,!1)}function Yn(c,h,p){if(Jl(h))if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+p)}}function Fa(c,h,p){if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+p)}}function yi(c,h,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(h,p,""+y)}}function Hi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function Bc(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Wf(c,h,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,N=y.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return T.call(this)},set:function(V){p=""+V,N.call(this,V)}}),Object.defineProperty(c,h,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Hr(c){if(!c._valueTracker){var h=Bc(c)?"checked":"value";c._valueTracker=Wf(c,h,""+c[h])}}function Mu(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var p=h.getValue(),y="";return c&&(y=Bc(c)?c.checked?"true":"false":c.value),c=y,c!==p?(h.setValue(c),!0):!1}function eo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var to=/[\n"\\]/g;function xi(c){return c.replace(to,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function dl(c,h,p,y,T,N,V,Q){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),h!=null?V==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+Hi(h)):c.value!==""+Hi(h)&&(c.value=""+Hi(h)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),h!=null?Gf(c,V,Hi(h)):p!=null?Gf(c,V,Hi(p)):y!=null&&c.removeAttribute("value"),T==null&&N!=null&&(c.defaultChecked=!!N),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),Q!=null&&typeof Q!="function"&&typeof Q!="symbol"&&typeof Q!="boolean"?c.name=""+Hi(Q):c.removeAttribute("name")}function Vc(c,h,p,y,T,N,V,Q){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(c.type=N),h!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||h!=null)){Hr(c);return}p=p!=null?""+Hi(p):"",h=h!=null?""+Hi(h):p,Q||h===c.value||(c.value=h),c.defaultValue=h}y=y??T,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=Q?c.checked:!!y,c.defaultChecked=!!y,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V),Hr(c)}function Gf(c,h,p){h==="number"&&eo(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Uc(c,h,p,y){if(c=c.options,h){h={};for(var T=0;T<p.length;T++)h["$"+p[T]]=!0;for(p=0;p<c.length;p++)T=h.hasOwnProperty("$"+c[p].value),c[p].selected!==T&&(c[p].selected=T),T&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Hi(p),h=null,T=0;T<c.length;T++){if(c[T].value===p){c[T].selected=!0,y&&(c[T].defaultSelected=!0);return}h!==null||c[T].disabled||(h=c[T])}h!==null&&(h.selected=!0)}}function Xm(c,h,p){if(h!=null&&(h=""+Hi(h),h!==c.value&&(c.value=h),p==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=p!=null?""+Hi(p):""}function zc(c,h,p,y){if(h==null){if(y!=null){if(p!=null)throw Error(n(92));if(de(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),h=p}p=Hi(h),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Hr(c)}function fa(c,h){if(h){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=h;return}}c.textContent=h}var Qm=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Kf(c,h,p){var y=h.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":y?c.setProperty(h,p):typeof p!="number"||p===0||Qm.has(h)?h==="float"?c.cssFloat=p:c[h]=(""+p).trim():c[h]=p+"px"}function Zd(c,h,p){if(h!=null&&typeof h!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var T in h)y=h[T],h.hasOwnProperty(T)&&p[T]!==y&&Kf(c,T,y)}else for(var N in h)h.hasOwnProperty(N)&&Kf(c,N,h[N])}function eh(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Jm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),$c=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function Hc(c){return $c.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Io(){}var th=null;function ro(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var qc=null,jr=null;function ma(c){var h=ct(c);if(h&&(c=h.stateNode)){var p=c[se]||null;e:switch(c=h.stateNode,h.type){case"input":if(dl(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),h=p.name,p.type==="radio"&&h!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+xi(""+h)+'"][type="radio"]'),h=0;h<p.length;h++){var y=p[h];if(y!==c&&y.form===c.form){var T=y[se]||null;if(!T)throw Error(n(90));dl(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<p.length;h++)y=p[h],y.form===c.form&&Mu(y)}break e;case"textarea":Xm(c,p.value,p.defaultValue);break e;case"select":h=p.value,h!=null&&Uc(c,!!p.multiple,h,!1)}}}var Lu=!1;function Zl(c,h,p){if(Lu)return c(h,p);Lu=!0;try{var y=c(h);return y}finally{if(Lu=!1,(qc!==null||jr!==null)&&(Jw(),qc&&(h=qc,c=jr,jr=qc=null,ma(h),c)))for(h=0;h<c.length;h++)ma(c[h])}}function Oo(c,h){var p=c.stateNode;if(p===null)return null;var y=p[se]||null;if(y===null)return null;p=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,h,typeof p));return p}var no=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Wc=!1;if(no)try{var Qr={};Object.defineProperty(Qr,"passive",{get:function(){Wc=!0}}),window.addEventListener("test",Qr,Qr),window.removeEventListener("test",Qr,Qr)}catch{Wc=!1}var Ro=null,Yf=null,Fu=null;function Bu(){if(Fu)return Fu;var c,h=Yf,p=h.length,y,T="value"in Ro?Ro.value:Ro.textContent,N=T.length;for(c=0;c<p&&h[c]===T[c];c++);var V=p-c;for(y=1;y<=V&&h[p-y]===T[N-y];y++);return Fu=T.slice(c,1<y?1-y:void 0)}function Gc(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function hl(){return!0}function io(){return!1}function qi(c){function h(p,y,T,N,V){this._reactName=p,this._targetInst=T,this.type=y,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var Q in c)c.hasOwnProperty(Q)&&(p=c[Q],this[Q]=p?p(N):N[Q]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?hl:io,this.isPropagationStopped=io,this}return m(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=hl)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=hl)},persist:function(){},isPersistent:hl}),h}var fl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ml=qi(fl),ec=m({},fl,{view:0,detail:0}),rh=qi(ec),Kc,nh,Po,ih=m({},ec,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ah,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Po&&(Po&&c.type==="mousemove"?(Kc=c.screenX-Po.screenX,nh=c.screenY-Po.screenY):nh=Kc=0,Po=c),Kc)},movementY:function(c){return"movementY"in c?c.movementY:nh}}),sh=qi(ih),Yc=m({},ih,{dataTransfer:0}),X=qi(Yc),ke=m({},ec,{relatedTarget:0}),Je=qi(ke),vt=m({},fl,{animationName:0,elapsedTime:0,pseudoElement:0}),ft=qi(vt),Tr=m({},fl,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),Cn=qi(Tr),Ni=m({},fl,{data:0}),As=qi(Ni),dw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},hw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},fw={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function mw(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=fw[c])?!!h[c]:!1}function ah(){return mw}var Ba=m({},ec,{key:function(c){if(c.key){var h=dw[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Gc(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?hw[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ah,charCode:function(c){return c.type==="keypress"?Gc(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Gc(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),pw=qi(Ba),gw=m({},ih,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Vu=qi(gw),E=m({},ec,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ah}),L=qi(E),z=m({},fl,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=qi(z),Te=m({},ih,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Pe=qi(Te),ut=m({},fl,{newState:0,oldState:0}),Zt=qi(ut),Ii=[9,13,27,32],qr=no&&"CompositionEvent"in window,Xn=null;no&&"documentMode"in document&&(Xn=document.documentMode);var pl=no&&"TextEvent"in window&&!Xn,Xc=no&&(!qr||Xn&&8<Xn&&11>=Xn),tc=" ",rc=!1;function Xf(c,h){switch(c){case"keyup":return Ii.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zm(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var ep=!1;function Bde(c,h){switch(c){case"compositionend":return Zm(h);case"keypress":return h.which!==32?null:(rc=!0,tc);case"textInput":return c=h.data,c===tc&&rc?null:c;default:return null}}function Vde(c,h){if(ep)return c==="compositionend"||!qr&&Xf(c,h)?(c=Bu(),Fu=Yf=Ro=null,ep=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Xc&&h.locale!=="ko"?null:h.data;default:return null}}var Ude={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function HM(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!Ude[c.type]:h==="textarea"}function qM(c,h,p,y){qc?jr?jr.push(y):jr=[y]:qc=y,h=s2(h,"onChange"),0<h.length&&(p=new ml("onChange","change",null,p,y),c.push({event:p,listeners:h}))}var ny=null,iy=null;function zde(c){A9(c,0)}function vw(c){var h=We(c);if(Mu(h))return c}function WM(c,h){if(c==="change")return h}var GM=!1;if(no){var Dk;if(no){var Mk="oninput"in document;if(!Mk){var KM=document.createElement("div");KM.setAttribute("oninput","return;"),Mk=typeof KM.oninput=="function"}Dk=Mk}else Dk=!1;GM=Dk&&(!document.documentMode||9<document.documentMode)}function YM(){ny&&(ny.detachEvent("onpropertychange",XM),iy=ny=null)}function XM(c){if(c.propertyName==="value"&&vw(iy)){var h=[];qM(h,iy,c,ro(c)),Zl(zde,h)}}function $de(c,h,p){c==="focusin"?(YM(),ny=h,iy=p,ny.attachEvent("onpropertychange",XM)):c==="focusout"&&YM()}function Hde(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return vw(iy)}function qde(c,h){if(c==="click")return vw(h)}function Wde(c,h){if(c==="input"||c==="change")return vw(h)}function Gde(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var jo=typeof Object.is=="function"?Object.is:Gde;function sy(c,h){if(jo(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var p=Object.keys(c),y=Object.keys(h);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var T=p[y];if(!ht.call(h,T)||!jo(c[T],h[T]))return!1}return!0}function QM(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function JM(c,h){var p=QM(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=h&&y>=h)return{node:p,offset:h-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=QM(p)}}function ZM(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?ZM(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function e7(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=eo(c.document);h instanceof c.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)c=h.contentWindow;else break;h=eo(c.document)}return h}function Lk(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var Kde=no&&"documentMode"in document&&11>=document.documentMode,tp=null,Fk=null,ay=null,Bk=!1;function t7(c,h,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Bk||tp==null||tp!==eo(y)||(y=tp,"selectionStart"in y&&Lk(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),ay&&sy(ay,y)||(ay=y,y=s2(Fk,"onSelect"),0<y.length&&(h=new ml("onSelect","select",null,h,p),c.push({event:h,listeners:y}),h.target=tp)))}function Qf(c,h){var p={};return p[c.toLowerCase()]=h.toLowerCase(),p["Webkit"+c]="webkit"+h,p["Moz"+c]="moz"+h,p}var rp={animationend:Qf("Animation","AnimationEnd"),animationiteration:Qf("Animation","AnimationIteration"),animationstart:Qf("Animation","AnimationStart"),transitionrun:Qf("Transition","TransitionRun"),transitionstart:Qf("Transition","TransitionStart"),transitioncancel:Qf("Transition","TransitionCancel"),transitionend:Qf("Transition","TransitionEnd")},Vk={},r7={};no&&(r7=document.createElement("div").style,"AnimationEvent"in window||(delete rp.animationend.animation,delete rp.animationiteration.animation,delete rp.animationstart.animation),"TransitionEvent"in window||delete rp.transitionend.transition);function Jf(c){if(Vk[c])return Vk[c];if(!rp[c])return c;var h=rp[c],p;for(p in h)if(h.hasOwnProperty(p)&&p in r7)return Vk[c]=h[p];return c}var n7=Jf("animationend"),i7=Jf("animationiteration"),s7=Jf("animationstart"),Yde=Jf("transitionrun"),Xde=Jf("transitionstart"),Qde=Jf("transitioncancel"),a7=Jf("transitionend"),o7=new Map,Uk="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Uk.push("scrollEnd");function nc(c,h){o7.set(c,h),on(h,[c])}var yw=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},gl=[],np=0,zk=0;function xw(){for(var c=np,h=zk=np=0;h<c;){var p=gl[h];gl[h++]=null;var y=gl[h];gl[h++]=null;var T=gl[h];gl[h++]=null;var N=gl[h];if(gl[h++]=null,y!==null&&T!==null){var V=y.pending;V===null?T.next=T:(T.next=V.next,V.next=T),y.pending=T}N!==0&&l7(p,T,N)}}function bw(c,h,p,y){gl[np++]=c,gl[np++]=h,gl[np++]=p,gl[np++]=y,zk|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function $k(c,h,p,y){return bw(c,h,p,y),ww(c)}function Zf(c,h){return bw(c,null,null,h),ww(c)}function l7(c,h,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var T=!1,N=c.return;N!==null;)N.childLanes|=p,y=N.alternate,y!==null&&(y.childLanes|=p),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(T=!0)),c=N,N=N.return;return c.tag===3?(N=c.stateNode,T&&h!==null&&(T=31-rn(p),c=N.hiddenUpdates,y=c[T],y===null?c[T]=[h]:y.push(h),h.lane=p|536870912),N):null}function ww(c){if(50<Cy)throw Cy=0,JA=null,Error(n(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var ip={};function Jde(c,h,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Do(c,h,p,y){return new Jde(c,h,p,y)}function Hk(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Uu(c,h){var p=c.alternate;return p===null?(p=Do(c.tag,h,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=h,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,h=c.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function c7(c,h){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,h=p.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function _w(c,h,p,y,T,N){var V=0;if(y=c,typeof c=="function")Hk(c)&&(V=1);else if(typeof c=="string")V=nfe(c,p,W.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case O:return c=Do(31,p,h,T),c.elementType=O,c.lanes=N,c;case b:return e0(p.children,T,N,h);case w:V=8,T|=24;break;case _:return c=Do(12,p,h,T|2),c.elementType=_,c.lanes=N,c;case P:return c=Do(13,p,h,T),c.elementType=P,c.lanes=N,c;case j:return c=Do(19,p,h,T),c.elementType=j,c.lanes=N,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:V=10;break e;case k:V=9;break e;case R:V=11;break e;case S:V=14;break e;case I:V=16,y=null;break e}V=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return h=Do(V,p,h,T),h.elementType=c,h.type=y,h.lanes=N,h}function e0(c,h,p,y){return c=Do(7,c,y,h),c.lanes=p,c}function qk(c,h,p){return c=Do(6,c,null,h),c.lanes=p,c}function u7(c){var h=Do(18,null,null,0);return h.stateNode=c,h}function Wk(c,h,p){return h=Do(4,c.children!==null?c.children:[],c.key,h),h.lanes=p,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var d7=new WeakMap;function vl(c,h){if(typeof c=="object"&&c!==null){var p=d7.get(c);return p!==void 0?p:(h={value:c,source:h,stack:et(h)},d7.set(c,h),h)}return{value:c,source:h,stack:et(h)}}var sp=[],ap=0,Ew=null,oy=0,yl=[],xl=0,oh=null,Qc=1,Jc="";function zu(c,h){sp[ap++]=oy,sp[ap++]=Ew,Ew=c,oy=h}function h7(c,h,p){yl[xl++]=Qc,yl[xl++]=Jc,yl[xl++]=oh,oh=c;var y=Qc;c=Jc;var T=32-rn(y)-1;y&=~(1<<T),p+=1;var N=32-rn(h)+T;if(30<N){var V=T-T%5;N=(y&(1<<V)-1).toString(32),y>>=V,T-=V,Qc=1<<32-rn(h)+T|p<<T|y,Jc=N+c}else Qc=1<<N|p<<T|y,Jc=c}function Gk(c){c.return!==null&&(zu(c,1),h7(c,1,0))}function Kk(c){for(;c===Ew;)Ew=sp[--ap],sp[ap]=null,oy=sp[--ap],sp[ap]=null;for(;c===oh;)oh=yl[--xl],yl[xl]=null,Jc=yl[--xl],yl[xl]=null,Qc=yl[--xl],yl[xl]=null}function f7(c,h){yl[xl++]=Qc,yl[xl++]=Jc,yl[xl++]=oh,Qc=h.id,Jc=h.overflow,oh=c}var Ys=null,Vn=null,Sr=!1,lh=null,bl=!1,Yk=Error(n(519));function ch(c){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw ly(vl(h,c)),Yk}function m7(c){var h=c.stateNode,p=c.type,y=c.memoizedProps;switch(h[ne]=c,h[se]=y,p){case"dialog":mr("cancel",h),mr("close",h);break;case"iframe":case"object":case"embed":mr("load",h);break;case"video":case"audio":for(p=0;p<Iy.length;p++)mr(Iy[p],h);break;case"source":mr("error",h);break;case"img":case"image":case"link":mr("error",h),mr("load",h);break;case"details":mr("toggle",h);break;case"input":mr("invalid",h),Vc(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":mr("invalid",h);break;case"textarea":mr("invalid",h),zc(h,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||h.textContent===""+p||y.suppressHydrationWarning===!0||O9(h.textContent,p)?(y.popover!=null&&(mr("beforetoggle",h),mr("toggle",h)),y.onScroll!=null&&mr("scroll",h),y.onScrollEnd!=null&&mr("scrollend",h),y.onClick!=null&&(h.onclick=Io),h=!0):h=!1,h||ch(c,!0)}function p7(c){for(Ys=c.return;Ys;)switch(Ys.tag){case 5:case 31:case 13:bl=!1;return;case 27:case 3:bl=!0;return;default:Ys=Ys.return}}function op(c){if(c!==Ys)return!1;if(!Sr)return p7(c),Sr=!0,!1;var h=c.tag,p;if((p=h!==3&&h!==27)&&((p=h===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||fC(c.type,c.memoizedProps)),p=!p),p&&Vn&&ch(c),p7(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Vn=V9(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Vn=V9(c)}else h===27?(h=Vn,Eh(c.type)?(c=yC,yC=null,Vn=c):Vn=h):Vn=Ys?_l(c.stateNode.nextSibling):null;return!0}function t0(){Vn=Ys=null,Sr=!1}function Xk(){var c=lh;return c!==null&&(lo===null?lo=c:lo.push.apply(lo,c),lh=null),c}function ly(c){lh===null?lh=[c]:lh.push(c)}var Qk=H(null),r0=null,$u=null;function uh(c,h,p){q(Qk,h._currentValue),h._currentValue=p}function Hu(c){c._currentValue=Qk.current,B(Qk)}function Jk(c,h,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===p)break;c=c.return}}function Zk(c,h,p,y){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var N=T.dependencies;if(N!==null){var V=T.child;N=N.firstContext;e:for(;N!==null;){var Q=N;N=T;for(var fe=0;fe<h.length;fe++)if(Q.context===h[fe]){N.lanes|=p,Q=N.alternate,Q!==null&&(Q.lanes|=p),Jk(N.return,p,c),y||(V=null);break e}N=Q.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(n(341));V.lanes|=p,N=V.alternate,N!==null&&(N.lanes|=p),Jk(V,p,c),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===c){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function lp(c,h,p,y){c=null;for(var T=h,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var Q=T.type;jo(T.pendingProps.value,V.value)||(c!==null?c.push(Q):c=[Q])}}else if(T===pe.current){if(V=T.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(Dy):c=[Dy])}T=T.return}c!==null&&Zk(h,c,p,y),h.flags|=262144}function Tw(c){for(c=c.firstContext;c!==null;){if(!jo(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function n0(c){r0=c,$u=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Xs(c){return g7(r0,c)}function Sw(c,h){return r0===null&&n0(c),g7(c,h)}function g7(c,h){var p=h._currentValue;if(h={context:h,memoizedValue:p,next:null},$u===null){if(c===null)throw Error(n(308));$u=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else $u=$u.next=h;return p}var Zde=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){h.aborted=!0,c.forEach(function(p){return p()})}},ehe=t.unstable_scheduleCallback,the=t.unstable_NormalPriority,Wi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function eA(){return{controller:new Zde,data:new Map,refCount:0}}function cy(c){c.refCount--,c.refCount===0&&ehe(the,function(){c.controller.abort()})}var uy=null,tA=0,cp=0,up=null;function rhe(c,h){if(uy===null){var p=uy=[];tA=0,cp=iC(),up={status:"pending",value:void 0,then:function(y){p.push(y)}}}return tA++,h.then(v7,v7),h}function v7(){if(--tA===0&&uy!==null){up!==null&&(up.status="fulfilled");var c=uy;uy=null,cp=0,up=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function nhe(c,h){var p=[],y={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return c.then(function(){y.status="fulfilled",y.value=h;for(var T=0;T<p.length;T++)(0,p[T])(h)},function(T){for(y.status="rejected",y.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),y}var y7=Z.S;Z.S=function(c,h){t9=Wt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&rhe(c,h),y7!==null&&y7(c,h)};var i0=H(null);function rA(){var c=i0.current;return c!==null?c:Nn.pooledCache}function kw(c,h){h===null?q(i0,i0.current):q(i0,h.pool)}function x7(){var c=rA();return c===null?null:{parent:Wi._currentValue,pool:c}}var dp=Error(n(460)),nA=Error(n(474)),Aw=Error(n(542)),Cw={then:function(){}};function b7(c){return c=c.status,c==="fulfilled"||c==="rejected"}function w7(c,h,p){switch(p=c[p],p===void 0?c.push(h):p!==h&&(h.then(Io,Io),h=p),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,E7(c),c;default:if(typeof h.status=="string")h.then(Io,Io);else{if(c=Nn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=h,c.status="pending",c.then(function(y){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=y}},function(y){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,E7(c),c}throw a0=h,dp}}function s0(c){try{var h=c._init;return h(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(a0=p,dp):p}}var a0=null;function _7(){if(a0===null)throw Error(n(459));var c=a0;return a0=null,c}function E7(c){if(c===dp||c===Aw)throw Error(n(483))}var hp=null,dy=0;function Nw(c){var h=dy;return dy+=1,hp===null&&(hp=[]),w7(hp,c,h)}function hy(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Iw(c,h){throw h.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function T7(c){function h(xe,ge){if(c){var Ae=xe.deletions;Ae===null?(xe.deletions=[ge],xe.flags|=16):Ae.push(ge)}}function p(xe,ge){if(!c)return null;for(;ge!==null;)h(xe,ge),ge=ge.sibling;return null}function y(xe){for(var ge=new Map;xe!==null;)xe.key!==null?ge.set(xe.key,xe):ge.set(xe.index,xe),xe=xe.sibling;return ge}function T(xe,ge){return xe=Uu(xe,ge),xe.index=0,xe.sibling=null,xe}function N(xe,ge,Ae){return xe.index=Ae,c?(Ae=xe.alternate,Ae!==null?(Ae=Ae.index,Ae<ge?(xe.flags|=67108866,ge):Ae):(xe.flags|=67108866,ge)):(xe.flags|=1048576,ge)}function V(xe){return c&&xe.alternate===null&&(xe.flags|=67108866),xe}function Q(xe,ge,Ae,Ue){return ge===null||ge.tag!==6?(ge=qk(Ae,xe.mode,Ue),ge.return=xe,ge):(ge=T(ge,Ae),ge.return=xe,ge)}function fe(xe,ge,Ae,Ue){var Nt=Ae.type;return Nt===b?Be(xe,ge,Ae.props.children,Ue,Ae.key):ge!==null&&(ge.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===I&&s0(Nt)===ge.type)?(ge=T(ge,Ae.props),hy(ge,Ae),ge.return=xe,ge):(ge=_w(Ae.type,Ae.key,Ae.props,null,xe.mode,Ue),hy(ge,Ae),ge.return=xe,ge)}function Ce(xe,ge,Ae,Ue){return ge===null||ge.tag!==4||ge.stateNode.containerInfo!==Ae.containerInfo||ge.stateNode.implementation!==Ae.implementation?(ge=Wk(Ae,xe.mode,Ue),ge.return=xe,ge):(ge=T(ge,Ae.children||[]),ge.return=xe,ge)}function Be(xe,ge,Ae,Ue,Nt){return ge===null||ge.tag!==7?(ge=e0(Ae,xe.mode,Ue,Nt),ge.return=xe,ge):(ge=T(ge,Ae),ge.return=xe,ge)}function ze(xe,ge,Ae){if(typeof ge=="string"&&ge!==""||typeof ge=="number"||typeof ge=="bigint")return ge=qk(""+ge,xe.mode,Ae),ge.return=xe,ge;if(typeof ge=="object"&&ge!==null){switch(ge.$$typeof){case v:return Ae=_w(ge.type,ge.key,ge.props,null,xe.mode,Ae),hy(Ae,ge),Ae.return=xe,Ae;case x:return ge=Wk(ge,xe.mode,Ae),ge.return=xe,ge;case I:return ge=s0(ge),ze(xe,ge,Ae)}if(de(ge)||F(ge))return ge=e0(ge,xe.mode,Ae,null),ge.return=xe,ge;if(typeof ge.then=="function")return ze(xe,Nw(ge),Ae);if(ge.$$typeof===A)return ze(xe,Sw(xe,ge),Ae);Iw(xe,ge)}return null}function Oe(xe,ge,Ae,Ue){var Nt=ge!==null?ge.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint")return Nt!==null?null:Q(xe,ge,""+Ae,Ue);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:return Ae.key===Nt?fe(xe,ge,Ae,Ue):null;case x:return Ae.key===Nt?Ce(xe,ge,Ae,Ue):null;case I:return Ae=s0(Ae),Oe(xe,ge,Ae,Ue)}if(de(Ae)||F(Ae))return Nt!==null?null:Be(xe,ge,Ae,Ue,null);if(typeof Ae.then=="function")return Oe(xe,ge,Nw(Ae),Ue);if(Ae.$$typeof===A)return Oe(xe,ge,Sw(xe,Ae),Ue);Iw(xe,Ae)}return null}function je(xe,ge,Ae,Ue,Nt){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return xe=xe.get(Ae)||null,Q(ge,xe,""+Ue,Nt);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case v:return xe=xe.get(Ue.key===null?Ae:Ue.key)||null,fe(ge,xe,Ue,Nt);case x:return xe=xe.get(Ue.key===null?Ae:Ue.key)||null,Ce(ge,xe,Ue,Nt);case I:return Ue=s0(Ue),je(xe,ge,Ae,Ue,Nt)}if(de(Ue)||F(Ue))return xe=xe.get(Ae)||null,Be(ge,xe,Ue,Nt,null);if(typeof Ue.then=="function")return je(xe,ge,Ae,Nw(Ue),Nt);if(Ue.$$typeof===A)return je(xe,ge,Ae,Sw(ge,Ue),Nt);Iw(ge,Ue)}return null}function xt(xe,ge,Ae,Ue){for(var Nt=null,Dr=null,Et=ge,nr=ge=0,yr=null;Et!==null&&nr<Ae.length;nr++){Et.index>nr?(yr=Et,Et=null):yr=Et.sibling;var Mr=Oe(xe,Et,Ae[nr],Ue);if(Mr===null){Et===null&&(Et=yr);break}c&&Et&&Mr.alternate===null&&h(xe,Et),ge=N(Mr,ge,nr),Dr===null?Nt=Mr:Dr.sibling=Mr,Dr=Mr,Et=yr}if(nr===Ae.length)return p(xe,Et),Sr&&zu(xe,nr),Nt;if(Et===null){for(;nr<Ae.length;nr++)Et=ze(xe,Ae[nr],Ue),Et!==null&&(ge=N(Et,ge,nr),Dr===null?Nt=Et:Dr.sibling=Et,Dr=Et);return Sr&&zu(xe,nr),Nt}for(Et=y(Et);nr<Ae.length;nr++)yr=je(Et,xe,nr,Ae[nr],Ue),yr!==null&&(c&&yr.alternate!==null&&Et.delete(yr.key===null?nr:yr.key),ge=N(yr,ge,nr),Dr===null?Nt=yr:Dr.sibling=yr,Dr=yr);return c&&Et.forEach(function(Ch){return h(xe,Ch)}),Sr&&zu(xe,nr),Nt}function Pt(xe,ge,Ae,Ue){if(Ae==null)throw Error(n(151));for(var Nt=null,Dr=null,Et=ge,nr=ge=0,yr=null,Mr=Ae.next();Et!==null&&!Mr.done;nr++,Mr=Ae.next()){Et.index>nr?(yr=Et,Et=null):yr=Et.sibling;var Ch=Oe(xe,Et,Mr.value,Ue);if(Ch===null){Et===null&&(Et=yr);break}c&&Et&&Ch.alternate===null&&h(xe,Et),ge=N(Ch,ge,nr),Dr===null?Nt=Ch:Dr.sibling=Ch,Dr=Ch,Et=yr}if(Mr.done)return p(xe,Et),Sr&&zu(xe,nr),Nt;if(Et===null){for(;!Mr.done;nr++,Mr=Ae.next())Mr=ze(xe,Mr.value,Ue),Mr!==null&&(ge=N(Mr,ge,nr),Dr===null?Nt=Mr:Dr.sibling=Mr,Dr=Mr);return Sr&&zu(xe,nr),Nt}for(Et=y(Et);!Mr.done;nr++,Mr=Ae.next())Mr=je(Et,xe,nr,Mr.value,Ue),Mr!==null&&(c&&Mr.alternate!==null&&Et.delete(Mr.key===null?nr:Mr.key),ge=N(Mr,ge,nr),Dr===null?Nt=Mr:Dr.sibling=Mr,Dr=Mr);return c&&Et.forEach(function(mfe){return h(xe,mfe)}),Sr&&zu(xe,nr),Nt}function xn(xe,ge,Ae,Ue){if(typeof Ae=="object"&&Ae!==null&&Ae.type===b&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case v:e:{for(var Nt=Ae.key;ge!==null;){if(ge.key===Nt){if(Nt=Ae.type,Nt===b){if(ge.tag===7){p(xe,ge.sibling),Ue=T(ge,Ae.props.children),Ue.return=xe,xe=Ue;break e}}else if(ge.elementType===Nt||typeof Nt=="object"&&Nt!==null&&Nt.$$typeof===I&&s0(Nt)===ge.type){p(xe,ge.sibling),Ue=T(ge,Ae.props),hy(Ue,Ae),Ue.return=xe,xe=Ue;break e}p(xe,ge);break}else h(xe,ge);ge=ge.sibling}Ae.type===b?(Ue=e0(Ae.props.children,xe.mode,Ue,Ae.key),Ue.return=xe,xe=Ue):(Ue=_w(Ae.type,Ae.key,Ae.props,null,xe.mode,Ue),hy(Ue,Ae),Ue.return=xe,xe=Ue)}return V(xe);case x:e:{for(Nt=Ae.key;ge!==null;){if(ge.key===Nt)if(ge.tag===4&&ge.stateNode.containerInfo===Ae.containerInfo&&ge.stateNode.implementation===Ae.implementation){p(xe,ge.sibling),Ue=T(ge,Ae.children||[]),Ue.return=xe,xe=Ue;break e}else{p(xe,ge);break}else h(xe,ge);ge=ge.sibling}Ue=Wk(Ae,xe.mode,Ue),Ue.return=xe,xe=Ue}return V(xe);case I:return Ae=s0(Ae),xn(xe,ge,Ae,Ue)}if(de(Ae))return xt(xe,ge,Ae,Ue);if(F(Ae)){if(Nt=F(Ae),typeof Nt!="function")throw Error(n(150));return Ae=Nt.call(Ae),Pt(xe,ge,Ae,Ue)}if(typeof Ae.then=="function")return xn(xe,ge,Nw(Ae),Ue);if(Ae.$$typeof===A)return xn(xe,ge,Sw(xe,Ae),Ue);Iw(xe,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"||typeof Ae=="bigint"?(Ae=""+Ae,ge!==null&&ge.tag===6?(p(xe,ge.sibling),Ue=T(ge,Ae),Ue.return=xe,xe=Ue):(p(xe,ge),Ue=qk(Ae,xe.mode,Ue),Ue.return=xe,xe=Ue),V(xe)):p(xe,ge)}return function(xe,ge,Ae,Ue){try{dy=0;var Nt=xn(xe,ge,Ae,Ue);return hp=null,Nt}catch(Et){if(Et===dp||Et===Aw)throw Et;var Dr=Do(29,Et,null,xe.mode);return Dr.lanes=Ue,Dr.return=xe,Dr}finally{}}}var o0=T7(!0),S7=T7(!1),dh=!1;function iA(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function sA(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function hh(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function fh(c,h,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Wr&2)!==0){var T=y.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),y.pending=h,h=ww(c),l7(c,null,p),h}return bw(c,y,h,p),ww(c)}function fy(c,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194048)!==0)){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,an(c,p)}}function aA(c,h){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var T=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?T=N=V:N=N.next=V,p=p.next}while(p!==null);N===null?T=N=h:N=N.next=h}else T=N=h;p={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=h}var oA=!1;function my(){if(oA){var c=up;if(c!==null)throw c}}function py(c,h,p,y){oA=!1;var T=c.updateQueue;dh=!1;var N=T.firstBaseUpdate,V=T.lastBaseUpdate,Q=T.shared.pending;if(Q!==null){T.shared.pending=null;var fe=Q,Ce=fe.next;fe.next=null,V===null?N=Ce:V.next=Ce,V=fe;var Be=c.alternate;Be!==null&&(Be=Be.updateQueue,Q=Be.lastBaseUpdate,Q!==V&&(Q===null?Be.firstBaseUpdate=Ce:Q.next=Ce,Be.lastBaseUpdate=fe))}if(N!==null){var ze=T.baseState;V=0,Be=Ce=fe=null,Q=N;do{var Oe=Q.lane&-536870913,je=Oe!==Q.lane;if(je?(vr&Oe)===Oe:(y&Oe)===Oe){Oe!==0&&Oe===cp&&(oA=!0),Be!==null&&(Be=Be.next={lane:0,tag:Q.tag,payload:Q.payload,callback:null,next:null});e:{var xt=c,Pt=Q;Oe=h;var xn=p;switch(Pt.tag){case 1:if(xt=Pt.payload,typeof xt=="function"){ze=xt.call(xn,ze,Oe);break e}ze=xt;break e;case 3:xt.flags=xt.flags&-65537|128;case 0:if(xt=Pt.payload,Oe=typeof xt=="function"?xt.call(xn,ze,Oe):xt,Oe==null)break e;ze=m({},ze,Oe);break e;case 2:dh=!0}}Oe=Q.callback,Oe!==null&&(c.flags|=64,je&&(c.flags|=8192),je=T.callbacks,je===null?T.callbacks=[Oe]:je.push(Oe))}else je={lane:Oe,tag:Q.tag,payload:Q.payload,callback:Q.callback,next:null},Be===null?(Ce=Be=je,fe=ze):Be=Be.next=je,V|=Oe;if(Q=Q.next,Q===null){if(Q=T.shared.pending,Q===null)break;je=Q,Q=je.next,je.next=null,T.lastBaseUpdate=je,T.shared.pending=null}}while(!0);Be===null&&(fe=ze),T.baseState=fe,T.firstBaseUpdate=Ce,T.lastBaseUpdate=Be,N===null&&(T.shared.lanes=0),yh|=V,c.lanes=V,c.memoizedState=ze}}function k7(c,h){if(typeof c!="function")throw Error(n(191,c));c.call(h)}function A7(c,h){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)k7(p[c],h)}var fp=H(null),Ow=H(0);function C7(c,h){c=Zu,q(Ow,c),q(fp,h),Zu=c|h.baseLanes}function lA(){q(Ow,Zu),q(fp,fp.current)}function cA(){Zu=Ow.current,B(fp),B(Ow)}var Mo=H(null),wl=null;function mh(c){var h=c.alternate;q(Oi,Oi.current&1),q(Mo,c),wl===null&&(h===null||fp.current!==null||h.memoizedState!==null)&&(wl=c)}function uA(c){q(Oi,Oi.current),q(Mo,c),wl===null&&(wl=c)}function N7(c){c.tag===22?(q(Oi,Oi.current),q(Mo,c),wl===null&&(wl=c)):ph()}function ph(){q(Oi,Oi.current),q(Mo,Mo.current)}function Lo(c){B(Mo),wl===c&&(wl=null),B(Oi)}var Oi=H(0);function Rw(c){for(var h=c;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||gC(p)||vC(p)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var qu=0,er=null,vn=null,Gi=null,Pw=!1,mp=!1,l0=!1,jw=0,gy=0,pp=null,ihe=0;function bi(){throw Error(n(321))}function dA(c,h){if(h===null)return!1;for(var p=0;p<h.length&&p<c.length;p++)if(!jo(c[p],h[p]))return!1;return!0}function hA(c,h,p,y,T,N){return qu=N,er=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,Z.H=c===null||c.memoizedState===null?hL:AA,l0=!1,N=p(y,T),l0=!1,mp&&(N=O7(h,p,y,T)),I7(c),N}function I7(c){Z.H=xy;var h=vn!==null&&vn.next!==null;if(qu=0,Gi=vn=er=null,Pw=!1,gy=0,pp=null,h)throw Error(n(300));c===null||Ki||(c=c.dependencies,c!==null&&Tw(c)&&(Ki=!0))}function O7(c,h,p,y){er=c;var T=0;do{if(mp&&(pp=null),gy=0,mp=!1,25<=T)throw Error(n(301));if(T+=1,Gi=vn=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}Z.H=fL,N=h(p,y)}while(mp);return N}function she(){var c=Z.H,h=c.useState()[0];return h=typeof h.then=="function"?vy(h):h,c=c.useState()[0],(vn!==null?vn.memoizedState:null)!==c&&(er.flags|=1024),h}function fA(){var c=jw!==0;return jw=0,c}function mA(c,h,p){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~p}function pA(c){if(Pw){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Pw=!1}qu=0,Gi=vn=er=null,mp=!1,gy=jw=0,pp=null}function Va(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?er.memoizedState=Gi=c:Gi=Gi.next=c,Gi}function Ri(){if(vn===null){var c=er.alternate;c=c!==null?c.memoizedState:null}else c=vn.next;var h=Gi===null?er.memoizedState:Gi.next;if(h!==null)Gi=h,vn=c;else{if(c===null)throw er.alternate===null?Error(n(467)):Error(n(310));vn=c,c={memoizedState:vn.memoizedState,baseState:vn.baseState,baseQueue:vn.baseQueue,queue:vn.queue,next:null},Gi===null?er.memoizedState=Gi=c:Gi=Gi.next=c}return Gi}function Dw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function vy(c){var h=gy;return gy+=1,pp===null&&(pp=[]),c=w7(pp,c,h),h=er,(Gi===null?h.memoizedState:Gi.next)===null&&(h=h.alternate,Z.H=h===null||h.memoizedState===null?hL:AA),c}function Mw(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return vy(c);if(c.$$typeof===A)return Xs(c)}throw Error(n(438,String(c)))}function gA(c){var h=null,p=er.updateQueue;if(p!==null&&(h=p.memoCache),h==null){var y=er.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),p===null&&(p=Dw(),er.updateQueue=p),p.memoCache=h,p=h.data[h.index],p===void 0)for(p=h.data[h.index]=Array(c),y=0;y<c;y++)p[y]=D;return h.index++,p}function Wu(c,h){return typeof h=="function"?h(c):h}function Lw(c){var h=Ri();return vA(h,vn,c)}function vA(c,h,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var T=c.baseQueue,N=y.pending;if(N!==null){if(T!==null){var V=T.next;T.next=N.next,N.next=V}h.baseQueue=T=N,y.pending=null}if(N=c.baseState,T===null)c.memoizedState=N;else{h=T.next;var Q=V=null,fe=null,Ce=h,Be=!1;do{var ze=Ce.lane&-536870913;if(ze!==Ce.lane?(vr&ze)===ze:(qu&ze)===ze){var Oe=Ce.revertLane;if(Oe===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null}),ze===cp&&(Be=!0);else if((qu&Oe)===Oe){Ce=Ce.next,Oe===cp&&(Be=!0);continue}else ze={lane:0,revertLane:Ce.revertLane,gesture:null,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},fe===null?(Q=fe=ze,V=N):fe=fe.next=ze,er.lanes|=Oe,yh|=Oe;ze=Ce.action,l0&&p(N,ze),N=Ce.hasEagerState?Ce.eagerState:p(N,ze)}else Oe={lane:ze,revertLane:Ce.revertLane,gesture:Ce.gesture,action:Ce.action,hasEagerState:Ce.hasEagerState,eagerState:Ce.eagerState,next:null},fe===null?(Q=fe=Oe,V=N):fe=fe.next=Oe,er.lanes|=ze,yh|=ze;Ce=Ce.next}while(Ce!==null&&Ce!==h);if(fe===null?V=N:fe.next=Q,!jo(N,c.memoizedState)&&(Ki=!0,Be&&(p=up,p!==null)))throw p;c.memoizedState=N,c.baseState=V,c.baseQueue=fe,y.lastRenderedState=N}return T===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function yA(c){var h=Ri(),p=h.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,T=p.pending,N=h.memoizedState;if(T!==null){p.pending=null;var V=T=T.next;do N=c(N,V.action),V=V.next;while(V!==T);jo(N,h.memoizedState)||(Ki=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),p.lastRenderedState=N}return[N,y]}function R7(c,h,p){var y=er,T=Ri(),N=Sr;if(N){if(p===void 0)throw Error(n(407));p=p()}else p=h();var V=!jo((vn||T).memoizedState,p);if(V&&(T.memoizedState=p,Ki=!0),T=T.queue,wA(D7.bind(null,y,T,c),[c]),T.getSnapshot!==h||V||Gi!==null&&Gi.memoizedState.tag&1){if(y.flags|=2048,gp(9,{destroy:void 0},j7.bind(null,y,T,p,h),null),Nn===null)throw Error(n(349));N||(qu&127)!==0||P7(y,h,p)}return p}function P7(c,h,p){c.flags|=16384,c={getSnapshot:h,value:p},h=er.updateQueue,h===null?(h=Dw(),er.updateQueue=h,h.stores=[c]):(p=h.stores,p===null?h.stores=[c]:p.push(c))}function j7(c,h,p,y){h.value=p,h.getSnapshot=y,M7(h)&&L7(c)}function D7(c,h,p){return p(function(){M7(h)&&L7(c)})}function M7(c){var h=c.getSnapshot;c=c.value;try{var p=h();return!jo(c,p)}catch{return!0}}function L7(c){var h=Zf(c,2);h!==null&&co(h,c,2)}function xA(c){var h=Va();if(typeof c=="function"){var p=c;if(c=p(),l0){Ui(!0);try{p()}finally{Ui(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:c},h}function F7(c,h,p,y){return c.baseState=p,vA(c,vn,typeof y=="function"?y:Wu)}function ahe(c,h,p,y,T){if(Vw(c))throw Error(n(485));if(c=h.action,c!==null){var N={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};Z.T!==null?p(!0):N.isTransition=!1,y(N),p=h.pending,p===null?(N.next=h.pending=N,B7(h,N)):(N.next=p.next,h.pending=p.next=N)}}function B7(c,h){var p=h.action,y=h.payload,T=c.state;if(h.isTransition){var N=Z.T,V={};Z.T=V;try{var Q=p(T,y),fe=Z.S;fe!==null&&fe(V,Q),V7(c,h,Q)}catch(Ce){bA(c,h,Ce)}finally{N!==null&&V.types!==null&&(N.types=V.types),Z.T=N}}else try{N=p(T,y),V7(c,h,N)}catch(Ce){bA(c,h,Ce)}}function V7(c,h,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){U7(c,h,y)},function(y){return bA(c,h,y)}):U7(c,h,p)}function U7(c,h,p){h.status="fulfilled",h.value=p,z7(h),c.state=p,h=c.pending,h!==null&&(p=h.next,p===h?c.pending=null:(p=p.next,h.next=p,B7(c,p)))}function bA(c,h,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=p,z7(h),h=h.next;while(h!==y)}c.action=null}function z7(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function $7(c,h){return h}function H7(c,h){if(Sr){var p=Nn.formState;if(p!==null){e:{var y=er;if(Sr){if(Vn){t:{for(var T=Vn,N=bl;T.nodeType!==8;){if(!N){T=null;break t}if(T=_l(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Vn=_l(T.nextSibling),y=T.data==="F!";break e}}ch(y)}y=!1}y&&(h=p[0])}}return p=Va(),p.memoizedState=p.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:$7,lastRenderedState:h},p.queue=y,p=cL.bind(null,er,y),y.dispatch=p,y=xA(!1),N=kA.bind(null,er,!1,y.queue),y=Va(),T={state:h,dispatch:null,action:c,pending:null},y.queue=T,p=ahe.bind(null,er,T,N,p),T.dispatch=p,y.memoizedState=c,[h,p,!1]}function q7(c){var h=Ri();return W7(h,vn,c)}function W7(c,h,p){if(h=vA(c,h,$7)[0],c=Lw(Wu)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=vy(h)}catch(V){throw V===dp?Aw:V}else y=h;h=Ri();var T=h.queue,N=T.dispatch;return p!==h.memoizedState&&(er.flags|=2048,gp(9,{destroy:void 0},ohe.bind(null,T,p),null)),[y,N,c]}function ohe(c,h){c.action=h}function G7(c){var h=Ri(),p=vn;if(p!==null)return W7(h,p,c);Ri(),h=h.memoizedState,p=Ri();var y=p.queue.dispatch;return p.memoizedState=c,[h,y,!1]}function gp(c,h,p,y){return c={tag:c,create:p,deps:y,inst:h,next:null},h=er.updateQueue,h===null&&(h=Dw(),er.updateQueue=h),p=h.lastEffect,p===null?h.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,h.lastEffect=c),c}function K7(){return Ri().memoizedState}function Fw(c,h,p,y){var T=Va();er.flags|=c,T.memoizedState=gp(1|h,{destroy:void 0},p,y===void 0?null:y)}function Bw(c,h,p,y){var T=Ri();y=y===void 0?null:y;var N=T.memoizedState.inst;vn!==null&&y!==null&&dA(y,vn.memoizedState.deps)?T.memoizedState=gp(h,N,p,y):(er.flags|=c,T.memoizedState=gp(1|h,N,p,y))}function Y7(c,h){Fw(8390656,8,c,h)}function wA(c,h){Bw(2048,8,c,h)}function lhe(c){er.flags|=4;var h=er.updateQueue;if(h===null)h=Dw(),er.updateQueue=h,h.events=[c];else{var p=h.events;p===null?h.events=[c]:p.push(c)}}function X7(c){var h=Ri().memoizedState;return lhe({ref:h,nextImpl:c}),function(){if((Wr&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function Q7(c,h){return Bw(4,2,c,h)}function J7(c,h){return Bw(4,4,c,h)}function Z7(c,h){if(typeof h=="function"){c=c();var p=h(c);return function(){typeof p=="function"?p():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function eL(c,h,p){p=p!=null?p.concat([c]):null,Bw(4,4,Z7.bind(null,h,c),p)}function _A(){}function tL(c,h){var p=Ri();h=h===void 0?null:h;var y=p.memoizedState;return h!==null&&dA(h,y[1])?y[0]:(p.memoizedState=[c,h],c)}function rL(c,h){var p=Ri();h=h===void 0?null:h;var y=p.memoizedState;if(h!==null&&dA(h,y[1]))return y[0];if(y=c(),l0){Ui(!0);try{c()}finally{Ui(!1)}}return p.memoizedState=[y,h],y}function EA(c,h,p){return p===void 0||(qu&1073741824)!==0&&(vr&261930)===0?c.memoizedState=h:(c.memoizedState=p,c=n9(),er.lanes|=c,yh|=c,p)}function nL(c,h,p,y){return jo(p,h)?p:fp.current!==null?(c=EA(c,p,y),jo(c,h)||(Ki=!0),c):(qu&42)===0||(qu&1073741824)!==0&&(vr&261930)===0?(Ki=!0,c.memoizedState=p):(c=n9(),er.lanes|=c,yh|=c,h)}function iL(c,h,p,y,T){var N=J.p;J.p=N!==0&&8>N?N:8;var V=Z.T,Q={};Z.T=Q,kA(c,!1,h,p);try{var fe=T(),Ce=Z.S;if(Ce!==null&&Ce(Q,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Be=nhe(fe,y);yy(c,h,Be,Vo(c))}else yy(c,h,y,Vo(c))}catch(ze){yy(c,h,{then:function(){},status:"rejected",reason:ze},Vo())}finally{J.p=N,V!==null&&Q.types!==null&&(V.types=Q.types),Z.T=V}}function che(){}function TA(c,h,p,y){if(c.tag!==5)throw Error(n(476));var T=sL(c).queue;iL(c,T,h,he,p===null?che:function(){return aL(c),p(y)})}function sL(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:he},next:null};var p={};return h.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Wu,lastRenderedState:p},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function aL(c){var h=sL(c);h.next===null&&(h=c.alternate.memoizedState),yy(c,h.next.queue,{},Vo())}function SA(){return Xs(Dy)}function oL(){return Ri().memoizedState}function lL(){return Ri().memoizedState}function uhe(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var p=Vo();c=hh(p);var y=fh(h,c,p);y!==null&&(co(y,h,p),fy(y,h,p)),h={cache:eA()},c.payload=h;return}h=h.return}}function dhe(c,h,p){var y=Vo();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},Vw(c)?uL(h,p):(p=$k(c,h,p,y),p!==null&&(co(p,c,y),dL(p,h,y)))}function cL(c,h,p){var y=Vo();yy(c,h,p,y)}function yy(c,h,p,y){var T={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(Vw(c))uL(h,T);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var V=h.lastRenderedState,Q=N(V,p);if(T.hasEagerState=!0,T.eagerState=Q,jo(Q,V))return bw(c,h,T,0),Nn===null&&xw(),!1}catch{}finally{}if(p=$k(c,h,T,y),p!==null)return co(p,c,y),dL(p,h,y),!0}return!1}function kA(c,h,p,y){if(y={lane:2,revertLane:iC(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},Vw(c)){if(h)throw Error(n(479))}else h=$k(c,p,y,2),h!==null&&co(h,c,2)}function Vw(c){var h=c.alternate;return c===er||h!==null&&h===er}function uL(c,h){mp=Pw=!0;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}function dL(c,h,p){if((p&4194048)!==0){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,an(c,p)}}var xy={readContext:Xs,use:Mw,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useLayoutEffect:bi,useInsertionEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useSyncExternalStore:bi,useId:bi,useHostTransitionStatus:bi,useFormState:bi,useActionState:bi,useOptimistic:bi,useMemoCache:bi,useCacheRefresh:bi};xy.useEffectEvent=bi;var hL={readContext:Xs,use:Mw,useCallback:function(c,h){return Va().memoizedState=[c,h===void 0?null:h],c},useContext:Xs,useEffect:Y7,useImperativeHandle:function(c,h,p){p=p!=null?p.concat([c]):null,Fw(4194308,4,Z7.bind(null,h,c),p)},useLayoutEffect:function(c,h){return Fw(4194308,4,c,h)},useInsertionEffect:function(c,h){Fw(4,2,c,h)},useMemo:function(c,h){var p=Va();h=h===void 0?null:h;var y=c();if(l0){Ui(!0);try{c()}finally{Ui(!1)}}return p.memoizedState=[y,h],y},useReducer:function(c,h,p){var y=Va();if(p!==void 0){var T=p(h);if(l0){Ui(!0);try{p(h)}finally{Ui(!1)}}}else T=h;return y.memoizedState=y.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},y.queue=c,c=c.dispatch=dhe.bind(null,er,c),[y.memoizedState,c]},useRef:function(c){var h=Va();return c={current:c},h.memoizedState=c},useState:function(c){c=xA(c);var h=c.queue,p=cL.bind(null,er,h);return h.dispatch=p,[c.memoizedState,p]},useDebugValue:_A,useDeferredValue:function(c,h){var p=Va();return EA(p,c,h)},useTransition:function(){var c=xA(!1);return c=iL.bind(null,er,c.queue,!0,!1),Va().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,p){var y=er,T=Va();if(Sr){if(p===void 0)throw Error(n(407));p=p()}else{if(p=h(),Nn===null)throw Error(n(349));(vr&127)!==0||P7(y,h,p)}T.memoizedState=p;var N={value:p,getSnapshot:h};return T.queue=N,Y7(D7.bind(null,y,N,c),[c]),y.flags|=2048,gp(9,{destroy:void 0},j7.bind(null,y,N,p,h),null),p},useId:function(){var c=Va(),h=Nn.identifierPrefix;if(Sr){var p=Jc,y=Qc;p=(y&~(1<<32-rn(y)-1)).toString(32)+p,h="_"+h+"R_"+p,p=jw++,0<p&&(h+="H"+p.toString(32)),h+="_"}else p=ihe++,h="_"+h+"r_"+p.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:SA,useFormState:H7,useActionState:H7,useOptimistic:function(c){var h=Va();h.memoizedState=h.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=p,h=kA.bind(null,er,!0,p),p.dispatch=h,[c,h]},useMemoCache:gA,useCacheRefresh:function(){return Va().memoizedState=uhe.bind(null,er)},useEffectEvent:function(c){var h=Va(),p={impl:c};return h.memoizedState=p,function(){if((Wr&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},AA={readContext:Xs,use:Mw,useCallback:tL,useContext:Xs,useEffect:wA,useImperativeHandle:eL,useInsertionEffect:Q7,useLayoutEffect:J7,useMemo:rL,useReducer:Lw,useRef:K7,useState:function(){return Lw(Wu)},useDebugValue:_A,useDeferredValue:function(c,h){var p=Ri();return nL(p,vn.memoizedState,c,h)},useTransition:function(){var c=Lw(Wu)[0],h=Ri().memoizedState;return[typeof c=="boolean"?c:vy(c),h]},useSyncExternalStore:R7,useId:oL,useHostTransitionStatus:SA,useFormState:q7,useActionState:q7,useOptimistic:function(c,h){var p=Ri();return F7(p,vn,c,h)},useMemoCache:gA,useCacheRefresh:lL};AA.useEffectEvent=X7;var fL={readContext:Xs,use:Mw,useCallback:tL,useContext:Xs,useEffect:wA,useImperativeHandle:eL,useInsertionEffect:Q7,useLayoutEffect:J7,useMemo:rL,useReducer:yA,useRef:K7,useState:function(){return yA(Wu)},useDebugValue:_A,useDeferredValue:function(c,h){var p=Ri();return vn===null?EA(p,c,h):nL(p,vn.memoizedState,c,h)},useTransition:function(){var c=yA(Wu)[0],h=Ri().memoizedState;return[typeof c=="boolean"?c:vy(c),h]},useSyncExternalStore:R7,useId:oL,useHostTransitionStatus:SA,useFormState:G7,useActionState:G7,useOptimistic:function(c,h){var p=Ri();return vn!==null?F7(p,vn,c,h):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:gA,useCacheRefresh:lL};fL.useEffectEvent=X7;function CA(c,h,p,y){h=c.memoizedState,p=p(y,h),p=p==null?h:m({},h,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var NA={enqueueSetState:function(c,h,p){c=c._reactInternals;var y=Vo(),T=hh(y);T.payload=h,p!=null&&(T.callback=p),h=fh(c,T,y),h!==null&&(co(h,c,y),fy(h,c,y))},enqueueReplaceState:function(c,h,p){c=c._reactInternals;var y=Vo(),T=hh(y);T.tag=1,T.payload=h,p!=null&&(T.callback=p),h=fh(c,T,y),h!==null&&(co(h,c,y),fy(h,c,y))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var p=Vo(),y=hh(p);y.tag=2,h!=null&&(y.callback=h),h=fh(c,y,p),h!==null&&(co(h,c,p),fy(h,c,p))}};function mL(c,h,p,y,T,N,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,N,V):h.prototype&&h.prototype.isPureReactComponent?!sy(p,y)||!sy(T,N):!0}function pL(c,h,p,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,y),h.state!==c&&NA.enqueueReplaceState(h,h.state,null)}function c0(c,h){var p=h;if("ref"in h){p={};for(var y in h)y!=="ref"&&(p[y]=h[y])}if(c=c.defaultProps){p===h&&(p=m({},p));for(var T in c)p[T]===void 0&&(p[T]=c[T])}return p}function gL(c){yw(c)}function vL(c){console.error(c)}function yL(c){yw(c)}function Uw(c,h){try{var p=c.onUncaughtError;p(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function xL(c,h,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function IA(c,h,p){return p=hh(p),p.tag=3,p.payload={element:null},p.callback=function(){Uw(c,h)},p}function bL(c){return c=hh(c),c.tag=3,c}function wL(c,h,p,y){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var N=y.value;c.payload=function(){return T(N)},c.callback=function(){xL(h,p,y)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){xL(h,p,y),typeof T!="function"&&(xh===null?xh=new Set([this]):xh.add(this));var Q=y.stack;this.componentDidCatch(y.value,{componentStack:Q!==null?Q:""})})}function hhe(c,h,p,y,T){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=p.alternate,h!==null&&lp(h,p,T,!0),p=Mo.current,p!==null){switch(p.tag){case 31:case 13:return wl===null?Zw():p.alternate===null&&wi===0&&(wi=3),p.flags&=-257,p.flags|=65536,p.lanes=T,y===Cw?p.flags|=16384:(h=p.updateQueue,h===null?p.updateQueue=new Set([y]):h.add(y),tC(c,y,T)),!1;case 22:return p.flags|=65536,y===Cw?p.flags|=16384:(h=p.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=h):(p=h.retryQueue,p===null?h.retryQueue=new Set([y]):p.add(y)),tC(c,y,T)),!1}throw Error(n(435,p.tag))}return tC(c,y,T),Zw(),!1}if(Sr)return h=Mo.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,y!==Yk&&(c=Error(n(422),{cause:y}),ly(vl(c,p)))):(y!==Yk&&(h=Error(n(423),{cause:y}),ly(vl(h,p))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,y=vl(y,p),T=IA(c.stateNode,y,T),aA(c,T),wi!==4&&(wi=2)),!1;var N=Error(n(520),{cause:y});if(N=vl(N,p),Ay===null?Ay=[N]:Ay.push(N),wi!==4&&(wi=2),h===null)return!0;y=vl(y,p),p=h;do{switch(p.tag){case 3:return p.flags|=65536,c=T&-T,p.lanes|=c,c=IA(p.stateNode,y,c),aA(p,c),!1;case 1:if(h=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(xh===null||!xh.has(N))))return p.flags|=65536,T&=-T,p.lanes|=T,T=bL(T),wL(T,c,p,y),aA(p,T),!1}p=p.return}while(p!==null);return!1}var OA=Error(n(461)),Ki=!1;function Qs(c,h,p,y){h.child=c===null?S7(h,null,p,y):o0(h,c.child,p,y)}function _L(c,h,p,y,T){p=p.render;var N=h.ref;if("ref"in y){var V={};for(var Q in y)Q!=="ref"&&(V[Q]=y[Q])}else V=y;return n0(h),y=hA(c,h,p,V,N,T),Q=fA(),c!==null&&!Ki?(mA(c,h,T),Gu(c,h,T)):(Sr&&Q&&Gk(h),h.flags|=1,Qs(c,h,y,T),h.child)}function EL(c,h,p,y,T){if(c===null){var N=p.type;return typeof N=="function"&&!Hk(N)&&N.defaultProps===void 0&&p.compare===null?(h.tag=15,h.type=N,TL(c,h,N,y,T)):(c=_w(p.type,null,y,h,h.mode,T),c.ref=h.ref,c.return=h,h.child=c)}if(N=c.child,!BA(c,T)){var V=N.memoizedProps;if(p=p.compare,p=p!==null?p:sy,p(V,y)&&c.ref===h.ref)return Gu(c,h,T)}return h.flags|=1,c=Uu(N,y),c.ref=h.ref,c.return=h,h.child=c}function TL(c,h,p,y,T){if(c!==null){var N=c.memoizedProps;if(sy(N,y)&&c.ref===h.ref)if(Ki=!1,h.pendingProps=y=N,BA(c,T))(c.flags&131072)!==0&&(Ki=!0);else return h.lanes=c.lanes,Gu(c,h,T)}return RA(c,h,p,y,T)}function SL(c,h,p,y){var T=y.children,N=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,c!==null){for(y=h.child=c.child,T=0;y!==null;)T=T|y.lanes|y.childLanes,y=y.sibling;y=T&~N}else y=0,h.child=null;return kL(c,h,N,p,y)}if((p&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&kw(h,N!==null?N.cachePool:null),N!==null?C7(h,N):lA(),N7(h);else return y=h.lanes=536870912,kL(c,h,N!==null?N.baseLanes|p:p,p,y)}else N!==null?(kw(h,N.cachePool),C7(h,N),ph(),h.memoizedState=null):(c!==null&&kw(h,null),lA(),ph());return Qs(c,h,T,p),h.child}function by(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function kL(c,h,p,y,T){var N=rA();return N=N===null?null:{parent:Wi._currentValue,pool:N},h.memoizedState={baseLanes:p,cachePool:N},c!==null&&kw(h,null),lA(),N7(h),c!==null&&lp(c,h,y,!0),h.childLanes=T,null}function zw(c,h){return h=Hw({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function AL(c,h,p){return o0(h,c.child,null,p),c=zw(h,h.pendingProps),c.flags|=2,Lo(h),h.memoizedState=null,c}function fhe(c,h,p){var y=h.pendingProps,T=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(Sr){if(y.mode==="hidden")return c=zw(h,y),h.lanes=536870912,by(null,c);if(uA(h),(c=Vn)?(c=B9(c,bl),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:oh!==null?{id:Qc,overflow:Jc}:null,retryLane:536870912,hydrationErrors:null},p=u7(c),p.return=h,h.child=p,Ys=h,Vn=null)):c=null,c===null)throw ch(h);return h.lanes=536870912,null}return zw(h,y)}var N=c.memoizedState;if(N!==null){var V=N.dehydrated;if(uA(h),T)if(h.flags&256)h.flags&=-257,h=AL(c,h,p);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(n(558));else if(Ki||lp(c,h,p,!1),T=(p&c.childLanes)!==0,Ki||T){if(y=Nn,y!==null&&(V=Ci(y,p),V!==0&&V!==N.retryLane))throw N.retryLane=V,Zf(c,V),co(y,c,V),OA;Zw(),h=AL(c,h,p)}else c=N.treeContext,Vn=_l(V.nextSibling),Ys=h,Sr=!0,lh=null,bl=!1,c!==null&&f7(h,c),h=zw(h,y),h.flags|=4096;return h}return c=Uu(c.child,{mode:y.mode,children:y.children}),c.ref=h.ref,h.child=c,c.return=h,c}function $w(c,h){var p=h.ref;if(p===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(h.flags|=4194816)}}function RA(c,h,p,y,T){return n0(h),p=hA(c,h,p,y,void 0,T),y=fA(),c!==null&&!Ki?(mA(c,h,T),Gu(c,h,T)):(Sr&&y&&Gk(h),h.flags|=1,Qs(c,h,p,T),h.child)}function CL(c,h,p,y,T,N){return n0(h),h.updateQueue=null,p=O7(h,y,p,T),I7(c),y=fA(),c!==null&&!Ki?(mA(c,h,N),Gu(c,h,N)):(Sr&&y&&Gk(h),h.flags|=1,Qs(c,h,p,N),h.child)}function NL(c,h,p,y,T){if(n0(h),h.stateNode===null){var N=ip,V=p.contextType;typeof V=="object"&&V!==null&&(N=Xs(V)),N=new p(y,N),h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=NA,h.stateNode=N,N._reactInternals=h,N=h.stateNode,N.props=y,N.state=h.memoizedState,N.refs={},iA(h),V=p.contextType,N.context=typeof V=="object"&&V!==null?Xs(V):ip,N.state=h.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(CA(h,p,V,y),N.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&NA.enqueueReplaceState(N,N.state,null),py(h,y,N,T),my(),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(c===null){N=h.stateNode;var Q=h.memoizedProps,fe=c0(p,Q);N.props=fe;var Ce=N.context,Be=p.contextType;V=ip,typeof Be=="object"&&Be!==null&&(V=Xs(Be));var ze=p.getDerivedStateFromProps;Be=typeof ze=="function"||typeof N.getSnapshotBeforeUpdate=="function",Q=h.pendingProps!==Q,Be||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(Q||Ce!==V)&&pL(h,N,y,V),dh=!1;var Oe=h.memoizedState;N.state=Oe,py(h,y,N,T),my(),Ce=h.memoizedState,Q||Oe!==Ce||dh?(typeof ze=="function"&&(CA(h,p,ze,y),Ce=h.memoizedState),(fe=dh||mL(h,p,fe,y,Oe,Ce,V))?(Be||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(h.flags|=4194308)):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=Ce),N.props=y,N.state=Ce,N.context=V,y=fe):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{N=h.stateNode,sA(c,h),V=h.memoizedProps,Be=c0(p,V),N.props=Be,ze=h.pendingProps,Oe=N.context,Ce=p.contextType,fe=ip,typeof Ce=="object"&&Ce!==null&&(fe=Xs(Ce)),Q=p.getDerivedStateFromProps,(Ce=typeof Q=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==ze||Oe!==fe)&&pL(h,N,y,fe),dh=!1,Oe=h.memoizedState,N.state=Oe,py(h,y,N,T),my();var je=h.memoizedState;V!==ze||Oe!==je||dh||c!==null&&c.dependencies!==null&&Tw(c.dependencies)?(typeof Q=="function"&&(CA(h,p,Q,y),je=h.memoizedState),(Be=dh||mL(h,p,Be,y,Oe,je,fe)||c!==null&&c.dependencies!==null&&Tw(c.dependencies))?(Ce||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,je,fe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,je,fe)),typeof N.componentDidUpdate=="function"&&(h.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=je),N.props=y,N.state=je,N.context=fe,y=Be):(typeof N.componentDidUpdate!="function"||V===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Oe===c.memoizedState||(h.flags|=1024),y=!1)}return N=y,$w(c,h),y=(h.flags&128)!==0,N||y?(N=h.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:N.render(),h.flags|=1,c!==null&&y?(h.child=o0(h,c.child,null,T),h.child=o0(h,null,p,T)):Qs(c,h,p,T),h.memoizedState=N.state,c=h.child):c=Gu(c,h,T),c}function IL(c,h,p,y){return t0(),h.flags|=256,Qs(c,h,p,y),h.child}var PA={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function jA(c){return{baseLanes:c,cachePool:x7()}}function DA(c,h,p){return c=c!==null?c.childLanes&~p:0,h&&(c|=Bo),c}function OL(c,h,p){var y=h.pendingProps,T=!1,N=(h.flags&128)!==0,V;if((V=N)||(V=c!==null&&c.memoizedState===null?!1:(Oi.current&2)!==0),V&&(T=!0,h.flags&=-129),V=(h.flags&32)!==0,h.flags&=-33,c===null){if(Sr){if(T?mh(h):ph(),(c=Vn)?(c=B9(c,bl),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:oh!==null?{id:Qc,overflow:Jc}:null,retryLane:536870912,hydrationErrors:null},p=u7(c),p.return=h,h.child=p,Ys=h,Vn=null)):c=null,c===null)throw ch(h);return vC(c)?h.lanes=32:h.lanes=536870912,null}var Q=y.children;return y=y.fallback,T?(ph(),T=h.mode,Q=Hw({mode:"hidden",children:Q},T),y=e0(y,T,p,null),Q.return=h,y.return=h,Q.sibling=y,h.child=Q,y=h.child,y.memoizedState=jA(p),y.childLanes=DA(c,V,p),h.memoizedState=PA,by(null,y)):(mh(h),MA(h,Q))}var fe=c.memoizedState;if(fe!==null&&(Q=fe.dehydrated,Q!==null)){if(N)h.flags&256?(mh(h),h.flags&=-257,h=LA(c,h,p)):h.memoizedState!==null?(ph(),h.child=c.child,h.flags|=128,h=null):(ph(),Q=y.fallback,T=h.mode,y=Hw({mode:"visible",children:y.children},T),Q=e0(Q,T,p,null),Q.flags|=2,y.return=h,Q.return=h,y.sibling=Q,h.child=y,o0(h,c.child,null,p),y=h.child,y.memoizedState=jA(p),y.childLanes=DA(c,V,p),h.memoizedState=PA,h=by(null,y));else if(mh(h),vC(Q)){if(V=Q.nextSibling&&Q.nextSibling.dataset,V)var Ce=V.dgst;V=Ce,y=Error(n(419)),y.stack="",y.digest=V,ly({value:y,source:null,stack:null}),h=LA(c,h,p)}else if(Ki||lp(c,h,p,!1),V=(p&c.childLanes)!==0,Ki||V){if(V=Nn,V!==null&&(y=Ci(V,p),y!==0&&y!==fe.retryLane))throw fe.retryLane=y,Zf(c,y),co(V,c,y),OA;gC(Q)||Zw(),h=LA(c,h,p)}else gC(Q)?(h.flags|=192,h.child=c.child,h=null):(c=fe.treeContext,Vn=_l(Q.nextSibling),Ys=h,Sr=!0,lh=null,bl=!1,c!==null&&f7(h,c),h=MA(h,y.children),h.flags|=4096);return h}return T?(ph(),Q=y.fallback,T=h.mode,fe=c.child,Ce=fe.sibling,y=Uu(fe,{mode:"hidden",children:y.children}),y.subtreeFlags=fe.subtreeFlags&65011712,Ce!==null?Q=Uu(Ce,Q):(Q=e0(Q,T,p,null),Q.flags|=2),Q.return=h,y.return=h,y.sibling=Q,h.child=y,by(null,y),y=h.child,Q=c.child.memoizedState,Q===null?Q=jA(p):(T=Q.cachePool,T!==null?(fe=Wi._currentValue,T=T.parent!==fe?{parent:fe,pool:fe}:T):T=x7(),Q={baseLanes:Q.baseLanes|p,cachePool:T}),y.memoizedState=Q,y.childLanes=DA(c,V,p),h.memoizedState=PA,by(c.child,y)):(mh(h),p=c.child,c=p.sibling,p=Uu(p,{mode:"visible",children:y.children}),p.return=h,p.sibling=null,c!==null&&(V=h.deletions,V===null?(h.deletions=[c],h.flags|=16):V.push(c)),h.child=p,h.memoizedState=null,p)}function MA(c,h){return h=Hw({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Hw(c,h){return c=Do(22,c,null,h),c.lanes=0,c}function LA(c,h,p){return o0(h,c.child,null,p),c=MA(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function RL(c,h,p){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),Jk(c.return,h,p)}function FA(c,h,p,y,T,N){var V=c.memoizedState;V===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:T,treeForkCount:N}:(V.isBackwards=h,V.rendering=null,V.renderingStartTime=0,V.last=y,V.tail=p,V.tailMode=T,V.treeForkCount=N)}function PL(c,h,p){var y=h.pendingProps,T=y.revealOrder,N=y.tail;y=y.children;var V=Oi.current,Q=(V&2)!==0;if(Q?(V=V&1|2,h.flags|=128):V&=1,q(Oi,V),Qs(c,h,y,p),y=Sr?oy:0,!Q&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&RL(c,p,h);else if(c.tag===19)RL(c,p,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(T){case"forwards":for(p=h.child,T=null;p!==null;)c=p.alternate,c!==null&&Rw(c)===null&&(T=p),p=p.sibling;p=T,p===null?(T=h.child,h.child=null):(T=p.sibling,p.sibling=null),FA(h,!1,T,p,N,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=h.child,h.child=null;T!==null;){if(c=T.alternate,c!==null&&Rw(c)===null){h.child=T;break}c=T.sibling,T.sibling=p,p=T,T=c}FA(h,!0,p,null,N,y);break;case"together":FA(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function Gu(c,h,p){if(c!==null&&(h.dependencies=c.dependencies),yh|=h.lanes,(p&h.childLanes)===0)if(c!==null){if(lp(c,h,p,!1),(p&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,p=Uu(c,c.pendingProps),h.child=p,p.return=h;c.sibling!==null;)c=c.sibling,p=p.sibling=Uu(c,c.pendingProps),p.return=h;p.sibling=null}return h.child}function BA(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&Tw(c)))}function mhe(c,h,p){switch(h.tag){case 3:ce(h,h.stateNode.containerInfo),uh(h,Wi,c.memoizedState.cache),t0();break;case 27:case 5:ye(h);break;case 4:ce(h,h.stateNode.containerInfo);break;case 10:uh(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,uA(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(mh(h),h.flags|=128,null):(p&h.child.childLanes)!==0?OL(c,h,p):(mh(h),c=Gu(c,h,p),c!==null?c.sibling:null);mh(h);break;case 19:var T=(c.flags&128)!==0;if(y=(p&h.childLanes)!==0,y||(lp(c,h,p,!1),y=(p&h.childLanes)!==0),T){if(y)return PL(c,h,p);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),q(Oi,Oi.current),y)break;return null;case 22:return h.lanes=0,SL(c,h,p,h.pendingProps);case 24:uh(h,Wi,c.memoizedState.cache)}return Gu(c,h,p)}function jL(c,h,p){if(c!==null)if(c.memoizedProps!==h.pendingProps)Ki=!0;else{if(!BA(c,p)&&(h.flags&128)===0)return Ki=!1,mhe(c,h,p);Ki=(c.flags&131072)!==0}else Ki=!1,Sr&&(h.flags&1048576)!==0&&h7(h,oy,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(c=s0(h.elementType),h.type=c,typeof c=="function")Hk(c)?(y=c0(c,y),h.tag=1,h=NL(null,h,c,y,p)):(h.tag=0,h=RA(null,h,c,y,p));else{if(c!=null){var T=c.$$typeof;if(T===R){h.tag=11,h=_L(null,h,c,y,p);break e}else if(T===S){h.tag=14,h=EL(null,h,c,y,p);break e}}throw h=le(c)||c,Error(n(306,h,""))}}return h;case 0:return RA(c,h,h.type,h.pendingProps,p);case 1:return y=h.type,T=c0(y,h.pendingProps),NL(c,h,y,T,p);case 3:e:{if(ce(h,h.stateNode.containerInfo),c===null)throw Error(n(387));y=h.pendingProps;var N=h.memoizedState;T=N.element,sA(c,h),py(h,y,null,p);var V=h.memoizedState;if(y=V.cache,uh(h,Wi,y),y!==N.cache&&Zk(h,[Wi],p,!0),my(),y=V.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:V.cache},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){h=IL(c,h,y,p);break e}else if(y!==T){T=vl(Error(n(424)),h),ly(T),h=IL(c,h,y,p);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Vn=_l(c.firstChild),Ys=h,Sr=!0,lh=null,bl=!0,p=S7(h,null,y,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(t0(),y===T){h=Gu(c,h,p);break e}Qs(c,h,y,p)}h=h.child}return h;case 26:return $w(c,h),c===null?(p=q9(h.type,null,h.pendingProps,null))?h.memoizedState=p:Sr||(p=h.type,c=h.pendingProps,y=a2(ue.current).createElement(p),y[ne]=h,y[se]=c,Js(y,p,c),gt(y),h.stateNode=y):h.memoizedState=q9(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return ye(h),c===null&&Sr&&(y=h.stateNode=z9(h.type,h.pendingProps,ue.current),Ys=h,bl=!0,T=Vn,Eh(h.type)?(yC=T,Vn=_l(y.firstChild)):Vn=T),Qs(c,h,h.pendingProps.children,p),$w(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&Sr&&((T=y=Vn)&&(y=Hhe(y,h.type,h.pendingProps,bl),y!==null?(h.stateNode=y,Ys=h,Vn=_l(y.firstChild),bl=!1,T=!0):T=!1),T||ch(h)),ye(h),T=h.type,N=h.pendingProps,V=c!==null?c.memoizedProps:null,y=N.children,fC(T,N)?y=null:V!==null&&fC(T,V)&&(h.flags|=32),h.memoizedState!==null&&(T=hA(c,h,she,null,null,p),Dy._currentValue=T),$w(c,h),Qs(c,h,y,p),h.child;case 6:return c===null&&Sr&&((c=p=Vn)&&(p=qhe(p,h.pendingProps,bl),p!==null?(h.stateNode=p,Ys=h,Vn=null,c=!0):c=!1),c||ch(h)),null;case 13:return OL(c,h,p);case 4:return ce(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=o0(h,null,y,p):Qs(c,h,y,p),h.child;case 11:return _L(c,h,h.type,h.pendingProps,p);case 7:return Qs(c,h,h.pendingProps,p),h.child;case 8:return Qs(c,h,h.pendingProps.children,p),h.child;case 12:return Qs(c,h,h.pendingProps.children,p),h.child;case 10:return y=h.pendingProps,uh(h,h.type,y.value),Qs(c,h,y.children,p),h.child;case 9:return T=h.type._context,y=h.pendingProps.children,n0(h),T=Xs(T),y=y(T),h.flags|=1,Qs(c,h,y,p),h.child;case 14:return EL(c,h,h.type,h.pendingProps,p);case 15:return TL(c,h,h.type,h.pendingProps,p);case 19:return PL(c,h,p);case 31:return fhe(c,h,p);case 22:return SL(c,h,p,h.pendingProps);case 24:return n0(h),y=Xs(Wi),c===null?(T=rA(),T===null&&(T=Nn,N=eA(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=p),T=N),h.memoizedState={parent:y,cache:T},iA(h),uh(h,Wi,T)):((c.lanes&p)!==0&&(sA(c,h),py(h,null,null,p),my()),T=c.memoizedState,N=h.memoizedState,T.parent!==y?(T={parent:y,cache:y},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),uh(h,Wi,y)):(y=N.cache,uh(h,Wi,y),y!==T.cache&&Zk(h,[Wi],p,!0))),Qs(c,h,h.pendingProps.children,p),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Ku(c){c.flags|=4}function VA(c,h,p,y,T){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(T&335544128)===T)if(c.stateNode.complete)c.flags|=8192;else if(o9())c.flags|=8192;else throw a0=Cw,nA}else c.flags&=-16777217}function DL(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!X9(h))if(o9())c.flags|=8192;else throw a0=Cw,nA}function qw(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?si():536870912,c.lanes|=h,bp|=h)}function wy(c,h){if(!Sr)switch(c.tailMode){case"hidden":h=c.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Un(c){var h=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(h)for(var T=c.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags&65011712,y|=T.flags&65011712,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=y,c.childLanes=p,h}function phe(c,h,p){var y=h.pendingProps;switch(Kk(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Un(h),null;case 1:return Un(h),null;case 3:return p=h.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),Hu(Wi),ie(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(op(h)?Ku(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Xk())),Un(h),null;case 26:var T=h.type,N=h.memoizedState;return c===null?(Ku(h),N!==null?(Un(h),DL(h,N)):(Un(h),VA(h,T,null,y,p))):N?N!==c.memoizedState?(Ku(h),Un(h),DL(h,N)):(Un(h),h.flags&=-16777217):(c=c.memoizedProps,c!==y&&Ku(h),Un(h),VA(h,T,c,y,p)),null;case 27:if(Ve(h),p=ue.current,T=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&Ku(h);else{if(!y){if(h.stateNode===null)throw Error(n(166));return Un(h),null}c=W.current,op(h)?m7(h):(c=z9(T,y,p),h.stateNode=c,Ku(h))}return Un(h),null;case 5:if(Ve(h),T=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&Ku(h);else{if(!y){if(h.stateNode===null)throw Error(n(166));return Un(h),null}if(N=W.current,op(h))m7(h);else{var V=a2(ue.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof y.is=="string"?V.createElement("select",{is:y.is}):V.createElement("select"),y.multiple?N.multiple=!0:y.size&&(N.size=y.size);break;default:N=typeof y.is=="string"?V.createElement(T,{is:y.is}):V.createElement(T)}}N[ne]=h,N[se]=y;e:for(V=h.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===h)break e;for(;V.sibling===null;){if(V.return===null||V.return===h)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}h.stateNode=N;e:switch(Js(N,T,y),T){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Ku(h)}}return Un(h),VA(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,p),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==y&&Ku(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(n(166));if(c=ue.current,op(h)){if(c=h.stateNode,p=h.memoizedProps,y=null,T=Ys,T!==null)switch(T.tag){case 27:case 5:y=T.memoizedProps}c[ne]=h,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||O9(c.nodeValue,p)),c||ch(h,!0)}else c=a2(c).createTextNode(y),c[ne]=h,h.stateNode=c}return Un(h),null;case 31:if(p=h.memoizedState,c===null||c.memoizedState!==null){if(y=op(h),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[ne]=h}else t0(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Un(h),c=!1}else p=Xk(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return h.flags&256?(Lo(h),h):(Lo(h),null);if((h.flags&128)!==0)throw Error(n(558))}return Un(h),null;case 13:if(y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=op(h),y!==null&&y.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ne]=h}else t0(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Un(h),T=!1}else T=Xk(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=T),T=!0;if(!T)return h.flags&256?(Lo(h),h):(Lo(h),null)}return Lo(h),(h.flags&128)!==0?(h.lanes=p,h):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=h.child,T=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(T=y.alternate.memoizedState.cachePool.pool),N=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),N!==T&&(y.flags|=2048)),p!==c&&p&&(h.child.flags|=8192),qw(h,h.updateQueue),Un(h),null);case 4:return ie(),c===null&&lC(h.stateNode.containerInfo),Un(h),null;case 10:return Hu(h.type),Un(h),null;case 19:if(B(Oi),y=h.memoizedState,y===null)return Un(h),null;if(T=(h.flags&128)!==0,N=y.rendering,N===null)if(T)wy(y,!1);else{if(wi!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(N=Rw(c),N!==null){for(h.flags|=128,wy(y,!1),c=N.updateQueue,h.updateQueue=c,qw(h,c),h.subtreeFlags=0,c=p,p=h.child;p!==null;)c7(p,c),p=p.sibling;return q(Oi,Oi.current&1|2),Sr&&zu(h,y.treeForkCount),h.child}c=c.sibling}y.tail!==null&&Wt()>Xw&&(h.flags|=128,T=!0,wy(y,!1),h.lanes=4194304)}else{if(!T)if(c=Rw(N),c!==null){if(h.flags|=128,T=!0,c=c.updateQueue,h.updateQueue=c,qw(h,c),wy(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!Sr)return Un(h),null}else 2*Wt()-y.renderingStartTime>Xw&&p!==536870912&&(h.flags|=128,T=!0,wy(y,!1),h.lanes=4194304);y.isBackwards?(N.sibling=h.child,h.child=N):(c=y.last,c!==null?c.sibling=N:h.child=N,y.last=N)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Wt(),c.sibling=null,p=Oi.current,q(Oi,T?p&1|2:p&1),Sr&&zu(h,y.treeForkCount),c):(Un(h),null);case 22:case 23:return Lo(h),cA(),y=h.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(p&536870912)!==0&&(h.flags&128)===0&&(Un(h),h.subtreeFlags&6&&(h.flags|=8192)):Un(h),p=h.updateQueue,p!==null&&qw(h,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048),c!==null&&B(i0),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),h.memoizedState.cache!==p&&(h.flags|=2048),Hu(Wi),Un(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function ghe(c,h){switch(Kk(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return Hu(Wi),ie(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return Ve(h),null;case 31:if(h.memoizedState!==null){if(Lo(h),h.alternate===null)throw Error(n(340));t0()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Lo(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));t0()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return B(Oi),null;case 4:return ie(),null;case 10:return Hu(h.type),null;case 22:case 23:return Lo(h),cA(),c!==null&&B(i0),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return Hu(Wi),null;case 25:return null;default:return null}}function ML(c,h){switch(Kk(h),h.tag){case 3:Hu(Wi),ie();break;case 26:case 27:case 5:Ve(h);break;case 4:ie();break;case 31:h.memoizedState!==null&&Lo(h);break;case 13:Lo(h);break;case 19:B(Oi);break;case 10:Hu(h.type);break;case 22:case 23:Lo(h),cA(),c!==null&&B(i0);break;case 24:Hu(Wi)}}function _y(c,h){try{var p=h.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var T=y.next;p=T;do{if((p.tag&c)===c){y=void 0;var N=p.create,V=p.inst;y=N(),V.destroy=y}p=p.next}while(p!==T)}}catch(Q){cn(h,h.return,Q)}}function gh(c,h,p){try{var y=h.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var N=T.next;y=N;do{if((y.tag&c)===c){var V=y.inst,Q=V.destroy;if(Q!==void 0){V.destroy=void 0,T=h;var fe=p,Ce=Q;try{Ce()}catch(Be){cn(T,fe,Be)}}}y=y.next}while(y!==N)}}catch(Be){cn(h,h.return,Be)}}function LL(c){var h=c.updateQueue;if(h!==null){var p=c.stateNode;try{A7(h,p)}catch(y){cn(c,c.return,y)}}}function FL(c,h,p){p.props=c0(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){cn(c,h,y)}}function Ey(c,h){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(T){cn(c,h,T)}}function Zc(c,h){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(T){cn(c,h,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){cn(c,h,T)}else p.current=null}function BL(c){var h=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(T){cn(c,c.return,T)}}function UA(c,h,p){try{var y=c.stateNode;Fhe(y,c.type,p,h),y[se]=h}catch(T){cn(c,c.return,T)}}function VL(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&Eh(c.type)||c.tag===4}function zA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||VL(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&Eh(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function $A(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,h):(h=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,h.appendChild(c),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=Io));else if(y!==4&&(y===27&&Eh(c.type)&&(p=c.stateNode,h=null),c=c.child,c!==null))for($A(c,h,p),c=c.sibling;c!==null;)$A(c,h,p),c=c.sibling}function Ww(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?p.insertBefore(c,h):p.appendChild(c);else if(y!==4&&(y===27&&Eh(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(Ww(c,h,p),c=c.sibling;c!==null;)Ww(c,h,p),c=c.sibling}function UL(c){var h=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,T=h.attributes;T.length;)h.removeAttributeNode(T[0]);Js(h,y,p),h[ne]=c,h[se]=p}catch(N){cn(c,c.return,N)}}var Yu=!1,Yi=!1,HA=!1,zL=typeof WeakSet=="function"?WeakSet:Set,Cs=null;function vhe(c,h){if(c=c.containerInfo,dC=f2,c=e7(c),Lk(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var T=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var V=0,Q=-1,fe=-1,Ce=0,Be=0,ze=c,Oe=null;t:for(;;){for(var je;ze!==p||T!==0&&ze.nodeType!==3||(Q=V+T),ze!==N||y!==0&&ze.nodeType!==3||(fe=V+y),ze.nodeType===3&&(V+=ze.nodeValue.length),(je=ze.firstChild)!==null;)Oe=ze,ze=je;for(;;){if(ze===c)break t;if(Oe===p&&++Ce===T&&(Q=V),Oe===N&&++Be===y&&(fe=V),(je=ze.nextSibling)!==null)break;ze=Oe,Oe=ze.parentNode}ze=je}p=Q===-1||fe===-1?null:{start:Q,end:fe}}else p=null}p=p||{start:0,end:0}}else p=null;for(hC={focusedElem:c,selectionRange:p},f2=!1,Cs=h;Cs!==null;)if(h=Cs,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,Cs=c;else for(;Cs!==null;){switch(h=Cs,N=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)T=c[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&N!==null){c=void 0,p=h,T=N.memoizedProps,N=N.memoizedState,y=p.stateNode;try{var xt=c0(p.type,T);c=y.getSnapshotBeforeUpdate(xt,N),y.__reactInternalSnapshotBeforeUpdate=c}catch(Pt){cn(p,p.return,Pt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,p=c.nodeType,p===9)pC(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":pC(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=h.sibling,c!==null){c.return=h.return,Cs=c;break}Cs=h.return}}function $L(c,h,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Qu(c,p),y&4&&_y(5,p);break;case 1:if(Qu(c,p),y&4)if(c=p.stateNode,h===null)try{c.componentDidMount()}catch(V){cn(p,p.return,V)}else{var T=c0(p.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(T,h,c.__reactInternalSnapshotBeforeUpdate)}catch(V){cn(p,p.return,V)}}y&64&&LL(p),y&512&&Ey(p,p.return);break;case 3:if(Qu(c,p),y&64&&(c=p.updateQueue,c!==null)){if(h=null,p.child!==null)switch(p.child.tag){case 27:case 5:h=p.child.stateNode;break;case 1:h=p.child.stateNode}try{A7(c,h)}catch(V){cn(p,p.return,V)}}break;case 27:h===null&&y&4&&UL(p);case 26:case 5:Qu(c,p),h===null&&y&4&&BL(p),y&512&&Ey(p,p.return);break;case 12:Qu(c,p);break;case 31:Qu(c,p),y&4&&WL(c,p);break;case 13:Qu(c,p),y&4&&GL(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=khe.bind(null,p),Whe(c,p))));break;case 22:if(y=p.memoizedState!==null||Yu,!y){h=h!==null&&h.memoizedState!==null||Yi,T=Yu;var N=Yi;Yu=y,(Yi=h)&&!N?Ju(c,p,(p.subtreeFlags&8772)!==0):Qu(c,p),Yu=T,Yi=N}break;case 30:break;default:Qu(c,p)}}function HL(c){var h=c.alternate;h!==null&&(c.alternate=null,HL(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&Ye(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Qn=null,so=!1;function Xu(c,h,p){for(p=p.child;p!==null;)qL(c,h,p),p=p.sibling}function qL(c,h,p){if(wr&&typeof wr.onCommitFiberUnmount=="function")try{wr.onCommitFiberUnmount(rr,p)}catch{}switch(p.tag){case 26:Yi||Zc(p,h),Xu(c,h,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Yi||Zc(p,h);var y=Qn,T=so;Eh(p.type)&&(Qn=p.stateNode,so=!1),Xu(c,h,p),Ry(p.stateNode),Qn=y,so=T;break;case 5:Yi||Zc(p,h);case 6:if(y=Qn,T=so,Qn=null,Xu(c,h,p),Qn=y,so=T,Qn!==null)if(so)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(p.stateNode)}catch(N){cn(p,h,N)}else try{Qn.removeChild(p.stateNode)}catch(N){cn(p,h,N)}break;case 18:Qn!==null&&(so?(c=Qn,L9(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),Cp(c)):L9(Qn,p.stateNode));break;case 4:y=Qn,T=so,Qn=p.stateNode.containerInfo,so=!0,Xu(c,h,p),Qn=y,so=T;break;case 0:case 11:case 14:case 15:gh(2,p,h),Yi||gh(4,p,h),Xu(c,h,p);break;case 1:Yi||(Zc(p,h),y=p.stateNode,typeof y.componentWillUnmount=="function"&&FL(p,h,y)),Xu(c,h,p);break;case 21:Xu(c,h,p);break;case 22:Yi=(y=Yi)||p.memoizedState!==null,Xu(c,h,p),Yi=y;break;default:Xu(c,h,p)}}function WL(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{Cp(c)}catch(p){cn(h,h.return,p)}}}function GL(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{Cp(c)}catch(p){cn(h,h.return,p)}}function yhe(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new zL),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new zL),h;default:throw Error(n(435,c.tag))}}function Gw(c,h){var p=yhe(c);h.forEach(function(y){if(!p.has(y)){p.add(y);var T=Ahe.bind(null,c,y);y.then(T,T)}})}function ao(c,h){var p=h.deletions;if(p!==null)for(var y=0;y<p.length;y++){var T=p[y],N=c,V=h,Q=V;e:for(;Q!==null;){switch(Q.tag){case 27:if(Eh(Q.type)){Qn=Q.stateNode,so=!1;break e}break;case 5:Qn=Q.stateNode,so=!1;break e;case 3:case 4:Qn=Q.stateNode.containerInfo,so=!0;break e}Q=Q.return}if(Qn===null)throw Error(n(160));qL(N,V,T),Qn=null,so=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)KL(h,c),h=h.sibling}var ic=null;function KL(c,h){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:ao(h,c),oo(c),y&4&&(gh(3,c,c.return),_y(3,c),gh(5,c,c.return));break;case 1:ao(h,c),oo(c),y&512&&(Yi||p===null||Zc(p,p.return)),y&64&&Yu&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var T=ic;if(ao(h,c),oo(c),y&512&&(Yi||p===null||Zc(p,p.return)),y&4){var N=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,T=T.ownerDocument||T;t:switch(y){case"title":N=T.getElementsByTagName("title")[0],(!N||N[Ee]||N[ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(y),T.head.insertBefore(N,T.querySelector("head > title"))),Js(N,y,p),N[ne]=c,gt(N),y=N;break e;case"link":var V=K9("link","href",T).get(y+(p.href||""));if(V){for(var Q=0;Q<V.length;Q++)if(N=V[Q],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(Q,1);break t}}N=T.createElement(y),Js(N,y,p),T.head.appendChild(N);break;case"meta":if(V=K9("meta","content",T).get(y+(p.content||""))){for(Q=0;Q<V.length;Q++)if(N=V[Q],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(Q,1);break t}}N=T.createElement(y),Js(N,y,p),T.head.appendChild(N);break;default:throw Error(n(468,y))}N[ne]=c,gt(N),y=N}c.stateNode=y}else Y9(T,c.type,c.stateNode);else c.stateNode=G9(T,y,c.memoizedProps);else N!==y?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,y===null?Y9(T,c.type,c.stateNode):G9(T,y,c.memoizedProps)):y===null&&c.stateNode!==null&&UA(c,c.memoizedProps,p.memoizedProps)}break;case 27:ao(h,c),oo(c),y&512&&(Yi||p===null||Zc(p,p.return)),p!==null&&y&4&&UA(c,c.memoizedProps,p.memoizedProps);break;case 5:if(ao(h,c),oo(c),y&512&&(Yi||p===null||Zc(p,p.return)),c.flags&32){T=c.stateNode;try{fa(T,"")}catch(xt){cn(c,c.return,xt)}}y&4&&c.stateNode!=null&&(T=c.memoizedProps,UA(c,T,p!==null?p.memoizedProps:T)),y&1024&&(HA=!0);break;case 6:if(ao(h,c),oo(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(xt){cn(c,c.return,xt)}}break;case 3:if(c2=null,T=ic,ic=o2(h.containerInfo),ao(h,c),ic=T,oo(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{Cp(h.containerInfo)}catch(xt){cn(c,c.return,xt)}HA&&(HA=!1,YL(c));break;case 4:y=ic,ic=o2(c.stateNode.containerInfo),ao(h,c),oo(c),ic=y;break;case 12:ao(h,c),oo(c);break;case 31:ao(h,c),oo(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Gw(c,y)));break;case 13:ao(h,c),oo(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&(Yw=Wt()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Gw(c,y)));break;case 22:T=c.memoizedState!==null;var fe=p!==null&&p.memoizedState!==null,Ce=Yu,Be=Yi;if(Yu=Ce||T,Yi=Be||fe,ao(h,c),Yi=Be,Yu=Ce,oo(c),y&8192)e:for(h=c.stateNode,h._visibility=T?h._visibility&-2:h._visibility|1,T&&(p===null||fe||Yu||Yi||u0(c)),p=null,h=c;;){if(h.tag===5||h.tag===26){if(p===null){fe=p=h;try{if(N=fe.stateNode,T)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{Q=fe.stateNode;var ze=fe.memoizedProps.style,Oe=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;Q.style.display=Oe==null||typeof Oe=="boolean"?"":(""+Oe).trim()}}catch(xt){cn(fe,fe.return,xt)}}}else if(h.tag===6){if(p===null){fe=h;try{fe.stateNode.nodeValue=T?"":fe.memoizedProps}catch(xt){cn(fe,fe.return,xt)}}}else if(h.tag===18){if(p===null){fe=h;try{var je=fe.stateNode;T?F9(je,!0):F9(fe.stateNode,!1)}catch(xt){cn(fe,fe.return,xt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Gw(c,p))));break;case 19:ao(h,c),oo(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Gw(c,y)));break;case 30:break;case 21:break;default:ao(h,c),oo(c)}}function oo(c){var h=c.flags;if(h&2){try{for(var p,y=c.return;y!==null;){if(VL(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var T=p.stateNode,N=zA(c);Ww(c,N,T);break;case 5:var V=p.stateNode;p.flags&32&&(fa(V,""),p.flags&=-33);var Q=zA(c);Ww(c,Q,V);break;case 3:case 4:var fe=p.stateNode.containerInfo,Ce=zA(c);$A(c,Ce,fe);break;default:throw Error(n(161))}}catch(Be){cn(c,c.return,Be)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function YL(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;YL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Qu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)$L(c,h.alternate,h),h=h.sibling}function u0(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:gh(4,h,h.return),u0(h);break;case 1:Zc(h,h.return);var p=h.stateNode;typeof p.componentWillUnmount=="function"&&FL(h,h.return,p),u0(h);break;case 27:Ry(h.stateNode);case 26:case 5:Zc(h,h.return),u0(h);break;case 22:h.memoizedState===null&&u0(h);break;case 30:u0(h);break;default:u0(h)}c=c.sibling}}function Ju(c,h,p){for(p=p&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,T=c,N=h,V=N.flags;switch(N.tag){case 0:case 11:case 15:Ju(T,N,p),_y(4,N);break;case 1:if(Ju(T,N,p),y=N,T=y.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(Ce){cn(y,y.return,Ce)}if(y=N,T=y.updateQueue,T!==null){var Q=y.stateNode;try{var fe=T.shared.hiddenCallbacks;if(fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<fe.length;T++)k7(fe[T],Q)}catch(Ce){cn(y,y.return,Ce)}}p&&V&64&&LL(N),Ey(N,N.return);break;case 27:UL(N);case 26:case 5:Ju(T,N,p),p&&y===null&&V&4&&BL(N),Ey(N,N.return);break;case 12:Ju(T,N,p);break;case 31:Ju(T,N,p),p&&V&4&&WL(T,N);break;case 13:Ju(T,N,p),p&&V&4&&GL(T,N);break;case 22:N.memoizedState===null&&Ju(T,N,p),Ey(N,N.return);break;case 30:break;default:Ju(T,N,p)}h=h.sibling}}function qA(c,h){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&cy(p))}function WA(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&cy(c))}function sc(c,h,p,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)XL(c,h,p,y),h=h.sibling}function XL(c,h,p,y){var T=h.flags;switch(h.tag){case 0:case 11:case 15:sc(c,h,p,y),T&2048&&_y(9,h);break;case 1:sc(c,h,p,y);break;case 3:sc(c,h,p,y),T&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&cy(c)));break;case 12:if(T&2048){sc(c,h,p,y),c=h.stateNode;try{var N=h.memoizedProps,V=N.id,Q=N.onPostCommit;typeof Q=="function"&&Q(V,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(fe){cn(h,h.return,fe)}}else sc(c,h,p,y);break;case 31:sc(c,h,p,y);break;case 13:sc(c,h,p,y);break;case 23:break;case 22:N=h.stateNode,V=h.alternate,h.memoizedState!==null?N._visibility&2?sc(c,h,p,y):Ty(c,h):N._visibility&2?sc(c,h,p,y):(N._visibility|=2,vp(c,h,p,y,(h.subtreeFlags&10256)!==0||!1)),T&2048&&qA(V,h);break;case 24:sc(c,h,p,y),T&2048&&WA(h.alternate,h);break;default:sc(c,h,p,y)}}function vp(c,h,p,y,T){for(T=T&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var N=c,V=h,Q=p,fe=y,Ce=V.flags;switch(V.tag){case 0:case 11:case 15:vp(N,V,Q,fe,T),_y(8,V);break;case 23:break;case 22:var Be=V.stateNode;V.memoizedState!==null?Be._visibility&2?vp(N,V,Q,fe,T):Ty(N,V):(Be._visibility|=2,vp(N,V,Q,fe,T)),T&&Ce&2048&&qA(V.alternate,V);break;case 24:vp(N,V,Q,fe,T),T&&Ce&2048&&WA(V.alternate,V);break;default:vp(N,V,Q,fe,T)}h=h.sibling}}function Ty(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var p=c,y=h,T=y.flags;switch(y.tag){case 22:Ty(p,y),T&2048&&qA(y.alternate,y);break;case 24:Ty(p,y),T&2048&&WA(y.alternate,y);break;default:Ty(p,y)}h=h.sibling}}var Sy=8192;function yp(c,h,p){if(c.subtreeFlags&Sy)for(c=c.child;c!==null;)QL(c,h,p),c=c.sibling}function QL(c,h,p){switch(c.tag){case 26:yp(c,h,p),c.flags&Sy&&c.memoizedState!==null&&ife(p,ic,c.memoizedState,c.memoizedProps);break;case 5:yp(c,h,p);break;case 3:case 4:var y=ic;ic=o2(c.stateNode.containerInfo),yp(c,h,p),ic=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=Sy,Sy=16777216,yp(c,h,p),Sy=y):yp(c,h,p));break;default:yp(c,h,p)}}function JL(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function ky(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Cs=y,e9(y,c)}JL(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)ZL(c),c=c.sibling}function ZL(c){switch(c.tag){case 0:case 11:case 15:ky(c),c.flags&2048&&gh(9,c,c.return);break;case 3:ky(c);break;case 12:ky(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,Kw(c)):ky(c);break;default:ky(c)}}function Kw(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];Cs=y,e9(y,c)}JL(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:gh(8,h,h.return),Kw(h);break;case 22:p=h.stateNode,p._visibility&2&&(p._visibility&=-3,Kw(h));break;default:Kw(h)}c=c.sibling}}function e9(c,h){for(;Cs!==null;){var p=Cs;switch(p.tag){case 0:case 11:case 15:gh(8,p,h);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:cy(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,Cs=y;else e:for(p=c;Cs!==null;){y=Cs;var T=y.sibling,N=y.return;if(HL(y),y===p){Cs=null;break e}if(T!==null){T.return=N,Cs=T;break e}Cs=N}}}var xhe={getCacheForType:function(c){var h=Xs(Wi),p=h.data.get(c);return p===void 0&&(p=c(),h.data.set(c,p)),p},cacheSignal:function(){return Xs(Wi).controller.signal}},bhe=typeof WeakMap=="function"?WeakMap:Map,Wr=0,Nn=null,fr=null,vr=0,ln=0,Fo=null,vh=!1,xp=!1,GA=!1,Zu=0,wi=0,yh=0,d0=0,KA=0,Bo=0,bp=0,Ay=null,lo=null,YA=!1,Yw=0,t9=0,Xw=1/0,Qw=null,xh=null,hs=0,bh=null,wp=null,ed=0,XA=0,QA=null,r9=null,Cy=0,JA=null;function Vo(){return(Wr&2)!==0&&vr!==0?vr&-vr:Z.T!==null?iC():K()}function n9(){if(Bo===0)if((vr&536870912)===0||Sr){var c=Co;Co<<=1,(Co&3932160)===0&&(Co=262144),Bo=c}else Bo=536870912;return c=Mo.current,c!==null&&(c.flags|=32),Bo}function co(c,h,p){(c===Nn&&(ln===2||ln===9)||c.cancelPendingCommit!==null)&&(_p(c,0),wh(c,vr,Bo,!1)),sn(c,p),((Wr&2)===0||c!==Nn)&&(c===Nn&&((Wr&2)===0&&(d0|=p),wi===4&&wh(c,vr,Bo,!1)),eu(c))}function i9(c,h,p){if((Wr&6)!==0)throw Error(n(327));var y=!p&&(h&127)===0&&(h&c.expiredLanes)===0||_r(c,h),T=y?Ehe(c,h):eC(c,h,!0),N=y;do{if(T===0){xp&&!y&&wh(c,h,0,!1);break}else{if(p=c.current.alternate,N&&!whe(p)){T=eC(c,h,!1),N=!1;continue}if(T===2){if(N=h,c.errorRecoveryDisabledLanes&N)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){h=V;e:{var Q=c;T=Ay;var fe=Q.current.memoizedState.isDehydrated;if(fe&&(_p(Q,V).flags|=256),V=eC(Q,V,!1),V!==2){if(GA&&!fe){Q.errorRecoveryDisabledLanes|=N,d0|=N,T=4;break e}N=lo,lo=T,N!==null&&(lo===null?lo=N:lo.push.apply(lo,N))}T=V}if(N=!1,T!==2)continue}}if(T===1){_p(c,0),wh(c,h,0,!0);break}e:{switch(y=c,N=T,N){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:wh(y,h,Bo,!vh);break e;case 2:lo=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(T=Yw+300-Wt(),10<T)){if(wh(y,h,Bo,!vh),Ct(y,0,!0)!==0)break e;ed=h,y.timeoutHandle=D9(s9.bind(null,y,p,lo,Qw,YA,h,Bo,d0,bp,vh,N,"Throttled",-0,0),T);break e}s9(y,p,lo,Qw,YA,h,Bo,d0,bp,vh,N,null,-0,0)}}break}while(!0);eu(c)}function s9(c,h,p,y,T,N,V,Q,fe,Ce,Be,ze,Oe,je){if(c.timeoutHandle=-1,ze=h.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Io},QL(h,N,ze);var xt=(N&62914560)===N?Yw-Wt():(N&4194048)===N?t9-Wt():0;if(xt=sfe(ze,xt),xt!==null){ed=N,c.cancelPendingCommit=xt(f9.bind(null,c,h,N,p,y,T,V,Q,fe,Be,ze,null,Oe,je)),wh(c,N,V,!Ce);return}}f9(c,h,N,p,y,T,V,Q,fe)}function whe(c){for(var h=c;;){var p=h.tag;if((p===0||p===11||p===15)&&h.flags&16384&&(p=h.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var T=p[y],N=T.getSnapshot;T=T.value;try{if(!jo(N(),T))return!1}catch{return!1}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function wh(c,h,p,y){h&=~KA,h&=~d0,c.suspendedLanes|=h,c.pingedLanes&=~h,y&&(c.warmLanes|=h),y=c.expirationTimes;for(var T=h;0<T;){var N=31-rn(T),V=1<<N;y[N]=-1,T&=~V}p!==0&&ks(c,p,h)}function Jw(){return(Wr&6)===0?(Ny(0),!1):!0}function ZA(){if(fr!==null){if(ln===0)var c=fr.return;else c=fr,$u=r0=null,pA(c),hp=null,dy=0,c=fr;for(;c!==null;)ML(c.alternate,c),c=c.return;fr=null}}function _p(c,h){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,Uhe(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),ed=0,ZA(),Nn=c,fr=p=Uu(c.current,null),vr=h,ln=0,Fo=null,vh=!1,xp=_r(c,h),GA=!1,bp=Bo=KA=d0=yh=wi=0,lo=Ay=null,YA=!1,(h&8)!==0&&(h|=h&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=h;0<y;){var T=31-rn(y),N=1<<T;h|=c[T],y&=~N}return Zu=h,xw(),p}function a9(c,h){er=null,Z.H=xy,h===dp||h===Aw?(h=_7(),ln=3):h===nA?(h=_7(),ln=4):ln=h===OA?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Fo=h,fr===null&&(wi=1,Uw(c,vl(h,c.current)))}function o9(){var c=Mo.current;return c===null?!0:(vr&4194048)===vr?wl===null:(vr&62914560)===vr||(vr&536870912)!==0?c===wl:!1}function l9(){var c=Z.H;return Z.H=xy,c===null?xy:c}function c9(){var c=Z.A;return Z.A=xhe,c}function Zw(){wi=4,vh||(vr&4194048)!==vr&&Mo.current!==null||(xp=!0),(yh&134217727)===0&&(d0&134217727)===0||Nn===null||wh(Nn,vr,Bo,!1)}function eC(c,h,p){var y=Wr;Wr|=2;var T=l9(),N=c9();(Nn!==c||vr!==h)&&(Qw=null,_p(c,h)),h=!1;var V=wi;e:do try{if(ln!==0&&fr!==null){var Q=fr,fe=Fo;switch(ln){case 8:ZA(),V=6;break e;case 3:case 2:case 9:case 6:Mo.current===null&&(h=!0);var Ce=ln;if(ln=0,Fo=null,Ep(c,Q,fe,Ce),p&&xp){V=0;break e}break;default:Ce=ln,ln=0,Fo=null,Ep(c,Q,fe,Ce)}}_he(),V=wi;break}catch(Be){a9(c,Be)}while(!0);return h&&c.shellSuspendCounter++,$u=r0=null,Wr=y,Z.H=T,Z.A=N,fr===null&&(Nn=null,vr=0,xw()),V}function _he(){for(;fr!==null;)u9(fr)}function Ehe(c,h){var p=Wr;Wr|=2;var y=l9(),T=c9();Nn!==c||vr!==h?(Qw=null,Xw=Wt()+500,_p(c,h)):xp=_r(c,h);e:do try{if(ln!==0&&fr!==null){h=fr;var N=Fo;t:switch(ln){case 1:ln=0,Fo=null,Ep(c,h,N,1);break;case 2:case 9:if(b7(N)){ln=0,Fo=null,d9(h);break}h=function(){ln!==2&&ln!==9||Nn!==c||(ln=7),eu(c)},N.then(h,h);break e;case 3:ln=7;break e;case 4:ln=5;break e;case 7:b7(N)?(ln=0,Fo=null,d9(h)):(ln=0,Fo=null,Ep(c,h,N,7));break;case 5:var V=null;switch(fr.tag){case 26:V=fr.memoizedState;case 5:case 27:var Q=fr;if(V?X9(V):Q.stateNode.complete){ln=0,Fo=null;var fe=Q.sibling;if(fe!==null)fr=fe;else{var Ce=Q.return;Ce!==null?(fr=Ce,e2(Ce)):fr=null}break t}}ln=0,Fo=null,Ep(c,h,N,5);break;case 6:ln=0,Fo=null,Ep(c,h,N,6);break;case 8:ZA(),wi=6;break e;default:throw Error(n(462))}}The();break}catch(Be){a9(c,Be)}while(!0);return $u=r0=null,Z.H=y,Z.A=T,Wr=p,fr!==null?0:(Nn=null,vr=0,xw(),wi)}function The(){for(;fr!==null&&!Pr();)u9(fr)}function u9(c){var h=jL(c.alternate,c,Zu);c.memoizedProps=c.pendingProps,h===null?e2(c):fr=h}function d9(c){var h=c,p=h.alternate;switch(h.tag){case 15:case 0:h=CL(p,h,h.pendingProps,h.type,void 0,vr);break;case 11:h=CL(p,h,h.pendingProps,h.type.render,h.ref,vr);break;case 5:pA(h);default:ML(p,h),h=fr=c7(h,Zu),h=jL(p,h,Zu)}c.memoizedProps=c.pendingProps,h===null?e2(c):fr=h}function Ep(c,h,p,y){$u=r0=null,pA(h),hp=null,dy=0;var T=h.return;try{if(hhe(c,T,h,p,vr)){wi=1,Uw(c,vl(p,c.current)),fr=null;return}}catch(N){if(T!==null)throw fr=T,N;wi=1,Uw(c,vl(p,c.current)),fr=null;return}h.flags&32768?(Sr||y===1?c=!0:xp||(vr&536870912)!==0?c=!1:(vh=c=!0,(y===2||y===9||y===3||y===6)&&(y=Mo.current,y!==null&&y.tag===13&&(y.flags|=16384))),h9(h,c)):e2(h)}function e2(c){var h=c;do{if((h.flags&32768)!==0){h9(h,vh);return}c=h.return;var p=phe(h.alternate,h,Zu);if(p!==null){fr=p;return}if(h=h.sibling,h!==null){fr=h;return}fr=h=c}while(h!==null);wi===0&&(wi=5)}function h9(c,h){do{var p=ghe(c.alternate,c);if(p!==null){p.flags&=32767,fr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!h&&(c=c.sibling,c!==null)){fr=c;return}fr=c=p}while(c!==null);wi=6,fr=null}function f9(c,h,p,y,T,N,V,Q,fe){c.cancelPendingCommit=null;do t2();while(hs!==0);if((Wr&6)!==0)throw Error(n(327));if(h!==null){if(h===c.current)throw Error(n(177));if(N=h.lanes|h.childLanes,N|=zk,$i(c,p,N,V,Q,fe),c===Nn&&(fr=Nn=null,vr=0),wp=h,bh=c,ed=p,XA=N,QA=T,r9=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,Che(be,function(){return y9(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=Z.T,Z.T=null,T=J.p,J.p=2,V=Wr,Wr|=4;try{vhe(c,h,p)}finally{Wr=V,J.p=T,Z.T=y}}hs=1,m9(),p9(),g9()}}function m9(){if(hs===1){hs=0;var c=bh,h=wp,p=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||p){p=Z.T,Z.T=null;var y=J.p;J.p=2;var T=Wr;Wr|=4;try{KL(h,c);var N=hC,V=e7(c.containerInfo),Q=N.focusedElem,fe=N.selectionRange;if(V!==Q&&Q&&Q.ownerDocument&&ZM(Q.ownerDocument.documentElement,Q)){if(fe!==null&&Lk(Q)){var Ce=fe.start,Be=fe.end;if(Be===void 0&&(Be=Ce),"selectionStart"in Q)Q.selectionStart=Ce,Q.selectionEnd=Math.min(Be,Q.value.length);else{var ze=Q.ownerDocument||document,Oe=ze&&ze.defaultView||window;if(Oe.getSelection){var je=Oe.getSelection(),xt=Q.textContent.length,Pt=Math.min(fe.start,xt),xn=fe.end===void 0?Pt:Math.min(fe.end,xt);!je.extend&&Pt>xn&&(V=xn,xn=Pt,Pt=V);var xe=JM(Q,Pt),ge=JM(Q,xn);if(xe&&ge&&(je.rangeCount!==1||je.anchorNode!==xe.node||je.anchorOffset!==xe.offset||je.focusNode!==ge.node||je.focusOffset!==ge.offset)){var Ae=ze.createRange();Ae.setStart(xe.node,xe.offset),je.removeAllRanges(),Pt>xn?(je.addRange(Ae),je.extend(ge.node,ge.offset)):(Ae.setEnd(ge.node,ge.offset),je.addRange(Ae))}}}}for(ze=[],je=Q;je=je.parentNode;)je.nodeType===1&&ze.push({element:je,left:je.scrollLeft,top:je.scrollTop});for(typeof Q.focus=="function"&&Q.focus(),Q=0;Q<ze.length;Q++){var Ue=ze[Q];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}f2=!!dC,hC=dC=null}finally{Wr=T,J.p=y,Z.T=p}}c.current=h,hs=2}}function p9(){if(hs===2){hs=0;var c=bh,h=wp,p=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||p){p=Z.T,Z.T=null;var y=J.p;J.p=2;var T=Wr;Wr|=4;try{$L(c,h.alternate,h)}finally{Wr=T,J.p=y,Z.T=p}}hs=3}}function g9(){if(hs===4||hs===3){hs=0,$r();var c=bh,h=wp,p=ed,y=r9;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?hs=5:(hs=0,wp=bh=null,v9(c,c.pendingLanes));var T=c.pendingLanes;if(T===0&&(xh=null),vi(p),h=h.stateNode,wr&&typeof wr.onCommitFiberRoot=="function")try{wr.onCommitFiberRoot(rr,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=Z.T,T=J.p,J.p=2,Z.T=null;try{for(var N=c.onRecoverableError,V=0;V<y.length;V++){var Q=y[V];N(Q.value,{componentStack:Q.stack})}}finally{Z.T=h,J.p=T}}(ed&3)!==0&&t2(),eu(c),T=c.pendingLanes,(p&261930)!==0&&(T&42)!==0?c===JA?Cy++:(Cy=0,JA=c):Cy=0,Ny(0)}}function v9(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,cy(h)))}function t2(){return m9(),p9(),g9(),y9()}function y9(){if(hs!==5)return!1;var c=bh,h=XA;XA=0;var p=vi(ed),y=Z.T,T=J.p;try{J.p=32>p?32:p,Z.T=null,p=QA,QA=null;var N=bh,V=ed;if(hs=0,wp=bh=null,ed=0,(Wr&6)!==0)throw Error(n(331));var Q=Wr;if(Wr|=4,ZL(N.current),XL(N,N.current,V,p),Wr=Q,Ny(0,!1),wr&&typeof wr.onPostCommitFiberRoot=="function")try{wr.onPostCommitFiberRoot(rr,N)}catch{}return!0}finally{J.p=T,Z.T=y,v9(c,h)}}function x9(c,h,p){h=vl(p,h),h=IA(c.stateNode,h,2),c=fh(c,h,2),c!==null&&(sn(c,2),eu(c))}function cn(c,h,p){if(c.tag===3)x9(c,c,p);else for(;h!==null;){if(h.tag===3){x9(h,c,p);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(xh===null||!xh.has(y))){c=vl(p,c),p=bL(2),y=fh(h,p,2),y!==null&&(wL(p,y,h,c),sn(y,2),eu(y));break}}h=h.return}}function tC(c,h,p){var y=c.pingCache;if(y===null){y=c.pingCache=new bhe;var T=new Set;y.set(h,T)}else T=y.get(h),T===void 0&&(T=new Set,y.set(h,T));T.has(p)||(GA=!0,T.add(p),c=She.bind(null,c,h,p),h.then(c,c))}function She(c,h,p){var y=c.pingCache;y!==null&&y.delete(h),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,Nn===c&&(vr&p)===p&&(wi===4||wi===3&&(vr&62914560)===vr&&300>Wt()-Yw?(Wr&2)===0&&_p(c,0):KA|=p,bp===vr&&(bp=0)),eu(c)}function b9(c,h){h===0&&(h=si()),c=Zf(c,h),c!==null&&(sn(c,h),eu(c))}function khe(c){var h=c.memoizedState,p=0;h!==null&&(p=h.retryLane),b9(c,p)}function Ahe(c,h){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,T=c.memoizedState;T!==null&&(p=T.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(h),b9(c,p)}function Che(c,h){return _t(c,h)}var r2=null,Tp=null,rC=!1,n2=!1,nC=!1,_h=0;function eu(c){c!==Tp&&c.next===null&&(Tp===null?r2=Tp=c:Tp=Tp.next=c),n2=!0,rC||(rC=!0,Ihe())}function Ny(c,h){if(!nC&&n2){nC=!0;do for(var p=!1,y=r2;y!==null;){if(c!==0){var T=y.pendingLanes;if(T===0)var N=0;else{var V=y.suspendedLanes,Q=y.pingedLanes;N=(1<<31-rn(42|c)+1)-1,N&=T&~(V&~Q),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,T9(y,N))}else N=vr,N=Ct(y,y===Nn?N:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(N&3)===0||_r(y,N)||(p=!0,T9(y,N));y=y.next}while(p);nC=!1}}function Nhe(){w9()}function w9(){n2=rC=!1;var c=0;_h!==0&&Vhe()&&(c=_h);for(var h=Wt(),p=null,y=r2;y!==null;){var T=y.next,N=_9(y,h);N===0?(y.next=null,p===null?r2=T:p.next=T,T===null&&(Tp=p)):(p=y,(c!==0||(N&3)!==0)&&(n2=!0)),y=T}hs!==0&&hs!==5||Ny(c),_h!==0&&(_h=0)}function _9(c,h){for(var p=c.suspendedLanes,y=c.pingedLanes,T=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var V=31-rn(N),Q=1<<V,fe=T[V];fe===-1?((Q&p)===0||(Q&y)!==0)&&(T[V]=jn(Q,h)):fe<=h&&(c.expiredLanes|=Q),N&=~Q}if(h=Nn,p=vr,p=Ct(c,c===h?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===h&&(ln===2||ln===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&Rr(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||_r(c,p)){if(h=p&-p,h===c.callbackPriority)return h;switch(y!==null&&Rr(y),vi(p)){case 2:case 8:p=pi;break;case 32:p=be;break;case 268435456:p=nt;break;default:p=be}return y=E9.bind(null,c),p=_t(p,y),c.callbackPriority=h,c.callbackNode=p,h}return y!==null&&y!==null&&Rr(y),c.callbackPriority=2,c.callbackNode=null,2}function E9(c,h){if(hs!==0&&hs!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(t2()&&c.callbackNode!==p)return null;var y=vr;return y=Ct(c,c===Nn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(i9(c,y,h),_9(c,Wt()),c.callbackNode!=null&&c.callbackNode===p?E9.bind(null,c):null)}function T9(c,h){if(t2())return null;i9(c,h,!0)}function Ihe(){zhe(function(){(Wr&6)!==0?_t(An,Nhe):w9()})}function iC(){if(_h===0){var c=cp;c===0&&(c=gi,gi<<=1,(gi&261888)===0&&(gi=256)),_h=c}return _h}function S9(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:Hc(""+c)}function k9(c,h){var p=h.ownerDocument.createElement("input");return p.name=h.name,p.value=h.value,c.id&&p.setAttribute("form",c.id),h.parentNode.insertBefore(p,h),c=new FormData(c),p.parentNode.removeChild(p),c}function Ohe(c,h,p,y,T){if(h==="submit"&&p&&p.stateNode===T){var N=S9((T[se]||null).action),V=y.submitter;V&&(h=(h=V[se]||null)?S9(h.formAction):V.getAttribute("formAction"),h!==null&&(N=h,V=null));var Q=new ml("action","action",null,y,T);c.push({event:Q,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(_h!==0){var fe=V?k9(T,V):new FormData(T);TA(p,{pending:!0,data:fe,method:T.method,action:N},null,fe)}}else typeof N=="function"&&(Q.preventDefault(),fe=V?k9(T,V):new FormData(T),TA(p,{pending:!0,data:fe,method:T.method,action:N},N,fe))},currentTarget:T}]})}}for(var sC=0;sC<Uk.length;sC++){var aC=Uk[sC],Rhe=aC.toLowerCase(),Phe=aC[0].toUpperCase()+aC.slice(1);nc(Rhe,"on"+Phe)}nc(n7,"onAnimationEnd"),nc(i7,"onAnimationIteration"),nc(s7,"onAnimationStart"),nc("dblclick","onDoubleClick"),nc("focusin","onFocus"),nc("focusout","onBlur"),nc(Yde,"onTransitionRun"),nc(Xde,"onTransitionStart"),nc(Qde,"onTransitionCancel"),nc(a7,"onTransitionEnd"),ds("onMouseEnter",["mouseout","mouseover"]),ds("onMouseLeave",["mouseout","mouseover"]),ds("onPointerEnter",["pointerout","pointerover"]),ds("onPointerLeave",["pointerout","pointerover"]),on("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),on("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),on("onBeforeInput",["compositionend","keypress","textInput","paste"]),on("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),on("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Iy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),jhe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(Iy));function A9(c,h){h=(h&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],T=y.event;y=y.listeners;e:{var N=void 0;if(h)for(var V=y.length-1;0<=V;V--){var Q=y[V],fe=Q.instance,Ce=Q.currentTarget;if(Q=Q.listener,fe!==N&&T.isPropagationStopped())break e;N=Q,T.currentTarget=Ce;try{N(T)}catch(Be){yw(Be)}T.currentTarget=null,N=fe}else for(V=0;V<y.length;V++){if(Q=y[V],fe=Q.instance,Ce=Q.currentTarget,Q=Q.listener,fe!==N&&T.isPropagationStopped())break e;N=Q,T.currentTarget=Ce;try{N(T)}catch(Be){yw(Be)}T.currentTarget=null,N=fe}}}}function mr(c,h){var p=h[_e];p===void 0&&(p=h[_e]=new Set);var y=c+"__bubble";p.has(y)||(C9(h,c,2,!1),p.add(y))}function oC(c,h,p){var y=0;h&&(y|=4),C9(p,c,y,h)}var i2="_reactListening"+Math.random().toString(36).slice(2);function lC(c){if(!c[i2]){c[i2]=!0,Nr.forEach(function(p){p!=="selectionchange"&&(jhe.has(p)||oC(p,!1,c),oC(p,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[i2]||(h[i2]=!0,oC("selectionchange",!1,h))}}function C9(c,h,p,y){switch(nF(h)){case 2:var T=lfe;break;case 8:T=cfe;break;default:T=EC}p=T.bind(null,h,p,c),T=void 0,!Wc||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),y?T!==void 0?c.addEventListener(h,p,{capture:!0,passive:T}):c.addEventListener(h,p,!0):T!==void 0?c.addEventListener(h,p,{passive:T}):c.addEventListener(h,p,!1)}function cC(c,h,p,y,T){var N=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var V=y.tag;if(V===3||V===4){var Q=y.stateNode.containerInfo;if(Q===T)break;if(V===4)for(V=y.return;V!==null;){var fe=V.tag;if((fe===3||fe===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;Q!==null;){if(V=Ze(Q),V===null)return;if(fe=V.tag,fe===5||fe===6||fe===26||fe===27){y=N=V;continue e}Q=Q.parentNode}}y=y.return}Zl(function(){var Ce=N,Be=ro(p),ze=[];e:{var Oe=o7.get(c);if(Oe!==void 0){var je=ml,xt=c;switch(c){case"keypress":if(Gc(p)===0)break e;case"keydown":case"keyup":je=pw;break;case"focusin":xt="focus",je=Je;break;case"focusout":xt="blur",je=Je;break;case"beforeblur":case"afterblur":je=Je;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":je=sh;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":je=X;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":je=L;break;case n7:case i7:case s7:je=ft;break;case a7:je=re;break;case"scroll":case"scrollend":je=rh;break;case"wheel":je=Pe;break;case"copy":case"cut":case"paste":je=Cn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":je=Vu;break;case"toggle":case"beforetoggle":je=Zt}var Pt=(h&4)!==0,xn=!Pt&&(c==="scroll"||c==="scrollend"),xe=Pt?Oe!==null?Oe+"Capture":null:Oe;Pt=[];for(var ge=Ce,Ae;ge!==null;){var Ue=ge;if(Ae=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Ae===null||xe===null||(Ue=Oo(ge,xe),Ue!=null&&Pt.push(Oy(ge,Ue,Ae))),xn)break;ge=ge.return}0<Pt.length&&(Oe=new je(Oe,xt,null,p,Be),ze.push({event:Oe,listeners:Pt}))}}if((h&7)===0){e:{if(Oe=c==="mouseover"||c==="pointerover",je=c==="mouseout"||c==="pointerout",Oe&&p!==th&&(xt=p.relatedTarget||p.fromElement)&&(Ze(xt)||xt[oe]))break e;if((je||Oe)&&(Oe=Be.window===Be?Be:(Oe=Be.ownerDocument)?Oe.defaultView||Oe.parentWindow:window,je?(xt=p.relatedTarget||p.toElement,je=Ce,xt=xt?Ze(xt):null,xt!==null&&(xn=s(xt),Pt=xt.tag,xt!==xn||Pt!==5&&Pt!==27&&Pt!==6)&&(xt=null)):(je=null,xt=Ce),je!==xt)){if(Pt=sh,Ue="onMouseLeave",xe="onMouseEnter",ge="mouse",(c==="pointerout"||c==="pointerover")&&(Pt=Vu,Ue="onPointerLeave",xe="onPointerEnter",ge="pointer"),xn=je==null?Oe:We(je),Ae=xt==null?Oe:We(xt),Oe=new Pt(Ue,ge+"leave",je,p,Be),Oe.target=xn,Oe.relatedTarget=Ae,Ue=null,Ze(Be)===Ce&&(Pt=new Pt(xe,ge+"enter",xt,p,Be),Pt.target=Ae,Pt.relatedTarget=xn,Ue=Pt),xn=Ue,je&&xt)t:{for(Pt=Dhe,xe=je,ge=xt,Ae=0,Ue=xe;Ue;Ue=Pt(Ue))Ae++;Ue=0;for(var Nt=ge;Nt;Nt=Pt(Nt))Ue++;for(;0<Ae-Ue;)xe=Pt(xe),Ae--;for(;0<Ue-Ae;)ge=Pt(ge),Ue--;for(;Ae--;){if(xe===ge||ge!==null&&xe===ge.alternate){Pt=xe;break t}xe=Pt(xe),ge=Pt(ge)}Pt=null}else Pt=null;je!==null&&N9(ze,Oe,je,Pt,!1),xt!==null&&xn!==null&&N9(ze,xn,xt,Pt,!0)}}e:{if(Oe=Ce?We(Ce):window,je=Oe.nodeName&&Oe.nodeName.toLowerCase(),je==="select"||je==="input"&&Oe.type==="file")var Dr=WM;else if(HM(Oe))if(GM)Dr=Wde;else{Dr=Hde;var Et=$de}else je=Oe.nodeName,!je||je.toLowerCase()!=="input"||Oe.type!=="checkbox"&&Oe.type!=="radio"?Ce&&eh(Ce.elementType)&&(Dr=WM):Dr=qde;if(Dr&&(Dr=Dr(c,Ce))){qM(ze,Dr,p,Be);break e}Et&&Et(c,Oe,Ce),c==="focusout"&&Ce&&Oe.type==="number"&&Ce.memoizedProps.value!=null&&Gf(Oe,"number",Oe.value)}switch(Et=Ce?We(Ce):window,c){case"focusin":(HM(Et)||Et.contentEditable==="true")&&(tp=Et,Fk=Ce,ay=null);break;case"focusout":ay=Fk=tp=null;break;case"mousedown":Bk=!0;break;case"contextmenu":case"mouseup":case"dragend":Bk=!1,t7(ze,p,Be);break;case"selectionchange":if(Kde)break;case"keydown":case"keyup":t7(ze,p,Be)}var nr;if(qr)e:{switch(c){case"compositionstart":var yr="onCompositionStart";break e;case"compositionend":yr="onCompositionEnd";break e;case"compositionupdate":yr="onCompositionUpdate";break e}yr=void 0}else ep?Xf(c,p)&&(yr="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(yr="onCompositionStart");yr&&(Xc&&p.locale!=="ko"&&(ep||yr!=="onCompositionStart"?yr==="onCompositionEnd"&&ep&&(nr=Bu()):(Ro=Be,Yf="value"in Ro?Ro.value:Ro.textContent,ep=!0)),Et=s2(Ce,yr),0<Et.length&&(yr=new As(yr,c,null,p,Be),ze.push({event:yr,listeners:Et}),nr?yr.data=nr:(nr=Zm(p),nr!==null&&(yr.data=nr)))),(nr=pl?Bde(c,p):Vde(c,p))&&(yr=s2(Ce,"onBeforeInput"),0<yr.length&&(Et=new As("onBeforeInput","beforeinput",null,p,Be),ze.push({event:Et,listeners:yr}),Et.data=nr)),Ohe(ze,c,Ce,p,Be)}A9(ze,h)})}function Oy(c,h,p){return{instance:c,listener:h,currentTarget:p}}function s2(c,h){for(var p=h+"Capture",y=[];c!==null;){var T=c,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=Oo(c,p),T!=null&&y.unshift(Oy(c,T,N)),T=Oo(c,h),T!=null&&y.push(Oy(c,T,N))),c.tag===3)return y;c=c.return}return[]}function Dhe(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function N9(c,h,p,y,T){for(var N=h._reactName,V=[];p!==null&&p!==y;){var Q=p,fe=Q.alternate,Ce=Q.stateNode;if(Q=Q.tag,fe!==null&&fe===y)break;Q!==5&&Q!==26&&Q!==27||Ce===null||(fe=Ce,T?(Ce=Oo(p,N),Ce!=null&&V.unshift(Oy(p,Ce,fe))):T||(Ce=Oo(p,N),Ce!=null&&V.push(Oy(p,Ce,fe)))),p=p.return}V.length!==0&&c.push({event:h,listeners:V})}var Mhe=/\r\n?/g,Lhe=/\u0000|\uFFFD/g;function I9(c){return(typeof c=="string"?c:""+c).replace(Mhe,`
`).replace(Lhe,"")}function O9(c,h){return h=I9(h),I9(c)===h}function yn(c,h,p,y,T,N){switch(p){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||fa(c,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&fa(c,""+y);break;case"className":Fa(c,"class",y);break;case"tabIndex":Fa(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Fa(c,p,y);break;case"style":Zd(c,y,N);break;case"data":if(h!=="object"){Fa(c,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Hc(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(h!=="input"&&yn(c,h,"name",T.name,T,null),yn(c,h,"formEncType",T.formEncType,T,null),yn(c,h,"formMethod",T.formMethod,T,null),yn(c,h,"formTarget",T.formTarget,T,null)):(yn(c,h,"encType",T.encType,T,null),yn(c,h,"method",T.method,T,null),yn(c,h,"target",T.target,T,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=Hc(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=Io);break;case"onScroll":y!=null&&mr("scroll",c);break;case"onScrollEnd":y!=null&&mr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=Hc(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":mr("beforetoggle",c),mr("toggle",c),Yn(c,"popover",y);break;case"xlinkActuate":yi(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":yi(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":yi(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":yi(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":yi(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":yi(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":yi(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":yi(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":yi(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":Yn(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Jm.get(p)||p,Yn(c,p,y))}}function uC(c,h,p,y,T,N){switch(p){case"style":Zd(c,y,N);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?fa(c,y):(typeof y=="number"||typeof y=="bigint")&&fa(c,""+y);break;case"onScroll":y!=null&&mr("scroll",c);break;case"onScrollEnd":y!=null&&mr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Io);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Er.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),h=p.slice(2,T?p.length-7:void 0),N=c[se]||null,N=N!=null?N[p]:null,typeof N=="function"&&c.removeEventListener(h,N,T),typeof y=="function")){typeof N!="function"&&N!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(h,y,T);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):Yn(c,p,y)}}}function Js(c,h,p){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":mr("error",c),mr("load",c);var y=!1,T=!1,N;for(N in p)if(p.hasOwnProperty(N)){var V=p[N];if(V!=null)switch(N){case"src":y=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:yn(c,h,N,V,p,null)}}T&&yn(c,h,"srcSet",p.srcSet,p,null),y&&yn(c,h,"src",p.src,p,null);return;case"input":mr("invalid",c);var Q=N=V=T=null,fe=null,Ce=null;for(y in p)if(p.hasOwnProperty(y)){var Be=p[y];if(Be!=null)switch(y){case"name":T=Be;break;case"type":V=Be;break;case"checked":fe=Be;break;case"defaultChecked":Ce=Be;break;case"value":N=Be;break;case"defaultValue":Q=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,h));break;default:yn(c,h,y,Be,p,null)}}Vc(c,N,Q,fe,Ce,V,T,!1);return;case"select":mr("invalid",c),y=V=N=null;for(T in p)if(p.hasOwnProperty(T)&&(Q=p[T],Q!=null))switch(T){case"value":N=Q;break;case"defaultValue":V=Q;break;case"multiple":y=Q;default:yn(c,h,T,Q,p,null)}h=N,p=V,c.multiple=!!y,h!=null?Uc(c,!!y,h,!1):p!=null&&Uc(c,!!y,p,!0);return;case"textarea":mr("invalid",c),N=T=y=null;for(V in p)if(p.hasOwnProperty(V)&&(Q=p[V],Q!=null))switch(V){case"value":y=Q;break;case"defaultValue":T=Q;break;case"children":N=Q;break;case"dangerouslySetInnerHTML":if(Q!=null)throw Error(n(91));break;default:yn(c,h,V,Q,p,null)}zc(c,y,T,N);return;case"option":for(fe in p)if(p.hasOwnProperty(fe)&&(y=p[fe],y!=null))switch(fe){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:yn(c,h,fe,y,p,null)}return;case"dialog":mr("beforetoggle",c),mr("toggle",c),mr("cancel",c),mr("close",c);break;case"iframe":case"object":mr("load",c);break;case"video":case"audio":for(y=0;y<Iy.length;y++)mr(Iy[y],c);break;case"image":mr("error",c),mr("load",c);break;case"details":mr("toggle",c);break;case"embed":case"source":case"link":mr("error",c),mr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(Ce in p)if(p.hasOwnProperty(Ce)&&(y=p[Ce],y!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:yn(c,h,Ce,y,p,null)}return;default:if(eh(h)){for(Be in p)p.hasOwnProperty(Be)&&(y=p[Be],y!==void 0&&uC(c,h,Be,y,p,void 0));return}}for(Q in p)p.hasOwnProperty(Q)&&(y=p[Q],y!=null&&yn(c,h,Q,y,p,null))}function Fhe(c,h,p,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,V=null,Q=null,fe=null,Ce=null,Be=null;for(je in p){var ze=p[je];if(p.hasOwnProperty(je)&&ze!=null)switch(je){case"checked":break;case"value":break;case"defaultValue":fe=ze;default:y.hasOwnProperty(je)||yn(c,h,je,null,y,ze)}}for(var Oe in y){var je=y[Oe];if(ze=p[Oe],y.hasOwnProperty(Oe)&&(je!=null||ze!=null))switch(Oe){case"type":N=je;break;case"name":T=je;break;case"checked":Ce=je;break;case"defaultChecked":Be=je;break;case"value":V=je;break;case"defaultValue":Q=je;break;case"children":case"dangerouslySetInnerHTML":if(je!=null)throw Error(n(137,h));break;default:je!==ze&&yn(c,h,Oe,je,y,ze)}}dl(c,V,Q,fe,Ce,Be,N,T);return;case"select":je=V=Q=Oe=null;for(N in p)if(fe=p[N],p.hasOwnProperty(N)&&fe!=null)switch(N){case"value":break;case"multiple":je=fe;default:y.hasOwnProperty(N)||yn(c,h,N,null,y,fe)}for(T in y)if(N=y[T],fe=p[T],y.hasOwnProperty(T)&&(N!=null||fe!=null))switch(T){case"value":Oe=N;break;case"defaultValue":Q=N;break;case"multiple":V=N;default:N!==fe&&yn(c,h,T,N,y,fe)}h=Q,p=V,y=je,Oe!=null?Uc(c,!!p,Oe,!1):!!y!=!!p&&(h!=null?Uc(c,!!p,h,!0):Uc(c,!!p,p?[]:"",!1));return;case"textarea":je=Oe=null;for(Q in p)if(T=p[Q],p.hasOwnProperty(Q)&&T!=null&&!y.hasOwnProperty(Q))switch(Q){case"value":break;case"children":break;default:yn(c,h,Q,null,y,T)}for(V in y)if(T=y[V],N=p[V],y.hasOwnProperty(V)&&(T!=null||N!=null))switch(V){case"value":Oe=T;break;case"defaultValue":je=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==N&&yn(c,h,V,T,y,N)}Xm(c,Oe,je);return;case"option":for(var xt in p)if(Oe=p[xt],p.hasOwnProperty(xt)&&Oe!=null&&!y.hasOwnProperty(xt))switch(xt){case"selected":c.selected=!1;break;default:yn(c,h,xt,null,y,Oe)}for(fe in y)if(Oe=y[fe],je=p[fe],y.hasOwnProperty(fe)&&Oe!==je&&(Oe!=null||je!=null))switch(fe){case"selected":c.selected=Oe&&typeof Oe!="function"&&typeof Oe!="symbol";break;default:yn(c,h,fe,Oe,y,je)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Pt in p)Oe=p[Pt],p.hasOwnProperty(Pt)&&Oe!=null&&!y.hasOwnProperty(Pt)&&yn(c,h,Pt,null,y,Oe);for(Ce in y)if(Oe=y[Ce],je=p[Ce],y.hasOwnProperty(Ce)&&Oe!==je&&(Oe!=null||je!=null))switch(Ce){case"children":case"dangerouslySetInnerHTML":if(Oe!=null)throw Error(n(137,h));break;default:yn(c,h,Ce,Oe,y,je)}return;default:if(eh(h)){for(var xn in p)Oe=p[xn],p.hasOwnProperty(xn)&&Oe!==void 0&&!y.hasOwnProperty(xn)&&uC(c,h,xn,void 0,y,Oe);for(Be in y)Oe=y[Be],je=p[Be],!y.hasOwnProperty(Be)||Oe===je||Oe===void 0&&je===void 0||uC(c,h,Be,Oe,y,je);return}}for(var xe in p)Oe=p[xe],p.hasOwnProperty(xe)&&Oe!=null&&!y.hasOwnProperty(xe)&&yn(c,h,xe,null,y,Oe);for(ze in y)Oe=y[ze],je=p[ze],!y.hasOwnProperty(ze)||Oe===je||Oe==null&&je==null||yn(c,h,ze,Oe,y,je)}function R9(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function Bhe(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var T=p[y],N=T.transferSize,V=T.initiatorType,Q=T.duration;if(N&&Q&&R9(V)){for(V=0,Q=T.responseEnd,y+=1;y<p.length;y++){var fe=p[y],Ce=fe.startTime;if(Ce>Q)break;var Be=fe.transferSize,ze=fe.initiatorType;Be&&R9(ze)&&(fe=fe.responseEnd,V+=Be*(fe<Q?1:(Q-Ce)/(fe-Ce)))}if(--y,h+=8*(N+V)/(T.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var dC=null,hC=null;function a2(c){return c.nodeType===9?c:c.ownerDocument}function P9(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function j9(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function fC(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var mC=null;function Vhe(){var c=window.event;return c&&c.type==="popstate"?c===mC?!1:(mC=c,!0):(mC=null,!1)}var D9=typeof setTimeout=="function"?setTimeout:void 0,Uhe=typeof clearTimeout=="function"?clearTimeout:void 0,M9=typeof Promise=="function"?Promise:void 0,zhe=typeof queueMicrotask=="function"?queueMicrotask:typeof M9<"u"?function(c){return M9.resolve(null).then(c).catch($he)}:D9;function $he(c){setTimeout(function(){throw c})}function Eh(c){return c==="head"}function L9(c,h){var p=h,y=0;do{var T=p.nextSibling;if(c.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(T),Cp(h);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Ry(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Ry(p);for(var N=p.firstChild;N;){var V=N.nextSibling,Q=N.nodeName;N[Ee]||Q==="SCRIPT"||Q==="STYLE"||Q==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=V}}else p==="body"&&Ry(c.ownerDocument.body);p=T}while(p);Cp(h)}function F9(c,h){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?h?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(h?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function pC(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var p=h;switch(h=h.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":pC(p),Ye(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function Hhe(c,h,p,y){for(;c.nodeType===1;){var T=p;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[Ee])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(N=c.getAttribute("rel"),N==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(N!==T.rel||c.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(N=c.getAttribute("src"),(N!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===N)return c}else return c;if(c=_l(c.nextSibling),c===null)break}return null}function qhe(c,h,p){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=_l(c.nextSibling),c===null))return null;return c}function B9(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=_l(c.nextSibling),c===null))return null;return c}function gC(c){return c.data==="$?"||c.data==="$~"}function vC(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function Whe(c,h){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||p.readyState!=="loading")h();else{var y=function(){h(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function _l(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var yC=null;function V9(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(h===0)return _l(c.nextSibling);h--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||h++}c=c.nextSibling}return null}function U9(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(h===0)return c;h--}else p!=="/$"&&p!=="/&"||h++}c=c.previousSibling}return null}function z9(c,h,p){switch(h=a2(p),c){case"html":if(c=h.documentElement,!c)throw Error(n(452));return c;case"head":if(c=h.head,!c)throw Error(n(453));return c;case"body":if(c=h.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Ry(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);Ye(c)}var El=new Map,$9=new Set;function o2(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var td=J.d;J.d={f:Ghe,r:Khe,D:Yhe,C:Xhe,L:Qhe,m:Jhe,X:efe,S:Zhe,M:tfe};function Ghe(){var c=td.f(),h=Jw();return c||h}function Khe(c){var h=ct(c);h!==null&&h.tag===5&&h.type==="form"?aL(h):td.r(c)}var Sp=typeof document>"u"?null:document;function H9(c,h,p){var y=Sp;if(y&&typeof h=="string"&&h){var T=xi(h);T='link[rel="'+c+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),$9.has(T)||($9.add(T),c={rel:c,crossOrigin:p,href:h},y.querySelector(T)===null&&(h=y.createElement("link"),Js(h,"link",c),gt(h),y.head.appendChild(h)))}}function Yhe(c){td.D(c),H9("dns-prefetch",c,null)}function Xhe(c,h){td.C(c,h),H9("preconnect",c,h)}function Qhe(c,h,p){td.L(c,h,p);var y=Sp;if(y&&c&&h){var T='link[rel="preload"][as="'+xi(h)+'"]';h==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+xi(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+xi(p.imageSizes)+'"]')):T+='[href="'+xi(c)+'"]';var N=T;switch(h){case"style":N=kp(c);break;case"script":N=Ap(c)}El.has(N)||(c=m({rel:"preload",href:h==="image"&&p&&p.imageSrcSet?void 0:c,as:h},p),El.set(N,c),y.querySelector(T)!==null||h==="style"&&y.querySelector(Py(N))||h==="script"&&y.querySelector(jy(N))||(h=y.createElement("link"),Js(h,"link",c),gt(h),y.head.appendChild(h)))}}function Jhe(c,h){td.m(c,h);var p=Sp;if(p&&c){var y=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+xi(y)+'"][href="'+xi(c)+'"]',N=T;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=Ap(c)}if(!El.has(N)&&(c=m({rel:"modulepreload",href:c},h),El.set(N,c),p.querySelector(T)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(jy(N)))return}y=p.createElement("link"),Js(y,"link",c),gt(y),p.head.appendChild(y)}}}function Zhe(c,h,p){td.S(c,h,p);var y=Sp;if(y&&c){var T=it(y).hoistableStyles,N=kp(c);h=h||"default";var V=T.get(N);if(!V){var Q={loading:0,preload:null};if(V=y.querySelector(Py(N)))Q.loading=5;else{c=m({rel:"stylesheet",href:c,"data-precedence":h},p),(p=El.get(N))&&xC(c,p);var fe=V=y.createElement("link");gt(fe),Js(fe,"link",c),fe._p=new Promise(function(Ce,Be){fe.onload=Ce,fe.onerror=Be}),fe.addEventListener("load",function(){Q.loading|=1}),fe.addEventListener("error",function(){Q.loading|=2}),Q.loading|=4,l2(V,h,y)}V={type:"stylesheet",instance:V,count:1,state:Q},T.set(N,V)}}}function efe(c,h){td.X(c,h);var p=Sp;if(p&&c){var y=it(p).hoistableScripts,T=Ap(c),N=y.get(T);N||(N=p.querySelector(jy(T)),N||(c=m({src:c,async:!0},h),(h=El.get(T))&&bC(c,h),N=p.createElement("script"),gt(N),Js(N,"link",c),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(T,N))}}function tfe(c,h){td.M(c,h);var p=Sp;if(p&&c){var y=it(p).hoistableScripts,T=Ap(c),N=y.get(T);N||(N=p.querySelector(jy(T)),N||(c=m({src:c,async:!0,type:"module"},h),(h=El.get(T))&&bC(c,h),N=p.createElement("script"),gt(N),Js(N,"link",c),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(T,N))}}function q9(c,h,p,y){var T=(T=ue.current)?o2(T):null;if(!T)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(h=kp(p.href),p=it(T).hoistableStyles,y=p.get(h),y||(y={type:"style",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=kp(p.href);var N=it(T).hoistableStyles,V=N.get(c);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(c,V),(N=T.querySelector(Py(c)))&&!N._p&&(V.instance=N,V.state.loading=5),El.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},El.set(c,p),N||rfe(T,c,p,V.state))),h&&y===null)throw Error(n(528,""));return V}if(h&&y!==null)throw Error(n(529,""));return null;case"script":return h=p.async,p=p.src,typeof p=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=Ap(p),p=it(T).hoistableScripts,y=p.get(h),y||(y={type:"script",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function kp(c){return'href="'+xi(c)+'"'}function Py(c){return'link[rel="stylesheet"]['+c+"]"}function W9(c){return m({},c,{"data-precedence":c.precedence,precedence:null})}function rfe(c,h,p,y){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=c.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),Js(h,"link",p),gt(h),c.head.appendChild(h))}function Ap(c){return'[src="'+xi(c)+'"]'}function jy(c){return"script[async]"+c}function G9(c,h,p){if(h.count++,h.instance===null)switch(h.type){case"style":var y=c.querySelector('style[data-href~="'+xi(p.href)+'"]');if(y)return h.instance=y,gt(y),y;var T=m({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),gt(y),Js(y,"style",T),l2(y,p.precedence,c),h.instance=y;case"stylesheet":T=kp(p.href);var N=c.querySelector(Py(T));if(N)return h.state.loading|=4,h.instance=N,gt(N),N;y=W9(p),(T=El.get(T))&&xC(y,T),N=(c.ownerDocument||c).createElement("link"),gt(N);var V=N;return V._p=new Promise(function(Q,fe){V.onload=Q,V.onerror=fe}),Js(N,"link",y),h.state.loading|=4,l2(N,p.precedence,c),h.instance=N;case"script":return N=Ap(p.src),(T=c.querySelector(jy(N)))?(h.instance=T,gt(T),T):(y=p,(T=El.get(N))&&(y=m({},p),bC(y,T)),c=c.ownerDocument||c,T=c.createElement("script"),gt(T),Js(T,"link",y),c.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,l2(y,p.precedence,c));return h.instance}function l2(c,h,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=y.length?y[y.length-1]:null,N=T,V=0;V<y.length;V++){var Q=y[V];if(Q.dataset.precedence===h)N=Q;else if(N!==T)break}N?N.parentNode.insertBefore(c,N.nextSibling):(h=p.nodeType===9?p.head:p,h.insertBefore(c,h.firstChild))}function xC(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function bC(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var c2=null;function K9(c,h,p){if(c2===null){var y=new Map,T=c2=new Map;T.set(p,y)}else T=c2,y=T.get(p),y||(y=new Map,T.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),T=0;T<p.length;T++){var N=p[T];if(!(N[Ee]||N[ne]||c==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(h)||"";V=c+V;var Q=y.get(V);Q?Q.push(N):y.set(V,[N])}}return y}function Y9(c,h,p){c=c.ownerDocument||c,c.head.insertBefore(p,h==="title"?c.querySelector("head > title"):null)}function nfe(c,h,p){if(p===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function X9(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function ife(c,h,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=kp(y.href),N=h.querySelector(Py(T));if(N){h=N._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=u2.bind(c),h.then(c,c)),p.state.loading|=4,p.instance=N,gt(N);return}N=h.ownerDocument||h,y=W9(y),(T=El.get(T))&&xC(y,T),N=N.createElement("link"),gt(N);var V=N;V._p=new Promise(function(Q,fe){V.onload=Q,V.onerror=fe}),Js(N,"link",y),p.instance=N}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,h),(h=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=u2.bind(c),h.addEventListener("load",p),h.addEventListener("error",p))}}var wC=0;function sfe(c,h){return c.stylesheets&&c.count===0&&h2(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&h2(c,c.stylesheets),c.unsuspend){var N=c.unsuspend;c.unsuspend=null,N()}},6e4+h);0<c.imgBytes&&wC===0&&(wC=62500*Bhe());var T=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&h2(c,c.stylesheets),c.unsuspend)){var N=c.unsuspend;c.unsuspend=null,N()}},(c.imgBytes>wC?50:800)+h);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(T)}}:null}function u2(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)h2(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var d2=null;function h2(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,d2=new Map,h.forEach(afe,c),d2=null,u2.call(c))}function afe(c,h){if(!(h.state.loading&4)){var p=d2.get(c);if(p)var y=p.get(null);else{p=new Map,d2.set(c,p);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var V=T[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),y=V)}y&&p.set(null,y)}T=h.instance,V=T.getAttribute("data-precedence"),N=p.get(V)||y,N===y&&p.set(null,T),p.set(V,T),this.count++,y=u2.bind(this),T.addEventListener("load",y),T.addEventListener("error",y),N?N.parentNode.insertBefore(T,N.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),h.state.loading|=4}}var Dy={$$typeof:A,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function ofe(c,h,p,y,T,N,V,Q,fe){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=y,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function Q9(c,h,p,y,T,N,V,Q,fe,Ce,Be,ze){return c=new ofe(c,h,p,V,fe,Ce,Be,ze,Q),h=1,N===!0&&(h|=24),N=Do(3,null,null,h),c.current=N,N.stateNode=c,h=eA(),h.refCount++,c.pooledCache=h,h.refCount++,N.memoizedState={element:y,isDehydrated:p,cache:h},iA(N),c}function J9(c){return c?(c=ip,c):ip}function Z9(c,h,p,y,T,N){T=J9(T),y.context===null?y.context=T:y.pendingContext=T,y=hh(h),y.payload={element:p},N=N===void 0?null:N,N!==null&&(y.callback=N),p=fh(c,y,h),p!==null&&(co(p,c,h),fy(p,c,h))}function eF(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<h?p:h}}function _C(c,h){eF(c,h),(c=c.alternate)&&eF(c,h)}function tF(c){if(c.tag===13||c.tag===31){var h=Zf(c,67108864);h!==null&&co(h,c,67108864),_C(c,67108864)}}function rF(c){if(c.tag===13||c.tag===31){var h=Vo();h=Ks(h);var p=Zf(c,h);p!==null&&co(p,c,h),_C(c,h)}}var f2=!0;function lfe(c,h,p,y){var T=Z.T;Z.T=null;var N=J.p;try{J.p=2,EC(c,h,p,y)}finally{J.p=N,Z.T=T}}function cfe(c,h,p,y){var T=Z.T;Z.T=null;var N=J.p;try{J.p=8,EC(c,h,p,y)}finally{J.p=N,Z.T=T}}function EC(c,h,p,y){if(f2){var T=TC(y);if(T===null)cC(c,h,y,m2,p),iF(c,y);else if(dfe(T,c,h,p,y))y.stopPropagation();else if(iF(c,y),h&4&&-1<ufe.indexOf(c)){for(;T!==null;){var N=ct(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=zi(N.pendingLanes);if(V!==0){var Q=N;for(Q.pendingLanes|=2,Q.entangledLanes|=2;V;){var fe=1<<31-rn(V);Q.entanglements[1]|=fe,V&=~fe}eu(N),(Wr&6)===0&&(Xw=Wt()+500,Ny(0))}}break;case 31:case 13:Q=Zf(N,2),Q!==null&&co(Q,N,2),Jw(),_C(N,2)}if(N=TC(y),N===null&&cC(c,h,y,m2,p),N===T)break;T=N}T!==null&&y.stopPropagation()}else cC(c,h,y,null,p)}}function TC(c){return c=ro(c),SC(c)}var m2=null;function SC(c){if(m2=null,c=Ze(c),c!==null){var h=s(c);if(h===null)c=null;else{var p=h.tag;if(p===13){if(c=a(h),c!==null)return c;c=null}else if(p===31){if(c=o(h),c!==null)return c;c=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return m2=c,null}function nF(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Ar()){case An:return 2;case pi:return 8;case be:case Qe:return 32;case nt:return 268435456;default:return 32}default:return 32}}var kC=!1,Th=null,Sh=null,kh=null,My=new Map,Ly=new Map,Ah=[],ufe="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function iF(c,h){switch(c){case"focusin":case"focusout":Th=null;break;case"dragenter":case"dragleave":Sh=null;break;case"mouseover":case"mouseout":kh=null;break;case"pointerover":case"pointerout":My.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ly.delete(h.pointerId)}}function Fy(c,h,p,y,T,N){return c===null||c.nativeEvent!==N?(c={blockedOn:h,domEventName:p,eventSystemFlags:y,nativeEvent:N,targetContainers:[T]},h!==null&&(h=ct(h),h!==null&&tF(h)),c):(c.eventSystemFlags|=y,h=c.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),c)}function dfe(c,h,p,y,T){switch(h){case"focusin":return Th=Fy(Th,c,h,p,y,T),!0;case"dragenter":return Sh=Fy(Sh,c,h,p,y,T),!0;case"mouseover":return kh=Fy(kh,c,h,p,y,T),!0;case"pointerover":var N=T.pointerId;return My.set(N,Fy(My.get(N)||null,c,h,p,y,T)),!0;case"gotpointercapture":return N=T.pointerId,Ly.set(N,Fy(Ly.get(N)||null,c,h,p,y,T)),!0}return!1}function sF(c){var h=Ze(c.target);if(h!==null){var p=s(h);if(p!==null){if(h=p.tag,h===13){if(h=a(p),h!==null){c.blockedOn=h,ae(c.priority,function(){rF(p)});return}}else if(h===31){if(h=o(p),h!==null){c.blockedOn=h,ae(c.priority,function(){rF(p)});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function p2(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var p=TC(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);th=y,p.target.dispatchEvent(y),th=null}else return h=ct(p),h!==null&&tF(h),c.blockedOn=p,!1;h.shift()}return!0}function aF(c,h,p){p2(c)&&p.delete(h)}function hfe(){kC=!1,Th!==null&&p2(Th)&&(Th=null),Sh!==null&&p2(Sh)&&(Sh=null),kh!==null&&p2(kh)&&(kh=null),My.forEach(aF),Ly.forEach(aF)}function g2(c,h){c.blockedOn===h&&(c.blockedOn=null,kC||(kC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,hfe)))}var v2=null;function oF(c){v2!==c&&(v2=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){v2===c&&(v2=null);for(var h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],T=c[h+2];if(typeof y!="function"){if(SC(y||p)===null)continue;break}var N=ct(p);N!==null&&(c.splice(h,3),h-=3,TA(N,{pending:!0,data:T,method:p.method,action:y},y,T))}}))}function Cp(c){function h(fe){return g2(fe,c)}Th!==null&&g2(Th,c),Sh!==null&&g2(Sh,c),kh!==null&&g2(kh,c),My.forEach(h),Ly.forEach(h);for(var p=0;p<Ah.length;p++){var y=Ah[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<Ah.length&&(p=Ah[0],p.blockedOn===null);)sF(p),p.blockedOn===null&&Ah.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var T=p[y],N=p[y+1],V=T[se]||null;if(typeof N=="function")V||oF(p);else if(V){var Q=null;if(N&&N.hasAttribute("formAction")){if(T=N,V=N[se]||null)Q=V.formAction;else if(SC(T)!==null)continue}else Q=V.action;typeof Q=="function"?p[y+1]=Q:(p.splice(y,3),y-=3),oF(p)}}}function lF(){function c(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return T=V})},focusReset:"manual",scroll:"manual"})}function h(){T!==null&&(T(),T=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,T=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),T!==null&&(T(),T=null)}}}function AC(c){this._internalRoot=c}y2.prototype.render=AC.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));var p=h.current,y=Vo();Z9(p,y,c,h,null,null)},y2.prototype.unmount=AC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;Z9(c.current,2,null,c,null,null),Jw(),h[oe]=null}};function y2(c){this._internalRoot=c}y2.prototype.unstable_scheduleHydration=function(c){if(c){var h=K();c={blockedOn:null,target:c,priority:h};for(var p=0;p<Ah.length&&h!==0&&h<Ah[p].priority;p++);Ah.splice(p,0,c),p===0&&sF(c)}};var cF=e.version;if(cF!=="19.2.0")throw Error(n(527,cF,"19.2.0"));J.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(h),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var ffe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:Z,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var x2=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!x2.isDisabled&&x2.supportsFiber)try{rr=x2.inject(ffe),wr=x2}catch{}}return Vy.createRoot=function(c,h){if(!i(c))throw Error(n(299));var p=!1,y="",T=gL,N=vL,V=yL;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(N=h.onCaughtError),h.onRecoverableError!==void 0&&(V=h.onRecoverableError)),h=Q9(c,1,!1,null,null,p,y,null,T,N,V,lF),c[oe]=h.current,lC(c),new AC(h)},Vy.hydrateRoot=function(c,h,p){if(!i(c))throw Error(n(299));var y=!1,T="",N=gL,V=vL,Q=yL,fe=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(Q=p.onRecoverableError),p.formState!==void 0&&(fe=p.formState)),h=Q9(c,1,!0,h,p??null,y,T,fe,N,V,Q,lF),h.context=J9(null),p=h.current,y=Vo(),y=Ks(y),T=hh(y),T.callback=null,fh(p,T,y),p=y,h.current.lanes=p,sn(h,p),eu(h),c[oe]=h.current,lC(c),new y2(h)},Vy.version="19.2.0",Vy}var xF;function Sfe(){if(xF)return OC.exports;xF=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),OC.exports=Tfe(),OC.exports}var kfe=Sfe();const Afe=ll(kfe);var zo=VY();const UY=ll(zo);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $1(){return $1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$1.apply(this,arguments)}var zh;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(zh||(zh={}));const bF="popstate";function Cfe(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return z5("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:zY(i)}return Ife(e,r,null,t)}function os(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function YO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Nfe(){return Math.random().toString(36).substr(2,8)}function wF(t,e){return{usr:t.state,key:t.key,idx:e}}function z5(t,e,r,n){return r===void 0&&(r=null),$1({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?vv(e):e,{state:r,key:e&&e.key||n||Nfe()})}function zY(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function vv(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function Ife(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=zh.Pop,l=null,u=d();u==null&&(u=0,a.replaceState($1({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function m(){o=zh.Pop;let w=d(),_=w==null?null:w-u;u=w,l&&l({action:o,location:b.location,delta:_})}function g(w,_){o=zh.Push;let k=z5(b.location,w,_);u=d()+1;let A=wF(k,u),R=b.createHref(k);try{a.pushState(A,"",R)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(R)}s&&l&&l({action:o,location:b.location,delta:1})}function v(w,_){o=zh.Replace;let k=z5(b.location,w,_);u=d();let A=wF(k,u),R=b.createHref(k);a.replaceState(A,"",R),s&&l&&l({action:o,location:b.location,delta:0})}function x(w){let _=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof w=="string"?w:zY(w);return k=k.replace(/ $/,"%20"),os(_,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,_)}let b={get action(){return o},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(bF,m),l=w,()=>{i.removeEventListener(bF,m),l=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let _=x(w);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:g,replace:v,go(w){return a.go(w)}};return b}var _F;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(_F||(_F={}));function Ofe(t,e,r){return r===void 0&&(r="/"),Rfe(t,e,r)}function Rfe(t,e,r,n){let i=typeof e=="string"?vv(e):e,s=qY(i.pathname||"/",r);if(s==null)return null;let a=$Y(t);Pfe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=qfe(s);o=zfe(a[l],u)}return o}function $Y(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(os(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=U0([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(os(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),$Y(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:Vfe(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of HY(s.path))i(s,a,l)}),e}function HY(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=HY(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function Pfe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:Ufe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const jfe=/^:[\w-]+$/,Dfe=3,Mfe=2,Lfe=1,Ffe=10,Bfe=-2,EF=t=>t==="*";function Vfe(t,e){let r=t.split("/"),n=r.length;return r.some(EF)&&(n+=Bfe),e&&(n+=Mfe),r.filter(i=>!EF(i)).reduce((i,s)=>i+(jfe.test(s)?Dfe:s===""?Lfe:Ffe),n)}function Ufe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function zfe(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",m=$fe({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!m)return null;Object.assign(i,m.params),a.push({params:i,pathname:U0([s,m.pathname]),pathnameBase:Xfe(U0([s,m.pathnameBase])),route:g}),m.pathnameBase!=="/"&&(s=U0([s,m.pathnameBase]))}return a}function $fe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Hfe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,m)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let b=o[m]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[m];return v&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Hfe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),YO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function qfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return YO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function qY(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Wfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Gfe=t=>Wfe.test(t);function Kfe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?vv(t):t,s;if(r)if(Gfe(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),YO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=TF(r.substring(1),"/"):s=TF(r,e)}else s=e;return{pathname:s,search:Qfe(n),hash:Jfe(i)}}function TF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function DC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Yfe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function WY(t,e){let r=Yfe(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function GY(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=vv(t):(i=$1({},t),os(!i.pathname||!i.pathname.includes("?"),DC("?","pathname","search",i)),os(!i.pathname||!i.pathname.includes("#"),DC("#","pathname","hash",i)),os(!i.search||!i.search.includes("#"),DC("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let m=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),m-=1;i.pathname=g.join("/")}o=m>=0?e[m]:"/"}let l=Kfe(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const U0=t=>t.join("/").replace(/\/\/+/g,"/"),Xfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Qfe=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Jfe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Zfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const KY=["post","put","patch","delete"];new Set(KY);const e0e=["get",...KY];new Set(e0e);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function H1(){return H1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},H1.apply(this,arguments)}const XO=C.createContext(null),t0e=C.createContext(null),Zx=C.createContext(null),pS=C.createContext(null),Nf=C.createContext({outlet:null,matches:[],isDataRoute:!1}),YY=C.createContext(null);function eb(){return C.useContext(pS)!=null}function gS(){return eb()||os(!1),C.useContext(pS).location}function XY(t){C.useContext(Zx).static||C.useLayoutEffect(t)}function vS(){let{isDataRoute:t}=C.useContext(Nf);return t?p0e():r0e()}function r0e(){eb()||os(!1);let t=C.useContext(XO),{basename:e,future:r,navigator:n}=C.useContext(Zx),{matches:i}=C.useContext(Nf),{pathname:s}=gS(),a=JSON.stringify(WY(i,r.v7_relativeSplatPath)),o=C.useRef(!1);return XY(()=>{o.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let m=GY(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:U0([e,m.pathname])),(d.replace?n.replace:n.push)(m,d.state,d)},[e,n,a,s,t])}function n0e(){let{matches:t}=C.useContext(Nf),e=t[t.length-1];return e?e.params:{}}function i0e(t,e){return s0e(t,e)}function s0e(t,e,r,n){eb()||os(!1);let{navigator:i}=C.useContext(Zx),{matches:s}=C.useContext(Nf),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=gS(),d;if(e){var m;let w=typeof e=="string"?vv(e):e;l==="/"||(m=w.pathname)!=null&&m.startsWith(l)||os(!1),d=w}else d=u;let g=d.pathname||"/",v=g;if(l!=="/"){let w=l.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=Ofe(t,{pathname:v}),b=u0e(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:U0([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:U0([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&b?C.createElement(pS.Provider,{value:{location:H1({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:zh.Pop}},b):b}function a0e(){let t=m0e(),e=Zfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const o0e=C.createElement(a0e,null);class l0e extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(Nf.Provider,{value:this.props.routeContext},C.createElement(YY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function c0e(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(XO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(Nf.Provider,{value:e},n)}function u0e(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(m=>m.route.id&&(o==null?void 0:o[m.route.id])!==void 0);d>=0||os(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let m=a[d];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(u=d),m.route.id){let{loaderData:g,errors:v}=r,x=m.route.loader&&g[m.route.id]===void 0&&(!v||v[m.route.id]===void 0);if(m.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,m,g)=>{let v,x=!1,b=null,w=null;r&&(v=o&&m.route.id?o[m.route.id]:void 0,b=m.route.errorElement||o0e,l&&(u<0&&g===0?(g0e("route-fallback"),x=!0,w=null):u===g&&(x=!0,w=m.route.hydrateFallbackElement||null)));let _=e.concat(a.slice(0,g+1)),k=()=>{let A;return v?A=b:x?A=w:m.route.Component?A=C.createElement(m.route.Component,null):m.route.element?A=m.route.element:A=d,C.createElement(c0e,{match:m,routeContext:{outlet:d,matches:_,isDataRoute:r!=null},children:A})};return r&&(m.route.ErrorBoundary||m.route.errorElement||g===0)?C.createElement(l0e,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:k(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):k()},null)}var QY=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(QY||{}),JY=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(JY||{});function d0e(t){let e=C.useContext(XO);return e||os(!1),e}function h0e(t){let e=C.useContext(t0e);return e||os(!1),e}function f0e(t){let e=C.useContext(Nf);return e||os(!1),e}function ZY(t){let e=f0e(),r=e.matches[e.matches.length-1];return r.route.id||os(!1),r.route.id}function m0e(){var t;let e=C.useContext(YY),r=h0e(),n=ZY();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function p0e(){let{router:t}=d0e(QY.UseNavigateStable),e=ZY(JY.UseNavigateStable),r=C.useRef(!1);return XY(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,H1({fromRouteId:e},s)))},[t,e])}const SF={};function g0e(t,e,r){SF[t]||(SF[t]=!0)}function v0e(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function bn(t){let{to:e,replace:r,state:n,relative:i}=t;eb()||os(!1);let{future:s,static:a}=C.useContext(Zx),{matches:o}=C.useContext(Nf),{pathname:l}=gS(),u=vS(),d=GY(e,WY(o,s.v7_relativeSplatPath),l,i==="path"),m=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(m),{replace:r,state:n,relative:i}),[u,m,i,r,n]),null}function Jt(t){os(!1)}function y0e(t){let{basename:e="/",children:r=null,location:n,navigationType:i=zh.Pop,navigator:s,static:a=!1,future:o}=t;eb()&&os(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:a,future:H1({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=vv(n));let{pathname:d="/",search:m="",hash:g="",state:v=null,key:x="default"}=n,b=C.useMemo(()=>{let w=qY(d,l);return w==null?null:{location:{pathname:w,search:m,hash:g,state:v,key:x},navigationType:i}},[l,d,m,g,v,x,i]);return b==null?null:C.createElement(Zx.Provider,{value:u},C.createElement(pS.Provider,{children:r,value:b}))}function x0e(t){let{children:e,location:r}=t;return i0e($5(e),r)}new Promise(()=>{});function $5(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let s=[...e,i];if(n.type===C.Fragment){r.push.apply(r,$5(n.props.children,s));return}n.type!==Jt&&os(!1),!n.props.index||!n.props.children||os(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=$5(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const b0e="6";try{window.__reactRouterVersion=b0e}catch{}const w0e="startTransition",kF=BY[w0e];function _0e(t){let{basename:e,children:r,future:n,window:i}=t,s=C.useRef();s.current==null&&(s.current=Cfe({window:i,v5Compat:!0}));let a=s.current,[o,l]=C.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=C.useCallback(m=>{u&&kF?kF(()=>l(m)):l(m)},[l,u]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.useEffect(()=>v0e(n),[n]),C.createElement(y0e,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var AF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(AF||(AF={}));var CF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(CF||(CF={}));const E0e="modulepreload",T0e=function(t){return"/ontap/"+t},NF={},Jr=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(m=>({status:"fulfilled",value:m}),m=>({status:"rejected",reason:m}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(r.map(u=>{if(u=T0e(u),u in NF)return;NF[u]=!0;const d=u.endsWith(".css"),m=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${m}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":E0e,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},eX=C.createContext(void 0),tX=({children:t})=>{const[e,r]=C.useState("light");C.useEffect(()=>{let s=localStorage.getItem("theme");(!s||s==="noel")&&(s="light",localStorage.setItem("theme","light")),r(s),document.documentElement.setAttribute("data-theme",s)},[]);const n=i=>{r(i),document.documentElement.setAttribute("data-theme",i),localStorage.setItem("theme",i)};return f.jsx(eX.Provider,{value:{theme:e,setTheme:n},children:t})},ua=()=>{const t=C.useContext(eX);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},QO=C.createContext({});function JO(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const ZO=typeof window<"u",rX=ZO?C.useLayoutEffect:C.useEffect,yS=C.createContext(null);function eR(t,e){t.indexOf(e)===-1&&t.push(e)}function tR(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const Sd=(t,e,r)=>r>e?e:r<t?t:r;let rR=()=>{};const kd={},nX=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function iX(t){return typeof t=="object"&&t!==null}const sX=t=>/^0[^.\s]+$/u.test(t);function nR(t){let e;return()=>(e===void 0&&(e=t()),e)}const zl=t=>t,S0e=(t,e)=>r=>e(t(r)),tb=(...t)=>t.reduce(S0e),q1=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class iR{constructor(){this.subscriptions=[]}add(e){return eR(this.subscriptions,e),()=>tR(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const mu=t=>t*1e3,Ml=t=>t/1e3;function aX(t,e){return e?t*(1e3/e):0}const oX=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,k0e=1e-7,A0e=12;function C0e(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=oX(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>k0e&&++o<A0e);return a}function rb(t,e,r,n){if(t===e&&r===n)return zl;const i=s=>C0e(s,0,1,t,r);return s=>s===0||s===1?s:oX(i(s),e,n)}const lX=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,cX=t=>e=>1-t(1-e),uX=rb(.33,1.53,.69,.99),sR=cX(uX),dX=lX(sR),hX=t=>(t*=2)<1?.5*sR(t):.5*(2-Math.pow(2,-10*(t-1))),aR=t=>1-Math.sin(Math.acos(t)),fX=cX(aR),mX=lX(aR),N0e=rb(.42,0,1,1),I0e=rb(0,0,.58,1),pX=rb(.42,0,.58,1),O0e=t=>Array.isArray(t)&&typeof t[0]!="number",gX=t=>Array.isArray(t)&&typeof t[0]=="number",R0e={linear:zl,easeIn:N0e,easeInOut:pX,easeOut:I0e,circIn:aR,circInOut:mX,circOut:fX,backIn:sR,backInOut:dX,backOut:uX,anticipate:hX},P0e=t=>typeof t=="string",IF=t=>{if(gX(t)){rR(t.length===4);const[e,r,n,i]=t;return rb(e,r,n,i)}else if(P0e(t))return R0e[t];return t},b2=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function j0e(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,m=!1,g=!1)=>{const x=g&&i?r:n;return m&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const D0e=40;function vX(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=b2.reduce((A,R)=>(A[R]=j0e(s),A),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:m,preRender:g,render:v,postRender:x}=a,b=()=>{const A=kd.useManualTiming?i.timestamp:performance.now();r=!1,kd.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(A-i.timestamp,D0e),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),d.process(i),m.process(i),g.process(i),v.process(i),x.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(b))},w=()=>{r=!0,n=!0,i.isProcessing||t(b)};return{schedule:b2.reduce((A,R)=>{const P=a[R];return A[R]=(j,S=!1,I=!1)=>(r||w(),P.schedule(j,S,I)),A},{}),cancel:A=>{for(let R=0;R<b2.length;R++)a[b2[R]].cancel(A)},state:i,steps:a}}const{schedule:ti,cancel:of,state:ra,steps:MC}=vX(typeof requestAnimationFrame<"u"?requestAnimationFrame:zl,!0);let k_;function M0e(){k_=void 0}const go={now:()=>(k_===void 0&&go.set(ra.isProcessing||kd.useManualTiming?ra.timestamp:performance.now()),k_),set:t=>{k_=t,queueMicrotask(M0e)}},yX=t=>e=>typeof e=="string"&&e.startsWith(t),xX=yX("--"),L0e=yX("var(--"),oR=t=>L0e(t)?F0e.test(t.split("/*")[0].trim()):!1,F0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,yv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},W1={...yv,transform:t=>Sd(0,1,t)},w2={...yv,default:1},m1=t=>Math.round(t*1e5)/1e5,lR=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function B0e(t){return t==null}const V0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,cR=(t,e)=>r=>!!(typeof r=="string"&&V0e.test(r)&&r.startsWith(t)||e&&!B0e(r)&&Object.prototype.hasOwnProperty.call(r,e)),bX=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(lR);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},U0e=t=>Sd(0,255,t),LC={...yv,transform:t=>Math.round(U0e(t))},C0={test:cR("rgb","red"),parse:bX("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+LC.transform(t)+", "+LC.transform(e)+", "+LC.transform(r)+", "+m1(W1.transform(n))+")"};function z0e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const H5={test:cR("#"),parse:z0e,transform:C0.transform},nb=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Rh=nb("deg"),pu=nb("%"),$t=nb("px"),$0e=nb("vh"),H0e=nb("vw"),OF={...pu,parse:t=>pu.parse(t)/100,transform:t=>pu.transform(t*100)},Xp={test:cR("hsl","hue"),parse:bX("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+pu.transform(m1(e))+", "+pu.transform(m1(r))+", "+m1(W1.transform(n))+")"},ts={test:t=>C0.test(t)||H5.test(t)||Xp.test(t),parse:t=>C0.test(t)?C0.parse(t):Xp.test(t)?Xp.parse(t):H5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?C0.transform(t):Xp.transform(t),getAnimatableNone:t=>{const e=ts.parse(t);return e.alpha=0,ts.transform(e)}},q0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function W0e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(lR))==null?void 0:e.length)||0)+(((r=t.match(q0e))==null?void 0:r.length)||0)>0}const wX="number",_X="color",G0e="var",K0e="var(",RF="${}",Y0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function G1(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(Y0e,l=>(ts.test(l)?(n.color.push(s),i.push(_X),r.push(ts.parse(l))):l.startsWith(K0e)?(n.var.push(s),i.push(G0e),r.push(l)):(n.number.push(s),i.push(wX),r.push(parseFloat(l))),++s,RF)).split(RF);return{values:r,split:o,indexes:n,types:i}}function EX(t){return G1(t).values}function TX(t){const{split:e,types:r}=G1(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===wX?s+=m1(i[a]):o===_X?s+=ts.transform(i[a]):s+=i[a]}return s}}const X0e=t=>typeof t=="number"?0:ts.test(t)?ts.getAnimatableNone(t):t;function Q0e(t){const e=EX(t);return TX(t)(e.map(X0e))}const lf={test:W0e,parse:EX,createTransformer:TX,getAnimatableNone:Q0e};function FC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function J0e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=FC(l,o,t+1/3),s=FC(l,o,t),a=FC(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function Y_(t,e){return r=>r>0?e:t}const li=(t,e,r)=>t+(e-t)*r,BC=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},Z0e=[H5,C0,Xp],eme=t=>Z0e.find(e=>e.test(t));function PF(t){const e=eme(t);if(!e)return!1;let r=e.parse(t);return e===Xp&&(r=J0e(r)),r}const jF=(t,e)=>{const r=PF(t),n=PF(e);if(!r||!n)return Y_(t,e);const i={...r};return s=>(i.red=BC(r.red,n.red,s),i.green=BC(r.green,n.green,s),i.blue=BC(r.blue,n.blue,s),i.alpha=li(r.alpha,n.alpha,s),C0.transform(i))},q5=new Set(["none","hidden"]);function tme(t,e){return q5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function rme(t,e){return r=>li(t,e,r)}function uR(t){return typeof t=="number"?rme:typeof t=="string"?oR(t)?Y_:ts.test(t)?jF:sme:Array.isArray(t)?SX:typeof t=="object"?ts.test(t)?jF:nme:Y_}function SX(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>uR(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function nme(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=uR(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function ime(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const sme=(t,e)=>{const r=lf.createTransformer(e),n=G1(t),i=G1(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?q5.has(t)&&!i.values.length||q5.has(e)&&!n.values.length?tme(t,e):tb(SX(ime(n,i),i.values),r):Y_(t,e)};function kX(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?li(t,e,r):uR(t)(t,e)}const ame=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ti.update(e,r),stop:()=>of(e),now:()=>ra.isProcessing?ra.timestamp:go.now()}},AX=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},X_=2e4;function dR(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<X_;)e+=r,n=t.next(e);return e>=X_?1/0:e}function ome(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(dR(n),X_);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:Ml(i)}}const lme=5;function CX(t,e,r){const n=Math.max(e-lme,0);return aX(r-t(n),e-n)}const _i={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},VC=.001;function cme({duration:t=_i.duration,bounce:e=_i.bounce,velocity:r=_i.velocity,mass:n=_i.mass}){let i,s,a=1-e;a=Sd(_i.minDamping,_i.maxDamping,a),t=Sd(_i.minDuration,_i.maxDuration,Ml(t)),a<1?(i=u=>{const d=u*a,m=d*t,g=d-r,v=W5(u,a),x=Math.exp(-m);return VC-g/v*x},s=u=>{const m=u*a*t,g=m*r+r,v=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-m),b=W5(Math.pow(u,2),a);return(-i(u)+VC>0?-1:1)*((g-v)*x)/b}):(i=u=>{const d=Math.exp(-u*t),m=(u-r)*t+1;return-VC+d*m},s=u=>{const d=Math.exp(-u*t),m=(r-u)*(t*t);return d*m});const o=5/t,l=dme(i,s,o);if(t=mu(t),isNaN(l))return{stiffness:_i.stiffness,damping:_i.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const ume=12;function dme(t,e,r){let n=r;for(let i=1;i<ume;i++)n=n-t(n)/e(n);return n}function W5(t,e){return t*Math.sqrt(1-e*e)}const hme=["duration","bounce"],fme=["stiffness","damping","mass"];function DF(t,e){return e.some(r=>t[r]!==void 0)}function mme(t){let e={velocity:_i.velocity,stiffness:_i.stiffness,damping:_i.damping,mass:_i.mass,isResolvedFromDuration:!1,...t};if(!DF(t,fme)&&DF(t,hme))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*Sd(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_i.mass,stiffness:i,damping:s}}else{const r=cme(t);e={...e,...r,mass:_i.mass},e.isResolvedFromDuration=!0}return e}function Q_(t=_i.visualDuration,e=_i.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:m,velocity:g,isResolvedFromDuration:v}=mme({...r,velocity:-Ml(r.velocity||0)}),x=g||0,b=u/(2*Math.sqrt(l*d)),w=a-s,_=Ml(Math.sqrt(l/d)),k=Math.abs(w)<5;n||(n=k?_i.restSpeed.granular:_i.restSpeed.default),i||(i=k?_i.restDelta.granular:_i.restDelta.default);let A;if(b<1){const P=W5(_,b);A=j=>{const S=Math.exp(-b*_*j);return a-S*((x+b*_*w)/P*Math.sin(P*j)+w*Math.cos(P*j))}}else if(b===1)A=P=>a-Math.exp(-_*P)*(w+(x+_*w)*P);else{const P=_*Math.sqrt(b*b-1);A=j=>{const S=Math.exp(-b*_*j),I=Math.min(P*j,300);return a-S*((x+b*_*w)*Math.sinh(I)+P*w*Math.cosh(I))/P}}const R={calculatedDuration:v&&m||null,next:P=>{const j=A(P);if(v)o.done=P>=m;else{let S=P===0?x:0;b<1&&(S=P===0?mu(x):CX(A,P,j));const I=Math.abs(S)<=n,O=Math.abs(a-j)<=i;o.done=I&&O}return o.value=o.done?a:j,o},toString:()=>{const P=Math.min(dR(R),X_),j=AX(S=>R.next(P*S).value,P,30);return P+"ms "+j},toTransition:()=>{}};return R}Q_.applyToOptions=t=>{const e=ome(t,100,Q_);return t.ease=e.ease,t.duration=mu(e.duration),t.type="keyframes",t};function G5({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const m=t[0],g={done:!1,value:m},v=I=>o!==void 0&&I<o||l!==void 0&&I>l,x=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let b=r*e;const w=m+b,_=a===void 0?w:a(w);_!==w&&(b=_-m);const k=I=>-b*Math.exp(-I/n),A=I=>_+k(I),R=I=>{const O=k(I),D=A(I);g.done=Math.abs(O)<=u,g.value=g.done?_:D};let P,j;const S=I=>{v(g.value)&&(P=I,j=Q_({keyframes:[g.value,x(g.value)],velocity:CX(A,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:I=>{let O=!1;return!j&&P===void 0&&(O=!0,R(I),S(I)),P!==void 0&&I>=P?j.next(I-P):(!O&&R(I),g)}}}function pme(t,e,r){const n=[],i=r||kd.mix||kX,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||zl:e;o=tb(l,o)}n.push(o)}return n}function gme(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(rR(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=pme(e,n,i),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let m=0;if(l>1)for(;m<t.length-2&&!(d<t[m+1]);m++);const g=q1(t[m],t[m+1],d);return o[m](g)};return r?d=>u(Sd(t[0],t[s-1],d)):u}function vme(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=q1(0,e,n);t.push(li(r,1,i))}}function yme(t){const e=[0];return vme(e,t.length-1),e}function xme(t,e){return t.map(r=>r*e)}function bme(t,e){return t.map(()=>e||pX).splice(0,t.length-1)}function p1({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=O0e(n)?n.map(IF):IF(n),s={done:!1,value:e[0]},a=xme(r&&r.length===e.length?r:yme(e),t),o=gme(a,e,{ease:Array.isArray(i)?i:bme(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const wme=t=>t!==null;function hR(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(wme),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const _me={decay:G5,inertia:G5,tween:p1,keyframes:p1,spring:Q_};function NX(t){typeof t.type=="string"&&(t.type=_me[t.type])}class fR{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const Eme=t=>t/100;class mR extends fR{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==go.now()&&this.tick(go.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;NX(e);const{type:r=p1,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||p1;l!==p1&&typeof o[0]!="number"&&(this.mixKeyframes=tb(Eme,kX(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=dR(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:m,repeatType:g,repeatDelay:v,type:x,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const _=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?_<0:_>i;this.currentTime=Math.max(_,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,R=n;if(m){const I=Math.min(this.currentTime,i)/o;let O=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&O--,O=Math.min(O,m+1),!!(O%2)&&(g==="reverse"?(D=1-D,v&&(D-=v/o)):g==="mirror"&&(R=a)),A=Sd(0,1,D)*o}const P=k?{done:!1,value:d[0]}:R.next(A);s&&(P.value=s(P.value));let{done:j}=P;!k&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return S&&x!==G5&&(P.value=hR(d,this.options,w,this.speed)),b&&b(P.value),S&&this.finish(),P}then(e,r){return this.finished.then(e,r)}get duration(){return Ml(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ml(e)}get time(){return Ml(this.currentTime)}set time(e){var r;e=mu(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(go.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=Ml(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=ame,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(go.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function Tme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const N0=t=>t*180/Math.PI,K5=t=>{const e=N0(Math.atan2(t[1],t[0]));return Y5(e)},Sme={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:K5,rotateZ:K5,skewX:t=>N0(Math.atan(t[1])),skewY:t=>N0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},Y5=t=>(t=t%360,t<0&&(t+=360),t),MF=K5,LF=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),FF=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),kme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:LF,scaleY:FF,scale:t=>(LF(t)+FF(t))/2,rotateX:t=>Y5(N0(Math.atan2(t[6],t[5]))),rotateY:t=>Y5(N0(Math.atan2(-t[2],t[0]))),rotateZ:MF,rotate:MF,skewX:t=>N0(Math.atan(t[4])),skewY:t=>N0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function X5(t){return t.includes("scale")?1:0}function Q5(t,e){if(!t||t==="none")return X5(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=kme,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=Sme,i=o}if(!i)return X5(e);const s=n[e],a=i[1].split(",").map(Cme);return typeof s=="function"?s(a):a[s]}const Ame=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return Q5(r,e)};function Cme(t){return parseFloat(t.trim())}const xv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],bv=new Set(xv),BF=t=>t===yv||t===$t,Nme=new Set(["x","y","z"]),Ime=xv.filter(t=>!Nme.has(t));function Ome(t){const e=[];return Ime.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const z0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>Q5(e,"x"),y:(t,{transform:e})=>Q5(e,"y")};z0.translateX=z0.x;z0.translateY=z0.y;const $0=new Set;let J5=!1,Z5=!1,e6=!1;function IX(){if(Z5){const t=Array.from($0).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=Ome(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}Z5=!1,J5=!1,$0.forEach(t=>t.complete(e6)),$0.clear()}function OX(){$0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(Z5=!0)})}function Rme(){e6=!0,OX(),IX(),e6=!1}class pR{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?($0.add(this),J5||(J5=!0,ti.read(OX),ti.resolveKeyframes(IX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}Tme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),$0.delete(this)}cancel(){this.state==="scheduled"&&($0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const Pme=t=>t.startsWith("--");function jme(t,e,r){Pme(e)?t.style.setProperty(e,r):t.style[e]=r}const Dme=nR(()=>window.ScrollTimeline!==void 0),Mme={};function Lme(t,e){const r=nR(t);return()=>Mme[e]??r()}const RX=Lme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),r1=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,VF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:r1([0,.65,.55,1]),circOut:r1([.55,0,1,.45]),backIn:r1([.31,.01,.66,-.59]),backOut:r1([.33,1.53,.69,.99])};function PX(t,e){if(t)return typeof t=="function"?RX()?AX(t,e):"ease-out":gX(t)?r1(t):Array.isArray(t)?t.map(r=>PX(r,e)||VF.easeOut):VF[t]}function Fme(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:r};l&&(d.offset=l);const m=PX(o,i);Array.isArray(m)&&(d.easing=m);const g={delay:n,duration:i,easing:Array.isArray(m)?"linear":m,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(d,g)}function jX(t){return typeof t=="function"&&"applyToOptions"in t}function Bme({type:t,...e}){return jX(t)&&RX()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class Vme extends fR{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,rR(typeof e.type!="string");const u=Bme(e);this.animation=Fme(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=hR(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):jme(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return Ml(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+Ml(e)}get time(){return Ml(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=mu(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&Dme()?(this.animation.timeline=e,zl):r(this)}}const DX={anticipate:hX,backInOut:dX,circInOut:mX};function Ume(t){return t in DX}function zme(t){typeof t.ease=="string"&&Ume(t.ease)&&(t.ease=DX[t.ease])}const UF=10;class $me extends Vme{constructor(e){zme(e),NX(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new mR({...a,autoplay:!1}),l=mu(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-UF).value,o.sample(l).value,UF),o.stop()}}const zF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(lf.test(t)||t==="0")&&!t.startsWith("url("));function Hme(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function qme(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=zF(i,e),o=zF(s,e);return!a||!o?!1:Hme(t)||(r==="spring"||jX(r))&&n}function t6(t){t.duration=0,t.type="keyframes"}const Wme=new Set(["opacity","clipPath","filter","transform"]),Gme=nR(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Kme(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return Gme()&&r&&Wme.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const Yme=40;class Xme extends fR{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...m}){var x;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=go.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:d,...m},v=(d==null?void 0:d.KeyframeResolver)||pR;this.keyframeResolver=new v(o,(b,w,_)=>this.onKeyframesResolved(b,w,g,!_),l,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=n;this.resolvedAt=go.now(),qme(e,s,a,o)||((kd.instantAnimations||!l)&&(d==null||d(hR(e,n,r))),e[0]=e[e.length-1],t6(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Yme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!u&&Kme(g)?new $me({...g,element:g.motionValue.owner.current}):new mR(g);v.finished.then(()=>this.notifyFinished()).catch(zl),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),Rme()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Qme=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Jme(t){const e=Qme.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function MX(t,e,r=1){const[n,i]=Jme(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return nX(a)?parseFloat(a):a}return oR(i)?MX(i,e,r+1):i}function gR(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const LX=new Set(["width","height","top","left","right","bottom",...xv]),Zme={test:t=>t==="auto",parse:t=>t},FX=t=>e=>e.test(t),BX=[yv,$t,pu,Rh,H0e,$0e,Zme],$F=t=>BX.find(FX(t));function epe(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||sX(t):!0}const tpe=new Set(["brightness","contrast","saturate","opacity"]);function rpe(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(lR)||[];if(!n)return t;const i=r.replace(n,"");let s=tpe.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const npe=/\b([a-z-]*)\(.*?\)/gu,r6={...lf,getAnimatableNone:t=>{const e=t.match(npe);return e?e.map(rpe).join(" "):t}},HF={...yv,transform:Math.round},ipe={rotate:Rh,rotateX:Rh,rotateY:Rh,rotateZ:Rh,scale:w2,scaleX:w2,scaleY:w2,scaleZ:w2,skew:Rh,skewX:Rh,skewY:Rh,distance:$t,translateX:$t,translateY:$t,translateZ:$t,x:$t,y:$t,z:$t,perspective:$t,transformPerspective:$t,opacity:W1,originX:OF,originY:OF,originZ:$t},vR={borderWidth:$t,borderTopWidth:$t,borderRightWidth:$t,borderBottomWidth:$t,borderLeftWidth:$t,borderRadius:$t,radius:$t,borderTopLeftRadius:$t,borderTopRightRadius:$t,borderBottomRightRadius:$t,borderBottomLeftRadius:$t,width:$t,maxWidth:$t,height:$t,maxHeight:$t,top:$t,right:$t,bottom:$t,left:$t,padding:$t,paddingTop:$t,paddingRight:$t,paddingBottom:$t,paddingLeft:$t,margin:$t,marginTop:$t,marginRight:$t,marginBottom:$t,marginLeft:$t,backgroundPositionX:$t,backgroundPositionY:$t,...ipe,zIndex:HF,fillOpacity:W1,strokeOpacity:W1,numOctaves:HF},spe={...vR,color:ts,backgroundColor:ts,outlineColor:ts,fill:ts,stroke:ts,borderColor:ts,borderTopColor:ts,borderRightColor:ts,borderBottomColor:ts,borderLeftColor:ts,filter:r6,WebkitFilter:r6},VX=t=>spe[t];function UX(t,e){let r=VX(t);return r!==r6&&(r=lf),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const ape=new Set(["auto","none","0"]);function ope(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!ape.has(s)&&G1(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=UX(r,i)}class lpe extends pR{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),oR(u))){const d=MX(u,r.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!LX.has(n)||e.length!==2)return;const[i,s]=e,a=$F(i),o=$F(s);if(a!==o)if(BF(a)&&BF(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else z0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||epe(e[i]))&&n.push(i);n.length&&ope(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=z0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=z0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function cpe(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const zX=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function $X(t){return iX(t)&&"offsetHeight"in t}const qF=30,upe=t=>!isNaN(parseFloat(t));class dpe{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=go.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=go.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=upe(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new iR);const n=this.events[e].add(r);return e==="change"?()=>{n(),ti.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=go.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>qF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,qF);return aX(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Rg(t,e){return new dpe(t,e)}const{schedule:yR}=vX(queueMicrotask,!1),cc={x:!1,y:!1};function HX(){return cc.x||cc.y}function hpe(t){return t==="x"||t==="y"?cc[t]?null:(cc[t]=!0,()=>{cc[t]=!1}):cc.x||cc.y?null:(cc.x=cc.y=!0,()=>{cc.x=cc.y=!1})}function qX(t,e){const r=cpe(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function WF(t){return!(t.pointerType==="touch"||HX())}function fpe(t,e,r={}){const[n,i,s]=qX(t,r),a=o=>{if(!WF(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=m=>{WF(m)&&(u(m),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const WX=(t,e)=>e?t===e?!0:WX(t,e.parentElement):!1,xR=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,mpe=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function ppe(t){return mpe.has(t.tagName)||t.tabIndex!==-1}const A_=new WeakSet;function GF(t){return e=>{e.key==="Enter"&&t(e)}}function UC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const gpe=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=GF(()=>{if(A_.has(r))return;UC(r,"down");const i=GF(()=>{UC(r,"up")}),s=()=>UC(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function KF(t){return xR(t)&&!HX()}function vpe(t,e,r={}){const[n,i,s]=qX(t,r),a=o=>{const l=o.currentTarget;if(!KF(o))return;A_.add(l);const u=e(l,o),d=(v,x)=>{window.removeEventListener("pointerup",m),window.removeEventListener("pointercancel",g),A_.has(l)&&A_.delete(l),KF(v)&&typeof u=="function"&&u(v,{success:x})},m=v=>{d(v,l===window||l===document||r.useGlobalTarget||WX(l,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",m,i),window.addEventListener("pointercancel",g,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),$X(o)&&(o.addEventListener("focus",u=>gpe(u,i)),!ppe(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function GX(t){return iX(t)&&"ownerSVGElement"in t}function ype(t){return GX(t)&&t.tagName==="svg"}const Ca=t=>!!(t&&t.getVelocity),xpe=[...BX,ts,lf],bpe=t=>xpe.find(FX(t)),bR=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function YF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function wpe(...t){return e=>{let r=!1;const n=t.map(i=>{const s=YF(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():YF(t[i],null)}}}}function _pe(...t){return C.useCallback(wpe(...t),t)}class Epe extends C.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=$X(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function Tpe({children:t,isPresent:e,anchorX:r,root:n}){const i=C.useId(),s=C.useRef(null),a=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(bR),l=_pe(s,t==null?void 0:t.ref);return C.useInsertionEffect(()=>{const{width:u,height:d,top:m,left:g,right:v}=a.current;if(e||!s.current||!u||!d)return;const x=r==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");o&&(b.nonce=o);const w=n??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${m}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[e]),f.jsx(Epe,{isPresent:e,childRef:s,sizeRef:a,children:C.cloneElement(t,{ref:l})})}const Spe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=JO(kpe),d=C.useId();let m=!0,g=C.useMemo(()=>(m=!1,{id:d,initial:e,isPresent:r,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;n&&n()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[r,u,n]);return s&&m&&(g={...g}),C.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[r]),C.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(t=f.jsx(Tpe,{isPresent:r,anchorX:o,root:l,children:t})),f.jsx(yS.Provider,{value:g,children:t})};function kpe(){return new Map}function KX(t=!0){const e=C.useContext(yS);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const _2=t=>t.key||"";function XF(t){const e=[];return C.Children.forEach(t,r=>{C.isValidElement(r)&&e.push(r)}),e}const YX=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,d]=KX(a),m=C.useMemo(()=>XF(t),[t]),g=a&&!u?[]:m.map(_2),v=C.useRef(!0),x=C.useRef(m),b=JO(()=>new Map),[w,_]=C.useState(m),[k,A]=C.useState(m);rX(()=>{v.current=!1,x.current=m;for(let j=0;j<k.length;j++){const S=_2(k[j]);g.includes(S)?b.delete(S):b.get(S)!==!0&&b.set(S,!1)}},[k,g.length,g.join("-")]);const R=[];if(m!==w){let j=[...m];for(let S=0;S<k.length;S++){const I=k[S],O=_2(I);g.includes(O)||(j.splice(S,0,I),R.push(I))}return s==="wait"&&R.length&&(j=R),A(XF(j)),_(m),null}const{forceRender:P}=C.useContext(QO);return f.jsx(f.Fragment,{children:k.map(j=>{const S=_2(j),I=a&&!u?!1:m===k||g.includes(S),O=()=>{if(b.has(S))b.set(S,!0);else return;let D=!0;b.forEach(M=>{M||(D=!1)}),D&&(P==null||P(),A(x.current),a&&(d==null||d()),n&&n())};return f.jsx(Spe,{isPresent:I,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:I?void 0:O,anchorX:o,children:j},S)})})},XX=C.createContext({strict:!1}),QF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},Pg={};for(const t in QF)Pg[t]={isEnabled:e=>QF[t].some(r=>!!e[r])};function Ape(t){for(const e in t)Pg[e]={...Pg[e],...t[e]}}const Cpe=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function J_(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||Cpe.has(t)}let QX=t=>!J_(t);function Npe(t){typeof t=="function"&&(QX=e=>e.startsWith("on")?!J_(e):t(e))}try{Npe(require("@emotion/is-prop-valid").default)}catch{}function Ipe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(QX(i)||r===!0&&J_(i)||!e&&!J_(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const xS=C.createContext({});function bS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function K1(t){return typeof t=="string"||Array.isArray(t)}const wR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],_R=["initial",...wR];function wS(t){return bS(t.animate)||_R.some(e=>K1(t[e]))}function JX(t){return!!(wS(t)||t.variants)}function Ope(t,e){if(wS(t)){const{initial:r,animate:n}=t;return{initial:r===!1||K1(r)?r:void 0,animate:K1(n)?n:void 0}}return t.inherit!==!1?e:{}}function Rpe(t){const{initial:e,animate:r}=Ope(t,C.useContext(xS));return C.useMemo(()=>({initial:e,animate:r}),[JF(e),JF(r)])}function JF(t){return Array.isArray(t)?t.join(" "):t}function ZF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Uy={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if($t.test(t))t=parseFloat(t);else return t;const r=ZF(t,e.target.x),n=ZF(t,e.target.y);return`${r}% ${n}%`}},Ppe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=lf.parse(t);if(i.length>5)return n;const s=lf.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=li(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}},n6={borderRadius:{...Uy,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Uy,borderTopRightRadius:Uy,borderBottomLeftRadius:Uy,borderBottomRightRadius:Uy,boxShadow:Ppe};function ZX(t,{layout:e,layoutId:r}){return bv.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!n6[t]||t==="opacity")}const jpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},Dpe=xv.length;function Mpe(t,e,r){let n="",i=!0;for(let s=0;s<Dpe;s++){const a=xv[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=zX(o,vR[a]);if(!l){i=!1;const d=jpe[a]||a;n+=`${d}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function ER(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(bv.has(l)){a=!0;continue}else if(xX(l)){i[l]=u;continue}else{const d=zX(u,vR[l]);l.startsWith("origin")?(o=!0,s[l]=d):n[l]=d}}if(e.transform||(a||r?n.transform=Mpe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${l} ${u} ${d}`}}const TR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function eQ(t,e,r){for(const n in e)!Ca(e[n])&&!ZX(n,r)&&(t[n]=e[n])}function Lpe({transformTemplate:t},e){return C.useMemo(()=>{const r=TR();return ER(r,e,t),Object.assign({},r.vars,r.style)},[e])}function Fpe(t,e){const r=t.style||{},n={};return eQ(n,r,t),Object.assign(n,Lpe(t,e)),n}function Bpe(t,e){const r={},n=Fpe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const Vpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},Upe={offset:"strokeDashoffset",array:"strokeDasharray"};function zpe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?Vpe:Upe;t[s.offset]=$t.transform(-n);const a=$t.transform(e),o=$t.transform(r);t[s.array]=`${a} ${o}`}function tQ(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,d){if(ER(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:g}=t;m.transform&&(g.transform=m.transform,delete m.transform),(g.transform||m.transformOrigin)&&(g.transformOrigin=m.transformOrigin??"50% 50%",delete m.transformOrigin),g.transform&&(g.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete m.transformBox),e!==void 0&&(m.x=e),r!==void 0&&(m.y=r),n!==void 0&&(m.scale=n),i!==void 0&&zpe(m,i,s,a,!1)}const rQ=()=>({...TR(),attrs:{}}),nQ=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $pe(t,e,r,n){const i=C.useMemo(()=>{const s=rQ();return tQ(s,e,nQ(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};eQ(s,t.style,t),i.style={...s,...i.style}}return i}const Hpe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function SR(t){return typeof t!="string"||t.includes("-")?!1:!!(Hpe.indexOf(t)>-1||/[A-Z]/u.test(t))}function qpe(t,e,r,{latestValues:n},i,s=!1){const o=(SR(t)?$pe:Bpe)(e,n,i,t),l=Ipe(e,typeof t=="string",s),u=t!==C.Fragment?{...l,...o,ref:r}:{},{children:d}=e,m=C.useMemo(()=>Ca(d)?d.get():d,[d]);return C.createElement(t,{...u,children:m})}function eB(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function kR(t,e,r,n){if(typeof e=="function"){const[i,s]=eB(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=eB(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function C_(t){return Ca(t)?t.get():t}function Wpe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:Gpe(r,n,i,t),renderState:e()}}function Gpe(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=C_(s[g]);let{initial:a,animate:o}=t;const l=wS(t),u=JX(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const m=d?o:a;if(m&&typeof m!="boolean"&&!bS(m)){const g=Array.isArray(m)?m:[m];for(let v=0;v<g.length;v++){const x=kR(t,g[v]);if(x){const{transitionEnd:b,transition:w,..._}=x;for(const k in _){let A=_[k];if(Array.isArray(A)){const R=d?A.length-1:0;A=A[R]}A!==null&&(i[k]=A)}for(const k in b)i[k]=b[k]}}}return i}const iQ=t=>(e,r)=>{const n=C.useContext(xS),i=C.useContext(yS),s=()=>Wpe(t,e,n,i);return r?s():JO(s)};function AR(t,e,r){var s;const{style:n}=t,i={};for(const a in n)(Ca(n[a])||e.style&&Ca(e.style[a])||ZX(a,t)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const Kpe=iQ({scrapeMotionValuesFromProps:AR,createRenderState:TR});function sQ(t,e,r){const n=AR(t,e,r);for(const i in t)if(Ca(t[i])||Ca(e[i])){const s=xv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const Ype=iQ({scrapeMotionValuesFromProps:sQ,createRenderState:rQ}),Xpe=Symbol.for("motionComponentSymbol");function Qp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Qpe(t,e,r){return C.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Qp(r)&&(r.current=n))},[e])}const CR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Jpe="framerAppearId",aQ="data-"+CR(Jpe),oQ=C.createContext({});function Zpe(t,e,r,n,i){var b,w;const{visualElement:s}=C.useContext(xS),a=C.useContext(XX),o=C.useContext(yS),l=C.useContext(bR).reducedMotion,u=C.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,m=C.useContext(oQ);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&ege(u.current,r,i,m);const g=C.useRef(!1);C.useInsertionEffect(()=>{d&&g.current&&d.update(r,o)});const v=r[aQ],x=C.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,v)));return rX(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),C.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var _;(_=window.MotionHandoffMarkAsComplete)==null||_.call(window,v)}),x.current=!1),d.enteringChildren=void 0)}),d}function ege(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:lQ(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Qp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:u})}function lQ(t){if(t)return t.options.allowProjection!==!1?t.projection:lQ(t.parent)}function zC(t,{forwardMotionProps:e=!1}={},r,n){r&&Ape(r);const i=SR(t)?Ype:Kpe;function s(o,l){let u;const d={...C.useContext(bR),...o,layoutId:tge(o)},{isStatic:m}=d,g=Rpe(o),v=i(o,m);if(!m&&ZO){rge();const x=nge(d);u=x.MeasureLayout,g.visualElement=Zpe(t,v,d,n,x.ProjectionNode)}return f.jsxs(xS.Provider,{value:g,children:[u&&g.visualElement?f.jsx(u,{visualElement:g.visualElement,...d}):null,qpe(t,o,Qpe(v,g.visualElement,l),v,m,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(s);return a[Xpe]=t,a}function tge({layoutId:t}){const e=C.useContext(QO).id;return e&&t!==void 0?e+"-"+t:t}function rge(t,e){C.useContext(XX).strict}function nge(t){const{drag:e,layout:r}=Pg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function ige(t,e){if(typeof Proxy>"u")return zC;const r=new Map,n=(s,a)=>zC(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,zC(a,void 0,t,e)),r.get(a))})}function cQ({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function sge({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function age(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function $C(t){return t===void 0||t===1}function i6({scale:t,scaleX:e,scaleY:r}){return!$C(t)||!$C(e)||!$C(r)}function v0(t){return i6(t)||uQ(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function uQ(t){return tB(t.x)||tB(t.y)}function tB(t){return t&&t!=="0%"}function Z_(t,e,r){const n=t-r,i=e*n;return r+i}function rB(t,e,r,n,i){return i!==void 0&&(t=Z_(t,i,n)),Z_(t,r,n)+e}function s6(t,e=0,r=1,n,i){t.min=rB(t.min,e,r,n,i),t.max=rB(t.max,e,r,n,i)}function dQ(t,{x:e,y:r}){s6(t.x,e.translate,e.scale,e.originPoint),s6(t.y,r.translate,r.scale,r.originPoint)}const nB=.999999999999,iB=1.0000000000001;function oge(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Zp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,dQ(t,a)),n&&v0(s.latestValues)&&Zp(t,s.latestValues))}e.x<iB&&e.x>nB&&(e.x=1),e.y<iB&&e.y>nB&&(e.y=1)}function Jp(t,e){t.min=t.min+e,t.max=t.max+e}function sB(t,e,r,n,i=.5){const s=li(t.min,t.max,i);s6(t,e,r,s,n)}function Zp(t,e){sB(t.x,e.x,e.scaleX,e.scale,e.originX),sB(t.y,e.y,e.scaleY,e.scale,e.originY)}function hQ(t,e){return cQ(age(t.getBoundingClientRect(),e))}function lge(t,e,r){const n=hQ(t,r),{scroll:i}=e;return i&&(Jp(n.x,i.offset.x),Jp(n.y,i.offset.y)),n}const aB=()=>({translate:0,scale:1,origin:0,originPoint:0}),eg=()=>({x:aB(),y:aB()}),oB=()=>({min:0,max:0}),ms=()=>({x:oB(),y:oB()}),a6={current:null},fQ={current:!1};function cge(){if(fQ.current=!0,!!ZO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>a6.current=t.matches;t.addEventListener("change",e),e()}else a6.current=!1}const uge=new WeakMap;function dge(t,e,r){for(const n in e){const i=e[n],s=r[n];if(Ca(i))t.addValue(n,i);else if(Ca(s))t.addValue(n,Rg(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,Rg(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const lB=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hge{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=pR,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=go.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ti.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=wS(r),this.isVariantNode=JX(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...m}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in m){const v=m[g];l[g]!==void 0&&Ca(v)&&v.set(l[g])}}mount(e){var r;this.current=e,uge.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),fQ.current||cge(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:a6.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),of(this.notifyUpdate),of(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=bv.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ti.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in Pg){const r=Pg[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ms()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<lB.length;n++){const i=lB[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=dge(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=Rg(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(nX(n)||sX(n))?n=parseFloat(n):!bpe(n)&&lf.test(r)&&(n=UX(e,r)),this.setBaseTarget(e,Ca(n)?n.get():n)),Ca(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=kR(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!Ca(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new iR),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){yR.render(this.render)}}class mQ extends hge{constructor(){super(...arguments),this.KeyframeResolver=lpe}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Ca(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function pQ(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function fge(t){return window.getComputedStyle(t)}class mge extends mQ{constructor(){super(...arguments),this.type="html",this.renderInstance=pQ}readValueFromInstance(e,r){var n;if(bv.has(r))return(n=this.projection)!=null&&n.isProjecting?X5(r):Ame(e,r);{const i=fge(e),s=(xX(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return hQ(e,r)}build(e,r,n){ER(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return AR(e,r,n)}}const gQ=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function pge(t,e,r,n){pQ(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(gQ.has(i)?i:CR(i),e.attrs[i])}class gge extends mQ{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ms}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(bv.has(r)){const n=VX(r);return n&&n.default||0}return r=gQ.has(r)?r:CR(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return sQ(e,r,n)}build(e,r,n){tQ(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){pge(e,r,n,i)}mount(e){this.isSVGTag=nQ(e.tagName),super.mount(e)}}const vge=(t,e)=>SR(t)?new gge(e):new mge(e,{allowProjection:t!==C.Fragment});function cg(t,e,r){const n=t.getProps();return kR(n,e,r!==void 0?r:n.custom,t)}const o6=t=>Array.isArray(t);function yge(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,Rg(r))}function xge(t){return o6(t)?t[t.length-1]||0:t}function bge(t,e){const r=cg(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=xge(s[a]);yge(t,a,o)}}function wge(t){return!!(Ca(t)&&t.add)}function l6(t,e){const r=t.getValue("willChange");if(wge(r))return r.add(e);if(!r&&kd.WillChange){const n=new kd.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function vQ(t){return t.props[aQ]}const _ge=t=>t!==null;function Ege(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(_ge),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const Tge={type:"spring",stiffness:500,damping:25,restSpeed:10},Sge=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),kge={type:"keyframes",duration:.8},Age={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Cge=(t,{keyframes:e})=>e.length>2?kge:bv.has(t)?t.startsWith("scale")?Sge(e[1]):Tge:Age;function Nge({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const NR=(t,e,r,n={},i,s)=>a=>{const o=gR(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-mu(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};Nge(o)||Object.assign(d,Cge(t,d)),d.duration&&(d.duration=mu(d.duration)),d.repeatDelay&&(d.repeatDelay=mu(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let m=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(t6(d),d.delay===0&&(m=!0)),(kd.instantAnimations||kd.skipAnimations)&&(m=!0,t6(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,m&&!s&&e.get()!==void 0){const g=Ege(d.keyframes,o);if(g!==void 0){ti.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new mR(d):new Xme(d)};function Ige({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function yQ(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const m=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||u&&Ige(u,d))continue;const v={delay:r,...gR(s||{},d)},x=m.get();if(x!==void 0&&!m.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const _=vQ(t);if(_){const k=window.MotionHandoffAnimation(_,d,ti);k!==null&&(v.startTime=k,b=!0)}}l6(t,d),m.start(NR(d,m,g,t.shouldReduceMotion&&LX.has(d)?{type:!1}:v,t,b));const w=m.animation;w&&l.push(w)}return a&&Promise.all(l).then(()=>{ti.update(()=>{a&&bge(t,a)})}),l}function xQ(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function c6(t,e,r={}){var l;const n=cg(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(yQ(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:m,staggerDirection:g}=i;return Oge(t,e,u,d,m,g,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,d]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function Oge(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(c6(l,e,{...a,delay:r+(typeof n=="function"?0:n)+xQ(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function Rge(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>c6(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=c6(t,e,r);else{const i=typeof e=="function"?cg(t,e,r.custom):e;n=Promise.all(yQ(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function bQ(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const Pge=_R.length;function wQ(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?wQ(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<Pge;r++){const n=_R[r],i=t.props[n];(K1(i)||i===!1)&&(e[n]=i)}return e}const jge=[...wR].reverse(),Dge=wR.length;function Mge(t){return e=>Promise.all(e.map(({animation:r,options:n})=>Rge(t,r,n)))}function Lge(t){let e=Mge(t),r=cB(),n=!0;const i=l=>(u,d)=>{var g;const m=cg(t,d,l==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(m){const{transition:v,transitionEnd:x,...b}=m;u={...u,...b,...x}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,d=wQ(t.parent)||{},m=[],g=new Set;let v={},x=1/0;for(let w=0;w<Dge;w++){const _=jge[w],k=r[_],A=u[_]!==void 0?u[_]:d[_],R=K1(A),P=_===l?k.isActive:null;P===!1&&(x=w);let j=A===d[_]&&A!==u[_]&&R;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),k.protectedKeys={...v},!k.isActive&&P===null||!A&&!k.prevProp||bS(A)||typeof A=="boolean")continue;const S=Fge(k.prevProp,A);let I=S||_===l&&k.isActive&&!j&&R||w>x&&R,O=!1;const D=Array.isArray(A)?A:[A];let M=D.reduce(i(_),{});P===!1&&(M={});const{prevResolvedValues:F={}}=k,U={...F,...M},le=J=>{I=!0,g.has(J)&&(O=!0,g.delete(J)),k.needsAnimating[J]=!0;const he=t.getValue(J);he&&(he.liveStyle=!1)};for(const J in U){const he=M[J],ee=F[J];if(v.hasOwnProperty(J))continue;let ve=!1;o6(he)&&o6(ee)?ve=!bQ(he,ee):ve=he!==ee,ve?he!=null?le(J):g.add(J):he!==void 0&&g.has(J)?le(J):k.protectedKeys[J]=!0}k.prevProp=A,k.prevResolvedValues=M,k.isActive&&(v={...v,...M}),n&&t.blockInitialAnimation&&(I=!1);const de=j&&S;I&&(!de||O)&&m.push(...D.map(J=>{const he={type:_};if(typeof J=="string"&&n&&!de&&t.manuallyAnimateOnMount&&t.parent){const{parent:ee}=t,ve=cg(ee,J);if(ee.enteringChildren&&ve){const{delayChildren:H}=ve.transition||{};he.delay=xQ(ee.enteringChildren,t,H)}}return{animation:J,options:he}}))}if(g.size){const w={};if(typeof u.initial!="boolean"){const _=cg(t,Array.isArray(u.initial)?u.initial[0]:u.initial);_&&_.transition&&(w.transition=_.transition)}g.forEach(_=>{const k=t.getBaseTarget(_),A=t.getValue(_);A&&(A.liveStyle=!0),w[_]=k??null}),m.push({animation:w})}let b=!!m.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(m):Promise.resolve()}function o(l,u){var m;if(r[l].isActive===u)return Promise.resolve();(m=t.variantChildren)==null||m.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(l,u)}),r[l].isActive=u;const d=a(l);for(const g in r)r[g].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=cB()}}}function Fge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!bQ(e,t):!1}function h0(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function cB(){return{animate:h0(!0),whileInView:h0(),whileHover:h0(),whileTap:h0(),whileDrag:h0(),whileFocus:h0(),exit:h0()}}class If{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Bge extends If{constructor(e){super(e),e.animationState||(e.animationState=Lge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();bS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let Vge=0;class Uge extends If{constructor(){super(...arguments),this.id=Vge++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const zge={animation:{Feature:Bge},exit:{Feature:Uge}};function Y1(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function ib(t){return{point:{x:t.pageX,y:t.pageY}}}const $ge=t=>e=>xR(e)&&t(e,ib(e));function g1(t,e,r,n){return Y1(t,e,$ge(r),n)}const _Q=1e-4,Hge=1-_Q,qge=1+_Q,EQ=.01,Wge=0-EQ,Gge=0+EQ;function $a(t){return t.max-t.min}function Kge(t,e,r){return Math.abs(t-e)<=r}function uB(t,e,r,n=.5){t.origin=n,t.originPoint=li(e.min,e.max,t.origin),t.scale=$a(r)/$a(e),t.translate=li(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Hge&&t.scale<=qge||isNaN(t.scale))&&(t.scale=1),(t.translate>=Wge&&t.translate<=Gge||isNaN(t.translate))&&(t.translate=0)}function v1(t,e,r,n){uB(t.x,e.x,r.x,n?n.originX:void 0),uB(t.y,e.y,r.y,n?n.originY:void 0)}function dB(t,e,r){t.min=r.min+e.min,t.max=t.min+$a(e)}function Yge(t,e,r){dB(t.x,e.x,r.x),dB(t.y,e.y,r.y)}function hB(t,e,r){t.min=e.min-r.min,t.max=t.min+$a(e)}function eE(t,e,r){hB(t.x,e.x,r.x),hB(t.y,e.y,r.y)}function Rl(t){return[t("x"),t("y")]}const TQ=({current:t})=>t?t.ownerDocument.defaultView:null,fB=(t,e)=>Math.abs(t-e);function Xge(t,e){const r=fB(t.x,e.x),n=fB(t.y,e.y);return Math.sqrt(r**2+n**2)}class SQ{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=qC(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Xge(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:b}=g,{timestamp:w}=ra;this.history.push({...b,timestamp:w});const{onStart:_,onMove:k}=this.handlers;v||(_&&_(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=HC(v,this.transformPagePoint),ti.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=qC(g.type==="pointercancel"?this.lastMoveEventInfo:HC(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,_),b&&b(g,_)},!xR(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=ib(e),l=HC(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=ra;this.history=[{...u,timestamp:d}];const{onSessionStart:m}=r;m&&m(e,qC(l,this.history)),this.removeListeners=tb(g1(this.contextWindow,"pointermove",this.handlePointerMove),g1(this.contextWindow,"pointerup",this.handlePointerUp),g1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),of(this.updatePoint)}}function HC(t,e){return e?{point:e(t.point)}:t}function mB(t,e){return{x:t.x-e.x,y:t.y-e.y}}function qC({point:t},e){return{point:t,delta:mB(t,kQ(e)),offset:mB(t,Qge(e)),velocity:Jge(e,.1)}}function Qge(t){return t[0]}function kQ(t){return t[t.length-1]}function Jge(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=kQ(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>mu(e)));)r--;if(!n)return{x:0,y:0};const s=Ml(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Zge(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?li(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?li(r,t,n.max):Math.min(t,r)),t}function pB(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function eve(t,{top:e,left:r,bottom:n,right:i}){return{x:pB(t.x,r,i),y:pB(t.y,e,n)}}function gB(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function tve(t,e){return{x:gB(t.x,e.x),y:gB(t.y,e.y)}}function rve(t,e){let r=.5;const n=$a(t),i=$a(e);return i>n?r=q1(e.min,e.max-n,t.min):n>i&&(r=q1(t.min,t.max-i,e.min)),Sd(0,1,r)}function nve(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const u6=.35;function ive(t=u6){return t===!1?t=0:t===!0&&(t=u6),{x:vB(t,"left","right"),y:vB(t,"top","bottom")}}function vB(t,e,r){return{min:yB(t,e),max:yB(t,r)}}function yB(t,e){return typeof t=="number"?t:t[e]||0}const sve=new WeakMap;class ave{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ms(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=m=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(ib(m).point)},a=(m,g)=>{const{drag:v,dragPropagation:x,onDragStart:b}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=hpe(v),!this.openDragLock))return;this.latestPointerEvent=m,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Rl(_=>{let k=this.getAxisMotionValue(_).get()||0;if(pu.test(k)){const{projection:A}=this.visualElement;if(A&&A.layout){const R=A.layout.layoutBox[_];R&&(k=$a(R)*(parseFloat(k)/100))}}this.originPoint[_]=k}),b&&ti.postRender(()=>b(m,g)),l6(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:_}=g;if(x&&this.currentDirection===null){this.currentDirection=ove(_),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,_),this.updateAxis("y",g.point,_),this.visualElement.render(),w&&w(m,g)},l=(m,g)=>{this.latestPointerEvent=m,this.latestPanInfo=g,this.stop(m,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>Rl(m=>{var g;return this.getAnimationState(m)==="paused"&&((g=this.getAxisMotionValue(m).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new SQ(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:TQ(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ti.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!E2(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Zge(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Qp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=eve(n.layoutBox,e):this.constraints=!1,this.elastic=ive(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&Rl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=nve(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Qp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=lge(n,i.root,this.visualElement.getTransformPagePoint());let a=tve(i.layout.layoutBox,s);if(r){const o=r(sge(a));this.hasMutatedConstraints=!!o,o&&(a=cQ(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=Rl(d=>{if(!E2(d,r,this.currentDirection))return;let m=l&&l[d]||{};a&&(m={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...m};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return l6(this.visualElement,e),n.start(NR(e,n,0,r,this.visualElement,!1))}stopAnimation(){Rl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Rl(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){Rl(r=>{const{drag:n}=this.getProps();if(!E2(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-li(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Qp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Rl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=rve({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),Rl(a=>{if(!E2(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(li(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;sve.set(this.visualElement,this);const e=this.visualElement.current,r=g1(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Qp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ti.read(n);const a=Y1(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(Rl(d=>{const m=this.getAxisMotionValue(d);m&&(this.originPoint[d]+=l[d].translate,m.set(m.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=u6,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function E2(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function ove(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class lve extends If{constructor(e){super(e),this.removeGroupControls=zl,this.removeListeners=zl,this.controls=new ave(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||zl}unmount(){this.removeGroupControls(),this.removeListeners()}}const xB=t=>(e,r)=>{t&&ti.postRender(()=>t(e,r))};class cve extends If{constructor(){super(...arguments),this.removePointerDownListener=zl}onPointerDown(e){this.session=new SQ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:TQ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:xB(e),onStart:xB(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ti.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=g1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const N_={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let WC=!1;class uve extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),WC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),N_.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,WC=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ti.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),yR.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;WC=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function AQ(t){const[e,r]=KX(),n=C.useContext(QO);return f.jsx(uve,{...t,layoutGroup:n,switchLayoutGroup:C.useContext(oQ),isPresent:e,safeToRemove:r})}function dve(t,e,r){const n=Ca(t)?t:Rg(t);return n.start(NR("",n,e,r)),n.animation}const hve=(t,e)=>t.depth-e.depth;class fve{constructor(){this.children=[],this.isDirty=!1}add(e){eR(this.children,e),this.isDirty=!0}remove(e){tR(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(hve),this.isDirty=!1,this.children.forEach(e)}}function mve(t,e){const r=go.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(of(n),t(s-e))};return ti.setup(n,!0),()=>of(n)}const CQ=["TopLeft","TopRight","BottomLeft","BottomRight"],pve=CQ.length,bB=t=>typeof t=="string"?parseFloat(t):t,wB=t=>typeof t=="number"||$t.test(t);function gve(t,e,r,n,i,s){i?(t.opacity=li(0,r.opacity??1,vve(n)),t.opacityExit=li(e.opacity??1,0,yve(n))):s&&(t.opacity=li(e.opacity??1,r.opacity??1,n));for(let a=0;a<pve;a++){const o=`border${CQ[a]}Radius`;let l=_B(e,o),u=_B(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||wB(l)===wB(u)?(t[o]=Math.max(li(bB(l),bB(u),n),0),(pu.test(u)||pu.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=li(e.rotate||0,r.rotate||0,n))}function _B(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const vve=NQ(0,.5,fX),yve=NQ(.5,.95,zl);function NQ(t,e,r){return n=>n<t?0:n>e?1:r(q1(t,e,n))}function EB(t,e){t.min=e.min,t.max=e.max}function ac(t,e){EB(t.x,e.x),EB(t.y,e.y)}function TB(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function SB(t,e,r,n,i){return t-=e,t=Z_(t,1/r,n),i!==void 0&&(t=Z_(t,1/i,n)),t}function xve(t,e=0,r=1,n=.5,i,s=t,a=t){if(pu.test(e)&&(e=parseFloat(e),e=li(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=li(s.min,s.max,n);t===s&&(o-=e),t.min=SB(t.min,e,r,o,i),t.max=SB(t.max,e,r,o,i)}function kB(t,e,[r,n,i],s,a){xve(t,e[r],e[n],e[i],e.scale,s,a)}const bve=["x","scaleX","originX"],wve=["y","scaleY","originY"];function AB(t,e,r,n){kB(t.x,e,bve,r?r.x:void 0,n?n.x:void 0),kB(t.y,e,wve,r?r.y:void 0,n?n.y:void 0)}function CB(t){return t.translate===0&&t.scale===1}function IQ(t){return CB(t.x)&&CB(t.y)}function NB(t,e){return t.min===e.min&&t.max===e.max}function _ve(t,e){return NB(t.x,e.x)&&NB(t.y,e.y)}function IB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function OQ(t,e){return IB(t.x,e.x)&&IB(t.y,e.y)}function OB(t){return $a(t.x)/$a(t.y)}function RB(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class Eve{constructor(){this.members=[]}add(e){eR(this.members,e),e.scheduleRender()}remove(e){if(tR(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function Tve(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:m,rotateY:g,skewX:v,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),m&&(n+=`rotateX(${m}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),x&&(n+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const GC=["","X","Y","Z"],Sve=1e3;let kve=0;function KC(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function RQ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=vQ(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ti,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&RQ(n)}function PQ({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=kve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(Nve),this.nodes.forEach(Pve),this.nodes.forEach(jve),this.nodes.forEach(Ive)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new fve)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new iR),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=GX(a)&&!ype(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,m=0;const g=()=>this.root.updateBlockedByResize=!1;ti.read(()=>{m=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==m&&(m=v,this.root.updateBlockedByResize=!0,d&&d(),d=mve(g,250),N_.hasAnimatedSinceResize&&(N_.hasAnimatedSinceResize=!1,this.nodes.forEach(DB)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:m,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||Bve,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),_=!this.targetLayout||!OQ(this.targetLayout,v),k=!m&&g;if(this.options.layoutRoot||this.resumeFrom||k||m&&(_||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...gR(x,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,k)}else m||DB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),of(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(Dve),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&RQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const m=this.path[d];m.shouldResetTransform=!0,m.updateScroll("snapshot"),m.options.layoutRoot&&m.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(PB);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(jB);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(Rve),this.nodes.forEach(Ave),this.nodes.forEach(Cve)):this.nodes.forEach(jB),this.clearAllSnapshots();const o=go.now();ra.delta=Sd(0,1e3/60,o-ra.timestamp),ra.timestamp=o,ra.isProcessing=!0,MC.update.process(ra),MC.preRender.process(ra),MC.render.process(ra),ra.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,yR.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(Ove),this.sharedNodes.forEach(Mve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ti.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ti.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!$a(this.snapshot.measuredBox.x)&&!$a(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=ms(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!IQ(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||v0(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),Vve(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return ms();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(Uve))){const{scroll:d}=this.root;d&&(Jp(o.x,d.offset.x),Jp(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=ms();if(ac(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:m,options:g}=d;d!==this.root&&m&&g.layoutScroll&&(m.wasRoot&&ac(o,a),Jp(o.x,m.offset.x),Jp(o.y,m.offset.y))}return o}applyTransform(a,o=!1){const l=ms();ac(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Zp(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),v0(d.latestValues)&&Zp(l,d.latestValues)}return v0(this.latestValues)&&Zp(l,this.latestValues),l}removeTransform(a){const o=ms();ac(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!v0(u.latestValues))continue;i6(u.latestValues)&&u.updateSnapshot();const d=ms(),m=u.measurePageBox();ac(d,m),AB(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return v0(this.latestValues)&&AB(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ra.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:m}=this.options;if(!this.layout||!(d||m))return;this.resolvedRelativeTargetAt=ra.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=ms(),this.targetWithTransforms=ms()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Yge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):ac(this.target,this.layout.layoutBox),dQ(this.target,this.targetDelta)):ac(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||i6(this.parent.latestValues)||uQ(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ms(),this.relativeTargetOrigin=ms(),eE(this.relativeTargetOrigin,o,l),ac(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ra.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;ac(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,g=this.treeScale.y;oge(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=ms());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(TB(this.prevProjectionDelta.x,this.projectionDelta.x),TB(this.prevProjectionDelta.y,this.projectionDelta.y)),v1(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==g||!RB(this.projectionDelta.x,this.prevProjectionDelta.x)||!RB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=eg(),this.projectionDelta=eg(),this.projectionDeltaWithTransform=eg()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},m=eg();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=ms(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,w=this.getStack(),_=!w||w.members.length<=1,k=!!(b&&!_&&this.options.crossfade===!0&&!this.path.some(Fve));this.animationProgress=0;let A;this.mixTargetDelta=R=>{const P=R/1e3;MB(m.x,a.x,P),MB(m.y,a.y,P),this.setTargetDelta(m),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(eE(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),Lve(this.relativeTarget,this.relativeTargetOrigin,g,P),A&&_ve(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=ms()),ac(A,this.relativeTarget)),b&&(this.animationValues=d,gve(d,u,this.latestValues,P,k,_)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(of(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ti.update(()=>{N_.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=Rg(0)),this.currentAnimation=dve(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(Sve),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&jQ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||ms();const m=$a(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+m;const g=$a(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}ac(o,l),Zp(o,d),v1(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new Eve),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&KC("z",a,u,this.animationValues);for(let d=0;d<GC.length;d++)KC(`rotate${GC[d]}`,a,u,this.animationValues),KC(`skew${GC[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=C_(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=C_(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!v0(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let m=Tve(this.projectionDeltaWithTransform,this.treeScale,d);l&&(m=l(d,m)),a.transform=m;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in n6){if(d[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:_}=n6[x],k=m==="none"?d[x]:b(d[x],u);if(w){const A=w.length;for(let R=0;R<A;R++)a[w[R]]=k}else _?this.options.visualElement.renderState.vars[x]=k:a[x]=k}this.options.layoutId&&(a.pointerEvents=u===this?C_(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(PB),this.root.sharedNodes.clear()}}}function Ave(t){t.updateLayout()}function Cve(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?Rl(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],v=$a(g);g.min=n[m].min,g.max=g.min+v}):jQ(s,e.layoutBox,n)&&Rl(m=>{const g=a?e.measuredBox[m]:e.layoutBox[m],v=$a(n[m]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[m].max=t.relativeTarget[m].min+v)});const o=eg();v1(o,n,e.layoutBox);const l=eg();a?v1(l,t.applyTransform(i,!0),e.measuredBox):v1(l,n,e.layoutBox);const u=!IQ(o);let d=!1;if(!t.resumeFrom){const m=t.getClosestProjectingParent();if(m&&!m.resumeFrom){const{snapshot:g,layout:v}=m;if(g&&v){const x=ms();eE(x,e.layoutBox,g.layoutBox);const b=ms();eE(b,n,v.layoutBox),OQ(x,b)||(d=!0),m.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=m)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function Nve(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function Ive(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function Ove(t){t.clearSnapshot()}function PB(t){t.clearMeasurements()}function jB(t){t.isLayoutDirty=!1}function Rve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function DB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function Pve(t){t.resolveTargetDelta()}function jve(t){t.calcProjection()}function Dve(t){t.resetSkewAndRotation()}function Mve(t){t.removeLeadSnapshot()}function MB(t,e,r){t.translate=li(e.translate,0,r),t.scale=li(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function LB(t,e,r,n){t.min=li(e.min,r.min,n),t.max=li(e.max,r.max,n)}function Lve(t,e,r,n){LB(t.x,e.x,r.x,n),LB(t.y,e.y,r.y,n)}function Fve(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const Bve={duration:.45,ease:[.4,0,.1,1]},FB=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),BB=FB("applewebkit/")&&!FB("chrome/")?Math.round:zl;function VB(t){t.min=BB(t.min),t.max=BB(t.max)}function Vve(t){VB(t.x),VB(t.y)}function jQ(t,e,r){return t==="position"||t==="preserve-aspect"&&!Kge(OB(e),OB(r),.2)}function Uve(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const zve=PQ({attachResizeListener:(t,e)=>Y1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),YC={current:void 0},DQ=PQ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!YC.current){const t=new zve({});t.mount(window),t.setOptions({layoutScroll:!0}),YC.current=t}return YC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),$ve={pan:{Feature:cve},drag:{Feature:lve,ProjectionNode:DQ,MeasureLayout:AQ}};function UB(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ti.postRender(()=>s(e,ib(e)))}class Hve extends If{mount(){const{current:e}=this.node;e&&(this.unmount=fpe(e,(r,n)=>(UB(this.node,n,"Start"),i=>UB(this.node,i,"End"))))}unmount(){}}class qve extends If{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=tb(Y1(this.node.current,"focus",()=>this.onFocus()),Y1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function zB(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ti.postRender(()=>s(e,ib(e)))}class Wve extends If{mount(){const{current:e}=this.node;e&&(this.unmount=vpe(e,(r,n)=>(zB(this.node,n,"Start"),(i,{success:s})=>zB(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const d6=new WeakMap,XC=new WeakMap,Gve=t=>{const e=d6.get(t.target);e&&e(t)},Kve=t=>{t.forEach(Gve)};function Yve({root:t,...e}){const r=t||document;XC.has(r)||XC.set(r,{});const n=XC.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Kve,{root:t,...e})),n[i]}function Xve(t,e,r){const n=Yve(e);return d6.set(t,r),n.observe(t),()=>{d6.delete(t),n.unobserve(t)}}const Qve={some:0,all:1};class Jve extends If{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Qve[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:m}=this.node.getProps(),g=u?d:m;g&&g(l)};return Xve(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Zve(e,r))&&this.startObserver()}unmount(){}}function Zve({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const eye={inView:{Feature:Jve},tap:{Feature:Wve},focus:{Feature:qve},hover:{Feature:Hve}},tye={layout:{ProjectionNode:DQ,MeasureLayout:AQ}},rye={...zge,...eye,...$ve,...tye},jg=ige(rye,vge);function nye(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const iye=t=>{switch(t){case"success":return oye;case"info":return cye;case"warning":return lye;case"error":return uye;default:return null}},sye=Array(12).fill(0),aye=({visible:t,className:e})=>Ne.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ne.createElement("div",{className:"sonner-spinner"},sye.map((r,n)=>Ne.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),oye=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),lye=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),cye=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),uye=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ne.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),dye=Ne.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ne.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ne.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),hye=()=>{const[t,e]=Ne.useState(document.hidden);return Ne.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let h6=1;class fye{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:h6++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,a;const o=i.then(async u=>{if(a=["resolve",u],Ne.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(pye(u)&&!u.ok){s=!1;const m=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,x=typeof m=="object"&&!Ne.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:g,...x})}else if(u instanceof Error){s=!1;const m=typeof r.error=="function"?await r.error(u):r.error,g=typeof r.description=="function"?await r.description(u):r.description,x=typeof m=="object"&&!Ne.isValidElement(m)?m:{message:m};this.create({id:n,type:"error",description:g,...x})}else if(r.success!==void 0){s=!1;const m=typeof r.success=="function"?await r.success(u):r.success,g=typeof r.description=="function"?await r.description(u):r.description,x=typeof m=="object"&&!Ne.isValidElement(m)?m:{message:m};this.create({id:n,type:"success",description:g,...x})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;const d=typeof r.error=="function"?await r.error(u):r.error,m=typeof r.description=="function"?await r.description(u):r.description,v=typeof d=="object"&&!Ne.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:m,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>o.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||h6++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const uo=new fye,mye=(t,e)=>{const r=(e==null?void 0:e.id)||h6++;return uo.addToast({title:t,...e,id:r}),r},pye=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",gye=mye,vye=()=>uo.toasts,yye=()=>uo.getActiveToasts(),Gr=Object.assign(gye,{success:uo.success,info:uo.info,warning:uo.warning,error:uo.error,custom:uo.custom,message:uo.message,promise:uo.promise,dismiss:uo.dismiss,loading:uo.loading},{getHistory:vye,getToasts:yye});nye("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function T2(t){return t.label!==void 0}const xye=3,bye="24px",wye="16px",$B=4e3,_ye=356,Eye=14,Tye=45,Sye=200;function tu(...t){return t.filter(Boolean).join(" ")}function kye(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const Aye=t=>{var e,r,n,i,s,a,o,l,u;const{invert:d,toast:m,unstyled:g,interacting:v,setHeights:x,visibleToasts:b,heights:w,index:_,toasts:k,expanded:A,removeToast:R,defaultRichColors:P,closeButton:j,style:S,cancelButtonStyle:I,actionButtonStyle:O,className:D="",descriptionClassName:M="",duration:F,position:U,gap:le,expandByDefault:de,classNames:Z,icons:J,closeButtonAriaLabel:he="Close toast"}=t,[ee,ve]=Ne.useState(null),[H,B]=Ne.useState(null),[q,W]=Ne.useState(!1),[Y,ue]=Ne.useState(!1),[pe,ce]=Ne.useState(!1),[ie,ye]=Ne.useState(!1),[Ve,G]=Ne.useState(!1),[tt,me]=Ne.useState(0),[He,Ke]=Ne.useState(0),Ie=Ne.useRef(m.duration||F||$B),et=Ne.useRef(null),ht=Ne.useRef(null),_t=_===0,Rr=_+1<=b,Pr=m.type,$r=m.dismissible!==!1,Wt=m.className||"",Ar=m.descriptionClassName||"",An=Ne.useMemo(()=>w.findIndex(Ct=>Ct.toastId===m.id)||0,[w,m.id]),pi=Ne.useMemo(()=>{var Ct;return(Ct=m.closeButton)!=null?Ct:j},[m.closeButton,j]),be=Ne.useMemo(()=>m.duration||F||$B,[m.duration,F]),Qe=Ne.useRef(0),nt=Ne.useRef(0),jt=Ne.useRef(0),Gt=Ne.useRef(null),[rr,wr]=U.split("-"),Ui=Ne.useMemo(()=>w.reduce((Ct,_r,jn)=>jn>=An?Ct:Ct+_r.height,0),[w,An]),rn=hye(),Ql=m.invert||d,da=Pr==="loading";nt.current=Ne.useMemo(()=>An*le+Ui,[An,Ui]),Ne.useEffect(()=>{Ie.current=be},[be]),Ne.useEffect(()=>{W(!0)},[]),Ne.useEffect(()=>{const Ct=ht.current;if(Ct){const _r=Ct.getBoundingClientRect().height;return Ke(_r),x(jn=>[{toastId:m.id,height:_r,position:m.position},...jn]),()=>x(jn=>jn.filter(si=>si.toastId!==m.id))}},[x,m.id]),Ne.useLayoutEffect(()=>{if(!q)return;const Ct=ht.current,_r=Ct.style.height;Ct.style.height="auto";const jn=Ct.getBoundingClientRect().height;Ct.style.height=_r,Ke(jn),x(si=>si.find(sn=>sn.toastId===m.id)?si.map(sn=>sn.toastId===m.id?{...sn,height:jn}:sn):[{toastId:m.id,height:jn,position:m.position},...si])},[q,m.title,m.description,x,m.id,m.jsx,m.action,m.cancel]);const us=Ne.useCallback(()=>{ue(!0),me(nt.current),x(Ct=>Ct.filter(_r=>_r.toastId!==m.id)),setTimeout(()=>{R(m)},Sye)},[m,R,x,nt]);Ne.useEffect(()=>{if(m.promise&&Pr==="loading"||m.duration===1/0||m.type==="loading")return;let Ct;return A||v||rn?(()=>{if(jt.current<Qe.current){const si=new Date().getTime()-Qe.current;Ie.current=Ie.current-si}jt.current=new Date().getTime()})():(()=>{Ie.current!==1/0&&(Qe.current=new Date().getTime(),Ct=setTimeout(()=>{m.onAutoClose==null||m.onAutoClose.call(m,m),us()},Ie.current))})(),()=>clearTimeout(Ct)},[A,v,m,Pr,rn,us]),Ne.useEffect(()=>{m.delete&&(us(),m.onDismiss==null||m.onDismiss.call(m,m))},[us,m.delete]);function gi(){var Ct;if(J!=null&&J.loading){var _r;return Ne.createElement("div",{className:tu(Z==null?void 0:Z.loader,m==null||(_r=m.classNames)==null?void 0:_r.loader,"sonner-loader"),"data-visible":Pr==="loading"},J.loading)}return Ne.createElement(aye,{className:tu(Z==null?void 0:Z.loader,m==null||(Ct=m.classNames)==null?void 0:Ct.loader),visible:Pr==="loading"})}const Co=m.icon||(J==null?void 0:J[Pr])||iye(Pr);var nn,zi;return Ne.createElement("li",{tabIndex:0,ref:ht,className:tu(D,Wt,Z==null?void 0:Z.toast,m==null||(e=m.classNames)==null?void 0:e.toast,Z==null?void 0:Z.default,Z==null?void 0:Z[Pr],m==null||(r=m.classNames)==null?void 0:r[Pr]),"data-sonner-toast":"","data-rich-colors":(nn=m.richColors)!=null?nn:P,"data-styled":!(m.jsx||m.unstyled||g),"data-mounted":q,"data-promise":!!m.promise,"data-swiped":Ve,"data-removed":Y,"data-visible":Rr,"data-y-position":rr,"data-x-position":wr,"data-index":_,"data-front":_t,"data-swiping":pe,"data-dismissible":$r,"data-type":Pr,"data-invert":Ql,"data-swipe-out":ie,"data-swipe-direction":H,"data-expanded":!!(A||de&&q),"data-testid":m.testId,style:{"--index":_,"--toasts-before":_,"--z-index":k.length-_,"--offset":`${Y?tt:nt.current}px`,"--initial-height":de?"auto":`${He}px`,...S,...m.style},onDragEnd:()=>{ce(!1),ve(null),Gt.current=null},onPointerDown:Ct=>{Ct.button!==2&&(da||!$r||(et.current=new Date,me(nt.current),Ct.target.setPointerCapture(Ct.pointerId),Ct.target.tagName!=="BUTTON"&&(ce(!0),Gt.current={x:Ct.clientX,y:Ct.clientY})))},onPointerUp:()=>{var Ct,_r,jn;if(ie||!$r)return;Gt.current=null;const si=Number(((Ct=ht.current)==null?void 0:Ct.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ai=Number(((_r=ht.current)==null?void 0:_r.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),sn=new Date().getTime()-((jn=et.current)==null?void 0:jn.getTime()),$i=ee==="x"?si:ai,ks=Math.abs($i)/sn;if(Math.abs($i)>=Tye||ks>.11){me(nt.current),m.onDismiss==null||m.onDismiss.call(m,m),B(ee==="x"?si>0?"right":"left":ai>0?"down":"up"),us(),ye(!0);return}else{var an,Ci;(an=ht.current)==null||an.style.setProperty("--swipe-amount-x","0px"),(Ci=ht.current)==null||Ci.style.setProperty("--swipe-amount-y","0px")}G(!1),ce(!1),ve(null)},onPointerMove:Ct=>{var _r,jn,si;if(!Gt.current||!$r||((_r=window.getSelection())==null?void 0:_r.toString().length)>0)return;const sn=Ct.clientY-Gt.current.y,$i=Ct.clientX-Gt.current.x;var ks;const an=(ks=t.swipeDirections)!=null?ks:kye(U);!ee&&(Math.abs($i)>1||Math.abs(sn)>1)&&ve(Math.abs($i)>Math.abs(sn)?"x":"y");let Ci={x:0,y:0};const Ks=vi=>1/(1.5+Math.abs(vi)/20);if(ee==="y"){if(an.includes("top")||an.includes("bottom"))if(an.includes("top")&&sn<0||an.includes("bottom")&&sn>0)Ci.y=sn;else{const vi=sn*Ks(sn);Ci.y=Math.abs(vi)<Math.abs(sn)?vi:sn}}else if(ee==="x"&&(an.includes("left")||an.includes("right")))if(an.includes("left")&&$i<0||an.includes("right")&&$i>0)Ci.x=$i;else{const vi=$i*Ks($i);Ci.x=Math.abs(vi)<Math.abs($i)?vi:$i}(Math.abs(Ci.x)>0||Math.abs(Ci.y)>0)&&G(!0),(jn=ht.current)==null||jn.style.setProperty("--swipe-amount-x",`${Ci.x}px`),(si=ht.current)==null||si.style.setProperty("--swipe-amount-y",`${Ci.y}px`)}},pi&&!m.jsx&&Pr!=="loading"?Ne.createElement("button",{"aria-label":he,"data-disabled":da,"data-close-button":!0,onClick:da||!$r?()=>{}:()=>{us(),m.onDismiss==null||m.onDismiss.call(m,m)},className:tu(Z==null?void 0:Z.closeButton,m==null||(n=m.classNames)==null?void 0:n.closeButton)},(zi=J==null?void 0:J.close)!=null?zi:dye):null,(Pr||m.icon||m.promise)&&m.icon!==null&&((J==null?void 0:J[Pr])!==null||m.icon)?Ne.createElement("div",{"data-icon":"",className:tu(Z==null?void 0:Z.icon,m==null||(i=m.classNames)==null?void 0:i.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||gi():null,m.type!=="loading"?Co:null):null,Ne.createElement("div",{"data-content":"",className:tu(Z==null?void 0:Z.content,m==null||(s=m.classNames)==null?void 0:s.content)},Ne.createElement("div",{"data-title":"",className:tu(Z==null?void 0:Z.title,m==null||(a=m.classNames)==null?void 0:a.title)},m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title),m.description?Ne.createElement("div",{"data-description":"",className:tu(M,Ar,Z==null?void 0:Z.description,m==null||(o=m.classNames)==null?void 0:o.description)},typeof m.description=="function"?m.description():m.description):null),Ne.isValidElement(m.cancel)?m.cancel:m.cancel&&T2(m.cancel)?Ne.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||I,onClick:Ct=>{T2(m.cancel)&&$r&&(m.cancel.onClick==null||m.cancel.onClick.call(m.cancel,Ct),us())},className:tu(Z==null?void 0:Z.cancelButton,m==null||(l=m.classNames)==null?void 0:l.cancelButton)},m.cancel.label):null,Ne.isValidElement(m.action)?m.action:m.action&&T2(m.action)?Ne.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||O,onClick:Ct=>{T2(m.action)&&(m.action.onClick==null||m.action.onClick.call(m.action,Ct),!Ct.defaultPrevented&&us())},className:tu(Z==null?void 0:Z.actionButton,m==null||(u=m.classNames)==null?void 0:u.actionButton)},m.action.label):null)};function HB(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Cye(t,e){const r={};return[t,e].forEach((n,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?wye:bye;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}const qB=Ne.forwardRef(function(e,r){const{id:n,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:m,theme:g="light",richColors:v,duration:x,style:b,visibleToasts:w=xye,toastOptions:_,dir:k=HB(),gap:A=Eye,icons:R,containerAriaLabel:P="Notifications"}=e,[j,S]=Ne.useState([]),I=Ne.useMemo(()=>n?j.filter(q=>q.toasterId===n):j.filter(q=>!q.toasterId),[j,n]),O=Ne.useMemo(()=>Array.from(new Set([s].concat(I.filter(q=>q.position).map(q=>q.position)))),[I,s]),[D,M]=Ne.useState([]),[F,U]=Ne.useState(!1),[le,de]=Ne.useState(!1),[Z,J]=Ne.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=Ne.useRef(null),ee=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ve=Ne.useRef(null),H=Ne.useRef(!1),B=Ne.useCallback(q=>{S(W=>{var Y;return(Y=W.find(ue=>ue.id===q.id))!=null&&Y.delete||uo.dismiss(q.id),W.filter(({id:ue})=>ue!==q.id)})},[]);return Ne.useEffect(()=>uo.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{S(W=>W.map(Y=>Y.id===q.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{UY.flushSync(()=>{S(W=>{const Y=W.findIndex(ue=>ue.id===q.id);return Y!==-1?[...W.slice(0,Y),{...W[Y],...q},...W.slice(Y+1)]:[q,...W]})})})}),[j]),Ne.useEffect(()=>{if(g!=="system"){J(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?J("dark"):J("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:W})=>{J(W?"dark":"light")})}catch{q.addListener(({matches:Y})=>{try{J(Y?"dark":"light")}catch(ue){console.error(ue)}})}},[g]),Ne.useEffect(()=>{j.length<=1&&U(!1)},[j]),Ne.useEffect(()=>{const q=W=>{var Y;if(a.every(ce=>W[ce]||W.code===ce)){var pe;U(!0),(pe=he.current)==null||pe.focus()}W.code==="Escape"&&(document.activeElement===he.current||(Y=he.current)!=null&&Y.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[a]),Ne.useEffect(()=>{if(he.current)return()=>{ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null,H.current=!1)}},[he.current]),Ne.createElement("section",{ref:r,"aria-label":`${P} ${ee}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},O.map((q,W)=>{var Y;const[ue,pe]=q.split("-");return I.length?Ne.createElement("ol",{key:q,dir:k==="auto"?HB():k,tabIndex:-1,ref:he,className:u,"data-sonner-toaster":!0,"data-sonner-theme":Z,"data-y-position":ue,"data-x-position":pe,style:{"--front-toast-height":`${((Y=D[0])==null?void 0:Y.height)||0}px`,"--width":`${_ye}px`,"--gap":`${A}px`,...b,...Cye(d,m)},onBlur:ce=>{H.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(H.current=!1,ve.current&&(ve.current.focus({preventScroll:!0}),ve.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||H.current||(H.current=!0,ve.current=ce.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{le||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||de(!0)},onPointerUp:()=>de(!1)},I.filter(ce=>!ce.position&&W===0||ce.position===q).map((ce,ie)=>{var ye,Ve;return Ne.createElement(Aye,{key:ce.id,icons:R,index:ie,toast:ce,defaultRichColors:v,duration:(ye=_==null?void 0:_.duration)!=null?ye:x,className:_==null?void 0:_.className,descriptionClassName:_==null?void 0:_.descriptionClassName,invert:i,visibleToasts:w,closeButton:(Ve=_==null?void 0:_.closeButton)!=null?Ve:l,interacting:le,position:q,style:_==null?void 0:_.style,unstyled:_==null?void 0:_.unstyled,classNames:_==null?void 0:_.classNames,cancelButtonStyle:_==null?void 0:_.cancelButtonStyle,actionButtonStyle:_==null?void 0:_.actionButtonStyle,closeButtonAriaLabel:_==null?void 0:_.closeButtonAriaLabel,removeToast:B,toasts:I.filter(G=>G.position==ce.position),heights:D.filter(G=>G.position==ce.position),setHeights:M,expandByDefault:o,gap:A,expanded:F,swipeDirections:e.swipeDirections})})):null}))}),Nye=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/8PDn1wfM/favicon.png",alt:"Online Exam Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/gift3.png",alt:"Gift Icon",...t,className:"h-16 w-16 object-contain"}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M3.75 4.5a3 3 0 00-3 3v10.5a3 3 0 003 3h16.5a3 3 0 003-3V7.5a3 3 0 00-3-3H3.75zm.75 4.5a.75.75 0 01.75-.75h13.5a.75.75 0 010 1.5H5.25a.75.75 0 01-.75-.75zm0 3.75a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zm0 2.25a.75.75 0 01.75-.75h3a.75.75 0 010 1.5h-3a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})},Iye=t=>f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.25 4.5a.75.75 0 00-1.5 0v5.337a2.25 2.25 0 00-1.5 2.063v.75a.75.75 0 001.5 0v-.75a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v.75a.75.75 0 001.5 0v-.75a2.25 2.25 0 00-1.5-2.063V6.75z"}),f.jsx("path",{d:"M6.163 15.25a.75.75 0 011.06-1.06l1.25 1.25a.75.75 0 01-1.06 1.06l-1.25-1.25zm10.617 0a.75.75 0 011.06 1.06l-1.25 1.25a.75.75 0 01-1.06 1.06l1.25-1.25z"})]}),IR=t=>{const{theme:e}=ua();return e==="noel"?f.jsx("img",{src:"/assets/img/ball.png",alt:"Check",...t,className:`${t.className} object-contain`}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})},OR=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z",clipRule:"evenodd"})}),cf=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-4.28 9.22a.75.75 0 000 1.06l3 3a.75.75 0 101.06-1.06L10.81 12l1.47-1.47a.75.75 0 10-1.06-1.06l-3 3z",clipRule:"evenodd"})}),Oye=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06-1.06L14.44 12l-2.22-2.22a.75.75 0 011.06-1.06l3 3z",clipRule:"evenodd"})}),Rye=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/J0JwWn5p/Mattahan-Buuf-One-of-those-ugly-pens-you-just-find-lying-around-128.png",alt:"Pen Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/celebrate.png",alt:"Santa",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{d:"M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),f.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM9 12a3 3 0 116 0 3 3 0 01-6 0zm-2.121 4.212a.75.75 0 01.688-1.228 5.253 5.253 0 018.866 0 .75.75 0 11-.688 1.228 3.753 3.753 0 00-7.49 0z",clipRule:"evenodd"})]})},Pye=t=>f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-4.5a.75.75 0 000 1.5h6a.75.75 0 00.75-.75V4.5a.75.75 0 00-1.5 0v2.253a9 9 0 00-15.06 4.042.75.75 0 00.75.75h1.5a.75.75 0 00.75-.75zM19.245 13.941a7.5 7.5 0 01-12.548 3.364l-1.903-1.903h4.5a.75.75 0 000-1.5h-6a.75.75 0 00-.75.75v6a.75.75 0 001.5 0v-2.253a9 9 0 0015.06-4.042.75.75 0 00-.75-.75h-1.5a.75.75 0 00-.75.75z",clipRule:"evenodd"})}),Dg=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/xjbVmxDW/Oxygen-Icons-org-Oxygen-Categories-applications-education-university-256.png",alt:"Graduation Cap Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/home.png",alt:"Home Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm0 3a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z"}),f.jsx("path",{d:"M12 3v2m0 14v2M3 12h2m14 0h-2m-8-8L6.414 5.414m11.172 11.172L16.243 15.12m0-9.706l-1.121 1.121M5.414 17.586L6.536 16.464"})]})},f6=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/66GxZjxN/school-114359.png",alt:"School Bag Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/bell.png",alt:"Bell Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{d:"M12 2a1 1 0 011 1v7.683a4.502 4.502 0 012.722 2.054 3 3 0 01-1.33 3.963 3.003 3.003 0 01-4.783-3.963A4.502 4.502 0 0111 10.683V3a1 1 0 011-1zm-3.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm7 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}),f.jsx("path",{d:"M12 22a8.956 8.956 0 01-6-2.583V18h12v1.417A8.956 8.956 0 0112 22z"})]})},jye=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/h47RmyWN/Mattahan-Buuf-They-reply-technosorcery-128.png",alt:"Wrench Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/gift4.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.981A10.503 10.503 0 0112 21a10.5 10.5 0 01-10.5-10.5c0-4.368 2.667-8.162 6.43-9.742a.75.75 0 01.819.162z",clipRule:"evenodd"}),f.jsx("path",{d:"M12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z"})]})},Dye=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/zvWm1BFk/book-512x512-35977.png",alt:"Book Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/hat.png",alt:"Hat Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{d:"M12 2L3 8v2h18V8l-9-6zm-1.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm3 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}),f.jsx("path",{d:"M4 14v6h16v-6H4zm6 2h4v2h-4v-2z"})]})},WB=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/2yvpf67d/Mattahan-Buuf-A-Proper-Journal-Icon-128.png",alt:"Journal Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/gift5.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{fillRule:"evenodd",d:"M12 2a10 10 0 100 20 10 10 0 000-20zM4 12a8 8 0 1116 0 8 8 0 01-16 0z",clipRule:"evenodd"}),f.jsx("path",{d:"M16.95 7.05l-1.414 1.414-2.122-2.122 1.414-1.414 2.122 2.122zm-9.9 9.9l1.414-1.414 2.122 2.122-1.414 1.414-2.122-2.122zm9.9 0l-1.414-1.414-2.122 2.122 1.414 1.414 2.122-2.122zm-9.9-9.9l1.414 1.414-2.122 2.122L5.636 9.172l2.122-2.122z"})]})},GB=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/2yvpf67d/Mattahan-Buuf-A-Proper-Journal-Icon-128.png",alt:"Journal Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/star-gold.png",alt:"Star Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{fillRule:"evenodd",d:"M8.25 2.25A.75.75 0 019 3v.257a3.75 3.75 0 013 0V3a.75.75 0 011.5 0v.257a3.75 3.75 0 013 0V3a.75.75 0 01.75.75h-.008v.016c.361.32.622.754.74 1.232A23.953 23.953 0 0112 6c-2.305 0-4.52-.42-6.502-1.195a2.5 2.5 0 01.74-1.232H6a.75.75 0 01.75-.75h1.5zm-2.784 4.542a25.474 25.474 0 0013.068 0 .75.75 0 01.443.923 23.92 23.92 0 01-13.954 0 .75.75 0 01.443-.923zM8.25 10.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zm3.75 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zm3.75 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}),f.jsx("path",{d:"M4.145 9.421a.75.75 0 01.558-.923 25.483 25.483 0 0114.594 0 .75.75 0 01.558.923l-.36.99a25.01 25.01 0 01-14.832 0l-.36-.99z"}),f.jsx("path",{fillRule:"evenodd",d:"M3 15.75A2.25 2.25 0 015.25 13.5h13.5A2.25 2.25 0 0121 15.75v3A2.25 2.25 0 0118.75 21H5.25A2.25 2.25 0 013 18.75v-3z",clipRule:"evenodd"})]})},MQ=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/xjbVmxDW/Oxygen-Icons-org-Oxygen-Categories-applications-education-university-256.png",alt:"Graduation Cap Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/star-gold.png",alt:"Gold Star Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{fillRule:"evenodd",d:"M11.25 4.5A.75.75 0 0112 5.25v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0111.25 4.5zM12.75 6a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0V6zM11.25 7.5A.75.75 0 0112 8.25v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0111.25 7.5zM12.75 9a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0V9z",clipRule:"evenodd"}),f.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM6.262 6.072a8.25 8.25 0 1011.476 11.476A8.25 8.25 0 006.262 6.072zM12 18.75a.75.75 0 01-.75-.75V15a.75.75 0 011.5 0v3a.75.75 0 01-.75.75z",clipRule:"evenodd"}),f.jsx("path",{d:"M14.25 12a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})]})},RR=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/FFJXSWXv/study-learning-knowledge-education-book-notebook-icon-256768.png",alt:"Book and Glasses Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/gift1.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):f.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[f.jsx("path",{d:"M11.25 4.533A9.708 9.708 0 006 3.75c-1.052 0-2.062.18-3 .512V17.25a8.987 8.987 0 013.75-.82V9.75a.75.75 0 011.5 0v7.5a.75.75 0 01-1.5 0V15a6.726 6.726 0 00-3-.585V18.75C3.393 18.932 3.69 19.1 4 19.29c2.023.784 4.18 1.093 6.364 1.294a.75.75 0 00.872-.725V4.534z"}),f.jsx("path",{d:"M12.75 4.533V19.86a.75.75 0 00.872.725 49.33 49.33 0 006.364-1.294c.31-.19.607-.358.914-.54V5.25c-1.084-.308-2.18-.46-3.25-.46-1.637 0-3.235.32-4.75.922V4.534z"})]})},Mye=t=>{const{theme:e}=ua();return e==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/kG8rd4vv/Limpa-Curriculum-Vitae-Education-256.png",alt:"Blackboard Icon",...t}):e==="noel"?f.jsx("img",{src:"/assets/img/gift2.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:f.jsx("path",{fillRule:"evenodd",d:"M2.25 6a3 3 0 013-3h13.5a3 3 0 013 3v12a3 3 0 01-3-3H5.25a3 3 0 01-3-3V6zm3.75 3a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H7.5a.75.75 0 01-.75-.75zM7.5 12a.75.75 0 000 1.5h6a.75.75 0 000-1.5h-6z",clipRule:"evenodd"})})},Lye=[{name:"light",label:"Sng",color:"bg-white"},{name:"dark",label:"Ti",color:"bg-slate-900"},{name:"noel",label:"Ging Sinh",color:"bg-[#8B0000]"},{name:"modern",label:"Hin i",color:"bg-indigo-600"},{name:"classic",label:"C in",color:"bg-[#6F6049]"},{name:"sunrise",label:"Bnh Minh",color:"bg-orange-500"},{name:"tri-an",label:"Tri n",color:"bg-red-400"}],Fye=()=>{const[t,e]=C.useState(!1),{theme:r,setTheme:n}=ua(),i=s=>{n(s),e(!1)};return f.jsxs("div",{className:"relative",children:[t&&f.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-40 rounded-lg border border-border bg-card p-2 shadow-2xl flex flex-col gap-1 animate-slide-in-right",children:Lye.map(s=>f.jsxs("button",{onClick:()=>i(s.name),className:`w-full text-left px-3 py-2 text-sm font-semibold rounded-md flex items-center gap-3 transition-colors ${r===s.name?"bg-primary/20 text-primary":"text-card-foreground hover:bg-secondary"}`,children:[f.jsx("span",{className:`w-4 h-4 rounded-full ${s.color} border border-white/20`}),s.label]},s.name))}),f.jsx("button",{onClick:()=>e(!t),className:"flex h-10 w-10 items-center justify-center rounded-lg bg-secondary text-secondary-foreground shadow-sm transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Change theme",children:f.jsx(Iye,{className:"h-6 w-6"})})]})},Bye=()=>{const t=["gift1.png","bell.png","star-gold.png","ball.png","gift2.png","gift3.png","gift4.png","gift5.png"],{theme:e}=ua();return e!=="noel"?null:f.jsxs(f.Fragment,{children:[f.jsx("style",{dangerouslySetInnerHTML:{__html:`
        /* === PHN 5: HIU NG TUYT & QU RI === */
        .snowflakes {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        
        .snowflake {
            color: #fff;
            font-size: 1.2em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 3px rgba(255,255,255,0.8); /* Tuyt pht sng nh */
            position: fixed;
            top: -10%;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite, infinite;
            animation-play-state: running, running;
        }

        .snowflake-img img {
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
            width: 30px; 
            height: auto;
            opacity: 0.9;
        }

        @keyframes snowflakes-fall {
            0% { top: -10%; }
            100% { top: 100%; }
        }
        @keyframes snowflakes-shake {
            0% { transform: translateX(0px) rotate(0deg); }
            50% { transform: translateX(80px) rotate(180deg); }
            100% { transform: translateX(0px) rotate(360deg); }
        }

        /* Cu hnh ri ngu nhin */
        .snowflake:nth-of-type(1) { left: 1%; animation-duration: 12s, 4s; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(2) { left: 5%; animation-duration: 15s, 6s; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(3) { left: 10%; animation-duration: 10s, 3s; animation-delay: 2s, 0.5s; }
        .snowflake:nth-of-type(4) { left: 15%; animation-duration: 18s, 5s; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(5) { left: 20%; animation-duration: 11s, 4s; animation-delay: 2s, 2s; }
        .snowflake:nth-of-type(6) { left: 25%; animation-duration: 14s, 7s; animation-delay: 6s, 3s; }
        .snowflake:nth-of-type(7) { left: 30%; animation-duration: 16s, 5s; animation-delay: 3s, 2s; }
        .snowflake:nth-of-type(8) { left: 35%; animation-duration: 13s, 4s; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(9) { left: 40%; animation-duration: 17s, 6s; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(10) { left: 45%; animation-duration: 9s, 3s; animation-delay: 5s, 1.5s; }
        .snowflake:nth-of-type(11) { left: 50%; animation-duration: 14s, 5s; animation-delay: 2s, 3s; }
        .snowflake:nth-of-type(12) { left: 55%; animation-duration: 11s, 4s; animation-delay: 4s, 1s; }
        .snowflake:nth-of-type(13) { left: 60%; animation-duration: 19s, 7s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(14) { left: 65%; animation-duration: 12s, 3s; animation-delay: 3s, 0s; }
        .snowflake:nth-of-type(15) { left: 70%; animation-duration: 15s, 6s; animation-delay: 5s, 4s; }
        .snowflake:nth-of-type(16) { left: 75%; animation-duration: 10s, 4s; animation-delay: 0s, 2s; }
        .snowflake:nth-of-type(17) { left: 80%; animation-duration: 16s, 5s; animation-delay: 2s, 1s; }
        .snowflake:nth-of-type(18) { left: 85%; animation-duration: 13s, 4s; animation-delay: 4s, 3s; }
        .snowflake:nth-of-type(19) { left: 90%; animation-duration: 18s, 6s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(20) { left: 95%; animation-duration: 11s, 3s; animation-delay: 3s, 0s; }
        
        .snowflake:nth-of-type(21) { left: 2%; animation-duration: 13s, 5s; animation-delay: 5s, 1s; }
        .snowflake:nth-of-type(22) { left: 8%; animation-duration: 10s, 3s; animation-delay: 2s, 4s; }
        .snowflake:nth-of-type(23) { left: 12%; animation-duration: 16s, 6s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(24) { left: 18%; animation-duration: 12s, 4s; animation-delay: 6s, 0s; }
        .snowflake:nth-of-type(25) { left: 22%; animation-duration: 14s, 5s; animation-delay: 0s, 3s; }
        .snowflake:nth-of-type(26) { left: 28%; animation-duration: 11s, 3s; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(27) { left: 32%; animation-duration: 19s, 7s; animation-delay: 2s, 1s; }
        .snowflake:nth-of-type(28) { left: 38%; animation-duration: 15s, 6s; animation-delay: 5s, 5s; }
        .snowflake:nth-of-type(29) { left: 42%; animation-duration: 12s, 4s; animation-delay: 1s, 0s; }
        .snowflake:nth-of-type(30) { left: 48%; animation-duration: 17s, 5s; animation-delay: 3s, 2s; }
        .snowflake:nth-of-type(31) { left: 52%; animation-duration: 9s, 3s; animation-delay: 0s, 3s; }
        .snowflake:nth-of-type(32) { left: 58%; animation-duration: 14s, 6s; animation-delay: 4s, 1s; }
        .snowflake:nth-of-type(33) { left: 62%; animation-duration: 11s, 4s; animation-delay: 2s, 4s; }
        .snowflake:nth-of-type(34) { left: 68%; animation-duration: 16s, 5s; animation-delay: 6s, 0s; }
        .snowflake:nth-of-type(35) { left: 72%; animation-duration: 13s, 3s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(36) { left: 78%; animation-duration: 18s, 7s; animation-delay: 5s, 1s; }
        .snowflake:nth-of-type(37) { left: 82%; animation-duration: 10s, 4s; animation-delay: 2s, 3s; }
        .snowflake:nth-of-type(38) { left: 88%; animation-duration: 15s, 6s; animation-delay: 4s, 0s; }
        .snowflake:nth-of-type(39) { left: 92%; animation-duration: 12s, 5s; animation-delay: 0s, 2s; }
        .snowflake:nth-of-type(40) { left: 98%; animation-duration: 17s, 4s; animation-delay: 3s, 5s; }

        .snowflake:nth-child(odd) { animation-direction: normal; }
        .snowflake:nth-child(even) { animation-direction: alternate; }

        @media (max-width: 768px) {
            .snowflake { font-size: 1em; }
            .snowflake-img img { width: 20px; }
        }
      `}}),f.jsxs("div",{className:"snowflakes","aria-hidden":"true",children:[Array.from({length:100}).map((r,n)=>f.jsxs("div",{className:"snowflake",children:[["","",""][n%3]," "]},`snow-${n}`)),Array.from({length:8}).map((r,n)=>{const i=t[n%t.length];return f.jsx("div",{className:"snowflake snowflake-img",children:f.jsx("img",{src:`/assets/img/${i}`,alt:"",style:{width:"25px",height:"auto"}})},`img-${n}`)})]})]})},Vye=()=>{};var KB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LQ={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const at=function(t,e){if(!t)throw wv(e)},wv=function(t){return new Error("Firebase Database ("+LQ.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FQ=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},Uye=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},PR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,m=(s&3)<<4|o>>4;let g=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(g=64)),n.push(r[d],r[m],r[g],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(FQ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Uye(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const m=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||m==null)throw new zye;const g=s<<2|o>>4;if(n.push(g),u!==64){const v=o<<4&240|u>>2;if(n.push(v),m!==64){const x=u<<6&192|m;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class zye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const BQ=function(t){const e=FQ(t);return PR.encodeByteArray(e,!0)},tE=function(t){return BQ(t).replace(/\./g,"")},rE=function(t){try{return PR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $ye(t){return VQ(void 0,t)}function VQ(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Hye(r)||(t[r]=VQ(t[r],e[r]));return t}function Hye(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wye=()=>qye().__FIREBASE_DEFAULTS__,Gye=()=>{if(typeof process>"u"||typeof KB>"u")return;const t=KB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Kye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&rE(t[1]);return e&&JSON.parse(e)},_S=()=>{try{return Vye()||Wye()||Gye()||Kye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},UQ=t=>{var e,r;return(r=(e=_S())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},jR=t=>{const e=UQ(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},zQ=()=>{var t;return(t=_S())==null?void 0:t.config},$Q=t=>{var e;return(e=_S())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uu=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function ES(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[tE(JSON.stringify(r)),tE(JSON.stringify(a)),""].join(".")}const y1={};function Yye(){const t={prod:[],emulator:[]};for(const e of Object.keys(y1))y1[e]?t.emulator.push(e):t.prod.push(e);return t}function Xye(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let YB=!1;function TS(t,e){if(typeof window>"u"||typeof document>"u"||!Vd(window.location.host)||y1[t]===e||y1[t]||YB)return;y1[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=Yye().prod.length>0;function a(){const g=document.getElementById(n);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{YB=!0,a()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function m(){const g=Xye(n),v=r("text"),x=document.getElementById(v)||document.createElement("span"),b=r("learnmore"),w=document.getElementById(b)||document.createElement("a"),_=r("preprendIcon"),k=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;o(A),d(w,b);const R=u();l(k,_),A.append(k,x,w,R),document.body.appendChild(A)}s?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",m):m()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function MR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Pa())}function Qye(){var e;const t=(e=_S())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Jye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Zye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function HQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function e1e(){const t=Pa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function t1e(){return LQ.NODE_ADMIN===!0}function r1e(){return!Qye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function n1e(){try{return typeof indexedDB=="object"}catch{return!1}}function i1e(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const s1e="FirebaseError";class Iu extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=s1e,Object.setPrototypeOf(this,Iu.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,sb.prototype.create)}}class sb{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?a1e(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new Iu(i,o,n)}}function a1e(t,e){return t.replace(o1e,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const o1e=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X1(t){return JSON.parse(t)}function Fs(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ=function(t){let e={},r={},n={},i="";try{const s=t.split(".");e=X1(rE(s[0])||""),r=X1(rE(s[1])||""),i=s[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:i}},l1e=function(t){const e=qQ(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},c1e=function(t){const e=qQ(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ou(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Mg(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function nE(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function iE(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n}function Eu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(XB(s)&&XB(a)){if(!Eu(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function XB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _v(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function n1(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function i1(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class u1e{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let m=0;m<16;m++)n[m]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let m=0;m<16;m++)n[m]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let m=16;m<80;m++){const g=n[m-3]^n[m-8]^n[m-14]^n[m-16];n[m]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let m=0;m<80;m++){m<40?m<20?(u=o^s&(a^o),d=1518500249):(u=s^a^o,d=1859775393):m<60?(u=s&a|o&(s|a),d=2400959708):(u=s^a^o,d=3395469782);const g=(i<<5|i>>>27)+u+l+d+n[m]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<r;){if(a===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<r;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<r;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[n]=this.chain_[i]>>s&255,++n;return e}}function d1e(t,e){const r=new h1e(t,e);return r.subscribe.bind(r)}class h1e{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");f1e(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=QC),i.error===void 0&&(i.error=QC),i.complete===void 0&&(i.complete=QC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function f1e(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function QC(){}function Lg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1e=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const s=i-55296;n++,at(n<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(n)-56320;i=65536+(s<<10)+a}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},SS=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(t){return t&&t._delegate?t._delegate:t}class Ad{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p1e=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new uu;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(v1e(e))try{this.getOrInitializeService({instanceIdentifier:y0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=y0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=y0){return this.instances.has(e)}getOptions(e=y0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:g1e(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=y0){return this.component?this.component.multipleInstances?e:y0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function g1e(t){return t===y0?void 0:t}function v1e(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y1e{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new p1e(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var pr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(pr||(pr={}));const x1e={debug:pr.DEBUG,verbose:pr.VERBOSE,info:pr.INFO,warn:pr.WARN,error:pr.ERROR,silent:pr.SILENT},b1e=pr.INFO,w1e={[pr.DEBUG]:"log",[pr.VERBOSE]:"log",[pr.INFO]:"info",[pr.WARN]:"warn",[pr.ERROR]:"error"},_1e=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=w1e[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class kS{constructor(e){this.name=e,this._logLevel=b1e,this._logHandler=_1e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in pr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?x1e[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,pr.DEBUG,...e),this._logHandler(this,pr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,pr.VERBOSE,...e),this._logHandler(this,pr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,pr.INFO,...e),this._logHandler(this,pr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,pr.WARN,...e),this._logHandler(this,pr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,pr.ERROR,...e),this._logHandler(this,pr.ERROR,...e)}}const E1e=(t,e)=>e.some(r=>t instanceof r);let QB,JB;function T1e(){return QB||(QB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function S1e(){return JB||(JB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const WQ=new WeakMap,m6=new WeakMap,GQ=new WeakMap,JC=new WeakMap,LR=new WeakMap;function k1e(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Xh(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&WQ.set(r,t)}).catch(()=>{}),LR.set(e,t),e}function A1e(t){if(m6.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});m6.set(t,e)}let p6={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return m6.get(t);if(e==="objectStoreNames")return t.objectStoreNames||GQ.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Xh(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function C1e(t){p6=t(p6)}function N1e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(ZC(this),e,...r);return GQ.set(n,e.sort?e.sort():[e]),Xh(n)}:S1e().includes(t)?function(...e){return t.apply(ZC(this),e),Xh(WQ.get(this))}:function(...e){return Xh(t.apply(ZC(this),e))}}function I1e(t){return typeof t=="function"?N1e(t):(t instanceof IDBTransaction&&A1e(t),E1e(t,T1e())?new Proxy(t,p6):t)}function Xh(t){if(t instanceof IDBRequest)return k1e(t);if(JC.has(t))return JC.get(t);const e=I1e(t);return e!==t&&(JC.set(t,e),LR.set(e,t)),e}const ZC=t=>LR.get(t);function O1e(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Xh(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Xh(a.result),l.oldVersion,l.newVersion,Xh(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const R1e=["get","getKey","getAll","getAllKeys","count"],P1e=["put","add","delete","clear"],e3=new Map;function ZB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(e3.get(e))return e3.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=P1e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||R1e.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return e3.set(e,s),s}C1e(t=>({...t,get:(e,r,n)=>ZB(e,r)||t.get(e,r,n),has:(e,r)=>!!ZB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(D1e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function D1e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const g6="@firebase/app",eV="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cd=new kS("@firebase/app"),M1e="@firebase/app-compat",L1e="@firebase/analytics-compat",F1e="@firebase/analytics",B1e="@firebase/app-check-compat",V1e="@firebase/app-check",U1e="@firebase/auth",z1e="@firebase/auth-compat",$1e="@firebase/database",H1e="@firebase/data-connect",q1e="@firebase/database-compat",W1e="@firebase/functions",G1e="@firebase/functions-compat",K1e="@firebase/installations",Y1e="@firebase/installations-compat",X1e="@firebase/messaging",Q1e="@firebase/messaging-compat",J1e="@firebase/performance",Z1e="@firebase/performance-compat",exe="@firebase/remote-config",txe="@firebase/remote-config-compat",rxe="@firebase/storage",nxe="@firebase/storage-compat",ixe="@firebase/firestore",sxe="@firebase/ai",axe="@firebase/firestore-compat",oxe="firebase",lxe="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v6="[DEFAULT]",cxe={[g6]:"fire-core",[M1e]:"fire-core-compat",[F1e]:"fire-analytics",[L1e]:"fire-analytics-compat",[V1e]:"fire-app-check",[B1e]:"fire-app-check-compat",[U1e]:"fire-auth",[z1e]:"fire-auth-compat",[$1e]:"fire-rtdb",[H1e]:"fire-data-connect",[q1e]:"fire-rtdb-compat",[W1e]:"fire-fn",[G1e]:"fire-fn-compat",[K1e]:"fire-iid",[Y1e]:"fire-iid-compat",[X1e]:"fire-fcm",[Q1e]:"fire-fcm-compat",[J1e]:"fire-perf",[Z1e]:"fire-perf-compat",[exe]:"fire-rc",[txe]:"fire-rc-compat",[rxe]:"fire-gcs",[nxe]:"fire-gcs-compat",[ixe]:"fire-fst",[axe]:"fire-fst-compat",[sxe]:"fire-vertex","fire-js":"fire-js",[oxe]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q1=new Map,uxe=new Map,y6=new Map;function tV(t,e){try{t.container.addComponent(e)}catch(r){Cd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function uf(t){const e=t.name;if(y6.has(e))return Cd.debug(`There were multiple attempts to register component ${e}.`),!1;y6.set(e,t);for(const r of Q1.values())tV(r,t);for(const r of uxe.values())tV(r,t);return!0}function ab(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function mo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dxe={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Qh=new sb("app","Firebase",dxe);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hxe{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Ad("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Qh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Of=lxe;function AS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:v6,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Qh.create("bad-app-name",{appName:String(i)});if(r||(r=zQ()),!r)throw Qh.create("no-options");const s=Q1.get(i);if(s){if(Eu(r,s.options)&&Eu(n,s.config))return s;throw Qh.create("duplicate-app",{appName:i})}const a=new y1e(i);for(const l of y6.values())a.addComponent(l);const o=new hxe(r,n,a);return Q1.set(i,o),o}function Am(t=v6){const e=Q1.get(t);if(!e&&t===v6&&zQ())return AS();if(!e)throw Qh.create("no-app",{appName:t});return e}function fxe(){return Array.from(Q1.values())}function $l(t,e,r){let n=cxe[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Cd.warn(a.join(" "));return}uf(new Ad(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mxe="firebase-heartbeat-database",pxe=1,J1="firebase-heartbeat-store";let t3=null;function KQ(){return t3||(t3=O1e(mxe,pxe,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(J1)}catch(r){console.warn(r)}}}}).catch(t=>{throw Qh.create("idb-open",{originalErrorMessage:t.message})})),t3}async function gxe(t){try{const r=(await KQ()).transaction(J1),n=await r.objectStore(J1).get(YQ(t));return await r.done,n}catch(e){if(e instanceof Iu)Cd.warn(e.message);else{const r=Qh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Cd.warn(r.message)}}}async function rV(t,e){try{const n=(await KQ()).transaction(J1,"readwrite");await n.objectStore(J1).put(e,YQ(t)),await n.done}catch(r){if(r instanceof Iu)Cd.warn(r.message);else{const n=Qh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});Cd.warn(n.message)}}}function YQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vxe=1024,yxe=30;class xxe{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new wxe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=nV();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>yxe){const a=_xe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){Cd.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=nV(),{heartbeatsToSend:n,unsentEntries:i}=bxe(this._heartbeatsCache.heartbeats),s=tE(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return Cd.warn(r),""}}}function nV(){return new Date().toISOString().substring(0,10)}function bxe(t,e=vxe){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),iV(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),iV(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class wxe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return n1e()?i1e().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await gxe(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return rV(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function iV(t){return tE(JSON.stringify({version:2,heartbeats:t})).length}function _xe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Exe(t){uf(new Ad("platform-logger",e=>new j1e(e),"PRIVATE")),uf(new Ad("heartbeat",e=>new xxe(e),"PRIVATE")),$l(g6,eV,t),$l(g6,eV,"esm2020"),$l("fire-js","")}Exe("");var sV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Jh,XQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function O(){}O.prototype=I.prototype,S.F=I.prototype,S.prototype=new O,S.prototype.constructor=S,S.D=function(D,M,F){for(var U=Array(arguments.length-2),le=2;le<arguments.length;le++)U[le-2]=arguments[le];return I.prototype[M].apply(D,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,O){O||(O=0);const D=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)D[M]=I.charCodeAt(O++)|I.charCodeAt(O++)<<8|I.charCodeAt(O++)<<16|I.charCodeAt(O++)<<24;else for(M=0;M<16;++M)D[M]=I[O++]|I[O++]<<8|I[O++]<<16|I[O++]<<24;I=S.g[0],O=S.g[1],M=S.g[2];let F=S.g[3],U;U=I+(F^O&(M^F))+D[0]+3614090360&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[1]+3905402710&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[2]+606105819&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[3]+3250441966&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(F^O&(M^F))+D[4]+4118548399&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[5]+1200080426&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[6]+2821735955&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[7]+4249261313&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(F^O&(M^F))+D[8]+1770035416&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[9]+2336552879&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[10]+4294925233&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[11]+2304563134&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(F^O&(M^F))+D[12]+1804603682&4294967295,I=O+(U<<7&4294967295|U>>>25),U=F+(M^I&(O^M))+D[13]+4254626195&4294967295,F=I+(U<<12&4294967295|U>>>20),U=M+(O^F&(I^O))+D[14]+2792965006&4294967295,M=F+(U<<17&4294967295|U>>>15),U=O+(I^M&(F^I))+D[15]+1236535329&4294967295,O=M+(U<<22&4294967295|U>>>10),U=I+(M^F&(O^M))+D[1]+4129170786&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[6]+3225465664&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[11]+643717713&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[0]+3921069994&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(M^F&(O^M))+D[5]+3593408605&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[10]+38016083&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[15]+3634488961&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[4]+3889429448&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(M^F&(O^M))+D[9]+568446438&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[14]+3275163606&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[3]+4107603335&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[8]+1163531501&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(M^F&(O^M))+D[13]+2850285829&4294967295,I=O+(U<<5&4294967295|U>>>27),U=F+(O^M&(I^O))+D[2]+4243563512&4294967295,F=I+(U<<9&4294967295|U>>>23),U=M+(I^O&(F^I))+D[7]+1735328473&4294967295,M=F+(U<<14&4294967295|U>>>18),U=O+(F^I&(M^F))+D[12]+2368359562&4294967295,O=M+(U<<20&4294967295|U>>>12),U=I+(O^M^F)+D[5]+4294588738&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[8]+2272392833&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[11]+1839030562&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[14]+4259657740&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(O^M^F)+D[1]+2763975236&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[4]+1272893353&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[7]+4139469664&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[10]+3200236656&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(O^M^F)+D[13]+681279174&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[0]+3936430074&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[3]+3572445317&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[6]+76029189&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(O^M^F)+D[9]+3654602809&4294967295,I=O+(U<<4&4294967295|U>>>28),U=F+(I^O^M)+D[12]+3873151461&4294967295,F=I+(U<<11&4294967295|U>>>21),U=M+(F^I^O)+D[15]+530742520&4294967295,M=F+(U<<16&4294967295|U>>>16),U=O+(M^F^I)+D[2]+3299628645&4294967295,O=M+(U<<23&4294967295|U>>>9),U=I+(M^(O|~F))+D[0]+4096336452&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[7]+1126891415&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[14]+2878612391&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[5]+4237533241&4294967295,O=M+(U<<21&4294967295|U>>>11),U=I+(M^(O|~F))+D[12]+1700485571&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[3]+2399980690&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[10]+4293915773&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[1]+2240044497&4294967295,O=M+(U<<21&4294967295|U>>>11),U=I+(M^(O|~F))+D[8]+1873313359&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[15]+4264355552&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[6]+2734768916&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[13]+1309151649&4294967295,O=M+(U<<21&4294967295|U>>>11),U=I+(M^(O|~F))+D[4]+4149444226&4294967295,I=O+(U<<6&4294967295|U>>>26),U=F+(O^(I|~M))+D[11]+3174756917&4294967295,F=I+(U<<10&4294967295|U>>>22),U=M+(I^(F|~O))+D[2]+718787259&4294967295,M=F+(U<<15&4294967295|U>>>17),U=O+(F^(M|~I))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+F&4294967295}n.prototype.v=function(S,I){I===void 0&&(I=S.length);const O=I-this.blockSize,D=this.C;let M=this.h,F=0;for(;F<I;){if(M==0)for(;F<=O;)i(this,S,F),F+=this.blockSize;if(typeof S=="string"){for(;F<I;)if(D[M++]=S.charCodeAt(F++),M==this.blockSize){i(this,D),M=0;break}}else for(;F<I;)if(D[M++]=S[F++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=I},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var O=S.length-8;O<S.length;++O)S[O]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,O=0;O<4;++O)for(let D=0;D<32;D+=8)S[I++]=this.g[O]>>>D&255;return S};function s(S,I){var O=o;return Object.prototype.hasOwnProperty.call(O,S)?O[S]:O[S]=I(S)}function a(S,I){this.h=I;const O=[];let D=!0;for(let M=S.length-1;M>=0;M--){const F=S[M]|0;D&&F==I||(O[M]=F,D=!1)}this.g=O}var o={};function l(S){return-128<=S&&S<128?s(S,function(I){return new a([I|0],I<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return m;if(S<0)return w(u(-S));const I=[];let O=1;for(let D=0;S>=O;D++)I[D]=S/O|0,O*=4294967296;return new a(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return w(d(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const O=u(Math.pow(I,8));let D=m;for(let F=0;F<S.length;F+=8){var M=Math.min(8,S.length-F);const U=parseInt(S.substring(F,F+M),I);M<8?(M=u(Math.pow(I,M)),D=D.j(M).add(u(U))):(D=D.j(O),D=D.add(u(U)))}return D}var m=l(0),g=l(1),v=l(16777216);t=a.prototype,t.m=function(){if(b(this))return-w(this).m();let S=0,I=1;for(let O=0;O<this.g.length;O++){const D=this.i(O);S+=(D>=0?D:4294967296+D)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(b(this))return"-"+w(this).toString(S);const I=u(Math.pow(S,6));var O=this;let D="";for(;;){const M=R(O,I).g;O=_(O,M.j(I));let F=((O.g.length>0?O.g[0]:O.h)>>>0).toString(S);if(O=M,x(O))return F+D;for(;F.length<6;)F="0"+F;D=F+D}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=_(this,S),b(S)?-1:x(S)?0:1};function w(S){const I=S.g.length,O=[];for(let D=0;D<I;D++)O[D]=~S.g[D];return new a(O,~S.h).add(g)}t.abs=function(){return b(this)?w(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),O=[];let D=0;for(let M=0;M<=I;M++){let F=D+(this.i(M)&65535)+(S.i(M)&65535),U=(F>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);D=U>>>16,F&=65535,U&=65535,O[M]=U<<16|F}return new a(O,O[O.length-1]&-2147483648?-1:0)};function _(S,I){return S.add(w(I))}t.j=function(S){if(x(this)||x(S))return m;if(b(this))return b(S)?w(this).j(w(S)):w(w(this).j(S));if(b(S))return w(this.j(w(S)));if(this.l(v)<0&&S.l(v)<0)return u(this.m()*S.m());const I=this.g.length+S.g.length,O=[];for(var D=0;D<2*I;D++)O[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<S.g.length;M++){const F=this.i(D)>>>16,U=this.i(D)&65535,le=S.i(M)>>>16,de=S.i(M)&65535;O[2*D+2*M]+=U*de,k(O,2*D+2*M),O[2*D+2*M+1]+=F*de,k(O,2*D+2*M+1),O[2*D+2*M+1]+=U*le,k(O,2*D+2*M+1),O[2*D+2*M+2]+=F*le,k(O,2*D+2*M+2)}for(S=0;S<I;S++)O[S]=O[2*S+1]<<16|O[2*S];for(S=I;S<2*I;S++)O[S]=0;return new a(O,0)};function k(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function A(S,I){this.g=S,this.h=I}function R(S,I){if(x(I))throw Error("division by zero");if(x(S))return new A(m,m);if(b(S))return I=R(w(S),I),new A(w(I.g),w(I.h));if(b(I))return I=R(S,w(I)),new A(w(I.g),I.h);if(S.g.length>30){if(b(S)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var O=g,D=I;D.l(S)<=0;)O=P(O),D=P(D);var M=j(O,1),F=j(D,1);for(D=j(D,2),O=j(O,2);!x(D);){var U=F.add(D);U.l(S)<=0&&(M=M.add(O),F=U),D=j(D,1),O=j(O,1)}return I=_(S,M.j(I)),new A(M,I)}for(M=m;S.l(I)>=0;){for(O=Math.max(1,Math.floor(S.m()/I.m())),D=Math.ceil(Math.log(O)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),F=u(O),U=F.j(I);b(U)||U.l(S)>0;)O-=D,F=u(O),U=F.j(I);x(F)&&(F=g),M=M.add(F),S=_(S,U)}return new A(M,S)}t.B=function(S){return R(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),O=[];for(let D=0;D<I;D++)O[D]=this.i(D)&S.i(D);return new a(O,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),O=[];for(let D=0;D<I;D++)O[D]=this.i(D)|S.i(D);return new a(O,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),O=[];for(let D=0;D<I;D++)O[D]=this.i(D)^S.i(D);return new a(O,this.h^S.h)};function P(S){const I=S.g.length+1,O=[];for(let D=0;D<I;D++)O[D]=S.i(D)<<1|S.i(D-1)>>>31;return new a(O,S.h)}function j(S,I){const O=I>>5;I%=32;const D=S.g.length-O,M=[];for(let F=0;F<D;F++)M[F]=I>0?S.i(F+O)>>>I|S.i(F+O+1)<<32-I:S.i(F+O);return new a(M,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,XQ=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Jh=a}).apply(typeof sV<"u"?sV:typeof self<"u"?self:typeof window<"u"?window:{});var S2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var QQ,s1,JQ,I_,x6,ZQ,eJ,tJ;(function(){var t,e=Object.defineProperty;function r(E){E=[typeof globalThis=="object"&&globalThis,E,typeof window=="object"&&window,typeof self=="object"&&self,typeof S2=="object"&&S2];for(var L=0;L<E.length;++L){var z=E[L];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function i(E,L){if(L)e:{var z=n;E=E.split(".");for(var re=0;re<E.length-1;re++){var Te=E[re];if(!(Te in z))break e;z=z[Te]}E=E[E.length-1],re=z[E],L=L(re),L!=re&&L!=null&&e(z,E,{configurable:!0,writable:!0,value:L})}}i("Symbol.dispose",function(E){return E||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(E){return E||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(E){return E||function(L){var z=[],re;for(re in L)Object.prototype.hasOwnProperty.call(L,re)&&z.push([re,L[re]]);return z}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(E){var L=typeof E;return L=="object"&&E!=null||L=="function"}function l(E,L,z){return E.call.apply(E.bind,arguments)}function u(E,L,z){return u=l,u.apply(null,arguments)}function d(E,L){var z=Array.prototype.slice.call(arguments,1);return function(){var re=z.slice();return re.push.apply(re,arguments),E.apply(this,re)}}function m(E,L){function z(){}z.prototype=L.prototype,E.Z=L.prototype,E.prototype=new z,E.prototype.constructor=E,E.Ob=function(re,Te,Pe){for(var ut=Array(arguments.length-2),Zt=2;Zt<arguments.length;Zt++)ut[Zt-2]=arguments[Zt];return L.prototype[Te].apply(re,ut)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?E=>E&&AsyncContext.Snapshot.wrap(E):E=>E;function v(E){const L=E.length;if(L>0){const z=Array(L);for(let re=0;re<L;re++)z[re]=E[re];return z}return[]}function x(E,L){for(let re=1;re<arguments.length;re++){const Te=arguments[re];var z=typeof Te;if(z=z!="object"?z:Te?Array.isArray(Te)?"array":z:"null",z=="array"||z=="object"&&typeof Te.length=="number"){z=E.length||0;const Pe=Te.length||0;E.length=z+Pe;for(let ut=0;ut<Pe;ut++)E[z+ut]=Te[ut]}else E.push(Te)}}class b{constructor(L,z){this.i=L,this.j=z,this.h=0,this.g=null}get(){let L;return this.h>0?(this.h--,L=this.g,this.g=L.next,L.next=null):L=this.i(),L}}function w(E){a.setTimeout(()=>{throw E},0)}function _(){var E=S;let L=null;return E.g&&(L=E.g,E.g=E.g.next,E.g||(E.h=null),L.next=null),L}class k{constructor(){this.h=this.g=null}add(L,z){const re=A.get();re.set(L,z),this.h?this.h.next=re:this.g=re,this.h=re}}var A=new b(()=>new R,E=>E.reset());class R{constructor(){this.next=this.g=this.h=null}set(L,z){this.h=L,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let P,j=!1,S=new k,I=()=>{const E=Promise.resolve(void 0);P=()=>{E.then(O)}};function O(){for(var E;E=_();){try{E.h.call(E.g)}catch(z){w(z)}var L=A;L.j(E),L.h<100&&(L.h++,E.next=L.g,L.g=E)}j=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(E,L){this.type=E,this.g=this.target=L,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var F=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var E=!1,L=Object.defineProperty({},"passive",{get:function(){E=!0}});try{const z=()=>{};a.addEventListener("test",z,L),a.removeEventListener("test",z,L)}catch{}return E})();function U(E){return/^[\s\xa0]*$/.test(E)}function le(E,L){M.call(this,E?E.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,E&&this.init(E,L)}m(le,M),le.prototype.init=function(E,L){const z=this.type=E.type,re=E.changedTouches&&E.changedTouches.length?E.changedTouches[0]:null;this.target=E.target||E.srcElement,this.g=L,L=E.relatedTarget,L||(z=="mouseover"?L=E.fromElement:z=="mouseout"&&(L=E.toElement)),this.relatedTarget=L,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0),this.button=E.button,this.key=E.key||"",this.ctrlKey=E.ctrlKey,this.altKey=E.altKey,this.shiftKey=E.shiftKey,this.metaKey=E.metaKey,this.pointerId=E.pointerId||0,this.pointerType=E.pointerType,this.state=E.state,this.i=E,E.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const E=this.i;E.preventDefault?E.preventDefault():E.returnValue=!1};var de="closure_listenable_"+(Math.random()*1e6|0),Z=0;function J(E,L,z,re,Te){this.listener=E,this.proxy=null,this.src=L,this.type=z,this.capture=!!re,this.ha=Te,this.key=++Z,this.da=this.fa=!1}function he(E){E.da=!0,E.listener=null,E.proxy=null,E.src=null,E.ha=null}function ee(E,L,z){for(const re in E)L.call(z,E[re],re,E)}function ve(E,L){for(const z in E)L.call(void 0,E[z],z,E)}function H(E){const L={};for(const z in E)L[z]=E[z];return L}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(E,L){let z,re;for(let Te=1;Te<arguments.length;Te++){re=arguments[Te];for(z in re)E[z]=re[z];for(let Pe=0;Pe<B.length;Pe++)z=B[Pe],Object.prototype.hasOwnProperty.call(re,z)&&(E[z]=re[z])}}function W(E){this.src=E,this.g={},this.h=0}W.prototype.add=function(E,L,z,re,Te){const Pe=E.toString();E=this.g[Pe],E||(E=this.g[Pe]=[],this.h++);const ut=ue(E,L,re,Te);return ut>-1?(L=E[ut],z||(L.fa=!1)):(L=new J(L,this.src,Pe,!!re,Te),L.fa=z,E.push(L)),L};function Y(E,L){const z=L.type;if(z in E.g){var re=E.g[z],Te=Array.prototype.indexOf.call(re,L,void 0),Pe;(Pe=Te>=0)&&Array.prototype.splice.call(re,Te,1),Pe&&(he(L),E.g[z].length==0&&(delete E.g[z],E.h--))}}function ue(E,L,z,re){for(let Te=0;Te<E.length;++Te){const Pe=E[Te];if(!Pe.da&&Pe.listener==L&&Pe.capture==!!z&&Pe.ha==re)return Te}return-1}var pe="closure_lm_"+(Math.random()*1e6|0),ce={};function ie(E,L,z,re,Te){if(Array.isArray(L)){for(let Pe=0;Pe<L.length;Pe++)ie(E,L[Pe],z,re,Te);return null}return z=et(z),E&&E[de]?E.J(L,z,o(re)?!!re.capture:!1,Te):ye(E,L,z,!1,re,Te)}function ye(E,L,z,re,Te,Pe){if(!L)throw Error("Invalid event type");const ut=o(Te)?!!Te.capture:!!Te;let Zt=Ke(E);if(Zt||(E[pe]=Zt=new W(E)),z=Zt.add(L,z,re,ut,Pe),z.proxy)return z;if(re=Ve(),z.proxy=re,re.src=E,re.listener=z,E.addEventListener)F||(Te=ut),Te===void 0&&(Te=!1),E.addEventListener(L.toString(),re,Te);else if(E.attachEvent)E.attachEvent(me(L.toString()),re);else if(E.addListener&&E.removeListener)E.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Ve(){function E(z){return L.call(E.src,E.listener,z)}const L=He;return E}function G(E,L,z,re,Te){if(Array.isArray(L))for(var Pe=0;Pe<L.length;Pe++)G(E,L[Pe],z,re,Te);else re=o(re)?!!re.capture:!!re,z=et(z),E&&E[de]?(E=E.i,Pe=String(L).toString(),Pe in E.g&&(L=E.g[Pe],z=ue(L,z,re,Te),z>-1&&(he(L[z]),Array.prototype.splice.call(L,z,1),L.length==0&&(delete E.g[Pe],E.h--)))):E&&(E=Ke(E))&&(L=E.g[L.toString()],E=-1,L&&(E=ue(L,z,re,Te)),(z=E>-1?L[E]:null)&&tt(z))}function tt(E){if(typeof E!="number"&&E&&!E.da){var L=E.src;if(L&&L[de])Y(L.i,E);else{var z=E.type,re=E.proxy;L.removeEventListener?L.removeEventListener(z,re,E.capture):L.detachEvent?L.detachEvent(me(z),re):L.addListener&&L.removeListener&&L.removeListener(re),(z=Ke(L))?(Y(z,E),z.h==0&&(z.src=null,L[pe]=null)):he(E)}}}function me(E){return E in ce?ce[E]:ce[E]="on"+E}function He(E,L){if(E.da)E=!0;else{L=new le(L,this);const z=E.listener,re=E.ha||E.src;E.fa&&tt(E),E=z.call(re,L)}return E}function Ke(E){return E=E[pe],E instanceof W?E:null}var Ie="__closure_events_fn_"+(Math.random()*1e9>>>0);function et(E){return typeof E=="function"?E:(E[Ie]||(E[Ie]=function(L){return E.handleEvent(L)}),E[Ie])}function ht(){D.call(this),this.i=new W(this),this.M=this,this.G=null}m(ht,D),ht.prototype[de]=!0,ht.prototype.removeEventListener=function(E,L,z,re){G(this,E,L,z,re)};function _t(E,L){var z,re=E.G;if(re)for(z=[];re;re=re.G)z.push(re);if(E=E.M,re=L.type||L,typeof L=="string")L=new M(L,E);else if(L instanceof M)L.target=L.target||E;else{var Te=L;L=new M(re,E),q(L,Te)}Te=!0;let Pe,ut;if(z)for(ut=z.length-1;ut>=0;ut--)Pe=L.g=z[ut],Te=Rr(Pe,re,!0,L)&&Te;if(Pe=L.g=E,Te=Rr(Pe,re,!0,L)&&Te,Te=Rr(Pe,re,!1,L)&&Te,z)for(ut=0;ut<z.length;ut++)Pe=L.g=z[ut],Te=Rr(Pe,re,!1,L)&&Te}ht.prototype.N=function(){if(ht.Z.N.call(this),this.i){var E=this.i;for(const L in E.g){const z=E.g[L];for(let re=0;re<z.length;re++)he(z[re]);delete E.g[L],E.h--}}this.G=null},ht.prototype.J=function(E,L,z,re){return this.i.add(String(E),L,!1,z,re)},ht.prototype.K=function(E,L,z,re){return this.i.add(String(E),L,!0,z,re)};function Rr(E,L,z,re){if(L=E.i.g[String(L)],!L)return!0;L=L.concat();let Te=!0;for(let Pe=0;Pe<L.length;++Pe){const ut=L[Pe];if(ut&&!ut.da&&ut.capture==z){const Zt=ut.listener,Ii=ut.ha||ut.src;ut.fa&&Y(E.i,ut),Te=Zt.call(Ii,re)!==!1&&Te}}return Te&&!re.defaultPrevented}function Pr(E,L){if(typeof E!="function")if(E&&typeof E.handleEvent=="function")E=u(E.handleEvent,E);else throw Error("Invalid listener argument");return Number(L)>2147483647?-1:a.setTimeout(E,L||0)}function $r(E){E.g=Pr(()=>{E.g=null,E.i&&(E.i=!1,$r(E))},E.l);const L=E.h;E.h=null,E.m.apply(null,L)}class Wt extends D{constructor(L,z){super(),this.m=L,this.l=z,this.h=null,this.i=!1,this.g=null}j(L){this.h=arguments,this.g?this.i=!0:$r(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Ar(E){D.call(this),this.h=E,this.g={}}m(Ar,D);var An=[];function pi(E){ee(E.g,function(L,z){this.g.hasOwnProperty(z)&&tt(L)},E),E.g={}}Ar.prototype.N=function(){Ar.Z.N.call(this),pi(this)},Ar.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var be=a.JSON.stringify,Qe=a.JSON.parse,nt=class{stringify(E){return a.JSON.stringify(E,void 0)}parse(E){return a.JSON.parse(E,void 0)}};function jt(){}function Gt(){}var rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function wr(){M.call(this,"d")}m(wr,M);function Ui(){M.call(this,"c")}m(Ui,M);var rn={},Ql=null;function da(){return Ql=Ql||new ht}rn.Ia="serverreachability";function us(E){M.call(this,rn.Ia,E)}m(us,M);function gi(E){const L=da();_t(L,new us(L))}rn.STAT_EVENT="statevent";function Co(E,L){M.call(this,rn.STAT_EVENT,E),this.stat=L}m(Co,M);function nn(E){const L=da();_t(L,new Co(L,E))}rn.Ja="timingevent";function zi(E,L){M.call(this,rn.Ja,E),this.size=L}m(zi,M);function Ct(E,L){if(typeof E!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){E()},L)}function _r(){this.g=!0}_r.prototype.ua=function(){this.g=!1};function jn(E,L,z,re,Te,Pe){E.info(function(){if(E.g)if(Pe){var ut="",Zt=Pe.split("&");for(let qr=0;qr<Zt.length;qr++){var Ii=Zt[qr].split("=");if(Ii.length>1){const Xn=Ii[0];Ii=Ii[1];const pl=Xn.split("_");ut=pl.length>=2&&pl[1]=="type"?ut+(Xn+"="+Ii+"&"):ut+(Xn+"=redacted&")}}}else ut=null;else ut=Pe;return"XMLHTTP REQ ("+re+") [attempt "+Te+"]: "+L+`
`+z+`
`+ut})}function si(E,L,z,re,Te,Pe,ut){E.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Te+"]: "+L+`
`+z+`
`+Pe+" "+ut})}function ai(E,L,z,re){E.info(function(){return"XMLHTTP TEXT ("+L+"): "+$i(E,z)+(re?" "+re:"")})}function sn(E,L){E.info(function(){return"TIMEOUT: "+L})}_r.prototype.info=function(){};function $i(E,L){if(!E.g)return L;if(!L)return null;try{const Pe=JSON.parse(L);if(Pe){for(E=0;E<Pe.length;E++)if(Array.isArray(Pe[E])){var z=Pe[E];if(!(z.length<2)){var re=z[1];if(Array.isArray(re)&&!(re.length<1)){var Te=re[0];if(Te!="noop"&&Te!="stop"&&Te!="close")for(let ut=1;ut<re.length;ut++)re[ut]=""}}}}return be(Pe)}catch{return L}}var ks={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},an={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ci;function Ks(){}m(Ks,jt),Ks.prototype.g=function(){return new XMLHttpRequest},Ci=new Ks;function vi(E){return encodeURIComponent(String(E))}function K(E){var L=1;E=E.split(":");const z=[];for(;L>0&&E.length;)z.push(E.shift()),L--;return E.length&&z.push(E.join(":")),z}function ae(E,L,z,re){this.j=E,this.i=L,this.l=z,this.S=re||1,this.V=new Ar(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new te}function te(){this.i=null,this.g="",this.h=!1}var ne={},se={};function oe(E,L,z){E.M=1,E.A=Mu(yi(L)),E.u=z,E.R=!0,_e(E,null)}function _e(E,L){E.F=Date.now(),Ee(E),E.B=yi(E.A);var z=E.B,re=E.S;Array.isArray(re)||(re=[String(re)]),eh(z.i,"t",re),E.C=0,z=E.j.L,E.h=new te,E.g=fw(E.j,z?L:null,!E.u),E.P>0&&(E.O=new Wt(u(E.Y,E,E.g),E.P)),L=E.V,z=E.g,re=E.ba;var Te="readystatechange";Array.isArray(Te)||(Te&&(An[0]=Te.toString()),Te=An);for(let Pe=0;Pe<Te.length;Pe++){const ut=ie(z,Te[Pe],re||L.handleEvent,!1,L.h||L);if(!ut)break;L.g[ut.key]=ut}L=E.J?H(E.J):{},E.u?(E.v||(E.v="POST"),L["Content-Type"]="application/x-www-form-urlencoded",E.g.ea(E.B,E.v,E.u,L)):(E.v="GET",E.g.ea(E.B,E.v,null,L)),gi(),jn(E.i,E.v,E.B,E.l,E.S,E.u)}ae.prototype.ba=function(E){E=E.target;const L=this.O;L&&io(E)==3?L.j():this.Y(E)},ae.prototype.Y=function(E){try{if(E==this.g)e:{const Zt=io(this.g),Ii=this.g.ya(),qr=this.g.ca();if(!(Zt<3)&&(Zt!=3||this.g&&(this.h.h||this.g.la()||qi(this.g)))){this.K||Zt!=4||Ii==7||(Ii==8||qr<=0?gi(3):gi(2)),Ze(this);var L=this.g.ca();this.X=L;var z=Me(this);if(this.o=L==200,si(this.i,this.v,this.B,this.l,this.S,Zt,L),this.o){if(this.U&&!this.L){t:{if(this.g){var re,Te=this.g;if((re=Te.g?Te.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(re)){var Pe=re;break t}}Pe=null}if(E=Pe)ai(this.i,this.l,E,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,it(this,E);else{this.o=!1,this.m=3,nn(12),We(this),ct(this);break e}}if(this.R){E=!0;let Xn;for(;!this.K&&this.C<z.length;)if(Xn=Se(this,z),Xn==se){Zt==4&&(this.m=4,nn(14),E=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==ne){this.m=4,nn(15),ai(this.i,this.l,z,"[Invalid Chunk]"),E=!1;break}else ai(this.i,this.l,Xn,null),it(this,Xn);if(we(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Zt!=4||z.length!=0||this.h.h||(this.m=1,nn(16),E=!1),this.o=this.o&&E,!E)ai(this.i,this.l,z,"[Invalid Chunked Response]"),We(this),ct(this);else if(z.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),vt(ut),ut.P=!0,nn(11))}}else ai(this.i,this.l,z,null),it(this,z);Zt==4&&We(this),this.o&&!this.K&&(Zt==4?Cn(this.j,this):(this.o=!1,Ee(this)))}else fl(this.g),L==400&&z.indexOf("Unknown SID")>0?(this.m=3,nn(12)):(this.m=0,nn(13)),We(this),ct(this)}}}catch{}finally{}};function Me(E){if(!we(E))return E.g.la();const L=qi(E.g);if(L==="")return"";let z="";const re=L.length,Te=io(E.g)==4;if(!E.h.i){if(typeof TextDecoder>"u")return We(E),ct(E),"";E.h.i=new a.TextDecoder}for(let Pe=0;Pe<re;Pe++)E.h.h=!0,z+=E.h.i.decode(L[Pe],{stream:!(Te&&Pe==re-1)});return L.length=0,E.h.g+=z,E.C=0,E.h.g}function we(E){return E.g?E.v=="GET"&&E.M!=2&&E.j.Aa:!1}function Se(E,L){var z=E.C,re=L.indexOf(`
`,z);return re==-1?se:(z=Number(L.substring(z,re)),isNaN(z)?ne:(re+=1,re+z>L.length?se:(L=L.slice(re,re+z),E.C=re+z,L)))}ae.prototype.cancel=function(){this.K=!0,We(this)};function Ee(E){E.T=Date.now()+E.H,Ye(E,E.H)}function Ye(E,L){if(E.D!=null)throw Error("WatchDog timer not null");E.D=Ct(u(E.aa,E),L)}function Ze(E){E.D&&(a.clearTimeout(E.D),E.D=null)}ae.prototype.aa=function(){this.D=null;const E=Date.now();E-this.T>=0?(sn(this.i,this.B),this.M!=2&&(gi(),nn(17)),We(this),this.m=2,ct(this)):Ye(this,this.T-E)};function ct(E){E.j.I==0||E.K||Cn(E.j,E)}function We(E){Ze(E);var L=E.O;L&&typeof L.dispose=="function"&&L.dispose(),E.O=null,pi(E.V),E.g&&(L=E.g,E.g=null,L.abort(),L.dispose())}function it(E,L){try{var z=E.j;if(z.I!=0&&(z.g==E||ds(z.h,E))){if(!E.L&&ds(z.h,E)&&z.I==3){try{var re=z.Ba.g.parse(L)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Te=re;if(Te[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<E.F)Tr(z),Kc(z);else break e;Je(z),nn(18)}}else z.xa=Te[1],0<z.xa-z.K&&Te[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=Ct(u(z.Va,z),6e3));on(z.h)<=1&&z.ta&&(z.ta=void 0)}else As(z,11)}else if((E.L||z.g==E)&&Tr(z),!U(L))for(Te=z.Ba.g.parse(L),L=0;L<Te.length;L++){let qr=Te[L];const Xn=qr[0];if(!(Xn<=z.K))if(z.K=Xn,qr=qr[1],z.I==2)if(qr[0]=="c"){z.M=qr[1],z.ba=qr[2];const pl=qr[3];pl!=null&&(z.ka=pl,z.j.info("VER="+z.ka));const Xc=qr[4];Xc!=null&&(z.za=Xc,z.j.info("SVER="+z.za));const tc=qr[5];tc!=null&&typeof tc=="number"&&tc>0&&(re=1.5*tc,z.O=re,z.j.info("backChannelRequestTimeoutMs_="+re)),re=z;const rc=E.g;if(rc){const Xf=rc.g?rc.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Xf){var Pe=re.h;Pe.g||Xf.indexOf("spdy")==-1&&Xf.indexOf("quic")==-1&&Xf.indexOf("h2")==-1||(Pe.j=Pe.l,Pe.g=new Set,Pe.h&&(La(Pe,Pe.h),Pe.h=null))}if(re.G){const Zm=rc.g?rc.g.getResponseHeader("X-HTTP-Session-Id"):null;Zm&&(re.wa=Zm,Hr(re.J,re.G,Zm))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-E.F,z.j.info("Handshake RTT: "+z.T+"ms")),re=z;var ut=E;if(re.na=hw(re,re.L?re.ba:null,re.W),ut.L){No(re.h,ut);var Zt=ut,Ii=re.O;Ii&&(Zt.H=Ii),Zt.D&&(Ze(Zt),Ee(Zt)),re.g=ut}else ke(re);z.i.length>0&&Po(z)}else qr[0]!="stop"&&qr[0]!="close"||As(z,7);else z.I==3&&(qr[0]=="stop"||qr[0]=="close"?qr[0]=="stop"?As(z,7):rh(z):qr[0]!="noop"&&z.l&&z.l.qa(qr),z.A=0)}}gi(4)}catch{}}var gt=class{constructor(E,L){this.g=E,this.map=L}};function Nr(E){this.l=E||10,a.PerformanceNavigationTiming?(E=a.performance.getEntriesByType("navigation"),E=E.length>0&&(E[0].nextHopProtocol=="hq"||E[0].nextHopProtocol=="h2")):E=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=E?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Er(E){return E.h?!0:E.g?E.g.size>=E.j:!1}function on(E){return E.h?1:E.g?E.g.size:0}function ds(E,L){return E.h?E.h==L:E.g?E.g.has(L):!1}function La(E,L){E.g?E.g.add(L):E.h=L}function No(E,L){E.h&&E.h==L?E.h=null:E.g&&E.g.has(L)&&E.g.delete(L)}Nr.prototype.cancel=function(){if(this.i=ha(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const E of this.g.values())E.cancel();this.g.clear()}};function ha(E){if(E.h!=null)return E.i.concat(E.h.G);if(E.g!=null&&E.g.size!==0){let L=E.i;for(const z of E.g.values())L=L.concat(z.G);return L}return v(E.i)}var Jl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Yn(E,L){if(E){E=E.split("&");for(let z=0;z<E.length;z++){const re=E[z].indexOf("=");let Te,Pe=null;re>=0?(Te=E[z].substring(0,re),Pe=E[z].substring(re+1)):Te=E[z],L(Te,Pe?decodeURIComponent(Pe.replace(/\+/g," ")):"")}}}function Fa(E){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let L;E instanceof Fa?(this.l=E.l,Hi(this,E.j),this.o=E.o,this.g=E.g,Bc(this,E.u),this.h=E.h,Wf(this,Jm(E.i)),this.m=E.m):E&&(L=String(E).match(Jl))?(this.l=!1,Hi(this,L[1]||"",!0),this.o=eo(L[2]||""),this.g=eo(L[3]||"",!0),Bc(this,L[4]),this.h=eo(L[5]||"",!0),Wf(this,L[6]||"",!0),this.m=eo(L[7]||"")):(this.l=!1,this.i=new zc(null,this.l))}Fa.prototype.toString=function(){const E=[];var L=this.j;L&&E.push(to(L,dl,!0),":");var z=this.g;return(z||L=="file")&&(E.push("//"),(L=this.o)&&E.push(to(L,dl,!0),"@"),E.push(vi(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&E.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&E.push("/"),E.push(to(z,z.charAt(0)=="/"?Gf:Vc,!0))),(z=this.i.toString())&&E.push("?",z),(z=this.m)&&E.push("#",to(z,Xm)),E.join("")},Fa.prototype.resolve=function(E){const L=yi(this);let z=!!E.j;z?Hi(L,E.j):z=!!E.o,z?L.o=E.o:z=!!E.g,z?L.g=E.g:z=E.u!=null;var re=E.h;if(z)Bc(L,E.u);else if(z=!!E.h){if(re.charAt(0)!="/")if(this.g&&!this.h)re="/"+re;else{var Te=L.h.lastIndexOf("/");Te!=-1&&(re=L.h.slice(0,Te+1)+re)}if(Te=re,Te==".."||Te==".")re="";else if(Te.indexOf("./")!=-1||Te.indexOf("/.")!=-1){re=Te.lastIndexOf("/",0)==0,Te=Te.split("/");const Pe=[];for(let ut=0;ut<Te.length;){const Zt=Te[ut++];Zt=="."?re&&ut==Te.length&&Pe.push(""):Zt==".."?((Pe.length>1||Pe.length==1&&Pe[0]!="")&&Pe.pop(),re&&ut==Te.length&&Pe.push("")):(Pe.push(Zt),re=!0)}re=Pe.join("/")}else re=Te}return z?L.h=re:z=E.i.toString()!=="",z?Wf(L,Jm(E.i)):z=!!E.m,z&&(L.m=E.m),L};function yi(E){return new Fa(E)}function Hi(E,L,z){E.j=z?eo(L,!0):L,E.j&&(E.j=E.j.replace(/:$/,""))}function Bc(E,L){if(L){if(L=Number(L),isNaN(L)||L<0)throw Error("Bad port number "+L);E.u=L}else E.u=null}function Wf(E,L,z){L instanceof zc?(E.i=L,Hc(E.i,E.l)):(z||(L=to(L,Uc)),E.i=new zc(L,E.l))}function Hr(E,L,z){E.i.set(L,z)}function Mu(E){return Hr(E,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),E}function eo(E,L){return E?L?decodeURI(E.replace(/%25/g,"%2525")):decodeURIComponent(E):""}function to(E,L,z){return typeof E=="string"?(E=encodeURI(E).replace(L,xi),z&&(E=E.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E):null}function xi(E){return E=E.charCodeAt(0),"%"+(E>>4&15).toString(16)+(E&15).toString(16)}var dl=/[#\/\?@]/g,Vc=/[#\?:]/g,Gf=/[#\?]/g,Uc=/[#\?@]/g,Xm=/#/g;function zc(E,L){this.h=this.g=null,this.i=E||null,this.j=!!L}function fa(E){E.g||(E.g=new Map,E.h=0,E.i&&Yn(E.i,function(L,z){E.add(decodeURIComponent(L.replace(/\+/g," ")),z)}))}t=zc.prototype,t.add=function(E,L){fa(this),this.i=null,E=$c(this,E);let z=this.g.get(E);return z||this.g.set(E,z=[]),z.push(L),this.h+=1,this};function Qm(E,L){fa(E),L=$c(E,L),E.g.has(L)&&(E.i=null,E.h-=E.g.get(L).length,E.g.delete(L))}function Kf(E,L){return fa(E),L=$c(E,L),E.g.has(L)}t.forEach=function(E,L){fa(this),this.g.forEach(function(z,re){z.forEach(function(Te){E.call(L,Te,re,this)},this)},this)};function Zd(E,L){fa(E);let z=[];if(typeof L=="string")Kf(E,L)&&(z=z.concat(E.g.get($c(E,L))));else for(E=Array.from(E.g.values()),L=0;L<E.length;L++)z=z.concat(E[L]);return z}t.set=function(E,L){return fa(this),this.i=null,E=$c(this,E),Kf(this,E)&&(this.h-=this.g.get(E).length),this.g.set(E,[L]),this.h+=1,this},t.get=function(E,L){return E?(E=Zd(this,E),E.length>0?String(E[0]):L):L};function eh(E,L,z){Qm(E,L),z.length>0&&(E.i=null,E.g.set($c(E,L),v(z)),E.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const E=[],L=Array.from(this.g.keys());for(let re=0;re<L.length;re++){var z=L[re];const Te=vi(z);z=Zd(this,z);for(let Pe=0;Pe<z.length;Pe++){let ut=Te;z[Pe]!==""&&(ut+="="+vi(z[Pe])),E.push(ut)}}return this.i=E.join("&")};function Jm(E){const L=new zc;return L.i=E.i,E.g&&(L.g=new Map(E.g),L.h=E.h),L}function $c(E,L){return L=String(L),E.j&&(L=L.toLowerCase()),L}function Hc(E,L){L&&!E.j&&(fa(E),E.i=null,E.g.forEach(function(z,re){const Te=re.toLowerCase();re!=Te&&(Qm(this,re),eh(this,Te,z))},E)),E.j=L}function Io(E,L){const z=new _r;if(a.Image){const re=new Image;re.onload=d(ro,z,"TestLoadImage: loaded",!0,L,re),re.onerror=d(ro,z,"TestLoadImage: error",!1,L,re),re.onabort=d(ro,z,"TestLoadImage: abort",!1,L,re),re.ontimeout=d(ro,z,"TestLoadImage: timeout",!1,L,re),a.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=E}else L(!1)}function th(E,L){const z=new _r,re=new AbortController,Te=setTimeout(()=>{re.abort(),ro(z,"TestPingServer: timeout",!1,L)},1e4);fetch(E,{signal:re.signal}).then(Pe=>{clearTimeout(Te),Pe.ok?ro(z,"TestPingServer: ok",!0,L):ro(z,"TestPingServer: server error",!1,L)}).catch(()=>{clearTimeout(Te),ro(z,"TestPingServer: error",!1,L)})}function ro(E,L,z,re,Te){try{Te&&(Te.onload=null,Te.onerror=null,Te.onabort=null,Te.ontimeout=null),re(z)}catch{}}function qc(){this.g=new nt}function jr(E){this.i=E.Sb||null,this.h=E.ab||!1}m(jr,jt),jr.prototype.g=function(){return new ma(this.i,this.h)};function ma(E,L){ht.call(this),this.H=E,this.o=L,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}m(ma,ht),t=ma.prototype,t.open=function(E,L){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=E,this.D=L,this.readyState=1,Oo(this)},t.send=function(E){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const L={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};E&&(L.body=E),(this.H||a).fetch(new Request(this.D,L)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zl(this)),this.readyState=0},t.Pa=function(E){if(this.g&&(this.l=E,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=E.headers,this.readyState=2,Oo(this)),this.g&&(this.readyState=3,Oo(this),this.g)))if(this.responseType==="arraybuffer")E.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in E){if(this.j=E.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Lu(this)}else E.text().then(this.Oa.bind(this),this.ga.bind(this))};function Lu(E){E.j.read().then(E.Ma.bind(E)).catch(E.ga.bind(E))}t.Ma=function(E){if(this.g){if(this.o&&E.value)this.response.push(E.value);else if(!this.o){var L=E.value?E.value:new Uint8Array(0);(L=this.B.decode(L,{stream:!E.done}))&&(this.response=this.responseText+=L)}E.done?Zl(this):Oo(this),this.readyState==3&&Lu(this)}},t.Oa=function(E){this.g&&(this.response=this.responseText=E,Zl(this))},t.Na=function(E){this.g&&(this.response=E,Zl(this))},t.ga=function(){this.g&&Zl(this)};function Zl(E){E.readyState=4,E.l=null,E.j=null,E.B=null,Oo(E)}t.setRequestHeader=function(E,L){this.A.append(E,L)},t.getResponseHeader=function(E){return this.h&&this.h.get(E.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const E=[],L=this.h.entries();for(var z=L.next();!z.done;)z=z.value,E.push(z[0]+": "+z[1]),z=L.next();return E.join(`\r
`)};function Oo(E){E.onreadystatechange&&E.onreadystatechange.call(E)}Object.defineProperty(ma.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(E){this.m=E?"include":"same-origin"}});function no(E){let L="";return ee(E,function(z,re){L+=re,L+=":",L+=z,L+=`\r
`}),L}function Wc(E,L,z){e:{for(re in z){var re=!1;break e}re=!0}re||(z=no(z),typeof E=="string"?z!=null&&vi(z):Hr(E,L,z))}function Qr(E){ht.call(this),this.headers=new Map,this.L=E||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}m(Qr,ht);var Ro=/^https?$/i,Yf=["POST","PUT"];t=Qr.prototype,t.Fa=function(E){this.H=E},t.ea=function(E,L,z,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+E);L=L?L.toUpperCase():"GET",this.D=E,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ci.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(L,String(E),!0),this.B=!1}catch(Pe){Fu(this,Pe);return}if(E=z||"",z=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Te in re)z.set(Te,re[Te]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Pe of re.keys())z.set(Pe,re.get(Pe));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(z.keys()).find(Pe=>Pe.toLowerCase()=="content-type"),Te=a.FormData&&E instanceof a.FormData,!(Array.prototype.indexOf.call(Yf,L,void 0)>=0)||re||Te||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Pe,ut]of z)this.g.setRequestHeader(Pe,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(E),this.v=!1}catch(Pe){Fu(this,Pe)}};function Fu(E,L){E.h=!1,E.g&&(E.j=!0,E.g.abort(),E.j=!1),E.l=L,E.o=5,Bu(E),hl(E)}function Bu(E){E.A||(E.A=!0,_t(E,"complete"),_t(E,"error"))}t.abort=function(E){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=E||7,_t(this,"complete"),_t(this,"abort"),hl(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hl(this,!0)),Qr.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Gc(this):this.Xa())},t.Xa=function(){Gc(this)};function Gc(E){if(E.h&&typeof s<"u"){if(E.v&&io(E)==4)setTimeout(E.Ca.bind(E),0);else if(_t(E,"readystatechange"),io(E)==4){E.h=!1;try{const Pe=E.ca();e:switch(Pe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var L=!0;break e;default:L=!1}var z;if(!(z=L)){var re;if(re=Pe===0){let ut=String(E.D).match(Jl)[1]||null;!ut&&a.self&&a.self.location&&(ut=a.self.location.protocol.slice(0,-1)),re=!Ro.test(ut?ut.toLowerCase():"")}z=re}if(z)_t(E,"complete"),_t(E,"success");else{E.o=6;try{var Te=io(E)>2?E.g.statusText:""}catch{Te=""}E.l=Te+" ["+E.ca()+"]",Bu(E)}}finally{hl(E)}}}}function hl(E,L){if(E.g){E.m&&(clearTimeout(E.m),E.m=null);const z=E.g;E.g=null,L||_t(E,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function io(E){return E.g?E.g.readyState:0}t.ca=function(){try{return io(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(E){if(this.g){var L=this.g.responseText;return E&&L.indexOf(E)==0&&(L=L.substring(E.length)),Qe(L)}};function qi(E){try{if(!E.g)return null;if("response"in E.g)return E.g.response;switch(E.F){case"":case"text":return E.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in E.g)return E.g.mozResponseArrayBuffer}return null}catch{return null}}function fl(E){const L={};E=(E.g&&io(E)>=2&&E.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<E.length;re++){if(U(E[re]))continue;var z=K(E[re]);const Te=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const Pe=L[Te]||[];L[Te]=Pe,Pe.push(z)}ve(L,function(re){return re.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ml(E,L,z){return z&&z.internalChannelParams&&z.internalChannelParams[E]||L}function ec(E){this.za=0,this.i=[],this.j=new _r,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ml("failFast",!1,E),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ml("baseRetryDelayMs",5e3,E),this.Za=ml("retryDelaySeedMs",1e4,E),this.Ta=ml("forwardChannelMaxRetries",2,E),this.va=ml("forwardChannelRequestTimeoutMs",2e4,E),this.ma=E&&E.xmlHttpFactory||void 0,this.Ua=E&&E.Rb||void 0,this.Aa=E&&E.useFetchStreams||!1,this.O=void 0,this.L=E&&E.supportsCrossDomainXhr||!1,this.M="",this.h=new Nr(E&&E.concurrentRequestLimit),this.Ba=new qc,this.S=E&&E.fastHandshake||!1,this.R=E&&E.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=E&&E.Pb||!1,E&&E.ua&&this.j.ua(),E&&E.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&E&&E.detectBufferingProxy||!1,this.ia=void 0,E&&E.longPollingTimeout&&E.longPollingTimeout>0&&(this.ia=E.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=ec.prototype,t.ka=8,t.I=1,t.connect=function(E,L,z,re){nn(0),this.W=E,this.H=L||{},z&&re!==void 0&&(this.H.OSID=z,this.H.OAID=re),this.F=this.X,this.J=hw(this,null,this.W),Po(this)};function rh(E){if(nh(E),E.I==3){var L=E.V++,z=yi(E.J);if(Hr(z,"SID",E.M),Hr(z,"RID",L),Hr(z,"TYPE","terminate"),Yc(E,z),L=new ae(E,E.j,L),L.M=2,L.A=Mu(yi(z)),z=!1,a.navigator&&a.navigator.sendBeacon)try{z=a.navigator.sendBeacon(L.A.toString(),"")}catch{}!z&&a.Image&&(new Image().src=L.A,z=!0),z||(L.g=fw(L.j,null),L.g.ea(L.A)),L.F=Date.now(),Ee(L)}dw(E)}function Kc(E){E.g&&(vt(E),E.g.cancel(),E.g=null)}function nh(E){Kc(E),E.v&&(a.clearTimeout(E.v),E.v=null),Tr(E),E.h.cancel(),E.m&&(typeof E.m=="number"&&a.clearTimeout(E.m),E.m=null)}function Po(E){if(!Er(E.h)&&!E.m){E.m=!0;var L=E.Ea;P||I(),j||(P(),j=!0),S.add(L,E),E.D=0}}function ih(E,L){return on(E.h)>=E.h.j-(E.m?1:0)?!1:E.m?(E.i=L.G.concat(E.i),!0):E.I==1||E.I==2||E.D>=(E.Sa?0:E.Ta)?!1:(E.m=Ct(u(E.Ea,E,L),Ni(E,E.D)),E.D++,!0)}t.Ea=function(E){if(this.m)if(this.m=null,this.I==1){if(!E){this.V=Math.floor(Math.random()*1e5),E=this.V++;const Te=new ae(this,this.j,E);let Pe=this.o;if(this.U&&(Pe?(Pe=H(Pe),q(Pe,this.U)):Pe=this.U),this.u!==null||this.R||(Te.J=Pe,Pe=null),this.S)e:{for(var L=0,z=0;z<this.i.length;z++){t:{var re=this.i[z];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(L+=re,L>4096){L=z;break e}if(L===4096||z===this.i.length-1){L=z+1;break e}}L=1e3}else L=1e3;L=X(this,Te,L),z=yi(this.J),Hr(z,"RID",E),Hr(z,"CVER",22),this.G&&Hr(z,"X-HTTP-Session-Id",this.G),Yc(this,z),Pe&&(this.R?L="headers="+vi(no(Pe))+"&"+L:this.u&&Wc(z,this.u,Pe)),La(this.h,Te),this.Ra&&Hr(z,"TYPE","init"),this.S?(Hr(z,"$req",L),Hr(z,"SID","null"),Te.U=!0,oe(Te,z,null)):oe(Te,z,L),this.I=2}}else this.I==3&&(E?sh(this,E):this.i.length==0||Er(this.h)||sh(this))};function sh(E,L){var z;L?z=L.l:z=E.V++;const re=yi(E.J);Hr(re,"SID",E.M),Hr(re,"RID",z),Hr(re,"AID",E.K),Yc(E,re),E.u&&E.o&&Wc(re,E.u,E.o),z=new ae(E,E.j,z,E.D+1),E.u===null&&(z.J=E.o),L&&(E.i=L.G.concat(E.i)),L=X(E,z,1e3),z.H=Math.round(E.va*.5)+Math.round(E.va*.5*Math.random()),La(E.h,z),oe(z,re,L)}function Yc(E,L){E.H&&ee(E.H,function(z,re){Hr(L,re,z)}),E.l&&ee({},function(z,re){Hr(L,re,z)})}function X(E,L,z){z=Math.min(E.i.length,z);const re=E.l?u(E.l.Ka,E.l,E):null;e:{var Te=E.i;let Zt=-1;for(;;){const Ii=["count="+z];Zt==-1?z>0?(Zt=Te[0].g,Ii.push("ofs="+Zt)):Zt=0:Ii.push("ofs="+Zt);let qr=!0;for(let Xn=0;Xn<z;Xn++){var Pe=Te[Xn].g;const pl=Te[Xn].map;if(Pe-=Zt,Pe<0)Zt=Math.max(0,Te[Xn].g-100),qr=!1;else try{Pe="req"+Pe+"_"||"";try{var ut=pl instanceof Map?pl:Object.entries(pl);for(const[Xc,tc]of ut){let rc=tc;o(tc)&&(rc=be(tc)),Ii.push(Pe+Xc+"="+encodeURIComponent(rc))}}catch(Xc){throw Ii.push(Pe+"type="+encodeURIComponent("_badmap")),Xc}}catch{re&&re(pl)}}if(qr){ut=Ii.join("&");break e}}ut=void 0}return E=E.i.splice(0,z),L.G=E,ut}function ke(E){if(!E.g&&!E.v){E.Y=1;var L=E.Da;P||I(),j||(P(),j=!0),S.add(L,E),E.A=0}}function Je(E){return E.g||E.v||E.A>=3?!1:(E.Y++,E.v=Ct(u(E.Da,E),Ni(E,E.A)),E.A++,!0)}t.Da=function(){if(this.v=null,ft(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var E=4*this.T;this.j.info("BP detection timer enabled: "+E),this.B=Ct(u(this.Wa,this),E)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,nn(10),Kc(this),ft(this))};function vt(E){E.B!=null&&(a.clearTimeout(E.B),E.B=null)}function ft(E){E.g=new ae(E,E.j,"rpc",E.Y),E.u===null&&(E.g.J=E.o),E.g.P=0;var L=yi(E.na);Hr(L,"RID","rpc"),Hr(L,"SID",E.M),Hr(L,"AID",E.K),Hr(L,"CI",E.F?"0":"1"),!E.F&&E.ia&&Hr(L,"TO",E.ia),Hr(L,"TYPE","xmlhttp"),Yc(E,L),E.u&&E.o&&Wc(L,E.u,E.o),E.O&&(E.g.H=E.O);var z=E.g;E=E.ba,z.M=1,z.A=Mu(yi(L)),z.u=null,z.R=!0,_e(z,E)}t.Va=function(){this.C!=null&&(this.C=null,Kc(this),Je(this),nn(19))};function Tr(E){E.C!=null&&(a.clearTimeout(E.C),E.C=null)}function Cn(E,L){var z=null;if(E.g==L){Tr(E),vt(E),E.g=null;var re=2}else if(ds(E.h,L))z=L.G,No(E.h,L),re=1;else return;if(E.I!=0){if(L.o)if(re==1){z=L.u?L.u.length:0,L=Date.now()-L.F;var Te=E.D;re=da(),_t(re,new zi(re,z)),Po(E)}else ke(E);else if(Te=L.m,Te==3||Te==0&&L.X>0||!(re==1&&ih(E,L)||re==2&&Je(E)))switch(z&&z.length>0&&(L=E.h,L.i=L.i.concat(z)),Te){case 1:As(E,5);break;case 4:As(E,10);break;case 3:As(E,6);break;default:As(E,2)}}}function Ni(E,L){let z=E.Qa+Math.floor(Math.random()*E.Za);return E.isActive()||(z*=2),z*L}function As(E,L){if(E.j.info("Error code "+L),L==2){var z=u(E.bb,E),re=E.Ua;const Te=!re;re=new Fa(re||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hi(re,"https"),Mu(re),Te?Io(re.toString(),z):th(re.toString(),z)}else nn(2);E.I=0,E.l&&E.l.pa(L),dw(E),nh(E)}t.bb=function(E){E?(this.j.info("Successfully pinged google.com"),nn(2)):(this.j.info("Failed to ping google.com"),nn(1))};function dw(E){if(E.I=0,E.ja=[],E.l){const L=ha(E.h);(L.length!=0||E.i.length!=0)&&(x(E.ja,L),x(E.ja,E.i),E.h.i.length=0,v(E.i),E.i.length=0),E.l.oa()}}function hw(E,L,z){var re=z instanceof Fa?yi(z):new Fa(z);if(re.g!="")L&&(re.g=L+"."+re.g),Bc(re,re.u);else{var Te=a.location;re=Te.protocol,L=L?L+"."+Te.hostname:Te.hostname,Te=+Te.port;const Pe=new Fa(null);re&&Hi(Pe,re),L&&(Pe.g=L),Te&&Bc(Pe,Te),z&&(Pe.h=z),re=Pe}return z=E.G,L=E.wa,z&&L&&Hr(re,z,L),Hr(re,"VER",E.ka),Yc(E,re),re}function fw(E,L,z){if(L&&!E.L)throw Error("Can't create secondary domain capable XhrIo object.");return L=E.Aa&&!E.ma?new Qr(new jr({ab:z})):new Qr(E.ma),L.Fa(E.L),L}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function mw(){}t=mw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function ah(){}ah.prototype.g=function(E,L){return new Ba(E,L)};function Ba(E,L){ht.call(this),this.g=new ec(L),this.l=E,this.h=L&&L.messageUrlParams||null,E=L&&L.messageHeaders||null,L&&L.clientProtocolHeaderRequired&&(E?E["X-Client-Protocol"]="webchannel":E={"X-Client-Protocol":"webchannel"}),this.g.o=E,E=L&&L.initMessageHeaders||null,L&&L.messageContentType&&(E?E["X-WebChannel-Content-Type"]=L.messageContentType:E={"X-WebChannel-Content-Type":L.messageContentType}),L&&L.sa&&(E?E["X-WebChannel-Client-Profile"]=L.sa:E={"X-WebChannel-Client-Profile":L.sa}),this.g.U=E,(E=L&&L.Qb)&&!U(E)&&(this.g.u=E),this.A=L&&L.supportsCrossDomainXhr||!1,this.v=L&&L.sendRawJson||!1,(L=L&&L.httpSessionIdParam)&&!U(L)&&(this.g.G=L,E=this.h,E!==null&&L in E&&(E=this.h,L in E&&delete E[L])),this.j=new Vu(this)}m(Ba,ht),Ba.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Ba.prototype.close=function(){rh(this.g)},Ba.prototype.o=function(E){var L=this.g;if(typeof E=="string"){var z={};z.__data__=E,E=z}else this.v&&(z={},z.__data__=be(E),E=z);L.i.push(new gt(L.Ya++,E)),L.I==3&&Po(L)},Ba.prototype.N=function(){this.g.l=null,delete this.j,rh(this.g),delete this.g,Ba.Z.N.call(this)};function pw(E){wr.call(this),E.__headers__&&(this.headers=E.__headers__,this.statusCode=E.__status__,delete E.__headers__,delete E.__status__);var L=E.__sm__;if(L){e:{for(const z in L){E=z;break e}E=void 0}(this.i=E)&&(E=this.i,L=L!==null&&E in L?L[E]:void 0),this.data=L}else this.data=E}m(pw,wr);function gw(){Ui.call(this),this.status=1}m(gw,Ui);function Vu(E){this.g=E}m(Vu,mw),Vu.prototype.ra=function(){_t(this.g,"a")},Vu.prototype.qa=function(E){_t(this.g,new pw(E))},Vu.prototype.pa=function(E){_t(this.g,new gw)},Vu.prototype.oa=function(){_t(this.g,"b")},ah.prototype.createWebChannel=ah.prototype.g,Ba.prototype.send=Ba.prototype.o,Ba.prototype.open=Ba.prototype.m,Ba.prototype.close=Ba.prototype.close,tJ=function(){return new ah},eJ=function(){return da()},ZQ=rn,x6={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},ks.NO_ERROR=0,ks.TIMEOUT=8,ks.HTTP_ERROR=6,I_=ks,an.COMPLETE="complete",JQ=an,Gt.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",ht.prototype.listen=ht.prototype.J,s1=Gt,Qr.prototype.listenOnce=Qr.prototype.K,Qr.prototype.getLastError=Qr.prototype.Ha,Qr.prototype.getLastErrorCode=Qr.prototype.ya,Qr.prototype.getStatus=Qr.prototype.ca,Qr.prototype.getResponseJson=Qr.prototype.La,Qr.prototype.getResponseText=Qr.prototype.la,Qr.prototype.send=Qr.prototype.ea,Qr.prototype.setWithCredentials=Qr.prototype.Fa,QQ=Qr}).apply(typeof S2<"u"?S2:typeof self<"u"?self:typeof window<"u"?window:{});const aV="@firebase/firestore",oV="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ba.UNAUTHENTICATED=new ba(null),ba.GOOGLE_CREDENTIALS=new ba("google-credentials-uid"),ba.FIRST_PARTY=new ba("first-party-uid"),ba.MOCK_USER=new ba("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ev="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const em=new kS("@firebase/firestore");function zp(){return em.logLevel}function pt(t,...e){if(em.logLevel<=pr.DEBUG){const r=e.map(FR);em.debug(`Firestore (${Ev}): ${t}`,...r)}}function Nd(t,...e){if(em.logLevel<=pr.ERROR){const r=e.map(FR);em.error(`Firestore (${Ev}): ${t}`,...r)}}function tm(t,...e){if(em.logLevel<=pr.WARN){const r=e.map(FR);em.warn(`Firestore (${Ev}): ${t}`,...r)}}function FR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,rJ(t,n,r)}function rJ(t,e,r){let n=`FIRESTORE (${Ev}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Nd(n),new Error(n)}function tn(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||rJ(e,i,n)}function Qt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class lt extends Iu{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pd{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nJ{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class iJ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ba.UNAUTHENTICATED)))}shutdown(){}}class Txe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class Sxe{constructor(e){this.t=e,this.currentUser=ba.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){tn(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new pd;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new pd,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{pt("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(pt("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new pd)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(pt("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(tn(typeof n.accessToken=="string",31837,{l:n}),new nJ(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return tn(e===null||typeof e=="string",2055,{h:e}),new ba(e)}}class kxe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ba.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class Axe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new kxe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(ba.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class lV{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Cxe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,mo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){tn(this.o===void 0,3512);const n=s=>{s.error!=null&&pt("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,pt("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{pt("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):pt("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new lV(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(tn(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new lV(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nxe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=Nxe(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function xr(t,e){return t<e?-1:t>e?1:0}function b6(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return r3(i)===r3(s)?xr(i,s):r3(i)?1:-1}return xr(t.length,e.length)}const Ixe=55296,Oxe=57343;function r3(t){const e=t.charCodeAt(0);return e>=Ixe&&e<=Oxe}function Fg(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w6="__name__";class au{constructor(e,r,n){r===void 0?r=0:r>e.length&&zt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&zt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return au.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof au?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=au.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return xr(e.length,r.length)}static compareSegments(e,r){const n=au.isNumericId(e),i=au.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?au.extractNumericId(e).compare(au.extractNumericId(r)):b6(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Jh.fromString(e.substring(4,e.length-2))}}class Rn extends au{construct(e,r,n){return new Rn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new lt(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Rn(r)}static emptyPath(){return new Rn([])}}const Rxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Bs extends au{construct(e,r,n){return new Bs(e,r,n)}static isValidIdentifier(e){return Rxe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Bs.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===w6}static keyField(){return new Bs([w6])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new lt(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new lt(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new lt(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new lt(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Bs(r)}static emptyPath(){return new Bs([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class At{constructor(e){this.path=e}static fromPath(e){return new At(Rn.fromString(e))}static fromName(e){return new At(Rn.fromString(e).popFirst(5))}static empty(){return new At(Rn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Rn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Rn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new At(new Rn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sJ(t,e,r){if(!r)throw new lt(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function aJ(t,e,r,n){if(e===!0&&n===!0)throw new lt(Fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function cV(t){if(!At.isDocumentKey(t))throw new lt(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function uV(t){if(At.isDocumentKey(t))throw new lt(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function oJ(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function NS(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":zt(12329,{type:typeof t})}function Oa(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new lt(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=NS(t);throw new lt(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function Pxe(t,e){if(e<=0)throw new lt(Fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){const r={typeString:t};return e&&(r.value=e),r}function ob(t,e){if(!oJ(t))throw new lt(Fe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new lt(Fe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV=-62135596800,hV=1e6;class Tn{static now(){return Tn.fromMillis(Date.now())}static fromDate(e){return Tn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*hV);return new Tn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<dV)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new lt(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/hV}_compareTo(e){return this.seconds===e.seconds?xr(this.nanoseconds,e.nanoseconds):xr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Tn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(ob(e,Tn._jsonSchema))return new Tn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-dV;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Tn._jsonSchemaVersion="firestore/timestamp/1.0",Tn._jsonSchema={type:ss("string",Tn._jsonSchemaVersion),seconds:ss("number"),nanoseconds:ss("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new Tn(0,0))}static max(){return new Kt(new Tn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z1=-1;function jxe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Kt.fromTimestamp(n===1e9?new Tn(r+1,0):new Tn(r,n));return new df(i,At.empty(),e)}function Dxe(t){return new df(t.readTime,t.key,Z1)}class df{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new df(Kt.min(),At.empty(),Z1)}static max(){return new df(Kt.max(),At.empty(),Z1)}}function Mxe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=At.comparator(t.documentKey,e.documentKey),r!==0?r:xr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Fxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tv(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==Lxe)throw t;pt("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&zt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.reject(r)}static resolve(e){return new $e(((r,n)=>{r(e)}))}static reject(e){return new $e(((r,n)=>{n(e)}))}static waitFor(e){return new $e(((r,n)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&r()}),(l=>n(l)))})),a=!0,s===i&&r()}))}static or(e){let r=$e.resolve(!1);for(const n of e)r=r.next((i=>i?$e.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new $e(((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next((d=>{a[u]=d,++o,o===s&&n(a)}),(d=>i(d)))}}))}static doWhile(e,r){return new $e(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function Bxe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Sv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}IS.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BR=-1;function OS(t){return t==null}function sE(t){return t===0&&1/t==-1/0}function Vxe(t){return typeof t=="number"&&Number.isInteger(t)&&!sE(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lJ="";function Uxe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=fV(e)),e=zxe(t.get(r),e);return fV(e)}function zxe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case lJ:r+="";break;default:r+=s}}return r}function fV(t){return t+lJ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mV(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function Rf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function cJ(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs=class _6{constructor(e,r){this.comparator=e,this.root=r||Zh.EMPTY}insert(e,r){return new _6(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Zh.BLACK,null,null))}remove(e){return new _6(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Zh.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new k2(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new k2(this.root,e,this.comparator,!1)}getReverseIterator(){return new k2(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new k2(this.root,e,this.comparator,!0)}},k2=class{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Zh=class rd{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??rd.RED,this.left=i??rd.EMPTY,this.right=s??rd.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new rd(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return rd.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return rd.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,rd.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,rd.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw zt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw zt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw zt(27949);return e+(this.isRed()?0:1)}};Zh.EMPTY=null,Zh.RED=!0,Zh.BLACK=!1;Zh.EMPTY=new class{constructor(){this.size=0}get key(){throw zt(57766)}get value(){throw zt(16141)}get color(){throw zt(16727)}get left(){throw zt(29726)}get right(){throw zt(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Zh(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bs{constructor(e){this.comparator=e,this.data=new cs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new pV(this.data.getIterator())}getIteratorFrom(e){return new pV(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof bs)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new bs(this.comparator);return r.data=e,r}}class pV{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zo{constructor(e){this.fields=e,e.sort(Bs.comparator)}static empty(){return new Zo([])}unionWith(e){let r=new bs(Bs.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new Zo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Fg(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uJ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $s{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new uJ("Invalid base64 string: "+s):s}})(e);return new $s(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new $s(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return xr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}$s.EMPTY_BYTE_STRING=new $s("");const $xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function hf(t){if(tn(!!t,39018),typeof t=="string"){let e=0;const r=$xe.exec(t);if(tn(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mi(t.seconds),nanos:Mi(t.nanos)}}function Mi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ff(t){return typeof t=="string"?$s.fromBase64String(t):$s.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dJ="server_timestamp",hJ="__type__",fJ="__previous_value__",mJ="__local_write_time__";function RS(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[hJ])==null?void 0:n.stringValue)===dJ}function PS(t){const e=t.mapValue.fields[fJ];return RS(e)?PS(e):e}function ex(t){const e=hf(t.mapValue.fields[mJ].timestampValue);return new Tn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hxe{constructor(e,r,n,i,s,a,o,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const aE="(default)";class Bg{constructor(e,r){this.projectId=e,this.database=r||aE}static empty(){return new Bg("","")}get isDefaultDatabase(){return this.database===aE}isEqual(e){return e instanceof Bg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pJ="__type__",qxe="__max__",A2={mapValue:{}},gJ="__vector__",oE="value";function mf(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?RS(t)?4:Gxe(t)?9007199254740991:Wxe(t)?10:11:zt(28295,{value:t})}function Tu(t,e){if(t===e)return!0;const r=mf(t);if(r!==mf(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ex(t).isEqual(ex(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=hf(i.timestampValue),o=hf(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return ff(i.bytesValue).isEqual(ff(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mi(i.geoPointValue.latitude)===Mi(s.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mi(i.integerValue)===Mi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Mi(i.doubleValue),o=Mi(s.doubleValue);return a===o?sE(a)===sE(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return Fg(t.arrayValue.values||[],e.arrayValue.values||[],Tu);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(mV(a)!==mV(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!Tu(a[l],o[l])))return!1;return!0})(t,e);default:return zt(52216,{left:t})}}function tx(t,e){return(t.values||[]).find((r=>Tu(r,e)))!==void 0}function Vg(t,e){if(t===e)return 0;const r=mf(t),n=mf(e);if(r!==n)return xr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return xr(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Mi(s.integerValue||s.doubleValue),l=Mi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return gV(t.timestampValue,e.timestampValue);case 4:return gV(ex(t),ex(e));case 5:return b6(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=ff(s),l=ff(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=xr(o[u],l[u]);if(d!==0)return d}return xr(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=xr(Mi(s.latitude),Mi(a.latitude));return o!==0?o:xr(Mi(s.longitude),Mi(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return vV(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var g,v,x,b;const o=s.fields||{},l=a.fields||{},u=(g=o[oE])==null?void 0:g.arrayValue,d=(v=l[oE])==null?void 0:v.arrayValue,m=xr(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return m!==0?m:vV(u,d)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===A2.mapValue&&a===A2.mapValue)return 0;if(s===A2.mapValue)return 1;if(a===A2.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let m=0;m<l.length&&m<d.length;++m){const g=b6(l[m],d[m]);if(g!==0)return g;const v=Vg(o[l[m]],u[d[m]]);if(v!==0)return v}return xr(l.length,d.length)})(t.mapValue,e.mapValue);default:throw zt(23264,{he:r})}}function gV(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return xr(t,e);const r=hf(t),n=hf(e),i=xr(r.seconds,n.seconds);return i!==0?i:xr(r.nanos,n.nanos)}function vV(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Vg(r[i],n[i]);if(s)return s}return xr(r.length,n.length)}function Ug(t){return E6(t)}function E6(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=hf(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ff(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return At.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=E6(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${E6(r.fields[a])}`;return i+"}"})(t.mapValue):zt(61005,{value:t})}function O_(t){switch(mf(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=PS(t);return e?16+O_(e):16;case 5:return 2*t.stringValue.length;case 6:return ff(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+O_(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return Rf(n.fields,((s,a)=>{i+=s.length+O_(a)})),i})(t.mapValue);default:throw zt(13486,{value:t})}}function lE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function T6(t){return!!t&&"integerValue"in t}function VR(t){return!!t&&"arrayValue"in t}function yV(t){return!!t&&"nullValue"in t}function xV(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function R_(t){return!!t&&"mapValue"in t}function Wxe(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[pJ])==null?void 0:n.stringValue)===gJ}function x1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Rf(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=x1(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=x1(t.arrayValue.values[r]);return e}return{...t}}function Gxe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===qxe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this.value=e}static empty(){return new po({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!R_(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=x1(r)}setAll(e){let r=Bs.emptyPath(),n={},i=[];e.forEach(((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=x1(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());R_(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return Tu(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];R_(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){Rf(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new po(x1(this.value))}}function vJ(t){const e=[];return Rf(t.fields,((r,n)=>{const i=new Bs([r]);if(R_(n)){const s=vJ(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new Zo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ea{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new Ea(e,0,Kt.min(),Kt.min(),Kt.min(),po.empty(),0)}static newFoundDocument(e,r,n,i){return new Ea(e,1,r,Kt.min(),n,i,0)}static newNoDocument(e,r){return new Ea(e,2,r,Kt.min(),Kt.min(),po.empty(),0)}static newUnknownDocument(e,r){return new Ea(e,3,r,Kt.min(),Kt.min(),po.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=po.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=po.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ea&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ea(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg{constructor(e,r){this.position=e,this.inclusive=r}}function bV(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=At.comparator(At.fromName(a.referenceValue),r.key):n=Vg(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function wV(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!Tu(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r="asc"){this.field=e,this.dir=r}}function Kxe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yJ{}class ns extends yJ{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Xxe(e,r,n):r==="array-contains"?new Zxe(e,n):r==="in"?new ebe(e,n):r==="not-in"?new tbe(e,n):r==="array-contains-any"?new rbe(e,n):new ns(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Qxe(e,n):new Jxe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Vg(r,this.value)):r!==null&&mf(this.value)===mf(r)&&this.matchesComparison(Vg(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return zt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Nc extends yJ{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new Nc(e,r)}matches(e){return xJ(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function xJ(t){return t.op==="and"}function bJ(t){return Yxe(t)&&xJ(t)}function Yxe(t){for(const e of t.filters)if(e instanceof Nc)return!1;return!0}function S6(t){if(t instanceof ns)return t.field.canonicalString()+t.op.toString()+Ug(t.value);if(bJ(t))return t.filters.map((e=>S6(e))).join(",");{const e=t.filters.map((r=>S6(r))).join(",");return`${t.op}(${e})`}}function wJ(t,e){return t instanceof ns?(function(n,i){return i instanceof ns&&n.op===i.op&&n.field.isEqual(i.field)&&Tu(n.value,i.value)})(t,e):t instanceof Nc?(function(n,i){return i instanceof Nc&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,o)=>s&&wJ(a,i.filters[o])),!0):!1})(t,e):void zt(19439)}function _J(t){return t instanceof ns?(function(r){return`${r.field.canonicalString()} ${r.op} ${Ug(r.value)}`})(t):t instanceof Nc?(function(r){return r.op.toString()+" {"+r.getFilters().map(_J).join(" ,")+"}"})(t):"Filter"}class Xxe extends ns{constructor(e,r,n){super(e,r,n),this.key=At.fromName(n.referenceValue)}matches(e){const r=At.comparator(e.key,this.key);return this.matchesComparison(r)}}class Qxe extends ns{constructor(e,r){super(e,"in",r),this.keys=EJ("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Jxe extends ns{constructor(e,r){super(e,"not-in",r),this.keys=EJ("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function EJ(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>At.fromName(n.referenceValue)))}class Zxe extends ns{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return VR(r)&&tx(r.arrayValue,this.value)}}class ebe extends ns{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&tx(this.value.arrayValue,r)}}class tbe extends ns{constructor(e,r){super(e,"not-in",r)}matches(e){if(tx(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!tx(this.value.arrayValue,r)}}class rbe extends ns{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!VR(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>tx(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nbe{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function _V(t,e=null,r=[],n=[],i=null,s=null,a=null){return new nbe(t,e,r,n,i,s,a)}function UR(t){const e=Qt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>S6(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),OS(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>Ug(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>Ug(n))).join(",")),e.Te=r}return e.Te}function zR(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Kxe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!wJ(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!wV(t.startAt,e.startAt)&&wV(t.endAt,e.endAt)}function k6(t){return At.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function ibe(t,e,r,n,i,s,a,o){return new Cm(t,e,r,n,i,s,a,o)}function jS(t){return new Cm(t)}function EV(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function $R(t){return t.collectionGroup!==null}function ug(t){const e=Qt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new bs(Bs.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new rx(s,n))})),r.has(Bs.keyField().canonicalString())||e.Ie.push(new rx(Bs.keyField(),n))}return e.Ie}function gu(t){const e=Qt(t);return e.Ee||(e.Ee=sbe(e,ug(t))),e.Ee}function sbe(t,e){if(t.limitType==="F")return _V(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new rx(i.field,s)}));const r=t.endAt?new zg(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new zg(t.startAt.position,t.startAt.inclusive):null;return _V(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function A6(t,e){const r=t.filters.concat([e]);return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function cE(t,e,r){return new Cm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function DS(t,e){return zR(gu(t),gu(e))&&t.limitType===e.limitType}function TJ(t){return`${UR(gu(t))}|lt:${t.limitType}`}function $p(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>_J(i))).join(", ")}]`),OS(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>Ug(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>Ug(i))).join(",")),`Target(${n})`})(gu(t))}; limitType=${t.limitType})`}function MS(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):At.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of ug(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,o,l){const u=bV(a,o,l);return a.inclusive?u<=0:u<0})(n.startAt,ug(n),i)||n.endAt&&!(function(a,o,l){const u=bV(a,o,l);return a.inclusive?u>=0:u>0})(n.endAt,ug(n),i))})(t,e)}function abe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function SJ(t){return(e,r)=>{let n=!1;for(const i of ug(t)){const s=obe(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function obe(t,e,r){const n=t.field.isKeyField()?At.comparator(e.key,r.key):(function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Vg(l,u):zt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return zt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Rf(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return cJ(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lbe=new cs(At.comparator);function Id(){return lbe}const kJ=new cs(At.comparator);function a1(...t){let e=kJ;for(const r of t)e=e.insert(r.key,r);return e}function AJ(t){let e=kJ;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function I0(){return b1()}function CJ(){return b1()}function b1(){return new Nm((t=>t.toString()),((t,e)=>t.isEqual(e)))}const cbe=new cs(At.comparator),ube=new bs(At.comparator);function br(...t){let e=ube;for(const r of t)e=e.add(r);return e}const dbe=new bs(xr);function hbe(){return dbe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:sE(e)?"-0":e}}function NJ(t){return{integerValue:""+t}}function fbe(t,e){return Vxe(e)?NJ(e):HR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LS{constructor(){this._=void 0}}function mbe(t,e,r){return t instanceof nx?(function(i,s){const a={fields:{[hJ]:{stringValue:dJ},[mJ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&RS(s)&&(s=PS(s)),s&&(a.fields[fJ]=s),{mapValue:a}})(r,e):t instanceof $g?OJ(t,e):t instanceof Hg?RJ(t,e):(function(i,s){const a=IJ(i,s),o=TV(a)+TV(i.Ae);return T6(a)&&T6(i.Ae)?NJ(o):HR(i.serializer,o)})(t,e)}function pbe(t,e,r){return t instanceof $g?OJ(t,e):t instanceof Hg?RJ(t,e):r}function IJ(t,e){return t instanceof uE?(function(n){return T6(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class nx extends LS{}class $g extends LS{constructor(e){super(),this.elements=e}}function OJ(t,e){const r=PJ(e);for(const n of t.elements)r.some((i=>Tu(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Hg extends LS{constructor(e){super(),this.elements=e}}function RJ(t,e){let r=PJ(e);for(const n of t.elements)r=r.filter((i=>!Tu(i,n)));return{arrayValue:{values:r}}}class uE extends LS{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function TV(t){return Mi(t.integerValue||t.doubleValue)}function PJ(t){return VR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e,r){this.field=e,this.transform=r}}function gbe(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof $g&&i instanceof $g||n instanceof Hg&&i instanceof Hg?Fg(n.elements,i.elements,Tu):n instanceof uE&&i instanceof uE?Tu(n.Ae,i.Ae):n instanceof nx&&i instanceof nx})(t.transform,e.transform)}class vbe{constructor(e,r){this.version=e,this.transformResults=r}}class qa{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new qa}static exists(e){return new qa(void 0,e)}static updateTime(e){return new qa(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function P_(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class FS{}function jJ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new BS(t.key,qa.none()):new lb(t.key,t.data,qa.none());{const r=t.data,n=po.empty();let i=new bs(Bs.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new Pf(t.key,n,new Zo(i.toArray()),qa.none())}}function ybe(t,e,r){t instanceof lb?(function(i,s,a){const o=i.value.clone(),l=kV(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,r):t instanceof Pf?(function(i,s,a){if(!P_(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=kV(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(DJ(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function w1(t,e,r,n){return t instanceof lb?(function(s,a,o,l){if(!P_(s.precondition,a))return o;const u=s.value.clone(),d=AV(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof Pf?(function(s,a,o,l){if(!P_(s.precondition,a))return o;const u=AV(s.fieldTransforms,l,a),d=a.data;return d.setAll(DJ(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((m=>m.field)))})(t,e,r,n):(function(s,a,o){return P_(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,r)}function xbe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=IJ(n.transform,i||null);s!=null&&(r===null&&(r=po.empty()),r.set(n.field,s))}return r||null}function SV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Fg(n,i,((s,a)=>gbe(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class lb extends FS{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Pf extends FS{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function DJ(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function kV(t,e,r){const n=new Map;tn(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,pbe(a,o,r[i]))}return n}function AV(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,mbe(s,a,e))}return n}class BS extends FS{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bbe extends FS{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wbe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&ybe(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=w1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=w1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=CJ();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=jJ(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Kt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),br())}isEqual(e){return this.batchId===e.batchId&&Fg(this.mutations,e.mutations,((r,n)=>SV(r,n)))&&Fg(this.baseMutations,e.baseMutations,((r,n)=>SV(r,n)))}}class WR{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){tn(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return cbe})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new WR(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _be{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ebe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi,Cr;function Tbe(t){switch(t){case Fe.OK:return zt(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return zt(15467,{code:t})}}function MJ(t){if(t===void 0)return Nd("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case Qi.OK:return Fe.OK;case Qi.CANCELLED:return Fe.CANCELLED;case Qi.UNKNOWN:return Fe.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return Fe.INTERNAL;case Qi.UNAVAILABLE:return Fe.UNAVAILABLE;case Qi.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Qi.NOT_FOUND:return Fe.NOT_FOUND;case Qi.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Qi.ABORTED:return Fe.ABORTED;case Qi.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Qi.DATA_LOSS:return Fe.DATA_LOSS;default:return zt(39323,{code:t})}}(Cr=Qi||(Qi={}))[Cr.OK=0]="OK",Cr[Cr.CANCELLED=1]="CANCELLED",Cr[Cr.UNKNOWN=2]="UNKNOWN",Cr[Cr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Cr[Cr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Cr[Cr.NOT_FOUND=5]="NOT_FOUND",Cr[Cr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Cr[Cr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Cr[Cr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Cr[Cr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Cr[Cr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Cr[Cr.ABORTED=10]="ABORTED",Cr[Cr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Cr[Cr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Cr[Cr.INTERNAL=13]="INTERNAL",Cr[Cr.UNAVAILABLE=14]="UNAVAILABLE",Cr[Cr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sbe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kbe=new Jh([4294967295,4294967295],0);function CV(t){const e=Sbe().encode(t),r=new XQ;return r.update(e),new Uint8Array(r.digest())}function NV(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Jh([r,n],0),new Jh([i,s],0)]}class GR{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new o1(`Invalid padding: ${r}`);if(n<0)throw new o1(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new o1(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new o1(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Jh.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Jh.fromNumber(n)));return i.compare(kbe)===1&&(i=new Jh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=CV(e),[n,i]=NV(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new GR(s,i,r);return n.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const r=CV(e),[n,i]=NV(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class o1 extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VS{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,cb.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new VS(Kt.min(),i,new cs(xr),Id(),br())}}class cb{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new cb(n,r,br(),br(),br())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j_{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class LJ{constructor(e,r){this.targetId=e,this.Ce=r}}class FJ{constructor(e,r,n=$s.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class IV{constructor(){this.ve=0,this.Fe=OV(),this.Me=$s.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=br(),r=br(),n=br();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:zt(38017,{changeType:s})}})),new cb(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=OV()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,tn(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class Abe{constructor(e){this.Ge=e,this.ze=new Map,this.je=Id(),this.Je=C2(),this.He=C2(),this.Ye=new cs(xr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:zt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(k6(s))if(n===0){const a=new At(s.path);this.et(r,a,Ea.newNoDocument(a,Kt.min()))}else tn(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=ff(n).toUint8Array()}catch(l){if(l instanceof uJ)return tm("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new GR(a,i,s)}catch(l){return tm(l instanceof o1?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&k6(o.target)){const l=new At(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,Ea.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}}));let n=br();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new VS(e,r,this.Ye,this.je,n);return this.je=Id(),this.Je=C2(),this.He=C2(),this.Ye=new cs(xr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new IV,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new bs(xr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new bs(xr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||pt("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new IV),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function C2(){return new cs(At.comparator)}function OV(){return new cs(At.comparator)}const Cbe={asc:"ASCENDING",desc:"DESCENDING"},Nbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ibe={and:"AND",or:"OR"};class Obe{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function C6(t,e){return t.useProto3Json||OS(e)?e:{value:e}}function dE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function BJ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Rbe(t,e){return dE(t,e.toTimestamp())}function vu(t){return tn(!!t,49232),Kt.fromTimestamp((function(r){const n=hf(r);return new Tn(n.seconds,n.nanos)})(t))}function KR(t,e){return N6(t,e).canonicalString()}function N6(t,e){const r=(function(i){return new Rn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function VJ(t){const e=Rn.fromString(t);return tn(qJ(e),10190,{key:e.toString()}),e}function I6(t,e){return KR(t.databaseId,e.path)}function n3(t,e){const r=VJ(e);if(r.get(1)!==t.databaseId.projectId)throw new lt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new lt(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new At(zJ(r))}function UJ(t,e){return KR(t.databaseId,e)}function Pbe(t){const e=VJ(t);return e.length===4?Rn.emptyPath():zJ(e)}function O6(t){return new Rn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function zJ(t){return tn(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function RV(t,e,r){return{name:I6(t,e),fields:r.value.mapValue.fields}}function jbe(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:zt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,d){return u.useProto3Json?(tn(d===void 0||typeof d=="string",58123),$s.fromBase64String(d||"")):(tn(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),$s.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const d=u.code===void 0?Fe.UNKNOWN:MJ(u.code);return new lt(d,u.message||"")})(a);r=new FJ(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=n3(t,n.document.name),s=vu(n.document.updateTime),a=n.document.createTime?vu(n.document.createTime):Kt.min(),o=new po({mapValue:{fields:n.document.fields}}),l=Ea.newFoundDocument(i,s,a,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new j_(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=n3(t,n.document),s=n.readTime?vu(n.readTime):Kt.min(),a=Ea.newNoDocument(i,s),o=n.removedTargetIds||[];r=new j_([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=n3(t,n.document),s=n.removedTargetIds||[];r=new j_([],s,i,null)}else{if(!("filter"in e))return zt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new Ebe(i,s),o=n.targetId;r=new LJ(o,a)}}return r}function Dbe(t,e){let r;if(e instanceof lb)r={update:RV(t,e.key,e.value)};else if(e instanceof BS)r={delete:I6(t,e.key)};else if(e instanceof Pf)r={update:RV(t,e.key,e.data),updateMask:Hbe(e.fieldMask)};else{if(!(e instanceof bbe))return zt(16599,{Vt:e.type});r={verify:I6(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const o=a.transform;if(o instanceof nx)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof $g)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Hg)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof uE)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw zt(20930,{transform:a.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:Rbe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:zt(27497)})(t,e.precondition)),r}function Mbe(t,e){return t&&t.length>0?(tn(e!==void 0,14353),t.map((r=>(function(i,s){let a=i.updateTime?vu(i.updateTime):vu(s);return a.isEqual(Kt.min())&&(a=vu(s)),new vbe(a,i.transformResults||[])})(r,e)))):[]}function Lbe(t,e){return{documents:[UJ(t,e.path)]}}function Fbe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=UJ(t,i);const s=(function(u){if(u.length!==0)return HJ(Nc.create(u,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((d=>(function(g){return{field:Hp(g.field),direction:Ube(g.dir)}})(d)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=C6(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function Bbe(t){let e=Pbe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){tn(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=(function(m){const g=$J(m);return g instanceof Nc&&bJ(g)?g.getFilters():[g]})(r.where));let a=[];r.orderBy&&(a=(function(m){return m.map((g=>(function(x){return new rx(qp(x.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(m){let g;return g=typeof m=="object"?m.value:m,OS(g)?null:g})(r.limit));let l=null;r.startAt&&(l=(function(m){const g=!!m.before,v=m.values||[];return new zg(v,g)})(r.startAt));let u=null;return r.endAt&&(u=(function(m){const g=!m.before,v=m.values||[];return new zg(v,g)})(r.endAt)),ibe(e,i,a,s,o,"F",l,u)}function Vbe(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return zt(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function $J(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=qp(r.unaryFilter.field);return ns.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=qp(r.unaryFilter.field);return ns.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=qp(r.unaryFilter.field);return ns.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=qp(r.unaryFilter.field);return ns.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return zt(61313);default:return zt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return ns.create(qp(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return zt(58110);default:return zt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return Nc.create(r.compositeFilter.filters.map((n=>$J(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return zt(1026)}})(r.compositeFilter.op))})(t):zt(30097,{filter:t})}function Ube(t){return Cbe[t]}function zbe(t){return Nbe[t]}function $be(t){return Ibe[t]}function Hp(t){return{fieldPath:t.canonicalString()}}function qp(t){return Bs.fromServerFormat(t.fieldPath)}function HJ(t){return t instanceof ns?(function(r){if(r.op==="=="){if(xV(r.value))return{unaryFilter:{field:Hp(r.field),op:"IS_NAN"}};if(yV(r.value))return{unaryFilter:{field:Hp(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(xV(r.value))return{unaryFilter:{field:Hp(r.field),op:"IS_NOT_NAN"}};if(yV(r.value))return{unaryFilter:{field:Hp(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Hp(r.field),op:zbe(r.op),value:r.value}}})(t):t instanceof Nc?(function(r){const n=r.getFilters().map((i=>HJ(i)));return n.length===1?n[0]:{compositeFilter:{op:$be(r.op),filters:n}}})(t):zt(54877,{filter:t})}function Hbe(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function qJ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $h{constructor(e,r,n,i,s=Kt.min(),a=Kt.min(),o=$s.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new $h(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new $h(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qbe{constructor(e){this.yt=e}}function Wbe(t){const e=Bbe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?cE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gbe{constructor(){this.Cn=new Kbe}addToCollectionParentIndex(e,r){return this.Cn.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(df.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(df.min())}updateCollectionGroup(e,r,n){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class Kbe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new bs(Rn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new bs(Rn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},WJ=41943040;class fo{static withCacheSize(e){return new fo(e,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */fo.DEFAULT_COLLECTION_PERCENTILE=10,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,fo.DEFAULT=new fo(WJ,fo.DEFAULT_COLLECTION_PERCENTILE,fo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),fo.DISABLED=new fo(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new qg(0)}static cr(){return new qg(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jV="LruGarbageCollector",Ybe=1048576;function DV([t,e],[r,n]){const i=xr(t,r);return i===0?xr(e,n):i}class Xbe{constructor(e){this.Ir=e,this.buffer=new bs(DV),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();DV(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Qbe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){pt(jV,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Sv(r)?pt(jV,"Ignoring IndexedDB error during garbage collection: ",r):await Tv(r)}await this.Vr(3e5)}))}}class Jbe{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return $e.resolve(IS.ce);const n=new Xbe(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(pt("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(PV)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(pt("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),PV):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((m=>(m>this.params.maximumSequenceNumbersToCollect?(pt("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${m}`),i=this.params.maximumSequenceNumbersToCollect):i=m,a=Date.now(),this.nthSequenceNumber(e,i)))).next((m=>(n=m,o=Date.now(),this.removeTargets(e,n,r)))).next((m=>(s=m,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((m=>(u=Date.now(),zp()<=pr.DEBUG&&pt("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${m} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:m}))))}}function Zbe(t,e){return new Jbe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ewe{constructor(){this.changes=new Nm((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,Ea.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class twe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&w1(n.mutation,i,Zo.empty(),Tn.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,br()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=br()){const i=I0();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let a=a1();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=I0();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,br())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{r.set(a,o)}))}))}computeViews(e,r,n,i){let s=Id();const a=b1(),o=(function(){return b1()})();return r.forEach(((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof Pf)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),w1(d.mutation,u,d.mutation.getFieldMask(),Tn.now())):a.set(u.key,Zo.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((u,d)=>a.set(u,d))),r.forEach(((u,d)=>o.set(u,new twe(d,a.get(u)??null)))),o)))}recalculateAndSaveOverlays(e,r){const n=b1();let i=new cs(((a,o)=>a-o)),s=br();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const o of a)o.keys().forEach((l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||Zo.empty();d=o.applyToLocalView(u,d),n.set(l,d);const m=(i.get(o.batchId)||br()).add(l);i=i.insert(o.batchId,m)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,m=CJ();d.forEach((g=>{if(!s.has(g)){const v=jJ(r.get(g),n.get(g));v!==null&&m.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,m))}return $e.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return At.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):$R(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):$e.resolve(I0());let o=Z1,l=s;return a.next((u=>$e.forEach(u,((d,m)=>(o<m.largestBatchId&&(o=m.largestBatchId),s.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{l=l.insert(d,g)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,l,u,br()))).next((d=>({batchId:o,changes:AJ(d)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new At(r)).next((n=>{let i=a1();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=a1();return this.indexManager.getCollectionParents(e,s).next((o=>$e.forEach(o,(l=>{const u=(function(m,g){return new Cm(g,null,m.explicitOrderBy.slice(),m.filters.slice(),m.limit,m.limitType,m.startAt,m.endAt)})(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((d=>{d.forEach(((m,g)=>{a=a.insert(m,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((a=>{s.forEach(((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,Ea.newInvalidDocument(d)))}));let o=a1();return a.forEach(((l,u)=>{const d=s.get(l);d!==void 0&&w1(d.mutation,u,Zo.empty(),Tn.now()),MS(r,u)&&(o=o.insert(l,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nwe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return $e.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:vu(i.createTime)}})(r)),$e.resolve()}getNamedQuery(e,r){return $e.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Wbe(i.bundledQuery),readTime:vu(i.readTime)}})(r)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iwe{constructor(){this.overlays=new cs(At.comparator),this.qr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=I0();return $e.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),$e.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),$e.resolve()}getOverlaysForCollection(e,r,n){const i=I0(),s=r.length+1,a=new At(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new cs(((u,d)=>u-d));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=I0(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=I0(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=i)););return $e.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new _be(r,n));let s=this.qr.get(r);s===void 0&&(s=br(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class swe{constructor(){this.sessionToken=$s.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YR{constructor(){this.Qr=new bs(Ps.$r),this.Ur=new bs(Ps.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Ps(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Ps(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new At(new Rn([])),n=new Ps(r,e),i=new Ps(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new At(new Rn([])),n=new Ps(r,e),i=new Ps(r,e+1);let s=br();return this.Ur.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const r=new Ps(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Ps{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return At.comparator(e.key,r.key)||xr(e.Yr,r.Yr)}static Kr(e,r){return xr(e.Yr,r.Yr)||At.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class awe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new bs(Ps.$r)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new wbe(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Ps(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,r){return $e.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?BR:this.tr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Ps(r,0),i=new Ps(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new bs(xr);return r.forEach((i=>{const s=new Ps(i,0),a=new Ps(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{n=n.add(o.Yr)}))})),$e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;At.isDocumentKey(s)||(s=s.child(""));const a=new Ps(new At(s),0);let o=new bs(xr);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)}),a),$e.resolve(this.ti(o))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){tn(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $e.forEach(r.mutations,(i=>{const s=new Ps(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Ps(r,0),i=this.Zr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class owe{constructor(e){this.ri=e,this.docs=(function(){return new cs(At.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():Ea.newInvalidDocument(r))}getEntries(e,r){let n=Id();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():Ea.newInvalidDocument(i))})),$e.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=Id();const a=r.path,o=new At(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||Mxe(Dxe(d),n)<=0||(i.has(d.key)||MS(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,r,n,i){zt(9500)}ii(e,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new lwe(this)}getSize(e){return $e.resolve(this.size)}}class lwe extends ewe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),$e.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cwe{constructor(e){this.persistence=e,this.si=new Nm((r=>UR(r)),zR),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new YR,this.targetCount=0,this.ai=qg.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$e.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new qg(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.Pr(r),$e.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),$e.waitFor(s).next((()=>i))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return $e.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),$e.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),$e.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return $e.resolve(n)}containsKey(e,r){return $e.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GJ{constructor(e,r){this.ui={},this.overlays={},this.ci=new IS(0),this.li=!1,this.li=!0,this.hi=new swe,this.referenceDelegate=e(this),this.Pi=new cwe(this),this.indexManager=new Gbe,this.remoteDocumentCache=(function(i){return new owe(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new qbe(r),this.Ii=new nwe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new iwe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new awe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){pt("MemoryPersistence","Starting transaction:",e);const i=new uwe(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return $e.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class uwe extends Fxe{constructor(e){super(),this.currentSequenceNumber=e}}class XR{constructor(e){this.persistence=e,this.Ri=new YR,this.Vi=null}static mi(e){return new XR(e)}get fi(){if(this.Vi)return this.Vi;throw zt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$e.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),$e.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(n=>{const i=At.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,Kt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return $e.or([()=>$e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class hE{constructor(e,r){this.persistence=e,this.pi=new Nm((n=>Uxe(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=Zbe(this,r)}static mi(e,r){return new hE(e,r)}Ei(){}di(e){return $e.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return $e.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?$e.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,r).next((o=>{o||(n++,s.removeEntry(a,Kt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=O_(e.data.value)),r}br(e,r,n){return $e.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return $e.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QR{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=br(),i=br();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new QR(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dwe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hwe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return r1e()?8:Bxe(Pa())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new dwe;return this.Ss(e,r,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(zp()<=pr.DEBUG&&pt("QueryEngine","SDK will not create cache indexes for query:",$p(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(zp()<=pr.DEBUG&&pt("QueryEngine","Query:",$p(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(zp()<=pr.DEBUG&&pt("QueryEngine","The SDK decides to create cache indexes for query:",$p(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,gu(r))):$e.resolve())}ys(e,r){if(EV(r))return $e.resolve(null);let n=gu(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=cE(r,null,"F"),n=gu(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=br(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{const u=this.Ds(r,o);return this.Cs(r,u,a,l.readTime)?this.ys(e,cE(r,null,"F")):this.vs(e,u,r,l)}))))})))))}ws(e,r,n,i){return EV(r)||i.isEqual(Kt.min())?$e.resolve(null):this.ps.getDocuments(e,n).next((s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?$e.resolve(null):(zp()<=pr.DEBUG&&pt("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),$p(r)),this.vs(e,a,r,jxe(i,Z1)).next((o=>o)))}))}Ds(e,r){let n=new bs(SJ(e));return r.forEach(((i,s)=>{MS(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return zp()<=pr.DEBUG&&pt("QueryEngine","Using full collection scan to execute query:",$p(r)),this.ps.getDocumentsMatchingQuery(e,r,df.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR="LocalStore",fwe=3e8;class mwe{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new cs(xr),this.xs=new Nm((s=>UR(s)),zR),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new rwe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function pwe(t,e,r,n){return new mwe(t,e,r,n)}async function KJ(t,e){const r=Qt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],o=[];let l=br();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next((u=>({Ls:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function gwe(t,e){const r=Qt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,u,d){const m=u.batch,g=m.keys();let v=$e.resolve();return g.forEach((x=>{v=v.next((()=>d.getEntry(l,x))).next((b=>{const w=u.docVersions.get(x);tn(w!==null,48541),b.version.compareTo(w)<0&&(m.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(l,m)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=br();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function YJ(t){const e=Qt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function vwe(t,e){const r=Qt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach(((d,m)=>{const g=i.get(m);if(!g)return;o.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,m).next((()=>r.Pi.addMatchingKeys(s,d.addedDocuments,m))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(m)!==null?v=v.withResumeToken($s.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,n)),i=i.insert(m,v),(function(b,w,_){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=fwe?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0})(g,v,d)&&o.push(r.Pi.updateTargetData(s,v))}));let l=Id(),u=br();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))})),o.push(ywe(s,a,e.documentUpdates).next((d=>{l=d.ks,u=d.qs}))),!n.isEqual(Kt.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next((m=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));o.push(d)}return $e.waitFor(o).next((()=>a.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(r.Ms=i,s)))}function ywe(t,e,r){let n=br(),i=br();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let a=Id();return r.forEach(((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Kt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):pt(JR,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function xwe(t,e){const r=Qt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=BR),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function bwe(t,e){const r=Qt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,$e.resolve(i)):r.Pi.allocateTargetId(n).next((a=>(i=new $h(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function R6(t,e,r){const n=Qt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!Sv(a))throw a;pt(JR,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function MV(t,e,r){const n=Qt(t);let i=Kt.min(),s=br();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,u,d){const m=Qt(l),g=m.xs.get(d);return g!==void 0?$e.resolve(m.Ms.get(g)):m.Pi.getTargetData(u,d)})(n,a,gu(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:Kt.min(),r?s:br()))).next((o=>(wwe(n,abe(e),o),{documents:o,Qs:s})))))}function wwe(t,e,r){let n=t.Os.get(e)||Kt.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class LV{constructor(){this.activeTargetIds=hbe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class _we{constructor(){this.Mo=new LV,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new LV,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ewe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV="ConnectivityMonitor";class BV{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){pt(FV,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){pt(FV,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N2=null;function P6(){return N2===null?N2=(function(){return 268435456+Math.round(2147483648*Math.random())})():N2++,"0x"+N2.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const i3="RestConnection",Twe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class Swe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===aE?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=P6(),o=this.zo(e,r.toUriEncodedString());pt(i3,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),d=Vd(u);return this.Jo(e,o,l,n,d).then((m=>(pt(i3,`Received RPC '${e}' ${a}: `,m),m)),(m=>{throw tm(i3,`RPC '${e}' ${a} failed with error: `,m,"url: ",o,"request:",n),m}))}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ev})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=Twe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kwe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ga="WebChannelConnection";class Awe extends Swe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=P6();return new Promise(((o,l)=>{const u=new QQ;u.setWithCredentials(!0),u.listenOnce(JQ.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case I_.NO_ERROR:const m=u.getResponseJson();pt(ga,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(m)),o(m);break;case I_.TIMEOUT:pt(ga,`RPC '${e}' ${a} timed out`),l(new lt(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case I_.HTTP_ERROR:const g=u.getStatus();if(pt(ga,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const b=(function(_){const k=_.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(k)>=0?k:Fe.UNKNOWN})(x.status);l(new lt(b,x.message))}else l(new lt(Fe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new lt(Fe.UNAVAILABLE,"Connection failed."));break;default:zt(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{pt(ga,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);pt(ga,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",d,n,15)}))}T_(e,r,n){const i=P6(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=tJ(),o=eJ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");pt(ga,`Creating RPC '${e}' stream ${i}: ${d}`,l);const m=a.createWebChannel(d,l);this.I_(m);let g=!1,v=!1;const x=new kwe({Yo:w=>{v?pt(ga,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(g||(pt(ga,`Opening RPC '${e}' stream ${i} transport.`),m.open(),g=!0),pt(ga,`RPC '${e}' stream ${i} sending:`,w),m.send(w))},Zo:()=>m.close()}),b=(w,_,k)=>{w.listen(_,(A=>{try{k(A)}catch(R){setTimeout((()=>{throw R}),0)}}))};return b(m,s1.EventType.OPEN,(()=>{v||(pt(ga,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),b(m,s1.EventType.CLOSE,(()=>{v||(v=!0,pt(ga,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(m))})),b(m,s1.EventType.ERROR,(w=>{v||(v=!0,tm(ga,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),x.a_(new lt(Fe.UNAVAILABLE,"The operation could not be completed")))})),b(m,s1.EventType.MESSAGE,(w=>{var _;if(!v){const k=w.data[0];tn(!!k,16349);const A=k,R=(A==null?void 0:A.error)||((_=A[0])==null?void 0:_.error);if(R){pt(ga,`RPC '${e}' stream ${i} received error:`,R);const P=R.status;let j=(function(O){const D=Qi[O];if(D!==void 0)return MJ(D)})(P),S=R.message;j===void 0&&(j=Fe.INTERNAL,S="Unknown error status: "+P+" with message "+R.message),v=!0,x.a_(new lt(j,S)),m.close()}else pt(ga,`RPC '${e}' stream ${i} received:`,k),x.u_(k)}})),b(o,ZQ.STAT_EVENT,(w=>{w.stat===x6.PROXY?pt(ga,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===x6.NOPROXY&&pt(ga,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function s3(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(t){return new Obe(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XJ{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&pt("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VV="PersistentStream";class QJ{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new XJ(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(Nd(r.toString()),Nd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new lt(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return pt(VV,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(pt(VV,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class Cwe extends QJ{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=jbe(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Kt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Kt.min():a.readTime?vu(a.readTime):Kt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=O6(this.serializer),r.addTarget=(function(s,a){let o;const l=a.target;if(o=k6(l)?{documents:Lbe(s,l)}:{query:Fbe(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=BJ(s,a.resumeToken);const u=C6(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Kt.min())>0){o.readTime=dE(s,a.snapshotVersion.toTimestamp());const u=C6(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const n=Vbe(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=O6(this.serializer),r.removeTarget=e,this.q_(r)}}class Nwe extends QJ{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return tn(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,tn(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){tn(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=Mbe(e.writeResults,e.commitTime),n=vu(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=O6(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>Dbe(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iwe{}class Owe extends Iwe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new lt(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,N6(r,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new lt(Fe.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,N6(r,n),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new lt(Fe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class Rwe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Nd(r),this.aa=!1):pt("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rm="RemoteStore";class Pwe{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{Im(this)&&(pt(rm,"Restarting streams for network reachability change."),await(async function(l){const u=Qt(l);u.Ea.add(4),await ub(u),u.Ra.set("Unknown"),u.Ea.delete(4),await zS(u)})(this))}))})),this.Ra=new Rwe(n,i)}}async function zS(t){if(Im(t))for(const e of t.da)await e(!0)}async function ub(t){for(const e of t.da)await e(!1)}function JJ(t,e){const r=Qt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),rP(r)?tP(r):kv(r).O_()&&eP(r,e))}function ZR(t,e){const r=Qt(t),n=kv(r);r.Ia.delete(e),n.O_()&&ZJ(r,e),r.Ia.size===0&&(n.O_()?n.L_():Im(r)&&r.Ra.set("Unknown"))}function eP(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}kv(t).Y_(e)}function ZJ(t,e){t.Va.Ue(e),kv(t).Z_(e)}function tP(t){t.Va=new Abe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),kv(t).start(),t.Ra.ua()}function rP(t){return Im(t)&&!kv(t).x_()&&t.Ia.size>0}function Im(t){return Qt(t).Ea.size===0}function eZ(t){t.Va=void 0}async function jwe(t){t.Ra.set("Online")}async function Dwe(t){t.Ia.forEach(((e,r)=>{eP(t,e)}))}async function Mwe(t,e){eZ(t),rP(t)?(t.Ra.ha(e),tP(t)):t.Ra.set("Unknown")}async function Lwe(t,e,r){if(t.Ra.set("Online"),e instanceof FJ&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(n){pt(rm,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await fE(t,n)}else if(e instanceof j_?t.Va.Ze(e):e instanceof LJ?t.Va.st(e):t.Va.tt(e),!r.isEqual(Kt.min()))try{const n=await YJ(t.localStore);r.compareTo(n)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken($s.EMPTY_BYTE_STRING,d.snapshotVersion)),ZJ(s,l);const m=new $h(d.target,l,u,d.sequenceNumber);eP(s,m)})),s.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){pt(rm,"Failed to raise snapshot:",n),await fE(t,n)}}async function fE(t,e,r){if(!Sv(e))throw e;t.Ea.add(1),await ub(t),t.Ra.set("Offline"),r||(r=()=>YJ(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{pt(rm,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await zS(t)}))}function tZ(t,e){return e().catch((r=>fE(t,r,e)))}async function $S(t){const e=Qt(t),r=pf(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:BR;for(;Fwe(e);)try{const i=await xwe(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,Bwe(e,i)}catch(i){await fE(e,i)}rZ(e)&&nZ(e)}function Fwe(t){return Im(t)&&t.Ta.length<10}function Bwe(t,e){t.Ta.push(e);const r=pf(t);r.O_()&&r.X_&&r.ea(e.mutations)}function rZ(t){return Im(t)&&!pf(t).x_()&&t.Ta.length>0}function nZ(t){pf(t).start()}async function Vwe(t){pf(t).ra()}async function Uwe(t){const e=pf(t);for(const r of t.Ta)e.ea(r.mutations)}async function zwe(t,e,r){const n=t.Ta.shift(),i=WR.from(n,e,r);await tZ(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await $S(t)}async function $we(t,e){e&&pf(t).X_&&await(async function(n,i){if((function(a){return Tbe(a)&&a!==Fe.ABORTED})(i.code)){const s=n.Ta.shift();pf(n).B_(),await tZ(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await $S(n)}})(t,e),rZ(t)&&nZ(t)}async function UV(t,e){const r=Qt(t);r.asyncQueue.verifyOperationInProgress(),pt(rm,"RemoteStore received new credentials");const n=Im(r);r.Ea.add(3),await ub(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await zS(r)}async function Hwe(t,e){const r=Qt(t);e?(r.Ea.delete(2),await zS(r)):e||(r.Ea.add(2),await ub(r),r.Ra.set("Unknown"))}function kv(t){return t.ma||(t.ma=(function(r,n,i){const s=Qt(r);return s.sa(),new Cwe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:jwe.bind(null,t),t_:Dwe.bind(null,t),r_:Mwe.bind(null,t),H_:Lwe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),rP(t)?tP(t):t.Ra.set("Unknown")):(await t.ma.stop(),eZ(t))}))),t.ma}function pf(t){return t.fa||(t.fa=(function(r,n,i){const s=Qt(r);return s.sa(),new Nwe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:Vwe.bind(null,t),r_:$we.bind(null,t),ta:Uwe.bind(null,t),na:zwe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await $S(t)):(await t.fa.stop(),t.Ta.length>0&&(pt(rm,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nP{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new pd,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new nP(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new lt(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function iP(t,e){if(Nd("AsyncQueue",`${e}: ${t}`),Sv(t))return new lt(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dg{static emptySet(e){return new dg(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||At.comparator(r.key,n.key):(r,n)=>At.comparator(r.key,n.key),this.keyedMap=a1(),this.sortedSet=new cs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof dg)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new dg;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zV{constructor(){this.ga=new cs(At.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):zt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Wg{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach((o=>{a.push({type:0,doc:o})})),new Wg(e,r,dg.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&DS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qwe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Wwe{constructor(){this.queries=$V(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Qt(r),s=i.queries;i.queries=$V(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(n)}))})(this,new lt(Fe.ABORTED,"Firestore shutting down"))}}function $V(){return new Nm((t=>TJ(t)),DS)}async function sP(t,e){const r=Qt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new qwe,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=iP(a,`Initialization of query '${$p(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&oP(r)}async function aP(t,e){const r=Qt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Gwe(t,e){const r=Qt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&oP(r)}function Kwe(t,e,r){const n=Qt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function oP(t){t.Ca.forEach((e=>{e.next()}))}var j6,HV;(HV=j6||(j6={})).Ma="default",HV.Cache="cache";class lP{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Wg(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Wg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==j6.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iZ{constructor(e){this.key=e}}class sZ{constructor(e){this.key=e}}class Ywe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=br(),this.mutatedKeys=br(),this.eu=SJ(e),this.tu=new dg(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new zV,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,m)=>{const g=i.get(d),v=MS(this.query,m)?m:null,x=!!g&&this.mutatedKeys.has(g.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;g&&v?g.data.isEqual(v.data)?x!==b&&(n.track({type:3,doc:v}),w=!0):this.su(g,v)||(n.track({type:2,doc:v}),w=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(o=!0)):!g&&v?(n.track({type:0,doc:v}),w=!0):g&&!v&&(n.track({type:1,doc:g}),w=!0,(l||u)&&(o=!0)),w&&(v?(a=a.add(v),s=b?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,m)=>(function(v,x){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return zt(20277,{Rt:w})}};return b(v)-b(x)})(d.type,m.type)||this.eu(d.doc,m.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new Wg(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new zV,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=br(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new sZ(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new iZ(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=br();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Wg.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const cP="SyncEngine";class Xwe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Qwe{constructor(e){this.key=e,this.hu=!1}}class Jwe{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new Nm((o=>TJ(o)),DS),this.Iu=new Map,this.Eu=new Set,this.du=new cs(At.comparator),this.Au=new Map,this.Ru=new YR,this.Vu={},this.mu=new Map,this.fu=qg.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Zwe(t,e,r=!0){const n=dZ(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await aZ(n,e,r,!0),i}async function e2e(t,e){const r=dZ(t);await aZ(r,e,!0,!1)}async function aZ(t,e,r,n){const i=await bwe(t.localStore,gu(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await t2e(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&JJ(t.remoteStore,i),o}async function t2e(t,e,r,n,i){t.pu=(m,g,v)=>(async function(b,w,_,k){let A=w.view.ru(_);A.Cs&&(A=await MV(b.localStore,w.query,!1).then((({documents:S})=>w.view.ru(S,A))));const R=k&&k.targetChanges.get(w.targetId),P=k&&k.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(A,b.isPrimaryClient,R,P);return WV(b,w.targetId,j.au),j.snapshot})(t,m,g,v);const s=await MV(t.localStore,e,!0),a=new Ywe(e,s.Qs),o=a.ru(s.documents),l=cb.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);WV(t,r,u.au);const d=new Xwe(e,r,a);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function r2e(t,e,r){const n=Qt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((a=>!DS(a,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await R6(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&ZR(n.remoteStore,i.targetId),D6(n,i.targetId)})).catch(Tv)):(D6(n,i.targetId),await R6(n.localStore,i.targetId,!0))}async function n2e(t,e){const r=Qt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),ZR(r.remoteStore,n.targetId))}async function i2e(t,e,r){const n=d2e(t);try{const i=await(function(a,o){const l=Qt(a),u=Tn.now(),d=o.reduce(((v,x)=>v.add(x.key)),br());let m,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let x=Id(),b=br();return l.Ns.getEntries(v,d).next((w=>{x=w,x.forEach(((_,k)=>{k.isValidDocument()||(b=b.add(_))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,x))).next((w=>{m=w;const _=[];for(const k of o){const A=xbe(k,m.get(k.key).overlayedDocument);A!=null&&_.push(new Pf(k.key,A,vJ(A.value.mapValue),qa.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,_,o)})).next((w=>{g=w;const _=w.applyToLocalDocumentSet(m,b);return l.documentOverlayCache.saveOverlays(v,w.batchId,_)}))})).then((()=>({batchId:g.batchId,changes:AJ(m)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new cs(xr)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u})(n,i.batchId,r),await db(n,i.changes),await $S(n.remoteStore)}catch(i){const s=iP(i,"Failed to persist write");r.reject(s)}}async function oZ(t,e){const r=Qt(t);try{const n=await vwe(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=r.Au.get(s);a&&(tn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?tn(a.hu,14607):i.removedDocuments.size>0&&(tn(a.hu,42227),a.hu=!1))})),await db(r,n,e)}catch(n){await Tv(n)}}function qV(t,e,r){const n=Qt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Qt(a);l.onlineState=o;let u=!1;l.queries.forEach(((d,m)=>{for(const g of m.Sa)g.va(o)&&(u=!0)})),u&&oP(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function s2e(t,e,r){const n=Qt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new cs(At.comparator);a=a.insert(s,Ea.newNoDocument(s,Kt.min()));const o=br().add(s),l=new VS(Kt.min(),new Map,new cs(xr),a,o);await oZ(n,l),n.du=n.du.remove(s),n.Au.delete(e),uP(n)}else await R6(n.localStore,e,!1).then((()=>D6(n,e,r))).catch(Tv)}async function a2e(t,e){const r=Qt(t),n=e.batch.batchId;try{const i=await gwe(r.localStore,e);cZ(r,n,null),lZ(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await db(r,i)}catch(i){await Tv(i)}}async function o2e(t,e,r){const n=Qt(t);try{const i=await(function(a,o){const l=Qt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next((m=>(tn(m!==null,37113),d=m.keys(),l.mutationQueue.removeMutationBatch(u,m)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>l.localDocuments.getDocuments(u,d)))}))})(n.localStore,e);cZ(n,e,r),lZ(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await db(n,i)}catch(i){await Tv(i)}}function lZ(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function cZ(t,e,r){const n=Qt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function D6(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||uZ(t,n)}))}function uZ(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(ZR(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),uP(t))}function WV(t,e,r){for(const n of r)n instanceof iZ?(t.Ru.addReference(n.key,e),l2e(t,n)):n instanceof sZ?(pt(cP,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||uZ(t,n.key)):zt(19791,{wu:n})}function l2e(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(pt(cP,"New document in limbo: "+r),t.Eu.add(n),uP(t))}function uP(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new At(Rn.fromString(e)),n=t.fu.next();t.Au.set(n,new Qwe(r)),t.du=t.du.insert(r,n),JJ(t.remoteStore,new $h(gu(jS(r.path)),n,"TargetPurposeLimboResolution",IS.ce))}}async function db(t,e,r){const n=Qt(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,l)=>{a.push(n.pu(l,e,r).then((u=>{var d;if((u||r)&&n.isPrimaryClient){const m=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,m?"current":"not-current")}if(u){i.push(u);const m=QR.As(l.targetId,u);s.push(m)}})))})),await Promise.all(a),n.Pu.H_(i),await(async function(l,u){const d=Qt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(m=>$e.forEach(u,(g=>$e.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(m,g.targetId,v))).next((()=>$e.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(m,g.targetId,v)))))))))}catch(m){if(!Sv(m))throw m;pt(JR,"Failed to update sequence numbers: "+m)}for(const m of u){const g=m.targetId;if(!m.fromCache){const v=d.Ms.get(g),x=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(g,b)}}})(n.localStore,s))}async function c2e(t,e){const r=Qt(t);if(!r.currentUser.isEqual(e)){pt(cP,"User change. New user:",e.toKey());const n=await KJ(r.localStore,e);r.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new lt(Fe.CANCELLED,a))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await db(r,n.Ls)}}function u2e(t,e){const r=Qt(t),n=r.Au.get(e);if(n&&n.hu)return br().add(n.key);{let i=br();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function dZ(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=oZ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=u2e.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=s2e.bind(null,e),e.Pu.H_=Gwe.bind(null,e.eventManager),e.Pu.yu=Kwe.bind(null,e.eventManager),e}function d2e(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=a2e.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=o2e.bind(null,e),e}class mE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=US(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return pwe(this.persistence,new hwe,e.initialUser,this.serializer)}Cu(e){return new GJ(XR.mi,this.serializer)}Du(e){return new _we}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}mE.provider={build:()=>new mE};class h2e extends mE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){tn(this.persistence.referenceDelegate instanceof hE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Qbe(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?fo.withCacheSize(this.cacheSizeBytes):fo.DEFAULT;return new GJ((n=>hE.mi(n,r)),this.serializer)}}class M6{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>qV(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=c2e.bind(null,this.syncEngine),await Hwe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Wwe})()}createDatastore(e){const r=US(e.databaseInfo.databaseId),n=(function(s){return new Awe(s)})(e.databaseInfo);return(function(s,a,o,l){return new Owe(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,a,o){return new Pwe(n,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>qV(this.syncEngine,r,0)),(function(){return BV.v()?new BV:new Ewe})())}createSyncEngine(e,r){return(function(i,s,a,o,l,u,d){const m=new Jwe(i,s,a,o,l,u);return d&&(m.gu=!0),m})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Qt(i);pt(rm,"RemoteStore shutting down."),s.Ea.add(5),await ub(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}M6.provider={build:()=>new M6};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Nd("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="FirestoreClient";class f2e{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ba.UNAUTHENTICATED,this.clientId=CS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{pt(gf,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(pt(gf,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new pd;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=iP(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function a3(t,e){t.asyncQueue.verifyOperationInProgress(),pt(gf,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await KJ(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function GV(t,e){t.asyncQueue.verifyOperationInProgress();const r=await m2e(t);pt(gf,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>UV(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>UV(e.remoteStore,i))),t._onlineComponents=e}async function m2e(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){pt(gf,"Using user provided OfflineComponentProvider");try{await a3(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;tm("Error using user provided cache. Falling back to memory cache: "+r),await a3(t,new mE)}}else pt(gf,"Using default OfflineComponentProvider"),await a3(t,new h2e(void 0));return t._offlineComponents}async function hZ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(pt(gf,"Using user provided OnlineComponentProvider"),await GV(t,t._uninitializedComponentsProvider._online)):(pt(gf,"Using default OnlineComponentProvider"),await GV(t,new M6))),t._onlineComponents}function p2e(t){return hZ(t).then((e=>e.syncEngine))}async function pE(t){const e=await hZ(t),r=e.eventManager;return r.onListen=Zwe.bind(null,e.syncEngine),r.onUnlisten=r2e.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=e2e.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=n2e.bind(null,e.syncEngine),r}function g2e(t,e,r={}){const n=new pd;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const d=new dP({next:g=>{d.Nu(),a.enqueueAndForget((()=>aP(s,m)));const v=g.docs.has(o);!v&&g.fromCache?u.reject(new lt(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new lt(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new lP(jS(o.path),d,{includeMetadataChanges:!0,qa:!0});return sP(s,m)})(await pE(t),t.asyncQueue,e,r,n))),n.promise}function v2e(t,e,r={}){const n=new pd;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const d=new dP({next:g=>{d.Nu(),a.enqueueAndForget((()=>aP(s,m))),g.fromCache&&l.source==="server"?u.reject(new lt(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),m=new lP(o,d,{includeMetadataChanges:!0,qa:!0});return sP(s,m)})(await pE(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fZ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KV=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mZ="firestore.googleapis.com",YV=!0;class XV{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new lt(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=mZ,this.ssl=YV}else this.host=e.host,this.ssl=e.ssl??YV;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=WJ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Ybe)throw new lt(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}aJ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=fZ(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new lt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new lt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new lt(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class HS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new XV({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new lt(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new lt(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new XV(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new iJ;switch(n.type){case"firstParty":return new Axe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new lt(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=KV.get(r);n&&(pt("ComponentProvider","Removing Datastore"),KV.delete(r),n.terminate())})(this),Promise.resolve()}}function pZ(t,e,r,n={}){var u;t=Oa(t,HS);const i=Vd(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(ES(`https://${o}`),TS("Firestore",!0)),s.host!==mZ&&s.host!==o&&tm("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!Eu(l,a)&&(t._setSettings(l),n.mockUserToken)){let d,m;if(typeof n.mockUserToken=="string")d=n.mockUserToken,m=ba.MOCK_USER;else{d=DR(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new lt(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");m=new ba(g)}t._authCredentials=new Txe(new nJ(d,m))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mc{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Mc(this.firestore,e,this._query)}}class ui{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new gd(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}toJSON(){return{type:ui._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(ob(r,ui._jsonSchema))return new ui(e,n||null,new At(Rn.fromString(r.referencePath)))}}ui._jsonSchemaVersion="firestore/documentReference/1.0",ui._jsonSchema={type:ss("string",ui._jsonSchemaVersion),referencePath:ss("string")};class gd extends Mc{constructor(e,r,n){super(e,r,jS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new At(e))}withConverter(e){return new gd(this.firestore,e,this._path)}}function Vt(t,e,...r){if(t=Br(t),sJ("collection","path",e),t instanceof HS){const n=Rn.fromString(e,...r);return uV(n),new gd(t,null,n)}{if(!(t instanceof ui||t instanceof gd))throw new lt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Rn.fromString(e,...r));return uV(n),new gd(t.firestore,null,n)}}function Rt(t,e,...r){if(t=Br(t),arguments.length===1&&(e=CS.newId()),sJ("doc","path",e),t instanceof HS){const n=Rn.fromString(e,...r);return cV(n),new ui(t,null,new At(n))}{if(!(t instanceof ui||t instanceof gd))throw new lt(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Rn.fromString(e,...r));return cV(n),new ui(t.firestore,t instanceof gd?t.converter:null,new At(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QV="AsyncQueue";class JV{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new XJ(this,"async_queue_retry"),this._c=()=>{const n=s3();n&&pt(QV,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=s3();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=s3();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new pd;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Sv(e))throw e;pt(QV,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Nd("INTERNAL UNHANDLED ERROR: ",ZV(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=nP.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&zt(47125,{Pc:ZV(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function ZV(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class Ic extends HS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new JV,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new JV(e),this._firestoreClient=void 0,await e}}}function gZ(t,e){const r=typeof t=="object"?t:Am(),n=typeof t=="string"?t:aE,i=ab(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=jR("firestore");s&&pZ(i,...s)}return i}function Av(t){if(t._terminated)throw new lt(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y2e(t),t._firestoreClient}function y2e(t){var n,i,s;const e=t._freezeSettings(),r=(function(o,l,u,d){return new Hxe(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,fZ(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new f2e(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wo{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Wo($s.fromBase64String(e))}catch(r){throw new lt(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Wo($s.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Wo._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(ob(e,Wo._jsonSchema))return Wo.fromBase64String(e.bytes)}}Wo._jsonSchemaVersion="firestore/bytes/1.0",Wo._jsonSchema={type:ss("string",Wo._jsonSchemaVersion),bytes:ss("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Om{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new lt(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Bs(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function qS(){return new Om(w6)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _c{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new lt(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new lt(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return xr(this._lat,e._lat)||xr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:_c._jsonSchemaVersion}}static fromJSON(e){if(ob(e,_c._jsonSchema))return new _c(e.latitude,e.longitude)}}_c._jsonSchemaVersion="firestore/geoPoint/1.0",_c._jsonSchema={type:ss("string",_c._jsonSchemaVersion),latitude:ss("number"),longitude:ss("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Ec._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(ob(e,Ec._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new Ec(e.vectorValues);throw new lt(Fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Ec._jsonSchemaVersion="firestore/vectorValue/1.0",Ec._jsonSchema={type:ss("string",Ec._jsonSchemaVersion),vectorValues:ss("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2e=/^__.*__$/;class b2e{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new Pf(e,this.data,this.fieldMask,r,this.fieldTransforms):new lb(e,this.data,r,this.fieldTransforms)}}class vZ{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new Pf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function yZ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw zt(40011,{Ac:t})}}class WS{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new WS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return gE(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(yZ(this.Ac)&&x2e.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class w2e{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||US(e)}Cc(e,r,n,i=!1){return new WS({Ac:e,methodName:r,Dc:n,path:Bs.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cv(t){const e=t._freezeSettings(),r=US(t._databaseId);return new w2e(t._databaseId,!!e.ignoreUndefinedProperties,r)}function hP(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);gP("Data must be an object, but it was:",a,n);const o=EZ(n,a);let l,u;if(s.merge)l=new Zo(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const m of s.mergeFields){const g=L6(e,m,r);if(!a.contains(g))throw new lt(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);SZ(d,g)||d.push(g)}l=new Zo(d),u=a.fieldTransforms.filter((m=>l.covers(m.field)))}else l=null,u=a.fieldTransforms;return new b2e(new po(o),l,u)}class GS extends Rm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof GS}}function xZ(t,e,r){return new WS({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class fP extends Rm{_toFieldTransform(e){return new qR(e.path,new nx)}isEqual(e){return e instanceof fP}}class mP extends Rm{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=xZ(this,e,!0),n=this.vc.map((s=>Pm(s,r))),i=new $g(n);return new qR(e.path,i)}isEqual(e){return e instanceof mP&&Eu(this.vc,e.vc)}}class pP extends Rm{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=xZ(this,e,!0),n=this.vc.map((s=>Pm(s,r))),i=new Hg(n);return new qR(e.path,i)}isEqual(e){return e instanceof pP&&Eu(this.vc,e.vc)}}function bZ(t,e,r,n){const i=t.Cc(1,e,r);gP("Data must be an object, but it was:",i,n);const s=[],a=po.empty();Rf(n,((l,u)=>{const d=vP(e,l,r);u=Br(u);const m=i.yc(d);if(u instanceof GS)s.push(d);else{const g=Pm(u,m);g!=null&&(s.push(d),a.set(d,g))}}));const o=new Zo(s);return new vZ(a,o,i.fieldTransforms)}function wZ(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[L6(e,n,r)],l=[i];if(s.length%2!=0)throw new lt(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(L6(e,s[g])),l.push(s[g+1]);const u=[],d=po.empty();for(let g=o.length-1;g>=0;--g)if(!SZ(u,o[g])){const v=o[g];let x=l[g];x=Br(x);const b=a.yc(v);if(x instanceof GS)u.push(v);else{const w=Pm(x,b);w!=null&&(u.push(v),d.set(v,w))}}const m=new Zo(u);return new vZ(d,m,a.fieldTransforms)}function _Z(t,e,r,n=!1){return Pm(r,t.Cc(n?4:3,e))}function Pm(t,e){if(TZ(t=Br(t)))return gP("Unsupported field value:",e,t),EZ(t,e);if(t instanceof Rm)return(function(n,i){if(!yZ(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const o of n){let l=Pm(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Br(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return fbe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=Tn.fromDate(n);return{timestampValue:dE(i.serializer,s)}}if(n instanceof Tn){const s=new Tn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:dE(i.serializer,s)}}if(n instanceof _c)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Wo)return{bytesValue:BJ(i.serializer,n._byteString)};if(n instanceof ui){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:KR(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof Ec)return(function(a,o){return{mapValue:{fields:{[pJ]:{stringValue:gJ},[oE]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return HR(o.serializer,u)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${NS(n)}`)})(t,e)}function EZ(t,e){const r={};return cJ(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Rf(t,((n,i)=>{const s=Pm(i,e.mc(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function TZ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Tn||t instanceof _c||t instanceof Wo||t instanceof ui||t instanceof Rm||t instanceof Ec)}function gP(t,e,r){if(!TZ(r)||!oJ(r)){const n=NS(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function L6(t,e,r){if((e=Br(e))instanceof Om)return e._internalPath;if(typeof e=="string")return vP(t,e);throw gE("Field path arguments must be of type string or ",t,!1,void 0,r)}const _2e=new RegExp("[~\\*/\\[\\]]");function vP(t,e,r){if(e.search(_2e)>=0)throw gE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new Om(...e.split("."))._internalPath}catch{throw gE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function gE(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new lt(Fe.INVALID_ARGUMENT,o+t+l)}function SZ(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yP{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new E2e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(KS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class E2e extends yP{data(){return super.data()}}function KS(t,e){return typeof e=="string"?vP(t,e):e instanceof Om?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new lt(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class xP{}class hb extends xP{}function cr(t,e,...r){let n=[];e instanceof xP&&n.push(e),n=n.concat(r),(function(s){const a=s.filter((l=>l instanceof YS)).length,o=s.filter((l=>l instanceof fb)).length;if(a>1||a>0&&o>0)throw new lt(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class fb extends hb{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new fb(e,r,n)}_apply(e){const r=this._parse(e);return CZ(e._query,r),new Mc(e.firestore,e.converter,A6(e._query,r))}_parse(e){const r=Cv(e.firestore);return(function(s,a,o,l,u,d,m){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new lt(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){rU(m,d);const x=[];for(const b of m)x.push(tU(l,s,b));g={arrayValue:{values:x}}}else g=tU(l,s,m)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||rU(m,d),g=_Z(o,a,m,d==="in"||d==="not-in");return ns.create(u,d,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function gr(t,e,r){const n=e,i=KS("where",t);return fb._create(i,n,r)}class YS extends xP{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new YS(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:Nc.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)CZ(a,l),a=A6(a,l)})(e._query,r),new Mc(e.firestore,e.converter,A6(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class XS extends hb{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new XS(e,r)}_apply(e){const r=(function(i,s,a){if(i.startAt!==null)throw new lt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new lt(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new rx(s,a)})(e._query,this._field,this._direction);return new Mc(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new Cm(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function Wa(t,e="asc"){const r=e,n=KS("orderBy",t);return XS._create(n,r)}class QS extends hb{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new QS(e,r,n)}_apply(e){return new Mc(e.firestore,e.converter,cE(e._query,this._limit,this._limitType))}}function Ll(t){return Pxe("limit",t),QS._create("limit",t,"F")}class JS extends hb{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new JS(e,r,n)}_apply(e){const r=T2e(e,this.type,this._docOrFields,this._inclusive);return new Mc(e.firestore,e.converter,(function(i,s){return new Cm(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,r))}}function AZ(...t){return JS._create("startAfter",t,!1)}function T2e(t,e,r,n){if(r[0]=Br(r[0]),r[0]instanceof yP)return(function(s,a,o,l,u){if(!l)throw new lt(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const m of ug(s))if(m.field.isKeyField())d.push(lE(a,l.key));else{const g=l.data.field(m.field);if(RS(g))throw new lt(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+m.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const v=m.field.canonicalString();throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(g)}return new zg(d,u)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=Cv(t.firestore);return(function(a,o,l,u,d,m){const g=a.explicitOrderBy;if(d.length>g.length)throw new lt(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let x=0;x<d.length;x++){const b=d[x];if(g[x].field.isKeyField()){if(typeof b!="string")throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!$R(a)&&b.indexOf("/")!==-1)throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const w=a.path.child(Rn.fromString(b));if(!At.isDocumentKey(w))throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const _=new At(w);v.push(lE(o,_))}else{const w=_Z(l,u,b);v.push(w)}}return new zg(v,m)})(t._query,t.firestore._databaseId,i,e,r,n)}}function tU(t,e,r){if(typeof(r=Br(r))=="string"){if(r==="")throw new lt(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!$R(e)&&r.indexOf("/")!==-1)throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Rn.fromString(r));if(!At.isDocumentKey(n))throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return lE(t,new At(n))}if(r instanceof ui)return lE(t,r._key);throw new lt(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${NS(r)}.`)}function rU(t,e){if(!Array.isArray(t)||t.length===0)throw new lt(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function CZ(t,e){const r=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new lt(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new lt(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class NZ{convertValue(e,r="none"){switch(mf(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ff(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw zt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return Rf(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[oE].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Mi(a.doubleValue)));return new Ec(r)}convertGeoPoint(e){return new _c(Mi(e.latitude),Mi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=PS(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(ex(e));default:return null}}convertTimestamp(e){const r=hf(e);return new Tn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Rn.fromString(e);tn(qJ(n),9688,{name:e});const i=new Bg(n.get(1),n.get(3)),s=new At(n.popFirst(5));return i.isEqual(r)||Nd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bP(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class tg{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ef extends yP{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new _1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(KS("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=ef._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}ef._jsonSchemaVersion="firestore/documentSnapshot/1.0",ef._jsonSchema={type:ss("string",ef._jsonSchemaVersion),bundleSource:ss("string","DocumentSnapshot"),bundleName:ss("string"),bundle:ss("string")};class _1 extends ef{data(e={}){return super.data(e)}}class tf{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new tg(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new _1(this._firestore,this._userDataWriter,n.key,n,new tg(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new lt(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new _1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new _1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new tg(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:S2e(o.type),doc:l,oldIndex:u,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new lt(Fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=tf._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=CS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function S2e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return zt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(t){t=Oa(t,ui);const e=Oa(t.firestore,Ic);return g2e(Av(e),t._key).then((r=>IZ(e,t,r)))}tf._jsonSchemaVersion="firestore/querySnapshot/1.0",tf._jsonSchema={type:ss("string",tf._jsonSchemaVersion),bundleSource:ss("string","QuerySnapshot"),bundleName:ss("string"),bundle:ss("string")};class wP extends NZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Wo(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,r)}}function Zr(t){t=Oa(t,Mc);const e=Oa(t.firestore,Ic),r=Av(e),n=new wP(e);return kZ(t._query),v2e(r,t._query).then((i=>new tf(e,n,t,i)))}function jm(t,e,r){t=Oa(t,ui);const n=Oa(t.firestore,Ic),i=bP(t.converter,e,r);return Nv(n,[hP(Cv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,qa.none())])}function En(t,e,r,...n){t=Oa(t,ui);const i=Oa(t.firestore,Ic),s=Cv(i);let a;return a=typeof(e=Br(e))=="string"||e instanceof Om?wZ(s,"updateDoc",t._key,e,r,n):bZ(s,"updateDoc",t._key,e),Nv(i,[a.toMutation(t._key,qa.exists(!0))])}function ZS(t){return Nv(Oa(t.firestore,Ic),[new BS(t._key,qa.none())])}function vf(t,e){const r=Oa(t.firestore,Ic),n=Rt(t),i=bP(t.converter,e);return Nv(r,[hP(Cv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,qa.exists(!1))]).then((()=>n))}function wo(t,...e){var l,u,d;t=Br(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||eU(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(eU(e[n])){const m=e[n];e[n]=(l=m.next)==null?void 0:l.bind(m),e[n+1]=(u=m.error)==null?void 0:u.bind(m),e[n+2]=(d=m.complete)==null?void 0:d.bind(m)}let s,a,o;if(t instanceof ui)a=Oa(t.firestore,Ic),o=jS(t._key.path),s={next:m=>{e[n]&&e[n](IZ(a,t,m))},error:e[n+1],complete:e[n+2]};else{const m=Oa(t,Mc);a=Oa(m.firestore,Ic),o=m._query;const g=new wP(a);s={next:v=>{e[n]&&e[n](new tf(a,g,m,v))},error:e[n+1],complete:e[n+2]},kZ(t._query)}return(function(g,v,x,b){const w=new dP(b),_=new lP(v,w,x);return g.asyncQueue.enqueueAndForget((async()=>sP(await pE(g),_))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>aP(await pE(g),_)))}})(Av(a),o,i,s)}function Nv(t,e){return(function(n,i){const s=new pd;return n.asyncQueue.enqueueAndForget((async()=>i2e(await p2e(n),i,s))),s.promise})(Av(t),e)}function IZ(t,e,r){const n=r.docs.get(e._key),i=new wP(t);return new ef(t,i,e._key,n,new tg(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OZ{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=Cv(e)}set(e,r,n){this._verifyNotCommitted();const i=o3(e,this._firestore),s=bP(i.converter,r,n),a=hP(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,qa.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=o3(e,this._firestore);let a;return a=typeof(r=Br(r))=="string"||r instanceof Om?wZ(this._dataReader,"WriteBatch.update",s._key,r,n,i):bZ(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(a.toMutation(s._key,qa.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=o3(e,this._firestore);return this._mutations=this._mutations.concat(new BS(r._key,qa.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new lt(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function o3(t,e){if((t=Br(t)).firestore!==e)throw new lt(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function ys(){return new fP("serverTimestamp")}function ix(...t){return new mP("arrayUnion",t)}function _P(...t){return new pP("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function EP(t){return Av(t=Oa(t,Ic)),new OZ(t,(e=>Nv(t,e)))}(function(e,r=!0){(function(i){Ev=i})(Of),uf(new Ad("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new Ic(new Sxe(n.getProvider("auth-internal")),new Cxe(a,n.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new lt(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bg(u.options.projectId,d)})(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),$l(aV,oV,e),$l(aV,oV,"esm2020")})();const nm=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:NZ,Bytes:Wo,CollectionReference:gd,DocumentReference:ui,DocumentSnapshot:ef,FieldPath:Om,FieldValue:Rm,Firestore:Ic,FirestoreError:lt,GeoPoint:_c,Query:Mc,QueryCompositeFilterConstraint:YS,QueryConstraint:hb,QueryDocumentSnapshot:_1,QueryFieldFilterConstraint:fb,QueryLimitConstraint:QS,QueryOrderByConstraint:XS,QuerySnapshot:tf,QueryStartAtConstraint:JS,SnapshotMetadata:tg,Timestamp:Tn,VectorValue:Ec,WriteBatch:OZ,_AutoId:CS,_ByteString:$s,_DatabaseId:Bg,_DocumentKey:At,_EmptyAuthCredentialsProvider:iJ,_FieldPath:Bs,_cast:Oa,_logWarn:tm,_validateIsNotUsedTogether:aJ,addDoc:vf,arrayRemove:_P,arrayUnion:ix,collection:Vt,connectFirestoreEmulator:pZ,deleteDoc:ZS,doc:Rt,documentId:qS,ensureFirestoreConfigured:Av,executeWrite:Nv,getDoc:yu,getDocs:Zr,getFirestore:gZ,limit:Ll,onSnapshot:wo,orderBy:Wa,query:cr,serverTimestamp:ys,setDoc:jm,startAfter:AZ,updateDoc:En,where:gr,writeBatch:EP},Symbol.toStringTag,{value:"Module"}));var k2e="firebase",A2e="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$l(k2e,A2e,"app");function RZ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const C2e=RZ,PZ=new sb("auth","Firebase",RZ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=new kS("@firebase/auth");function N2e(t,...e){vE.logLevel<=pr.WARN&&vE.warn(`Auth (${Of}): ${t}`,...e)}function D_(t,...e){vE.logLevel<=pr.ERROR&&vE.error(`Auth (${Of}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oc(t,...e){throw TP(t,...e)}function xu(t,...e){return TP(t,...e)}function jZ(t,e,r){const n={...C2e(),[e]:r};return new sb("auth","Firebase",n).create(e,{appName:t.name})}function vd(t){return jZ(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function TP(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return PZ.create(t,...e)}function Ut(t,e,...r){if(!t)throw TP(e,...r)}function ld(t){const e="INTERNAL ASSERTION FAILED: "+t;throw D_(e),new Error(e)}function Od(t,e){t||ld(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F6(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function I2e(){return nU()==="http:"||nU()==="https:"}function nU(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(I2e()||Zye()||"connection"in navigator)?navigator.onLine:!0}function R2e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mb{constructor(e,r){this.shortDelay=e,this.longDelay=r,Od(r>e,"Short delay should be less than long delay!"),this.isMobile=MR()||HQ()}get(){return O2e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(t,e){Od(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DZ{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ld("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ld("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ld("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P2e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j2e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],D2e=new mb(3e4,6e4);function Ud(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ru(t,e,r,n,i={}){return MZ(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=_v({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return Jye()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Vd(t.emulatorConfig.host)&&(u.credentials="include"),DZ.fetch()(await LZ(t,t.config.apiHost,r,o),u)})}async function MZ(t,e,r){t._canInitEmulator=!1;const n={...P2e,...e};try{const i=new L2e(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw I2(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw I2(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw I2(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw I2(t,"user-disabled",a);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw jZ(t,d,u);Oc(t,d)}}catch(i){if(i instanceof Iu)throw i;Oc(t,"network-request-failed",{message:String(i)})}}async function pb(t,e,r,n,i={}){const s=await Ru(t,e,r,n,i);return"mfaPendingCredential"in s&&Oc(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function LZ(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?SP(t.config,i):`${t.config.apiScheme}://${i}`;return j2e.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function M2e(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class L2e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(xu(this.auth,"network-request-failed")),D2e.get())})}}function I2(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=xu(t,e,n);return i.customData._tokenResponse=r,i}function iU(t){return t!==void 0&&t.enterprise!==void 0}class F2e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return M2e(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function B2e(t,e){return Ru(t,"GET","/v2/recaptchaConfig",Ud(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function V2e(t,e){return Ru(t,"POST","/v1/accounts:delete",e)}async function yE(t,e){return Ru(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function U2e(t,e=!1){const r=Br(t),n=await r.getIdToken(e),i=kP(n);Ut(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:E1(l3(i.auth_time)),issuedAtTime:E1(l3(i.iat)),expirationTime:E1(l3(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function l3(t){return Number(t)*1e3}function kP(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return D_("JWT malformed, contained fewer than 3 sections"),null;try{const i=rE(r);return i?JSON.parse(i):(D_("Failed to decode base64 JWT payload"),null)}catch(i){return D_("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function sU(t){const e=kP(t);return Ut(e,"internal-error"),Ut(typeof e.exp<"u","internal-error"),Ut(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Gg(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof Iu&&z2e(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function z2e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $2e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B6{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=E1(this.lastLoginAt),this.creationTime=E1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function xE(t){var m;const e=t.auth,r=await t.getIdToken(),n=await Gg(t,yE(e,{idToken:r}));Ut(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(m=i.providerUserInfo)!=null&&m.length?FZ(i.providerUserInfo):[],a=q2e(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new B6(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function H2e(t){const e=Br(t);await xE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function q2e(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function FZ(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W2e(t,e){const r=await MZ(t,{},async()=>{const n=_v({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await LZ(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Vd(t.emulatorConfig.host)&&(l.credentials="include"),DZ.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function G2e(t,e){return Ru(t,"POST","/v2/accounts:revokeToken",Ud(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Ut(e.idToken,"internal-error"),Ut(typeof e.idToken<"u","internal-error"),Ut(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):sU(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Ut(e.length!==0,"internal-error");const r=sU(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Ut(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await W2e(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new hg;return n&&(Ut(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Ut(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Ut(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new hg,this.toJSON())}_performRefresh(){return ld("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nh(t,e){Ut(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class vc{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new $2e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new B6(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Gg(this,this.stsTokenManager.getToken(this.auth,e));return Ut(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return U2e(this,e)}reload(){return H2e(this)}_assign(e){this!==e&&(Ut(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new vc({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Ut(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await xE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(mo(this.auth.app))return Promise.reject(vd(this.auth));const e=await this.getIdToken();return await Gg(this,V2e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:m,emailVerified:g,isAnonymous:v,providerData:x,stsTokenManager:b}=r;Ut(m&&b,e,"internal-error");const w=hg.fromJSON(this.name,b);Ut(typeof m=="string",e,"internal-error"),Nh(n,e.name),Nh(i,e.name),Ut(typeof g=="boolean",e,"internal-error"),Ut(typeof v=="boolean",e,"internal-error"),Nh(s,e.name),Nh(a,e.name),Nh(o,e.name),Nh(l,e.name),Nh(u,e.name),Nh(d,e.name);const _=new vc({uid:m,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(_.providerData=x.map(k=>({...k}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,r,n=!1){const i=new hg;i.updateFromServerResponse(r);const s=new vc({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await xE(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Ut(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?FZ(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new hg;o.updateFromIdToken(n);const l=new vc({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new B6(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const aU=new Map;function cd(t){Od(t instanceof Function,"Expected a class definition");let e=aU.get(t);return e?(Od(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,aU.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}BZ.type="NONE";const oU=BZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M_(t,e,r){return`firebase:${t}:${e}:${r}`}class fg{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=M_(this.userKey,i.apiKey,s),this.fullPersistenceKey=M_("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await yE(this.auth,{idToken:e}).catch(()=>{});return r?vc._fromGetAccountInfoResponse(this.auth,r,e):null}return vc._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new fg(cd(oU),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||cd(oU);const a=M_(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(a);if(d){let m;if(typeof d=="string"){const g=await yE(e,{idToken:d}).catch(()=>{});if(!g)break;m=await vc._fromGetAccountInfoResponse(e,g,d)}else m=vc._fromJSON(e,d);u!==s&&(o=m),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new fg(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new fg(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lU(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if($Z(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(VZ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(qZ(e))return"Blackberry";if(WZ(e))return"Webos";if(UZ(e))return"Safari";if((e.includes("chrome/")||zZ(e))&&!e.includes("edge/"))return"Chrome";if(HZ(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function VZ(t=Pa()){return/firefox\//i.test(t)}function UZ(t=Pa()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function zZ(t=Pa()){return/crios\//i.test(t)}function $Z(t=Pa()){return/iemobile/i.test(t)}function HZ(t=Pa()){return/android/i.test(t)}function qZ(t=Pa()){return/blackberry/i.test(t)}function WZ(t=Pa()){return/webos/i.test(t)}function AP(t=Pa()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function K2e(t=Pa()){var e;return AP(t)&&!!((e=window.navigator)!=null&&e.standalone)}function Y2e(){return e1e()&&document.documentMode===10}function GZ(t=Pa()){return AP(t)||HZ(t)||WZ(t)||qZ(t)||/windows phone/i.test(t)||$Z(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KZ(t,e=[]){let r;switch(t){case"Browser":r=lU(Pa());break;case"Worker":r=`${lU(Pa())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Of}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X2e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Q2e(t,e={}){return Ru(t,"GET","/v2/passwordPolicy",Ud(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J2e=6;class Z2e{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??J2e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_e{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new cU(this),this.idTokenSubscription=new cU(this),this.beforeStateQueue=new X2e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=PZ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=cd(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await fg.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await yE(this,{idToken:e}),n=await vc._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(mo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Ut(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await xE(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=R2e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(mo(this.app))return Promise.reject(vd(this));const r=e?Br(e):null;return r&&Ut(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Ut(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return mo(this.app)?Promise.reject(vd(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return mo(this.app)?Promise.reject(vd(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(cd(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Q2e(this),r=new Z2e(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new sb("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await G2e(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&cd(e)||this._popupRedirectResolver;Ut(r,this,"argument-error"),this.redirectPersistenceManager=await fg.create(this,[cd(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Ut(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Ut(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=KZ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&N2e(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function jf(t){return Br(t)}class cU{constructor(e){this.auth=e,this.observer=null,this.addObserver=d1e(r=>this.observer=r)}get next(){return Ut(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let e4={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function t_e(t){e4=t}function YZ(t){return e4.loadJS(t)}function r_e(){return e4.recaptchaEnterpriseScript}function n_e(){return e4.gapiScript}function i_e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class s_e{constructor(){this.enterprise=new a_e}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class a_e{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const o_e="recaptcha-enterprise",XZ="NO_RECAPTCHA";class l_e{constructor(e){this.type=o_e,this.auth=jf(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{B2e(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new F2e(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;iU(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(XZ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new s_e().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&iU(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=r_e();l.length!==0&&(l+=o),YZ(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function uU(t,e,r,n=!1,i=!1){const s=new l_e(t);let a;if(i)a=XZ;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function bE(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await uU(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await uU(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function c_e(t,e){const r=ab(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(Eu(s,e??{}))return i;Oc(i,"already-initialized")}return r.initialize({options:e})}function u_e(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(cd);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function d_e(t,e,r){const n=jf(t);Ut(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=QZ(e),{host:a,port:o}=h_e(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Ut(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Ut(Eu(u,n.config.emulator)&&Eu(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Vd(a)?(ES(`${s}//${a}${l}`),TS("Auth",!0)):f_e()}function QZ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function h_e(t){const e=QZ(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:dU(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:dU(a)}}}function dU(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function f_e(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CP{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return ld("not implemented")}_getIdTokenResponse(e){return ld("not implemented")}_linkToIdToken(e,r){return ld("not implemented")}_getReauthenticationResolver(e){return ld("not implemented")}}async function m_e(t,e){return Ru(t,"POST","/v1/accounts:update",e)}async function p_e(t,e){return Ru(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function g_e(t,e){return pb(t,"POST","/v1/accounts:signInWithPassword",Ud(t,e))}async function v_e(t,e){return Ru(t,"POST","/v1/accounts:sendOobCode",Ud(t,e))}async function y_e(t,e){return v_e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_e(t,e){return pb(t,"POST","/v1/accounts:signInWithEmailLink",Ud(t,e))}async function b_e(t,e){return pb(t,"POST","/v1/accounts:signInWithEmailLink",Ud(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sx extends CP{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new sx(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new sx(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,r,"signInWithPassword",g_e);case"emailLink":return x_e(e,{email:this._email,oobCode:this._password});default:Oc(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return bE(e,n,"signUpPassword",p_e);case"emailLink":return b_e(e,{idToken:r,email:this._email,oobCode:this._password});default:Oc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mg(t,e){return pb(t,"POST","/v1/accounts:signInWithIdp",Ud(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w_e="http://localhost";class im extends CP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new im(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):Oc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new im(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return mg(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,mg(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,mg(e,r)}buildRequest(){const e={requestUri:w_e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=_v(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function __e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function E_e(t){const e=n1(i1(t)).link,r=e?n1(i1(e)).deep_link_id:null,n=n1(i1(t)).deep_link_id;return(n?n1(i1(n)).link:null)||n||r||e||t}class NP{constructor(e){const r=n1(i1(e)),n=r.apiKey??null,i=r.oobCode??null,s=__e(r.mode??null);Ut(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=E_e(e);try{return new NP(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dm{constructor(){this.providerId=Dm.PROVIDER_ID}static credential(e,r){return sx._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=NP.parseLink(r);return Ut(n,"argument-error"),sx._fromEmailAndCode(e,n.code,n.tenantId)}}Dm.PROVIDER_ID="password";Dm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Dm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JZ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gb extends JZ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dh extends gb{constructor(){super("facebook.com")}static credential(e){return im._fromParams({providerId:Dh.PROVIDER_ID,signInMethod:Dh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Dh.credentialFromTaggedObject(e)}static credentialFromError(e){return Dh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Dh.credential(e.oauthAccessToken)}catch{return null}}}Dh.FACEBOOK_SIGN_IN_METHOD="facebook.com";Dh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mh extends gb{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return im._fromParams({providerId:Mh.PROVIDER_ID,signInMethod:Mh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return Mh.credentialFromTaggedObject(e)}static credentialFromError(e){return Mh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return Mh.credential(r,n)}catch{return null}}}Mh.GOOGLE_SIGN_IN_METHOD="google.com";Mh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh extends gb{constructor(){super("github.com")}static credential(e){return im._fromParams({providerId:Lh.PROVIDER_ID,signInMethod:Lh.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Lh.credentialFromTaggedObject(e)}static credentialFromError(e){return Lh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Lh.credential(e.oauthAccessToken)}catch{return null}}}Lh.GITHUB_SIGN_IN_METHOD="github.com";Lh.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends gb{constructor(){super("twitter.com")}static credential(e,r){return im._fromParams({providerId:Fh.PROVIDER_ID,signInMethod:Fh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Fh.credentialFromTaggedObject(e)}static credentialFromError(e){return Fh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Fh.credential(r,n)}catch{return null}}}Fh.TWITTER_SIGN_IN_METHOD="twitter.com";Fh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function T_e(t,e){return pb(t,"POST","/v1/accounts:signUp",Ud(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sm{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await vc._fromIdTokenResponse(e,n,i),a=hU(n);return new sm({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=hU(n);return new sm({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function hU(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends Iu{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,wE.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new wE(e,r,n,i)}}function ZZ(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?wE._fromErrorAndOperation(t,s,e,n):s})}async function S_e(t,e,r=!1){const n=await Gg(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return sm._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eee(t,e,r=!1){const{auth:n}=t;if(mo(n.app))return Promise.reject(vd(n));const i="reauthenticate";try{const s=await Gg(t,ZZ(n,i,e,t),r);Ut(s.idToken,n,"internal-error");const a=kP(s.idToken);Ut(a,n,"internal-error");const{sub:o}=a;return Ut(t.uid===o,n,"user-mismatch"),sm._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Oc(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tee(t,e,r=!1){if(mo(t.app))return Promise.reject(vd(t));const n="signIn",i=await ZZ(t,n,e),s=await sm._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function k_e(t,e){return tee(jf(t),e)}async function A_e(t,e){return eee(Br(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ree(t){const e=jf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function C_e(t,e,r){const n=jf(t);await bE(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",y_e)}async function IP(t,e,r){if(mo(t.app))return Promise.reject(vd(t));const n=jf(t),a=await bE(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",T_e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&ree(t),l}),o=await sm._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function V6(t,e,r){return mo(t.app)?Promise.reject(vd(t)):k_e(Br(t),Dm.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&ree(t),n})}function N_e(t,e){return I_e(Br(t),null,e)}async function I_e(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const a=await Gg(t,m_e(n,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function L_(t,e){return Br(t).setPersistence(e)}function O_e(t,e,r,n){return Br(t).onIdTokenChanged(e,r,n)}function R_e(t,e,r){return Br(t).beforeAuthStateChanged(e,r)}function nee(t,e,r,n){return Br(t).onAuthStateChanged(e,r,n)}function iee(t){return Br(t).signOut()}const _E="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class see{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(_E,"1"),this.storage.removeItem(_E),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_e=1e3,j_e=10;class aee extends see{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=GZ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);Y2e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,j_e):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},P_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}aee.type="LOCAL";const EE=aee;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oee extends see{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}oee.type="SESSION";const OP=oee;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D_e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t4{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new t4(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await D_e(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t4.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RP(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M_e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=RP("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(m){const g=m;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bu(){return window}function L_e(t){bu().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lee(){return typeof bu().WorkerGlobalScope<"u"&&typeof bu().importScripts=="function"}async function F_e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function B_e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function V_e(){return lee()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cee="firebaseLocalStorageDb",U_e=1,TE="firebaseLocalStorage",uee="fbase_key";class vb{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function r4(t,e){return t.transaction([TE],e?"readwrite":"readonly").objectStore(TE)}function z_e(){const t=indexedDB.deleteDatabase(cee);return new vb(t).toPromise()}function U6(){const t=indexedDB.open(cee,U_e);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(TE,{keyPath:uee})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(TE)?e(n):(n.close(),await z_e(),e(await U6()))})})}async function fU(t,e,r){const n=r4(t,!0).put({[uee]:e,value:r});return new vb(n).toPromise()}async function $_e(t,e){const r=r4(t,!1).get(e),n=await new vb(r).toPromise();return n===void 0?null:n.value}function mU(t,e){const r=r4(t,!0).delete(e);return new vb(r).toPromise()}const H_e=800,q_e=3;class dee{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U6(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>q_e)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return lee()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=t4._getInstance(V_e()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await F_e(),!this.activeServiceWorker)return;this.sender=new M_e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||B_e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U6();return await fU(e,_E,"1"),await mU(e,_E),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>fU(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>$_e(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>mU(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=r4(i,!1).getAll();return new vb(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),H_e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}dee.type="LOCAL";const W_e=dee;new mb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function G_e(t,e){return e?cd(e):(Ut(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP extends CP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mg(e,this._buildIdpRequest())}_linkToIdToken(e,r){return mg(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return mg(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function K_e(t){return tee(t.auth,new PP(t),t.bypassAuthState)}function Y_e(t){const{auth:e,user:r}=t;return Ut(r,e,"internal-error"),eee(r,new PP(t),t.bypassAuthState)}async function X_e(t){const{auth:e,user:r}=t;return Ut(r,e,"internal-error"),S_e(r,new PP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return K_e;case"linkViaPopup":case"linkViaRedirect":return X_e;case"reauthViaPopup":case"reauthViaRedirect":return Y_e;default:Oc(this.auth,"internal-error")}}resolve(e){Od(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Od(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q_e=new mb(2e3,1e4);class rg extends hee{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,rg.currentPopupAction&&rg.currentPopupAction.cancel(),rg.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Ut(e,this.auth,"internal-error"),e}async onExecution(){Od(this.filter.length===1,"Popup operations only handle one event");const e=RP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(xu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(xu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,rg.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(xu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Q_e.get())};e()}}rg.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J_e="pendingRedirect",F_=new Map;class Z_e extends hee{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=F_.get(this.auth._key());if(!e){try{const n=await eEe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}F_.set(this.auth._key(),e)}return this.bypassAuthState||F_.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function eEe(t,e){const r=nEe(e),n=rEe(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function tEe(t,e){F_.set(t._key(),e)}function rEe(t){return cd(t._redirectPersistence)}function nEe(t){return M_(J_e,t.config.apiKey,t.name)}async function iEe(t,e,r=!1){if(mo(t.app))return Promise.reject(vd(t));const n=jf(t),i=G_e(n,e),a=await new Z_e(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sEe=600*1e3;class aEe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!oEe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!fee(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(xu(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=sEe&&this.cachedEventUids.clear(),this.cachedEventUids.has(pU(e))}saveEventToCache(e){this.cachedEventUids.add(pU(e)),this.lastProcessedEventTime=Date.now()}}function pU(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function fee({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function oEe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return fee(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lEe(t,e={}){return Ru(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,uEe=/^https?/;async function dEe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await lEe(t);for(const r of e)try{if(hEe(r))return}catch{}Oc(t,"unauthorized-domain")}function hEe(t){const e=F6(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!uEe.test(r))return!1;if(cEe.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fEe=new mb(3e4,6e4);function gU(){const t=bu().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function mEe(t){return new Promise((e,r)=>{var i,s,a;function n(){gU(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{gU(),r(xu(t,"network-request-failed"))},timeout:fEe.get()})}if((s=(i=bu().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=bu().gapi)!=null&&a.load)n();else{const o=i_e("iframefcb");return bu()[o]=()=>{gapi.load?n():r(xu(t,"network-request-failed"))},YZ(`${n_e()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw B_=null,e})}let B_=null;function pEe(t){return B_=B_||mEe(t),B_}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gEe=new mb(5e3,15e3),vEe="__/auth/iframe",yEe="emulator/auth/iframe",xEe={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},bEe=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function wEe(t){const e=t.config;Ut(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?SP(e,yEe):`https://${t.config.authDomain}/${vEe}`,n={apiKey:e.apiKey,appName:t.name,v:Of},i=bEe.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${_v(n).slice(1)}`}async function _Ee(t){const e=await pEe(t),r=bu().gapi;return Ut(r,t,"internal-error"),e.open({where:document.body,url:wEe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:xEe,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=xu(t,"network-request-failed"),o=bu().setTimeout(()=>{s(a)},gEe.get());function l(){bu().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},TEe=500,SEe=600,kEe="_blank",AEe="http://localhost";class vU{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function CEe(t,e,r,n=TEe,i=SEe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...EEe,width:n.toString(),height:i.toString(),top:s,left:a},u=Pa().toLowerCase();r&&(o=zZ(u)?kEe:r),VZ(u)&&(e=e||AEe,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(K2e(u)&&o!=="_self")return NEe(e||"",o),new vU(null);const m=window.open(e||"",o,d);Ut(m,t,"popup-blocked");try{m.focus()}catch{}return new vU(m)}function NEe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IEe="__/auth/handler",OEe="emulator/auth/handler",REe=encodeURIComponent("fac");async function yU(t,e,r,n,i,s){Ut(t.config.authDomain,t,"auth-domain-config-required"),Ut(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Of,eventId:i};if(e instanceof JZ){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",nE(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,m]of Object.entries({}))a[d]=m}if(e instanceof gb){const d=e.getScopes().filter(m=>m!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${REe}=${encodeURIComponent(l)}`:"";return`${PEe(t)}?${_v(o).slice(1)}${u}`}function PEe({config:t}){return t.emulator?SP(t,OEe):`https://${t.authDomain}/${IEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c3="webStorageSupport";class jEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=OP,this._completeRedirectFn=iEe,this._overrideRedirectResult=tEe}async _openPopup(e,r,n,i){var a;Od((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await yU(e,r,n,F6(),i);return CEe(e,s,RP())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await yU(e,r,n,F6(),i);return L_e(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(Od(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await _Ee(e),n=new aEe(e);return r.register("authEvent",i=>(Ut(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(c3,{type:c3},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[c3];s!==void 0&&r(!!s),Oc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=dEe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return GZ()||UZ()||AP()}}const DEe=jEe;var xU="@firebase/auth",bU="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Ut(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LEe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function FEe(t){uf(new Ad("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Ut(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:KZ(t)},u=new e_e(n,i,s,l);return u_e(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),uf(new Ad("auth-internal",e=>{const r=jf(e.getProvider("auth").getImmediate());return(n=>new MEe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),$l(xU,bU,LEe(t)),$l(xU,bU,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BEe=300,VEe=$Q("authIdTokenMaxAge")||BEe;let wU=null;const UEe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>VEe)return;const i=r==null?void 0:r.token;wU!==i&&(wU=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function jP(t=Am()){const e=ab(t,"auth");if(e.isInitialized())return e.getImmediate();const r=c_e(t,{popupRedirectResolver:DEe,persistence:[W_e,EE,OP]}),n=$Q("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=UEe(s.toString());R_e(r,a,()=>a(r.currentUser)),O_e(r,o=>a(o))}}const i=UQ("auth");return i&&d_e(r,`http://${i}`),r}function zEe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}t_e({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=xu("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",zEe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});FEe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee="firebasestorage.googleapis.com",$Ee="storageBucket",HEe=120*1e3,qEe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Df=class pee extends Iu{constructor(e,r,n=0){super(u3(e),`Firebase Storage: ${r} (${u3(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,pee.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return u3(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var Su;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Su||(Su={}));function u3(t){return"storage/"+t}function WEe(){const t="An unknown error occurred, please check the error payload for server response.";return new Df(Su.UNKNOWN,t)}function GEe(){return new Df(Su.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function KEe(){return new Df(Su.CANCELED,"User canceled the upload/download.")}function YEe(t){return new Df(Su.INVALID_URL,"Invalid URL '"+t+"'.")}function XEe(t){return new Df(Su.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function _U(t){return new Df(Su.INVALID_ARGUMENT,t)}function gee(){return new Df(Su.APP_DELETED,"The Firebase app was deleted.")}function QEe(t){return new Df(Su.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yc{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=yc.makeFromUrl(e,r)}catch{return new yc(e,"")}if(n.path==="")return n;throw XEe(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(R){R.path.charAt(R.path.length-1)==="/"&&(R.path_=R.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(R){R.path_=decodeURIComponent(R.path)}const d="v[A-Za-z0-9_]+",m=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${m}/${d}/b/${i}/o${g}`,"i"),x={bucket:1,path:3},b=r===mee?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",_=new RegExp(`^https?://${b}/${i}/${w}`,"i"),A=[{regex:o,indices:l,postModify:s},{regex:v,indices:x,postModify:u},{regex:_,indices:{bucket:1,path:2},postModify:u}];for(let R=0;R<A.length;R++){const P=A[R],j=P.regex.exec(e);if(j){const S=j[P.indices.bucket];let I=j[P.indices.path];I||(I=""),n=new yc(S,I),P.postModify(n);break}}if(n==null)throw YEe(e);return n}}class JEe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ZEe(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function m(w){i=setTimeout(()=>{i=null,t(v,l())},w)}function g(){s&&clearTimeout(s)}function v(w,..._){if(u){g();return}if(w){g(),d.call(null,w,..._);return}if(l()||a){g(),d.call(null,w,..._);return}n<64&&(n*=2);let A;o===1?(o=2,A=0):A=(n+Math.random())*1e3,m(A)}let x=!1;function b(w){x||(x=!0,g(),!u&&(i!==null?(w||(o=2),clearTimeout(i),m(0)):w||(o=1)))}return m(0),s=setTimeout(()=>{a=!0,b(!0)},r),b}function eTe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tTe(t){return t!==void 0}function EU(t,e,r,n){if(n<e)throw _U(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw _U(`Invalid value for '${t}'. Expected ${r} or less.`)}function rTe(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var SE;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(SE||(SE={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nTe(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iTe{constructor(e,r,n,i,s,a,o,l,u,d,m,g=!0,v=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=m,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new O2(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===SE.NO_ERROR,l=s.getStatus();if(!o||nTe(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===SE.ABORT;n(!1,new O2(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new O2(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());tTe(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=WEe();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?gee():KEe();a(l)}else{const l=GEe();a(l)}};this.canceled_?r(!1,new O2(!1,null,!0)):this.backoffId_=ZEe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&eTe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class O2{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function sTe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function aTe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function oTe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function lTe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function cTe(t,e,r,n,i,s,a=!0,o=!1){const l=rTe(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return oTe(d,e),sTe(d,r),aTe(d,s),lTe(d,n),new iTe(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uTe(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function dTe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kE{constructor(e,r){this._service=e,r instanceof yc?this._location=r:this._location=yc.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new kE(e,r)}get root(){const e=new yc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return dTe(this._location.path)}get storage(){return this._service}get parent(){const e=uTe(this._location.path);if(e===null)return null;const r=new yc(this._location.bucket,e);return new kE(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw QEe(e)}}function TU(t,e){const r=e==null?void 0:e[$Ee];return r==null?null:yc.makeFromBucketSpec(r,t)}function hTe(t,e,r,n={}){t.host=`${e}:${r}`;const i=Vd(e);i&&(ES(`https://${t.host}/b`),TS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:DR(s,t.app.options.projectId))}class fTe{constructor(e,r,n,i,s,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=mee,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=HEe,this._maxUploadRetryTime=qEe,this._requests=new Set,i!=null?this._bucket=yc.makeFromBucketSpec(i,this._host):this._bucket=TU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=yc.makeFromBucketSpec(this._url,e):this._bucket=TU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){EU("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){EU("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(mo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new kE(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new JEe(gee());{const a=cTe(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const SU="@firebase/storage",kU="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vee="storage";function mTe(t=Am(),e){t=Br(t);const n=ab(t,vee).getImmediate({identifier:e}),i=jR("storage");return i&&pTe(n,...i),n}function pTe(t,e,r,n={}){hTe(t,e,r,n)}function gTe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fTe(r,n,i,e,Of)}function vTe(){uf(new Ad(vee,gTe,"PUBLIC").setMultipleInstances(!0)),$l(SU,kU,""),$l(SU,kU,"esm2020")}vTe();var AU={};const CU="@firebase/database",NU="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yee="";function yTe(t){yee=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xTe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Fs(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:X1(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bTe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return Ou(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xee=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new xTe(e)}}catch{}return new bTe},O0=xee("localStorage"),wTe=xee("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pg=new kS("@firebase/database"),_Te=(function(){let t=1;return function(){return t++}})(),bee=function(t){const e=m1e(t),r=new u1e;r.update(e);const n=r.digest();return PR.encodeByteArray(n)},yb=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=yb.apply(null,n):typeof n=="object"?e+=Fs(n):e+=n,e+=" "}return e};let T1=null,IU=!0;const ETe=function(t,e){at(!0,"Can't turn on custom loggers persistently."),pg.logLevel=pr.VERBOSE,T1=pg.log.bind(pg)},Ls=function(...t){if(IU===!0&&(IU=!1,T1===null&&wTe.get("logging_enabled")===!0&&ETe()),T1){const e=yb.apply(null,t);T1(e)}},xb=function(t){return function(...e){Ls(t,...e)}},z6=function(...t){const e="FIREBASE INTERNAL ERROR: "+yb(...t);pg.error(e)},Rd=function(...t){const e=`FIREBASE FATAL ERROR: ${yb(...t)}`;throw pg.error(e),new Error(e)},Ga=function(...t){const e="FIREBASE WARNING: "+yb(...t);pg.warn(e)},TTe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ga("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},n4=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},STe=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Kg="[MIN_NAME]",am="[MAX_NAME]",Mm=function(t,e){if(t===e)return 0;if(t===Kg||e===am)return-1;if(e===Kg||t===am)return 1;{const r=OU(t),n=OU(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},kTe=function(t,e){return t===e?0:t<e?-1:1},zy=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Fs(e))},DP=function(t){if(typeof t!="object"||t===null)return Fs(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=Fs(e[n]),r+=":",r+=DP(t[e[n]]);return r+="}",r},wee=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n};function Hs(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const _ee=function(t){at(!n4(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),n),s=o+n,a=Math.round(t*Math.pow(2,r-o)-Math.pow(2,r))):(s=0,a=Math.round(t/Math.pow(2,1-n-r))));const u=[];for(l=r;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let m="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),m=m+g}return m.toLowerCase()},ATe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},CTe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function NTe(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const ITe=new RegExp("^-?(0*)\\d{1,10}$"),OTe=-2147483648,RTe=2147483647,OU=function(t){if(ITe.test(t)){const e=Number(t);if(e>=OTe&&e<=RTe)return e}return null},Iv=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Ga("Exception was thrown by user callback.",r),e},Math.floor(0))}},PTe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},S1=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jTe{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,mo(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)==null||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ga(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DTe{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ls("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ga(e)}}class V_{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}V_.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP="5",Eee="v",Tee="s",See="r",kee="f",Aee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,Cee="ls",Nee="p",$6="ac",Iee="websocket",Oee="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ree{constructor(e,r,n,i,s=!1,a="",o=!1,l=!1,u=null){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=O0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&O0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function MTe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function Pee(t,e,r){at(typeof e=="string","typeof type must == string"),at(typeof r=="object","typeof params must == object");let n;if(e===Iee)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===Oee)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);MTe(t)&&(r.ns=t.namespace);const i=[];return Hs(r,(s,a)=>{i.push(s+"="+a)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LTe{constructor(){this.counters_={}}incrementCounter(e,r=1){Ou(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return $ye(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3={},h3={};function LP(t){const e=t.toString();return d3[e]||(d3[e]=new LTe),d3[e]}function FTe(t,e){const r=t.toString();return h3[r]||(h3[r]=e()),h3[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BTe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&Iv(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RU="start",VTe="close",UTe="pLPCommand",zTe="pRTLPCB",jee="id",Dee="pw",Mee="ser",$Te="cb",HTe="seg",qTe="ts",WTe="d",GTe="dframe",Lee=1870,Fee=30,KTe=Lee-Fee,YTe=25e3,XTe=3e4;class ng{constructor(e,r,n,i,s,a,o){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=xb(e),this.stats_=LP(r),this.urlFn=l=>(this.appCheckToken&&(l[$6]=this.appCheckToken),Pee(r,Oee,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new BTe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(XTe)),STe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new FP((...s)=>{const[a,o,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===RU)this.id=o,this.password=l;else if(a===VTe)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const n={};n[RU]="t",n[Mee]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[$Te]=this.scriptTagHolder.uniqueCallbackIdentifier),n[Eee]=MP,this.transportSessionId&&(n[Tee]=this.transportSessionId),this.lastSessionId&&(n[Cee]=this.lastSessionId),this.applicationId&&(n[Nee]=this.applicationId),this.appCheckToken&&(n[$6]=this.appCheckToken),typeof location<"u"&&location.hostname&&Aee.test(location.hostname)&&(n[See]=kee);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){ng.forceAllow_=!0}static forceDisallow(){ng.forceDisallow_=!0}static isAvailable(){return ng.forceAllow_?!0:!ng.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!ATe()&&!CTe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Fs(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=BQ(r),i=wee(n,KTe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[GTe]="t",n[jee]=e,n[Dee]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Fs(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class FP{constructor(e,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=_Te(),window[UTe+this.uniqueCallbackIdentifier]=e,window[zTe+this.uniqueCallbackIdentifier]=r,this.myIFrame=FP.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Ls("frame writing exception"),o.stack&&Ls(o.stack),Ls(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ls("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[jee]=this.myID,e[Dee]=this.myPW,e[Mee]=this.currentSerial;let r=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+Fee+n.length<=Lee;){const a=this.pendingSegs.shift();n=n+"&"+HTe+i+"="+a.seg+"&"+qTe+i+"="+a.ts+"&"+WTe+i+"="+a.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(YTe)),s=()=>{clearTimeout(i),n()};this.addTag(e,s)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{Ls("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QTe=16384,JTe=45e3;let AE=null;typeof MozWebSocket<"u"?AE=MozWebSocket:typeof WebSocket<"u"&&(AE=WebSocket);class hc{constructor(e,r,n,i,s,a,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=xb(this.connId),this.stats_=LP(r),this.connURL=hc.connectionURL_(r,a,o,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,i,s){const a={};return a[Eee]=MP,typeof location<"u"&&location.hostname&&Aee.test(location.hostname)&&(a[See]=kee),r&&(a[Tee]=r),n&&(a[Cee]=n),i&&(a[$6]=i),s&&(a[Nee]=s),Pee(e,Iee,a)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,O0.set("previous_websocket_failure",!0);try{let n;t1e(),this.mySock=new AE(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){hc.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&AE!==null&&!hc.forceDisallow_}static previouslyFailed(){return O0.isInMemoryStorage||O0.get("previous_websocket_failure")===!0}markConnectionHealthy(){O0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=X1(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(at(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=Fs(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=wee(r,QTe);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(JTe))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}hc.responsesRequiredToBeHealthy=2;hc.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ax{static get ALL_TRANSPORTS(){return[ng,hc]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=hc&&hc.isAvailable();let n=r&&!hc.previouslyFailed();if(e.webSocketOnly&&(r||Ga("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[hc];else{const i=this.transports_=[];for(const s of ax.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ax.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ax.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZTe=6e4,eSe=5e3,tSe=10*1024,rSe=100*1024,f3="t",PU="d",nSe="s",jU="r",iSe="e",DU="o",MU="a",LU="n",FU="p",sSe="h";class aSe{constructor(e,r,n,i,s,a,o,l,u,d){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=xb("c:"+this.id+":"),this.transportManager_=new ax(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=S1(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>rSe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>tSe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(f3 in e){const r=e[f3];r===MU?this.upgradeIfSecondaryHealthy_():r===jU?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===DU&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=zy("t",e),n=zy("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:FU,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:MU,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:LU,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=zy("t",e),n=zy("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=zy(f3,e);if(PU in e){const n=e[PU];if(r===sSe){const i={...n};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===LU){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===nSe?this.onConnectionShutdown_(n):r===jU?this.onReset_(n):r===iSe?z6("Server Error: "+n):r===DU?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):z6("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),MP!==n&&Ga("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),S1(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(ZTe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):S1(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(eSe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:FU,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(O0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bee{put(e,r,n,i){}merge(e,r,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Vee=class{constructor(e){this.allowedEvents_=e,this.listeners_={},at(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const i=this.getInitialEvent(e);i&&r.apply(n,i)}off(e,r,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===r&&(!n||n===i[s].context)){i.splice(s,1);return}}validateEventType_(e){at(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CE extends Vee{static getInstance(){return new CE}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!MR()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return at(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU=32,VU=768;let pn=class{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}};function Kr(){return new pn("")}function or(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function yf(t){return t.pieces_.length-t.pieceNum_}function On(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pn(t.pieces_,e)}function BP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function oSe(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function ox(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function Uee(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new pn(e,0)}function ci(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof pn)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new pn(r,0)}function dr(t){return t.pieceNum_>=t.pieces_.length}function vo(t,e){const r=or(t),n=or(e);if(r===null)return e;if(r===n)return vo(On(t),On(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function lSe(t,e){const r=ox(t,0),n=ox(e,0);for(let i=0;i<r.length&&i<n.length;i++){const s=Mm(r[i],n[i]);if(s!==0)return s}return r.length===n.length?0:r.length<n.length?-1:1}function VP(t,e){if(yf(t)!==yf(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function Fl(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(yf(t)>yf(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class cSe{constructor(e,r){this.errorPrefix_=r,this.parts_=ox(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=SS(this.parts_[n]);zee(this)}}function uSe(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=SS(e),zee(t)}function dSe(t){const e=t.parts_.pop();t.byteLength_-=SS(e),t.parts_.length>0&&(t.byteLength_-=1)}function zee(t){if(t.byteLength_>VU)throw new Error(t.errorPrefix_+"has a key path longer than "+VU+" bytes ("+t.byteLength_+").");if(t.parts_.length>BU)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+BU+") or object contains a cycle "+x0(t))}function x0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UP extends Vee{static getInstance(){return new UP}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return at(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $y=1e3,hSe=300*1e3,UU=30*1e3,fSe=1.3,mSe=3e4,pSe="server_kill",zU=3;class yd extends Bee{constructor(e,r,n,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=yd.nextPersistentConnectionId_++,this.log_=xb("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=$y,this.maxReconnectDelay_=hSe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");UP.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&CE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const i=++this.requestNumber_,s={r:i,a:e,b:r};this.log_(Fs(s)),at(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const r=new uu,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?r.resolve(o):r.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(e,r,n,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),at(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),at(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:r,query:e,tag:n};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n},a="q";e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,u=o.s;yd.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&Ou(e,"w")){const n=Mg(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ga(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||c1e(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=UU)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=l1e(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),at(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,r)}sendUnlisten_(e,r,n,i){this.log_("Unlisten on "+e+" for "+r);const s={p:e},a="n";i&&(s.q=n,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,i){const s={p:r,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,r,n,i){this.putInternal("p",e,r,n,i)}merge(e,r,n,i){this.putInternal("m",e,r,n,i)}putInternal(e,r,n,i,s){this.initConnection_();const a={p:r,d:n};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const s=n.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Fs(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):z6("Unrecognized action received from server: "+Fs(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){at(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=$y,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=$y,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>mSe&&(this.reconnectDelay_=$y),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*fSe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+yd.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,n())},u=function(m){at(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(m)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[m,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ls("getToken() completed but was canceled"):(Ls("getToken() completed. Creating connection."),this.authToken_=m&&m.accessToken,this.appCheckToken_=g&&g.token,o=new aSe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,v=>{Ga(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(pSe)},s))}catch(m){this.log_("Failed to get token: "+m),a||(this.repoInfo_.nodeAdmin&&Ga(m),l())}}}interrupt(e){Ls("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ls("Resuming connection for reason: "+e),delete this.interruptReasons_[e],nE(this.interruptReasons_)&&(this.reconnectDelay_=$y,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(s=>DP(s)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,r){const n=new pn(e).toString();let i;if(this.listens.has(n)){const s=this.listens.get(n);i=s.get(r),s.delete(r),s.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,r){Ls("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=zU&&(this.reconnectDelay_=UU,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ls("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=zU&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+yee.replace(/\./g,"-")]=1,MR()?e["framework.cordova"]=1:HQ()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=CE.getInstance().currentlyOnline();return nE(this.interruptReasons_)&&e}}yd.nextPersistentConnectionId_=0;yd.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new hr(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new hr(Kg,e),i=new hr(Kg,r);return this.compare(n,i)!==0}minPost(){return hr.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R2;class $ee extends i4{static get __EMPTY_NODE(){return R2}static set __EMPTY_NODE(e){R2=e}compare(e,r){return Mm(e.name,r.name)}isDefinedOn(e){throw wv("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return hr.MIN}maxPost(){return new hr(am,R2)}makePost(e,r){return at(typeof e=="string","KeyIndex indexValue must always be a string."),new hr(e,R2)}toString(){return".key"}}const gg=new $ee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P2{constructor(e,r,n,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=r?n(e.key,r):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ms{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Ms.RED,this.left=i??yo.EMPTY_NODE,this.right=s??yo.EMPTY_NODE}copy(e,r,n,i,s){return new Ms(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return yo.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,i;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return yo.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ms.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ms.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ms.RED=!0;Ms.BLACK=!1;class gSe{copy(e,r,n,i,s){return this}insert(e,r,n){return new Ms(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class yo{constructor(e,r=yo.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new yo(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Ms.BLACK,null,null))}remove(e){return new yo(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ms.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new P2(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new P2(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new P2(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new P2(this.root_,null,this.comparator_,!0,e)}}yo.EMPTY_NODE=new gSe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vSe(t,e){return Mm(t.name,e.name)}function zP(t,e){return Mm(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let H6;function ySe(t){H6=t}const Hee=function(t){return typeof t=="number"?"number:"+_ee(t):"string:"+t},qee=function(t){if(t.isLeafNode()){const e=t.val();at(typeof e=="string"||typeof e=="number"||typeof e=="object"&&Ou(e,".sv"),"Priority must be a string or number.")}else at(t===H6||t.isEmpty(),"priority of unexpected type.");at(t===H6||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $U;class Rs{static set __childrenNodeConstructor(e){$U=e}static get __childrenNodeConstructor(){return $U}constructor(e,r=Rs.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,at(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),qee(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Rs(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Rs.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return dr(e)?this:or(e)===".priority"?this.priorityNode_:Rs.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Rs.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=or(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(at(n!==".priority"||yf(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Rs.__childrenNodeConstructor.EMPTY_NODE.updateChild(On(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Hee(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=_ee(this.value_):e+=this.value_,this.lazyHash_=bee(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Rs.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Rs.__childrenNodeConstructor?-1:(at(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,i=Rs.VALUE_TYPE_ORDER.indexOf(r),s=Rs.VALUE_TYPE_ORDER.indexOf(n);return at(i>=0,"Unknown leaf type: "+r),at(s>=0,"Unknown leaf type: "+n),i===s?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Rs.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wee,Gee;function xSe(t){Wee=t}function bSe(t){Gee=t}class wSe extends i4{compare(e,r){const n=e.node.getPriority(),i=r.node.getPriority(),s=n.compareTo(i);return s===0?Mm(e.name,r.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return hr.MIN}maxPost(){return new hr(am,new Rs("[PRIORITY-POST]",Gee))}makePost(e,r){const n=Wee(e);return new hr(r,new Rs("[PRIORITY-POST]",n))}toString(){return".priority"}}const di=new wSe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _Se=Math.log(2);class ESe{constructor(e){const r=s=>parseInt(Math.log(s)/_Se,10),n=s=>parseInt(Array(s+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const NE=function(t,e,r,n){t.sort(e);const i=function(l,u){const d=u-l;let m,g;if(d===0)return null;if(d===1)return m=t[l],g=r?r(m):m,new Ms(g,m.node,Ms.BLACK,null,null);{const v=parseInt(d/2,10)+l,x=i(l,v),b=i(v+1,u);return m=t[v],g=r?r(m):m,new Ms(g,m.node,Ms.BLACK,x,b)}},s=function(l){let u=null,d=null,m=t.length;const g=function(x,b){const w=m-x,_=m;m-=x;const k=i(w+1,_),A=t[w],R=r?r(A):A;v(new Ms(R,A.node,b,null,k))},v=function(x){u?(u.left=x,u=x):(d=x,u=x)};for(let x=0;x<l.count;++x){const b=l.nextBitIsOne(),w=Math.pow(2,l.count-(x+1));b?g(w,Ms.BLACK):(g(w,Ms.BLACK),g(w,Ms.RED))}return d},a=new ESe(t.length),o=s(a);return new yo(n||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let m3;const Np={};class ud{static get Default(){return at(Np&&di,"ChildrenNode.ts has not been loaded"),m3=m3||new ud({".priority":Np},{".priority":di}),m3}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=Mg(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof yo?r:null}hasIndex(e){return Ou(this.indexSet_,e.toString())}addIndex(e,r){at(e!==gg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=r.getIterator(hr.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=s.getNext();let o;i?o=NE(n,e.getCompare()):o=Np;const l=e.toString(),u={...this.indexSet_};u[l]=e;const d={...this.indexes_};return d[l]=o,new ud(d,u)}addToIndexes(e,r){const n=iE(this.indexes_,(i,s)=>{const a=Mg(this.indexSet_,s);if(at(a,"Missing index implementation for "+s),i===Np)if(a.isDefinedOn(e.node)){const o=[],l=r.getIterator(hr.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),NE(o,a.getCompare())}else return Np;else{const o=r.get(e.name);let l=i;return o&&(l=l.remove(new hr(e.name,o))),l.insert(e,e.node)}});return new ud(n,this.indexSet_)}removeFromIndexes(e,r){const n=iE(this.indexes_,i=>{if(i===Np)return i;{const s=r.get(e.name);return s?i.remove(new hr(e.name,s)):i}});return new ud(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hy;class qt{static get EMPTY_NODE(){return Hy||(Hy=new qt(new yo(zP),null,ud.Default))}constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&qee(this.priorityNode_),this.children_.isEmpty()&&at(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Hy}updatePriority(e){return this.children_.isEmpty()?this:new qt(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Hy:r}}getChild(e){const r=or(e);return r===null?this:this.getImmediateChild(r).getChild(On(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(at(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new hr(e,r);let i,s;r.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,r),s=this.indexMap_.addToIndexes(n,this.children_));const a=i.isEmpty()?Hy:this.priorityNode_;return new qt(i,a,s)}}updateChild(e,r){const n=or(e);if(n===null)return r;{at(or(e)!==".priority"||yf(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(On(e),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,i=0,s=!0;if(this.forEachChild(di,(a,o)=>{r[a]=o.val(e),n++,s&&qt.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*n){const a=[];for(const o in r)a[o]=r[o];return a}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Hee(this.getPriority().val())+":"),this.forEachChild(di,(r,n)=>{const i=n.hash();i!==""&&(e+=":"+r+":"+i)}),this.lazyHash_=e===""?"":bee(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const i=this.resolveIndex_(n);if(i){const s=i.getPredecessorKey(new hr(e,r));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new hr(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new hr(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,hr.Wrap);let s=i.peek();for(;s!=null&&r.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,hr.Wrap);let s=i.peek();for(;s!=null&&r.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===bb?-1:0}withIndex(e){if(e===gg||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new qt(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===gg||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(di),i=r.getIterator(di);let s=n.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=n.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===gg?null:this.indexMap_.get(e.toString())}}qt.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class TSe extends qt{constructor(){super(new yo(zP),qt.EMPTY_NODE,ud.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return qt.EMPTY_NODE}isEmpty(){return!1}}const bb=new TSe;Object.defineProperties(hr,{MIN:{value:new hr(Kg,qt.EMPTY_NODE)},MAX:{value:new hr(am,bb)}});$ee.__EMPTY_NODE=qt.EMPTY_NODE;Rs.__childrenNodeConstructor=qt;ySe(bb);bSe(bb);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SSe=!0;function Li(t,e=null){if(t===null)return qt.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),at(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Rs(r,Li(e))}if(!(t instanceof Array)&&SSe){const r=[];let n=!1;if(Hs(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Li(o);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new hr(a,l)))}}),r.length===0)return qt.EMPTY_NODE;const s=NE(r,vSe,a=>a.name,zP);if(n){const a=NE(r,di.getCompare());return new qt(s,Li(e),new ud({".priority":a},{".priority":di}))}else return new qt(s,Li(e),ud.Default)}else{let r=qt.EMPTY_NODE;return Hs(t,(n,i)=>{if(Ou(t,n)&&n.substring(0,1)!=="."){const s=Li(i);(s.isLeafNode()||!s.isEmpty())&&(r=r.updateImmediateChild(n,s))}}),r.updatePriority(Li(e))}}xSe(Li);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kSe extends i4{constructor(e){super(),this.indexPath_=e,at(!dr(e)&&or(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),i=this.extractChild(r.node),s=n.compareTo(i);return s===0?Mm(e.name,r.name):s}makePost(e,r){const n=Li(e),i=qt.EMPTY_NODE.updateChild(this.indexPath_,n);return new hr(r,i)}maxPost(){const e=qt.EMPTY_NODE.updateChild(this.indexPath_,bb);return new hr(am,e)}toString(){return ox(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ASe extends i4{compare(e,r){const n=e.node.compareTo(r.node);return n===0?Mm(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return hr.MIN}maxPost(){return hr.MAX}makePost(e,r){const n=Li(e);return new hr(r,n)}toString(){return".value"}}const CSe=new ASe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kee(t){return{type:"value",snapshotNode:t}}function Yg(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function lx(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function cx(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function NSe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $P{constructor(e){this.index_=e}updateChild(e,r,n,i,s,a){at(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(r);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()||(a!=null&&(n.isEmpty()?e.hasChild(r)?a.trackChildChange(lx(r,o)):at(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(Yg(r,n)):a.trackChildChange(cx(r,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(di,(i,s)=>{r.hasChild(i)||n.trackChildChange(lx(i,s))}),r.isLeafNode()||r.forEachChild(di,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||n.trackChildChange(cx(i,s,a))}else n.trackChildChange(Yg(i,s))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?qt.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{constructor(e){this.indexedFilter_=new $P(e.getIndex()),this.index_=e.getIndex(),this.startPost_=ux.getStartPost_(e),this.endPost_=ux.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,i,s,a){return this.matches(new hr(r,n))||(n=qt.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,i,s,a)}updateFullNode(e,r,n){r.isLeafNode()&&(r=qt.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority(qt.EMPTY_NODE);const s=this;return r.forEachChild(di,(a,o)=>{s.matches(new hr(a,o))||(i=i.updateImmediateChild(a,qt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ISe{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new ux(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,i,s,a){return this.rangedFilter_.matches(new hr(r,n))||(n=qt.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,i,s,a):this.fullLimitUpdateChild_(e,r,n,s,a)}updateFullNode(e,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=qt.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=qt.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority(qt.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,qt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,i,s){let a;if(this.reverse_){const m=this.index_.getCompare();a=(g,v)=>m(v,g)}else a=this.index_.getCompare();const o=e;at(o.numChildren()===this.limit_,"");const l=new hr(r,n),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(r)){const m=o.getImmediateChild(r);let g=i.getChildAfterChild(this.index_,u,this.reverse_);for(;g!=null&&(g.name===r||o.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:a(g,l);if(d&&!n.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(cx(r,n,m)),o.updateImmediateChild(r,n);{s!=null&&s.trackChildChange(lx(r,m));const b=o.updateImmediateChild(r,qt.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(Yg(g.name,g.node)),b.updateImmediateChild(g.name,g.node)):b}}else return n.isEmpty()?e:d&&a(u,l)>=0?(s!=null&&(s.trackChildChange(lx(u.name,u.node)),s.trackChildChange(Yg(r,n))),o.updateImmediateChild(r,n).updateImmediateChild(u.name,qt.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return at(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return at(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Kg}hasEnd(){return this.endSet_}getIndexEndValue(){return at(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return at(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:am}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return at(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const e=new HP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function OSe(t){return t.loadsAllData()?new $P(t.getIndex()):t.hasLimit()?new ISe(t):new ux(t)}function HU(t){const e={};if(t.isDefault())return e;let r;if(t.index_===di?r="$priority":t.index_===CSe?r="$value":t.index_===gg?r="$key":(at(t.index_ instanceof kSe,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=Fs(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Fs(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Fs(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Fs(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Fs(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function qU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==di&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IE extends Bee{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(at(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=xb("p:rest:"),this.listens_={}}listen(e,r,n,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=IE.getListenId_(e,n),o={};this.listens_[a]=o;const l=HU(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let m=d;if(u===404&&(m=null,u=null),u===null&&this.onDataUpdate_(s,m,!1,n),Mg(this.listens_,a)===o){let g;u?u===401?g="permission_denied":g="rest_error:"+u:g="ok",i(g,null)}})}unlisten(e,r){const n=IE.getListenId_(e,r);delete this.listens_[n]}get(e){const r=HU(e._queryParams),n=e._path.toString(),i=new uu;return this.restRequest_(n+".json",r,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(n,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(r.auth=i.accessToken),s&&s.token&&(r.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+_v(r);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=X1(o.responseText)}catch{Ga("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,l)}else o.status!==401&&o.status!==404&&Ga("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RSe{constructor(){this.rootNode_=qt.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OE(){return{value:null,children:new Map}}function Ov(t,e,r){if(dr(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=or(e);t.children.has(n)||t.children.set(n,OE());const i=t.children.get(n);e=On(e),Ov(i,e,r)}}function q6(t,e){if(dr(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const r=t.value;return t.value=null,r.forEachChild(di,(n,i)=>{Ov(t,new pn(n),i)}),q6(t,e)}}else if(t.children.size>0){const r=or(e);return e=On(e),t.children.has(r)&&q6(t.children.get(r),e)&&t.children.delete(r),t.children.size===0}else return!0}function W6(t,e,r){t.value!==null?r(e,t.value):PSe(t,(n,i)=>{const s=new pn(e.toString()+"/"+n);W6(i,s,r)})}function PSe(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jSe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&Hs(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WU=10*1e3,DSe=30*1e3,MSe=300*1e3;class LSe{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new jSe(e);const n=WU+(DSe-WU)*Math.random();S1(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;Hs(e,(i,s)=>{s>0&&Ou(this.statsToReport_,i)&&(r[i]=s,n=!0)}),n&&this.server_.reportStats(r),S1(this.reportStats_.bind(this),Math.floor(Math.random()*2*MSe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var xc;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(xc||(xc={}));function qP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function WP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function GP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RE{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=xc.ACK_USER_WRITE,this.source=qP()}operationForChild(e){if(dr(this.path)){if(this.affectedTree.value!=null)return at(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new pn(e));return new RE(Kr(),r,this.revert)}}else return at(or(this.path)===e,"operationForChild called for unrelated child."),new RE(On(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dx{constructor(e,r){this.source=e,this.path=r,this.type=xc.LISTEN_COMPLETE}operationForChild(e){return dr(this.path)?new dx(this.source,Kr()):new dx(this.source,On(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class om{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=xc.OVERWRITE}operationForChild(e){return dr(this.path)?new om(this.source,Kr(),this.snap.getImmediateChild(e)):new om(this.source,On(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=xc.MERGE}operationForChild(e){if(dr(this.path)){const r=this.children.subtree(new pn(e));return r.isEmpty()?null:r.value?new om(this.source,Kr(),r.value):new Xg(this.source,Kr(),r)}else return at(or(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Xg(this.source,On(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lm{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(dr(e))return this.isFullyInitialized()&&!this.filtered_;const r=or(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FSe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function BSe(t,e,r,n){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(NSe(a.childName,a.snapshotNode))}),qy(t,i,"child_removed",e,n,r),qy(t,i,"child_added",e,n,r),qy(t,i,"child_moved",s,n,r),qy(t,i,"child_changed",e,n,r),qy(t,i,"value",e,n,r),i}function qy(t,e,r,n,i,s){const a=n.filter(o=>o.type===r);a.sort((o,l)=>USe(t,o,l)),a.forEach(o=>{const l=VSe(t,o,s);i.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function VSe(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function USe(t,e,r){if(e.childName==null||r.childName==null)throw wv("Should only compare child_ events.");const n=new hr(e.childName,e.snapshotNode),i=new hr(r.childName,r.snapshotNode);return t.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4(t,e){return{eventCache:t,serverCache:e}}function k1(t,e,r,n){return s4(new lm(e,r,n),t.serverCache)}function Yee(t,e,r,n){return s4(t.eventCache,new lm(e,r,n))}function G6(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function cm(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let p3;const zSe=()=>(p3||(p3=new yo(kTe)),p3);class Mn{static fromObject(e){let r=new Mn(null);return Hs(e,(n,i)=>{r=r.set(new pn(n),i)}),r}constructor(e,r=zSe()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:Kr(),value:this.value};if(dr(e))return null;{const n=or(e),i=this.children.get(n);if(i!==null){const s=i.findRootMostMatchingPathAndValue(On(e),r);return s!=null?{path:ci(new pn(n),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(dr(e))return this;{const r=or(e),n=this.children.get(r);return n!==null?n.subtree(On(e)):new Mn(null)}}set(e,r){if(dr(e))return new Mn(r,this.children);{const n=or(e),s=(this.children.get(n)||new Mn(null)).set(On(e),r),a=this.children.insert(n,s);return new Mn(this.value,a)}}remove(e){if(dr(e))return this.children.isEmpty()?new Mn(null):new Mn(null,this.children);{const r=or(e),n=this.children.get(r);if(n){const i=n.remove(On(e));let s;return i.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,i),this.value===null&&s.isEmpty()?new Mn(null):new Mn(this.value,s)}else return this}}get(e){if(dr(e))return this.value;{const r=or(e),n=this.children.get(r);return n?n.get(On(e)):null}}setTree(e,r){if(dr(e))return r;{const n=or(e),s=(this.children.get(n)||new Mn(null)).setTree(On(e),r);let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),new Mn(this.value,a)}}fold(e){return this.fold_(Kr(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((i,s)=>{n[i]=s.fold_(ci(e,i),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,Kr(),r)}findOnPath_(e,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(dr(e))return null;{const s=or(e),a=this.children.get(s);return a?a.findOnPath_(On(e),ci(r,s),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,Kr(),r)}foreachOnPath_(e,r,n){if(dr(e))return this;{this.value&&n(r,this.value);const i=or(e),s=this.children.get(i);return s?s.foreachOnPath_(On(e),ci(r,i),n):new Mn(null)}}foreach(e){this.foreach_(Kr(),e)}foreach_(e,r){this.children.inorderTraversal((n,i)=>{i.foreach_(ci(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tc{constructor(e){this.writeTree_=e}static empty(){return new Tc(new Mn(null))}}function A1(t,e,r){if(dr(e))return new Tc(new Mn(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let s=n.value;const a=vo(i,e);return s=s.updateChild(a,r),new Tc(t.writeTree_.set(i,s))}else{const i=new Mn(r),s=t.writeTree_.setTree(e,i);return new Tc(s)}}}function K6(t,e,r){let n=t;return Hs(r,(i,s)=>{n=A1(n,ci(e,i),s)}),n}function GU(t,e){if(dr(e))return Tc.empty();{const r=t.writeTree_.setTree(e,new Mn(null));return new Tc(r)}}function Y6(t,e){return Lm(t,e)!=null}function Lm(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(vo(r.path,e)):null}function KU(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(di,(n,i)=>{e.push(new hr(n,i))}):t.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new hr(n,i.value))}),e}function rf(t,e){if(dr(e))return t;{const r=Lm(t,e);return r!=null?new Tc(new Mn(r)):new Tc(t.writeTree_.subtree(e))}}function X6(t){return t.writeTree_.isEmpty()}function Qg(t,e){return Xee(Kr(),t.writeTree_,e)}function Xee(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(at(s.value!==null,"Priority writes must always be leaf nodes"),n=s.value):r=Xee(ci(t,i),s,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(ci(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KP(t,e){return ete(e,t)}function $Se(t,e,r,n,i){at(n>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:i}),i&&(t.visibleWrites=A1(t.visibleWrites,e,r)),t.lastWriteId=n}function HSe(t,e,r,n){at(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=K6(t.visibleWrites,e,r),t.lastWriteId=n}function qSe(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function WSe(t,e){const r=t.allWrites.findIndex(o=>o.writeId===e);at(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let i=n.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=r&&GSe(o,n.path)?i=!1:Fl(n.path,o.path)&&(s=!0)),a--}if(i){if(s)return KSe(t),!0;if(n.snap)t.visibleWrites=GU(t.visibleWrites,n.path);else{const o=n.children;Hs(o,l=>{t.visibleWrites=GU(t.visibleWrites,ci(n.path,l))})}return!0}else return!1}function GSe(t,e){if(t.snap)return Fl(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Fl(ci(t.path,r),e))return!0;return!1}function KSe(t){t.visibleWrites=Qee(t.allWrites,YSe,Kr()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function YSe(t){return t.visible}function Qee(t,e,r){let n=Tc.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)Fl(r,a)?(o=vo(r,a),n=A1(n,o,s.snap)):Fl(a,r)&&(o=vo(a,r),n=A1(n,Kr(),s.snap.getChild(o)));else if(s.children){if(Fl(r,a))o=vo(r,a),n=K6(n,o,s.children);else if(Fl(a,r))if(o=vo(a,r),dr(o))n=K6(n,Kr(),s.children);else{const l=Mg(s.children,or(o));if(l){const u=l.getChild(On(o));n=A1(n,Kr(),u)}}}else throw wv("WriteRecord should have .snap or .children")}}return n}function Jee(t,e,r,n,i){if(!n&&!i){const s=Lm(t.visibleWrites,e);if(s!=null)return s;{const a=rf(t.visibleWrites,e);if(X6(a))return r;if(r==null&&!Y6(a,Kr()))return null;{const o=r||qt.EMPTY_NODE;return Qg(a,o)}}}else{const s=rf(t.visibleWrites,e);if(!i&&X6(s))return r;if(!i&&r==null&&!Y6(s,Kr()))return null;{const a=function(u){return(u.visible||i)&&(!n||!~n.indexOf(u.writeId))&&(Fl(u.path,e)||Fl(e,u.path))},o=Qee(t.allWrites,a,e),l=r||qt.EMPTY_NODE;return Qg(o,l)}}}function XSe(t,e,r){let n=qt.EMPTY_NODE;const i=Lm(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(di,(s,a)=>{n=n.updateImmediateChild(s,a)}),n;if(r){const s=rf(t.visibleWrites,e);return r.forEachChild(di,(a,o)=>{const l=Qg(rf(s,new pn(a)),o);n=n.updateImmediateChild(a,l)}),KU(s).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}else{const s=rf(t.visibleWrites,e);return KU(s).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}}function QSe(t,e,r,n,i){at(n||i,"Either existingEventSnap or existingServerSnap must exist");const s=ci(e,r);if(Y6(t.visibleWrites,s))return null;{const a=rf(t.visibleWrites,s);return X6(a)?i.getChild(r):Qg(a,i.getChild(r))}}function JSe(t,e,r,n){const i=ci(e,r),s=Lm(t.visibleWrites,i);if(s!=null)return s;if(n.isCompleteForChild(r)){const a=rf(t.visibleWrites,i);return Qg(a,n.getNode().getImmediateChild(r))}else return null}function ZSe(t,e){return Lm(t.visibleWrites,e)}function e4e(t,e,r,n,i,s,a){let o;const l=rf(t.visibleWrites,e),u=Lm(l,Kr());if(u!=null)o=u;else if(r!=null)o=Qg(l,r);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],m=a.getCompare(),g=s?o.getReverseIteratorFrom(n,a):o.getIteratorFrom(n,a);let v=g.getNext();for(;v&&d.length<i;)m(v,n)!==0&&d.push(v),v=g.getNext();return d}else return[]}function t4e(){return{visibleWrites:Tc.empty(),allWrites:[],lastWriteId:-1}}function PE(t,e,r,n){return Jee(t.writeTree,t.treePath,e,r,n)}function YP(t,e){return XSe(t.writeTree,t.treePath,e)}function YU(t,e,r,n){return QSe(t.writeTree,t.treePath,e,r,n)}function jE(t,e){return ZSe(t.writeTree,ci(t.treePath,e))}function r4e(t,e,r,n,i,s){return e4e(t.writeTree,t.treePath,e,r,n,i,s)}function XP(t,e,r){return JSe(t.writeTree,t.treePath,e,r)}function Zee(t,e){return ete(ci(t.treePath,e),t.writeTree)}function ete(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n4e{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;at(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),at(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const s=i.type;if(r==="child_added"&&s==="child_removed")this.changeMap.set(n,cx(n,e.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&s==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&s==="child_changed")this.changeMap.set(n,lx(n,i.oldSnap));else if(r==="child_changed"&&s==="child_added")this.changeMap.set(n,Yg(n,e.snapshotNode));else if(r==="child_changed"&&s==="child_changed")this.changeMap.set(n,cx(n,e.snapshotNode,i.oldSnap));else throw wv("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i4e{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const tte=new i4e;class QP{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new lm(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return XP(this.writes_,e,n)}}getChildAfterChild(e,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:cm(this.viewCache_),s=r4e(this.writes_,i,r,1,n,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s4e(t){return{filter:t}}function a4e(t,e){at(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),at(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function o4e(t,e,r,n,i){const s=new n4e;let a,o;if(r.type===xc.OVERWRITE){const u=r;u.source.fromUser?a=Q6(t,e,u.path,u.snap,n,i,s):(at(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!dr(u.path),a=DE(t,e,u.path,u.snap,n,i,o,s))}else if(r.type===xc.MERGE){const u=r;u.source.fromUser?a=c4e(t,e,u.path,u.children,n,i,s):(at(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=J6(t,e,u.path,u.children,n,i,o,s))}else if(r.type===xc.ACK_USER_WRITE){const u=r;u.revert?a=h4e(t,e,u.path,n,i,s):a=u4e(t,e,u.path,u.affectedTree,n,i,s)}else if(r.type===xc.LISTEN_COMPLETE)a=d4e(t,e,r.path,n,s);else throw wv("Unknown operation type: "+r.type);const l=s.getChanges();return l4e(e,a,l),{viewCache:a,changes:l}}function l4e(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=G6(t);(r.length>0||!t.eventCache.isFullyInitialized()||i&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&r.push(Kee(G6(e)))}}function rte(t,e,r,n,i,s){const a=e.eventCache;if(jE(n,r)!=null)return e;{let o,l;if(dr(r))if(at(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=cm(e),d=u instanceof qt?u:qt.EMPTY_NODE,m=YP(n,d);o=t.filter.updateFullNode(e.eventCache.getNode(),m,s)}else{const u=PE(n,cm(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=or(r);if(u===".priority"){at(yf(r)===1,"Can't have a priority with additional path components");const d=a.getNode();l=e.serverCache.getNode();const m=YU(n,r,d,l);m!=null?o=t.filter.updatePriority(d,m):o=a.getNode()}else{const d=On(r);let m;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const g=YU(n,r,a.getNode(),l);g!=null?m=a.getNode().getImmediateChild(u).updateChild(d,g):m=a.getNode().getImmediateChild(u)}else m=XP(n,u,e.serverCache);m!=null?o=t.filter.updateChild(a.getNode(),u,m,d,i,s):o=a.getNode()}}return k1(e,o,a.isFullyInitialized()||dr(r),t.filter.filtersNodes())}}function DE(t,e,r,n,i,s,a,o){const l=e.serverCache;let u;const d=a?t.filter:t.filter.getIndexedFilter();if(dr(r))u=d.updateFullNode(l.getNode(),n,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(r,n);u=d.updateFullNode(l.getNode(),v,null)}else{const v=or(r);if(!l.isCompleteForPath(r)&&yf(r)>1)return e;const x=On(r),w=l.getNode().getImmediateChild(v).updateChild(x,n);v===".priority"?u=d.updatePriority(l.getNode(),w):u=d.updateChild(l.getNode(),v,w,x,tte,null)}const m=Yee(e,u,l.isFullyInitialized()||dr(r),d.filtersNodes()),g=new QP(i,m,s);return rte(t,m,r,i,g,o)}function Q6(t,e,r,n,i,s,a){const o=e.eventCache;let l,u;const d=new QP(i,e,s);if(dr(r))u=t.filter.updateFullNode(e.eventCache.getNode(),n,a),l=k1(e,u,!0,t.filter.filtersNodes());else{const m=or(r);if(m===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),n),l=k1(e,u,o.isFullyInitialized(),o.isFiltered());else{const g=On(r),v=o.getNode().getImmediateChild(m);let x;if(dr(g))x=n;else{const b=d.getCompleteChild(m);b!=null?BP(g)===".priority"&&b.getChild(Uee(g)).isEmpty()?x=b:x=b.updateChild(g,n):x=qt.EMPTY_NODE}if(v.equals(x))l=e;else{const b=t.filter.updateChild(o.getNode(),m,x,g,d,a);l=k1(e,b,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function XU(t,e){return t.eventCache.isCompleteForChild(e)}function c4e(t,e,r,n,i,s,a){let o=e;return n.foreach((l,u)=>{const d=ci(r,l);XU(e,or(d))&&(o=Q6(t,o,d,u,i,s,a))}),n.foreach((l,u)=>{const d=ci(r,l);XU(e,or(d))||(o=Q6(t,o,d,u,i,s,a))}),o}function QU(t,e,r){return r.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function J6(t,e,r,n,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;dr(r)?u=n:u=new Mn(null).setTree(r,n);const d=e.serverCache.getNode();return u.children.inorderTraversal((m,g)=>{if(d.hasChild(m)){const v=e.serverCache.getNode().getImmediateChild(m),x=QU(t,v,g);l=DE(t,l,new pn(m),x,i,s,a,o)}}),u.children.inorderTraversal((m,g)=>{const v=!e.serverCache.isCompleteForChild(m)&&g.value===null;if(!d.hasChild(m)&&!v){const x=e.serverCache.getNode().getImmediateChild(m),b=QU(t,x,g);l=DE(t,l,new pn(m),b,i,s,a,o)}}),l}function u4e(t,e,r,n,i,s,a){if(jE(i,r)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(dr(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return DE(t,e,r,l.getNode().getChild(r),i,s,o,a);if(dr(r)){let u=new Mn(null);return l.getNode().forEachChild(gg,(d,m)=>{u=u.set(new pn(d),m)}),J6(t,e,r,u,i,s,o,a)}else return e}else{let u=new Mn(null);return n.foreach((d,m)=>{const g=ci(r,d);l.isCompleteForPath(g)&&(u=u.set(d,l.getNode().getChild(g)))}),J6(t,e,r,u,i,s,o,a)}}function d4e(t,e,r,n,i){const s=e.serverCache,a=Yee(e,s.getNode(),s.isFullyInitialized()||dr(r),s.isFiltered());return rte(t,a,r,n,tte,i)}function h4e(t,e,r,n,i,s){let a;if(jE(n,r)!=null)return e;{const o=new QP(n,e,i),l=e.eventCache.getNode();let u;if(dr(r)||or(r)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=PE(n,cm(e));else{const m=e.serverCache.getNode();at(m instanceof qt,"serverChildren would be complete if leaf node"),d=YP(n,m)}d=d,u=t.filter.updateFullNode(l,d,s)}else{const d=or(r);let m=XP(n,d,e.serverCache);m==null&&e.serverCache.isCompleteForChild(d)&&(m=l.getImmediateChild(d)),m!=null?u=t.filter.updateChild(l,d,m,On(r),o,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,qt.EMPTY_NODE,On(r),o,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=PE(n,cm(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,s)))}return a=e.serverCache.isFullyInitialized()||jE(n,Kr())!=null,k1(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f4e{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new $P(n.getIndex()),s=OSe(n);this.processor_=s4e(s);const a=r.serverCache,o=r.eventCache,l=i.updateFullNode(qt.EMPTY_NODE,a.getNode(),null),u=s.updateFullNode(qt.EMPTY_NODE,o.getNode(),null),d=new lm(l,a.isFullyInitialized(),i.filtersNodes()),m=new lm(u,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=s4(m,d),this.eventGenerator_=new FSe(this.query_)}get query(){return this.query_}}function m4e(t){return t.viewCache_.serverCache.getNode()}function p4e(t,e){const r=cm(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!dr(e)&&!r.getImmediateChild(or(e)).isEmpty())?r.getChild(e):null}function JU(t){return t.eventRegistrations_.length===0}function g4e(t,e){t.eventRegistrations_.push(e)}function ZU(t,e,r){const n=[];if(r){at(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(r,i);a&&n.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return n}function ez(t,e,r,n){e.type===xc.MERGE&&e.source.queryId!==null&&(at(cm(t.viewCache_),"We should always have a full cache before handling merges"),at(G6(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=o4e(t.processor_,i,e,r,n);return a4e(t.processor_,s.viewCache),at(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,nte(t,s.changes,s.viewCache.eventCache.getNode(),null)}function v4e(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(di,(s,a)=>{n.push(Yg(s,a))}),r.isFullyInitialized()&&n.push(Kee(r.getNode())),nte(t,n,r.getNode(),e)}function nte(t,e,r,n){const i=n?[n]:t.eventRegistrations_;return BSe(t.eventGenerator_,e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ME;class y4e{constructor(){this.views=new Map}}function x4e(t){at(!ME,"__referenceConstructor has already been defined"),ME=t}function b4e(){return at(ME,"Reference.ts has not been loaded"),ME}function w4e(t){return t.views.size===0}function JP(t,e,r,n){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return at(s!=null,"SyncTree gave us an op for an invalid query."),ez(s,e,r,n)}else{let s=[];for(const a of t.views.values())s=s.concat(ez(a,e,r,n));return s}}function _4e(t,e,r,n,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=PE(r,i?n:null),l=!1;o?l=!0:n instanceof qt?(o=YP(r,n),l=!1):(o=qt.EMPTY_NODE,l=!1);const u=s4(new lm(o,l,!1),new lm(n,i,!1));return new f4e(e,u)}return a}function E4e(t,e,r,n,i,s){const a=_4e(t,e,n,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),g4e(a,r),v4e(a,r)}function T4e(t,e,r,n){const i=e._queryIdentifier,s=[];let a=[];const o=xf(t);if(i==="default")for(const[l,u]of t.views.entries())a=a.concat(ZU(u,r,n)),JU(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(a=a.concat(ZU(l,r,n)),JU(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!xf(t)&&s.push(new(b4e())(e._repo,e._path)),{removed:s,events:a}}function ite(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function vg(t,e){let r=null;for(const n of t.views.values())r=r||p4e(n,e);return r}function ste(t,e){if(e._queryParams.loadsAllData())return a4(t);{const n=e._queryIdentifier;return t.views.get(n)}}function ate(t,e){return ste(t,e)!=null}function xf(t){return a4(t)!=null}function a4(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let LE;function S4e(t){at(!LE,"__referenceConstructor has already been defined"),LE=t}function k4e(){return at(LE,"Reference.ts has not been loaded"),LE}let A4e=1;class tz{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Mn(null),this.pendingWriteTree_=t4e(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function ote(t,e,r,n,i){return $Se(t.pendingWriteTree_,e,r,n,i),i?Rv(t,new om(qP(),e,r)):[]}function C4e(t,e,r,n){HSe(t.pendingWriteTree_,e,r,n);const i=Mn.fromObject(r);return Rv(t,new Xg(qP(),e,i))}function Hh(t,e,r=!1){const n=qSe(t.pendingWriteTree_,e);if(WSe(t.pendingWriteTree_,e)){let s=new Mn(null);return n.snap!=null?s=s.set(Kr(),!0):Hs(n.children,a=>{s=s.set(new pn(a),!0)}),Rv(t,new RE(n.path,s,r))}else return[]}function o4(t,e,r){return Rv(t,new om(WP(),e,r))}function N4e(t,e,r){const n=Mn.fromObject(r);return Rv(t,new Xg(WP(),e,n))}function I4e(t,e){return Rv(t,new dx(WP(),e))}function O4e(t,e,r){const n=ej(t,r);if(n){const i=tj(n),s=i.path,a=i.queryId,o=vo(s,e),l=new dx(GP(a),o);return rj(t,s,l)}else return[]}function Z6(t,e,r,n,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||ate(a,e))){const l=T4e(a,e,r,n);w4e(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(o=l.events,!i){const d=u.findIndex(g=>g._queryParams.loadsAllData())!==-1,m=t.syncPointTree_.findOnPath(s,(g,v)=>xf(v));if(d&&!m){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=j4e(g);for(let x=0;x<v.length;++x){const b=v[x],w=b.query,_=ute(t,b);t.listenProvider_.startListening(C1(w),FE(t,w),_.hashFn,_.onComplete)}}}!m&&u.length>0&&!n&&(d?t.listenProvider_.stopListening(C1(e),null):u.forEach(g=>{const v=t.queryToTagMap.get(l4(g));t.listenProvider_.stopListening(C1(g),v)}))}D4e(t,u)}return o}function R4e(t,e,r,n){const i=ej(t,n);if(i!=null){const s=tj(i),a=s.path,o=s.queryId,l=vo(a,e),u=new om(GP(o),l,r);return rj(t,a,u)}else return[]}function P4e(t,e,r,n){const i=ej(t,n);if(i){const s=tj(i),a=s.path,o=s.queryId,l=vo(a,e),u=Mn.fromObject(r),d=new Xg(GP(o),l,u);return rj(t,a,d)}else return[]}function rz(t,e,r,n=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const x=vo(g,i);s=s||vg(v,x),a=a||xf(v)});let o=t.syncPointTree_.get(i);o?(a=a||xf(o),s=s||vg(o,Kr())):(o=new y4e,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=qt.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,x)=>{const b=vg(x,Kr());b&&(s=s.updateImmediateChild(v,b))}));const u=ate(o,e);if(!u&&!e._queryParams.loadsAllData()){const g=l4(e);at(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=M4e();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const d=KP(t.pendingWriteTree_,i);let m=E4e(o,e,r,d,s,l);if(!u&&!a&&!n){const g=ste(o,e);m=m.concat(L4e(t,e,g))}return m}function ZP(t,e,r){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=vo(a,e),u=vg(o,l);if(u)return u});return Jee(i,e,s,r,!0)}function Rv(t,e){return lte(e,t.syncPointTree_,null,KP(t.pendingWriteTree_,Kr()))}function lte(t,e,r,n){if(dr(t.path))return cte(t,e,r,n);{const i=e.get(Kr());r==null&&i!=null&&(r=vg(i,Kr()));let s=[];const a=or(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=r?r.getImmediateChild(a):null,d=Zee(n,a);s=s.concat(lte(o,l,u,d))}return i&&(s=s.concat(JP(i,t,n,r))),s}}function cte(t,e,r,n){const i=e.get(Kr());r==null&&i!=null&&(r=vg(i,Kr()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=r?r.getImmediateChild(a):null,u=Zee(n,a),d=t.operationForChild(a);d&&(s=s.concat(cte(d,o,l,u)))}),i&&(s=s.concat(JP(i,t,n,r))),s}function ute(t,e){const r=e.query,n=FE(t,r);return{hashFn:()=>(m4e(e)||qt.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?O4e(t,r._path,n):I4e(t,r._path);{const s=NTe(i,r);return Z6(t,r,null,s)}}}}function FE(t,e){const r=l4(e);return t.queryToTagMap.get(r)}function l4(t){return t._path.toString()+"$"+t._queryIdentifier}function ej(t,e){return t.tagToQueryMap.get(e)}function tj(t){const e=t.indexOf("$");return at(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pn(t.substr(0,e))}}function rj(t,e,r){const n=t.syncPointTree_.get(e);at(n,"Missing sync point for query tag that we're tracking");const i=KP(t.pendingWriteTree_,e);return JP(n,r,i,null)}function j4e(t){return t.fold((e,r,n)=>{if(r&&xf(r))return[a4(r)];{let i=[];return r&&(i=ite(r)),Hs(n,(s,a)=>{i=i.concat(a)}),i}})}function C1(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(k4e())(t._repo,t._path):t}function D4e(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const i=l4(n),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function M4e(){return A4e++}function L4e(t,e,r){const n=e._path,i=FE(t,e),s=ute(t,r),a=t.listenProvider_.startListening(C1(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(n);if(i)at(!xf(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,d,m)=>{if(!dr(u)&&d&&xf(d))return[a4(d).query];{let g=[];return d&&(g=g.concat(ite(d).map(v=>v.query))),Hs(m,(v,x)=>{g=g.concat(x)}),g}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(C1(d),FE(t,d))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nj{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new nj(r)}node(){return this.node_}}class ij{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=ci(this.path_,e);return new ij(this.syncTree_,r)}node(){return ZP(this.syncTree_,this.path_)}}const F4e=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},nz=function(t,e,r){if(!t||typeof t!="object")return t;if(at(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return B4e(t[".sv"],e,r);if(typeof t[".sv"]=="object")return V4e(t[".sv"],e);at(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},B4e=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:at(!1,"Unexpected server value: "+t)}},V4e=function(t,e,r){t.hasOwnProperty("increment")||at(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&at(!1,"Unexpected increment value: "+n);const i=e.node();if(at(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const a=i.getValue();return typeof a!="number"?n:a+n},dte=function(t,e,r,n){return sj(e,new ij(r,t),n)},hte=function(t,e,r){return sj(t,new nj(e),r)};function sj(t,e,r){const n=t.getPriority().val(),i=nz(n,e.getImmediateChild(".priority"),r);let s;if(t.isLeafNode()){const a=t,o=nz(a.getValue(),e,r);return o!==a.getValue()||i!==a.getPriority().val()?new Rs(o,Li(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Rs(i))),a.forEachChild(di,(o,l)=>{const u=sj(l,e.getImmediateChild(o),r);u!==l&&(s=s.updateImmediateChild(o,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aj{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function oj(t,e){let r=e instanceof pn?e:new pn(e),n=t,i=or(r);for(;i!==null;){const s=Mg(n.node.children,i)||{children:{},childCount:0};n=new aj(i,n,s),r=On(r),i=or(r)}return n}function Pv(t){return t.node.value}function fte(t,e){t.node.value=e,eI(t)}function mte(t){return t.node.childCount>0}function U4e(t){return Pv(t)===void 0&&!mte(t)}function c4(t,e){Hs(t.node.children,(r,n)=>{e(new aj(r,t,n))})}function pte(t,e,r,n){r&&e(t),c4(t,i=>{pte(i,e,!0)})}function z4e(t,e,r){let n=t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function wb(t){return new pn(t.parent===null?t.name:wb(t.parent)+"/"+t.name)}function eI(t){t.parent!==null&&$4e(t.parent,t.name,t)}function $4e(t,e,r){const n=U4e(r),i=Ou(t.node.children,e);n&&i?(delete t.node.children[e],t.node.childCount--,eI(t)):!n&&!i&&(t.node.children[e]=r.node,t.node.childCount++,eI(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H4e=/[\[\].#$\/\u0000-\u001F\u007F]/,q4e=/[\[\].#$\u0000-\u001F\u007F]/,g3=10*1024*1024,lj=function(t){return typeof t=="string"&&t.length!==0&&!H4e.test(t)},gte=function(t){return typeof t=="string"&&t.length!==0&&!q4e.test(t)},W4e=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),gte(t)},vte=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!n4(t)||t&&typeof t=="object"&&Ou(t,".sv")},tI=function(t,e,r,n){u4(Lg(t,"value"),e,r)},u4=function(t,e,r){const n=r instanceof pn?new cSe(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+x0(n));if(typeof e=="function")throw new Error(t+"contains a function "+x0(n)+" with contents = "+e.toString());if(n4(e))throw new Error(t+"contains "+e.toString()+" "+x0(n));if(typeof e=="string"&&e.length>g3/3&&SS(e)>g3)throw new Error(t+"contains a string greater than "+g3+" utf8 bytes "+x0(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(Hs(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!lj(a)))throw new Error(t+" contains an invalid key ("+a+") "+x0(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);uSe(n,a),u4(t,o,n),dSe(n)}),i&&s)throw new Error(t+' contains ".value" child '+x0(n)+" in addition to actual children.")}},G4e=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const s=ox(n);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!lj(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(lSe);let i=null;for(r=0;r<e.length;r++){if(n=e[r],i!==null&&Fl(i,n))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},yte=function(t,e,r,n){const i=Lg(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];Hs(e,(a,o)=>{const l=new pn(a);if(u4(i,o,ci(r,l)),BP(l)===".priority"&&!vte(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),G4e(i,s)},K4e=function(t,e,r){if(n4(e))throw new Error(Lg(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!vte(e))throw new Error(Lg(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},xte=function(t,e,r,n){if(!gte(r))throw new Error(Lg(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},Y4e=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),xte(t,e,r)},ig=function(t,e){if(or(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},X4e=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!lj(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!W4e(r))throw new Error(Lg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q4e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function d4(t,e){let r=null;for(let n=0;n<e.length;n++){const i=e[n],s=i.getPath();r!==null&&!VP(s,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:s}),r.events.push(i)}r&&t.eventLists_.push(r)}function bte(t,e,r){d4(t,r),wte(t,n=>VP(n,e))}function Rc(t,e,r){d4(t,r),wte(t,n=>Fl(n,e)||Fl(e,n))}function wte(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const i=t.eventLists_[n];if(i){const s=i.path;e(s)?(J4e(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function J4e(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();T1&&Ls("event: "+r.toString()),Iv(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z4e="repo_interrupt",eke=25;class tke{constructor(e,r,n,i){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Q4e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=OE(),this.transactionQueueTree_=new aj,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function rke(t,e,r){if(t.stats_=LP(t.repoInfo_),t.forceRestClient_||PTe())t.server_=new IE(t.repoInfo_,(n,i,s,a)=>{iz(t,n,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>sz(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Fs(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new yd(t.repoInfo_,e,(n,i,s,a)=>{iz(t,n,i,s,a)},n=>{sz(t,n)},n=>{ike(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=FTe(t.repoInfo_,()=>new LSe(t.stats_,t.server_)),t.infoData_=new RSe,t.infoSyncTree_=new tz({startListening:(n,i,s,a)=>{let o=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(o=o4(t.infoSyncTree_,n._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),cj(t,"connected",!1),t.serverSyncTree_=new tz({startListening:(n,i,s,a)=>(t.server_.listen(n,s,i,(o,l)=>{const u=a(o,l);Rc(t.eventQueue_,n._path,u)}),[]),stopListening:(n,i)=>{t.server_.unlisten(n,i)}})}function nke(t){const r=t.infoData_.getNode(new pn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function h4(t){return F4e({timestamp:nke(t)})}function iz(t,e,r,n,i){t.dataUpdateCount++;const s=new pn(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let a=[];if(i)if(n){const l=iE(r,u=>Li(u));a=P4e(t.serverSyncTree_,s,l,i)}else{const l=Li(r);a=R4e(t.serverSyncTree_,s,l,i)}else if(n){const l=iE(r,u=>Li(u));a=N4e(t.serverSyncTree_,s,l)}else{const l=Li(r);a=o4(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=Jg(t,s)),Rc(t.eventQueue_,o,a)}function sz(t,e){cj(t,"connected",e),e===!1&&oke(t)}function ike(t,e){Hs(e,(r,n)=>{cj(t,r,n)})}function cj(t,e,r){const n=new pn("/.info/"+e),i=Li(r);t.infoData_.updateSnapshot(n,i);const s=o4(t.infoSyncTree_,n,i);Rc(t.eventQueue_,n,s)}function uj(t){return t.nextWriteId_++}function ske(t,e,r,n,i){f4(t,"set",{path:e.toString(),value:r,priority:n});const s=h4(t),a=Li(r,n),o=ZP(t.serverSyncTree_,e),l=hte(a,o,s),u=uj(t),d=ote(t.serverSyncTree_,e,l,u,!0);d4(t.eventQueue_,d),t.server_.put(e.toString(),a.val(!0),(g,v)=>{const x=g==="ok";x||Ga("set at "+e+" failed: "+g);const b=Hh(t.serverSyncTree_,u,!x);Rc(t.eventQueue_,e,b),bf(t,i,g,v)});const m=hj(t,e);Jg(t,m),Rc(t.eventQueue_,m,[])}function ake(t,e,r,n){f4(t,"update",{path:e.toString(),value:r});let i=!0;const s=h4(t),a={};if(Hs(r,(o,l)=>{i=!1,a[o]=dte(ci(e,o),Li(l),t.serverSyncTree_,s)}),i)Ls("update() called with empty data.  Don't do anything."),bf(t,n,"ok",void 0);else{const o=uj(t),l=C4e(t.serverSyncTree_,e,a,o);d4(t.eventQueue_,l),t.server_.merge(e.toString(),r,(u,d)=>{const m=u==="ok";m||Ga("update at "+e+" failed: "+u);const g=Hh(t.serverSyncTree_,o,!m),v=g.length>0?Jg(t,e):e;Rc(t.eventQueue_,v,g),bf(t,n,u,d)}),Hs(r,u=>{const d=hj(t,ci(e,u));Jg(t,d)}),Rc(t.eventQueue_,e,[])}}function oke(t){f4(t,"onDisconnectEvents");const e=h4(t),r=OE();W6(t.onDisconnect_,Kr(),(i,s)=>{const a=dte(i,s,t.serverSyncTree_,e);Ov(r,i,a)});let n=[];W6(r,Kr(),(i,s)=>{n=n.concat(o4(t.serverSyncTree_,i,s));const a=hj(t,i);Jg(t,a)}),t.onDisconnect_=OE(),Rc(t.eventQueue_,Kr(),n)}function lke(t,e,r){t.server_.onDisconnectCancel(e.toString(),(n,i)=>{n==="ok"&&q6(t.onDisconnect_,e),bf(t,r,n,i)})}function az(t,e,r,n){const i=Li(r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&Ov(t.onDisconnect_,e,i),bf(t,n,s,a)})}function cke(t,e,r,n,i){const s=Li(r,n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&Ov(t.onDisconnect_,e,s),bf(t,i,a,o)})}function uke(t,e,r,n){if(nE(r)){Ls("onDisconnect().update() called with empty data.  Don't do anything."),bf(t,n,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),r,(i,s)=>{i==="ok"&&Hs(r,(a,o)=>{const l=Li(o);Ov(t.onDisconnect_,ci(e,a),l)}),bf(t,n,i,s)})}function dke(t,e,r){let n;or(e._path)===".info"?n=rz(t.infoSyncTree_,e,r):n=rz(t.serverSyncTree_,e,r),bte(t.eventQueue_,e._path,n)}function hke(t,e,r){let n;or(e._path)===".info"?n=Z6(t.infoSyncTree_,e,r):n=Z6(t.serverSyncTree_,e,r),bte(t.eventQueue_,e._path,n)}function fke(t){t.persistentConnection_&&t.persistentConnection_.interrupt(Z4e)}function f4(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Ls(r,...e)}function bf(t,e,r,n){e&&Iv(()=>{if(r==="ok")e(null);else{const i=(r||"error").toUpperCase();let s=i;n&&(s+=": "+n);const a=new Error(s);a.code=i,e(a)}})}function _te(t,e,r){return ZP(t.serverSyncTree_,e,r)||qt.EMPTY_NODE}function dj(t,e=t.transactionQueueTree_){if(e||m4(t,e),Pv(e)){const r=Tte(t,e);at(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&mke(t,wb(e),r)}else mte(e)&&c4(e,r=>{dj(t,r)})}function mke(t,e,r){const n=r.map(u=>u.currentWriteId),i=_te(t,e,n);let s=i;const a=i.hash();for(let u=0;u<r.length;u++){const d=r[u];at(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const m=vo(e,d.path);s=s.updateChild(m,d.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,u=>{f4(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const m=[];for(let g=0;g<r.length;g++)r[g].status=2,d=d.concat(Hh(t.serverSyncTree_,r[g].currentWriteId)),r[g].onComplete&&m.push(()=>r[g].onComplete(null,!0,r[g].currentOutputSnapshotResolved)),r[g].unwatcher();m4(t,oj(t.transactionQueueTree_,e)),dj(t,t.transactionQueueTree_),Rc(t.eventQueue_,e,d);for(let g=0;g<m.length;g++)Iv(m[g])}else{if(u==="datastale")for(let m=0;m<r.length;m++)r[m].status===3?r[m].status=4:r[m].status=0;else{Ga("transaction at "+l.toString()+" failed: "+u);for(let m=0;m<r.length;m++)r[m].status=4,r[m].abortReason=u}Jg(t,e)}},a)}function Jg(t,e){const r=Ete(t,e),n=wb(r),i=Tte(t,r);return pke(t,i,n),n}function pke(t,e,r){if(e.length===0)return;const n=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=vo(r,l.path);let d=!1,m;if(at(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,m=l.abortReason,i=i.concat(Hh(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=eke)d=!0,m="maxretry",i=i.concat(Hh(t.serverSyncTree_,l.currentWriteId,!0));else{const g=_te(t,l.path,a);l.currentInputSnapshot=g;const v=e[o].update(g.val());if(v!==void 0){u4("transaction failed: Data returned ",v,l.path);let x=Li(v);typeof v=="object"&&v!=null&&Ou(v,".priority")||(x=x.updatePriority(g.getPriority()));const w=l.currentWriteId,_=h4(t),k=hte(x,g,_);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=k,l.currentWriteId=uj(t),a.splice(a.indexOf(w),1),i=i.concat(ote(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),i=i.concat(Hh(t.serverSyncTree_,w,!0))}else d=!0,m="nodata",i=i.concat(Hh(t.serverSyncTree_,l.currentWriteId,!0))}Rc(t.eventQueue_,r,i),i=[],d&&(e[o].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(m==="nodata"?n.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):n.push(()=>e[o].onComplete(new Error(m),!1,null))))}m4(t,t.transactionQueueTree_);for(let o=0;o<n.length;o++)Iv(n[o]);dj(t,t.transactionQueueTree_)}function Ete(t,e){let r,n=t.transactionQueueTree_;for(r=or(e);r!==null&&Pv(n)===void 0;)n=oj(n,r),e=On(e),r=or(e);return n}function Tte(t,e){const r=[];return Ste(t,e,r),r.sort((n,i)=>n.order-i.order),r}function Ste(t,e,r){const n=Pv(e);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);c4(e,i=>{Ste(t,i,r)})}function m4(t,e){const r=Pv(e);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,fte(e,r.length>0?r:void 0)}c4(e,n=>{m4(t,n)})}function hj(t,e){const r=wb(Ete(t,e)),n=oj(t.transactionQueueTree_,e);return z4e(n,i=>{v3(t,i)}),v3(t,n),pte(n,i=>{v3(t,i)}),r}function v3(t,e){const r=Pv(e);if(r){const n=[];let i=[],s=-1;for(let a=0;a<r.length;a++)r[a].status===3||(r[a].status===1?(at(s===a-1,"All SENT items should be at beginning of queue."),s=a,r[a].status=3,r[a].abortReason="set"):(at(r[a].status===0,"Unexpected transaction status in abort"),r[a].unwatcher(),i=i.concat(Hh(t.serverSyncTree_,r[a].currentWriteId,!0)),r[a].onComplete&&n.push(r[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?fte(e,void 0):r.length=s+1,Rc(t.eventQueue_,wb(e),i);for(let a=0;a<n.length;a++)Iv(n[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gke(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function vke(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Ga(`Invalid query segment '${r}' in query '${t}'`)}return e}const oz=function(t,e){const r=yke(t),n=r.namespace;r.domain==="firebase.com"&&Rd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&Rd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||TTe();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new Ree(r.host,r.secure,n,i,e,"",n!==r.subdomain),path:new pn(r.pathString)}},yke=function(t){let e="",r="",n="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let m=t.indexOf("?");m===-1&&(m=t.length),e=t.substring(0,Math.min(d,m)),d<m&&(i=gke(t.substring(d,m)));const g=vke(t.substring(Math.min(t.length,m)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const v=e.slice(0,u);if(v.toLowerCase()==="localhost")r="localhost";else if(v.split(".").length<=2)r=v;else{const x=e.indexOf(".");n=e.substring(0,x).toLowerCase(),r=e.substring(x+1),s=n}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xke{constructor(e,r,n,i){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Fs(this.snapshot.exportVal())}}class bke{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wke{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return at(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _ke{constructor(e,r){this._repo=e,this._path=r}cancel(){const e=new uu;return lke(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){ig("OnDisconnect.remove",this._path);const e=new uu;return az(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){ig("OnDisconnect.set",this._path),tI("OnDisconnect.set",e,this._path);const r=new uu;return az(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}setWithPriority(e,r){ig("OnDisconnect.setWithPriority",this._path),tI("OnDisconnect.setWithPriority",e,this._path),K4e("OnDisconnect.setWithPriority",r);const n=new uu;return cke(this._repo,this._path,e,r,n.wrapCallback(()=>{})),n.promise}update(e){ig("OnDisconnect.update",this._path),yte("OnDisconnect.update",e,this._path);const r=new uu;return uke(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fj{constructor(e,r,n,i){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return dr(this._path)?null:BP(this._path)}get ref(){return new Mf(this._repo,this._path)}get _queryIdentifier(){const e=qU(this._queryParams),r=DP(e);return r==="{}"?"default":r}get _queryObject(){return qU(this._queryParams)}isEqual(e){if(e=Br(e),!(e instanceof fj))return!1;const r=this._repo===e._repo,n=VP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+oSe(this._path)}}class Mf extends fj{constructor(e,r){super(e,r,new HP,!1)}get parent(){const e=Uee(this._path);return e===null?null:new Mf(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class BE{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new pn(e),n=rI(this.ref,e);return new BE(this._node.getChild(r),n,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>e(new BE(i,rI(this.ref,n),di)))}hasChild(e){const r=new pn(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function xo(t,e){return t=Br(t),t._checkNotDeleted("ref"),e!==void 0?rI(t._root,e):t._root}function rI(t,e){return t=Br(t),or(t._path)===null?Y4e("child","path",e):xte("child","path",e),new Mf(t._repo,ci(t._path,e))}function kte(t){return t=Br(t),new _ke(t._repo,t._path)}function nI(t){return ig("remove",t._path),p4(t,null)}function p4(t,e){t=Br(t),ig("set",t._path),tI("set",e,t._path);const r=new uu;return ske(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function iI(t,e){yte("update",e,t._path);const r=new uu;return ake(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}class mj{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new xke("value",this,new BE(e.snapshotNode,new Mf(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new bke(this,e,r):null}matches(e){return e instanceof mj?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function Eke(t,e,r,n,i){const s=new wke(r,void 0),a=new mj(s);return dke(t._repo,t,a),()=>hke(t._repo,t,a)}function hx(t,e,r,n){return Eke(t,"value",e)}x4e(Mf);S4e(Mf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tke="FIREBASE_DATABASE_EMULATOR_HOST",sI={};let Ske=!1;function kke(t,e,r,n){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Vd(s);t.repoInfo_=new Ree(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(t.authTokenProvider_=n)}function Ake(t,e,r,n,i){let s=n||t.options.databaseURL;s===void 0&&(t.options.projectId||Rd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ls("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=oz(s,i),o=a.repoInfo,l;typeof process<"u"&&AU&&(l=AU[Tke]),l?(s=`http://${l}?ns=${o.namespace}`,a=oz(s,i),o=a.repoInfo):a.repoInfo.secure;const u=new DTe(t.name,t.options,e);X4e("Invalid Firebase Database URL",a),dr(a.path)||Rd("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Nke(o,t,u,new jTe(t,r));return new Ike(d,t)}function Cke(t,e){const r=sI[e];(!r||r[t.key]!==t)&&Rd(`Database ${e}(${t.repoInfo_}) has already been deleted.`),fke(t),delete r[t.key]}function Nke(t,e,r,n){let i=sI[e.name];i||(i={},sI[e.name]=i);let s=i[t.toURLString()];return s&&Rd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new tke(t,Ske,r,n),i[t.toURLString()]=s,s}class Ike{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(rke(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Mf(this._repo,Kr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Cke(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Rd("Cannot call "+e+" on a deleted database.")}}function Oke(t=Am(),e){const r=ab(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=jR("database");n&&Rke(r,...n)}return r}function Rke(t,e,r,n={}){t=Br(t),t._checkNotDeleted("useEmulator");const i=`${e}:${r}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Eu(n,s.repoInfo_.emulatorOptions))return;Rd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)n.mockUserToken&&Rd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new V_(V_.OWNER);else if(n.mockUserToken){const o=typeof n.mockUserToken=="string"?n.mockUserToken:DR(n.mockUserToken,t.app.options.projectId);a=new V_(o)}Vd(e)&&(ES(e),TS("Database",!0)),kke(s,i,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pke(t){yTe(Of),uf(new Ad("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return Ake(n,i,s,r)},"PUBLIC").setMultipleInstances(!0)),$l(CU,NU,t),$l(CU,NU,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jke={".sv":"timestamp"};function R0(){return jke}yd.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};yd.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Pke();const g4={apiKey:"AIzaSyAqc-ct97cFYhUbX1qQA08zUDD6xAz6Ias",authDomain:"thi-tnd.firebaseapp.com",projectId:"thi-tnd",storageBucket:"thi-tnd.firebasestorage.app",messagingSenderId:"107125875663",appId:"1:107125875663:web:0e1a632779f51340c828ba",databaseURL:"https://thi-tnd-default-rtdb.asia-southeast1.firebasedatabase.app"},_b=fxe().length?Am():AS(g4),vs=jP(_b);L_(vs,EE).catch(t=>{console.error("Auth Persistence Error:",t)});const Ge=gZ(_b),oa=Oke(_b);mTe(_b);const Ate=Object.freeze(Object.defineProperty({__proto__:null,app:_b,auth:vs,db:Ge,firebaseConfig:g4,rtdb:oa},Symbol.toStringTag,{value:"Module"})),aI=async(t,e,r,n,i,s,a,o,l,u)=>{try{const d={title:t,message:e,type:r,targetType:n==="role"?"all":n,_originalTargetType:n,targetId:i,targetName:l||null,targetRoles:u||[],senderId:s,senderName:a||"H thng",createdAt:ys(),expiryDate:o?Tn.fromDate(o):null,read:!1,readBy:[],deletedBy:[]};if(n==="user"&&i)await vf(Vt(Ge,"users",i,"notifications"),d);else if(n==="class"&&i){let m=new Map;const g=cr(Vt(Ge,"courses"),gr("name","==",i)),v=await Zr(g);let x=null,b=i;if(!v.empty)x=v.docs[0].id;else{const k=Rt(Ge,"courses",i),A=await Zr(cr(Vt(Ge,"courses"),gr(qS(),"==",i)));A.empty||(x=i,b=A.docs[0].data().name)}const w=[];if(b&&w.push(Zr(cr(Vt(Ge,"users"),gr("courseName","==",b)))),x&&w.push(Zr(cr(Vt(Ge,"users"),gr("courseId","==",x)))),(await Promise.all(w)).forEach(k=>{k.docs.forEach(A=>m.set(A.id,A.id))}),m.size>0){const k=EP(Ge);m.forEach(A=>{const R=Rt(Vt(Ge,"users",A,"notifications"));k.set(R,d)}),await k.commit()}}await vf(Vt(Ge,"notifications"),d)}catch(d){throw console.error("Error sending notification:",d),d}},Dke=async(t,e,r)=>{try{const n=[],i=cr(Vt(Ge,"notifications"),gr("targetType","==","all"),Ll(20)),s=cr(Vt(Ge,"users",t,"notifications"),Wa("createdAt","desc"),Ll(20));try{(await Zr(i)).docs.forEach(l=>{var m;const u=l.data();if(u.targetRoles&&Array.isArray(u.targetRoles)&&u.targetRoles.length>0&&(!r||!u.targetRoles.includes(r)))return;const d=((m=u.readBy)==null?void 0:m.includes(t))||!1;n.push({id:l.id,...u,read:d})})}catch(o){console.warn("Error fetching global:",o)}try{(await Zr(s)).docs.forEach(l=>{n.push({id:l.id,...l.data()})})}catch(o){console.error("Error fetching personal:",o)}return n.sort((o,l)=>{var m,g;const u=((m=o.createdAt)==null?void 0:m.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u}).filter(o=>{var l;return!((l=o.deletedBy)!=null&&l.includes(t))})}catch(n){return console.error("Error fetching notifications:",n),[]}},lz=async(t,e)=>{try{const r=Rt(Ge,"notifications",t),{arrayUnion:n}=await Jr(async()=>{const{arrayUnion:s}=await Promise.resolve().then(()=>nm);return{arrayUnion:s}},void 0);try{await En(r,{deletedBy:n(e)});return}catch{}const i=Rt(Ge,"users",e,"notifications",t);await En(i,{deletedBy:n(e)})}catch{}},Cte=async(t,e)=>{try{const r=Tn.now(),n=[],i=cr(Vt(Ge,"notifications"),gr("targetType","==","all"),Ll(20));if((await Zr(i)).forEach(o=>{const l=o.data();l.targetRoles&&Array.isArray(l.targetRoles)&&l.targetRoles.length>0&&(!e||!l.targetRoles.includes(e))||(l.type==="special"||l.type==="attention")&&(!l.expiryDate||l.expiryDate.seconds&&l.expiryDate.seconds>r.seconds)&&n.push({id:o.id,...l})}),t){const o=cr(Vt(Ge,"users",t,"notifications"),Wa("createdAt","desc"),Ll(20));(await Zr(o)).forEach(u=>{const d=u.data();(d.type==="special"||d.type==="attention")&&(!d.expiryDate||d.expiryDate.seconds&&d.expiryDate.seconds>r.seconds)&&n.push({id:u.id,...d})})}return Array.from(new Map(n.map(o=>[o.id,o])).values()).sort((o,l)=>{var m,g;const u=((m=o.createdAt)==null?void 0:m.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u})}catch(r){return console.error("Error fetching marquee:",r),[]}},Mke=async(t,e)=>{try{const r=Rt(Ge,"users",e,"notifications",t);try{await En(r,{read:!0});return}catch{}const n=Rt(Ge,"notifications",t),{arrayUnion:i}=await Jr(async()=>{const{arrayUnion:s}=await Promise.resolve().then(()=>nm);return{arrayUnion:s}},void 0);await En(n,{readBy:i(e)})}catch(r){console.error("Error marking read:",r)}},Lke=async()=>{try{const t=cr(Vt(Ge,"notifications"),Wa("createdAt","desc"));return(await Zr(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching all notifications:",t),[]}},Fke=async t=>{try{return await ZS(Rt(Ge,"notifications",t)),!0}catch(e){return console.error("Error deleting notification:",e),!1}},Bke=async(t,e)=>{try{const r=Rt(Ge,"notifications",t);return await En(r,{...e,updatedAt:ys()}),!0}catch(r){return console.error("Error updating notification:",r),!1}};var Nte={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},cz=Ne.createContext&&Ne.createContext(Nte),Vke=["attr","size","title"];function Uke(t,e){if(t==null)return{};var r=zke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function zke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function VE(){return VE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},VE.apply(this,arguments)}function uz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function UE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uz(Object(r),!0).forEach(function(n){$ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function $ke(t,e,r){return e=Hke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Hke(t){var e=qke(t,"string");return typeof e=="symbol"?e:e+""}function qke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ite(t){return t&&t.map((e,r)=>Ne.createElement(e.tag,UE({key:r},e.attr),Ite(e.child)))}function dt(t){return e=>Ne.createElement(Wke,VE({attr:UE({},t.attr)},e),Ite(t.child))}function Wke(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=Uke(t,Vke),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Ne.createElement("svg",VE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:UE(UE({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Ne.createElement("title",null,s),t.children)};return cz!==void 0?Ne.createElement(cz.Consumer,null,r=>e(r)):e(Nte)}function y3(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(t)}function x3(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function Gke(t){return dt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M165.9 397.4c0 2-2.3 3.6-5.2 3.6-3.3.3-5.6-1.3-5.6-3.6 0-2 2.3-3.6 5.2-3.6 3-.3 5.6 1.3 5.6 3.6zm-31.1-4.5c-.7 2 1.3 4.3 4.3 4.9 2.6 1 5.6 0 6.2-2s-1.3-4.3-4.3-5.2c-2.6-.7-5.5.3-6.2 2.3zm44.2-1.7c-2.9.7-4.9 2.6-4.6 4.9.3 2 2.9 3.3 5.9 2.6 2.9-.7 4.9-2.6 4.6-4.6-.3-1.9-3-3.2-5.9-2.9zM244.8 8C106.1 8 0 113.3 0 252c0 110.9 69.8 205.8 169.5 239.2 12.8 2.3 17.3-5.6 17.3-12.1 0-6.2-.3-40.4-.3-61.4 0 0-70 15-84.7-29.8 0 0-11.4-29.1-27.8-36.6 0 0-22.9-15.7 1.6-15.4 0 0 24.9 2 38.6 25.8 21.9 38.6 58.6 27.5 72.9 20.9 2.3-16 8.8-27.1 16-33.7-55.9-6.2-112.3-14.3-112.3-110.5 0-27.5 7.6-41.3 23.6-58.9-2.6-6.5-11.1-33.3 2.6-67.9 20.9-6.5 69 27 69 27 20-5.6 41.5-8.5 62.8-8.5s42.8 2.9 62.8 8.5c0 0 48.1-33.6 69-27 13.7 34.7 5.2 61.4 2.6 67.9 16 17.7 25.8 31.5 25.8 58.9 0 96.5-58.9 104.2-114.8 110.5 9.2 7.9 17 22.9 17 46.4 0 33.7-.3 75.4-.3 83.6 0 6.5 4.6 14.4 17.3 12.1C428.2 457.8 496 362.9 496 252 496 113.3 383.5 8 244.8 8zM97.2 352.9c-1.3 1-1 3.3.7 5.2 1.6 1.6 3.9 2.3 5.2 1 1.3-1 1-3.3-.7-5.2-1.6-1.6-3.9-2.3-5.2-1zm-10.8-8.1c-.7 1.3.3 2.9 2.3 3.9 1.6 1 3.6.7 4.3-.7.7-1.3-.3-2.9-2.3-3.9-2-.6-3.6-.3-4.3.7zm32.4 35.6c-1.6 1.3-1 4.3 1.3 6.2 2.3 2.3 5.2 2.6 6.5 1 1.3-1.3.7-4.3-1.3-6.2-2.2-2.3-5.2-2.6-6.5-1zm-11.4-14.7c-1.6 1-1.6 3.6 0 5.9 1.6 2.3 4.3 3.3 5.6 2.3 1.6-1.3 1.6-3.9 0-6.2-1.4-2.3-4-3.3-5.6-2z"},child:[]}]})(t)}function b3(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"},child:[]}]})(t)}function H0(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Kke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Yke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function Xke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Qke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Jke(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function Zke(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(t)}function eAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function tAe(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function oI(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function dz(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function wu(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function Ote(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(t)}function rAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(t)}function nAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function iAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function sAe(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function aAe(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function oAe(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function Rte(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(t)}function w3(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function sd(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function jv(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function lAe(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function lI(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function Pte(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function _3(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function cAe(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.12 245.96c-13.25 0-24 10.74-24 24 1.14 72.25-8.14 141.9-27.7 211.55-2.73 9.72 2.15 30.49 23.12 30.49 10.48 0 20.11-6.92 23.09-17.52 13.53-47.91 31.04-125.41 29.48-224.52.01-13.25-10.73-24-23.99-24zm-.86-81.73C194 164.16 151.25 211.3 152.1 265.32c.75 47.94-3.75 95.91-13.37 142.55-2.69 12.98 5.67 25.69 18.64 28.36 13.05 2.67 25.67-5.66 28.36-18.64 10.34-50.09 15.17-101.58 14.37-153.02-.41-25.95 19.92-52.49 54.45-52.34 31.31.47 57.15 25.34 57.62 55.47.77 48.05-2.81 96.33-10.61 143.55-2.17 13.06 6.69 25.42 19.76 27.58 19.97 3.33 26.81-15.1 27.58-19.77 8.28-50.03 12.06-101.21 11.27-152.11-.88-55.8-47.94-101.88-104.91-102.72zm-110.69-19.78c-10.3-8.34-25.37-6.8-33.76 3.48-25.62 31.5-39.39 71.28-38.75 112 .59 37.58-2.47 75.27-9.11 112.05-2.34 13.05 6.31 25.53 19.36 27.89 20.11 3.5 27.07-14.81 27.89-19.36 7.19-39.84 10.5-80.66 9.86-121.33-.47-29.88 9.2-57.88 28-80.97 8.35-10.28 6.79-25.39-3.49-33.76zm109.47-62.33c-15.41-.41-30.87 1.44-45.78 4.97-12.89 3.06-20.87 15.98-17.83 28.89 3.06 12.89 16 20.83 28.89 17.83 11.05-2.61 22.47-3.77 34-3.69 75.43 1.13 137.73 61.5 138.88 134.58.59 37.88-1.28 76.11-5.58 113.63-1.5 13.17 7.95 25.08 21.11 26.58 16.72 1.95 25.51-11.88 26.58-21.11a929.06 929.06 0 0 0 5.89-119.85c-1.56-98.75-85.07-180.33-186.16-181.83zm252.07 121.45c-2.86-12.92-15.51-21.2-28.61-18.27-12.94 2.86-21.12 15.66-18.26 28.61 4.71 21.41 4.91 37.41 4.7 61.6-.11 13.27 10.55 24.09 23.8 24.2h.2c13.17 0 23.89-10.61 24-23.8.18-22.18.4-44.11-5.83-72.34zm-40.12-90.72C417.29 43.46 337.6 1.29 252.81.02 183.02-.82 118.47 24.91 70.46 72.94 24.09 119.37-.9 181.04.14 246.65l-.12 21.47c-.39 13.25 10.03 24.31 23.28 24.69.23.02.48.02.72.02 12.92 0 23.59-10.3 23.97-23.3l.16-23.64c-.83-52.5 19.16-101.86 56.28-139 38.76-38.8 91.34-59.67 147.68-58.86 69.45 1.03 134.73 35.56 174.62 92.39 7.61 10.86 22.56 13.45 33.42 5.86 10.84-7.62 13.46-22.59 5.84-33.43z"},child:[]}]})(t)}function uAe(t){return dt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm-11.34 240.23c-2.89 4.82-8.1 7.77-13.72 7.77h-.31c-4.24 0-8.31 1.69-11.31 4.69l-5.66 5.66c-3.12 3.12-3.12 8.19 0 11.31l5.66 5.66c3 3 4.69 7.07 4.69 11.31V304c0 8.84-7.16 16-16 16h-6.11c-6.06 0-11.6-3.42-14.31-8.85l-22.62-45.23c-2.44-4.88-8.95-5.94-12.81-2.08l-19.47 19.46c-3 3-7.07 4.69-11.31 4.69H50.81C49.12 277.55 48 266.92 48 256c0-110.28 89.72-200 200-200 21.51 0 42.2 3.51 61.63 9.82l-50.16 38.53c-5.11 3.41-4.63 11.06.86 13.81l10.83 5.41c5.42 2.71 8.84 8.25 8.84 14.31V216c0 4.42-3.58 8-8 8h-3.06c-3.03 0-5.8-1.71-7.15-4.42-1.56-3.12-5.96-3.29-7.76-.3l-17.37 28.95zM408 358.43c0 4.24-1.69 8.31-4.69 11.31l-9.57 9.57c-3 3-7.07 4.69-11.31 4.69h-15.16c-4.24 0-8.31-1.69-11.31-4.69l-13.01-13.01a26.767 26.767 0 0 0-25.42-7.04l-21.27 5.32c-1.27.32-2.57.48-3.88.48h-10.34c-4.24 0-8.31-1.69-11.31-4.69l-11.91-11.91a8.008 8.008 0 0 1-2.34-5.66v-10.2c0-3.27 1.99-6.21 5.03-7.43l39.34-15.74c1.98-.79 3.86-1.82 5.59-3.05l23.71-16.89a7.978 7.978 0 0 1 4.64-1.48h12.09c3.23 0 6.15 1.94 7.39 4.93l5.35 12.85a4 4 0 0 0 3.69 2.46h3.8c1.78 0 3.35-1.18 3.84-2.88l4.2-14.47c.5-1.71 2.06-2.88 3.84-2.88h6.06c2.21 0 4 1.79 4 4v12.93c0 2.12.84 4.16 2.34 5.66l11.91 11.91c3 3 4.69 7.07 4.69 11.31v24.6z"},child:[]}]})(t)}function cI(t){return dt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function zE(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function nf(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function dAe(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function jte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function yg(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function N1(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 416H381.54c-.74 19.81-14.71 32-32.74 32H288c-18.69 0-33.02-17.47-32.77-32H16c-8.8 0-16 7.2-16 16v16c0 35.2 28.8 64 64 64h512c35.2 0 64-28.8 64-64v-16c0-8.8-7.2-16-16-16zM576 48c0-26.4-21.6-48-48-48H112C85.6 0 64 21.6 64 48v336h512V48zm-64 272H128V64h384v256z"},child:[]}]})(t)}function Dte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function hz(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function hAe(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function um(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function f0(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function fAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Bh(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function E3(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505.12019,19.09375c-1.18945-5.53125-6.65819-11-12.207-12.1875C460.716,0,435.507,0,410.40747,0,307.17523,0,245.26909,55.20312,199.05238,128H94.83772c-16.34763.01562-35.55658,11.875-42.88664,26.48438L2.51562,253.29688A28.4,28.4,0,0,0,0,264a24.00867,24.00867,0,0,0,24.00582,24H127.81618l-22.47457,22.46875c-11.36521,11.36133-12.99607,32.25781,0,45.25L156.24582,406.625c11.15623,11.1875,32.15619,13.15625,45.27726,0l22.47457-22.46875V488a24.00867,24.00867,0,0,0,24.00581,24,28.55934,28.55934,0,0,0,10.707-2.51562l98.72834-49.39063c14.62888-7.29687,26.50776-26.5,26.50776-42.85937V312.79688c72.59753-46.3125,128.03493-108.40626,128.03493-211.09376C512.07526,76.5,512.07526,51.29688,505.12019,19.09375ZM384.04033,168A40,40,0,1,1,424.05,128,40.02322,40.02322,0,0,1,384.04033,168Z"},child:[]}]})(t)}function pj(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function P0(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function uI(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function fz(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(t)}function dI(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function v4(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function Mte(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(t)}function Lte(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(t)}function Fte(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function Bte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function mAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function pAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Vte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function lu(t){return dt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function fc(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function gAe(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function Ute(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function vAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function yAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(t)}function xAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function zte(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function $te(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function bAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"},child:[]}]})(t)}function wAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function _Ae(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L362.3 248.3C412.1 230.7 448 183.8 448 128 448 57.3 390.7 0 320 0c-67.1 0-121.5 51.8-126.9 117.4L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM96 422.4V464c0 26.5 21.5 48 48 48h350.2L207.4 290.3C144.2 301.3 96 356 96 422.4z"},child:[]}]})(t)}function xg(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}function $E(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function sf(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function mz(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(t)}const EAe=()=>{const[t,e]=C.useState(null);C.useEffect(()=>{(async()=>{const s=await Cte();if(s.length>0){const a=s.find(u=>u.type==="special"),o=s.find(u=>u.type==="attention"),l=a||o;l&&(sessionStorage.getItem(`seen_alert_${l.id}`)||e(l))}})()},[]);const r=()=>{t&&(sessionStorage.setItem(`seen_alert_${t.id}`,"true"),e(null))};if(!t)return null;const n=t.type==="special";return f.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-4",children:f.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all scale-100 animate-bounce-in border-t-8 ${n?"border-red-500":"border-orange-500"}`,children:f.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[f.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 ${n?"bg-red-100 text-red-500":"bg-orange-100 text-orange-500"}`,children:f.jsx(jv,{className:"text-4xl animate-pulse"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:n?"THNG BO C BIT":"CH "}),f.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:t.title}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:t.message}),f.jsx("button",{onClick:r,className:`px-8 py-3 rounded-xl font-bold text-white shadow-lg hover:shadow-xl hover:scale-105 transition-all ${n?"bg-gradient-to-r from-red-500 to-pink-600":"bg-gradient-to-r from-orange-400 to-yellow-500"}`,children:" Hiu"})]})})})};var hI=function(t,e){return hI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},hI(t,e)};function Hte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");hI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var HE=function(){return HE=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},HE.apply(this,arguments)};function Dv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function qte(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function Wte(t,e){return function(r,n){e(r,n,t)}}function Gte(t,e,r,n,i,s){function a(_){if(_!==void 0&&typeof _!="function")throw new TypeError("Function expected");return _}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),m,g=!1,v=r.length-1;v>=0;v--){var x={};for(var b in n)x[b]=b==="access"?{}:n[b];for(var b in n.access)x.access[b]=n.access[b];x.addInitializer=function(_){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(_||null))};var w=(0,r[v])(o==="accessor"?{get:d.get,set:d.set}:d[l],x);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(m=a(w.get))&&(d.get=m),(m=a(w.set))&&(d.set=m),(m=a(w.init))&&i.unshift(m)}else(m=a(w))&&(o==="field"?i.unshift(m):d[l]=m)}u&&Object.defineProperty(u,n.name,d),g=!0}function Kte(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Yte(t){return typeof t=="symbol"?t:"".concat(t)}function Xte(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Qte(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function bt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(m){a(m)}}function l(d){try{u(n.throw(d))}catch(m){a(m)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function Jte(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var y4=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function Zte(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&y4(e,t,r)}function qE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function gj(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function ere(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(gj(arguments[e]));return t}function tre(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function rre(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Zg(t){return this instanceof Zg?(this.v=t,this):new Zg(t)}function nre(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(x){return Promise.resolve(x).then(v,m)}}function o(v,x){n[v]&&(i[v]=function(b){return new Promise(function(w,_){s.push([v,b,w,_])>1||l(v,b)})},x&&(i[v]=x(i[v])))}function l(v,x){try{u(n[v](x))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof Zg?Promise.resolve(v.value.v).then(d,m):g(s[0][2],v)}function d(v){l("next",v)}function m(v){l("throw",v)}function g(v,x){v(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function ire(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:Zg(t[i](a)),done:!1}:s?s(a):a}:s}}function sre(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof qE=="function"?qE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function are(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var TAe=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},fI=function(t){return fI=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},fI(t)};function ore(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=fI(t),n=0;n<r.length;n++)r[n]!=="default"&&y4(e,t,r[n]);return TAe(e,t),e}function lre(t){return t&&t.__esModule?t:{default:t}}function cre(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function ure(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function dre(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function hre(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var SAe=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function fre(t){function e(s){t.error=t.hasError?new SAe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function mre(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const kAe={__extends:Hte,__assign:HE,__rest:Dv,__decorate:qte,__param:Wte,__esDecorate:Gte,__runInitializers:Kte,__propKey:Yte,__setFunctionName:Xte,__metadata:Qte,__awaiter:bt,__generator:Jte,__createBinding:y4,__exportStar:Zte,__values:qE,__read:gj,__spread:ere,__spreadArrays:tre,__spreadArray:rre,__await:Zg,__asyncGenerator:nre,__asyncDelegator:ire,__asyncValues:sre,__makeTemplateObject:are,__importStar:ore,__importDefault:lre,__classPrivateFieldGet:cre,__classPrivateFieldSet:ure,__classPrivateFieldIn:dre,__addDisposableResource:hre,__disposeResources:fre,__rewriteRelativeImportExtension:mre},AAe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:hre,get __assign(){return HE},__asyncDelegator:ire,__asyncGenerator:nre,__asyncValues:sre,__await:Zg,__awaiter:bt,__classPrivateFieldGet:cre,__classPrivateFieldIn:dre,__classPrivateFieldSet:ure,__createBinding:y4,__decorate:qte,__disposeResources:fre,__esDecorate:Gte,__exportStar:Zte,__extends:Hte,__generator:Jte,__importDefault:lre,__importStar:ore,__makeTemplateObject:are,__metadata:Qte,__param:Wte,__propKey:Yte,__read:gj,__rest:Dv,__rewriteRelativeImportExtension:mre,__runInitializers:Kte,__setFunctionName:Xte,__spread:ere,__spreadArray:rre,__spreadArrays:tre,__values:qE,default:kAe},Symbol.toStringTag,{value:"Module"})),CAe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class vj extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class NAe extends vj{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class pz extends vj{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class gz extends vj{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var mI;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(mI||(mI={}));class IAe{constructor(e,{headers:r={},customFetch:n,region:i=mI.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=CAe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return bt(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:d,timeout:m}=n;let g={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let b;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(g["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(g["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let w=d;m&&(a=new AbortController,s=setTimeout(()=>a.abort(),m),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const _=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:b,signal:w}).catch(P=>{throw new NAe(P)}),k=_.headers.get("x-relay-error");if(k&&k==="true")throw new pz(_);if(!_.ok)throw new gz(_);let A=((i=_.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),R;return A==="application/json"?R=yield _.json():A==="application/octet-stream"||A==="application/pdf"?R=yield _.blob():A==="text/event-stream"?R=_:A==="multipart/form-data"?R=yield _.formData():R=yield _.text(),{data:R,error:null,response:_}}catch(o){return{data:null,error:o,response:o instanceof gz||o instanceof pz?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var va={};const Mv=vfe(AAe);var j2={},D2={},M2={},L2={},F2={},B2={},vz;function pre(){if(vz)return B2;vz=1,Object.defineProperty(B2,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return B2.default=t,B2}var yz;function gre(){if(yz)return F2;yz=1,Object.defineProperty(F2,"__esModule",{value:!0});const e=Mv.__importDefault(pre());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,m,g;let v=null,x=null,b=null,w=l.status,_=l.statusText;if(l.ok){if(this.method!=="HEAD"){const P=await l.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=P:x=JSON.parse(P))}const A=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),R=(m=l.headers.get("content-range"))===null||m===void 0?void 0:m.split("/");A&&R&&R.length>1&&(b=parseInt(R[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,w=406,_="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const A=await l.text();try{v=JSON.parse(A),Array.isArray(v)&&l.status===404&&(x=[],v=null,w=200,_="OK")}catch{l.status===404&&A===""?(w=204,_="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,w=200,_="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:b,status:w,statusText:_}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,d,m,g,v,x;let b="";const w=l==null?void 0:l.cause;if(w){const _=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",k=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";b=`${(m=l==null?void 0:l.name)!==null&&m!==void 0?m:"FetchError"}: ${l==null?void 0:l.message}`,b+=`

Caused by: ${(g=w==null?void 0:w.name)!==null&&g!==void 0?g:"Error"}: ${_}`,k&&(b+=` (${k})`),w!=null&&w.stack&&(b+=`
${w.stack}`)}else b=(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return F2.default=r,F2}var xz;function vre(){if(xz)return L2;xz=1,Object.defineProperty(L2,"__esModule",{value:!0});const e=Mv.__importDefault(gre());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const m=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${m};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return L2.default=r,L2}var bz;function yj(){if(bz)return M2;bz=1,Object.defineProperty(M2,"__esModule",{value:!0});const e=Mv.__importDefault(vre()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return M2.default=n,M2}var wz;function yre(){if(wz)return D2;wz=1,Object.defineProperty(D2,"__esModule",{value:!0});const e=Mv.__importDefault(yj());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(m=>/\s/.test(m)&&!u?"":(m==='"'&&(u=!u),m)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,m)=>d.concat(Object.keys(m)),[]);if(u.length>0){const d=[...new Set(u)].map(m=>`"${m}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const m=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(m.length>0){const g=[...new Set(m)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return D2.default=r,D2}var _z;function OAe(){if(_z)return j2;_z=1,Object.defineProperty(j2,"__esModule",{value:!0});const t=Mv,e=t.__importDefault(yre()),r=t.__importDefault(yj());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:u}={}){var d;let m;const g=new URL(`${this.url}/rpc/${s}`);let v;o||l?(m=o?"HEAD":"GET",Object.entries(a).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{g.searchParams.append(b,w)})):(m="POST",v=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:m,url:g,headers:x,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return j2.default=n,j2}var Ez;function RAe(){if(Ez)return va;Ez=1,Object.defineProperty(va,"__esModule",{value:!0}),va.PostgrestError=va.PostgrestBuilder=va.PostgrestTransformBuilder=va.PostgrestFilterBuilder=va.PostgrestQueryBuilder=va.PostgrestClient=void 0;const t=Mv,e=t.__importDefault(OAe());va.PostgrestClient=e.default;const r=t.__importDefault(yre());va.PostgrestQueryBuilder=r.default;const n=t.__importDefault(yj());va.PostgrestFilterBuilder=n.default;const i=t.__importDefault(vre());va.PostgrestTransformBuilder=i.default;const s=t.__importDefault(gre());va.PostgrestBuilder=s.default;const a=t.__importDefault(pre());return va.PostgrestError=a.default,va.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},va}var xre=RAe();const bre=ll(xre),PAe=FY({__proto__:null,default:bre},[xre]),{PostgrestClient:jAe,PostgrestQueryBuilder:Wot,PostgrestFilterBuilder:Got,PostgrestTransformBuilder:Kot,PostgrestBuilder:Yot,PostgrestError:Xot}=bre||PAe;class DAe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const MAe="2.86.0",LAe=`realtime-js/${MAe}`,wre="1.0.0",FAe="2.0.0",Tz=wre,pI=1e4,BAe=1e3,VAe=100;var T0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(T0||(T0={}));var fs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(fs||(fs={}));var dc;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(dc||(dc={}));var gI;(function(t){t.websocket="websocket"})(gI||(gI={}));var S0;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(S0||(S0={}));class UAe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},m=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(m.length>255)throw new Error(`metadata length ${m.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+m.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,l.length),x.setUint8(b++,o.length),x.setUint8(b++,a.length),x.setUint8(b++,u.length),x.setUint8(b++,m.length),x.setUint8(b++,r),Array.from(l,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(o,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(a,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(u,_=>x.setUint8(b++,_.charCodeAt(0))),Array.from(m,_=>x.setUint8(b++,_.charCodeAt(0)));var w=new Uint8Array(v.byteLength+n.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(n),v.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+s));l=l+s;const m=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),v=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,x={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(x.meta=JSON.parse(m)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let _re=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var Dn;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(Dn||(Dn={}));const Sz=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=zAe(a,t,e,i),s),{}):{}},zAe=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?Ere(s,a):vI(a)},Ere=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return WAe(e,r)}switch(t){case Dn.bool:return $Ae(e);case Dn.float4:case Dn.float8:case Dn.int2:case Dn.int4:case Dn.int8:case Dn.numeric:case Dn.oid:return HAe(e);case Dn.json:case Dn.jsonb:return qAe(e);case Dn.timestamp:return GAe(e);case Dn.abstime:case Dn.date:case Dn.daterange:case Dn.int4range:case Dn.int8range:case Dn.money:case Dn.reltime:case Dn.text:case Dn.time:case Dn.timestamptz:case Dn.timetz:case Dn.tsrange:case Dn.tstzrange:return vI(e);default:return vI(e)}},vI=t=>t,$Ae=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},HAe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},qAe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},WAe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>Ere(e,o))}return t},GAe=t=>typeof t=="string"?t.replace(" ","T"):t,Tre=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class T3{constructor(e,r,n={},i=pI){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var kz;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(kz||(kz={}));class I1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=I1.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=I1.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=I1.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const m=s[u];if(m){const g=d.map(w=>w.presence_ref),v=m.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),b=m.filter(w=>g.indexOf(w.presence_ref)<0);x.length>0&&(o[u]=x),b.length>0&&(l[u]=b)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const m=e[o].map(v=>v.presence_ref),g=d.filter(v=>m.indexOf(v.presence_ref)<0);e[o].unshift(...g)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(m=>m.presence_ref);u=u.filter(m=>d.indexOf(m.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var Az;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(Az||(Az={}));var O1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(O1||(O1={}));var nd;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(nd||(nd={}));class xj{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=fs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new T3(this,dc.join,this.params,this.timeout),this.rejoinTimer=new _re(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=fs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=fs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=fs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(dc.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new I1(this),this.broadcastEndpointURL=Tre(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==fs.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[O1.PRESENCE]&&this.bindings[O1.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,m={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(m.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(nd.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(nd.CLOSED)),this.updateJoinPayload(Object.assign({config:g},m)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(nd.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,_=[];for(let k=0;k<w;k++){const A=b[k],{filter:{event:R,schema:P,table:j,filter:S}}=A,I=v&&v[k];if(I&&I.event===R&&I.schema===P&&I.table===j&&I.filter===S)_.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=fs.errored,e==null||e(nd.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=_,e&&e(nd.SUBSCRIBED);return}}).receive("error",v=>{this.state=fs.errored,e==null||e(nd.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(nd.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===fs.joined&&e===O1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=fs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(dc.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new T3(this,dc.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=fs.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new T3(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>VAe){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=dc;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,b,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(b=v.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var x,b,w,_,k,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const R=v.id,P=(x=v.filter)===null||x===void 0?void 0:x.event;return R&&((b=r.ids)===null||b===void 0?void 0:b.includes(R))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const R=(k=(_=v==null?void 0:v.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return R==="*"||R===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:b,table:w,commit_timestamp:_,type:k,errors:A}=x;g=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:_,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(x))}v.callback(g,n)})}_isClosed(){return this.state===fs.closed}_isJoined(){return this.state===fs.joined}_isJoining(){return this.state===fs.joining}_isLeaving(){return this.state===fs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&xj.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(dc.close,{},e)}_onError(e){this._on(dc.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=fs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=Sz(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=Sz(e.columns,e.old_record)),r}}const S3=()=>{},V2={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},KAe=[1e3,2e3,5e3,1e4],YAe=1e4,XAe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class QAe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=pI,this.transport=null,this.heartbeatIntervalMs=V2.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=S3,this.ref=0,this.reconnectTimer=null,this.vsn=Tz,this.logger=S3,this.conn=null,this.sendBuffer=[],this.serializer=new UAe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${gI.websocket}`,this.httpEndpoint=Tre(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=DAe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case T0.connecting:return S0.Connecting;case T0.open:return S0.Open;case T0.closing:return S0.Closing;default:return S0.Closed}}isConnected(){return this.connectionState()===S0.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new xj(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(BAe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},V2.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===T0.open||this.conn.readyState===T0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(dc.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([XAe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:LAe};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(dc.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new _re(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},V2.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,d,m,g,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:pI,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:V2.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:S3,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:Tz,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(x=>KAe[x-1]||YAe),this.vsn){case wre:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((x,b)=>b(JSON.stringify(x))),this.decode=(m=e==null?void 0:e.decode)!==null&&m!==void 0?m:((x,b)=>b(JSON.parse(x)));break;case FAe:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class x4 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class JAe extends x4{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class yI extends x4{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const bj=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),ZAe=()=>Response,xI=t=>{if(Array.isArray(t))return t.map(r=>xI(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=xI(n)}),e},eCe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},tCe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),k3=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},rCe=(t,e,r)=>bt(void 0,void 0,void 0,function*(){const n=yield ZAe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new JAe(k3(i),s,a))}).catch(i=>{e(new yI(k3(i),i))}):e(new yI(k3(t),t))}),nCe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(eCe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function Eb(t,e,r,n,i,s){return bt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,nCe(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>rCe(l,o,n))})})}function fx(t,e,r,n){return bt(this,void 0,void 0,function*(){return Eb(t,"GET",e,r,n)})}function uc(t,e,r,n,i){return bt(this,void 0,void 0,function*(){return Eb(t,"POST",e,n,i,r)})}function bI(t,e,r,n,i){return bt(this,void 0,void 0,function*(){return Eb(t,"PUT",e,n,i,r)})}function iCe(t,e,r,n){return bt(this,void 0,void 0,function*(){return Eb(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function wj(t,e,r,n,i){return bt(this,void 0,void 0,function*(){return Eb(t,"DELETE",e,n,i,r)})}class sCe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return bt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oi(e))return{data:null,error:e};throw e}})}}var Sre;class aCe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[Sre]="BlobDownloadBuilder",this.promise=null}asStream(){return new sCe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return bt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oi(e))return{data:null,error:e};throw e}})}}Sre=Symbol.toStringTag;const oCe={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},Cz={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class lCe{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=bj(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return bt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},Cz),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),m=yield(e=="PUT"?bI:uc)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:m.Id,fullPath:m.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oi(s))return{data:null,error:s};throw s}})}upload(e,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return bt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:Cz.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const m=yield bI(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:m.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oi(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return bt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield uc(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new x4("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}update(e,r,n){return bt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return bt(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}copy(e,r,n){return bt(this,void 0,void 0,function*(){try{return{data:{path:(yield uc(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return bt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield uc(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return bt(this,void 0,void 0,function*(){try{const i=yield uc(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>fx(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new aCe(l,this.shouldThrowOnError)}info(e){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield fx(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:xI(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}exists(e){return bt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield iCe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n)&&n instanceof yI){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return bt(this,void 0,void 0,function*(){try{return{data:yield wj(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}list(e,r,n){return bt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},oCe),r),{prefix:e||""});return{data:yield uc(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}listV2(e,r){return bt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield uc(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const kre="2.86.0",Are={"X-Client-Info":`storage-js/${kre}`};class cCe{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Are),r),this.fetch=bj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return bt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield fx(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield fx(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}createBucket(e){return bt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield uc(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return bt(this,void 0,void 0,function*(){try{return{data:yield bI(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}emptyBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield wj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var mx=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function uCe(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function dCe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function hCe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=uCe(t.baseUrl,n,i),l=await dCe(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),m=(u.headers.get("content-type")||"").includes("application/json"),g=m&&d?JSON.parse(d):d;if(!u.ok){const v=m?g:void 0,x=v==null?void 0:v.error;throw new mx((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:g}}}}function U2(t){return t.join("")}var fCe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:U2(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${U2(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${U2(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${U2(t.namespace)}`}),!0}catch(e){if(e instanceof mx&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof mx&&r.status===409)return;throw r}}};function Ip(t){return t.join("")}var mCe=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ip(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ip(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${Ip(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${Ip(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${Ip(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${Ip(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof mx&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof mx&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},pCe=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=hCe({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new fCe(this.client,e),this.tableOps=new mCe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class gCe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},Are),r),this.fetch=bj(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield uc(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}listBuckets(e){return bt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield fx(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield wj(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}from(e){if(!tCe(e))throw new x4("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new pCe({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>bt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const _j={"X-Client-Info":`storage-js/${kre}`,"Content-Type":"application/json"};class Cre extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Go(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class A3 extends Cre{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class vCe extends Cre{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var Nz;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(Nz||(Nz={}));const Ej=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yCe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},Iz=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),xCe=(t,e,r)=>bt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new A3(Iz(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new A3(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new A3(o,i,a))}}else e(new vCe(Iz(t),t))}),bCe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(yCe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function wCe(t,e,r,n,i,s){return bt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,bCe(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>xCe(l,o,n))})})}function Ko(t,e,r,n,i){return bt(this,void 0,void 0,function*(){return wCe(t,"POST",e,n,i,r)})}class _Ce{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_j),r),this.fetch=Ej(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield Ko(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}getIndex(e,r){return bt(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Go(n))return{data:null,error:n};throw n}})}listIndexes(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return bt(this,void 0,void 0,function*(){try{return{data:(yield Ko(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Go(n))return{data:null,error:n};throw n}})}}class ECe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_j),r),this.fetch=Ej(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Ko(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}getVectors(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}listVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Ko(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}queryVectors(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}deleteVectors(e){return bt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Ko(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}}class TCe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},_j),r),this.fetch=Ej(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield Ko(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}getBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:yield Ko(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}listBuckets(){return bt(this,arguments,void 0,function*(e={}){try{return{data:yield Ko(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}deleteBucket(e){return bt(this,void 0,void 0,function*(){try{return{data:(yield Ko(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Go(r))return{data:null,error:r};throw r}})}}class SCe extends TCe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new kCe(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return bt(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return bt(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return bt(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return bt(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class kCe extends _Ce{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return bt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return bt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return bt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return bt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new ACe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class ACe extends ECe{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return bt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return bt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return bt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return bt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return bt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class CCe extends cCe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new lCe(this.url,this.headers,e,this.fetch)}get vectors(){return new SCe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new gCe(this.url+"/iceberg",this.headers,this.fetch)}}const NCe="2.86.0";let l1="";typeof Deno<"u"?l1="deno":typeof document<"u"?l1="web":typeof navigator<"u"&&navigator.product==="ReactNative"?l1="react-native":l1="node";const ICe={"X-Client-Info":`supabase-js-${l1}/${NCe}`},OCe={headers:ICe},RCe={schema:"public"},PCe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},jCe={},DCe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),MCe=()=>Headers,LCe=(t,e,r)=>{const n=DCe(r),i=MCe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))}};function FCe(t){return t.endsWith("/")?t:t+"/"}function BCe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:m}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},m),o),{headers:Object.assign(Object.assign({},(r=m==null?void 0:m.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function VCe(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(FCe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const Nre="2.86.0",Wp=30*1e3,wI=3,C3=wI*Wp,UCe="http://localhost:9999",zCe="supabase.auth.token",$Ce={"X-Client-Info":`gotrue-js/${Nre}`},_I="X-Supabase-Api-Version",Ire={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},HCe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,qCe=600*1e3;class px extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function kt(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class WCe extends px{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function GCe(t){return kt(t)&&t.name==="AuthApiError"}class k0 extends px{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class Lf extends px{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Uo extends Lf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function KCe(t){return kt(t)&&t.name==="AuthSessionMissingError"}class Op extends Lf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class z2 extends Lf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class $2 extends Lf{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function YCe(t){return kt(t)&&t.name==="AuthImplicitGrantRedirectError"}class Oz extends Lf{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class EI extends Lf{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function N3(t){return kt(t)&&t.name==="AuthRetryableFetchError"}class Rz extends Lf{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class TI extends Lf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const WE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Pz=` 	
\r=`.split(""),XCe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<Pz.length;e+=1)t[Pz[e].charCodeAt(0)]=-2;for(let e=0;e<WE.length;e+=1)t[WE[e].charCodeAt(0)]=e;return t})();function jz(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(WE[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(WE[n]),e.queuedBits-=6}}function Ore(t,e,r){const n=XCe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function Dz(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{ZCe(a,n,r)};for(let a=0;a<t.length;a+=1)Ore(t.charCodeAt(a),i,s);return e.join("")}function QCe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function JCe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}QCe(n,e)}}function ZCe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function bg(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)Ore(t.charCodeAt(i),r,n);return new Uint8Array(e)}function e3e(t){const e=[];return JCe(t,r=>e.push(r)),new Uint8Array(e)}function j0(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>jz(i,r,n)),jz(null,r,n),e.join("")}function t3e(t){return Math.round(Date.now()/1e3)+t}function r3e(){return Symbol("auth-callback")}const Zs=()=>typeof window<"u"&&typeof document<"u",m0={tested:!1,writable:!1},Rre=()=>{if(!Zs())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(m0.tested)return m0.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),m0.tested=!0,m0.writable=!0}catch{m0.tested=!0,m0.writable=!1}return m0.writable};function n3e(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const Pre=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),i3e=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Gp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},p0=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},Ih=async(t,e)=>{await t.removeItem(e)};class b4{constructor(){this.promise=new b4.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}b4.promiseConstructor=Promise;function I3(t){const e=t.split(".");if(e.length!==3)throw new TI("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!HCe.test(e[n]))throw new TI("JWT not in base64url format");return{header:JSON.parse(Dz(e[0])),payload:JSON.parse(Dz(e[1])),signature:bg(e[2]),raw:{header:e[0],payload:e[1]}}}async function s3e(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function a3e(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function o3e(t){return("0"+t.toString(16)).substr(-2)}function l3e(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,o3e).join("")}async function c3e(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function u3e(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await c3e(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Rp(t,e,r=!1){const n=l3e();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Gp(t,`${e}-code-verifier`,i);const s=await u3e(n);return[s,n===s?"plain":"s256"]}const d3e=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function h3e(t){const e=t.headers.get(_I);if(!e||!e.match(d3e))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function f3e(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function m3e(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const p3e=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Pp(t){if(!p3e.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function O3(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function g3e(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function Mz(t){return JSON.parse(JSON.stringify(t))}const b0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),v3e=[502,503,504];async function Lz(t){var e;if(!i3e(t))throw new EI(b0(t),0);if(v3e.includes(t.status))throw new EI(b0(t),t.status);let r;try{r=await t.json()}catch(s){throw new k0(b0(s),s)}let n;const i=h3e(t);if(i&&i.getTime()>=Ire["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new Rz(b0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Uo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new Rz(b0(r),t.status,r.weak_password.reasons);throw new WCe(b0(r),t.status||500,n)}const y3e=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function Dt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[_I]||(s[_I]=Ire["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await x3e(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function x3e(t,e,r,n,i,s){const a=y3e(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new EI(b0(l),0)}if(o.ok||await Lz(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Lz(l)}}function lc(t){var e;let r=null;_3e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=t3e(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function Fz(t){const e=lc(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Vh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function b3e(t){return{data:t,error:null}}function w3e(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=Dv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Bz(t){return t}function _3e(t){return t.access_token&&t.refresh_token&&t.expires_in}const R3=["global","local","others"];class E3e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=Pre(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=R3[0]){if(R3.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${R3.join(", ")}`);try{return await Dt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(kt(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await Dt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Vh})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=Dv(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await Dt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:w3e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(kt(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Vh})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Dt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Bz});if(d.error)throw d.error;const m=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(kt(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){Pp(e);try{return await Dt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Vh})}catch(r){if(kt(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){Pp(e);try{return await Dt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Vh})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){Pp(e);try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Vh})}catch(n){if(kt(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){Pp(e.userId);try{const{data:r,error:n}=await Dt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _deleteFactor(e){Pp(e.userId),Pp(e.id);try{return{data:await Dt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:Bz});if(d.error)throw d.error;const m=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},m),u),error:null}}catch(u){if(kt(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await Dt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await Dt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(kt(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await Dt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(kt(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await Dt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(kt(r))return{data:null,error:r};throw r}}}function Vz(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const jp={debug:!!(globalThis&&Rre()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class jre extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class T3e extends jre{}async function S3e(t,e,r){jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw jp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new T3e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(jp.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function k3e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function Dre(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function A3e(t){return parseInt(t,16)}function C3e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function N3e(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:m,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!m)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=Dre(t.address),x=d?`${d}://${n}`:n,b=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${v}

${b}`;let _=`URI: ${m}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(_+=`
Expiration Time: ${i.toISOString()}`),o&&(_+=`
Not Before: ${o.toISOString()}`),l&&(_+=`
Request ID: ${l}`),u){let k=`
Resources:`;for(const A of u){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);k+=`
- ${A}`}_+=k}return`${w}
${_}`}class es extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class GE extends es{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function I3e({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new es({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new es({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new es({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new es({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new es({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new es({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new es({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new es({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(Mre(a)){if(s.rp.id!==a)return new es({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new es({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new es({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new es({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new es({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function O3e({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new es({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new es({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(Mre(n)){if(r.rpId!==n)return new es({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new es({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new es({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new es({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class R3e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const P3e=new R3e;function j3e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=Dv(t,["challenge","user","excludeCredentials"]),s=bg(e).buffer,a=Object.assign(Object.assign({},r),{id:bg(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:bg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function D3e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=Dv(t,["challenge","allowCredentials"]),i=bg(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:bg(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function M3e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:j0(new Uint8Array(t.response.attestationObject)),clientDataJSON:j0(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function L3e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:j0(new Uint8Array(i.authenticatorData)),clientDataJSON:j0(new Uint8Array(i.clientDataJSON)),signature:j0(new Uint8Array(i.signature)),userHandle:i.userHandle?j0(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function Mre(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function Uz(){var t,e;return!!(Zs()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function F3e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new GE("Browser returned unexpected credential type",e)}:{data:null,error:new GE("Empty credential response",e)}}catch(e){return{data:null,error:I3e({error:e,options:t})}}}async function B3e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new GE("Browser returned unexpected credential type",e)}:{data:null,error:new GE("Empty credential response",e)}}catch(e){return{data:null,error:O3e({error:e,options:t})}}}const V3e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},U3e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function KE(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=KE(o,a):n[s]=KE(a)}else n[s]=a}return n}function z3e(t,e){return KE(V3e,t,e||{})}function $3e(t,e){return KE(U3e,t,e||{})}class H3e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??P3e.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=z3e(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:m}=await F3e({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}case"request":{const u=$3e(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:m}=await B3e(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:m}}}}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new k0("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new px("rpId is required for WebAuthn authentication")};try{if(!Uz())return{data:null,error:new k0("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new k0("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new px("rpId is required for WebAuthn registration")};try{if(!Uz())return{data:null,error:new k0("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var m;return(m=d.data)===null||m===void 0?void 0:m.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return kt(a)?{data:null,error:a}:{data:null,error:new k0("Unexpected error in register",a)}}}}k3e();const q3e={url:UCe,storageKey:zCe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:$Ce,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function zz(t,e,r){return await r()}const Dp={};class gx{get jwks(){var e,r;return(r=(e=Dp[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){Dp[this.storageKey]=Object.assign(Object.assign({},Dp[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=Dp[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){Dp[this.storageKey]=Object.assign(Object.assign({},Dp[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},q3e),e);if(this.storageKey=s.storageKey,this.instanceID=(r=gx.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,gx.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Zs()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new E3e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Pre(s.fetch),this.lock=s.lock||zz,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Zs()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=S3e:this.lock=zz,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new H3e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:Rre()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=Vz(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=Vz(this.memoryStorage)),Zs()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${Nre}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Zs()&&(r=n3e(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Zs()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),YCe(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return kt(r)?this._returnResult({error:r}):this._returnResult({error:new k0("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:lc}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(kt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:m,options:g}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await Rp(this.storage,this.storageKey)),s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:m,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:x},xform:lc})}else if("phone"in e){const{phone:d,password:m,options:g}=e;s=await Dt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:m,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:lc})}else throw new z2("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(kt(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Fz})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Fz})}else throw new z2("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new Op;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,d,m,g;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:w,statement:_,options:k}=e;let A;if(Zs())if(typeof w=="object")A=w;else{const O=window;if("ethereum"in O&&typeof O.ethereum=="object"&&"request"in O.ethereum&&typeof O.ethereum.request=="function")A=O.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const R=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),P=await A.request({method:"eth_requestAccounts"}).then(O=>O).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=Dre(P[0]);let S=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const O=await A.request({method:"eth_chainId"});S=A3e(O)}const I={domain:R.host,address:j,statement:_,uri:R.href,version:"1",chainId:S,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=N3e(I),x=await A.request({method:"personal_sign",params:[C3e(v),j]})}try{const{data:b,error:w}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((m=e.options)===null||m===void 0)&&m.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:lc});if(w)throw w;if(!b||!b.session||!b.user){const _=new Op;return this._returnResult({data:{user:null,session:null},error:_})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(kt(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,d,m,g,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:w,wallet:_,statement:k,options:A}=e;let R;if(Zs())if(typeof _=="object")R=_;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))R=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof _!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");R=_}const P=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in R&&R.signIn){const j=await R.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),k?{statement:k}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in R)||typeof R.signMessage!="function"||!("publicKey"in R)||typeof R!="object"||!R.publicKey||!("toBase58"in R.publicKey)||typeof R.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,R.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((m=(d=A==null?void 0:A.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||m===void 0)&&m.length?["Resources",...A.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await R.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=j}}try{const{data:w,error:_}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:j0(b)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:lc});if(_)throw _;if(!w||!w.session||!w.user){const k=new Op;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:_})}catch(w){if(kt(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await p0(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:lc});if(await Ih(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new Op;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(kt(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:lc}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new Op;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await Rp(this.storage,this.storageKey));const{error:m}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:m})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await Dt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new z2("You must provide either an email or phone number.")}catch(o){if(kt(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Dt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:lc});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await Rp(this.storage,this.storageKey));const u=await Dt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:b3e});return!((s=u.data)===null||s===void 0)&&s.url&&Zs()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(kt(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Uo;const{error:i}=await Dt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(kt(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await Dt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new z2("You must provide either an email or phone number and a type")}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await p0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<C3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await p0(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=O3()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=g3e(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Vh}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Uo}:await Dt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Vh})})}catch(r){if(kt(r))return KCe(r)&&(await this._removeSession(),await Ih(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Uo;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Rp(this.storage,this.storageKey));const{data:u,error:d}=await Dt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Vh});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(kt(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Uo;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=I3(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(kt(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Uo;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(kt(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Zs())throw new $2("No browser detected.");if(e.error||e.error_description||e.error_code)throw new $2(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new Oz("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new $2("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new Oz("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const R=new URL(window.location.href);return R.searchParams.delete("code"),window.history.replaceState(window.history.state,"",R.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new $2("No session defined in URL");const d=Math.round(Date.now()/1e3),m=parseInt(o);let g=d+m;l&&(g=parseInt(l));const v=g-d;v*1e3<=Wp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${m}s`);const x=g-m;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const _={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:m,expires_at:g,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:_,redirectType:e.type},error:null})}catch(n){if(kt(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await p0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(GCe(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await Ih(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=r3e(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await Rp(this.storage,this.storageKey,!0));try{return await Dt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(kt(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:m,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Dt(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=m.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Zs()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(kt(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:d}=e,m=await Dt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:lc}),{data:g,error:v}=m;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new Op}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(kt(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await Dt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await a3e(async i=>(i>0&&await s3e(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await Dt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:lc})),(i,s)=>{const a=200*Math.pow(2,i);return s&&N3(s)&&Date.now()+a-n<Wp})}catch(n){if(this._debug(r,"error",n),kt(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Zs()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await p0(this.storage,this.storageKey);if(i&&this.userStorage){let a=await p0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Gp(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:O3()}else if(i&&!i.user&&!i.user){const a=await p0(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await Ih(this.storage,this.storageKey+"-user"),await Gp(this.storage,this.storageKey,i)):i.user=O3()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<C3;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${C3}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),N3(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Uo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new b4;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Uo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),kt(s)){const a={data:null,error:s};return N3(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Gp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=Mz(i);await Gp(this.storage,this.storageKey,s)}else{const i=Mz(r);await Gp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await Ih(this.storage,this.storageKey),await Ih(this.storage,this.storageKey+"-code-verifier"),await Ih(this.storage,this.storageKey+"-user"),this.userStorage&&await Ih(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Zs()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Wp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Wp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Wp}ms, refresh threshold is ${wI} ticks`),i<=wI&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof jre)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Zs()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await Rp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await Dt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await Dt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?M3e(e.webauthn.credential_response):L3e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await Dt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:j3e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:D3e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=I3(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await Dt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Uo})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Uo});const a=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Uo});const a=await Dt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Zs()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await Dt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Uo})})}catch(e){if(kt(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await Dt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Uo})})}catch(r){if(kt(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+qCe>i)return n;const{data:s,error:a}=await Dt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=I3(n);r!=null&&r.allowExpired||f3e(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const d=m3e(i.alg),m=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,m,a,e3e(`${o}.${l}`)))throw new TI("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(kt(n))return this._returnResult({data:null,error:n});throw n}}}gx.nextInstanceID={};const W3e=gx;class G3e extends W3e{constructor(e){super(e)}}class K3e{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=VCe(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:RCe,realtime:jCe,auth:Object.assign(Object.assign({},PCe),{storageKey:l}),global:OCe},d=BCe(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(m,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=LCe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(m=>this.realtime.setAuth(m)).catch(m=>console.warn("Failed to set initial Realtime auth token:",m)),this.rest=new jAe(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new CCe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new IAe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:d},m,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new G3e({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),m),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new QAe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const Y3e=(t,e,r)=>new K3e(t,e,r);function X3e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}X3e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const Q3e="https://hykypgxaegmufdothwbv.supabase.co",J3e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5a3lwZ3hhZWdtdWZkb3Rod2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NTE3NzMsImV4cCI6MjA3NzEyNzc3M30.Euzl2vfhHrxhgN-tfg2XftMaX9hEiJOorSJq16n2CRY",YE=Y3e(Q3e,J3e),wf=t=>{const e=(t||"").toLowerCase();return e==="hoc_vien"||e==="student"||e==="hoc-vien"?"/ontap/assets/img/avatar1.webp":"/ontap/assets/img/avatar.webp"},Z3e=t=>new Promise((e,r)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=i=>{var a;const s=new Image;s.src=(a=i.target)==null?void 0:a.result,s.onload=()=>{let u=s.width,d=s.height;u>d?u>350&&(d*=350/u,u=350):d>350&&(u*=350/d,d=350);const m=document.createElement("canvas");m.width=u,m.height=d;const g=m.getContext("2d");if(!g){r(new Error("Canvas context not available"));return}g.drawImage(s,0,0,u,d),m.toBlob(v=>{v?e(v):r(new Error("WebP conversion failed"))},"image/webp",.6)},s.onerror=o=>r(o)},n.onerror=i=>r(i)}),eNe=async(t,e)=>{try{const r=await Z3e(t),i=`avatars/${`${e}_${Date.now()}.webp`}`,{error:s}=await YE.storage.from("avatars").upload(i,r,{cacheControl:"3600",upsert:!0});if(s)throw console.error("Supabase upload error:",s),s;const{data:a}=YE.storage.from("avatars").getPublicUrl(i);return a.publicUrl}catch(r){throw console.error("Error uploading avatar:",r),r}},tNe=async t=>{try{const e=Rt(Ge,"users",t),r=await yu(e);if(r.exists()){const n=r.data();return{id:t,email:n.email,full_name:n.fullName||n.full_name||"Ngi dng",role:(()=>{const i=n.role;return i==="teacher"||i==="giao-vien"||i==="giao_vien"?"giao_vien":i==="student"||i==="hoc-vien"||i==="hoc_vien"?"hoc_vien":i==="manager"||i==="quan-ly"||i==="quan_ly"?"quan_ly":i==="leader"||i==="lanh-dao"||i==="lanh_dao"?"lanh_dao":i==="admin"?"admin":"hoc_vien"})(),photoURL:n.photoURL||wf(n.role),birthDate:n.birthDate||"",address:n.address||"",class:n.class||"",phoneNumber:n.phoneNumber||"",courseName:n.courseName||"",courseId:n.courseId||""}}return null}catch(e){throw console.error("Error fetching user profile from Firestore:",e),e}},$z=async(t,e,r,n,i,s,a,o)=>{try{let l=r;i==="n tp"&&n?l=`${r} / ${n}`:i==="Thi th"&&(l=`${r} (Thi th)`),await vf(Vt(Ge,"exam_results"),{studentId:t,licenseId:e,score:s,totalQuestions:a,timeTaken:o,completedAt:ys(),type:i,quizTitle:l})}catch(l){console.error("Error saving exam result to Firestore:",l)}},rNe=async()=>{try{const t=cr(Vt(Ge,"courses")),e=await Zr(t),r=[];return e.forEach(n=>{const i=n.data();i.name&&r.push({id:n.id,name:i.name})}),r.sort((n,i)=>n.name.localeCompare(i.name))}catch(t){return console.error("Error fetching courses:",t),[]}},nNe=async t=>{try{if(!t||t.length<3)return[];const e=cr(Vt(Ge,"users"),gr("email",">=",t),gr("email","<=",t+""));return(await Zr(e)).docs.map(n=>{const i=n.data();return{id:n.id,email:i.email,full_name:i.fullName||i.full_name||"Ngi dng",role:(()=>{const s=i.role;return s==="teacher"||s==="giao-vien"?"giao_vien":s==="student"||s==="hoc-vien"?"hoc_vien":s==="manager"||s==="quan-ly"?"quan_ly":s==="leader"||s==="lanh-dao"?"lanh_dao":s||"hoc_vien"})(),photoURL:i.photoURL||wf(i.role),birthDate:i.birthDate||"",address:i.address||"",class:i.class||"",phoneNumber:i.phoneNumber||"",courseName:i.courseName||"",courseId:i.courseId||""}})}catch(e){return console.error("Error searching users:",e),[]}},iNe=({userProfile:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState(!0);C.useEffect(()=>{s()},[]);const s=async()=>{i(!0);const H=await Lke();r(H),i(!1)},a=H=>!(t.role==="giao_vien"&&(H.type==="special"||H.type==="attention")),o=async H=>{confirm("Bn c chc chn mun XA VNH VIN thng bo ny? Hnh ng ny s g thng bo khi mn hnh ca tt c ngi dng.")&&(await Fke(H)?(alert(" xa thng bo!"),s()):alert("C li xy ra khi xa."))},l=H=>H?new Date(H*1e3).toLocaleString("vi-VN"):"--",[u,d]=C.useState(!1),[m,g]=C.useState(""),[v,x]=C.useState(""),[b,w]=C.useState("system"),[_,k]=C.useState("all"),[A,R]=C.useState([]),[P,j]=C.useState(""),[S,I]=C.useState([]),[O,D]=C.useState(""),[M,F]=C.useState([]),[U,le]=C.useState(null),[de,Z]=C.useState(""),[J,he]=C.useState(null),ee=H=>{if(he(H),g(H.title),x(H.message),w(H.type),k(H.targetType==="all"&&H.targetRoles&&H.targetRoles.length>0?"role":H.targetType),H.targetType==="class"&&j(H.targetName||""),H.targetType,H.targetRoles&&I(H.targetRoles),H.expiryDate){const B=new Date(H.expiryDate.seconds*1e3);B.toISOString().slice(0,16);const q=B.getTimezoneOffset()*6e4,W=new Date(B.getTime()-q).toISOString().slice(0,16);Z(W)}else Z("");d(!0)};C.useEffect(()=>{u&&_==="class"&&rNe().then(R)},[u,_]),C.useEffect(()=>{if(O.length>2&&_==="user"){const H=setTimeout(async()=>{const B=await nNe(O);F(B)},500);return()=>clearTimeout(H)}},[O,_]);const ve=async H=>{if(H.preventDefault(),!m||!v)return alert("Vui lng nhp tiu  v ni dung");if(_==="class"&&!P)return alert("Vui lng chn lp");if(_==="user"&&!U&&!J)return alert("Vui lng chn ngi nhn");if(_==="role"&&S.length===0)return alert("Vui lng chn t nht mt vai tr");try{if(J){const B={title:m,message:v,type:b,expiryDate:de?new Date(de):null};_==="role"&&(B.targetRoles=S),await Bke(J.id,B)?(alert(" cp nht thng bo!"),d(!1),he(null),s()):alert("Li khi cp nht.")}else{let B=null;_==="class"&&(B=P),_==="user"&&(B=U.id),await aI(m,v,b,_,B,t.id,t.full_name,de?new Date(de):null,_==="user"&&U?`${U.full_name} (${U.email})`:void 0,_==="role"?S:void 0),alert(" gi thng bo thnh cng!"),d(!1),s()}g(""),x(""),w("system"),I([]),he(null),Z(""),j(""),le(null),F([]),D("")}catch(B){console.error(B),alert("Li khi x l thng bo")}};return f.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-20 max-w-7xl mx-auto",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col",children:[f.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 bg-gradient-to-r from-teal-500 to-emerald-600 text-white flex justify-between items-center",children:[f.jsxs("div",{children:[f.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[f.jsx(jv,{})," Qun L Thng Bo H Thng"]}),f.jsx("p",{className:"text-teal-100 mt-1 opacity-90",children:t.role==="giao_vien"?"Bn c th xem tt c v qun l thng bo thng.":"Bn c ton quyn qun l thng bo."})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsxs("button",{onClick:async()=>{if(confirm(`CNH BO: Hnh ng ny s xa TT C thng bo trong hp th ring ca TT C hc vin.
Ch gi li thng bo chung (Ton h thng).
Bn c chc chn mun dn dp khng?`)){i(!0);try{const{collection:H,getDocs:B,deleteDoc:q,writeBatch:W,doc:Y}=await Jr(async()=>{const{collection:ie,getDocs:ye,deleteDoc:Ve,writeBatch:G,doc:tt}=await Promise.resolve().then(()=>nm);return{collection:ie,getDocs:ye,deleteDoc:Ve,writeBatch:G,doc:tt}},void 0),{db:ue}=await Jr(async()=>{const{db:ie}=await Promise.resolve().then(()=>Ate);return{db:ie}},void 0),pe=await B(H(ue,"users"));let ce=0;for(const ie of pe.docs){const ye=H(ue,"users",ie.id,"notifications"),Ve=await B(ye);if(!Ve.empty){const G=W(ue);Ve.docs.forEach(tt=>{G.delete(tt.ref),ce++}),await G.commit()}}alert(` dn dp thnh cng ${ce} thng bo rc t hc vin.`)}catch(H){console.error(H),alert("C li xy ra khi dn dp.")}finally{i(!1)}}},className:"bg-red-100 text-red-600 px-4 py-2 rounded-lg font-bold shadow hover:bg-red-200 transition flex items-center gap-2",title:"Xa tt c thng bo trong hp th hc vin (dng khi b li hin th)",children:[f.jsx(fc,{})," Dn dp rc"]}),f.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-teal-600 px-4 py-2 rounded-lg font-bold shadow hover:bg-teal-50 transition flex items-center gap-2",children:[f.jsx(Bh,{})," To mi"]})]})]}),f.jsx("div",{className:"flex-1 p-6 bg-gray-50 dark:bg-slate-900/50 overflow-x-auto",children:n?f.jsx("div",{className:"text-center py-20 text-gray-500",children:"ang ti d liu..."}):f.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-gray-200 dark:border-slate-700 overflow-hidden min-w-[800px]",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-bold uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 w-32",children:"i tng"}),f.jsx("th",{className:"p-4 w-32",children:"Loi"}),f.jsx("th",{className:"p-4",children:"Tiu  & Ni dung"}),f.jsx("th",{className:"p-4 w-40",children:"Ngi to"}),f.jsx("th",{className:"p-4 w-48",children:"Ht hn (Marquee)"}),f.jsx("th",{className:"p-4 w-40",children:"Ngy to"}),f.jsx("th",{className:"p-4 w-32 text-center",children:"Hnh ng"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:e.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"p-10 text-center text-gray-500 text-base",children:"H thng cha c thng bo no."})}):e.map(H=>{var q,W;const B=a(H);return f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsxs("td",{className:"p-4 align-top",children:[f.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-bold whitespace-nowrap border
                                                            ${H.targetType==="all"?"bg-purple-100 text-purple-700 border-purple-200":H.targetType==="class"?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-pink-100 text-pink-700 border-pink-200"}
                                                        `,children:[H.targetType==="all"&&f.jsxs(f.Fragment,{children:[f.jsx(cI,{})," Tt c"]}),H.targetType==="class"&&f.jsxs(f.Fragment,{children:[f.jsx(sf,{})," Lp"]}),H.targetType==="user"&&f.jsxs(f.Fragment,{children:[f.jsx($E,{})," C nhn"]})]}),H.targetType!=="all"&&f.jsx("div",{className:"text-xs text-gray-500 mt-1 font-mono break-words max-w-[150px]",children:H.targetName?f.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:H.targetName}):H.targetId})]}),f.jsx("td",{className:"p-4 align-top",children:f.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold whitespace-nowrap
                                                            ${H.type==="special"?"bg-red-100 text-red-600":H.type==="attention"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}
                                                        `,children:H.type==="special"?"C BIT":H.type==="attention"?"CH ":"Thng"})}),f.jsxs("td",{className:"p-4 align-top",children:[f.jsx("div",{className:"font-bold text-gray-900 dark:text-white mb-1 text-base",children:H.title}),f.jsx("div",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:H.message})]}),f.jsxs("td",{className:"p-4 align-top text-gray-700 dark:text-gray-300 font-medium",children:[H.senderName,f.jsx("div",{className:"text-xs text-gray-400 font-normal",children:H.senderId===t.id?"(Bn)":""})]}),f.jsx("td",{className:"p-4 align-top",children:H.type==="special"||H.type==="attention"?f.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono bg-gray-100 dark:bg-slate-900 px-2 py-1 rounded border whitespace-nowrap",children:[f.jsx(aAe,{className:"text-gray-400"}),l((q=H.expiryDate)==null?void 0:q.seconds)]}):f.jsx("span",{className:"text-gray-400 text-xs",children:"--"})}),f.jsx("td",{className:"p-4 align-top text-gray-500 text-xs whitespace-nowrap",children:l((W=H.createdAt)==null?void 0:W.seconds)}),f.jsx("td",{className:"p-4 align-top text-center",children:B?f.jsxs("div",{className:"flex items-center justify-center gap-2",children:[f.jsxs("button",{onClick:()=>ee(H),className:"text-blue-500 hover:text-blue-700 p-2 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors flex items-center gap-1",title:"Sa",children:[f.jsx(sd,{size:14})," ",f.jsx("span",{className:"text-xs font-bold",children:"Sa"})]}),f.jsxs("button",{onClick:()=>o(H.id),className:"text-red-500 hover:text-red-700 p-2 bg-red-50 hover:bg-red-100 rounded-lg transition-colors flex items-center gap-1",title:"Xa vnh vin",children:[f.jsx(fc,{size:14})," ",f.jsx("span",{className:"text-xs font-bold",children:"Xa"})]})]}):f.jsx("div",{className:"text-gray-300 flex justify-center p-2 cursor-not-allowed",title:"Bn khng c quyn xa thng bo cp cao ny",children:f.jsx(Yke,{})})})]},H.id)})})]})})})]}),u&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm",onClick:()=>d(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-scale-in",onClick:H=>H.stopPropagation(),children:[f.jsxs("div",{className:"p-6 border-b dark:border-slate-700 bg-gray-50 dark:bg-slate-900 flex justify-between items-center",children:[f.jsx("h2",{className:"text-xl font-bold flex items-center gap-2 text-gray-800 dark:text-white",children:J?f.jsxs(f.Fragment,{children:[f.jsx(sd,{className:"text-blue-600"})," Cp nht thng bo"]}):f.jsxs(f.Fragment,{children:[f.jsx(Bh,{className:"text-teal-600"})," To thng bo mi"]})}),f.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),f.jsxs("form",{onSubmit:ve,className:"p-6 space-y-4",children:[f.jsxs("div",{className:"space-y-2",children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Gi ti:"}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${_==="all"?"bg-purple-50 border-purple-500 text-purple-700 ring-1 ring-purple-500":"border-gray-200 hover:bg-gray-50"}`,children:[f.jsx("input",{type:"radio",name:"target",value:"all",checked:_==="all",onChange:()=>k("all"),className:"hidden"}),f.jsx(cI,{})," Tt c"]}),f.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${_==="class"?"bg-indigo-50 border-indigo-500 text-indigo-700 ring-1 ring-indigo-500":"border-gray-200 hover:bg-gray-50"}`,children:[f.jsx("input",{type:"radio",name:"target",value:"class",checked:_==="class",onChange:()=>k("class"),className:"hidden"}),f.jsx(sf,{})," Lp hc"]}),f.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${_==="role"?"bg-orange-50 border-orange-500 text-orange-700 ring-1 ring-orange-500":"border-gray-200 hover:bg-gray-50"}`,children:[f.jsx("input",{type:"radio",name:"target",value:"role",checked:_==="role",onChange:()=>k("role"),className:"hidden"}),f.jsx(sf,{})," Theo Vai tr"]}),f.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${_==="user"?"bg-pink-50 border-pink-500 text-pink-700 ring-1 ring-pink-500":"border-gray-200 hover:bg-gray-50"}`,children:[f.jsx("input",{type:"radio",name:"target",value:"user",checked:_==="user",onChange:()=>k("user"),className:"hidden"}),f.jsx($E,{})," C nhn"]})]})]}),_==="class"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Chn lp:"}),f.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:P,onChange:H=>j(H.target.value),required:!0,children:[f.jsx("option",{value:"",children:"-- Chn lp --"}),A.map(H=>f.jsxs("option",{value:H.name,children:[H.name," -- (",H.id,")"]},H.id))]})]}),_==="role"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2",children:"Chn Vai tr:"}),f.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"hoc_vien",label:"Hc vin"},{id:"giao_vien",label:"Gio vin"},{id:"quan_ly",label:"Qun l"},{id:"lanh_dao",label:"Lnh o"},{id:"admin",label:"Admin"}].map(H=>f.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[f.jsx("input",{type:"checkbox",value:H.id,checked:S.includes(H.id),onChange:B=>{B.target.checked?I([...S,H.id]):I(S.filter(q=>q!==H.id))},className:"w-4 h-4 text-teal-600"}),f.jsx("span",{children:H.label})]},H.id))})]}),_==="user"&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tm ngi nhn (Email):"}),f.jsx("input",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",placeholder:"Nhp email...",value:O,onChange:H=>D(H.target.value)}),M.length>0&&f.jsx("div",{className:"mt-2 border rounded max-h-40 overflow-y-auto bg-gray-50 dark:bg-slate-900",children:M.map(H=>f.jsxs("div",{onClick:()=>{le(H),F([]),D(H.email)},className:"p-2 hover:bg-teal-50 cursor-pointer flex justify-between items-center border-b last:border-0",children:[f.jsx("span",{className:"font-medium",children:H.full_name}),f.jsx("span",{className:"text-xs text-gray-500",children:H.email})]},H.id))}),U&&f.jsxs("div",{className:"mt-2 p-2 bg-green-50 text-green-700 text-sm rounded flex items-center gap-2",children:[f.jsx(wu,{}),"  chn: ",f.jsx("b",{children:U.full_name})," (",U.email,")"]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tiu :"}),f.jsx("input",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:m,onChange:H=>g(H.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ni dung:"}),f.jsx("textarea",{className:"w-full p-2 border rounded-lg dark:bg-slate-700 h-24",value:v,onChange:H=>x(H.target.value),required:!0})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Loi thng bo:"}),f.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:b,onChange:H=>w(H.target.value),children:[f.jsx("option",{value:"system",children:"Thng (Xanh)"}),f.jsx("option",{value:"attention",children:"Ch  (Cam)"}),f.jsx("option",{value:"special",children:"c bit ( - Marquee)"})]})]}),(b==="attention"||b==="special")&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ht hn chy ch (Marquee):"}),f.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:de,onChange:H=>Z(H.target.value),required:!0})]})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t dark:border-slate-700 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition",children:"Hy"}),f.jsx("button",{type:"submit",className:"px-5 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-bold shadow-lg shadow-teal-500/30 transition transform hover:-translate-y-0.5",children:J?"Cp nht":"Gi thng bo"})]})]})]})})]})},Hz=t=>{let e;const r=new Set,n=(u,d)=>{const m=typeof u=="function"?u(e):u;if(!Object.is(m,e)){const g=e;e=d??(typeof m!="object"||m===null)?m:Object.assign({},e,m),r.forEach(v=>v(e,g))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,i,o);return o},sNe=(t=>t?Hz(t):Hz),aNe=t=>t;function oNe(t,e=aNe){const r=Ne.useSyncExternalStore(t.subscribe,Ne.useCallback(()=>e(t.getState()),[t,e]),Ne.useCallback(()=>e(t.getInitialState()),[t,e]));return Ne.useDebugValue(r),r}const qz=t=>{const e=sNe(t),r=n=>oNe(e,n);return Object.assign(r,e),r},lNe=(t=>t?qz(t):qz),Lre={WELCOME:"welcome",ANALYTICS:"analytics"},In=lNe(t=>({appState:Lre.WELCOME,licenses:[],selectedLicense:null,subjects:[],selectedSubject:null,currentQuiz:null,userAnswers:{},score:0,userName:"",userProfile:null,resumeSessionAvailable:!1,isMobileApp:!1,setAppState:e=>t({appState:e}),setLicenses:e=>t({licenses:e}),setSelectedLicense:e=>t({selectedLicense:e}),setSubjects:e=>t({subjects:e}),setSelectedSubject:e=>t({selectedSubject:e}),setCurrentQuiz:e=>t({currentQuiz:e}),setUserAnswers:e=>t({userAnswers:e}),setScore:e=>t({score:e}),setUserName:e=>t({userName:e}),setUserProfile:e=>t({userProfile:e}),setResumeSessionAvailable:e=>t({resumeSessionAvailable:e}),setIsMobileApp:e=>t({isMobileApp:e}),resetQuizState:()=>t({currentQuiz:null,userAnswers:{},score:0})})),cNe=({onStart:t,onLoginClick:e,onRegisterClick:r})=>{const{theme:n}=ua();return f.jsx("div",{className:"text-center p-4 animate-slide-in-right",children:f.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 md:p-12 max-w-2xl mx-auto relative",children:[n==="tri-an"?f.jsx("img",{src:"https://i.postimg.cc/MH9hVp8S/happy-techers-day.jpg",alt:"Icon Chc mng Ngy Nh gio",className:"h-24 w-24 mx-auto mb-4 rounded-full object-cover"}):n==="noel"?f.jsx(Dg,{className:"h-24 w-24 mx-auto text-primary mb-4"}):f.jsx(Dg,{className:"h-24 w-24 mx-auto text-primary mb-4"}),f.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-foreground mb-2",children:"ng Dng n tp"}),n==="tri-an"&&f.jsx("p",{className:"text-xl font-semibold text-primary mb-4",children:"Phin bn c bit Tri n Thy C"}),n==="noel"&&f.jsx("p",{className:"text-xl font-semibold text-primary mb-4",children:"Cho n Ging Sinh An Lnh"}),f.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Cho mng anh/ch  n vi ng dng n tp, n thi chng ch chuyn mn phng tin thy ni a."}),n==="tri-an"&&f.jsx("p",{className:"text-lg text-muted-foreground mb-8 italic",children:'"Nhn ngy Nh gio Vit Nam 20-11, knh chc qu thy c lun mnh khe, hnh phc v thnh cng trong s nghip trng ngi."'}),f.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[f.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold text-lg py-4 px-10 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Bt u"}),f.jsx("button",{onClick:e,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold text-lg py-4 px-10 rounded-lg hover:bg-secondary/80 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300",children:"ng nhp"})]}),f.jsx("div",{className:"mt-4",children:f.jsx("button",{onClick:r,className:"text-primary hover:underline font-medium",children:"Cha c ti khon? ng k ngay"})})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const uNe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,a)=>{r.platforms.set(s,a)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},dNe=t=>t.CapacitorPlatforms=uNe(t),Fre=dNe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Fre.addPlatform;Fre.setPlatform;var ev;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(ev||(ev={}));let P3=class extends Error{constructor(e,r){super(e),this.message=e,this.code=r}};const hNe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},fNe=t=>{var e,r,n,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},u=t.CapacitorPlatforms,d=()=>a!==null?a.name:hNe(t),m=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,g=()=>m()!=="web",v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||g,x=S=>{const I=R.get(S);return!!(I!=null&&I.platforms.has(m())||_(S))},b=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||x,w=S=>{var I;return(I=o.PluginHeaders)===null||I===void 0?void 0:I.find(O=>O.name===S)},_=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||w,k=S=>t.console.error(S),A=(S,I,O)=>Promise.reject(`${O} does not have an implementation of "${I}".`),R=new Map,P=(S,I={})=>{const O=R.get(S);if(O)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),O.proxy;const D=m(),M=_(S);let F;const U=async()=>(!F&&D in I?F=typeof I[D]=="function"?F=await I[D]():F=I[D]:a!==null&&!F&&"web"in I&&(F=typeof I.web=="function"?F=await I.web():F=I.web),F),le=(ve,H)=>{var B,q;if(M){const W=M==null?void 0:M.methods.find(Y=>H===Y.name);if(W)return W.rtype==="promise"?Y=>o.nativePromise(S,H.toString(),Y):(Y,ue)=>o.nativeCallback(S,H.toString(),Y,ue);if(ve)return(B=ve[H])===null||B===void 0?void 0:B.bind(ve)}else{if(ve)return(q=ve[H])===null||q===void 0?void 0:q.bind(ve);throw new P3(`"${S}" plugin is not implemented on ${D}`,ev.Unimplemented)}},de=ve=>{let H;const B=(...q)=>{const W=U().then(Y=>{const ue=le(Y,ve);if(ue){const pe=ue(...q);return H=pe==null?void 0:pe.remove,pe}else throw new P3(`"${S}.${ve}()" is not implemented on ${D}`,ev.Unimplemented)});return ve==="addListener"&&(W.remove=async()=>H()),W};return B.toString=()=>`${ve.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:ve,writable:!1,configurable:!1}),B},Z=de("addListener"),J=de("removeListener"),he=(ve,H)=>{const B=Z({eventName:ve},H),q=async()=>{const Y=await B;J({eventName:ve,callbackId:Y},H)},W=new Promise(Y=>B.then(()=>Y({remove:q})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},W},ee=new Proxy({},{get(ve,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?he:Z;case"removeListener":return J;default:return de(H)}}});return l[S]=ee,R.set(S,{name:S,proxy:ee,platforms:new Set([...Object.keys(I),...M?[D]:[]])}),ee},j=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||P;return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=m,o.handleError=k,o.isNativePlatform=v,o.isPluginAvailable=b,o.pluginMethodNoop=A,o.registerPlugin=j,o.Exception=P3,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},mNe=t=>t.Capacitor=fNe(t),XE=mNe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),pNe=XE.registerPlugin;XE.Plugins;let Zot=class{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(e,r),a=Promise.resolve({remove:s});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),a}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){const n=this.listeners[e];n&&n.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new XE.Exception(e,ev.Unimplemented)}unavailable(e="not available"){return new XE.Exception(e,ev.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}};var Wz;(function(t){t[t.NONE=0]="NONE",t[t.TOUCH_ID=1]="TOUCH_ID",t[t.FACE_ID=2]="FACE_ID",t[t.FINGERPRINT=3]="FINGERPRINT",t[t.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",t[t.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",t[t.MULTIPLE=6]="MULTIPLE"})(Wz||(Wz={}));var Gz;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",t[t.USER_LOCKOUT=2]="USER_LOCKOUT",t[t.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",t[t.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",t[t.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",t[t.APP_CANCEL=11]="APP_CANCEL",t[t.INVALID_CONTEXT=12]="INVALID_CONTEXT",t[t.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",t[t.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",t[t.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",t[t.USER_CANCEL=16]="USER_CANCEL",t[t.USER_FALLBACK=17]="USER_FALLBACK"})(Gz||(Gz={}));const Bre=pNe("NativeBiometric",{web:()=>Jr(()=>import("./web-BxhSZXwW.js"),[]).then(t=>new t.NativeBiometricWeb)});/*! Capacitor: https://capacitorjs.com/ - MIT License */const gNe=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,a)=>{r.platforms.set(s,a)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},vNe=t=>t.CapacitorPlatforms=gNe(t),Vre=vNe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});Vre.addPlatform;Vre.setPlatform;var tv;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(tv||(tv={}));class j3 extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const yNe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},xNe=t=>{var e,r,n,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},u=t.CapacitorPlatforms,d=()=>a!==null?a.name:yNe(t),m=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,g=()=>m()!=="web",v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||g,x=S=>{const I=R.get(S);return!!(I!=null&&I.platforms.has(m())||_(S))},b=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||x,w=S=>{var I;return(I=o.PluginHeaders)===null||I===void 0?void 0:I.find(O=>O.name===S)},_=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||w,k=S=>t.console.error(S),A=(S,I,O)=>Promise.reject(`${O} does not have an implementation of "${I}".`),R=new Map,P=(S,I={})=>{const O=R.get(S);if(O)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),O.proxy;const D=m(),M=_(S);let F;const U=async()=>(!F&&D in I?F=typeof I[D]=="function"?F=await I[D]():F=I[D]:a!==null&&!F&&"web"in I&&(F=typeof I.web=="function"?F=await I.web():F=I.web),F),le=(ve,H)=>{var B,q;if(M){const W=M==null?void 0:M.methods.find(Y=>H===Y.name);if(W)return W.rtype==="promise"?Y=>o.nativePromise(S,H.toString(),Y):(Y,ue)=>o.nativeCallback(S,H.toString(),Y,ue);if(ve)return(B=ve[H])===null||B===void 0?void 0:B.bind(ve)}else{if(ve)return(q=ve[H])===null||q===void 0?void 0:q.bind(ve);throw new j3(`"${S}" plugin is not implemented on ${D}`,tv.Unimplemented)}},de=ve=>{let H;const B=(...q)=>{const W=U().then(Y=>{const ue=le(Y,ve);if(ue){const pe=ue(...q);return H=pe==null?void 0:pe.remove,pe}else throw new j3(`"${S}.${ve}()" is not implemented on ${D}`,tv.Unimplemented)});return ve==="addListener"&&(W.remove=async()=>H()),W};return B.toString=()=>`${ve.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:ve,writable:!1,configurable:!1}),B},Z=de("addListener"),J=de("removeListener"),he=(ve,H)=>{const B=Z({eventName:ve},H),q=async()=>{const Y=await B;J({eventName:ve,callbackId:Y},H)},W=new Promise(Y=>B.then(()=>Y({remove:q})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},W},ee=new Proxy({},{get(ve,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?he:Z;case"removeListener":return J;default:return de(H)}}});return l[S]=ee,R.set(S,{name:S,proxy:ee,platforms:new Set([...Object.keys(I),...M?[D]:[]])}),ee},j=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||P;return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=m,o.handleError=k,o.isNativePlatform=v,o.isPluginAvailable=b,o.pluginMethodNoop=A,o.registerPlugin=j,o.Exception=j3,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},bNe=t=>t.Capacitor=xNe(t),rv=bNe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Tj=rv.registerPlugin;rv.Plugins;class Ure{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new rv.Exception(e,tv.Unimplemented)}unavailable(e="not available"){return new rv.Exception(e,tv.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Kz=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Yz=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class wNe extends Ure{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Yz(i).trim(),s=Yz(s).trim(),r[i]=s}),r}async setCookie(e){try{const r=Kz(e.key),n=Kz(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}Tj("CapacitorCookies",{web:()=>new wNe});const _Ne=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),ENe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},TNe=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(u=>{o=e?encodeURIComponent(u):u,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${n}&${l}`},"").substr(1):null,SNe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=ENe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);r.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);r.body=s;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class kNe extends Ure{async request(e){const r=SNe(e,e.webFetchExtra),n=TNe(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,s=await fetch(i,r),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,u;switch(o){case"arraybuffer":case"blob":u=await s.blob(),l=await _Ne(u);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const d={};return s.headers.forEach((m,g)=>{d[g]=m}),{data:l,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}Tj("CapacitorHttp",{web:()=>new kNe});const Sj=Tj("Preferences",{web:()=>Jr(()=>import("./web-Bb3LCxhH.js"),[]).then(t=>new t.PreferencesWeb)}),kj="biometric_credentials",ANe=async()=>{if(!rv.isNativePlatform())return!1;try{return(await Bre.isAvailable()).isAvailable}catch{return!1}},CNe=async(t,e)=>{try{await Sj.set({key:kj,value:JSON.stringify({email:t,pass:e})}),console.log("Credentials saved for biometric login.")}catch(r){console.error("Error saving credentials:",r)}},NNe=async()=>{const{value:t}=await Sj.get({key:kj});return!!t},INe=async()=>{try{if(!await ANe())throw new Error("Biometric not available");await Bre.verifyIdentity({reason:"Chm vn tay  ng nhp",title:"ng nhp",subtitle:"S dng vn tay ca bn",description:"Xc thc  truy cp ti khon  lu"});const{value:r}=await Sj.get({key:kj});return r?JSON.parse(r):null}catch(t){return console.error("Biometric verification failed:",t),null}},ONe=async t=>{const e=t.trim();return e.includes("@")?e:`${e}@gmail.com`},RNe=({onBack:t})=>{const[e,r]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(!1),[o,l]=C.useState(null),[u,d]=C.useState(null),[m,g]=C.useState(!1),[v,x]=C.useState(""),[b,w]=C.useState(!1),[_,k]=C.useState(!1);C.useEffect(()=>{A()},[]);const A=async()=>{const S=await NNe();k(S)},R=async()=>{a(!0),l(null);const S=await INe();if(S)try{await L_(vs,EE),await V6(vs,S.email,S.pass)}catch(I){a(!1),console.error("Bio login failed:",I),l("ng nhp vn tay tht bi (phin ht hn hoc i mt khu).")}else a(!1)},P=async S=>{S.preventDefault(),a(!0),l(null);try{const I=await ONe(e);b?await L_(vs,EE):await L_(vs,OP),await V6(vs,I,n),b&&await CNe(I,n)}catch(I){console.error("Login failed:",I),I.code==="auth/invalid-email"?l("Tn ng nhp hoc email khng hp l."):I.code==="auth/user-not-found"||I.code==="auth/wrong-password"||I.code==="auth/invalid-credential"?l("Ti khon hoc mt khu khng chnh xc."):l("ng nhp tht bi. Vui lng th li.")}finally{vs.currentUser||a(!1)}},j=async S=>{if(S.preventDefault(),!!v){a(!0),l(null),d(null);try{await C_e(vs,v),d(` gi email khi phc n ${v}. Vui lng kim tra hp th (c mc Spam).`),x("")}catch(I){console.error("Reset password failed:",I),I.code==="auth/user-not-found"?l("Email ny cha c ng k."):I.code==="auth/invalid-email"?l("Email khng hp l."):l("Gi email tht bi. Vui lng th li sau.")}finally{a(!1)}}};return m?f.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-10",children:[f.jsx("button",{onClick:()=>{g(!1),l(null),d(null)},className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:f.jsx(cf,{className:"h-10 w-10 text-primary"})}),f.jsx("div",{className:"h-20 w-20 mx-auto text-primary mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:f.jsx(yg,{className:"text-4xl"})}),f.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Khi phc mt khu"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Nhp email ca bn  nhn lin kt t li mt khu."})]}),f.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:f.jsxs("form",{onSubmit:j,children:[o&&f.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md mb-4 text-center text-sm",children:o}),u&&f.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center text-sm",children:u}),f.jsxs("div",{className:"mb-6",children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Email ng k"}),f.jsx("input",{type:"email",value:v,onChange:S=>x(S.target.value),placeholder:"email@example.com",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0,autoFocus:!0})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 disabled:opacity-50",children:s?"ang gi...":"Gi yu cu"})]})})]}):f.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-10",children:[f.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:f.jsx(cf,{className:"h-10 w-10 text-primary"})}),f.jsx(Dg,{className:"h-20 w-20 mx-auto text-primary mb-4"}),f.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"ng nhp"}),f.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Truy cp vo h thng qun l hc tp."})]}),f.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:f.jsxs("form",{onSubmit:P,children:[o&&f.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md mb-4 text-center",children:o}),f.jsxs("div",{className:"mb-4",children:[f.jsx("label",{htmlFor:"account",className:"block text-sm font-medium text-card-foreground mb-2",children:"Ti khon"}),f.jsx("input",{id:"account",type:"text",value:e,onChange:S=>r(S.target.value),placeholder:"Nhp ti khon hoc email",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0,autoFocus:!0})]}),f.jsxs("div",{className:"mb-2",children:[f.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-card-foreground mb-2",children:"Mt khu"}),f.jsx("input",{id:"password",type:"password",value:n,onChange:S=>i(S.target.value),placeholder:"",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0})]}),f.jsx("div",{className:"flex justify-end mb-4",children:f.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-primary hover:underline",children:"Qun mt khu?"})}),f.jsxs("div",{className:"mb-6 flex items-center gap-2 cursor-pointer",onClick:()=>w(!b),children:[b?f.jsx(rAe,{className:"text-primary text-xl"}):f.jsx(mAe,{className:"text-gray-400 text-xl"}),f.jsx("span",{className:"text-sm text-muted-foreground select-none",children:"Ghi nh ng nhp"})]}),f.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 disabled:opacity-50 disabled:cursor-wait mb-4",children:s?"ang x l...":"ng nhp"}),_&&f.jsx("div",{className:"flex justify-center mt-4",children:f.jsxs("button",{type:"button",onClick:R,disabled:s,className:"flex flex-col items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[f.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:f.jsx(cAe,{className:"text-3xl"})}),f.jsx("span",{className:"text-sm font-medium",children:"ng nhp bng vn tay"})]})})]})})]})},Xz=()=>f.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:f.jsxs("div",{className:"bg-white p-8 rounded shadow-md text-center",children:[f.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ng nhp Windows App"}),f.jsx("p",{className:"mb-4",children:"Vui lng ng nhp  tip tc."}),f.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"ng nhp bng Google"})]})}),PNe=({onBack:t,onSuccess:e})=>{const[r,n]=C.useState(""),[i,s]=C.useState(""),[a,o]=C.useState(""),[l,u]=C.useState(""),[d,m]=C.useState(""),[g,v]=C.useState(""),[x,b]=C.useState(""),[w,_]=C.useState(!1),[k,A]=C.useState(null),R=async P=>{if(P.preventDefault(),_(!0),A(null),i.length<6){A("Mt khu phi c t nht 6 k t."),_(!1);return}if(i!==a){A("Mt khu xc nhn khng khp."),_(!1);return}try{const S=(await IP(vs,r.trim(),i)).user,I=r.split("@")[0].toLowerCase();await jm(Rt(Ge,"users",S.uid),{email:S.email,fullName:l.trim(),phoneNumber:g.trim(),birthDate:x,role:"hoc_vien",class:d.trim(),username:I,createdAt:ys()}),console.log("Registration successful"),e()}catch(j){console.error("Registration failed:",j),j.code==="auth/email-already-in-use"?A("Email ny  c s dng."):j.code==="auth/invalid-email"?A("Email khng hp l."):j.code==="auth/weak-password"?A("Mt khu qu yu."):A("ng k tht bi. Vui lng th li.")}finally{_(!1)}};return f.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-6",children:[f.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-2 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:f.jsx(cf,{className:"h-8 w-8 text-primary"})}),f.jsx(Dg,{className:"h-16 w-16 mx-auto text-primary mb-2"}),f.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"ng K"}),f.jsx("p",{className:"text-sm text-muted-foreground",children:"To ti khon hc vin mi"})]}),f.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:f.jsxs("form",{onSubmit:R,className:"space-y-4",children:[k&&f.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md text-sm text-center",children:k}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"H v Tn *"}),f.jsx("input",{type:"text",value:l,onChange:P=>u(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nguyn Vn A"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Lp Hc *"}),f.jsx("input",{type:"text",value:d,onChange:P=>m(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nhp tn lp (GV s duyt)"})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Ngy sinh"}),f.jsx("input",{type:"date",value:x,onChange:P=>b(P.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"ST"}),f.jsx("input",{type:"tel",value:g,onChange:P=>v(P.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"09..."})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Email *"}),f.jsx("input",{type:"email",value:r,onChange:P=>n(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"email@example.com"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Mt khu *"}),f.jsx("input",{type:"password",value:i,onChange:P=>s(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"t nht 6 k t"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Xc nhn mt khu *"}),f.jsx("input",{type:"password",value:a,onChange:P=>o(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nhp li mt khu"})]}),f.jsx("button",{type:"submit",disabled:w,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 mt-4 disabled:opacity-50",children:w?"ang to ti khon...":"ng K"})]})})]})},jNe=(t,e)=>{const r="h-14 w-14 mx-auto text-primary mb-3 object-contain",n="h-14 w-14 mx-auto mb-3 object-cover rounded-full border-2 border-border/20 shadow-sm",i="h-14 w-14 mx-auto mb-3 object-contain drop-shadow-lg",s=t.name.toLowerCase();if(e==="noel")return s.includes("thuyn trng")?f.jsx("img",{src:"/assets/img/hat.png",alt:"Captain Hat",className:i}):s.includes("my trng")?f.jsx("img",{src:"/assets/img/gift4.png",alt:"Chief Engineer",className:i}):s.includes("thy th")?f.jsx("img",{src:"/assets/img/bell.png",alt:"Sailor",className:i}):s.includes("li phng tin")?f.jsx("img",{src:"/assets/img/tree.png",alt:"Helm",className:i}):s.includes("chng ch")?f.jsx("img",{src:"/assets/img/star-gold.png",alt:"Certificate",className:i}):f.jsx("img",{src:"/assets/img/gift5.png",alt:"Default",className:i});if(e==="tri-an")switch(t.id){case"thuyentruong-h1":return f.jsx("img",{src:"https://i.postimg.cc/Vs76y54F/8.jpg",alt:t.name,className:n});case"thuyentruong-h2":return f.jsx("img",{src:"https://i.postimg.cc/Pf6xGNK4/9.jpg",alt:t.name,className:n});case"thuyentruong-h3":return f.jsx("img",{src:"https://i.postimg.cc/Vs76y54W/7.jpg",alt:t.name,className:n});case"thuythu":return f.jsx(f6,{className:r});case"lai-phuong-tien":return f.jsx(Dg,{className:r});case"maytruong-h1":return f.jsx("img",{src:"https://i.postimg.cc/zDpm90H6/undefined.jpg",alt:t.name,className:n});case"maytruong-h2":return f.jsx("img",{src:"https://i.postimg.cc/wMwSLjdc/Teachers-day-background-design-art-illustration.jpg",alt:t.name,className:n});case"maytruong-h3":return f.jsx("img",{src:"https://i.postimg.cc/NFdWmjwH/Hinh-thiep.jpg",alt:t.name,className:n});case"thomay":return f.jsx("img",{src:"https://i.postimg.cc/cJYy2WQN/hinh-nen-3.jpg",alt:t.name,className:n});case"caotoc":return f.jsx("img",{src:"https://i.postimg.cc/dQWMQybn/5.jpg",alt:t.name,className:n});case"ven-bien":return f.jsx("img",{src:"https://i.postimg.cc/zDdmDgs0/6.jpg",alt:t.name,className:n});case"antoan-ven-bien":return f.jsx("img",{src:"https://i.postimg.cc/ZYFWdtv0/BOARD.webp",alt:t.name,className:n});case"antoan-xang-dau":return f.jsx("img",{src:"https://i.postimg.cc/T2k82Dzc/4.jpg",alt:t.name,className:n});case"antoan-hoa-chat":return f.jsx("img",{src:"https://i.postimg.cc/mZVx08Ff/World-Teacher-s-Day-Flowers-Border-Pink.jpg",alt:t.name,className:n});default:return s.includes("chng ch")?f.jsx(GB,{className:r}):f.jsx(WB,{className:r})}return s.includes("thuyn trng")?f.jsx(Dye,{className:r}):s.includes("my trng")?f.jsx(jye,{className:r}):s.includes("thy th")?f.jsx(f6,{className:r}):s.includes("li phng tin")?f.jsx(Dg,{className:r}):s.includes("chng ch")?f.jsx(GB,{className:r}):f.jsx(WB,{className:r})},DNe=({licenses:t,onSelect:e,onBack:r})=>{const{theme:n}=ua();return f.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-10",children:[f.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:f.jsx(cf,{className:"h-10 w-10 text-primary"})}),n==="noel"?f.jsx("img",{src:"/assets/img/tree.png",alt:"Tree",className:"h-20 w-20 mx-auto mb-4 object-contain drop-shadow-lg"}):f.jsx(f6,{className:"h-20 w-20 mx-auto text-primary mb-4"}),f.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Chn Hng Bng"}),f.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Anh/ch vui lng chn hng bng mun n tp v thi th."})]}),f.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:f.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(i=>{const s=i.subjects.reduce((a,o)=>a+o.questions.length,0);return f.jsxs("button",{onClick:()=>e(i),className:"group w-full p-4 bg-background rounded-lg text-center hover:bg-primary/10 transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-ring focus:outline-none",children:[jNe(i,n),f.jsx("h3",{className:"text-md font-bold text-primary",children:i.name}),f.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[i.subjects.length," mn - ",s," cu"]})]},i.id)})})})]})},MNe=({onNameSubmit:t,onBack:e})=>{const[r,n]=C.useState(""),i=s=>{s.preventDefault();const a=r.trim();t(a||"Hc vin")};return f.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"text-center mb-10",children:[f.jsx(Rye,{className:"h-20 w-20 mx-auto text-primary mb-4"}),f.jsxs("div",{className:"relative flex justify-center items-center",children:[f.jsx("div",{className:"absolute left-0",children:f.jsx("button",{onClick:e,className:"bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:f.jsx(cf,{className:"h-10 w-10 text-primary"})})}),f.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Thng tin ca anh/ch"})]}),f.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Nhp tn  ti c th lu li tin  hc tp cho anh/ch."})]}),f.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:f.jsxs("form",{onSubmit:i,children:[f.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-card-foreground mb-2",children:"Tn ca anh/ch"}),f.jsx("input",{id:"name",type:"text",value:r,onChange:s=>n(s.target.value),placeholder:"V d: Nguyn Vn A (c th b trng)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",autoFocus:!0}),f.jsx("button",{type:"submit",className:"mt-6 w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300",children:"Xc nhn"})]})})]})},LNe=({onModeSelect:t,licenseName:e,userName:r,onSwitchLicense:n})=>f.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-10",children:[f.jsx("div",{className:"absolute right-0 top-0",children:f.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground hover:text-primary transition-all duration-300 py-1 px-2 rounded-md hover:bg-secondary",title:"Chn li hng bng",children:[f.jsx(Pye,{className:"h-4 w-4"}),f.jsx("span",{children:"Chn li hng bng"})]})}),f.jsxs("h1",{className:"text-4xl font-bold text-foreground",children:["Cho anh/ch ",r,"!"]}),f.jsxs("p",{className:"text-lg text-muted-foreground mt-2",children:["Anh/ch ang hc hng bng ",f.jsx("span",{className:"font-semibold text-primary",children:e}),"."]}),f.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:"Hy chn mt ch   bt u."})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("button",{onClick:()=>t("practice"),className:"group bg-card text-card-foreground p-8 rounded-2xl shadow-lg text-center hover:bg-primary/10 transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-ring",children:[f.jsx(RR,{className:"h-16 w-16 mx-auto text-primary mb-4 transition-transform group-hover:scale-110"}),f.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"n tp"}),f.jsx("p",{className:"text-muted-foreground mt-2",children:"Luyn tp tng mn  nm vng kin thc."})]}),f.jsxs("button",{onClick:()=>t("online_exam"),className:"group bg-card text-card-foreground p-8 rounded-2xl shadow-lg text-center hover:bg-destructive/10 transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-ring",children:[f.jsx(Mye,{className:"h-16 w-16 mx-auto text-destructive mb-4 transition-transform group-hover:scale-110"}),f.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"Thi th"}),f.jsx("p",{className:"text-muted-foreground mt-2",children:"Lm bi thi 30 cu ngu nhin trong 45 pht."})]})]})]}),Qz=t=>{if(!t)return"";const e=new Date(t),r=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return`(${r}/${n} ${i}:${s})`},FNe=({subjects:t,progress:e,onSelect:r,onBack:n})=>f.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-10",children:[f.jsx("button",{onClick:n,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:f.jsx(cf,{className:"h-10 w-10 text-primary"})}),f.jsx(RR,{className:"h-20 w-20 mx-auto text-primary mb-4"}),f.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Chn Mn hc"}),f.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Chn mt mn  bt u n tp."})]}),f.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:f.jsx("div",{className:"space-y-3",children:t.map(i=>{const s=e[i.id],a=s&&s.lastScore!==null;return f.jsxs("button",{onClick:()=>r(i),className:"w-full flex items-center justify-between p-5 bg-background rounded-lg text-left hover:bg-primary/10 transition-all duration-300 transform hover:scale-[1.02] focus:ring-4 focus:ring-ring focus:outline-none",children:[f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-primary",children:i.name}),f.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.questions.length," cu hi"]})]}),f.jsxs("div",{className:"flex items-center gap-4",children:[a&&f.jsxs("div",{className:"text-right text-sm",children:[f.jsxs("p",{className:"text-muted-foreground flex items-center justify-end",children:[f.jsx("span",{children:"Ln cui:"}),f.jsxs("span",{className:"font-semibold text-primary ml-1",children:[s.lastScore,"/",i.questions.length]}),s.lastScoreTimestamp&&f.jsx("span",{className:"ml-1.5 text-xs text-muted-foreground/80",children:Qz(s.lastScoreTimestamp)})]}),f.jsxs("p",{className:"text-muted-foreground flex items-center justify-end mt-0.5",children:[f.jsx("span",{children:"Cao nht:"}),f.jsxs("span",{className:"font-semibold text-success ml-1",children:[s.highScore,"/",i.questions.length]}),s.highScoreTimestamp&&f.jsx("span",{className:"ml-1.5 text-xs text-muted-foreground/80",children:Qz(s.highScoreTimestamp)})]})]}),f.jsx(Oye,{className:"h-6 w-6 text-muted-foreground"})]})]},i.id)})})})]}),BNe=({quiz:t,onFinish:e,onBack:r,initialIndex:n=0,initialAnswers:i={},onProgressUpdate:s})=>{const[a,o]=C.useState(n),[l,u]=C.useState(i);if(!t.questions||t.questions.length===0)return f.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 text-center",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cha c cu hi no trong ch  ny."}),f.jsx("button",{onClick:r,className:"bg-primary text-primary-foreground hover:bg-primary/90 py-2 px-4 rounded-lg",children:"Quay li"})]});const d=C.useMemo(()=>t.questions[a],[t.questions,a]);if(!d)return f.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 text-center",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"C li xy ra khi ti cu hi."}),f.jsx("button",{onClick:r,className:"bg-primary text-primary-foreground py-2 px-4 rounded-lg",children:"Quay li"})]});const m=C.useMemo(()=>l[d.id]!==void 0,[l,d.id]),g=C.useMemo(()=>l[d.id]||null,[l,d.id]);C.useEffect(()=>{s==null||s(a,0,l)},[a,l]);const v=()=>{e(l)},x=_=>{m||u(k=>({...k,[d.id]:_}))},b=()=>{a===t.questions.length-1?v():o(k=>k+1)},w=a/t.questions.length*100;return f.jsx("div",{className:"w-full max-w-3xl mx-auto p-4 md:p-6 animate-slide-in-right font-quiz-default",children:f.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-6 md:p-8",children:[f.jsxs("div",{className:"mb-6",children:[f.jsxs("div",{className:"flex justify-between items-center mb-4 relative",children:[f.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-background/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-card transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:f.jsx(cf,{className:"h-10 w-10"})}),f.jsx("h1",{className:"text-xl font-bold text-foreground text-center flex-grow",children:t.title}),f.jsx("button",{onClick:v,className:"bg-secondary text-secondary-foreground hover:bg-secondary/80 text-sm font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Kt thc"})]}),f.jsx("div",{className:"w-full bg-secondary rounded-full h-2.5 mb-2",children:f.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),f.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:f.jsxs("span",{children:["Cu ",a+1," / ",t.questions.length]})})]}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-5 text-foreground",children:d.text}),d.image&&f.jsx("div",{className:"mb-6 rounded-lg overflow-hidden",children:f.jsx("img",{src:d.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),f.jsx("div",{className:"space-y-3",children:d.answers.map((_,k)=>{const A=g===_.id;let R="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 flex items-center justify-between text-lg";const P=_.id===d.correctAnswerId;return m?P?R+=" bg-success/10 border-success text-success":A&&!P?R+=" bg-destructive/10 border-destructive text-destructive":R+=" border-border text-muted-foreground":A?R+=" bg-primary/10 border-primary ring-2 ring-primary text-primary-foreground":R+=" bg-background hover:bg-muted border-border text-foreground",f.jsxs("button",{onClick:()=>x(_.id),disabled:m,className:R,children:[f.jsxs("span",{className:"flex-grow",children:[f.jsxs("span",{className:"font-bold mr-2",children:[String.fromCharCode(65+k),". "]}),_.text]}),m&&f.jsxs(f.Fragment,{children:[P&&f.jsx(IR,{className:"h-6 w-6 text-success ml-3"}),A&&!P&&f.jsx(OR,{className:"h-6 w-6 text-destructive ml-3"})]})]},_.id)})}),f.jsx("div",{className:"mt-8",children:f.jsx("div",{className:"text-right",children:m?f.jsx("button",{onClick:b,className:"bg-success text-success-foreground font-bold py-3 px-8 rounded-lg hover:bg-success/90 transition-all duration-300 animate-slide-in-right",children:a===t.questions.length-1?"Hon thnh":"Cu tip theo"}):f.jsx("div",{className:"h-[48px]"})})})]})]})})},VNe=t=>{const e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},UNe=({checked:t,onChange:e})=>f.jsx("div",{onClick:e,className:`w-[14px] h-[14px] border border-[#999] inline-block cursor-pointer bg-white relative ${t?"bg-[#333]":""}`,children:t&&f.jsx("div",{className:"absolute top-[2px] left-[2px] w-[8px] h-[8px] bg-[#333]"})}),zNe=t=>{if(!t)return"---";if(/^\d{2}\/\d{2}\/\d{4}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,r,n]=t.split("-");return`${n}/${r}/${e}`}return t},zre=({quiz:t,onFinish:e,onBack:r,userName:n,userProfile:i,selectedLicense:s,initialIndex:a=0,initialAnswers:o={},initialTime:l,onProgressUpdate:u})=>{const[d,m]=C.useState(a),[g,v]=C.useState(o),[x,b]=C.useState(l!==void 0?l:t.timeLimit??3600),w=C.useMemo(()=>t.questions[d],[t.questions,d]),_=C.useRef(g);C.useEffect(()=>{_.current=g,u==null||u(d,x,g)},[g]),C.useEffect(()=>{u==null||u(d,x,g)},[d]),C.useEffect(()=>{x%5===0&&(u==null||u(d,x,g))},[x]);const k=()=>{window.confirm("Anh/ch c chc chn mun thot khi bi thi khng? Mi tin trnh s b mt.")&&r()},A=C.useCallback(()=>{const j=_.current,S=t.questions.length-Object.keys(j).length,I=S>0?`Anh/ch vn cn ${S} cu cha tr li. Anh/ch c chc chn mun np bi khng?`:"Anh/ch  hon thnh tt c cc cu hi. Anh/ch c mun np bi khng?";window.confirm(I)&&e(j)},[t.questions.length,e]),R=C.useRef(e);C.useEffect(()=>{R.current=e},[e]),C.useEffect(()=>{const j=setInterval(()=>{b(S=>S>0?S-1:0)},1e3);return()=>clearInterval(j)},[]),C.useEffect(()=>{x===0&&(alert(" ht gi lm bi! H thng s t ng np bi ca anh/ch."),R.current(_.current))},[x]);const P=(j,S)=>{v(I=>({...I,[j]:S}))};return f.jsxs("div",{className:"w-full max-w-7xl mx-auto font-sans text-black shadow-lg animate-slide-in-right rounded-md",children:[f.jsx("div",{className:"h-3 bg-yellow-700 rounded-t-md border-b-2 border-yellow-900"}),f.jsxs("div",{className:"bg-white p-4",children:[f.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-300",children:[f.jsxs("div",{className:"flex gap-4 items-start",children:[f.jsx("img",{src:(i==null?void 0:i.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}`,alt:"Avatar",className:"w-[100px] h-[130px] border border-gray-300 object-cover p-1 bg-white",onError:j=>{j.target.src="https://i.postimg.cc/8PDn1wfM/favicon.png"}}),f.jsxs("div",{className:"text-sm space-y-1",children:[f.jsx("p",{className:"font-bold text-blue-700 text-lg uppercase",children:(i==null?void 0:i.full_name)||(i==null?void 0:i.fullName)||n||"Hc vin"}),f.jsxs("p",{children:["S bo danh: ",f.jsx("span",{className:"font-semibold text-gray-800",children:((i==null?void 0:i.email)||"").split("@")[0]||"---"})]}),f.jsxs("p",{children:["Ngy sinh: ",f.jsx("span",{className:"font-semibold text-gray-800",children:zNe(i==null?void 0:i.birthDate)})]}),f.jsxs("p",{children:["a ch: ",f.jsx("span",{className:"font-semibold text-gray-800",children:(i==null?void 0:i.address)||"---"})]}),f.jsxs("p",{children:["Lp: ",f.jsx("span",{className:"font-semibold text-gray-800",children:(i==null?void 0:i.class)||(i==null?void 0:i.courseName)||"---"})]}),f.jsxs("p",{children:["Hng bng: ",f.jsx("span",{className:"font-bold text-red-600 border border-red-500 px-1 rounded bg-red-50",children:(s==null?void 0:s.name)||"---"})]})]})]}),f.jsxs("div",{className:"flex items-start gap-4",children:[f.jsxs("div",{className:"bg-[#f0ad4e] text-black p-2 rounded-md text-sm w-48",children:[f.jsx("p",{className:"font-bold",children:"ang thi"}),f.jsx("p",{children:"Thi gian: 45 pht"}),f.jsx("p",{children:"B gi: 0 pht"}),f.jsxs("p",{children:["Cn li: ",f.jsx("span",{className:"font-bold",children:VNe(x)})]})]}),f.jsx("button",{onClick:k,className:"text-sm text-gray-600 hover:text-red-500 font-semibold",children:"Thot"})]})]}),f.jsxs("div",{className:"flex mt-4 gap-4",children:[f.jsxs("div",{className:"flex-1 border border-gray-400 rounded-md p-4 flex flex-col justify-between min-h-[500px]",children:[f.jsxs("div",{children:[f.jsx("p",{className:"font-bold mb-4 border-b border-dashed border-gray-400 pb-2",children:"Ni dung cu hi"}),f.jsxs("p",{className:"font-bold text-red-600 mb-2",children:["Cu :",d+1]}),f.jsx("p",{className:"mb-4 font-semibold",children:w.text}),w.image&&f.jsx("div",{className:"mb-4 flex justify-start",children:f.jsx("img",{src:w.image,alt:"Hnh nh cu hi",className:"max-w-full h-auto max-h-60 object-contain border border-gray-300 rounded-md"})}),f.jsx("div",{className:"space-y-4",children:w.answers.map((j,S)=>f.jsxs("div",{className:"flex items-start",children:[f.jsxs("span",{className:"font-bold mr-2 text-gray-700 min-w-[20px]",children:[String.fromCharCode(65+S),"."]}),f.jsx("p",{children:j.text})]},j.id))})]}),f.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[f.jsxs("button",{onClick:()=>m(j=>Math.max(0,j-1)),disabled:d===0,className:"bg-[#f0ad4e] text-black px-4 py-2 rounded-md border border-gray-400 flex items-center font-semibold hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Tr li"]}),d<t.questions.length-1&&f.jsxs("button",{onClick:()=>m(j=>Math.min(t.questions.length-1,j+1)),className:"bg-[#f0ad4e] text-black px-4 py-2 rounded-md border border-gray-400 flex items-center font-semibold hover:bg-yellow-500 transition-colors",children:["Tip tc",f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})]})]}),f.jsxs("div",{className:"w-[200px] flex-none flex flex-col",children:[f.jsx("div",{className:"border border-gray-300 rounded-md",children:f.jsxs("table",{className:"w-full border-collapse text-xs",children:[f.jsx("thead",{className:"sticky top-0 bg-[#f0ad4e] z-10",children:f.jsxs("tr",{children:[f.jsx("th",{className:"border border-gray-400 p-2",children:"Cu"}),f.jsx("th",{className:"border border-gray-400 p-2",children:"a"}),f.jsx("th",{className:"border border-gray-400 p-2",children:"b"}),f.jsx("th",{className:"border border-gray-400 p-2",children:"c"}),f.jsx("th",{className:"border border-gray-400 p-2",children:"d"})]})}),f.jsx("tbody",{children:t.questions.map((j,S)=>f.jsxs("tr",{className:d===S?"bg-cyan-200":"hover:bg-gray-50",children:[f.jsxs("td",{className:`border border-gray-400 p-2 font-bold text-center cursor-pointer whitespace-nowrap ${d===S?"text-black":"text-gray-500"}`,onClick:()=>m(S),children:["Cu ",S+1]}),j.answers.slice(0,4).map(I=>f.jsx("td",{className:"border border-gray-400 p-2 text-center",children:f.jsx(UNe,{checked:g[j.id]===I.id,onChange:()=>P(j.id,I.id)})},I.id))]},j.id))})]})}),f.jsx("div",{className:"text-center mt-4 pt-2 border-t border-gray-200",children:f.jsx("button",{onClick:A,className:"bg-[#337ab7] text-white px-8 py-2 rounded-md font-semibold hover:bg-blue-700 transition-colors w-full",children:"Np bi"})})]})]}),f.jsxs("div",{className:"mt-4 bg-[#005a9c] text-white p-4 rounded-b-md flex items-center gap-4 text-xs",children:[f.jsx("img",{src:"https://i.postimg.cc/8PDn1wfM/favicon.png",alt:"Logo",className:"h-16 w-16 object-contain"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold",children:"CNG TY C PHN T VN V GIO DC NINH BNH"}),f.jsx("p",{children:"a ch: ng Triu Vit Vng, phng Hoa L, tnh Ninh Bnh "})]})]})]})]})},$Ne=({quiz:t,userAnswers:e,score:r,onRetry:n,onBack:i,userName:s})=>{const[a,o]=C.useState("all"),[l]=C.useState(()=>new Date),u=t.questions.length,d=r>=25,m=C.useMemo(()=>new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(l),[l]),g=C.useMemo(()=>a==="incorrect"?t.questions.filter(v=>e[v.id]!==v.correctAnswerId):t.questions,[a,t.questions,e]);return f.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right font-quiz-default",children:[f.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 text-center mb-8",children:[f.jsx(MQ,{className:"h-24 w-24 mx-auto text-yellow-400 mb-4"}),f.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Kt qu Thi th"}),f.jsxs("div",{className:"my-4 text-muted-foreground",children:[f.jsxs("p",{className:"text-lg",children:["Th sinh: ",f.jsx("span",{className:"font-bold text-primary",children:s})]}),f.jsxs("p",{className:"text-sm",children:["Hon thnh lc: ",m]})]}),f.jsx("p",{className:`text-2xl font-bold mb-6 ${d?"text-success":"text-destructive"}`,children:d?"Chc mng, anh/ch  T!":"Rt tic, anh/ch KHNG T."}),f.jsxs("div",{className:`inline-block p-6 rounded-xl border ${d?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:[f.jsxs("p",{className:`text-5xl font-extrabold ${d?"text-success":"text-destructive"}`,children:[r," / ",u]}),f.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:"S cu ng"})]})]}),f.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Xem li bi lm"}),f.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[f.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="all"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:"Tt c"}),f.jsxs("button",{onClick:()=>o("incorrect"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="incorrect"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:["Ch cu sai (",t.questions.length-r,")"]})]})]}),f.jsx("div",{className:"space-y-6 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map((v,x)=>{const b=e[v.id],w=v.correctAnswerId;return f.jsxs("div",{className:"p-4 border-b border-border last:border-b-0",children:[f.jsxs("p",{className:"font-semibold text-lg mb-3 text-foreground",children:[f.jsxs("span",{className:"mr-2",children:["Cu ",t.questions.findIndex(_=>_.id===v.id)+1,":"]}),v.text]}),v.image&&f.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:f.jsx("img",{src:v.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),f.jsx("div",{className:"space-y-2",children:v.answers.map(_=>{const k=_.id===b,A=_.id===w;let R="flex items-center p-3 rounded-md text-sm ";return A?R+="bg-success/10 text-success":k?R+="bg-destructive/10 text-destructive":R+="bg-muted/50 text-muted-foreground",f.jsxs("div",{className:R,children:[A?f.jsx(IR,{className:"h-5 w-5 mr-3 text-success"}):k?f.jsx(OR,{className:"h-5 w-5 mr-3 text-destructive"}):f.jsx("div",{className:"w-5 h-5 mr-3"}),f.jsx("span",{children:_.text})]},_.id)})})]},v.id)}):f.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tuyt vi! Anh/ch  tr li ng tt c cc cu hi."})})]}),f.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[f.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold py-3 px-8 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Quay li"}),f.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold py-3 px-8 rounded-lg hover:bg-muted focus:outline-none focus:ring-4 focus:ring-ring transition-colors duration-300",children:"Lm li bi thi"})]})]})},HNe=({quiz:t,userAnswers:e,score:r,onRetry:n,onBack:i,userName:s})=>{const[a,o]=C.useState("all"),[l]=C.useState(()=>new Date),u=t.questions.length,d=u>0?Math.round(r/u*100):0,m=C.useMemo(()=>new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(l),[l]),g=C.useMemo(()=>a==="incorrect"?t.questions.filter(v=>e[v.id]!==v.correctAnswerId):t.questions,[a,t.questions,e]);return f.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right font-quiz-default",children:[f.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 text-center mb-8",children:[f.jsx(MQ,{className:"h-24 w-24 mx-auto text-yellow-400 mb-4"}),f.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Kt qu n tp"}),f.jsxs("div",{className:"my-4 text-muted-foreground",children:[f.jsxs("p",{className:"text-lg",children:["Hc vin: ",f.jsx("span",{className:"font-bold text-primary",children:s})]}),f.jsxs("p",{className:"text-sm",children:["Hon thnh lc: ",m]})]}),f.jsxs("div",{className:"bg-primary/10 inline-block p-6 rounded-xl border border-primary/20 mt-4",children:[f.jsxs("p",{className:"text-5xl font-extrabold text-primary",children:[r," / ",u]}),f.jsxs("p",{className:"text-2xl font-semibold text-primary/80 mt-1",children:["(",d,"%)"]})]})]}),f.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8",children:[f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[f.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Xem li bi lm"}),f.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[f.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="all"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:"Tt c"}),f.jsxs("button",{onClick:()=>o("incorrect"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="incorrect"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:["Ch cu sai (",t.questions.length-r,")"]})]})]}),f.jsx("div",{className:"space-y-6 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map((v,x)=>{const b=e[v.id],w=v.correctAnswerId;return f.jsxs("div",{className:"p-4 border-b border-border last:border-b-0",children:[f.jsxs("p",{className:"font-semibold text-lg mb-3 text-foreground",children:[f.jsxs("span",{className:"mr-2",children:["Cu ",t.questions.findIndex(_=>_.id===v.id)+1,":"]}),v.text]}),v.image&&f.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:f.jsx("img",{src:v.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),f.jsx("div",{className:"space-y-2",children:v.answers.map(_=>{const k=_.id===b,A=_.id===w;let R="flex items-center p-3 rounded-md text-sm ";return A?R+="bg-success/10 text-success":k?R+="bg-destructive/10 text-destructive":R+="bg-muted/50 text-muted-foreground",f.jsxs("div",{className:R,children:[A?f.jsx(IR,{className:"h-5 w-5 mr-3 text-success"}):k?f.jsx(OR,{className:"h-5 w-5 mr-3 text-destructive"}):f.jsx("div",{className:"w-5 h-5 mr-3"}),f.jsx("span",{children:_.text})]},_.id)})})]},v.id)}):f.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tuyt vi! Anh/ch  tr li ng tt c cc cu hi."})})]}),f.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[f.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold py-3 px-8 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Cc mn khc"}),f.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold py-3 px-8 rounded-lg hover:bg-muted focus:outline-none focus:ring-4 focus:ring-ring transition-colors duration-300",children:"Lm li"})]})]})},qNe="_card_108q9_3",WNe="_header_108q9_45",GNe="_logoPlaceholder_108q9_69",KNe="_schoolName_108q9_97",YNe="_body_108q9_113",XNe="_cardTitle_108q9_135",QNe="_contentRow_108q9_157",JNe="_photoSection_108q9_169",ZNe="_photoWrapper_108q9_179",e5e="_avatar_108q9_195",t5e="_infoSection_108q9_209",r5e="_infoRow_108q9_229",n5e="_label_108q9_239",i5e="_value_108q9_255",s5e="_valueHighlight_108q9_265",a5e="_footer_108q9_281",o5e="_barcode_108q9_299",un={card:qNe,header:WNe,logoPlaceholder:GNe,schoolName:KNe,body:YNe,cardTitle:XNe,contentRow:QNe,photoSection:JNe,photoWrapper:ZNe,avatar:e5e,infoSection:t5e,infoRow:r5e,label:n5e,value:i5e,valueHighlight:s5e,footer:a5e,barcode:o5e},l5e=t=>{if(!t)return" --/--/----";if(/^\d{2}\/\d{2}\/\d{4}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,r,n]=t.split("-");return`${n}/${r}/${e}`}return t},c5e=({user:t})=>{const e=t.role!=="hoc_vien",r=e?"TH GIO VIN":"TH HC VIN",n=e?{background:"linear-gradient(135deg, #b91c1c 0%, #c2410c 100%)",borderBottom:"4px solid #fcd34d"}:{},i=e?{color:"#b91c1c",textShadow:"0px 1px 2px rgba(0,0,0,0.1)"}:{};return f.jsxs("div",{className:un.card,style:e?{borderColor:"#fcd34d",boxShadow:"0 10px 25px -5px rgba(234, 88, 12, 0.3)"}:{},children:[f.jsxs("div",{className:un.header,style:n,children:[f.jsx("div",{className:un.logoPlaceholder,style:e?{color:"#fbbf24",background:"rgba(255,255,255,0.2)"}:{},children:f.jsx(gAe,{size:20})}),f.jsxs("div",{className:un.schoolName,style:e?{color:"#fff",fontWeight:"800"}:{},children:["Cng ty C phn",f.jsx("br",{}),"T VN V GIO DC NINH BNH"]})]}),f.jsxs("div",{className:un.body,children:[f.jsx("h2",{className:un.cardTitle,style:i,children:r}),f.jsxs("div",{className:un.contentRow,children:[f.jsx("div",{className:un.photoSection,children:f.jsx("div",{className:un.photoWrapper,style:e?{borderColor:"#fcd34d"}:{},children:f.jsx("img",{src:t.photoURL||(e?"/assets/img/avatar.webp":"/assets/img/avatar1.webp"),onError:s=>{const a=s.target;a.onerror=null,a.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.full_name||"User")}&background=random&size=150`},alt:"Avatar",className:un.avatar})})}),f.jsxs("div",{className:un.infoSection,children:[f.jsxs("div",{className:un.infoRow,children:[f.jsx("span",{className:un.label,children:"H tn:"}),f.jsxs("span",{className:`${un.value} ${un.valueHighlight}`,style:e?{color:"#b91c1c"}:{},children:[t.full_name||t.fullName||"---",t.isVerified&&f.jsx("span",{style:{marginLeft:"4px",color:"#22c55e",display:"inline-flex",alignItems:"center"},children:f.jsx(wu,{size:14})})]})]}),f.jsxs("div",{className:un.infoRow,children:[f.jsx("span",{className:un.label,children:"Ngy sinh: "}),f.jsxs("span",{className:un.value,children:[" ",l5e(t.birthDate)]})]}),e?f.jsxs("div",{className:un.infoRow,children:[f.jsx("span",{className:un.label,children:"Phng: "}),f.jsx("span",{className:un.value,style:{fontWeight:"bold"},children:" Phng o to - T vn hnh my tu thy"})]}):f.jsxs("div",{className:un.infoRow,children:[f.jsx("span",{className:un.label,children:"Lp hc: "}),f.jsx("span",{className:un.value,children:t.courseName||"Cha vo kha"})]}),f.jsxs("div",{className:un.infoRow,children:[f.jsx("span",{className:un.label,children:"a ch:"}),f.jsx("span",{className:un.value,style:{fontSize:"0.9rem"},children:t.address||"---"})]})]})]})]}),f.jsxs("div",{className:un.footer,style:e?{background:"#fef2f2",borderTop:"1px dashed #fca5a5"}:{},children:[f.jsx("div",{className:un.barcode,style:e?{opacity:.8}:{}}),f.jsxs("div",{style:{position:"absolute",bottom:"5px",fontSize:"0.6rem",color:e?"#991b1b":"#718096"},children:["ID: ",t.id?t.id.substring(0,10).toUpperCase():"---"]})]})]})},Wy=({label:t,count:e,color:r})=>f.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-800 p-4 rounded-xl shadow-sm flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:t}),f.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e})]}),f.jsx("div",{className:`w-3 h-3 rounded-full ${r} animate-pulse`})]}),u5e=({userRole:t})=>{if(!["admin","quan_ly","lanh_dao"].includes(t))return null;const[e,r]=C.useState({total:0,admins:0,teachers:0,students:0}),[n,i]=C.useState(0);return C.useEffect(()=>{if(!oa)return;const s=xo(oa,"status"),a=hx(s,o=>{if(!o.exists()){r({total:0,admins:0,teachers:0,students:0});return}const l=o.val();let u=0,d=0,m=0,g=0,v=0;Object.values(l).forEach(x=>{x.state==="online"&&(u++,["admin","quan_ly","lanh_dao"].includes(x.role)?d++:x.role==="giao_vien"?m++:x.role==="guest"?v++:g++)}),r({total:u,admins:d,teachers:m,students:g}),i(v)});return()=>a()},[]),f.jsxs(jg.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 grid grid-cols-2 md:grid-cols-5 gap-4",children:[f.jsx(Wy,{label:"Trc tuyn",count:e.total,color:"bg-blue-600"}),f.jsx(Wy,{label:"Khch",count:n,color:"bg-gray-500"}),f.jsx(Wy,{label:"Hc vin",count:e.students,color:"bg-green-600"}),f.jsx(Wy,{label:"Gio vin",count:e.teachers,color:"bg-orange-600"}),f.jsx(Wy,{label:"Qun l",count:e.admins,color:"bg-purple-600"})]})};function $re(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=$re(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Xr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=$re(t))&&(n&&(n+=" "),n+=e);return n}var d5e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function Aj(t){if(typeof t!="string")return!1;var e=d5e;return e.includes(t)}var h5e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],f5e=new Set(h5e);function Hre(t){return typeof t!="string"?!1:f5e.has(t)}function qre(t){return typeof t=="string"&&t.startsWith("data-")}function il(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Hre(r)||qre(r))&&(e[r]=t[r]);return e}function nv(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return il(e)}return typeof t=="object"&&!Array.isArray(t)?il(t):null}function Ya(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Hre(r)||qre(r)||Aj(r))&&(e[r]=t[r]);return e}function m5e(t){return t==null?null:C.isValidElement(t)?Ya(t.props):typeof t=="object"&&!Array.isArray(t)?Ya(t):null}var p5e=["children","width","height","viewBox","className","style","title","desc"];function SI(){return SI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},SI.apply(null,arguments)}function g5e(t,e){if(t==null)return{};var r,n,i=v5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function v5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Cj=C.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=t,d=g5e(t,p5e),m=s||{width:n,height:i,x:0,y:0},g=Xr("recharts-surface",a);return C.createElement("svg",SI({},Ya(d),{className:g,width:n,height:i,style:o,viewBox:"".concat(m.x," ").concat(m.y," ").concat(m.width," ").concat(m.height),ref:e}),C.createElement("title",null,l),C.createElement("desc",null,u),r)}),y5e=["children","className"];function kI(){return kI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kI.apply(null,arguments)}function x5e(t,e){if(t==null)return{};var r,n,i=b5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function b5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ca=C.forwardRef((t,e)=>{var{children:r,className:n}=t,i=x5e(t,y5e),s=Xr("recharts-layer",n);return C.createElement("g",kI({className:s},Ya(i),{ref:e}),r)}),Wre=C.createContext(null),w5e=()=>C.useContext(Wre);function Ln(t){return function(){return t}}const Gre=Math.cos,QE=Math.sin,Lc=Math.sqrt,JE=Math.PI,w4=2*JE,AI=Math.PI,CI=2*AI,w0=1e-6,_5e=CI-w0;function Kre(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function E5e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Kre;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class T5e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Kre:E5e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,u=i-r,d=a-e,m=o-r,g=d*d+m*m;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>w0)if(!(Math.abs(m*l-u*d)>w0)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-a,x=i-o,b=l*l+u*u,w=v*v+x*x,_=Math.sqrt(b),k=Math.sqrt(g),A=s*Math.tan((AI-Math.acos((b+g-w)/(2*_*k)))/2),R=A/k,P=A/_;Math.abs(R-1)>w0&&this._append`L${e+R*d},${r+R*m}`,this._append`A${s},${s},0,0,${+(m*v>d*x)},${this._x1=e+P*l},${this._y1=r+P*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,m=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>w0||Math.abs(this._y1-d)>w0)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%CI+CI),g>_5e?this._append`A${n},${n},0,1,${m},${e-o},${r-l}A${n},${n},0,1,${m},${this._x1=u},${this._y1=d}`:g>w0&&this._append`A${n},${n},0,${+(g>=AI)},${m},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function Nj(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new T5e(e)}function Ij(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Yre(t){this._context=t}Yre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function _4(t){return new Yre(t)}function Xre(t){return t[0]}function Qre(t){return t[1]}function Jre(t,e){var r=Ln(!0),n=null,i=_4,s=null,a=Nj(o);t=typeof t=="function"?t:t===void 0?Xre:Ln(t),e=typeof e=="function"?e:e===void 0?Qre:Ln(e);function o(l){var u,d=(l=Ij(l)).length,m,g=!1,v;for(n==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&r(m=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(m,u,l),+e(m,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Ln(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Ln(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Ln(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function H2(t,e,r){var n=null,i=Ln(!0),s=null,a=_4,o=null,l=Nj(u);t=typeof t=="function"?t:t===void 0?Xre:Ln(+t),e=typeof e=="function"?e:Ln(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Qre:Ln(+r);function u(m){var g,v,x,b=(m=Ij(m)).length,w,_=!1,k,A=new Array(b),R=new Array(b);for(s==null&&(o=a(k=l())),g=0;g<=b;++g){if(!(g<b&&i(w=m[g],g,m))===_)if(_=!_)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=g-1;x>=v;--x)o.point(A[x],R[x]);o.lineEnd(),o.areaEnd()}_&&(A[g]=+t(w,g,m),R[g]=+e(w,g,m),o.point(n?+n(w,g,m):A[g],r?+r(w,g,m):R[g]))}if(k)return o=null,k+""||null}function d(){return Jre().defined(i).curve(a).context(s)}return u.x=function(m){return arguments.length?(t=typeof m=="function"?m:Ln(+m),n=null,u):t},u.x0=function(m){return arguments.length?(t=typeof m=="function"?m:Ln(+m),u):t},u.x1=function(m){return arguments.length?(n=m==null?null:typeof m=="function"?m:Ln(+m),u):n},u.y=function(m){return arguments.length?(e=typeof m=="function"?m:Ln(+m),r=null,u):e},u.y0=function(m){return arguments.length?(e=typeof m=="function"?m:Ln(+m),u):e},u.y1=function(m){return arguments.length?(r=m==null?null:typeof m=="function"?m:Ln(+m),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(m){return arguments.length?(i=typeof m=="function"?m:Ln(!!m),u):i},u.curve=function(m){return arguments.length?(a=m,s!=null&&(o=a(s)),u):a},u.context=function(m){return arguments.length?(m==null?s=o=null:o=a(s=m),u):s},u}class Zre{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function S5e(t){return new Zre(t,!0)}function k5e(t){return new Zre(t,!1)}const Oj={draw(t,e){const r=Lc(e/JE);t.moveTo(r,0),t.arc(0,0,r,0,w4)}},A5e={draw(t,e){const r=Lc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},ene=Lc(1/3),C5e=ene*2,N5e={draw(t,e){const r=Lc(e/C5e),n=r*ene;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},I5e={draw(t,e){const r=Lc(e),n=-r/2;t.rect(n,n,r,r)}},O5e=.8908130915292852,tne=QE(JE/10)/QE(7*JE/10),R5e=QE(w4/10)*tne,P5e=-Gre(w4/10)*tne,j5e={draw(t,e){const r=Lc(e*O5e),n=R5e*r,i=P5e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=w4*s/5,o=Gre(a),l=QE(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},D3=Lc(3),D5e={draw(t,e){const r=-Lc(e/(D3*3));t.moveTo(0,r*2),t.lineTo(-D3*r,-r),t.lineTo(D3*r,-r),t.closePath()}},Tl=-.5,Sl=Lc(3)/2,NI=1/Lc(12),M5e=(NI/2+1)*3,L5e={draw(t,e){const r=Lc(e/M5e),n=r/2,i=r*NI,s=n,a=r*NI+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Tl*n-Sl*i,Sl*n+Tl*i),t.lineTo(Tl*s-Sl*a,Sl*s+Tl*a),t.lineTo(Tl*o-Sl*l,Sl*o+Tl*l),t.lineTo(Tl*n+Sl*i,Tl*i-Sl*n),t.lineTo(Tl*s+Sl*a,Tl*a-Sl*s),t.lineTo(Tl*o+Sl*l,Tl*l-Sl*o),t.closePath()}};function F5e(t,e){let r=null,n=Nj(i);t=typeof t=="function"?t:Ln(t||Oj),e=typeof e=="function"?e:Ln(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Ln(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Ln(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function ZE(){}function eT(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function rne(t){this._context=t}rne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:eT(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:eT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function B5e(t){return new rne(t)}function nne(t){this._context=t}nne.prototype={areaStart:ZE,areaEnd:ZE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:eT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function V5e(t){return new nne(t)}function ine(t){this._context=t}ine.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:eT(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function U5e(t){return new ine(t)}function sne(t){this._context=t}sne.prototype={areaStart:ZE,areaEnd:ZE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function z5e(t){return new sne(t)}function Jz(t){return t<0?-1:1}function Zz(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(Jz(s)+Jz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function e$(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function M3(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function tT(t){this._context=t}tT.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:M3(this,this._t0,e$(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,M3(this,e$(this,r=Zz(this,t,e)),r);break;default:M3(this,this._t0,r=Zz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function ane(t){this._context=new one(t)}(ane.prototype=Object.create(tT.prototype)).point=function(t,e){tT.prototype.point.call(this,e,t)};function one(t){this._context=t}one.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function $5e(t){return new tT(t)}function H5e(t){return new ane(t)}function lne(t){this._context=t}lne.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=t$(t),i=t$(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function t$(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function q5e(t){return new lne(t)}function E4(t,e){this._context=t,this._t=e}E4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function W5e(t){return new E4(t,.5)}function G5e(t){return new E4(t,0)}function K5e(t){return new E4(t,1)}function dm(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function II(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Y5e(t,e){return t[e]}function X5e(t){const e=[];return e.key=t,e}function Q5e(){var t=Ln([]),e=II,r=dm,n=Y5e;function i(s){var a=Array.from(t.apply(this,arguments),X5e),o,l=a.length,u=-1,d;for(const m of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(m,a[o].key,u,s)]).data=m;for(o=0,d=Ij(e(a));o<l;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Ln(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Ln(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?II:typeof s=="function"?s:Ln(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??dm,i):r},i}function J5e(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}dm(t,e)}}function Z5e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}dm(t,e)}}function e6e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var d=t[e[o]],m=d[n][1]||0,g=d[n-1][1]||0,v=(m-g)/2,x=0;x<o;++x){var b=t[e[x]],w=b[n][1]||0,_=b[n-1][1]||0;v+=w-_}l+=m,u+=v*m}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,dm(t,e)}}var L3={},F3={},r$;function t6e(){return r$||(r$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(F3)),F3}var B3={},n$;function cne(){return n$||(n$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(B3)),B3}var V3={},i$;function Rj(){return i$||(i$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(V3)),V3}var U3={},z3={},s$;function r6e(){return s$||(s$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(z3)),z3}var a$;function Pj(){return a$||(a$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r6e(),r=Rj();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const m=i[o];u?m==="\\"&&o+1<a?(o++,l+=i[o]):m===u?u="":l+=m:d?m==='"'||m==="'"?u=m:m==="]"?(d=!1,s.push(l),l=""):l+=m:m==="["?(d=!0,l&&(s.push(l),l="")):m==="."?l&&(s.push(l),l=""):l+=m,o++}return l&&s.push(l),s}t.toPath=n})(U3)),U3}var o$;function jj(){return o$||(o$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=t6e(),r=cne(),n=Rj(),i=Pj();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let m=0;m<l.length;m++){if(d==null||e.isUnsafeProperty(l[m]))return u;d=d[l[m]]}return d===void 0?u:d}t.get=s})(L3)),L3}var $3,l$;function n6e(){return l$||(l$=1,$3=jj().get),$3}var i6e=n6e();const hm=ll(i6e);var s6e=4;function qh(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s6e,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function Ei(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,s,a)=>{var o=r[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+qh(o)+s:i+s},"")}var Na=t=>t===0?0:t>0?1:-1,Pc=t=>typeof t=="number"&&t!=+t,Pd=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,wt=t=>(typeof t=="number"||t instanceof Number)&&!Pc(t),ku=t=>wt(t)||typeof t=="string",a6e=0,vx=t=>{var e=++a6e;return"".concat(t||"").concat(e)},tl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!wt(e)&&typeof e!="string")return n;var s;if(Pd(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return Pc(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},une=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function sa(t,e,r){return wt(t)&&wt(e)?qh(t+r*(e-t)):e}function dne(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):hm(n,e))===r)}var zs=t=>t===null||typeof t>"u",Tb=t=>zs(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function o6e(t){return t!=null}function Sb(){}var l6e=["type","size","sizeType"];function OI(){return OI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OI.apply(null,arguments)}function c$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c$(Object(r),!0).forEach(function(n){c6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function c6e(t,e,r){return(e=u6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u6e(t){var e=d6e(t,"string");return typeof e=="symbol"?e:e+""}function d6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h6e(t,e){if(t==null)return{};var r,n,i=f6e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function f6e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var hne={symbolCircle:Oj,symbolCross:A5e,symbolDiamond:N5e,symbolSquare:I5e,symbolStar:j5e,symbolTriangle:D5e,symbolWye:L5e},m6e=Math.PI/180,p6e=t=>{var e="symbol".concat(Tb(t));return hne[e]||Oj},g6e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*m6e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},v6e=(t,e)=>{hne["symbol".concat(Tb(t))]=e},Dj=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=h6e(t,l6e),s=u$(u$({},i),{},{type:e,size:r,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=p6e(a),v=F5e().type(g).size(g6e(r,n,a)),x=v();if(x!==null)return x},{className:l,cx:u,cy:d}=s,m=Ya(s);return wt(u)&&wt(d)&&wt(r)?C.createElement("path",OI({},m,{className:Xr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};Dj.registerSymbol=v6e;var fne=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,Mj=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{Aj(i)&&(n[i]=(s=>r[i](r,s)))}),n},y6e=(t,e,r)=>n=>(t(e,r,n),null),Lj=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];Aj(i)&&typeof s=="function"&&(n||(n={}),n[i]=y6e(s,e,r))}),n};function d$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?d$(Object(r),!0).forEach(function(n){b6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):d$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function b6e(t,e,r){return(e=w6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function w6e(t){var e=_6e(t,"string");return typeof e=="symbol"?e:e+""}function _6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _s(t,e){var r=x6e({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function rT(){return rT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rT.apply(null,arguments)}function h$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function E6e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?h$(Object(r),!0).forEach(function(n){T6e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):h$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T6e(t,e,r){return(e=S6e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S6e(t){var e=k6e(t,"string");return typeof e=="symbol"?e:e+""}function k6e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Pl=32,A6e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function C6e(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Pl/2,s=Pl/6,a=Pl/3,o=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline"){var u;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:Pl,y2:i,className:"recharts-legend-icon"})}if(l==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(Pl,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return C.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Pl/8,"h").concat(Pl,"v").concat(Pl*3/4,"h").concat(-Pl,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var d=E6e({},e);return delete d.legendIcon,C.cloneElement(e.legendIcon,d)}return C.createElement(Dj,{fill:o,cx:i,cy:i,size:Pl,sizeType:"diameter",type:l})}function N6e(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=t,o={x:0,y:0,width:Pl,height:Pl},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,m)=>{var g=d.formatter||i,v=Xr({"recharts-legend-item":!0,["legend-item-".concat(m)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?s:d.color,b=g?g(d.value,d,m):d.value;return C.createElement("li",rT({className:v,style:l,key:"legend-item-".concat(m)},Lj(t,d,m)),C.createElement(Cj,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},C.createElement(C6e,{data:d,iconType:a,inactiveColor:s})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}var I6e=t=>{var e=_s(t,A6e),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},C.createElement(N6e,rT({},e,{payload:r})))},H3={},q3={},f$;function O6e(){return f$||(f$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(q3)),q3}var W3={},m$;function mne(){return m$||(m$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(W3)),W3}var G3={},K3={},Y3={},p$;function R6e(){return p$||(p$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(Y3)),Y3}var g$;function Fj(){return g$||(g$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=R6e();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(K3)),K3}var X3={},v$;function P6e(){return v$||(v$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(X3)),X3}var y$;function j6e(){return y$||(y$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Fj(),r=P6e();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(G3)),G3}var Q3={},J3={},x$;function D6e(){return x$||(x$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jj();function r(n){return function(i){return e.get(i,n)}}t.property=r})(J3)),J3}var Z3={},eN={},tN={},rN={},b$;function pne(){return b$||(b$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(rN)),rN}var nN={},w$;function gne(){return w$||(w$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(nN)),nN}var iN={},_$;function vne(){return _$||(_$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(iN)),iN}var E$;function M6e(){return E$||(E$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pne(),r=gne(),n=vne();function i(d,m,g){return typeof g!="function"?i(d,m,()=>{}):s(d,m,function v(x,b,w,_,k,A){const R=g(x,b,w,_,k,A);return R!==void 0?!!R:s(x,b,v,A)},new Map)}function s(d,m,g,v){if(m===d)return!0;switch(typeof m){case"object":return a(d,m,g,v);case"function":return Object.keys(m).length>0?s(d,{...m},g,v):n.eq(d,m);default:return e.isObject(d)?typeof m=="string"?m==="":!0:n.eq(d,m)}}function a(d,m,g,v){if(m==null)return!0;if(Array.isArray(m))return l(d,m,g,v);if(m instanceof Map)return o(d,m,g,v);if(m instanceof Set)return u(d,m,g,v);const x=Object.keys(m);if(d==null||r.isPrimitive(d))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(m))return v.get(m)===d;v==null||v.set(m,d);try{for(let b=0;b<x.length;b++){const w=x[b];if(!r.isPrimitive(d)&&!(w in d)||m[w]===void 0&&d[w]!==void 0||m[w]===null&&d[w]!==null||!g(d[w],m[w],w,d,m,v))return!1}return!0}finally{v==null||v.delete(m)}}function o(d,m,g,v){if(m.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,b]of m.entries()){const w=d.get(x);if(g(w,b,x,d,m,v)===!1)return!1}return!0}function l(d,m,g,v){if(m.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let b=0;b<m.length;b++){const w=m[b];let _=!1;for(let k=0;k<d.length;k++){if(x.has(k))continue;const A=d[k];let R=!1;if(g(A,w,b,d,m,v)&&(R=!0),R){x.add(k),_=!0;break}}if(!_)return!1}return!0}function u(d,m,g,v){return m.size===0?!0:d instanceof Set?l([...d],[...m],g,v):!1}t.isMatchWith=i,t.isSetMatch=u})(tN)),tN}var T$;function yne(){return T$||(T$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=M6e();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(eN)),eN}var sN={},aN={},oN={},S$;function L6e(){return S$||(S$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(oN)),oN}var lN={},k$;function xne(){return k$||(k$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(lN)),lN}var cN={},A$;function bne(){return A$||(A$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",m="[object Function]",g="[object ArrayBuffer]",v="[object Object]",x="[object Error]",b="[object DataView]",w="[object Uint8Array]",_="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",R="[object BigUint64Array]",P="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",I="[object BigInt64Array]",O="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=d,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=R,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=x,t.float32ArrayTag=O,t.float64ArrayTag=D,t.functionTag=m,t.int16ArrayTag=j,t.int32ArrayTag=S,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=n,t.objectTag=v,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=k,t.uint32ArrayTag=A,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=_})(cN)),cN}var uN={},C$;function F6e(){return C$||(C$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(uN)),uN}var N$;function wne(){return N$||(N$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L6e(),r=xne(),n=bne(),i=gne(),s=F6e();function a(d,m){return o(d,void 0,d,new Map,m)}function o(d,m,g,v=new Map,x=void 0){const b=x==null?void 0:x(d,m,g,v);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const w=new Array(d.length);v.set(d,w);for(let _=0;_<d.length;_++)w[_]=o(d[_],_,g,v,x);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;v.set(d,w);for(const[_,k]of d)w.set(_,o(k,_,g,v,x));return w}if(d instanceof Set){const w=new Set;v.set(d,w);for(const _ of d)w.add(o(_,void 0,g,v,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,w);for(let _=0;_<d.length;_++)w[_]=o(d[_],_,g,v,x);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,w),l(w,d,g,v,x),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return v.set(d,w),l(w,d,g,v,x),w}if(typeof Blob<"u"&&d instanceof Blob){const w=new Blob([d],{type:d.type});return v.set(d,w),l(w,d,g,v,x),w}if(d instanceof Error){const w=new d.constructor;return v.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,l(w,d,g,v,x),w}if(d instanceof Boolean){const w=new Boolean(d.valueOf());return v.set(d,w),l(w,d,g,v,x),w}if(d instanceof Number){const w=new Number(d.valueOf());return v.set(d,w),l(w,d,g,v,x),w}if(d instanceof String){const w=new String(d.valueOf());return v.set(d,w),l(w,d,g,v,x),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return v.set(d,w),l(w,d,g,v,x),w}return d}function l(d,m,g=d,v,x){const b=[...Object.keys(m),...e.getSymbols(m)];for(let w=0;w<b.length;w++){const _=b[w],k=Object.getOwnPropertyDescriptor(d,_);(k==null||k.writable)&&(d[_]=o(m[_],_,g,v,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(aN)),aN}var I$;function B6e(){return I$||(I$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wne();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(sN)),sN}var O$;function V6e(){return O$||(O$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yne(),r=B6e();function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(Z3)),Z3}var dN={},hN={},fN={},R$;function U6e(){return R$||(R$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=wne(),r=bne();function n(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const m=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(m,i),m}case r.argumentsTag:{const m={};return e.copyProperties(m,i),m.length=i.length,m[Symbol.iterator]=i[Symbol.iterator],m}default:return}})}t.cloneDeepWith=n})(fN)),fN}var P$;function z6e(){return P$||(P$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=U6e();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(hN)),hN}var mN={},pN={},j$;function _ne(){return j$||(j$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(pN)),pN}var gN={},D$;function $6e(){return D$||(D$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xne();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(gN)),gN}var M$;function H6e(){return M$||(M$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=cne(),r=_ne(),n=$6e(),i=Pj();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const m=l[d];if((u==null||!Object.hasOwn(u,m))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(m)&&m<u.length))return!1;u=u[m]}return!0}t.has=s})(mN)),mN}var L$;function q6e(){return L$||(L$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yne(),r=Rj(),n=z6e(),i=jj(),s=H6e();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=a})(dN)),dN}var F$;function W6e(){return F$||(F$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mne(),r=D6e(),n=V6e(),i=q6e();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(Q3)),Q3}var B$;function G6e(){return B$||(B$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=O6e(),r=mne(),n=j6e(),i=W6e();function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(H3)),H3}var vN,V$;function K6e(){return V$||(V$=1,vN=G6e().uniqBy),vN}var Y6e=K6e();const U$=ll(Y6e);function Ene(t,e,r){return e===!0?U$(t,r):typeof e=="function"?U$(t,e):t}var yN={exports:{}},xN={},bN={exports:{}},wN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z$;function X6e(){if(z$)return wN;z$=1;var t=km();function e(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(m,g){var v=g(),x=n({inst:{value:v,getSnapshot:g}}),b=x[0].inst,w=x[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&w({inst:b})},[m,v,g]),i(function(){return l(b)&&w({inst:b}),m(function(){l(b)&&w({inst:b})})},[m]),a(v),v}function l(m){var g=m.getSnapshot;m=m.value;try{var v=g();return!r(m,v)}catch{return!0}}function u(m,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return wN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,wN}var $$;function Q6e(){return $$||($$=1,bN.exports=X6e()),bN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H$;function J6e(){if(H$)return xN;H$=1;var t=km(),e=Q6e();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return xN.useSyncExternalStoreWithSelector=function(u,d,m,g,v){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function _(j){if(!k){if(k=!0,A=j,j=g(j),v!==void 0&&b.hasValue){var S=b.value;if(v(S,j))return R=S}return R=j}if(S=R,n(A,j))return S;var I=g(j);return v!==void 0&&v(S,I)?(A=j,S):(A=j,R=I)}var k=!1,A,R,P=m===void 0?null:m;return[function(){return _(d())},P===null?void 0:function(){return _(P())}]},[d,m,g,v]);var w=i(u,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},xN}var q$;function Z6e(){return q$||(q$=1,yN.exports=J6e()),yN.exports}var eIe=Z6e(),Bj=C.createContext(null),tIe=t=>t,Bn=()=>{var t=C.useContext(Bj);return t?t.store.dispatch:tIe},U_=()=>{},rIe=()=>U_,nIe=(t,e)=>t===e;function Tt(t){var e=C.useContext(Bj);return eIe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:rIe,e?e.store.getState:U_,e?e.store.getState:U_,e?t:U_,nIe)}function iIe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function sIe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function aIe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var W$=t=>Array.isArray(t)?t:[t];function oIe(t){const e=Array.isArray(t[0])?t[0]:t;return aIe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function lIe(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var cIe=class{constructor(t){this.value=t}deref(){return this.value}},uIe=typeof WeakRef<"u"?WeakRef:cIe,dIe=0,G$=1;function q2(){return{s:dIe,v:void 0,o:null,p:null}}function Tne(t,e={}){let r=q2();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var m;let o=r;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const w=b.get(x);w===void 0?(o=q2(),b.set(x,o)):o=w}else{let b=o.p;b===null&&(o.p=b=new Map);const w=b.get(x);w===void 0?(o=q2(),b.set(x,o)):o=w}}const u=o;let d;if(o.s===G$)d=o.v;else if(d=t.apply(null,arguments),s++,n){const g=((m=i==null?void 0:i.deref)==null?void 0:m.call(i))??i;g!=null&&n(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new uIe(d):d}return u.s=G$,u.v=d,d}return a.clearCache=()=>{r=q2(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function hIe(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),iIe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:m,memoizeOptions:g=[],argsMemoize:v=Tne,argsMemoizeOptions:x=[]}=d,b=W$(g),w=W$(x),_=oIe(i),k=m(function(){return s++,u.apply(null,arguments)},...b),A=v(function(){a++;const P=lIe(_,arguments);return o=k.apply(null,P),o},...w);return Object.assign(A,{resultFunc:u,memoizedResultFunc:k,dependencies:_,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:m,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Re=hIe(Tne),fIe=Object.assign((t,e=Re)=>{sIe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>fIe}),_N={},EN={},TN={},K$;function mIe(){return K$||(K$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(TN)),TN}var SN={},kN={},Y$;function Sne(){return Y$||(Y$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(kN)),kN}var X$;function pIe(){return X$||(X$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sne(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(SN)),SN}var Q$;function gIe(){return Q$||(Q$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mIe(),r=pIe(),n=Pj();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,x)=>{let b=v;for(let w=0;w<x.length&&b!=null;++w)b=b[x[w]];return b},d=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:u(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?u(x,v):typeof x=="object"?x[v]:x,m=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:m.map(x=>d(x,v))})).slice().sort((v,x)=>{for(let b=0;b<m.length;b++){const w=e.compareValues(v.criteria[b],x.criteria[b],o[b]);if(w!==0)return w}return 0}).map(v=>v.original)}t.orderBy=i})(EN)),EN}var AN={},J$;function vIe(){return J$||(J$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(r,0),i}t.flatten=e})(AN)),AN}var CN={},Z$;function kne(){return Z$||(Z$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=_ne(),r=Fj(),n=pne(),i=vne();function s(a,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(CN)),CN}var eH;function yIe(){return eH||(eH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gIe(),r=vIe(),n=kne();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(_N)),_N}var NN,tH;function xIe(){return tH||(tH=1,NN=yIe().sortBy),NN}var bIe=xIe();const T4=ll(bIe);var Ane=t=>t.legend.settings,wIe=t=>t.legend.size,_Ie=t=>t.legend.payload,EIe=Re([_Ie,Ane],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?T4(n,r):n});function TIe(){return Tt(EIe)}var W2=1;function Cne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>W2||Math.abs(a.left-e.left)>W2||Math.abs(a.top-e.top)>W2||Math.abs(a.width-e.width)>W2)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function ta(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var SIe=typeof Symbol=="function"&&Symbol.observable||"@@observable",rH=SIe,IN=()=>Math.random().toString(36).substring(7).split("").join("."),kIe={INIT:`@@redux/INIT${IN()}`,REPLACE:`@@redux/REPLACE${IN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${IN()}`},nT=kIe;function Vj(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function Nne(t,e,r){if(typeof t!="function")throw new Error(ta(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ta(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ta(1));return r(Nne)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((w,_)=>{a.set(_,w)}))}function d(){if(l)throw new Error(ta(3));return i}function m(w){if(typeof w!="function")throw new Error(ta(4));if(l)throw new Error(ta(5));let _=!0;u();const k=o++;return a.set(k,w),function(){if(_){if(l)throw new Error(ta(6));_=!1,u(),a.delete(k),s=null}}}function g(w){if(!Vj(w))throw new Error(ta(7));if(typeof w.type>"u")throw new Error(ta(8));if(typeof w.type!="string")throw new Error(ta(17));if(l)throw new Error(ta(9));try{l=!0,i=n(i,w)}finally{l=!1}return(s=a).forEach(k=>{k()}),w}function v(w){if(typeof w!="function")throw new Error(ta(10));n=w,g({type:nT.REPLACE})}function x(){const w=m;return{subscribe(_){if(typeof _!="object"||_===null)throw new Error(ta(11));function k(){const R=_;R.next&&R.next(d())}return k(),{unsubscribe:w(k)}},[rH](){return this}}}return g({type:nT.INIT}),{dispatch:g,subscribe:m,getState:d,replaceReducer:v,[rH]:x}}function AIe(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:nT.INIT})>"u")throw new Error(ta(12));if(typeof r(void 0,{type:nT.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ta(13))})}function Ine(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{AIe(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<n.length;d++){const m=n[d],g=r[m],v=a[m],x=g(v,o);if(typeof x>"u")throw o&&o.type,new Error(ta(14));u[m]=x,l=l||x!==v}return l=l||n.length!==Object.keys(a).length,l?u:a}}function iT(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function CIe(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(ta(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=iT(...o)(i.dispatch),{...i,dispatch:s}}}function One(t){return Vj(t)&&"type"in t&&typeof t.type=="string"}var Rne=Symbol.for("immer-nothing"),nH=Symbol.for("immer-draftable"),Xa=Symbol.for("immer-state");function mc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var el=Object,iv=el.getPrototypeOf,sT="constructor",S4="prototype",RI="configurable",aT="enumerable",z_="writable",yx="value",jd=t=>!!t&&!!t[Xa];function jc(t){var e;return t?Pne(t)||k4(t)||!!t[nH]||!!((e=t[sT])!=null&&e[nH])||A4(t)||C4(t):!1}var NIe=el[S4][sT].toString(),iH=new WeakMap;function Pne(t){if(!t||!Uj(t))return!1;const e=iv(t);if(e===null||e===el[S4])return!0;const r=el.hasOwnProperty.call(e,sT)&&e[sT];if(r===Object)return!0;if(!Kp(r))return!1;let n=iH.get(r);return n===void 0&&(n=Function.toString.call(r),iH.set(r,n)),n===NIe}function kb(t,e,r=!0){Ab(t)===0?(r?Reflect.ownKeys(t):el.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function Ab(t){const e=t[Xa];return e?e.type_:k4(t)?1:A4(t)?2:C4(t)?3:0}var sH=(t,e,r=Ab(t))=>r===2?t.has(e):el[S4].hasOwnProperty.call(t,e),PI=(t,e,r=Ab(t))=>r===2?t.get(e):t[e],oT=(t,e,r,n=Ab(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function IIe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var k4=Array.isArray,A4=t=>t instanceof Map,C4=t=>t instanceof Set,Uj=t=>typeof t=="object",Kp=t=>typeof t=="function",ON=t=>typeof t=="boolean",id=t=>t.copy_||t.base_,zj=t=>t.modified_?t.copy_:t.base_;function jI(t,e){if(A4(t))return new Map(t);if(C4(t))return new Set(t);if(k4(t))return Array[S4].slice.call(t);const r=Pne(t);if(e===!0||e==="class_only"&&!r){const n=el.getOwnPropertyDescriptors(t);delete n[Xa];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o[z_]===!1&&(o[z_]=!0,o[RI]=!0),(o.get||o.set)&&(n[a]={[RI]:!0,[z_]:!0,[aT]:o[aT],[yx]:t[a]})}return el.create(iv(t),n)}else{const n=iv(t);if(n!==null&&r)return{...t};const i=el.create(n);return el.assign(i,t)}}function $j(t,e=!1){return N4(t)||jd(t)||!jc(t)||(Ab(t)>1&&el.defineProperties(t,{set:G2,add:G2,clear:G2,delete:G2}),el.freeze(t),e&&kb(t,(r,n)=>{$j(n,!0)},!1)),t}function OIe(){mc(2)}var G2={[yx]:OIe};function N4(t){return t===null||!Uj(t)?!0:el.isFrozen(t)}var lT="MapSet",DI="Patches",jne={};function sv(t){const e=jne[t];return e||mc(0,t),e}var RIe=t=>!!jne[t],xx,Dne=()=>xx,PIe=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:RIe(lT)?sv(lT):void 0});function aH(t,e){e&&(t.patchPlugin_=sv(DI),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function MI(t){LI(t),t.drafts_.forEach(jIe),t.drafts_=null}function LI(t){t===xx&&(xx=t.parent_)}var oH=t=>xx=PIe(xx,t);function jIe(t){const e=t[Xa];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function lH(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[Xa].modified_&&(MI(e),mc(4)),jc(t)&&(t=cH(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[Xa].base_,t,e)}else t=cH(e,r);return DIe(e,t,!0),MI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Rne?t:void 0}function cH(t,e){if(N4(e))return e;const r=e[Xa];if(!r)return Hj(e,t.handledSet_,t);if(!I4(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);Fne(r,t)}return r.copy_}function DIe(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$j(e,r)}function Mne(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var I4=(t,e)=>t.scope_===e,MIe=[];function Lne(t,e,r,n){const i=id(t),s=t.type_;if(n!==void 0&&PI(i,n,s)===e){oT(i,n,r,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;kb(i,(l,u)=>{if(jd(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=t.draftLocations_.get(e)??MIe;for(const o of a)oT(i,o,r,s)}function LIe(t,e,r){t.callbacks_.push(function(i){var o;const s=e;if(!s||!I4(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=zj(s);Lne(t,s.draft_??s,a,r),Fne(s,i)})}function Fne(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}Mne(t)}}function FIe(t,e,r){const{scope_:n}=t;if(jd(r)){const i=r[Xa];I4(i,n)&&i.callbacks_.push(function(){$_(t);const a=zj(i);Lne(t,r,a,e)})}else jc(r)&&t.callbacks_.push(function(){const s=id(t);PI(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Hj(PI(t.copy_,e,t.type_),n.handledSet_,n)})}function Hj(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||jd(t)||e.has(t)||!jc(t)||N4(t)||(e.add(t),kb(t,(n,i)=>{if(jd(i)){const s=i[Xa];if(I4(s,r)){const a=zj(s);oT(t,n,a,t.type_),Mne(s)}}else jc(i)&&Hj(i,e,r)})),t}function BIe(t,e){const r=k4(t),n={type_:r?1:0,scope_:e?e.scope_:Dne(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=qj;r&&(i=[n],s=bx);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,[o,n]}var qj={get(t,e){if(e===Xa)return t;const r=id(t);if(!sH(r,e,t.type_))return VIe(t,r,e);const n=r[e];if(t.finalized_||!jc(n))return n;if(n===RN(t.base_,e)){$_(t);const i=t.type_===1?+e:e,s=BI(t.scope_,n,t,i);return t.copy_[i]=s}return n},has(t,e){return e in id(t)},ownKeys(t){return Reflect.ownKeys(id(t))},set(t,e,r){const n=Bne(id(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=RN(id(t),e),s=i==null?void 0:i[Xa];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(IIe(r,i)&&(r!==void 0||sH(t.base_,e,t.type_)))return!0;$_(t),FI(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),FIe(t,e,r)),!0},deleteProperty(t,e){return $_(t),RN(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),FI(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=id(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[z_]:!0,[RI]:t.type_!==1||e!=="length",[aT]:n[aT],[yx]:r[e]}},defineProperty(){mc(11)},getPrototypeOf(t){return iv(t.base_)},setPrototypeOf(){mc(12)}},bx={};kb(qj,(t,e)=>{bx[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}});bx.deleteProperty=function(t,e){return bx.set.call(this,t,e,void 0)};bx.set=function(t,e,r){return qj.set.call(this,t[0],e,r,t[0])};function RN(t,e){const r=t[Xa];return(r?id(r):t)[e]}function VIe(t,e,r){var i;const n=Bne(e,r);return n?yx in n?n[yx]:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function Bne(t,e){if(!(e in t))return;let r=iv(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=iv(r)}}function FI(t){t.modified_||(t.modified_=!0,t.parent_&&FI(t.parent_))}function $_(t){t.copy_||(t.assigned_=new Map,t.copy_=jI(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var UIe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Kp(r)&&!Kp(n)){const a=n;n=r;const o=this;return function(u=a,...d){return o.produce(u,m=>n.call(this,m,...d))}}Kp(n)||mc(6),i!==void 0&&!Kp(i)&&mc(7);let s;if(jc(r)){const a=oH(this),o=BI(a,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?MI(a):LI(a)}return aH(a,i),lH(s,a)}else if(!r||!Uj(r)){if(s=n(r),s===void 0&&(s=r),s===Rne&&(s=void 0),this.autoFreeze_&&$j(s,!0),i){const a=[],o=[];sv(DI).generateReplacementPatches_(r,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else mc(1,r)},this.produceWithPatches=(r,n)=>{if(Kp(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,s;return[this.produce(r,n,(o,l)=>{i=o,s=l}),i,s]},ON(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),ON(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),ON(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){jc(e)||mc(8),jd(e)&&(e=Sc(e));const r=oH(this),n=BI(r,e,void 0);return n[Xa].isManual_=!0,LI(r),n}finishDraft(e,r){const n=e&&e[Xa];(!n||!n.isManual_)&&mc(9);const{scope_:i}=n;return aH(i,r),lH(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const i=sv(DI).applyPatches_;return jd(e)?i(e,r):this.produce(e,s=>i(s,r))}};function BI(t,e,r,n){const[i,s]=A4(e)?sv(lT).proxyMap_(e,r):C4(e)?sv(lT).proxySet_(e,r):BIe(e,r);return((r==null?void 0:r.scope_)??Dne()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?LIe(r,s,n):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function Sc(t){return jd(t)||mc(10,t),Vne(t)}function Vne(t){if(!jc(t)||N4(t))return t;const e=t[Xa];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=jI(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=jI(t,!0);return kb(r,(i,s)=>{oT(r,i,Vne(s))},n),e&&(e.finalized_=!1),r}var zIe=new UIe,Une=zIe.produce;function zne(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var $Ie=zne(),HIe=zne,qIe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?iT:iT.apply(null,arguments)};function ql(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(rl(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>One(n)&&n.type===t,r}var $ne=class c1 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,c1.prototype)}static get[Symbol.species](){return c1}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new c1(...e[0].concat(this)):new c1(...e.concat(this))}};function uH(t){return jc(t)?Une(t,()=>{}):t}function K2(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function WIe(t){return typeof t=="boolean"}var GIe=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new $ne;return r&&(WIe(r)?a.push($Ie):a.push(HIe(r.extraArgument))),a},Hne="RTK_autoBatch",Zn=()=>t=>({payload:t,meta:{[Hne]:!0}}),dH=t=>e=>{setTimeout(e,t)},qne=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:dH(10):t.type==="callback"?t.queueNotification:dH(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const m=()=>i&&d(),g=n.subscribe(m);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var m;try{return i=!((m=d==null?void 0:d.meta)!=null&&m[Hne]),s=!i,s&&(a||(a=!0,l(u))),n.dispatch(d)}finally{i=!0}}})},KIe=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new $ne(t);return n&&i.push(qne(typeof n=="object"?n:void 0)),i};function YIe(t){const e=GIe(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(Vj(r))o=Ine(r);else throw new Error(rl(1));let l;typeof n=="function"?l=n(e):l=e();let u=iT;i&&(u=qIe({trace:!1,...typeof i=="object"&&i}));const d=CIe(...l),m=KIe(d);let g=typeof a=="function"?a(m):m();const v=u(...g);return Nne(o,s,v)}function Wne(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(rl(28));if(o in e)throw new Error(rl(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function XIe(t){return typeof t=="function"}function QIe(t,e){let[r,n,i]=Wne(e),s;if(XIe(t))s=()=>uH(t());else{const o=uH(t);s=()=>o}function a(o=s(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,m)=>{if(m)if(jd(d)){const v=m(d,l);return v===void 0?d:v}else{if(jc(d))return Une(d,g=>m(g,l));{const g=m(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var JIe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",ZIe=(t=21)=>{let e="",r=t;for(;r--;)e+=JIe[Math.random()*64|0];return e},eOe=Symbol.for("rtk-slice-createasyncthunk");function tOe(t,e){return`${t}/${e}`}function rOe({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[eOe];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(rl(11));const o=(typeof i.reducers=="function"?i.reducers(iOe()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(R,P){const j=typeof R=="string"?R:R.type;if(!j)throw new Error(rl(12));if(j in u.sliceCaseReducersByType)throw new Error(rl(13));return u.sliceCaseReducersByType[j]=P,d},addMatcher(R,P){return u.sliceMatchers.push({matcher:R,reducer:P}),d},exposeAction(R,P){return u.actionCreators[R]=P,d},exposeCaseReducer(R,P){return u.sliceCaseReducersByName[R]=P,d}};l.forEach(R=>{const P=o[R],j={reducerName:R,type:tOe(s,R),createNotation:typeof i.reducers=="function"};aOe(P)?lOe(j,P,d,e):sOe(j,P,d)});function m(){const[R={},P=[],j=void 0]=typeof i.extraReducers=="function"?Wne(i.extraReducers):[i.extraReducers],S={...R,...u.sliceCaseReducersByType};return QIe(i.initialState,I=>{for(let O in S)I.addCase(O,S[O]);for(let O of u.sliceMatchers)I.addMatcher(O.matcher,O.reducer);for(let O of P)I.addMatcher(O.matcher,O.reducer);j&&I.addDefaultCase(j)})}const g=R=>R,v=new Map,x=new WeakMap;let b;function w(R,P){return b||(b=m()),b(R,P)}function _(){return b||(b=m()),b.getInitialState()}function k(R,P=!1){function j(I){let O=I[R];return typeof O>"u"&&P&&(O=K2(x,j,_)),O}function S(I=g){const O=K2(v,P,()=>new WeakMap);return K2(O,I,()=>{const D={};for(const[M,F]of Object.entries(i.selectors??{}))D[M]=nOe(F,I,()=>K2(x,I,_),P);return D})}return{reducerPath:R,getSelectors:S,get selectors(){return S(j)},selectSlice:j}}const A={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:_,...k(a),injectInto(R,{reducerPath:P,...j}={}){const S=P??a;return R.inject({reducerPath:S,reducer:w},j),{...A,...k(S,!0)}}};return A}}function nOe(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var ko=rOe();function iOe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function sOe({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!oOe(n))throw new Error(rl(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?ql(t,a):ql(t))}function aOe(t){return t._reducerDefinitionType==="asyncThunk"}function oOe(t){return t._reducerDefinitionType==="reducerWithPrepare"}function lOe({type:t,reducerName:e},r,n,i){if(!i)throw new Error(rl(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=r,m=i(t,s,d);n.exposeAction(e,m),a&&n.addCase(m.fulfilled,a),o&&n.addCase(m.pending,o),l&&n.addCase(m.rejected,l),u&&n.addMatcher(m.settled,u),n.exposeCaseReducer(e,{fulfilled:a||Y2,pending:o||Y2,rejected:l||Y2,settled:u||Y2})}function Y2(){}var cOe="task",Gne="listener",Kne="completed",Wj="cancelled",uOe=`task-${Wj}`,dOe=`task-${Kne}`,VI=`${Gne}-${Wj}`,hOe=`${Gne}-${Kne}`,O4=class{constructor(t){CC(this,"name","TaskAbortError");CC(this,"message");this.code=t,this.message=`${cOe} ${Wj} (reason: ${t})`}},Gj=(t,e)=>{if(typeof t!="function")throw new TypeError(rl(32))},cT=()=>{},Yne=(t,e=cT)=>(t.catch(e),t),Xne=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),q0=t=>{if(t.aborted)throw new O4(t.reason)};function Qne(t,e){let r=cT;return new Promise((n,i)=>{const s=()=>i(new O4(t.reason));if(t.aborted){s();return}r=Xne(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=cT})}var fOe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof O4?"cancelled":"rejected",error:r}}finally{e==null||e()}},uT=t=>e=>Yne(Qne(t,e).then(r=>(q0(t),r))),Jne=t=>{const e=uT(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:wg}=Object,hH={},R4="listenerMiddleware",mOe=(t,e)=>{const r=n=>Xne(t,()=>n.abort(t.reason));return(n,i)=>{Gj(n);const s=new AbortController;r(s);const a=fOe(async()=>{q0(t),q0(s.signal);const o=await n({pause:uT(s.signal),delay:Jne(s.signal),signal:s.signal});return q0(s.signal),o},()=>s.abort(dOe));return i!=null&&i.autoJoin&&e.push(a.catch(cT)),{result:uT(t)(a),cancel(){s.abort(uOe)}}}},pOe=(t,e)=>{const r=async(n,i)=>{q0(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=t({predicate:n,effect:(m,g)=>{g.unsubscribe(),l([m,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await Qne(e,Promise.race(o));return q0(e),l}finally{s()}};return(n,i)=>Yne(r(n,i))},Zne=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=ql(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(rl(21));return Gj(s),{predicate:i,type:e,effect:s}},eie=wg(t=>{const{type:e,predicate:r,effect:n}=Zne(t);return{id:ZIe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(rl(22))}}},{withTypes:()=>eie}),fH=(t,e)=>{const{type:r,effect:n,predicate:i}=Zne(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},UI=t=>{t.pending.forEach(e=>{e.abort(VI)})},gOe=(t,e)=>()=>{for(const r of e.keys())UI(r);t.clear()},mH=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},tie=wg(ql(`${R4}/add`),{withTypes:()=>tie}),vOe=ql(`${R4}/removeAll`),rie=wg(ql(`${R4}/remove`),{withTypes:()=>rie}),yOe=(...t)=>{console.error(`${R4}/error`,...t)},Cb=(t={})=>{const e=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},i=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:a=yOe}=t;Gj(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&UI(v)}),l=v=>{const x=fH(e,v)??eie(v);return o(x)};wg(l,{withTypes:()=>l});const u=v=>{const x=fH(e,v);return x&&(x.unsubscribe(),v.cancelActive&&UI(x)),!!x};wg(u,{withTypes:()=>u});const d=async(v,x,b,w)=>{const _=new AbortController,k=pOe(l,_.signal),A=[];try{v.pending.add(_),n(v),await Promise.resolve(v.effect(x,wg({},b,{getOriginalState:w,condition:(R,P)=>k(R,P).then(Boolean),take:k,delay:Jne(_.signal),pause:uT(_.signal),extra:s,signal:_.signal,fork:mOe(_.signal,A),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((R,P,j)=>{R!==_&&(R.abort(VI),j.delete(R))})},cancel:()=>{_.abort(VI),v.pending.delete(_)},throwIfCancelled:()=>{q0(_.signal)}})))}catch(R){R instanceof O4||mH(a,R,{raisedBy:"effect"})}finally{await Promise.all(A),_.abort(hOe),i(v),v.pending.delete(_)}},m=gOe(e,r);return{middleware:v=>x=>b=>{if(!One(b))return x(b);if(tie.match(b))return l(b.payload);if(vOe.match(b)){m();return}if(rie.match(b))return u(b.payload);let w=v.getState();const _=()=>{if(w===hH)throw new Error(rl(23));return w};let k;try{if(k=x(b),e.size>0){const A=v.getState(),R=Array.from(e.values());for(const P of R){let j=!1;try{j=P.predicate(b,A,w)}catch(S){j=!1,mH(a,S,{raisedBy:"predicate"})}j&&d(P,b,v,_)}}}finally{w=hH}return k},startListening:l,stopListening:u,clearListeners:m}};function rl(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var xOe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},nie=ko({name:"chartLayout",initialState:xOe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:bOe,setLayout:wOe,setChartSize:_Oe,setScale:EOe}=nie.actions,TOe=nie.reducer;function iie(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function ni(t){return Number.isFinite(t)}function Au(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function pH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pH(Object(r),!0).forEach(function(n){SOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SOe(t,e,r){return(e=kOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kOe(t){var e=AOe(t,"string");return typeof e=="symbol"?e:e+""}function AOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,r){return zs(t)||zs(e)?r:ku(e)?hm(t,e,r):typeof e=="function"?e(t):r}var COe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&wt(t[s]))return sg(sg({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&wt(t[a]))return sg(sg({},t),{},{[a]:t[a]+(i||0)})}return t},zd=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",sie=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},aie=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:m,niceTicks:g,axisType:v}=t;if(!a)return null;var x=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,b=i==="category"&&a.bandwidth?a.bandwidth()/x:0;if(b=v==="angleAxis"&&s&&s.length>=2?Na(s[0]-s[1])*2*b:b,m||g){var w=(m||g||[]).map((_,k)=>{var A=n?n.indexOf(_):_;return{coordinate:a(A)+b,value:_,offset:b,index:k}});return w.filter(_=>!Pc(_.coordinate))}return l&&u?u.map((_,k)=>({coordinate:a(_)+b,value:_,index:k,offset:b})):a.ticks&&d!=null?a.ticks(d).map((_,k)=>({coordinate:a(_)+b,value:_,offset:b,index:k})):a.domain().map((_,k)=>({coordinate:a(_)+b,value:n?n[_]:_,index:k,offset:b}))},gH=1e-4,NOe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-gH,s=Math.max(n[0],n[1])+gH,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},IOe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,o=0;o<r;++o){var l=t[o],u=l==null?void 0:l[i];if(u!=null){var d=u[1],m=u[0],g=Pc(d)?m:d;g>=0?(u[0]=s,u[1]=s+g,s=d):(u[0]=a,u[1]=a+g,a=d)}}}},OOe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<r;++a){var o=t[a],l=o==null?void 0:o[i];if(l!=null){var u=Pc(l[1])?l[0]:l[1];u>=0?(l[0]=s,l[1]=s+u,s=l[1]):(l[0]=0,l[1]=0)}}}},ROe={sign:IOe,expand:J5e,none:dm,silhouette:Z5e,wiggle:e6e,positive:OOe},POe=(t,e,r)=>{var n,i=(n=ROe[r])!==null&&n!==void 0?n:dm,s=Q5e().keys(e).value((o,l)=>Number(qn(o,l,0))).order(II).offset(i),a=s(t);return a.forEach((o,l)=>{o.forEach((u,d)=>{var m=qn(t[d],e[l],0);Array.isArray(m)&&m.length===2&&wt(m[0])&&wt(m[1])&&(u[0]=m[0],u[1]=m[1])})}),a};function jOe(t){return t==null?void 0:String(t)}function vH(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!zs(i[e.dataKey])){var o=dne(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=qn(i,zs(a)?e.dataKey:a);return zs(l)?null:e.scale(l)}var DOe=t=>{var e=t.flat(2).filter(wt);return[Math.min(...e),Math.max(...e)]},MOe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],LOe=(t,e,r)=>{if(t!=null)return MOe(Object.keys(t).reduce((n,i)=>{var s=t[i];if(!s)return n;var{stackedData:a}=s,o=a.reduce((l,u)=>{var d=iie(u,e,r),m=DOe(d);return!ni(m[0])||!ni(m[1])?l:[Math.min(l[0],m[0]),Math.max(l[1],m[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},yH=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,xH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,dT=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=T4(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function bH(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return sg(sg({},e),{},{dataKey:r,payload:n,value:i,name:s})}function P4(t,e){if(t)return String(t);if(typeof e=="string")return e}var FOe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},BOe=(t,e)=>e==="centric"?t.angle:t.radius,$d=t=>t.layout.width,Hd=t=>t.layout.height,VOe=t=>t.layout.scale,oie=t=>t.layout.margin,j4=Re(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),D4=Re(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),lie="data-recharts-item-index",cie="data-recharts-item-id",Nb=60;function wH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function X2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wH(Object(r),!0).forEach(function(n){UOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UOe(t,e,r){return(e=zOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zOe(t){var e=$Oe(t,"string");return typeof e=="symbol"?e:e+""}function $Oe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var HOe=t=>t.brush.height;function qOe(t){var e=D4(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Nb;return r+i}return r},0)}function WOe(t){var e=D4(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:Nb;return r+i}return r},0)}function GOe(t){var e=j4(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function KOe(t){var e=j4(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Ws=Re([$d,Hd,oie,HOe,qOe,WOe,GOe,KOe,Ane,wIe],(t,e,r,n,i,s,a,o,l,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+s},m={top:(r.top||0)+a,bottom:(r.bottom||0)+o},g=X2(X2({},m),d),v=g.bottom;g.bottom+=n,g=COe(g,l,u);var x=t-g.left-g.right,b=e-g.top-g.bottom;return X2(X2({brushBottom:v},g),{},{width:Math.max(x,0),height:Math.max(b,0)})}),YOe=Re(Ws,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),uie=Re($d,Hd,(t,e)=>({x:0,y:0,width:t,height:e})),XOe=C.createContext(null),Ao=()=>C.useContext(XOe)!=null,M4=t=>t.brush,L4=Re([M4,Ws,oie],(t,e,r)=>({height:t.height,x:wt(t.x)?t.x:e.left,y:wt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:wt(t.width)?t.width:e.width})),PN={},jN={},DN={},_H;function QOe(){return _H||(_H=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},m=()=>{u&&d(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,m()},n)},x=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{x(),a=void 0,o=null},w=()=>{d()},_=function(...k){if(i!=null&&i.aborted)return;a=this,o=k;const A=g==null;v(),l&&A&&d()};return _.schedule=v,_.cancel=b,_.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),_}t.debounce=e})(DN)),DN}var EH;function JOe(){return EH||(EH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=QOe();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,m=null;const g=e.debounce(function(...b){d=n.apply(this,b),m=null},i,{edges:u}),v=function(...b){return l!=null&&(m===null&&(m=Date.now()),Date.now()-m>=l)?(d=n.apply(this,b),m=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,b),d)},x=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=x,v}t.debounce=r})(jN)),jN}var TH;function ZOe(){return TH||(TH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JOe();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(PN)),PN}var MN,SH;function eRe(){return SH||(SH=1,MN=ZOe().throttle),MN}var tRe=eRe();const rRe=ll(tRe);var hT=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(r.replace(/%s/g,()=>i[a++]))}},die=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=Pd(n)?t:Number(n),l=Pd(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},nRe={width:0,height:0,overflow:"visible"},iRe={width:0,overflowX:"visible"},sRe={height:0,overflowY:"visible"},aRe={},oRe=t=>{var{width:e,height:r}=t,n=Pd(e),i=Pd(r);return n&&i?nRe:n?iRe:i?sRe:aRe};function lRe(t){var{width:e,height:r,aspect:n}=t,i=e,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function zI(){return zI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},zI.apply(null,arguments)}function kH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kH(Object(r),!0).forEach(function(n){cRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cRe(t,e,r){return(e=uRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uRe(t){var e=dRe(t,"string");return typeof e=="symbol"?e:e+""}function dRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hie=C.createContext({width:-1,height:-1});function hRe(t){return Au(t.width)&&Au(t.height)}function fie(t){var{children:e,width:r,height:n}=t,i=C.useMemo(()=>({width:r,height:n}),[r,n]);return hRe(i)?C.createElement(hie.Provider,{value:i},e):null}var Kj=()=>C.useContext(hie),fRe=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:m,className:g,onResize:v,style:x={}}=t,b=C.useRef(null),w=C.useRef();w.current=v,C.useImperativeHandle(e,()=>b.current);var[_,k]=C.useState({containerWidth:n.width,containerHeight:n.height}),A=C.useCallback((I,O)=>{k(D=>{var M=Math.round(I),F=Math.round(O);return D.containerWidth===M&&D.containerHeight===F?D:{containerWidth:M,containerHeight:F}})},[]);C.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return Sb;var I=F=>{var U,{width:le,height:de}=F[0].contentRect;A(le,de),(U=w.current)===null||U===void 0||U.call(w,le,de)};d>0&&(I=rRe(I,d,{trailing:!0,leading:!1}));var O=new ResizeObserver(I),{width:D,height:M}=b.current.getBoundingClientRect();return A(D,M),O.observe(b.current),()=>{O.disconnect()}},[A,d]);var{containerWidth:R,containerHeight:P}=_;hT(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:S}=die(R,P,{width:i,height:s,aspect:r,maxHeight:l});return hT(j!=null&&j>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,S,i,s,a,o,r),C.createElement("div",{id:m?"".concat(m):void 0,className:Xr("recharts-responsive-container",g),style:AH(AH({},x),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},C.createElement("div",{style:oRe({width:i,height:s})},C.createElement(fie,{width:j,height:S},u)))}),$I=C.forwardRef((t,e)=>{var r=Kj();if(Au(r.width)&&Au(r.height))return t.children;var{width:n,height:i}=lRe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=die(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return wt(s)&&wt(a)?C.createElement(fie,{width:s,height:a},t.children):C.createElement(fRe,zI({},t,{width:n,height:i,ref:e}))});function mie(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var F4=()=>{var t,e=Ao(),r=Tt(YOe),n=Tt(L4),i=(t=Tt(M4))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},mRe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},pie=()=>{var t;return(t=Tt(Ws))!==null&&t!==void 0?t:mRe},Yj=()=>Tt($d),Xj=()=>Tt(Hd),pRe=()=>Tt(t=>t.layout.margin),gn=t=>t.layout.layoutType,Lv=()=>Tt(gn),gRe=()=>{var t=Lv();if(t==="horizontal"||t==="vertical")return t},vRe=()=>{var t=Lv();return t!==void 0},B4=t=>{var e=Bn(),r=Ao(),{width:n,height:i}=t,s=Kj(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),C.useEffect(()=>{!r&&Au(a)&&Au(o)&&e(_Oe({width:a,height:o}))},[e,r,a,o]),null},gie=Symbol.for("immer-nothing"),CH=Symbol.for("immer-draftable"),sl=Symbol.for("immer-state");function pc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var wx=Object.getPrototypeOf;function av(t){return!!t&&!!t[sl]}function fm(t){var e;return t?vie(t)||Array.isArray(t)||!!t[CH]||!!((e=t.constructor)!=null&&e[CH])||Ib(t)||U4(t):!1}var yRe=Object.prototype.constructor.toString(),NH=new WeakMap;function vie(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=NH.get(r);return n===void 0&&(n=Function.toString.call(r),NH.set(r,n)),n===yRe}function fT(t,e,r=!0){V4(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function V4(t){const e=t[sl];return e?e.type_:Array.isArray(t)?1:Ib(t)?2:U4(t)?3:0}function HI(t,e){return V4(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function yie(t,e,r){const n=V4(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function xRe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function Ib(t){return t instanceof Map}function U4(t){return t instanceof Set}function _0(t){return t.copy_||t.base_}function qI(t,e){if(Ib(t))return new Map(t);if(U4(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=vie(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[sl];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(wx(t),n)}else{const n=wx(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function Qj(t,e=!1){return z4(t)||av(t)||!fm(t)||(V4(t)>1&&Object.defineProperties(t,{set:Q2,add:Q2,clear:Q2,delete:Q2}),Object.freeze(t),e&&Object.values(t).forEach(r=>Qj(r,!0))),t}function bRe(){pc(2)}var Q2={value:bRe};function z4(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var wRe={};function mm(t){const e=wRe[t];return e||pc(0,t),e}var _x;function xie(){return _x}function _Re(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function IH(t,e){e&&(mm("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function WI(t){GI(t),t.drafts_.forEach(ERe),t.drafts_=null}function GI(t){t===_x&&(_x=t.parent_)}function OH(t){return _x=_Re(_x,t)}function ERe(t){const e=t[sl];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function RH(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[sl].modified_&&(WI(e),pc(4)),fm(t)&&(t=mT(e,t),e.parent_||pT(e,t)),e.patches_&&mm("Patches").generateReplacementPatches_(r[sl].base_,t,e.patches_,e.inversePatches_)):t=mT(e,r,[]),WI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==gie?t:void 0}function mT(t,e,r){if(z4(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[sl];if(!i)return fT(e,(s,a)=>PH(t,i,e,s,a,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return pT(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),fT(a,(l,u)=>PH(t,i,s,l,u,r,o),n),pT(t,s,!1),r&&t.patches_&&mm("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function PH(t,e,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=z4(i);if(!(o&&!a)){if(av(i)){const l=s&&e&&e.type_!==3&&!HI(e.assigned_,n)?s.concat(n):void 0,u=mT(t,i,l);if(yie(r,n,u),av(u))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(fm(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;mT(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(Ib(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&pT(t,i)}}}function pT(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&Qj(e,r)}function TRe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:xie(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=Jj;r&&(i=[n],s=Ex);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var Jj={get(t,e){if(e===sl)return t;const r=_0(t);if(!HI(r,e))return SRe(t,r,e);const n=r[e];return t.finalized_||!fm(n)?n:n===LN(t.base_,e)?(FN(t),t.copy_[e]=YI(n,t)):n},has(t,e){return e in _0(t)},ownKeys(t){return Reflect.ownKeys(_0(t))},set(t,e,r){const n=bie(_0(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=LN(_0(t),e),s=i==null?void 0:i[sl];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(xRe(r,i)&&(r!==void 0||HI(t.base_,e)))return!0;FN(t),KI(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return LN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,FN(t),KI(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=_0(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){pc(11)},getPrototypeOf(t){return wx(t.base_)},setPrototypeOf(){pc(12)}},Ex={};fT(Jj,(t,e)=>{Ex[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Ex.deleteProperty=function(t,e){return Ex.set.call(this,t,e,void 0)};Ex.set=function(t,e,r){return Jj.set.call(this,t[0],e,r,t[0])};function LN(t,e){const r=t[sl];return(r?_0(r):t)[e]}function SRe(t,e,r){var i;const n=bie(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function bie(t,e){if(!(e in t))return;let r=wx(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=wx(r)}}function KI(t){t.modified_||(t.modified_=!0,t.parent_&&KI(t.parent_))}function FN(t){t.copy_||(t.copy_=qI(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var kRe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...u){return a.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&pc(6),n!==void 0&&typeof n!="function"&&pc(7);let i;if(fm(e)){const s=OH(this),a=YI(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?WI(s):GI(s)}return IH(s,n),RH(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===gie&&(i=void 0),this.autoFreeze_&&Qj(i,!0),n){const s=[],a=[];mm("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else pc(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){fm(t)||pc(8),av(t)&&(t=ARe(t));const e=OH(this),r=YI(t,void 0);return r[sl].isManual_=!0,GI(e),r}finishDraft(t,e){const r=t&&t[sl];(!r||!r.isManual_)&&pc(9);const{scope_:n}=r;return IH(n,e),RH(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=mm("Patches").applyPatches_;return av(t)?n(t,e):this.produce(t,i=>n(i,e))}};function YI(t,e){const r=Ib(t)?mm("MapSet").proxyMap_(t,e):U4(t)?mm("MapSet").proxySet_(t,e):TRe(t,e);return(e?e.scope_:xie()).drafts_.push(r),r}function ARe(t){return av(t)||pc(10,t),wie(t)}function wie(t){if(!fm(t)||z4(t))return t;const e=t[sl];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=qI(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=qI(t,!0);return fT(r,(i,s)=>{yie(r,i,wie(s))},n),e&&(e.finalized_=!1),r}var CRe=new kRe;CRe.produce;var NRe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},_ie=ko({name:"legend",initialState:NRe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zn()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=Sc(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Zn()},removeLegendPayload:{reducer(t,e){var r=Sc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Zn()}}}),{setLegendSize:jH,setLegendSettings:IRe,addLegendPayload:Eie,replaceLegendPayload:Tie,removeLegendPayload:Sie}=_ie.actions,ORe=_ie.reducer,RRe=["contextPayload"];function XI(){return XI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XI.apply(null,arguments)}function DH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ov(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?DH(Object(r),!0).forEach(function(n){PRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):DH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function PRe(t,e,r){return(e=jRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jRe(t){var e=DRe(t,"string");return typeof e=="symbol"?e:e+""}function DRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function MRe(t,e){if(t==null)return{};var r,n,i=LRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function LRe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function FRe(t){return t.value}function BRe(t){var{contextPayload:e}=t,r=MRe(t,RRe),n=Ene(e,t.payloadUniqBy,FRe),i=ov(ov({},r),{},{payload:n});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(I6e,i)}function VRe(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:l}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?u={left:((n||0)-s.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?d={top:((i||0)-s.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),ov(ov({},u),d)}function URe(t){var e=Bn();return C.useEffect(()=>{e(IRe(t))},[e,t]),null}function zRe(t){var e=Bn();return C.useEffect(()=>(e(jH(t)),()=>{e(jH({width:0,height:0}))}),[e,t]),null}function $Re(t,e,r,n){return t==="vertical"&&wt(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var HRe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function kie(t){var e=_s(t,HRe),r=TIe(),n=w5e(),i=pRe(),{width:s,height:a,wrapperStyle:o,portal:l}=e,[u,d]=Cne([r]),m=Yj(),g=Xj();if(m==null||g==null)return null;var v=m-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),x=$Re(e.layout,a,s,v),b=l?o:ov(ov({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||a||"auto"},VRe(o,e,i,m,g,u)),o),w=l??n;if(w==null||r==null)return null;var _=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},C.createElement(URe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&C.createElement(zRe,{width:u.width,height:u.height}),C.createElement(BRe,XI({},e,x,{margin:i,chartWidth:m,chartHeight:g,contextPayload:r})));return zo.createPortal(_,w)}kie.displayName="Legend";function QI(){return QI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},QI.apply(null,arguments)}function MH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function BN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MH(Object(r),!0).forEach(function(n){qRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qRe(t,e,r){return(e=WRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WRe(t){var e=GRe(t,"string");return typeof e=="symbol"?e:e+""}function GRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function KRe(t){return Array.isArray(t)&&ku(t[0])&&ku(t[1])?t.join(" ~ "):t}var YRe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:m,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var P={padding:0,margin:0},j=(o?T4(s,o):s).map((S,I)=>{if(S.type==="none")return null;var O=S.formatter||a||KRe,{value:D,name:M}=S,F=D,U=M;if(O){var le=O(D,M,S,I,s);if(Array.isArray(le))[F,U]=le;else if(le!=null)F=le;else return null}var de=BN({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:de},ku(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,ku(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},F),C.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:P},j)}return null},x=BN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=BN({margin:0},i),w=!zs(d),_=w?d:"",k=Xr("recharts-default-tooltip",l),A=Xr("recharts-tooltip-label",u);w&&m&&s!==void 0&&s!==null&&(_=m(d,s));var R=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",QI({className:k,style:x},R),C.createElement("p",{className:A,style:b},C.isValidElement(_)?_:"".concat(_)),v())},Gy="recharts-tooltip-wrapper",XRe={visibility:"hidden"};function QRe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Xr(Gy,{["".concat(Gy,"-right")]:wt(r)&&e&&wt(e.x)&&r>=e.x,["".concat(Gy,"-left")]:wt(r)&&e&&wt(e.x)&&r<e.x,["".concat(Gy,"-bottom")]:wt(n)&&e&&wt(e.y)&&n>=e.y,["".concat(Gy,"-top")]:wt(n)&&e&&wt(e.y)&&n<e.y})}function LH(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(s&&wt(s[n]))return s[n];var d=r[n]-o-(i>0?i:0),m=r[n]+i;if(e[n])return a[n]?d:m;var g=l[n];if(g==null)return 0;if(a[n]){var v=d,x=g;return v<x?Math.max(m,g):Math.max(d,g)}if(u==null)return 0;var b=m+o,w=g+u;return b>w?Math.max(d,g):Math.max(m,g)}function JRe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function ZRe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,d,m;return a.height>0&&a.width>0&&r?(d=LH({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),m=LH({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=JRe({translateX:d,translateY:m,useTranslate3d:o})):u=XRe,{cssProperties:u,cssClasses:QRe({translateX:d,translateY:m,coordinate:r})}}function FH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J2(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FH(Object(r),!0).forEach(function(n){JI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JI(t,e,r){return(e=ePe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ePe(t){var e=tPe(t,"string");return typeof e=="symbol"?e:e+""}function tPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class rPe extends C.PureComponent{constructor(){super(...arguments),JI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),JI(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:m,useTranslate3d:g,viewBox:v,wrapperStyle:x,lastBoundingBox:b,innerRef:w,hasPortalFromProps:_}=this.props,{cssClasses:k,cssProperties:A}=ZRe({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:m,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),R=_?{}:J2(J2({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=J2(J2({},R),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:w},s)}}var Aie=()=>{var t;return(t=Tt(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function ZI(){return ZI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ZI.apply(null,arguments)}function BH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function VH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BH(Object(r),!0).forEach(function(n){nPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nPe(t,e,r){return(e=iPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iPe(t){var e=sPe(t,"string");return typeof e=="symbol"?e:e+""}function sPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var UH={curveBasisClosed:V5e,curveBasisOpen:U5e,curveBasis:B5e,curveBumpX:S5e,curveBumpY:k5e,curveLinearClosed:z5e,curveLinear:_4,curveMonotoneX:$5e,curveMonotoneY:H5e,curveNatural:q5e,curveStep:W5e,curveStepAfter:K5e,curveStepBefore:G5e},gT=t=>ni(t.x)&&ni(t.y),zH=t=>t.base!=null&&gT(t.base)&&gT(t),Ky=t=>t.x,Yy=t=>t.y,aPe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(Tb(t));return(r==="curveMonotone"||r==="curveBump")&&e?UH["".concat(r).concat(e==="vertical"?"Y":"X")]:UH[r]||_4},oPe=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=aPe(e,i),o=s?r.filter(gT):r,l;if(Array.isArray(n)){var u=r.map((v,x)=>VH(VH({},v),{},{base:n[x]}));i==="vertical"?l=H2().y(Yy).x1(Ky).x0(v=>v.base.x):l=H2().x(Ky).y1(Yy).y0(v=>v.base.y);var d=l.defined(zH).curve(a),m=s?u.filter(zH):u;return d(m)}i==="vertical"&&wt(n)?l=H2().y(Yy).x1(Ky).x0(n):wt(n)?l=H2().x(Ky).y1(Yy).y0(n):l=Jre().x(Ky).y(Yy);var g=l.defined(gT).curve(a);return g(o)},_g=t=>{var{className:e,points:r,path:n,pathRef:i}=t,s=Lv();if((!r||!r.length)&&!n)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=r&&r.length?oPe(a):n;return C.createElement("path",ZI({},il(t),Mj(t),{className:Xr("recharts-curve",e),d:o===null?void 0:o,ref:i}))},lPe=["x","y","top","left","width","height","className"];function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eO.apply(null,arguments)}function $H(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cPe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?$H(Object(r),!0).forEach(function(n){uPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):$H(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function uPe(t,e,r){return(e=dPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dPe(t){var e=hPe(t,"string");return typeof e=="symbol"?e:e+""}function hPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fPe(t,e){if(t==null)return{};var r,n,i=mPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function mPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var pPe=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),gPe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=fPe(t,lPe),u=cPe({x:e,y:r,top:n,left:i,width:s,height:a},l);return!wt(e)||!wt(r)||!wt(s)||!wt(a)||!wt(n)||!wt(i)?null:C.createElement("path",eO({},Ya(u),{className:Xr("recharts-cross",o),d:pPe(e,r,s,a,n,i)}))};function vPe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function HH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?HH(Object(r),!0).forEach(function(n){yPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):HH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yPe(t,e,r){return(e=xPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function xPe(t){var e=bPe(t,"string");return typeof e=="symbol"?e:e+""}function bPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wPe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),Cie=(t,e,r)=>t.map(n=>"".concat(wPe(n)," ").concat(e,"ms ").concat(r)).join(","),_Pe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),Tx=(t,e)=>Object.keys(e).reduce((r,n)=>qH(qH({},r),{},{[n]:t(n,e[n])}),{});function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ps(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){EPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EPe(t,e,r){return(e=TPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TPe(t){var e=SPe(t,"string");return typeof e=="symbol"?e:e+""}function SPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vT=(t,e,r)=>t+(e-t)*r,tO=t=>{var{from:e,to:r}=t;return e!==r},Nie=(t,e,r)=>{var n=Tx((i,s)=>{if(tO(s)){var[a,o]=t(s.from,s.to,s.velocity);return ps(ps({},s),{},{from:a,velocity:o})}return s},e);return r<1?Tx((i,s)=>tO(s)&&n[i]!=null?ps(ps({},s),{},{velocity:vT(s.velocity,n[i].velocity,r),from:vT(s.from,n[i].from,r)}):s,e):Nie(t,n,r-1)};function kPe(t,e,r,n,i,s){var a,o=n.reduce((g,v)=>ps(ps({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),l=()=>Tx((g,v)=>v.from,o),u=()=>!Object.values(o).filter(tO).length,d=null,m=g=>{a||(a=g);var v=g-a,x=v/r.dt;o=Nie(r,o,x),i(ps(ps(ps({},t),e),l())),a=g,u()||(d=s.setTimeout(m))};return()=>(d=s.setTimeout(m),()=>{var g;(g=d)===null||g===void 0||g()})}function APe(t,e,r,n,i,s,a){var o=null,l=i.reduce((m,g)=>{var v=t[g],x=e[g];return v==null||x==null?m:ps(ps({},m),{},{[g]:[v,x]})},{}),u,d=m=>{u||(u=m);var g=(m-u)/n,v=Tx((b,w)=>vT(...w,r(g)),l);if(s(ps(ps(ps({},t),e),v)),g<1)o=a.setTimeout(d);else{var x=Tx((b,w)=>vT(...w,r(1)),l);s(ps(ps(ps({},t),e),x))}};return()=>(o=a.setTimeout(d),()=>{var m;(m=o)===null||m===void 0||m()})}const CPe=(t,e,r,n,i,s)=>{var a=_Pe(t,e);return r==null?()=>(i(ps(ps({},t),e)),()=>{}):r.isStepper===!0?kPe(t,e,r,a,i,s):APe(t,e,r,n,a,i,s)};var yT=1e-4,Iie=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],Oie=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),GH=(t,e)=>r=>{var n=Iie(t,e);return Oie(n,r)},NPe=(t,e)=>r=>{var n=Iie(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return Oie(i,r)},IPe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},OPe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=IPe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},RPe=(t,e,r,n)=>{var i=GH(t,r),s=GH(e,n),a=NPe(t,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,m=d,g=0;g<8;++g){var v=i(m)-d,x=a(m);if(Math.abs(v-d)<yT||x<yT)return s(m);m=o(m-v/x)}return s(m)};return l.isStepper=!1,l},KH=function(){return RPe(...OPe(...arguments))},PPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*r,d=l*n,m=l+(u-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<yT&&Math.abs(m)<yT?[o,0]:[g,m]};return s.isStepper=!0,s.dt=i,s},jPe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return KH(t);case"spring":return PPe();default:if(t.split("(")[0]==="cubic-bezier")return KH(t)}return typeof t=="function"?t:null};function DPe(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class MPe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function LPe(){return DPe(new MPe)}var FPe=C.createContext(LPe);function BPe(t,e){var r=C.useContext(FPe);return C.useMemo(()=>e??r(t),[t,e,r])}var VPe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),Ob={isSsr:VPe()},UPe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},YH={t:0},VN={t:1};function $4(t){var e=_s(t,UPe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=r==="auto"?!Ob.isSsr:r,m=BPe(e.animationId,e.animationManager),[g,v]=C.useState(d?YH:VN),x=C.useRef(null);return C.useEffect(()=>{d||v(VN)},[d]),C.useEffect(()=>{if(!d||!n)return Sb;var b=CPe(YH,VN,jPe(s),i,v,m.getTimeoutController()),w=()=>{x.current=b()};return m.start([l,a,w,i,o]),()=>{m.stop(),x.current&&x.current(),o()}},[d,n,i,s,a,l,o,m]),u(g.t)}function H4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(vx(e)),n=C.useRef(t);return n.current!==t&&(r.current=vx(e),n.current=t),r.current}var zPe=["radius"],$Pe=["radius"],XH,QH,JH,ZH,eq,tq,rq,nq,iq,sq;function aq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function oq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?aq(Object(r),!0).forEach(function(n){HPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):aq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function HPe(t,e,r){return(e=qPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qPe(t){var e=WPe(t,"string");return typeof e=="symbol"?e:e+""}function WPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xT(){return xT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xT.apply(null,arguments)}function lq(t,e){if(t==null)return{};var r,n,i=GPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function GPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ru(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cq=(t,e,r,n,i)=>{var s=qh(r),a=qh(n),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,u=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,m;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,x=4;v<x;v++)g[v]=i[v]>o?o:i[v];m=Ei(XH||(XH=ru(["M",",",""])),t,e+l*g[0]),g[0]>0&&(m+=Ei(QH||(QH=ru(["A ",",",",0,0,",",",",",""])),g[0],g[0],d,t+u*g[0],e)),m+=Ei(JH||(JH=ru(["L ",",",""])),t+r-u*g[1],e),g[1]>0&&(m+=Ei(ZH||(ZH=ru(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],d,t+r,e+l*g[1])),m+=Ei(eq||(eq=ru(["L ",",",""])),t+r,e+n-l*g[2]),g[2]>0&&(m+=Ei(tq||(tq=ru(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],d,t+r-u*g[2],e+n)),m+=Ei(rq||(rq=ru(["L ",",",""])),t+u*g[3],e+n),g[3]>0&&(m+=Ei(nq||(nq=ru(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],d,t,e+n-l*g[3])),m+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);m=Ei(iq||(iq=ru(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*b,b,b,d,t+u*b,e,t+r-u*b,e,b,b,d,t+r,e+l*b,t+r,e+n-l*b,b,b,d,t+r-u*b,e+n,t+u*b,e+n,b,b,d,t,e+n-l*b)}else m=Ei(sq||(sq=ru(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return m},uq={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},Rie=t=>{var e=_s(t,uq),r=C.useRef(null),[n,i]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var J=r.current.getTotalLength();J&&i(J)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:m,animationDuration:g,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:b}=e,w=C.useRef(o),_=C.useRef(l),k=C.useRef(s),A=C.useRef(a),R=C.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),P=H4(R,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var j=Xr("recharts-rectangle",d);if(!b){var S=Ya(e),{radius:I}=S,O=lq(S,zPe);return C.createElement("path",xT({},O,{x:qh(s),y:qh(a),width:qh(o),height:qh(l),radius:typeof u=="number"?u:void 0,className:j,d:cq(s,a,o,l,u)}))}var D=w.current,M=_.current,F=k.current,U=A.current,le="0px ".concat(n===-1?1:n,"px"),de="".concat(n,"px 0px"),Z=Cie(["strokeDasharray"],g,typeof m=="string"?m:uq.animationEasing);return C.createElement($4,{animationId:P,key:P,canBegin:n>0,duration:g,easing:m,isActive:b,begin:v},J=>{var he=sa(D,o,J),ee=sa(M,l,J),ve=sa(F,s,J),H=sa(U,a,J);r.current&&(w.current=he,_.current=ee,k.current=ve,A.current=H);var B;x?J>0?B={transition:Z,strokeDasharray:de}:B={strokeDasharray:le}:B={strokeDasharray:de};var q=Ya(e),{radius:W}=q,Y=lq(q,$Pe);return C.createElement("path",xT({},Y,{radius:typeof u=="number"?u:void 0,className:j,d:cq(ve,H,he,ee,u),ref:r,style:oq(oq({},B),e.style)}))})};function dq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function hq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dq(Object(r),!0).forEach(function(n){KPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KPe(t,e,r){return(e=YPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YPe(t){var e=XPe(t,"string");return typeof e=="symbol"?e:e+""}function XPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bT=Math.PI/180,QPe=t=>t*180/Math.PI,as=(t,e,r,n)=>({x:t+Math.cos(-bT*n)*r,y:e+Math.sin(-bT*n)*r}),Pie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},JPe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},ZPe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=JPe({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:a,angle:QPe(l),angleInRadian:l}},eje=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},tje=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},rje=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:s}=ZPe({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=eje(e),d=s,m;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;m=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;m=d>=u&&d<=l}return m?hq(hq({},e),{},{radius:i,angle:tje(d,e)}):null};function jie(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=as(e,r,n,i),o=as(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}var fq,mq,pq,gq,vq,yq,xq;function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rO.apply(null,arguments)}function D0(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var nje=(t,e)=>{var r=Na(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},Z2=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+n,d=Math.asin(o/u)/bT,m=l?i:i+s*d,g=as(e,r,u,m),v=as(e,r,n,m),x=l?i-s*d:i,b=as(e,r,u*Math.cos(d*bT),x);return{center:g,circleTangency:v,lineTangency:b,theta:d}},Die=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=nje(s,a),l=s+o,u=as(e,r,i,s),d=as(e,r,i,l),m=Ei(fq||(fq=D0(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(s>l),d.x,d.y);if(n>0){var g=as(e,r,n,s),v=as(e,r,n,l);m+=Ei(mq||(mq=D0(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(o)>180),+(s<=l),g.x,g.y)}else m+=Ei(pq||(pq=D0(["L ",","," Z"])),e,r);return m},ije=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,d=Na(u-l),{circleTangency:m,lineTangency:g,theta:v}=Z2({cx:e,cy:r,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:w}=Z2({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),_=o?Math.abs(l-u):Math.abs(l-u)-v-w;if(_<0)return a?Ei(gq||(gq=D0(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):Die({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var k=Ei(vq||(vq=D0(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(d<0),m.x,m.y,i,i,+(_>180),+(d<0),x.x,x.y,s,s,+(d<0),b.x,b.y);if(n>0){var{circleTangency:A,lineTangency:R,theta:P}=Z2({cx:e,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:j,lineTangency:S,theta:I}=Z2({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),O=o?Math.abs(l-u):Math.abs(l-u)-P-I;if(O<0&&s===0)return"".concat(k,"L").concat(e,",").concat(r,"Z");k+=Ei(yq||(yq=D0(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,s,s,+(d<0),j.x,j.y,n,n,+(O>180),+(d>0),A.x,A.y,s,s,+(d<0),R.x,R.y)}else k+=Ei(xq||(xq=D0(["L",",","Z"])),e,r);return k},sje={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},Mie=t=>{var e=_s(t,sje),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:m}=e;if(s<i||u===d)return null;var g=Xr("recharts-sector",m),v=s-i,x=tl(a,v,0,!0),b;return x>0&&Math.abs(u-d)<360?b=ije({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):b=Die({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),C.createElement("path",rO({},Ya(e),{className:g,d:b}))};function aje(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(fne(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=as(n,i,s,o),u=as(n,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return jie(e)}}var UN={},zN={},$N={},bq;function oje(){return bq||(bq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Sne();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})($N)),$N}var wq;function lje(){return wq||(wq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oje();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(zN)),zN}var _q;function cje(){return _q||(_q=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=kne(),r=lje();function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}t.range=n})(UN)),UN}var HN,Eq;function uje(){return Eq||(Eq=1,HN=cje().range),HN}var dje=uje();const Lie=ll(dje);function af(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function hje(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function Zj(t){let e,r,n;t.length!==2?(e=af,r=(o,l)=>af(t(o),l),n=(o,l)=>t(o)-l):(e=t===af||t===hje?t:fje,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const m=u+d>>>1;r(o[m],l)<0?u=m+1:d=m}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const m=u+d>>>1;r(o[m],l)<=0?u=m+1:d=m}while(u<d)}return u}function a(o,l,u=0,d=o.length){const m=i(o,l,u,d-1);return m>u&&n(o[m-1],l)>-n(o[m],l)?m-1:m}return{left:i,center:a,right:s}}function fje(){return 0}function Fie(t){return t===null?NaN:+t}function*mje(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const pje=Zj(af),Rb=pje.right;Zj(Fie).center;class Tq extends Map{constructor(e,r=yje){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(Sq(this,e))}has(e){return super.has(Sq(this,e))}set(e,r){return super.set(gje(this,e),r)}delete(e){return super.delete(vje(this,e))}}function Sq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function gje({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function vje({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function yje(t){return t!==null&&typeof t=="object"?t.valueOf():t}function xje(t=af){if(t===af)return Bie;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function Bie(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const bje=Math.sqrt(50),wje=Math.sqrt(10),_je=Math.sqrt(2);function wT(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=bje?10:s>=wje?5:s>=_je?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?wT(t,e,r*2):[o,l,u]}function nO(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?wT(e,t,r):wT(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function iO(t,e,r){return e=+e,t=+t,r=+r,wT(t,e,r)[2]}function sO(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?iO(e,t,r):iO(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function kq(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function Aq(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function Vie(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?Bie:xje(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),m=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*m*(l-m)/l)*(u-l/2<0?-1:1),v=Math.max(r,Math.floor(e-u*m/l+g)),x=Math.min(n,Math.floor(e+(l-u)*m/l+g));Vie(t,e,v,x,i)}const s=t[e];let a=r,o=n;for(Xy(t,r,e),i(t[n],s)>0&&Xy(t,r,n);a<o;){for(Xy(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Xy(t,r,o):(++o,Xy(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Xy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function Eje(t,e,r){if(t=Float64Array.from(mje(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return Aq(t);if(e>=1)return kq(t);var n,i=(n-1)*e,s=Math.floor(i),a=kq(Vie(t,s).subarray(0,s+1)),o=Aq(t.subarray(s+1));return a+(o-a)*(i-s)}}function Tje(t,e,r=Fie){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function Sje(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Yl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function qd(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const aO=Symbol("implicit");function e8(){var t=new Tq,e=[],r=[],n=aO;function i(s){let a=t.get(s);if(a===void 0){if(n!==aO)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new Tq;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return e8(e,r).unknown(n)},Yl.apply(i,arguments),i}function t8(){var t=e8().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete t.unknown;function m(){var g=e().length,v=i<n,x=v?i:n,b=v?n:i;s=(b-x)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),x+=(b-x-s*(g-l))*d,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var w=Sje(g).map(function(_){return x+s*_});return r(v?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),m()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,m()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,o=!0,m()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(o=!!g,m()):o},t.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),m()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),m()):l},t.paddingOuter=function(g){return arguments.length?(u=+g,m()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),m()):d},t.copy=function(){return t8(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Yl.apply(m(),arguments)}function Uie(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return Uie(e())},t}function kje(){return Uie(t8.apply(null,arguments).paddingInner(1))}function r8(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function zie(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Pb(){}var Sx=.7,_T=1/Sx,Eg="\\s*([+-]?\\d+)\\s*",kx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",_u="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Aje=/^#([0-9a-f]{3,8})$/,Cje=new RegExp(`^rgb\\(${Eg},${Eg},${Eg}\\)$`),Nje=new RegExp(`^rgb\\(${_u},${_u},${_u}\\)$`),Ije=new RegExp(`^rgba\\(${Eg},${Eg},${Eg},${kx}\\)$`),Oje=new RegExp(`^rgba\\(${_u},${_u},${_u},${kx}\\)$`),Rje=new RegExp(`^hsl\\(${kx},${_u},${_u}\\)$`),Pje=new RegExp(`^hsla\\(${kx},${_u},${_u},${kx}\\)$`),Cq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};r8(Pb,Ax,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:Nq,formatHex:Nq,formatHex8:jje,formatHsl:Dje,formatRgb:Iq,toString:Iq});function Nq(){return this.rgb().formatHex()}function jje(){return this.rgb().formatHex8()}function Dje(){return $ie(this).formatHsl()}function Iq(){return this.rgb().formatRgb()}function Ax(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=Aje.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?Oq(e):r===3?new bo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?e_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?e_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Cje.exec(t))?new bo(e[1],e[2],e[3],1):(e=Nje.exec(t))?new bo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Ije.exec(t))?e_(e[1],e[2],e[3],e[4]):(e=Oje.exec(t))?e_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Rje.exec(t))?jq(e[1],e[2]/100,e[3]/100,1):(e=Pje.exec(t))?jq(e[1],e[2]/100,e[3]/100,e[4]):Cq.hasOwnProperty(t)?Oq(Cq[t]):t==="transparent"?new bo(NaN,NaN,NaN,0):null}function Oq(t){return new bo(t>>16&255,t>>8&255,t&255,1)}function e_(t,e,r,n){return n<=0&&(t=e=r=NaN),new bo(t,e,r,n)}function Mje(t){return t instanceof Pb||(t=Ax(t)),t?(t=t.rgb(),new bo(t.r,t.g,t.b,t.opacity)):new bo}function oO(t,e,r,n){return arguments.length===1?Mje(t):new bo(t,e,r,n??1)}function bo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}r8(bo,oO,zie(Pb,{brighter(t){return t=t==null?_T:Math.pow(_T,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Sx:Math.pow(Sx,t),new bo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new bo(W0(this.r),W0(this.g),W0(this.b),ET(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:Rq,formatHex:Rq,formatHex8:Lje,formatRgb:Pq,toString:Pq}));function Rq(){return`#${M0(this.r)}${M0(this.g)}${M0(this.b)}`}function Lje(){return`#${M0(this.r)}${M0(this.g)}${M0(this.b)}${M0((isNaN(this.opacity)?1:this.opacity)*255)}`}function Pq(){const t=ET(this.opacity);return`${t===1?"rgb(":"rgba("}${W0(this.r)}, ${W0(this.g)}, ${W0(this.b)}${t===1?")":`, ${t})`}`}function ET(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function W0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function M0(t){return t=W0(t),(t<16?"0":"")+t.toString(16)}function jq(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new gc(t,e,r,n)}function $ie(t){if(t instanceof gc)return new gc(t.h,t.s,t.l,t.opacity);if(t instanceof Pb||(t=Ax(t)),!t)return new gc;if(t instanceof gc)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new gc(a,o,l,t.opacity)}function Fje(t,e,r,n){return arguments.length===1?$ie(t):new gc(t,e,r,n??1)}function gc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}r8(gc,Fje,zie(Pb,{brighter(t){return t=t==null?_T:Math.pow(_T,t),new gc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Sx:Math.pow(Sx,t),new gc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new bo(qN(t>=240?t-240:t+120,i,n),qN(t,i,n),qN(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new gc(Dq(this.h),t_(this.s),t_(this.l),ET(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ET(this.opacity);return`${t===1?"hsl(":"hsla("}${Dq(this.h)}, ${t_(this.s)*100}%, ${t_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function Dq(t){return t=(t||0)%360,t<0?t+360:t}function t_(t){return Math.max(0,Math.min(1,t||0))}function qN(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const n8=t=>()=>t;function Bje(t,e){return function(r){return t+r*e}}function Vje(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function Uje(t){return(t=+t)==1?Hie:function(e,r){return r-e?Vje(e,r,t):n8(isNaN(e)?r:e)}}function Hie(t,e){var r=e-t;return r?Bje(t,r):n8(isNaN(t)?e:t)}const Mq=(function t(e){var r=Uje(e);function n(i,s){var a=r((i=oO(i)).r,(s=oO(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=Hie(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n})(1);function zje(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function $je(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Hje(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Fv(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function qje(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function TT(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Wje(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Fv(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var lO=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,WN=new RegExp(lO.source,"g");function Gje(t){return function(){return t}}function Kje(t){return function(e){return t(e)+""}}function Yje(t,e){var r=lO.lastIndex=WN.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=lO.exec(t))&&(i=WN.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:TT(n,i)})),r=WN.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?Kje(l[0].x):Gje(e):(e=l.length,function(u){for(var d=0,m;d<e;++d)o[(m=l[d]).i]=m.x(u);return o.join("")})}function Fv(t,e){var r=typeof e,n;return e==null||r==="boolean"?n8(e):(r==="number"?TT:r==="string"?(n=Ax(e))?(e=n,Mq):Yje:e instanceof Ax?Mq:e instanceof Date?qje:$je(e)?zje:Array.isArray(e)?Hje:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Wje:TT)(t,e)}function i8(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function Xje(t,e){e===void 0&&(e=t,t=Fv);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function Qje(t){return function(){return t}}function ST(t){return+t}var Lq=[0,1];function Ha(t){return t}function cO(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:Qje(isNaN(e)?NaN:.5)}function Jje(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function Zje(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=cO(i,n),s=r(a,s)):(n=cO(n,i),s=r(s,a)),function(o){return s(n(o))}}function e8e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=cO(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=Rb(t,o,1,n)-1;return s[l](i[l](o))}}function jb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function q4(){var t=Lq,e=Lq,r=Fv,n,i,s,a=Ha,o,l,u;function d(){var g=Math.min(t.length,e.length);return a!==Ha&&(a=Jje(t[0],t[g-1])),o=g>2?e8e:Zje,l=u=null,m}function m(g){return g==null||isNaN(g=+g)?s:(l||(l=o(t.map(n),e,r)))(n(a(g)))}return m.invert=function(g){return a(i((u||(u=o(e,t.map(n),TT)))(g)))},m.domain=function(g){return arguments.length?(t=Array.from(g,ST),d()):t.slice()},m.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},m.rangeRound=function(g){return e=Array.from(g),r=i8,d()},m.clamp=function(g){return arguments.length?(a=g?!0:Ha,d()):a!==Ha},m.interpolate=function(g){return arguments.length?(r=g,d()):r},m.unknown=function(g){return arguments.length?(s=g,m):s},function(g,v){return n=g,i=v,d()}}function s8(){return q4()(Ha,Ha)}function t8e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function kT(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function lv(t){return t=kT(Math.abs(t)),t?t[1]:NaN}function r8e(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function n8e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var i8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Cx(t){if(!(e=i8e.exec(t)))throw new Error("invalid format: "+t);var e;return new a8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Cx.prototype=a8.prototype;function a8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}a8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function s8e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var qie;function a8e(t,e){var r=kT(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(qie=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+kT(t,Math.max(0,e+s-1))[0]}function Fq(t,e){var r=kT(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const Bq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:t8e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>Fq(t*100,e),r:Fq,s:a8e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function Vq(t){return t}var Uq=Array.prototype.map,zq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function o8e(t){var e=t.grouping===void 0||t.thousands===void 0?Vq:r8e(Uq.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?Vq:n8e(Uq.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(m){m=Cx(m);var g=m.fill,v=m.align,x=m.sign,b=m.symbol,w=m.zero,_=m.width,k=m.comma,A=m.precision,R=m.trim,P=m.type;P==="n"?(k=!0,P="g"):Bq[P]||(A===void 0&&(A=12),R=!0,P="g"),(w||g==="0"&&v==="=")&&(w=!0,g="0",v="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",S=b==="$"?n:/[%p]/.test(P)?a:"",I=Bq[P],O=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(M){var F=j,U=S,le,de,Z;if(P==="c")U=I(M)+U,M="";else{M=+M;var J=M<0||1/M<0;if(M=isNaN(M)?l:I(Math.abs(M),A),R&&(M=s8e(M)),J&&+M==0&&x!=="+"&&(J=!1),F=(J?x==="("?x:o:x==="-"||x==="("?"":x)+F,U=(P==="s"?zq[8+qie/3]:"")+U+(J&&x==="("?")":""),O){for(le=-1,de=M.length;++le<de;)if(Z=M.charCodeAt(le),48>Z||Z>57){U=(Z===46?i+M.slice(le+1):M.slice(le))+U,M=M.slice(0,le);break}}}k&&!w&&(M=e(M,1/0));var he=F.length+M.length+U.length,ee=he<_?new Array(_-he+1).join(g):"";switch(k&&w&&(M=e(ee+M,ee.length?_-U.length:1/0),ee=""),v){case"<":M=F+M+U+ee;break;case"=":M=F+ee+M+U;break;case"^":M=ee.slice(0,he=ee.length>>1)+F+M+U+ee.slice(he);break;default:M=ee+F+M+U;break}return s(M)}return D.toString=function(){return m+""},D}function d(m,g){var v=u((m=Cx(m),m.type="f",m)),x=Math.max(-8,Math.min(8,Math.floor(lv(g)/3)))*3,b=Math.pow(10,-x),w=zq[8+x/3];return function(_){return v(b*_)+w}}return{format:u,formatPrefix:d}}var r_,o8,Wie;l8e({thousands:",",grouping:[3],currency:["$",""]});function l8e(t){return r_=o8e(t),o8=r_.format,Wie=r_.formatPrefix,r_}function c8e(t){return Math.max(0,-lv(Math.abs(t)))}function u8e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(lv(e)/3)))*3-lv(Math.abs(t)))}function d8e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,lv(e)-lv(t))+1}function Gie(t,e,r,n){var i=sO(t,e,r),s;switch(n=Cx(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=u8e(i,a))&&(n.precision=s),Wie(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=d8e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=c8e(i))&&(n.precision=s-(n.type==="%")*2);break}}return o8(n)}function Ff(t){var e=t.domain;return t.ticks=function(r){var n=e();return nO(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Gie(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=iO(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Kie(){var t=s8();return t.copy=function(){return jb(t,Kie())},Yl.apply(t,arguments),Ff(t)}function Yie(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,ST),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Yie(t).unknown(e)},t=arguments.length?Array.from(t,ST):[0,1],Ff(r)}function Xie(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function $q(t){return Math.log(t)}function Hq(t){return Math.exp(t)}function h8e(t){return-Math.log(-t)}function f8e(t){return-Math.exp(-t)}function m8e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function p8e(t){return t===10?m8e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function g8e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function qq(t){return(e,r)=>-t(-e,r)}function l8(t){const e=t($q,Hq),r=e.domain;let n=10,i,s;function a(){return i=g8e(n),s=p8e(n),r()[0]<0?(i=qq(i),s=qq(s),t(h8e,f8e)):t($q,Hq),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const m=d<u;m&&([u,d]=[d,u]);let g=i(u),v=i(d),x,b;const w=o==null?10:+o;let _=[];if(!(n%1)&&v-g<w){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(x=1;x<n;++x)if(b=g<0?x/s(-g):x*s(g),!(b<u)){if(b>d)break;_.push(b)}}else for(;g<=v;++g)for(x=n-1;x>=1;--x)if(b=g>0?x/s(-g):x*s(g),!(b<u)){if(b>d)break;_.push(b)}_.length*2<w&&(_=nO(u,d,w))}else _=nO(g,v,Math.min(v-g,w)).map(s);return m?_.reverse():_},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=Cx(l)).precision==null&&(l.trim=!0),l=o8(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let m=d/s(Math.round(i(d)));return m*n<n-.5&&(m*=n),m<=u?l(d):""}},e.nice=()=>r(Xie(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Qie(){const t=l8(q4()).domain([1,10]);return t.copy=()=>jb(t,Qie()).base(t.base()),Yl.apply(t,arguments),t}function Wq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Gq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function c8(t){var e=1,r=t(Wq(e),Gq(e));return r.constant=function(n){return arguments.length?t(Wq(e=+n),Gq(e)):e},Ff(r)}function Jie(){var t=c8(q4());return t.copy=function(){return jb(t,Jie()).constant(t.constant())},Yl.apply(t,arguments)}function Kq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function v8e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function y8e(t){return t<0?-t*t:t*t}function u8(t){var e=t(Ha,Ha),r=1;function n(){return r===1?t(Ha,Ha):r===.5?t(v8e,y8e):t(Kq(r),Kq(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},Ff(e)}function d8(){var t=u8(q4());return t.copy=function(){return jb(t,d8()).exponent(t.exponent())},Yl.apply(t,arguments),t}function x8e(){return d8.apply(null,arguments).exponent(.5)}function Yq(t){return Math.sign(t)*t*t}function b8e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Zie(){var t=s8(),e=[0,1],r=!1,n;function i(s){var a=b8e(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(Yq(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,ST)).map(Yq)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Zie(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Yl.apply(i,arguments),Ff(i)}function ese(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=Tje(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Rb(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(af),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return ese().domain(t).range(e).unknown(n)},Yl.apply(s,arguments)}function tse(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Rb(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return tse().domain([t,e]).range(i).unknown(s)},Yl.apply(Ff(a),arguments)}function rse(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Rb(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return rse().domain(t).range(e).unknown(r)},Yl.apply(i,arguments)}const GN=new Date,KN=new Date;function Es(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>Es(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(GN.setTime(+s),KN.setTime(+a),t(GN),t(KN),Math.floor(r(GN,KN))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const AT=Es(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);AT.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Es(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):AT);AT.range;const dd=1e3,Bl=dd*60,hd=Bl*60,Dd=hd*24,h8=Dd*7,Xq=Dd*30,YN=Dd*365,L0=Es(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*dd)},(t,e)=>(e-t)/dd,t=>t.getUTCSeconds());L0.range;const f8=Es(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*dd)},(t,e)=>{t.setTime(+t+e*Bl)},(t,e)=>(e-t)/Bl,t=>t.getMinutes());f8.range;const m8=Es(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Bl)},(t,e)=>(e-t)/Bl,t=>t.getUTCMinutes());m8.range;const p8=Es(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*dd-t.getMinutes()*Bl)},(t,e)=>{t.setTime(+t+e*hd)},(t,e)=>(e-t)/hd,t=>t.getHours());p8.range;const g8=Es(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*hd)},(t,e)=>(e-t)/hd,t=>t.getUTCHours());g8.range;const Db=Es(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Bl)/Dd,t=>t.getDate()-1);Db.range;const W4=Es(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dd,t=>t.getUTCDate()-1);W4.range;const nse=Es(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Dd,t=>Math.floor(t/Dd));nse.range;function Fm(t){return Es(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Bl)/h8)}const G4=Fm(0),CT=Fm(1),w8e=Fm(2),_8e=Fm(3),cv=Fm(4),E8e=Fm(5),T8e=Fm(6);G4.range;CT.range;w8e.range;_8e.range;cv.range;E8e.range;T8e.range;function Bm(t){return Es(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/h8)}const K4=Bm(0),NT=Bm(1),S8e=Bm(2),k8e=Bm(3),uv=Bm(4),A8e=Bm(5),C8e=Bm(6);K4.range;NT.range;S8e.range;k8e.range;uv.range;A8e.range;C8e.range;const v8=Es(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());v8.range;const y8=Es(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());y8.range;const Md=Es(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());Md.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Es(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});Md.range;const Ld=Es(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Ld.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Es(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Ld.range;function ise(t,e,r,n,i,s){const a=[[L0,1,dd],[L0,5,5*dd],[L0,15,15*dd],[L0,30,30*dd],[s,1,Bl],[s,5,5*Bl],[s,15,15*Bl],[s,30,30*Bl],[i,1,hd],[i,3,3*hd],[i,6,6*hd],[i,12,12*hd],[n,1,Dd],[n,2,2*Dd],[r,1,h8],[e,1,Xq],[e,3,3*Xq],[t,1,YN]];function o(u,d,m){const g=d<u;g&&([u,d]=[d,u]);const v=m&&typeof m.range=="function"?m:l(u,d,m),x=v?v.range(u,+d+1):[];return g?x.reverse():x}function l(u,d,m){const g=Math.abs(d-u)/m,v=Zj(([,,w])=>w).right(a,g);if(v===a.length)return t.every(sO(u/YN,d/YN,m));if(v===0)return AT.every(Math.max(sO(u,d,m),1));const[x,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return x.every(b)}return[o,l]}const[N8e,I8e]=ise(Ld,y8,K4,nse,g8,m8),[O8e,R8e]=ise(Md,v8,G4,Db,p8,f8);function XN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function QN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function Qy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function P8e(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=Jy(i),d=Zy(i),m=Jy(s),g=Zy(s),v=Jy(a),x=Zy(a),b=Jy(o),w=Zy(o),_=Jy(l),k=Zy(l),A={a:J,A:he,b:ee,B:ve,c:null,d:rW,e:rW,f:rDe,g:hDe,G:mDe,H:Z8e,I:eDe,j:tDe,L:sse,m:nDe,M:iDe,p:H,q:B,Q:sW,s:aW,S:sDe,u:aDe,U:oDe,V:lDe,w:cDe,W:uDe,x:null,X:null,y:dDe,Y:fDe,Z:pDe,"%":iW},R={a:q,A:W,b:Y,B:ue,c:null,d:nW,e:nW,f:xDe,g:NDe,G:ODe,H:gDe,I:vDe,j:yDe,L:ose,m:bDe,M:wDe,p:pe,q:ce,Q:sW,s:aW,S:_De,u:EDe,U:TDe,V:SDe,w:kDe,W:ADe,x:null,X:null,y:CDe,Y:IDe,Z:RDe,"%":iW},P={a:D,A:M,b:F,B:U,c:le,d:eW,e:eW,f:Y8e,g:Zq,G:Jq,H:tW,I:tW,j:q8e,L:K8e,m:H8e,M:W8e,p:O,q:$8e,Q:Q8e,s:J8e,S:G8e,u:F8e,U:B8e,V:V8e,w:L8e,W:U8e,x:de,X:Z,y:Zq,Y:Jq,Z:z8e,"%":X8e};A.x=j(r,A),A.X=j(n,A),A.c=j(e,A),R.x=j(r,R),R.X=j(n,R),R.c=j(e,R);function j(ie,ye){return function(Ve){var G=[],tt=-1,me=0,He=ie.length,Ke,Ie,et;for(Ve instanceof Date||(Ve=new Date(+Ve));++tt<He;)ie.charCodeAt(tt)===37&&(G.push(ie.slice(me,tt)),(Ie=Qq[Ke=ie.charAt(++tt)])!=null?Ke=ie.charAt(++tt):Ie=Ke==="e"?" ":"0",(et=ye[Ke])&&(Ke=et(Ve,Ie)),G.push(Ke),me=tt+1);return G.push(ie.slice(me,tt)),G.join("")}}function S(ie,ye){return function(Ve){var G=Qy(1900,void 0,1),tt=I(G,ie,Ve+="",0),me,He;if(tt!=Ve.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ye&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(me=QN(Qy(G.y,0,1)),He=me.getUTCDay(),me=He>4||He===0?NT.ceil(me):NT(me),me=W4.offset(me,(G.V-1)*7),G.y=me.getUTCFullYear(),G.m=me.getUTCMonth(),G.d=me.getUTCDate()+(G.w+6)%7):(me=XN(Qy(G.y,0,1)),He=me.getDay(),me=He>4||He===0?CT.ceil(me):CT(me),me=Db.offset(me,(G.V-1)*7),G.y=me.getFullYear(),G.m=me.getMonth(),G.d=me.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),He="Z"in G?QN(Qy(G.y,0,1)).getUTCDay():XN(Qy(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(He+5)%7:G.w+G.U*7-(He+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,QN(G)):XN(G)}}function I(ie,ye,Ve,G){for(var tt=0,me=ye.length,He=Ve.length,Ke,Ie;tt<me;){if(G>=He)return-1;if(Ke=ye.charCodeAt(tt++),Ke===37){if(Ke=ye.charAt(tt++),Ie=P[Ke in Qq?ye.charAt(tt++):Ke],!Ie||(G=Ie(ie,Ve,G))<0)return-1}else if(Ke!=Ve.charCodeAt(G++))return-1}return G}function O(ie,ye,Ve){var G=u.exec(ye.slice(Ve));return G?(ie.p=d.get(G[0].toLowerCase()),Ve+G[0].length):-1}function D(ie,ye,Ve){var G=v.exec(ye.slice(Ve));return G?(ie.w=x.get(G[0].toLowerCase()),Ve+G[0].length):-1}function M(ie,ye,Ve){var G=m.exec(ye.slice(Ve));return G?(ie.w=g.get(G[0].toLowerCase()),Ve+G[0].length):-1}function F(ie,ye,Ve){var G=_.exec(ye.slice(Ve));return G?(ie.m=k.get(G[0].toLowerCase()),Ve+G[0].length):-1}function U(ie,ye,Ve){var G=b.exec(ye.slice(Ve));return G?(ie.m=w.get(G[0].toLowerCase()),Ve+G[0].length):-1}function le(ie,ye,Ve){return I(ie,e,ye,Ve)}function de(ie,ye,Ve){return I(ie,r,ye,Ve)}function Z(ie,ye,Ve){return I(ie,n,ye,Ve)}function J(ie){return a[ie.getDay()]}function he(ie){return s[ie.getDay()]}function ee(ie){return l[ie.getMonth()]}function ve(ie){return o[ie.getMonth()]}function H(ie){return i[+(ie.getHours()>=12)]}function B(ie){return 1+~~(ie.getMonth()/3)}function q(ie){return a[ie.getUTCDay()]}function W(ie){return s[ie.getUTCDay()]}function Y(ie){return l[ie.getUTCMonth()]}function ue(ie){return o[ie.getUTCMonth()]}function pe(ie){return i[+(ie.getUTCHours()>=12)]}function ce(ie){return 1+~~(ie.getUTCMonth()/3)}return{format:function(ie){var ye=j(ie+="",A);return ye.toString=function(){return ie},ye},parse:function(ie){var ye=S(ie+="",!1);return ye.toString=function(){return ie},ye},utcFormat:function(ie){var ye=j(ie+="",R);return ye.toString=function(){return ie},ye},utcParse:function(ie){var ye=S(ie+="",!0);return ye.toString=function(){return ie},ye}}}var Qq={"-":"",_:" ",0:"0"},Gs=/^\s*\d+/,j8e=/^%/,D8e=/[\\^$*+?|[\]().{}]/g;function Vr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function M8e(t){return t.replace(D8e,"\\$&")}function Jy(t){return new RegExp("^(?:"+t.map(M8e).join("|")+")","i")}function Zy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function L8e(t,e,r){var n=Gs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function F8e(t,e,r){var n=Gs.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function B8e(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function V8e(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function U8e(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Jq(t,e,r){var n=Gs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function Zq(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function z8e(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function $8e(t,e,r){var n=Gs.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function H8e(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function eW(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function q8e(t,e,r){var n=Gs.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function tW(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function W8e(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function G8e(t,e,r){var n=Gs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function K8e(t,e,r){var n=Gs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Y8e(t,e,r){var n=Gs.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function X8e(t,e,r){var n=j8e.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Q8e(t,e,r){var n=Gs.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function J8e(t,e,r){var n=Gs.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function rW(t,e){return Vr(t.getDate(),e,2)}function Z8e(t,e){return Vr(t.getHours(),e,2)}function eDe(t,e){return Vr(t.getHours()%12||12,e,2)}function tDe(t,e){return Vr(1+Db.count(Md(t),t),e,3)}function sse(t,e){return Vr(t.getMilliseconds(),e,3)}function rDe(t,e){return sse(t,e)+"000"}function nDe(t,e){return Vr(t.getMonth()+1,e,2)}function iDe(t,e){return Vr(t.getMinutes(),e,2)}function sDe(t,e){return Vr(t.getSeconds(),e,2)}function aDe(t){var e=t.getDay();return e===0?7:e}function oDe(t,e){return Vr(G4.count(Md(t)-1,t),e,2)}function ase(t){var e=t.getDay();return e>=4||e===0?cv(t):cv.ceil(t)}function lDe(t,e){return t=ase(t),Vr(cv.count(Md(t),t)+(Md(t).getDay()===4),e,2)}function cDe(t){return t.getDay()}function uDe(t,e){return Vr(CT.count(Md(t)-1,t),e,2)}function dDe(t,e){return Vr(t.getFullYear()%100,e,2)}function hDe(t,e){return t=ase(t),Vr(t.getFullYear()%100,e,2)}function fDe(t,e){return Vr(t.getFullYear()%1e4,e,4)}function mDe(t,e){var r=t.getDay();return t=r>=4||r===0?cv(t):cv.ceil(t),Vr(t.getFullYear()%1e4,e,4)}function pDe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+Vr(e/60|0,"0",2)+Vr(e%60,"0",2)}function nW(t,e){return Vr(t.getUTCDate(),e,2)}function gDe(t,e){return Vr(t.getUTCHours(),e,2)}function vDe(t,e){return Vr(t.getUTCHours()%12||12,e,2)}function yDe(t,e){return Vr(1+W4.count(Ld(t),t),e,3)}function ose(t,e){return Vr(t.getUTCMilliseconds(),e,3)}function xDe(t,e){return ose(t,e)+"000"}function bDe(t,e){return Vr(t.getUTCMonth()+1,e,2)}function wDe(t,e){return Vr(t.getUTCMinutes(),e,2)}function _De(t,e){return Vr(t.getUTCSeconds(),e,2)}function EDe(t){var e=t.getUTCDay();return e===0?7:e}function TDe(t,e){return Vr(K4.count(Ld(t)-1,t),e,2)}function lse(t){var e=t.getUTCDay();return e>=4||e===0?uv(t):uv.ceil(t)}function SDe(t,e){return t=lse(t),Vr(uv.count(Ld(t),t)+(Ld(t).getUTCDay()===4),e,2)}function kDe(t){return t.getUTCDay()}function ADe(t,e){return Vr(NT.count(Ld(t)-1,t),e,2)}function CDe(t,e){return Vr(t.getUTCFullYear()%100,e,2)}function NDe(t,e){return t=lse(t),Vr(t.getUTCFullYear()%100,e,2)}function IDe(t,e){return Vr(t.getUTCFullYear()%1e4,e,4)}function ODe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?uv(t):uv.ceil(t),Vr(t.getUTCFullYear()%1e4,e,4)}function RDe(){return"+0000"}function iW(){return"%"}function sW(t){return+t}function aW(t){return Math.floor(+t/1e3)}var Mp,cse,use;PDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function PDe(t){return Mp=P8e(t),cse=Mp.format,Mp.parse,use=Mp.utcFormat,Mp.utcParse,Mp}function jDe(t){return new Date(t)}function DDe(t){return t instanceof Date?+t:+new Date(+t)}function x8(t,e,r,n,i,s,a,o,l,u){var d=s8(),m=d.invert,g=d.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),w=u("%I %p"),_=u("%a %d"),k=u("%b %d"),A=u("%B"),R=u("%Y");function P(j){return(l(j)<j?v:o(j)<j?x:a(j)<j?b:s(j)<j?w:n(j)<j?i(j)<j?_:k:r(j)<j?A:R)(j)}return d.invert=function(j){return new Date(m(j))},d.domain=function(j){return arguments.length?g(Array.from(j,DDe)):g().map(jDe)},d.ticks=function(j){var S=g();return t(S[0],S[S.length-1],j??10)},d.tickFormat=function(j,S){return S==null?P:u(S)},d.nice=function(j){var S=g();return(!j||typeof j.range!="function")&&(j=e(S[0],S[S.length-1],j??10)),j?g(Xie(S,j)):d},d.copy=function(){return jb(d,x8(t,e,r,n,i,s,a,o,l,u))},d}function MDe(){return Yl.apply(x8(O8e,R8e,Md,v8,G4,Db,p8,f8,L0,cse).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function LDe(){return Yl.apply(x8(N8e,I8e,Ld,y8,K4,W4,g8,m8,L0,use).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Y4(){var t=0,e=1,r,n,i,s,a=Ha,o=!1,l;function u(m){return m==null||isNaN(m=+m)?l:a(i===0?.5:(m=(s(m)-r)*i,o?Math.max(0,Math.min(1,m)):m))}u.domain=function(m){return arguments.length?([t,e]=m,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(m){return arguments.length?(o=!!m,u):o},u.interpolator=function(m){return arguments.length?(a=m,u):a};function d(m){return function(g){var v,x;return arguments.length?([v,x]=g,a=m(v,x),u):[a(0),a(1)]}}return u.range=d(Fv),u.rangeRound=d(i8),u.unknown=function(m){return arguments.length?(l=m,u):l},function(m){return s=m,r=m(t),n=m(e),i=r===n?0:1/(n-r),u}}function Bf(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function dse(){var t=Ff(Y4()(Ha));return t.copy=function(){return Bf(t,dse())},qd.apply(t,arguments)}function hse(){var t=l8(Y4()).domain([1,10]);return t.copy=function(){return Bf(t,hse()).base(t.base())},qd.apply(t,arguments)}function fse(){var t=c8(Y4());return t.copy=function(){return Bf(t,fse()).constant(t.constant())},qd.apply(t,arguments)}function b8(){var t=u8(Y4());return t.copy=function(){return Bf(t,b8()).exponent(t.exponent())},qd.apply(t,arguments)}function FDe(){return b8.apply(null,arguments).exponent(.5)}function mse(){var t=[],e=Ha;function r(n){if(n!=null&&!isNaN(n=+n))return e((Rb(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(af),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>Eje(t,s/n))},r.copy=function(){return mse(e).domain(t)},qd.apply(r,arguments)}function X4(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,u=Ha,d,m=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-s)*(n*b<n*s?o:l),u(m?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(b){return arguments.length?(m=!!b,v):m},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(w){var _,k,A;return arguments.length?([_,k,A]=w,u=Xje(b,[_,k,A]),v):[u(0),u(.5),u(1)]}}return v.range=x(Fv),v.rangeRound=x(i8),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,i=b(t),s=b(e),a=b(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v}}function pse(){var t=Ff(X4()(Ha));return t.copy=function(){return Bf(t,pse())},qd.apply(t,arguments)}function gse(){var t=l8(X4()).domain([.1,1,10]);return t.copy=function(){return Bf(t,gse()).base(t.base())},qd.apply(t,arguments)}function vse(){var t=c8(X4());return t.copy=function(){return Bf(t,vse()).constant(t.constant())},qd.apply(t,arguments)}function w8(){var t=u8(X4());return t.copy=function(){return Bf(t,w8()).exponent(t.exponent())},qd.apply(t,arguments)}function BDe(){return w8.apply(null,arguments).exponent(.5)}const u1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:t8,scaleDiverging:pse,scaleDivergingLog:gse,scaleDivergingPow:w8,scaleDivergingSqrt:BDe,scaleDivergingSymlog:vse,scaleIdentity:Yie,scaleImplicit:aO,scaleLinear:Kie,scaleLog:Qie,scaleOrdinal:e8,scalePoint:kje,scalePow:d8,scaleQuantile:ese,scaleQuantize:tse,scaleRadial:Zie,scaleSequential:dse,scaleSequentialLog:hse,scaleSequentialPow:b8,scaleSequentialQuantile:mse,scaleSequentialSqrt:FDe,scaleSequentialSymlog:fse,scaleSqrt:x8e,scaleSymlog:Jie,scaleThreshold:rse,scaleTime:MDe,scaleUtc:LDe,tickFormat:Gie},Symbol.toStringTag,{value:"Module"}));var Wd=t=>t.chartData,Q4=Re([Wd],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),yse=(t,e,r,n)=>n?Q4(t):Wd(t),VDe=(t,e,r)=>r?Q4(t):Wd(t);function _f(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(ni(e)&&ni(r))return!0}return!1}function oW(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function xse(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(ni(r))i=r;else if(typeof r=="function")return;if(ni(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(_f(a))return a}}function UDe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(_f(n))return oW(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(wt(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&yH.test(i)){var l=yH.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(wt(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&xH.test(s)){var d=xH.exec(s);if(d==null||d[1]==null||e==null)o=void 0;else{var m=+d[1];o=e[1]+m}}else o=e==null?void 0:e[1];var g=[a,o];if(_f(g))return e==null?g:oW(g,e,r)}}}var Bv=1e9,zDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},E8,ri=!0,Wl="[DecimalError] ",G0=Wl+"Invalid argument: ",_8=Wl+"Exponent out of range: ",Vv=Math.floor,E0=Math.pow,$De=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Yo,js=1e7,zn=7,bse=9007199254740991,IT=Vv(bse/zn),yt={};yt.absoluteValue=yt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};yt.comparedTo=yt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};yt.decimalPlaces=yt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*zn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};yt.dividedBy=yt.div=function(t){return xd(this,new this.constructor(t))};yt.dividedToIntegerBy=yt.idiv=function(t){var e=this,r=e.constructor;return Pn(xd(e,new r(t),0,1),r.precision)};yt.equals=yt.eq=function(t){return!this.cmp(t)};yt.exponent=function(){return ls(this)};yt.greaterThan=yt.gt=function(t){return this.cmp(t)>0};yt.greaterThanOrEqualTo=yt.gte=function(t){return this.cmp(t)>=0};yt.isInteger=yt.isint=function(){return this.e>this.d.length-2};yt.isNegative=yt.isneg=function(){return this.s<0};yt.isPositive=yt.ispos=function(){return this.s>0};yt.isZero=function(){return this.s===0};yt.lessThan=yt.lt=function(t){return this.cmp(t)<0};yt.lessThanOrEqualTo=yt.lte=function(t){return this.cmp(t)<1};yt.logarithm=yt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Yo))throw Error(Wl+"NaN");if(r.s<1)throw Error(Wl+(r.s?"NaN":"-Infinity"));return r.eq(Yo)?new n(0):(ri=!1,e=xd(Nx(r,s),Nx(t,s),s),ri=!0,Pn(e,i))};yt.minus=yt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?Ese(e,t):wse(e,(t.s=-t.s,t))};yt.modulo=yt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Wl+"NaN");return r.s?(ri=!1,e=xd(r,t,0,1).times(t),ri=!0,r.minus(e)):Pn(new n(r),i)};yt.naturalExponential=yt.exp=function(){return _se(this)};yt.naturalLogarithm=yt.ln=function(){return Nx(this)};yt.negated=yt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};yt.plus=yt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?wse(e,t):Ese(e,(t.s=-t.s,t))};yt.precision=yt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(G0+t);if(e=ls(i)+1,n=i.d.length-1,r=n*zn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};yt.squareRoot=yt.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Wl+"NaN")}for(t=ls(o),ri=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=du(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=Vv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(xd(o,s,a+2)).times(.5),du(s.d).slice(0,a)===(e=du(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Pn(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return ri=!0,Pn(n,r)};yt.times=yt.mul=function(t){var e,r,n,i,s,a,o,l,u,d=this,m=d.constructor,g=d.d,v=(t=new m(t)).d;if(!d.s||!t.s)return new m(0);for(t.s*=d.s,r=d.e+t.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+v[n]*g[i-n-1]+e,s[i--]=o%js|0,e=o/js|0;s[i]=(s[i]+e)%js|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ri?Pn(t,m.precision):t};yt.toDecimalPlaces=yt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(Cu(t,0,Bv),e===void 0?e=n.rounding:Cu(e,0,8),Pn(r,t+ls(r)+1,e))};yt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=pm(n,!0):(Cu(t,0,Bv),e===void 0?e=i.rounding:Cu(e,0,8),n=Pn(new i(n),t+1,e),r=pm(n,!0,t+1)),r};yt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?pm(i):(Cu(t,0,Bv),e===void 0?e=s.rounding:Cu(e,0,8),n=Pn(new s(i),t+ls(i)+1,e),r=pm(n.abs(),!1,t+ls(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};yt.toInteger=yt.toint=function(){var t=this,e=t.constructor;return Pn(new e(t),ls(t)+1,e.rounding)};yt.toNumber=function(){return+this};yt.toPower=yt.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Yo);if(o=new l(o),!o.s){if(t.s<1)throw Error(Wl+"Infinity");return o}if(o.eq(Yo))return o;if(n=l.precision,t.eq(Yo))return Pn(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=bse){for(i=new l(Yo),e=Math.ceil(n/zn+4),ri=!1;r%2&&(i=i.times(o),cW(i.d,e)),r=Vv(r/2),r!==0;)o=o.times(o),cW(o.d,e);return ri=!0,t.s<0?new l(Yo).div(i):Pn(i,n)}}else if(s<0)throw Error(Wl+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ri=!1,i=t.times(Nx(o,n+u)),ri=!0,i=_se(i),i.s=s,i};yt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ls(i),n=pm(i,r<=s.toExpNeg||r>=s.toExpPos)):(Cu(t,1,Bv),e===void 0?e=s.rounding:Cu(e,0,8),i=Pn(new s(i),t,e),r=ls(i),n=pm(i,t<=r||r<=s.toExpNeg,t)),n};yt.toSignificantDigits=yt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(Cu(t,1,Bv),e===void 0?e=n.rounding:Cu(e,0,8)),Pn(new n(r),t,e)};yt.toString=yt.valueOf=yt.val=yt.toJSON=yt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ls(t),r=t.constructor;return pm(t,e<=r.toExpNeg||e>=r.toExpPos)};function wse(t,e){var r,n,i,s,a,o,l,u,d=t.constructor,m=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ri?Pn(e,m):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,i=a,o=l.length),a=Math.ceil(m/zn),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/js|0,l[s]%=js;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ri?Pn(e,m):e}function Cu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(G0+t)}function du(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=zn-n.length,r&&(s+=Ph(r)),s+=n;a=t[e],n=a+"",r=zn-n.length,r&&(s+=Ph(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var xd=(function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%js|0,a=s/js|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*js+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,u,d,m,g,v,x,b,w,_,k,A,R,P,j,S,I,O=n.constructor,D=n.s==i.s?1:-1,M=n.d,F=i.d;if(!n.s)return new O(n);if(!i.s)throw Error(Wl+"Division by zero");for(l=n.e-i.e,S=F.length,P=M.length,v=new O(D),x=v.d=[],u=0;F[u]==(M[u]||0);)++u;if(F[u]>(M[u]||0)&&--l,s==null?k=s=O.precision:a?k=s+(ls(n)-ls(i))+1:k=s,k<0)return new O(0);if(k=k/zn+2|0,u=0,S==1)for(d=0,F=F[0],k++;(u<P||d)&&k--;u++)A=d*js+(M[u]||0),x[u]=A/F|0,d=A%F|0;else{for(d=js/(F[0]+1)|0,d>1&&(F=t(F,d),M=t(M,d),S=F.length,P=M.length),R=S,b=M.slice(0,S),w=b.length;w<S;)b[w++]=0;I=F.slice(),I.unshift(0),j=F[0],F[1]>=js/2&&++j;do d=0,o=e(F,b,S,w),o<0?(_=b[0],S!=w&&(_=_*js+(b[1]||0)),d=_/j|0,d>1?(d>=js&&(d=js-1),m=t(F,d),g=m.length,w=b.length,o=e(m,b,g,w),o==1&&(d--,r(m,S<g?I:F,g))):(d==0&&(o=d=1),m=F.slice()),g=m.length,g<w&&m.unshift(0),r(b,m,w),o==-1&&(w=b.length,o=e(F,b,S,w),o<1&&(d++,r(b,S<w?I:F,w))),w=b.length):o===0&&(d++,b=[0]),x[u++]=d,o&&b[0]?b[w++]=M[R]||0:(b=[M[R]],w=1);while((R++<P||b[0]!==void 0)&&k--)}return x[0]||x.shift(),v.e=l,Pn(v,a?s+ls(v)+1:s)}})();function _se(t,e){var r,n,i,s,a,o,l=0,u=0,d=t.constructor,m=d.precision;if(ls(t)>16)throw Error(_8+ls(t));if(!t.s)return new d(Yo);for(ri=!1,o=m,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(E0(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new d(Yo),d.precision=o;;){if(i=Pn(i.times(t),o),r=r.times(++l),a=s.plus(xd(i,r,o)),du(a.d).slice(0,o)===du(s.d).slice(0,o)){for(;u--;)s=Pn(s.times(s),o);return d.precision=m,e==null?(ri=!0,Pn(s,m)):s}s=a}}function ls(t){for(var e=t.e*zn,r=t.d[0];r>=10;r/=10)e++;return e}function JN(t,e,r){if(e>t.LN10.sd())throw ri=!0,r&&(t.precision=r),Error(Wl+"LN10 precision limit exceeded");return Pn(new t(t.LN10),e)}function Ph(t){for(var e="";t--;)e+="0";return e}function Nx(t,e){var r,n,i,s,a,o,l,u,d,m=1,g=10,v=t,x=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(Wl+(v.s?"NaN":"-Infinity"));if(v.eq(Yo))return new b(0);if(e==null?(ri=!1,u=w):u=e,v.eq(10))return e==null&&(ri=!0),JN(b,u);if(u+=g,b.precision=u,r=du(x),n=r.charAt(0),s=ls(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=du(v.d),n=r.charAt(0),m++;s=ls(v),n>1?(v=new b("0."+r),s++):v=new b(n+"."+r.slice(1))}else return l=JN(b,u+2,w).times(s+""),v=Nx(new b(n+"."+r.slice(1)),u-g).plus(l),b.precision=w,e==null?(ri=!0,Pn(v,w)):v;for(o=a=v=xd(v.minus(Yo),v.plus(Yo),u),d=Pn(v.times(v),u),i=3;;){if(a=Pn(a.times(d),u),l=o.plus(xd(a,new b(i),u)),du(l.d).slice(0,u)===du(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(JN(b,u+2,w).times(s+""))),o=xd(o,new b(m),u),b.precision=w,e==null?(ri=!0,Pn(o,w)):o;o=l,i+=2}}function lW(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=Vv(r/zn),t.d=[],n=(r+1)%zn,r<0&&(n+=zn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=zn;n<i;)t.d.push(+e.slice(n,n+=zn));e=e.slice(n),n=zn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ri&&(t.e>IT||t.e<-IT))throw Error(_8+r)}else t.s=0,t.e=0,t.d=[0];return t}function Pn(t,e,r){var n,i,s,a,o,l,u,d,m=t.d;for(a=1,s=m[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=zn,i=e,u=m[d=0];else{if(d=Math.ceil((n+1)/zn),s=m.length,d>=s)return t;for(u=s=m[d],a=1;s>=10;s/=10)a++;n%=zn,i=n-zn+a}if(r!==void 0&&(s=E0(10,a-i-1),o=u/s%10|0,l=e<0||m[d+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/E0(10,a-i):0:m[d-1])%10&1||r==(t.s<0?8:7))),e<1||!m[0])return l?(s=ls(t),m.length=1,e=e-s-1,m[0]=E0(10,(zn-e%zn)%zn),t.e=Vv(-e/zn)||0):(m.length=1,m[0]=t.e=t.s=0),t;if(n==0?(m.length=d,s=1,d--):(m.length=d+1,s=E0(10,zn-n),m[d]=i>0?(u/E0(10,a-i)%E0(10,i)|0)*s:0),l)for(;;)if(d==0){(m[0]+=s)==js&&(m[0]=1,++t.e);break}else{if(m[d]+=s,m[d]!=js)break;m[d--]=0,s=1}for(n=m.length;m[--n]===0;)m.pop();if(ri&&(t.e>IT||t.e<-IT))throw Error(_8+ls(t));return t}function Ese(t,e){var r,n,i,s,a,o,l,u,d,m,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ri?Pn(e,v):e;if(l=t.d,m=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(d=a<0,d?(r=l,a=-a,o=m.length):(r=m,n=u,o=l.length),i=Math.max(Math.ceil(v/zn),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=m.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=m[i]){d=l[i]<m[i];break}a=0}for(d&&(r=l,l=m,m=r,e.s=-e.s),o=l.length,i=m.length-o;i>0;--i)l[o++]=0;for(i=m.length;i>a;){if(l[--i]<m[i]){for(s=i;s&&l[--s]===0;)l[s]=js-1;--l[s],l[i]+=js}l[i]-=m[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ri?Pn(e,v):e):new g(0)}function pm(t,e,r){var n,i=ls(t),s=du(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+Ph(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+Ph(-i-1)+s,r&&(n=r-a)>0&&(s+=Ph(n))):i>=a?(s+=Ph(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+Ph(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=Ph(n))),t.s<0?"-"+s:s}function cW(t,e){if(t.length>e)return t.length=e,!0}function Tse(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(G0+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return lW(a,s.toString())}else if(typeof s!="string")throw Error(G0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,$De.test(s))lW(a,s);else throw Error(G0+s)}if(i.prototype=yt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=Tse,i.config=i.set=HDe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function HDe(t){if(!t||typeof t!="object")throw Error(Wl+"Object expected");var e,r,n,i=["precision",1,Bv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(Vv(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(G0+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(G0+r+": "+n);return this}var E8=Tse(zDe);Yo=new E8(1);const fn=E8;var qDe=t=>t,Sse={},kse=t=>t===Sse,uW=t=>function e(){return arguments.length===0||arguments.length===1&&kse(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},Ase=(t,e)=>t===1?e:uW(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==Sse).length;return s>=t?e(...n):Ase(t-s,uW(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=n.map(d=>kse(d)?o.shift():d);return e(...u,...o)}))}),WDe=t=>Ase(t.length,t),uO=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},GDe=WDe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),KDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return qDe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}};function Cse(t){var e;return t===0?e=1:e=Math.floor(new fn(t).abs().log(10).toNumber())+1,e}function Nse(t,e,r){for(var n=new fn(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var Ise=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},Ose=(t,e,r)=>{if(t.lte(0))return new fn(0);var n=Cse(t.toNumber()),i=new fn(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new fn(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?new fn(l.toNumber()):new fn(Math.ceil(l.toNumber()))},YDe=(t,e,r)=>{var n=new fn(1),i=new fn(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new fn(10).pow(Cse(t)-1),i=new fn(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new fn(Math.floor(t)))}else t===0?i=new fn(Math.floor((e-1)/2)):r||(i=new fn(Math.floor(t)));var a=Math.floor((e-1)/2),o=KDe(GDe(l=>i.add(new fn(l-a).mul(n)).toNumber()),uO);return o(0,e)},Rse=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new fn(0),tickMin:new fn(0),tickMax:new fn(0)};var a=Ose(new fn(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new fn(0):(o=new fn(e).add(r).div(2),o=o.sub(new fn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new fn(r).sub(o).div(a).toNumber()),d=l+u+1;return d>n?Rse(e,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:a,tickMin:o.sub(new fn(l).mul(a)),tickMax:o.add(new fn(u).mul(a))})},XDe=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=Ise([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...uO(0,i-1).map(()=>1/0)]:[...uO(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(o===l)return YDe(o,i,s);var{step:d,tickMin:m,tickMax:g}=Rse(o,l,a,s,0),v=Nse(m,g.add(new fn(.1).mul(d)),d);return r>n?v.reverse():v},QDe=function(e,r){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=Ise([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var l=Math.max(r,2),u=Ose(new fn(o).sub(a).div(l-1),s,0),d=[...Nse(new fn(a),new fn(o),u),o];return s===!1&&(d=d.map(m=>Math.round(m))),n>i?d.reverse():d},JDe=t=>t.rootProps.barCategoryGap,Mb=t=>t.rootProps.stackOffset,Pse=t=>t.rootProps.reverseStackOrder,T8=t=>t.options.chartName,S8=t=>t.rootProps.syncId,jse=t=>t.rootProps.syncMethod,k8=t=>t.options.eventEmitter,ZDe=t=>t.rootProps.baseValue,la={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},ad={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},$o={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},J4=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},eMe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:ad.angleAxisId,includeHidden:!1,name:void 0,reversed:ad.reversed,scale:ad.scale,tick:ad.tick,tickCount:void 0,ticks:void 0,type:ad.type,unit:void 0},tMe={allowDataOverflow:$o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$o.scale,tick:$o.tick,tickCount:$o.tickCount,ticks:void 0,type:$o.type,unit:void 0},rMe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:ad.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:ad.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:ad.scale,tick:ad.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},nMe={allowDataOverflow:$o.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:$o.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$o.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$o.scale,tick:$o.tick,tickCount:$o.tickCount,ticks:void 0,type:"category",unit:void 0},A8=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?rMe:eMe,C8=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?nMe:tMe,Z4=t=>t.polarOptions,N8=Re([$d,Hd,Ws],Pie),Dse=Re([Z4,N8],(t,e)=>{if(t!=null)return tl(t.innerRadius,e,0)}),Mse=Re([Z4,N8],(t,e)=>{if(t!=null)return tl(t.outerRadius,e,e*.8)}),iMe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},Lse=Re([Z4],iMe);Re([A8,Lse],J4);var Fse=Re([N8,Dse,Mse],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});Re([C8,Fse],J4);var Bse=Re([gn,Z4,Dse,Mse,$d,Hd],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:tl(a,i,i/2),cy:tl(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),ii=(t,e)=>e,Lb=(t,e,r)=>r;function I8(t){return t==null?void 0:t.id}function Vse(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var d=I8(o);u.forEach((m,g)=>{var v=s==null||i?g:String(qn(m,s,null)),x=qn(m,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[d]:x}),a.set(v,b)})}}),Array.from(a.values())}function O8(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var ek=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function tk(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function sMe(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Ts=t=>{var e=gn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Uv=t=>t.tooltip.settings.axisId;function dW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function OT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dW(Object(r),!0).forEach(function(n){aMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aMe(t,e,r){return(e=oMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oMe(t){var e=lMe(t,"string");return typeof e=="symbol"?e:e+""}function lMe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dO=[0,"auto"],Ns={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},Use=(t,e)=>t.cartesianAxis.xAxis[e],Gd=(t,e)=>{var r=Use(t,e);return r??Ns},Is={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:dO,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:Nb},zse=(t,e)=>t.cartesianAxis.yAxis[e],Kd=(t,e)=>{var r=zse(t,e);return r??Is},cMe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},R8=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??cMe},mi=(t,e,r)=>{switch(e){case"xAxis":return Gd(t,r);case"yAxis":return Kd(t,r);case"zAxis":return R8(t,r);case"angleAxis":return A8(t,r);case"radiusAxis":return C8(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},uMe=(t,e,r)=>{switch(e){case"xAxis":return Gd(t,r);case"yAxis":return Kd(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Fb=(t,e,r)=>{switch(e){case"xAxis":return Gd(t,r);case"yAxis":return Kd(t,r);case"angleAxis":return A8(t,r);case"radiusAxis":return C8(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},$se=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function P8(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Hse=t=>t.graphicalItems.cartesianItems,dMe=Re([ii,Lb],P8),j8=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Bb=Re([Hse,mi,dMe],j8,{memoizeOptions:{resultEqualityCheck:tk}}),qse=Re([Bb],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(O8)),Wse=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),hMe=Re([Bb],Wse),D8=t=>t.map(e=>e.data).filter(Boolean).flat(1),fMe=Re([Bb],D8,{memoizeOptions:{resultEqualityCheck:tk}}),M8=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},L8=Re([fMe,yse],M8),F8=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:qn(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:qn(i,n)}))):t.map(n=>({value:n})),rk=Re([L8,mi,Bb],F8);function Gse(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function H_(t){if(ku(t)||t instanceof Date){var e=Number(t);if(ni(e))return e}}function hW(t){if(Array.isArray(t)){var e=[H_(t[0]),H_(t[1])];return _f(e)?e:void 0}var r=H_(t);if(r!=null)return[r,r]}function Fd(t){return t.map(H_).filter(o6e)}function mMe(t,e,r){return!r||typeof e!="number"||Pc(e)?[]:r.length?Fd(r.flatMap(n=>{var i=qn(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!ni(s)||!ni(a)))return[e-s,e+a]})):[]}var Ss=t=>{var e=Ts(t),r=Uv(t);return Fb(t,e,r)},Vb=Re([Ss],t=>t==null?void 0:t.dataKey),pMe=Re([qse,yse,Ss],Vse),Kse=(t,e,r,n)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=n?[...l].reverse():l,d=u.map(I8);return[o,{stackedData:POe(t,d,r),graphicalItems:u}]}))},Yse=Re([pMe,qse,Mb,Pse],Kse),Xse=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var a=LOe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},gMe=Re([mi],t=>t.allowDataOverflow),B8=t=>{var e;if(t==null||!("domain"in t))return dO;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=Fd(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:dO},V8=Re([mi],B8),U8=Re([V8,gMe],xse),vMe=Re([Yse,Wd,ii,U8],Xse,{memoizeOptions:{resultEqualityCheck:ek}}),nk=t=>t.errorBars,yMe=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>Gse(r,n)),RT=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},z8=(t,e,r,n,i)=>{var s,a;if(r.length>0&&t.forEach(o=>{r.forEach(l=>{var u,d,m=(u=n[l.id])===null||u===void 0?void 0:u.filter(_=>Gse(i,_)),g=qn(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=mMe(o,g,m);if(v.length>=2){var x=Math.min(...v),b=Math.max(...v);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var w=hW(g);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),a=a==null?w[1]:Math.max(a,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=hW(qn(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),ni(s)&&ni(a))return[s,a]},xMe=Re([L8,mi,hMe,nk,ii],z8,{memoizeOptions:{resultEqualityCheck:ek}});function bMe(t){var{value:e}=t;if(ku(e)||e instanceof Date)return e}var wMe=(t,e,r)=>{var n=t.map(bMe).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&une(n))?Lie(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},Qse=t=>t.referenceElements.dots,zv=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),_Me=Re([Qse,ii,Lb],zv),Jse=t=>t.referenceElements.areas,EMe=Re([Jse,ii,Lb],zv),Zse=t=>t.referenceElements.lines,TMe=Re([Zse,ii,Lb],zv),eae=(t,e)=>{if(t!=null){var r=Fd(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},SMe=Re(_Me,ii,eae),tae=(t,e)=>{if(t!=null){var r=Fd(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},kMe=Re([EMe,ii],tae);function AMe(t){var e;if(t.x!=null)return Fd([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Fd(r)}function CMe(t){var e;if(t.y!=null)return Fd([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Fd(r)}var rae=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?AMe(n):CMe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},NMe=Re([TMe,ii],rae),IMe=Re(SMe,NMe,kMe,(t,e,r)=>RT(t,r,e)),$8=(t,e,r,n,i,s,a,o)=>{if(r!=null)return r;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?RT(n,s,i):RT(s,i);return UDe(e,u,t.allowDataOverflow)},OMe=Re([mi,V8,U8,vMe,xMe,IMe,gn,ii],$8,{memoizeOptions:{resultEqualityCheck:ek}}),RMe=[0,1],H8=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=zd(e,s);if(u&&o==null){var d;return Lie(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?wMe(n,t,u):i==="expand"?RMe:a}},q8=Re([mi,gn,L8,rk,Mb,ii,OMe],H8),nae=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(Tb(s));return o in u1?o:"point"}}},$v=Re([mi,gn,$se,T8,ii],nae);function PMe(t){if(t!=null){if(t in u1)return u1[t]();var e="scale".concat(Tb(t));if(e in u1)return u1[e]()}}function W8(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=PMe(e);if(i!=null){var s=i.domain(r).range(n);return NOe(s),s}}}var G8=(t,e,r)=>{var n=B8(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&_f(t))return XDe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&_f(t))return QDe(t,e.tickCount,e.allowDecimals)}},K8=Re([q8,Fb,$v],G8),Y8=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&_f(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},jMe=Re([mi,q8,K8,ii],Y8),DMe=Re(rk,mi,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Fd(t.map(m=>m.value))).sort((m,g)=>m-g),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var d=u-l;r=Math.min(r,d)}}return r/a}}),iae=Re(DMe,gn,JDe,Ws,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!ni(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=tl(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),MMe=(t,e,r)=>{var n=Gd(t,e);return n==null||typeof n.padding!="string"?0:iae(t,"xAxis",e,r,n.padding)},LMe=(t,e,r)=>{var n=Kd(t,e);return n==null||typeof n.padding!="string"?0:iae(t,"yAxis",e,r,n.padding)},FMe=Re(Gd,MMe,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),BMe=Re(Kd,LMe,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),VMe=Re([Ws,FMe,L4,M4,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),UMe=Re([Ws,gn,BMe,L4,M4,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Ub=(t,e,r,n)=>{var i;switch(e){case"xAxis":return VMe(t,r,n);case"yAxis":return UMe(t,r,n);case"zAxis":return(i=R8(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return Lse(t);case"radiusAxis":return Fse(t,r);default:return}},sae=Re([mi,Ub],J4),ik=Re([mi,$v,jMe,sae],W8);Re([Bb,nk,ii],yMe);function aae(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var sk=(t,e)=>e,ak=(t,e,r)=>r,zMe=Re(j4,sk,ak,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(aae)),$Me=Re(D4,sk,ak,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(aae)),oae=(t,e)=>({width:t.width,height:e.height}),HMe=(t,e)=>{var r=typeof e.width=="number"?e.width:Nb;return{width:r,height:t.height}},qMe=Re(Ws,Gd,oae),WMe=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},GMe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},KMe=Re(Hd,Ws,zMe,sk,ak,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=oae(e,o);a==null&&(a=WMe(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),YMe=Re($d,Ws,$Me,sk,ak,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=HMe(e,o);a==null&&(a=GMe(e,n,t));var u=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),XMe=(t,e)=>{var r=Gd(t,e);if(r!=null)return KMe(t,r.orientation,r.mirror)},QMe=Re([Ws,Gd,XMe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),JMe=(t,e)=>{var r=Kd(t,e);if(r!=null)return YMe(t,r.orientation,r.mirror)},ZMe=Re([Ws,Kd,JMe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),e7e=Re(Ws,Kd,(t,e)=>{var r=typeof e.width=="number"?e.width:Nb;return{width:r,height:t.height}}),lae=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=zd(t,n),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&une(l))return l}},X8=Re([gn,rk,mi,ii],lae),cae=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=zd(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},Q8=Re([gn,rk,Fb,ii],cae),fW=Re([gn,uMe,$v,ik,X8,Q8,Ub,K8,ii],(t,e,r,n,i,s,a,o,l)=>{if(e!=null){var u=zd(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:r,scale:n}}}),t7e=(t,e,r,n,i,s,a,o,l)=>{if(!(e==null||n==null)){var u=zd(t,l),{type:d,ticks:m,tickCount:g}=e,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/v:0;x=l==="angleAxis"&&s!=null&&s.length>=2?Na(s[0]-s[1])*2*x:x;var b=m||i;if(b){var w=b.map((_,k)=>{var A=a?a.indexOf(_):_;return{index:k,coordinate:n(A)+x,value:_,offset:x}});return w.filter(_=>ni(_.coordinate))}return u&&o?o.map((_,k)=>({coordinate:n(_)+x,value:_,index:k,offset:x})).filter(_=>ni(_.coordinate)):n.ticks?n.ticks(g).map(_=>({coordinate:n(_)+x,value:_,offset:x})):n.domain().map((_,k)=>({coordinate:n(_)+x,value:a?a[_]:_,index:k,offset:x}))}},uae=Re([gn,Fb,$v,ik,K8,Ub,X8,Q8,ii],t7e),r7e=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=zd(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Na(n[0]-n[1])*2*u:u,o&&s?s.map((d,m)=>({coordinate:r(d)+u,value:d,index:m,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,m)=>({coordinate:r(d)+u,value:i?i[d]:d,index:m,offset:u}))}},dae=Re([gn,Fb,ik,Ub,X8,Q8,ii],r7e),hae=Re(mi,ik,(t,e)=>{if(!(t==null||e==null))return OT(OT({},t),{},{scale:e})}),n7e=Re([mi,$v,q8,sae],W8);Re((t,e,r)=>R8(t,r),n7e,(t,e)=>{if(!(t==null||e==null))return OT(OT({},t),{},{scale:e})});var i7e=Re([gn,j4,D4],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),fae=t=>t.options.defaultTooltipEventType,mae=t=>t.options.validateTooltipEventTypes;function pae(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function J8(t,e){var r=fae(t),n=mae(t);return pae(e,r,n)}function s7e(t){return Tt(e=>J8(e,t))}var gae=(t,e)=>{var r,n=Number(e);if(!(Pc(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},a7e=t=>t.tooltip.settings,Uh={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},o7e={itemInteraction:{click:Uh,hover:Uh},axisInteraction:{click:Uh,hover:Uh},keyboardInteraction:Uh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},vae=ko({name:"tooltip",initialState:o7e,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=Sc(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Zn()},removeTooltipEntrySettings:{reducer(t,e){var r=Sc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Zn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:l7e,replaceTooltipEntrySettings:c7e,removeTooltipEntrySettings:u7e,setTooltipSettingsState:d7e,setActiveMouseOverItemIndex:yae,mouseLeaveItem:h7e,mouseLeaveChart:xae,setActiveClickItemIndex:f7e,setMouseOverAxisIndex:bae,setMouseClickAxisIndex:m7e,setSyncInteraction:hO,setKeyboardInteraction:fO}=vae.actions,p7e=vae.reducer;function mW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mW(Object(r),!0).forEach(function(n){g7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function g7e(t,e,r){return(e=v7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v7e(t){var e=y7e(t,"string");return typeof e=="symbol"?e:e+""}function y7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function x7e(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function b7e(t){return t.index!=null}var wae=(t,e,r,n)=>{if(e==null)return Uh;var i=x7e(t,e,r);if(i==null)return Uh;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(b7e(i)){if(s)return n_(n_({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return n_(n_({},Uh),{},{coordinate:i.coordinate})};function w7e(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function _7e(t,e){var r=w7e(t),n=e[0],i=e[1];if(r===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return r>=s&&r<=a}function E7e(t,e,r){if(r==null||e==null)return!0;var n=qn(t,e);return n==null||!_f(r)?!0:_7e(n,r)}var Z8=(t,e,r,n)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!ni(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||E7e(u,r,n)?String(l):null},_ae=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},Eae=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},zb=t=>t.options.tooltipPayloadSearcher,Hv=t=>t.tooltip;function pW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function gW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pW(Object(r),!0).forEach(function(n){T7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function T7e(t,e,r){return(e=S7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S7e(t){var e=k7e(t,"string");return typeof e=="symbol"?e:e+""}function k7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A7e(t,e){return t??e}var Tae=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,m=[];return t.reduce((g,v)=>{var x,{dataDefinedOnItem:b,settings:w}=v,_=A7e(b,o),k=Array.isArray(_)?iie(_,u,d):_,A=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:n,R=w==null?void 0:w.nameKey,P;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&a==="axis"?P=dne(k,n,i):P=s(k,e,l,R),Array.isArray(P))P.forEach(S=>{var I=gW(gW({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});g.push(bH({tooltipEntrySettings:I,dataKey:S.dataKey,payload:S.payload,value:qn(S.payload,S.dataKey),name:S.name}))});else{var j;g.push(bH({tooltipEntrySettings:w,dataKey:A,payload:P,value:qn(P,A),name:(j=qn(P,R))!==null&&j!==void 0?j:w==null?void 0:w.name}))}return g},m)}},eD=Re([Ss,gn,$se,T8,Ts],nae),C7e=Re([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),N7e=Re([Ts,Uv],P8),qv=Re([C7e,Ss,N7e],j8,{memoizeOptions:{resultEqualityCheck:tk}}),I7e=Re([qv],t=>t.filter(O8)),O7e=Re([qv],D8,{memoizeOptions:{resultEqualityCheck:tk}}),Wv=Re([O7e,Wd],M8),R7e=Re([I7e,Wd,Ss],Vse),tD=Re([Wv,Ss,qv],F8),Sae=Re([Ss],B8),P7e=Re([Ss],t=>t.allowDataOverflow),kae=Re([Sae,P7e],xse),j7e=Re([qv],t=>t.filter(O8)),D7e=Re([R7e,j7e,Mb,Pse],Kse),M7e=Re([D7e,Wd,Ts,kae],Xse),L7e=Re([qv],Wse),F7e=Re([Wv,Ss,L7e,nk,Ts],z8,{memoizeOptions:{resultEqualityCheck:ek}}),B7e=Re([Qse,Ts,Uv],zv),V7e=Re([B7e,Ts],eae),U7e=Re([Jse,Ts,Uv],zv),z7e=Re([U7e,Ts],tae),$7e=Re([Zse,Ts,Uv],zv),H7e=Re([$7e,Ts],rae),q7e=Re([V7e,H7e,z7e],RT),W7e=Re([Ss,Sae,kae,M7e,F7e,q7e,gn,Ts],$8),$b=Re([Ss,gn,Wv,tD,Mb,Ts,W7e],H8),G7e=Re([$b,Ss,eD],G8),K7e=Re([Ss,$b,G7e,Ts],Y8),Aae=t=>{var e=Ts(t),r=Uv(t),n=!1;return Ub(t,e,r,n)},Cae=Re([Ss,Aae],J4),Nae=Re([Ss,eD,K7e,Cae],W8),Y7e=Re([gn,tD,Ss,Ts],lae),X7e=Re([gn,tD,Ss,Ts],cae),Q7e=(t,e,r,n,i,s,a,o)=>{if(e){var{type:l}=e,u=zd(t,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,m=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return m=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Na(i[0]-i[1])*2*m:m,u&&a?a.map((g,v)=>({coordinate:n(g)+m,value:g,index:v,offset:m})):n.domain().map((g,v)=>({coordinate:n(g)+m,value:s?s[g]:g,index:v,offset:m}))}}},Yd=Re([gn,Ss,eD,Nae,Aae,Y7e,X7e,Ts],Q7e),rD=Re([fae,mae,a7e],(t,e,r)=>pae(r.shared,t,e)),Iae=t=>t.tooltip.settings.trigger,nD=t=>t.tooltip.settings.defaultIndex,Hb=Re([Hv,rD,Iae,nD],wae),dv=Re([Hb,Wv,Vb,$b],Z8),Oae=Re([Yd,dv],gae),Rae=Re([Hb],t=>{if(t)return t.dataKey}),J7e=Re([Hb],t=>{if(t)return t.graphicalItemId}),Pae=Re([Hv,rD,Iae,nD],Eae),Z7e=Re([$d,Hd,gn,Ws,Yd,nD,Pae,zb],_ae),eLe=Re([Hb,Z7e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),tLe=Re([Hb],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),rLe=Re([Pae,dv,Wd,Vb,Oae,zb,rD],Tae),nLe=Re([rLe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function vW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function yW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vW(Object(r),!0).forEach(function(n){iLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iLe(t,e,r){return(e=sLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function sLe(t){var e=aLe(t,"string");return typeof e=="symbol"?e:e+""}function aLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var oLe=()=>Tt(Ss),lLe=()=>{var t=oLe(),e=Tt(Yd),r=Tt(Nae);return dT(!t||!r?void 0:yW(yW({},t),{},{scale:r}),e)};function xW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xW(Object(r),!0).forEach(function(n){cLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cLe(t,e,r){return(e=uLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uLe(t){var e=dLe(t,"string");return typeof e=="symbol"?e:e+""}function dLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hLe=(t,e,r,n)=>{var i=e.find(s=>s&&s.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},fLe=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Lp(Lp(Lp({},n),as(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=n;return Lp(Lp(Lp({},n),as(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function mLe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var jae=(t,e,r,n,i)=>{var s,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,u,d,m,g,v=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[a-1])===null||u===void 0?void 0:u.coordinate,x=(d=r[o])===null||d===void 0?void 0:d.coordinate,b=o>=a-1?(m=r[0])===null||m===void 0?void 0:m.coordinate:(g=r[o+1])===null||g===void 0?void 0:g.coordinate,w=void 0;if(!(v==null||x==null||b==null))if(Na(x-v)!==Na(b-x)){var _=[];if(Na(b-x)===Na(i[1]-i[0])){w=b;var k=x+i[1]-i[0];_[0]=Math.min(k,(k+v)/2),_[1]=Math.max(k,(k+v)/2)}else{w=v;var A=b+i[1]-i[0];_[0]=Math.min(x,(A+x)/2),_[1]=Math.max(x,(A+x)/2)}var R=[Math.min(x,(w+x)/2),Math.max(x,(w+x)/2)];if(t>R[0]&&t<=R[1]||t>=_[0]&&t<=_[1]){var P;return(P=r[o])===null||P===void 0?void 0:P.index}}else{var j=Math.min(v,b),S=Math.max(v,b);if(t>(j+x)/2&&t<=(S+x)/2){var I;return(I=r[o])===null||I===void 0?void 0:I.index}}}else if(e)for(var O=0;O<a;O++){var D=e[O];if(D!=null){var M=e[O+1],F=e[O-1];if(O===0&&M!=null&&t<=(D.coordinate+M.coordinate)/2||O===a-1&&F!=null&&t>(D.coordinate+F.coordinate)/2||O>0&&O<a-1&&F!=null&&M!=null&&t>(D.coordinate+F.coordinate)/2&&t<=(D.coordinate+M.coordinate)/2)return D.index}}return-1},Dae=()=>Tt(T8),iD=(t,e)=>e,Mae=(t,e,r)=>r,sD=(t,e,r,n)=>n,pLe=Re(Yd,t=>T4(t,e=>e.coordinate)),aD=Re([Hv,iD,Mae,sD],wae),oD=Re([aD,Wv,Vb,$b],Z8),gLe=(t,e,r)=>{if(e!=null){var n=Hv(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},Lae=Re([Hv,iD,Mae,sD],Eae),PT=Re([$d,Hd,gn,Ws,Yd,sD,Lae,zb],_ae),vLe=Re([aD,PT],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),Fae=Re([Yd,oD],gae),yLe=Re([Lae,oD,Wd,Vb,Fae,zb,iD],Tae),xLe=Re([aD,oD],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),bLe=(t,e,r,n,i,s,a)=>{if(!(!t||!r||!n||!i)&&mLe(t,a)){var o=FOe(t,e),l=jae(o,s,i,r,n),u=hLe(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},wLe=(t,e,r,n,i,s,a)=>{if(!(!t||!n||!i||!s||!r)){var o=rje(t,r);if(o){var l=BOe(o,e),u=jae(l,a,s,n,i),d=fLe(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},_Le=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?bLe(t,e,n,i,s,a,o):wLe(t,e,r,n,i,s,a)},ELe=Re(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),TLe=Re(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(la)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:sMe}});function bW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bW(Object(r),!0).forEach(function(n){SLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function SLe(t,e,r){return(e=kLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function kLe(t){var e=ALe(t,"string");return typeof e=="symbol"?e:e+""}function ALe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var CLe={},NLe={zIndexMap:Object.values(la).reduce((t,e)=>wW(wW({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),CLe)},ILe=new Set(Object.values(la));function OLe(t){return ILe.has(t)}var Bae=ko({name:"zIndex",initialState:NLe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!OLe(r)&&delete t.zIndexMap[r])},prepare:Zn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Zn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Zn()}}}),{registerZIndexPortal:RLe,unregisterZIndexPortal:PLe,registerZIndexPortalElement:jLe,unregisterZIndexPortalElement:DLe}=Bae.actions,MLe=Bae.reducer;function Fc(t){var{zIndex:e,children:r}=t,n=vRe(),i=n&&e!==void 0&&e!==0,s=Ao(),a=Bn();C.useLayoutEffect(()=>i?(a(RLe({zIndex:e})),()=>{a(PLe({zIndex:e}))}):Sb,[a,e,i]);var o=Tt(l=>ELe(l,e,s));return i?o?zo.createPortal(r,o):null:r}function mO(){return mO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mO.apply(null,arguments)}function _W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function i_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(r),!0).forEach(function(n){LLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LLe(t,e,r){return(e=FLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FLe(t){var e=BLe(t,"string");return typeof e=="symbol"?e:e+""}function BLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VLe(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return C.isValidElement(e)?C.cloneElement(e,n):C.createElement(r,n)}function ULe(t){var e,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=t,m=r,g=n,v=i;if(!l||!m||d!=="ScatterChart"&&u!=="axis")return null;var x,b,w;if(d==="ScatterChart")x=m,b=gPe,w=la.cursorLine;else if(d==="BarChart")x=vPe(o,m,s,a),b=Rie,w=la.cursorRectangle;else if(o==="radial"&&fne(m)){var{cx:_,cy:k,radius:A,startAngle:R,endAngle:P}=jie(m);x={cx:_,cy:k,startAngle:R,endAngle:P,innerRadius:A,outerRadius:A},b=Mie,w=la.cursorLine}else x={points:aje(o,m,s)},b=_g,w=la.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=i_(i_(i_(i_({stroke:"#ccc",pointerEvents:"none"},s),x),nv(l)),{},{payload:g,payloadIndex:v,className:Xr("recharts-tooltip-cursor",j)});return C.createElement(Fc,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},C.createElement(VLe,{cursor:l,cursorComp:b,cursorProps:S}))}function zLe(t){var e=lLe(),r=pie(),n=Lv(),i=Dae();return e==null||r==null||n==null||i==null?null:C.createElement(ULe,mO({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var Vae=C.createContext(null),$Le=()=>C.useContext(Vae),ZN={exports:{}},EW;function HLe(){return EW||(EW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,m,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,m||l,g),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,m;if(this._eventsCount===0)return u;for(m in d=this._events)e.call(d,m)&&u.push(r?m.slice(1):m);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,m=this._events[d];if(!m)return[];if(m.fn)return[m.fn];for(var g=0,v=m.length,x=new Array(v);g<v;g++)x[g]=m[g].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,m=this._events[d];return m?m.fn?1:m.length:0},o.prototype.emit=function(u,d,m,g,v,x){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],_=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),_){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,m),!0;case 4:return w.fn.call(w.context,d,m,g),!0;case 5:return w.fn.call(w.context,d,m,g,v),!0;case 6:return w.fn.call(w.context,d,m,g,v,x),!0}for(A=1,k=new Array(_-1);A<_;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var R=w.length,P;for(A=0;A<R;A++)switch(w[A].once&&this.removeListener(u,w[A].fn,void 0,!0),_){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,d);break;case 3:w[A].fn.call(w[A].context,d,m);break;case 4:w[A].fn.call(w[A].context,d,m,g);break;default:if(!k)for(P=1,k=new Array(_-1);P<_;P++)k[P-1]=arguments[P];w[A].fn.apply(w[A].context,k)}}return!0},o.prototype.on=function(u,d,m){return s(this,u,d,m,!1)},o.prototype.once=function(u,d,m){return s(this,u,d,m,!0)},o.prototype.removeListener=function(u,d,m,g){var v=r?r+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===d&&(!g||x.once)&&(!m||x.context===m)&&a(this,v);else{for(var b=0,w=[],_=x.length;b<_;b++)(x[b].fn!==d||g&&!x[b].once||m&&x[b].context!==m)&&w.push(x[b]);w.length?this._events[v]=w.length===1?w[0]:w:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(ZN)),ZN.exports}var qLe=HLe();const WLe=ll(qLe);var Ix=new WLe,pO="recharts.syncEvent.tooltip",TW="recharts.syncEvent.brush";function Uae(t,e){if(e){var r=Number.parseInt(e,10);if(!Pc(r))return t==null?void 0:t[r]}}var GLe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},zae=ko({name:"options",initialState:GLe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),KLe=zae.reducer,{createEventEmitter:YLe}=zae.actions;function XLe(t){return t.tooltip.syncInteraction}var QLe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},$ae=ko({name:"chartData",initialState:QLe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:SW,setDataStartEndIndexes:JLe,setComputedData:rlt}=$ae.actions,ZLe=$ae.reducer,e9e=["x","y"];function kW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kW(Object(r),!0).forEach(function(n){t9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t9e(t,e,r){return(e=r9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r9e(t){var e=n9e(t,"string");return typeof e=="symbol"?e:e+""}function n9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function i9e(t,e){if(t==null)return{};var r,n,i=s9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function s9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function a9e(){var t=Tt(S8),e=Tt(k8),r=Bn(),n=Tt(jse),i=Tt(Yd),s=Lv(),a=F4(),o=Tt(l=>l.rootProps.className);C.useEffect(()=>{if(t==null)return Sb;var l=(u,d,m)=>{if(e!==m&&t===u){if(n==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x,y:b}=v,w=i9e(v,e9e),{x:_,y:k,width:A,height:R}=d.payload.sourceViewBox,P=Fp(Fp({},w),{},{x:a.x+(A?(x-_)/A:0)*a.width,y:a.y+(R?(b-k)/R:0)*a.height});r(Fp(Fp({},d),{},{payload:Fp(Fp({},d.payload),{},{coordinate:P})}))}else r(d);return}if(i!=null){var j;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=n(i,S);j=i[I]}else n==="value"&&(j=i.find(Z=>String(Z.value)===d.payload.label));var{coordinate:O}=d.payload;if(j==null||d.payload.active===!1||O==null||a==null){r(hO({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:M}=O,F=Math.min(D,a.x+a.width),U=Math.min(M,a.y+a.height),le={x:s==="horizontal"?j.coordinate:F,y:s==="horizontal"?U:j.coordinate},de=hO({active:d.payload.active,coordinate:le,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(de)}}};return Ix.on(pO,l),()=>{Ix.off(pO,l)}},[o,r,e,t,n,i,s,a])}function o9e(){var t=Tt(S8),e=Tt(k8),r=Bn();C.useEffect(()=>{if(t==null)return Sb;var n=(i,s,a)=>{e!==a&&t===i&&r(JLe(s))};return Ix.on(TW,n),()=>{Ix.off(TW,n)}},[r,e,t])}function l9e(){var t=Bn();C.useEffect(()=>{t(YLe())},[t]),a9e(),o9e()}function c9e(t,e,r,n,i,s){var a=Tt(v=>gLe(v,t,e)),o=Tt(k8),l=Tt(S8),u=Tt(jse),d=Tt(XLe),m=d==null?void 0:d.active,g=F4();C.useEffect(()=>{if(!m&&l!=null&&o!=null){var v=hO({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});Ix.emit(pO,l,v,o)}},[m,r,a,i,n,o,l,u,s,g])}function AW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function CW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AW(Object(r),!0).forEach(function(n){u9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function u9e(t,e,r){return(e=d9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function d9e(t){var e=h9e(t,"string");return typeof e=="symbol"?e:e+""}function h9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function f9e(t){return t.dataKey}function m9e(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(YRe,e)}var NW=[],p9e={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function gO(t){var e,r,n=_s(t,p9e),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:m,payloadUniqBy:g,position:v,reverseDirection:x,useTranslate3d:b,wrapperStyle:w,cursor:_,shared:k,trigger:A,defaultIndex:R,portal:P,axisId:j}=n,S=Bn(),I=typeof R=="number"?String(R):R;C.useEffect(()=>{S(d7e({shared:k,trigger:A,axisId:j,active:i,defaultIndex:I}))},[S,k,A,j,i,I]);var O=F4(),D=Aie(),M=s7e(k),{activeIndex:F,isActive:U}=(e=Tt(pe=>xLe(pe,M,A,I)))!==null&&e!==void 0?e:{},le=Tt(pe=>yLe(pe,M,A,I)),de=Tt(pe=>Fae(pe,M,A,I)),Z=Tt(pe=>vLe(pe,M,A,I)),J=le,he=$Le(),ee=(r=i??U)!==null&&r!==void 0?r:!1,[ve,H]=Cne([J,ee]),B=M==="axis"?de:void 0;c9e(M,A,Z,B,F,ee);var q=P??he;if(q==null||O==null||M==null)return null;var W=J??NW;ee||(W=NW),u&&W.length&&(W=Ene(W.filter(pe=>pe.value!=null&&(pe.hide!==!0||n.includeHidden)),g,f9e));var Y=W.length>0,ue=C.createElement(rPe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:ee,coordinate:Z,hasPayload:Y,offset:m,position:v,reverseDirection:x,useTranslate3d:b,viewBox:O,wrapperStyle:w,lastBoundingBox:ve,innerRef:H,hasPortalFromProps:!!P},m9e(l,CW(CW({},n),{},{payload:W,label:B,active:ee,activeIndex:F,coordinate:Z,accessibilityLayer:D})));return C.createElement(C.Fragment,null,zo.createPortal(ue,q),ee&&C.createElement(zLe,{cursor:_,tooltipEventType:M,coordinate:Z,payload:W,index:F}))}var ok=t=>null;ok.displayName="Cell";function g9e(t,e,r){return(e=v9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function v9e(t){var e=y9e(t,"string");return typeof e=="symbol"?e:e+""}function y9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class x9e{constructor(e){g9e(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function IW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?IW(Object(r),!0).forEach(function(n){w9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):IW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function w9e(t,e,r){return(e=_9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _9e(t){var e=E9e(t,"string");return typeof e=="symbol"?e:e+""}function E9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var T9e={cacheSize:2e3,enableCache:!0},Hae=b9e({},T9e),OW=new x9e(Hae.cacheSize),S9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},RW="recharts_measurement_span";function k9e(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var PW=(t,e)=>{try{var r=document.getElementById(RW);r||(r=document.createElement("span"),r.setAttribute("id",RW),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,S9e,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},R1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||Ob.isSsr)return{width:0,height:0};if(!Hae.enableCache)return PW(e,r);var n=k9e(e,r),i=OW.get(n);if(i)return i;var s=PW(e,r);return OW.set(n,s),s},qae;function A9e(t,e,r){return(e=C9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function C9e(t){var e=N9e(t,"string");return typeof e=="symbol"?e:e+""}function N9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var jW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,DW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,I9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,O9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,R9e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},P9e=["cm","mm","pt","pc","in","Q","px"];function j9e(t){return P9e.includes(t)}var ag="NaN";function D9e(t,e){return t*R9e[e]}class na{static parse(e){var r,[,n,i]=(r=O9e.exec(e))!==null&&r!==void 0?r:[];return n==null?na.NaN:new na(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,Pc(e)&&(this.unit=""),r!==""&&!I9e.test(r)&&(this.num=NaN,this.unit=""),j9e(r)&&(this.num=D9e(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new na(NaN,""):new na(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new na(NaN,""):new na(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new na(NaN,""):new na(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new na(NaN,""):new na(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return Pc(this.num)}}qae=na;A9e(na,"NaN",new qae(NaN,""));function Wae(t){if(t==null||t.includes(ag))return ag;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=jW.exec(e))!==null&&r!==void 0?r:[],a=na.parse(n??""),o=na.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return ag;e=e.replace(jW,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,m,g]=(u=DW.exec(e))!==null&&u!==void 0?u:[],v=na.parse(d??""),x=na.parse(g??""),b=m==="+"?v.add(x):v.subtract(x);if(b.isNaN())return ag;e=e.replace(DW,b.toString())}return e}var MW=/\(([^()]*)\)/;function M9e(t){for(var e=t,r;(r=MW.exec(e))!=null;){var[,n]=r;e=e.replace(MW,Wae(n))}return e}function L9e(t){var e=t.replace(/\s+/g,"");return e=M9e(e),e=Wae(e),e}function F9e(t){try{return L9e(t)}catch{return ag}}function e5(t){var e=F9e(t.slice(5,-1));return e===ag?"":e}var B9e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],V9e=["dx","dy","angle","className","breakAll"];function vO(){return vO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vO.apply(null,arguments)}function LW(t,e){if(t==null)return{};var r,n,i=U9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function U9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Gae=/[ \f\n\r\t\v\u2028\u2029]+/,Kae=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];zs(e)||(r?i=e.toString().split(""):i=e.toString().split(Gae));var s=i.map(o=>({word:o,width:R1(o,n).width})),a=r?0:R1("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function z9e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Yae=(t,e,r,n)=>t.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||n||l.width+o+r<Number(e)))l.words.push(a),l.width+=o+r;else{var u={words:[a],width:o};i.push(u)}return i},[]),Xae=t=>t.reduce((e,r)=>e.width>r.width?e:r),$9e="",FW=(t,e,r,n,i,s,a,o)=>{var l=t.slice(0,e),u=Kae({breakAll:r,style:n,children:l+$9e});if(!u)return[!1,[]];var d=Yae(u.wordsWithComputedWidth,s,a,o),m=d.length>i||Xae(d).width>Number(s);return[m,d]},H9e=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,u=wt(s),d=String(a),m=Yae(e,n,r,i);if(!u||i)return m;var g=m.length>s||Xae(m).width>Number(n);if(!g)return m;for(var v=0,x=d.length-1,b=0,w;v<=x&&b<=d.length-1;){var _=Math.floor((v+x)/2),k=_-1,[A,R]=FW(d,k,l,o,s,n,r,i),[P]=FW(d,_,l,o,s,n,r,i);if(!A&&!P&&(v=_+1),A&&P&&(x=_-1),!A&&P){w=R;break}b++}return w||m},BW=t=>{var e=zs(t)?[]:t.toString().split(Gae);return[{words:e,width:void 0}]},q9e=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!Ob.isSsr){var o,l,u=Kae({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:m}=u;o=d,l=m}else return BW(n);return H9e({breakAll:s,children:n,maxLines:a,style:i},o,l,e,!!r)}return BW(n)},Qae="#808080",W9e={angle:0,breakAll:!1,capHeight:"0.71em",fill:Qae,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},lk=C.forwardRef((t,e)=>{var r=_s(t,W9e),{x:n,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=r,m=LW(r,B9e),g=C.useMemo(()=>q9e({breakAll:m.breakAll,children:m.children,maxLines:m.maxLines,scaleToFit:l,style:m.style,width:m.width}),[m.breakAll,m.children,m.maxLines,l,m.style,m.width]),{dx:v,dy:x,angle:b,className:w,breakAll:_}=m,k=LW(m,V9e);if(!ku(n)||!ku(i)||g.length===0)return null;var A=Number(n)+(wt(v)?v:0),R=Number(i)+(wt(x)?x:0);if(!ni(A)||!ni(R))return null;var P;switch(d){case"start":P=e5("calc(".concat(a,")"));break;case"middle":P=e5("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=e5("calc(".concat(g.length-1," * -").concat(s,")"));break}var j=[];if(l){var S=g[0].width,{width:I}=m;j.push("scale(".concat(wt(I)&&wt(S)?I/S:1,")"))}return b&&j.push("rotate(".concat(b,", ").concat(A,", ").concat(R,")")),j.length&&(k.transform=j.join(" ")),C.createElement("text",vO({},Ya(k),{ref:e,x:A,y:R,className:Xr("recharts-text",w),textAnchor:u,fill:o.includes("url")?Qae:o}),g.map((O,D)=>{var M=O.words.join(_?"":" ");return C.createElement("tspan",{x:A,dy:D===0?P:s,key:"".concat(M,"-").concat(D)},M)}))});lk.displayName="Text";var G9e=["labelRef"],K9e=["content"];function VW(t,e){if(t==null)return{};var r,n,i=Y9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Y9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function UW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UW(Object(r),!0).forEach(function(n){X9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function X9e(t,e,r){return(e=Q9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Q9e(t){var e=J9e(t,"string");return typeof e=="symbol"?e:e+""}function J9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function od(){return od=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},od.apply(null,arguments)}var Jae=C.createContext(null),Z9e=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a,children:o}=t,l=C.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,r,n,i,s,a]);return C.createElement(Jae.Provider,{value:l},o)},Zae=()=>{var t=C.useContext(Jae),e=F4();return t||mie(e)},eFe=C.createContext(null),tFe=()=>{var t=C.useContext(eFe),e=Tt(Bse);return t||e},rFe=t=>{var{value:e,formatter:r}=t,n=zs(t.children)?e:t.children;return typeof r=="function"?r(n):n},lD=t=>t!=null&&typeof t=="function",nFe=(t,e)=>{var r=Na(e-t),n=Math.min(Math.abs(e-t),360);return r*n},iFe=(t,e,r,n,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:m,endAngle:g,clockWise:v}=i,x=(u+d)/2,b=nFe(m,g),w=b>=0?1:-1,_,k;switch(e){case"insideStart":_=m+w*s,k=v;break;case"insideEnd":_=g-w*s,k=!v;break;case"end":_=g+w*s,k=v;break;default:throw new Error("Unsupported position ".concat(e))}k=b<=0?k:!k;var A=as(o,l,x,_),R=as(o,l,x,_+(k?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(R.x,",").concat(R.y),j=zs(t.id)?vx("recharts-radial-line-"):t.id;return C.createElement("text",od({},n,{dominantBaseline:"central",className:Xr("recharts-radial-bar-label",a)}),C.createElement("defs",null,C.createElement("path",{id:j,d:P})),C.createElement("textPath",{xlinkHref:"#".concat(j)},r))},sFe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(r==="outside"){var{x:d,y:m}=as(n,i,a+e,u);return{x:d,y:m,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:x}=as(n,i,g,u);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},yO=t=>"cx"in t&&wt(t.cx),aFe=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,s;r!=null&&!yO(r)&&(s=r);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,m=a,g=a+(l-u)/2,v=(m+g)/2,x=(l+u)/2,b=m+l/2,w=d>=0?1:-1,_=w*n,k=w>0?"end":"start",A=w>0?"start":"end",R=l>=0?1:-1,P=R*n,j=R>0?"end":"start",S=R>0?"start":"end";if(i==="top"){var I={x:m+l/2,y:o-_,textAnchor:"middle",verticalAnchor:k};return ji(ji({},I),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var O={x:g+u/2,y:o+d+_,textAnchor:"middle",verticalAnchor:A};return ji(ji({},O),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var D={x:v-P,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return ji(ji({},D),s?{width:Math.max(D.x-s.x,0),height:d}:{})}if(i==="right"){var M={x:v+x+P,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return ji(ji({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:d}:{})}var F=s?{width:x,height:d}:{};return i==="insideLeft"?ji({x:v+P,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},F):i==="insideRight"?ji({x:v+x-P,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},F):i==="insideTop"?ji({x:m+l/2,y:o+_,textAnchor:"middle",verticalAnchor:A},F):i==="insideBottom"?ji({x:g+u/2,y:o+d-_,textAnchor:"middle",verticalAnchor:k},F):i==="insideTopLeft"?ji({x:m+P,y:o+_,textAnchor:S,verticalAnchor:A},F):i==="insideTopRight"?ji({x:m+l-P,y:o+_,textAnchor:j,verticalAnchor:A},F):i==="insideBottomLeft"?ji({x:g+P,y:o+d-_,textAnchor:S,verticalAnchor:k},F):i==="insideBottomRight"?ji({x:g+u-P,y:o+d-_,textAnchor:j,verticalAnchor:k},F):i&&typeof i=="object"&&(wt(i.x)||Pd(i.x))&&(wt(i.y)||Pd(i.y))?ji({x:a+tl(i.x,x),y:o+tl(i.y,d),textAnchor:"end",verticalAnchor:"end"},F):ji({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},F)},oFe={angle:0,offset:5,zIndex:la.label,position:"middle",textBreakAll:!1};function jh(t){var e=_s(t,oFe),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=tFe(),m=Zae(),g=n==="center"?m:d??m,v,x,b;if(r==null?v=g:yO(r)?v=r:v=mie(r),!v||zs(i)&&zs(s)&&!C.isValidElement(a)&&typeof a!="function")return null;var w=ji(ji({},e),{},{viewBox:v});if(C.isValidElement(a)){var{labelRef:_}=w,k=VW(w,G9e);return C.cloneElement(a,k)}if(typeof a=="function"){var{content:A}=w,R=VW(w,K9e);if(x=C.createElement(a,R),C.isValidElement(x))return x}else x=rFe(e);var P=Ya(e);if(yO(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return iFe(e,n,x,P,v);b=sFe(v,e.offset,e.position)}else b=aFe(e,v);return C.createElement(Fc,{zIndex:e.zIndex},C.createElement(lk,od({ref:u,className:Xr("recharts-label",o)},P,b,{textAnchor:z9e(P.textAnchor)?P.textAnchor:b.textAnchor,breakAll:l}),x))}jh.displayName="Label";var lFe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(jh,od({key:"label-implicit"},n)):ku(t)?C.createElement(jh,od({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===jh?C.cloneElement(t,ji({key:"label-implicit"},n)):C.createElement(jh,od({key:"label-implicit",content:t},n)):lD(t)?C.createElement(jh,od({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(jh,od({},t,{key:"label-implicit"},n)):null};function cFe(t){var{label:e,labelRef:r}=t,n=Zae();return lFe(e,n,r)||null}var t5={},r5={},zW;function uFe(){return zW||(zW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(r5)),r5}var n5={},$W;function dFe(){return $W||($W=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(n5)),n5}var HW;function hFe(){return HW||(HW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uFe(),r=dFe(),n=Fj();function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(t5)),t5}var i5,qW;function fFe(){return qW||(qW=1,i5=hFe().last),i5}var mFe=fFe();const pFe=ll(mFe);var gFe=["valueAccessor"],vFe=["dataKey","clockWise","id","textBreakAll","zIndex"];function jT(){return jT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jT.apply(null,arguments)}function WW(t,e){if(t==null)return{};var r,n,i=yFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function yFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var xFe=t=>Array.isArray(t.value)?pFe(t.value):t.value,eoe=C.createContext(void 0),bFe=eoe.Provider,toe=C.createContext(void 0),wFe=toe.Provider;function _Fe(){return C.useContext(eoe)}function EFe(){return C.useContext(toe)}function q_(t){var{valueAccessor:e=xFe}=t,r=WW(t,gFe),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:o}=r,l=WW(r,vFe),u=_Fe(),d=EFe(),m=u||d;return!m||!m.length?null:C.createElement(Fc,{zIndex:o??la.label},C.createElement(ca,{className:"recharts-label-list"},m.map((g,v)=>{var x,b=zs(n)?e(g,v):qn(g&&g.payload,n),w=zs(s)?{}:{id:"".concat(s,"-").concat(v)};return C.createElement(jh,jT({key:"label-".concat(v)},Ya(g),l,w,{fill:(x=r.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}q_.displayName="LabelList";function roe(t){var{label:e}=t;return e?e===!0?C.createElement(q_,{key:"labelList-implicit"}):C.isValidElement(e)||lD(e)?C.createElement(q_,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(q_,jT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function xO(){return xO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xO.apply(null,arguments)}var noe=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Xr("recharts-dot",i);return wt(e)&&wt(r)&&wt(n)?C.createElement("circle",xO({},il(t),Mj(t),{className:s,cx:e,cy:r,r:n})):null},ioe=t=>t.graphicalItems.polarItems,TFe=Re([ii,Lb],P8),ck=Re([ioe,mi,TFe],j8),SFe=Re([ck],D8),uk=Re([SFe,Q4],M8),kFe=Re([uk,mi,ck],F8);Re([uk,mi,ck],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=qn(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:qn(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var GW=()=>{},AFe=Re([uk,mi,ck,nk,ii],z8),CFe=Re([mi,V8,U8,GW,AFe,GW,gn,ii],$8),soe=Re([mi,gn,uk,kFe,Mb,ii,CFe],H8),NFe=Re([soe,mi,$v],G8);Re([mi,soe,NFe,ii],Y8);var IFe={radiusAxis:{},angleAxis:{}},aoe=ko({name:"polarAxis",initialState:IFe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:nlt,removeRadiusAxis:ilt,addAngleAxis:slt,removeAngleAxis:alt}=aoe.actions,OFe=aoe.reducer;function KW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function YW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(r),!0).forEach(function(n){RFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function RFe(t,e,r){return(e=PFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PFe(t){var e=jFe(t,"string");return typeof e=="symbol"?e:e+""}function jFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var DFe=(t,e)=>e,cD=Re([ioe,DFe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),MFe=[],uD=(t,e,r)=>(r==null?void 0:r.length)===0?MFe:r,ooe=Re([Q4,cD,uD],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>YW(YW({},e.presentationProps),s.props))),i!=null)return i}}),LFe=Re([ooe,cD,uD],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=qn(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:P4(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),FFe=Re([ooe,cD,uD,Ws],(t,e,r,n)=>{if(!(e==null||t==null))return WBe({offset:n,pieSettings:e,displayedData:t,cells:r})}),s5={exports:{}},wn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var XW;function BFe(){if(XW)return wn;XW=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case r:case i:case n:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case m:case d:return b;case s:return b;default:return w}}case e:return w}}}return wn.ContextConsumer=s,wn.ContextProvider=a,wn.Element=t,wn.ForwardRef=o,wn.Fragment=r,wn.Lazy=m,wn.Memo=d,wn.Portal=e,wn.Profiler=i,wn.StrictMode=n,wn.Suspense=l,wn.SuspenseList=u,wn.isContextConsumer=function(b){return x(b)===s},wn.isContextProvider=function(b){return x(b)===a},wn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},wn.isForwardRef=function(b){return x(b)===o},wn.isFragment=function(b){return x(b)===r},wn.isLazy=function(b){return x(b)===m},wn.isMemo=function(b){return x(b)===d},wn.isPortal=function(b){return x(b)===e},wn.isProfiler=function(b){return x(b)===i},wn.isStrictMode=function(b){return x(b)===n},wn.isSuspense=function(b){return x(b)===l},wn.isSuspenseList=function(b){return x(b)===u},wn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===m||b.$$typeof===d||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},wn.typeOf=x,wn}var QW;function VFe(){return QW||(QW=1,s5.exports=BFe()),s5.exports}var UFe=VFe(),JW=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",ZW=null,a5=null,loe=t=>{if(t===ZW&&Array.isArray(a5))return a5;var e=[];return C.Children.forEach(t,r=>{zs(r)||(UFe.isFragment(r)?e=e.concat(loe(r.props.children)):e.push(r))}),a5=e,ZW=t,e};function coe(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>JW(i)):n=[JW(e)],loe(t).forEach(i=>{var s=hm(i,"type.displayName")||hm(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var uoe=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,o5={},eG;function zFe(){return eG||(eG=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(o5)),o5}var l5,tG;function $Fe(){return tG||(tG=1,l5=zFe().isPlainObject),l5}var HFe=$Fe();const qFe=ll(HFe);var rG,nG,iG,sG,aG;function oG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oG(Object(r),!0).forEach(function(n){WFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WFe(t,e,r){return(e=GFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GFe(t){var e=KFe(t,"string");return typeof e=="symbol"?e:e+""}function KFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DT.apply(null,arguments)}function e1(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var cG=(t,e,r,n,i)=>{var s=r-n,a;return a=Ei(rG||(rG=e1(["M ",",",""])),t,e),a+=Ei(nG||(nG=e1(["L ",",",""])),t+r,e),a+=Ei(iG||(iG=e1(["L ",",",""])),t+r-s/2,e+i),a+=Ei(sG||(sG=e1(["L ",",",""])),t+r-s/2-n,e+i),a+=Ei(aG||(aG=e1(["L ",","," Z"])),t,e),a},YFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},XFe=t=>{var e=_s(t,YFe),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:m}=e,g=C.useRef(null),[v,x]=C.useState(-1),b=C.useRef(i),w=C.useRef(s),_=C.useRef(a),k=C.useRef(r),A=C.useRef(n),R=H4(t,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var le=g.current.getTotalLength();le&&x(le)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=Xr("recharts-trapezoid",o);if(!m)return C.createElement("g",null,C.createElement("path",DT({},Ya(e),{className:P,d:cG(r,n,i,s,a)})));var j=b.current,S=w.current,I=_.current,O=k.current,D=A.current,M="0px ".concat(v===-1?1:v,"px"),F="".concat(v,"px 0px"),U=Cie(["strokeDasharray"],u,l);return C.createElement($4,{animationId:R,key:R,canBegin:v>0,duration:u,easing:l,isActive:m,begin:d},le=>{var de=sa(j,i,le),Z=sa(S,s,le),J=sa(I,a,le),he=sa(O,r,le),ee=sa(D,n,le);g.current&&(b.current=de,w.current=Z,_.current=J,k.current=he,A.current=ee);var ve=le>0?{transition:U,strokeDasharray:F}:{strokeDasharray:M};return C.createElement("path",DT({},Ya(e),{className:P,d:cG(he,ee,de,Z,J),ref:g,style:lG(lG({},ve),e.style)}))})},QFe=["option","shapeType","activeClassName"];function JFe(t,e){if(t==null)return{};var r,n,i=ZFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ZFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function MT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?uG(Object(r),!0).forEach(function(n){eBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):uG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function eBe(t,e,r){return(e=tBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tBe(t){var e=rBe(t,"string");return typeof e=="symbol"?e:e+""}function rBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function nBe(t,e){return MT(MT({},e),t)}function iBe(t,e){return t==="symbols"}function dG(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement(Rie,r);case"trapezoid":return C.createElement(XFe,r);case"sector":return C.createElement(Mie,r);case"symbols":if(iBe(e))return C.createElement(Dj,r);break;case"curve":return C.createElement(_g,r);default:return null}}function sBe(t){return C.isValidElement(t)?t.props:t}function aBe(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=JFe(t,QFe),s;if(C.isValidElement(e))s=C.cloneElement(e,MT(MT({},i),sBe(e)));else if(typeof e=="function")s=e(i,i.index);else if(qFe(e)&&typeof e!="boolean"){var a=nBe(e,i);s=C.createElement(dG,{shapeType:r,elementProps:a})}else{var o=i;s=C.createElement(dG,{shapeType:r,elementProps:o})}return i.isActive?C.createElement(ca,{className:n},s):s}var oBe=(t,e,r)=>{var n=Bn();return(i,s)=>a=>{t==null||t(i,s,a),n(yae({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},lBe=t=>{var e=Bn();return(r,n)=>i=>{t==null||t(r,n,i),e(h7e())}},cBe=(t,e,r)=>{var n=Bn();return(i,s)=>a=>{t==null||t(i,s,a),n(f7e({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function doe(t){var{tooltipEntrySettings:e}=t,r=Bn(),n=Ao(),i=C.useRef(null);return C.useLayoutEffect(()=>{n||(i.current===null?r(l7e(e)):i.current!==e&&r(c7e({prev:i.current,next:e})),i.current=e)},[e,r,n]),C.useLayoutEffect(()=>()=>{i.current&&(r(u7e(i.current)),i.current=null)},[r]),null}function uBe(t){var{legendPayload:e}=t,r=Bn(),n=Ao(),i=C.useRef(null);return C.useLayoutEffect(()=>{n||(i.current===null?r(Eie(e)):i.current!==e&&r(Tie({prev:i.current,next:e})),i.current=e)},[r,n,e]),C.useLayoutEffect(()=>()=>{i.current&&(r(Sie(i.current)),i.current=null)},[r]),null}function dBe(t){var{legendPayload:e}=t,r=Bn(),n=Tt(gn),i=C.useRef(null);return C.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(Eie(e)):i.current!==e&&r(Tie({prev:i.current,next:e})),i.current=e)},[r,n,e]),C.useLayoutEffect(()=>()=>{i.current&&(r(Sie(i.current)),i.current=null)},[r]),null}var c5,hBe=()=>{var[t]=C.useState(()=>vx("uid-"));return t},fBe=(c5=BY.useId)!==null&&c5!==void 0?c5:hBe;function mBe(t,e){var r=fBe();return e||(t?"".concat(t,"-").concat(r):r)}var pBe=C.createContext(void 0),hoe=t=>{var{id:e,type:r,children:n}=t,i=mBe("recharts-".concat(r),e);return C.createElement(pBe.Provider,{value:i},n(i))},gBe={cartesianItems:[],polarItems:[]},foe=ko({name:"graphicalItems",initialState:gBe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=Sc(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Zn()},removeCartesianGraphicalItem:{reducer(t,e){var r=Sc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Zn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zn()},removePolarGraphicalItem:{reducer(t,e){var r=Sc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Zn()}}}),{addCartesianGraphicalItem:vBe,replaceCartesianGraphicalItem:yBe,removeCartesianGraphicalItem:xBe,addPolarGraphicalItem:bBe,removePolarGraphicalItem:wBe}=foe.actions,_Be=foe.reducer,EBe=t=>{var e=Bn(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(vBe(t)):r.current!==t&&e(yBe({prev:r.current,next:t})),r.current=t},[e,t]),C.useLayoutEffect(()=>()=>{r.current&&(e(xBe(r.current)),r.current=null)},[e]),null},TBe=C.memo(EBe);function SBe(t){var e=Bn();return C.useLayoutEffect(()=>(e(bBe(t)),()=>{e(wBe(t))}),[e,t]),null}var kBe=["key"],ABe=["onMouseEnter","onClick","onMouseLeave"],CBe=["id"],NBe=["id"];function hG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hG(Object(r),!0).forEach(function(n){IBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IBe(t,e,r){return(e=OBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OBe(t){var e=RBe(t,"string");return typeof e=="symbol"?e:e+""}function RBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ef(){return Ef=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ef.apply(null,arguments)}function dk(t,e){if(t==null)return{};var r,n,i=PBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function jBe(t){var e=C.useMemo(()=>coe(t.children,ok),[t.children]),r=Tt(n=>LFe(n,t.id,e));return r==null?null:C.createElement(dBe,{legendPayload:r})}var DBe=C.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:u,id:d}=t,m={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:P4(o,e),hide:l,type:u,color:a,unit:"",graphicalItemId:d}};return C.createElement(doe,{tooltipEntrySettings:m})}),MBe=(t,e)=>t>e?"start":t<e?"end":"middle",LBe=(t,e,r)=>tl(typeof e=="function"?e(t):e,r,r*.8),FBe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=Pie(s,a),l=i+tl(t.cx,s,s/2),u=n+tl(t.cy,a,a/2),d=tl(t.innerRadius,o,0),m=LBe(r,t.outerRadius,o),g=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:m,maxRadius:g}},BBe=(t,e)=>{var r=Na(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function VBe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var UBe=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Xr("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=dk(e,kBe);return C.createElement(_g,Ef({},i,{type:"linear",className:r}))},zBe=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var i=Xr("recharts-pie-label-text",VBe(t));return C.createElement(lk,Ef({},e,{alignmentBaseline:"middle",className:i}),n)};function $Be(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=il(r),l=nv(i),u=nv(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,m=e.map((g,v)=>{var x=(g.startAngle+g.endAngle)/2,b=as(g.cx,g.cy,g.outerRadius+d,x),w=Ti(Ti(Ti(Ti({},o),g),{},{stroke:"none"},l),{},{index:v,textAnchor:MBe(b.x,g.cx)},b),_=Ti(Ti(Ti(Ti({},o),g),{},{fill:"none",stroke:g.fill},u),{},{index:v,points:[as(g.cx,g.cy,g.outerRadius,x),b],key:"line"});return C.createElement(Fc,{zIndex:la.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},C.createElement(ca,null,s&&UBe(s,_),zBe(i,w,qn(g,a))))});return C.createElement(ca,{className:"recharts-pie-labels"},m)}function HBe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(roe,{label:i}):C.createElement($Be,{sectors:e,props:r,showLabels:n})}function qBe(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:a}=t,o=Tt(dv),l=Tt(Rae),u=Tt(J7e),{onMouseEnter:d,onClick:m,onMouseLeave:g}=i,v=dk(i,ABe),x=oBe(d,i.dataKey,a),b=lBe(g),w=cBe(m,i.dataKey,a);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((_,k)=>{if((_==null?void 0:_.startAngle)===0&&(_==null?void 0:_.endAngle)===0&&e.length!==1)return null;var A=u==null||u===a,R=String(k)===o&&(l==null||i.dataKey===l)&&A,P=o?n:null,j=r&&R?r:P,S=Ti(Ti({},_),{},{stroke:_.stroke,tabIndex:-1,[lie]:k,[cie]:a});return C.createElement(ca,Ef({key:"sector-".concat(_==null?void 0:_.startAngle,"-").concat(_==null?void 0:_.endAngle,"-").concat(_.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},Lj(v,_,k),{onMouseEnter:x(_,k),onMouseLeave:b(_,k),onClick:w(_,k)}),C.createElement(aBe,Ef({option:s??j,index:k,shapeType:"sector",isActive:R},S)))}))}function WBe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:m}=r,g=Math.abs(r.minAngle),v=BBe(o,l),x=Math.abs(v),b=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(j=>qn(j,u,0)!==0).length,_=(x>=360?w:w-1)*b,k=x-w*g-_,A=n.reduce((j,S)=>{var I=qn(S,u,0);return j+(wt(I)?I:0)},0),R;if(A>0){var P;R=n.map((j,S)=>{var I=qn(j,u,0),O=qn(j,d,S),D=FBe(r,s,j),M=(wt(I)?I:0)/A,F,U=Ti(Ti({},j),i&&i[S]&&i[S].props);S?F=P.endAngle+Na(v)*b*(I!==0?1:0):F=o;var le=F+Na(v)*((I!==0?g:0)+M*k),de=(F+le)/2,Z=(D.innerRadius+D.outerRadius)/2,J=[{name:O,value:I,payload:U,dataKey:u,type:m,graphicalItemId:r.id}],he=as(D.cx,D.cy,Z,de);return P=Ti(Ti(Ti(Ti({},r.presentationProps),{},{percent:M,cornerRadius:typeof a=="string"?parseFloat(a):a,name:O,tooltipPayload:J,midAngle:de,middleRadius:Z,tooltipPosition:he},U),D),{},{value:I,dataKey:u,startAngle:F,endAngle:le,payload:U,paddingAngle:Na(v)*b}),P})}return R}function GBe(t){var{showLabels:e,sectors:r,children:n}=t,i=C.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return C.createElement(wFe,{value:e?i:void 0},n)}function KBe(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:m,onAnimationEnd:g}=e,v=H4(e,"recharts-pie-"),x=r.current,[b,w]=C.useState(!1),_=C.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),k=C.useCallback(()=>{typeof m=="function"&&m(),w(!0)},[m]);return C.createElement(GBe,{showLabels:!b,sectors:i},C.createElement($4,{animationId:v,begin:a,duration:o,isActive:s,easing:l,onAnimationStart:k,onAnimationEnd:_,key:v},A=>{var R=[],P=i&&i[0],j=P==null?void 0:P.startAngle;return i==null||i.forEach((S,I)=>{var O=x&&x[I],D=I>0?hm(S,"paddingAngle",0):0;if(O){var M=sa(O.endAngle-O.startAngle,S.endAngle-S.startAngle,A),F=Ti(Ti({},S),{},{startAngle:j+D,endAngle:j+M+D});R.push(F),j=F.endAngle}else{var{endAngle:U,startAngle:le}=S,de=sa(0,U-le,A),Z=Ti(Ti({},S),{},{startAngle:j+D,endAngle:j+de+D});R.push(Z),j=Z.endAngle}}),r.current=R,C.createElement(ca,null,C.createElement(qBe,{sectors:R,activeShape:u,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:n}))}),C.createElement(HBe,{showLabels:!b,sectors:i,props:e}),e.children)}var YBe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:la.area};function XBe(t){var{id:e}=t,r=dk(t,CBe),{hide:n,className:i,rootTabIndex:s}=t,a=C.useMemo(()=>coe(t.children,ok),[t.children]),o=Tt(d=>FFe(d,e,a)),l=C.useRef(null),u=Xr("recharts-pie",i);return n||o==null?(l.current=null,C.createElement(ca,{tabIndex:s,className:u})):C.createElement(Fc,{zIndex:t.zIndex},C.createElement(DBe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),C.createElement(ca,{tabIndex:s,className:u},C.createElement(KBe,{props:Ti(Ti({},r),{},{sectors:o}),previousSectorsRef:l,id:e})))}function moe(t){var e=_s(t,YBe),{id:r}=e,n=dk(e,NBe),i=il(n);return C.createElement(hoe,{id:r,type:"pie"},s=>C.createElement(C.Fragment,null,C.createElement(SBe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(jBe,Ef({},n,{id:s})),C.createElement(XBe,Ef({},n,{id:s}))))}moe.displayName="Pie";var QBe=["points"];function fG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function u5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?fG(Object(r),!0).forEach(function(n){JBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):fG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JBe(t,e,r){return(e=ZBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZBe(t){var e=eVe(t,"string");return typeof e=="symbol"?e:e+""}function eVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function LT(){return LT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},LT.apply(null,arguments)}function tVe(t,e){if(t==null)return{};var r,n,i=rVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function nVe(t){var{option:e,dotProps:r,className:n}=t;if(C.isValidElement(e))return C.cloneElement(e,r);if(typeof e=="function")return e(r);var i=Xr(n,typeof e!="boolean"?e.className:""),s=r??{},{points:a}=s,o=tVe(s,QBe);return C.createElement(noe,LT({},o,{className:i}))}function iVe(t,e){return t==null?!1:e?!0:t.length===1}function sVe(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:u=la.scatter}=t;if(!iVe(e,r))return null;var d=uoe(r),m=m5e(r),g=e.map((x,b)=>{var w,_,k=u5(u5(u5({r:3},a),m),{},{index:b,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(_=x.y)!==null&&_!==void 0?_:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return C.createElement(nVe,{key:"dot-".concat(b),option:r,dotProps:k,className:i})}),v={};return o&&l!=null&&(v.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),C.createElement(Fc,{zIndex:u},C.createElement(ca,LT({className:n},v),g))}function mG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?mG(Object(r),!0).forEach(function(n){aVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):mG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aVe(t,e,r){return(e=oVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oVe(t){var e=lVe(t,"string");return typeof e=="symbol"?e:e+""}function lVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var poe=0,cVe={xAxis:{},yAxis:{},zAxis:{}},goe=ko({name:"cartesianAxis",initialState:cVe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zn()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Zn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zn()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Zn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zn()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Zn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zn()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);t.yAxis[r]=pG(pG({},t.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:uVe,replaceXAxis:dVe,removeXAxis:hVe,addYAxis:fVe,replaceYAxis:mVe,removeYAxis:pVe,addZAxis:olt,replaceZAxis:llt,removeZAxis:clt,updateYAxisWidth:gVe}=goe.actions,vVe=goe.reducer,yVe=Re([Ws],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),xVe=Re([yVe,$d,Hd],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),dD=()=>Tt(xVe),bVe=()=>Tt(nLe);function gG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d5(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gG(Object(r),!0).forEach(function(n){wVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wVe(t,e,r){return(e=_Ve(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ve(t){var e=EVe(t,"string");return typeof e=="symbol"?e:e+""}function EVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var TVe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=d5(d5(d5({},o),nv(i)),Mj(i)),u;return C.isValidElement(i)?u=C.cloneElement(i,l):typeof i=="function"?u=i(l):u=C.createElement(noe,l),C.createElement(ca,{className:"recharts-active-dot",clipPath:a},u)};function vG(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=la.activeDot}=t,o=Tt(dv),l=bVe();if(e==null||l==null)return null;var u=e.find(d=>l.includes(d.payload));return zs(u)?null:C.createElement(Fc,{zIndex:a},C.createElement(TVe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var voe=t=>{var{chartData:e}=t,r=Bn(),n=Ao();return C.useEffect(()=>n?()=>{}:(r(SW(e)),()=>{r(SW(void 0))}),[e,r,n]),null},yG={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},yoe=ko({name:"brush",initialState:yG,reducers:{setBrushSettings(t,e){return e.payload==null?yG:e.payload}}}),{setBrushSettings:ult}=yoe.actions,SVe=yoe.reducer;function kVe(t,e,r){return(e=AVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function AVe(t){var e=CVe(t,"string");return typeof e=="symbol"?e:e+""}function CVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hD{static create(e){return new hD(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}kVe(hD,"EPS",1e-4);function NVe(t){return(t%180+180)%180}var IVe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=NVe(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},OVe={dots:[],areas:[],lines:[]},xoe=ko({name:"referenceElements",initialState:OVe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=Sc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=Sc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=Sc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:dlt,removeDot:hlt,addArea:flt,removeArea:mlt,addLine:plt,removeLine:glt}=xoe.actions,RVe=xoe.reducer,PVe=C.createContext(void 0),jVe=t=>{var{children:e}=t,[r]=C.useState("".concat(vx("recharts"),"-clip")),n=dD();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return C.createElement(PVe.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function boe(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function DVe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return IVe(n,r)}function MVe(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function Ox(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function LVe(t,e){return boe(t,e+1)}function FVe(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,m=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:boe(n,u)};var b=l,w,_=()=>(w===void 0&&(w=r(x,b)),w),k=x.coordinate,A=l===0||Ox(t,k,_,d,o);A||(l=0,d=a,u+=1),A&&(d=k+t*(_()/2+i),l+=u)},g;u<=s.length;)if(g=m(),g)return g.v;return[]}function BVe(t,e,r,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,u=1;u<=a;u++){for(var d=(a-1)%u,m=o,g=!0,v=function(){var k=n[x],A=x,R,P=()=>(R===void 0&&(R=r(k,A)),R),j=k.coordinate,S=x===d||Ox(t,j,P,m,l);if(!S)return g=!1,1;S&&(m=j+t*(P()/2+i))},x=d;x<a&&!v();x+=u);if(g){for(var b=[],w=d;w<a;w+=u)b.push(n[w]);return b}}return[]}function xG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xG(Object(r),!0).forEach(function(n){VVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VVe(t,e,r){return(e=UVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UVe(t){var e=zVe(t,"string");return typeof e=="symbol"?e:e+""}function zVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $Ve(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],x,b=()=>(x===void 0&&(x=r(v,g)),x);if(g===a-1){var w=t*(v.coordinate+t*b()/2-l);s[g]=v=xa(xa({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else s[g]=v=xa(xa({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var _=Ox(t,v.tickCoord,b,o,l);_&&(l=v.tickCoord-t*(b()/2+i),s[g]=xa(xa({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function HVe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=n[o-1],m=r(d,o-1),g=t*(d.coordinate+t*m/2-u);if(a[o-1]=d=xa(xa({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate}),d.tickCoord!=null){var v=Ox(t,d.tickCoord,()=>m,l,u);v&&(u=d.tickCoord-t*(m/2+i),a[o-1]=xa(xa({},d),{},{isShow:!0}))}}for(var x=s?o-1:o,b=function(k){var A=a[k],R,P=()=>(R===void 0&&(R=r(A,k)),R);if(k===0){var j=t*(A.coordinate-t*P()/2-l);a[k]=A=xa(xa({},A),{},{tickCoord:j<0?A.coordinate-j*t:A.coordinate})}else a[k]=A=xa(xa({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var S=Ox(t,A.tickCoord,P,l,u);S&&(l=A.tickCoord+t*(P()/2+i),a[k]=xa(xa({},A),{},{isShow:!0}))}},w=0;w<x;w++)b(w);return a}function fD(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:m}=t;if(!i||!i.length||!n)return[];if(wt(l)||Ob.isSsr){var g;return(g=LVe(i,wt(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],x=o==="top"||o==="bottom"?"width":"height",b=d&&x==="width"?R1(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(A,R)=>{var P=typeof u=="function"?u(A.value,R):A.value;return x==="width"?DVe(R1(P,{fontSize:e,letterSpacing:r}),b,m):R1(P,{fontSize:e,letterSpacing:r})[x]},_=i.length>=2?Na(i[1].coordinate-i[0].coordinate):1,k=MVe(s,_,x);return l==="equidistantPreserveStart"?FVe(_,k,w,i,a):l==="equidistantPreserveEnd"?BVe(_,k,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=HVe(_,k,w,i,a,l==="preserveStartEnd"):v=$Ve(_,k,w,i,a),v.filter(A=>A.isShow))}var qVe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var m=d.getBoundingClientRect();m.width>a&&(a=m.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(r?n:0);return Math.round(u)}return 0},WVe=["axisLine","width","height","className","hide","ticks","axisType"];function GVe(t,e){if(t==null)return{};var r,n,i=KVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function KVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gm(){return gm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gm.apply(null,arguments)}function bG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bG(Object(r),!0).forEach(function(n){YVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YVe(t,e,r){return(e=XVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XVe(t){var e=QVe(t,"string");return typeof e=="symbol"?e:e+""}function QVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bd={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:la.axis};function JVe(t){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=rs(rs(rs({},l),il(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=rs(rs({},u),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var m=+(s==="left"&&!a||s==="right"&&a);u=rs(rs({},u),{},{x1:e+m*n,y1:r,x2:e+m*n,y2:r+i})}return C.createElement("line",gm({},u,{className:Xr("recharts-cartesian-axis-line",hm(o,"className"))}))}function ZVe(t,e,r,n,i,s,a,o,l){var u,d,m,g,v,x,b=o?-1:1,w=t.tickSize||a,_=wt(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=d=t.coordinate,g=r+ +!o*i,m=g-b*w,x=m-b*l,v=_;break;case"left":m=g=t.coordinate,d=e+ +!o*n,u=d-b*w,v=u-b*l,x=_;break;case"right":m=g=t.coordinate,d=e+ +o*n,u=d+b*w,v=u+b*l,x=_;break;default:u=d=t.coordinate,g=r+ +o*i,m=g+b*w,x=m+b*l,v=_;break}return{line:{x1:u,y1:m,x2:d,y2:g},tick:{x:v,y:x}}}function eUe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function tUe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function rUe(t){var{option:e,tickProps:r,value:n}=t,i,s=Xr(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,rs(rs({},r),{},{className:s}));else if(typeof e=="function")i=e(rs(rs({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Xr(a,e==null?void 0:e.className)),i=C.createElement(lk,gm({},r,{className:a}),n)}return i}var nUe=C.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:m,x:g,y:v,width:x,height:b,tickSize:w,tickMargin:_,fontSize:k,letterSpacing:A,getTicksConfig:R,events:P,axisType:j}=t,S=fD(rs(rs({},R),{},{ticks:r}),k,A),I=eUe(d,m),O=tUe(d,m),D=il(R),M=nv(n),F={};typeof i=="object"&&(F=i);var U=rs(rs({},D),{},{fill:"none"},F),le=S.map(J=>rs({entry:J},ZVe(J,g,v,x,b,d,w,m,_))),de=le.map(J=>{var{entry:he,line:ee}=J;return C.createElement(ca,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&C.createElement("line",gm({},U,ee,{className:Xr("recharts-cartesian-axis-tick-line",hm(i,"className"))})))}),Z=le.map((J,he)=>{var{entry:ee,tick:ve}=J,H=rs(rs(rs(rs({textAnchor:I,verticalAnchor:O},D),{},{stroke:"none",fill:s},M),ve),{},{index:he,payload:ee,visibleTicksCount:S.length,tickFormatter:a,padding:l},u);return C.createElement(ca,gm({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(ee.value,"-").concat(ee.coordinate,"-").concat(ee.tickCoord)},Lj(P,ee,he)),n&&C.createElement(rUe,{option:n,tickProps:H,value:"".concat(typeof a=="function"?a(ee.value,he):ee.value).concat(o||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},Z.length>0&&C.createElement(Fc,{zIndex:la.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},Z)),de.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},de))}),iUe=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o,axisType:l}=t,u=GVe(t,WVe),[d,m]=C.useState(""),[g,v]=C.useState(""),x=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return qVe({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=C.useCallback(w=>{if(w){var _=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=_;var k=_[0];if(k){var A=window.getComputedStyle(k),R=A.fontSize,P=A.letterSpacing;(R!==d||P!==g)&&(m(R),v(P))}}},[d,g]);return a||n!=null&&n<=0||i!=null&&i<=0?null:C.createElement(Fc,{zIndex:t.zIndex},C.createElement(ca,{className:Xr("recharts-cartesian-axis",s)},C.createElement(JVe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:il(t)}),C.createElement(nUe,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(Z9e,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(cFe,{label:t.label,labelRef:t.labelRef}),t.children)))}),mD=C.forwardRef((t,e)=>{var r=_s(t,bd);return C.createElement(iUe,gm({},r,{ref:e}))});mD.displayName="CartesianAxis";var sUe=["x1","y1","x2","y2","key"],aUe=["offset"],oUe=["xAxisId","yAxisId"],lUe=["xAxisId","yAxisId"];function wG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ta(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?wG(Object(r),!0).forEach(function(n){cUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):wG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cUe(t,e,r){return(e=uUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uUe(t){var e=dUe(t,"string");return typeof e=="symbol"?e:e+""}function dUe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function F0(){return F0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},F0.apply(null,arguments)}function FT(t,e){if(t==null)return{};var r,n,i=hUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function hUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var fUe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return C.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function woe(t){var{option:e,lineItemProps:r}=t,n;if(C.isValidElement(e))n=C.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:s,y1:a,x2:o,y2:l,key:u}=r,d=FT(r,sUe),m=(i=il(d))!==null&&i!==void 0?i:{},{offset:g}=m,v=FT(m,aUe);n=C.createElement("line",F0({},v,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:u}))}return n}function mUe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=FT(t,oUe),l=i.map((u,d)=>{var m=Ta(Ta({},o),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return C.createElement(woe,{key:"line-".concat(d),option:n,lineItemProps:m})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function pUe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=FT(t,lUe),l=i.map((u,d)=>{var m=Ta(Ta({},o),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return C.createElement(woe,{option:n,lineItemProps:m,key:"line-".concat(d)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function gUe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==u[0]&&u.unshift(0);var d=u.map((m,g)=>{var v=!u[g+1],x=v?i+a-m:u[g+1]-m;if(x<=0)return null;var b=g%e.length;return C.createElement("rect",{key:"react-".concat(g),y:m,x:n,height:x,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function vUe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var u=l.map(m=>Math.round(m+i-i)).sort((m,g)=>m-g);i!==u[0]&&u.unshift(0);var d=u.map((m,g)=>{var v=!u[g+1],x=v?i+a-m:u[g+1]-m;if(x<=0)return null;var b=g%r.length;return C.createElement("rect",{key:"react-".concat(g),x:m,y:s,width:x,height:o,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var yUe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return sie(fD(Ta(Ta(Ta({},bd),r),{},{ticks:aie(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},xUe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return sie(fD(Ta(Ta(Ta({},bd),r),{},{ticks:aie(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},bUe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:la.grid};function pD(t){var e=Yj(),r=Xj(),n=pie(),i=Ta(Ta({},_s(t,bUe)),{},{x:wt(t.x)?t.x:n.left,y:wt(t.y)?t.y:n.top,width:wt(t.width)?t.width:n.width,height:wt(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:u,height:d,syncWithTicks:m,horizontalValues:g,verticalValues:v}=i,x=Ao(),b=Tt(O=>fW(O,"xAxis",s,x)),w=Tt(O=>fW(O,"yAxis",a,x));if(!Au(u)||!Au(d)||!wt(o)||!wt(l))return null;var _=i.verticalCoordinatesGenerator||yUe,k=i.horizontalCoordinatesGenerator||xUe,{horizontalPoints:A,verticalPoints:R}=i;if((!A||!A.length)&&typeof k=="function"){var P=g&&g.length,j=k({yAxis:w?Ta(Ta({},w),{},{ticks:P?g:w.ticks}):void 0,width:e??u,height:r??d,offset:n},P?!0:m);hT(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(A=j)}if((!R||!R.length)&&typeof _=="function"){var S=v&&v.length,I=_({xAxis:b?Ta(Ta({},b),{},{ticks:S?v:b.ticks}):void 0,width:e??u,height:r??d,offset:n},S?!0:m);hT(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(R=I)}return C.createElement(Fc,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(fUe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(gUe,F0({},i,{horizontalPoints:A})),C.createElement(vUe,F0({},i,{verticalPoints:R})),C.createElement(mUe,F0({},i,{offset:n,horizontalPoints:A,xAxis:b,yAxis:w})),C.createElement(pUe,F0({},i,{offset:n,verticalPoints:R,xAxis:b,yAxis:w}))))}pD.displayName="CartesianGrid";var wUe={},_oe=ko({name:"errorBars",initialState:wUe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:vlt,replaceErrorBar:ylt,removeErrorBar:xlt}=_oe.actions,_Ue=_oe.reducer;function Eoe(t,e){var r,n,i=Tt(u=>Gd(u,t)),s=Tt(u=>Kd(u,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:Ns.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Is.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function EUe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=dD(),{needClipX:s,needClipY:a,needClip:o}=Eoe(e,r);if(!o||!i)return null;var{x:l,y:u,width:d,height:m}=i;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:s?l:l-d/2,y:a?u:u-m/2,width:s?d:d*2,height:a?m:m*2}))}function TUe(t){var e=nv(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=r),(Number.isNaN(o)||o<0)&&(o=n),{r:a,strokeWidth:o}}return{r,strokeWidth:n}}var h5={exports:{}},f5={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _G;function SUe(){if(_G)return f5;_G=1;var t=km();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return f5.useSyncExternalStoreWithSelector=function(l,u,d,m,g){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function w(P){if(!_){if(_=!0,k=P,P=m(P),g!==void 0&&x.hasValue){var j=x.value;if(g(j,P))return A=j}return A=P}if(j=A,r(k,P))return j;var S=m(P);return g!==void 0&&g(j,S)?(k=P,j):(k=P,A=S)}var _=!1,k,A,R=d===void 0?null:d;return[function(){return w(u())},R===null?void 0:function(){return w(R())}]},[u,d,m,g]);var b=n(l,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),o(b),b},f5}var EG;function kUe(){return EG||(EG=1,h5.exports=SUe()),h5.exports}kUe();function AUe(t){t()}function CUe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){AUe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var TG={notify(){},get:()=>[]};function NUe(t,e){let r,n=TG,i=0,s=!1;function a(b){d();const w=n.subscribe(b);let _=!1;return()=>{_||(_=!0,w(),m())}}function o(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return s}function d(){i++,r||(r=t.subscribe(l),n=CUe())}function m(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=TG)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,m())}const x={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>n};return x}var IUe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",OUe=IUe(),RUe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",PUe=RUe(),jUe=()=>OUe||PUe?C.useLayoutEffect:C.useEffect,DUe=jUe();function SG(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function MUe(t,e){if(SG(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!SG(t[r[i]],e[r[i]]))return!1;return!0}var m5=Symbol.for("react-redux-context"),p5=typeof globalThis<"u"?globalThis:{};function LUe(){if(!C.createContext)return{};const t=p5[m5]??(p5[m5]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var FUe=LUe();function BUe(t){const{children:e,context:r,serverState:n,store:i}=t,s=C.useMemo(()=>{const l=NUe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=C.useMemo(()=>i.getState(),[i]);DUe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=r||FUe;return C.createElement(o.Provider,{value:s},e)}var VUe=BUe,UUe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function zUe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function gD(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(UUe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!MUe(t[n],e[n]))return!1}else if(!zUe(t[n],e[n]))return!1;return!0}function vD(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:poe}function yD(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:poe}var Toe=(t,e,r)=>hae(t,"xAxis",vD(t,e),r),Soe=(t,e,r)=>dae(t,"xAxis",vD(t,e),r),koe=(t,e,r)=>hae(t,"yAxis",yD(t,e),r),Aoe=(t,e,r)=>dae(t,"yAxis",yD(t,e),r),$Ue=Re([gn,Toe,koe,Soe,Aoe],(t,e,r,n,i)=>zd(t,"xAxis")?dT(e,n,!1):dT(r,i,!1)),HUe=(t,e)=>e,Coe=Re([Hse,HUe],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),Noe=t=>{var e=gn(t),r=zd(e,"xAxis");return r?"yAxis":"xAxis"},qUe=(t,e)=>{var r=Noe(t);return r==="yAxis"?yD(t,e):vD(t,e)},WUe=(t,e,r)=>Yse(t,Noe(t),qUe(t,e),r),GUe=Re([Coe,WUe],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,i=I8(t);if(!(n==null||i==null)){var s=(r=e[n])===null||r===void 0?void 0:r.stackedData,a=s==null?void 0:s.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),KUe=Re([gn,Toe,koe,Soe,Aoe,GUe,VDe,$Ue,Coe,ZDe],(t,e,r,n,i,s,a,o,l,u)=>{var{chartData:d,dataStartIndex:m,dataEndIndex:g}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:v}=l,x;if(v&&v.length>0?x=v:x=d==null?void 0:d.slice(m,g+1),x!=null)return fze({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:m,areaSettings:l,stackedData:s,displayedData:x,chartBaseValue:u,bandSize:o})}}),YUe=["id"],XUe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function K0(){return K0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},K0.apply(null,arguments)}function Ioe(t,e){if(t==null)return{};var r,n,i=QUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function QUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function kG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function og(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kG(Object(r),!0).forEach(function(n){JUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JUe(t,e,r){return(e=ZUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZUe(t){var e=eze(t,"string");return typeof e=="symbol"?e:e+""}function eze(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BT(t,e){return t&&t!=="none"?t:e}var tze=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:BT(n,i),value:P4(r,e),payload:t}]},rze=C.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:u,id:d}=t,m={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:P4(a,e),hide:o,type:u,color:BT(n,s),unit:l,graphicalItemId:d}};return C.createElement(doe,{tooltipEntrySettings:m})});function nze(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:s,dataKey:a}=n,o=il(n);return C.createElement(sVe,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function ize(t){var{showLabels:e,children:r,points:n}=t,i=n.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return og(og({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(bFe,{value:e?i:void 0},r)}function AG(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:l,connectNulls:u,isRange:d}=s,{id:m}=s,g=Ioe(s,YUe),v=il(g),x=Ya(g);return C.createElement(C.Fragment,null,(e==null?void 0:e.length)>1&&C.createElement(ca,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},C.createElement(_g,K0({},x,{id:m,points:e,connectNulls:u,type:o,baseLine:r,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&C.createElement(_g,K0({},v,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&d&&C.createElement(_g,K0({},v,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:r}))),C.createElement(nze,{points:e,props:g,clipPathId:i}))}function sze(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.y,l=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!ni(o)||!ni(l))return null;var u=n*Math.abs(o-l),d=Math.max(...s.map(m=>m.x||0));return wt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(m=>m.x||0),d)),wt(d)?C.createElement("rect",{x:0,y:o<l?o:o-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function aze(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.x,l=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!ni(o)||!ni(l))return null;var u=n*Math.abs(o-l),d=Math.max(...s.map(m=>m.y||0));return wt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(m=>m.y||0),d)),wt(d)?C.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function oze(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:s}=t;return r==="vertical"?C.createElement(sze,{alpha:e,points:n,baseLine:i,strokeWidth:s}):C.createElement(aze,{alpha:e,points:n,baseLine:i,strokeWidth:s})}function lze(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:m,onAnimationStart:g,onAnimationEnd:v}=n,x=C.useMemo(()=>({points:a,baseLine:o}),[a,o]),b=H4(x,"recharts-area-"),w=gRe(),[_,k]=C.useState(!1),A=!_,R=C.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),P=C.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);if(w==null)return null;var j=i.current,S=s.current;return C.createElement(ize,{showLabels:A,points:a},n.children,C.createElement($4,{animationId:b,begin:u,duration:d,isActive:l,easing:m,onAnimationEnd:R,onAnimationStart:P,key:b},I=>{if(j){var O=j.length/a.length,D=I===1?a:a.map((F,U)=>{var le=Math.floor(U*O);if(j[le]){var de=j[le];return og(og({},F),{},{x:sa(de.x,F.x,I),y:sa(de.y,F.y,I)})}return F}),M;return wt(o)?M=sa(S,o,I):zs(o)||Pc(o)?M=sa(S,0,I):M=o.map((F,U)=>{var le=Math.floor(U*O);if(Array.isArray(S)&&S[le]){var de=S[le];return og(og({},F),{},{x:sa(de.x,F.x,I),y:sa(de.y,F.y,I)})}return F}),I>0&&(i.current=D,s.current=M),C.createElement(AG,{points:D,baseLine:M,needClip:e,clipPathId:r,props:n})}return I>0&&(i.current=a,s.current=o),C.createElement(ca,null,l&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(r)},C.createElement(oze,{alpha:I,points:a,baseLine:o,layout:w,strokeWidth:n.strokeWidth}))),C.createElement(ca,{clipPath:"url(#animationClipPath-".concat(r,")")},C.createElement(AG,{points:a,baseLine:o,needClip:e,clipPathId:r,props:n})))}),C.createElement(roe,{label:n.label}))}function cze(t){var{needClip:e,clipPathId:r,props:n}=t,i=C.useRef(null),s=C.useRef();return C.createElement(lze,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s})}class uze extends C.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:u,width:d,height:m,id:g,baseLine:v,zIndex:x}=this.props;if(e)return null;var b=Xr("recharts-area",i),w=g,{r:_,strokeWidth:k}=TUe(r),A=uoe(r),R=_*2+k,P=o?"url(#clipPath-".concat(A?"":"dots-").concat(w,")"):void 0;return C.createElement(Fc,{zIndex:x},C.createElement(ca,{className:b},o&&C.createElement("defs",null,C.createElement(EUe,{clipPathId:w,xAxisId:l,yAxisId:u}),!A&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:a-R/2,y:s-R/2,width:d+R,height:m+R}))),C.createElement(cze,{needClip:o,clipPathId:w,props:this.props})),C.createElement(vG,{points:n,mainColor:BT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(v)&&C.createElement(vG,{points:v,mainColor:BT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var Ooe={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:la.area};function dze(t){var e,r=_s(t,Ooe),{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:u,fillOpacity:d,hide:m,isAnimationActive:g,legendType:v,stroke:x,xAxisId:b,yAxisId:w}=r,_=Ioe(r,XUe),k=Lv(),A=Dae(),{needClip:R}=Eoe(b,w),P=Ao(),{points:j,isRange:S,baseLine:I}=(e=Tt(le=>KUe(le,t.id,P)))!==null&&e!==void 0?e:{},O=dD();if(k!=="horizontal"&&k!=="vertical"||O==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:D,width:M,x:F,y:U}=O;return!j||!j.length?null:C.createElement(uze,K0({},_,{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:I,connectNulls:o,dot:l,fill:u,fillOpacity:d,height:D,hide:m,layout:k,isAnimationActive:g==="auto"?!Ob.isSsr:g,isRange:S,legendType:v,needClip:R,points:j,stroke:x,width:M,left:F,top:U,xAxisId:b,yAxisId:w}))}var hze=(t,e,r,n,i)=>{var s=r??e;if(wt(s))return s;var a=t==="horizontal"?i:n,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return s==="dataMin"?u:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function fze(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:d,xAxisTicks:m,yAxisTicks:g,bandSize:v}=t,x=i&&i.length,b=hze(s,a,r,o,l),w=s==="horizontal",_=!1,k=u.map((R,P)=>{var j,S,I;if(x)I=i[d+P];else{var O=qn(R,n);Array.isArray(O)?(I=O,_=!0):I=[b,O]}var D=(j=(S=I)===null||S===void 0?void 0:S[1])!==null&&j!==void 0?j:null,M=D==null||x&&!e&&qn(R,n)==null;return w?{x:vH({axis:o,ticks:m,bandSize:v,entry:R,index:P}),y:M?null:l.scale(D),value:I,payload:R}:{x:M?null:o.scale(D),y:vH({axis:l,ticks:g,bandSize:v,entry:R,index:P}),value:I,payload:R}}),A;return x||_?A=k.map(R=>{var P=Array.isArray(R.value)?R.value[0]:null;return w?{x:R.x,y:P!=null&&R.y!=null?l.scale(P):null,payload:R.payload}:{x:P!=null?o.scale(P):null,y:R.y,payload:R.payload}}):A=w?l.scale(b):o.scale(b),{points:k,baseLine:A,isRange:_}}function mze(t){var e=_s(t,Ooe),r=Ao();return C.createElement(hoe,{id:e.id,type:"area"},n=>C.createElement(C.Fragment,null,C.createElement(uBe,{legendPayload:tze(e)}),C.createElement(rze,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),C.createElement(TBe,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:jOe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),C.createElement(dze,K0({},e,{id:n}))))}var VT=C.memo(mze,gD);VT.displayName="Area";var pze=["domain","range"],gze=["domain","range"];function CG(t,e){if(t==null)return{};var r,n,i=vze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function vze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function NG(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function Roe(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=CG(t,pze),{domain:s,range:a}=e,o=CG(e,gze);return!NG(r,s)||!NG(n,a)?!1:gD(i,o)}var yze=["dangerouslySetInnerHTML","ticks","scale"],xze=["id","scale"];function bO(){return bO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bO.apply(null,arguments)}function IG(t,e){if(t==null)return{};var r,n,i=bze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function bze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function wze(t){var e=Bn(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(uVe(t)):r.current!==t&&e(dVe({prev:r.current,next:t})),r.current=t},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(e(hVe(r.current)),r.current=null)},[e]),null}var _ze=t=>{var{xAxisId:e,className:r}=t,n=Tt(uie),i=Ao(),s="xAxis",a=Tt(_=>uae(_,s,e,i)),o=Tt(_=>qMe(_,e)),l=Tt(_=>QMe(_,e)),u=Tt(_=>Use(_,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:m,scale:g}=t,v=IG(t,yze),{id:x,scale:b}=u,w=IG(u,xze);return C.createElement(mD,bO({},v,w,{x:l.x,y:l.y,width:o.width,height:o.height,className:Xr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:a,axisType:s}))},Eze={allowDataOverflow:Ns.allowDataOverflow,allowDecimals:Ns.allowDecimals,allowDuplicatedCategory:Ns.allowDuplicatedCategory,angle:Ns.angle,axisLine:bd.axisLine,height:Ns.height,hide:!1,includeHidden:Ns.includeHidden,interval:Ns.interval,minTickGap:Ns.minTickGap,mirror:Ns.mirror,orientation:Ns.orientation,padding:Ns.padding,reversed:Ns.reversed,scale:Ns.scale,tick:Ns.tick,tickCount:Ns.tickCount,tickLine:bd.tickLine,tickSize:bd.tickSize,type:Ns.type,xAxisId:0},Tze=t=>{var e=_s(t,Eze);return C.createElement(C.Fragment,null,C.createElement(wze,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(_ze,e))},xD=C.memo(Tze,Roe);xD.displayName="XAxis";var Sze=["dangerouslySetInnerHTML","ticks","scale"],kze=["id","scale"];function wO(){return wO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wO.apply(null,arguments)}function OG(t,e){if(t==null)return{};var r,n,i=Aze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Aze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Cze(t){var e=Bn(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(fVe(t)):r.current!==t&&e(mVe({prev:r.current,next:t})),r.current=t},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(e(pVe(r.current)),r.current=null)},[e]),null}var Nze=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,s=C.useRef(null),a=C.useRef(null),o=Tt(uie),l=Ao(),u=Bn(),d="yAxis",m=Tt(j=>e7e(j,e)),g=Tt(j=>ZMe(j,e)),v=Tt(j=>uae(j,d,e,l)),x=Tt(j=>zse(j,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!m||lD(i)||C.isValidElement(i)||x==null)){var j=s.current;if(j){var S=j.getCalculatedWidth();Math.round(m.width)!==Math.round(S)&&u(gVe({id:e,width:S}))}}},[v,m,u,i,e,n,x]),m==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:w,scale:_}=t,k=OG(t,Sze),{id:A,scale:R}=x,P=OG(x,kze);return C.createElement(mD,wO({},k,P,{ref:s,labelRef:a,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:m.width,height:m.height,className:Xr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:v,axisType:d}))},Ize={allowDataOverflow:Is.allowDataOverflow,allowDecimals:Is.allowDecimals,allowDuplicatedCategory:Is.allowDuplicatedCategory,angle:Is.angle,axisLine:bd.axisLine,hide:!1,includeHidden:Is.includeHidden,interval:Is.interval,minTickGap:Is.minTickGap,mirror:Is.mirror,orientation:Is.orientation,padding:Is.padding,reversed:Is.reversed,scale:Is.scale,tick:Is.tick,tickCount:Is.tickCount,tickLine:bd.tickLine,tickSize:bd.tickSize,type:Is.type,width:Is.width,yAxisId:0},Oze=t=>{var e=_s(t,Ize);return C.createElement(C.Fragment,null,C.createElement(Cze,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(Nze,e))},bD=C.memo(Oze,Roe);bD.displayName="YAxis";var Rze=(t,e)=>e,wD=Re([Rze,gn,Bse,Ts,Cae,Yd,pLe,Ws],_Le),_D=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},Poe=ql("mouseClick"),joe=Cb();joe.startListening({actionCreator:Poe,effect:(t,e)=>{var r=t.payload,n=wD(e.getState(),_D(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(m7e({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var _O=ql("mouseMove"),Doe=Cb(),s_=null;Doe.startListening({actionCreator:_O,effect:(t,e)=>{var r=t.payload;s_!==null&&cancelAnimationFrame(s_);var n=_D(r);s_=requestAnimationFrame(()=>{var i=e.getState(),s=J8(i,i.tooltip.settings.shared);if(s==="axis"){var a=wD(i,n);(a==null?void 0:a.activeIndex)!=null?e.dispatch(bae({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(xae())}s_=null})}});function Pze(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var RG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},Moe=ko({name:"rootProps",initialState:RG,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:RG.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),jze=Moe.reducer,{updateOptions:Dze}=Moe.actions,Loe=ko({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:Mze}=Loe.actions,Lze=Loe.reducer,Foe=ql("keyDown"),Boe=ql("focus"),ED=Cb();ED.startListening({actionCreator:Foe,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Z8(i,Wv(r),Vb(r),$b(r)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=Yd(r);if(s==="Enter"){var u=PT(r,"axis","hover",String(i.index));e.dispatch(fO({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=i7e(r),m=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*m;if(!(l==null||v>=l.length||v<0)){var x=PT(r,"axis","hover",String(v));e.dispatch(fO({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});ED.startListening({actionCreator:Boe,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=PT(r,"axis","hover",String(s));e.dispatch(fO({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var Cl=ql("externalEvent"),Voe=Cb(),g5=new Map;Voe.startListening({actionCreator:Cl,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,s=g5.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:eLe(o),activeDataKey:Rae(o),activeIndex:dv(o),activeLabel:Oae(o),activeTooltipIndex:dv(o),isTooltipActive:tLe(o)};r(l,n)}finally{g5.delete(i)}});g5.set(i,a)}}});var Fze=Re([Hv],t=>t.tooltipItemPayloads),Bze=Re([Fze,zb,(t,e)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),Uoe=ql("touchMove"),zoe=Cb();zoe.startListening({actionCreator:Uoe,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=J8(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var a=wD(n,_D({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(bae({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(lie),m=(o=u.getAttribute(cie))!==null&&o!==void 0?o:void 0,g=qv(n).find(b=>b.id===m);if(d==null||g==null||m==null)return;var{dataKey:v}=g,x=Bze(n,d,m);e.dispatch(yae({activeDataKey:v,activeIndex:d,activeCoordinate:x,activeGraphicalItemId:m}))}}}});var Vze=Ine({brush:SVe,cartesianAxis:vVe,chartData:ZLe,errorBars:_Ue,graphicalItems:_Be,layout:TOe,legend:ORe,options:KLe,polarAxis:OFe,polarOptions:Lze,referenceElements:RVe,rootProps:jze,tooltip:p7e,zIndex:MLe}),Uze=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return YIe({reducer:Vze,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([joe.middleware,Doe.middleware,ED.middleware,Voe.middleware,zoe.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(qne({type:"raf"}))},devTools:{serialize:{replacer:Pze},name:"recharts-".concat(r)}})};function $oe(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Ao(),s=C.useRef(null);if(i)return r;s.current==null&&(s.current=Uze(e,n));var a=Bj;return C.createElement(VUe,{context:a,store:s.current},r)}function zze(t){var{layout:e,margin:r}=t,n=Bn(),i=Ao();return C.useEffect(()=>{i||(n(wOe(e)),n(bOe(r)))},[n,i,e,r]),null}var Hoe=C.memo(zze,gD);function qoe(t){var e=Bn();return C.useEffect(()=>{e(Dze(t))},[e,t]),null}function PG(t){var{zIndex:e,isPanorama:r}=t,n=C.useRef(null),i=Bn();return C.useLayoutEffect(()=>(n.current&&i(jLe({zIndex:e,element:n.current,isPanorama:r})),()=>{i(DLe({zIndex:e,isPanorama:r}))}),[i,e,r]),C.createElement("g",{tabIndex:-1,ref:n})}function jG(t){var{children:e,isPanorama:r}=t,n=Tt(TLe);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return C.createElement(C.Fragment,null,i.map(a=>C.createElement(PG,{key:a,zIndex:a,isPanorama:r})),e,s.map(a=>C.createElement(PG,{key:a,zIndex:a,isPanorama:r})))}var $ze=["children"];function Hze(t,e){if(t==null)return{};var r,n,i=qze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function UT(){return UT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},UT.apply(null,arguments)}var Wze={width:"100%",height:"100%",display:"block"},Gze=C.forwardRef((t,e)=>{var r=Yj(),n=Xj(),i=Aie();if(!Au(r)||!Au(n))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),C.createElement(Cj,UT({},a,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:Wze,ref:e}),s)}),Kze=t=>{var{children:e}=t,r=Tt(L4);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return C.createElement(Cj,{width:n,height:i,x:a,y:s},e)},DG=C.forwardRef((t,e)=>{var{children:r}=t,n=Hze(t,$ze),i=Ao();return i?C.createElement(Kze,null,C.createElement(jG,{isPanorama:!0},r)):C.createElement(Gze,UT({ref:e},n),C.createElement(jG,{isPanorama:!1},r))});function Yze(){var t=Bn(),[e,r]=C.useState(null),n=Tt(VOe);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ni(s)&&s!==n&&t(EOe(s))}},[e,t,n]),r}function MG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Xze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?MG(Object(r),!0).forEach(function(n){Qze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):MG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Qze(t,e,r){return(e=Jze(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Jze(t){var e=Zze(t,"string");return typeof e=="symbol"?e:e+""}function Zze(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vm(){return vm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vm.apply(null,arguments)}var e$e=()=>(l9e(),null);function zT(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var t$e=C.forwardRef((t,e)=>{var r,n,i=C.useRef(null),[s,a]=C.useState({containerWidth:zT((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:zT((n=t.style)===null||n===void 0?void 0:n.height)}),o=C.useCallback((u,d)=>{a(m=>{var g=Math.round(u),v=Math.round(d);return m.containerWidth===g&&m.containerHeight===v?m:{containerWidth:g,containerHeight:v}})},[]),l=C.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:m}=u.getBoundingClientRect();o(d,m);var g=x=>{var{width:b,height:w}=x[0].contentRect;o(b,w)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return C.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(B4,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",vm({ref:l},t)))}),r$e=C.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,s]=C.useState({containerWidth:zT(r),containerHeight:zT(n)}),a=C.useCallback((l,u)=>{s(d=>{var m=Math.round(l),g=Math.round(u);return d.containerWidth===m&&d.containerHeight===g?d:{containerWidth:m,containerHeight:g}})},[]),o=C.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return C.createElement(C.Fragment,null,C.createElement(B4,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",vm({ref:o},t)))}),n$e=C.forwardRef((t,e)=>{var{width:r,height:n}=t;return C.createElement(C.Fragment,null,C.createElement(B4,{width:r,height:n}),C.createElement("div",vm({ref:e},t)))}),i$e=C.forwardRef((t,e)=>{var{width:r,height:n}=t;return Pd(r)||Pd(n)?C.createElement(r$e,vm({},t,{ref:e})):C.createElement(n$e,vm({},t,{ref:e}))});function s$e(t){return t===!0?t$e:i$e}var a$e=C.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:m,onMouseUp:g,onTouchEnd:v,onTouchMove:x,onTouchStart:b,style:w,width:_,responsive:k,dispatchTouchEvents:A=!0}=t,R=C.useRef(null),P=Bn(),[j,S]=C.useState(null),[I,O]=C.useState(null),D=Yze(),M=Kj(),F=(M==null?void 0:M.width)>0?M.width:_,U=(M==null?void 0:M.height)>0?M.height:i,le=C.useCallback(ie=>{D(ie),typeof e=="function"&&e(ie),S(ie),O(ie),ie!=null&&(R.current=ie)},[D,e,S,O]),de=C.useCallback(ie=>{P(Poe(ie)),P(Cl({handler:s,reactEvent:ie}))},[P,s]),Z=C.useCallback(ie=>{P(_O(ie)),P(Cl({handler:u,reactEvent:ie}))},[P,u]),J=C.useCallback(ie=>{P(xae()),P(Cl({handler:d,reactEvent:ie}))},[P,d]),he=C.useCallback(ie=>{P(_O(ie)),P(Cl({handler:m,reactEvent:ie}))},[P,m]),ee=C.useCallback(()=>{P(Boe())},[P]),ve=C.useCallback(ie=>{P(Foe(ie.key))},[P]),H=C.useCallback(ie=>{P(Cl({handler:a,reactEvent:ie}))},[P,a]),B=C.useCallback(ie=>{P(Cl({handler:o,reactEvent:ie}))},[P,o]),q=C.useCallback(ie=>{P(Cl({handler:l,reactEvent:ie}))},[P,l]),W=C.useCallback(ie=>{P(Cl({handler:g,reactEvent:ie}))},[P,g]),Y=C.useCallback(ie=>{P(Cl({handler:b,reactEvent:ie}))},[P,b]),ue=C.useCallback(ie=>{A&&P(Uoe(ie)),P(Cl({handler:x,reactEvent:ie}))},[P,A,x]),pe=C.useCallback(ie=>{P(Cl({handler:v,reactEvent:ie}))},[P,v]),ce=s$e(k);return C.createElement(Vae.Provider,{value:j},C.createElement(Wre.Provider,{value:I},C.createElement(ce,{width:F??(w==null?void 0:w.width),height:U??(w==null?void 0:w.height),className:Xr("recharts-wrapper",n),style:Xze({position:"relative",cursor:"default",width:F,height:U},w),onClick:de,onContextMenu:H,onDoubleClick:B,onFocus:ee,onKeyDown:ve,onMouseDown:q,onMouseEnter:Z,onMouseLeave:J,onMouseMove:he,onMouseUp:W,onTouchEnd:pe,onTouchMove:ue,onTouchStart:Y,ref:le},C.createElement(e$e,null),r)))}),o$e=["width","height","responsive","children","className","style","compact","title","desc"];function l$e(t,e){if(t==null)return{};var r,n,i=c$e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function c$e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Woe=C.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:d}=t,m=l$e(t,o$e),g=il(m);return l?C.createElement(C.Fragment,null,C.createElement(B4,{width:r,height:n}),C.createElement(DG,{otherAttributes:g,title:u,desc:d},s)):C.createElement(a$e,{className:a,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(DG,{otherAttributes:g,title:u,desc:d,ref:e},C.createElement(jVe,null,s)))});function EO(){return EO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},EO.apply(null,arguments)}var u$e={top:5,right:5,bottom:5,left:5},d$e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:u$e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},h$e=C.forwardRef(function(e,r){var n,i=_s(e.categoricalChartProps,d$e),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return C.createElement($oe,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},C.createElement(voe,{chartData:u.data}),C.createElement(Hoe,{layout:i.layout,margin:i.margin}),C.createElement(qoe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(Woe,EO({},i,{ref:r})))});function f$e(t){var e=Bn();return C.useEffect(()=>{e(Mze(t))},[e,t]),null}var m$e=["layout"];function TO(){return TO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TO.apply(null,arguments)}function p$e(t,e){if(t==null)return{};var r,n,i=g$e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function g$e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var v$e={top:5,right:5,bottom:5,left:5},Goe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:v$e,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},y$e=C.forwardRef(function(e,r){var n,i=_s(e.categoricalChartProps,Goe),{layout:s}=i,a=p$e(i,m$e),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,m={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement($oe,{preloadedState:{options:m},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},C.createElement(voe,{chartData:i.data}),C.createElement(Hoe,{layout:s,margin:i.margin}),C.createElement(qoe,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(f$e,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(Woe,TO({},a,{ref:r})))});function LG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function FG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LG(Object(r),!0).forEach(function(n){x$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function x$e(t,e,r){return(e=b$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function b$e(t){var e=w$e(t,"string");return typeof e=="symbol"?e:e+""}function w$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _$e=["item"],E$e=FG(FG({},Goe),{},{layout:"centric",startAngle:0,endAngle:360}),T$e=C.forwardRef((t,e)=>{var r=_s(t,E$e);return C.createElement(y$e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:_$e,tooltipPayloadSearcher:Uae,categoricalChartProps:r,ref:e})}),S$e=["axis"],Koe=C.forwardRef((t,e)=>C.createElement(h$e,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:S$e,tooltipPayloadSearcher:Uae,categoricalChartProps:t,ref:e}));const k$e=({userRole:t})=>{if(!["admin","quan_ly","lanh_dao"].includes(t))return null;const e=In(_=>_.setAppState),[r,n]=C.useState(!1),[i,s]=C.useState(!1),[a,o]=C.useState("7d"),[l,u]=C.useState([]),[d,m]=C.useState(null),[g,v]=C.useState(!1),[x,b]=C.useState(null);if(C.useEffect(()=>{n(!0)},[]),C.useEffect(()=>{r&&(async()=>{v(!0);try{const k=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:a})});if(k.ok){const A=await k.json();u(A.chart),m(A.metrics)}else{const A=await k.text();console.error("Failed to fetch analytics:",A),b("Li kt ni API: "+k.status);try{const R=JSON.parse(A);R.error&&b(R.error)}catch{}u([]),m(null)}}catch(k){console.error("Error fetching analytics:",k),b(k.message||"Li khng xc nh")}finally{v(!1)}})()},[a,r]),!r)return null;const w=_=>{const k=Math.floor(_/60),A=Math.floor(_%60);return`${k}m ${A}s`};return f.jsx(jg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4",children:f.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-gray-100 dark:border-zinc-800 overflow-hidden transition-all duration-300",children:[f.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-zinc-800 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white dark:from-zinc-900 dark:to-zinc-900 cursor-pointer",onClick:()=>s(!i),children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:f.jsx(dz,{className:"text-blue-600 dark:text-blue-400"})}),f.jsxs("div",{children:[f.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Tng quan truy cp"}),f.jsx("p",{className:"text-xs text-gray-500",children:a==="7d"?"7 ngy qua":a==="30d"?"30 ngy qua":"Hm nay"})]})]}),f.jsxs("div",{className:"flex items-center gap-3",onClick:_=>_.stopPropagation(),children:[f.jsx("button",{onClick:_=>{_.stopPropagation(),e(Lre.ANALYTICS)},className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:"Xem chi tit"}),f.jsxs("select",{value:a,onChange:_=>o(_.target.value),className:"text-xs border-none bg-gray-100 dark:bg-zinc-800 rounded-lg px-3 py-1.5 text-gray-600 dark:text-gray-300 focus:ring-0 cursor-pointer hover:bg-gray-200 transition-colors outline-none",children:[f.jsx("option",{value:"7d",children:"7 ngy qua"}),f.jsx("option",{value:"30d",children:"30 ngy qua"}),f.jsx("option",{value:"today",children:"Hm nay"})]}),f.jsx("button",{onClick:()=>s(!i),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:i?f.jsx(iAe,{}):f.jsx(nAe,{})})]})]}),f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-white dark:bg-zinc-900 relative",children:[g&&f.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-zinc-900/50 z-10 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&f.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-zinc-900/90 z-10 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[f.jsx("p",{className:"font-bold",children:"Khng th ti d liu"}),f.jsx("p",{className:"text-sm",children:x}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra quyn truy cp Service Account"})]}),f.jsx(a_,{icon:f.jsx(sf,{className:"text-blue-500"}),label:"Ngi dng mi",value:d?d.newUsers.toLocaleString():"...",trend:"--",trendUp:!0,color:"bg-blue-50 dark:bg-blue-900/20"}),f.jsx(a_,{icon:f.jsx(yAe,{className:"text-green-500"}),label:"Thi gian TB",value:d?w(d.avgSessionDuration):"...",trend:"--",trendUp:!0,color:"bg-green-50 dark:bg-green-900/20"}),f.jsx(a_,{icon:f.jsx(uAe,{className:"text-purple-500"}),label:"Phin truy cp",value:d?d.totalSessions.toLocaleString():"...",trend:"--",trendUp:!0,color:"bg-purple-50 dark:bg-purple-900/20"}),f.jsx(a_,{icon:f.jsx(dz,{className:"text-orange-500"}),label:"T l thot",value:d?`${d.bounceRate.toFixed(1)}%`:"...",trend:"--",trendUp:!1,color:"bg-orange-50 dark:bg-orange-900/20"})]}),f.jsx(YX,{children:i&&f.jsx(jg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden border-t border-gray-100 dark:border-zinc-800",children:f.jsxs("div",{className:"p-6 h-[350px] w-full bg-gray-50/30 dark:bg-zinc-900/30 relative",children:[g&&f.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-zinc-900/50 z-10 flex items-center justify-center",children:f.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&f.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-zinc-900/90 z-10 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[f.jsx("p",{className:"font-bold",children:"Khng th ti d liu"}),f.jsx("p",{className:"text-sm",children:x}),f.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra quyn truy cp Service Account"})]}),f.jsx($I,{width:"100%",height:"100%",children:f.jsxs(Koe,{data:l,margin:{top:10,right:10,left:0,bottom:0},children:[f.jsxs("defs",{children:[f.jsxs("linearGradient",{id:"colorVisits",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),f.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),f.jsx(pD,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB",opacity:.5}),f.jsx(xD,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12},dy:10,interval:a==="30d"?4:0}),f.jsx(bD,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),f.jsx(gO,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),f.jsx(VT,{type:"monotone",dataKey:"visits",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorVisits)",name:"Lt truy cp",animationDuration:1e3}),f.jsx(VT,{type:"monotone",dataKey:"users",stroke:"#10B981",strokeWidth:3,fillOpacity:1,fill:"url(#colorUsers)",name:"Ngi dng",animationDuration:1e3})]})})]})})})]})})},a_=({icon:t,label:e,value:r,trend:n,trendUp:i,color:s})=>f.jsxs("div",{className:`p-4 rounded-xl ${s} transition-all duration-300 hover:shadow-md`,children:[f.jsxs("div",{className:"flex justify-between items-start mb-2",children:[f.jsx("div",{className:"p-2 bg-white dark:bg-zinc-800 rounded-lg shadow-sm",children:t}),f.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${i?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:n})]}),f.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:r}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:e})]}),A$e=({userProfile:t,onStart:e,onHistoryClick:r,onClassClick:n,onOnlineExamClick:i})=>{const{theme:s}=ua();return f.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 animate-slide-in-right",children:[f.jsx(k$e,{userRole:t.role}),f.jsx(u5e,{userRole:t.role}),f.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[f.jsx("div",{className:"flex flex-col items-center",children:f.jsx(c5e,{user:t})}),f.jsxs("div",{className:"bg-card/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-border",children:[f.jsxs("h1",{className:"text-3xl font-bold text-primary mb-6 text-center",children:["Xin cho, ",t.full_name||"Hc vin","!"]}),f.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Chc bn c mt bui n tp hiu qu v t kt qu cao."}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("button",{onClick:e,className:"w-full bg-primary text-primary-foreground font-bold text-lg py-4 px-6 rounded-xl hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-lg",children:[f.jsx(RR,{className:"w-8 h-8"}),f.jsx("span",{children:"Vo n Tp / Thi Th"})]}),["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role)&&f.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white font-bold text-lg py-4 px-6 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-lg",children:[f.jsx(Nye,{className:"w-8 h-8"}),f.jsx("span",{children:"Qun l Thi Trc Tuyn"})]})]})]})]})]})},$T=async t=>{try{const e=cr(Vt(Ge,"exam_results"),gr("studentId","==",t));return(await Zr(e)).docs.map(i=>{const s=i.data(),a=s.submitted_at||s.completedAt,o=a?a.toDate():new Date;return{id:i.id,...s,userId:s.studentId,completedAt:o}}).sort((i,s)=>s.completedAt.getTime()-i.completedAt.getTime())}catch(e){return console.error("Error fetching exam history:",e),[]}},C$e=({userProfile:t,onBack:e})=>{const[r,n]=C.useState([]),[i,s]=C.useState(!0),[a,o]=C.useState({});C.useEffect(()=>{(async()=>{const g=await $T(t.id);g.sort((x,b)=>b.completedAt.getTime()-x.completedAt.getTime()),n(g),s(!1);const v=Array.from(new Set(g.filter(x=>x.roomId).map(x=>x.roomId)));if(v.length>0){const x={};await Promise.all(v.map(async b=>{try{const{doc:w,getDoc:_}=await Jr(async()=>{const{doc:R,getDoc:P}=await Promise.resolve().then(()=>nm);return{doc:R,getDoc:P}},void 0),{db:k}=await Jr(async()=>{const{db:R}=await Promise.resolve().then(()=>Ate);return{db:R}},void 0),A=await _(w(k,"exam_rooms",b));A.exists()&&(x[b]=A.data())}catch(w){console.error(`Error fetching room ${b}`,w)}})),o(x)}})()},[t.id]);const l=m=>m.roomId?"Thi Trc Tuyn":m.quizId==="exam-quiz"||m.quizId==="thithu2"||m.type==="Thi th"?"Thi th":"n tp",u=m=>{switch(m){case"Thi Trc Tuyn":return"bg-red-100 text-red-800 border-red-200";case"Thi th":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},d=m=>{if(m.roomId&&a[m.roomId]){const g=a[m.roomId];return`Phng thi ${g.name} / ${g.course_name||"T do"} / ${g.license_name||""}`}return m.quizTitle||(m.roomId?`Phng thi ${m.roomId}`:m.type)};return f.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[f.jsx(nf,{className:"text-primary"}),"Lch s n tp & Thi"]}),f.jsx("button",{onClick:e,className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-secondary/80 transition-colors shadow-sm",children:"Quay li"})]}),i?f.jsx("div",{className:"text-center p-8",children:f.jsx("p",{className:"text-muted-foreground",children:"ang ti d liu..."})}):r.length===0?f.jsx("div",{className:"text-center p-8 bg-card rounded-xl shadow-sm border border-border",children:f.jsx("p",{className:"text-muted-foreground",children:"Cha c lch s lm bi no."})}):f.jsx("div",{className:"bg-white dark:bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"bg-muted/50 border-b border-border text-xs uppercase text-muted-foreground",children:[f.jsx("th",{className:"p-4 font-semibold",children:"Loi"}),f.jsx("th",{className:"p-4 font-semibold",children:"Bi thi"}),f.jsx("th",{className:"p-4 font-semibold text-center",children:"im s"}),f.jsx("th",{className:"p-4 font-semibold",children:"Gi np"})," ",f.jsx("th",{className:"p-4 font-semibold",children:"Ngy np"})]})}),f.jsx("tbody",{className:"divide-y divide-border",children:r.map(m=>{const g=l(m);return f.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[f.jsx("td",{className:"p-4 align-middle",children:f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${u(g)}`,children:g})}),f.jsx("td",{className:"p-4 align-middle font-medium text-foreground",children:d(m)}),f.jsxs("td",{className:"p-4 align-middle text-center",children:[f.jsx("span",{className:"font-bold text-primary",children:m.score}),f.jsxs("span",{className:"text-muted-foreground text-sm",children:[" / ",m.totalQuestions]})]}),f.jsx("td",{className:"p-4 align-middle text-sm",children:new Date(m.completedAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}),f.jsx("td",{className:"p-4 align-middle text-sm text-muted-foreground",children:new Date(m.completedAt).toLocaleDateString("vi-VN")})]},m.id)})})]})})})]})},N$e=t=>{if(!t)return"Thnh vin";const e=t.toLowerCase().trim();return{admin:"Qun tr vin",quan_ly:"Qun l",lanh_dao:"Lnh o",giao_vien:"Gio vin",hoc_vien:"Hc vin",phu_huynh:"Ph huynh"}[e]||t},I$e=({userProfile:t,onBack:e})=>{const[r,n]=C.useState(null),[i,s]=C.useState([]),[a,o]=C.useState([]),[l,u]=C.useState(!0),[d,m]=C.useState("grid"),[g,v]=C.useState({}),[x,b]=C.useState("");return C.useEffect(()=>{let w,_,k;return(async()=>{if(!t.id)return;const R=Rt(Ge,"users",t.id),P=await yu(R);if(!P.exists()){u(!1);return}const S=P.data().courseId;if(!S){u(!1);return}const I=Rt(Ge,"courses",S);w=wo(I,O=>{if(O.exists()){const D={id:O.id,...O.data()};if(n(D),D.licenseId&&Jr(async()=>{const{fetchLicenses:M}=await Promise.resolve().then(()=>$M);return{fetchLicenses:M}},void 0).then(({fetchLicenses:M})=>{M().then(F=>{const U=F.find(le=>le.id===D.licenseId);U&&b(U.name)})}),_&&_(),D.teacherIds&&D.teacherIds.length>0)try{const M=[...new Set(D.teacherIds.filter(F=>F&&F.trim()!==""))].slice(0,10);if(M.length>0){const F=cr(Vt(Ge,"users"),gr(qS(),"in",M));_=wo(F,U=>{s(U.docs.map(le=>{const de=le.data();return{uid:le.id,...de,photoURL:de.photoURL||wf(de.role)}}))})}else s([])}catch(M){console.error("Error creating teacher query:",M),s([])}else s([]);if(k)u(!1);else{const M=cr(Vt(Ge,"users"),gr("courseId","==",S),gr("role","==","hoc_vien"));k=wo(M,async F=>{const U=F.docs.map(de=>{const Z=de.data();return{uid:de.id,...Z,photoURL:Z.photoURL||wf(Z.role)}});o(U);const le={};await Promise.all(U.map(async de=>{try{const Z=await $T(de.uid);if(Z&&Z.length>0){const J=Z[0];le[de.uid]={type:J.quizTitle||J.type||"Bi thi",time:J.completedAt?J.completedAt.toLocaleString("vi-VN"):"--",score:`${J.score}/${J.totalQuestions} cu`}}else le[de.uid]={type:"--",time:"--",score:"--"}}catch(Z){console.error(`Error fetching history for ${de.uid}`,Z),le[de.uid]={type:"Li",time:"--",score:"--"}}})),v(le),u(!1)})}}else n(null),u(!1)})})(),()=>{w&&w(),_&&_(),k&&k()}},[t.id]),l?f.jsx("div",{className:"flex justify-center items-center h-screen",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):r?f.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 mb-2 transition-colors font-medium",children:[f.jsx(H0,{})," Quay li Dashboard"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:f.jsx(P0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:r.name}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-0.5",children:r.description||"Cha c m t"}),x&&f.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold border border-yellow-200",children:[f.jsx(zE,{}),f.jsxs("span",{children:["Chng ch: ",x]})]})]})]})]}),f.jsxs("div",{className:"flex gap-4",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 flex items-center gap-3",children:[f.jsx("div",{className:"bg-green-100 p-2 rounded-full text-green-600",children:f.jsx(xg,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500",children:"Gio vin"}),f.jsx("p",{className:"font-bold text-lg",children:i.length})]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 flex items-center gap-3",children:[f.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:f.jsx(sf,{})}),f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-500",children:"Hc vin"}),f.jsx("p",{className:"font-bold text-lg",children:a.length})]})]})]})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[f.jsx("div",{className:"lg:col-span-1 space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-5 sticky top-20",children:[f.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-800 dark:text-white border-b pb-3 border-gray-100 dark:border-slate-700",children:[f.jsx(xg,{className:"text-green-500"})," i ng Gio vin"]}),f.jsxs("div",{className:"space-y-3",children:[i.map(w=>f.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors group cursor-pointer",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}&background=random`,alt:w.fullName,className:"w-10 h-10 rounded-full object-cover border border-gray-200 dark:border-slate-600 group-hover:scale-105 transition-transform"}),r.headTeacherId===w.uid&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-white rounded-full p-0.5 border-2 border-white",children:f.jsx(zE,{size:10})})]}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:w.fullName}),f.jsx("p",{className:"text-[11px] text-gray-400",children:N$e(w.role)}),r.headTeacherId===w.uid&&f.jsx("span",{className:"inline-flex items-center text-[10px] font-bold text-yellow-600",children:" GV Ch Nhim"})]})]},w.uid)),i.length===0&&f.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Cha c thng tin gio vin."})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 min-h-[500px]",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[f.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[f.jsx("button",{onClick:()=>m("grid"),className:`p-1.5 rounded ${d==="grid"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng li",children:f.jsx(Vte,{})}),f.jsx("button",{onClick:()=>m("list"),className:`p-1.5 rounded ${d==="list"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng danh sch",children:f.jsx(Dte,{})})]}),f.jsxs("span",{className:"text-sm px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:[a.length," thnh vin"]})]}),a.length===0?f.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[f.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-6 rounded-full mb-4",children:f.jsx(sf,{className:"text-gray-300 w-12 h-12"})}),f.jsx("p",{className:"text-gray-500 font-medium",children:"Lp cha c hc vin no khc."})]}):d==="grid"?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5",children:a.map(w=>f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-4 border border-gray-100 dark:border-slate-700 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30 transition-all duration-300 group relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-100 to-transparent -mr-8 -mt-8 rounded-full opacity-50 group-hover:scale-150 transition-transform"}),f.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}&background=random`,alt:w.fullName,className:"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-slate-600 shadow-sm group-hover:border-blue-500 transition-colors"}),f.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full"})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 transition-colors text-base",children:w.fullName}),f.jsxs("div",{className:"space-y-1.5 mt-2",children:[f.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5 bg-white dark:bg-slate-800 px-2 py-1 rounded border border-gray-100 dark:border-slate-600 w-fit",children:[f.jsx("span",{children:""})," ",w.birthDate||"--/--"]}),f.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1.5",title:w.address,children:[f.jsx("span",{children:""})," ",w.address||"Cha cp nht"]})]}),w.uid===t.id&&f.jsx("div",{className:"mt-2",children:f.jsx("span",{className:"text-[10px] font-bold text-teal-600 bg-teal-50 border border-teal-100 px-2 py-0.5 rounded-full",children:"L ti"})})]})]})]},w.uid))}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-sm text-left",children:[f.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-slate-700 dark:text-gray-300",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Hc vin"}),f.jsx("th",{className:"px-4 py-3",children:"Ngy sinh"}),f.jsx("th",{className:"px-4 py-3",children:"Bi lm gn nht"}),f.jsx("th",{className:"px-4 py-3",children:"Thi gian"}),f.jsx("th",{className:"px-4 py-3 rounded-r-lg",children:"im"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:a.map(w=>{const _=g[w.uid]||{type:"--",time:"--",score:"--"};return f.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white flex items-center gap-3",children:[f.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}`,className:"w-8 h-8 rounded-full border border-gray-200"}),f.jsxs("div",{children:[f.jsx("p",{children:w.fullName}),w.uid===t.id&&f.jsx("span",{className:"text-[10px] font-bold text-teal-600 border border-teal-100 bg-teal-50 px-1 rounded",children:"Ti"})]})]}),f.jsx("td",{className:"px-4 py-3 text-gray-500",children:w.birthDate||"--"}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold
                                                        ${_.type.includes("n")?"bg-blue-100 text-blue-700":_.type.includes("Th")?"bg-purple-100 text-purple-700":_.type==="--"?"bg-gray-100 text-gray-500":"bg-red-100 text-red-700"}`,children:_.type})}),f.jsx("td",{className:"px-4 py-3 text-gray-500",children:_.time}),f.jsx("td",{className:"px-4 py-3 font-bold text-teal-600",children:_.score})]},w.uid)})})]})})]})})]})]}):f.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-emerald-600",children:[f.jsx(P0,{className:"text-teal-600"})," Lp Ca Ti"]}),f.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Quay li"})]}),f.jsx("div",{className:"text-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:f.jsx("p",{className:"text-gray-500",children:"Bn cha c phn lp."})})]})};function BG(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.788 5.758l-.788 -2.758h3l4 7h4a2 2 0 1 1 0 4h-2m-2.718 1.256l-3.282 5.744h-3l2 -7h-4l-2 2h-3l2 -4l-2 -4h3l2 2h3"},child:[]},{tag:"path",attr:{d:"M3 3l18 18"},child:[]}]})(t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var HT={};HT.version="0.18.5";var Yoe=1252,O$e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],TD={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},SD=function(t){O$e.indexOf(t)!=-1&&(Yoe=TD[0]=t)};function R$e(){SD(1252)}var bc=function(t){SD(t)};function kD(){bc(1200),R$e()}function VG(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function P$e(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function Xoe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var d1=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?P$e(t.slice(2)):e==254&&r==255?Xoe(t.slice(2)):e==65279?t.slice(1):t},o_=function(e){return String.fromCharCode(e)},UG=function(e){return String.fromCharCode(e)},Rx,Wh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Px(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Wh.charAt(s)+Wh.charAt(a)+Wh.charAt(o)+Wh.charAt(l);return e}function al(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Wh.indexOf(t.charAt(u++)),a=Wh.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Wh.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Wh.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var lr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Xd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function Tf(t){return lr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function zG(t){return lr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Xo=function(e){return lr?Xd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function hk(t){if(typeof ArrayBuffer>"u")return Xo(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Vf(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function j$e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function AD(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return AD(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Vs=lr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Xd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function D$e(t){for(var e=[],r=0,n=t.length+250,i=Tf(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=Tf(65535),n=65530)}return e.push(i.slice(0,r)),Vs(e)}var Ka=/\u0000/g,h1=/[\u0001-\u0006]/g;function Tg(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function wc(t,e){var r=""+t;return r.length>=e?r:Si("0",e-r.length)+r}function CD(t,e){var r=""+t;return r.length>=e?r:Si(" ",e-r.length)+r}function qT(t,e){var r=""+t;return r.length>=e?r:r+Si(" ",e-r.length)}function M$e(t,e){var r=""+Math.round(t);return r.length>=e?r:Si("0",e-r.length)+r}function L$e(t,e){var r=""+t;return r.length>=e?r:Si("0",e-r.length)+r}var $G=Math.pow(2,32);function Bp(t,e){if(t>$G||t<-$G)return M$e(t,e);var r=Math.round(t);return L$e(r,e)}function WT(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var HG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],v5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function F$e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Mt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},qG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},B$e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function GT(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,d=0,m=Math.floor(i);u<e&&(m=Math.floor(i),o=m*a+s,d=m*u+l,!(i-m<5e-8));)i=1/(i-m),s=a,a=o,l=u,u=d;if(d>e&&(u>e?(d=l,o=s):(d=u,o=a)),!r)return[0,n*o,d];var g=Math.floor(n*o/d);return[g,n*o-g*d,d]}function B0(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=q$e(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var Qoe=new Date(1899,11,31,0,0,0),V$e=Qoe.getTime(),U$e=new Date(1900,2,1,0,0,0);function Joe(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=U$e&&(r+=1440*60*1e3),(r-(V$e+(t.getTimezoneOffset()-Qoe.getTimezoneOffset())*6e4))/(1440*60*1e3)}function ND(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function z$e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function $$e(t){var e=t<0?12:11,r=ND(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function H$e(t){var e=ND(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function jx(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=$$e(t):e===10?r=t.toFixed(10).substr(0,12):r=H$e(t),ND(z$e(r.toUpperCase()))}function ym(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):jx(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Gl(14,Joe(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function q$e(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function W$e(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return v5[r.m-1][1];case 5:return v5[r.m-1][0];default:return v5[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return HG[r.q][0];default:return HG[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?wc(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=wc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?wc(l,u):"";return d}function Gh(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Zoe=/%/g;function G$e(t,e,r){var n=e.replace(Zoe,""),i=e.length-n.length;return wd(t,n,r*Math.pow(10,2*i))+Si("%",i)}function K$e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return wd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function ele(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+ele(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var tle=/# (\?+)( ?)\/( ?)(\d+)/;function Y$e(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?Si(" ",t[1].length+1+t[4].length):CD(a,t[1].length)+t[2]+"/"+t[3]+wc(o,t[4].length))}function X$e(t,e,r){return r+(e===0?"":""+e)+Si(" ",t[1].length+2+t[4].length)}var rle=/^#*0*\.([0#]+)/,nle=/\).*[0#]/,ile=/\(###\) ###\\?-####/;function Ua(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function WG(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function GG(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function Q$e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function J$e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function Nl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nle)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Nl("n",n,r):"("+Nl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return K$e(t,e,r);if(e.indexOf("%")!==-1)return G$e(t,e,r);if(e.indexOf("E")!==-1)return ele(e,r);if(e.charCodeAt(0)===36)return"$"+Nl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Bp(l,e.length);if(e.match(/^[#?]+$/))return i=Bp(r,0),i==="0"&&(i=""),i.length>e.length?i:Ua(e.substr(0,e.length-i.length))+i;if(s=e.match(tle))return Y$e(s,l,u);if(e.match(/^#+0+$/))return u+Bp(l,e.length-e.indexOf("0"));if(s=e.match(rle))return i=WG(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ua(s[1])).replace(/\.$/,"."+Ua(s[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+Si("0",Ua(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+WG(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Gh(Bp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Nl(t,e,-r):Gh(""+(Math.floor(r)+Q$e(r,s[1].length)))+"."+wc(GG(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return Nl(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tg(Nl(t,e.replace(/[\\-]/g,""),r)),a=0,Tg(Tg(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(ile))return i=Nl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=GT(l,Math.pow(10,a)-1,!1),i=""+u,d=wd("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=qT(o[2],a),d.length<s[4].length&&(d=Ua(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=GT(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?CD(o[1],a)+s[2]+"/"+s[3]+qT(o[2],a):Si(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Bp(r,0),e.length<=i.length?i:Ua(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var m=e.indexOf(".")-a,g=e.length-i.length-m;return Ua(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=GG(r,s[1].length),r<0?"-"+Nl(t,e,-r):Gh(J$e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?wc(0,3-x.length):"")+x})+"."+wc(a,s[1].length);switch(e){case"###,##0.00":return Nl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Gh(Bp(l,0));return v!=="0"?u+v:"";case"###,###.00":return Nl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return Nl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function Z$e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return wd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function eHe(t,e,r){var n=e.replace(Zoe,""),i=e.length-n.length;return wd(t,n,r*Math.pow(10,2*i))+Si("%",i)}function sle(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+sle(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function iu(t,e,r){if(t.charCodeAt(0)===40&&!e.match(nle)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?iu("n",n,r):"("+iu("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return Z$e(t,e,r);if(e.indexOf("%")!==-1)return eHe(t,e,r);if(e.indexOf("E")!==-1)return sle(e,r);if(e.charCodeAt(0)===36)return"$"+iu(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+wc(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ua(e.substr(0,e.length-i.length))+i;if(s=e.match(tle))return X$e(s,l,u);if(e.match(/^#+0+$/))return u+wc(l,e.length-e.indexOf("0"));if(s=e.match(rle))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ua(s[1])).replace(/\.$/,"."+Ua(s[1])),i=i.replace(/\.(\d*)$/,function(x,b){return"."+b+Si("0",Ua(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Gh(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+iu(t,e,-r):Gh(""+r)+"."+Si("0",s[1].length);if(s=e.match(/^#,#*,#0/))return iu(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=Tg(iu(t,e.replace(/[\\-]/g,""),r)),a=0,Tg(Tg(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(ile))return i=iu(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=GT(l,Math.pow(10,a)-1,!1),i=""+u,d=wd("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=qT(o[2],a),d.length<s[4].length&&(d=Ua(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=GT(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?CD(o[1],a)+s[2]+"/"+s[3]+qT(o[2],a):Si(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ua(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var m=e.indexOf(".")-a,g=e.length-i.length-m;return Ua(e.substr(0,m)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+iu(t,e,-r):Gh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?wc(0,3-x.length):"")+x})+"."+wc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Gh(""+l);return v!=="0"?u+v:"";default:if(e.match(/\.[0#?]*$/))return iu(t,e.slice(0,e.lastIndexOf(".")),r)+Ua(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function wd(t,e,r){return(r|0)===r?iu(t,e,r):Nl(t,e,r)}function tHe(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var ale=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Gv(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":WT(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(ale))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function rHe(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,d,m,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!WT(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(m=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(m);i[i.length]={t:"t",v:s},++a;break;case"\\":var v=t.charAt(++a),x=v==="("||v===")"?v:"t";i[i.length]={t:x,v},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=B0(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=B0(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var b={t:o,v:o};if(u==null&&(u=B0(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",a+=5,g="h"):(b.t="t",++a),u==null&&b.t==="T")return"";i[i.length]=b,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(ale)){if(u==null&&(u=B0(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Gv(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var w=0,_=0,k;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,l="h",w<1&&(w=1);break;case"s":(k=i[a].v.match(/\.0+$/))&&(_=Math.max(_,k[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[a].v.match(/[Hh]/)&&(w=1),w<2&&i[a].v.match(/[Mm]/)&&(w=2),w<3&&i[a].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var A="",R;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=W$e(i[a].t.charCodeAt(0),i[a].v,u,_),i[a].t="t";break;case"n":case"?":for(R=a+1;i[R]!=null&&((o=i[R].t)==="?"||o==="D"||(o===" "||o==="t")&&i[R+1]!=null&&(i[R+1].t==="?"||i[R+1].t==="t"&&i[R+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[R].v==="/"||i[R].v===" "&&i[R+1]!=null&&i[R+1].t=="?"));)i[a].v+=i[R].v,i[R]={v:"",t:";"},++R;A+=i[a].v,a=R-1;break;case"G":i[a].t="t",i[a].v=ym(e,r);break}var P="",j,S;if(A.length>0){A.charCodeAt(0)==40?(j=e<0&&A.charCodeAt(0)===45?-e:e,S=wd("n",A,j)):(j=e<0&&n>1?-e:e,S=wd("n",A,j),j<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),R=S.length-1;var I=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){I=a;break}var O=i.length;if(I===i.length&&S.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(R>=i[a].v.length-1?(R-=i[a].v.length,i[a].v=S.substr(R+1,i[a].v.length)):R<0?i[a].v="":(i[a].v=S.substr(0,R+1),R=-1),i[a].t="t",O=a);R>=0&&O<i.length&&(i[O].v=S.substr(0,R+1)+i[O].v)}else if(I!==i.length&&S.indexOf("E")===-1){for(R=S.indexOf(".")-1,a=I;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")-1:i[a].v.length-1,P=i[a].v.substr(d+1);d>=0;--d)R>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(P=S.charAt(R--)+P);i[a].v=P,i[a].t="t",O=a}for(R>=0&&O<i.length&&(i[O].v=S.substr(0,R+1)+i[O].v),R=S.indexOf(".")+1,a=I;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==I)){for(d=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")+1:0,P=i[a].v.substr(0,d);d<i[a].v.length;++d)R<S.length&&(P+=S.charAt(R++));i[a].v=P,i[a].t="t",O=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(j=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=wd(i[a].t,i[a].v,j),i[a].t="t");var D="";for(a=0;a!==i.length;++a)i[a]!=null&&(D+=i[a].v);return D}var KG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function YG(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function nHe(t,e){var r=tHe(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(KG),o=r[1].match(KG);return YG(e,a)?[n,r[0]]:YG(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Gl(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Mt)[t],n==null&&(n=r.table&&r.table[qG[t]]||Mt[qG[t]]),n==null&&(n=B$e[t]||"General");break}if(WT(n,0))return ym(e,r);e instanceof Date&&(e=Joe(e,r.date1904));var i=nHe(n,e);if(WT(i[1]))return ym(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return rHe(i[1],e,r,i[0])}function _d(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Mt[r]==null){e<0&&(e=r);continue}if(Mt[r]==t){e=r;break}}e<0&&(e=391)}return Mt[e]=t,e}function fk(t){for(var e=0;e!=392;++e)t[e]!==void 0&&_d(t[e],e)}function Kv(){Mt=F$e()}var iHe={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},ole=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function sHe(t){var e=typeof t=="number"?Mt[t]:t;return e=e.replace(ole,"(\\d+)"),new RegExp("^"+e+"$")}function aHe(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(ole)||[]).forEach(function(m,g){var v=parseInt(r[g+1],10);switch(m.toLowerCase().charAt(0)){case"y":n=v;break;case"d":s=v;break;case"h":a=v;break;case"s":l=v;break;case"m":a>=0?o=v:i=v;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?d:u+"T"+d}var oHe=(function(){var t={};t.version="1.2.0";function e(){for(var S=0,I=new Array(256),O=0;O!=256;++O)S=O,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,I[O]=S;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function n(S){var I=0,O=0,D=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)M[D]=S[D];for(D=0;D!=256;++D)for(O=S[D],I=256+D;I<4096;I+=256)O=M[I]=O>>>8^S[O&255];var F=[];for(D=1;D!=16;++D)F[D-1]=typeof Int32Array<"u"?M.subarray(D*256,D*256+256):M.slice(D*256,D*256+256);return F}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],d=i[5],m=i[6],g=i[7],v=i[8],x=i[9],b=i[10],w=i[11],_=i[12],k=i[13],A=i[14];function R(S,I){for(var O=I^-1,D=0,M=S.length;D<M;)O=O>>>8^r[(O^S.charCodeAt(D++))&255];return~O}function P(S,I){for(var O=I^-1,D=S.length-15,M=0;M<D;)O=A[S[M++]^O&255]^k[S[M++]^O>>8&255]^_[S[M++]^O>>16&255]^w[S[M++]^O>>>24]^b[S[M++]]^x[S[M++]]^v[S[M++]]^g[S[M++]]^m[S[M++]]^d[S[M++]]^u[S[M++]]^l[S[M++]]^o[S[M++]]^a[S[M++]]^s[S[M++]]^r[S[M++]];for(D+=15;M<D;)O=O>>>8^r[(O^S[M++])&255];return~O}function j(S,I){for(var O=I^-1,D=0,M=S.length,F=0,U=0;D<M;)F=S.charCodeAt(D++),F<128?O=O>>>8^r[(O^F)&255]:F<2048?(O=O>>>8^r[(O^(192|F>>6&31))&255],O=O>>>8^r[(O^(128|F&63))&255]):F>=55296&&F<57344?(F=(F&1023)+64,U=S.charCodeAt(D++)&1023,O=O>>>8^r[(O^(240|F>>8&7))&255],O=O>>>8^r[(O^(128|F>>2&63))&255],O=O>>>8^r[(O^(128|U>>6&15|(F&3)<<4))&255],O=O>>>8^r[(O^(128|U&63))&255]):(O=O>>>8^r[(O^(224|F>>12&15))&255],O=O>>>8^r[(O^(128|F>>6&63))&255],O=O>>>8^r[(O^(128|F&63))&255]);return~O}return t.table=r,t.bstr=R,t.buf=P,t.str=j,t})(),It=(function(){var e={};e.version="1.2.1";function r(K,ae){for(var te=K.split("/"),ne=ae.split("/"),se=0,oe=0,_e=Math.min(te.length,ne.length);se<_e;++se){if(oe=te[se].length-ne[se].length)return oe;if(te[se]!=ne[se])return te[se]<ne[se]?-1:1}return te.length-ne.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(0,ae+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(ae+1)}function s(K,ae){typeof ae=="string"&&(ae=new Date(ae));var te=ae.getHours();te=te<<6|ae.getMinutes(),te=te<<5|ae.getSeconds()>>>1,K.write_shift(2,te);var ne=ae.getFullYear()-1980;ne=ne<<4|ae.getMonth()+1,ne=ne<<5|ae.getDate(),K.write_shift(2,ne)}function a(K){var ae=K.read_shift(2)&65535,te=K.read_shift(2)&65535,ne=new Date,se=te&31;te>>>=5;var oe=te&15;te>>>=4,ne.setMilliseconds(0),ne.setFullYear(te+1980),ne.setMonth(oe-1),ne.setDate(se);var _e=ae&31;ae>>>=5;var Me=ae&63;return ae>>>=6,ne.setHours(ae),ne.setMinutes(Me),ne.setSeconds(_e<<1),ne}function o(K){ia(K,0);for(var ae={},te=0;K.l<=K.length-4;){var ne=K.read_shift(2),se=K.read_shift(2),oe=K.l+se,_e={};switch(ne){case 21589:te=K.read_shift(1),te&1&&(_e.mtime=K.read_shift(4)),se>5&&(te&2&&(_e.atime=K.read_shift(4)),te&4&&(_e.ctime=K.read_shift(4))),_e.mtime&&(_e.mt=new Date(_e.mtime*1e3));break}K.l=oe,ae[ne]=_e}return ae}var l;function u(){return l||(l={})}function d(K,ae){if(K[0]==80&&K[1]==75)return gi(K,ae);if((K[0]|32)==109&&(K[1]|32)==105)return sn(K,ae);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var te=3,ne=512,se=0,oe=0,_e=0,Me=0,we=0,Se=[],Ee=K.slice(0,512);ia(Ee,0);var Ye=m(Ee);switch(te=Ye[0],te){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(Ye[1]==0)return gi(K,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+te)}ne!==512&&(Ee=K.slice(0,ne),ia(Ee,28));var Ze=K.slice(0,ne);g(Ee,te);var ct=Ee.read_shift(4,"i");if(te===3&&ct!==0)throw new Error("# Directory Sectors: Expected 0 saw "+ct);Ee.l+=4,_e=Ee.read_shift(4,"i"),Ee.l+=4,Ee.chk("00100000","Mini Stream Cutoff Size: "),Me=Ee.read_shift(4,"i"),se=Ee.read_shift(4,"i"),we=Ee.read_shift(4,"i"),oe=Ee.read_shift(4,"i");for(var We=-1,it=0;it<109&&(We=Ee.read_shift(4,"i"),!(We<0));++it)Se[it]=We;var gt=v(K,ne);w(we,oe,gt,ne,Se);var Nr=k(gt,_e,Se,ne);Nr[_e].name="!Directory",se>0&&Me!==U&&(Nr[Me].name="!MiniFAT"),Nr[Se[0]].name="!FAT",Nr.fat_addrs=Se,Nr.ssz=ne;var Er={},on=[],ds=[],La=[];A(_e,Nr,gt,on,se,Er,ds,Me),x(ds,La,on),on.shift();var No={FileIndex:ds,FullPaths:La};return ae&&ae.raw&&(No.raw={header:Ze,sectors:gt}),No}function m(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(le,"Header Signature: "),K.l+=16;var ae=K.read_shift(2,"u");return[K.read_shift(2,"u"),ae]}function g(K,ae){var te=9;switch(K.l+=2,te=K.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+te);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+te);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+te)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function v(K,ae){for(var te=Math.ceil(K.length/ae)-1,ne=[],se=1;se<te;++se)ne[se-1]=K.slice(se*ae,(se+1)*ae);return ne[te-1]=K.slice(te*ae),ne}function x(K,ae,te){for(var ne=0,se=0,oe=0,_e=0,Me=0,we=te.length,Se=[],Ee=[];ne<we;++ne)Se[ne]=Ee[ne]=ne,ae[ne]=te[ne];for(;Me<Ee.length;++Me)ne=Ee[Me],se=K[ne].L,oe=K[ne].R,_e=K[ne].C,Se[ne]===ne&&(se!==-1&&Se[se]!==se&&(Se[ne]=Se[se]),oe!==-1&&Se[oe]!==oe&&(Se[ne]=Se[oe])),_e!==-1&&(Se[_e]=ne),se!==-1&&ne!=Se[ne]&&(Se[se]=Se[ne],Ee.lastIndexOf(se)<Me&&Ee.push(se)),oe!==-1&&ne!=Se[ne]&&(Se[oe]=Se[ne],Ee.lastIndexOf(oe)<Me&&Ee.push(oe));for(ne=1;ne<we;++ne)Se[ne]===ne&&(oe!==-1&&Se[oe]!==oe?Se[ne]=Se[oe]:se!==-1&&Se[se]!==se&&(Se[ne]=Se[se]));for(ne=1;ne<we;++ne)if(K[ne].type!==0){if(Me=ne,Me!=Se[Me])do Me=Se[Me],ae[ne]=ae[Me]+"/"+ae[ne];while(Me!==0&&Se[Me]!==-1&&Me!=Se[Me]);Se[ne]=-1}for(ae[0]+="/",ne=1;ne<we;++ne)K[ne].type!==2&&(ae[ne]+="/")}function b(K,ae,te){for(var ne=K.start,se=K.size,oe=[],_e=ne;te&&se>0&&_e>=0;)oe.push(ae.slice(_e*F,_e*F+F)),se-=F,_e=A0(te,_e*4);return oe.length===0?Le(0):Vs(oe).slice(0,K.size)}function w(K,ae,te,ne,se){var oe=U;if(K===U){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var _e=te[K],Me=(ne>>>2)-1;if(!_e)return;for(var we=0;we<Me&&(oe=A0(_e,we*4))!==U;++we)se.push(oe);w(A0(_e,ne-4),ae-1,te,ne,se)}}function _(K,ae,te,ne,se){var oe=[],_e=[];se||(se=[]);var Me=ne-1,we=0,Se=0;for(we=ae;we>=0;){se[we]=!0,oe[oe.length]=we,_e.push(K[we]);var Ee=te[Math.floor(we*4/ne)];if(Se=we*4&Me,ne<4+Se)throw new Error("FAT boundary crossed: "+we+" 4 "+ne);if(!K[Ee])break;we=A0(K[Ee],Se)}return{nodes:oe,data:oK([_e])}}function k(K,ae,te,ne){var se=K.length,oe=[],_e=[],Me=[],we=[],Se=ne-1,Ee=0,Ye=0,Ze=0,ct=0;for(Ee=0;Ee<se;++Ee)if(Me=[],Ze=Ee+ae,Ze>=se&&(Ze-=se),!_e[Ze]){we=[];var We=[];for(Ye=Ze;Ye>=0;){We[Ye]=!0,_e[Ye]=!0,Me[Me.length]=Ye,we.push(K[Ye]);var it=te[Math.floor(Ye*4/ne)];if(ct=Ye*4&Se,ne<4+ct)throw new Error("FAT boundary crossed: "+Ye+" 4 "+ne);if(!K[it]||(Ye=A0(K[it],ct),We[Ye]))break}oe[Ze]={nodes:Me,data:oK([we])}}return oe}function A(K,ae,te,ne,se,oe,_e,Me){for(var we=0,Se=ne.length?2:0,Ee=ae[K].data,Ye=0,Ze=0,ct;Ye<Ee.length;Ye+=128){var We=Ee.slice(Ye,Ye+128);ia(We,64),Ze=We.read_shift(2),ct=MD(We,0,Ze-Se),ne.push(ct);var it={name:ct,type:We.read_shift(1),color:We.read_shift(1),L:We.read_shift(4,"i"),R:We.read_shift(4,"i"),C:We.read_shift(4,"i"),clsid:We.read_shift(16),state:We.read_shift(4,"i"),start:0,size:0},gt=We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2);gt!==0&&(it.ct=R(We,We.l-8));var Nr=We.read_shift(2)+We.read_shift(2)+We.read_shift(2)+We.read_shift(2);Nr!==0&&(it.mt=R(We,We.l-8)),it.start=We.read_shift(4,"i"),it.size=We.read_shift(4,"i"),it.size<0&&it.start<0&&(it.size=it.type=0,it.start=U,it.name=""),it.type===5?(we=it.start,se>0&&we!==U&&(ae[we].name="!StreamData")):it.size>=4096?(it.storage="fat",ae[it.start]===void 0&&(ae[it.start]=_(te,it.start,ae.fat_addrs,ae.ssz)),ae[it.start].name=it.name,it.content=ae[it.start].data.slice(0,it.size)):(it.storage="minifat",it.size<0?it.size=0:we!==U&&it.start!==U&&ae[we]&&(it.content=b(it,ae[we].data,(ae[Me]||{}).data))),it.content&&ia(it.content,0),oe[ct]=it,_e.push(it)}}function R(K,ae){return new Date((qo(K,ae+4)/1e7*Math.pow(2,32)+qo(K,ae)/1e7-11644473600)*1e3)}function P(K,ae){return u(),d(l.readFileSync(K),ae)}function j(K,ae){var te=ae&&ae.type;switch(te||lr&&Buffer.isBuffer(K)&&(te="buffer"),te||"base64"){case"file":return P(K,ae);case"base64":return d(Xo(al(K)),ae);case"binary":return d(Xo(K),ae)}return d(K,ae)}function S(K,ae){var te=ae||{},ne=te.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ne+"/",K.FileIndex[0]={name:ne,type:5}),te.CLSID&&(K.FileIndex[0].clsid=te.CLSID),I(K)}function I(K){var ae="Sh33tJ5";if(!It.find(K,"/"+ae)){var te=Le(4);te[0]=55,te[1]=te[3]=50,te[2]=54,K.FileIndex.push({name:ae,type:2,content:te,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+ae),O(K)}}function O(K,ae){S(K);for(var te=!1,ne=!1,se=K.FullPaths.length-1;se>=0;--se){var oe=K.FileIndex[se];switch(oe.type){case 0:ne?te=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(oe.R*oe.L*oe.C)&&(te=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(te=!0);break;default:te=!0;break}}if(!(!te&&!ae)){var _e=new Date(1987,1,19),Me=0,we=Object.create?Object.create(null):{},Se=[];for(se=0;se<K.FullPaths.length;++se)we[K.FullPaths[se]]=!0,K.FileIndex[se].type!==0&&Se.push([K.FullPaths[se],K.FileIndex[se]]);for(se=0;se<Se.length;++se){var Ee=n(Se[se][0]);ne=we[Ee],ne||(Se.push([Ee,{name:i(Ee).replace("/",""),type:1,clsid:Z,ct:_e,mt:_e,content:null}]),we[Ee]=!0)}for(Se.sort(function(ct,We){return r(ct[0],We[0])}),K.FullPaths=[],K.FileIndex=[],se=0;se<Se.length;++se)K.FullPaths[se]=Se[se][0],K.FileIndex[se]=Se[se][1];for(se=0;se<Se.length;++se){var Ye=K.FileIndex[se],Ze=K.FullPaths[se];if(Ye.name=i(Ze).replace("/",""),Ye.L=Ye.R=Ye.C=-(Ye.color=1),Ye.size=Ye.content?Ye.content.length:0,Ye.start=0,Ye.clsid=Ye.clsid||Z,se===0)Ye.C=Se.length>1?1:-1,Ye.size=0,Ye.type=5;else if(Ze.slice(-1)=="/"){for(Me=se+1;Me<Se.length&&n(K.FullPaths[Me])!=Ze;++Me);for(Ye.C=Me>=Se.length?-1:Me,Me=se+1;Me<Se.length&&n(K.FullPaths[Me])!=n(Ze);++Me);Ye.R=Me>=Se.length?-1:Me,Ye.type=1}else n(K.FullPaths[se+1]||"")==n(Ze)&&(Ye.R=se+1),Ye.type=2}}}function D(K,ae){var te=ae||{};if(te.fileType=="mad")return $i(K,te);switch(O(K),te.fileType){case"zip":return nn(K,te)}var ne=(function(ct){for(var We=0,it=0,gt=0;gt<ct.FileIndex.length;++gt){var Nr=ct.FileIndex[gt];if(Nr.content){var Er=Nr.content.length;Er>0&&(Er<4096?We+=Er+63>>6:it+=Er+511>>9)}}for(var on=ct.FullPaths.length+3>>2,ds=We+7>>3,La=We+127>>7,No=ds+it+on+La,ha=No+127>>7,Jl=ha<=109?0:Math.ceil((ha-109)/127);No+ha+Jl+127>>7>ha;)Jl=++ha<=109?0:Math.ceil((ha-109)/127);var Yn=[1,Jl,ha,La,on,it,We,0];return ct.FileIndex[0].size=We<<6,Yn[7]=(ct.FileIndex[0].start=Yn[0]+Yn[1]+Yn[2]+Yn[3]+Yn[4]+Yn[5])+(Yn[6]+7>>3),Yn})(K),se=Le(ne[7]<<9),oe=0,_e=0;{for(oe=0;oe<8;++oe)se.write_shift(1,de[oe]);for(oe=0;oe<8;++oe)se.write_shift(2,0);for(se.write_shift(2,62),se.write_shift(2,3),se.write_shift(2,65534),se.write_shift(2,9),se.write_shift(2,6),oe=0;oe<3;++oe)se.write_shift(2,0);for(se.write_shift(4,0),se.write_shift(4,ne[2]),se.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),se.write_shift(4,0),se.write_shift(4,4096),se.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:U),se.write_shift(4,ne[3]),se.write_shift(-4,ne[1]?ne[0]-1:U),se.write_shift(4,ne[1]),oe=0;oe<109;++oe)se.write_shift(-4,oe<ne[2]?ne[1]+oe:-1)}if(ne[1])for(_e=0;_e<ne[1];++_e){for(;oe<236+_e*127;++oe)se.write_shift(-4,oe<ne[2]?ne[1]+oe:-1);se.write_shift(-4,_e===ne[1]-1?U:_e+1)}var Me=function(ct){for(_e+=ct;oe<_e-1;++oe)se.write_shift(-4,oe+1);ct&&(++oe,se.write_shift(-4,U))};for(_e=oe=0,_e+=ne[1];oe<_e;++oe)se.write_shift(-4,J.DIFSECT);for(_e+=ne[2];oe<_e;++oe)se.write_shift(-4,J.FATSECT);Me(ne[3]),Me(ne[4]);for(var we=0,Se=0,Ee=K.FileIndex[0];we<K.FileIndex.length;++we)Ee=K.FileIndex[we],Ee.content&&(Se=Ee.content.length,!(Se<4096)&&(Ee.start=_e,Me(Se+511>>9)));for(Me(ne[6]+7>>3);se.l&511;)se.write_shift(-4,J.ENDOFCHAIN);for(_e=oe=0,we=0;we<K.FileIndex.length;++we)Ee=K.FileIndex[we],Ee.content&&(Se=Ee.content.length,!(!Se||Se>=4096)&&(Ee.start=_e,Me(Se+63>>6)));for(;se.l&511;)se.write_shift(-4,J.ENDOFCHAIN);for(oe=0;oe<ne[4]<<2;++oe){var Ye=K.FullPaths[oe];if(!Ye||Ye.length===0){for(we=0;we<17;++we)se.write_shift(4,0);for(we=0;we<3;++we)se.write_shift(4,-1);for(we=0;we<12;++we)se.write_shift(4,0);continue}Ee=K.FileIndex[oe],oe===0&&(Ee.start=Ee.size?Ee.start-1:U);var Ze=oe===0&&te.root||Ee.name;if(Se=2*(Ze.length+1),se.write_shift(64,Ze,"utf16le"),se.write_shift(2,Se),se.write_shift(1,Ee.type),se.write_shift(1,Ee.color),se.write_shift(-4,Ee.L),se.write_shift(-4,Ee.R),se.write_shift(-4,Ee.C),Ee.clsid)se.write_shift(16,Ee.clsid,"hex");else for(we=0;we<4;++we)se.write_shift(4,0);se.write_shift(4,Ee.state||0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,0),se.write_shift(4,Ee.start),se.write_shift(4,Ee.size),se.write_shift(4,0)}for(oe=1;oe<K.FileIndex.length;++oe)if(Ee=K.FileIndex[oe],Ee.size>=4096)if(se.l=Ee.start+1<<9,lr&&Buffer.isBuffer(Ee.content))Ee.content.copy(se,se.l,0,Ee.size),se.l+=Ee.size+511&-512;else{for(we=0;we<Ee.size;++we)se.write_shift(1,Ee.content[we]);for(;we&511;++we)se.write_shift(1,0)}for(oe=1;oe<K.FileIndex.length;++oe)if(Ee=K.FileIndex[oe],Ee.size>0&&Ee.size<4096)if(lr&&Buffer.isBuffer(Ee.content))Ee.content.copy(se,se.l,0,Ee.size),se.l+=Ee.size+63&-64;else{for(we=0;we<Ee.size;++we)se.write_shift(1,Ee.content[we]);for(;we&63;++we)se.write_shift(1,0)}if(lr)se.l=se.length;else for(;se.l<se.length;)se.write_shift(1,0);return se}function M(K,ae){var te=K.FullPaths.map(function(we){return we.toUpperCase()}),ne=te.map(function(we){var Se=we.split("/");return Se[Se.length-(we.slice(-1)=="/"?2:1)]}),se=!1;ae.charCodeAt(0)===47?(se=!0,ae=te[0].slice(0,-1)+ae):se=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),_e=se===!0?te.indexOf(oe):ne.indexOf(oe);if(_e!==-1)return K.FileIndex[_e];var Me=!oe.match(h1);for(oe=oe.replace(Ka,""),Me&&(oe=oe.replace(h1,"!")),_e=0;_e<te.length;++_e)if((Me?te[_e].replace(h1,"!"):te[_e]).replace(Ka,"")==oe||(Me?ne[_e].replace(h1,"!"):ne[_e]).replace(Ka,"")==oe)return K.FileIndex[_e];return null}var F=64,U=-2,le="d0cf11e0a1b11ae1",de=[208,207,17,224,161,177,26,225],Z="00000000000000000000000000000000",J={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:Z,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(K,ae,te){u();var ne=D(K,te);l.writeFileSync(ae,ne)}function ee(K){for(var ae=new Array(K.length),te=0;te<K.length;++te)ae[te]=String.fromCharCode(K[te]);return ae.join("")}function ve(K,ae){var te=D(K,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),l.writeFileSync(ae.filename,te),te;case"binary":return typeof te=="string"?te:ee(te);case"base64":return Px(typeof te=="string"?te:ee(te));case"buffer":if(lr)return Buffer.isBuffer(te)?te:Xd(te);case"array":return typeof te=="string"?Xo(te):te}return te}var H;function B(K){try{var ae=K.InflateRaw,te=new ae;if(te._processChunk(new Uint8Array([3,0]),te._finishFlushFlag),te.bytesRead)H=K;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function q(K,ae){if(!H)return da(K,ae);var te=H.InflateRaw,ne=new te,se=ne._processChunk(K.slice(K.l),ne._finishFlushFlag);return K.l+=ne.bytesRead,se}function W(K){return H?H.deflateRawSync(K):nt(K)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ue=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],pe=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(K){var ae=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var ie=typeof Uint8Array<"u",ye=ie?new Uint8Array(256):[],Ve=0;Ve<256;++Ve)ye[Ve]=ce(Ve);function G(K,ae){var te=ye[K&255];return ae<=8?te>>>8-ae:(te=te<<8|ye[K>>8&255],ae<=16?te>>>16-ae:(te=te<<8|ye[K>>16&255],te>>>24-ae))}function tt(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=6?0:K[ne+1]<<8))>>>te&3}function me(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=5?0:K[ne+1]<<8))>>>te&7}function He(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=4?0:K[ne+1]<<8))>>>te&15}function Ke(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=3?0:K[ne+1]<<8))>>>te&31}function Ie(K,ae){var te=ae&7,ne=ae>>>3;return(K[ne]|(te<=1?0:K[ne+1]<<8))>>>te&127}function et(K,ae,te){var ne=ae&7,se=ae>>>3,oe=(1<<te)-1,_e=K[se]>>>ne;return te<8-ne||(_e|=K[se+1]<<8-ne,te<16-ne)||(_e|=K[se+2]<<16-ne,te<24-ne)||(_e|=K[se+3]<<24-ne),_e&oe}function ht(K,ae,te){var ne=ae&7,se=ae>>>3;return ne<=5?K[se]|=(te&7)<<ne:(K[se]|=te<<ne&255,K[se+1]=(te&7)>>8-ne),ae+3}function _t(K,ae,te){var ne=ae&7,se=ae>>>3;return te=(te&1)<<ne,K[se]|=te,ae+1}function Rr(K,ae,te){var ne=ae&7,se=ae>>>3;return te<<=ne,K[se]|=te&255,te>>>=8,K[se+1]=te,ae+8}function Pr(K,ae,te){var ne=ae&7,se=ae>>>3;return te<<=ne,K[se]|=te&255,te>>>=8,K[se+1]=te&255,K[se+2]=te>>>8,ae+16}function $r(K,ae){var te=K.length,ne=2*te>ae?2*te:ae+5,se=0;if(te>=ae)return K;if(lr){var oe=zG(ne);if(K.copy)K.copy(oe);else for(;se<K.length;++se)oe[se]=K[se];return oe}else if(ie){var _e=new Uint8Array(ne);if(_e.set)_e.set(K);else for(;se<te;++se)_e[se]=K[se];return _e}return K.length=ne,K}function Wt(K){for(var ae=new Array(K),te=0;te<K;++te)ae[te]=0;return ae}function Ar(K,ae,te){var ne=1,se=0,oe=0,_e=0,Me=0,we=K.length,Se=ie?new Uint16Array(32):Wt(32);for(oe=0;oe<32;++oe)Se[oe]=0;for(oe=we;oe<te;++oe)K[oe]=0;we=K.length;var Ee=ie?new Uint16Array(we):Wt(we);for(oe=0;oe<we;++oe)Se[se=K[oe]]++,ne<se&&(ne=se),Ee[oe]=0;for(Se[0]=0,oe=1;oe<=ne;++oe)Se[oe+16]=Me=Me+Se[oe-1]<<1;for(oe=0;oe<we;++oe)Me=K[oe],Me!=0&&(Ee[oe]=Se[Me+16]++);var Ye=0;for(oe=0;oe<we;++oe)if(Ye=K[oe],Ye!=0)for(Me=G(Ee[oe],ne)>>ne-Ye,_e=(1<<ne+4-Ye)-1;_e>=0;--_e)ae[Me|_e<<Ye]=Ye&15|oe<<4;return ne}var An=ie?new Uint16Array(512):Wt(512),pi=ie?new Uint16Array(32):Wt(32);if(!ie){for(var be=0;be<512;++be)An[be]=0;for(be=0;be<32;++be)pi[be]=0}(function(){for(var K=[],ae=0;ae<32;ae++)K.push(5);Ar(K,pi,32);var te=[];for(ae=0;ae<=143;ae++)te.push(8);for(;ae<=255;ae++)te.push(9);for(;ae<=279;ae++)te.push(7);for(;ae<=287;ae++)te.push(8);Ar(te,An,288)})();var Qe=(function(){for(var ae=ie?new Uint8Array(32768):[],te=0,ne=0;te<pe.length-1;++te)for(;ne<pe[te+1];++ne)ae[ne]=te;for(;ne<32768;++ne)ae[ne]=29;var se=ie?new Uint8Array(259):[];for(te=0,ne=0;te<ue.length-1;++te)for(;ne<ue[te+1];++ne)se[ne]=te;function oe(Me,we){for(var Se=0;Se<Me.length;){var Ee=Math.min(65535,Me.length-Se),Ye=Se+Ee==Me.length;for(we.write_shift(1,+Ye),we.write_shift(2,Ee),we.write_shift(2,~Ee&65535);Ee-- >0;)we[we.l++]=Me[Se++]}return we.l}function _e(Me,we){for(var Se=0,Ee=0,Ye=ie?new Uint16Array(32768):[];Ee<Me.length;){var Ze=Math.min(65535,Me.length-Ee);if(Ze<10){for(Se=ht(we,Se,+(Ee+Ze==Me.length)),Se&7&&(Se+=8-(Se&7)),we.l=Se/8|0,we.write_shift(2,Ze),we.write_shift(2,~Ze&65535);Ze-- >0;)we[we.l++]=Me[Ee++];Se=we.l*8;continue}Se=ht(we,Se,+(Ee+Ze==Me.length)+2);for(var ct=0;Ze-- >0;){var We=Me[Ee];ct=(ct<<5^We)&32767;var it=-1,gt=0;if((it=Ye[ct])&&(it|=Ee&-32768,it>Ee&&(it-=32768),it<Ee))for(;Me[it+gt]==Me[Ee+gt]&&gt<250;)++gt;if(gt>2){We=se[gt],We<=22?Se=Rr(we,Se,ye[We+1]>>1)-1:(Rr(we,Se,3),Se+=5,Rr(we,Se,ye[We-23]>>5),Se+=3);var Nr=We<8?0:We-4>>2;Nr>0&&(Pr(we,Se,gt-ue[We]),Se+=Nr),We=ae[Ee-it],Se=Rr(we,Se,ye[We]>>3),Se-=3;var Er=We<4?0:We-2>>1;Er>0&&(Pr(we,Se,Ee-it-pe[We]),Se+=Er);for(var on=0;on<gt;++on)Ye[ct]=Ee&32767,ct=(ct<<5^Me[Ee])&32767,++Ee;Ze-=gt-1}else We<=143?We=We+48:Se=_t(we,Se,1),Se=Rr(we,Se,ye[We]),Ye[ct]=Ee&32767,++Ee}Se=Rr(we,Se,0)-1}return we.l=(Se+7)/8|0,we.l}return function(we,Se){return we.length<8?oe(we,Se):_e(we,Se)}})();function nt(K){var ae=Le(50+Math.floor(K.length*1.1)),te=Qe(K,ae);return ae.slice(0,te)}var jt=ie?new Uint16Array(32768):Wt(32768),Gt=ie?new Uint16Array(32768):Wt(32768),rr=ie?new Uint16Array(128):Wt(128),wr=1,Ui=1;function rn(K,ae){var te=Ke(K,ae)+257;ae+=5;var ne=Ke(K,ae)+1;ae+=5;var se=He(K,ae)+4;ae+=4;for(var oe=0,_e=ie?new Uint8Array(19):Wt(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],we=1,Se=ie?new Uint8Array(8):Wt(8),Ee=ie?new Uint8Array(8):Wt(8),Ye=_e.length,Ze=0;Ze<se;++Ze)_e[Y[Ze]]=oe=me(K,ae),we<oe&&(we=oe),Se[oe]++,ae+=3;var ct=0;for(Se[0]=0,Ze=1;Ze<=we;++Ze)Ee[Ze]=ct=ct+Se[Ze-1]<<1;for(Ze=0;Ze<Ye;++Ze)(ct=_e[Ze])!=0&&(Me[Ze]=Ee[ct]++);var We=0;for(Ze=0;Ze<Ye;++Ze)if(We=_e[Ze],We!=0){ct=ye[Me[Ze]]>>8-We;for(var it=(1<<7-We)-1;it>=0;--it)rr[ct|it<<We]=We&7|Ze<<3}var gt=[];for(we=1;gt.length<te+ne;)switch(ct=rr[Ie(K,ae)],ae+=ct&7,ct>>>=3){case 16:for(oe=3+tt(K,ae),ae+=2,ct=gt[gt.length-1];oe-- >0;)gt.push(ct);break;case 17:for(oe=3+me(K,ae),ae+=3;oe-- >0;)gt.push(0);break;case 18:for(oe=11+Ie(K,ae),ae+=7;oe-- >0;)gt.push(0);break;default:gt.push(ct),we<ct&&(we=ct);break}var Nr=gt.slice(0,te),Er=gt.slice(te);for(Ze=te;Ze<286;++Ze)Nr[Ze]=0;for(Ze=ne;Ze<30;++Ze)Er[Ze]=0;return wr=Ar(Nr,jt,286),Ui=Ar(Er,Gt,30),ae}function Ql(K,ae){if(K[0]==3&&!(K[1]&3))return[Tf(ae),2];for(var te=0,ne=0,se=zG(ae||1<<18),oe=0,_e=se.length>>>0,Me=0,we=0;(ne&1)==0;){if(ne=me(K,te),te+=3,ne>>>1)ne>>1==1?(Me=9,we=5):(te=rn(K,te),Me=wr,we=Ui);else{te&7&&(te+=8-(te&7));var Se=K[te>>>3]|K[(te>>>3)+1]<<8;if(te+=32,Se>0)for(!ae&&_e<oe+Se&&(se=$r(se,oe+Se),_e=se.length);Se-- >0;)se[oe++]=K[te>>>3],te+=8;continue}for(;;){!ae&&_e<oe+32767&&(se=$r(se,oe+32767),_e=se.length);var Ee=et(K,te,Me),Ye=ne>>>1==1?An[Ee]:jt[Ee];if(te+=Ye&15,Ye>>>=4,(Ye>>>8&255)===0)se[oe++]=Ye;else{if(Ye==256)break;Ye-=257;var Ze=Ye<8?0:Ye-4>>2;Ze>5&&(Ze=0);var ct=oe+ue[Ye];Ze>0&&(ct+=et(K,te,Ze),te+=Ze),Ee=et(K,te,we),Ye=ne>>>1==1?pi[Ee]:Gt[Ee],te+=Ye&15,Ye>>>=4;var We=Ye<4?0:Ye-2>>1,it=pe[Ye];for(We>0&&(it+=et(K,te,We),te+=We),!ae&&_e<ct&&(se=$r(se,ct+100),_e=se.length);oe<ct;)se[oe]=se[oe-it],++oe}}}return ae?[se,te+7>>>3]:[se.slice(0,oe),te+7>>>3]}function da(K,ae){var te=K.slice(K.l||0),ne=Ql(te,ae);return K.l+=ne[1],ne[0]}function us(K,ae){if(K)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function gi(K,ae){var te=K;ia(te,0);var ne=[],se=[],oe={FileIndex:ne,FullPaths:se};S(oe,{root:ae.root});for(var _e=te.length-4;(te[_e]!=80||te[_e+1]!=75||te[_e+2]!=5||te[_e+3]!=6)&&_e>=0;)--_e;te.l=_e+4,te.l+=4;var Me=te.read_shift(2);te.l+=6;var we=te.read_shift(4);for(te.l=we,_e=0;_e<Me;++_e){te.l+=20;var Se=te.read_shift(4),Ee=te.read_shift(4),Ye=te.read_shift(2),Ze=te.read_shift(2),ct=te.read_shift(2);te.l+=8;var We=te.read_shift(4),it=o(te.slice(te.l+Ye,te.l+Ye+Ze));te.l+=Ye+Ze+ct;var gt=te.l;te.l=We+4,Co(te,Se,Ee,oe,it),te.l=gt}return oe}function Co(K,ae,te,ne,se){K.l+=2;var oe=K.read_shift(2),_e=K.read_shift(2),Me=a(K);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var we=K.read_shift(4),Se=K.read_shift(4),Ee=K.read_shift(4),Ye=K.read_shift(2),Ze=K.read_shift(2),ct="",We=0;We<Ye;++We)ct+=String.fromCharCode(K[K.l++]);if(Ze){var it=o(K.slice(K.l,K.l+Ze));(it[21589]||{}).mt&&(Me=it[21589].mt),((se||{})[21589]||{}).mt&&(Me=se[21589].mt)}K.l+=Ze;var gt=K.slice(K.l,K.l+Se);switch(_e){case 8:gt=q(K,Ee);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+_e)}var Nr=!1;oe&8&&(we=K.read_shift(4),we==134695760&&(we=K.read_shift(4),Nr=!0),Se=K.read_shift(4),Ee=K.read_shift(4)),Se!=ae&&us(Nr,"Bad compressed size: "+ae+" != "+Se),Ee!=te&&us(Nr,"Bad uncompressed size: "+te+" != "+Ee),an(ne,ct,gt,{unsafe:!0,mt:Me})}function nn(K,ae){var te=ae||{},ne=[],se=[],oe=Le(1),_e=te.compression?8:0,Me=0,we=0,Se=0,Ee=0,Ye=0,Ze=K.FullPaths[0],ct=Ze,We=K.FileIndex[0],it=[],gt=0;for(we=1;we<K.FullPaths.length;++we)if(ct=K.FullPaths[we].slice(Ze.length),We=K.FileIndex[we],!(!We.size||!We.content||ct=="Sh33tJ5")){var Nr=Ee,Er=Le(ct.length);for(Se=0;Se<ct.length;++Se)Er.write_shift(1,ct.charCodeAt(Se)&127);Er=Er.slice(0,Er.l),it[Ye]=oHe.buf(We.content,0);var on=We.content;_e==8&&(on=W(on)),oe=Le(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Me),oe.write_shift(2,_e),We.mt?s(oe,We.mt):oe.write_shift(4,0),oe.write_shift(-4,it[Ye]),oe.write_shift(4,on.length),oe.write_shift(4,We.content.length),oe.write_shift(2,Er.length),oe.write_shift(2,0),Ee+=oe.length,ne.push(oe),Ee+=Er.length,ne.push(Er),Ee+=on.length,ne.push(on),oe=Le(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Me),oe.write_shift(2,_e),oe.write_shift(4,0),oe.write_shift(-4,it[Ye]),oe.write_shift(4,on.length),oe.write_shift(4,We.content.length),oe.write_shift(2,Er.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Nr),gt+=oe.l,se.push(oe),gt+=Er.length,se.push(Er),++Ye}return oe=Le(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,Ye),oe.write_shift(2,Ye),oe.write_shift(4,gt),oe.write_shift(4,Ee),oe.write_shift(2,0),Vs([Vs(ne),Vs(se),oe])}var zi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function Ct(K,ae){if(K.ctype)return K.ctype;var te=K.name||"",ne=te.match(/\.([^\.]+)$/);return ne&&zi[ne[1]]||ae&&(ne=(te=ae).match(/[\.\\]([^\.\\])+$/),ne&&zi[ne[1]])?zi[ne[1]]:"application/octet-stream"}function _r(K){for(var ae=Px(K),te=[],ne=0;ne<ae.length;ne+=76)te.push(ae.slice(ne,ne+76));return te.join(`\r
`)+`\r
`}function jn(K){var ae=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Se){var Ee=Se.charCodeAt(0).toString(16).toUpperCase();return"="+(Ee.length==1?"0"+Ee:Ee)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var te=[],ne=ae.split(`\r
`),se=0;se<ne.length;++se){var oe=ne[se];if(oe.length==0){te.push("");continue}for(var _e=0;_e<oe.length;){var Me=76,we=oe.slice(_e,_e+Me);we.charAt(Me-1)=="="?Me--:we.charAt(Me-2)=="="?Me-=2:we.charAt(Me-3)=="="&&(Me-=3),we=oe.slice(_e,_e+Me),_e+=Me,_e<oe.length&&(we+="="),te.push(we)}}return te.join(`\r
`)}function si(K){for(var ae=[],te=0;te<K.length;++te){for(var ne=K[te];te<=K.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+K[++te];ae.push(ne)}for(var se=0;se<ae.length;++se)ae[se]=ae[se].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Xo(ae.join(`\r
`))}function ai(K,ae,te){for(var ne="",se="",oe="",_e,Me=0;Me<10;++Me){var we=ae[Me];if(!we||we.match(/^\s*$/))break;var Se=we.match(/^(.*?):\s*([^\s].*)$/);if(Se)switch(Se[1].toLowerCase()){case"content-location":ne=Se[2].trim();break;case"content-type":oe=Se[2].trim();break;case"content-transfer-encoding":se=Se[2].trim();break}}switch(++Me,se.toLowerCase()){case"base64":_e=Xo(al(ae.slice(Me).join("")));break;case"quoted-printable":_e=si(ae.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+se)}var Ee=an(K,ne.slice(te.length),_e,{unsafe:!0});oe&&(Ee.ctype=oe)}function sn(K,ae){if(ee(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var te=ae&&ae.root||"",ne=(lr&&Buffer.isBuffer(K)?K.toString("binary"):ee(K)).split(`\r
`),se=0,oe="";for(se=0;se<ne.length;++se)if(oe=ne[se],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),te||(te=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,te.length)!=te))for(;te.length>0&&(te=te.slice(0,te.length-1),te=te.slice(0,te.lastIndexOf("/")+1),oe.slice(0,te.length)!=te););var _e=(ne[1]||"").match(/boundary="(.*?)"/);if(!_e)throw new Error("MAD cannot find boundary");var Me="--"+(_e[1]||""),we=[],Se=[],Ee={FileIndex:we,FullPaths:Se};S(Ee);var Ye,Ze=0;for(se=0;se<ne.length;++se){var ct=ne[se];ct!==Me&&ct!==Me+"--"||(Ze++&&ai(Ee,ne.slice(Ye,se),te),Ye=se)}return Ee}function $i(K,ae){var te=ae||{},ne=te.boundary||"SheetJS";ne="------="+ne;for(var se=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],oe=K.FullPaths[0],_e=oe,Me=K.FileIndex[0],we=1;we<K.FullPaths.length;++we)if(_e=K.FullPaths[we].slice(oe.length),Me=K.FileIndex[we],!(!Me.size||!Me.content||_e=="Sh33tJ5")){_e=_e.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(gt){return"_x"+gt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(gt){return"_u"+gt.charCodeAt(0).toString(16)+"_"});for(var Se=Me.content,Ee=lr&&Buffer.isBuffer(Se)?Se.toString("binary"):ee(Se),Ye=0,Ze=Math.min(1024,Ee.length),ct=0,We=0;We<=Ze;++We)(ct=Ee.charCodeAt(We))>=32&&ct<128&&++Ye;var it=Ye>=Ze*4/5;se.push(ne),se.push("Content-Location: "+(te.root||"file:///C:/SheetJS/")+_e),se.push("Content-Transfer-Encoding: "+(it?"quoted-printable":"base64")),se.push("Content-Type: "+Ct(Me,_e)),se.push(""),se.push(it?jn(Ee):_r(Ee))}return se.push(ne+`--\r
`),se.join(`\r
`)}function ks(K){var ae={};return S(ae,K),ae}function an(K,ae,te,ne){var se=ne&&ne.unsafe;se||S(K);var oe=!se&&It.find(K,ae);if(!oe){var _e=K.FullPaths[0];ae.slice(0,_e.length)==_e?_e=ae:(_e.slice(-1)!="/"&&(_e+="/"),_e=(_e+ae).replace("//","/")),oe={name:i(ae),type:2},K.FileIndex.push(oe),K.FullPaths.push(_e),se||It.utils.cfb_gc(K)}return oe.content=te,oe.size=te?te.length:0,ne&&(ne.CLSID&&(oe.clsid=ne.CLSID),ne.mt&&(oe.mt=ne.mt),ne.ct&&(oe.ct=ne.ct)),oe}function Ci(K,ae){S(K);var te=It.find(K,ae);if(te){for(var ne=0;ne<K.FileIndex.length;++ne)if(K.FileIndex[ne]==te)return K.FileIndex.splice(ne,1),K.FullPaths.splice(ne,1),!0}return!1}function Ks(K,ae,te){S(K);var ne=It.find(K,ae);if(ne){for(var se=0;se<K.FileIndex.length;++se)if(K.FileIndex[se]==ne)return K.FileIndex[se].name=i(te),K.FullPaths[se]=te,!0}return!1}function vi(K){O(K,!0)}return e.find=M,e.read=j,e.parse=d,e.write=ve,e.writeFile=he,e.utils={cfb_new:ks,cfb_add:an,cfb_del:Ci,cfb_mov:Ks,cfb_gc:vi,ReadShift:P1,CheckField:Nle,prep_blob:ia,bconcat:Vs,use_zlib:B,_deflateRaw:nt,_inflateRaw:da,consts:J},e})();function lHe(t){return typeof t=="string"?hk(t):Array.isArray(t)?j$e(t):t}function qb(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=hk(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?hu(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([lHe(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Vf(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function cHe(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Ai(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function XG(t,e){for(var r=[],n=Ai(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function mk(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function pk(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function uHe(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var KT=new Date(1899,11,30,0,0,0);function ws(t,e){var r=t.getTime(),n=KT.getTime()+(t.getTimezoneOffset()-KT.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var lle=new Date,dHe=KT.getTime()+(lle.getTimezoneOffset()-KT.getTimezoneOffset())*6e4,QG=lle.getTimezoneOffset();function gk(t){var e=new Date;return e.setTime(t*24*60*60*1e3+dHe),e.getTimezoneOffset()!==QG&&e.setTime(e.getTime()+(e.getTimezoneOffset()-QG)*6e4),e}function hHe(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var JG=new Date("2017-02-19T19:06:09.000Z"),cle=isNaN(JG.getFullYear())?new Date("2/19/17"):JG,fHe=cle.getFullYear()==2017;function Wn(t,e){var r=new Date(t);if(fHe)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if(cle.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function xm(t,e){if(lr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return hu(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return hu(Xoe(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return hu(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return hu(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Gn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Gn(t[r]));return e}function Si(t,e){for(var r="";r.length<e;)r+=t;return r}function kc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var mHe=["january","february","march","april","may","june","july","august","september","october","november","december"];function hv(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&mHe.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var pHe=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function ule(t){return t?t.content&&t.type?xm(t.content,!0):t.data?d1(t.data):t.asNodeBuffer&&lr?d1(t.asNodeBuffer().toString("binary")):t.asBinary?d1(t.asBinary()):t._data&&t._data.getContent?d1(xm(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function dle(t){if(!t)return null;if(t.data)return VG(t.data);if(t.asNodeBuffer&&lr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?VG(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function gHe(t){return t&&t.name.slice(-4)===".bin"?dle(t):ule(t)}function jl(t,e){for(var r=t.FullPaths||Ai(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function ID(t,e){var r=jl(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Ji(t,e,r){if(!r)return gHe(ID(t,e));if(!e)return null;try{return Ji(t,e)}catch{return null}}function Qo(t,e,r){if(!r)return ule(ID(t,e));if(!e)return null;try{return Qo(t,e)}catch{return null}}function vHe(t,e,r){return dle(ID(t,e))}function ZG(t){for(var e=t.FullPaths||Ai(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ir(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return lr?n=Xd(r):n=D$e(r),It.utils.cfb_add(t,e,n)}It.utils.cfb_add(t,e,r)}else t.file(e,r)}function OD(){return It.utils.cfb_new()}function hle(t,e){switch(e.type){case"base64":return It.read(t,{type:"base64"});case"binary":return It.read(t,{type:"binary"});case"buffer":case"array":return It.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function f1(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Bi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,yHe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,eK=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,xHe=/<[^>]*>/g,Ma=Bi.match(eK)?eK:xHe,bHe=/<\w*:/,wHe=/<(\/?)\w+:/;function Ht(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(yHe),o=0,l="",u=0,d="",m="",g=1;if(a)for(u=0;u!=a.length;++u){for(m=a[u],s=0;s!=m.length&&m.charCodeAt(s)!==61;++s);for(d=m.slice(0,s).trim();m.charCodeAt(s+1)==32;)++s;for(g=(i=m.charCodeAt(s+1))==34||i==39?1:0,l=m.slice(s+1+g,m.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var v=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[v]&&d.slice(o-3,o)=="ext")continue;n[v]=l,n[v.toLowerCase()]=l}}return n}function Pu(t){return t.replace(wHe,"<$1")}var fle={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},RD=mk(fle),Ir=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return fle[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}})(),PD=/[&<>'"]/g,_He=/[\u0000-\u0008\u000b-\u001f]/g;function mn(t){var e=t+"";return e.replace(PD,function(r){return RD[r]}).replace(_He,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function tK(t){return mn(t).replace(/ /g,"_x0020_")}var mle=/[\u0000-\u001f]/g;function jD(t){var e=t+"";return e.replace(PD,function(r){return RD[r]}).replace(/\n/g,"<br/>").replace(mle,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function EHe(t){var e=t+"";return e.replace(PD,function(r){return RD[r]}).replace(mle,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var rK=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function THe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function $n(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function y5(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function nK(t){var e=Tf(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function iK(t){return Xd(t,"binary").toString("utf8")}var l_="foo bar baz",Sn=lr&&(iK(l_)==y5(l_)&&iK||nK(l_)==y5(l_)&&nK)||y5,hu=lr?function(t){return Xd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},Dx=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),ple=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),SHe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),kHe=/<\/?(?:vt:)?variant>/g,AHe=/<(?:vt:)([^>]*)>([\s\S]*)</;function sK(t,e){var r=Ht(t),n=t.match(SHe(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(kHe,"").match(AHe);a&&i.push({v:Sn(a[2]),t:a[1]})}),i}var gle=/(^\s|\s$|\n)/;function aa(t,e){return"<"+t+(e.match(gle)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Mx(t){return Ai(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function st(t,e,r){return"<"+t+(r!=null?Mx(r):"")+(e!=null?(e.match(gle)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function SO(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function CHe(t,e){switch(typeof t){case"string":var r=st("vt:lpwstr",mn(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return st((t|0)==t?"vt:i4":"vt:r8",mn(String(t)));case"boolean":return st("vt:bool",t?"true":"false")}if(t instanceof Date)return st("vt:filetime",SO(t));throw new Error("Unable to serialize "+t)}function DD(t){if(lr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return Sn(Vf(AD(t)));throw new Error("Bad input format: expected Buffer or string")}var Lx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,xs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Vm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Ho={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function NHe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function IHe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var aK=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},oK=lr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Xd(e)})):aK(t)}:aK,lK=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(fd(t,i)));return n.join("").replace(Ka,"")},MD=lr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(Ka,""):lK(t,e,r)}:lK,cK=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},vle=lr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):cK(t,e,r)}:cK,uK=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Yp(t,i)));return n.join("")},Wb=lr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):uK(e,r,n)}:uK,yle=function(t,e){var r=qo(t,e);return r>0?Wb(t,e+4,e+4+r-1):""},xle=yle,ble=function(t,e){var r=qo(t,e);return r>0?Wb(t,e+4,e+4+r-1):""},wle=ble,_le=function(t,e){var r=2*qo(t,e);return r>0?Wb(t,e+4,e+4+r-1):""},Ele=_le,Tle=function(e,r){var n=qo(e,r);return n>0?MD(e,r+4,r+4+n):""},Sle=Tle,kle=function(t,e){var r=qo(t,e);return r>0?Wb(t,e+4,e+4+r):""},Ale=kle,Cle=function(t,e){return NHe(t,e)},YT=Cle,LD=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};lr&&(xle=function(e,r){if(!Buffer.isBuffer(e))return yle(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},wle=function(e,r){if(!Buffer.isBuffer(e))return ble(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},Ele=function(e,r){if(!Buffer.isBuffer(e))return _le(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},Sle=function(e,r){if(!Buffer.isBuffer(e))return Tle(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},Ale=function(e,r){if(!Buffer.isBuffer(e))return kle(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},YT=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):Cle(e,r)},LD=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Yp=function(t,e){return t[e]},fd=function(t,e){return t[e+1]*256+t[e]},OHe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},qo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},A0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},RHe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function P1(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,lr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(fd(this,u)),u+=2;t*=2;break;case"utf8":r=Wb(this,this.l,this.l+t);break;case"utf16le":t*=2,r=MD(this,this.l,this.l+t);break;case"wstr":return P1.call(this,t,"dbcs");case"lpstr-ansi":r=xle(this,this.l),t=4+qo(this,this.l);break;case"lpstr-cp":r=wle(this,this.l),t=4+qo(this,this.l);break;case"lpwstr":r=Ele(this,this.l),t=4+2*qo(this,this.l);break;case"lpp4":t=4+qo(this,this.l),r=Sle(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+qo(this,this.l),r=Ale(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Yp(this,this.l+t++))!==0;)s.push(o_(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=fd(this,this.l+t))!==0;)s.push(o_(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Yp(this,u),this.l=u+1,o=P1.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(o_(fd(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Yp(this,u),this.l=u+1,o=P1.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(o_(Yp(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Yp(this,this.l),this.l++,n;case 2:return n=(e==="i"?OHe:fd)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?A0:RHe)(this,this.l),this.l+=4,n):(i=qo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=YT(this,this.l):i=YT([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=vle(this,this.l,t);break}}return this.l+=t,r}var PHe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},jHe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},DHe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function MHe(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)DHe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,PHe(this,e,this.l);break;case 8:if(n=8,r==="f"){IHe(this,e,this.l);break}case 16:break;case-4:n=4,jHe(this,e,this.l);break}return this.l+=n,this}function Nle(t,e){var r=vle(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function ia(t,e){t.l=e,t.read_shift=P1,t.chk=Nle,t.write_shift=MHe}function ja(t,e){t.l+=e}function Le(t){var e=Tf(t);return ia(e,0),e}function Qd(t,e,r){if(t){var n,i,s;ia(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var u=$x[o]||$x[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var d=u.f&&u.f(t,s,r);if(t.l=l,e(d,u,o))return}}}function _o(){var t=[],e=lr?256:2048,r=function(u){var d=Le(u);return ia(d,0),d},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),Vs(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function qe(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=$x[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&LD(r)&&t.push(r)}}function j1(t,e,r){var n=Gn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function dK(t,e,r){var n=Gn(t);return n.s=j1(n.s,e.s,r),n.e=j1(n.e,e.s,r),n}function D1(t,e){if(t.cRel&&t.c<0)for(t=Gn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Gn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Bt(t);return!t.cRel&&t.cRel!=null&&(r=BHe(r)),!t.rRel&&t.rRel!=null&&(r=LHe(r)),r}function x5(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+hi(t.s.c)+":"+(t.e.cRel?"":"$")+hi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Fi(t.s.r)+":"+(t.e.rRel?"":"$")+Fi(t.e.r):D1(t.s,e.biff)+":"+D1(t.e,e.biff)}function FD(t){return parseInt(FHe(t),10)-1}function Fi(t){return""+(t+1)}function LHe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function FHe(t){return t.replace(/\$(\d+)$/,"$1")}function BD(t){for(var e=VHe(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function hi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function BHe(t){return t.replace(/^([A-Z])/,"$$$1")}function VHe(t){return t.replace(/^\$([A-Z])/,"$1")}function UHe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fi(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Bt(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function So(t){var e=t.indexOf(":");return e==-1?{s:fi(t),e:fi(t)}:{s:fi(t.slice(0,e)),e:fi(t.slice(e+1))}}function tr(t,e){return typeof e>"u"||typeof e=="number"?tr(t.s,t.e):(typeof t!="string"&&(t=Bt(t)),typeof e!="string"&&(e=Bt(e)),t==e?t:t+":"+e)}function Or(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function hK(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Gl(t.z,r?ws(e):e)}catch{}try{return t.w=Gl((t.XF||{}).numFmtId||(r?14:0),r?ws(e):e)}catch{return""+e}}function Bd(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Jd[t.v]||t.v:e==null?hK(t,t.v):hK(t,e))}function Uf(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function Ile(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?fi(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Or(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(u.e.r=a=d.e.r+1)}for(var m=0;m!=e.length;++m)if(e[m]){if(!Array.isArray(e[m]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[m].length;++g)if(!(typeof e[m][g]>"u")){var v={v:e[m][g]},x=a+m,b=o+g;if(u.s.r>x&&(u.s.r=x),u.s.c>b&&(u.s.c=b),u.e.r<x&&(u.e.r=x),u.e.c<b&&(u.e.c=b),e[m][g]&&typeof e[m][g]=="object"&&!Array.isArray(e[m][g])&&!(e[m][g]instanceof Date))v=e[m][g];else if(Array.isArray(v.v)&&(v.f=e[m][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Mt[14],n.cellDates?(v.t="d",v.w=Gl(v.z,ws(v.v))):(v.t="n",v.v=ws(v.v),v.w=Gl(v.z,v.v))):v.t="s";if(i)s[x]||(s[x]=[]),s[x][b]&&s[x][b].z&&(v.z=s[x][b].z),s[x][b]=v;else{var w=Bt({c:b,r:x});s[w]&&s[w].z&&(v.z=s[w].z),s[w]=v}}}return u.s.c<1e7&&(s["!ref"]=tr(u)),s}function Yv(t,e){return Ile(null,t,e)}function zHe(t){return t.read_shift(4,"i")}function Ac(t,e){return e||(e=Le(4)),e.write_shift(4,t),e}function Ra(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Us(t,e){var r=!1;return e==null&&(r=!0,e=Le(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function $He(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function HHe(t,e){return e||(e=Le(4)),e.write_shift(2,0),e.write_shift(2,0),e}function VD(t,e){var r=t.l,n=t.read_shift(1),i=Ra(t),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push($He(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function qHe(t,e){var r=!1;return e==null&&(r=!0,e=Le(15+4*t.t.length)),e.write_shift(1,0),Us(t.t,e),r?e.slice(0,e.l):e}var WHe=VD;function GHe(t,e){var r=!1;return e==null&&(r=!0,e=Le(23+4*t.t.length)),e.write_shift(1,1),Us(t.t,e),e.write_shift(4,1),HHe({},e),r?e.slice(0,e.l):e}function Xl(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Um(t,e){return e==null&&(e=Le(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function zm(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function $m(t,e){return e==null&&(e=Le(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var KHe=Ra,Ole=Us;function UD(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function XT(t,e){var r=!1;return e==null&&(r=!0,e=Le(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var YHe=Ra,kO=UD,zD=XT;function $D(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?YT([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):A0(e,0)>>2;return r?i/100:i}function Rle(t,e){e==null&&(e=Le(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function Ple(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function XHe(t,e){return e||(e=Le(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Hm=Ple,Xv=XHe;function ka(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function bm(t,e){return(e||Le(8)).write_shift(8,t,"f")}function QHe(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=Y0[i];u&&(e.rgb=Bx(u));break;case 2:e.rgb=Bx([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function QT(t,e){if(e||(e=Le(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function JHe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function ZHe(t,e){e||(e=Le(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function jle(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function eqe(t){return jle(t,1)}function tqe(t){return jle(t,2)}var HD=2,ho=3,c_=11,fK=12,JT=19,u_=64,rqe=65,nqe=71,iqe=4108,sqe=4126,Ds=80,Dle=81,aqe=[Ds,Dle],AO={1:{n:"CodePage",t:HD},2:{n:"Category",t:Ds},3:{n:"PresentationFormat",t:Ds},4:{n:"ByteCount",t:ho},5:{n:"LineCount",t:ho},6:{n:"ParagraphCount",t:ho},7:{n:"SlideCount",t:ho},8:{n:"NoteCount",t:ho},9:{n:"HiddenCount",t:ho},10:{n:"MultimediaClipCount",t:ho},11:{n:"ScaleCrop",t:c_},12:{n:"HeadingPairs",t:iqe},13:{n:"TitlesOfParts",t:sqe},14:{n:"Manager",t:Ds},15:{n:"Company",t:Ds},16:{n:"LinksUpToDate",t:c_},17:{n:"CharacterCount",t:ho},19:{n:"SharedDoc",t:c_},22:{n:"HyperlinksChanged",t:c_},23:{n:"AppVersion",t:ho,p:"version"},24:{n:"DigSig",t:rqe},26:{n:"ContentType",t:Ds},27:{n:"ContentStatus",t:Ds},28:{n:"Language",t:Ds},29:{n:"Version",t:Ds},255:{},2147483648:{n:"Locale",t:JT},2147483651:{n:"Behavior",t:JT},1919054434:{}},CO={1:{n:"CodePage",t:HD},2:{n:"Title",t:Ds},3:{n:"Subject",t:Ds},4:{n:"Author",t:Ds},5:{n:"Keywords",t:Ds},6:{n:"Comments",t:Ds},7:{n:"Template",t:Ds},8:{n:"LastAuthor",t:Ds},9:{n:"RevNumber",t:Ds},10:{n:"EditTime",t:u_},11:{n:"LastPrinted",t:u_},12:{n:"CreatedDate",t:u_},13:{n:"ModifiedDate",t:u_},14:{n:"PageCount",t:ho},15:{n:"WordCount",t:ho},16:{n:"CharCount",t:ho},17:{n:"Thumbnail",t:nqe},18:{n:"Application",t:Ds},19:{n:"DocSecurity",t:ho},255:{},2147483648:{n:"Locale",t:JT},2147483651:{n:"Behavior",t:JT},1919054434:{}},mK={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},oqe=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function lqe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var cqe=lqe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),Y0=Gn(cqe),Jd={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},Mle={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},NO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},d_={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function qD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function uqe(t){var e=qD();if(!t||!t.match)return e;var r={};if((t.match(Ma)||[]).forEach(function(n){var i=Ht(n);switch(i[0].replace(bHe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[NO[i.ContentType]]!==void 0&&e[NO[i.ContentType]].push(i.PartName);break}}),e.xmlns!==xs.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function Lle(t,e){var r=uHe(NO),n=[],i;n[n.length]=Bi,n[n.length]=st("Types",null,{xmlns:xs.CT,"xmlns:xsd":xs.xsd,"xmlns:xsi":xs.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return st("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=st("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:d_[l][e.bookType]||d_[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:d_[l][e.bookType]||d_[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=st("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var ur={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Fx(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function M1(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(Ma)||[]).forEach(function(i){var s=Ht(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:f1(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}function Sg(t){var e=[Bi,st("Relationships",null,{xmlns:xs.RELS})];return Ai(t["!id"]).forEach(function(r){e[e.length]=st("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function hn(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[ur.HLINK,ur.XPATH,ur.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var dqe="application/vnd.oasis.opendocument.spreadsheet";function hqe(t,e){for(var r=DD(t),n,i;n=Lx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=Ht(n[0],!1),i.path=="/"&&i.type!==dqe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function fqe(t){var e=[Bi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function pK(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function mqe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function pqe(t){var e=[Bi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(pK(t[r][0],t[r][1])),e.push(mqe("",t[r][0]));return e.push(pK("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function Fle(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+HT.version+"</meta:generator></office:meta></office:document-meta>"}var Hl=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],gqe=(function(){for(var t=new Array(Hl.length),e=0;e<Hl.length;++e){var r=Hl[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function Ble(t){var e={};t=Sn(t);for(var r=0;r<Hl.length;++r){var n=Hl[r],i=t.match(gqe[r]);i!=null&&i.length>0&&(e[n[1]]=Ir(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Wn(e[n[1]]))}return e}function b5(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=mn(e),n[n.length]=r?st(t,e,r):aa(t,e))}function Vle(t,e){var r=e||{},n=[Bi,st("cp:coreProperties",null,{"xmlns:cp":xs.CORE_PROPS,"xmlns:dc":xs.dc,"xmlns:dcterms":xs.dcterms,"xmlns:dcmitype":xs.dcmitype,"xmlns:xsi":xs.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&b5("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:SO(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&b5("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:SO(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Hl.length;++s){var a=Hl[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&b5(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var X0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],Ule=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function zle(t,e,r,n){var i=[];if(typeof t=="string")i=sK(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var a=typeof e=="string"?sK(e,n).map(function(d){return d.v}):e,o=0,l=0;if(a.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function vqe(t,e,r){var n={};return e||(e={}),t=Sn(t),X0.forEach(function(i){var s=(t.match(Dx(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Ir(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&zle(n.HeadingPairs,n.TitlesOfParts,e,r),e}function $le(t){var e=[],r=st;return t||(t={}),t.Application="SheetJS",e[e.length]=Bi,e[e.length]=st("Properties",null,{xmlns:xs.EXT_PROPS,"xmlns:vt":xs.vt}),X0.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=mn(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+mn(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var yqe=/<[^>]+>[^<]*/g;function xqe(t,e){var r={},n="",i=t.match(yqe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=Ht(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ir(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Ir(d);break;case"bool":r[n]=$n(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Wn(d);break;case"cy":case"error":r[n]=Ir(d);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}function Hle(t){var e=[Bi,st("Properties",null,{xmlns:xs.CUST_PROPS,"xmlns:vt":xs.vt})];if(!t)return e.join("");var r=1;return Ai(t).forEach(function(i){++r,e[e.length]=st("property",CHe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:mn(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var IO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},w5;function bqe(t,e,r){w5||(w5=mk(IO)),e=w5[e]||e,t[e]=r}function wqe(t,e){var r=[];return Ai(IO).map(function(n){for(var i=0;i<Hl.length;++i)if(Hl[i][1]==n)return Hl[i];for(i=0;i<X0.length;++i)if(X0[i][1]==n)return X0[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(aa(IO[n[1]]||n[1],i))}}),st("DocumentProperties",r.join(""),{xmlns:Ho.o})}function _qe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Ai(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Hl.length;++a)if(s==Hl[a][1])return;for(a=0;a<X0.length;++a)if(s==X0[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(st(tK(s),o,{"dt:dt":l}))}}),e&&Ai(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(st(tK(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Ho.o+'">'+i.join("")+"</"+n+">"}function WD(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function Eqe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Le(8);return a.write_shift(4,n),a.write_shift(4,i),a}function qle(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function Wle(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function Gle(t,e,r){return e===31?Wle(t):qle(t,e,r)}function OO(t,e,r){return Gle(t,e,r===!1?0:4)}function Tqe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Gle(t,e,0)}function Sqe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(Ka,""),t.l-i&2&&(t.l+=2)}return r}function kqe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(Ka,"");return r}function Aqe(t){var e=t.l,r=ZT(t,Dle);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=ZT(t,ho);return[r,n]}function Cqe(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(Aqe(t));return r}function gK(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(Ka,"").replace(h1,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function Kle(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function Nqe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function ZT(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==fK&&n!==e&&aqe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===fK?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return qle(t,n,4).replace(Ka,"");case 31:return Wle(t);case 64:return WD(t);case 65:return Kle(t);case 71:return Nqe(t);case 80:return OO(t,n,!s.raw).replace(Ka,"");case 81:return Tqe(t,n).replace(Ka,"");case 4108:return Cqe(t);case 4126:case 4127:return n==4127?Sqe(t):kqe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function vK(t,e){var r=Le(4),n=Le(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Le(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=Eqe(e);break;case 31:case 80:for(n=Le(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Vs([r,n])}function yK(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,u={};for(a=0;a!=i;++a){var d=t.read_shift(4),m=t.read_shift(4);s[a]=[d,m+r]}s.sort(function(k,A){return k[1]-A[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var v=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,v=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],v=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],v=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(v=!1,t.l=s[a][1]),v)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var x=e[s[a][0]];if(g[x.n]=ZT(t,x.t,{raw:!0}),x.p==="version"&&(g[x.n]=String(g[x.n]>>16)+"."+("0000"+String(g[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(g[x.n]){case 0:g[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:bc(o=g[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[x.n])}}else if(s[a][0]===1){if(o=g.CodePage=ZT(t,HD),bc(o),l!==-1){var b=t.l;t.l=s[l][1],u=gK(t,o),t.l=b}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}u=gK(t,o)}else{var w=u[s[a][0]],_;switch(t[t.l]){case 65:t.l+=4,_=Kle(t);break;case 30:t.l+=4,_=OO(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,_=OO(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,_=t.read_shift(4,"i");break;case 19:t.l+=4,_=t.read_shift(4);break;case 5:t.l+=4,_=t.read_shift(8,"f");break;case 11:t.l+=4,_=Pi(t,4);break;case 64:t.l+=4,_=Wn(WD(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[w]=_}}return t.l=r+n,g}var Yle=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function Iqe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function xK(t,e,r){var n=Le(8),i=[],s=[],a=8,o=0,l=Le(8),u=Le(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Le(8),u.write_shift(4,0),i.unshift(u);var d=[Le(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var m=t[o][0];for(l=Le(8+2*(m.length+1)+(m.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,m.length+1),l.write_shift(0,m,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Vs(d),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(Yle.indexOf(t[o][0])>-1||Ule.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],v=0;if(e){v=+e[t[o][0]];var x=r[v];if(x.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}l=vK(x.t,g)}else{var w=Iqe(g);w==-1&&(w=31,g=String(g)),l=vK(w,g)}s.push(l),u=Le(8),u.write_shift(4,e?v:2+o),i.push(u),a+=8+l.length}var _=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,_),_+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Vs([n].concat(i).concat(s))}function bK(t,e,r){var n=t.content;if(!n)return{};ia(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==It.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var m=yK(n,e),g={SystemIdentifier:u};for(var v in m)g[v]=m[v];if(g.FMTID=s,i===1)return g;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=yK(n,null)}catch{}for(v in x)g[v]=x[v];return g.FMTID=[s,a],g}function wK(t,e,r,n,i,s){var a=Le(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,It.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=xK(t,r,n);if(o.push(l),i){var u=xK(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return Vs(o)}function Oh(t,e){return t.read_shift(e),null}function Oqe(t,e){e||(e=Le(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function Rqe(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Pi(t,e){return t.read_shift(e)===1}function za(t,e){return e||(e=Le(2)),e.write_shift(2,+!!t),e}function Zi(t){return t.read_shift(2,"u")}function Dl(t,e){return e||(e=Le(2)),e.write_shift(2,t),e}function Xle(t,e){return Rqe(t,e,Zi)}function Pqe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Qle(t,e,r){return r||(r=Le(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Gb(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function jqe(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,u);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function Dqe(t){var e=t.t||"",r=Le(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Le(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Vs(i)}function wm(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Kb(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):wm(t,n,r)}function qm(t,e,r){if(r.biff>5)return Kb(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Jle(t,e,r){return r||(r=Le(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function Mqe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function Lqe(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(Ka,"");return n&&(t.l+=24),i}function Fqe(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(Ka,"");return r+a}function Bqe(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return Lqe(t);case"0303000000000000c000000000000046":return Fqe(t);default:throw new Error("Unsupported Moniker "+r)}}function h_(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(Ka,""):"";return r}function _K(t,e){e||(e=Le(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function Vqe(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,u="",d,m;i&16&&(s=h_(t,r-t.l)),i&128&&(a=h_(t,r-t.l)),(i&257)===257&&(o=h_(t,r-t.l)),(i&257)===1&&(l=Bqe(t,r-t.l)),i&8&&(u=h_(t,r-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(m=WD(t)),t.l=r;var g=a||o||l||"";g&&u&&(g+="#"+u),g||(g="#"+u),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var v={Target:g};return d&&(v.guid=d),m&&(v.time=m),s&&(v.Tooltip=s),v}function Uqe(t){var e=Le(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),_K(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&_K(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Zle(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function ece(t,e){var r=Zle(t);return r[3]=0,r}function ju(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function _m(t,e,r,n){return n||(n=Le(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function zqe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function $qe(t,e,r){return e===0?"":qm(t,e,r)}function Hqe(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function tce(t){var e=t.read_shift(2),r=$D(t);return[e,r]}function qqe(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Gb(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function vk(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function rce(t,e){return e||(e=Le(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function nce(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var Wqe=nce;function ice(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function Gqe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Kqe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ya(t){t.l+=2,t.l+=t.read_shift(2)}var Yqe={0:ya,4:ya,5:ya,6:ya,7:Kqe,8:ya,9:ya,10:ya,11:ya,12:ya,13:Gqe,14:ya,15:ya,16:ya,17:ya,18:ya,19:ya,20:ya,21:ice};function Xqe(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(Yqe[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function f_(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function GD(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Le(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Qqe(t,e){return e===0||t.read_shift(2),1200}function Jqe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=qm(t,0,r);return t.read_shift(e+n-t.l),i}function Zqe(t,e){var r=!e||e.biff==8,n=Le(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function eWe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function tWe(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Gb(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function rWe(t,e){var r=!e||e.biff>=8?2:1,n=Le(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function nWe(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(jqe(t));return s.Count=n,s.Unique=i,s}function iWe(t,e){var r=Le(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=Dqe(t[i]);var s=Vs([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function sWe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function aWe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function oWe(t){var e=zqe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function lWe(t){return t.read_shift(2),t.read_shift(4)}function EK(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function cWe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:u}}function uWe(){var t=Le(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function dWe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function hWe(t){var e=Le(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function fWe(){}function mWe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Gb(t,0,r),n}function pWe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Le(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function gWe(t){var e=ju(t);return e.isst=t.read_shift(4),e}function vWe(t,e,r,n){var i=Le(10);return _m(t,e,n,i),i.write_shift(4,r),i}function yWe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=ju(t);r.biff==2&&t.l++;var s=Kb(t,n-t.l,r);return i.val=s,i}function xWe(t,e,r,n,i){var s=!i||i.biff==8,a=Le(8+ +s+(1+s)*r.length);return _m(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function bWe(t,e,r){var n=t.read_shift(2),i=qm(t,0,r);return[n,i]}function wWe(t,e,r,n){var i=r&&r.biff==5;n||(n=Le(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var _We=qm;function TK(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function EWe(t,e){var r=e.biff==8||!e.biff?4:2,n=Le(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function TWe(t){var e=t.read_shift(2),r=t.read_shift(2),n=tce(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function SWe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(tce(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function kWe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function AWe(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=oqe[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function CWe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=AWe(t,e,n.fStyle,r),n}function SK(t,e,r,n){var i=r&&r.biff==5;n||(n=Le(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function NWe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function IWe(t){var e=Le(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function kK(t,e,r){var n=ju(t);(r.biff==2||e==9)&&++t.l;var i=Pqe(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function OWe(t,e,r,n,i,s){var a=Le(8);return _m(t,e,n,a),Qle(r,s,a),a}function RWe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=ju(t),i=ka(t);return n.val=i,n}function PWe(t,e,r,n){var i=Le(14);return _m(t,e,n,i),bm(r,i),i}var AK=$qe;function jWe(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=wm(t,s),o=[];n>t.l;)o.push(Kb(t));return[s,i,a,o]}function CK(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=qqe(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var DWe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function NK(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=wm(t,a,r);i&32&&(u=DWe[u.charCodeAt(0)]);var d=n-t.l;r&&r.biff==2&&--d;var m=n==t.l||o===0||!(d>0)?[]:XXe(t,d,r,o);return{chKey:s,Name:u,itab:l,rgce:m}}function sce(t,e,r){if(r.biff<8)return MWe(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(Hqe(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function MWe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Gb(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function LWe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=wm(t,n,r),a=wm(t,i,r);return[s,a]}function FWe(t,e,r){var n=nce(t);t.l++;var i=t.read_shift(1);return e-=8,[QXe(t,e,r),i,n]}function IK(t,e,r){var n=Wqe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,KXe(t,e,r)]}function BWe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function VWe(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=qm(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function UWe(t,e,r){return VWe(t,e,r)}function zWe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(vk(t));return r}function $We(t){var e=Le(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)rce(t[r],e);return e}function HWe(t,e,r){if(r&&r.biff<8)return WWe(t,e,r);var n=ice(t),i=Xqe(t,e-22,n[1]);return{cmo:n,ft:i}}var qWe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function WWe(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((qWe[n]||ja)(t,e,r)),{cmo:[i,n,s],ft:a}}function GWe(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=Mqe(t,6,r);var o=t.read_shift(2);t.read_shift(2),Zi(t,2);var l=t.read_shift(2);t.l+=l;for(var u=1;u<t.lens.length-1;++u){if(t.l-n!=t.lens[u])throw new Error("TxO: bad continue record");var d=t[t.l],m=wm(t,t.lens[u+1]-t.lens[u]-1);if(i+=m,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function KWe(t,e){var r=vk(t);t.l+=16;var n=Vqe(t,e-24);return[r,n]}function YWe(t){var e=Le(24),r=fi(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Vs([e,Uqe(t[1])])}function XWe(t,e){t.read_shift(2);var r=vk(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(Ka,""),[r,n]}function QWe(t){var e=t[1].Tooltip,r=Le(10+2*(e.length+1));r.write_shift(2,2048);var n=fi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function JWe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=mK[r]||r,r=t.read_shift(2),e[1]=mK[r]||r,e}function ZWe(t){return t||(t=Le(4)),t.write_shift(2,1),t.write_shift(2,1),t}function eGe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(ece(t));return r}function tGe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(ece(t));return r}function rGe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function ace(t,e,r){if(!r.cellStyles)return ja(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function nGe(t,e){var r=Le(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function iGe(t,e){var r={};return e<32||(t.l+=16,r.header=ka(t),r.footer=ka(t),t.l+=2),r}function sGe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function aGe(t){for(var e=Le(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var oGe=ju,lGe=Xle,cGe=Kb;function uGe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function dGe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=ju(t);++t.l;var i=qm(t,e-7,r);return n.t="str",n.val=i,n}function hGe(t){var e=ju(t);++t.l;var r=ka(t);return e.t="n",e.val=r,e}function fGe(t,e,r){var n=Le(15);return Jb(n,t,e),n.write_shift(8,r,"f"),n}function mGe(t){var e=ju(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function pGe(t,e,r){var n=Le(9);return Jb(n,t,e),n.write_shift(2,r),n}function gGe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function vGe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function yGe(t,e,r){var n=t.l+e,i=ju(t),s=t.read_shift(2),a=wm(t,s,r);return t.l=n,i.t="str",i.val=a,i}var xGe=[2,3,48,49,131,139,140,245],RO=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=mk({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=Tf(1);switch(l.type){case"base64":d=Xo(al(o));break;case"binary":d=Xo(o);break;case"buffer":case"array":d=o;break}ia(d,0);var m=d.read_shift(1),g=!!(m&136),v=!1,x=!1;switch(m){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+m.toString(16))}var b=0,w=521;m==2&&(b=d.read_shift(2)),d.l+=3,m!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),m!=2&&(w=d.read_shift(2));var _=d.read_shift(2),k=l.codepage||1252;m!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(k=t[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var A=[],R={},P=Math.min(d.length,m==2?521:w-10-(v?264:0)),j=x?32:11;d.l<P&&d[d.l]!=13;)switch(R={},R.name=Rx.utils.decode(k,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,R.type=String.fromCharCode(d.read_shift(1)),m!=2&&!x&&(R.offset=d.read_shift(4)),R.len=d.read_shift(1),m==2&&(R.offset=d.read_shift(2)),R.dec=d.read_shift(1),R.name.length&&A.push(R),m!=2&&(d.l+=x?13:14),R.type){case"B":(!v||R.len!=8)&&l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+R.name+":"+R.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+R.type)}if(d[d.l]!==13&&(d.l=w-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=w;var S=0,I=0;for(u[0]=[],I=0;I!=A.length;++I)u[0][I]=A[I].name;for(;b-- >0;){if(d[d.l]===42){d.l+=_;continue}for(++d.l,u[++S]=[],I=0,I=0;I!=A.length;++I){var O=d.slice(d.l,d.l+A[I].len);d.l+=A[I].len,ia(O,0);var D=Rx.utils.decode(k,O);switch(A[I].type){case"C":D.trim().length&&(u[S][I]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[S][I]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[S][I]=D;break;case"F":u[S][I]=parseFloat(D.trim());break;case"+":case"I":u[S][I]=x?O.read_shift(-4,"i")^2147483648:O.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[S][I]=!0;break;case"N":case"F":u[S][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+m.toString(16));u[S][I]="##MEMO##"+(x?parseInt(D.trim(),10):O.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[S][I]=+D||0);break;case"@":u[S][I]=new Date(O.read_shift(-8,"f")-621356832e5);break;case"T":u[S][I]=new Date((O.read_shift(4)-2440588)*864e5+O.read_shift(4));break;case"Y":u[S][I]=O.read_shift(4,"i")/1e4+O.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][I]=-O.read_shift(-8,"f");break;case"B":if(v&&A[I].len==8){u[S][I]=O.read_shift(8,"f");break}case"G":case"P":O.l+=A[I].len;break;case"0":if(A[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[I].type)}}}if(m!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=A,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Yv(r(o,u),u);return d["!cols"]=u.DBF.map(function(m){return{wch:m.len,DBF:m}}),delete u.DBF,d}function i(o,l){try{return Uf(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&bc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=_o(),m=rS(o,{header:1,raw:!0,cellDates:!0}),g=m[0],v=m.slice(1),x=o["!cols"]||[],b=0,w=0,_=0,k=1;for(b=0;b<g.length;++b){if(((x[b]||{}).DBF||{}).name){g[b]=x[b].DBF.name,++_;continue}if(g[b]!=null){if(++_,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(w=0;w<1024;++w)if(g.indexOf(g[b]+"_"+w)==-1){g[b]+="_"+w;break}}}}var A=Or(o["!ref"]),R=[],P=[],j=[];for(b=0;b<=A.e.c-A.s.c;++b){var S="",I="",O=0,D=[];for(w=0;w<v.length;++w)v[w][b]!=null&&D.push(v[w][b]);if(D.length==0||g[b]==null){R[b]="?";continue}for(w=0;w<D.length;++w){switch(typeof D[w]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=D[w]instanceof Date?"D":"C";break;default:I="C"}O=Math.max(O,String(D[w]).length),S=S&&S!=I?"C":I}O>250&&(O=250),I=((x[b]||{}).DBF||{}).type,I=="C"&&x[b].DBF.len>O&&(O=x[b].DBF.len),S=="B"&&I=="N"&&(S="N",j[b]=x[b].DBF.dec,O=x[b].DBF.len),P[b]=S=="C"||I=="N"?O:s[S]||0,k+=P[b],R[b]=S}var M=d.next(32);for(M.write_shift(4,318902576),M.write_shift(4,v.length),M.write_shift(2,296+32*_),M.write_shift(2,k),b=0;b<4;++b)M.write_shift(4,0);for(M.write_shift(4,0|(+e[Yoe]||3)<<8),b=0,w=0;b<g.length;++b)if(g[b]!=null){var F=d.next(32),U=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);F.write_shift(1,U,"sbcs"),F.write_shift(1,R[b]=="?"?"C":R[b],"sbcs"),F.write_shift(4,w),F.write_shift(1,P[b]||s[R[b]]||0),F.write_shift(1,j[b]||0),F.write_shift(1,2),F.write_shift(4,0),F.write_shift(1,0),F.write_shift(4,0),F.write_shift(4,0),w+=P[b]||s[R[b]]||0}var le=d.next(264);for(le.write_shift(4,13),b=0;b<65;++b)le.write_shift(4,0);for(b=0;b<v.length;++b){var de=d.next(k);for(de.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(R[w]){case"L":de.write_shift(1,v[b][w]==null?63:v[b][w]?84:70);break;case"B":de.write_shift(8,v[b][w]||0,"f");break;case"N":var Z="0";for(typeof v[b][w]=="number"&&(Z=v[b][w].toFixed(j[w]||0)),_=0;_<P[w]-Z.length;++_)de.write_shift(1,32);de.write_shift(1,Z,"sbcs");break;case"D":v[b][w]?(de.write_shift(4,("0000"+v[b][w].getFullYear()).slice(-4),"sbcs"),de.write_shift(2,("00"+(v[b][w].getMonth()+1)).slice(-2),"sbcs"),de.write_shift(2,("00"+v[b][w].getDate()).slice(-2),"sbcs")):de.write_shift(8,"00000000","sbcs");break;case"C":var J=String(v[b][w]!=null?v[b][w]:"").slice(0,P[w]);for(de.write_shift(1,J,"sbcs"),_=0;_<P[w]-J.length;++_)de.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),oce=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ai(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,v){var x=t[v];return typeof x=="number"?UG(x):x},n=function(g,v,x){var b=v.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?g:UG(b)};t["|"]=254;function i(g,v){switch(v.type){case"base64":return s(al(g),v);case"binary":return s(g,v);case"buffer":return s(lr&&Buffer.isBuffer(g)?g.toString("binary"):Vf(g),v);case"array":return s(xm(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var x=g.split(/[\n\r]+/),b=-1,w=-1,_=0,k=0,A=[],R=[],P=null,j={},S=[],I=[],O=[],D=0,M;for(+v.codepage>=0&&bc(+v.codepage);_!==x.length;++_){D=0;var F=x[_].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),U=F.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),le=U[0],de;if(F.length>0)switch(le){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&R.push(F.slice(3).replace(/;;/g,";"));break;case"C":var Z=!1,J=!1,he=!1,ee=!1,ve=-1,H=-1;for(k=1;k<U.length;++k)switch(U[k].charAt(0)){case"A":break;case"X":w=parseInt(U[k].slice(1))-1,J=!0;break;case"Y":for(b=parseInt(U[k].slice(1))-1,J||(w=0),M=A.length;M<=b;++M)A[M]=[];break;case"K":de=U[k].slice(1),de.charAt(0)==='"'?de=de.slice(1,de.length-1):de==="TRUE"?de=!0:de==="FALSE"?de=!1:isNaN(kc(de))?isNaN(hv(de).getDate())||(de=Wn(de)):(de=kc(de),P!==null&&Gv(P)&&(de=gk(de))),Z=!0;break;case"E":ee=!0;var B=kg(U[k].slice(1),{r:b,c:w});A[b][w]=[A[b][w],B];break;case"S":he=!0,A[b][w]=[A[b][w],"S5S"];break;case"G":break;case"R":ve=parseInt(U[k].slice(1))-1;break;case"C":H=parseInt(U[k].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+F)}if(Z&&(A[b][w]&&A[b][w].length==2?A[b][w][0]=de:A[b][w]=de,P=null),he){if(ee)throw new Error("SYLK shared formula cannot have own formula");var q=ve>-1&&A[ve][H];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");A[b][w][1]=Sce(q[1],{r:b-ve,c:w-H})}break;case"F":var W=0;for(k=1;k<U.length;++k)switch(U[k].charAt(0)){case"X":w=parseInt(U[k].slice(1))-1,++W;break;case"Y":for(b=parseInt(U[k].slice(1))-1,M=A.length;M<=b;++M)A[M]=[];break;case"M":D=parseInt(U[k].slice(1))/20;break;case"F":break;case"G":break;case"P":P=R[parseInt(U[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(O=U[k].slice(1).split(" "),M=parseInt(O[0],10);M<=parseInt(O[1],10);++M)D=parseInt(O[2],10),I[M-1]=D===0?{hidden:!0}:{wch:D},Sf(I[M-1]);break;case"C":w=parseInt(U[k].slice(1))-1,I[w]||(I[w]={});break;case"R":b=parseInt(U[k].slice(1))-1,S[b]||(S[b]={}),D>0?(S[b].hpt=D,S[b].hpx=mv(D)):D===0&&(S[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+F)}W<1&&(P=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+F)}}return S.length>0&&(j["!rows"]=S),I.length>0&&(j["!cols"]=I),v&&v.sheetRows&&(A=A.slice(0,v.sheetRows)),[A,j]}function a(g,v){var x=i(g,v),b=x[0],w=x[1],_=Yv(b,v);return Ai(w).forEach(function(k){_[k]=w[k]}),_}function o(g,v){return Uf(a(g,v),v)}function l(g,v,x,b){var w="C;Y"+(x+1)+";X"+(b+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+ZD(g.f,{r:x,c:b}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(g,v){v.forEach(function(x,b){var w="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?w+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Vx(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Ux(x.wpx)),typeof x.wch=="number"&&(w+=Math.round(x.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function d(g,v){v.forEach(function(x,b){var w="F;";x.hidden?w+="M0;":x.hpt?w+="M"+20*x.hpt+";":x.hpx&&(w+="M"+20*zx(x.hpx)+";"),w.length>2&&g.push(w+"R"+(b+1))})}function m(g,v){var x=["ID;PWXL;N;E"],b=[],w=Or(g["!ref"]),_,k=Array.isArray(g),A=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),g["!cols"]&&u(x,g["!cols"]),g["!rows"]&&d(x,g["!rows"]),x.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var R=w.s.r;R<=w.e.r;++R)for(var P=w.s.c;P<=w.e.c;++P){var j=Bt({r:R,c:P});_=k?(g[R]||[])[P]:g[j],!(!_||_.v==null&&(!_.f||_.F))&&b.push(l(_,g,R,P))}return x.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:a,from_sheet:m}})(),lce=(function(){function t(s,a){switch(a.type){case"base64":return e(al(s),a);case"binary":return e(s,a);case"buffer":return e(lr&&Buffer.isBuffer(s)?s.toString("binary"):Vf(s),a);case"array":return e(xm(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,d=0,m=[];d!==o.length;++d){if(o[d].trim()==="BOT"){m[++l]=[],u=0;continue}if(!(l<0)){var g=o[d].trim().split(","),v=g[0],x=g[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+v){case-1:if(b==="BOT"){m[++l]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?m[l][u]=!0:b==="FALSE"?m[l][u]=!1:isNaN(kc(x))?isNaN(hv(x).getDate())?m[l][u]=x:m[l][u]=Wn(x):m[l][u]=kc(x),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),m[l][u++]=b!==""?b:null;break}if(b==="EOD")break}}return a&&a.sheetRows&&(m=m.slice(0,a.sheetRows)),m}function r(s,a){return Yv(t(s,a),a)}function n(s,a){return Uf(r(s,a),a)}var i=(function(){var s=function(l,u,d,m,g){l.push(u),l.push(d+","+m),l.push('"'+g.replace(/"/g,'""')+'"')},a=function(l,u,d,m){l.push(u+","+d),l.push(u==1?'"'+m.replace(/"/g,'""')+'"':m)};return function(l){var u=[],d=Or(l["!ref"]),m,g=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var v=d.s.r;v<=d.e.r;++v){a(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var b=Bt({r:v,c:x});if(m=g?(l[v]||[])[x]:l[b],!m){a(u,1,0,"");continue}switch(m.t){case"n":var w=m.w;!w&&m.v!=null&&(w=m.v),w==null?m.f&&!m.F?a(u,1,0,"="+m.f):a(u,1,0,""):a(u,0,w,"V");break;case"b":a(u,0,m.v?1:0,m.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(m.v)?m.v:'="'+m.v+'"');break;case"d":m.w||(m.w=Gl(m.z||Mt[14],ws(Wn(m.v)))),a(u,0,m.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var _=`\r
`,k=u.join(_);return k}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),cce=(function(){function t(m){return m.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(m){return m.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(m,g){for(var v=m.split(`
`),x=-1,b=-1,w=0,_=[];w!==v.length;++w){var k=v[w].trim().split(":");if(k[0]==="cell"){var A=fi(k[1]);if(_.length<=A.r)for(x=_.length;x<=A.r;++x)_[x]||(_[x]=[]);switch(x=A.r,b=A.c,k[2]){case"t":_[x][b]=t(k[3]);break;case"v":_[x][b]=+k[3];break;case"vtf":var R=k[k.length-1];case"vtc":switch(k[3]){case"nl":_[x][b]=!!+k[4];break;default:_[x][b]=+k[4];break}k[2]=="vtf"&&(_[x][b]=[_[x][b],R])}}}return g&&g.sheetRows&&(_=_.slice(0,g.sheetRows)),_}function n(m,g){return Yv(r(m,g),g)}function i(m,g){return Uf(n(m,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(m){if(!m||!m["!ref"])return"";for(var g=[],v=[],x,b="",w=So(m["!ref"]),_=Array.isArray(m),k=w.s.r;k<=w.e.r;++k)for(var A=w.s.c;A<=w.e.c;++A)if(b=Bt({r:k,c:A}),x=_?(m[k]||[])[A]:m[b],!(!x||x.v==null||x.t==="z")){switch(v=["cell",b,"t"],x.t){case"s":case"str":v.push(e(x.v));break;case"n":x.f?(v[2]="vtf",v[3]="n",v[4]=x.v,v[5]=e(x.f)):(v[2]="v",v[3]=x.v);break;case"b":v[2]="vt"+(x.f?"f":"c"),v[3]="nl",v[4]=x.v?"1":"0",v[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var R=ws(Wn(x.v));v[2]="vtc",v[3]="nd",v[4]=""+R,v[5]=x.w||Gl(x.z||Mt[14],R);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(m){return[s,a,o,a,u(m),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),fv=(function(){function t(d,m,g,v,x){x.raw?m[g][v]=d:d===""||(d==="TRUE"?m[g][v]=!0:d==="FALSE"?m[g][v]=!1:isNaN(kc(d))?isNaN(hv(d).getDate())?m[g][v]=d:m[g][v]=Wn(d):m[g][v]=kc(d))}function e(d,m){var g=m||{},v=[];if(!d||d.length===0)return v;for(var x=d.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var w=10,_=0,k=0;k<=b;++k)_=x[k].indexOf(" "),_==-1?_=x[k].length:_++,w=Math.max(w,_);for(k=0;k<=b;++k){v[k]=[];var A=0;for(t(x[k].slice(0,w).trim(),v,k,A,g),A=1;A<=(x[k].length-w)/10+1;++A)t(x[k].slice(w+(A-1)*10,w+A*10).trim(),v,k,A,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var m={},g=!1,v=0,x=0;v<d.length;++v)(x=d.charCodeAt(v))==34?g=!g:!g&&x in r&&(m[x]=(m[x]||0)+1);x=[];for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&x.push([m[v],v]);if(!x.length){m=n;for(v in m)Object.prototype.hasOwnProperty.call(m,v)&&x.push([m[v],v])}return x.sort(function(b,w){return b[0]-w[0]||n[b[1]]-n[w[1]]}),r[x.pop()[1]]||44}function s(d,m){var g=m||{},v="",x=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(v=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(v=d.charAt(4),d=d.slice(6)):v=i(d.slice(0,1024)):g&&g.FS?v=g.FS:v=i(d.slice(0,1024));var w=0,_=0,k=0,A=0,R=0,P=v.charCodeAt(0),j=!1,S=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var O=g.dateNF!=null?sHe(g.dateNF):null;function D(){var M=d.slice(A,R),F={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)F.t="z";else if(g.raw)F.t="s",F.v=M;else if(M.trim().length===0)F.t="s",F.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(F.t="s",F.v=M.slice(2,-1).replace(/""/g,'"')):jYe(M)?(F.t="n",F.f=M.slice(1)):(F.t="s",F.v=M);else if(M=="TRUE")F.t="b",F.v=!0;else if(M=="FALSE")F.t="b",F.v=!1;else if(!isNaN(k=kc(M)))F.t="n",g.cellText!==!1&&(F.w=M),F.v=k;else if(!isNaN(hv(M).getDate())||O&&M.match(O)){F.z=g.dateNF||Mt[14];var U=0;O&&M.match(O)&&(M=aHe(M,g.dateNF,M.match(O)||[]),U=1),g.cellDates?(F.t="d",F.v=Wn(M,U)):(F.t="n",F.v=ws(Wn(M,U))),g.cellText!==!1&&(F.w=Gl(F.z,F.v instanceof Date?ws(F.v):F.v)),g.cellNF||delete F.z}else F.t="s",F.v=M;if(F.t=="z"||(g.dense?(x[w]||(x[w]=[]),x[w][_]=F):x[Bt({c:_,r:w})]=F),A=R+1,I=d.charCodeAt(A),b.e.c<_&&(b.e.c=_),b.e.r<w&&(b.e.r=w),S==P)++_;else if(_=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;R<d.length;++R)switch(S=d.charCodeAt(R)){case 34:I===34&&(j=!j);break;case P:case 10:case 13:if(!j&&D())break e;break}return R-A>0&&D(),x["!ref"]=tr(b),x}function a(d,m){return!(m&&m.PRN)||m.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,m):Yv(e(d,m),m)}function o(d,m){var g="",v=m.type=="string"?[0,0,0,0]:oM(d,m);switch(m.type){case"base64":g=al(d);break;case"binary":g=d;break;case"buffer":m.codepage==65001?g=d.toString("utf8"):m.codepage&&typeof Rx<"u"||(g=lr&&Buffer.isBuffer(d)?d.toString("binary"):Vf(d));break;case"array":g=xm(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+m.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=Sn(g.slice(3)):m.type!="string"&&m.type!="buffer"&&m.codepage==65001?g=Sn(g):m.type=="binary"&&typeof Rx<"u",g.slice(0,19)=="socialcalc:version:"?cce.to_sheet(m.type=="string"?g:Sn(g),m):a(g,m)}function l(d,m){return Uf(o(d,m),m)}function u(d){for(var m=[],g=Or(d["!ref"]),v,x=Array.isArray(d),b=g.s.r;b<=g.e.r;++b){for(var w=[],_=g.s.c;_<=g.e.c;++_){var k=Bt({r:b,c:_});if(v=x?(d[b]||[])[_]:d[k],!v||v.v==null){w.push("          ");continue}for(var A=(v.w||(Bd(v),v.w)||"").slice(0,10);A.length<10;)A+=" ";w.push(A+(_===0?" ":""))}m.push(w.join(""))}return m.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})();function bGe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=oce.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return fv.to_workbook(t,e)}}var Q0=(function(){function t(B,q,W){if(B){ia(B,B.l||0);for(var Y=W.Enum||ve;B.l<B.length;){var ue=B.read_shift(2),pe=Y[ue]||Y[65535],ce=B.read_shift(2),ie=B.l+ce,ye=pe.f&&pe.f(B,ce,W);if(B.l=ie,q(ye,pe,ue))return}}}function e(B,q){switch(q.type){case"base64":return r(Xo(al(B)),q);case"binary":return r(Xo(B),q);case"buffer":case"array":return r(B,q)}throw"Unsupported type "+q.type}function r(B,q){if(!B)return B;var W=q||{},Y=W.dense?[]:{},ue="Sheet1",pe="",ce=0,ie={},ye=[],Ve=[],G={s:{r:0,c:0},e:{r:0,c:0}},tt=W.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)W.Enum=ve,t(B,function(Ie,et,ht){switch(ht){case 0:W.vers=Ie,Ie>=4096&&(W.qpro=!0);break;case 6:G=Ie;break;case 204:Ie&&(pe=Ie);break;case 222:pe=Ie;break;case 15:case 51:W.qpro||(Ie[1].v=Ie[1].v.slice(1));case 13:case 14:case 16:ht==14&&(Ie[2]&112)==112&&(Ie[2]&15)>1&&(Ie[2]&15)<15&&(Ie[1].z=W.dateNF||Mt[14],W.cellDates&&(Ie[1].t="d",Ie[1].v=gk(Ie[1].v))),W.qpro&&Ie[3]>ce&&(Y["!ref"]=tr(G),ie[ue]=Y,ye.push(ue),Y=W.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ce=Ie[3],ue=pe||"Sheet"+(ce+1),pe="");var _t=W.dense?(Y[Ie[0].r]||[])[Ie[0].c]:Y[Bt(Ie[0])];if(_t){_t.t=Ie[1].t,_t.v=Ie[1].v,Ie[1].z!=null&&(_t.z=Ie[1].z),Ie[1].f!=null&&(_t.f=Ie[1].f);break}W.dense?(Y[Ie[0].r]||(Y[Ie[0].r]=[]),Y[Ie[0].r][Ie[0].c]=Ie[1]):Y[Bt(Ie[0])]=Ie[1];break}},W);else if(B[2]==26||B[2]==14)W.Enum=H,B[2]==14&&(W.qpro=!0,B.l=0),t(B,function(Ie,et,ht){switch(ht){case 204:ue=Ie;break;case 22:Ie[1].v=Ie[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(Ie[3]>ce&&(Y["!ref"]=tr(G),ie[ue]=Y,ye.push(ue),Y=W.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ce=Ie[3],ue="Sheet"+(ce+1)),tt>0&&Ie[0].r>=tt)break;W.dense?(Y[Ie[0].r]||(Y[Ie[0].r]=[]),Y[Ie[0].r][Ie[0].c]=Ie[1]):Y[Bt(Ie[0])]=Ie[1],G.e.c<Ie[0].c&&(G.e.c=Ie[0].c),G.e.r<Ie[0].r&&(G.e.r=Ie[0].r);break;case 27:Ie[14e3]&&(Ve[Ie[14e3][0]]=Ie[14e3][1]);break;case 1537:Ve[Ie[0]]=Ie[1],Ie[0]==ce&&(ue=Ie[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(Y["!ref"]=tr(G),ie[pe||ue]=Y,ye.push(pe||ue),!Ve.length)return{SheetNames:ye,Sheets:ie};for(var me={},He=[],Ke=0;Ke<Ve.length;++Ke)ie[ye[Ke]]?(He.push(Ve[Ke]||ye[Ke]),me[Ve[Ke]]=ie[Ve[Ke]]||ie[ye[Ke]]):(He.push(Ve[Ke]),me[Ve[Ke]]={"!ref":"A1"});return{SheetNames:He,Sheets:me}}function n(B,q){var W=q||{};if(+W.codepage>=0&&bc(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=_o(),ue=Or(B["!ref"]),pe=Array.isArray(B),ce=[];ot(Y,0,s(1030)),ot(Y,6,l(ue));for(var ie=Math.min(ue.e.r,8191),ye=ue.s.r;ye<=ie;++ye)for(var Ve=Fi(ye),G=ue.s.c;G<=ue.e.c;++G){ye===ue.s.r&&(ce[G]=hi(G));var tt=ce[G]+Ve,me=pe?(B[ye]||[])[G]:B[tt];if(!(!me||me.t=="z"))if(me.t=="n")(me.v|0)==me.v&&me.v>=-32768&&me.v<=32767?ot(Y,13,v(ye,G,me.v)):ot(Y,14,b(ye,G,me.v));else{var He=Bd(me);ot(Y,15,m(ye,G,He.slice(0,239)))}}return ot(Y,1),Y.end()}function i(B,q){var W=q||{};if(+W.codepage>=0&&bc(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=_o();ot(Y,0,a(B));for(var ue=0,pe=0;ue<B.SheetNames.length;++ue)(B.Sheets[B.SheetNames[ue]]||{})["!ref"]&&ot(Y,27,ee(B.SheetNames[ue],pe++));var ce=0;for(ue=0;ue<B.SheetNames.length;++ue){var ie=B.Sheets[B.SheetNames[ue]];if(!(!ie||!ie["!ref"])){for(var ye=Or(ie["!ref"]),Ve=Array.isArray(ie),G=[],tt=Math.min(ye.e.r,8191),me=ye.s.r;me<=tt;++me)for(var He=Fi(me),Ke=ye.s.c;Ke<=ye.e.c;++Ke){me===ye.s.r&&(G[Ke]=hi(Ke));var Ie=G[Ke]+He,et=Ve?(ie[me]||[])[Ke]:ie[Ie];if(!(!et||et.t=="z"))if(et.t=="n")ot(Y,23,D(me,Ke,ce,et.v));else{var ht=Bd(et);ot(Y,22,S(me,Ke,ce,ht.slice(0,239)))}}++ce}}return ot(Y,1),Y.end()}function s(B){var q=Le(2);return q.write_shift(2,B),q}function a(B){var q=Le(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var W=0,Y=0,ue=0,pe=0;pe<B.SheetNames.length;++pe){var ce=B.SheetNames[pe],ie=B.Sheets[ce];if(!(!ie||!ie["!ref"])){++ue;var ye=So(ie["!ref"]);W<ye.e.r&&(W=ye.e.r),Y<ye.e.c&&(Y=ye.e.c)}}return W>8191&&(W=8191),q.write_shift(2,W),q.write_shift(1,ue),q.write_shift(1,Y),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(B,q,W){var Y={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&W.qpro?(Y.s.c=B.read_shift(1),B.l++,Y.s.r=B.read_shift(2),Y.e.c=B.read_shift(1),B.l++,Y.e.r=B.read_shift(2),Y):(Y.s.c=B.read_shift(2),Y.s.r=B.read_shift(2),q==12&&W.qpro&&(B.l+=2),Y.e.c=B.read_shift(2),Y.e.r=B.read_shift(2),q==12&&W.qpro&&(B.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(B){var q=Le(8);return q.write_shift(2,B.s.c),q.write_shift(2,B.s.r),q.write_shift(2,B.e.c),q.write_shift(2,B.e.r),q}function u(B,q,W){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(Y[0].c=B.read_shift(1),Y[3]=B.read_shift(1),Y[0].r=B.read_shift(2),B.l+=2):(Y[2]=B.read_shift(1),Y[0].c=B.read_shift(2),Y[0].r=B.read_shift(2)),Y}function d(B,q,W){var Y=B.l+q,ue=u(B,q,W);if(ue[1].t="s",W.vers==20768){B.l++;var pe=B.read_shift(1);return ue[1].v=B.read_shift(pe,"utf8"),ue}return W.qpro&&B.l++,ue[1].v=B.read_shift(Y-B.l,"cstr"),ue}function m(B,q,W){var Y=Le(7+W.length);Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,B),Y.write_shift(1,39);for(var ue=0;ue<Y.length;++ue){var pe=W.charCodeAt(ue);Y.write_shift(1,pe>=128?95:pe)}return Y.write_shift(1,0),Y}function g(B,q,W){var Y=u(B,q,W);return Y[1].v=B.read_shift(2,"i"),Y}function v(B,q,W){var Y=Le(7);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,B),Y.write_shift(2,W,"i"),Y}function x(B,q,W){var Y=u(B,q,W);return Y[1].v=B.read_shift(8,"f"),Y}function b(B,q,W){var Y=Le(13);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,B),Y.write_shift(8,W,"f"),Y}function w(B,q,W){var Y=B.l+q,ue=u(B,q,W);if(ue[1].v=B.read_shift(8,"f"),W.qpro)B.l=Y;else{var pe=B.read_shift(2);R(B.slice(B.l,B.l+pe),ue),B.l+=pe}return ue}function _(B,q,W){var Y=q&32768;return q&=-32769,q=(Y?B:0)+(q>=8192?q-16384:q),(Y?"":"$")+(W?hi(q):Fi(q))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function R(B,q){ia(B,0);for(var W=[],Y=0,ue="",pe="",ce="",ie="";B.l<B.length;){var ye=B[B.l++];switch(ye){case 0:W.push(B.read_shift(8,"f"));break;case 1:pe=_(q[0].c,B.read_shift(2),!0),ue=_(q[0].r,B.read_shift(2),!1),W.push(pe+ue);break;case 2:{var Ve=_(q[0].c,B.read_shift(2),!0),G=_(q[0].r,B.read_shift(2),!1);pe=_(q[0].c,B.read_shift(2),!0),ue=_(q[0].r,B.read_shift(2),!1),W.push(Ve+G+":"+pe+ue)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(B.read_shift(2));break;case 6:{for(var tt="";ye=B[B.l++];)tt+=String.fromCharCode(ye);W.push('"'+tt.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:ie=W.pop(),ce=W.pop(),W.push(["AND","OR"][ye-20]+"("+ce+","+ie+")");break;default:if(ye<32&&A[ye])ie=W.pop(),ce=W.pop(),W.push(ce+A[ye]+ie);else if(k[ye]){if(Y=k[ye][1],Y==69&&(Y=B[B.l++]),Y>W.length){console.error("WK1 bad formula parse 0x"+ye.toString(16)+":|"+W.join("|")+"|");return}var me=W.slice(-Y);W.length-=Y,W.push(k[ye][0]+"("+me.join(",")+")")}else return ye<=7?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=24?console.error("WK1 unsupported op "+ye.toString(16)):ye<=30?console.error("WK1 invalid opcode "+ye.toString(16)):ye<=115?console.error("WK1 unsupported function opcode "+ye.toString(16)):console.error("WK1 unrecognized opcode "+ye.toString(16))}}W.length==1?q[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function P(B){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=B.read_shift(2),q[3]=B[B.l++],q[0].c=B[B.l++],q}function j(B,q){var W=P(B);return W[1].t="s",W[1].v=B.read_shift(q-4,"cstr"),W}function S(B,q,W,Y){var ue=Le(6+Y.length);ue.write_shift(2,B),ue.write_shift(1,W),ue.write_shift(1,q),ue.write_shift(1,39);for(var pe=0;pe<Y.length;++pe){var ce=Y.charCodeAt(pe);ue.write_shift(1,ce>=128?95:ce)}return ue.write_shift(1,0),ue}function I(B,q){var W=P(B);W[1].v=B.read_shift(2);var Y=W[1].v>>1;if(W[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return W[1].v=Y,W}function O(B,q){var W=P(B),Y=B.read_shift(4),ue=B.read_shift(4),pe=B.read_shift(2);if(pe==65535)return Y===0&&ue===3221225472?(W[1].t="e",W[1].v=15):Y===0&&ue===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var ce=pe&32768;return pe=(pe&32767)-16446,W[1].v=(1-ce*2)*(ue*Math.pow(2,pe+32)+Y*Math.pow(2,pe)),W}function D(B,q,W,Y){var ue=Le(14);if(ue.write_shift(2,B),ue.write_shift(1,W),ue.write_shift(1,q),Y==0)return ue.write_shift(4,0),ue.write_shift(4,0),ue.write_shift(2,65535),ue;var pe=0,ce=0,ie=0,ye=0;return Y<0&&(pe=1,Y=-Y),ce=Math.log2(Y)|0,Y/=Math.pow(2,ce-31),ye=Y>>>0,(ye&2147483648)==0&&(Y/=2,++ce,ye=Y>>>0),Y-=ye,ye|=2147483648,ye>>>=0,Y*=Math.pow(2,32),ie=Y>>>0,ue.write_shift(4,ie),ue.write_shift(4,ye),ce+=16383+(pe?32768:0),ue.write_shift(2,ce),ue}function M(B,q){var W=O(B);return B.l+=q-14,W}function F(B,q){var W=P(B),Y=B.read_shift(4);return W[1].v=Y>>6,W}function U(B,q){var W=P(B),Y=B.read_shift(8,"f");return W[1].v=Y,W}function le(B,q){var W=U(B);return B.l+=q-10,W}function de(B,q){return B[B.l+q-1]==0?B.read_shift(q,"cstr"):""}function Z(B,q){var W=B[B.l++];W>q-1&&(W=q-1);for(var Y="";Y.length<W;)Y+=String.fromCharCode(B[B.l++]);return Y}function J(B,q,W){if(!(!W.qpro||q<21)){var Y=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var ue=B.read_shift(q-21,"cstr");return[Y,ue]}}function he(B,q){for(var W={},Y=B.l+q;B.l<Y;){var ue=B.read_shift(2);if(ue==14e3){for(W[ue]=[0,""],W[ue][0]=B.read_shift(2);B[B.l];)W[ue][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return W}function ee(B,q){var W=Le(5+B.length);W.write_shift(2,14e3),W.write_shift(2,q);for(var Y=0;Y<B.length;++Y){var ue=B.charCodeAt(Y);W[W.l++]=ue>127?95:ue}return W[W.l++]=0,W}var ve={0:{n:"BOF",f:Zi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:de},222:{n:"SHEETNAMELP",f:Z},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:O},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:he},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:F},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:le},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:de},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:J},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function wGe(t){var e={},r=t.match(Ma),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=Ht(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=TD[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var _Ge=(function(){var t=Dx("t"),e=Dx("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Ir(a[1])},l=s.match(e);return l&&(o.s=wGe(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),EGe=(function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),TGe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,SGe=/<(?:\w+:)?r>/,kGe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function KD(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ir(Sn(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=Sn(t),r&&(n.h=jD(n.t))):t.match(SGe)&&(n.r=Sn(t),n.t=Ir(Sn((t.replace(kGe,"").match(TGe)||[]).join("").replace(Ma,""))),r&&(n.h=EGe(_Ge(n.r)))),n):{t:""}}var AGe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,CGe=/<(?:\w+:)?(?:si|sstItem)>/g,NGe=/<\/(?:\w+:)?(?:si|sstItem)>/;function IGe(t,e){var r=[],n="";if(!t)return r;var i=t.match(AGe);if(i){n=i[2].replace(CGe,"").split(NGe);for(var s=0;s!=n.length;++s){var a=KD(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=Ht(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var OGe=/^\s|\s$|[\t\n\r]/;function uce(t,e){if(!e.bookSST)return"";var r=[Bi];r[r.length]=st("sst",null,{xmlns:Vm[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(OGe)&&(s+=' xml:space="preserve"'),s+=">"+mn(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function RGe(t){return[t.read_shift(4),t.read_shift(4)]}function PGe(t,e){var r=[],n=!1;return Qd(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function jGe(t,e){return e||(e=Le(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var DGe=qHe;function MGe(t){var e=_o();qe(e,159,jGe(t));for(var r=0;r<t.length;++r)qe(e,19,DGe(t[r]));return qe(e,160),e.end()}function dce(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function Ed(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function LGe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=Ed(t,4),e.U=Ed(t,4),e.W=Ed(t,4),e}function FGe(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function BGe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(FGe(t));return e}function VGe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function UGe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=Ed(t,4),e.U=Ed(t,4),e.W=Ed(t,4),e}function zGe(t){var e=UGe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function hce(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function fce(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function $Ge(t){var e=Ed(t);switch(e.Minor){case 2:return[e.Minor,HGe(t)];case 3:return[e.Minor,qGe()];case 4:return[e.Minor,WGe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function HGe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=hce(t,r),i=fce(t,t.length-t.l);return{t:"Std",h:n,v:i}}function qGe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function WGe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(Ma,function(s){var a=Ht(s);switch(Pu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function GGe(t,e){var r={},n=r.EncryptionVersionInfo=Ed(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=hce(t,i),e-=i,r.EncryptionVerifier=fce(t,e),r}function KGe(t){var e={},r=e.EncryptionVersionInfo=Ed(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function YD(t){var e=0,r,n=dce(t),i=n.length+1,s,a,o,l,u;for(r=Tf(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var mce=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,u=a.length-1;u>=0;--u)for(var d=a[u],m=0;m!=7;++m)d&64&&(o^=r[l]),d*=2,--l;return o};return function(a){for(var o=dce(a),l=s(o),u=o.length,d=Tf(16),m=0;m!=16;++m)d[m]=0;var g,v,x;for((u&1)===1&&(g=l>>8,d[u]=i(t[0],g),--u,g=l&255,v=o[o.length-1],d[u]=i(v,g));u>0;)--u,g=l>>8,d[u]=i(o[u],g),--u,g=l&255,d[u]=i(o[u],g);for(u=15,x=15-o.length;x>0;)g=l>>8,d[u]=i(t[x],g),--u,--x,g=l&255,d[u]=i(o[u],g),--u,--x;return d}})(),YGe=function(t,e,r,n,i){i||(i=e),n||(n=mce(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},XGe=function(t){var e=0,r=mce(t);return function(n){var i=YGe("",n,e,r);return e=i[1],i[0]}};function QGe(t,e,r,n){var i={key:Zi(t),verificationBytes:Zi(t)};return r.password&&(i.verifier=YD(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=XGe(r.password)),i}function JGe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=KGe(t):n.Data=GGe(t,e),n}function ZGe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?JGe(t,e-2,n):QGe(t,r.biff>=8?e:e-2,r,n),n}var pce=(function(){function t(i,s){switch(s.type){case"base64":return e(al(i),s);case"binary":return e(i,s);case"buffer":return e(lr&&Buffer.isBuffer(i)?i.toString("binary"):Vf(i),s);case"array":return e(xm(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,m){Array.isArray(o)&&(o[m]=[]);for(var g=/\\\w+\b/g,v=0,x,b=-1;x=g.exec(d);){switch(x[0]){case"\\cell":var w=d.slice(v,g.lastIndex-x[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var _={v:w,t:"s"};Array.isArray(o)?o[m][b]=_:o[Bt({r:m,c:b})]=_}break}v=g.lastIndex}b>u.e.c&&(u.e.c=b)}),o["!ref"]=tr(u),o}function r(i,s){return Uf(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Or(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var m=Bt({r:u,c:d});o=l?(i[u]||[])[d]:i[m],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Bd(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function eKe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Bx(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function tKe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,u=i+s;switch(l=a/(u>1?2-u:u),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,u/2]}function rKe(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function eS(t,e){if(e===0)return t;var r=tKe(eKe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Bx(rKe(r))}var gce=6,nKe=15,iKe=1,Sa=gce;function Vx(t){return Math.floor((t+Math.round(128/Sa)/256)*Sa)}function Ux(t){return Math.floor((t-5)/Sa*100+.5)/100}function tS(t){return Math.round((t*Sa+5)/Sa*256)/256}function _5(t){return tS(Ux(Vx(t)))}function XD(t){var e=Math.abs(t-_5(t)),r=Sa;if(e>.005)for(Sa=iKe;Sa<nKe;++Sa)Math.abs(t-_5(t))<=e&&(e=Math.abs(t-_5(t)),r=Sa);Sa=r}function Sf(t){t.width?(t.wpx=Vx(t.width),t.wch=Ux(t.wpx),t.MDW=Sa):t.wpx?(t.wch=Ux(t.wpx),t.width=tS(t.wch),t.MDW=Sa):typeof t.wch=="number"&&(t.width=tS(t.wch),t.wpx=Vx(t.width),t.MDW=Sa),t.customWidth&&delete t.customWidth}var sKe=96,vce=sKe;function zx(t){return t*96/vce}function mv(t){return t*vce/96}var aKe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function oKe(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(Ma)||[]).forEach(function(a){var o=Ht(a);switch(Pu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=$n(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=$n(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function lKe(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(Ma)||[]).forEach(function(a){var o=Ht(a);switch(Pu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function cKe(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(Ma)||[]).forEach(function(a){var o=Ht(a);switch(Pu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=Sn(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?$n(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?$n(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?$n(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?$n(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?$n(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?$n(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?$n(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=TD[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=$n(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=Y0[i.color.index];i.color.index==81&&(l=Y0[1]),l||(l=Y0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=eS(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function uKe(t,e,r){e.NumberFmt=[];for(var n=Ai(Mt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Mt[n[i]];var s=t[0].match(Ma);if(s)for(i=0;i<s.length;++i){var a=Ht(s[i]);switch(Pu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ir(Sn(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}_d(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function dKe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=st("numFmt",null,{numFmtId:n,formatCode:mn(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=st("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var m_=["numFmtId","fillId","fontId","borderId","xfId"],p_=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function hKe(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(Ma)||[]).forEach(function(s){var a=Ht(s),o=0;switch(Pu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<m_.length;++o)n[m_[o]]&&(n[m_[o]]=parseInt(n[m_[o]],10));for(o=0;o<p_.length;++o)n[p_[o]]&&(n[p_[o]]=$n(n[p_[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=$n(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function fKe(t){var e=[];return e[e.length]=st("cellXfs",null),t.forEach(function(r){e[e.length]=st("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=st("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var mKe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var m;return(m=o.match(e))&&uKe(m,d,u),(m=o.match(i))&&cKe(m,d,l,u),(m=o.match(n))&&lKe(m,d,l,u),(m=o.match(s))&&oKe(m,d,l,u),(m=o.match(r))&&hKe(m,d,u),d}})();function yce(t,e){var r=[Bi,st("styleSheet",null,{xmlns:Vm[0],"xmlns:vt":xs.vt})],n;return t.SSF&&(n=dKe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=fKe(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function pKe(t,e){var r=t.read_shift(2),n=Ra(t);return[r,n]}function gKe(t,e,r){r||(r=Le(6+4*e.length)),r.write_shift(2,t),Us(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function vKe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=JHe(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=QHe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ra(t),n}function yKe(t,e){e||(e=Le(153)),e.write_shift(2,t.sz*20),ZHe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),QT(t.color,e);var n=0;return n=2,e.write_shift(1,n),Us(t.name,e),e.length>e.l?e.slice(0,e.l):e}var xKe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],E5,bKe=ja;function OK(t,e){e||(e=Le(84)),E5||(E5=mk(xKe));var r=E5[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(QT({auto:1},e),QT({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function wKe(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function xce(t,e,r){r||(r=Le(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function t1(t,e){return e||(e=Le(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var _Ke=ja;function EKe(t,e){return e||(e=Le(51)),e.write_shift(1,0),t1(null,e),t1(null,e),t1(null,e),t1(null,e),t1(null,e),e.length>e.l?e.slice(0,e.l):e}function TKe(t,e){return e||(e=Le(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),XT(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function SKe(t,e,r){var n=Le(2052);return n.write_shift(4,t),XT(e,n),XT(r,n),n.length>n.l?n.slice(0,n.l):n}function kKe(t,e,r){var n={};n.NumberFmt=[];for(var i in Mt)n.NumberFmt[i]=Mt[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Qd(t,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],_d(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=eS(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d),a=!0;break;case 38:s.pop(),a=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function AKe(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(qe(t,615,Ac(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&qe(t,44,gKe(i,e[i]))}),qe(t,616))}}function CKe(t){var e=1;qe(t,611,Ac(e)),qe(t,43,yKe({sz:12,color:{theme:1},name:"Calibri",family:2})),qe(t,612)}function NKe(t){var e=2;qe(t,603,Ac(e)),qe(t,45,OK({patternType:"none"})),qe(t,45,OK({patternType:"gray125"})),qe(t,604)}function IKe(t){var e=1;qe(t,613,Ac(e)),qe(t,46,EKe()),qe(t,614)}function OKe(t){var e=1;qe(t,626,Ac(e)),qe(t,47,xce({numFmtId:0},65535)),qe(t,627)}function RKe(t,e){qe(t,617,Ac(e.length)),e.forEach(function(r){qe(t,47,xce(r,0))}),qe(t,618)}function PKe(t){var e=1;qe(t,619,Ac(e)),qe(t,48,TKe({xfId:0,name:"Normal"})),qe(t,620)}function jKe(t){var e=0;qe(t,505,Ac(e)),qe(t,506)}function DKe(t){var e=0;qe(t,508,SKe(e,"TableStyleMedium9","PivotStyleMedium4")),qe(t,509)}function MKe(t,e){var r=_o();return qe(r,278),AKe(r,t.SSF),CKe(r),NKe(r),IKe(r),OKe(r),RKe(r,e.cellXfs),PKe(r),jKe(r),DKe(r),qe(r,279),r.end()}var LKe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function FKe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(Ma)||[]).forEach(function(i){var s=Ht(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[LKe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function BKe(){}function VKe(){}var UKe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,zKe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,$Ke=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function HKe(t,e,r){e.themeElements={};var n;[["clrScheme",UKe,FKe],["fontScheme",zKe,BKe],["fmtScheme",$Ke,VKe]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var qKe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function bce(t,e){(!t||t.length===0)&&(t=QD());var r,n={};if(!(r=t.match(qKe)))throw new Error("themeElements not found in theme");return HKe(r[0],n,e),n.raw=t,n}function QD(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Bi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function WKe(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=hle(s,{type:"array"})}catch{return}var o=Qo(a,"theme/theme/theme1.xml",!0);if(o)return bce(o,r)}}function GKe(t){return t.read_shift(4)}function KKe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=YKe(t,4);break;case 2:e.xclrValue=Zle(t);break;case 3:e.xclrValue=GKe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function YKe(t,e){return ja(t,e)}function XKe(t,e){return ja(t,e)}function QKe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=KKe(t);break;case 6:n[1]=XKe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function JKe(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(QKe(t,r-t.l));return{ixfe:n,ext:s}}function ZKe(t,e){e.forEach(function(r){r[0]})}function eYe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ra(t)}}function tYe(t){var e=Le(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Us(t.name,e),e.slice(0,e.l)}function rYe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function nYe(t){var e=Le(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function iYe(t,e){var r=Le(8+2*e.length);return r.write_shift(4,t),Us(e,r),r.slice(0,r.l)}function sYe(t){return t.l+=4,t.read_shift(4)!=0}function aYe(t,e){var r=Le(8);return r.write_shift(4,t),r.write_shift(4,1),r}function oYe(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return Qd(t,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(m){o==1?n.Cell.push({type:n.Types[m[0]-1].name,index:m[1]}):o==0&&n.Value.push({type:n.Types[m[0]-1].name,index:m[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!u.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function lYe(){var t=_o();return qe(t,332),qe(t,334,Ac(1)),qe(t,335,tYe({name:"XLDAPR",version:12e4,flags:3496657072})),qe(t,336),qe(t,339,iYe(1,"XLDAPR")),qe(t,52),qe(t,35,Ac(514)),qe(t,4096,Ac(0)),qe(t,4097,Dl(1)),qe(t,36),qe(t,53),qe(t,340),qe(t,337,aYe(1)),qe(t,51,nYe([[1,0]])),qe(t,338),qe(t,333),t.end()}function cYe(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(Ma,function(o){var l=Ht(o);switch(Pu(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(a=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function wce(){var t=[Bi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function uYe(t){var e=[];if(!t)return e;var r=1;return(t.match(Ma)||[]).forEach(function(n){var i=Ht(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function dYe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Bt(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function hYe(t,e,r){var n=[];return Qd(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function fYe(t,e,r,n){if(!t)return t;var i=n||{},s=!1;Qd(t,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function mYe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var lg=1024;function _ce(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[st("xml",null,{"xmlns:v":Ho.v,"xmlns:o":Ho.o,"xmlns:x":Ho.x,"xmlns:mv":Ho.mv}).replace(/\/>/,">"),st("o:shapelayout",st("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),st("v:shapetype",[st("v:stroke",null,{joinstyle:"miter"}),st("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];lg<t*1e3;)lg+=1e3;return e.forEach(function(s){var a=fi(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?st("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=st("v:fill",l,o),d={on:"t",obscured:"t"};++lg,i=i.concat(["<v:shape"+Mx({id:"_x0000_s"+lg,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,st("v:shadow",null,d),st("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",aa("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),aa("x:AutoFill","False"),aa("x:Row",String(a.r)),aa("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function RK(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=fi(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Or(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=tr(l);u!==t["!ref"]&&(t["!ref"]=u)}s.c||(s.c=[]);var d={a:a.author,t:a.t,r:a.r,T:r};a.h&&(d.h=a.h);for(var m=s.c.length-1;m>=0;--m){if(!r&&s.c[m].T)return;r&&!s.c[m].T&&s.c.splice(m,1)}if(r&&n){for(m=0;m<n.length;++m)if(d.a==n[m].id){d.a=n[m].name||d.a;break}}s.c.push(d)})}function pYe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=Ht(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=fi(l.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var m=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!m&&!!m[1]&&KD(m[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=g.h),n.push(u)}}}}),n}function Ece(t){var e=[Bi,st("comments",null,{xmlns:Vm[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=mn(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(mn(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(aa("t",mn(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(aa("t",mn(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function gYe(t,e){var r=[],n=!1,i={},s=0;return t.replace(Ma,function(o,l){var u=Ht(o);switch(Pu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function vYe(t,e,r){var n=[Bi,st("ThreadedComments",null,{xmlns:xs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(st("threadedComment",aa("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function yYe(t,e){var r=[],n=!1;return t.replace(Ma,function(s){var a=Ht(s);switch(Pu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function xYe(t){var e=[Bi,st("personList",null,{xmlns:xs.TCMNT,"xmlns:x":Vm[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(st("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function bYe(t){var e={};e.iauthor=t.read_shift(4);var r=Hm(t);return e.rfx=r.s,e.ref=Bt(r.s),t.l+=16,e}function wYe(t,e){return e==null&&(e=Le(36)),e.write_shift(4,t[1].iauthor),Xv(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var _Ye=Ra;function EYe(t){return Us(t.slice(0,54))}function TYe(t,e){var r=[],n=[],i={},s=!1;return Qd(t,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function SYe(t){var e=_o(),r=[];return qe(e,628),qe(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),qe(e,632,EYe(i.a)))})}),qe(e,631),qe(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:fi(n[0]),e:fi(n[0])};qe(e,635,wYe([s,i])),i.t&&i.t.length>0&&qe(e,637,GHe(i)),qe(e,636),delete i.iauthor})}),qe(e,634),qe(e,629),e.end()}var kYe="application/vnd.ms-office.vbaProject";function AYe(t){var e=It.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");It.utils.cfb_add(e,i,t.FileIndex[n].content)}}),It.write(e)}function CYe(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&It.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var Tce=["xlsb","xlsm","xlam","biff8","xla"];function NYe(){return{"!type":"dialog"}}function IYe(){return{"!type":"dialog"}}function OYe(){return{"!type":"macro"}}function RYe(){return{"!type":"macro"}}var kg=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,l?u+=e.r:--u,i+(o?"":"$")+hi(d)+(l?"":"$")+Fi(u)}return function(i,s){return e=s,i.replace(t,r)}})(),JD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,ZD=(function(){return function(e,r){return e.replace(JD,function(n,i,s,a,o,l){var u=BD(a)-(s?0:r.c),d=FD(l)-(o?0:r.r),m=d==0?"":o?d+1:"["+d+"]",g=u==0?"":s?u+1:"["+u+"]";return i+"R"+m+"C"+g})}})();function Sce(t,e){return t.replace(JD,function(r,n,i,s,a,o){return n+(i=="$"?i+s:hi(BD(s)+e.c))+(a=="$"?a+o:Fi(FD(o)+e.r))})}function PYe(t,e,r){var n=So(e),i=n.s,s=fi(r),a={r:s.r-i.r,c:s.c-i.c};return Sce(t,a)}function jYe(t){return t.length!=1}function PK(t){return t.replace(/_xlfn\./g,"")}function Xi(t){t.l+=1}function kf(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function kce(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return Ace(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=kf(t),o=kf(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function Ace(t){var e=kf(t),r=kf(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function DYe(t,e,r){if(r.biff<8)return Ace(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=kf(t),a=kf(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function Cce(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return MYe(t);var n=t.read_shift(r&&r.biff==12?4:2),i=kf(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function MYe(t){var e=kf(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function LYe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function FYe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return BYe(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function BYe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function VYe(t,e,r){var n=(t[t.l++]&96)>>5,i=kce(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function UYe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=kce(t,s,r);return[n,i,a]}function zYe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function $Ye(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function HYe(t,e,r){var n=(t[t.l++]&96)>>5,i=DYe(t,e-1,r);return[n,i]}function qYe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function jK(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function WYe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function GYe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function KYe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function YYe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function XYe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function Nce(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function QYe(t){return t.read_shift(2),Nce(t)}function JYe(t){return t.read_shift(2),Nce(t)}function ZYe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=Cce(t,0,r);return[n,i]}function eXe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=FYe(t,0,r);return[n,i]}function tXe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=Cce(t,0,r);return[n,i,s]}function rXe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[sQe[i],Rce[i],n]}function nXe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:iXe(t);return[i,(s[0]===0?Rce:iQe)[s[1]]]}function iXe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function sXe(t,e,r){t.l+=r&&r.biff==2?3:4}function aXe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function oXe(t){return t.l++,Jd[t.read_shift(1)]}function lXe(t){return t.l++,t.read_shift(2)}function cXe(t){return t.l++,t.read_shift(1)!==0}function uXe(t){return t.l++,ka(t)}function dXe(t,e,r){return t.l++,Gb(t,e-1,r)}function hXe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Pi(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Jd[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=ka(t);break;case 2:r[1]=qm(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function fXe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Hm:vk)(t));return i}function mXe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=hXe(t,r.biff);return a}function pXe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function gXe(t,e,r){if(r.biff==5)return vXe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function vXe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function yXe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function xXe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function bXe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function wXe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var _Xe=ja,EXe=ja,TXe=ja;function Yb(t,e,r){return t.l+=2,[LYe(t)]}function eM(t){return t.l+=6,[]}var SXe=Yb,kXe=eM,AXe=eM,CXe=Yb;function Ice(t){return t.l+=2,[Zi(t),t.read_shift(2)&1]}var NXe=Yb,IXe=Ice,OXe=eM,RXe=Yb,PXe=Yb,jXe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function DXe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=jXe[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function MXe(t){return t.l+=2,[t.read_shift(4)]}function LXe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function FXe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function BXe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function VXe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function UXe(t){return t.l+=4,[0,0]}var DK={1:{n:"PtgExp",f:aXe},2:{n:"PtgTbl",f:TXe},3:{n:"PtgAdd",f:Xi},4:{n:"PtgSub",f:Xi},5:{n:"PtgMul",f:Xi},6:{n:"PtgDiv",f:Xi},7:{n:"PtgPower",f:Xi},8:{n:"PtgConcat",f:Xi},9:{n:"PtgLt",f:Xi},10:{n:"PtgLe",f:Xi},11:{n:"PtgEq",f:Xi},12:{n:"PtgGe",f:Xi},13:{n:"PtgGt",f:Xi},14:{n:"PtgNe",f:Xi},15:{n:"PtgIsect",f:Xi},16:{n:"PtgUnion",f:Xi},17:{n:"PtgRange",f:Xi},18:{n:"PtgUplus",f:Xi},19:{n:"PtgUminus",f:Xi},20:{n:"PtgPercent",f:Xi},21:{n:"PtgParen",f:Xi},22:{n:"PtgMissArg",f:Xi},23:{n:"PtgStr",f:dXe},26:{n:"PtgSheet",f:LXe},27:{n:"PtgEndSheet",f:FXe},28:{n:"PtgErr",f:oXe},29:{n:"PtgBool",f:cXe},30:{n:"PtgInt",f:lXe},31:{n:"PtgNum",f:uXe},32:{n:"PtgArray",f:qYe},33:{n:"PtgFunc",f:rXe},34:{n:"PtgFuncVar",f:nXe},35:{n:"PtgName",f:pXe},36:{n:"PtgRef",f:ZYe},37:{n:"PtgArea",f:VYe},38:{n:"PtgMemArea",f:yXe},39:{n:"PtgMemErr",f:_Xe},40:{n:"PtgMemNoMem",f:EXe},41:{n:"PtgMemFunc",f:xXe},42:{n:"PtgRefErr",f:bXe},43:{n:"PtgAreaErr",f:zYe},44:{n:"PtgRefN",f:eXe},45:{n:"PtgAreaN",f:HYe},46:{n:"PtgMemAreaN",f:BXe},47:{n:"PtgMemNoMemN",f:VXe},57:{n:"PtgNameX",f:gXe},58:{n:"PtgRef3d",f:tXe},59:{n:"PtgArea3d",f:UYe},60:{n:"PtgRefErr3d",f:wXe},61:{n:"PtgAreaErr3d",f:$Ye},255:{}},zXe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},$Xe={1:{n:"PtgElfLel",f:Ice},2:{n:"PtgElfRw",f:RXe},3:{n:"PtgElfCol",f:SXe},6:{n:"PtgElfRwV",f:PXe},7:{n:"PtgElfColV",f:CXe},10:{n:"PtgElfRadical",f:NXe},11:{n:"PtgElfRadicalS",f:OXe},13:{n:"PtgElfColS",f:kXe},15:{n:"PtgElfColSV",f:AXe},16:{n:"PtgElfRadicalLel",f:IXe},25:{n:"PtgList",f:DXe},29:{n:"PtgSxName",f:MXe},255:{}},HXe={0:{n:"PtgAttrNoop",f:UXe},1:{n:"PtgAttrSemi",f:XYe},2:{n:"PtgAttrIf",f:KYe},4:{n:"PtgAttrChoose",f:WYe},8:{n:"PtgAttrGoto",f:GYe},16:{n:"PtgAttrSum",f:sXe},32:{n:"PtgAttrBaxcel",f:jK},33:{n:"PtgAttrBaxcel",f:jK},64:{n:"PtgAttrSpace",f:QYe},65:{n:"PtgAttrSpaceSemi",f:JYe},128:{n:"PtgAttrIfError",f:YYe},255:{}};function Xb(t,e,r,n){if(n.biff<8)return ja(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=mXe(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=fXe(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(ja(t,e)),s}function Qb(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=DK[s]||DK[zXe[s]],(s===24||s===25)&&(i=(s===24?$Xe:HXe)[t[t.l+1]]),!i||!i.f?ja(t,e):a.push([i.n,i.f(t,e,r)]);return a}function qXe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var WXe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function GXe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function Oce(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function MK(t,e,r){var n=Oce(t,e,r);return n=="#REF"?n:GXe(n,r)}function _a(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,d,m=0,g=0,v,x="";if(!t[0]||!t[0][0])return"";for(var b=-1,w="",_=0,k=t[0].length;_<k;++_){var A=t[0][_];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),b>=0){switch(t[0][b][1][0]){case 0:w=Si(" ",t[0][b][1][1]);break;case 1:w=Si("\r",t[0][b][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}u=u+w,b=-1}o.push(u+WXe[A[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=j1(A[1][1],a,i),o.push(D1(d,s));break;case"PtgRefN":d=r?j1(A[1][1],r,i):A[1][1],o.push(D1(d,s));break;case"PtgRef3d":m=A[1][1],d=j1(A[1][2],a,i),x=MK(n,m,i),o.push(x+"!"+D1(d,s));break;case"PtgFunc":case"PtgFuncVar":var R=A[1][0],P=A[1][1];R||(R=0),R&=127;var j=R==0?[]:o.slice(-R);o.length-=R,P==="User"&&(P=j.shift()),o.push(P+"("+j.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":v=dK(A[1][1],r?{s:r}:a,i),o.push(x5(v,i));break;case"PtgArea":v=dK(A[1][1],a,i),o.push(x5(v,i));break;case"PtgArea3d":m=A[1][1],v=A[1][2],x=MK(n,m,i),o.push(x+"!"+x5(v,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var S=(n.names||[])[g-1]||(n[0]||[])[g],I=S?S.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var O=A[1][1];g=A[1][2];var D;if(i.biff<=5)O<0&&(O=-O),n[O]&&(D=n[O][g]);else{var M="";if(((n[O]||[])[0]||[])[0]==14849||(((n[O]||[])[0]||[])[0]==1025?n[O][g]&&n[O][g].itab>0&&(M=n.SheetNames[n[O][g].itab-1]+"!"):M=n.SheetNames[g-1]+"!"),n[O]&&n[O][g])M+=n[O][g].Name;else if(n[0]&&n[0][g])M+=n[0][g].Name;else{var F=(Oce(n,O,i)||"").split(";;");F[g-1]?M=F[g-1]:M+="SH33TJSERRX"}o.push(M);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var U="(",le=")";if(b>=0){switch(w="",t[0][b][1][0]){case 2:U=Si(" ",t[0][b][1][1])+U;break;case 3:U=Si("\r",t[0][b][1][1])+U;break;case 4:le=Si(" ",t[0][b][1][1])+le;break;case 5:le=Si("\r",t[0][b][1][1])+le;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}o.push(U+o.pop()+le);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var de={c:r.c,r:r.r};if(n.sharedf[Bt(d)]){var Z=n.sharedf[Bt(d)];o.push(_a(Z,a,de,n,i))}else{var J=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(_a(u[1],a,de,n,i)),J=!0;break}J||o.push(A[1])}break;case"PtgArray":o.push("{"+qXe(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=_;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var he=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&he.indexOf(t[0][_][0])==-1){A=t[0][b];var ee=!0;switch(A[1][0]){case 4:ee=!1;case 0:w=Si(" ",A[1][1]);break;case 5:ee=!1;case 1:w=Si("\r",A[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((ee?w:"")+o.pop()+(ee?"":w)),b=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function KXe(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],ja(t,e-2)];var o=Qb(t,a,r);return e!==a+i&&(s=Xb(t,e-a-i,o,r)),t.l=n,[o,s]}function YXe(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],ja(t,e-2)];var o=Qb(t,a,r);return e!==a+i&&(s=Xb(t,e-a-i,o,r)),t.l=n,[o,s]}function XXe(t,e,r,n){var i=t.l+e,s=Qb(t,n,r),a;return i!==t.l&&(a=Xb(t,i-t.l,s,r)),[s,a]}function QXe(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=Qb(t,s,r);return s==65535?[[],ja(t,e-2)]:(e!==s+2&&(i=Xb(t,n-s-2,a,r)),[a,i])}function JXe(t){var e;if(fd(t,t.l+6)!==65535)return[ka(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function ZXe(t){if(t==null){var e=Le(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return bm(t);return bm(0)}function T5(t,e,r){var n=t.l+e,i=ju(t);r.biff==2&&++t.l;var s=JXe(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=YXe(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function eQe(t,e,r,n,i){var s=_m(e,r,i),a=ZXe(t.v),o=Le(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Le(t.bf.length),d=0;d<t.bf.length;++d)u[d]=t.bf[d];var m=Vs([s,a,o,u]);return m}function yk(t,e,r){var n=t.read_shift(4),i=Qb(t,n,r),s=t.read_shift(4),a=s>0?Xb(t,s,i,r):null;return[i,a]}var tQe=yk,xk=yk,rQe=yk,nQe=yk,iQe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},Rce={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},sQe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function LK(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function aQe(t){var e="of:="+t.replace(JD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function S5(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function oQe(t){return t.replace(/\./,"!")}var L1={},Ag={},F1=typeof Map<"u";function tM(t,e,r){var n=0,i=t.length;if(r){if(F1?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=F1?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(F1?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function bk(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Sa=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Ux(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=tS(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function J0(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function zf(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){_d(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function Pce(t,e,r,n,i,s){try{n.cellNF&&(t.z=Mt[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Wn(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Mt[e]==null&&_d(iHe[e]||"General",e),t.t==="e")t.w=t.w||Jd[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=jx(t.v);else if(t.t==="d"){var a=ws(t.v);(a|0)===a?t.w=a.toString(10):t.w=jx(a)}else{if(t.v===void 0)return"";t.w=ym(t.v,Ag)}else t.t==="d"?t.w=Gl(e,ws(t.v),Ag):t.w=Gl(e,t.v,Ag)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=eS(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=eS(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function lQe(t,e,r){if(t&&t["!ref"]){var n=Or(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function cQe(t,e){var r=Or(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=tr(r))}var uQe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,dQe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,hQe=/<(?:\w:)?hyperlink [^>]*>/mg,fQe=/"(\w*:\w*)"/,mQe=/<(?:\w:)?col\b[^>]*[\/]?>/g,pQe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,gQe=/<(?:\w:)?pageMargins[^>]*\/>/g,jce=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,vQe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,yQe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function xQe(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",m=t.match(dQe);m?(u=t.slice(0,m.index),d=t.slice(m.index+m[0].length)):u=d=t;var g=u.match(jce);g?rM(g[0],o,i,r):(g=u.match(vQe))&&wQe(g[0],g[1]||"",o,i,r);var v=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(v>0){var x=u.slice(v,v+50).match(fQe);x&&cQe(o,x[1])}var b=u.match(yQe);b&&b[1]&&jQe(b[1],i);var w=[];if(e.cellStyles){var _=u.match(mQe);_&&NQe(w,_)}m&&LQe(m[1],o,e,l,s,a);var k=d.match(pQe);k&&(o["!autofilter"]=OQe(k[0]));var A=[],R=d.match(uQe);if(R)for(v=0;v!=R.length;++v)A[v]=Or(R[v].slice(R[v].indexOf('"')+1));var P=d.match(hQe);P&&kQe(o,P,n);var j=d.match(gQe);if(j&&(o["!margins"]=AQe(Ht(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=tr(l)),e.sheetRows>0&&o["!ref"]){var S=Or(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=tr(S))}return w.length>0&&(o["!cols"]=w),A.length>0&&(o["!merges"]=A),o}function bQe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+tr(t[r])+'"/>';return e+"</mergeCells>"}function rM(t,e,r,n){var i=Ht(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Ir(Sn(i.codeName)))}function wQe(t,e,r,n,i){rM(t.slice(0,t.indexOf(">")),r,n,i)}function _Qe(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=hu(mn(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+st("outlinePr",null,u)}!s&&!o||(i[i.length]=st("sheetPr",o,a))}var EQe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],TQe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function SQe(t){var e={sheet:1};return EQe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),TQe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=YD(t.password).toString(16).toUpperCase()),st("sheetProtection",null,e)}function kQe(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=Ht(Sn(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Ir(s.location))):(s.Target="#"+Ir(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Or(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=Bt({c:u,r:l});n?(t[l]||(t[l]=[]),t[l][u]||(t[l][u]={t:"z",v:void 0}),t[l][u].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function AQe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function CQe(t){return J0(t),st("pageMargins",null,t)}function NQe(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=Ht(e[n],!0);i.hidden&&(i.hidden=$n(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,XD(i.width)),Sf(i);s<=a;)t[s++]=Gn(i)}}function IQe(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=st("col",null,bk(i,n)));return r[r.length]="</cols>",r.join("")}function OQe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function RQe(t,e,r,n){var i=typeof t.ref=="string"?t.ref:tr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=So(i);a.s.r==a.e.r&&(a.e.r=So(e["!ref"]).e.r,i=tr(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),st("autoFilter",null,{ref:i})}var PQe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function jQe(t,e){e.Views||(e.Views=[{}]),(t.match(PQe)||[]).forEach(function(r,n){var i=Ht(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),$n(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function DQe(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),st("sheetViews",st("sheetView",null,i),{})}function MQe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Jd[t.v];break;case"d":n&&n.cellDates?i=Wn(t.v,-1).toISOString():(t=Gn(t),t.t="n",i=""+(t.v=ws(Wn(t.v)))),typeof t.z>"u"&&(t.z=Mt[14]);break;default:i=t.v;break}var o=aa("v",mn(i)),l={r:e},u=zf(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=aa("v",""+tM(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=st("f",mn(t.f),d)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),st("c",o,l)}var LQe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=Dx("v"),a=Dx("f");return function(l,u,d,m,g,v){for(var x=0,b="",w=[],_=[],k=0,A=0,R=0,P="",j,S,I=0,O=0,D,M,F=0,U=0,le=Array.isArray(v.CellXf),de,Z=[],J=[],he=Array.isArray(u),ee=[],ve={},H=!1,B=!!d.sheetStubs,q=l.split(e),W=0,Y=q.length;W!=Y;++W){b=q[W].trim();var ue=b.length;if(ue!==0){var pe=0;e:for(x=0;x<ue;++x)switch(b[x]){case">":if(b[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(S=Ht(b.slice(pe,x),!0),I=S.r!=null?parseInt(S.r,10):I+1,O=-1,d.sheetRows&&d.sheetRows<I)continue;ve={},H=!1,S.ht&&(H=!0,ve.hpt=parseFloat(S.ht),ve.hpx=mv(ve.hpt)),S.hidden=="1"&&(H=!0,ve.hidden=!0),S.outlineLevel!=null&&(H=!0,ve.level=+S.outlineLevel),H&&(ee[I-1]=ve)}break;case"<":pe=x;break}if(pe>=x)break;if(S=Ht(b.slice(pe,x),!0),I=S.r!=null?parseInt(S.r,10):I+1,O=-1,!(d.sheetRows&&d.sheetRows<I)){m.s.r>I-1&&(m.s.r=I-1),m.e.r<I-1&&(m.e.r=I-1),d&&d.cellStyles&&(ve={},H=!1,S.ht&&(H=!0,ve.hpt=parseFloat(S.ht),ve.hpx=mv(ve.hpt)),S.hidden=="1"&&(H=!0,ve.hidden=!0),S.outlineLevel!=null&&(H=!0,ve.level=+S.outlineLevel),H&&(ee[I-1]=ve)),w=b.slice(x).split(t);for(var ce=0;ce!=w.length&&w[ce].trim().charAt(0)=="<";++ce);for(w=w.slice(ce),x=0;x!=w.length;++x)if(b=w[x].trim(),b.length!==0){if(_=b.match(r),k=x,A=0,R=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,_!=null&&_.length===2){for(k=0,P=_[1],A=0;A!=P.length&&!((R=P.charCodeAt(A)-64)<1||R>26);++A)k=26*k+R;--k,O=k}else++O;for(A=0;A!=b.length&&b.charCodeAt(A)!==62;++A);if(++A,S=Ht(b.slice(0,A),!0),S.r||(S.r=Bt({r:I-1,c:O})),P=b.slice(A),j={t:""},(_=P.match(s))!=null&&_[1]!==""&&(j.v=Ir(_[1])),d.cellFormula){if((_=P.match(a))!=null&&_[1]!==""){if(j.f=Ir(Sn(_[1])).replace(/\r\n/g,`
`),d.xlfn||(j.f=PK(j.f)),_[0].indexOf('t="array"')>-1)j.F=(P.match(i)||[])[1],j.F.indexOf(":")>-1&&Z.push([Or(j.F),j.F]);else if(_[0].indexOf('t="shared"')>-1){M=Ht(_[0]);var ie=Ir(Sn(_[1]));d.xlfn||(ie=PK(ie)),J[parseInt(M.si,10)]=[M,ie,S.r]}}else(_=P.match(/<f[^>]*\/>/))&&(M=Ht(_[0]),J[M.si]&&(j.f=PYe(J[M.si][1],J[M.si][2],S.r)));var ye=fi(S.r);for(A=0;A<Z.length;++A)ye.r>=Z[A][0].s.r&&ye.r<=Z[A][0].e.r&&ye.c>=Z[A][0].s.c&&ye.c<=Z[A][0].e.c&&(j.F=Z[A][1])}if(S.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(B)j.t="z";else continue;else j.t=S.t||"n";switch(m.s.c>O&&(m.s.c=O),m.e.c<O&&(m.e.c=O),j.t){case"n":if(j.v==""||j.v==null){if(!B)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!B)continue;j.t="z"}else D=L1[parseInt(j.v,10)],j.v=D.t,j.r=D.r,d.cellHTML&&(j.h=D.h);break;case"str":j.t="s",j.v=j.v!=null?Sn(j.v):"",d.cellHTML&&(j.h=jD(j.v));break;case"inlineStr":_=P.match(n),j.t="s",_!=null&&(D=KD(_[1]))?(j.v=D.t,d.cellHTML&&(j.h=D.h)):j.v="";break;case"b":j.v=$n(j.v);break;case"d":d.cellDates?j.v=Wn(j.v,1):(j.v=ws(Wn(j.v,1)),j.t="n");break;case"e":(!d||d.cellText!==!1)&&(j.w=j.v),j.v=Mle[j.v];break}if(F=U=0,de=null,le&&S.s!==void 0&&(de=v.CellXf[S.s],de!=null&&(de.numFmtId!=null&&(F=de.numFmtId),d.cellStyles&&de.fillId!=null&&(U=de.fillId))),Pce(j,F,U,d,g,v),d.cellDates&&le&&j.t=="n"&&Gv(Mt[F])&&(j.t="d",j.v=gk(j.v)),S.cm&&d.xlmeta){var Ve=(d.xlmeta.Cell||[])[+S.cm-1];Ve&&Ve.type=="XLDAPR"&&(j.D=!0)}if(he){var G=fi(S.r);u[G.r]||(u[G.r]=[]),u[G.r][G.c]=j}else u[S.r]=j}}}}ee.length>0&&(u["!rows"]=ee)}})();function FQe(t,e,r,n){var i=[],s=[],a=Or(t["!ref"]),o="",l,u="",d=[],m=0,g=0,v=t["!rows"],x=Array.isArray(t),b={r:u},w,_=-1;for(g=a.s.c;g<=a.e.c;++g)d[g]=hi(g);for(m=a.s.r;m<=a.e.r;++m){for(s=[],u=Fi(m),g=a.s.c;g<=a.e.c;++g){l=d[g]+u;var k=x?(t[m]||[])[g]:t[l];k!==void 0&&(o=MQe(k,l,t,e))!=null&&s.push(o)}(s.length>0||v&&v[m])&&(b={r:u},v&&v[m]&&(w=v[m],w.hidden&&(b.hidden=1),_=-1,w.hpx?_=zx(w.hpx):w.hpt&&(_=w.hpt),_>-1&&(b.ht=_,b.customHeight=1),w.level&&(b.outlineLevel=w.level)),i[i.length]=st("row",s.join(""),b))}if(v)for(;m<v.length;++m)v&&v[m]&&(b={r:m+1},w=v[m],w.hidden&&(b.hidden=1),_=-1,w.hpx?_=zx(w.hpx):w.hpt&&(_=w.hpt),_>-1&&(b.ht=_,b.customHeight=1),w.level&&(b.outlineLevel=w.level),i[i.length]=st("row","",b));return i.join("")}function Dce(t,e,r,n){var i=[Bi,st("worksheet",null,{xmlns:Vm[0],"xmlns:r":xs.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",d=Or(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=tr(d)}n||(n={}),l["!comments"]=[];var m=[];_Qe(l,r,t,e,i),i[i.length]=st("dimension",null,{ref:u}),i[i.length]=DQe(l,e,t,r),e.sheetFormat&&(i[i.length]=st("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=IQe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=FQe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=SQe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=RQe(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=bQe(l["!merges"]));var g=-1,v,x=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(x=hn(n,-1,mn(b[1].Target).replace(/#.*$/,""),ur.HLINK),v["r:id"]="rId"+x),(g=b[1].Target.indexOf("#"))>-1&&(v.location=mn(b[1].Target.slice(g+1))),b[1].Tooltip&&(v.tooltip=mn(b[1].Tooltip)),i[i.length]=st("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=CQe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=aa("ignoredErrors",st("ignoredError",null,{numberStoredAsText:1,sqref:u}))),m.length>0&&(x=hn(n,-1,"../drawings/drawing"+(t+1)+".xml",ur.DRAW),i[i.length]=st("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=m),l["!comments"].length>0&&(x=hn(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",ur.VML),i[i.length]=st("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function BQe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function VQe(t,e,r){var n=Le(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=zx(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var m=-1,g=-1,v=d<<10;v<d+1<<10;++v){u.c=v;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Bt(u)];x&&(m<0&&(m=v),g=v)}m<0||(++o,n.write_shift(4,m),n.write_shift(4,g))}var b=n.l;return n.l=l,n.write_shift(4,o),n.l=b,n.length>n.l?n.slice(0,n.l):n}function UQe(t,e,r,n){var i=VQe(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&qe(t,0,i)}var zQe=Hm,$Qe=Xv;function HQe(){}function qQe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=KHe(t),r}function WQe(t,e,r){r==null&&(r=Le(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return QT({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),Ole(t,r),r.slice(0,r.l)}function GQe(t){var e=Xl(t);return[e]}function KQe(t,e,r){return r==null&&(r=Le(8)),Um(e,r)}function YQe(t){var e=zm(t);return[e]}function XQe(t,e,r){return r==null&&(r=Le(4)),$m(e,r)}function QQe(t){var e=Xl(t),r=t.read_shift(1);return[e,r,"b"]}function JQe(t,e,r){return r==null&&(r=Le(9)),Um(e,r),r.write_shift(1,t.v?1:0),r}function ZQe(t){var e=zm(t),r=t.read_shift(1);return[e,r,"b"]}function eJe(t,e,r){return r==null&&(r=Le(5)),$m(e,r),r.write_shift(1,t.v?1:0),r}function tJe(t){var e=Xl(t),r=t.read_shift(1);return[e,r,"e"]}function rJe(t,e,r){return r==null&&(r=Le(9)),Um(e,r),r.write_shift(1,t.v),r}function nJe(t){var e=zm(t),r=t.read_shift(1);return[e,r,"e"]}function iJe(t,e,r){return r==null&&(r=Le(8)),$m(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function sJe(t){var e=Xl(t),r=t.read_shift(4);return[e,r,"s"]}function aJe(t,e,r){return r==null&&(r=Le(12)),Um(e,r),r.write_shift(4,e.v),r}function oJe(t){var e=zm(t),r=t.read_shift(4);return[e,r,"s"]}function lJe(t,e,r){return r==null&&(r=Le(8)),$m(e,r),r.write_shift(4,e.v),r}function cJe(t){var e=Xl(t),r=ka(t);return[e,r,"n"]}function uJe(t,e,r){return r==null&&(r=Le(16)),Um(e,r),bm(t.v,r),r}function Mce(t){var e=zm(t),r=ka(t);return[e,r,"n"]}function dJe(t,e,r){return r==null&&(r=Le(12)),$m(e,r),bm(t.v,r),r}function hJe(t){var e=Xl(t),r=$D(t);return[e,r,"n"]}function fJe(t,e,r){return r==null&&(r=Le(12)),Um(e,r),Rle(t.v,r),r}function mJe(t){var e=zm(t),r=$D(t);return[e,r,"n"]}function pJe(t,e,r){return r==null&&(r=Le(8)),$m(e,r),Rle(t.v,r),r}function gJe(t){var e=Xl(t),r=VD(t);return[e,r,"is"]}function vJe(t){var e=Xl(t),r=Ra(t);return[e,r,"str"]}function yJe(t,e,r){return r==null&&(r=Le(12+4*t.v.length)),Um(e,r),Us(t.v,r),r.length>r.l?r.slice(0,r.l):r}function xJe(t){var e=zm(t),r=Ra(t);return[e,r,"str"]}function bJe(t,e,r){return r==null&&(r=Le(8+4*t.v.length)),$m(e,r),Us(t.v,r),r.length>r.l?r.slice(0,r.l):r}function wJe(t,e,r){var n=t.l+e,i=Xl(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=xk(t,n-t.l,r);a[3]=_a(o,null,i,r.supbooks,r)}else t.l=n;return a}function _Je(t,e,r){var n=t.l+e,i=Xl(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=xk(t,n-t.l,r);a[3]=_a(o,null,i,r.supbooks,r)}else t.l=n;return a}function EJe(t,e,r){var n=t.l+e,i=Xl(t);i.r=r["!row"];var s=ka(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=xk(t,n-t.l,r);a[3]=_a(o,null,i,r.supbooks,r)}else t.l=n;return a}function TJe(t,e,r){var n=t.l+e,i=Xl(t);i.r=r["!row"];var s=Ra(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=xk(t,n-t.l,r);a[3]=_a(o,null,i,r.supbooks,r)}else t.l=n;return a}var SJe=Hm,kJe=Xv;function AJe(t,e){return e==null&&(e=Le(4)),e.write_shift(4,t),e}function CJe(t,e){var r=t.l+e,n=Hm(t),i=UD(t),s=Ra(t),a=Ra(t),o=Ra(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function NJe(t,e){var r=Le(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Xv({s:fi(t[0]),e:fi(t[0])},r),zD("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Us(i||"",r),Us(t[1].Tooltip||"",r),Us("",r),r.slice(0,r.l)}function IJe(){}function OJe(t,e,r){var n=t.l+e,i=Ple(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=tQe(t,n-t.l,r);a[1]=o}else t.l=n;return a}function RJe(t,e,r){var n=t.l+e,i=Hm(t),s=[i];if(r.cellFormula){var a=nQe(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function PJe(t,e,r){r==null&&(r=Le(18));var n=bk(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var Lce=["left","right","top","bottom","header","footer"];function jJe(t){var e={};return Lce.forEach(function(r){e[r]=ka(t)}),e}function DJe(t,e){return e==null&&(e=Le(48)),J0(t),Lce.forEach(function(r){bm(t[r],e)}),e}function MJe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function LJe(t,e,r){r==null&&(r=Le(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function FJe(t){var e=Le(24);return e.write_shift(4,4),e.write_shift(4,1),Xv(t,e),e}function BJe(t,e){return e==null&&(e=Le(66)),e.write_shift(2,t.password?YD(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function VJe(){}function UJe(){}function zJe(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},m=!1,g=!1,v,x,b,w,_,k,A,R,P,j=[];o.biff=12,o["!row"]=0;var S=0,I=!1,O=[],D={},M=o.supbooks||i.supbooks||[[]];if(M.sharedf=D,M.arrayf=O,M.SheetNames=i.SheetNames||i.Sheets.map(function(he){return he.name}),!o.supbooks&&(o.supbooks=M,i.Names))for(var F=0;F<i.Names.length;++F)M[0][F+1]=i.Names[F];var U=[],le=[],de=!1;$x[16]={n:"BrtShortReal",f:Mce};var Z;if(Qd(t,function(ee,ve,H){if(!g)switch(H){case 148:u=ee;break;case 0:v=ee,o.sheetRows&&o.sheetRows<=v.r&&(g=!0),R=Fi(w=v.r),o["!row"]=v.r,(ee.hidden||ee.hpt||ee.level!=null)&&(ee.hpt&&(ee.hpx=mv(ee.hpt)),le[ee.r]=ee);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:ee[2]},ee[2]){case"n":x.v=ee[1];break;case"s":A=L1[ee[1]],x.v=A.t,x.r=A.r;break;case"b":x.v=!!ee[1];break;case"e":x.v=ee[1],o.cellText!==!1&&(x.w=Jd[x.v]);break;case"str":x.t="s",x.v=ee[1];break;case"is":x.t="s",x.v=ee[1].t;break}if((b=a.CellXf[ee[0].iStyleRef])&&Pce(x,b.numFmtId,null,o,s,a),_=ee[0].c==-1?_+1:ee[0].c,o.dense?(l[w]||(l[w]=[]),l[w][_]=x):l[hi(_)+R]=x,o.cellFormula){for(I=!1,S=0;S<O.length;++S){var B=O[S];v.r>=B[0].s.r&&v.r<=B[0].e.r&&_>=B[0].s.c&&_<=B[0].e.c&&(x.F=tr(B[0]),I=!0)}!I&&ee.length>3&&(x.f=ee[3])}if(d.s.r>v.r&&(d.s.r=v.r),d.s.c>_&&(d.s.c=_),d.e.r<v.r&&(d.e.r=v.r),d.e.c<_&&(d.e.c=_),o.cellDates&&b&&x.t=="n"&&Gv(Mt[b.numFmtId])){var q=B0(x.v);q&&(x.t="d",x.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}Z&&(Z.type=="XLDAPR"&&(x.D=!0),Z=void 0);break;case 1:case 12:if(!o.sheetStubs||m)break;x={t:"z",v:void 0},_=ee[0].c==-1?_+1:ee[0].c,o.dense?(l[w]||(l[w]=[]),l[w][_]=x):l[hi(_)+R]=x,d.s.r>v.r&&(d.s.r=v.r),d.s.c>_&&(d.s.c=_),d.e.r<v.r&&(d.e.r=v.r),d.e.c<_&&(d.e.c=_),Z&&(Z.type=="XLDAPR"&&(x.D=!0),Z=void 0);break;case 176:j.push(ee);break;case 49:Z=((o.xlmeta||{}).Cell||[])[ee-1];break;case 494:var W=n["!id"][ee.relId];for(W?(ee.Target=W.Target,ee.loc&&(ee.Target+="#"+ee.loc),ee.Rel=W):ee.relId==""&&(ee.Target="#"+ee.loc),w=ee.rfx.s.r;w<=ee.rfx.e.r;++w)for(_=ee.rfx.s.c;_<=ee.rfx.e.c;++_)o.dense?(l[w]||(l[w]=[]),l[w][_]||(l[w][_]={t:"z",v:void 0}),l[w][_].l=ee):(k=Bt({c:_,r:w}),l[k]||(l[k]={t:"z",v:void 0}),l[k].l=ee);break;case 426:if(!o.cellFormula)break;O.push(ee),P=o.dense?l[w][_]:l[hi(_)+R],P.f=_a(ee[1],d,{r:v.r,c:_},M,o),P.F=tr(ee[0]);break;case 427:if(!o.cellFormula)break;D[Bt(ee[0].s)]=ee[1],P=o.dense?l[w][_]:l[hi(_)+R],P.f=_a(ee[1],d,{r:v.r,c:_},M,o);break;case 60:if(!o.cellStyles)break;for(;ee.e>=ee.s;)U[ee.e--]={width:ee.w/256,hidden:!!(ee.flags&1),level:ee.level},de||(de=!0,XD(ee.w/256)),Sf(U[ee.e+1]);break;case 161:l["!autofilter"]={ref:tr(ee)};break;case 476:l["!margins"]=ee;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),ee.name&&(i.Sheets[r].CodeName=ee.name),(ee.above||ee.left)&&(l["!outline"]={above:ee.above,left:ee.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),ee.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:m=!0;break;case 36:m=!1;break;case 37:m=!0;break;case 38:m=!1;break;default:if(!ve.T){if(!m||o.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=tr(u||d)),o.sheetRows&&l["!ref"]){var J=Or(l["!ref"]);o.sheetRows<=+J.e.r&&(J.e.r=o.sheetRows-1,J.e.r>d.e.r&&(J.e.r=d.e.r),J.e.r<J.s.r&&(J.s.r=J.e.r),J.e.c>d.e.c&&(J.e.c=d.e.c),J.e.c<J.s.c&&(J.s.c=J.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tr(J))}return j.length>0&&(l["!merges"]=j),U.length>0&&(l["!cols"]=U),le.length>0&&(l["!rows"]=le),l}function $Je(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Gn(e),e.z=e.z||Mt[14],e.v=ws(Wn(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=zf(i.cellXfs,e,i),e.l&&s["!links"].push([Bt(l),e.l]),e.c&&s["!comments"].push([Bt(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=tM(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?qe(t,18,lJe(e,l)):qe(t,7,aJe(e,l))):(l.t="str",a?qe(t,17,bJe(e,l)):qe(t,6,yJe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?qe(t,13,pJe(e,l)):qe(t,2,fJe(e,l)):a?qe(t,16,dJe(e,l)):qe(t,5,uJe(e,l)),!0;case"b":return l.t="b",a?qe(t,15,eJe(e,l)):qe(t,4,JQe(e,l)),!0;case"e":return l.t="e",a?qe(t,14,iJe(e,l)):qe(t,3,rJe(e,l)),!0}return a?qe(t,12,XQe(e,l)):qe(t,1,KQe(e,l)),!0}function HJe(t,e,r,n){var i=Or(e["!ref"]||"A1"),s,a="",o=[];qe(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=u;++d){a=Fi(d),UQe(t,e,i,d);var m=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(o[g]=hi(g)),s=o[g]+a;var v=l?(e[d]||[])[g]:e[s];if(!v){m=!1;continue}m=$Je(t,v,d,g,n,e,m)}}qe(t,146)}function qJe(t,e){!e||!e["!merges"]||(qe(t,177,AJe(e["!merges"].length)),e["!merges"].forEach(function(r){qe(t,176,kJe(r))}),qe(t,178))}function WJe(t,e){!e||!e["!cols"]||(qe(t,390),e["!cols"].forEach(function(r,n){r&&qe(t,60,PJe(n,r))}),qe(t,391))}function GJe(t,e){!e||!e["!ref"]||(qe(t,648),qe(t,649,FJe(Or(e["!ref"]))),qe(t,650))}function KJe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=hn(r,-1,n[1].Target.replace(/#.*$/,""),ur.HLINK);qe(t,494,NJe(n,i))}}),delete e["!links"]}function YJe(t,e,r,n){if(e["!comments"].length>0){var i=hn(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",ur.VML);qe(t,551,zD("rId"+i)),e["!legacy"]=i}}function XJe(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:tr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=So(s);o.s.r==o.e.r&&(o.e.r=So(e["!ref"]).e.r,s=tr(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),qe(t,161,Xv(Or(s))),qe(t,162)}}function QJe(t,e,r){qe(t,133),qe(t,137,LJe(e,r)),qe(t,138),qe(t,134)}function JJe(t,e){e["!protect"]&&qe(t,535,BJe(e["!protect"]))}function ZJe(t,e,r,n){var i=_o(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Or(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],qe(i,129),(r.vbaraw||a["!outline"])&&qe(i,147,WQe(o,a["!outline"])),qe(i,148,$Qe(l)),QJe(i,a,r.Workbook),WJe(i,a),HJe(i,a,t,e),JJe(i,a),XJe(i,a,r,t),qJe(i,a),KJe(i,a,n),a["!margins"]&&qe(i,476,DJe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&GJe(i,a),YJe(i,a,t,n),qe(i,130),i.end()}function eZe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=Ir((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function tZe(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(m){var g=eZe(m);d.s.r=d.s.c=0,d.e.c=o,u=hi(o),g[0].forEach(function(v,x){a[u+Fi(x)]={t:"n",v,z:g[1]},l=x}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(a["!ref"]=tr(d)),a}function rZe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(jce);return o&&rM(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function nZe(t,e){t.l+=10;var r=Ra(t);return{name:r}}function iZe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Qd(t,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var nM=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],sZe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],aZe=[],oZe=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function FK(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=$n(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function BK(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=$n(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function Fce(t){BK(t.WBProps,nM),BK(t.CalcPr,oZe),FK(t.WBView,sZe),FK(t.Sheets,aZe),Ag.date1904=$n(t.WBProps.date1904)}function lZe(t){return!t.Workbook||!t.Workbook.WBProps?"false":$n(t.Workbook.WBProps.date1904)?"true":"false"}var cZe="][*?/\\".split("");function Bce(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return cZe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function uZe(t,e,r){t.forEach(function(n,i){Bce(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function dZe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];uZe(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)lQe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var hZe=/<\w+:workbook/;function fZe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(Ma,function(l,u){var d=Ht(l);switch(Pu(d[0])){case"<?xml":break;case"<workbook":l.match(hZe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":nM.forEach(function(m){if(d[m[0]]!=null)switch(m[2]){case"bool":r.WBProps[m[0]]=$n(d[m[0]]);break;case"int":r.WBProps[m[0]]=parseInt(d[m[0]],10);break;default:r.WBProps[m[0]]=d[m[0]]}}),d.codeName&&(r.WBProps.CodeName=Sn(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Ir(Sn(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=Sn(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),$n(d.hidden||"0")&&(s.Hidden=!0),a=u+l.length;break;case"</definedName>":s.Ref=Ir(Sn(t.slice(a,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Vm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return Fce(r),r}function Vce(t){var e=[Bi];e[e.length]=st("workbook",null,{xmlns:Vm[0],"xmlns:r":xs.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(nM.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=st("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:mn(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=st("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=st("definedName",mn(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function mZe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=kO(t),r.name=Ra(t),r}function pZe(t,e){return e||(e=Le(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),zD(t.strRelID,e),Us(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function gZe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ra(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function vZe(t,e){e||(e=Le(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),Ole(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function yZe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function xZe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=YHe(t),a=rQe(t,0,r),o=UD(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function bZe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],$x[16]={n:"BrtFRTArchID$",f:yZe},Qd(t,function(l,u,d){switch(d){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=_a(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,l]):a[0]=[d,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),Fce(r),r.Names=s,r.supbooks=a,r}function wZe(t,e){qe(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};qe(t,156,pZe(i))}qe(t,144)}function _Ze(t,e){e||(e=Le(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Us("SheetJS",e),Us(HT.version,e),Us(HT.version,e),Us("7262",e),e.length>e.l?e.slice(0,e.l):e}function EZe(t,e){e||(e=Le(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function TZe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(qe(t,135),qe(t,158,EZe(i)),qe(t,136))}}function SZe(t,e){var r=_o();return qe(r,131),qe(r,128,_Ze()),qe(r,153,vZe(t.Workbook&&t.Workbook.WBProps||null)),TZe(r,t),wZe(r,t),qe(r,132),r.end()}function kZe(t,e,r){return e.slice(-4)===".bin"?bZe(t,r):fZe(t,r)}function AZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?zJe(t,n,r,i,s,a,o):xQe(t,n,r,i,s,a,o)}function CZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?iZe(t,n,r,i,s):rZe(t,n,r,i,s)}function NZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?OYe():RYe()}function IZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?NYe():IYe()}function OZe(t,e,r,n){return e.slice(-4)===".bin"?kKe(t,r,n):mKe(t,r,n)}function RZe(t,e,r){return bce(t,r)}function PZe(t,e,r){return e.slice(-4)===".bin"?PGe(t,r):IGe(t,r)}function jZe(t,e,r){return e.slice(-4)===".bin"?TYe(t,r):pYe(t,r)}function DZe(t,e,r){return e.slice(-4)===".bin"?hYe(t):uYe(t)}function MZe(t,e,r,n){return r.slice(-4)===".bin"?fYe(t,e,r,n):void 0}function LZe(t,e,r){return e.slice(-4)===".bin"?oYe(t,e,r):cYe(t,e,r)}function FZe(t,e,r){return(e.slice(-4)===".bin"?SZe:Vce)(t)}function BZe(t,e,r,n,i){return(e.slice(-4)===".bin"?ZJe:Dce)(t,r,n,i)}function VZe(t,e,r){return(e.slice(-4)===".bin"?MKe:yce)(t,r)}function UZe(t,e,r){return(e.slice(-4)===".bin"?MGe:uce)(t,r)}function zZe(t,e,r){return(e.slice(-4)===".bin"?SYe:Ece)(t)}function $Ze(t){return(t.slice(-4)===".bin"?lYe:wce)()}var Uce=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,zce=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function oc(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(Uce),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(zce),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function HZe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(Uce),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(zce),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var B1;function qZe(t,e){var r=B1[t]||Ir(t);return r==="General"?ym(e):Gl(r,e)}function WZe(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=$n(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Wn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Ir(e)]=i}function GZe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Jd[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=jx(t.v):t.w=ym(t.v):t.w=qZe(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=B1[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Gv(n)){var i=B0(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function KZe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=aKe[n.Pattern]||n.Pattern)}t[e.ID]=e}function YZe(t,e,r,n,i,s,a,o,l,u){var d="General",m=n.StyleID,g={};u=u||{};var v=[],x=0;for(m===void 0&&o&&(m=o.StyleID),m===void 0&&a&&(m=a.StyleID);s[m]!==void 0&&(s[m].nf&&(d=s[m].nf),s[m].Interior&&v.push(s[m].Interior),!!s[m].Parent);)m=s[m].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=$n(t);break;case"String":n.t="s",n.r=rK(Ir(t)),n.v=t.indexOf("<")>-1?Ir(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Wn(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ir(t):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=Mle[t],u.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=rK(e||t));break}if(GZe(n,d,u),u.cellFormula!==!1)if(n.Formula){var b=Ir(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=kg(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=kg("RC:RC",i):n.ArrayRange&&(n.F=kg(n.ArrayRange,i),l.push([Or(n.F),n.F]))}else for(x=0;x<l.length;++x)i.r>=l[x][0].s.r&&i.r<=l[x][0].e.r&&i.c>=l[x][0].s.c&&i.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(v.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function XZe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function k5(t,e){var r=e||{};Kv();var n=d1(DD(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=Sn(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Gn(r);return a.type="string",fv.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(et){i.indexOf("<"+et)>=0&&(s=!0)}),s)return Let(n,r);B1={"General Number":"General","General Date":Mt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Mt[15],"Short Date":Mt[14],"Long Time":Mt[19],"Medium Time":Mt[18],"Short Time":Mt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Mt[2],Standard:Mt[4],Percent:Mt[10],Scientific:Mt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},m=[],g=r.dense?[]:{},v="",x={},b={},w=oc('<Data ss:Type="String">'),_=0,k=0,A=0,R={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},j={},S="",I=0,O=[],D={},M={},F=0,U=[],le=[],de={},Z=[],J,he=!1,ee=[],ve=[],H={},B=0,q=0,W={Sheets:[],WBProps:{date1904:!1}},Y={};Lx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var ue="";o=Lx.exec(n);)switch(o[3]=(ue=o[3]).toLowerCase()){case"data":if(ue=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?YZe(n.slice(_,o.index),S,w,l[l.length-1][0]=="comment"?de:x,{c:k,r:A},P,Z[k],b,ee,r):(S="",w=oc(o[0]),_=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(le.length>0&&(x.c=le),(!r.sheetRows||r.sheetRows>A)&&x.v!==void 0&&(r.dense?(g[A]||(g[A]=[]),g[A][k]=x):g[hi(k)+Fi(A)]=x),x.HRef&&(x.l={Target:Ir(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(B=k+(parseInt(x.MergeAcross,10)|0),q=A+(parseInt(x.MergeDown,10)|0),O.push({s:{c:k,r:A},e:{c:B,r:q}})),!r.sheetStubs)x.MergeAcross?k=B+1:++k;else if(x.MergeAcross||x.MergeDown){for(var pe=k;pe<=B;++pe)for(var ce=A;ce<=q;++ce)(pe>k||ce>A)&&(r.dense?(g[ce]||(g[ce]=[]),g[ce][pe]={t:"z"}):g[hi(pe)+Fi(ce)]={t:"z"});k=B+1}else++k;else x=HZe(o[0]),x.Index&&(k=+x.Index-1),k<R.s.c&&(R.s.c=k),k>R.e.c&&(R.e.c=k),o[0].slice(-2)==="/>"&&++k,le=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<R.s.r&&(R.s.r=A),A>R.e.r&&(R.e.r=A),o[0].slice(-2)==="/>"&&(b=oc(o[0]),b.Index&&(A=+b.Index-1)),k=0,++A):(b=oc(o[0]),b.Index&&(A=+b.Index-1),H={},(b.AutoFitHeight=="0"||b.Height)&&(H.hpx=parseInt(b.Height,10),H.hpt=zx(H.hpx),ve[A]=H),b.Hidden=="1"&&(H.hidden=!0,ve[A]=H));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));m.push(v),R.s.r<=R.e.r&&R.s.c<=R.e.c&&(g["!ref"]=tr(R),r.sheetRows&&r.sheetRows<=R.e.r&&(g["!fullref"]=g["!ref"],R.e.r=r.sheetRows-1,g["!ref"]=tr(R))),O.length&&(g["!merges"]=O),Z.length>0&&(g["!cols"]=Z),ve.length>0&&(g["!rows"]=ve),d[v]=g}else R={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=k=0,l.push([o[3],!1]),u=oc(o[0]),v=Ir(u.Name),g=r.dense?[]:{},O=[],ee=[],ve=[],Y={name:v,Hidden:0},W.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),Z=[],he=!1}break;case"style":o[1]==="/"?KZe(P,j,r):j=oc(o[0]);break;case"numberformat":j.nf=Ir(oc(o[0]).Format||"General"),B1[j.nf]&&(j.nf=B1[j.nf]);for(var ie=0;ie!=392&&Mt[ie]!=j.nf;++ie);if(ie==392){for(ie=57;ie!=392;++ie)if(Mt[ie]==null){_d(j.nf,ie);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(J=oc(o[0]),J.Hidden&&(J.hidden=!0,delete J.Hidden),J.Width&&(J.wpx=parseInt(J.Width,10)),!he&&J.wpx>10){he=!0,Sa=gce;for(var ye=0;ye<Z.length;++ye)Z[ye]&&Sf(Z[ye])}he&&Sf(J),Z[J.Index-1||Z.length]=J;for(var Ve=0;Ve<+J.Span;++Ve)Z[Z.length]=Gn(J);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var G=Ht(o[0]),tt={Name:G.Name,Ref:kg(G.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(tt.Sheet=W.Sheets.length-1),W.Names.push(tt);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=oc(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?bqe(D,ue,n.slice(F,o.index)):F=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));XZe(de),le.push(de)}else l.push([o[3],!1]),u=oc(o[0]),de={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var me=oc(o[0]);g["!autofilter"]={ref:kg(me.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return HK(n,r);var He=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:He=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:He=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:He=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:He=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(F,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else F=o.index+o[0].length;break;case"header":g["!margins"]||J0(g["!margins"]={},"xlml"),isNaN(+Ht(o[0]).Margin)||(g["!margins"].header=+Ht(o[0]).Margin);break;case"footer":g["!margins"]||J0(g["!margins"]={},"xlml"),isNaN(+Ht(o[0]).Margin)||(g["!margins"].footer=+Ht(o[0]).Margin);break;case"pagemargins":var Ke=Ht(o[0]);g["!margins"]||J0(g["!margins"]={},"xlml"),isNaN(+Ke.Top)||(g["!margins"].top=+Ke.Top),isNaN(+Ke.Left)||(g["!margins"].left=+Ke.Left),isNaN(+Ke.Right)||(g["!margins"].right=+Ke.Right),isNaN(+Ke.Bottom)||(g["!margins"].bottom=+Ke.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:He=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:He=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:He=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:He=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:He=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:He=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:He=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:He=!1}break;case"smarttags":break;default:He=!1;break}if(He||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?WZe(M,ue,U,n.slice(F,o.index)):(U=o,F=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var Ie={};return!r.bookSheets&&!r.bookProps&&(Ie.Sheets=d),Ie.SheetNames=m,Ie.Workbook=W,Ie.SSF=Gn(Mt),Ie.Props=D,Ie.Custprops=M,Ie}function PO(t,e){switch(sM(e=e||{}),e.type||"base64"){case"base64":return k5(al(t),e);case"binary":case"buffer":case"file":return k5(t,e);case"array":return k5(Vf(t),e)}}function QZe(t,e){var r=[];return t.Props&&r.push(wqe(t.Props,e)),t.Custprops&&r.push(_qe(t.Props,t.Custprops)),r.join("")}function JZe(){return""}function ZZe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(st("NumberFormat",null,{"ss:Format":mn(Mt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(st("Style",s.join(""),a))}),st("Styles",r.join(""))}function $ce(t){return st("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+ZD(t.Ref,{r:0,c:0})})}function eet(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push($ce(i)))}return st("Names",r.join(""))}function tet(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push($ce(o)))}return s.join("")}function ret(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(st("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(st("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(st("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(st("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(aa("ProtectContents","True")),t["!protect"].objects&&i.push(aa("ProtectObjects","True")),t["!protect"].scenarios&&i.push(aa("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(aa("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(aa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":st("WorksheetOptions",i.join(""),{xmlns:Ho.x})}function net(t){return t.map(function(e){var r=THe(e.t||""),n=st("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return st("Comment",n,{"ss:Author":e.a})}).join("")}function iet(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+mn(ZD(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=fi(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=mn(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=mn(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=a.c||u[d].s.r!=a.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var m="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":m="Number",g=String(t.v);break;case"b":m="Boolean",g=t.v?"1":"0";break;case"e":m="Error",g=Jd[t.v];break;case"d":m="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Mt[14]);break;case"s":m="String",g=EHe(t.v||"");break}var v=zf(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+v),o["ss:Index"]=a.c+1;var x=t.v!=null?g:"",b=t.t=="z"?"":'<Data ss:Type="'+m+'">'+x+"</Data>";return(t.c||[]).length>0&&(b+=net(t.c)),st("Cell",b,o)}function set(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=mv(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function aet(t,e,r,n){if(!t["!ref"])return"";var i=Or(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(w,_){Sf(w);var k=!!w.width,A=bk(_,w),R={"ss:Index":_+1};k&&(R["ss:Width"]=Vx(A.width)),w.hidden&&(R["ss:Hidden"]="1"),o.push(st("Column",null,R))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var d=[set(u,(t["!rows"]||[])[u])],m=i.s.c;m<=i.e.c;++m){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>m)&&!(s[a].s.r>u)&&!(s[a].e.c<m)&&!(s[a].e.r<u)){(s[a].s.c!=m||s[a].s.r!=u)&&(g=!0);break}if(!g){var v={r:u,c:m},x=Bt(v),b=l?(t[u]||[])[m]:t[x];d.push(iet(b,x,t,e,r,n,v))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function oet(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?tet(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?aet(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(ret(s,e,t,r)),n.join("")}function cet(t,e){e||(e={}),t.SSF||(t.SSF=Gn(Mt)),t.SSF&&(Kv(),fk(t.SSF),e.revssf=pk(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],zf(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(QZe(t,e)),r.push(JZe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(st("Worksheet",oet(n,e,t),{"ss:Name":mn(t.SheetNames[n])}));return r[2]=ZZe(t,e),r[3]=eet(t),Bi+st("Workbook",r.join(""),{xmlns:Ho.ss,"xmlns:o":Ho.o,"xmlns:x":Ho.x,"xmlns:ss":Ho.ss,"xmlns:dt":Ho.dt,"xmlns:html":Ho.html})}function uet(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=eqe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=tqe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var det=[60,1084,2066,2165,2175];function het(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=fd(r,r.l),u=jO[l],d=0;u!=null&&det.indexOf(l)>-1;)s=fd(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),a.push(o),r.l+=4+s,u=jO[l=fd(r,r.l)];var m=Vs(a);ia(m,0);var g=0;m.lens=[];for(var v=0;v<a.length;++v)m.lens.push(g),g+=a[v].length;if(m.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+m.length+" < "+n;return e.f(m,m.length,i)}function nu(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Mt[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Jd[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=jx(t.v):t.w=ym(t.v):t.w=Gl(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&Gv(Mt[n]||String(n))){var i=B0(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function g_(t,e,r){return{v:t,ixfe:e,t:r}}function fet(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],u="",d={},m,g="",v,x,b,w,_={},k=[],A,R,P=[],j=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},O=function(nt){return nt<8?Y0[nt]:nt<64&&j[nt-8]||Y0[nt]},D=function(nt,jt,Gt){var rr=jt.XF.data;if(!(!rr||!rr.patternType||!Gt||!Gt.cellStyles)){jt.s={},jt.s.patternType=rr.patternType;var wr;(wr=Bx(O(rr.icvFore)))&&(jt.s.fgColor={rgb:wr}),(wr=Bx(O(rr.icvBack)))&&(jt.s.bgColor={rgb:wr})}},M=function(nt,jt,Gt){if(!(H>1)&&!(Gt.sheetRows&&nt.r>=Gt.sheetRows)){if(Gt.cellStyles&&jt.XF&&jt.XF.data&&D(nt,jt,Gt),delete jt.ixfe,delete jt.XF,m=nt,g=Bt(nt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),nt.r<a.s.r&&(a.s.r=nt.r),nt.c<a.s.c&&(a.s.c=nt.c),nt.r+1>a.e.r&&(a.e.r=nt.r+1),nt.c+1>a.e.c&&(a.e.c=nt.c+1),Gt.cellFormula&&jt.f){for(var rr=0;rr<k.length;++rr)if(!(k[rr][0].s.c>nt.c||k[rr][0].s.r>nt.r)&&!(k[rr][0].e.c<nt.c||k[rr][0].e.r<nt.r)){jt.F=tr(k[rr][0]),(k[rr][0].s.c!=nt.c||k[rr][0].s.r!=nt.r)&&delete jt.f,jt.f&&(jt.f=""+_a(k[rr][1],a,nt,ee,F));break}}Gt.dense?(i[nt.r]||(i[nt.r]=[]),i[nt.r][nt.c]=jt):i[g]=jt}},F={enc:!1,sbcch:0,snames:[],sharedf:_,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(F.password=e.password);var U,le=[],de=[],Z=[],J=[],he=!1,ee=[];ee.SheetNames=F.snames,ee.sharedf=F.sharedf,ee.arrayf=F.arrayf,ee.names=[],ee.XTI=[];var ve=0,H=0,B=0,q=[],W=[],Y;F.codepage=1200,bc(1200);for(var ue=!1;t.l<t.length-1;){var pe=t.l,ce=t.read_shift(2);if(ce===0&&ve===10)break;var ie=t.l===t.length?0:t.read_shift(2),ye=jO[ce];if(ye&&ye.f){if(e.bookSheets&&ve===133&&ce!==133)break;if(ve=ce,ye.r===2||ye.r==12){var Ve=t.read_shift(2);if(ie-=2,!F.enc&&Ve!==ce&&((Ve&255)<<8|Ve>>8)!==ce)throw new Error("rt mismatch: "+Ve+"!="+ce);ye.r==12&&(t.l+=10,ie-=10)}var G={};if(ce===10?G=ye.f(t,ie,F):G=het(ce,ye,t,ie,F),H==0&&[9,521,1033,2057].indexOf(ve)===-1)continue;switch(ce){case 34:r.opts.Date1904=S.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(F.enc||(t.l=0),F.enc=G,!e.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:F.lastuser=G;break;case 66:var tt=Number(G);switch(tt){case 21010:tt=1200;break;case 32768:tt=1e4;break;case 32769:tt=1252;break}bc(F.codepage=tt),ue=!0;break;case 317:F.rrtabid=G;break;case 25:F.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:F.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(i["!type"]="dialog"),G.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),G.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:P.push(G);break;case 430:ee.push([G]),ee[ee.length-1].XTI=[];break;case 35:case 547:ee[ee.length-1].push(G);break;case 24:case 536:Y={Name:G.Name,Ref:_a(G.rgce,a,null,ee,F)},G.itab>0&&(Y.Sheet=G.itab-1),ee.names.push(Y),ee[0]||(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(W[G.itab-1]={ref:tr(G.rgce[0][0][1][2])});break;case 22:F.ExternCount=G;break;case 23:ee.length==0&&(ee[0]=[],ee[0].XTI=[]),ee[ee.length-1].XTI=ee[ee.length-1].XTI.concat(G),ee.XTI=ee.XTI.concat(G);break;case 2196:if(F.biff<8)break;Y!=null&&(Y.Comment=G[1]);break;case 18:i["!protect"]=G;break;case 19:G!==0&&F.WTF&&console.error("Password verifier: "+G);break;case 133:s[G.pos]=G,F.snames.push(G.name);break;case 10:{if(--H)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=tr(a),e.sheetRows&&e.sheetRows<=a.e.r){var me=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=tr(a),a.e.r=me}a.e.r++,a.e.c++}le.length>0&&(i["!merges"]=le),de.length>0&&(i["!objects"]=de),Z.length>0&&(i["!cols"]=Z),J.length>0&&(i["!rows"]=J),S.Sheets.push(I)}u===""?d=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(F.biff===8&&(F.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),F.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(F.biff=5,ue=!0,bc(F.codepage=28591)),F.biff==8&&G.BIFFVer==0&&G.dt==16&&(F.biff=2),H++)break;if(i=e.dense?[]:{},F.biff<8&&!ue&&(ue=!0,bc(F.codepage=e.codepage||1252)),F.biff<5||G.BIFFVer==0&&G.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var He={pos:t.l-ie,name:u};s[He.pos]=He,F.snames.push(u)}else u=(s[pe]||{name:""}).name;G.dt==32&&(i["!type"]="chart"),G.dt==64&&(i["!type"]="macro"),le=[],de=[],F.arrayf=k=[],Z=[],J=[],he=!1,I={Hidden:(s[pe]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[G.r]||[])[G.c]:i[Bt({c:G.c,r:G.r})])&&++G.c,A={ixfe:G.ixfe,XF:P[G.ixfe]||{},v:G.val,t:"n"},B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 5:case 517:A={ixfe:G.ixfe,XF:P[G.ixfe],v:G.val,t:G.t},B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 638:A={ixfe:G.ixfe,XF:P[G.ixfe],v:G.rknum,t:"n"},B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 189:for(var Ke=G.c;Ke<=G.C;++Ke){var Ie=G.rkrec[Ke-G.c][0];A={ixfe:Ie,XF:P[Ie],v:G.rkrec[Ke-G.c][1],t:"n"},B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:Ke,r:G.r},A,e)}break;case 6:case 518:case 1030:{if(G.val=="String"){o=G;break}if(A=g_(G.val,G.cell.ixfe,G.tt),A.XF=P[A.ixfe],e.cellFormula){var et=G.formula;if(et&&et[0]&&et[0][0]&&et[0][0][0]=="PtgExp"){var ht=et[0][0][1][0],_t=et[0][0][1][1],Rr=Bt({r:ht,c:_t});_[Rr]?A.f=""+_a(G.formula,a,G.cell,ee,F):A.F=((e.dense?(i[ht]||[])[_t]:i[Rr])||{}).F}else A.f=""+_a(G.formula,a,G.cell,ee,F)}B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M(G.cell,A,e),o=G}break;case 7:case 519:if(o)o.val=G,A=g_(G,o.cell.ixfe,"s"),A.XF=P[A.ixfe],e.cellFormula&&(A.f=""+_a(o.formula,a,o.cell,ee,F)),B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M(o.cell,A,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(G);var Pr=Bt(G[0].s);if(v=e.dense?(i[G[0].s.r]||[])[G[0].s.c]:i[Pr],e.cellFormula&&v){if(!o||!Pr||!v)break;v.f=""+_a(G[1],a,G[0],ee,F),v.F=tr(G[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;_[Bt(o.cell)]=G[0],v=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Bt(o.cell)],(v||{}).f=""+_a(G[0],a,m,ee,F)}}break;case 253:A=g_(l[G.isst].t,G.ixfe,"s"),l[G.isst].h&&(A.h=l[G.isst].h),A.XF=P[A.ixfe],B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 513:e.sheetStubs&&(A={ixfe:G.ixfe,XF:P[G.ixfe],t:"z"},B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e));break;case 190:if(e.sheetStubs)for(var $r=G.c;$r<=G.C;++$r){var Wt=G.ixfe[$r-G.c];A={ixfe:Wt,XF:P[Wt],t:"z"},B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:$r,r:G.r},A,e)}break;case 214:case 516:case 4:A=g_(G.val,G.ixfe,"s"),A.XF=P[A.ixfe],B>0&&(A.z=q[A.ixfe>>8&63]),nu(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 0:case 512:H===1&&(a=G);break;case 252:l=G;break;case 1054:if(F.biff==4){q[B++]=G[1];for(var Ar=0;Ar<B+163&&Mt[Ar]!=G[1];++Ar);Ar>=163&&_d(G[1],B+163)}else _d(G[1],G[0]);break;case 30:{q[B++]=G;for(var An=0;An<B+163&&Mt[An]!=G;++An);An>=163&&_d(G,B+163)}break;case 229:le=le.concat(G);break;case 93:de[G.cmo[0]]=F.lastobj=G;break;case 438:F.lastobj.TxO=G;break;case 127:F.lastobj.ImData=G;break;case 440:for(w=G[0].s.r;w<=G[0].e.r;++w)for(b=G[0].s.c;b<=G[0].e.c;++b)v=e.dense?(i[w]||[])[b]:i[Bt({c:b,r:w})],v&&(v.l=G[1]);break;case 2048:for(w=G[0].s.r;w<=G[0].e.r;++w)for(b=G[0].s.c;b<=G[0].e.c;++b)v=e.dense?(i[w]||[])[b]:i[Bt({c:b,r:w})],v&&v.l&&(v.l.Tooltip=G[1]);break;case 28:{if(F.biff<=5&&F.biff>=2)break;v=e.dense?(i[G[0].r]||[])[G[0].c]:i[Bt(G[0])];var pi=de[G[2]];v||(e.dense?(i[G[0].r]||(i[G[0].r]=[]),v=i[G[0].r][G[0].c]={t:"z"}):v=i[Bt(G[0])]={t:"z"},a.e.r=Math.max(a.e.r,G[0].r),a.s.r=Math.min(a.s.r,G[0].r),a.e.c=Math.max(a.e.c,G[0].c),a.s.c=Math.min(a.s.c,G[0].c)),v.c||(v.c=[]),x={a:G[1],t:pi.TxO.t},v.c.push(x)}break;case 2173:ZKe(P[G.ixfe],G.ext);break;case 125:{if(!F.cellStyles)break;for(;G.e>=G.s;)Z[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},he||(he=!0,XD(G.w/256)),Sf(Z[G.e+1])}break;case 520:{var be={};G.level!=null&&(J[G.r]=be,be.level=G.level),G.hidden&&(J[G.r]=be,be.hidden=!0),G.hpt&&(J[G.r]=be,be.hpt=G.hpt,be.hpx=mv(G.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||J0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=G;break;case 161:i["!margins"]||J0(i["!margins"]={}),i["!margins"].header=G.header,i["!margins"].footer=G.footer;break;case 574:G.RTL&&(S.Views[0].RTL=!0);break;case 146:j=G;break;case 2198:U=G;break;case 140:R=G;break;case 442:u?I.CodeName=G||I.name:S.WBProps.CodeName=G||"ThisWorkbook";break}}else ye||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),t.l+=ie}return r.SheetNames=Ai(s).sort(function(Qe,nt){return Number(Qe)-Number(nt)}).map(function(Qe){return s[Qe].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&W.forEach(function(Qe,nt){r.Sheets[r.SheetNames[nt]]["!autofilter"]=Qe}),r.Strings=l,r.SSF=Gn(Mt),F.enc&&(r.Encryption=F.enc),U&&(r.Themes=U),r.Metadata={},R!==void 0&&(r.Metadata.Country=R),ee.names.length>0&&(S.Names=ee.names),r.Workbook=S,r}var V1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function met(t,e,r){var n=It.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=bK(n,AO,V1.DSI);for(var s in i)e[s]=i[s]}catch(u){if(r.WTF)throw u}var a=It.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=bK(a,CO,V1.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(r.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(zle(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function pet(t,e){var r=[],n=[],i=[],s=0,a,o=XG(AO,"n"),l=XG(CO,"n");if(t.Props)for(a=Ai(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Ai(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)Yle.indexOf(i[s][0])>-1||Ule.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&It.utils.cfb_add(e,"/SummaryInformation",wK(n,V1.SI,l,CO)),(r.length||u.length)&&It.utils.cfb_add(e,"/DocumentSummaryInformation",wK(r,V1.DSI,o,AO,u.length?u:null,V1.UDI))}function Hce(t,e){e||(e={}),sM(e),kD(),e.codepage&&SD(e.codepage);var r,n;if(t.FullPaths){if(It.find(t,"/encryption"))throw new Error("File is password-protected");r=It.find(t,"!CompObj"),n=It.find(t,"/Workbook")||It.find(t,"/Book")}else{switch(e.type){case"base64":t=Xo(al(t));break;case"binary":t=Xo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}ia(t,0),n={content:t}}var i,s;if(r&&uet(r),e.bookProps&&!e.bookSheets)i={};else{var a=lr?"buffer":"array";if(n&&n.content)i=fet(n.content,e);else if((s=It.find(t,"PerfectOffice_MAIN"))&&s.content)i=Q0.to_workbook(s.content,(e.type=a,e));else if((s=It.find(t,"NativeContent_MAIN"))&&s.content)i=Q0.to_workbook(s.content,(e.type=a,e));else throw(s=It.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&It.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=AYe(t))}var o={};return t.FullPaths&&met(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function get(t,e){var r=e||{},n=It.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return It.utils.cfb_add(n,i,qce(t,r)),r.biff==8&&(t.Props||t.Custprops)&&pet(t,n),r.biff==8&&t.vbaraw&&CYe(n,It.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var $x={0:{f:BQe},1:{f:GQe},2:{f:hJe},3:{f:tJe},4:{f:QQe},5:{f:cJe},6:{f:vJe},7:{f:sJe},8:{f:TJe},9:{f:EJe},10:{f:wJe},11:{f:_Je},12:{f:YQe},13:{f:mJe},14:{f:nJe},15:{f:ZQe},16:{f:Mce},17:{f:xJe},18:{f:oJe},19:{f:VD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:xZe},40:{},42:{},43:{f:vKe},44:{f:pKe},45:{f:bKe},46:{f:_Ke},47:{f:wKe},48:{},49:{f:zHe},50:{},51:{f:rYe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:ace},62:{f:gJe},63:{f:dYe},64:{f:VJe},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:ja,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:MJe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:qQe},148:{f:zQe,p:16},151:{f:IJe},152:{},153:{f:gZe},154:{},155:{},156:{f:mZe},157:{},158:{},159:{T:1,f:RGe},160:{T:-1},161:{T:1,f:Hm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:SJe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:eYe},336:{T:-1},337:{f:sYe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:kO},357:{},358:{},359:{},360:{T:1},361:{},362:{f:sce},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:OJe},427:{f:RJe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:jJe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:HQe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:CJe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:kO},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:_Ye},633:{T:1},634:{T:-1},635:{T:1,f:bYe},636:{T:-1},637:{f:WHe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:nZe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:UJe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},jO={6:{f:T5},10:{f:Oh},12:{f:Zi},13:{f:Zi},14:{f:Pi},15:{f:Pi},16:{f:ka},17:{f:Pi},18:{f:Pi},19:{f:Zi},20:{f:AK},21:{f:AK},23:{f:sce},24:{f:NK},25:{f:Pi},26:{},27:{},28:{f:UWe},29:{},34:{f:Pi},35:{f:CK},38:{f:ka},39:{f:ka},40:{f:ka},41:{f:ka},42:{f:Pi},43:{f:Pi},47:{f:ZGe},49:{f:mWe},51:{f:Zi},60:{},61:{f:cWe},64:{f:Pi},65:{f:fWe},66:{f:Zi},77:{},80:{},81:{},82:{},85:{f:Zi},89:{},90:{},91:{},92:{f:Jqe},93:{f:HWe},94:{},95:{f:Pi},96:{},97:{},99:{f:Pi},125:{f:ace},128:{f:NWe},129:{f:eWe},130:{f:Zi},131:{f:Pi},132:{f:Pi},133:{f:tWe},134:{},140:{f:JWe},141:{f:Zi},144:{},146:{f:tGe},151:{},152:{},153:{},154:{},155:{},156:{f:Zi},157:{},158:{},160:{f:lGe},161:{f:iGe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:SWe},190:{f:kWe},193:{f:Oh},197:{},198:{},199:{},200:{},201:{},202:{f:Pi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zi},220:{},221:{f:Pi},222:{},224:{f:CWe},225:{f:Qqe},226:{f:Oh},227:{},229:{f:zWe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:nWe},253:{f:gWe},255:{f:sWe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Xle},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Pi},353:{f:Oh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:jWe},431:{f:Pi},432:{},433:{},434:{},437:{},438:{f:GWe},439:{f:Pi},440:{f:KWe},441:{},442:{f:Kb},443:{},444:{f:Zi},445:{},446:{},448:{f:Oh},449:{f:lWe,r:2},450:{f:Oh},512:{f:TK},513:{f:oGe},515:{f:RWe},516:{f:yWe},517:{f:kK},519:{f:cGe},520:{f:aWe},523:{},545:{f:IK},549:{f:EK},566:{},574:{f:dWe},638:{f:TWe},659:{},1048:{},1054:{f:bWe},1084:{},1212:{f:FWe},2048:{f:XWe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:f_},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:Oh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:rGe,r:12},2173:{f:JKe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Pi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:LWe,r:12},2197:{},2198:{f:WKe,r:12},2199:{},2200:{},2201:{},2202:{f:BWe,r:12},2203:{f:Oh},2204:{},2205:{},2206:{},2207:{},2211:{f:oWe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:sGe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:eGe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:TK},1:{},2:{f:mGe},3:{f:hGe},4:{f:dGe},5:{f:kK},7:{f:gGe},8:{},9:{f:f_},11:{},22:{f:Zi},30:{f:_We},31:{},32:{},33:{f:IK},36:{},37:{f:EK},50:{f:vGe},62:{},52:{},67:{},68:{f:Zi},69:{},86:{},126:{},127:{f:uGe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:yGe},223:{},234:{},354:{},421:{},518:{f:T5},521:{f:f_},536:{f:NK},547:{f:CK},561:{},579:{},1030:{f:T5},1033:{f:f_},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function ot(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&LD(r)&&t.push(r)}}function vet(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return ot(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,s),d.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(d=t.next(4),d.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;d.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function Jb(t,e,r){return t||(t=Le(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function yet(t,e,r,n){var i=Le(9);return Jb(i,t,e),Qle(r,n||"b",i),i}function xet(t,e,r){var n=Le(8+2*r.length);return Jb(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function bet(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ws(Wn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?ot(t,2,pGe(r,n,i)):ot(t,3,fGe(r,n,i));return;case"b":case"e":ot(t,5,yet(r,n,e.v,e.t));return;case"s":case"str":ot(t,4,xet(r,n,(e.v||"").slice(0,255)));return}ot(t,1,Jb(null,r,n))}function wet(t,e,r,n){var i=Array.isArray(e),s=Or(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=tr(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Fi(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(l[d]=hi(d)),a=l[d]+o;var m=i?(e[u]||[])[d]:e[a];m&&bet(t,m,u,d)}}}function _et(t,e){for(var r=e||{},n=_o(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return ot(n,r.biff==4?1033:r.biff==3?521:9,GD(t,16,r)),wet(n,t.Sheets[t.SheetNames[i]],i,r),ot(n,10),n.end()}function Eet(t,e,r){ot(t,49,pWe({sz:12,name:"Arial"},r))}function Tet(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&ot(t,1054,wWe(i,e[i],r))})}function ket(t,e){var r=Le(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),ot(t,2151,r),r=Le(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),rce(Or(e["!ref"]||"A1"),r),r.write_shift(4,4),ot(t,2152,r)}function Aet(t,e){for(var r=0;r<16;++r)ot(t,224,SK({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){ot(t,224,SK(n,0,e))})}function Cet(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];ot(t,440,YWe(n)),n[1].Tooltip&&ot(t,2048,QWe(n))}delete e["!links"]}function Net(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&ot(t,125,nGe(bk(i,n),i))})}}function Iet(t,e,r,n,i){var s=16+zf(i.cellXfs,e,i);if(e.v==null&&!e.bf){ot(t,513,_m(r,n,s));return}if(e.bf)ot(t,6,eQe(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?ws(Wn(e.v)):e.v;ot(t,515,PWe(r,n,a,s));break;case"b":case"e":ot(t,517,OWe(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=tM(i.Strings,e.v,i.revStrings);ot(t,253,vWe(r,n,o,s))}else ot(t,516,xWe(r,n,(e.v||"").slice(0,255),s,i));break;default:ot(t,513,_m(r,n,s))}}function Oet(t,e,r){var n=_o(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,d,m="",g=[],v=Or(s["!ref"]||"A1"),x=u?65536:16384;if(v.e.c>255||v.e.r>=x){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,x-1)}ot(n,2057,GD(r,16,e)),ot(n,13,Dl(1)),ot(n,12,Dl(100)),ot(n,15,za(!0)),ot(n,17,za(!1)),ot(n,16,bm(.001)),ot(n,95,za(!0)),ot(n,42,za(!1)),ot(n,43,za(!1)),ot(n,130,Dl(1)),ot(n,128,IWe()),ot(n,131,za(!1)),ot(n,132,za(!1)),u&&Net(n,s["!cols"]),ot(n,512,EWe(v,e)),u&&(s["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){m=Fi(b);for(var w=v.s.c;w<=v.e.c;++w){b===v.s.r&&(g[w]=hi(w)),d=g[w]+m;var _=l?(s[b]||[])[w]:s[d];_&&(Iet(n,_,b,w,e),u&&_.l&&s["!links"].push([d,_.l]))}}var k=o.CodeName||o.name||i;return u&&ot(n,574,hWe((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&ot(n,229,$We(s["!merges"])),u&&Cet(n,s),ot(n,442,Jle(k)),u&&ket(n,s),ot(n,10),n.end()}function Ret(t,e,r){var n=_o(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(ot(n,2057,GD(t,5,r)),r.bookType=="xla"&&ot(n,135),ot(n,225,o?Dl(1200):null),ot(n,193,Oqe(2)),l&&ot(n,191),l&&ot(n,192),ot(n,226),ot(n,92,Zqe("SheetJS",r)),ot(n,66,Dl(o?1200:1252)),o&&ot(n,353,Dl(0)),o&&ot(n,448),ot(n,317,aGe(t.SheetNames.length)),o&&t.vbaraw&&ot(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";ot(n,442,Jle(u))}ot(n,156,Dl(17)),ot(n,25,za(!1)),ot(n,18,za(!1)),ot(n,19,Dl(0)),o&&ot(n,431,za(!1)),o&&ot(n,444,Dl(0)),ot(n,61,uWe()),ot(n,64,za(!1)),ot(n,141,Dl(0)),ot(n,34,za(lZe(t)=="true")),ot(n,14,za(!0)),o&&ot(n,439,za(!1)),ot(n,218,Dl(0)),Eet(n,t,r),Tet(n,t.SSF,r),Aet(n,r),o&&ot(n,352,za(!1));var d=n.end(),m=_o();o&&ot(m,140,ZWe()),o&&r.Strings&&vet(m,252,iWe(r.Strings)),ot(m,10);var g=m.end(),v=_o(),x=0,b=0;for(b=0;b<t.SheetNames.length;++b)x+=(o?12:11)+(o?2:1)*t.SheetNames[b].length;var w=d.length+x+g.length;for(b=0;b<t.SheetNames.length;++b){var _=s[b]||{};ot(v,133,rWe({pos:w,hs:_.Hidden||0,dt:0,name:t.SheetNames[b]},r)),w+=e[b].length}var k=v.end();if(x!=k.length)throw new Error("BS8 "+x+" != "+k.length);var A=[];return d.length&&A.push(d),k.length&&A.push(k),g.length&&A.push(g),Vs(A)}function Pet(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Gn(Mt)),t&&t.SSF&&(Kv(),fk(t.SSF),r.revssf=pk(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,aM(r),r.cellXfs=[],zf(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=Oet(i,r,t);return n.unshift(Ret(t,n,r)),Vs(n)}function qce(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=So(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return Pet(t,e);case 4:case 3:case 2:return _et(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function VK(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=pHe(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,m=0,g=0,v={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(a=0;a<l.length;++a){var b=l[a].trim(),w=b.slice(0,3).toLowerCase();if(w=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(w!="<td"&&w!="<th")){var _=b.split(/<\/t[dh]>/i);for(o=0;o<_.length;++o){var k=_[o].trim();if(k.match(/<t[dh]/i)){for(var A=k,R=0;A.charAt(0)=="<"&&(R=A.indexOf(">"))>-1;)A=A.slice(R+1);for(var P=0;P<x.length;++P){var j=x[P];j.s.c==d&&j.s.r<u&&u<=j.e.r&&(d=j.e.c+1,P=-1)}var S=Ht(k.slice(0,k.indexOf(">")));g=S.colspan?+S.colspan:1,((m=+S.rowspan)>1||g>1)&&x.push({s:{r:u,c:d},e:{r:u+(m||1)-1,c:d+g-1}});var I=S.t||S["data-t"]||"";if(!A.length){d+=g;continue}if(A=ple(A),v.s.r>u&&(v.s.r=u),v.e.r<u&&(v.e.r=u),v.s.c>d&&(v.s.c=d),v.e.c<d&&(v.e.c=d),!A.length){d+=g;continue}var O={t:"s",v:A};r.raw||!A.trim().length||I=="s"||(A==="TRUE"?O={t:"b",v:!0}:A==="FALSE"?O={t:"b",v:!1}:isNaN(kc(A))?isNaN(hv(A).getDate())||(O={t:"d",v:Wn(A)},r.cellDates||(O={t:"n",v:ws(O.v)}),O.z=r.dateNF||Mt[14]):O={t:"n",v:kc(A)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=O):n[Bt({r:u,c:d})]=O,d+=g}}}}return n["!ref"]=tr(v),x.length&&(n["!merges"]=x),n}function jet(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Bt({r,c:a}),m=n.dense?(t[r]||[])[a]:t[d],g=m&&m.v!=null&&(m.h||jD(m.w||(Bd(m),m.w)||""))||"",v={};o>1&&(v.rowspan=o),l>1&&(v.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":m&&(v["data-t"]=m&&m.t||"z",m.v!=null&&(v["data-v"]=m.v),m.z!=null&&(v["data-z"]=m.z),m.l&&(m.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+m.l.Target+'">'+g+"</a>")),v.id=(n.id||"sjs")+"-"+d,s.push(st("td",g,v))}}var x="<tr>";return x+s.join("")+"</tr>"}var Det='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',Met="</body></html>";function Let(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Uf(VK(r[0],e),e);var n=cM();return r.forEach(function(i,s){uM(n,VK(i,e),"Sheet"+(s+1))}),n}function Fet(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function Wce(t,e){var r=e||{},n=r.header!=null?r.header:Det,i=r.footer!=null?r.footer:Met,s=[n],a=So(t["!ref"]);r.dense=Array.isArray(t),s.push(Fet(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(jet(t,a,o,r));return s.push("</table>"+i),s.join("")}function Gce(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?fi(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=So(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var m=[],g=0,v=t["!rows"]||(t["!rows"]=[]),x=0,b=0,w=0,_=0,k=0,A=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&b<l;++x){var R=o[x];if(UK(R)){if(n.display)continue;v[b]={hidden:!0}}var P=R.children;for(w=_=0;w<P.length;++w){var j=P[w];if(!(n.display&&UK(j))){var S=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):ple(j.innerHTML),I=j.getAttribute("data-z")||j.getAttribute("z");for(g=0;g<m.length;++g){var O=m[g];O.s.c==_+s&&O.s.r<b+i&&b+i<=O.e.r&&(_=O.e.c+1-s,g=-1)}A=+j.getAttribute("colspan")||1,((k=+j.getAttribute("rowspan")||1)>1||A>1)&&m.push({s:{r:b+i,c:_+s},e:{r:b+i+(k||1)-1,c:_+s+(A||1)-1}});var D={t:"s",v:S},M=j.getAttribute("data-t")||j.getAttribute("t")||"";S!=null&&(S.length==0?D.t=M||"z":n.raw||S.trim().length==0||M=="s"||(S==="TRUE"?D={t:"b",v:!0}:S==="FALSE"?D={t:"b",v:!1}:isNaN(kc(S))?isNaN(hv(S).getDate())||(D={t:"d",v:Wn(S)},n.cellDates||(D={t:"n",v:ws(D.v)}),D.z=n.dateNF||Mt[14]):D={t:"n",v:kc(S)})),D.z===void 0&&I!=null&&(D.z=I);var F="",U=j.getElementsByTagName("A");if(U&&U.length)for(var le=0;le<U.length&&!(U[le].hasAttribute("href")&&(F=U[le].getAttribute("href"),F.charAt(0)!="#"));++le);F&&F.charAt(0)!="#"&&(D.l={Target:F}),n.dense?(t[b+i]||(t[b+i]=[]),t[b+i][_+s]=D):t[Bt({c:_+s,r:b+i})]=D,u.e.c<_+s&&(u.e.c=_+s),_+=A}}++b}return m.length&&(t["!merges"]=(t["!merges"]||[]).concat(m)),u.e.r=Math.max(u.e.r,b-1+i),t["!ref"]=tr(u),b>=l&&(t["!fullref"]=tr((u.e.r=o.length-x+b-1+i,u))),t}function Kce(t,e){var r=e||{},n=r.dense?[]:{};return Gce(n,t,e)}function Bet(t,e){return Uf(Kce(t,e),e)}function UK(t){var e="",r=Vet(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function Vet(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function Uet(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ir(e.replace(/<[^>]*>/g,""));return[r]}var zK={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Yce(t,e){var r=e||{},n=DD(t),i=[],s,a,o={name:""},l="",u=0,d,m,g={},v=[],x=r.dense?[]:{},b,w,_={value:""},k="",A=0,R=[],P=-1,j=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,O={},D=[],M={},F=0,U=0,le=[],de=1,Z=1,J=[],he={Names:[]},ee={},ve=["",""],H=[],B={},q="",W=0,Y=!1,ue=!1,pe=0;for(Lx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Lx.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?x["!ref"]=tr(S):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(x["!fullref"]=x["!ref"],S.e.r=r.sheetRows-1,x["!ref"]=tr(S)),D.length&&(x["!merges"]=D),le.length&&(x["!rows"]=le),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),v.push(d.name),g[d.name]=x,ue=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=Ht(b[0],!1),P=j=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,x=r.dense?[]:{},D=[],le=[],ue=!0);break;case"table-row-group":b[1]==="/"?--I:++I;break;case"table-row":case"":if(b[1]==="/"){P+=de,de=1;break}if(m=Ht(b[0],!1),m.?P=m.-1:P==-1&&(P=0),de=+m["number-rows-repeated"]||1,de<10)for(pe=0;pe<de;++pe)I>0&&(le[P+pe]={level:I});j=-1;break;case"covered-table-cell":b[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(x[P]||(x[P]=[]),x[P][j]={t:"z"}):x[Bt({r:P,c:j})]={t:"z"}),k="",R=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++j,_=Ht(b[0],!1),Z=parseInt(_["number-columns-repeated"]||"1",10),w={t:"z",v:null},_.formula&&r.cellFormula!=!1&&(w.f=LK(Ir(_.formula))),(_.||_["value-type"])=="string"&&(w.t="s",w.v=Ir(_["string-value"]||""),r.dense?(x[P]||(x[P]=[]),x[P][j]=w):x[Bt({r:P,c:j})]=w),j+=Z-1;else if(b[1]!=="/"){++j,k="",A=0,R=[],Z=1;var ce=de?P+de-1:P;if(j>S.e.c&&(S.e.c=j),j<S.s.c&&(S.s.c=j),P<S.s.r&&(S.s.r=P),ce>S.e.r&&(S.e.r=ce),_=Ht(b[0],!1),H=[],B={},w={t:_.||_["value-type"],v:null},r.cellFormula)if(_.formula&&(_.formula=Ir(_.formula)),_["number-matrix-columns-spanned"]&&_["number-matrix-rows-spanned"]&&(F=parseInt(_["number-matrix-rows-spanned"],10)||0,U=parseInt(_["number-matrix-columns-spanned"],10)||0,M={s:{r:P,c:j},e:{r:P+F-1,c:j+U-1}},w.F=tr(M),J.push([M,w.F])),_.formula)w.f=LK(_.formula);else for(pe=0;pe<J.length;++pe)P>=J[pe][0].s.r&&P<=J[pe][0].e.r&&j>=J[pe][0].s.c&&j<=J[pe][0].e.c&&(w.F=J[pe][1]);switch((_["number-columns-spanned"]||_["number-rows-spanned"])&&(F=parseInt(_["number-rows-spanned"],10)||0,U=parseInt(_["number-columns-spanned"],10)||0,M={s:{r:P,c:j},e:{r:P+F-1,c:j+U-1}},D.push(M)),_["number-columns-repeated"]&&(Z=parseInt(_["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=$n(_["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(_.value);break;case"percentage":w.t="n",w.v=parseFloat(_.value);break;case"currency":w.t="n",w.v=parseFloat(_.value);break;case"date":w.t="d",w.v=Wn(_["date-value"]),r.cellDates||(w.t="n",w.v=ws(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=hHe(_["time-value"])/86400,r.cellDates&&(w.t="d",w.v=gk(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(_.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",_["string-value"]!=null&&(k=Ir(_["string-value"]),R=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(Y=!1,w.t==="s"&&(w.v=k||"",R.length&&(w.R=R),Y=A==0),ee.Target&&(w.l=ee),H.length>0&&(w.c=H,H=[]),k&&r.cellText!==!1&&(w.w=k),Y&&(w.t="z",delete w.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var ie=0;ie<de;++ie){if(Z=parseInt(_["number-columns-repeated"]||"1",10),r.dense)for(x[P+ie]||(x[P+ie]=[]),x[P+ie][j]=ie==0?w:Gn(w);--Z>0;)x[P+ie][j+Z]=Gn(w);else for(x[Bt({r:P+ie,c:j})]=w;--Z>0;)x[Bt({r:P+ie,c:j+Z})]=Gn(w);S.e.c<=j&&(S.e.c=j)}Z=parseInt(_["number-columns-repeated"]||"1",10),j+=Z-1,Z=0,w={},k="",R=[]}ee={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s;B.t=k,R.length&&(B.R=R),B.a=q,H.push(B)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);q="",W=0,k="",A=0,R=[];break;case"creator":b[1]==="/"?q=n.slice(W,b.index):W=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);k="",A=0,R=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(O[o.name]=l,(s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&(l="",o=Ht(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Ht(b[0],!1),l+=zK[b[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=Ht(b[0],!1),l+=zK[b[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":a=Ht(b[0],!1),ve=S5(a["cell-range-address"]);var ye={Name:a.name,Ref:ve[0]+"!"+ve[1]};ue&&(ye.Sheet=v.length),he.Names.push(ye);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!_||!_["string-value"])){var Ve=Uet(n.slice(A,b.index));k=(k.length>0?k+`
`:"")+Ve[0]}else Ht(b[0],!1),A=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ve=S5(Ht(b[0])["target-range-address"]),g[ve[0]]["!autofilter"]={ref:ve[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(ee=Ht(b[0],!1),!ee.href)break;ee.Target=Ir(ee.href),delete ee.href,ee.Target.charAt(0)=="#"&&ee.Target.indexOf(".")>-1?(ve=S5(ee.Target.slice(1)),ee.Target="#"+ve[0]+"!"+ve[1]):ee.Target.match(/^\.\.[\\\/]/)&&(ee.Target=ee.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var G={Sheets:g,SheetNames:v,Workbook:he};return r.bookSheets&&delete G.Sheets,G}function $K(t,e){e=e||{},jl(t,"META-INF/manifest.xml")&&hqe(Ji(t,"META-INF/manifest.xml"),e);var r=Qo(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Yce(Sn(r),e);return jl(t,"meta.xml")&&(n.Props=Ble(Ji(t,"meta.xml"))),n}function HK(t,e){return Yce(t,e)}var zet=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Mx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Bi+e}})(),qK=(function(){var t=function(s){return mn(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+mn(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,m=So(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,x=Array.isArray(s);if(s["!cols"])for(d=0;d<=m.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var b="",w=s["!rows"]||[];for(u=0;u<m.s.r;++u)b=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=m.e.r;++u){for(b=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+b+`>
`),d=0;d<m.s.c;++d)l.push(e);for(;d<=m.e.c;++d){var _=!1,k={},A="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>d)&&!(g[v].s.r>u)&&!(g[v].e.c<d)&&!(g[v].e.r<u)){(g[v].s.c!=d||g[v].s.r!=u)&&(_=!0),k["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,k["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(_){l.push(r);continue}var R=Bt({r:u,c:d}),P=x?(s[u]||[])[d]:s[R];if(P&&P.f&&(k["table:formula"]=mn(aQe(P.f)),P.F&&P.F.slice(0,R.length)==R)){var j=So(P.F);k["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,k["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!P){l.push(e);continue}switch(P.t){case"b":A=P.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=P.v?"true":"false";break;case"n":A=P.w||String(P.v||0),k["office:value-type"]="float",k["office:value"]=P.v||0;break;case"s":case"str":A=P.v==null?"":P.v,k["office:value-type"]="string";break;case"d":A=P.w||Wn(P.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Wn(P.v).toISOString(),k["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(A);if(P.l&&P.l.Target){var I=P.l.Target;I=I.charAt(0)=="#"?"#"+oQe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),S=st("text:a",S,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+st("table:table-cell",st("text:p",S,{}),k)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var m=u["!cols"][d];if(m.width==null&&m.wpx==null&&m.wch==null)continue;Sf(m),m.ods=o;var g=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var m=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+m+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Bi],u=Mx({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Mx({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(Fle().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var m=0;m!=a.SheetNames.length;++m)l.push(n(a.Sheets[a.SheetNames[m]],a,m));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function Xce(t,e){if(e.bookType=="fods")return qK(t,e);var r=OD(),n="",i=[],s=[];return n="mimetype",ir(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ir(r,n,qK(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",ir(r,n,zet(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",ir(r,n,Bi+Fle()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",ir(r,n,pqe(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ir(r,n,fqe(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function Em(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function DO(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):Sn(Vf(t))}function $et(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Xo(hu(t))}function Het(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function Af(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function WK(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function qet(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Wet(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function Hx(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function dn(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ki(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Lr(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Hx(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Hx(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function ea(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(dn(n*8+i.type)),i.type==2&&e.push(dn(i.data.length)),e.push(i.data))})}),Af(e)}function iM(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function Il(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Hx(t,n),s=Lr(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:ki(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Lr(o.data),u=ki(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=ki(s[3][0].data)>>>0>0),r.push(a)}return r}function Vp(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:dn(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:dn(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:dn(a.data.length)}],n[2].push({data:ea(a.meta),type:2})});var s=ea(n);e.push(dn(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),Af(e)}function Get(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Hx(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[Af(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var d=Af(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function Ol(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Get(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return Af(e)}function Up(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=dn(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return Af(e)}function Ket(t,e,r,n){var i=Em(t),s=i.getUint32(4,!0),a=(n>1?12:8)+WK(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=WK(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(u=i.getFloat64(a,!0),a+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var m;switch(t[2]){case 0:break;case 2:m={t:"n",v:u};break;case 3:m={t:"s",v:e[l]};break;case 5:m={t:"d",v:d};break;case 6:m={t:"b",v:u>0};break;case 7:m={t:"n",v:u/86400};break;case 8:m={t:"e",v:0};break;case 9:if(o>-1)m={t:"s",v:r[o]};else if(l>-1)m={t:"s",v:e[l]};else if(!isNaN(u))m={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return m}function Yet(t,e,r){var n=Em(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(l=qet(t,s),s+=16),i&2&&(u=n.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var m;switch(t[1]){case 0:break;case 2:m={t:"n",v:l};break;case 3:m={t:"s",v:e[o]};break;case 5:m={t:"d",v:d};break;case 6:m={t:"b",v:u>0};break;case 7:m={t:"n",v:u/86400};break;case 8:m={t:"e",v:0};break;case 9:if(a>-1)m={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:m={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return m}function A5(t,e){var r=new Uint8Array(32),n=Em(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,Wet(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function C5(t,e){var r=new Uint8Array(32),n=Em(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Xet(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Ket(t,e,r,t[0]);case 5:return Yet(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function wa(t){var e=Lr(t);return Hx(e[1][0].data)}function GK(t,e){var r=Lr(e.data),n=ki(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=Lr(a.data),l=ki(o[1][0].data)>>>0;switch(n){case 1:s[l]=DO(o[3][0].data);break;case 8:{var u=t[wa(o[9][0].data)][0],d=Lr(u.data),m=t[wa(d[1][0].data)][0],g=ki(m.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var v=Lr(m.data);s[l]=v[3].map(function(x){return DO(x.data)}).join("")}break}}),s}function Qet(t,e){var r,n,i,s,a,o,l,u,d,m,g,v,x,b,w=Lr(t),_=ki(w[1][0].data)>>>0,k=ki(w[2][0].data)>>>0,A=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&ki(w[8][0].data)>0||!1,R,P;if((s=(i=w[7])==null?void 0:i[0])!=null&&s.data&&e!=0)R=(o=(a=w[7])==null?void 0:a[0])==null?void 0:o.data,P=(u=(l=w[6])==null?void 0:l[0])==null?void 0:u.data;else if((m=(d=w[4])==null?void 0:d[0])!=null&&m.data&&e!=1)R=(v=(g=w[4])==null?void 0:g[0])==null?void 0:v.data,P=(b=(x=w[3])==null?void 0:x[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var j=A?4:1,S=Em(R),I=[],O=0;O<R.length/2;++O){var D=S.getUint16(O*2,!0);D<65535&&I.push([O,D])}if(I.length!=k)throw"Expected ".concat(k," cells, found ").concat(I.length);var M=[];for(O=0;O<I.length-1;++O)M[I[O][0]]=P.subarray(I[O][1]*j,I[O+1][1]*j);return I.length>=1&&(M[I[I.length-1][0]]=P.subarray(I[I.length-1][1]*j)),{R:_,cells:M}}function Jet(t,e){var r,n=Lr(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?ki(n[7][0].data)>>>0>0?1:0:-1,s=iM(n[5],function(a){return Qet(a,i)});return{nrows:ki(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,u){if(a[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));a[o.R][u]=l}),a},[])}}function Zet(t,e,r){var n,i=Lr(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ki(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ki(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=tr(s);var a=Lr(i[4][0].data),o=GK(t,t[wa(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?GK(t,t[wa(a[17][0].data)][0]):[],u=Lr(a[3][0].data),d=0;u[1].forEach(function(m){var g=Lr(m.data),v=t[wa(g[2][0].data)][0],x=ki(v.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var b=Jet(t,v);b.data.forEach(function(w,_){w.forEach(function(k,A){var R=Bt({r:d+_,c:A}),P=Xet(k,o,l);P&&(r[R]=P)})}),d+=b.nrows})}function ett(t,e){var r=Lr(e.data),n={"!ref":"A1"},i=t[wa(r[2][0].data)],s=ki(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Zet(t,i[0],n),n}function ttt(t,e){var r,n=Lr(e.data),i={name:(r=n[1])!=null&&r[0]?DO(n[1][0].data):"",sheets:[]},s=iM(n[2],wa);return s.forEach(function(a){t[a].forEach(function(o){var l=ki(o.meta[1][0].data);l==6e3&&i.sheets.push(ett(t,o))})}),i}function rtt(t,e){var r=cM(),n=Lr(e.data),i=iM(n[1],wa);if(i.forEach(function(s){t[s].forEach(function(a){var o=ki(a.meta[1][0].data);if(o==2){var l=ttt(t,a);l.sheets.forEach(function(u,d){uM(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function N5(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=Ol(l.content)}catch(m){return console.log("?? "+l.content.length+" "+(m.message||m))}var d;try{d=Il(u)}catch(m){return console.log("## "+(m.message||m))}d.forEach(function(m){s[m.id]=m.messages,a.push(m.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&ki(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(u){var d=ki(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return rtt(s,o)}function ntt(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&ki(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=Em(t[7][0].data),d=0,m=[],g=Em(t[4][0].data),v=0,x=[],b=0;b<e.length;++b){if(e[b]==null){u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}u.setUint16(b*2,d,!0),g.setUint16(b*2,v,!0);var w,_;switch(typeof e[b]){case"string":w=A5({t:"s",v:e[b]},r),_=C5({t:"s",v:e[b]},r);break;case"number":w=A5({t:"n",v:e[b]},r),_=C5({t:"n",v:e[b]},r);break;case"boolean":w=A5({t:"b",v:e[b]},r),_=C5({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}m.push(w),d+=w.length,x.push(_),v+=_.length,++l}for(t[2][0].data=dn(l);b<t[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return t[6][0].data=Af(m),t[3][0].data=Af(x),l}function itt(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=So(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(tr(n)));var s=rS(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(W){typeof W=="string"&&a.push(W)})});var o={},l=[],u=It.read(e.numbers,{type:"base64"});u.FileIndex.map(function(q,W){return[q,u.FullPaths[W]]}).forEach(function(q){var W=q[0],Y=q[1];if(W.type==2&&W.name.match(/\.iwa/)){var ue=W.content,pe=Ol(ue),ce=Il(pe);ce.forEach(function(ie){l.push(ie.id),o[ie.id]={deps:[],location:Y,type:ki(ie.messages[0].meta[1][0].data)}})}}),l.sort(function(q,W){return q-W});var d=l.filter(function(q){return q>1}).map(function(q){return[q,dn(q)]});u.FileIndex.map(function(q,W){return[q,u.FullPaths[W]]}).forEach(function(q){var W=q[0];if(q[1],!!W.name.match(/\.iwa/)){var Y=Il(Ol(W.content));Y.forEach(function(ue){ue.messages.forEach(function(pe){d.forEach(function(ce){ue.messages.some(function(ie){return ki(ie.meta[1][0].data)!=11006&&Het(ie.data,ce[1])})&&o[ce[0]].deps.push(ue.id)})})})}});for(var m=It.find(u,o[1].location),g=Il(Ol(m.content)),v,x=0;x<g.length;++x){var b=g[x];b.id==1&&(v=b)}var w=wa(Lr(v.messages[0].data)[1][0].data);for(m=It.find(u,o[w].location),g=Il(Ol(m.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);for(w=wa(Lr(v.messages[0].data)[2][0].data),m=It.find(u,o[w].location),g=Il(Ol(m.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);for(w=wa(Lr(v.messages[0].data)[2][0].data),m=It.find(u,o[w].location),g=Il(Ol(m.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);var _=Lr(v.messages[0].data);{_[6][0].data=dn(n.e.r+1),_[7][0].data=dn(n.e.c+1);var k=wa(_[46][0].data),A=It.find(u,o[k].location),R=Il(Ol(A.content));{for(var P=0;P<R.length&&R[P].id!=k;++P);if(R[P].id!=k)throw"Bad ColumnRowUIDMapArchive";var j=Lr(R[P].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var S=0;S<=n.e.c;++S){var I=[];I[1]=I[2]=[{type:0,data:dn(S+420690)}],j[1].push({type:2,data:ea(I)}),j[2].push({type:0,data:dn(S)}),j[3].push({type:0,data:dn(S)})}j[4]=[],j[5]=[],j[6]=[];for(var O=0;O<=n.e.r;++O)I=[],I[1]=I[2]=[{type:0,data:dn(O+726270)}],j[4].push({type:2,data:ea(I)}),j[5].push({type:0,data:dn(O)}),j[6].push({type:0,data:dn(O)});R[P].messages[0].data=ea(j)}A.content=Up(Vp(R)),A.size=A.content.length,delete _[46];var D=Lr(_[4][0].data);{D[7][0].data=dn(n.e.r+1);var M=Lr(D[1][0].data),F=wa(M[2][0].data);A=It.find(u,o[F].location),R=Il(Ol(A.content));{if(R[0].id!=F)throw"Bad HeaderStorageBucket";var U=Lr(R[0].messages[0].data);for(O=0;O<s.length;++O){var le=Lr(U[2][0].data);le[1][0].data=dn(O),le[4][0].data=dn(s[O].length),U[2][O]={type:U[2][0].type,data:ea(le)}}R[0].messages[0].data=ea(U)}A.content=Up(Vp(R)),A.size=A.content.length;var de=wa(D[2][0].data);A=It.find(u,o[de].location),R=Il(Ol(A.content));{if(R[0].id!=de)throw"Bad HeaderStorageBucket";for(U=Lr(R[0].messages[0].data),S=0;S<=n.e.c;++S)le=Lr(U[2][0].data),le[1][0].data=dn(S),le[4][0].data=dn(n.e.r+1),U[2][S]={type:U[2][0].type,data:ea(le)};R[0].messages[0].data=ea(U)}A.content=Up(Vp(R)),A.size=A.content.length;var Z=wa(D[4][0].data);(function(){for(var q=It.find(u,o[Z].location),W=Il(Ol(q.content)),Y,ue=0;ue<W.length;++ue){var pe=W[ue];pe.id==Z&&(Y=pe)}var ce=Lr(Y.messages[0].data);{ce[3]=[];var ie=[];a.forEach(function(G,tt){ie[1]=[{type:0,data:dn(tt)}],ie[2]=[{type:0,data:dn(1)}],ie[3]=[{type:2,data:$et(G)}],ce[3].push({type:2,data:ea(ie)})})}Y.messages[0].data=ea(ce);var ye=Vp(W),Ve=Up(ye);q.content=Ve,q.size=q.content.length})();var J=Lr(D[3][0].data);{var he=J[1][0];delete J[2];var ee=Lr(he.data);{var ve=wa(ee[2][0].data);(function(){for(var q=It.find(u,o[ve].location),W=Il(Ol(q.content)),Y,ue=0;ue<W.length;++ue){var pe=W[ue];pe.id==ve&&(Y=pe)}var ce=Lr(Y.messages[0].data);{delete ce[6],delete J[7];var ie=new Uint8Array(ce[5][0].data);ce[5]=[];for(var ye=0,Ve=0;Ve<=n.e.r;++Ve){var G=Lr(ie);ye+=ntt(G,s[Ve],a),G[1][0].data=dn(Ve),ce[5].push({data:ea(G),type:2})}ce[1]=[{type:0,data:dn(n.e.c+1)}],ce[2]=[{type:0,data:dn(n.e.r+1)}],ce[3]=[{type:0,data:dn(ye)}],ce[4]=[{type:0,data:dn(n.e.r+1)}]}Y.messages[0].data=ea(ce);var tt=Vp(W),me=Up(tt);q.content=me,q.size=q.content.length})()}he.data=ea(ee)}D[3][0].data=ea(J)}_[4][0].data=ea(D)}v.messages[0].data=ea(_);var H=Vp(g),B=Up(H);return m.content=B,m.size=m.content.length,u}function Qce(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function sM(t){Qce([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function aM(t){Qce([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function stt(t){return ur.WS.indexOf(t)>-1?"sheet":t==ur.CS?"chart":t==ur.DS?"dialog":t==ur.MS?"macro":t&&t.length?t:"sheet"}function att(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,stt(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function ott(t,e,r,n,i,s,a,o,l,u,d,m){try{s[n]=M1(Qo(t,r,!0),e);var g=Ji(t,e),v;switch(o){case"sheet":v=AZe(g,e,i,l,s[n],u,d,m);break;case"chart":if(v=CZe(g,e,i,l,s[n],u,d,m),!v||!v["!drawel"])break;var x=f1(v["!drawel"].Target,e),b=Fx(x),w=mYe(Qo(t,x,!0),M1(Qo(t,b,!0),x)),_=f1(w,x),k=Fx(_);v=tZe(Qo(t,_,!0),_,l,M1(Qo(t,k,!0),_),u,v);break;case"macro":v=NZe(g,e,i,l,s[n],u,d,m);break;case"dialog":v=IZe(g,e,i,l,s[n],u,d,m);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=v;var A=[];s&&s[n]&&Ai(s[n]).forEach(function(R){var P="";if(s[n][R].Type==ur.CMNT){P=f1(s[n][R].Target,e);var j=jZe(Ji(t,P,!0),P,l);if(!j||!j.length)return;RK(v,j,!1)}s[n][R].Type==ur.TCMNT&&(P=f1(s[n][R].Target,e),A=A.concat(gYe(Ji(t,P,!0),l)))}),A&&A.length&&RK(v,A,!0,l.people||[])}catch(R){if(l.WTF)throw R}}function kl(t){return t.charAt(0)=="/"?t.slice(1):t}function ltt(t,e){if(Kv(),e=e||{},sM(e),jl(t,"META-INF/manifest.xml")||jl(t,"objectdata.xml"))return $K(t,e);if(jl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof N5<"u"){if(t.FileIndex)return N5(t);var r=It.utils.cfb_new();return ZG(t).forEach(function(le){ir(r,le,vHe(t,le))}),N5(r)}throw new Error("Unsupported NUMBERS file")}if(!jl(t,"[Content_Types].xml"))throw jl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):jl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=ZG(t),i=uqe(Qo(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Ji(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Ji(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(L1=[],i.sst)try{L1=PZe(Ji(t,kl(i.sst)),i.sst,e)}catch(le){if(e.WTF)throw le}e.cellStyles&&i.themes.length&&(l=RZe(Qo(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=OZe(Ji(t,kl(i.style)),i.style,l,e))}i.links.map(function(le){try{var de=M1(Qo(t,Fx(kl(le))),le);return MZe(Ji(t,kl(le)),de,le,e)}catch{}});var d=kZe(Ji(t,kl(i.workbooks[0])),i.workbooks[0],e),m={},g="";i.coreprops.length&&(g=Ji(t,kl(i.coreprops[0]),!0),g&&(m=Ble(g)),i.extprops.length!==0&&(g=Ji(t,kl(i.extprops[0]),!0),g&&vqe(g,m,e)));var v={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=Qo(t,kl(i.custprops[0]),!0),g&&(v=xqe(g,e)));var x={};if((e.bookSheets||e.bookProps)&&(d.Sheets?a=d.Sheets.map(function(de){return de.name}):m.Worksheets&&m.SheetNames.length>0&&(a=m.SheetNames),e.bookProps&&(x.Props=m,x.Custprops=v),e.bookSheets&&typeof a<"u"&&(x.SheetNames=a),e.bookSheets?x.SheetNames:e.bookProps))return x;a={};var b={};e.bookDeps&&i.calcchain&&(b=DZe(Ji(t,kl(i.calcchain)),i.calcchain));var w=0,_={},k,A;{var R=d.Sheets;m.Worksheets=R.length,m.SheetNames=[];for(var P=0;P!=R.length;++P)m.SheetNames[P]=R[P].name}var j=s?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");jl(t,I)||(I="xl/_rels/workbook."+j+".rels");var O=M1(Qo(t,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=LZe(Ji(t,kl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=yYe(Ji(t,kl(i.people[0])),e)),O&&(O=att(O,d.Sheets));var D=Ji(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=m.Worksheets;++w){var M="sheet";if(O&&O[w]?(k="xl/"+O[w][1].replace(/[\/]?xl\//,""),jl(t,k)||(k=O[w][1]),jl(t,k)||(k=I.replace(/_rels\/.*$/,"")+O[w][1]),M=O[w][2]):(k="xl/worksheets/sheet"+(w+1-D)+"."+j,k=k.replace(/sheet0\./,"sheet.")),A=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(w!=e.sheets)continue e;break;case"string":if(m.SheetNames[w].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var F=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==w&&(F=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==m.SheetNames[w].toLowerCase()&&(F=1);if(!F)continue e}}ott(t,k,A,m.SheetNames[w],w,_,a,M,e,d,l,u)}return x={Directory:i,Workbook:d,Props:m,Custprops:v,Deps:b,Sheets:a,SheetNames:m.SheetNames,Strings:L1,Styles:u,Themes:l,SSF:Gn(Mt)},e&&e.bookFiles&&(t.files?(x.keys=n,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(le,de){le=le.replace(/^Root Entry[\/]/,""),x.keys.push(le),x.files[le]=t.FileIndex[de]}))),e&&e.bookVBA&&(i.vba.length>0?x.vbaraw=Ji(t,kl(i.vba[0]),!0):i.defaults&&i.defaults.bin===kYe&&(x.vbaraw=Ji(t,"xl/vbaProject.bin",!0))),x}function ctt(t,e){var r=e||{},n="Workbook",i=It.find(t,n);try{if(n="/!DataSpaces/Version",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(LGe(i.content),n="/!DataSpaces/DataSpaceMap",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=BGe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=VGe(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);zGe(i.content)}catch{}if(n="/EncryptionInfo",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=$Ge(i.content);if(n="/EncryptedPackage",i=It.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function utt(t,e){return e.bookType=="ods"?Xce(t,e):e.bookType=="numbers"?itt(t,e):e.bookType=="xlsb"?dtt(t,e):htt(t,e)}function dtt(t,e){lg=1024,t&&!t.SSF&&(t.SSF=Gn(Mt)),t&&t.SSF&&(Kv(),fk(t.SSF),e.revssf=pk(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,F1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=Tce.indexOf(e.bookType)>-1,i=qD();aM(e=e||{});var s=OD(),a="",o=0;if(e.cellXfs=[],zf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ir(s,a,Vle(t.Props,e)),i.coreprops.push(a),hn(e.rels,2,a,ur.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,ir(s,a,$le(t.Props)),i.extprops.push(a),hn(e.rels,3,a,ur.EXT_PROPS),t.Custprops!==t.Props&&Ai(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ir(s,a,Hle(t.Custprops)),i.custprops.push(a),hn(e.rels,4,a,ur.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},m=t.Sheets[t.SheetNames[o-1]],g=(m||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,ir(s,a,BZe(o-1,a,e,t,d)),i.sheets.push(a),hn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,ur.WS[0])}if(m){var v=m["!comments"],x=!1,b="";v&&v.length>0&&(b="xl/comments"+o+"."+r,ir(s,b,zZe(v,b)),i.comments.push(b),hn(d,-1,"../comments"+o+"."+r,ur.CMNT),x=!0),m["!legacy"]&&x&&ir(s,"xl/drawings/vmlDrawing"+o+".vml",_ce(o,m["!comments"])),delete m["!comments"],delete m["!legacy"]}d["!id"].rId1&&ir(s,Fx(a),Sg(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,ir(s,a,UZe(e.Strings,a,e)),i.strs.push(a),hn(e.wbrels,-1,"sharedStrings."+r,ur.SST)),a="xl/workbook."+r,ir(s,a,FZe(t,a)),i.workbooks.push(a),hn(e.rels,1,a,ur.WB),a="xl/theme/theme1.xml",ir(s,a,QD(t.Themes,e)),i.themes.push(a),hn(e.wbrels,-1,"theme/theme1.xml",ur.THEME),a="xl/styles."+r,ir(s,a,VZe(t,a,e)),i.styles.push(a),hn(e.wbrels,-1,"styles."+r,ur.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",ir(s,a,t.vbaraw),i.vba.push(a),hn(e.wbrels,-1,"vbaProject.bin",ur.VBA)),a="xl/metadata."+r,ir(s,a,$Ze(a)),i.metadata.push(a),hn(e.wbrels,-1,"metadata."+r,ur.XLMETA),ir(s,"[Content_Types].xml",Lle(i,e)),ir(s,"_rels/.rels",Sg(e.rels)),ir(s,"xl/_rels/workbook."+r+".rels",Sg(e.wbrels)),delete e.revssf,delete e.ssf,s}function htt(t,e){lg=1024,t&&!t.SSF&&(t.SSF=Gn(Mt)),t&&t.SSF&&(Kv(),fk(t.SSF),e.revssf=pk(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,F1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=Tce.indexOf(e.bookType)>-1,i=qD();aM(e=e||{});var s=OD(),a="",o=0;if(e.cellXfs=[],zf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ir(s,a,Vle(t.Props,e)),i.coreprops.push(a),hn(e.rels,2,a,ur.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,ir(s,a,$le(t.Props)),i.extprops.push(a),hn(e.rels,3,a,ur.EXT_PROPS),t.Custprops!==t.Props&&Ai(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ir(s,a,Hle(t.Custprops)),i.custprops.push(a),hn(e.rels,4,a,ur.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var m={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,ir(s,a,Dce(o-1,e,t,m)),i.sheets.push(a),hn(e.wbrels,-1,"worksheets/sheet"+o+"."+r,ur.WS[0])}if(g){var x=g["!comments"],b=!1,w="";if(x&&x.length>0){var _=!1;x.forEach(function(k){k[1].forEach(function(A){A.T==!0&&(_=!0)})}),_&&(w="xl/threadedComments/threadedComment"+o+"."+r,ir(s,w,vYe(x,d,e)),i.threadedcomments.push(w),hn(m,-1,"../threadedComments/threadedComment"+o+"."+r,ur.TCMNT)),w="xl/comments"+o+"."+r,ir(s,w,Ece(x)),i.comments.push(w),hn(m,-1,"../comments"+o+"."+r,ur.CMNT),b=!0}g["!legacy"]&&b&&ir(s,"xl/drawings/vmlDrawing"+o+".vml",_ce(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}m["!id"].rId1&&ir(s,Fx(a),Sg(m))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,ir(s,a,uce(e.Strings,e)),i.strs.push(a),hn(e.wbrels,-1,"sharedStrings."+r,ur.SST)),a="xl/workbook."+r,ir(s,a,Vce(t)),i.workbooks.push(a),hn(e.rels,1,a,ur.WB),a="xl/theme/theme1.xml",ir(s,a,QD(t.Themes,e)),i.themes.push(a),hn(e.wbrels,-1,"theme/theme1.xml",ur.THEME),a="xl/styles."+r,ir(s,a,yce(t,e)),i.styles.push(a),hn(e.wbrels,-1,"styles."+r,ur.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",ir(s,a,t.vbaraw),i.vba.push(a),hn(e.wbrels,-1,"vbaProject.bin",ur.VBA)),a="xl/metadata."+r,ir(s,a,wce()),i.metadata.push(a),hn(e.wbrels,-1,"metadata."+r,ur.XLMETA),d.length>1&&(a="xl/persons/person.xml",ir(s,a,xYe(d)),i.people.push(a),hn(e.wbrels,-1,"persons/person.xml",ur.PEOPLE)),ir(s,"[Content_Types].xml",Lle(i,e)),ir(s,"_rels/.rels",Sg(e.rels)),ir(s,"xl/_rels/workbook."+r+".rels",Sg(e.wbrels)),delete e.revssf,delete e.ssf,s}function oM(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=al(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function ftt(t,e){return It.find(t,"EncryptedPackage")?ctt(t,e):Hce(t,e)}function mtt(t,e){var r,n=t,i=e||{};return i.type||(i.type=lr&&Buffer.isBuffer(t)?"buffer":"base64"),r=hle(n,i),ltt(r,i)}function Jce(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return PO(t.slice(r),e);default:break e}return fv.to_workbook(t,e)}function ptt(t,e){var r="",n=oM(t,e);switch(e.type){case"base64":r=al(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=xm(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=Sn(r)),e.type="binary",Jce(r,e)}function gtt(t,e){var r=t;return e.type=="base64"&&(r=al(r)),r=Rx.utils.decode(1200,r.slice(2),"str"),e.type="binary",Jce(r,e)}function vtt(t){return t.match(/[^\x00-\x7F]/)?hu(t):t}function I5(t,e,r,n){return n?(r.type="string",fv.to_workbook(t,r)):fv.to_workbook(e,r)}function MO(t,e){kD();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return MO(new Uint8Array(t),(r=Gn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),Ag={},r.dateNF&&(Ag.dateNF=r.dateNF),r.type||(r.type=lr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=lr?"buffer":"binary",n=cHe(t),typeof Uint8Array<"u"&&!lr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=vtt(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=Gn(r),r.type="array",MO(AD(n),r)}switch((i=oM(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return ftt(It.read(n,r),r);break;case 9:if(i[1]<=8)return Hce(n,r);break;case 60:return PO(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return bGe(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return lce.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?mtt(n,r):I5(t,n,r,s);case 239:return i[3]===60?PO(n,r):I5(t,n,r,s);case 255:if(i[1]===254)return gtt(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return Q0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return Q0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return RO.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return pce.to_workbook(n,r);break;case 10:case 13:case 32:return ptt(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return xGe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?RO.to_workbook(n,r):I5(t,n,r,s)}function Zce(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return qb(e.file,It.write(t,{type:lr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return It.write(t,e)}function ytt(t,e){var r=Gn(e||{}),n=utt(t,r);return xtt(n,r)}function xtt(t,e){var r={},n=lr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?It.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(hk(i))}return e.password&&typeof encrypt_agile<"u"?Zce(encrypt_agile(i,e.password),e):e.type==="file"?qb(e.file,i):e.type=="string"?Sn(i):i}function btt(t,e){var r=e||{},n=get(t,r);return Zce(n,r)}function su(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Px(hu(n));case"binary":return hu(n);case"string":return t;case"file":return qb(e.file,n,"utf8");case"buffer":return lr?Xd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):su(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function wtt(t,e){switch(e.type){case"base64":return Px(t);case"binary":return t;case"string":return t;case"file":return qb(e.file,t,"binary");case"buffer":return lr?Xd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function v_(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Px(r):e.type=="string"?Sn(r):r;case"file":return qb(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function eue(t,e){kD(),dZe(t);var r=Gn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=eue(t,r);return r.type="array",hk(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return su(cet(t,r),r);case"slk":case"sylk":return su(oce.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return su(Wce(t.Sheets[t.SheetNames[i]],r),r);case"txt":return wtt(tue(t.Sheets[t.SheetNames[i]],r),r);case"csv":return su(lM(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return su(lce.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return v_(RO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return su(fv.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return su(pce.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return su(cce.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return su(Xce(t,r),r);case"wk1":return v_(Q0.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return v_(Q0.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),v_(qce(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),btt(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ytt(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function _tt(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function Ett(t,e,r){var n={};return n.type="file",n.file=e,_tt(n),eue(t,n)}function Ttt(t,e,r,n,i,s,a,o){var l=Fi(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),m=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!a||t[r])for(var v=e.s.c;v<=e.e.c;++v){var x=a?t[r][v]:t[n[v]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;s[v]!=null&&(g[s[v]]=u);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[v]!=null){if(b==null)if(x.t=="e"&&b===null)g[s[v]]=null;else if(u!==void 0)g[s[v]]=u;else if(d&&b===null)g[s[v]]=null;else continue;else g[s[v]]=d&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?b:Bd(x,b,o);b!=null&&(m=!1)}}return{row:g,isempty:m}}function rS(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Or(d);break;case"number":l=Or(t["!ref"]),l.s.r=d;break;default:l=d}n>0&&(i=0);var m=Fi(l.s.r),g=[],v=[],x=0,b=0,w=Array.isArray(t),_=l.s.r,k=0,A={};w&&!t[_]&&(t[_]=[]);var R=u.skipHidden&&t["!cols"]||[],P=u.skipHidden&&t["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(R[k]||{}).hidden)switch(g[k]=hi(k),r=w?t[_][k]:t[g[k]+m],n){case 1:s[k]=k-l.s.c;break;case 2:s[k]=g[k];break;case 3:s[k]=u.header[k-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Bd(r,null,u),b=A[a]||0,!b)A[a]=1;else{do o=a+"_"+b++;while(A[o]);A[a]=b,A[o]=1}s[k]=o}for(_=l.s.r+i;_<=l.e.r;++_)if(!(P[_]||{}).hidden){var j=Ttt(t,l,_,g,n,s,w,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(v[x++]=j.row)}return v.length=x,v}var KK=/"/g;function Stt(t,e,r,n,i,s,a,o){for(var l=!0,u=[],d="",m=Fi(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var v=o.dense?(t[r]||[])[g]:t[n[g]+m];if(v==null)d="";else if(v.v!=null){l=!1,d=""+(o.rawNumbers&&v.t=="n"?v.v:Bd(v,null,o));for(var x=0,b=0;x!==d.length;++x)if((b=d.charCodeAt(x))===i||b===s||b===34||o.forceQuotes){d='"'+d.replace(KK,'""')+'"';break}d=="ID"&&(d='"ID"')}else v.f!=null&&!v.F?(l=!1,d="="+v.f,d.indexOf(",")>=0&&(d='"'+d.replace(KK,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(a)}function lM(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Or(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",m=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(g[x]||{}).hidden||(m[x]=hi(x));for(var b=0,w=i.s.r;w<=i.e.r;++w)(v[w]||{}).hidden||(d=Stt(t,i,w,m,a,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((b++?o:"")+d)));return delete n.dense,r.join("")}function tue(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=lM(t,e);return r}function ktt(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Or(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=hi(o);for(var d=i.s.r;d<=i.e.r;++d)for(s=Fi(d),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[d]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function rue(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?fi(n.origin):n.origin;a=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var m=Or(s["!ref"]);d.e.c=Math.max(d.e.c,m.e.c),d.e.r=Math.max(d.e.r,m.e.r),a==-1&&(a=m.e.r+1,d.e.r=a+e.length-1+i)}else a==-1&&(a=0,d.e.r=e.length-1+i);var g=n.header||[],v=0;e.forEach(function(b,w){Ai(b).forEach(function(_){(v=g.indexOf(_))==-1&&(g[v=g.length]=_);var k=b[_],A="z",R="",P=Bt({c:o+v,r:a+w+i});u=qx(s,P),k&&typeof k=="object"&&!(k instanceof Date)?s[P]=k:(typeof k=="number"?A="n":typeof k=="boolean"?A="b":typeof k=="string"?A="s":k instanceof Date?(A="d",n.cellDates||(A="n",k=ws(k)),R=n.dateNF||Mt[14]):k===null&&n.nullError&&(A="e",k=0),u?(u.t=A,u.v=k,delete u.w,delete u.R,R&&(u.z=R)):s[P]=u={t:A,v:k},R&&(u.z=R))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var x=Fi(a);if(i)for(v=0;v<g.length;++v)s[hi(v+o)+x]={t:"s",v:g[v]};return s["!ref"]=tr(d),s}function Att(t,e){return rue(null,t,e)}function qx(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=fi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?qx(t,Bt(e)):qx(t,Bt({r:e,c:r||0}))}function Ctt(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function cM(){return{SheetNames:[],Sheets:{}}}function uM(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(Bce(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function Ntt(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=Ctt(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function Itt(t,e){return t.z=e,t}function nue(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function Ott(t,e,r){return nue(t,"#"+e,r)}function Rtt(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function Ptt(t,e,r,n){for(var i=typeof e!="string"?e:Or(e),s=typeof e=="string"?e:tr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=qx(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var y_={encode_col:hi,encode_row:Fi,encode_cell:Bt,encode_range:tr,decode_col:BD,decode_row:FD,split_cell:UHe,decode_cell:fi,decode_range:So,format_cell:Bd,sheet_add_aoa:Ile,sheet_add_json:rue,sheet_add_dom:Gce,aoa_to_sheet:Yv,json_to_sheet:Att,table_to_sheet:Kce,table_to_book:Bet,sheet_to_csv:lM,sheet_to_txt:tue,sheet_to_json:rS,sheet_to_html:Wce,sheet_to_formulae:ktt,sheet_to_row_object_array:rS,sheet_get_cell:qx,book_new:cM,book_append_sheet:uM,book_set_sheet_visibility:Ntt,cell_set_number_format:Itt,cell_set_hyperlink:nue,cell_set_internal_link:Ott,cell_add_comment:Rtt,sheet_set_array_formula:Ptt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const jtt=({courseId:t,courseName:e,licenseId:r,onClose:n,onSuccess:i})=>{const[s,a]=C.useState(null),[o,l]=C.useState([]),[u,d]=C.useState(!1),[m,g]=C.useState(0),v=C.useRef(null),x=k=>{if(k.target.files&&k.target.files[0]){const A=k.target.files[0];a(A),b(A)}},b=k=>{const A=new FileReader;A.onload=R=>{var M,F,U,le;const P=new Uint8Array((M=R.target)==null?void 0:M.result),j=MO(P,{type:"array"}),S=j.SheetNames[0],I=j.Sheets[S],O=y_.sheet_to_json(I,{header:1}),D=[];for(let de=1;de<O.length;de++){const Z=O[de];if(!Z||Z.length===0)continue;const J=(F=Z[0])==null?void 0:F.toString().trim(),he=(U=Z[1])==null?void 0:U.toString().trim();if(J&&he){let ee=Z[2];typeof ee=="number"?ee=new Date(Math.round((ee-25569)*86400*1e3)).toLocaleDateString("vi-VN"):ee=(ee==null?void 0:ee.toString().trim())||"";const ve=((le=Z[3])==null?void 0:le.toString().trim())||"123456";D.push({sbd:J,fullName:he,birthDate:ee,password:ve,status:"pending"})}}l(D)},A.readAsArrayBuffer(k)},w=async()=>{if(o.length===0)return;d(!0),g(0);const k="SecondaryAppForImport";let A;try{A=Am(k)}catch{A=AS(g4,k)}const R=jP(A),P=[...o];let j=0;for(let S=0;S<P.length;S++){const I=P[S];try{const O=`${I.sbd}@daotaothuyenvien.com`;let D="";try{D=(await IP(R,O,I.password||"123456")).user.uid}catch(M){throw M.code==="auth/email-already-in-use"?new Error("Ti khon (SBD)  tn ti."):M}D&&(await jm(Rt(Ge,"users",D),{fullName:I.fullName,email:O,role:"hoc_vien",birthDate:I.birthDate,courseId:t,courseName:e,class:e,isVerified:!0,defaultLicenseId:r||null,createdAt:ys(),updatedAt:ys(),photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(I.fullName)}&background=random`},{merge:!0}),await En(Rt(Ge,"courses",t),{students:ix(D)}),P[S].status="success",j++)}catch(O){console.error(`Error importing ${I.sbd}:`,O),P[S].status="error",P[S].message=O.message}l([...P]),g(Math.round((S+1)/P.length*100))}await iee(R),d(!1),j===P.length?(alert(` import thnh cng ${j} hc vin!`),i(),n()):alert(` x l xong. Thnh cng: ${j}, Li: ${P.length-j}`)},_=()=>{const k=y_.aoa_to_sheet([["SBD","H v tn","Ngy sinh","Mt khu (Ty chn)"],["TS001","Nguyn Vn A","01/01/1990","123456"],["TS002","Trn Th B","15/05/1995",""]]),A=y_.book_new();y_.book_append_sheet(A,k,"Mau_Import"),Ett(A,"Mau_Danh_Sach_Hoc_Vien.xlsx")};return f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:n,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 h-[80vh] flex flex-col relative",onClick:k=>k.stopPropagation(),children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:f.jsx(lu,{})}),f.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-green-600",children:[f.jsx(Pte,{})," Import Hc Vin t Excel"]}),f.jsxs("div",{className:"flex gap-4 mb-6",children:[f.jsx("button",{onClick:_,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition",children:"Ti file mu"}),f.jsxs("div",{className:"relative",children:[f.jsx("input",{type:"file",ref:v,onChange:x,accept:".xlsx, .xls",className:"hidden"}),f.jsxs("button",{onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition flex items-center gap-2",children:[f.jsx(Ute,{})," Chn file Excel"]})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 dark:border-slate-700 rounded-lg mb-4",children:f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 sticky top-0",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-3 font-semibold",children:"SBD"}),f.jsx("th",{className:"p-3 font-semibold",children:"H tn"}),f.jsx("th",{className:"p-3 font-semibold",children:"Ngy sinh"}),f.jsx("th",{className:"p-3 font-semibold",children:"Trng thi"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[o.map((k,A)=>f.jsxs("tr",{className:k.status==="error"?"bg-red-50 dark:bg-red-900/20":k.status==="success"?"bg-green-50 dark:bg-green-900/20":"",children:[f.jsx("td",{className:"p-3",children:k.sbd}),f.jsx("td",{className:"p-3",children:k.fullName}),f.jsx("td",{className:"p-3",children:k.birthDate}),f.jsxs("td",{className:"p-3",children:[k.status==="pending"&&f.jsx("span",{className:"text-gray-500",children:"Ch x l"}),k.status==="success"&&f.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[f.jsx(wu,{})," Thnh cng"]}),k.status==="error"&&f.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[f.jsx(jv,{})," ",k.message]})]})]},A)),o.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-500 italic",children:"Cha c d liu. Vui lng ti file Excel ln."})})]})]})}),f.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-slate-700",children:[f.jsx("div",{className:"text-sm text-gray-500",children:o.length>0&&`Tm thy ${o.length} hc vin.`}),f.jsx("button",{onClick:w,disabled:u||o.length===0,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 shadow-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?f.jsxs(f.Fragment,{children:[f.jsx(Bte,{className:"animate-spin"})," ang x l ",m,"%"]}):"Thc hin Import"})]})]})})},Dtt=({courseId:t,courseName:e,licenseId:r,onClose:n,onSuccess:i})=>{const[s,a]=C.useState(""),[o,l]=C.useState(""),[u,d]=C.useState(""),[m,g]=C.useState("123456"),[v,x]=C.useState(!1),[b,w]=C.useState(""),_=async k=>{k.preventDefault(),w(""),x(!0);const A="SecondaryAppForManualCreate";let R;try{R=Am(A)}catch{R=AS(g4,A)}const P=jP(R);try{const j=`${s.trim()}@daotaothuyenvien.com`;let S="";try{S=(await IP(P,j,m)).user.uid}catch(I){throw I.code==="auth/email-already-in-use"?new Error("S bo danh ny  tn ti trong h thng."):I}S&&(await jm(Rt(Ge,"users",S),{fullName:o.trim(),email:j,role:"hoc_vien",birthDate:u,courseId:t,courseName:e,class:e,isVerified:!0,defaultLicenseId:r||null,createdAt:ys(),updatedAt:ys(),photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(o.trim())}&background=random`},{merge:!0}),await En(Rt(Ge,"courses",t),{students:ix(S)}),alert(` to ti khon thnh cng cho hc vin: ${o}`),i(),n())}catch(j){console.error("Error creating student:",j),w(j.message||"C li xy ra.")}finally{await iee(P),x(!1)}};return f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:n,children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",onClick:k=>k.stopPropagation(),children:[f.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:f.jsx(lu,{})}),f.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-blue-600",children:[f.jsx($te,{})," Thm Hc Vin Th Cng"]}),f.jsxs("form",{onSubmit:_,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:["S Bo Danh (SBD) ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",value:s,onChange:k=>a(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"V d: TMK3-001",required:!0})]}),f.jsxs("div",{children:[f.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:["H v Tn ",f.jsx("span",{className:"text-red-500",children:"*"})]}),f.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"V d: Nguyn Vn A",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Ngy sinh"}),f.jsx("input",{type:"text",value:u,onChange:k=>d(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"DD/MM/YYYY"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Mt khu mc nh"}),f.jsx("input",{type:"text",value:m,onChange:k=>g(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white bg-gray-100"})]}),b&&f.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2",children:[f.jsx(jv,{})," ",b]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-slate-700 mt-6",children:[f.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition",children:"Hy"}),f.jsx("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg transition flex items-center gap-2 disabled:opacity-70",children:v?f.jsxs(f.Fragment,{children:[f.jsx(Bte,{className:"animate-spin"})," ang to..."]}):"To ti khon"})]})]})]})})},Zb="login_sessions",dM="ontap_current_session_id",nS=async t=>{try{const e=cr(Vt(Ge,Zb),gr("userId","==",t),gr("status","==","active"),Wa("loginAt","desc")),r=await Zr(e),n=localStorage.getItem(dM);return r.docs.map(i=>({id:i.id,...i.data(),isCurrent:i.id===n}))}catch(e){return console.error("Failed to get active sessions:",e),[]}},hM=async t=>{try{const e=Rt(Ge,Zb,t);return await En(e,{status:"logged_out",loggedOutAt:ys()}),!0}catch(e){return console.error("Failed to logout remote session:",e),!1}},Mtt=t=>{const e=localStorage.getItem(dM);if(!e)return()=>{};const r=Rt(Ge,Zb,e);return wo(r,n=>{n.exists()?n.data().status==="logged_out"&&t(!0):t(!0)})},Ltt=async()=>{const t=localStorage.getItem(dM);if(t)try{const e=Rt(Ge,Zb,t);await En(e,{lastActive:ys()})}catch{}},iue=async t=>{try{const e=cr(Vt(Ge,Zb),gr("userId","==",t),gr("status","==","active"));return(await Zr(e)).size}catch(e){return console.error("Error getting device count:",e),0}},LO=Object.freeze(Object.defineProperty({__proto__:null,checkCurrentSessionStatus:Mtt,getActiveSessions:nS,getDeviceCount:iue,logoutRemoteSession:hM,updateLastActive:Ltt},Symbol.toStringTag,{value:"Module"})),Ftt=t=>{switch(t){case"admin":return"Qun tr vin";case"lanh_dao":return"Lnh o";case"quan_ly":return"Qun l";case"giao_vien":return"Gio vin";case"hoc_vien":return"Hc vin";default:return t}},O5=t=>t==="admin"?10:t==="lanh_dao"?5:t==="quan_ly"?2:t==="giao_vien"?1:0,_n=t=>(t||"").toLowerCase(),Btt=({userProfile:t,onBack:e})=>{var sh,Yc;const[r,n]=C.useState([]),[i,s]=C.useState(null),[a,o]=C.useState(!0),[l,u]=C.useState({}),[d,m]=C.useState(!0),[g,v]=C.useState([]),[x,b]=C.useState([]),[w,_]=C.useState([]),[k,A]=C.useState([]),[R,P]=C.useState({}),[j,S]=C.useState(!1),[I,O]=C.useState(!1),[D,M]=C.useState(""),[F,U]=C.useState(""),[le,de]=C.useState(!1),[Z,J]=C.useState(!1),[he,ee]=C.useState(new Set),[ve,H]=C.useState(!1),[B,q]=C.useState(!1),[W,Y]=C.useState(null),[ue,pe]=C.useState([]),[ce,ie]=C.useState(!1),[ye,Ve]=C.useState({}),[G,tt]=C.useState(!1),[me,He]=C.useState(null),[Ke,Ie]=C.useState(!1),[et,ht]=C.useState(!1),[_t,Rr]=C.useState(!1),[Pr,$r]=C.useState(!1),[Wt,Ar]=C.useState(!1),[An,pi]=C.useState(""),[be,Qe]=C.useState(""),[nt,jt]=C.useState(!1),[Gt,rr]=C.useState(!1),[wr,Ui]=C.useState(null),[rn,Ql]=C.useState(""),[da,us]=C.useState(""),[gi,Co]=C.useState("system"),[nn,zi]=C.useState(""),[Ct,_r]=C.useState(!1),[jn,si]=C.useState("list"),[ai,sn]=C.useState([]),[$i,ks]=C.useState(!1),[an,Ci]=C.useState(null),[Ks,vi]=C.useState(""),[K,ae]=C.useState(""),[te,ne]=C.useState(""),[se,oe]=C.useState(""),[_e,Me]=C.useState(10),[we,Se]=C.useState(1),[Ee,Ye]=C.useState("fullName"),[Ze,ct]=C.useState("asc"),[We,it]=C.useState({}),[gt,Nr]=C.useState(!1),[Er,on]=C.useState(null),[ds,La]=C.useState([]),[No,ha]=C.useState(!1),Jl=O5(t.role)>=2,Yn=["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role),Fa=O5(t.role)>=2,yi=O5(t.role)>=2,Hi=X=>X.roomId?"Thi Trc Tuyn":X.quizId==="exam-quiz"||X.quizId==="thithu2"||X.type==="Thi th"||X.quizTitle&&X.quizTitle.includes("Thi th")?"Thi th":"n tp",Bc=X=>{switch(X){case"Thi Trc Tuyn":return"bg-red-100 text-red-800 border-red-200";case"Thi th":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},Wf=X=>{if(X.roomId&&ye[X.roomId]){const ke=ye[X.roomId];return`Phng thi ${ke.name} / ${ke.course_name||"T do"} / ${ke.license_name||""}`}return X.quizTitle||(X.roomId?`Phng thi ${X.roomId}`:X.type)};C.useEffect(()=>{(async()=>{try{const ke=cr(Vt(Ge,"courses")),vt=(await Zr(ke)).docs.map(Cn=>({id:Cn.id,...Cn.data()}));n(vt);const ft=new Set(vt.map(Cn=>Cn.headTeacherId).filter(Boolean)),Tr={};for(const Cn of Array.from(ft))if(Cn)try{const Ni=await yu(Rt(Ge,"users",Cn));Ni.exists()&&(Tr[Cn]=Ni.data().fullName)}catch{}u(Tr)}catch(ke){console.error(ke)}finally{o(!1)}})(),Jr(async()=>{const{fetchLicenses:ke}=await Promise.resolve().then(()=>$M);return{fetchLicenses:ke}},void 0).then(({fetchLicenses:ke})=>{ke().then(sn).catch(console.error)})},[t]),C.useEffect(()=>{if(!i)return;let X,ke;if(i.teacherIds&&i.teacherIds.length>0)try{const vt=[...new Set(i.teacherIds.filter(ft=>ft&&ft.trim()!==""))].slice(0,10);if(vt.length>0){const ft=cr(Vt(Ge,"users"),gr(qS(),"in",vt));X=wo(ft,Tr=>{b(Tr.docs.map(Cn=>{const Ni=Cn.data();return{uid:Cn.id,...Ni,photoURL:Ni.photoURL||wf(Ni.role)}}))})}else b([])}catch(vt){console.error("Teacher fetch error:",vt),b([])}else b([]);const Je=cr(Vt(Ge,"users"),gr("courseId","==",i.id));return ke=wo(Je,async vt=>{const ft=vt.docs.map(Cn=>{const Ni=Cn.data();return{uid:Cn.id,...Ni,photoURL:Ni.photoURL||wf(Ni.role)}});v(ft);const Tr={};await Promise.all(ft.map(async Cn=>{try{const Ni=await $T(Cn.uid);if(Ni&&Ni.length>0){const As=Ni[0];Tr[Cn.uid]={type:As.quizTitle||As.type||"Bi thi",time:As.completedAt?As.completedAt.toLocaleString("vi-VN"):"--",score:`${As.score}/${As.totalQuestions} cu`,rawDate:As.completedAt}}else Tr[Cn.uid]={type:"--",time:"--",score:"--"}}catch{Tr[Cn.uid]={type:"Li",time:"--",score:"--"}}})),P(Tr)}),()=>{X&&X(),ke&&ke()}},[i]),C.useEffect(()=>{g.length>0&&(async()=>{const ke={};await Promise.all(g.map(async Je=>{try{const vt=await iue(Je.uid);ke[Je.uid]=vt}catch{ke[Je.uid]=0}})),it(ke)})()},[g]);const Hr=async X=>{on(X),Nr(!0),ha(!0);try{const ke=await nS(X.uid);La(ke)}catch(ke){console.error("Error fetching sessions:",ke),La([])}finally{ha(!1)}},Mu=async X=>{if(confirm("ng xut tit b ny?"))try{if(await hM(X),Er){const ke=await nS(Er.uid);La(ke),it(Je=>({...Je,[Er.uid]:ke.length}))}}catch(ke){console.error("Error logging out session:",ke),alert("Li khi ng xut.")}},eo=C.useMemo(()=>{let X=[...g];if(D){const ke=D.toLowerCase();X=X.filter(Je=>{var vt,ft,Tr;return((vt=Je.fullName)==null?void 0:vt.toLowerCase().includes(ke))||((ft=Je.email)==null?void 0:ft.toLowerCase().includes(ke))||((Tr=Je.phoneNumber)==null?void 0:Tr.includes(ke))})}return X.sort((ke,Je)=>{let vt=ke[Ee],ft=Je[Ee];return Ee==="status"&&(vt=ke.isVerified||ke.courseId?1:0,ft=Je.isVerified||Je.courseId?1:0),vt||(vt=""),ft||(ft=""),vt<ft?Ze==="asc"?-1:1:vt>ft?Ze==="asc"?1:-1:0}),X},[g,D,Ee,Ze]),to=Math.ceil(eo.length/_e),xi=eo.slice((we-1)*_e,we*_e),dl=X=>{Ee===X?ct(ke=>ke==="asc"?"desc":"asc"):(Ye(X),ct("asc"))},Vc=X=>Ee!==X?f.jsx(Fte,{className:"ml-1 text-gray-300 inline"}):Ze==="asc"?f.jsx(Lte,{className:"ml-1 text-blue-500 inline"}):f.jsx(Mte,{className:"ml-1 text-blue-500 inline"});C.useEffect(()=>{j&&(async()=>{const ke=cr(Vt(Ge,"users"),gr("role","in",["hoc_vien"])),vt=(await Zr(ke)).docs.map(ft=>({uid:ft.id,...ft.data()}));_(vt.filter(ft=>ft.courseId!==(i==null?void 0:i.id)||!ft.courseId))})()},[j,i]),C.useEffect(()=>{I&&(async()=>{const ke=cr(Vt(Ge,"users"),gr("role","in",["giao_vien","admin","quan_ly","lanh_dao"])),vt=(await Zr(ke)).docs.map(ft=>({uid:ft.id,...ft.data()}));A(vt.filter(ft=>!((i==null?void 0:i.teacherIds)||[]).includes(ft.uid)))})()},[I,i]),C.useEffect(()=>{B&&W&&(ie(!0),(async()=>{const ke=await $T(W.uid);ke.sort((vt,ft)=>ft.completedAt.getTime()-vt.completedAt.getTime()),pe(ke);const Je=Array.from(new Set(ke.filter(vt=>vt.roomId).map(vt=>vt.roomId)));if(Je.length>0){const vt={};await Promise.all(Je.map(async ft=>{try{const Tr=await yu(Rt(Ge,"exam_rooms",ft));Tr.exists()&&(vt[ft]=Tr.data())}catch{}})),Ve(vt)}ie(!1)})())},[B,W]);const Gf=async X=>{X.preventDefault();try{await vf(Vt(Ge,"courses"),{name:An,description:be,teacherIds:[],createdAt:ys(),createdBy:t.id,licenseId:se}),Ar(!1),pi(""),Qe(""),oe(""),window.location.reload()}catch(ke){console.error(ke)}},Uc=async X=>{if(X.preventDefault(),!!an)try{if(await En(Rt(Ge,"courses",an.id),{name:Ks,description:K,licenseId:te}),an.licenseId!==te){const ke=cr(Vt(Ge,"users"),gr("courseId","==",an.id)),vt=(await Zr(ke)).docs.map(ft=>En(Rt(Ge,"users",ft.id),{defaultLicenseId:te||null}));await Promise.all(vt)}alert("Cp nht lp hc thnh cng!"),n(ke=>ke.map(Je=>Je.id===an.id?{...Je,name:Ks,description:K,licenseId:te}:Je)),(i==null?void 0:i.id)===an.id&&s(ke=>ke?{...ke,name:Ks,description:K,licenseId:te}:null),ks(!1)}catch(ke){console.error(ke),alert("Li khi cp nht lp.")}},Xm=async X=>{if(confirm("Bn c chc chn mun xa lp ny? Hnh ng ny khng th hon tc!"))try{const ke=cr(Vt(Ge,"users"),gr("courseId","==",X)),vt=(await Zr(ke)).docs.map(ft=>En(Rt(Ge,"users",ft.id),{courseId:null,courseName:null,class:null,isVerified:!1}));await Promise.all(vt),await Jr(async()=>{const{deleteDoc:ft}=await Promise.resolve().then(()=>nm);return{deleteDoc:ft}},void 0).then(({deleteDoc:ft})=>ft(Rt(Ge,"courses",X))),n(ft=>ft.filter(Tr=>Tr.id!==X)),alert(" xa lp hc!"),(i==null?void 0:i.id)===X&&s(null)}catch(ke){console.error(ke),alert("Li khi xa lp.")}},zc=(X,ke)=>{ke.stopPropagation(),Ci(X),vi(X.name),ae(X.description||""),ne(X.licenseId||""),ks(!0)},fa=async X=>{if(!i)return;const ke=w.find(Je=>Je.uid===X);if(ke&&ke.courseId){alert(`Hc vin ny ang hc lp ${ke.courseName||ke.courseId}. Vui lng xa khi lp c trc khi thm vo lp mi.`);return}de(!0);try{await En(Rt(Ge,"users",X),{courseId:i.id,courseName:i.name,class:i.name,isVerified:!0,defaultLicenseId:i.licenseId||null,updatedAt:ys()}),_(Je=>Je.filter(vt=>vt.uid!==X)),alert(` thm hc vin vo lp ${i.name}`)}catch(Je){console.error(Je),alert("Li khi thm hc vin.")}finally{de(!1)}},Qm=async X=>{if(i){J(!0);try{const ke=Rt(Ge,"courses",i.id);await En(ke,{teacherIds:ix(X),...nt?{headTeacherId:X}:{}}),A(Je=>Je.filter(vt=>vt.uid!==X)),nt&&s(Je=>Je?{...Je,headTeacherId:X}:null),s(Je=>Je?{...Je,teacherIds:[...Je.teacherIds||[],X]}:null)}catch(ke){console.error(ke)}finally{J(!1)}}},Kf=async X=>{if(i&&confirm("Bn c chc chn xo gio vin ny khi lp?"))try{const ke=Rt(Ge,"courses",i.id);await En(ke,{teacherIds:_P(X),...i.headTeacherId===X?{headTeacherId:null}:{}}),s(Je=>Je?{...Je,teacherIds:(Je.teacherIds||[]).filter(vt=>vt!==X),headTeacherId:Je.headTeacherId===X?void 0:Je.headTeacherId}:null)}catch(ke){console.error("Error removing teacher:",ke)}},Zd=async X=>{if(confirm("Bn c chc chn mun xa hc vin ny khi lp?"))try{await En(Rt(Ge,"users",X),{courseId:null,courseName:null,class:null,isVerified:!1})}catch(ke){console.error(ke)}},eh=X=>{const ke=new Set(he);ke.has(X)?ke.delete(X):ke.add(X),ee(ke)},Jm=X=>{if(he.size===X.length&&X.length>0)ee(new Set);else{const ke=new Set(X.map(Je=>Je.uid));ee(ke)}},$c=async()=>{if(!(he.size===0||!i)&&confirm(`Bn c chc mun thm ${he.size} hc vin vo lp ${i.name}?`)){H(!0);try{const X=Array.from(he).map(async ke=>{if(!w.find(Tr=>Tr.uid===ke))return;const vt=Rt(Ge,"users",ke);await En(vt,{courseId:i.id,courseName:i.name,isVerified:!0,defaultLicenseId:i.licenseId||null,class:i.name,updatedAt:ys()});const ft=Rt(Ge,"courses",i.id);await En(ft,{students:ix(ke)})});await Promise.all(X),alert(` thm thnh cng ${he.size} hc vin!`),S(!1),ee(new Set)}catch(X){console.error(X),alert("C li xy ra khi thm nhiu hc vin.")}finally{H(!1)}}},Hc=(X,ke,Je)=>{Ui({type:X,id:ke,name:Je}),Ql(""),us(""),rr(!0)},Io=async X=>{if(X.preventDefault(),!(!wr||!t.id)){_r(!0);try{const ke=nn?new Date(nn):null,Je=gi==="special"||gi==="attention",vt=Je?"all":wr.type,ft=Je?null:wr.id;await aI(rn,da,gi,vt,ft,t.id,t.full_name,ke),alert("Gi thng bo thnh cng!"),rr(!1)}catch(ke){console.error(ke),alert("Li khi gi thng bo. C th thiu Index Firestore.")}finally{_r(!1)}}},th=async(X,ke)=>{var vt;const Je=prompt(`Nhp mt khu mi cho hc vin ${ke}:`,"123456");if(Je!==null){if(!Je||Je.length<6){alert("Mt khu phi c t nht 6 k t.");return}try{const ft=await((vt=vs.currentUser)==null?void 0:vt.getIdToken());if(!ft){alert("Li xc thc.");return}const Tr=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${ft}`},body:JSON.stringify({targetUserId:X,newPassword:Je})}),Cn=await Tr.json();Tr.ok?alert(` i mt khu cho ${ke} thnh cng!`):alert(`Li: ${Cn.error}`)}catch(ft){console.error(ft),alert("Li kt ni.")}}},ro=async()=>{if(me){Ie(!0);try{const X=ke=>ke===void 0?null:ke;await En(Rt(Ge,"users",me.uid),{fullName:X(me.fullName),birthDate:X(me.birthDate),email:X(me.email),phoneNumber:X(me.phoneNumber),address:X(me.address),cccd:X(me.cccd),cccdDate:X(me.cccdDate),cccdPlace:X(me.cccdPlace),class:X(me.class),courseCode:X(me.courseCode),role:X(me.role)}),alert(" cp nht thng tin hc vin!"),tt(!1),ht(!1)}catch(X){console.error("Error updating user:",X),alert("Li khi cp nht thng tin.")}finally{Ie(!1)}}},qc=async(X,ke)=>{try{await En(Rt(Ge,"users",X),{offlineAccess:!ke,updatedAt:ys()})}catch(Je){console.error("Error toggling offline access:",Je),alert("Li khi cp nht quyn Offline.")}},[jr,ma]=C.useState(new Set),[Lu,Zl]=C.useState(!1),Oo=X=>{const ke=new Set(jr);ke.has(X)?ke.delete(X):ke.add(X),ma(ke)},no=()=>{jr.size===xi.length&&xi.length>0?ma(new Set):ma(new Set(xi.map(X=>X.uid)))},Wc=async X=>{if(jr.size!==0&&confirm(`Bn c chc mun ${X?"BT":"TT"} quyn Offline cho ${jr.size} hc vin?`)){Zl(!0);try{const ke=Array.from(jr).map(Je=>En(Rt(Ge,"users",Je),{offlineAccess:X,updatedAt:ys()}));await Promise.all(ke),alert(` ${X?"bt":"tt"} Offline cho ${jr.size} hc vin!`),ma(new Set)}catch(ke){console.error("Bulk offline toggle error:",ke),alert("C li xy ra.")}finally{Zl(!1)}}},[Qr,Ro]=C.useState(!1),Yf=async()=>{var ke;if(jr.size===0)return;const X=prompt(`Nhp mt khu mi cho ${jr.size} hc vin:`,"123456");if(!X||X.length<6){X!==null&&alert("Mt khu phi c t nht 6 k t.");return}Ro(!0);try{const Je=await((ke=vs.currentUser)==null?void 0:ke.getIdToken());if(!Je){alert("Li xc thc.");return}let vt=0,ft=0;for(const Tr of Array.from(jr))try{(await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Je}`},body:JSON.stringify({targetUserId:Tr,newPassword:X})})).ok?vt++:ft++}catch{ft++}alert(`Hon thnh: ${vt} thnh cng, ${ft} tht bi.`),ma(new Set)}catch(Je){console.error("Bulk reset password error:",Je),alert("C li xy ra.")}finally{Ro(!1)}},[Fu,Bu]=C.useState(!1),[Gc,hl]=C.useState(""),[io,qi]=C.useState(""),[fl,ml]=C.useState("personal"),[ec,rh]=C.useState(!1),Kc=async X=>{if(X.preventDefault(),!(jr.size===0||!t.id)){rh(!0);try{for(const ke of Array.from(jr))await aI(Gc,io,fl,"user",ke,t.id,t.full_name,null);alert(` gi thng bo cho ${jr.size} hc vin!`),Bu(!1),hl(""),qi(""),ma(new Set)}catch(ke){console.error("Bulk notification error:",ke),alert("C li xy ra.")}finally{rh(!1)}}},[nh,Po]=C.useState(!1),ih=async()=>{if(jr.size!==0&&confirm(`Bn c chc mun xa ${jr.size} hc vin khi lp?`)){Po(!0);try{const X=Array.from(jr).map(ke=>En(Rt(Ge,"users",ke),{courseId:null,courseName:null,class:null,isVerified:!1}));await Promise.all(X),alert(` xa ${jr.size} hc vin khi lp!`),ma(new Set)}catch(X){console.error("Bulk delete error:",X),alert("C li xy ra.")}finally{Po(!1)}}};return i?f.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right relative",children:[f.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl p-6 mb-8 text-white shadow-lg relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:f.jsx(P0,{className:"w-32 h-32 transform rotate-12"})}),f.jsxs("div",{className:"relative z-10",children:[f.jsxs("button",{onClick:e,className:"absolute top-0 left-0 bg-white/20 hover:bg-white/30 text-white px-3 py-1 rounded text-sm transition flex items-center gap-1 backdrop-blur-sm",children:[f.jsx(H0,{})," Quay li Dashboard"]}),f.jsxs("div",{className:"mt-8",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[f.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-md",children:f.jsx(oI,{className:"w-8 h-8"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold",children:i.name}),f.jsx("p",{className:"opacity-90",children:i.description||"Cha c m t"})]})]}),i.licenseId&&f.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400 text-black px-3 py-1 rounded-full text-sm font-bold shadow-sm mt-2",children:[f.jsx(zE,{}),((sh=ai.find(X=>X.id===i.licenseId))==null?void 0:sh.name)||i.licenseId]})]})]})]}),j&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>S(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 h-[80vh] flex flex-col relative",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full border border-gray-200 dark:border-slate-600",children:f.jsx(lu,{})}),f.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[f.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Thm Hc Vin vo ",i.name]}),i.licenseId&&f.jsxs("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full border border-yellow-200",children:["Hng: ",((Yc=ai.find(X=>X.id===i.licenseId))==null?void 0:Yc.name)||i.licenseId]})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(uI,{className:"absolute left-3 top-3 text-gray-400"}),f.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Tm kim tn, email, st...",value:D,onChange:X=>M(X.target.value)})]}),f.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-100 dark:border-blue-800 px-4 cursor-pointer",onClick:()=>m(!d),children:[f.jsx("input",{type:"checkbox",checked:d,onChange:X=>m(X.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),f.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer select-none",children:"Ch hin hc vin cha c lp"})]})]}),f.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-bold text-gray-500 uppercase px-3 pb-2 border-b border-gray-100 dark:border-slate-700 items-center",children:[f.jsx("div",{className:"col-span-1 flex justify-center",children:f.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:w.filter(X=>{const ke=_n(X.fullName).includes(_n(D))||_n(X.email).includes(_n(D))||_n(X.phoneNumber).includes(_n(D)),Je=d?!X.courseId:!0;return ke&&Je}).length>0&&he.size===w.filter(X=>{const ke=_n(X.fullName).includes(_n(D))||_n(X.email).includes(_n(D))||_n(X.phoneNumber).includes(_n(D)),Je=d?!X.courseId:!0;return ke&&Je}).length,onChange:()=>Jm(w.filter(X=>{const ke=_n(X.fullName).includes(_n(D))||_n(X.email).includes(_n(D))||_n(X.phoneNumber).includes(_n(D)),Je=d?!X.courseId:!0;return ke&&Je}))})}),f.jsx("div",{className:"col-span-4",children:"Hc vin"}),f.jsx("div",{className:"col-span-2",children:"Ngy sinh/ST"}),f.jsx("div",{className:"col-span-2",children:"a ch"}),f.jsx("div",{className:"col-span-2",children:"Lp (T in)"}),f.jsx("div",{className:"col-span-1 text-center",children:"Thao tc"})]}),f.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 mt-2",children:w.filter(X=>{const ke=_n(X.fullName).includes(_n(D))||_n(X.email).includes(_n(D))||_n(X.phoneNumber).includes(_n(D)),Je=d?!X.courseId:!0;return ke&&Je}).map(X=>f.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center p-3 rounded-lg border transition ${he.has(X.uid)?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-gray-50 border-transparent hover:bg-gray-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[f.jsx("div",{className:"col-span-1 flex justify-center",children:f.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:he.has(X.uid),onChange:()=>eh(X.uid)})}),f.jsxs("div",{className:"col-span-4 flex items-center gap-3 overflow-hidden",children:[f.jsx("img",{src:X.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`,onError:ke=>{ke.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`},className:"w-10 h-10 rounded-full border border-gray-200 flex-shrink-0"}),f.jsxs("div",{className:"min-w-0",children:[f.jsx("p",{className:"font-bold text-sm truncate text-gray-900 dark:text-white",title:X.fullName,children:X.fullName}),f.jsx("p",{className:"text-xs text-gray-500 truncate",title:X.email,children:X.email})]})]}),f.jsxs("div",{className:"col-span-2 text-sm text-gray-700 dark:text-gray-300",children:[f.jsx("div",{className:"text-xs text-gray-500",children:X.birthDate||"--/--/----"}),f.jsx("div",{className:"font-medium",children:X.phoneNumber||"---"})]}),f.jsx("div",{className:"col-span-2 text-sm text-gray-700 dark:text-gray-300",children:f.jsx("p",{className:"line-clamp-2 text-xs",title:X.address||X.cccdPlace,children:X.address||X.cccdPlace||"---"})}),f.jsxs("div",{className:"col-span-2 text-sm",children:[f.jsx("div",{className:"text-xs text-gray-900 dark:text-gray-100 font-medium truncate",title:X.class,children:X.class||"---"}),X.courseName&&f.jsxs("div",{className:"text-[10px] text-yellow-600 bg-yellow-50 px-1 rounded inline-block mt-1 truncate max-w-full",children:["ang hc: ",X.courseName]})]}),f.jsx("div",{className:"col-span-1 flex justify-center",children:f.jsx("button",{onClick:()=>fa(X.uid),disabled:le,className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50 shadow-sm transition-transform active:scale-95",title:"Thm vo lp",children:f.jsx(Bh,{})})})]},X.uid))}),he.size>0&&f.jsx("div",{className:"absolute bottom-6 right-6 left-6 flex justify-center z-10 animate-bounce-in",children:f.jsx("button",{onClick:$c,disabled:ve,className:"bg-blue-600 text-white px-8 py-3 rounded-full shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-2 font-bold text-lg disabled:opacity-70 disabled:scale-100",children:ve?f.jsx(f.Fragment,{children:"Adding..."}):f.jsxs(f.Fragment,{children:[f.jsx(Bh,{})," Thm ",he.size," hc vin"]})})})]})}),document.body),I&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>O(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 h-[80vh] flex flex-col relative",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 bg-gray-100 p-2 rounded-full",children:f.jsx(lu,{})}),f.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thm Gio Vin"}),f.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 rounded mb-4",children:[f.jsx("input",{type:"checkbox",checked:nt,onChange:X=>jt(X.target.checked),className:"w-5 h-5 text-yellow-600"}),f.jsx("label",{className:"text-sm font-medium",children:"t lm GVCN"})]}),f.jsxs("div",{className:"relative mb-4",children:[f.jsx(uI,{className:"absolute left-3 top-3 text-gray-400"}),f.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded dark:bg-slate-700",placeholder:"Tm kim gio vin...",value:F,onChange:X=>U(X.target.value)})]}),f.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2",children:k.filter(X=>_n(X.fullName).includes(_n(F))||_n(X.email).includes(_n(F))).map(X=>f.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 transition",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:X.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`,onError:ke=>{ke.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`},className:"w-10 h-10 rounded-full"}),f.jsxs("div",{children:[f.jsx("p",{className:"font-bold text-sm",children:X.fullName}),f.jsx("p",{className:"text-xs text-gray-500",children:X.email})]})]}),f.jsx("button",{onClick:()=>Qm(X.uid),disabled:Z,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:"Thm"})]},X.uid))})]})}),document.body),B&&W&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>q(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-5xl p-6 h-[80vh] flex flex-col relative",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{onClick:()=>q(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:f.jsx(lu,{})}),f.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[f.jsx(nf,{className:"text-blue-500"})," Lch s lm bi: ",f.jsx("span",{className:"text-blue-600",children:W.fullName})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:ce?f.jsx("div",{className:"p-10 text-center text-gray-500",children:"ang ti lch s..."}):ue.length===0?f.jsx("div",{className:"p-10 text-center text-gray-500 italic",children:"Hc vin ny cha lm bi thi no."}):f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 sticky top-0 text-gray-500 uppercase text-xs",children:f.jsxs("tr",{children:[f.jsx("th",{className:"p-4 font-semibold",children:"Loi"}),f.jsx("th",{className:"p-4 font-semibold",children:"Bi thi"}),f.jsx("th",{className:"p-4 font-semibold text-center",children:"im s"}),f.jsx("th",{className:"p-4 font-semibold",children:"Gi np"}),f.jsx("th",{className:"p-4 font-semibold",children:"Ngy np"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:ue.map(X=>{const ke=Hi(X);return f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[f.jsx("td",{className:"p-4 align-middle",children:f.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold border ${Bc(ke)}`,children:ke})}),f.jsx("td",{className:"p-4 align-middle font-medium text-gray-900 dark:text-gray-100",children:Wf(X)}),f.jsxs("td",{className:"p-4 align-middle text-center",children:[f.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:X.score}),f.jsxs("span",{className:"text-gray-400 text-xs",children:[" / ",X.totalQuestions]})]}),f.jsx("td",{className:"p-4 align-middle text-gray-500",children:new Date(X.completedAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}),f.jsx("td",{className:"p-4 align-middle text-gray-500",children:new Date(X.completedAt).toLocaleDateString("vi-VN")})]},X.id)})})]})})})]})}),document.body),gt&&Er&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>Nr(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 max-h-[80vh] flex flex-col relative",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{onClick:()=>Nr(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full hover:bg-gray-200",children:f.jsx(lu,{})}),f.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[f.jsx(N1,{className:"text-green-500"})," Phin ng nhp: ",f.jsx("span",{className:"text-green-600",children:Er.fullName})]}),f.jsx("div",{className:"flex-1 overflow-y-auto",children:No?f.jsx("div",{className:"p-10 text-center text-gray-500",children:"ang ti phin ng nhp..."}):ds.length===0?f.jsx("div",{className:"p-10 text-center text-gray-500 italic",children:"Hc vin ny khng c phin ng nhp no ang hot ng."}):f.jsx("div",{className:"space-y-3",children:ds.map(X=>{var ft,Tr;const ke=(ft=X.loginAt)!=null&&ft.toDate?new Date(X.loginAt.toDate()):null,Je=(Tr=X.lastActive)!=null&&Tr.toDate?new Date(X.lastActive.toDate()):null,vt=X.platform==="mobile"||X.platform==="capacitor";return f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/50 rounded-lg p-4 border border-gray-200 dark:border-slate-600",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:`p-2 rounded-full ${vt?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}`,children:vt?f.jsx(um,{size:16}):f.jsx(N1,{size:16})}),f.jsxs("div",{children:[f.jsxs("p",{className:"font-medium text-gray-900 dark:text-gray-100",children:[X.deviceName||"Unknown Device",X.platform==="electron"&&f.jsx("span",{className:"ml-2 text-xs bg-purple-100 text-purple-700 px-1.5 py-0.5 rounded",children:"Windows App"})]}),f.jsx("p",{className:"text-xs text-gray-500",children:X.browser||X.userAgent||"Unknown Browser"}),f.jsxs("p",{className:"text-xs text-gray-400",children:["IP: ",X.ip||"Unknown"]})]})]}),f.jsxs("button",{onClick:()=>Mu(X.id),className:"text-red-500 hover:bg-red-50 p-2 rounded-lg transition flex items-center gap-1 text-xs font-medium",title:"ng xut thit b ny",children:[f.jsx(v4,{})," ng xut"]})]}),f.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 mt-2 pt-2 border-t border-gray-200 dark:border-slate-600",children:[f.jsxs("span",{children:["ng nhp: ",ke?ke.toLocaleString("vi-VN"):"--"]}),f.jsxs("span",{children:["Hot ng: ",Je?Je.toLocaleString("vi-VN"):"--"]})]})]},X.id)})})})]})}),document.body),G&&me&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>tt(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 relative animate-scale-up max-h-[90vh] overflow-y-auto",onClick:X=>X.stopPropagation(),children:[f.jsx("button",{onClick:()=>{tt(!1),ht(!1)},className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full hover:bg-gray-200 transition",children:f.jsx(lu,{})}),f.jsx("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2 text-blue-700 dark:text-blue-400",children:et?f.jsxs(f.Fragment,{children:[f.jsx(sd,{className:"text-yellow-500"})," Cp Nht Thng Tin"]}):f.jsxs(f.Fragment,{children:[f.jsx(xg,{className:"text-blue-500"})," H S Hc Vin"]})}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"H v Tn"}),f.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.fullName,readOnly:!et,onChange:X=>He({...me,fullName:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ngy sinh"}),f.jsx("input",{type:"date",className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.birthDate||"",readOnly:!et,onChange:X=>He({...me,birthDate:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Lp hc (Kha hc)"}),f.jsx("input",{className:"w-full p-2.5 border rounded-lg dark:bg-slate-700 bg-gray-50 border-transparent cursor-default",value:me.courseName||me.courseCode||"--",readOnly:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ngy cp CCCD"}),f.jsx("input",{type:et?"date":"text",className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.cccdDate||"",readOnly:!et,onChange:X=>He({...me,cccdDate:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"a ch"}),f.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.address||"",readOnly:!et,onChange:X=>He({...me,address:X.target.value})})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"S in thoi"}),f.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.phoneNumber||"",readOnly:!et,onChange:X=>He({...me,phoneNumber:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Lp hc (t in)"}),f.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.class||"",placeholder:"V d: Th my k2",readOnly:!et,onChange:X=>He({...me,class:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"S CCCD"}),f.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.cccd||"",readOnly:!et,onChange:X=>He({...me,cccd:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ni cp"}),f.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:me.cccdPlace||"",readOnly:!et,onChange:X=>He({...me,cccdPlace:X.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Vai tr"}),f.jsxs("select",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${et?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default appearance-none pointer-events-none"}`,value:me.role,disabled:!et,onChange:X=>He({...me,role:X.target.value}),children:[f.jsx("option",{value:"hoc_vien",children:"Hc vin"}),f.jsx("option",{value:"student",children:"Hc sinh"}),f.jsx("option",{value:"teacher",children:"Gio vin"})]})]})]})]}),f.jsx("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-gray-100 dark:border-slate-700",children:et?f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>ht(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-gray-700 font-medium",children:"Hy b"}),f.jsxs("button",{onClick:ro,disabled:Ke,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg font-medium transition-transform active:scale-95",children:[f.jsx(pj,{})," ",Ke?"ang lu...":"Lu Thay i"]})]}):f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>tt(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-gray-700 font-medium",children:"ng"}),f.jsxs("button",{onClick:()=>ht(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg font-medium transition-transform active:scale-95",children:[f.jsx(sd,{})," Chnh sa"]})]})})]})}),document.body),Gt&&wr&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",onClick:()=>rr(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-md animate-scale-up",onClick:X=>X.stopPropagation(),children:[f.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[f.jsx(f0,{className:"text-yellow-500"})," Gi Thng Bo"]}),f.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["To: ",f.jsx("span",{className:"font-bold text-blue-600",children:wr.name})]}),f.jsxs("form",{onSubmit:Io,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi thng bo"}),f.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:gi,onChange:X=>Co(X.target.value),children:[f.jsx("option",{value:"system",children:"Bnh thng"}),["admin","lanh_dao","quan_ly"].includes(t.role)&&f.jsxs(f.Fragment,{children:[f.jsx("option",{value:"attention",children:" Ch  (Chy ch vng)"}),f.jsx("option",{value:"special",children:" C BIT (Chy ch )"})]})]})]}),(gi==="special"||gi==="attention")&&f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hiu lc chy ch n"}),f.jsx("input",{type:"datetime-local",className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:nn,onChange:X=>zi(X.target.value),required:!0}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sau thi gian ny, thng bo s ngng chy ngang mn hnh."})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tiu "}),f.jsx("input",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Tiu ...",value:rn,onChange:X=>Ql(X.target.value),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tin nhn"}),f.jsx("textarea",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 h-24 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Ni dung...",value:da,onChange:X=>us(X.target.value),required:!0})]}),f.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[f.jsx("button",{type:"button",onClick:()=>rr(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Hy"}),f.jsx("button",{type:"submit",disabled:Ct,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 shadow-lg font-medium",children:Ct?"ang gi...":"Gi Ngay"})]})]})]})}),document.body),f.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[f.jsxs("div",{children:[f.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 mb-2 transition-colors font-medium",children:[f.jsx(H0,{})," Quay li danh sch"]}),f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:f.jsx(P0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:i.name}),f.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-0.5",children:i.description})]})]})]}),f.jsx("div",{className:"flex gap-4",children:f.jsxs("button",{onClick:()=>Hc("class",i.name,i.name),className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition flex items-center gap-2 font-medium",children:[f.jsx(f0,{})," Thng bo c lp"]})})]}),f.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[f.jsx("div",{className:"lg:col-span-1 space-y-6",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-5 sticky top-20",children:[f.jsxs("div",{className:"flex justify-between items-center border-b pb-3 border-gray-100 dark:border-slate-700 mb-4",children:[f.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[f.jsx(xg,{className:"text-green-500"})," Gio vin"]}),Fa&&f.jsx("button",{onClick:()=>O(!0),className:"text-green-600 hover:bg-green-50 p-1.5 rounded-full transition-colors",children:f.jsx(Bh,{size:14})})]}),f.jsxs("div",{className:"space-y-3",children:[x.map(X=>f.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors group relative cursor-pointer",children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:X.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`,onError:ke=>{ke.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`},className:"w-10 h-10 rounded-full border border-gray-200"}),i.headTeacherId===X.uid&&f.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-white rounded-full p-0.5 border-2 border-white",children:f.jsx(zE,{size:10})})]}),f.jsxs("div",{className:"min-w-0 flex-1",children:[f.jsx("p",{className:"font-medium text-sm truncate text-gray-900 dark:text-gray-100",children:X.fullName}),f.jsx("p",{className:"text-[11px] text-gray-400 truncate",children:Ftt(X.role)}),i.headTeacherId===X.uid&&f.jsx("span",{className:"text-[10px] font-bold text-yellow-600 bg-yellow-50 px-1.5 py-0.5 rounded border border-yellow-200 mt-1 inline-block",children:"GVCN"})]}),yi&&f.jsx("button",{onClick:ke=>{ke.stopPropagation(),Kf(X.uid)},className:"text-gray-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded opacity-0 group-hover:opacity-100 transition-all absolute right-2",title:"Xa gio vin",children:f.jsx(fc,{size:12})})]},X.uid)),x.length===0&&f.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Cha c gio vin."})]})]})}),f.jsx("div",{className:"lg:col-span-3",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 min-h-[500px]",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsxs("h3",{className:"font-bold text-xl flex items-center gap-2 text-gray-800 dark:text-white",children:[f.jsx(sf,{className:"text-blue-500"})," Hc vin (",g.length,")"]}),f.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1 ml-4",children:[f.jsx("button",{onClick:()=>si("grid"),className:`p-1.5 rounded ${jn==="grid"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng li",children:f.jsx(Vte,{})}),f.jsx("button",{onClick:()=>si("list"),className:`p-1.5 rounded ${jn==="list"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng danh sch",children:f.jsx(Dte,{})})]})]}),Yn&&f.jsxs(f.Fragment,{children:[f.jsxs("button",{onClick:()=>Rr(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[f.jsx(Pte,{})," Import Excel"]}),f.jsxs("button",{onClick:()=>$r(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[f.jsx($te,{})," Thm th cng"]}),f.jsxs("button",{onClick:()=>S(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[f.jsx(Bh,{})," Thm Hc Vin (C sn)"]})]})]}),jn==="grid"?f.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:xi.map(X=>{const ke=R[X.uid]||{score:"--"};return f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-4 border border-gray-100 dark:border-slate-700 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30 transition-all duration-300 group relative overflow-hidden",children:[f.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-100 to-transparent -mr-8 -mt-8 rounded-full opacity-50 group-hover:scale-150 transition-transform"}),f.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[f.jsx("div",{className:"relative",children:f.jsx("img",{src:X.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}&background=random`,onError:Je=>{Je.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}&background=random`},alt:X.fullName,className:"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-slate-600 shadow-sm group-hover:border-blue-500 transition-colors"})}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("h4",{className:"font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 transition-colors text-base flex items-center gap-1",children:[X.fullName,(X.isVerified||X.courseId)&&f.jsx(wu,{className:"text-green-500 text-xs shrink-0"})]}),f.jsx("p",{className:"text-xs text-gray-500 truncate",children:X.email}),f.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 dark:border-slate-600 text-xs",children:f.jsxs("div",{className:"flex justify-between text-gray-500",children:[f.jsx("span",{children:"Kt qu mi:"}),f.jsx("span",{className:"font-bold text-teal-600",children:ke.score})]})}),f.jsxs("div",{className:"flex gap-2 mt-3 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>Hc("user",X.uid,X.fullName),className:"text-yellow-600 bg-yellow-50 hover:bg-yellow-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Nhn tin",children:f.jsx(f0,{})}),f.jsx("button",{onClick:()=>{He(X),tt(!0)},className:"text-blue-600 bg-blue-50 hover:bg-blue-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Sa thng tin",children:f.jsx(sd,{})}),Yn&&f.jsx("button",{onClick:()=>th(X.uid,X.fullName),className:"text-yellow-600 bg-yellow-50 hover:bg-yellow-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Reset Mt khu",children:f.jsx(yg,{})}),f.jsx("button",{onClick:()=>{Y(X),q(!0)},className:"text-purple-600 bg-purple-50 hover:bg-purple-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Xem lch s",children:f.jsx(nf,{})}),Yn&&f.jsx("button",{onClick:()=>Zd(X.uid),className:"text-red-600 bg-red-50 hover:bg-red-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Xa",children:f.jsx(fc,{})})]})]})]})]},X.uid)})}):f.jsxs("div",{className:"overflow-x-auto",children:[f.jsxs("table",{className:"w-full text-left text-sm",children:[f.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-slate-700 dark:text-gray-300 select-none",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-2 py-3 w-10",children:f.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:jr.size===xi.length&&xi.length>0,onChange:no,title:"Chn tt c"})}),f.jsx("th",{onClick:()=>dl("fullName"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:f.jsxs("div",{className:"flex items-center",children:["Hc vin ",Vc("fullName")]})}),f.jsx("th",{onClick:()=>dl("birthDate"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:f.jsxs("div",{className:"flex items-center",children:["Ngy sinh ",Vc("birthDate")]})}),f.jsx("th",{onClick:()=>dl("recentExam"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:f.jsxs("div",{className:"flex items-center",children:["Bi lm gn nht ",Vc("recentExam")]})}),f.jsx("th",{onClick:()=>dl("time"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:f.jsxs("div",{className:"flex items-center",children:["Thi gian ",Vc("time")]})}),f.jsx("th",{onClick:()=>dl("score"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:f.jsxs("div",{className:"flex items-center",children:["im ",Vc("score")]})}),f.jsx("th",{className:"px-4 py-3 text-center",children:"Thit b"}),f.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Hnh ng"})]})}),f.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[xi.map(X=>{const ke=R[X.uid]||{type:"--",time:"--",score:"--"};return f.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[f.jsx("td",{className:"px-2 py-3 w-10",children:f.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:jr.has(X.uid),onChange:()=>Oo(X.uid)})}),f.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white flex items-center gap-3",children:[f.jsx("img",{src:X.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`,onError:Je=>{Je.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(X.fullName)}`},className:"w-8 h-8 rounded-full border border-gray-200"}),f.jsxs("div",{children:[f.jsxs("p",{className:"flex items-center gap-1",children:[X.fullName,(X.isVerified||X.courseId)&&f.jsx(wu,{className:"text-green-500 text-xs"})]}),f.jsx("p",{className:"text-xs text-gray-500 font-normal",children:X.email})]})]}),f.jsx("td",{className:"px-4 py-3 text-gray-500",children:X.birthDate||"--"}),f.jsx("td",{className:"px-4 py-3",children:f.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold
                                                        ${ke.type.includes("n")?"bg-blue-100 text-blue-700":ke.type.includes("Th")?"bg-purple-100 text-purple-700":ke.type==="--"?"bg-gray-100 text-gray-500":"bg-red-100 text-red-700"}`,children:ke.type})}),f.jsx("td",{className:"px-4 py-3 text-gray-500",children:ke.time}),f.jsx("td",{className:"px-4 py-3 font-bold text-teal-600",children:ke.score}),f.jsx("td",{className:"px-4 py-3 text-center",children:f.jsxs("button",{onClick:()=>Hr(X),className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-medium transition ${(We[X.uid]||0)>0?"bg-green-100 text-green-700 hover:bg-green-200":"bg-gray-100 text-gray-500 hover:bg-gray-200"}`,title:"Qun l phin ng nhp",children:[f.jsx(N1,{className:"text-xs"}),We[X.uid]||0]})}),f.jsx("td",{className:"px-4 py-3 text-center",children:f.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[f.jsx("button",{onClick:()=>Hc("user",X.uid,X.fullName),className:"text-yellow-500 hover:bg-yellow-50 p-2 rounded-lg transition",title:"Gi tin nhn",children:f.jsx(f0,{})}),f.jsx("button",{onClick:()=>{He(X),tt(!0)},className:"text-blue-500 hover:bg-blue-50 p-2 rounded-lg transition",title:"Sa thng tin",children:f.jsx(sd,{})}),Yn&&f.jsx("button",{onClick:()=>th(X.uid,X.fullName),className:"text-yellow-500 hover:bg-yellow-50 p-2 rounded-lg transition",title:"Reset Mt khu",children:f.jsx(yg,{})}),f.jsx("button",{onClick:()=>{Y(X),q(!0)},className:"text-purple-500 hover:bg-purple-50 p-2 rounded-lg transition",title:"Xem lch s thi",children:f.jsx(nf,{})}),Yn&&f.jsx("button",{onClick:()=>Zd(X.uid),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition",title:"Xa khi lp",children:f.jsx(fc,{})}),f.jsx("button",{onClick:()=>qc(X.uid,!!X.offlineAccess),className:`p-2 rounded-lg transition ${X.offlineAccess?"text-green-500 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:X.offlineAccess?" bt Offline":"Cha bt Offline",children:X.offlineAccess?f.jsx(mz,{}):f.jsx(BG,{})})]})})]},X.uid)}),g.length===0&&f.jsx("tr",{children:f.jsx("td",{colSpan:8,className:"text-center py-10 text-gray-400 italic",children:"Lp cha c hc vin no."})})]})]}),jr.size>0&&f.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-white dark:bg-slate-800 rounded-2xl shadow-2xl px-4 py-3 flex items-center gap-2 border border-gray-200 dark:border-slate-700 flex-wrap justify-center max-w-[95vw]",children:[f.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-200 whitespace-nowrap",children:[" chn ",f.jsx("span",{className:"text-blue-600 font-bold",children:jr.size})]}),f.jsx("button",{onClick:()=>Wc(!0),disabled:Lu,className:"bg-green-500 text-white px-3 py-1.5 rounded-full hover:bg-green-600 transition flex items-center gap-1 text-sm disabled:opacity-50",title:"Bt Offline",children:f.jsx(mz,{})}),f.jsx("button",{onClick:()=>Wc(!1),disabled:Lu,className:"bg-gray-500 text-white px-3 py-1.5 rounded-full hover:bg-gray-600 transition flex items-center gap-1 text-sm disabled:opacity-50",title:"Tt Offline",children:f.jsx(BG,{})}),f.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-1"}),Yn&&f.jsxs("button",{onClick:Yf,disabled:Qr,className:"bg-yellow-500 text-white px-3 py-1.5 rounded-full hover:bg-yellow-600 transition flex items-center gap-1 text-sm disabled:opacity-50",title:"Reset mt khu",children:[f.jsx(yg,{})," Reset"]}),f.jsxs("button",{onClick:()=>Bu(!0),className:"bg-blue-500 text-white px-3 py-1.5 rounded-full hover:bg-blue-600 transition flex items-center gap-1 text-sm",title:"Gi thng bo",children:[f.jsx(f0,{})," Thng bo"]}),Yn&&f.jsxs("button",{onClick:ih,disabled:nh,className:"bg-red-500 text-white px-3 py-1.5 rounded-full hover:bg-red-600 transition flex items-center gap-1 text-sm disabled:opacity-50",title:"Xa khi lp",children:[f.jsx(fc,{})," Xa"]}),f.jsx("div",{className:"w-px h-6 bg-gray-300 dark:bg-slate-600 mx-1"}),f.jsx("button",{onClick:()=>ma(new Set),className:"text-gray-500 hover:text-gray-700 dark:hover:text-gray-300 p-1.5 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700",title:"B chn tt c",children:f.jsx(lu,{})})]}),Fu&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[f.jsxs("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(f0,{className:"text-blue-500"}),"Gi thng bo cho ",jr.size," hc vin"]}),f.jsxs("form",{onSubmit:Kc,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Loi thng bo"}),f.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:fl,onChange:X=>ml(X.target.value),children:[f.jsx("option",{value:"personal",children:"C nhn"}),f.jsx("option",{value:"reminder",children:"Nhc nh"}),f.jsx("option",{value:"special",children:"c bit"}),f.jsx("option",{value:"attention",children:"Ch "})]})]}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tiu  thng bo",value:Gc,onChange:X=>hl(X.target.value),required:!0}),f.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700 min-h-[100px]",placeholder:"Ni dung thng bo...",value:io,onChange:X=>qi(X.target.value),required:!0}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>Bu(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Hy"}),f.jsx("button",{type:"submit",disabled:ec,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:ec?"ang gi...":f.jsxs(f.Fragment,{children:[f.jsx(f0,{})," Gi"]})})]})]})]})}),document.body)]}),to>1&&f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-100 dark:border-slate-700 gap-4",children:[f.jsxs("div",{className:"text-sm text-gray-500",children:["Hin th trang ",f.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-200",children:we})," / ",f.jsx("span",{className:"font-semibold",children:to}),f.jsx("span",{className:"mx-2",children:"|"}),"Tng ",f.jsx("span",{className:"font-bold text-blue-600",children:eo.length})," kt qu"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{className:"border border-gray-300 dark:border-slate-600 rounded-md text-sm p-1.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-200",value:_e,onChange:X=>{Me(Number(X.target.value)),Se(1)},children:[f.jsx("option",{value:5,children:"5 / trang"}),f.jsx("option",{value:10,children:"10 / trang"}),f.jsx("option",{value:20,children:"20 / trang"}),f.jsx("option",{value:50,children:"50 / trang"})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>Se(1),disabled:we===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"u"}),f.jsx("button",{onClick:()=>Se(X=>Math.max(1,X-1)),disabled:we===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Trc"}),f.jsx("button",{onClick:()=>Se(X=>Math.min(to,X+1)),disabled:we===to,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Sau"}),f.jsx("button",{onClick:()=>Se(to),disabled:we===to,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Cui"})]})]})]})]})})]}),_t&&i&&f.jsx(jtt,{courseId:i.id,courseName:i.name,licenseId:i.licenseId,onClose:()=>Rr(!1),onSuccess:()=>{}}),Pr&&i&&f.jsx(Dtt,{courseId:i.id,courseName:i.name,licenseId:i.licenseId,onClose:()=>$r(!1),onSuccess:()=>{}})]}):f.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4 animate-slide-in-right relative",children:[Wt&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"To Lp Hc Mi"}),f.jsxs("form",{onSubmit:Gf,className:"space-y-4",children:[f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tn lp",value:An,onChange:X=>pi(X.target.value),required:!0}),f.jsxs("div",{className:"mb-2",children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Hng bng (Mc nh)"}),f.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:se,onChange:X=>oe(X.target.value),children:[f.jsx("option",{value:"",children:"-- Chn hng bng --"}),ai.map(X=>f.jsx("option",{value:X.id,children:X.name},X.id))]}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hc vin s t ng c gn hng bng ny khi n tp."})]}),f.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"M t",value:be,onChange:X=>Qe(X.target.value)}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>Ar(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 text-white rounded",children:"To"})]})]})]})}),document.body),$i&&an&&zo.createPortal(f.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[f.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Chnh Sa Lp Hc"}),f.jsxs("form",{onSubmit:Uc,className:"space-y-4",children:[f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tn lp",value:Ks,onChange:X=>vi(X.target.value),required:!0}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Hng bng mc nh"}),f.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:te,onChange:X=>ne(X.target.value),children:[f.jsx("option",{value:"",children:"-- Khng chn --"}),ai.map(X=>f.jsx("option",{value:X.id,children:X.name},X.id))]})]}),f.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"M t",value:K,onChange:X=>ae(X.target.value)}),f.jsxs("div",{className:"flex justify-end gap-2",children:[f.jsx("button",{type:"button",onClick:()=>ks(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lu Thay i"})]})]})]})}),document.body),f.jsxs("div",{className:"flex justify-between items-center mb-8",children:[f.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-emerald-600",children:[f.jsx(P0,{className:"text-teal-600"})," Qun l Lp hc"]}),f.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Back Dashboard"})]}),a?f.jsx("div",{className:"p-20 text-center",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"})}):r.length===0?f.jsxs("div",{className:"text-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[f.jsx(P0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),f.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-200 mb-2",children:"Cha c lp hc no"}),Jl&&f.jsx("button",{onClick:()=>Ar(!0),className:"bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition",children:"To Lp Ngay"})]}):f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[Jl&&f.jsxs("div",{onClick:()=>Ar(!0),className:"bg-gradient-to-br from-teal-500 to-emerald-500 rounded-xl shadow-lg p-6 flex flex-col justify-center items-center text-white cursor-pointer hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[f.jsx("div",{className:"bg-white/20 p-4 rounded-full mb-3 group-hover:bg-white/30 transition-colors",children:f.jsx(Bh,{className:"w-8 h-8"})}),f.jsx("h3",{className:"font-bold text-lg",children:"Thm Lp Mi"})]}),r.map(X=>{var vt;const ke=["admin","quan_ly","lanh_dao"].includes(t.role)||t.role==="giao_vien"&&(X.headTeacherId===t.id||(X.teacherIds||[]).includes(t.id)),Je=["admin","quan_ly","lanh_dao"].includes(t.role);return f.jsxs("div",{onClick:()=>s(X),className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group flex flex-col relative",children:[(ke||Je)&&f.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[ke&&f.jsx("button",{onClick:ft=>zc(X,ft),className:"p-2 bg-white/90 text-blue-600 rounded-full shadow-sm hover:bg-blue-50",title:"Sa lp",children:f.jsx(sd,{})}),Je&&f.jsx("button",{onClick:ft=>{ft.stopPropagation(),Xm(X.id)},className:"p-2 bg-white/90 text-red-600 rounded-full shadow-sm hover:bg-red-50",title:"Xa lp",children:f.jsx(fc,{})})]}),f.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-600 to-cyan-500 relative flex items-center justify-center overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"}),f.jsx(oI,{className:"text-white/30 w-20 h-20 transform -rotate-12 group-hover:scale-110 transition-transform duration-500"}),f.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",children:[f.jsx("h3",{className:"font-bold text-xl text-white truncate",children:X.name}),X.licenseId&&f.jsx("span",{className:"text-xs text-yellow-300 font-mono bg-black/30 px-1 rounded ml-2",children:((vt=ai.find(ft=>ft.id===X.licenseId))==null?void 0:vt.name)||X.licenseId})]})]}),f.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4 flex-1",children:X.description||"Cha c m t kha hc."}),f.jsxs("div",{className:"flex justify-between items-center text-sm font-medium pt-4 border-t border-gray-100 dark:border-slate-700",children:[f.jsxs("span",{className:`flex items-center gap-1 ${X.headTeacherId?"text-blue-600 font-bold":"text-gray-500"}`,children:[f.jsx(xg,{})," GVCN: ",X.headTeacherId?l[X.headTeacherId]||"...":"Cha c"]}),f.jsxs("span",{className:"text-blue-600 group-hover:underline flex items-center gap-1",children:["Chi tit ",f.jsx(H0,{className:"rotate-180"})]})]})]})]},X.id)})]})]})},R5=[{id:"admin",name:"Qun tr vin"},{id:"lanh_dao",name:"Lnh o"},{id:"quan_ly",name:"Qun l"},{id:"giao_vien",name:"Gio vin"},{id:"hoc_vien",name:"Hc vin"}],Vtt=["giao_vien","lanh_dao","quan_ly"],Utt=({userId:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState(!0),s=async()=>{i(!0);try{const{getActiveSessions:o}=await Jr(async()=>{const{getActiveSessions:u}=await Promise.resolve().then(()=>LO);return{getActiveSessions:u}},void 0),l=await o(t);r(l)}catch(o){console.error(o)}finally{i(!1)}};C.useEffect(()=>{s()},[t]);const a=async o=>{if(confirm("ng xut thit b ny?"))try{const{logoutRemoteSession:l}=await Jr(async()=>{const{logoutRemoteSession:u}=await Promise.resolve().then(()=>LO);return{logoutRemoteSession:u}},void 0);await l(o),s()}catch{alert("Li khi ng xut.")}};return n?f.jsx("div",{className:"text-xs text-gray-400 animate-pulse",children:"ang ti phin..."}):e.length===0?f.jsx("div",{className:"text-xs text-gray-400 italic",children:"Khng c phin hot ng."}):f.jsx("div",{className:"space-y-2 max-h-40 overflow-y-auto pr-2 custom-scrollbar",children:e.map(o=>f.jsxs("div",{className:"flex items-center justify-between p-2 bg-gray-50 dark:bg-slate-700/30 rounded border border-gray-100 dark:border-slate-600",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[o.deviceName.toLowerCase().includes("windows")?f.jsx(N1,{className:"text-blue-500 text-xs"}):f.jsx(um,{className:"text-green-500 text-xs"}),f.jsxs("div",{className:"text-[11px]",children:[f.jsx("div",{className:"font-bold truncate max-w-[120px]",children:o.deviceName}),f.jsx("div",{className:"text-gray-400",children:o.ip})]})]}),f.jsx("button",{onClick:()=>a(o.id),className:"text-red-500 hover:bg-red-50 p-1.5 rounded transition",title:"ng xut thit b ny",children:f.jsx(v4,{size:12})})]},o.id))})},ztt=({userProfile:t,onBack:e,onNavigate:r})=>{var pi;const[n,i]=C.useState(t),[s,a]=C.useState(!1),o=t.role!=="hoc_vien",[l,u]=C.useState([]),[d,m]=C.useState(!1),[g,v]=C.useState(""),[x,b]=C.useState("all"),[w,_]=C.useState("all"),[k,A]=C.useState("all"),[R,P]=C.useState(null),[j,S]=C.useState(!1),[I,O]=C.useState(!1),[D,M]=C.useState(null),[F,U]=C.useState(10),[le,de]=C.useState(1),[Z,J]=C.useState("createdAt"),[he,ee]=C.useState("desc"),[ve,H]=C.useState(!1),[B,q]=C.useState(""),[W,Y]=C.useState(""),[ue,pe]=C.useState(""),[ce,ie]=C.useState(!1);C.useEffect(()=>{o&&He()},[o]);const ye=C.useMemo(()=>{let be=l;if(x==="staff"?be=be.filter(Qe=>Vtt.includes(Qe.role)):x==="hoc_vien"&&(be=be.filter(Qe=>Qe.role==="hoc_vien")),w==="verified"?be=be.filter(Qe=>Qe.isVerified||Qe.courseId):w==="unverified"&&(be=be.filter(Qe=>!Qe.isVerified&&!Qe.courseId)),k!=="all"&&(k==="no_class"?be=be.filter(Qe=>!Qe.courseId&&!Qe.courseName):be=be.filter(Qe=>Qe.courseName===k)),g.trim()){const Qe=g.toLowerCase();be=be.filter(nt=>nt.fullName.toLowerCase().includes(Qe)||nt.email.toLowerCase().includes(Qe)||nt.phoneNumber&&nt.phoneNumber.includes(Qe))}return be.sort((Qe,nt)=>{let jt=Qe[Z],Gt=nt[Z];return jt||(jt=""),Gt||(Gt=""),jt<Gt?he==="asc"?-1:1:jt>Gt?he==="asc"?1:-1:0}),be},[l,x,w,k,g,Z,he]),Ve=Math.ceil(ye.length/F),G=ye.slice((le-1)*F,le*F),tt=be=>{Z===be?ee(Qe=>Qe==="asc"?"desc":"asc"):(J(be),ee("asc"))},me=be=>Z!==be?f.jsx(Fte,{className:"ml-1 text-gray-300 inline"}):he==="asc"?f.jsx(Lte,{className:"ml-1 text-blue-500 inline"}):f.jsx(Mte,{className:"ml-1 text-blue-500 inline"}),He=async()=>{m(!0);try{const be=cr(Vt(Ge,"users"),Wa("createdAt","desc")),nt=(await Zr(be)).docs.map(jt=>{const Gt=jt.data();return{id:jt.id,...Gt,photoURL:Gt.photoURL||wf(Gt.photoURL?void 0:Gt.role)}});u(nt)}catch(be){console.error("Error fetching users:",be)}finally{m(!1)}},Ke=async be=>{be.preventDefault(),a(!0);try{const Qe=nt=>nt===void 0?null:nt;await En(Rt(Ge,"users",t.id),{fullName:Qe(n.full_name),full_name:Qe(n.full_name),phoneNumber:Qe(n.phoneNumber),birthDate:Qe(n.birthDate),address:Qe(n.address),cccd:Qe(n.cccd),cccdDate:Qe(n.cccdDate),cccdPlace:Qe(n.cccdPlace),class:Qe(n.class)}),alert("Cp nht thng tin thnh cng!")}catch(Qe){console.error(Qe),alert("Li khi lu thng tin.")}finally{a(!1)}},Ie=async be=>{if(confirm("Bn c chc chn mun xa ti khon ny?"))try{await ZS(Rt(Ge,"users",be)),u(Qe=>Qe.filter(nt=>nt.id!==be))}catch(Qe){console.error(Qe),alert("Li khi xa.")}},et=async be=>{if(be.preventDefault(),!!R)try{const Qe=nt=>nt===void 0?null:nt;await En(Rt(Ge,"users",R.id),{fullName:R.fullName,phoneNumber:Qe(R.phoneNumber),birthDate:Qe(R.birthDate),role:R.role,class:Qe(R.class),cccd:Qe(R.cccd),cccdDate:Qe(R.cccdDate),cccdPlace:Qe(R.cccdPlace),address:Qe(R.address)}),alert(" cp nht!"),S(!1),He()}catch(Qe){console.error(Qe),alert("Li khi lu.")}},ht=async(be,Qe)=>{var jt;const nt=prompt(`Nhp mt khu mi cho ${Qe}:`,"123456");if(nt!==null){if(!nt||nt.length<6){alert("Mt khu phi c t nht 6 k t.");return}try{const Gt=await((jt=vs.currentUser)==null?void 0:jt.getIdToken());if(!Gt){alert("Li xc thc: Khng tm thy token admin.");return}const rr=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Gt}`},body:JSON.stringify({targetUserId:be,newPassword:nt})}),wr=await rr.json();rr.ok?alert(` i mt khu cho ${Qe} thnh cng!`):alert(`Li: ${wr.error||"Khng xc nh"}`)}catch(Gt){console.error("Reset password error:",Gt),alert("Li kt ni n server.")}}},_t=be=>{var Qe;return((Qe=R5.find(nt=>nt.id===be))==null?void 0:Qe.name)||be},Rr=async be=>{if(be.preventDefault(),W!==ue){alert("Mt khu mi khng khp!");return}if(W.length<6){alert("Mt khu mi phi c t nht 6 k t.");return}ie(!0);try{const Qe=vs.currentUser;if(!Qe||!Qe.email){alert("Li xc thc.");return}const nt=Dm.credential(Qe.email,B);await A_e(Qe,nt),await N_e(Qe,W),alert("i mt khu thnh cng!"),H(!1),q(""),Y(""),pe("")}catch(Qe){console.error("Change password error:",Qe),Qe.code==="auth/wrong-password"||Qe.code==="auth/invalid-credential"?alert("Mt khu c khng ng."):Qe.code==="auth/weak-password"?alert("Mt khu qu yu."):alert("Li khi i mt khu: "+Qe.message)}finally{ie(!1)}},[Pr,$r]=C.useState(!1),Wt=Ne.useRef(null),Ar=()=>{var be;(be=Wt.current)==null||be.click()},An=async be=>{var nt;const Qe=(nt=be.target.files)==null?void 0:nt[0];if(Qe){if(!Qe.type.startsWith("image/")){alert("Vui lng chn file nh!");return}try{$r(!0);const jt=await eNe(Qe,t.id);await En(Rt(Ge,"users",t.id),{photoURL:jt}),i(Gt=>({...Gt,photoURL:jt})),alert("Ti nh i din thnh cng!")}catch(jt){console.error("Upload failed:",jt),alert("C li xy ra khi ti nh.")}finally{$r(!1),Wt.current&&(Wt.current.value="")}}};return f.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right pb-20",children:[f.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[f.jsx("button",{onClick:e,className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-full hover:bg-gray-200",children:f.jsx(H0,{})}),f.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx($E,{})," Ti khon ca ti"]})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 mb-8 border border-gray-100 dark:border-slate-700",children:[f.jsx("h2",{className:"text-lg font-bold mb-4 text-blue-600 border-b pb-2",children:"Thng tin c nhn"}),f.jsxs("div",{className:"flex flex-col items-center mb-6",children:[f.jsxs("div",{className:"relative group cursor-pointer",onClick:Ar,children:[f.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 dark:border-slate-600 shadow-lg relative",children:[f.jsx("img",{src:n.photoURL||wf(n.role),alt:"Avatar",className:"w-full h-full object-cover"}),Pr&&f.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:f.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),f.jsx("div",{className:"absolute bottom-1 right-1 bg-white dark:bg-slate-700 p-2 rounded-full shadow-md text-gray-600 dark:text-gray-200 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:f.jsx(tAe,{size:16})}),f.jsx("input",{type:"file",ref:Wt,className:"hidden",accept:"image/*",onChange:An})]}),f.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chm  i nh i din"})]}),f.jsxs("form",{onSubmit:Ke,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"H v Tn"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.full_name||n.fullName||"",onChange:be=>i({...n,full_name:be.target.value,fullName:be.target.value}),required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Email (Khng i)"}),f.jsx("input",{className:"w-full p-2 border rounded bg-gray-50 dark:bg-slate-900 text-gray-500",value:n.email||"",readOnly:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ngy sinh"}),f.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:n.birthDate||"",onChange:be=>i({...n,birthDate:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"S in thoi"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.phoneNumber||"",onChange:be=>i({...n,phoneNumber:be.target.value})})]})]}),f.jsxs("div",{className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"S CCCD"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccd||"",onChange:be=>i({...n,cccd:be.target.value})})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ngy cp"}),f.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccdDate||"",onChange:be=>i({...n,cccdDate:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ni cp"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccdPlace||"",onChange:be=>i({...n,cccdPlace:be.target.value})})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"a ch / Qu qun"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.address||"",onChange:be=>i({...n,address:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Lp hc (t in)"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.class||"",onChange:be=>i({...n,class:be.target.value}),placeholder:"VD: Th my K2"})]})]}),f.jsxs("div",{className:"md:col-span-2 flex justify-end mt-4 gap-3",children:[f.jsxs("button",{type:"button",onClick:()=>r("login_history"),className:"flex items-center gap-2 bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 transition shadow-md",children:[f.jsx(nf,{})," Lch s ng nhp"]}),f.jsxs("button",{type:"button",onClick:()=>H(!0),className:"flex items-center gap-2 bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition shadow-md",children:[f.jsx(hz,{})," i mt khu"]}),f.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition shadow-md disabled:opacity-50",children:[f.jsx(pj,{})," ",s?"ang lu...":"Cp nht thng tin"]})]})]})]}),o&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-slate-700 animate-fade-in-up",children:[f.jsxs("h2",{className:"text-lg font-bold mb-4 text-orange-600 border-b pb-2 flex items-center justify-between",children:[f.jsx("span",{children:"Qun l ngi dng"}),f.jsx("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 rounded-full px-2 py-1",children:"Admin/Lnh o/QL/GV"})]}),f.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[f.jsxs("div",{className:"relative flex-1",children:[f.jsx(uI,{className:"absolute left-3 top-3 text-gray-400"}),f.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-full dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tm hc vin, gio vin...",value:g,onChange:be=>v(be.target.value)})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",value:w,onChange:be=>_(be.target.value),children:[f.jsx("option",{value:"all",children:"Tt c trng thi"}),f.jsx("option",{value:"verified",children:" xc thc (Vo lp)"}),f.jsx("option",{value:"unverified",children:"Cha xc thc"})]}),f.jsx(_3,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer max-w-[200px]",value:k,onChange:be=>A(be.target.value),children:[f.jsx("option",{value:"all",children:"Tt c lp hc"}),f.jsx("option",{value:"no_class",children:"Cha vo lp"}),Array.from(new Set(l.map(be=>be.courseName).filter(Boolean))).sort().map(be=>f.jsx("option",{value:be,children:be},be))]}),f.jsx(_3,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]}),f.jsxs("div",{className:"relative",children:[f.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",value:x,onChange:be=>b(be.target.value),children:[f.jsx("option",{value:"all",children:"Tt c vai tr"}),f.jsx("option",{value:"hoc_vien",children:"Hc vin"}),f.jsx("option",{value:"staff",children:"Nhn s (GV/QL/Admin)"})]}),f.jsx(_3,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]})]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[f.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900 text-sm uppercase text-gray-500 font-bold",children:f.jsxs("tr",{children:[f.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>tt("fullName"),children:["H v Tn ",me("fullName")]}),f.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>tt("class"),children:["Lp hc ",me("class")]}),f.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>tt("email"),children:["Lin h ",me("email")]}),f.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>tt("role"),children:["Vai tr ",me("role")]}),f.jsx("th",{className:"p-3 border-b dark:border-slate-700 text-center",children:"Thao tc"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:d?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"p-4 text-center",children:"ang ti..."})}):G.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"p-4 text-center italic text-gray-500",children:"Khng tm thy ngi dng."})}):G.map(be=>f.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition",children:[f.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white cursor-pointer group",onClick:()=>{M(be),O(!0)},children:f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("img",{src:be.photoURL,alt:be.fullName,className:"w-9 h-9 rounded-full object-cover border border-gray-200 dark:border-gray-600 shadow-sm",onError:Qe=>{Qe.currentTarget.src="https://ui-avatars.com/api/?name="+be.fullName}}),f.jsx("div",{className:"flex flex-col",children:f.jsx("div",{className:"flex items-center gap-1",children:be.role==="hoc_vien"&&(be.isVerified||be.courseId)?f.jsxs("span",{className:"flex items-center gap-1 text-blue-600 font-semibold group-hover:underline",children:[be.fullName," ",f.jsx(wu,{className:"text-blue-500 text-xs"})]}):be.role==="giao_vien"?f.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-400 group-hover:underline",children:be.fullName}):be.role==="quan_ly"||be.role==="lanh_dao"?f.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 group-hover:underline",children:be.fullName}):be.role==="admin"?f.jsx("span",{className:"font-bold text-purple-600 dark:text-purple-400 group-hover:underline",children:be.fullName}):f.jsx("span",{className:"group-hover:underline",children:be.fullName})})}),f.jsx(jte,{className:"opacity-0 group-hover:opacity-100 text-gray-400 text-xs ml-auto"})]})}),f.jsx("td",{className:"p-3 text-sm",children:be.courseName||be.courseId?f.jsxs("span",{className:"cursor-pointer text-blue-600 hover:underline hover:text-blue-800 flex items-center gap-1",onClick:Qe=>{Qe.stopPropagation(),r("class_management")},title:"i ti qun l lp",children:[be.courseName||be.courseId," ",f.jsx(Kke,{className:"text-xs"})]}):f.jsx("span",{className:"text-gray-400",children:"--"})}),f.jsxs("td",{className:"p-3 text-sm",children:[f.jsx("div",{children:be.email}),f.jsx("div",{className:"text-xs text-gray-500",children:be.phoneNumber})]}),f.jsx("td",{className:"p-3",children:f.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${be.role==="hoc_vien"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:_t(be.role)})}),f.jsxs("td",{className:"p-3 flex justify-center gap-2",children:[f.jsx("button",{onClick:()=>{P(be),S(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Sa thng tin",children:f.jsx(sd,{})}),t.role==="admin"&&f.jsxs(f.Fragment,{children:[f.jsx("button",{onClick:()=>ht(be.id,be.fullName),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"i mt khu",children:f.jsx(yg,{})}),f.jsx("button",{onClick:()=>Ie(be.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Xa ti khon",children:f.jsx(fc,{})})]})]})]},be.id))})]})}),Ve>1&&f.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-100 dark:border-slate-700 gap-4",children:[f.jsxs("div",{className:"text-sm text-gray-500",children:["Hin th trang ",f.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-200",children:le})," / ",f.jsx("span",{className:"font-semibold",children:Ve}),f.jsx("span",{className:"mx-2",children:"|"}),"Tng ",f.jsx("span",{className:"font-bold text-blue-600",children:ye.length})," kt qu"]}),f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsxs("select",{className:"border border-gray-300 dark:border-slate-600 rounded-md text-sm p-1.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-200",value:F,onChange:be=>{U(Number(be.target.value)),de(1)},children:[f.jsx("option",{value:5,children:"5 / trang"}),f.jsx("option",{value:10,children:"10 / trang"}),f.jsx("option",{value:20,children:"20 / trang"}),f.jsx("option",{value:50,children:"50 / trang"})]}),f.jsxs("div",{className:"flex gap-1",children:[f.jsx("button",{onClick:()=>de(1),disabled:le===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"u"}),f.jsx("button",{onClick:()=>de(be=>Math.max(1,be-1)),disabled:le===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Trc"}),f.jsx("button",{onClick:()=>de(be=>Math.min(Ve,be+1)),disabled:le===Ve,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Sau"}),f.jsx("button",{onClick:()=>de(Ve),disabled:le===Ve,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Cui"})]})]})]})]}),j&&R&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>S(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",onClick:be=>be.stopPropagation(),children:[f.jsxs("h2",{className:"text-lg font-bold mb-4",children:["Sa ti khon: ",R.fullName]}),f.jsxs("form",{onSubmit:et,className:"space-y-4",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"H tn"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.fullName,onChange:be=>P({...R,fullName:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"ST"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.phoneNumber||"",onChange:be=>P({...R,phoneNumber:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ngy sinh"}),f.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:R.birthDate||"",onChange:be=>P({...R,birthDate:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Lp hc (t in)"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.class||"",onChange:be=>P({...R,class:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"CCCD"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.cccd||"",onChange:be=>P({...R,cccd:be.target.value})})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"a ch"}),f.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.address||"",onChange:be=>P({...R,address:be.target.value})})]}),f.jsxs("div",{className:"col-span-2",children:[f.jsx("label",{className:"block text-sm font-bold mb-1",children:"Vai tr"}),f.jsx("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:R.role,onChange:be=>P({...R,role:be.target.value}),children:R5.map(be=>f.jsx("option",{value:be.id,children:be.name},be.id))})]})]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lu"})]})]})]})}),I&&D&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>O(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-0 relative overflow-hidden animate-bounce-in",onClick:be=>be.stopPropagation(),children:[f.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-cyan-500 relative",children:[f.jsx("button",{onClick:()=>O(!1),className:"absolute top-4 right-4 bg-black/20 text-white p-2 rounded-full hover:bg-black/40",children:f.jsx(lu,{})}),f.jsx("div",{className:"absolute -bottom-10 left-6",children:f.jsx("img",{src:D.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(D.fullName)}`,className:"w-24 h-24 rounded-full border-4 border-white dark:border-slate-800 shadow-md bg-white"})})]}),f.jsxs("div",{className:"pt-12 px-6 pb-6",children:[f.jsxs("div",{className:"flex justify-between items-start mb-4",children:[f.jsxs("div",{children:[f.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[D.fullName,D.isVerified&&f.jsx(wu,{className:"text-blue-500 text-lg"})]}),f.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:((pi=R5.find(be=>be.id===D.role))==null?void 0:pi.name)||D.role})]}),f.jsxs("button",{onClick:()=>{P(D),O(!1),S(!0)},className:"flex items-center gap-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-4 py-2 rounded-full font-bold hover:bg-blue-200 dark:hover:bg-blue-900/50 transition",children:[f.jsx(sd,{})," Sa"]})]}),f.jsxs("div",{className:"space-y-3",children:[f.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Lp hc"}),f.jsx("p",{className:"font-semibold",children:D.courseName||D.class||"Cha c"})]}),f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Ngy sinh"}),f.jsx("p",{className:"font-semibold",children:D.birthDate||"--/--/----"})]}),f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"S in thoi"}),f.jsx("p",{className:"font-semibold",children:D.phoneNumber||"---"})]}),f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Email"}),f.jsx("p",{className:"font-semibold text-sm truncate",title:D.email,children:D.email})]})]}),f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"a ch"}),f.jsx("p",{className:"font-semibold text-sm",children:D.address||D.cccdPlace||"---"})]}),D.cccd&&f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between",children:[f.jsxs("div",{children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"CCCD"}),f.jsx("p",{className:"font-semibold text-sm",children:D.cccd})]}),D.cccdDate&&f.jsxs("div",{className:"text-right",children:[f.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Ngy cp"}),f.jsx("p",{className:"font-semibold text-sm",children:D.cccdDate})]})]}),f.jsxs("div",{className:"mt-6 border-t pt-4",children:[f.jsxs("h3",{className:"text-sm font-bold text-gray-800 dark:text-white mb-3 flex items-center gap-2",children:[f.jsx(nf,{className:"text-blue-500"})," Phin ng nhp hot ng"]}),f.jsx(Utt,{userId:D.id})]})]})]})]})}),ve&&f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>H(!1),children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",onClick:be=>be.stopPropagation(),children:[f.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-gray-800 dark:text-white",children:[f.jsx(hz,{className:"text-blue-600"})," i mt khu"]}),f.jsxs("form",{onSubmit:Rr,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Mt khu c"}),f.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:B,onChange:be=>q(be.target.value),required:!0,placeholder:"Nhp mt khu hin ti"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Mt khu mi"}),f.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:W,onChange:be=>Y(be.target.value),required:!0,placeholder:"t nht 6 k t",minLength:6})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Xc nhn mt khu mi"}),f.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:ue,onChange:be=>pe(be.target.value),required:!0,placeholder:"Nhp li mt khu mi"})]}),f.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[f.jsx("button",{type:"button",onClick:()=>H(!1),className:"px-4 py-2 bg-gray-200 dark:bg-slate-700 dark:text-white rounded hover:bg-gray-300 dark:hover:bg-slate-600 transition",children:"Hy"}),f.jsx("button",{type:"submit",disabled:ce,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:ce?"ang x l...":"i mt khu"})]})]})]})})]})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $tt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Htt=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),YK=t=>{const e=Htt(t);return e.charAt(0).toUpperCase()+e.slice(1)},sue=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),qtt=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Wtt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gtt=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...Wtt,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:sue("lucide",i),...!s&&!qtt(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>C.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ur=(t,e)=>{const r=C.forwardRef(({className:n,...i},s)=>C.createElement(Gtt,{ref:s,iconNode:e,className:sue(`lucide-${$tt(YK(t))}`,`lucide-${t}`,n),...i}));return r.displayName=YK(t),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ktt=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ytt=Ur("book-open",Ktt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xtt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Qtt=Ur("check",Xtt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jtt=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Ztt=Ur("chevron-left",Jtt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ert=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],trt=Ur("circle-alert",ert);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rrt=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],nrt=Ur("circle-check-big",rrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const irt=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],srt=Ur("clock",irt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const art=[["path",{d:"m16 18 6-6-6-6",key:"eg8j8"}],["path",{d:"m8 6-6 6 6 6",key:"ppft3o"}]],ort=Ur("code",art);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lrt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],crt=Ur("download",lrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const urt=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],XK=Ur("graduation-cap",urt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const drt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],hrt=Ur("history",drt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const frt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],mrt=Ur("image",frt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const prt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],grt=Ur("info",prt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vrt=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],yrt=Ur("log-out",vrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xrt=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],brt=Ur("mail",xrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wrt=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],_rt=Ur("monitor",wrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ert=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],QK=Ur("newspaper",Ert);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Trt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M9 21V9",key:"1oto5p"}]],Srt=Ur("panels-top-left",Trt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const krt=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Art=Ur("phone",krt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Crt=[["path",{d:"M4.5 16.5c-1.5 1.26-2 5-2 5s3.74-.5 5-2c.71-.84.7-2.13-.09-2.91a2.18 2.18 0 0 0-2.91-.09z",key:"m3kijz"}],["path",{d:"m12 15-3-3a22 22 0 0 1 2-3.95A12.88 12.88 0 0 1 22 2c0 2.72-.78 7.5-6 11a22.35 22.35 0 0 1-4 2z",key:"1fmvmk"}],["path",{d:"M9 12H4s.55-3.03 2-4c1.62-1.08 5 0 5 0",key:"1f8sc4"}],["path",{d:"M12 15v5s3.03-.55 4-2c1.08-1.62 0-5 0-5",key:"qeys4"}]],aue=Ur("rocket",Crt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nrt=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],Irt=Ur("school",Nrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ort=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Rrt=Ur("search",Ort);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Prt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],JK=Ur("send",Prt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jrt=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],Drt=Ur("settings",jrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mrt=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Lrt=Ur("shield",Mrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Frt=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Brt=Ur("smartphone",Frt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vrt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],Urt=Ur("smile",Vrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zrt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],ZK=Ur("trash-2",zrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $rt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Hrt=Ur("triangle-alert",$rt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qrt=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Wrt=Ur("user-cog",qrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Grt=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],eY=Ur("video",Grt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Krt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],Yrt=Ur("x",Krt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xrt=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Qrt=Ur("zap",Xrt),W_=[{version:"3.8.8",date:"25/12/2025",isLatest:!0,sections:[{icon:Lrt,title:"Bo mt & Qun l phin ng nhp",color:"text-red-500",bgColor:"bg-red-100 dark:bg-red-900/30",items:["T ng gi thng bo khi ti khon ng nhp t thit b mi","Hin a ch (thnh ph, quc gia) thay v ch IP trong thng bo","Admin c th xem v ng xut phin ng nhp ca hc vin t xa","Thm trang xem lch s ng nhp v thit b ang hot ng"]},{icon:Brt,title:"Ci thin trang Ti App",color:"text-blue-500",bgColor:"bg-blue-100 dark:bg-blue-900/30",items:["Hin th y  3 phin bn: Windows, Android, iOS","T ng ly link Windows t GitHub Releases API","Khc phc li 404 khi tn file c du ting Vit"]}]},{version:"3.8.7",date:"22/12/2025",sections:[{icon:_rt,title:"Tnh nng mi (Windows App)",color:"text-purple-500",bgColor:"bg-purple-100 dark:bg-purple-900/30",items:['Thm ty chn "T khi ng cng Windows" trong trang Ti khon',"ng b ha phin bn gia bn Web v bn Windows"]}]},{version:"3.8.0",date:"20/12/2025",sections:[{icon:Qrt,title:"Tnh nng Mi & ng b",color:"text-yellow-500",bgColor:"bg-yellow-100 dark:bg-yellow-900/30",items:["Hc vin ng nhp 1 ln ti Trang ch s t ng ng nhp vo App n tp","S phin bn trn giao din t ng cp nht theo thi gian thc"]},{icon:Srt,title:"Ci thin Giao din (UI/UX)",color:"text-green-500",bgColor:"bg-green-100 dark:bg-green-900/30",items:["Thm tin t A, B, C, D cho cc p n d quan st","Sa li khng thot c bi thi",'Ti u Banner nhc nh "Lm tip bi c"']}]},{version:"3.7.0",date:"16/12/2025",sections:[{icon:aue,title:"H thng Thi Trc Tuyn",color:"text-orange-500",bgColor:"bg-orange-100 dark:bg-orange-900/30",items:["Tch hp hon ton module Thi Trc Tuyn vo h thng","Thm trang ch thi vi giao din mi","H tr hc vin ng nhp v tham gia phng thi bng m phng"]},{icon:ort,title:"K thut",color:"text-gray-500",bgColor:"bg-gray-100 dark:bg-gray-900/30",items:["Cu hnh script build  h tr deploy ng thi Next.js v React app","Dn dp code qun l thi c  trnh xung t"]}]}],Jrt=()=>{var t;return((t=W_[0])==null?void 0:t.version)||"3.0.0"},Zrt=({onClose:t})=>{var e;return f.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:f.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-2xl max-h-[85vh] rounded-2xl shadow-2xl flex flex-col overflow-hidden",children:[f.jsxs("div",{className:"flex items-center justify-between p-5 border-b border-gray-200 dark:border-gray-700 bg-gradient-to-r from-blue-50 to-purple-50 dark:from-slate-900/50 dark:to-slate-800/50",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("div",{className:"p-2.5 bg-blue-600 rounded-xl text-white",children:f.jsx(aue,{size:22})}),f.jsxs("div",{children:[f.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Lch s cp nht"}),f.jsxs("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:["Phin bn mi nht: v",(e=W_[0])==null?void 0:e.version]})]})]}),f.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 dark:hover:bg-slate-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:f.jsx(Yrt,{size:20})})]}),f.jsx("div",{className:"flex-1 overflow-y-auto p-5 space-y-6",children:W_.map((r,n)=>f.jsxs("div",{className:"relative",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[f.jsxs("div",{className:`px-3 py-1.5 rounded-full font-bold text-sm ${r.isLatest?"bg-gradient-to-r from-blue-600 to-purple-600 text-white":"bg-gray-200 dark:bg-slate-700 text-gray-700 dark:text-gray-300"}`,children:["v",r.version]}),f.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:r.date}),r.isLatest&&f.jsx("span",{className:"px-2 py-0.5 bg-green-100 dark:bg-green-900/30 text-green-700 dark:text-green-400 text-xs font-bold rounded-full",children:"MI NHT"})]}),f.jsx("div",{className:"space-y-4 pl-2",children:r.sections.map((i,s)=>{const a=i.icon;return f.jsxs("div",{className:"rounded-xl border border-gray-100 dark:border-slate-700 overflow-hidden",children:[f.jsxs("div",{className:`flex items-center gap-2 px-4 py-2.5 ${i.bgColor}`,children:[f.jsx(a,{size:18,className:i.color}),f.jsx("span",{className:`font-semibold text-sm ${i.color}`,children:i.title})]}),f.jsx("ul",{className:"p-4 space-y-2 bg-white dark:bg-slate-800/50",children:i.items.map((o,l)=>f.jsxs("li",{className:"flex items-start gap-2 text-sm text-gray-700 dark:text-gray-300",children:[f.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-gray-400 dark:bg-gray-500 mt-2 flex-shrink-0"}),f.jsx("span",{children:o})]},l))})]},s)})}),n<W_.length-1&&f.jsx("div",{className:"border-t border-dashed border-gray-200 dark:border-slate-700 mt-6"})]},n))}),f.jsxs("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900/50 flex justify-between items-center",children:[f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Cp nht lin tc  phc v bn tt hn "}),f.jsx("button",{onClick:t,className:"px-5 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"ng"})]})]})})},oue=C.createContext({user:null,loading:!0}),wk=()=>C.useContext(oue),ent=({children:t})=>{const[e,r]=C.useState(null),[n,i]=C.useState(!0);return C.useEffect(()=>{const s=nee(vs,a=>{r(a),i(!1)});return()=>s()},[]),f.jsx(oue.Provider,{value:{user:e,loading:n},children:t})},tnt=()=>{const{user:t}=wk(),{userProfile:e}=In(v=>v),[r,n]=C.useState([]),[i,s]=C.useState(!1),[a,o]=C.useState(0),l=C.useRef(null);C.useEffect(()=>{const v=x=>{l.current&&!l.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),C.useEffect(()=>{t&&e&&Dke(t.uid,void 0,e.role).then(v=>{const x=v.map(b=>({id:b.id,title:b.title,body:b.message,link:void 0,timestamp:b.createdAt?new Date(b.createdAt.seconds*1e3):new Date,read:b.read||!1,type:b.type}));n(x),o(x.filter(b=>!b.read).length)})},[t,e]),C.useEffect(()=>{if(!t||!e)return;const v=cr(Vt(Ge,"notifications"),gr("targetType","==","all"),Wa("createdAt","desc"),Ll(10)),x=wo(v,_=>{_.docChanges().forEach(k=>{if(k.type==="added"){const A=k.doc.data();if(A.targetRoles&&Array.isArray(A.targetRoles)&&A.targetRoles.length>0&&(!e.role||!A.targetRoles.includes(e.role)))return;n(R=>{var S;if(R.some(I=>I.id===k.doc.id))return R;const P={id:k.doc.id,title:A.title,body:A.message,link:void 0,timestamp:A.createdAt?new Date(A.createdAt.seconds*1e3):new Date,read:((S=A.readBy)==null?void 0:S.includes(t.uid))||!1,type:A.type};return Date.now()-P.timestamp.getTime()<1e4&&!P.read&&Gr(P.title,{description:P.body,duration:5e3}),[P,...R].sort((I,O)=>O.timestamp.getTime()-I.timestamp.getTime())})}})}),b=cr(Vt(Ge,"users",t.uid,"notifications"),Wa("createdAt","desc"),Ll(10)),w=wo(b,_=>{_.docChanges().forEach(k=>{if(k.type==="added"){const A=k.doc.data();n(R=>{if(R.some(S=>S.id===k.doc.id))return R;const P={id:k.doc.id,title:A.title,body:A.message,link:void 0,timestamp:A.createdAt?new Date(A.createdAt.seconds*1e3):new Date,read:A.read||!1,type:A.type};return Date.now()-P.timestamp.getTime()<1e4&&!P.read&&Gr(P.title,{description:P.body,duration:5e3}),[P,...R].sort((S,I)=>I.timestamp.getTime()-S.timestamp.getTime())})}})});return()=>{x(),w()}},[t,e]),C.useEffect(()=>{o(r.filter(v=>!v.read).length)},[r]);const u=()=>{s(!i)},d=async()=>{if(!t||a===0)return;n(x=>x.map(b=>({...b,read:!0}))),o(0);const v=r.filter(x=>!x.read).map(x=>x.id);for(const x of v)await Mke(x,t.uid)},m=async(v,x)=>{v.stopPropagation(),t&&(n(b=>b.filter(w=>w.id!==x)),await lz(x,t.uid))},g=async()=>{if(!t)return;const v=r.filter(x=>x.read&&x.type!=="special"&&x.type!=="attention").map(x=>x.id);if(v.length===0){Gr.info("Khng c thng bo  c no  xa.");return}n(x=>x.filter(b=>!b.read||b.type==="special"||b.type==="attention"));for(const x of v)await lz(x,t.uid);Gr.success(` xa ${v.length} thng bo  c.`)};return f.jsxs("div",{className:"relative",ref:l,children:[f.jsxs("button",{onClick:u,className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",title:"Thng bo",children:[f.jsx(Qke,{className:`text-xl ${a>0?"text-yellow-500 animate-swing":""}`}),a>0&&f.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-red-600 rounded-full",children:a})]}),i&&f.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-2xl overflow-hidden z-50 border border-gray-200 dark:border-gray-700 animate-fade-in-down",children:[f.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-900 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[f.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:"Thng bo"}),f.jsxs("div",{className:"flex gap-3 text-xs",children:[f.jsxs("span",{className:"text-blue-500 cursor-pointer hover:underline flex items-center gap-1",onClick:d,title:"nh du tt c l  c",children:[f.jsx(Ote,{}),"  c"]}),f.jsxs("span",{className:"text-red-500 cursor-pointer hover:underline flex items-center gap-1",onClick:g,title:"Xa cc thng bo  c",children:[f.jsx(fc,{})," Xa  c"]})]})]}),f.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?f.jsx("div",{className:"p-8 text-center text-gray-400",children:f.jsx("p",{children:"Khng c thng bo mi"})}):r.map(v=>f.jsxs("div",{className:`p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors group relative ${v.read?"":"bg-blue-50 dark:bg-blue-900/10"}`,children:[f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{className:"flex-1 pr-6",children:[f.jsxs("p",{className:`text-sm text-gray-800 dark:text-gray-100 mb-1 ${v.read?"font-medium":"font-bold"}`,children:[!v.read&&f.jsx(sAe,{className:"inline-block text-[8px] text-blue-500 mr-1 mb-0.5"}),v.title]}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:v.body})]}),v.type!=="special"&&v.type!=="attention"&&f.jsx("button",{onClick:x=>m(x,v.id),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"Xa thng bo",children:f.jsx(fc,{size:12})})]}),f.jsxs("div",{className:"flex justify-between items-center mt-2",children:[f.jsx("span",{className:"text-xs text-gray-400",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),v.link&&f.jsx("a",{href:v.link,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Xem chi tit"})]})]},v.id))})]})]})},rnt=({userProfile:t,onNavigate:e,onLogout:r})=>{const[n,i]=C.useState(!1);return f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-gray-800 z-40 px-4 shadow-sm flex items-center justify-between transition-colors duration-300",children:[f.jsxs("div",{className:"flex items-center gap-1 md:gap-4 overflow-x-auto no-scrollbar",children:[f.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(Ytt,{size:18,className:"text-blue-600 dark:text-blue-400"}),f.jsx("span",{className:"font-semibold text-sm md:text-base",children:"n tp"})]}),f.jsxs("button",{onClick:()=>{t&&["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role)?e("online_exam_management"):e("thi_truc_tuyen")},className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(QK,{size:18,className:"text-red-600 dark:text-red-400"}),f.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Thi trc tuyn"})]}),f.jsxs("button",{onClick:()=>e("download_app"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(crt,{size:18,className:"text-green-600 dark:text-green-400"}),f.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Ti App"})]}),f.jsxs("a",{href:"/",className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap decoration-0",children:[f.jsx(QK,{size:18,className:"text-teal-600 dark:text-teal-400"}),f.jsx("span",{className:"font-medium text-sm md:text-base",children:"Tin tc"})]}),f.jsxs("button",{onClick:()=>e("account"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(Wrt,{size:18,className:"text-orange-600 dark:text-orange-400"}),f.jsx("span",{className:"font-medium text-sm md:text-base",children:"Ti khon"})]}),f.jsxs("button",{onClick:()=>e("mailbox"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(brt,{size:18,className:"text-pink-600 dark:text-pink-400"}),f.jsx("span",{className:"font-medium text-sm md:text-base",children:"Hp th"})]}),t&&f.jsxs(f.Fragment,{children:[["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)?f.jsxs("button",{onClick:()=>e("class_management"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(Irt,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),f.jsx("span",{className:"font-medium text-sm md:text-base",children:"Qun l lp"})]}):f.jsxs("button",{onClick:()=>e("my_class"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(XK,{size:18,className:"text-green-600 dark:text-green-400"}),f.jsx("span",{className:"font-medium text-sm md:text-base",children:"Lp ca ti"})]}),["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)&&f.jsxs("button",{onClick:()=>e("notification_mgmt"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap border-l border-gray-200 dark:border-gray-700 ml-2 pl-4",children:[f.jsx(Hrt,{size:18,className:"text-red-500 animate-pulse-slow"}),f.jsx("span",{className:"font-bold text-sm md:text-base text-red-600 dark:text-red-400",children:"Qun l TB"})]}),t.role==="admin"&&f.jsxs("button",{onClick:()=>e("config"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap border-l border-gray-200 dark:border-gray-700 ml-2 pl-4",children:[f.jsx(Drt,{size:18,className:"text-purple-600 animate-spin-slow"}),f.jsx("span",{className:"font-bold text-sm md:text-base text-purple-600 dark:text-purple-400",children:"Cu hnh"})]}),f.jsxs("button",{onClick:()=>e("history"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[f.jsx(hrt,{size:18,className:"text-purple-600 dark:text-purple-400"}),f.jsx("span",{className:"font-medium text-sm md:text-base",children:"Lch s"})]})]})]}),f.jsx("div",{className:"flex items-center gap-3 md:gap-4 ml-4 flex-shrink-0",children:t?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"mr-2",children:f.jsx(tnt,{})}),f.jsx("div",{className:"hidden md:flex flex-col items-end mr-4",children:f.jsxs("button",{onClick:()=>i(!0),className:"text-xs font-medium text-gray-500 hover:text-blue-600 transition-colors",children:["v",Jrt()]})}),f.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[f.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Xin cho,"}),f.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-white max-w-[150px] truncate",children:t.isVerified||t.courseId?f.jsxs("span",{className:`flex items-center gap-1 font-bold ${t.role==="giao_vien"?"text-yellow-600 dark:text-yellow-400":t.role==="quan_ly"||t.role==="lanh_dao"?"text-red-600 dark:text-red-400":t.role==="admin"?"text-purple-600 dark:text-purple-400":"text-blue-600"}`,children:[t.full_name||t.fullName||"---",t.role==="hoc_vien"&&f.jsx(nrt,{size:14,className:"text-green-500"})]}):f.jsx("span",{className:`font-bold ${t.role==="giao_vien"?"text-yellow-600 dark:text-yellow-400":t.role==="quan_ly"||t.role==="lanh_dao"?"text-red-600 dark:text-red-400":t.role==="admin"?"text-purple-600 dark:text-purple-400":"text-gray-800 dark:text-white"}`,children:t.full_name||t.fullName||"---"})})]}),f.jsx("div",{className:"md:hidden text-gray-700 dark:text-gray-200",children:f.jsx(XK,{size:20})}),f.jsx("div",{className:"h-8 w-[1px] bg-gray-300 dark:bg-gray-700 mx-1"}),f.jsxs("button",{onClick:r,className:"group flex items-center gap-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-2 rounded-full transition-colors",title:"ng xut",children:[f.jsx(yrt,{size:18,className:"group-hover:translate-x-1 transition-transform"}),f.jsx("span",{className:"hidden md:inline font-medium text-sm",children:"Thot"})]})]}):f.jsx("button",{onClick:()=>e("login"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-colors shadow-md",children:"ng nhp"})})]}),n&&f.jsx(Zrt,{onClose:()=>i(!1)})]})},_k=0,$f=1,Qv=2,lue=4;function tY(t){return()=>t}function nnt(t){t()}function cue(t,e){return r=>t(e(r))}function rY(t,e){return()=>t(e)}function int(t,e){return r=>t(e,r)}function fM(t){return t!==void 0}function snt(...t){return()=>{t.map(nnt)}}function Jv(){}function Ek(t,e){return e(t),t}function ant(t,e){return e(t)}function Kn(...t){return t}function en(t,e){return t($f,e)}function sr(t,e){t(_k,e)}function mM(t){t(Qv)}function ei(t){return t(lue)}function St(t,e){return en(t,int(e,_k))}function Cc(t,e){const r=t($f,n=>{r(),e(n)});return r}function nY(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function uue(t,e){return t===e}function Hn(t=uue){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function Ft(t){return e=>r=>{t(r)&&e(r)}}function mt(t){return e=>cue(e,t)}function cu(t){return e=>()=>{e(t)}}function Xe(t,...e){const r=ont(...e);return(n,i)=>{switch(n){case Qv:mM(t);return;case $f:return en(t,r(i))}}}function fu(t,e){return r=>n=>{r(e=t(e,n))}}function Tm(t){return e=>r=>{t>0?t--:e(r)}}function md(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function ar(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((s,a)=>{const o=Math.pow(2,a);en(s,l=>{const u=r;r=r|o,e[a]=l,u!==i&&r===i&&n&&(n(),n=null)})}),s=>a=>{const o=()=>{s([a].concat(e))};r===i?o():n=o}}function ont(...t){return e=>t.reduceRight(ant,e)}function lnt(t){let e,r;const n=()=>e==null?void 0:e();return function(i,s){switch(i){case $f:return s?r===s?void 0:(n(),r=s,e=en(t,s),e):(n(),Jv);case Qv:n(),r=null;return}}}function rt(t){let e=t;const r=kr();return(n,i)=>{switch(n){case _k:e=i;break;case $f:{i(e);break}case lue:return e}return r(n,i)}}function Ia(t,e){return Ek(rt(e),r=>St(t,r))}function kr(){const t=[];return(e,r)=>{switch(e){case _k:t.slice().forEach(n=>{n(r)});return;case Qv:t.splice(0,t.length);return;case $f:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}}}function nl(t){return Ek(kr(),e=>St(t,e))}function zr(t,e=[],{singleton:r}={singleton:!0}){return{constructor:t,dependencies:e,id:cnt(),singleton:r}}const cnt=()=>Symbol();function unt(t){const e=new Map,r=({constructor:n,dependencies:i,id:s,singleton:a})=>{if(a&&e.has(s))return e.get(s);const o=n(i.map(l=>r(l)));return a&&e.set(s,o),o};return r(t)}function is(...t){const e=kr(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((s,a)=>{const o=Math.pow(2,a);en(s,l=>{r[a]=l,n=n|o,n===i&&sr(e,r)})}),function(s,a){switch(s){case Qv:{mM(e);return}case $f:return n===i&&a(r),en(e,a)}}}function Lt(t,e=uue){return Xe(t,Hn(e))}function FO(...t){return function(e,r){switch(e){case Qv:return;case $f:return snt(...t.map(n=>en(n,r)))}}}var Eo=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(Eo||{});const dnt={0:"debug",3:"error",1:"log",2:"warn"},hnt=()=>typeof globalThis>"u"?window:globalThis,Hf=zr(()=>{const t=rt(3);return{log:rt((e,r,n=1)=>{var i;const s=(i=hnt().VIRTUOSO_LOG_LEVEL)!=null?i:ei(t);n>=s&&console[dnt[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",e,r)}),logLevel:t}},[],{singleton:!0});function Wm(t,e,r){return pM(t,e,r).callbackRef}function pM(t,e,r){const n=Ne.useRef(null);let i=a=>{};const s=Ne.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(a=>{const o=()=>{const l=a[0].target;l.offsetParent!==null&&t(l)};r?o():requestAnimationFrame(o)}):null,[t,r]);return i=a=>{a&&e?(s==null||s.observe(a),n.current=a):(n.current&&(s==null||s.unobserve(n.current)),n.current=null)},{callbackRef:i,ref:n}}function fnt(t,e,r,n,i,s,a,o,l){const u=Ne.useCallback(d=>{const m=mnt(d.children,e,o?"offsetWidth":"offsetHeight",i);let g=d.parentElement;for(;!g.dataset.virtuosoScroller;)g=g.parentElement;const v=g.lastElementChild.dataset.viewportType==="window";let x;v&&(x=g.ownerDocument.defaultView);const b=a?o?a.scrollLeft:a.scrollTop:v?o?x.scrollX||x.document.documentElement.scrollLeft:x.scrollY||x.document.documentElement.scrollTop:o?g.scrollLeft:g.scrollTop,w=a?o?a.scrollWidth:a.scrollHeight:v?o?x.document.documentElement.scrollWidth:x.document.documentElement.scrollHeight:o?g.scrollWidth:g.scrollHeight,_=a?o?a.offsetWidth:a.offsetHeight:v?o?x.innerWidth:x.innerHeight:o?g.offsetWidth:g.offsetHeight;n({scrollHeight:w,scrollTop:Math.max(b,0),viewportHeight:_}),s==null||s(o?iY("column-gap",getComputedStyle(d).columnGap,i):iY("row-gap",getComputedStyle(d).rowGap,i)),m!==null&&t(m)},[t,e,i,s,a,n,o]);return pM(u,r,l)}function mnt(t,e,r,n){const i=t.length;if(i===0)return null;const s=[];for(let a=0;a<i;a++){const o=t.item(a);if(o.dataset.index===void 0)continue;const l=parseInt(o.dataset.index),u=parseFloat(o.dataset.knownSize),d=e(o,r);if(d===0&&n("Zero-sized element, this should not happen",{child:o},Eo.ERROR),d===u)continue;const m=s[s.length-1];s.length===0||m.size!==d||m.endIndex!==l-1?s.push({endIndex:l,size:d,startIndex:l}):s[s.length-1].endIndex++}return s}function iY(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,Eo.WARN),e==="normal"?0:parseInt(e??"0",10)}function due(t,e,r){const n=Ne.useRef(null),i=Ne.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const u=l.getBoundingClientRect(),d=u.width;let m,g;if(e){const v=e.getBoundingClientRect(),x=u.top-v.top;g=v.height-Math.max(0,x),m=x+e.scrollTop}else{const v=a.current.ownerDocument.defaultView;g=v.innerHeight-Math.max(0,u.top),m=u.top+v.scrollY}n.current={offsetTop:m,visibleHeight:g,visibleWidth:d},t(n.current)},[t,e]),{callbackRef:s,ref:a}=pM(i,!0,r),o=Ne.useCallback(()=>{i(a.current)},[i,a]);return Ne.useEffect(()=>{var l;if(e){e.addEventListener("scroll",o);const u=new ResizeObserver(()=>{requestAnimationFrame(o)});return u.observe(e),()=>{e.removeEventListener("scroll",o),u.unobserve(e)}}else{const u=(l=a.current)==null?void 0:l.ownerDocument.defaultView;return u==null||u.addEventListener("scroll",o),u==null||u.addEventListener("resize",o),()=>{u==null||u.removeEventListener("scroll",o),u==null||u.removeEventListener("resize",o)}}},[o,e,a]),s}const Ja=zr(()=>{const t=kr(),e=kr(),r=rt(0),n=kr(),i=rt(0),s=kr(),a=kr(),o=rt(0),l=rt(0),u=rt(0),d=rt(0),m=kr(),g=kr(),v=rt(!1),x=rt(!1),b=rt(!1);return St(Xe(t,mt(({scrollTop:w})=>w)),e),St(Xe(t,mt(({scrollHeight:w})=>w)),a),St(e,i),{deviation:r,fixedFooterHeight:u,fixedHeaderHeight:l,footerHeight:d,headerHeight:o,horizontalDirection:x,scrollBy:g,scrollContainerState:t,scrollHeight:a,scrollingInProgress:v,scrollTo:m,scrollTop:e,skipAnimationFrameInResizeObserver:b,smoothScrollTargetReached:n,statefulScrollTop:i,viewportHeight:s}},[],{singleton:!0}),Wx={lvl:0};function hue(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const s=[];for(let a=1;a<r;a++){const{index:o,value:l}=e(t[a]);s.push({end:o-1,start:n,value:i}),n=o,i=l}return s.push({end:1/0,start:n,value:i}),s}function kn(t){return t===Wx}function Gx(t,e){if(!kn(t))return e===t.k?t.v:e<t.k?Gx(t.l,e):Gx(t.r,e)}function Dc(t,e,r="k"){if(kn(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=Dc(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return Dc(t.l,e,r)}function Jo(t,e,r){return kn(t)?pue(e,r,1):e===t.k?gs(t,{k:e,v:r}):e<t.k?sY(gs(t,{l:Jo(t.l,e,r)})):sY(gs(t,{r:Jo(t.r,e,r)}))}function Cg(){return Wx}function Ng(t,e,r){if(kn(t))return[];const n=Dc(t,e)[0];return pnt(VO(t,n,r))}function BO(t,e){if(kn(t))return Wx;const{k:r,l:n,r:i}=t;if(e===r){if(kn(n))return i;if(kn(i))return n;{const[s,a]=mue(n);return G_(gs(t,{k:s,l:fue(n),v:a}))}}else return e<r?G_(gs(t,{l:BO(n,e)})):G_(gs(t,{r:BO(i,e)}))}function V0(t){return kn(t)?[]:[...V0(t.l),{k:t.k,v:t.v},...V0(t.r)]}function VO(t,e,r){if(kn(t))return[];const{k:n,l:i,r:s,v:a}=t;let o=[];return n>e&&(o=o.concat(VO(i,e,r))),n>=e&&n<=r&&o.push({k:n,v:a}),n<=r&&(o=o.concat(VO(s,e,r))),o}function G_(t){const{l:e,lvl:r,r:n}=t;if(n.lvl>=r-1&&e.lvl>=r-1)return t;if(r>n.lvl+1){if(P5(e))return gue(gs(t,{lvl:r-1}));if(!kn(e)&&!kn(e.r))return gs(e.r,{l:gs(e,{r:e.r.l}),lvl:r,r:gs(t,{l:e.r.r,lvl:r-1})});throw new Error("Unexpected empty nodes")}else{if(P5(t))return UO(gs(t,{lvl:r-1}));if(!kn(n)&&!kn(n.l)){const i=n.l,s=P5(i)?n.lvl-1:n.lvl;return gs(i,{l:gs(t,{lvl:r-1,r:i.l}),lvl:i.lvl+1,r:UO(gs(n,{l:i.r,lvl:s}))})}else throw new Error("Unexpected empty nodes")}}function gs(t,e){return pue(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function fue(t){return kn(t.r)?t.l:G_(gs(t,{r:fue(t.r)}))}function P5(t){return kn(t)||t.lvl>t.r.lvl}function mue(t){return kn(t.r)?[t.k,t.v]:mue(t.r)}function pue(t,e,r,n=Wx,i=Wx){return{k:t,l:n,lvl:r,r:i,v:e}}function sY(t){return UO(gue(t))}function gue(t){const{l:e}=t;return!kn(e)&&e.lvl===t.lvl?gs(e,{r:gs(t,{l:e.r})}):t}function UO(t){const{lvl:e,r}=t;return!kn(r)&&!kn(r.r)&&r.lvl===e&&r.r.lvl===e?gs(r,{l:gs(t,{r:r.l}),lvl:e+1}):t}function pnt(t){return hue(t,({k:e,v:r})=>({index:e,value:r}))}function vue(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}function Kx(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}const gM=zr(()=>({recalcInProgress:rt(!1)}),[],{singleton:!0});function yue(t,e,r){return t[iS(t,e,r)]}function iS(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const s=Math.floor((n+i)/2),a=t[s],o=r(a,e);if(o===0)return s;if(o===-1){if(i-n<2)return s-1;i=s-1}else{if(i===n)return s;n=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function gnt(t,e,r,n){const i=iS(t,e,n),s=iS(t,r,n,i);return t.slice(i,s+1)}function Cf(t,e){return Math.round(t.getBoundingClientRect()[e])}function Tk(t){return!kn(t.groupOffsetTree)}function vM({index:t},e){return e===t?0:e<t?-1:1}function vnt(){return{groupIndices:[],groupOffsetTree:Cg(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:Cg()}}function ynt(t,e){let r=kn(t)?0:1/0;for(const n of e){const{endIndex:i,size:s,startIndex:a}=n;if(r=Math.min(r,a),kn(t)){t=Jo(t,0,s);continue}const o=Ng(t,a-1,i+1);if(o.some(Snt(n)))continue;let l=!1,u=!1;for(const{end:d,start:m,value:g}of o)l?(i>=m||s===g)&&(t=BO(t,m)):(u=g!==s,l=!0),d>i&&i>=m&&g!==s&&(t=Jo(t,i+1,g));u&&(t=Jo(t,a,s))}return[t,r]}function xnt(t){return typeof t.groupIndex<"u"}function bnt({offset:t},e){return e===t?0:e<t?-1:1}function Yx(t,e,r){if(e.length===0)return 0;const{index:n,offset:i,size:s}=yue(e,t,vM),a=t-n,o=s*a+(a-1)*r+i;return o>0?o+r:o}function xue(t,e){if(!Tk(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function bue(t,e,r){if(xnt(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=xue(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function wnt(t,e,r,n=0){return n>0&&(e=Math.max(e,yue(t,n,vM).offset)),hue(gnt(t,e,r,bnt),Tnt)}function _nt(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,Eo.DEBUG);const s=t.sizeTree;let a=s,o=0;if(r.length>0&&kn(s)&&e.length===2){const g=e[0].size,v=e[1].size;a=r.reduce((x,b)=>Jo(Jo(x,b,g),b+1,v),a)}else[a,o]=ynt(a,e);if(a===s)return t;const{lastIndex:l,lastOffset:u,lastSize:d,offsetTree:m}=zO(t.offsetTree,o,a,i);return{groupIndices:r,groupOffsetTree:r.reduce((g,v)=>Jo(g,v,Yx(v,m,i)),Cg()),lastIndex:l,lastOffset:u,lastSize:d,offsetTree:m,sizeTree:a}}function Ent(t){return V0(t).map(({k:e,v:r},n,i)=>{const s=i[n+1];return{endIndex:s?s.k-1:1/0,size:r,startIndex:e}})}function aY(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function zO(t,e,r,n){let i=t,s=0,a=0,o=0,l=0;if(e!==0){l=iS(i,e-1,vM),o=i[l].offset;const u=Dc(r,e-1);s=u[0],a=u[1],i.length&&i[l].size===Dc(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:d}of Ng(r,e,1/0)){const m=u-s,g=m*a+o+m*n;i.push({index:u,offset:g,size:d}),s=u,o=g,a=d}return{lastIndex:s,lastOffset:o,lastSize:a,offsetTree:i}}function Tnt(t){return{index:t.index,value:t}}function Snt(t){const{endIndex:e,size:r,startIndex:n}=t;return i=>i.start===n&&(i.end===e||i.end===1/0)&&i.value===r}const knt={offsetHeight:"height",offsetWidth:"width"},Du=zr(([{log:t},{recalcInProgress:e}])=>{const r=kr(),n=kr(),i=Ia(n,0),s=kr(),a=kr(),o=rt(0),l=rt([]),u=rt(void 0),d=rt(void 0),m=rt(void 0),g=rt(void 0),v=rt((S,I)=>Cf(S,knt[I])),x=rt(void 0),b=rt(0),w=vnt(),_=Ia(Xe(r,ar(l,t,b),fu(_nt,w),Hn()),w),k=Ia(Xe(l,Hn(),fu((S,I)=>({current:I,prev:S.current}),{current:[],prev:[]}),mt(({prev:S})=>S)),[]);St(Xe(l,Ft(S=>S.length>0),ar(_,b),mt(([S,I,O])=>{const D=S.reduce((M,F,U)=>Jo(M,F,Yx(F,I.offsetTree,O)||U),Cg());return{...I,groupIndices:S,groupOffsetTree:D}})),_),St(Xe(n,ar(_),Ft(([S,{lastIndex:I}])=>S<I),mt(([S,{lastIndex:I,lastSize:O}])=>[{endIndex:I,size:O,startIndex:S}])),r),St(u,d);const A=Ia(Xe(u,mt(S=>S===void 0)),!0);St(Xe(d,Ft(S=>S!==void 0&&kn(ei(_).sizeTree)),mt(S=>{const I=ei(m),O=ei(l).length>0;return I?O?[{endIndex:0,size:I,startIndex:0},{endIndex:1,size:S,startIndex:1}]:[]:[{endIndex:0,size:S,startIndex:0}]})),r),St(Xe(g,Ft(S=>S!==void 0&&S.length>0&&kn(ei(_).sizeTree)),mt(S=>{const I=[];let O=S[0],D=0;for(let M=1;M<S.length;M++){const F=S[M];F!==O&&(I.push({endIndex:M-1,size:O,startIndex:D}),O=F,D=M)}return I.push({endIndex:S.length-1,size:O,startIndex:D}),I})),r),St(Xe(l,ar(m,d),Ft(([,S,I])=>S!==void 0&&I!==void 0),mt(([S,I,O])=>{const D=[];for(let M=0;M<S.length;M++){const F=S[M],U=S[M+1];D.push({startIndex:F,endIndex:F,size:I}),U!==void 0&&D.push({startIndex:F+1,endIndex:U-1,size:O})}return D})),r);const R=nl(Xe(r,ar(_),fu(({sizes:S},[I,O])=>({changed:O!==S,sizes:O}),{changed:!1,sizes:w}),mt(S=>S.changed)));en(Xe(o,fu((S,I)=>({diff:S.prev-I,prev:I}),{diff:0,prev:0}),mt(S=>S.diff)),S=>{const{groupIndices:I}=ei(_);if(S>0)sr(e,!0),sr(s,S+aY(S,I));else if(S<0){const O=ei(k);O.length>0&&(S-=aY(-S,O)),sr(a,S)}}),en(Xe(o,ar(t)),([S,I])=>{S<0&&I("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:o},Eo.ERROR)});const P=nl(s);St(Xe(s,ar(_),mt(([S,I])=>{const O=I.groupIndices.length>0,D=[],M=I.lastSize;if(O){const F=Gx(I.sizeTree,0);let U=0,le=0;for(;U<S;){const Z=I.groupIndices[le],J=I.groupIndices.length===le+1?1/0:I.groupIndices[le+1]-Z-1;D.push({endIndex:Z,size:F,startIndex:Z}),D.push({endIndex:Z+1+J-1,size:M,startIndex:Z+1}),le++,U+=J+1}const de=V0(I.sizeTree);return U!==S&&de.shift(),de.reduce((Z,{k:J,v:he})=>{let ee=Z.ranges;return Z.prevSize!==0&&(ee=[...Z.ranges,{endIndex:J+S-1,size:Z.prevSize,startIndex:Z.prevIndex}]),{prevIndex:J+S,prevSize:he,ranges:ee}},{prevIndex:S,prevSize:0,ranges:D}).ranges}return V0(I.sizeTree).reduce((F,{k:U,v:le})=>({prevIndex:U+S,prevSize:le,ranges:[...F.ranges,{endIndex:U+S-1,size:F.prevSize,startIndex:F.prevIndex}]}),{prevIndex:0,prevSize:M,ranges:[]}).ranges})),r);const j=nl(Xe(a,ar(_,b),mt(([S,{offsetTree:I},O])=>{const D=-S;return Yx(D,I,O)})));return St(Xe(a,ar(_,b),mt(([S,I,O])=>{if(I.groupIndices.length>0){if(kn(I.sizeTree))return I;let D=Cg();const M=ei(k);let F=0,U=0,le=0;for(;F<-S;){le=M[U];const de=M[U+1]-le-1;U++,F+=de+1}if(D=V0(I.sizeTree).reduce((de,{k:Z,v:J})=>Jo(de,Math.max(0,Z+S),J),D),F!==-S){const de=Gx(I.sizeTree,le);D=Jo(D,0,de);const Z=Dc(I.sizeTree,-S+1)[1];D=Jo(D,1,Z)}return{...I,sizeTree:D,...zO(I.offsetTree,0,D,O)}}else{const D=V0(I.sizeTree).reduce((M,{k:F,v:U})=>Jo(M,Math.max(0,F+S),U),Cg());return{...I,sizeTree:D,...zO(I.offsetTree,0,D,O)}}})),_),{beforeUnshiftWith:P,data:x,defaultItemSize:d,firstItemIndex:o,fixedItemSize:u,fixedGroupSize:m,gap:b,groupIndices:l,heightEstimates:g,itemSize:v,listRefresh:R,shiftWith:a,shiftWithOffset:j,sizeRanges:r,sizes:_,statefulTotalCount:i,totalCount:n,trackItemSizes:A,unshiftWith:s}},Kn(Hf,gM),{singleton:!0});function Ant(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{groupIndices:[],totalCount:0})}const wue=zr(([{groupIndices:t,sizes:e,totalCount:r},{headerHeight:n,scrollTop:i}])=>{const s=kr(),a=kr(),o=nl(Xe(s,mt(Ant)));return St(Xe(o,mt(l=>l.totalCount)),r),St(Xe(o,mt(l=>l.groupIndices)),t),St(Xe(is(i,e,n),Ft(([l,u])=>Tk(u)),mt(([l,u,d])=>Dc(u.groupOffsetTree,Math.max(l-d,0),"v")[0]),Hn(),mt(l=>[l])),a),{groupCounts:s,topItemsIndexes:a}},Kn(Du,Ja)),qf=zr(([{log:t}])=>{const e=rt(!1),r=nl(Xe(e,Ft(n=>n),Hn()));return en(e,n=>{n&&ei(t)("props updated",{},Eo.DEBUG)}),{didMount:r,propsReady:e}},Kn(Hf),{singleton:!0}),Cnt=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function _ue(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!Cnt)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const ew=zr(([{gap:t,listRefresh:e,sizes:r,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:s,footerHeight:a,headerHeight:o,scrollingInProgress:l,scrollTo:u,smoothScrollTargetReached:d,viewportHeight:m},{log:g}])=>{const v=kr(),x=kr(),b=rt(0);let w=null,_=null,k=null;function A(){w&&(w(),w=null),k&&(k(),k=null),_&&(clearTimeout(_),_=null),sr(l,!1)}return St(Xe(v,ar(r,m,n,b,o,a,g),ar(t,s,i),mt(([[R,P,j,S,I,O,D,M],F,U,le])=>{const de=_ue(R),{align:Z,behavior:J,offset:he}=de,ee=S-1,ve=bue(de,P,ee);let H=Yx(ve,P.offsetTree,F)+O;Z==="end"?(H+=U+Dc(P.sizeTree,ve)[1]-j+le,ve===ee&&(H+=D)):Z==="center"?H+=(U+Dc(P.sizeTree,ve)[1]-j+le)/2:H-=I,he&&(H+=he);const B=q=>{A(),q?(M("retrying to scroll to",{location:R},Eo.DEBUG),sr(v,R)):(sr(x,!0),M("list did not change, scroll successful",{},Eo.DEBUG))};if(A(),J==="smooth"){let q=!1;k=en(e,W=>{q=q||W}),w=Cc(d,()=>{B(q)})}else w=Cc(Xe(e,Nnt(150)),B);return _=setTimeout(()=>{A()},1200),sr(l,!0),M("scrolling from index to",{behavior:J,index:ve,top:H},Eo.DEBUG),{behavior:J,top:H}})),u),{scrollTargetReached:x,scrollToIndex:v,topListHeight:b}},Kn(Du,Ja,Hf),{singleton:!0});function Nnt(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}function yM(t,e){t==0?e():requestAnimationFrame(()=>{yM(t-1,e)})}function xM(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const tw=zr(([{defaultItemSize:t,listRefresh:e,sizes:r},{scrollTop:n},{scrollTargetReached:i,scrollToIndex:s},{didMount:a}])=>{const o=rt(!0),l=rt(0),u=rt(!0);return St(Xe(a,ar(l),Ft(([d,m])=>!!m),cu(!1)),o),St(Xe(a,ar(l),Ft(([d,m])=>!!m),cu(!1)),u),en(Xe(is(e,a),ar(o,r,t,u),Ft(([[,d],m,{sizeTree:g},v,x])=>d&&(!kn(g)||fM(v))&&!m&&!x),ar(l)),([,d])=>{Cc(i,()=>{sr(u,!0)}),yM(4,()=>{Cc(n,()=>{sr(o,!0)}),sr(s,d)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:l,scrolledToInitialItem:o}},Kn(Du,Ja,ew,qf),{singleton:!0});function Eue(t,e){return Math.abs(t-e)<1.01}const Xx="up",U1="down",Int="none",Ont={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Rnt=0,rw=zr(([{footerHeight:t,headerHeight:e,scrollBy:r,scrollContainerState:n,scrollTop:i,viewportHeight:s}])=>{const a=rt(!1),o=rt(!0),l=kr(),u=kr(),d=rt(4),m=rt(Rnt),g=Ia(Xe(FO(Xe(Lt(i),Tm(1),cu(!0)),Xe(Lt(i),Tm(1),cu(!1),nY(100))),Hn()),!1),v=Ia(Xe(FO(Xe(r,cu(!0)),Xe(r,cu(!1),nY(200))),Hn()),!1);St(Xe(is(Lt(i),Lt(m)),mt(([k,A])=>k<=A),Hn()),o),St(Xe(o,md(50)),u);const x=nl(Xe(is(n,Lt(s),Lt(e),Lt(t),Lt(d)),fu((k,[{scrollHeight:A,scrollTop:R},P,j,S,I])=>{const O=R+P-A>-I,D={scrollHeight:A,scrollTop:R,viewportHeight:P};if(O){let F,U;return R>k.state.scrollTop?(F="SCROLLED_DOWN",U=k.state.scrollTop-R):(F="SIZE_DECREASED",U=k.state.scrollTop-R||k.scrollTopDelta),{atBottom:!0,atBottomBecause:F,scrollTopDelta:U,state:D}}let M;return D.scrollHeight>k.state.scrollHeight?M="SIZE_INCREASED":P<k.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":R<k.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:D}},Ont),Hn((k,A)=>k&&k.atBottom===A.atBottom))),b=Ia(Xe(n,fu((k,{scrollHeight:A,scrollTop:R,viewportHeight:P})=>{if(Eue(k.scrollHeight,A))return{changed:!1,jump:0,scrollHeight:A,scrollTop:R};{const j=A-(R+P)<1;return k.scrollTop!==R&&j?{changed:!0,jump:k.scrollTop-R,scrollHeight:A,scrollTop:R}:{changed:!0,jump:0,scrollHeight:A,scrollTop:R}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Ft(k=>k.changed),mt(k=>k.jump)),0);St(Xe(x,mt(k=>k.atBottom)),a),St(Xe(a,md(50)),l);const w=rt(U1);St(Xe(n,mt(({scrollTop:k})=>k),Hn(),fu((k,A)=>ei(v)?{direction:k.direction,prevScrollTop:A}:{direction:A<k.prevScrollTop?Xx:U1,prevScrollTop:A},{direction:U1,prevScrollTop:0}),mt(k=>k.direction)),w),St(Xe(n,md(50),cu(Int)),w);const _=rt(0);return St(Xe(g,Ft(k=>!k),cu(0)),_),St(Xe(i,md(100),ar(g),Ft(([k,A])=>!!A),fu(([k,A],[R])=>[A,R],[0,0]),mt(([k,A])=>A-k)),_),{atBottomState:x,atBottomStateChange:l,atBottomThreshold:d,atTopStateChange:u,atTopThreshold:m,isAtBottom:a,isAtTop:o,isScrolling:g,lastJumpDueToItemResize:b,scrollDirection:w,scrollVelocity:_}},Kn(Ja)),Qx="top",Jx="bottom",oY="none";function lY(t,e,r){return typeof t=="number"?r===Xx&&e===Qx||r===U1&&e===Jx?t:0:r===Xx?e===Qx?t.main:t.reverse:e===Jx?t.main:t.reverse}function cY(t,e){var r;return typeof t=="number"?t:(r=t[e])!=null?r:0}const bM=zr(([{deviation:t,fixedHeaderHeight:e,headerHeight:r,scrollTop:n,viewportHeight:i}])=>{const s=kr(),a=rt(0),o=rt(0),l=rt(0),u=Ia(Xe(is(Lt(n),Lt(i),Lt(r),Lt(s,Kx),Lt(l),Lt(a),Lt(e),Lt(t),Lt(o)),mt(([d,m,g,[v,x],b,w,_,k,A])=>{const R=d-k,P=w+_,j=Math.max(g-R,0);let S=oY;const I=cY(A,Qx),O=cY(A,Jx);return v-=k,v+=g+_,x+=g+_,x-=k,v>d+P-I&&(S=Xx),x<d-j+m+O&&(S=U1),S!==oY?[Math.max(R-g-lY(b,Qx,S)-I,0),R-j-_+m+lY(b,Jx,S)+O]:null}),Ft(d=>d!=null),Hn(Kx)),[0,0]);return{increaseViewportBy:o,listBoundary:s,overscan:l,topListHeight:a,visibleRange:u}},Kn(Ja),{singleton:!0});function Pnt(t,e,r){if(Tk(e)){const n=xue(t,e);return[{index:Dc(e.groupOffsetTree,n)[0],offset:0,size:0},{data:r==null?void 0:r[0],index:n,offset:0,size:0}]}return[{data:r==null?void 0:r[0],index:t,offset:0,size:0}]}const j5={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function K_(t,e,r,n,i,s){const{lastIndex:a,lastOffset:o,lastSize:l}=i;let u=0,d=0;if(t.length>0){u=t[0].offset;const b=t[t.length-1];d=b.offset+b.size}const m=r-a,g=o+m*l+(m-1)*n,v=u,x=g-d;return{bottom:d,firstItemIndex:s,items:uY(t,i,s),offsetBottom:x,offsetTop:u,top:v,topItems:uY(e,i,s),topListHeight:e.reduce((b,w)=>w.size+b,0),totalCount:r}}function Tue(t,e,r,n,i,s){let a=0;if(r.groupIndices.length>0)for(const d of r.groupIndices){if(d-a>=t)break;a++}const o=t+a,l=xM(e,o),u=Array.from({length:o}).map((d,m)=>({data:s[m+l],index:m+l,offset:0,size:0}));return K_(u,[],o,i,r,n)}function uY(t,e,r){if(t.length===0)return[];if(!Tk(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,s=[],a=Ng(e.groupOffsetTree,n,i);let o,l=0;for(const u of t){(!o||o.end<u.index)&&(o=a.shift(),l=e.groupIndices.indexOf(o.start));let d;u.index===o.start?d={index:l,type:"group"}:d={groupIndex:l,index:u.index-(l+1)+r},s.push({...d,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return s}function dY(t,e){var r;return t===void 0?0:typeof t=="number"?t:(r=t[e])!=null?r:0}const Gm=zr(([{data:t,firstItemIndex:e,gap:r,sizes:n,totalCount:i},s,{listBoundary:a,topListHeight:o,visibleRange:l},{initialTopMostItemIndex:u,scrolledToInitialItem:d},{topListHeight:m},g,{didMount:v},{recalcInProgress:x}])=>{const b=rt([]),w=rt(0),_=kr(),k=rt(0);St(s.topItemsIndexes,b);const A=Ia(Xe(is(v,x,Lt(l,Kx),Lt(i),Lt(n),Lt(u),d,Lt(b),Lt(e),Lt(r),Lt(k),t),Ft(([S,I,,O,,,,,,,,D])=>{const M=D&&D.length!==O;return S&&!I&&!M}),mt(([,,[S,I],O,D,M,F,U,le,de,Z,J])=>{var he,ee,ve,H;const B=D,{offsetTree:q,sizeTree:W}=B,Y=ei(w);if(O===0)return{...j5,totalCount:O};if(S===0&&I===0)return Y===0?{...j5,totalCount:O}:Tue(Y,M,D,le,de,J||[]);if(kn(W))return Y>0?null:K_(Pnt(xM(M,O),B,J),[],O,de,B,le);const ue=[];if(U.length>0){const tt=U[0],me=U[U.length-1];let He=0;for(const Ke of Ng(W,tt,me)){const Ie=Ke.value,et=Math.max(Ke.start,tt),ht=Math.min(Ke.end,me);for(let _t=et;_t<=ht;_t++)ue.push({data:J==null?void 0:J[_t],index:_t,offset:He,size:Ie}),He+=Ie}}if(!F)return K_([],ue,O,de,B,le);const pe=U.length>0?U[U.length-1]+1:0,ce=wnt(q,S,I,pe);if(ce.length===0)return null;const ie=O-1,ye=Ek([],tt=>{for(const me of ce){const He=me.value;let Ke=He.offset,Ie=me.start;const et=He.size;if(He.offset<S){Ie+=Math.floor((S-He.offset+de)/(et+de));const _t=Ie-me.start;Ke+=_t*et+_t*de}Ie<pe&&(Ke+=(pe-Ie)*et,Ie=pe);const ht=Math.min(me.end,ie);for(let _t=Ie;_t<=ht&&!(Ke>=I);_t++)tt.push({data:J==null?void 0:J[_t],index:_t,offset:Ke,size:et}),Ke+=et+de}}),Ve=dY(Z,Qx),G=dY(Z,Jx);if(ye.length>0&&(Ve>0||G>0)){const tt=ye[0],me=ye[ye.length-1];if(Ve>0&&tt.index>pe){const He=Math.min(Ve,tt.index-pe),Ke=[];let Ie=tt.offset;for(let et=tt.index-1;et>=tt.index-He;et--){const ht=(ee=(he=Ng(W,et,et)[0])==null?void 0:he.value)!=null?ee:tt.size;Ie-=ht+de,Ke.unshift({data:J==null?void 0:J[et],index:et,offset:Ie,size:ht})}ye.unshift(...Ke)}if(G>0&&me.index<ie){const He=Math.min(G,ie-me.index);let Ke=me.offset+me.size+de;for(let Ie=me.index+1;Ie<=me.index+He;Ie++){const et=(H=(ve=Ng(W,Ie,Ie)[0])==null?void 0:ve.value)!=null?H:me.size;ye.push({data:J==null?void 0:J[Ie],index:Ie,offset:Ke,size:et}),Ke+=et+de}}}return K_(ye,ue,O,de,B,le)}),Ft(S=>S!==null),Hn()),j5);St(Xe(t,Ft(fM),mt(S=>S==null?void 0:S.length)),i),St(Xe(A,mt(S=>S.topListHeight)),m),St(m,o),St(Xe(A,mt(S=>[S.top,S.bottom])),a),St(Xe(A,mt(S=>S.items)),_);const R=nl(Xe(A,Ft(({items:S})=>S.length>0),ar(i,t),Ft(([{items:S},I])=>S[S.length-1].originalIndex===I-1),mt(([,S,I])=>[S-1,I]),Hn(Kx),mt(([S])=>S))),P=nl(Xe(A,md(200),Ft(({items:S,topItems:I})=>S.length>0&&S[0].originalIndex===I.length),mt(({items:S})=>S[0].index),Hn())),j=nl(Xe(A,Ft(({items:S})=>S.length>0),mt(({items:S})=>{let I=0,O=S.length-1;for(;S[I].type==="group"&&I<O;)I++;for(;S[O].type==="group"&&O>I;)O--;return{endIndex:S[O].index,startIndex:S[I].index}}),Hn(vue)));return{endReached:R,initialItemCount:w,itemsRendered:_,listState:A,minOverscanItemCount:k,rangeChanged:j,startReached:P,topItemsIndexes:b,...g}},Kn(Du,wue,bM,tw,ew,rw,qf,gM),{singleton:!0}),Sue=zr(([{fixedFooterHeight:t,fixedHeaderHeight:e,footerHeight:r,headerHeight:n},{listState:i}])=>{const s=kr(),a=Ia(Xe(is(r,t,n,e,i),mt(([o,l,u,d,m])=>o+l+u+d+m.offsetBottom+m.bottom)),0);return St(Lt(a),s),{totalListHeight:a,totalListHeightChanged:s}},Kn(Ja,Gm),{singleton:!0}),jnt=zr(([{viewportHeight:t},{totalListHeight:e}])=>{const r=rt(!1),n=Ia(Xe(is(r,t,e),Ft(([i])=>i),mt(([,i,s])=>Math.max(0,i-s)),md(0),Hn()),0);return{alignToBottom:r,paddingTopAddition:n}},Kn(Ja,Sue),{singleton:!0}),kue=zr(()=>({context:rt(null)})),Dnt=({itemBottom:t,itemTop:e,locationParams:{align:r,behavior:n,...i},viewportBottom:s,viewportTop:a})=>e<a?{...i,align:r??"start",behavior:n}:t>s?{...i,align:r??"end",behavior:n}:null,Aue=zr(([{gap:t,sizes:e,totalCount:r},{fixedFooterHeight:n,fixedHeaderHeight:i,headerHeight:s,scrollingInProgress:a,scrollTop:o,viewportHeight:l},{scrollToIndex:u}])=>{const d=kr();return St(Xe(d,ar(e,l,r,s,i,n,o),ar(t),mt(([[m,g,v,x,b,w,_,k],A])=>{const{align:R,behavior:P,calculateViewLocation:j=Dnt,done:S,...I}=m,O=bue(m,g,x-1),D=Yx(O,g.offsetTree,A)+b+w,M=D+Dc(g.sizeTree,O)[1],F=k+w,U=k+v-_,le=j({itemBottom:M,itemTop:D,locationParams:{align:R,behavior:P,...I},viewportBottom:U,viewportTop:F});return le?S&&Cc(Xe(a,Ft(de=>!de),Tm(ei(a)?1:2)),S):S&&S(),le}),Ft(m=>m!==null)),u),{scrollIntoView:d}},Kn(Du,Ja,ew,Gm,Hf),{singleton:!0});function hY(t){return t?t==="smooth"?"smooth":"auto":!1}const Mnt=(t,e)=>typeof t=="function"?hY(t(e)):e&&hY(t),Lnt=zr(([{listRefresh:t,totalCount:e,fixedItemSize:r,data:n},{atBottomState:i,isAtBottom:s},{scrollToIndex:a},{scrolledToInitialItem:o},{didMount:l,propsReady:u},{log:d},{scrollingInProgress:m},{context:g},{scrollIntoView:v}])=>{const x=rt(!1),b=kr();let w=null;function _(P){sr(a,{align:"end",behavior:P,index:"LAST"})}en(Xe(is(Xe(Lt(e),Tm(1)),l),ar(Lt(x),s,o,m),mt(([[P,j],S,I,O,D])=>{let M=j&&O,F="auto";return M&&(F=Mnt(S,I||D),M=M&&!!F),{followOutputBehavior:F,shouldFollow:M,totalCount:P}}),Ft(({shouldFollow:P})=>P)),({followOutputBehavior:P,totalCount:j})=>{w&&(w(),w=null),ei(r)?requestAnimationFrame(()=>{ei(d)("following output to ",{totalCount:j},Eo.DEBUG),_(P)}):w=Cc(t,()=>{ei(d)("following output to ",{totalCount:j},Eo.DEBUG),_(P),w=null})});function k(P){const j=Cc(i,S=>{P&&!S.atBottom&&S.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(ei(d)("scrolling to bottom due to increased size",{},Eo.DEBUG),_("auto"))});setTimeout(j,100)}en(Xe(is(Lt(x),e,u),Ft(([P,,j])=>P&&j),fu(({value:P},[,j])=>({refreshed:P===j,value:j}),{refreshed:!1,value:0}),Ft(({refreshed:P})=>P),ar(x,e)),([,P])=>{ei(o)&&k(P!==!1)}),en(b,()=>{k(ei(x)!==!1)}),en(is(Lt(x),i),([P,j])=>{P&&!j.atBottom&&j.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&_("auto")});const A=rt(null),R=kr();return St(FO(Xe(Lt(n),mt(P=>{var j;return(j=P==null?void 0:P.length)!=null?j:0})),Xe(Lt(e))),R),en(Xe(is(Xe(R,Tm(1)),l),ar(Lt(A),o,m,g),mt(([[P,j],S,I,O,D])=>j&&I&&(S==null?void 0:S({context:D,totalCount:P,scrollingInProgress:O}))),Ft(P=>!!P),md(0)),P=>{w&&(w(),w=null),ei(r)?requestAnimationFrame(()=>{ei(d)("scrolling into view",{}),sr(v,P)}):w=Cc(t,()=>{ei(d)("scrolling into view",{}),sr(v,P),w=null})}),{autoscrollToBottom:b,followOutput:x,scrollIntoViewOnChange:A}},Kn(Du,rw,ew,tw,qf,Hf,Ja,kue,Aue)),Fnt=zr(([{data:t,firstItemIndex:e,gap:r,sizes:n},{initialTopMostItemIndex:i},{initialItemCount:s,listState:a},{didMount:o}])=>(St(Xe(o,ar(s),Ft(([,l])=>l!==0),ar(i,n,e,r,t),mt(([[,l],u,d,m,g,v=[]])=>Tue(l,u,d,m,g,v))),a),{}),Kn(Du,tw,Gm,qf),{singleton:!0}),Bnt=zr(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=rt(0);return en(Xe(t,ar(n),Ft(([,i])=>i!==0),mt(([,i])=>({top:i}))),i=>{Cc(Xe(r,Tm(1),Ft(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{sr(e,i)})})}),{initialScrollTop:n}},Kn(qf,Ja,Gm),{singleton:!0}),Cue=zr(([{scrollVelocity:t}])=>{const e=rt(!1),r=kr(),n=rt(!1);return St(Xe(t,ar(n,e,r),Ft(([i,s])=>!!s),mt(([i,s,a,o])=>{const{enter:l,exit:u}=s;if(a){if(u(i,o))return!1}else if(l(i,o))return!0;return a}),Hn()),e),en(Xe(is(e,t,r),ar(n)),([[i,s,a],o])=>{i&&o&&o.change&&o.change(s,a)}),{isSeeking:e,scrollSeekConfiguration:n,scrollSeekRangeChanged:r,scrollVelocity:t}},Kn(rw),{singleton:!0}),wM=zr(([{scrollContainerState:t,scrollTo:e}])=>{const r=kr(),n=kr(),i=kr(),s=rt(!1),a=rt(void 0);return St(Xe(is(r,n),mt(([{scrollHeight:o,scrollTop:l,viewportHeight:u},{offsetTop:d}])=>({scrollHeight:o,scrollTop:Math.max(0,l-d),viewportHeight:u}))),t),St(Xe(e,ar(n),mt(([o,{offsetTop:l}])=>({...o,top:o.top+l}))),i),{customScrollParent:a,useWindowScroll:s,windowScrollContainerState:r,windowScrollTo:i,windowViewportRect:n}},Kn(Ja)),Vnt=zr(([{sizeRanges:t,sizes:e},{headerHeight:r,scrollTop:n},{initialTopMostItemIndex:i},{didMount:s},{useWindowScroll:a,windowScrollContainerState:o,windowViewportRect:l}])=>{const u=kr(),d=rt(void 0),m=rt(null),g=rt(null);return St(o,m),St(l,g),en(Xe(u,ar(e,n,a,m,g,r)),([v,x,b,w,_,k,A])=>{const R=Ent(x.sizeTree);w&&_!==null&&k!==null&&(b=_.scrollTop-k.offsetTop),b-=A,v({ranges:R,scrollTop:b})}),St(Xe(d,Ft(fM),mt(Unt)),i),St(Xe(s,ar(d),Ft(([,v])=>v!==void 0),Hn(),mt(([,v])=>v.ranges)),t),{getState:u,restoreStateFrom:d}},Kn(Du,Ja,tw,qf,wM));function Unt(t){return{align:"start",index:0,offset:t.scrollTop}}const znt=zr(([{topItemsIndexes:t}])=>{const e=rt(0);return St(Xe(e,Ft(r=>r>=0),mt(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},Kn(Gm));function Nue(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const $nt=Nue(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),Hnt=zr(([{deviation:t,scrollBy:e,scrollingInProgress:r,scrollTop:n},{isAtBottom:i,isScrolling:s,lastJumpDueToItemResize:a,scrollDirection:o},{listState:l},{beforeUnshiftWith:u,gap:d,shiftWithOffset:m,sizes:g},{log:v},{recalcInProgress:x}])=>{const b=nl(Xe(l,ar(a),fu(([,_,k,A],[{bottom:R,items:P,offsetBottom:j,totalCount:S},I])=>{const O=R+j;let D=0;return k===S&&_.length>0&&P.length>0&&(P[0].originalIndex===0&&_[0].originalIndex===0||(D=O-A,D!==0&&(D+=I))),[D,P,S,O]},[0,[],0,0]),Ft(([_])=>_!==0),ar(n,o,r,i,v,x),Ft(([,_,k,A,,,R])=>!R&&!A&&_!==0&&k===Xx),mt(([[_],,,,,k])=>(k("Upward scrolling compensation",{amount:_},Eo.DEBUG),_))));function w(_){_>0?(sr(e,{behavior:"auto",top:-_}),sr(t,0)):(sr(t,0),sr(e,{behavior:"auto",top:-_}))}return en(Xe(b,ar(t,s)),([_,k,A])=>{A&&$nt()?sr(t,k-_):w(-_)}),en(Xe(is(Ia(s,!1),t,x),Ft(([_,k,A])=>!_&&!A&&k!==0),mt(([_,k])=>k),md(1)),w),St(Xe(m,mt(_=>({top:-_}))),e),en(Xe(u,ar(g,d),mt(([_,{groupIndices:k,lastSize:A,sizeTree:R},P])=>{function j(S){return S*(A+P)}if(k.length===0)return j(_);{let S=0;const I=Gx(R,0);let O=0,D=0;for(;O<_;){O++,S+=I;let M=k.length===D+1?1/0:k[D+1]-k[D]-1;O+M>_&&(S-=I,M=_-O+1),O+=M,S+=j(M),D++}return S}})),_=>{sr(t,_),requestAnimationFrame(()=>{sr(e,{top:_}),requestAnimationFrame(()=>{sr(t,0),sr(x,!1)})})}),{deviation:t}},Kn(Ja,rw,Gm,Du,Hf,gM)),qnt=zr(([t,e,r,n,i,s,a,o,l,u,d])=>({...t,...e,...r,...n,...i,...s,...a,...o,...l,...u,...d}),Kn(bM,Fnt,qf,Cue,Sue,Bnt,jnt,wM,Aue,Hf,kue)),Iue=zr(([{data:t,defaultItemSize:e,firstItemIndex:r,fixedItemSize:n,fixedGroupSize:i,gap:s,groupIndices:a,heightEstimates:o,itemSize:l,sizeRanges:u,sizes:d,statefulTotalCount:m,totalCount:g,trackItemSizes:v},{initialItemFinalLocationReached:x,initialTopMostItemIndex:b,scrolledToInitialItem:w},_,k,A,R,{scrollToIndex:P},j,{topItemCount:S},{groupCounts:I},O])=>{const{listState:D,minOverscanItemCount:M,topItemsIndexes:F,rangeChanged:U,...le}=R;return St(U,O.scrollSeekRangeChanged),St(Xe(O.windowViewportRect,mt(de=>de.visibleHeight)),_.viewportHeight),{data:t,defaultItemHeight:e,firstItemIndex:r,fixedItemHeight:n,fixedGroupHeight:i,gap:s,groupCounts:I,heightEstimates:o,initialItemFinalLocationReached:x,initialTopMostItemIndex:b,scrolledToInitialItem:w,sizeRanges:u,topItemCount:S,topItemsIndexes:F,totalCount:g,...A,groupIndices:a,itemSize:l,listState:D,minOverscanItemCount:M,scrollToIndex:P,statefulTotalCount:m,trackItemSizes:v,rangeChanged:U,...le,...O,..._,sizes:d,...k}},Kn(Du,tw,Ja,Vnt,Lnt,Gm,ew,Hnt,znt,wue,qnt));function Wnt(t,e){const r={},n={};let i=0;const s=t.length;for(;i<s;)n[t[i]]=1,i+=1;for(const a in e)Object.hasOwn(n,a)||(r[a]=e[a]);return r}const x_=typeof document<"u"?Ne.useLayoutEffect:Ne.useEffect;function Oue(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),a=Object.keys(e.events||{}),o=Ne.createContext({});function l(w,_){w.propsReady&&sr(w.propsReady,!1);for(const k of n){const A=w[e.required[k]];sr(A,_[k])}for(const k of i)if(k in _){const A=w[e.optional[k]];sr(A,_[k])}w.propsReady&&sr(w.propsReady,!0)}function u(w){return s.reduce((_,k)=>(_[k]=A=>{const R=w[e.methods[k]];sr(R,A)},_),{})}function d(w){return a.reduce((_,k)=>(_[k]=lnt(w[e.events[k]]),_),{})}const m=Ne.forwardRef((w,_)=>{const{children:k,...A}=w,[R]=Ne.useState(()=>Ek(unt(t),S=>{l(S,A)})),[P]=Ne.useState(rY(d,R));x_(()=>{for(const S of a)S in A&&en(P[S],A[S]);return()=>{Object.values(P).map(mM)}},[A,P,R]),x_(()=>{l(R,A)}),Ne.useImperativeHandle(_,tY(u(R)));const j=r;return f.jsx(o.Provider,{value:R,children:r?f.jsx(j,{...Wnt([...n,...i,...a],A),children:k}):k})}),g=w=>{const _=Ne.useContext(o);return Ne.useCallback(k=>{sr(_[w],k)},[_,w])},v=w=>{const _=Ne.useContext(o)[w],k=Ne.useCallback(A=>en(_,A),[_]);return Ne.useSyncExternalStore(k,()=>ei(_),()=>ei(_))},x=w=>{const _=Ne.useContext(o)[w],[k,A]=Ne.useState(rY(ei,_));return x_(()=>en(_,R=>{R!==k&&A(tY(R))}),[_,k]),k},b=Ne.version.startsWith("18")?v:x;return{Component:m,useEmitter:(w,_)=>{const k=Ne.useContext(o)[w];x_(()=>en(k,_),[_,k])},useEmitterValue:b,usePublisher:g}}const Rue=Ne.createContext(void 0),Pue=Ne.createContext(void 0),jue=typeof document<"u"?Ne.useLayoutEffect:Ne.useEffect;function D5(t){return"self"in t}function Gnt(t){return"body"in t}function Due(t,e,r,n=Jv,i,s){const a=Ne.useRef(null),o=Ne.useRef(null),l=Ne.useRef(null),u=Ne.useCallback(g=>{let v,x,b;const w=g.target;if(Gnt(w)||D5(w)){const k=D5(w)?w:w.defaultView;b=s?k.scrollX:k.scrollY,v=s?k.document.documentElement.scrollWidth:k.document.documentElement.scrollHeight,x=s?k.innerWidth:k.innerHeight}else b=s?w.scrollLeft:w.scrollTop,v=s?w.scrollWidth:w.scrollHeight,x=s?w.offsetWidth:w.offsetHeight;const _=()=>{t({scrollHeight:v,scrollTop:Math.max(b,0),viewportHeight:x})};g.suppressFlushSync?_():UY.flushSync(_),o.current!==null&&(b===o.current||b<=0||b===v-x)&&(o.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e,s]);Ne.useEffect(()=>{const g=i||a.current;return n(i||a.current),u({suppressFlushSync:!0,target:g}),g.addEventListener("scroll",u,{passive:!0}),()=>{n(null),g.removeEventListener("scroll",u)}},[a,u,r,n,i]);function d(g){const v=a.current;if(!v||(s?"offsetWidth"in v&&v.offsetWidth===0:"offsetHeight"in v&&v.offsetHeight===0))return;const x=g.behavior==="smooth";let b,w,_;D5(v)?(w=Math.max(Cf(v.document.documentElement,s?"width":"height"),s?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight),b=s?v.innerWidth:v.innerHeight,_=s?window.scrollX:window.scrollY):(w=v[s?"scrollWidth":"scrollHeight"],b=Cf(v,s?"width":"height"),_=v[s?"scrollLeft":"scrollTop"]);const k=w-b;if(g.top=Math.ceil(Math.max(Math.min(k,g.top),0)),Eue(b,w)||g.top===_){t({scrollHeight:w,scrollTop:_,viewportHeight:b}),x&&e(!0);return}x?(o.current=g.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,o.current=null,e(!0)},1e3)):o.current=null,s&&(g={behavior:g.behavior,left:g.top}),v.scrollTo(g)}function m(g){s&&(g={behavior:g.behavior,left:g.top}),a.current.scrollBy(g)}return{scrollByCallback:m,scrollerRef:a,scrollToCallback:d}}const M5="-webkit-sticky",fY="sticky",_M=Nue(()=>{if(typeof document>"u")return fY;const t=document.createElement("div");return t.style.position=M5,t.style.position===M5?M5:fY});function EM(t){return t}const Knt=zr(()=>{const t=rt(o=>`Item ${o}`),e=rt(o=>`Group ${o}`),r=rt({}),n=rt(EM),i=rt("div"),s=rt(Jv),a=(o,l=null)=>Ia(Xe(r,mt(u=>u[o]),Hn()),l);return{components:r,computeItemKey:n,EmptyPlaceholder:a("EmptyPlaceholder"),FooterComponent:a("Footer"),GroupComponent:a("Group","div"),groupContent:e,HeaderComponent:a("Header"),HeaderFooterTag:i,ItemComponent:a("Item","div"),itemContent:t,ListComponent:a("List","div"),ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TopItemListComponent:a("TopItemList")}}),Ynt=zr(([t,e])=>({...t,...e}),Kn(Iue,Knt)),Xnt=({height:t})=>f.jsx("div",{style:{height:t}}),Qnt={overflowAnchor:"none",position:_M(),zIndex:1},Mue={overflowAnchor:"none"},Jnt={...Mue,display:"inline-block",height:"100%"},mY=Ne.memo(function({showTopList:t=!1}){const e=Xt("listState"),r=Vl("sizeRanges"),n=Xt("useWindowScroll"),i=Xt("customScrollParent"),s=Vl("windowScrollContainerState"),a=Vl("scrollContainerState"),o=i||n?s:a,l=Xt("itemContent"),u=Xt("context"),d=Xt("groupContent"),m=Xt("trackItemSizes"),g=Xt("itemSize"),v=Xt("log"),x=Vl("gap"),b=Xt("horizontalDirection"),{callbackRef:w}=fnt(r,g,m,t?Jv:o,v,x,i,b,Xt("skipAnimationFrameInResizeObserver")),[_,k]=Ne.useState(0);TM("deviation",le=>{_!==le&&k(le)});const A=Xt("EmptyPlaceholder"),R=Xt("ScrollSeekPlaceholder")||Xnt,P=Xt("ListComponent"),j=Xt("ItemComponent"),S=Xt("GroupComponent"),I=Xt("computeItemKey"),O=Xt("isSeeking"),D=Xt("groupIndices").length>0,M=Xt("alignToBottom"),F=Xt("initialItemFinalLocationReached"),U=t?{}:{boxSizing:"border-box",...b?{display:"inline-block",height:"100%",marginLeft:_!==0?_:M?"auto":0,paddingLeft:e.offsetTop,paddingRight:e.offsetBottom,whiteSpace:"nowrap"}:{marginTop:_!==0?_:M?"auto":0,paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},...F?{}:{visibility:"hidden"}};return!t&&e.totalCount===0&&A?f.jsx(A,{...Aa(A,u)}):f.jsx(P,{...Aa(P,u),"data-testid":t?"virtuoso-top-item-list":"virtuoso-item-list",ref:w,style:U,children:(t?e.topItems:e.items).map(le=>{const de=le.originalIndex,Z=I(de+e.firstItemIndex,le.data,u);return O?C.createElement(R,{...Aa(R,u),height:le.size,index:le.index,key:Z,type:le.type||"item",...le.type==="group"?{}:{groupIndex:le.groupIndex}}):le.type==="group"?C.createElement(S,{...Aa(S,u),"data-index":de,"data-item-index":le.index,"data-known-size":le.size,key:Z,style:Qnt},d(le.index,u)):C.createElement(j,{...Aa(j,u),...rit(j,le.data),"data-index":de,"data-item-group-index":le.groupIndex,"data-item-index":le.index,"data-known-size":le.size,key:Z,style:b?Jnt:Mue},D?l(le.index,le.groupIndex,le.data,u):l(le.index,le.data,u))})})}),Znt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},eit={outline:"none",overflowX:"auto",position:"relative"},Sk=t=>({height:"100%",position:"absolute",top:0,width:"100%",...t?{display:"flex",flexDirection:"column"}:{}}),tit={position:_M(),top:0,width:"100%",zIndex:1};function Aa(t,e){if(typeof t!="string")return{context:e}}function rit(t,e){return{item:typeof t=="string"?void 0:e}}const nit=Ne.memo(function(){const t=Xt("HeaderComponent"),e=Vl("headerHeight"),r=Xt("HeaderFooterTag"),n=Wm(Ne.useMemo(()=>s=>{e(Cf(s,"height"))},[e]),!0,Xt("skipAnimationFrameInResizeObserver")),i=Xt("context");return t?f.jsx(r,{ref:n,children:f.jsx(t,{...Aa(t,i)})}):null}),iit=Ne.memo(function(){const t=Xt("FooterComponent"),e=Vl("footerHeight"),r=Xt("HeaderFooterTag"),n=Wm(Ne.useMemo(()=>s=>{e(Cf(s,"height"))},[e]),!0,Xt("skipAnimationFrameInResizeObserver")),i=Xt("context");return t?f.jsx(r,{ref:n,children:f.jsx(t,{...Aa(t,i)})}):null});function Lue({useEmitter:t,useEmitterValue:e,usePublisher:r}){return Ne.memo(function({children:n,style:i,context:s,...a}){const o=r("scrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),d=e("scrollerRef"),m=e("horizontalDirection")||!1,{scrollByCallback:g,scrollerRef:v,scrollToCallback:x}=Due(o,u,l,d,void 0,m);return t("scrollTo",x),t("scrollBy",g),f.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:v,style:{...m?eit:Znt,...i},tabIndex:0,...a,...Aa(l,s),children:n})})}function Fue({useEmitter:t,useEmitterValue:e,usePublisher:r}){return Ne.memo(function({children:n,style:i,context:s,...a}){const o=r("windowScrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),d=e("totalListHeight"),m=e("deviation"),g=e("customScrollParent"),v=Ne.useRef(null),x=e("scrollerRef"),{scrollByCallback:b,scrollerRef:w,scrollToCallback:_}=Due(o,u,l,x,g);return jue(()=>{var k;return w.current=g||((k=v.current)==null?void 0:k.ownerDocument.defaultView),()=>{w.current=null}},[w,g]),t("windowScrollTo",_),t("scrollBy",b),f.jsx(l,{ref:v,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...d!==0?{height:d+m}:{}},...a,...Aa(l,s),children:n})})}const sit=({children:t})=>{const e=Ne.useContext(Rue),r=Vl("viewportHeight"),n=Vl("fixedItemHeight"),i=Xt("alignToBottom"),s=Xt("horizontalDirection"),a=Ne.useMemo(()=>cue(r,l=>Cf(l,s?"width":"height")),[r,s]),o=Wm(a,!0,Xt("skipAnimationFrameInResizeObserver"));return Ne.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),f.jsx("div",{"data-viewport-type":"element",ref:o,style:Sk(i),children:t})},ait=({children:t})=>{const e=Ne.useContext(Rue),r=Vl("windowViewportRect"),n=Vl("fixedItemHeight"),i=Xt("customScrollParent"),s=due(r,i,Xt("skipAnimationFrameInResizeObserver")),a=Xt("alignToBottom");return Ne.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),f.jsx("div",{"data-viewport-type":"window",ref:s,style:Sk(a),children:t})},oit=({children:t})=>{const e=Xt("TopItemListComponent")||"div",r=Xt("headerHeight"),n={...tit,marginTop:`${r}px`},i=Xt("context");return f.jsx(e,{style:n,...Aa(e,i),children:t})},lit=Ne.memo(function(t){const e=Xt("useWindowScroll"),r=Xt("topItemsIndexes").length>0,n=Xt("customScrollParent"),i=Xt("context");return f.jsxs(n||e?dit:uit,{...t,context:i,children:[r&&f.jsx(oit,{children:f.jsx(mY,{showTopList:!0})}),f.jsxs(n||e?ait:sit,{children:[f.jsx(nit,{}),f.jsx(mY,{}),f.jsx(iit,{})]})]})}),{Component:cit,useEmitter:TM,useEmitterValue:Xt,usePublisher:Vl}=Oue(Ynt,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},lit),uit=Lue({useEmitter:TM,useEmitterValue:Xt,usePublisher:Vl}),dit=Fue({useEmitter:TM,useEmitterValue:Xt,usePublisher:Vl}),hit=cit,fit=zr(()=>{const t=rt(u=>f.jsxs("td",{children:["Item $",u]})),e=rt(null),r=rt(u=>f.jsxs("td",{colSpan:1e3,children:["Group ",u]})),n=rt(null),i=rt(null),s=rt({}),a=rt(EM),o=rt(Jv),l=(u,d=null)=>Ia(Xe(s,mt(m=>m[u]),Hn()),d);return{components:s,computeItemKey:a,context:e,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:i,fixedHeaderContent:n,itemContent:t,groupContent:r,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});Kn(Iue,fit);_M();const pY={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},mit={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:gY,floor:sS,max:z1,min:L5,round:vY}=Math;function yY(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>({data:r===null?null:r[i+t],index:i+t}))}function pit(t){return{...mit,items:t}}function b_(t,e){return t&&t.width===e.width&&t.height===e.height}function git(t,e){return t&&t.column===e.column&&t.row===e.row}const vit=zr(([{increaseViewportBy:t,listBoundary:e,overscan:r,visibleRange:n},{footerHeight:i,headerHeight:s,scrollBy:a,scrollContainerState:o,scrollTo:l,scrollTop:u,smoothScrollTargetReached:d,viewportHeight:m},g,v,{didMount:x,propsReady:b},{customScrollParent:w,useWindowScroll:_,windowScrollContainerState:k,windowScrollTo:A,windowViewportRect:R},P])=>{const j=rt(0),S=rt(0),I=rt(pY),O=rt({height:0,width:0}),D=rt({height:0,width:0}),M=kr(),F=kr(),U=rt(0),le=rt(null),de=rt({column:0,row:0}),Z=kr(),J=kr(),he=rt(!1),ee=rt(0),ve=rt(!0),H=rt(!1),B=rt(!1);en(Xe(x,ar(ee),Ft(([ce,ie])=>!!ie)),()=>{sr(ve,!1)}),en(Xe(is(x,ve,D,O,ee,H),Ft(([ce,ie,ye,Ve,,G])=>ce&&!ie&&ye.height!==0&&Ve.height!==0&&!G)),([,,,,ce])=>{sr(H,!0),yM(1,()=>{sr(M,ce)}),Cc(Xe(u),()=>{sr(e,[0,0]),sr(ve,!0)})}),St(Xe(J,Ft(ce=>ce!=null&&ce.scrollTop>0),cu(0)),S),en(Xe(x,ar(J),Ft(([,ce])=>ce!=null)),([,ce])=>{ce&&(sr(O,ce.viewport),sr(D,ce.item),sr(de,ce.gap),ce.scrollTop>0&&(sr(he,!0),Cc(Xe(u,Tm(1)),ie=>{sr(he,!1)}),sr(l,{top:ce.scrollTop})))}),St(Xe(O,mt(({height:ce})=>ce)),m),St(Xe(is(Lt(O,b_),Lt(D,b_),Lt(de,(ce,ie)=>ce&&ce.column===ie.column&&ce.row===ie.row),Lt(u)),mt(([ce,ie,ye,Ve])=>({gap:ye,item:ie,scrollTop:Ve,viewport:ce}))),Z),St(Xe(is(Lt(j),n,Lt(de,git),Lt(D,b_),Lt(O,b_),Lt(le),Lt(S),Lt(he),Lt(ve),Lt(ee)),Ft(([,,,,,,,ce])=>!ce),mt(([ce,[ie,ye],Ve,G,tt,me,He,,Ke,Ie])=>{const{column:et,row:ht}=Ve,{height:_t,width:Rr}=G,{width:Pr}=tt;if(He===0&&(ce===0||Pr===0))return pY;if(Rr===0){const jt=xM(Ie,ce),Gt=jt+Math.max(He-1,0);return pit(yY(jt,Gt,me))}const $r=Bue(Pr,Rr,et);let Wt,Ar;Ke?ie===0&&ye===0&&He>0?(Wt=0,Ar=He-1):(Wt=$r*sS((ie+ht)/(_t+ht)),Ar=$r*gY((ye+ht)/(_t+ht))-1,Ar=L5(ce-1,z1(Ar,$r-1)),Wt=L5(Ar,z1(0,Wt))):(Wt=0,Ar=-1);const An=yY(Wt,Ar,me),{bottom:pi,top:be}=xY(tt,Ve,G,An),Qe=gY(ce/$r),nt=Qe*_t+(Qe-1)*ht-pi;return{bottom:pi,itemHeight:_t,items:An,itemWidth:Rr,offsetBottom:nt,offsetTop:be,top:be}})),I),St(Xe(le,Ft(ce=>ce!==null),mt(ce=>ce.length)),j),St(Xe(is(O,D,I,de),Ft(([ce,ie,{items:ye}])=>ye.length>0&&ie.height!==0&&ce.height!==0),mt(([ce,ie,{items:ye},Ve])=>{const{bottom:G,top:tt}=xY(ce,Ve,ie,ye);return[tt,G]}),Hn(Kx)),e);const q=rt(!1);St(Xe(u,ar(q),mt(([ce,ie])=>ie||ce!==0)),q);const W=nl(Xe(is(I,j),Ft(([{items:ce}])=>ce.length>0),ar(q),Ft(([[ce,ie],ye])=>{const Ve=ce.items[ce.items.length-1].index===ie-1;return(ye||ce.bottom>0&&ce.itemHeight>0&&ce.offsetBottom===0&&ce.items.length===ie)&&Ve}),mt(([[,ce]])=>ce-1),Hn())),Y=nl(Xe(Lt(I),Ft(({items:ce})=>ce.length>0&&ce[0].index===0),cu(0),Hn())),ue=nl(Xe(Lt(I),ar(he),Ft(([{items:ce},ie])=>ce.length>0&&!ie),mt(([{items:ce}])=>({endIndex:ce[ce.length-1].index,startIndex:ce[0].index})),Hn(vue),md(0)));St(ue,v.scrollSeekRangeChanged),St(Xe(M,ar(O,D,j,de),mt(([ce,ie,ye,Ve,G])=>{const tt=_ue(ce),{align:me,behavior:He,offset:Ke}=tt;let Ie=tt.index;Ie==="LAST"&&(Ie=Ve-1),Ie=z1(0,Ie,L5(Ve-1,Ie));let et=$O(ie,G,ye,Ie);return me==="end"?et=vY(et-ie.height+ye.height):me==="center"&&(et=vY(et-ie.height/2+ye.height/2)),Ke&&(et+=Ke),{behavior:He,top:et}})),l);const pe=Ia(Xe(I,mt(ce=>ce.offsetBottom+ce.bottom)),0);return St(Xe(R,mt(ce=>({height:ce.visibleHeight,width:ce.visibleWidth}))),O),{customScrollParent:w,data:le,deviation:U,footerHeight:i,gap:de,headerHeight:s,increaseViewportBy:t,initialItemCount:S,itemDimensions:D,overscan:r,restoreStateFrom:J,scrollBy:a,scrollContainerState:o,scrollHeight:F,scrollTo:l,scrollToIndex:M,scrollTop:u,smoothScrollTargetReached:d,totalCount:j,useWindowScroll:_,viewportDimensions:O,windowScrollContainerState:k,windowScrollTo:A,windowViewportRect:R,...v,gridState:I,horizontalDirection:B,initialTopMostItemIndex:ee,totalListHeight:pe,...g,endReached:W,propsReady:b,rangeChanged:ue,startReached:Y,stateChanged:Z,stateRestoreInProgress:he,...P}},Kn(bM,Ja,rw,Cue,qf,wM,Hf));function Bue(t,e,r){return z1(1,sS((t+r)/(sS(e)+r)))}function xY(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{bottom:0,top:0};const s=$O(t,e,r,n[0].index);return{bottom:$O(t,e,r,n[n.length-1].index)+i,top:s}}function $O(t,e,r,n){const i=Bue(t.width,r.width,e.column),s=sS(n/i),a=s*r.height+z1(0,s-1)*e.row;return a>0?a+e.row:a}const yit=zr(()=>{const t=rt(m=>`Item ${m}`),e=rt({}),r=rt(null),n=rt("virtuoso-grid-item"),i=rt("virtuoso-grid-list"),s=rt(EM),a=rt("div"),o=rt(Jv),l=(m,g=null)=>Ia(Xe(e,mt(v=>v[m]),Hn()),g),u=rt(!1),d=rt(!1);return St(Lt(d),u),{components:e,computeItemKey:s,context:r,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:a,itemClassName:n,ItemComponent:l("Item","div"),itemContent:t,listClassName:i,ListComponent:l("List","div"),readyStateChanged:u,reportReadyState:d,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),xit=zr(([t,e])=>({...t,...e}),Kn(vit,yit)),bit=Ne.memo(function(){const t=Jn("gridState"),e=Jn("listClassName"),r=Jn("itemClassName"),n=Jn("itemContent"),i=Jn("computeItemKey"),s=Jn("isSeeking"),a=Ul("scrollHeight"),o=Jn("ItemComponent"),l=Jn("ListComponent"),u=Jn("ScrollSeekPlaceholder"),d=Jn("context"),m=Ul("itemDimensions"),g=Ul("gap"),v=Jn("log"),x=Jn("stateRestoreInProgress"),b=Ul("reportReadyState"),w=Wm(Ne.useMemo(()=>_=>{const k=_.parentElement.parentElement.scrollHeight;a(k);const A=_.firstChild;if(A){const{height:R,width:P}=A.getBoundingClientRect();m({height:R,width:P})}g({column:bY("column-gap",getComputedStyle(_).columnGap,v),row:bY("row-gap",getComputedStyle(_).rowGap,v)})},[a,m,g,v]),!0,!1);return jue(()=>{t.itemHeight>0&&t.itemWidth>0&&b(!0)},[t]),x?null:f.jsx(l,{className:e,ref:w,...Aa(l,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},children:t.items.map(_=>{const k=i(_.index,_.data,d);return s?f.jsx(u,{...Aa(u,d),height:t.itemHeight,index:_.index,width:t.itemWidth},k):C.createElement(o,{...Aa(o,d),className:r,"data-index":_.index,key:k},n(_.index,_.data,d))})})}),wit=Ne.memo(function(){const t=Jn("HeaderComponent"),e=Ul("headerHeight"),r=Jn("headerFooterTag"),n=Wm(Ne.useMemo(()=>s=>{e(Cf(s,"height"))},[e]),!0,!1),i=Jn("context");return t?f.jsx(r,{ref:n,children:f.jsx(t,{...Aa(t,i)})}):null}),_it=Ne.memo(function(){const t=Jn("FooterComponent"),e=Ul("footerHeight"),r=Jn("headerFooterTag"),n=Wm(Ne.useMemo(()=>s=>{e(Cf(s,"height"))},[e]),!0,!1),i=Jn("context");return t?f.jsx(r,{ref:n,children:f.jsx(t,{...Aa(t,i)})}):null}),Eit=({children:t})=>{const e=Ne.useContext(Pue),r=Ul("itemDimensions"),n=Ul("viewportDimensions"),i=Wm(Ne.useMemo(()=>s=>{n(s.getBoundingClientRect())},[n]),!0,!1);return Ne.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),f.jsx("div",{ref:i,style:Sk(!1),children:t})},Tit=({children:t})=>{const e=Ne.useContext(Pue),r=Ul("windowViewportRect"),n=Ul("itemDimensions"),i=Jn("customScrollParent"),s=due(r,i,!1);return Ne.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),f.jsx("div",{ref:s,style:Sk(!1),children:t})},Sit=Ne.memo(function({...t}){const e=Jn("useWindowScroll"),r=Jn("customScrollParent"),n=r||e?Ait:kit,i=r||e?Tit:Eit,s=Jn("context");return f.jsx(n,{...t,...Aa(n,s),children:f.jsxs(i,{children:[f.jsx(wit,{}),f.jsx(bit,{}),f.jsx(_it,{})]})})}),{useEmitter:Vue,useEmitterValue:Jn,usePublisher:Ul}=Oue(xit,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},Sit),kit=Lue({useEmitter:Vue,useEmitterValue:Jn,usePublisher:Ul}),Ait=Fue({useEmitter:Vue,useEmitterValue:Jn,usePublisher:Ul});function bY(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,Eo.WARN),e==="normal"?0:parseInt(e??"0",10)}const wY=t=>{switch(t){case"admin":return f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-purple-100 text-purple-600 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",children:"Admin"});case"lanh_dao":case"quan_ly":return f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-600 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",children:"Qun l"});case"giao_vien":return f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-yellow-100 text-yellow-600 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",children:"Gio vin"});case"hoc_vien":return f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-600 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",children:"Hc vin"});default:return f.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-gray-50 text-gray-500 border border-gray-200 dark:bg-zinc-800 dark:text-gray-400 dark:border-zinc-700",children:"Khch"})}},Cit=({userProfile:t,onBack:e})=>{const[r,n]=C.useState(null),[i,s]=C.useState(""),[a,o]=C.useState(!1),[l,u]=C.useState(!1),d=C.useRef(null),[m,g]=C.useState(!1),[v,x]=C.useState([]),[b,w]=C.useState([]),[_,k]=C.useState([]),[A,R]=C.useState(!1);C.useRef(null);const[P,j]=C.useState("");C.useRef(null),C.useEffect(()=>{g(["admin","quan_ly","giao_vien"].includes(t.role))},[t.role]),C.useEffect(()=>{(async()=>{R(!0);try{const he=cr(Vt(Ge,"users"),Ll(100)),ee=await Zr(he),ve=[];ee.forEach(B=>{const q=B.data();B.id!==t.id&&ve.push({id:B.id,name:q.full_name||q.fullName||"Ngi dng",photoURL:q.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(q.full_name||"User")}&background=random`,role:q.role||"hoc_vien",email:q.email||"",lastMessage:"",lastMessageTime:"",unreadCount:0})});const H={admin:1,lanh_dao:2,quan_ly:3,giao_vien:4,hoc_vien:5,guest:6};ve.sort((B,q)=>{const W=H[B.role]||99,Y=H[q.role]||99;return W-Y}),w(ve)}catch(he){console.error("Error fetching users:",he)}finally{R(!1)}})()},[m,t.id]),C.useEffect(()=>{if(P.trim()){const J=P.toLowerCase();k(b.filter(he=>he.name.toLowerCase().includes(J)))}else{const J=b.filter(he=>he.lastMessage||he.unreadCount);k(J)}},[P,b,m]),C.useEffect(()=>{if(!r)return;const J=[t.id,r.id].sort().join("_"),he=cr(Vt(Ge,"messages"),gr("conversationId","==",J),gr("visibleTo","array-contains",t.id),Wa("timestamp","desc"),Ll(50)),ee=wo(he,B=>{const q=[];B.forEach(W=>{const Y=W.data();q.push({id:W.id,senderId:Y.senderId,senderName:Y.senderName||"",content:Y.content,timestamp:Y.timestamp?Y.timestamp.toDate():new Date,status:"sent"})}),x(q.reverse())}),ve=xo(oa,`typing/${J}/${r.id}`),H=hx(ve,B=>{u(B.exists()&&B.val()===!0)});return()=>{ee(),H()}},[r,t.id]),C.useEffect(()=>{const J=xo(oa,"status"),he=hx(J,ee=>{if(ee.exists()){const ve=ee.val();w(H=>H.map(B=>{var q;return{...B,isOnline:((q=ve[B.id])==null?void 0:q.state)==="online"}}))}});return()=>he()},[]),C.useEffect(()=>{const J=cr(Vt(Ge,"messages"),gr("visibleTo","array-contains",t.id),Wa("timestamp","desc"),Ll(20)),ee=wo(J,ve=>{ve.docChanges().forEach(H=>{if(H.type==="added"){const B=H.doc.data(),q=B.senderId===t.id?B.receiverId:B.senderId;w(W=>{var pe;const Y=[...W],ue=Y.findIndex(ce=>ce.id===q);if(ue>-1){const ce={...Y[ue]};return(!ce.lastMessageTime||((pe=B.timestamp)==null?void 0:pe.toDate())>new Date(ce.lastMessageTime))&&(ce.lastMessage=B.content,ce.lastMessageTime="Va xong",(r==null?void 0:r.id)!==q&&(ce.unreadCount=(ce.unreadCount||0)+1),Y.splice(ue,1),Y.unshift(ce)),Y}else return W})}})});return()=>ee()},[t.id,r]);const S=J=>{if(s(J.target.value),!r)return;const he=[t.id,r.id].sort().join("_"),ee=xo(oa,`typing/${he}/${t.id}`);a||(o(!0),p4(ee,!0)),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{o(!1),nI(ee)},2e3)},I=async(J,he)=>{J==null||J.preventDefault();const ee=he||i;if(!(!ee.trim()||!r)){if(!he){s(""),o(!1);const ve=[t.id,r.id].sort().join("_");nI(xo(oa,`typing/${ve}/${t.id}`)),d.current&&clearTimeout(d.current)}try{const ve=[t.id,r.id].sort().join("_");await vf(Vt(Ge,"messages"),{senderId:t.id,senderName:t.full_name||"Ngi dng",receiverId:r.id,content:ee,timestamp:ys(),visibleTo:[t.id,r.id],conversationId:ve}),w(H=>{const B=[...H],q=B.findIndex(W=>W.id===r.id);if(q>-1){const W={...B[q]};W.lastMessage=ee===""?" gi mt like":ee,W.lastMessageTime="Va xong",B.splice(q,1),B.unshift(W)}return B})}catch(ve){console.error("Error sending message:",ve),alert("Li gi tin nhn")}}},O=async J=>{if(confirm("Bn c chc mun xa tin nhn ny  pha bn?"))try{await En(Rt(Ge,"messages",J),{visibleTo:_P(t.id)})}catch(he){console.error("Error deleting:",he)}},[D,M]=C.useState(null),[F,U]=C.useState(!1),le=C.useRef(null),de=async()=>{if(!r||!D||F)return;U(!0);const J=[t.id,r.id].sort().join("_");try{const he=cr(Vt(Ge,"messages"),gr("conversationId","==",J),gr("visibleTo","array-contains",t.id),Wa("timestamp","desc"),AZ(D),Ll(20)),ee=await Zr(he);if(ee.empty)M(null);else{const ve=[];ee.forEach(H=>{const B=H.data();ve.push({id:H.id,senderId:B.senderId,senderName:"",content:B.content,timestamp:B.timestamp?B.timestamp.toDate():new Date,status:"sent"})}),M(ee.docs[ee.docs.length-1]),x(H=>[...ve.reverse(),...H])}}catch(he){console.error("Error loading more:",he)}finally{U(!1)}},Z=J=>{var ee;const he=(ee=J.target.files)==null?void 0:ee[0];he&&I(void 0,`[ gi nh: ${he.name}]`)};return f.jsxs("div",{className:"w-full h-[calc(100vh-64px)] bg-white dark:bg-black flex",children:[f.jsxs("div",{className:`w-full md:w-[360px] border-r border-gray-200 dark:border-gray-800 flex flex-col bg-white dark:bg-black ${r?"hidden md:flex":"flex"}`,children:[f.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent",children:"Chat"}),f.jsx("div",{className:"flex gap-2",children:f.jsx("button",{className:"p-2 rounded-full bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:f.jsx(eY,{size:20,className:"text-gray-600 dark:text-gray-300"})})})]}),f.jsxs("div",{className:"relative",children:[f.jsx(Rrt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),f.jsx("input",{type:"text",value:P,onChange:J=>j(J.target.value),placeholder:"Tm ngi dng...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-zinc-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium text-gray-700 dark:text-gray-200"})]})]}),f.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:A?f.jsx("div",{className:"flex justify-center p-4",children:f.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full"})}):f.jsxs(f.Fragment,{children:[!P&&_.length===0&&f.jsxs("div",{className:"text-center p-8 text-gray-500 text-sm",children:[f.jsx("p",{children:"Cha c cuc tr chuyn no."}),f.jsx("p",{className:"mt-1",children:"Tm kim  bt u chat!"})]}),_.map(J=>f.jsxs(jg.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(J),className:`p-3 rounded-xl flex items-center gap-3 cursor-pointer transition-all mb-1 ${(r==null?void 0:r.id)===J.id?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:[f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:J.photoURL,alt:J.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 dark:border-gray-800"}),J.isOnline&&f.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-black rounded-full"})]}),f.jsxs("div",{className:"flex-1 min-w-0",children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:J.name}),wY(J.role)]}),J.email&&f.jsx("p",{className:"text-xs text-gray-500 truncate",children:J.email}),f.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[f.jsx("span",{className:`truncate max-w-[140px] ${J.unreadCount?"font-bold text-gray-900 dark:text-gray-100":""}`,children:J.lastMessage||(J.role==="admin"?"H tr trc tuyn":"Bt u tr chuyn")}),J.lastMessageTime&&f.jsxs(f.Fragment,{children:[f.jsx("span",{className:"text-xs",children:""}),f.jsx("span",{className:"text-xs",children:J.lastMessageTime})]})]})]}),J.unreadCount?f.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center shadow-sm",children:f.jsx("span",{className:"text-[10px] font-bold text-white",children:J.unreadCount})}):null]},J.id))]})})]}),f.jsx("div",{className:`flex-1 flex flex-col bg-white dark:bg-black transition-all ${r?"flex":"hidden md:flex items-center justify-center"}`,children:r?f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between bg-white/80 dark:bg-black/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:[f.jsxs("div",{className:"flex items-center gap-3",children:[f.jsx("button",{onClick:()=>n(null),className:"md:hidden p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full",children:f.jsx(Ztt,{size:24,className:"text-blue-600"})}),f.jsxs("div",{className:"relative",children:[f.jsx("img",{src:r.photoURL,alt:"Avt",className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 object-cover"}),r.isOnline&&f.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-black rounded-full"})]}),f.jsxs("div",{children:[f.jsxs("div",{className:"flex items-center gap-2",children:[f.jsx("h2",{className:"font-bold text-gray-900 dark:text-gray-100 leading-tight",children:r.name}),wY(r.role)]}),r.email&&f.jsx("p",{className:"text-xs text-gray-500",children:r.email}),f.jsx("span",{className:`text-xs font-medium flex items-center gap-1 ${r.isOnline?"text-green-600":"text-gray-500"}`,children:r.isOnline?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," ang hot ng"]}):"Ngoi tuyn"})]})]}),f.jsx("div",{className:"flex items-center gap-2",children:f.jsxs("div",{className:"flex items-center gap-4 text-blue-600",children:[f.jsx(Art,{size:24,className:"cursor-pointer hover:opacity-80 disabled-opacity"}),f.jsx(eY,{size:24,className:"cursor-pointer hover:opacity-80 disabled-opacity"}),f.jsx(grt,{size:24,className:"cursor-pointer hover:opacity-80"})]})})]}),!1,f.jsx("div",{className:"flex-1 p-4 bg-white dark:bg-black overflow-hidden",children:f.jsx(hit,{ref:le,style:{height:"100%"},data:v,startReached:de,initialTopMostItemIndex:v.length-1,followOutput:"auto",alignToBottom:!0,itemContent:(J,he)=>{var H;const ee=he.senderId===t.id,ve=!ee&&(J===v.length-1||((H=v[J+1])==null?void 0:H.senderId)!==he.senderId);return f.jsxs(jg.div,{layout:!0,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex gap-2 group mb-2 ${ee?"justify-end":"justify-start"}`,children:[!ee&&f.jsx("div",{className:"w-8 flex flex-col justify-end",children:ve?f.jsx("img",{src:r.photoURL,className:"w-8 h-8 rounded-full border border-gray-200 object-cover"}):f.jsx("div",{className:"w-8"})}),ee&&f.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center mr-2",children:f.jsx("button",{onClick:()=>O(he.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-gray-50 dark:bg-zinc-800 rounded-full",title:"Xa  pha ti",children:f.jsx(ZK,{size:14})})}),!ee&&f.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center order-last ml-2",children:f.jsx("button",{onClick:()=>O(he.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-gray-50 dark:bg-zinc-800 rounded-full",title:"Xa  pha ti",children:f.jsx(ZK,{size:14})})}),f.jsxs("div",{className:"flex flex-col items-end",children:[f.jsx("div",{className:`px-4 py-2 text-[15px] leading-relaxed break-words shadow-sm ${ee?"bg-blue-600 text-white rounded-2xl rounded-tr-md":"bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-gray-100 rounded-2xl rounded-tl-md border border-gray-200 dark:border-gray-700"}`,children:he.content}),ee&&f.jsxs("div",{className:"flex items-center justify-end text-[10px] text-gray-400 mt-1 mr-1 gap-1 h-3",children:[he.status==="sending"&&f.jsx(srt,{size:10,className:"animate-spin"}),he.status==="sent"&&f.jsx(Qtt,{size:12,className:"text-blue-500"}),he.status==="error"&&f.jsx(trt,{size:12,className:"text-red-500"})]})]})]})},components:{Header:()=>f.jsxs("div",{className:"py-4",children:[F&&f.jsx("div",{className:"text-center text-xs text-gray-400",children:"ang ti tin c hn..."}),!F&&!D&&f.jsxs("div",{className:"flex flex-col items-center mt-4 mb-8 opacity-60",children:[f.jsx("img",{src:r.photoURL,className:"w-20 h-20 rounded-full mb-4 object-cover shadow-lg border-2 border-white"}),f.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.name}),f.jsx("p",{className:"text-sm text-gray-500",children:m?"Thng tin hc vin / ng nghip":"Ban Qun Tr H Thng"})]})]}),Footer:()=>l?f.jsx("div",{className:"flex justify-start mb-2 ml-10 mt-2",children:f.jsxs("div",{className:"bg-gray-100 dark:bg-zinc-800 px-4 py-3 rounded-2xl rounded-tl-md flex gap-1 items-center",children:[f.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),f.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),f.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}):null}})}),f.jsxs("div",{className:"p-3 bg-white dark:bg-black flex items-center gap-2 border-t border-gray-100 dark:border-gray-800 relative",children:[!1,f.jsxs("button",{className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-full transition-colors relative",children:[f.jsx(mrt,{size:20}),f.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:Z})]}),f.jsxs("form",{onSubmit:I,className:"flex-1 flex items-center gap-2 bg-gray-100 dark:bg-zinc-800 rounded-full px-4 py-2",children:[f.jsx("input",{type:"text",placeholder:"Nhp tin nhn...",value:i,onChange:S,className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 dark:text-white placeholder-gray-500",disabled:!1}),f.jsx("button",{type:"button",onClick:()=>s(J=>J+""),className:"text-gray-400 hover:text-yellow-500 transition-colors",children:f.jsx(Urt,{size:20})})]}),i.trim()?f.jsx("button",{onClick:I,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg transition-transform active:scale-95 flex items-center justify-center",children:f.jsx(JK,{size:18,className:"translate-x-0.5 translate-y-0.5"})}):f.jsx("button",{onClick:()=>I(void 0,""),className:"p-3 text-blue-600 hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-full transition-colors",children:f.jsx("span",{className:"text-xl",children:""})})]})]}):f.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[f.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mb-4",children:f.jsx(JK,{size:40,className:"text-blue-600 -ml-1 mt-1"})}),f.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Cho mng n vi Chat"}),f.jsx("p",{className:"text-gray-500 mt-2",children:"Chn mt cuc hi thoi t danh sch bn tri"})]})})]})},SM="usage_config",nw="settings",Al={guest:{limit:5,period:"daily",isEnabled:!0,showAds:!0,message:"Bn  s dng ht {limit} lt lm th min ph trong ngy. Vui lng ng nhp  tip tc n tp! Mi chi tit lin h phng o to-Cng ty CP T vn v Gio dc Ninh Bnh. ST: 022 96 282 969"},free_user:{limit:10,period:"daily",isEnabled:!0,showAds:!0,message:"Bn  ht {limit} lt lm bi min ph hm nay. Hy ng k lp hc  m kha ton b tnh nng v n tp khng gii hn. Mi chi tit lin h phng o to-Cng ty CP T vn v Gio dc Ninh Bnh. ST: 022 96 282 969"},verified_user:{limit:50,period:"daily",isEnabled:!1,showAds:!1,message:"Ti khon lp ca bn  t gii hn {limit} lt truy cp. Vui lng lin h gio vin hoc admin  c h tr."},vip_user:{limit:100,period:"daily",isEnabled:!1,showAds:!1,message:"Ti khon VIP ca bn  ht {limit} lt s dng. Vui lng gia hn hoc lin h h tr."},teacher:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn gio vin."},manager:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn cn b qun l."},admin:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn Admin."}},iw=async()=>{try{const t=Rt(Ge,nw,SM),e=await yu(t);if(e.exists()){const r=e.data();return{...Al,guest:{...Al.guest,...r.guest||{}},free_user:{...Al.free_user,...r.free_user||{}},verified_user:{...Al.verified_user,...r.verified_user||{}},vip_user:{...Al.vip_user,...r.vip_user||{}},teacher:{...Al.teacher,...r.teacher||{}},manager:{...Al.manager,...r.manager||{}},admin:{...Al.admin,...r.admin||{}},app_links:r.app_links||Al.app_links}}else return console.log("Initializing default usage config..."),await jm(t,Al),Al}catch(t){return console.error("Error fetching usage config:",t),Al}},HO=async t=>{try{const e=Rt(Ge,nw,SM);await jm(e,t)}catch(e){throw console.error("Error saving usage config:",e),e}},kM=async()=>{try{const t=Rt(Ge,nw,"github_config"),e=await yu(t);return e.exists()?e.data():{owner:"aitnd",repo:"TNDNB"}}catch(t){return console.error("Error fetching GitHub config:",t),{owner:"aitnd",repo:"TNDNB"}}},Uue=async t=>{try{const e=Rt(Ge,nw,"github_config");await jm(e,t)}catch(e){throw console.error("Error saving GitHub config:",e),e}},Nit=Object.freeze(Object.defineProperty({__proto__:null,SETTINGS_COLLECTION:nw,USAGE_CONFIG_DOC_ID:SM,getGitHubConfig:kM,getUsageConfig:iw,saveGitHubConfig:Uue,saveUsageConfig:HO},Symbol.toStringTag,{value:"Module"}));/*!
* sweetalert2 v11.26.4
* Released under the MIT License.
*/function zue(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Iit(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function _Y(t,e){return t.get(zue(t,e))}function Oit(t,e,r){Iit(t,e),e.set(t,r)}function Rit(t,e,r){return t.set(zue(t,e),r),r}const Pit=100,Ot={},jit=()=>{Ot.previousActiveElement instanceof HTMLElement?(Ot.previousActiveElement.focus(),Ot.previousActiveElement=null):document.body&&document.body.focus()},Dit=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Ot.restoreFocusTimeout=setTimeout(()=>{jit(),e()},Pit),window.scrollTo(r,n)}),$ue="swal2-",Mit=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],De=Mit.reduce((t,e)=>(t[e]=$ue+e,t),{}),Lit=["success","warning","info","question","error"],aS=Lit.reduce((t,e)=>(t[e]=$ue+e,t),{}),Hue="SweetAlert2:",AM=t=>t.charAt(0).toUpperCase()+t.slice(1),Qa=t=>{console.warn(`${Hue} ${typeof t=="object"?t.join(" "):t}`)},Km=t=>{console.error(`${Hue} ${t}`)},EY=[],Fit=t=>{EY.includes(t)||(EY.push(t),Qa(t))},que=(t,e=null)=>{Fit(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},kk=t=>typeof t=="function"?t():t,CM=t=>t&&typeof t.toPromise=="function",sw=t=>CM(t)?t.toPromise():Promise.resolve(t),NM=t=>t&&Promise.resolve(t)===t,Za=()=>document.body.querySelector(`.${De.container}`),aw=t=>{const e=Za();return e?e.querySelector(t):null},cl=t=>aw(`.${t}`),Fr=()=>cl(De.popup),Zv=()=>cl(De.icon),Bit=()=>cl(De["icon-content"]),Wue=()=>cl(De.title),IM=()=>cl(De["html-container"]),Gue=()=>cl(De.image),OM=()=>cl(De["progress-steps"]),Ak=()=>cl(De["validation-message"]),Nu=()=>aw(`.${De.actions} .${De.confirm}`),ey=()=>aw(`.${De.actions} .${De.cancel}`),Ym=()=>aw(`.${De.actions} .${De.deny}`),Vit=()=>cl(De["input-label"]),ty=()=>aw(`.${De.loader}`),ow=()=>cl(De.actions),Kue=()=>cl(De.footer),Ck=()=>cl(De["timer-progress-bar"]),RM=()=>cl(De.close),Uit=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,PM=()=>{const t=Fr();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((s,a)=>{const o=parseInt(s.getAttribute("tabindex")||"0"),l=parseInt(a.getAttribute("tabindex")||"0");return o>l?1:o<l?-1:0}),n=t.querySelectorAll(Uit),i=Array.from(n).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(s=>To(s))},jM=()=>Td(document.body,De.shown)&&!Td(document.body,De["toast-shown"])&&!Td(document.body,De["no-backdrop"]),Nk=()=>{const t=Fr();return t?Td(t,De.toast):!1},zit=()=>{const t=Fr();return t?t.hasAttribute("data-loading"):!1},ul=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(a=>{t.appendChild(a)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?t.appendChild(a.cloneNode(!0)):t.appendChild(a)})}},Td=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},$it=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(De).includes(r)&&!Object.values(aS).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},ol=(t,e,r)=>{if($it(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Qa(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}Yr(t,n)}},Ik=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${De.popup} > .${De[e]}`);case"checkbox":return t.querySelector(`.${De.popup} > .${De.checkbox} input`);case"radio":return t.querySelector(`.${De.popup} > .${De.radio} input:checked`)||t.querySelector(`.${De.popup} > .${De.radio} input:first-child`);case"range":return t.querySelector(`.${De.popup} > .${De.range} input`);default:return t.querySelector(`.${De.popup} > .${De.input}`)}},Yue=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Xue=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},Yr=(t,e)=>{Xue(t,e,!0)},Kl=(t,e)=>{Xue(t,e,!1)},Kh=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&Td(i,e))return i}},Z0=(t,e,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},qs=(t,e="flex")=>{t&&(t.style.display=e)},Da=t=>{t&&(t.style.display="none")},DM=(t,e="block")=>{t&&new MutationObserver(()=>{lw(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},TY=(t,e,r,n)=>{const i=t.querySelector(e);i&&i.style.setProperty(r,n)},lw=(t,e,r="flex")=>{e?qs(t,r):Da(t)},To=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),Hit=()=>!To(Nu())&&!To(Ym())&&!To(ey()),qO=t=>t.scrollHeight>t.clientHeight,qit=(t,e)=>{let r=t;for(;r&&r!==e;){if(qO(r))return!0;r=r.parentElement}return!1},Que=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},MM=(t,e=!1)=>{const r=Ck();r&&To(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},Wit=()=>{const t=Ck();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},Git=()=>typeof window>"u"||typeof document>"u",Kit=`
 <div aria-labelledby="${De.title}" aria-describedby="${De["html-container"]}" class="${De.popup}" tabindex="-1">
   <button type="button" class="${De.close}"></button>
   <ul class="${De["progress-steps"]}"></ul>
   <div class="${De.icon}"></div>
   <img class="${De.image}" />
   <h2 class="${De.title}" id="${De.title}"></h2>
   <div class="${De["html-container"]}" id="${De["html-container"]}"></div>
   <input class="${De.input}" id="${De.input}" />
   <input type="file" class="${De.file}" />
   <div class="${De.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${De.select}" id="${De.select}"></select>
   <div class="${De.radio}"></div>
   <label class="${De.checkbox}">
     <input type="checkbox" id="${De.checkbox}" />
     <span class="${De.label}"></span>
   </label>
   <textarea class="${De.textarea}" id="${De.textarea}"></textarea>
   <div class="${De["validation-message"]}" id="${De["validation-message"]}"></div>
   <div class="${De.actions}">
     <div class="${De.loader}"></div>
     <button type="button" class="${De.confirm}"></button>
     <button type="button" class="${De.deny}"></button>
     <button type="button" class="${De.cancel}"></button>
   </div>
   <div class="${De.footer}"></div>
   <div class="${De["timer-progress-bar-container"]}">
     <div class="${De["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Yit=()=>{const t=Za();return t?(t.remove(),Kl([document.documentElement,document.body],[De["no-backdrop"],De["toast-shown"],De["has-column"]]),!0):!1},g0=()=>{Ot.currentInstance.resetValidationMessage()},Xit=()=>{const t=Fr(),e=Kh(t,De.input),r=Kh(t,De.file),n=t.querySelector(`.${De.range} input`),i=t.querySelector(`.${De.range} output`),s=Kh(t,De.select),a=t.querySelector(`.${De.checkbox} input`),o=Kh(t,De.textarea);e.oninput=g0,r.onchange=g0,s.onchange=g0,a.onchange=g0,o.oninput=g0,n.oninput=()=>{g0(),i.value=n.value},n.onchange=()=>{g0(),i.value=n.value}},Qit=t=>typeof t=="string"?document.querySelector(t):t,Jit=t=>{const e=Fr();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},Zit=t=>{window.getComputedStyle(t).direction==="rtl"&&(Yr(Za(),De.rtl),Ot.isRTL=!0)},est=t=>{const e=Yit();if(Git()){Km("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=De.container,e&&Yr(r,De["no-transition"]),ul(r,Kit),r.dataset.swal2Theme=t.theme;const n=Qit(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),Jit(t),Zit(n),Xit()},LM=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?tst(t,e):t&&ul(e,t)},tst=(t,e)=>{t.jquery?rst(e,t):ul(e,t.toString())},rst=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},nst=(t,e)=>{const r=ow(),n=ty();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Da(r):qs(r),ol(r,e,"actions"),ist(r,n,e),ul(n,e.loaderHtml||""),ol(n,e,"loader"))};function ist(t,e,r){const n=Nu(),i=Ym(),s=ey();!n||!i||!s||(B5(n,"confirm",r),B5(i,"deny",r),B5(s,"cancel",r),sst(n,i,s,r),r.reverseButtons&&(r.toast?(t.insertBefore(s,n),t.insertBefore(i,n)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(n,e))))}function sst(t,e,r,n){if(!n.buttonsStyling){Kl([t,e,r],De.styled);return}Yr([t,e,r],De.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),F5(t),F5(e),F5(r)}function F5(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function B5(t,e,r){const n=AM(e);lw(t,r[`show${n}Button`],"inline-block"),ul(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=De[e],ol(t,r,`${e}Button`)}const ast=(t,e)=>{const r=RM();r&&(ul(r,e.closeButtonHtml||""),ol(r,e,"closeButton"),lw(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},ost=(t,e)=>{const r=Za();r&&(lst(r,e.backdrop),cst(r,e.position),ust(r,e.grow),ol(r,e,"container"))};function lst(t,e){typeof e=="string"?t.style.background=e:e||Yr([document.documentElement,document.body],De["no-backdrop"])}function cst(t,e){e&&(e in De?Yr(t,De[e]):(Qa('The "position" parameter is not valid, defaulting to "center"'),Yr(t,De.center)))}function ust(t,e){e&&Yr(t,De[`grow-${e}`])}var Fn={innerParams:new WeakMap,domCache:new WeakMap};const dst=["input","file","range","select","radio","checkbox","textarea"],hst=(t,e)=>{const r=Fr();if(!r)return;const n=Fn.innerParams.get(t),i=!n||e.input!==n.input;dst.forEach(s=>{const a=Kh(r,De[s]);a&&(pst(s,e.inputAttributes),a.className=De[s],i&&Da(a))}),e.input&&(i&&fst(e),gst(e))},fst=t=>{if(!t.input)return;if(!Di[t.input]){Km(`Unexpected type of input! Expected ${Object.keys(Di).join(" | ")}, got "${t.input}"`);return}const e=Jue(t.input);if(!e)return;const r=Di[t.input](e,t);qs(e),t.inputAutoFocus&&setTimeout(()=>{Yue(r)})},mst=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},pst=(t,e)=>{const r=Fr();if(!r)return;const n=Ik(r,t);if(n){mst(n);for(const i in e)n.setAttribute(i,e[i])}},gst=t=>{if(!t.input)return;const e=Jue(t.input);e&&ol(e,t,"input")},FM=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},cw=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=De["input-label"];n.setAttribute("for",t.id),n.className=i,typeof r.customClass=="object"&&Yr(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},Jue=t=>{const e=Fr();if(e)return Kh(e,De[t]||De.input)},oS=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:NM(e)||Qa(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Di={};Di.text=Di.email=Di.password=Di.number=Di.tel=Di.url=Di.search=Di.date=Di["datetime-local"]=Di.time=Di.week=Di.month=(t,e)=>(oS(t,e.inputValue),cw(t,t,e),FM(t,e),t.type=e.input,t);Di.file=(t,e)=>(cw(t,t,e),FM(t,e),t);Di.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return oS(r,e.inputValue),r.type=e.input,oS(n,e.inputValue),cw(r,t,e),t};Di.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");ul(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return cw(t,t,e),t};Di.radio=t=>(t.textContent="",t);Di.checkbox=(t,e)=>{const r=Ik(Fr(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return ul(n,e.inputPlaceholder||e.inputLabel),r};Di.textarea=(t,e)=>{oS(t,e.inputValue),FM(t,e),cw(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Fr()).width),i=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+r(t);s>n?Fr().style.width=`${s}px`:Z0(Fr(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const vst=(t,e)=>{const r=IM();r&&(DM(r),ol(r,e,"htmlContainer"),e.html?(LM(e.html,r),qs(r,"block")):e.text?(r.textContent=e.text,qs(r,"block")):Da(r),hst(t,e))},yst=(t,e)=>{const r=Kue();r&&(DM(r),lw(r,!!e.footer,"block"),e.footer&&LM(e.footer,r),ol(r,e,"footer"))},xst=(t,e)=>{const r=Fn.innerParams.get(t),n=Zv();if(!n)return;if(r&&e.icon===r.icon){kY(n,e),SY(n,e);return}if(!e.icon&&!e.iconHtml){Da(n);return}if(e.icon&&Object.keys(aS).indexOf(e.icon)===-1){Km(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Da(n);return}qs(n),kY(n,e),SY(n,e),Yr(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Zue)},SY=(t,e)=>{for(const[r,n]of Object.entries(aS))e.icon!==r&&Kl(t,n);Yr(t,e.icon&&aS[e.icon]),_st(t,e),Zue(),ol(t,e,"icon")},Zue=()=>{const t=Fr();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},bst=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,wst=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,kY=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=AY(e.iconHtml):e.icon==="success"?(n=bst(e),r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=wst:e.icon&&(n=AY({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&ul(t,n)},_st=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])TY(t,r,"background-color",e.iconColor);TY(t,".swal2-success-ring","border-color",e.iconColor)}},AY=t=>`<div class="${De["icon-content"]}">${t}</div>`,Est=(t,e)=>{const r=Gue();if(r){if(!e.imageUrl){Da(r);return}qs(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),Z0(r,"width",e.imageWidth),Z0(r,"height",e.imageHeight),r.className=De.image,ol(r,e,"image")}};let BM=!1,ede=0,tde=0,rde=0,nde=0;const Tst=t=>{t.addEventListener("mousedown",lS),document.body.addEventListener("mousemove",cS),t.addEventListener("mouseup",uS),t.addEventListener("touchstart",lS),document.body.addEventListener("touchmove",cS),t.addEventListener("touchend",uS)},Sst=t=>{t.removeEventListener("mousedown",lS),document.body.removeEventListener("mousemove",cS),t.removeEventListener("mouseup",uS),t.removeEventListener("touchstart",lS),document.body.removeEventListener("touchmove",cS),t.removeEventListener("touchend",uS)},lS=t=>{const e=Fr();if(t.target===e||Zv().contains(t.target)){BM=!0;const r=ide(t);ede=r.clientX,tde=r.clientY,rde=parseInt(e.style.insetInlineStart)||0,nde=parseInt(e.style.insetBlockStart)||0,Yr(e,"swal2-dragging")}},cS=t=>{const e=Fr();if(BM){let{clientX:r,clientY:n}=ide(t);const i=r-ede;e.style.insetInlineStart=`${rde+(Ot.isRTL?-i:i)}px`,e.style.insetBlockStart=`${nde+(n-tde)}px`}},uS=()=>{const t=Fr();BM=!1,Kl(t,"swal2-dragging")},ide=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},kst=(t,e)=>{const r=Za(),n=Fr();if(!(!r||!n)){if(e.toast){Z0(r,"width",e.width),n.style.width="100%";const i=ty();i&&n.insertBefore(i,Zv())}else Z0(n,"width",e.width);Z0(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Da(Ak()),Ast(n,e),e.draggable&&!e.toast?(Yr(n,De.draggable),Tst(n)):(Kl(n,De.draggable),Sst(n))}},Ast=(t,e)=>{const r=e.showClass||{};t.className=`${De.popup} ${To(t)?r.popup:""}`,e.toast?(Yr([document.documentElement,document.body],De["toast-shown"]),Yr(t,De.toast)):Yr(t,De.modal),ol(t,e,"popup"),typeof e.customClass=="string"&&Yr(t,e.customClass),e.icon&&Yr(t,De[`icon-${e.icon}`])},Cst=(t,e)=>{const r=OM();if(!r)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){Da(r);return}qs(r),r.textContent="",i>=n.length&&Qa("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((s,a)=>{const o=Nst(s);if(r.appendChild(o),a===i&&Yr(o,De["active-progress-step"]),a!==n.length-1){const l=Ist(e);r.appendChild(l)}})},Nst=t=>{const e=document.createElement("li");return Yr(e,De["progress-step"]),ul(e,t),e},Ist=t=>{const e=document.createElement("li");return Yr(e,De["progress-step-line"]),t.progressStepsDistance&&Z0(e,"width",t.progressStepsDistance),e},Ost=(t,e)=>{const r=Wue();r&&(DM(r),lw(r,!!(e.title||e.titleText),"block"),e.title&&LM(e.title,r),e.titleText&&(r.innerText=e.titleText),ol(r,e,"title"))},sde=(t,e)=>{kst(t,e),ost(t,e),Cst(t,e),xst(t,e),Est(t,e),Ost(t,e),ast(t,e),vst(t,e),nst(t,e),yst(t,e);const r=Fr();typeof e.didRender=="function"&&r&&e.didRender(r),Ot.eventEmitter.emit("didRender",r)},Rst=()=>To(Fr()),ade=()=>{var t;return(t=Nu())===null||t===void 0?void 0:t.click()},Pst=()=>{var t;return(t=Ym())===null||t===void 0?void 0:t.click()},jst=()=>{var t;return(t=ey())===null||t===void 0?void 0:t.click()},ry=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),ode=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},Dst=(t,e,r)=>{ode(t),e.toast||(t.keydownHandler=n=>Lst(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:Fr(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},WO=(t,e)=>{var r;const n=PM();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=Fr())===null||r===void 0||r.focus()},lde=["ArrowRight","ArrowDown"],Mst=["ArrowLeft","ArrowUp"],Lst=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?Fst(e,t):e.key==="Tab"?Bst(e):[...lde,...Mst].includes(e.key)?Vst(e.key):e.key==="Escape"&&Ust(e,t,r)))},Fst=(t,e)=>{if(!kk(e.allowEnterKey))return;const r=Ik(Fr(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;ade(),t.preventDefault()}},Bst=t=>{const e=t.target,r=PM();let n=-1;for(let i=0;i<r.length;i++)if(e===r[i]){n=i;break}t.shiftKey?WO(n,-1):WO(n,1),t.stopPropagation(),t.preventDefault()},Vst=t=>{const e=ow(),r=Nu(),n=Ym(),i=ey();if(!e||!r||!n||!i)return;const s=[r,n,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const a=lde.includes(t)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let l=0;l<e.children.length;l++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&To(o))break}o instanceof HTMLButtonElement&&o.focus()}},Ust=(t,e,r)=>{t.preventDefault(),kk(e.allowEscapeKey)&&r(ry.esc)};var pv={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const zst=()=>{const t=Za();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},cde=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},ude=typeof window<"u"&&!!window.GestureEvent,$st=()=>{if(ude&&!Td(document.body,De.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,Yr(document.body,De.iosfix),Hst()}},Hst=()=>{const t=Za();if(!t)return;let e;t.ontouchstart=r=>{e=qst(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},qst=t=>{const e=t.target,r=Za(),n=IM();return!r||!n||Wst(t)||Gst(t)?!1:e===r||!qO(r)&&e instanceof HTMLElement&&!qit(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(qO(n)&&n.contains(e))},Wst=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",Gst=t=>t.touches&&t.touches.length>1,Kst=()=>{if(Td(document.body,De.iosfix)){const t=parseInt(document.body.style.top,10);Kl(document.body,De.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},Yst=()=>{const t=document.createElement("div");t.className=De["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let Ig=null;const Xst=t=>{Ig===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(Ig=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ig+Yst()}px`)},Qst=()=>{Ig!==null&&(document.body.style.paddingRight=`${Ig}px`,Ig=null)};function dde(t,e,r,n){Nk()?CY(t,n):(Dit(r).then(()=>CY(t,n)),ode(Ot)),ude?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),jM()&&(Qst(),Kst(),cde()),Jst()}function Jst(){Kl([document.documentElement,document.body],[De.shown,De["height-auto"],De["no-backdrop"],De["toast-shown"]])}function Yh(t){t=eat(t);const e=pv.swalPromiseResolve.get(this),r=Zst(this);this.isAwaitingPromise?t.isDismissed||(uw(this),e(t)):r&&e(t)}const Zst=t=>{const e=Fr();if(!e)return!1;const r=Fn.innerParams.get(t);if(!r||Td(e,r.hideClass.popup))return!1;Kl(e,r.showClass.popup),Yr(e,r.hideClass.popup);const n=Za();return Kl(n,r.showClass.backdrop),Yr(n,r.hideClass.backdrop),tat(t,e,r),!0};function hde(t){const e=pv.swalPromiseReject.get(this);uw(this),e&&e(t)}const uw=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Fn.innerParams.get(t)||t._destroy())},eat=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),tat=(t,e,r)=>{var n;const i=Za(),s=Que(e);typeof r.willClose=="function"&&r.willClose(e),(n=Ot.eventEmitter)===null||n===void 0||n.emit("willClose",e),s?rat(t,e,i,r.returnFocus,r.didClose):dde(t,i,r.returnFocus,r.didClose)},rat=(t,e,r,n,i)=>{Ot.swalCloseEventFinishedCallback=dde.bind(null,t,r,n,i);const s=function(a){if(a.target===e){var o;(o=Ot.swalCloseEventFinishedCallback)===null||o===void 0||o.call(Ot),delete Ot.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},CY=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Ot.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},gv=t=>{let e=Fr();if(e||new Os,e=Fr(),!e)return;const r=ty();Nk()?Da(Zv()):nat(e,t),qs(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},nat=(t,e)=>{const r=ow(),n=ty();!r||!n||(!e&&To(Nu())&&(e=Nu()),qs(r),e&&(Da(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),Yr([t,r],De.loading))},iat=(t,e)=>{e.input==="select"||e.input==="radio"?cat(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(CM(e.inputValue)||NM(e.inputValue))&&(gv(Nu()),uat(t,e))},sat=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return aat(r);case"radio":return oat(r);case"file":return lat(r);default:return e.inputAutoTrim?r.value.trim():r.value}},aat=t=>t.checked?1:0,oat=t=>t.checked?t.value:null,lat=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,cat=(t,e)=>{const r=Fr();if(!r)return;const n=i=>{e.input==="select"?dat(r,dS(i),e):e.input==="radio"&&hat(r,dS(i),e)};CM(e.inputOptions)||NM(e.inputOptions)?(gv(Nu()),sw(e.inputOptions).then(i=>{t.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):Km(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},uat=(t,e)=>{const r=t.getInput();r&&(Da(r),sw(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,qs(r),r.focus(),t.hideLoading()}).catch(n=>{Km(`Error in inputValue promise: ${n}`),r.value="",qs(r),r.focus(),t.hideLoading()}))};function dat(t,e,r){const n=Kh(t,De.select);if(!n)return;const i=(s,a,o)=>{const l=document.createElement("option");l.value=o,ul(l,a),l.selected=fde(o,r.inputValue),s.appendChild(l)};e.forEach(s=>{const a=s[0],o=s[1];if(Array.isArray(o)){const l=document.createElement("optgroup");l.label=a,l.disabled=!1,n.appendChild(l),o.forEach(u=>i(l,u[1],u[0]))}else i(n,o,a)}),n.focus()}function hat(t,e,r){const n=Kh(t,De.radio);if(!n)return;e.forEach(s=>{const a=s[0],o=s[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=De.radio,l.value=a,fde(a,r.inputValue)&&(l.checked=!0);const d=document.createElement("span");ul(d,o),d.className=De.label,u.appendChild(l),u.appendChild(d),n.appendChild(u)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const dS=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=dS(i)),e.push([n,i])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=dS(n)),e.push([r,n])}),e},fde=(t,e)=>!!e&&e.toString()===t.toString(),fat=t=>{const e=Fn.innerParams.get(t);t.disableButtons(),e.input?mde(t,"confirm"):UM(t,!0)},mat=t=>{const e=Fn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?mde(t,"deny"):VM(t,!1)},pat=(t,e)=>{t.disableButtons(),e(ry.cancel)},mde=(t,e)=>{const r=Fn.innerParams.get(t);if(!r.input){Km(`The "input" parameter is needed to be set when using returnInputValueOn${AM(e)}`);return}const n=t.getInput(),i=sat(t,r);r.inputValidator?gat(t,i,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?VM(t,i):UM(t,i)},gat=(t,e,r)=>{const n=Fn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>sw(n.inputValidator(e,n.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):r==="deny"?VM(t,e):UM(t,e)})},VM=(t,e)=>{const r=Fn.innerParams.get(t||void 0);r.showLoaderOnDeny&&gv(Ym()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>sw(r.preDeny(e,r.validationMessage))).then(i=>{i===!1?(t.hideLoading(),uw(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>pde(t||void 0,i))):t.close({isDenied:!0,value:e})},NY=(t,e)=>{t.close({isConfirmed:!0,value:e})},pde=(t,e)=>{t.rejectPromise(e)},UM=(t,e)=>{const r=Fn.innerParams.get(t||void 0);r.showLoaderOnConfirm&&gv(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>sw(r.preConfirm(e,r.validationMessage))).then(i=>{To(Ak())||i===!1?(t.hideLoading(),uw(t)):NY(t,typeof i>"u"?e:i)}).catch(i=>pde(t||void 0,i))):NY(t,e)};function hS(){const t=Fn.innerParams.get(this);if(!t)return;const e=Fn.domCache.get(this);Da(e.loader),Nk()?t.icon&&qs(Zv()):vat(e),Kl([e.popup,e.actions],De.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const vat=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?qs(e[0],"inline-block"):Hit()&&Da(t.actions)};function gde(){const t=Fn.innerParams.get(this),e=Fn.domCache.get(this);return e?Ik(e.popup,t.input):null}function vde(t,e,r){const n=Fn.domCache.get(t);e.forEach(i=>{n[i].disabled=r})}function yde(t,e){const r=Fr();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${De.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else t.disabled=e}function xde(){vde(this,["confirmButton","denyButton","cancelButton"],!1)}function bde(){vde(this,["confirmButton","denyButton","cancelButton"],!0)}function wde(){yde(this.getInput(),!1)}function _de(){yde(this.getInput(),!0)}function Ede(t){const e=Fn.domCache.get(this),r=Fn.innerParams.get(this);ul(e.validationMessage,t),e.validationMessage.className=De["validation-message"],r.customClass&&r.customClass.validationMessage&&Yr(e.validationMessage,r.customClass.validationMessage),qs(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",De["validation-message"]),Yue(n),Yr(n,De.inputerror))}function Tde(){const t=Fn.domCache.get(this);t.validationMessage&&Da(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),Kl(e,De.inputerror))}const Og={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},yat=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],xat={allowEnterKey:void 0},bat=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],Sde=t=>Object.prototype.hasOwnProperty.call(Og,t),kde=t=>yat.indexOf(t)!==-1,Ade=t=>xat[t],wat=t=>{Sde(t)||Qa(`Unknown parameter "${t}"`)},_at=t=>{bat.includes(t)&&Qa(`The parameter "${t}" is incompatible with toasts`)},Eat=t=>{const e=Ade(t);e&&que(t,e)},Cde=t=>{t.backdrop===!1&&t.allowOutsideClick&&Qa('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Qa(`Invalid theme "${t.theme}"`);for(const e in t)wat(e),t.toast&&_at(e),Eat(e)};function Nde(t){const e=Za(),r=Fr(),n=Fn.innerParams.get(this);if(!r||Td(r,n.hideClass.popup)){Qa("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=Tat(t),s=Object.assign({},n,i);Cde(s),e.dataset.swal2Theme=s.theme,sde(this,s),Fn.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Tat=t=>{const e={};return Object.keys(t).forEach(r=>{kde(r)?e[r]=t[r]:Qa(`Invalid parameter to update: ${r}`)}),e};function Ide(){const t=Fn.domCache.get(this),e=Fn.innerParams.get(this);if(!e){Ode(this);return}t.popup&&Ot.swalCloseEventFinishedCallback&&(Ot.swalCloseEventFinishedCallback(),delete Ot.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ot.eventEmitter.emit("didDestroy"),Sat(this)}const Sat=t=>{Ode(t),delete t.params,delete Ot.keydownHandler,delete Ot.keydownTarget,delete Ot.currentInstance},Ode=t=>{t.isAwaitingPromise?(V5(Fn,t),t.isAwaitingPromise=!0):(V5(pv,t),V5(Fn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},V5=(t,e)=>{for(const r in t)t[r].delete(e)};var kat=Object.freeze({__proto__:null,_destroy:Ide,close:Yh,closeModal:Yh,closePopup:Yh,closeToast:Yh,disableButtons:bde,disableInput:_de,disableLoading:hS,enableButtons:xde,enableInput:wde,getInput:gde,handleAwaitingPromise:uw,hideLoading:hS,rejectPromise:hde,resetValidationMessage:Tde,showValidationMessage:Ede,update:Nde});const Aat=(t,e,r)=>{t.toast?Cat(t,e,r):(Iat(e),Oat(e),Rat(t,e,r))},Cat=(t,e,r)=>{e.popup.onclick=()=>{t&&(Nat(t)||t.timer||t.input)||r(ry.close)}},Nat=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let fS=!1;const Iat=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(fS=!0)}}},Oat=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(fS=!0)}}},Rat=(t,e,r)=>{e.container.onclick=n=>{if(fS){fS=!1;return}n.target===e.container&&kk(t.allowOutsideClick)&&r(ry.backdrop)}},Pat=t=>typeof t=="object"&&t.jquery,IY=t=>t instanceof Element||Pat(t),jat=t=>{const e={};return typeof t[0]=="object"&&!IY(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const i=t[n];typeof i=="string"||IY(i)?e[r]=i:i!==void 0&&Km(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),e};function Dat(...t){return new this(...t)}function Mat(t){class e extends this{_main(n,i){return super._main(n,Object.assign({},t,i))}}return e}const Lat=()=>Ot.timeout&&Ot.timeout.getTimerLeft(),Rde=()=>{if(Ot.timeout)return Wit(),Ot.timeout.stop()},Pde=()=>{if(Ot.timeout){const t=Ot.timeout.start();return MM(t),t}},Fat=()=>{const t=Ot.timeout;return t&&(t.running?Rde():Pde())},Bat=t=>{if(Ot.timeout){const e=Ot.timeout.increase(t);return MM(e,!0),e}},Vat=()=>!!(Ot.timeout&&Ot.timeout.isRunning());let OY=!1;const GO={};function Uat(t="data-swal-template"){GO[t]=this,OY||(document.body.addEventListener("click",zat),OY=!0)}const zat=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in GO){const n=e.getAttribute(r);if(n){GO[r].fire({template:n});return}}};class $at{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...i)=>{this.removeListener(e,n),r.apply(this,i)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ot.eventEmitter=new $at;const Hat=(t,e)=>{Ot.eventEmitter.on(t,e)},qat=(t,e)=>{Ot.eventEmitter.once(t,e)},Wat=(t,e)=>{if(!t){Ot.eventEmitter.reset();return}e?Ot.eventEmitter.removeListener(t,e):Ot.eventEmitter.removeAllListeners(t)};var Gat=Object.freeze({__proto__:null,argsToParams:jat,bindClickHandler:Uat,clickCancel:jst,clickConfirm:ade,clickDeny:Pst,enableLoading:gv,fire:Dat,getActions:ow,getCancelButton:ey,getCloseButton:RM,getConfirmButton:Nu,getContainer:Za,getDenyButton:Ym,getFocusableElements:PM,getFooter:Kue,getHtmlContainer:IM,getIcon:Zv,getIconContent:Bit,getImage:Gue,getInputLabel:Vit,getLoader:ty,getPopup:Fr,getProgressSteps:OM,getTimerLeft:Lat,getTimerProgressBar:Ck,getTitle:Wue,getValidationMessage:Ak,increaseTimer:Bat,isDeprecatedParameter:Ade,isLoading:zit,isTimerRunning:Vat,isUpdatableParameter:kde,isValidParameter:Sde,isVisible:Rst,mixin:Mat,off:Wat,on:Hat,once:qat,resumeTimer:Pde,showLoading:gv,stopTimer:Rde,toggleTimer:Fat});class Kat{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const jde=["swal-title","swal-html","swal-footer"],Yat=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return not(r),Object.assign(Xat(r),Qat(r),Jat(r),Zat(r),eot(r),tot(r),rot(r,jde))},Xat=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{Sm(n,["name","value"]);const i=n.getAttribute("name"),s=n.getAttribute("value");!i||!s||(typeof Og[i]=="boolean"?e[i]=s!=="false":typeof Og[i]=="object"?e[i]=JSON.parse(s):e[i]=s)}),e},Qat=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),s=n.getAttribute("value");!i||!s||(e[i]=new Function(`return ${s}`)())}),e},Jat=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{Sm(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${AM(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},Zat=t=>{const e={},r=t.querySelector("swal-image");return r&&(Sm(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},eot=t=>{const e={},r=t.querySelector("swal-icon");return r&&(Sm(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},tot=t=>{const e={},r=t.querySelector("swal-input");r&&(Sm(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{Sm(i,["value"]);const s=i.getAttribute("value");if(!s)return;const a=i.innerHTML;e.inputOptions[s]=a})),e},rot=(t,e)=>{const r={};for(const n in e){const i=e[n],s=t.querySelector(i);s&&(Sm(s,[]),r[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return r},not=t=>{const e=jde.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||Qa(`Unrecognized element <${n}>`)})},Sm=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&Qa([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},Dde=10,iot=t=>{const e=Za(),r=Fr();typeof t.willOpen=="function"&&t.willOpen(r),Ot.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;oot(e,r,t),setTimeout(()=>{sot(e,r)},Dde),jM()&&(aot(e,t.scrollbarPadding,i),zst()),!Nk()&&!Ot.previousActiveElement&&(Ot.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Ot.eventEmitter.emit("didOpen",r)},mS=t=>{const e=Fr();if(t.target!==e)return;const r=Za();e.removeEventListener("animationend",mS),e.removeEventListener("transitionend",mS),r.style.overflowY="auto",Kl(r,De["no-transition"])},sot=(t,e)=>{Que(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",mS),e.addEventListener("transitionend",mS)):t.style.overflowY="auto"},aot=(t,e,r)=>{$st(),e&&r!=="hidden"&&Xst(r),setTimeout(()=>{t.scrollTop=0})},oot=(t,e,r)=>{Yr(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),qs(e,"grid"),setTimeout(()=>{Yr(e,r.showClass.popup),e.style.removeProperty("opacity")},Dde)):qs(e,"grid"),Yr([document.documentElement,document.body],De.shown),r.heightAuto&&r.backdrop&&!r.toast&&Yr([document.documentElement,document.body],De["height-auto"])};var RY={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function lot(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=RY.email),t.input==="url"&&(t.inputValidator=RY.url))}function cot(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Qa('Target parameter is not valid, defaulting to "body"'),t.target="body")}function uot(t){lot(t),t.showLoaderOnConfirm&&!t.preConfirm&&Qa(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),cot(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),est(t)}let ou;var w_=new WeakMap;class Vi{constructor(...e){if(Oit(this,w_,void 0),typeof window>"u")return;ou=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,Rit(w_,this,this._main(ou.params))}_main(e,r={}){if(Cde(Object.assign({},r,e)),Ot.currentInstance){const s=pv.swalPromiseResolve.get(Ot.currentInstance),{isAwaitingPromise:a}=Ot.currentInstance;Ot.currentInstance._destroy(),a||s({isDismissed:!0}),jM()&&cde()}Ot.currentInstance=ou;const n=hot(e,r);uot(n),Object.freeze(n),Ot.timeout&&(Ot.timeout.stop(),delete Ot.timeout),clearTimeout(Ot.restoreFocusTimeout);const i=fot(ou);return sde(ou,n),Fn.innerParams.set(ou,n),dot(ou,i,n)}then(e){return _Y(w_,this).then(e)}finally(e){return _Y(w_,this).finally(e)}}const dot=(t,e,r)=>new Promise((n,i)=>{const s=a=>{t.close({isDismissed:!0,dismiss:a,isConfirmed:!1,isDenied:!1})};pv.swalPromiseResolve.set(t,n),pv.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{fat(t)},e.denyButton.onclick=()=>{mat(t)},e.cancelButton.onclick=()=>{pat(t,s)},e.closeButton.onclick=()=>{s(ry.close)},Aat(r,e,s),Dst(Ot,r,s),iat(t,r),iot(r),mot(Ot,r,s),pot(e,r),setTimeout(()=>{e.container.scrollTop=0})}),hot=(t,e)=>{const r=Yat(t),n=Object.assign({},Og,e,r,t);return n.showClass=Object.assign({},Og.showClass,n.showClass),n.hideClass=Object.assign({},Og.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},fot=t=>{const e={popup:Fr(),container:Za(),actions:ow(),confirmButton:Nu(),denyButton:Ym(),cancelButton:ey(),loader:ty(),closeButton:RM(),validationMessage:Ak(),progressSteps:OM()};return Fn.domCache.set(t,e),e},mot=(t,e,r)=>{const n=Ck();Da(n),e.timer&&(t.timeout=new Kat(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&(qs(n),ol(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&MM(e.timer)})))},pot=(t,e)=>{if(!e.toast){if(!kk(e.allowEnterKey)){que("allowEnterKey"),yot();return}got(t)||vot(t,e)||WO(-1,1)}},got=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&To(r))return r.focus(),!0;return!1},vot=(t,e)=>e.focusDeny&&To(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&To(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&To(t.confirmButton)?(t.confirmButton.focus(),!0):!1,yot=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Vi.prototype.disableButtons=bde;Vi.prototype.enableButtons=xde;Vi.prototype.getInput=gde;Vi.prototype.disableInput=_de;Vi.prototype.enableInput=wde;Vi.prototype.hideLoading=hS;Vi.prototype.disableLoading=hS;Vi.prototype.showValidationMessage=Ede;Vi.prototype.resetValidationMessage=Tde;Vi.prototype.close=Yh;Vi.prototype.closePopup=Yh;Vi.prototype.closeModal=Yh;Vi.prototype.closeToast=Yh;Vi.prototype.rejectPromise=hde;Vi.prototype.update=Nde;Vi.prototype._destroy=Ide;Object.assign(Vi,Gat);Object.keys(kat).forEach(t=>{Vi[t]=function(...e){return ou&&ou[t]?ou[t](...e):null}});Vi.DismissReason=ry;Vi.version="11.26.4";const Os=Vi;Os.default=Os;typeof document<"u"&&(function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const __=Object.freeze(Object.defineProperty({__proto__:null,default:Os},Symbol.toStringTag,{value:"Module"}));let E_=null;const zM=async()=>E_||(E_=await iw(),E_),Ok=(t,e)=>{if(!e)return{param:t.guest,type:"guest"};const r=e.role;return r==="admin"?{param:t.admin,type:"admin"}:["lanh_dao","quan_ly"].includes(r)?{param:t.manager,type:"manager"}:r==="giao_vien"?{param:t.teacher,type:"teacher"}:e.isVip?{param:t.vip_user,type:"vip"}:e.class&&e.class.length>0||e.isVerified?{param:t.verified_user,type:"verified"}:{param:t.free_user,type:"free"}},Mde=t=>{const e=new Date;if(t==="daily")return e.toLocaleDateString("vi-VN");{const r=e.getDay()||7;return r!==1?e.setHours(-24*(r-1)):e.setHours(0,0,0,0),`W-${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}},PY=async t=>{const e=await zM(),{param:r}=Ok(e,t);if(!r.isEnabled)return"ALLOWED";const i=`${t?`usage_user_${t.id}`:"usage_guest"}_${r.period}`,s=Mde(r.period);let a={date:s,count:0};const o=localStorage.getItem(i);if(o)try{const l=JSON.parse(o);l.date===s&&(a=l)}catch(l){console.error("Error parsing usage data",l)}return console.log(`[Usage Check] ${i} - Used: ${a.count}/${r.limit}`),a.count>=r.limit?"BLOCKED":"ALLOWED"},jY=async t=>{const e=await zM(),{param:r}=Ok(e,t);if(!r.isEnabled)return;const i=`${t?`usage_user_${t.id}`:"usage_guest"}_${r.period}`,s=Mde(r.period);let a={date:s,count:0};const o=localStorage.getItem(i);if(o)try{const l=JSON.parse(o);l.date===s&&(a=l)}catch{}a.count++,console.log(`[Usage] Incremented usage for ${i}: ${a.count}`),localStorage.setItem(i,JSON.stringify(a))},DY=async(t,e)=>{const r=await zM(),{param:n,type:i}=Ok(r,t),s=n.message.replace("{limit}",n.limit.toString()),a=i==="guest";Os.fire({title:"Ht lt lm bi!",text:s,icon:"warning",showCancelButton:!0,confirmButtonText:a?"ng nhp ngay":"Lin h thy",cancelButtonText:"ng",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(o=>{o.isConfirmed&&(a?e():window.open("https://zalo.me/02296282969","_blank"))})},xot=({userProfile:t})=>{const[e,r]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const l=await iw(),{param:u}=Ok(l,t);u.showAds?(r(!0),n(),a()):(r(!1),i(),s())}catch(l){console.error("Error checking AdSense config:",l)}})()},[t]);const n=()=>{if(document.getElementById("google-adsense-script"))return;const l=document.createElement("script");l.id="google-adsense-script",l.async=!0,l.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6121118706628509",l.crossOrigin="anonymous",document.head.appendChild(l),console.log(" Google AdSense Script Loaded (Allowed for this role)")},i=()=>{const o=document.getElementById("google-adsense-script");o&&(o.remove(),console.log(" Google AdSense Script Removed (Blocked for this role)"))},s=()=>{if(document.getElementById("adsense-blocker-style"))return;const o=document.createElement("style");o.id="adsense-blocker-style",o.innerHTML=`
            .adsbygoogle, .google-auto-placed, ins.adsbygoogle {
                display: none !important;
                visibility: hidden !important;
                height: 0 !important;
                width: 0 !important;
                overflow: hidden !important;
                position: absolute !important;
                pointer-events: none !important;
                z-index: -9999 !important;
            }
        `,document.head.appendChild(o),console.log(" AdSense Blocker Style Injected")},a=()=>{const o=document.getElementById("adsense-blocker-style");o&&(o.remove(),console.log(" AdSense Blocker Style Removed"))};return null},bot=({userProfile:t,currentScreen:e,onNavigate:r,onLogout:n})=>{const[i,s]=C.useState(!1),a=C.useRef(null);C.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const o=g=>!!(g==="dashboard"&&(e==="dashboard"||e.startsWith("in_"))||g==="account"&&e==="account"),l=g=>{r(g),s(!1)},u=[{name:"Tin tc",icon:dAe,action:()=>window.location.href="/",active:!1,key:"news"},{name:"n tp",icon:Jke,action:()=>l("dashboard"),active:o("dashboard"),key:"dashboard"},{name:"Ti khon",icon:xAe,action:()=>l("account"),active:o("account"),key:"account"}],d=[];t&&(d.push({name:"Lch s thi",icon:nf,action:()=>l("history"),color:"text-purple-600"}),["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)?(d.push({name:"Qun l lp",icon:P0,action:()=>l("class_management"),color:"text-indigo-600"}),d.push({name:"Qun l TB",icon:jv,action:()=>l("notification_mgmt"),color:"text-red-500"})):d.push({name:"Lp ca ti",icon:zte,action:()=>l("my_class"),color:"text-green-600"}));const m=()=>s(!i);return f.jsxs(f.Fragment,{children:[f.jsx("div",{ref:a,className:`fixed bottom-24 right-4 z-[10000] md:hidden transition-all duration-300 origin-bottom-right ${i?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-4 pointer-events-none"}`,children:f.jsx("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border border-white/20 shadow-2xl rounded-2xl p-4 w-56 flex flex-col gap-2",children:t?f.jsxs(f.Fragment,{children:[f.jsx("div",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 mb-2 uppercase tracking-wider border-b border-gray-200 dark:border-gray-700 pb-2",children:"Menu m rng"}),d.map((g,v)=>{const x=g.icon;return f.jsxs("button",{onClick:()=>{g.action(),s(!1)},className:"flex items-center gap-3 w-full p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors group",children:[f.jsx("div",{className:`p-2 rounded-lg bg-gray-50 dark:bg-slate-800 group-hover:bg-white dark:group-hover:bg-slate-700 shadow-sm ${g.color}`,children:f.jsx(x,{})}),f.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:g.name})]},v)}),f.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),f.jsxs("button",{onClick:()=>{n(),s(!1)},className:"flex items-center gap-3 w-full p-2 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 transition-colors",children:[f.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30",children:f.jsx(v4,{})}),f.jsx("span",{className:"text-sm font-medium",children:"ng xut"})]})]}):f.jsx("button",{onClick:()=>{l("login"),s(!1)},className:"w-full py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition",children:"ng nhp ngay"})})}),f.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-[9999] md:hidden animate-fade-in-up",children:f.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border border-white/20 shadow-2xl rounded-2xl p-2 flex justify-between items-center relative overflow-hidden",children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent skew-x-12 animate-shine pointer-events-none"}),u.map(g=>{const v=g.icon,x=g.active;return f.jsxs("button",{onClick:g.action,className:`relative flex flex-col items-center justify-center w-full py-2 transition-all duration-300 group ${x?"-translate-y-1":""}`,children:[x&&f.jsx("div",{className:"absolute top-1 w-10 h-10 bg-indigo-500/20 rounded-full blur-md"}),f.jsx(v,{className:`text-2xl mb-1 transition-all duration-300 drop-shadow-sm ${x?"text-indigo-600 dark:text-indigo-400 scale-110 filter drop-shadow-[0_2px_4px_rgba(79,70,229,0.3)]":"text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300"}`}),f.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${x?"text-indigo-600 dark:text-indigo-400 opacity-100":"text-gray-400 dark:text-gray-500 opacity-80 group-hover:opacity-100"}`,children:g.name}),x&&f.jsx("span",{className:"absolute -bottom-1 w-1 h-1 bg-indigo-600 rounded-full"})]},g.key)}),f.jsxs("button",{onClick:m,className:`relative flex flex-col items-center justify-center w-full py-2 transition-all duration-300 group ${i?"-translate-y-1":""}`,children:[i&&f.jsx("div",{className:"absolute top-1 w-10 h-10 bg-orange-500/20 rounded-full blur-md"}),i?f.jsx(lu,{className:"text-2xl mb-1 text-orange-600 dark:text-orange-400 scale-110 transition-all duration-300"}):f.jsx(Xke,{className:"text-2xl mb-1 text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-all duration-300"}),f.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${i?"text-orange-600 dark:text-orange-400 opacity-100":"text-gray-400 dark:text-gray-500 opacity-80 group-hover:opacity-100"}`,children:"Thm"})]})]})})]})},wot=()=>{const{user:t}=wk(),[e,r]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[o,l]=C.useState(!1),[u,d]=C.useState(""),[m,g]=C.useState(""),[v,x]=C.useState(!1),[b,w]=C.useState(null),[_,k]=C.useState([]),[A,R]=C.useState(null),P=async O=>{O.preventDefault(),a(""),l(!0);try{let D=e.trim();D.includes("@")||(D=`${D}@daotaothuyenvien.com`),await V6(vs,D,n)}catch(D){console.error(D),a("Tn ng nhp hoc mt khu khng ng.")}finally{l(!1)}};C.useEffect(()=>{(async()=>{if(t&&t.uid)try{const D=await yu(Rt(Ge,"users",t.uid));if(D.exists()){const M=D.data(),F=M.courseId;if(F){const U=cr(Vt(Ge,"exam_rooms"),gr("course_id","==",F),gr("status","in",["waiting","in_progress"]),Wa("created_at","desc"),Ll(1)),le=await Zr(U);if(!le.empty){const de=le.docs[0];d(de.id),g(` tm thy phng thi cho lp ${M.courseName||""}. Vui lng nhn "VO THI NGAY".`)}}}}catch(D){console.error("Auto-join check failed:",D)}})()},[t]);const j=async()=>{var O;if(!u){Gr.error("Vui lng nhp m phng thi.");return}l(!0);try{const D=await yu(Rt(Ge,"exam_rooms",u));if(!D.exists()){Gr.error("Phng thi khng tn ti."),l(!1);return}const M=D.data();if(M.status==="finished"){Gr.error("Phng thi  kt thc."),l(!1);return}if(M.password&&M.password!==n){Gr.error("Mt khu phng thi khng ng."),l(!1);return}const F=M.license_id;let U=YE.from("questions").select("*").eq("license_id",F);M.subject_id&&(U=U.eq("subject_id",M.subject_id));const{data:le,error:de}=await U;if(de){console.error("Supabase Error:",de),Gr.error("Li kt ni d liu cu hi."),l(!1);return}if(!le||le.length===0){Gr.error("Khng tm thy cu hi ph hp!"),l(!1);return}const J=le.map(he=>({id:he.id,content:he.question,options:he.options,correctAnswerId:he.correct_answer,explanation:he.explanation,image:he.image})).sort(()=>.5-Math.random()).slice(0,30);if(k(J),w({id:D.id,...M}),t){const he=await yu(Rt(Ge,"users",t.uid)),ee=he.exists()?he.data():null;R(ee);const ve=xo(oa,`exam_progress/${D.id}/${t.uid}`),H={user_name:(ee==null?void 0:ee.fullName)||t.displayName||t.email,user_email:t.email,user_sbd:((O=t.email)==null?void 0:O.split("@")[0])||"",status:"doing",joined_at:R0(),total_questions:J.length,score:0,time_left:(M.duration||45)*60,last_updated:R0()};await p4(ve,H),kte(ve).update({status:"offline"})}x(!0),Gr.success(" vo phng thi thnh cng!")}catch(D){console.error("Error joining room:",D),Gr.error("Li khi vo phng thi.")}finally{l(!1)}},S=async(O,D,M)=>{if(!t||!b)return;let F=0;_.forEach(de=>{M[de.id]===de.correctAnswerId&&F++});const U=F/_.length*10,le=xo(oa,`exam_progress/${b.id}/${t.uid}`);iI(le,{current_question_index:O,time_left:D,answers_count:Object.keys(M).length,score:U,last_updated:R0(),status:"doing"}).catch(de=>console.error("RTDB Update Error:",de))},I=async O=>{if(!t||!b)return;let D=0;_.forEach(U=>{O[U.id]===U.correctAnswerId&&D++});const M=D/_.length*10,F=M>=5;try{const U=xo(oa,`exam_progress/${b.id}/${t.uid}`);await iI(U,{status:"submitted",score:M,time_left:0,finished_at:R0()}),await vf(Vt(Ge,"exam_results"),{room_id:b.id,user_id:t.uid,user_name:(A==null?void 0:A.fullName)||t.email,score:M,correct_count:D,total_questions:_.length,answers:O,submitted_at:ys(),is_pass:F}),Gr.success(` np bi! im s: ${M.toFixed(1)}`),x(!1),w(null),k([])}catch(U){console.error("Error submitting exam:",U),Gr.error("Li khi np bi.")}};return v&&b&&_.length>0?f.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:f.jsx(zre,{quiz:{id:b.id,title:b.name,questions:_,timeLimit:(b.duration||45)*60},onFinish:I,onBack:()=>{window.confirm("Bn c chc mun thot? Kt qu s khng c lu.")&&x(!1)},userName:(A==null?void 0:A.fullName)||(t==null?void 0:t.email)||"",userProfile:A,selectedLicense:{id:b.license_id,name:`Hng ${b.license_id}`,subjects:[]},onProgressUpdate:S})}):f.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-[#333]",children:[f.jsx("div",{className:"bg-white",children:f.jsxs("div",{className:"w-full h-[150px] bg-cover bg-center relative",style:{backgroundImage:"url('/ontap/assets/img/banner1.png')"},children:[f.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-200 opacity-50"}),f.jsx("div",{className:"container mx-auto h-full flex items-center px-4 relative z-10",children:f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("img",{src:"/ontap/assets/img/logo1.ico",alt:"Logo",className:"h-24 w-24 object-contain",onError:O=>O.currentTarget.src="https://via.placeholder.com/100?text=LOGO"}),f.jsxs("div",{className:"text-blue-800 uppercase font-bold drop-shadow-sm",children:[f.jsx("h1",{className:"text-3xl",children:"CNG TY CP T VN V GIO DC NINH BNH"}),f.jsx("h2",{className:"text-xl text-red-600 mt-1",children:"NINH BINH CONSULTING AND EDUCATION JOINT STOCK COMPANY"})]})]})})]})}),f.jsx("div",{className:"flex-grow bg-white flex justify-center pt-10 pb-20",children:f.jsx("div",{className:"w-full max-w-4xl px-4",children:t?f.jsxs("div",{className:"max-w-md mx-auto",children:[t.email&&!t.email.endsWith("@daotaothuyenvien.com")&&f.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 shadow-sm",children:f.jsxs("div",{className:"flex",children:[f.jsx("div",{className:"flex-shrink-0",children:f.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:f.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),f.jsxs("div",{className:"ml-3",children:[f.jsxs("p",{className:"text-sm text-yellow-700",children:["Bn ang ng nhp l ",f.jsx("strong",{className:"font-bold",children:t.displayName||t.email}),"."]}),f.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Nu y l ti khon c nhn, vui lng ng xut  ng nhp bng ",f.jsx("strong",{children:"S Bo Danh"}),"."]}),f.jsx("div",{className:"mt-2",children:f.jsx("button",{onClick:async()=>{await vs.signOut(),window.location.href="/ontap/thitructuyen"},className:"text-sm font-bold text-red-600 hover:text-red-800 underline",children:"ng xut & ng nhp li"})})]})]})}),f.jsxs("div",{className:"text-center mb-6",children:[f.jsx("h2",{className:"text-xl font-bold text-blue-700 uppercase",children:"Khu vc Thi Trc Tuyn"}),f.jsxs("p",{className:"text-gray-600 mt-2",children:["Xin cho, ",f.jsx("strong",{className:"text-blue-900",children:t.displayName||t.email})]})]}),f.jsxs("fieldset",{className:"border border-gray-300 p-6 rounded-sm shadow-sm bg-blue-50/30",children:[f.jsx("legend",{className:"px-2 text-blue-800 font-bold text-sm bg-white border border-gray-200 rounded shadow-sm",children:"Vo Phng Thi"}),f.jsxs("div",{className:"space-y-4 mt-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"M phng thi (Room ID):"}),f.jsx("input",{type:"text",placeholder:"Nhp m phng do gim th cung cp...",value:u,onChange:O=>d(O.target.value),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-400 rounded-sm shadow-inner"}),m&&f.jsx("p",{className:"text-green-600 text-xs mt-1 font-bold",children:m})]}),f.jsxs("button",{onClick:j,disabled:o,className:"w-full bg-[#2962ff] text-white px-4 py-2.5 text-sm font-bold rounded-sm hover:bg-blue-700 transition-all shadow-md flex justify-center items-center gap-2 disabled:opacity-70",children:[o?f.jsx("span",{className:"animate-spin",children:""}):f.jsx("span",{children:"VO THI NGAY"}),!o&&f.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:f.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]})]}),f.jsx("div",{className:"mt-6 text-center",children:f.jsx("a",{href:"/ontap",className:"text-sm text-gray-500 hover:text-blue-600 hover:underline",children:" Quay li n tp"})})]}):f.jsxs(f.Fragment,{children:[f.jsxs("div",{className:"text-center mb-8 text-sm text-gray-700 space-y-1",children:[f.jsx("p",{children:"Vui lng nhp ti khon v mt khu  ng nhp."}),f.jsx("p",{children:"Nu bn cha c ti khon hoc qun mt khu vui lng lin h gim th coi thi!"}),f.jsxs("p",{children:["Nu bn mun tra kt qu hc tp, hy vo ",f.jsx("a",{href:"/ontap",className:"text-blue-600 font-bold hover:underline",children:"TRA CU IM"})]}),f.jsxs("p",{children:["Nu bn mun n tp hoc thi th, hy vo ",f.jsx("a",{href:"/ontap",className:"text-blue-600 font-bold hover:underline",children:"THI TH"})]})]}),f.jsx("div",{className:"max-w-md mx-auto",children:f.jsxs("fieldset",{className:"border border-gray-300 p-6 rounded-sm shadow-sm",children:[f.jsx("legend",{className:"px-2 text-gray-700 font-bold text-sm",children:"Thng tin ng nhp"}),f.jsxs("form",{onSubmit:P,className:"space-y-4 mt-2",children:[f.jsxs("div",{className:"flex items-center",children:[f.jsx("label",{className:"w-32 text-sm font-bold text-gray-700",children:"S bo danh:"}),f.jsx("input",{type:"text",value:e,onChange:O=>r(O.target.value),className:"flex-1 border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:border-blue-400 rounded-sm",required:!0})]}),f.jsxs("div",{className:"flex items-center",children:[f.jsx("label",{className:"w-32 text-sm font-bold text-gray-700",children:"Mt khu:"}),f.jsx("input",{type:"password",value:n,onChange:O=>i(O.target.value),className:"flex-1 border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:border-blue-400 rounded-sm",required:!0})]}),s&&f.jsx("p",{className:"text-red-500 text-xs text-center",children:s}),f.jsx("div",{className:"flex justify-end mt-6",children:f.jsx("button",{type:"submit",disabled:o,className:"bg-[#2962ff] text-white px-6 py-1.5 text-sm font-bold rounded-sm hover:bg-blue-700 transition-colors shadow-sm",children:o?"ang x l...":"ng nhp"})})]})]})})]})})}),f.jsxs("div",{className:"bg-[#0d47a1] text-white py-4 text-center text-xs space-y-1",children:[f.jsx("p",{className:"uppercase font-bold",children:"Cng ty c phn T vn v Gio dc Ninh Bnh"}),f.jsx("p",{children:"ng Triu Vit Vng - Phng Hoa L - Tnh Ninh Bnh"}),f.jsx("p",{children:"022.96.282.969"}),f.jsx("p",{children:"ninhbinheduco.jsc@gmail.com"}),f.jsx("p",{children:"giaoducninhbinh@daotaothuyenvien.com"})]})]})},_ot=()=>{const{roomId:t}=n0e(),e=vS(),[r,n]=C.useState(null),[i,s]=C.useState(!0),[a,o]=C.useState([]);C.useEffect(()=>{if(!t)return;const g=Rt(Ge,"exam_rooms",t),v=wo(g,w=>{w.exists()?n({id:w.id,...w.data()}):(Gr.error("Phng thi khng tn ti!"),e("/admin/exam-manager")),s(!1)},w=>{console.error("Error fetching room:",w),s(!1)}),x=xo(oa,`exam_progress/${t}`),b=hx(x,w=>{if(w.exists()){const _=w.val(),k=Object.keys(_).map(A=>({uid:A,..._[A]}));o(k)}else o([])});return()=>{v(),b()}},[t,e]);const l=async g=>{if(r)try{await En(Rt(Ge,"exam_rooms",r.id),{status:g}),Gr.success(` cp nht trng thi: ${g}`)}catch{Gr.error("Li cp nht trng thi")}},u=async()=>{if(!(!r||!window.confirm("Bn c chc chn mun xa phng thi ny?")))try{await ZS(Rt(Ge,"exam_rooms",r.id)),Gr.success(" xa phng thi"),e("/admin/exam-manager")}catch{Gr.error("Li xa phng thi")}},d=async(g,v)=>{if(window.confirm(`Mi th sinh ${v} ra khi phng?`))try{await nI(xo(oa,`exam_progress/${t}/${g}`)),Gr.success(` mi ${v} ra khi phng`)}catch{Gr.error("Li khi mi th sinh")}},m=async(g,v)=>{if(window.confirm(`Buc th sinh ${v} np bi?`))try{await iI(xo(oa,`exam_progress/${t}/${g}`),{status:"submitted",force_submit:!0}),Gr.success(` buc ${v} np bi`)}catch{Gr.error("Li khi buc np bi")}};return i?f.jsx("div",{className:"p-8 text-center",children:"ang ti thng tin phng thi..."}):r?f.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[f.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:f.jsxs("div",{className:"flex justify-between items-start",children:[f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:r.name}),f.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[f.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full",children:r.license_id?`Hng ${r.license_id}`:"T do"}),f.jsxs("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:[r.duration," pht"]}),f.jsx("span",{className:`px-3 py-1 rounded-full ${r.status==="in_progress"?"bg-green-100 text-green-700":r.status==="finished"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="waiting"?"ang ch":r.status==="in_progress"?"ang din ra":" kt thc"})]})]}),f.jsxs("div",{className:"flex gap-2",children:[r.status==="waiting"&&f.jsxs("button",{onClick:()=>l("in_progress"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[f.jsx(fAe,{})," Bt u"]}),r.status==="in_progress"&&f.jsxs("button",{onClick:()=>l("finished"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[f.jsx(pAe,{})," Kt thc"]}),f.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 rounded-lg hover:bg-red-50",children:[f.jsx(fc,{})," Xa phng"]})]})]})}),f.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:f.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[f.jsx(sf,{className:"text-blue-500"}),"Danh sch th sinh (",a.length,")"]})}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full text-left",children:[f.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm uppercase",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-4",children:"Th sinh"}),f.jsx("th",{className:"px-6 py-4",children:"SBD"}),f.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),f.jsx("th",{className:"px-6 py-4",children:"Tin "}),f.jsx("th",{className:"px-6 py-4",children:"im tm tnh"}),f.jsx("th",{className:"px-6 py-4",children:"Thi gian cn"}),f.jsx("th",{className:"px-6 py-4 text-right",children:"Thao tc"})]})}),f.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Cha c th sinh no tham gia"})}):a.map(g=>f.jsxs("tr",{className:"hover:bg-gray-50",children:[f.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800",children:[g.user_name,f.jsx("div",{className:"text-xs text-gray-400 font-normal",children:g.user_email})]}),f.jsx("td",{className:"px-6 py-4 text-gray-600",children:g.user_sbd}),f.jsx("td",{className:"px-6 py-4",children:f.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="doing"?"bg-blue-100 text-blue-700":g.status==="submitted"?"bg-green-100 text-green-700":g.status==="offline"?"bg-gray-100 text-gray-500":"bg-yellow-100 text-yellow-700"}`,children:g.status==="doing"?"ang lm bi":g.status==="submitted"?" np":g.status==="offline"?"Mt kt ni":" vo"})}),f.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[g.answers_count||0,"/",g.total_questions||0," cu"]}),f.jsx("td",{className:"px-6 py-4 font-bold text-blue-600",children:g.score!==void 0?g.score.toFixed(1):"--"}),f.jsx("td",{className:"px-6 py-4 text-gray-600",children:g.time_left?`${Math.floor(g.time_left/60)}p ${g.time_left%60}s`:"--"}),f.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[f.jsx("button",{onClick:()=>m(g.uid,g.user_name),title:"Buc np bi",className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",children:f.jsx(Ote,{})}),f.jsx("button",{onClick:()=>d(g.uid,g.user_name),title:"Mi ra khi phng",className:"p-2 text-red-600 hover:bg-red-50 rounded",children:f.jsx(_Ae,{})})]})]},g.uid))})]})})]})]}):f.jsx("div",{className:"p-8 text-center",children:"Khng tm thy phng thi"})},Eot=({userProfile:t,onBack:e})=>{const[r,n]=C.useState([]),[i,s]=C.useState(!1),[a,o]=C.useState(!1),[l,u]=C.useState(""),[d,m]=C.useState(45),[g,v]=C.useState(""),[x,b]=C.useState(""),[w,_]=C.useState(null),[k,A]=C.useState([]),[R,P]=C.useState([]),[j,S]=C.useState("");C.useEffect(()=>{I(),Jr(async()=>{const{fetchLicenses:M}=await Promise.resolve().then(()=>$M);return{fetchLicenses:M}},void 0).then(({fetchLicenses:M})=>{M().then(A)}),(async()=>{const M=cr(Vt(Ge,"courses"),Wa("createdAt","desc")),F=await Zr(M);P(F.docs.map(U=>({id:U.id,...U.data()})))})()},[]);const I=async()=>{var D;s(!0);try{let M;["admin","quan_ly","lanh_dao"].includes(t.role)?M=cr(Vt(Ge,"exam_rooms"),Wa("created_at","desc")):M=cr(Vt(Ge,"exam_rooms"),gr("teacher_id","==",t.id),Wa("created_at","desc"));const U=(await Zr(M)).docs.map(le=>({id:le.id,...le.data()}));n(U)}catch(M){console.error("Error fetching rooms:",M),(M==null?void 0:M.code)==="permission-denied"?Gr.error("Bn khng c quyn truy cp danh sch phng thi."):(D=M==null?void 0:M.message)!=null&&D.includes("index")?Gr.warning("H thng ang khi to d liu (To Index). Vui lng i 1-2 pht ri ti li trang."):Gr.error("Khng th ti danh sch phng thi. Vui lng kim tra kt ni.")}finally{s(!1)}},O=async D=>{if(D.preventDefault(),!l||!x){Gr.error("Vui lng in y  thng tin.");return}const M=k.find(U=>U.id===x),F=R.find(U=>U.id===j);try{await vf(Vt(Ge,"exam_rooms"),{room_name:l,license_id:x,license_name:(M==null?void 0:M.name)||"Unknown",teacher_id:t.id,teacher_name:t.full_name||t.email||"Unknown",status:"waiting",duration:Number(d),password:g||null,created_at:ys(),is_paused:!1,course_id:j||null,course_name:(F==null?void 0:F.name)||null}),Gr.success("To phng thi thnh cng!"),o(!1),u(""),v(""),S(""),I()}catch(U){console.error(U),Gr.error("Li khi to phng.")}};return w?f.jsx(_ot,{roomId:w,onBack:()=>{_(null),I()}}):f.jsxs("div",{className:"p-6 max-w-7xl mx-auto font-sans text-gray-800",children:[f.jsxs("div",{className:"flex justify-between items-center mb-6",children:[f.jsx("h1",{className:"text-2xl font-bold text-blue-800",children:"Qun l Thi Trc Tuyn"}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Quay li"}),f.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[f.jsx(Bh,{})," To Phng Thi"]})]})]}),f.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:f.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[f.jsx("thead",{className:"bg-gray-50",children:f.jsxs("tr",{children:[f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn Phng"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hng Bng"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gio Vin"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng Thi"}),f.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chi tit"})]})}),f.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"text-center py-4",children:"ang ti..."})}):r.length===0?f.jsx("tr",{children:f.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"Cha c phng thi no."})}):r.map(D=>f.jsxs("tr",{children:[f.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:D.room_name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.license_name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.teacher_name}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:f.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                            ${D.status==="waiting"?"bg-yellow-100 text-yellow-800":D.status==="in_progress"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status==="waiting"?"ang ch":D.status==="in_progress"?"ang thi":"Kt thc"})}),f.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:f.jsxs("button",{onClick:()=>_(D.id),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:[f.jsx(lAe,{})," Xem chi tit"]})})]},D.id))})]})}),a&&f.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:f.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[f.jsx("h2",{className:"text-xl font-bold mb-4",children:"To Phng Thi Mi"}),f.jsxs("form",{onSubmit:O,className:"space-y-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tn phng thi"}),f.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"V d: Thi th M1 - Ln 1",required:!0})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hng bng"}),f.jsxs("select",{value:x,onChange:D=>b(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,children:[f.jsx("option",{value:"",children:"-- Chn hng bng --"}),k.map(D=>f.jsx("option",{value:D.id,children:D.name},D.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lp (Ty chn -  t ng vo phng)"}),f.jsxs("select",{value:j,onChange:D=>S(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[f.jsx("option",{value:"",children:"-- Khng chn lp --"}),R.map(D=>f.jsx("option",{value:D.id,children:D.name},D.id))]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thi gian lm bi (pht)"}),f.jsx("input",{type:"number",value:d,onChange:D=>m(Number(D.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",min:"1"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mt khu (Ty chn)"}),f.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:" trng nu khng cn mt khu"})]}),f.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[f.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Hy"}),f.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"To phng"})]})]})]})})]})},Tot=({onBack:t})=>{const[e,r]=C.useState("7d"),[n,i]=C.useState(null),[s,a]=C.useState(!1),[o,l]=C.useState(null);C.useEffect(()=>{(async()=>{a(!0);try{const m=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:e})});if(m.ok){const g=await m.json();i(g)}else l("Failed to fetch data")}catch(m){console.error(m),l("Error connecting to server")}finally{a(!1)}})()},[e]);const u=["#0088FE","#00C49F","#FFBB28","#FF8042"];return f.jsxs(jg.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"container mx-auto px-4 py-8 pb-24",children:[f.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[f.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[f.jsx("button",{onClick:t,className:"p-3 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors shadow-sm bg-white dark:bg-zinc-900",children:f.jsx(H0,{className:"text-xl text-gray-600 dark:text-gray-300"})}),f.jsxs("div",{children:[f.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Thng k chi tit"}),f.jsx("p",{className:"text-sm text-gray-500",children:"Phn tch d liu truy cp website"})]})]}),f.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[f.jsx(eAe,{className:"text-gray-400 ml-2"}),f.jsxs("select",{value:e,onChange:d=>r(d.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 dark:text-gray-200 focus:ring-0 cursor-pointer outline-none",children:[f.jsx("option",{value:"7d",children:"7 ngy qua"}),f.jsx("option",{value:"30d",children:"30 ngy qua"}),f.jsx("option",{value:"today",children:"Hm nay"})]})]})]}),s&&!n&&f.jsx("div",{className:"flex justify-center items-center h-64",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),n&&f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[f.jsx(T_,{label:"Ngi dng mi",value:n.metrics.newUsers,color:"blue"}),f.jsx(T_,{label:"Phin truy cp",value:n.metrics.totalSessions,color:"purple"}),f.jsx(T_,{label:"Thi gian TB",value:`${Math.floor(n.metrics.avgSessionDuration/60)}m ${Math.floor(n.metrics.avgSessionDuration%60)}s`,color:"green"}),f.jsx(T_,{label:"T l thot",value:`${n.metrics.bounceRate.toFixed(1)}%`,color:"orange"})]}),f.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[f.jsx("h3",{className:"text-lg font-bold mb-6 text-gray-800 dark:text-white",children:"Xu hng truy cp"}),f.jsx("div",{className:"h-[300px]",children:f.jsx($I,{width:"100%",height:"100%",children:f.jsxs(Koe,{data:n.chart,children:[f.jsx("defs",{children:f.jsxs("linearGradient",{id:"colorVisitsPage",x1:"0",y1:"0",x2:"0",y2:"1",children:[f.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),f.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),f.jsx(pD,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),f.jsx(xD,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"},dy:10}),f.jsx(bD,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"}}),f.jsx(gO,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"}}),f.jsx(VT,{type:"monotone",dataKey:"visits",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorVisitsPage)",name:"Lt truy cp"})]})})})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(lI,{className:"text-blue-500"})," Trang c xem nhiu nht"]}),f.jsx("div",{className:"overflow-x-auto",children:f.jsxs("table",{className:"w-full",children:[f.jsx("thead",{children:f.jsxs("tr",{className:"text-left text-xs font-semibold text-gray-500 border-b border-gray-100 dark:border-zinc-800",children:[f.jsx("th",{className:"pb-3 pl-2",children:"Tiu  trang"}),f.jsx("th",{className:"pb-3 text-right pr-2",children:"Lt xem"})]})}),f.jsx("tbody",{children:n.topPages.map((d,m)=>f.jsxs("tr",{className:"border-b border-gray-50 dark:border-zinc-800/50 last:border-none hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[f.jsx("td",{className:"py-3 pl-2 text-sm text-gray-700 dark:text-gray-300 truncate max-w-[200px]",title:d.name,children:d.name}),f.jsx("td",{className:"py-3 pr-2 text-right text-sm font-bold text-gray-800 dark:text-white",children:d.value.toLocaleString()})]},m))})]})})]}),f.jsxs("div",{className:"space-y-6",children:[f.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(Rte,{className:"text-purple-500"})," Thit b"]}),f.jsx("div",{className:"h-[200px] flex items-center justify-center",children:f.jsx($I,{width:"100%",height:"100%",children:f.jsxs(T$e,{children:[f.jsx(moe,{data:n.devices,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:n.devices.map((d,m)=>f.jsx(ok,{fill:u[m%u.length]},`cell-${m}`))}),f.jsx(gO,{}),f.jsx(kie,{verticalAlign:"bottom",height:36})]})})})]}),f.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[f.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[f.jsx(hAe,{className:"text-red-500"})," a im (Top 5)"]}),f.jsx("div",{className:"space-y-3",children:n.cities.slice(0,5).map((d,m)=>f.jsxs("div",{className:"flex items-center justify-between",children:[f.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.name}),f.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[f.jsx("div",{className:"w-24 h-2 bg-gray-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:f.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${d.value/n.cities[0].value*100}%`}})}),f.jsx("span",{className:"text-xs font-bold w-8 text-right",children:d.value})]})]},m))})]})]})]})]})]})},T_=({label:t,value:e,color:r})=>{const n={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",green:"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400",purple:"bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400"};return f.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm",children:[f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:t}),f.jsx("p",{className:`text-xl font-bold ${n[r].split(" ")[1]}`,children:e})]})},Rk="aitnd",Pk="TNDNB",jk="https://api.github.com",KO=async t=>{try{const e=await fetch(`${jk}/repos/${Rk}/${Pk}/releases/latest`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(e.status===404)return null;if(!e.ok){const r=await e.json();throw new Error(r.message||"Failed to fetch latest release")}return e.json()}catch(e){return console.error("Error fetching latest release:",e),null}},Sot=async(t,e)=>{const r=await fetch(`${jk}/repos/${Rk}/${Pk}/releases`,{method:"POST",headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","Content-Type":"application/json","X-GitHub-Api-Version":"2022-11-28"},body:JSON.stringify({tag_name:e.tag_name,name:e.name,body:e.body||"",draft:e.draft??!1,prerelease:e.prerelease??!1})});if(!r.ok){const n=await r.json();throw new Error(n.message||"Failed to create release")}return r.json()},U5=async(t,e,r,n)=>{const i=await fetch(`${jk}/repos/${Rk}/${Pk}/releases/${e}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});if(!i.ok)throw new Error("Failed to get release info");const a=(await i.json()).upload_url.replace("{?name,label}",`?name=${encodeURIComponent(r.name)}`);return new Promise((o,l)=>{const u=new XMLHttpRequest;u.upload.onprogress=d=>{if(d.lengthComputable&&n){const m=Math.round(d.loaded/d.total*100);n(m)}},u.onload=()=>{if(u.status>=200&&u.status<300)o(JSON.parse(u.responseText));else try{const d=JSON.parse(u.responseText);l(new Error(d.message||"Upload failed"))}catch{l(new Error("Upload failed"))}},u.onerror=()=>l(new Error("Network error during upload")),u.open("POST",a),u.setRequestHeader("Authorization",`Bearer ${t}`),u.setRequestHeader("Content-Type","application/octet-stream"),u.setRequestHeader("Accept","application/vnd.github+json"),u.send(r)})},MY=async t=>{var e;try{const r=await fetch(`${jk}/repos/${Rk}/${Pk}`,{headers:{Authorization:`Bearer ${t}`,Accept:"application/vnd.github+json","X-GitHub-Api-Version":"2022-11-28"}});return r.ok?((e=(await r.json()).permissions)==null?void 0:e.push)===!0:!1}catch{return!1}},kot=()=>{var o,l,u,d;const[t,e]=C.useState(null),[r,n]=C.useState(!0),[i,s]=C.useState("");if(C.useEffect(()=>{(async()=>{var v;const g=await iw();if(e(g),(v=g==null?void 0:g.app_links)!=null&&v.windows)s(g.app_links.windows);else try{const x=await kM();if(x.token){const b=await KO(x.token);if(b&&b.assets){const w=b.assets.find(_=>_.name.endsWith(".exe"));w&&s(w.browser_download_url)}}}catch(x){console.log("Could not fetch Windows link from GitHub:",x)}n(!1)})()},[]),r)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:f.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const a={windows:i||((o=t==null?void 0:t.app_links)==null?void 0:o.windows)||"",android:((l=t==null?void 0:t.app_links)==null?void 0:l.android)||"",ios:((u=t==null?void 0:t.app_links)==null?void 0:u.ios)||"",version:((d=t==null?void 0:t.app_links)==null?void 0:d.version)||""};return f.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:f.jsxs("div",{className:"max-w-5xl mx-auto",children:[f.jsxs("div",{className:"text-center mb-16 animate-fade-in-down",children:[f.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4",children:["Ti ng Dng ",f.jsx("span",{className:"text-blue-600",children:"n Thi ng Thu"})]}),f.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"n tp mi lc, mi ni trn mi thit b. ng b d liu, lm bi thi th v theo di tin  hc tp ca bn."}),a.version&&f.jsxs("div",{className:"mt-4 inline-block px-4 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full font-semibold text-sm",children:["Phin bn mi nht: v",a.version]})]}),f.jsxs("div",{className:"grid md:grid-cols-3 gap-8 max-w-5xl mx-auto",children:[f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("div",{className:"p-8 flex-1 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 text-blue-600 dark:text-blue-400",children:f.jsx(b3,{className:"text-5xl"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Phin bn Windows"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Dnh cho my tnh  bn v laptop. Tri nghim n thi tt nht vi mn hnh ln."}),f.jsxs("ul",{className:"text-left text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-8 w-full px-4",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(Rte,{className:"text-blue-500"})," H tr Windows 10/11"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(w3,{className:"text-blue-500"})," Ci t nhanh chng"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(b3,{className:"text-blue-500"})," Hot ng mt m, n nh"]})]})]}),f.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-100 dark:border-slate-700",children:a.windows?f.jsxs("a",{href:a.windows,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl text-center transition-colors shadow-lg hover:shadow-blue-500/30 flex items-center justify-center gap-2",children:[f.jsx(b3,{})," Ti v cho Windows"]}):f.jsx("button",{disabled:!0,className:"block w-full py-3 px-6 bg-gray-300 dark:bg-slate-700 text-gray-500 dark:text-gray-400 font-bold rounded-xl text-center cursor-not-allowed",children:"ang cp nht link..."})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("div",{className:"p-8 flex-1 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mb-6 text-green-600 dark:text-green-400",children:f.jsx(y3,{className:"text-5xl"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Phin bn Android"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"n tp tin li ngay trn in thoi ca bn. H tr y  tnh nng nh trn web."}),f.jsxs("ul",{className:"text-left text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-8 w-full px-4",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(um,{className:"text-green-500"})," H tr Android 8.0 tr ln"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(w3,{className:"text-green-500"})," Ti file APK trc tip"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(y3,{className:"text-green-500"})," Giao din thn thin mobile"]})]})]}),f.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-100 dark:border-slate-700",children:a.android?f.jsxs("a",{href:a.android,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl text-center transition-colors shadow-lg hover:shadow-green-500/30 flex items-center justify-center gap-2",children:[f.jsx(y3,{})," Ti v cho Android"]}):f.jsx("button",{disabled:!0,className:"block w-full py-3 px-6 bg-gray-300 dark:bg-slate-700 text-gray-500 dark:text-gray-400 font-bold rounded-xl text-center cursor-not-allowed",children:"ang cp nht link..."})})]}),f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 dark:border-slate-700 flex flex-col",children:[f.jsxs("div",{className:"p-8 flex-1 flex flex-col items-center text-center",children:[f.jsx("div",{className:"w-20 h-20 bg-gray-100 dark:bg-gray-800/50 rounded-2xl flex items-center justify-center mb-6 text-gray-700 dark:text-gray-300",children:f.jsx(x3,{className:"text-5xl"})}),f.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Phin bn iOS"}),f.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Dnh cho iPhone v iPad. Tri nghim mt m trn h sinh thi Apple."}),f.jsxs("ul",{className:"text-left text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-8 w-full px-4",children:[f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(um,{className:"text-gray-500"})," H tr iOS 14.0 tr ln"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(w3,{className:"text-gray-500"})," Ti qua TestFlight/App Store"]}),f.jsxs("li",{className:"flex items-center gap-2",children:[f.jsx(x3,{className:"text-gray-500"})," Ti u cho iPhone & iPad"]})]})]}),f.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-100 dark:border-slate-700",children:a.ios?f.jsxs("a",{href:a.ios,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 bg-gray-800 hover:bg-black text-white font-bold rounded-xl text-center transition-colors shadow-lg hover:shadow-gray-500/30 flex items-center justify-center gap-2",children:[f.jsx(x3,{})," Ti v cho iOS"]}):f.jsx("button",{disabled:!0,className:"block w-full py-3 px-6 bg-gray-300 dark:bg-slate-700 text-gray-500 dark:text-gray-400 font-bold rounded-xl text-center cursor-not-allowed",children:"ang cp nht link..."})})]})]})]})})},Aot=()=>{var ye,Ve,G,tt;const t=vS(),[e,r]=C.useState(null),[n,i]=C.useState(!0),[s,a]=C.useState(!1),[o,l]=C.useState("limits"),[u,d]=C.useState("guest"),[m,g]=C.useState(null),[v,x]=C.useState(!1),[b,w]=C.useState(!1),[_,k]=C.useState({owner:"aitnd",repo:"TNDNB"}),[A,R]=C.useState(null),[P,j]=C.useState(""),[S,I]=C.useState(""),[O,D]=C.useState(null),[M,F]=C.useState(null),[U,le]=C.useState(null),[de,Z]=C.useState(0),[J,he]=C.useState(!1),[ee,ve]=C.useState(null);C.useEffect(()=>{H()},[]);const H=async()=>{i(!0);const me=await iw();r(me);const He=await kM();if(k(He),He.token){const Ke=await MY(He.token);if(ve(Ke),Ke){const Ie=await KO(He.token);R(Ie)}}i(!1)},B=async()=>{if(_.token)try{const me=await MY(_.token);if(ve(me),me){await Uue(_);const He=await KO(_.token);R(He),Os.fire("Thnh cng","Token hp l v  lu!","success")}else Os.fire("Li","Token khng hp l hoc khng c quyn repo.","error")}catch{Os.fire("Li","Khng th kim tra token","error")}},q=async()=>{if(!_.token||!P){Os.fire("Li","Vui lng nhp phin bn v cu hnh token.","error");return}if(!O||!M){Os.fire("Li","Vui lng chn file .exe v latest.yml","error");return}he(!0),Z(0);try{const me=await Sot(_.token,{tag_name:`v${P}`,name:`Version ${P}`,body:S||`Pht hnh phin bn ${P}`,draft:!1,prerelease:!1});Z(10);const He=await U5(_.token,me.id,O,Ie=>{Z(10+Math.round(Ie*.6))});Z(75),await U5(_.token,me.id,M,Ie=>{Z(75+Math.round(Ie*.15))}),U&&(Z(90),await U5(_.token,me.id,U,Ie=>{Z(90+Math.round(Ie*.1))})),Z(100);const Ke=He.browser_download_url;if(e){const Ie={...e,app_links:{...e.app_links,version:P,windows:Ke}};await HO(Ie),r(Ie)}R(me),Os.fire({title:"Pht hnh thnh cng!",html:`<p>Phin bn <strong>v${P}</strong>  c y ln GitHub.</p><a href="${me.html_url}" target="_blank" class="text-blue-600 underline">Xem trn GitHub</a>`,icon:"success"}),j(""),I(""),D(null),F(null),le(null)}catch(me){console.error("Publish error:",me),Os.fire("Li pht hnh",me.message||"Khng th pht hnh release","error")}finally{he(!1)}},W=async()=>{if(e){a(!0);try{await HO(e),Os.fire({title:"Thnh cng!",text:"Cu hnh  c lu.",icon:"success",timer:1500,showConfirmButton:!1})}catch{Os.fire("Li","Khng th lu cu hnh","error")}finally{a(!1)}}},Y=(me,He,Ke)=>{e&&r({...e,[me]:{...e[me],[He]:Ke}})},ue=async()=>{x(!0);try{const me=await Zr(Vt(Ge,"courses")),He=new Set(me.docs.map(ht=>ht.id)),Ke=cr(Vt(Ge,"users"),gr("courseId","!=",null)),Ie=await Zr(Ke);let et=0;Ie.forEach(ht=>{const _t=ht.data();_t.courseId&&!He.has(_t.courseId)&&et++}),g(et),et===0&&Os.fire("Tt","D liu sch s! Khng c hc vin li.","success")}catch(me){console.error(me),Os.fire("Li","Khng th qut d liu","error")}finally{x(!1)}},pe=async()=>{if(m){w(!0);try{const me=await Zr(Vt(Ge,"courses")),He=new Set(me.docs.map(_t=>_t.id)),Ke=cr(Vt(Ge,"users"),gr("courseId","!=",null)),Ie=await Zr(Ke),et=EP(Ge);let ht=0;Ie.forEach(_t=>{const Rr=_t.data();if(Rr.courseId&&!He.has(Rr.courseId)){const Pr=Rt(Ge,"users",_t.id);et.update(Pr,{courseId:null,courseName:null,class:null,isVerified:!1}),ht++}}),ht>0&&(await et.commit(),g(0),Os.fire("Thnh cng",` sa li cho ${ht} hc vin!`,"success"))}catch(me){console.error(me),Os.fire("Li","Khng th sa d liu","error")}finally{w(!1)}}};if(n)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 text-gray-500",children:"ang ti cu hnh..."});if(!e)return f.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 text-red-500",children:"Li ti d liu"});const ce=[{id:"guest",label:"Khch Vng Lai",icon:$E,color:"text-gray-500"},{id:"free_user",label:"Thnh Vin T Do",icon:zte,color:"text-green-500"},{id:"verified_user",label:"Hc Vin Lp",icon:wAe,color:"text-blue-500"},{id:"vip_user",label:"Thnh Vin VIP",icon:bAe,color:"text-yellow-500"},{id:"teacher",label:"Gio Vin",icon:oI,color:"text-purple-500"},{id:"manager",label:"Cn B Qun L",icon:xg,color:"text-red-500"},{id:"admin",label:"Qun Tr Vin",icon:vAe,color:"text-indigo-600"}],ie=e[u];return f.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white animate-fade-in",children:[f.jsx("header",{className:"bg-white dark:bg-slate-800 shadow-sm border-b dark:border-slate-700 sticky top-0 z-30",children:f.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:f.jsx(H0,{className:"text-gray-600 dark:text-gray-300"})}),f.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[f.jsx(oAe,{className:"text-purple-600 animate-spin-slow"}),"Cu Hnh H Thng"]})]}),f.jsx("button",{onClick:W,disabled:s,className:"px-6 py-2 rounded-lg font-bold text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:shadow-lg hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50",children:s?"ang lu...":f.jsxs(f.Fragment,{children:[f.jsx(pj,{})," Lu Thay i"]})})]})}),f.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:f.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[f.jsxs("nav",{className:"w-full md:w-64 flex-shrink-0 space-y-2",children:[f.jsxs("button",{onClick:()=>l("limits"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="limits"?"bg-white dark:bg-slate-800 shadow-md text-purple-600 font-bold border-l-4 border-purple-600":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[f.jsx(dI,{className:"text-xl"}),"Gii hn truy cp"]}),f.jsxs("button",{onClick:()=>l("app_links"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="app_links"?"bg-white dark:bg-slate-800 shadow-md text-blue-600 font-bold border-l-4 border-blue-600":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[f.jsx(um,{className:"text-xl"}),"Lin kt Ti App"]}),f.jsxs("button",{onClick:()=>l("system"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="system"?"bg-white dark:bg-slate-800 shadow-md text-orange-600 font-bold border-l-4 border-orange-600":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[f.jsx(fz,{className:"text-xl"}),"H thng & D liu"]})]}),f.jsxs("main",{className:"flex-1 min-w-0",children:[o==="limits"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border dark:border-slate-700 p-6 animate-fade-in-up",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[f.jsx(dI,{className:"text-purple-600"}),"Cu hnh Gii hn & Quyn"]}),f.jsxs("div",{className:"mb-8",children:[f.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Chn nhm ngi dng  cu hnh:"}),f.jsx("div",{className:"flex flex-wrap gap-2",children:ce.map(me=>f.jsxs("button",{onClick:()=>d(me.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all border ${u===me.id?"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-700 text-purple-700 dark:text-purple-300 font-bold shadow-sm":"bg-gray-50 dark:bg-slate-700 border-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:[f.jsx(me.icon,{className:u===me.id?me.color:""}),me.label]},me.id))})]}),f.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:[f.jsxs("div",{className:"flex items-center justify-between mb-6",children:[f.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[Ne.createElement(ce.find(me=>me.id===u).icon,{className:ce.find(me=>me.id===u).color}),ce.find(me=>me.id===u).label]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:ie.isEnabled,onChange:me=>Y(u,"isEnabled",me.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"}),f.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:ie.isEnabled?"ang bt gii hn":"Khng gii hn (Tt)"})]})]}),ie.isEnabled?f.jsxs("div",{className:"space-y-6 animate-fade-in",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"S lt ti a"}),f.jsx("input",{type:"number",value:ie.limit,onChange:me=>Y(u,"limit",parseInt(me.target.value)||0),className:"w-full p-3 border rounded-lg dark:bg-slate-800 dark:border-slate-600 focus:ring-2 focus:ring-purple-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Chu k reset"}),f.jsxs("select",{value:ie.period,onChange:me=>Y(u,"period",me.target.value),className:"w-full p-3 border rounded-lg dark:bg-slate-800 dark:border-slate-600 focus:ring-2 focus:ring-purple-500 outline-none",children:[f.jsx("option",{value:"daily",children:"Hng Ngy (00:00)"}),f.jsx("option",{value:"weekly",children:"Hng Tun (Th 2)"})]})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Tin nhn bo chn"}),f.jsx("textarea",{rows:3,value:ie.message,onChange:me=>Y(u,"message",me.target.value),className:"w-full p-3 border rounded-lg dark:bg-slate-800 dark:border-slate-600 focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Nhp tin nhn..."}),f.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" Mo: Dng ",f.jsx("code",{children:"{limit}"}),"  hin th s lt t ng."]})]})]}):f.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600 text-center text-gray-500",children:[f.jsx(wu,{className:"text-5xl mx-auto mb-4 text-green-500 opacity-50"}),f.jsx("p",{className:"text-lg",children:"Ngi dng thuc nhm ny c truy cp khng gii hn."})]}),f.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-orange-700 dark:text-orange-400",children:"Hin th Qung Co (Google Adsense)"}),f.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bt  hin qung co cho nhm ny (Khng ph thuc gii hn)."})]}),f.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[f.jsx("input",{type:"checkbox",checked:ie.showAds,onChange:me=>Y(u,"showAds",me.target.checked),className:"sr-only peer"}),f.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-orange-500"})]})]})]})]}),o==="app_links"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border dark:border-slate-700 p-6 animate-fade-in-up",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[f.jsx(um,{className:"text-blue-600"}),"Cu hnh Link Ti App"]}),f.jsxs("div",{className:"space-y-6 max-w-2xl",children:[f.jsxs("div",{className:"p-4 bg-gradient-to-r from-blue-50 to-indigo-50 dark:from-slate-700/50 dark:to-slate-600/50 rounded-xl border border-blue-200 dark:border-slate-600",children:[f.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[f.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/40 rounded-lg",children:f.jsx(E3,{className:"text-blue-600 dark:text-blue-400"})}),f.jsxs("div",{children:[f.jsx("h4",{className:"font-bold text-gray-800 dark:text-white",children:"Windows App"}),f.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400",children:"T ng t GitHub Releases"})]})]}),f.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Phin bn:"}),f.jsx("span",{className:"ml-2 font-bold text-blue-600 dark:text-blue-400",children:(A==null?void 0:A.tag_name)||((ye=e.app_links)==null?void 0:ye.version)||"Cha c"})]}),f.jsxs("div",{children:[f.jsx("span",{className:"text-gray-500 dark:text-gray-400",children:"Trng thi:"}),f.jsx("span",{className:`ml-2 font-bold ${ee?"text-green-600":"text-orange-500"}`,children:ee?"  kt ni GitHub":" Cha cu hnh"})]})]}),((Ve=e.app_links)==null?void 0:Ve.windows)&&f.jsxs("div",{className:"mt-3 text-xs text-gray-500 dark:text-gray-400 truncate",children:[" ",f.jsx("a",{href:e.app_links.windows,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:e.app_links.windows})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:" Link Ti Android (.apk / Play Store)"}),f.jsx("input",{type:"text",value:((G=e.app_links)==null?void 0:G.android)||"",onChange:me=>r({...e,app_links:{...e.app_links,android:me.target.value}}),placeholder:"https://play.google.com/... hoc link APK",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhp link Google Play Store hoc link ti trc tip APK"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:" Link Ti iOS (TestFlight / App Store)"}),f.jsx("input",{type:"text",value:((tt=e.app_links)==null?void 0:tt.ios)||"",onChange:me=>r({...e,app_links:{...e.app_links,ios:me.target.value}}),placeholder:"https://testflight.apple.com/... hoc App Store",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"}),f.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Nhp link TestFlight hoc App Store"})]})]}),f.jsxs("div",{className:"mt-8 pt-8 border-t border-gray-200 dark:border-slate-600",children:[f.jsxs("h3",{className:"text-xl font-bold mb-6 flex items-center gap-2",children:[f.jsx(E3,{className:"text-green-600"}),"Pht hnh bn cp nht mi"]}),f.jsxs("div",{className:"mb-6 p-4 bg-gray-50 dark:bg-slate-700/30 rounded-xl border border-gray-200 dark:border-slate-600",children:[f.jsxs("div",{className:"flex items-center gap-2 mb-3",children:[f.jsx(Gke,{className:"text-xl"}),f.jsx("span",{className:"font-bold",children:"Cu hnh GitHub"}),ee===!0&&f.jsxs("span",{className:"text-green-500 text-sm flex items-center gap-1",children:[f.jsx(wu,{}),"  kt ni"]}),ee===!1&&f.jsx("span",{className:"text-red-500 text-sm",children:"Token khng hp l"})]}),f.jsxs("div",{className:"flex gap-2",children:[f.jsx("input",{type:"password",value:_.token||"",onChange:me=>k({..._,token:me.target.value}),placeholder:"GitHub Personal Access Token...",className:"flex-1 p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"}),f.jsxs("button",{onClick:B,className:"px-4 py-2 bg-gray-800 text-white rounded-lg font-bold hover:bg-gray-900 flex items-center gap-2",children:[f.jsx(yg,{})," Lu Token"]})]}),A&&f.jsxs("p",{className:"mt-2 text-sm text-gray-500",children:["Release mi nht: ",f.jsx("a",{href:A.html_url,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 underline",children:A.tag_name})]})]}),ee&&f.jsxs("div",{className:"space-y-4 animate-fade-in",children:[f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2",children:"Phin bn mi"}),f.jsx("input",{type:"text",value:P,onChange:me=>j(me.target.value),placeholder:"VD: 3.8.8",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-green-500 outline-none"})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2",children:"Ghi ch"}),f.jsx("input",{type:"text",value:S,onChange:me=>I(me.target.value),placeholder:"Ty chn...",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-green-500 outline-none"})]})]}),f.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2",children:"File .exe *"}),f.jsxs("label",{className:`flex items-center justify-center gap-2 p-4 border-2 border-dashed rounded-lg cursor-pointer ${O?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-blue-400"}`,children:[f.jsx("input",{type:"file",accept:".exe",className:"hidden",onChange:me=>{var He;return D(((He=me.target.files)==null?void 0:He[0])||null)}}),f.jsx(Ute,{className:O?"text-green-600":""}),f.jsx("span",{className:"text-sm truncate",children:O?O.name:"Chn file..."})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2",children:"latest.yml *"}),f.jsxs("label",{className:`flex items-center justify-center gap-2 p-4 border-2 border-dashed rounded-lg cursor-pointer ${M?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-blue-400"}`,children:[f.jsx("input",{type:"file",accept:".yml,.yaml",className:"hidden",onChange:me=>{var He;return F(((He=me.target.files)==null?void 0:He[0])||null)}}),f.jsx(lI,{className:M?"text-green-600":""}),f.jsx("span",{className:"text-sm truncate",children:M?M.name:"Chn file..."})]})]}),f.jsxs("div",{children:[f.jsx("label",{className:"block text-sm font-bold mb-2",children:".blockmap"}),f.jsxs("label",{className:`flex items-center justify-center gap-2 p-4 border-2 border-dashed rounded-lg cursor-pointer ${U?"border-green-500 bg-green-50 dark:bg-green-900/20":"border-gray-300 dark:border-slate-600 hover:border-blue-400"}`,children:[f.jsx("input",{type:"file",accept:".blockmap",className:"hidden",onChange:me=>{var He;return le(((He=me.target.files)==null?void 0:He[0])||null)}}),f.jsx(lI,{className:U?"text-green-600":""}),f.jsx("span",{className:"text-sm truncate",children:U?U.name:"Ty chn"})]})]})]}),J&&f.jsx("div",{className:"w-full bg-gray-200 dark:bg-slate-700 rounded-full h-3",children:f.jsx("div",{className:"bg-gradient-to-r from-green-500 to-blue-500 h-3 rounded-full transition-all",style:{width:`${de}%`}})}),f.jsx("button",{onClick:q,disabled:J||!P||!O||!M,className:"w-full py-4 bg-gradient-to-r from-green-600 to-emerald-600 text-white font-bold rounded-xl hover:shadow-lg transition-all flex items-center justify-center gap-2 disabled:opacity-50",children:J?`ang pht hnh... ${de}%`:f.jsxs(f.Fragment,{children:[f.jsx(E3,{})," Pht hnh ln GitHub"]})})]})]})]}),o==="system"&&f.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border dark:border-slate-700 p-6 animate-fade-in-up",children:[f.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[f.jsx(fz,{className:"text-orange-600"}),"Cng c H thng"]}),f.jsxs("div",{className:"p-6 bg-orange-50 dark:bg-slate-700/30 rounded-xl border border-orange-200 dark:border-slate-600",children:[f.jsxs("h4",{className:"font-bold text-lg mb-2 text-orange-800 dark:text-orange-400 flex items-center gap-2",children:[f.jsx(Zke,{})," Dn dp d liu rc"]}),f.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:'Tm v sa cc ti khon hc vin vn cn lin kt vi lp hc  b xa (Orphaned Data). Li ny khin hc vin hin th " xc thc" nhng thng tin lp khng tn ti.'}),f.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[f.jsx("button",{onClick:ue,disabled:v||b,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2 shadow-sm",children:v?"ang qut...":"1. Qut tm li"}),m!==null&&m>0&&f.jsxs("div",{className:"flex items-center gap-4 animate-fade-in",children:[f.jsxs("span",{className:"font-bold text-red-500 bg-red-50 px-3 py-1 rounded-lg border border-red-100",children:["Tm thy ",m," ti khon li!"]}),f.jsx("button",{onClick:pe,disabled:b,className:"px-5 py-2.5 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 shadow-sm",children:b?"ang sa...":"2. Sa ngay"})]}),m===0&&f.jsxs("span",{className:"text-green-600 font-bold animate-fade-in flex items-center gap-2",children:[f.jsx(wu,{})," Khng c li no!"]})]})]})]})]})]})})]})},Cot=({onBack:t})=>{const e=In(l=>l.userProfile),[r,n]=C.useState([]),[i,s]=C.useState(!0);C.useEffect(()=>{e&&a()},[e]);const a=async()=>{if(!e)return;s(!0);const l=await nS(e.id);n(l),s(!1)},o=async(l,u)=>{if(!window.confirm("Bn c chc chn mun ng xut thit b ny t xa khng?"))return;await hM(l)?(Gr.success(" ng xut thit b thnh cng."),a()):Gr.error("Khng th ng xut thit b. Vui lng th li.")};return f.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 animate-slide-in-right",children:[f.jsxs("div",{className:"relative text-center mb-8",children:[f.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:f.jsx(cf,{className:"h-8 w-8 text-primary"})}),f.jsx("div",{className:"h-16 w-16 mx-auto text-primary mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:f.jsx(dI,{className:"text-3xl"})}),f.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Lch s ng nhp"}),f.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Qun l cc thit b ang ng nhp vo ti khon ca bn."})]}),f.jsxs("div",{className:"bg-card rounded-2xl shadow-lg overflow-hidden",children:[f.jsx("div",{className:"p-6 border-b border-border bg-muted/30",children:f.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[f.jsx(nf,{className:"text-primary"}),"Cc thit b ang hot ng"]})}),f.jsx("div",{className:"divide-y divide-border",children:i?f.jsx("div",{className:"p-10 text-center text-muted-foreground",children:"ang ti d liu..."}):r.length===0?f.jsx("div",{className:"p-10 text-center text-muted-foreground",children:"Khng tm thy phin ng nhp no."}):r.map(l=>{var u;return f.jsxs("div",{className:"p-4 flex items-center justify-between hover:bg-muted/20 transition-colors",children:[f.jsxs("div",{className:"flex items-center gap-4",children:[f.jsx("div",{className:"h-12 w-12 rounded-full bg-primary/10 flex items-center justify-center text-primary",children:l.deviceName.toLowerCase().includes("windows")||l.deviceName.toLowerCase().includes("mac")?f.jsx(N1,{className:"text-2xl"}):f.jsx(um,{className:"text-2xl"})}),f.jsxs("div",{children:[f.jsxs("div",{className:"font-bold text-foreground flex items-center gap-2",children:[l.deviceName,l.isCurrent&&f.jsx("span",{className:"text-[10px] bg-green-100 text-green-700 px-2 py-0.5 rounded-full uppercase font-bold",children:"Hin ti"})]}),f.jsxs("div",{className:"text-xs text-muted-foreground flex flex-col gap-0.5",children:[f.jsxs("span",{className:"flex items-center gap-1",children:[f.jsx(cI,{className:"text-[10px]"})," ",l.browser,"  ",l.ip]}),f.jsxs("span",{children:["ng nhp: ",(u=l.loginAt)!=null&&u.seconds?new Date(l.loginAt.seconds*1e3).toLocaleString("vi-VN"):"Va xong"]})]})]})]}),!l.isCurrent&&f.jsx("button",{onClick:()=>o(l.id),className:"p-2 text-muted-foreground hover:text-destructive transition-colors",title:"ng xut thit b ny",children:f.jsx(v4,{className:"text-xl"})})]},l.id)})})]}),f.jsxs("div",{className:"mt-6 p-4 bg-blue-50 border border-blue-100 rounded-xl text-sm text-blue-700",children:[f.jsx("p",{className:"font-semibold mb-1",children:" Mo bo mt:"}),f.jsx("p",{children:"Nu bn thy thit b l, hy ng xut n ngay lp tc v i mt khu  bo v ti khon."})]})]})},Not=(t,e)=>{const r=n=>{const i=n.match(/(\d+)$/);return i?parseInt(i[1],10):0};return r(t.id)-r(e.id)},Lde=async()=>{const{data:t,error:e}=await YE.from("licenses").select(`
      id,
      name,
      display_order,
      subjects (
        id,
        name,
        display_order,
        questions (
          *,
          answers (
            id,
            text
          )
        )
      )
    `).order("display_order",{ascending:!0}).order("display_order",{foreignTable:"subjects",ascending:!0});if(e)throw console.error("Error fetching data from Supabase:",e),e;return t.map(n=>({id:n.id,name:n.name,subjects:n.subjects.map(i=>({id:i.id,name:i.name,questions:i.questions.sort(Not).map(s=>({id:s.id,text:s.text,image:s.image,correctAnswerId:s.correct_answer_id,answers:s.answers.map(a=>({id:a.id,text:a.text}))}))}))}))},$M=Object.freeze(Object.defineProperty({__proto__:null,fetchLicenses:Lde},Symbol.toStringTag,{value:"Module"})),Iot=()=>{const{user:t}=wk(),e=In(r=>r.userProfile);C.useEffect(()=>{if(!oa)return;const r=xo(oa,".info/connected");let n,i;if(t&&e)n=xo(oa,"/status/"+t.uid),i={state:"online",last_changed:R0(),role:e.role||"unknown",name:e.full_name||e.fullName||"User",photoURL:e.photoURL||"",device:"web"};else{let a=localStorage.getItem("guest_session_id");a||(a="guest_"+Math.random().toString(36).substr(2,9),localStorage.setItem("guest_session_id",a)),n=xo(oa,"/status/"+a),i={state:"online",last_changed:R0(),role:"guest",name:"Khch",device:"web"}}const s=hx(r,a=>{if(a.val()===!1)return;const o={state:"offline",last_changed:R0()};kte(n).set(o).then(()=>{p4(n,i)})});return()=>{s()}},[t,e])};var S_={},LY;function Oot(){if(LY)return S_;LY=1;function t(s){if(typeof window>"u")return;const a=document.createElement("style");return a.setAttribute("type","text/css"),a.innerHTML=s,document.head.appendChild(a),s}Object.defineProperty(S_,"__esModule",{value:!0});var e=km();function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var n=r(e);t(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const i=e.forwardRef(function({style:a={},className:o="",autoFill:l=!1,play:u=!0,pauseOnHover:d=!1,pauseOnClick:m=!1,direction:g="left",speed:v=50,delay:x=0,loop:b=0,gradient:w=!1,gradientColor:_="white",gradientWidth:k=200,onFinish:A,onCycleComplete:R,onMount:P,children:j},S){const[I,O]=e.useState(0),[D,M]=e.useState(0),[F,U]=e.useState(1),[le,de]=e.useState(!1),Z=e.useRef(null),J=S||Z,he=e.useRef(null),ee=e.useCallback(()=>{if(he.current&&J.current){const ue=J.current.getBoundingClientRect(),pe=he.current.getBoundingClientRect();let ce=ue.width,ie=pe.width;(g==="up"||g==="down")&&(ce=ue.height,ie=pe.height),U(l&&ce&&ie&&ie<ce?Math.ceil(ce/ie):1),O(ce),M(ie)}},[l,J,g]);e.useEffect(()=>{if(le&&(ee(),he.current&&J.current)){const ue=new ResizeObserver(()=>ee());return ue.observe(J.current),ue.observe(he.current),()=>{ue&&ue.disconnect()}}},[ee,J,le]),e.useEffect(()=>{ee()},[ee,j]),e.useEffect(()=>{de(!0)},[]),e.useEffect(()=>{typeof P=="function"&&P()},[]);const ve=e.useMemo(()=>l?D*F/v:D<I?I/v:D/v,[l,I,D,F,v]),H=e.useMemo(()=>Object.assign(Object.assign({},a),{"--pause-on-hover":!u||d?"paused":"running","--pause-on-click":!u||d&&!m||m?"paused":"running","--width":g==="up"||g==="down"?"100vh":"100%","--transform":g==="up"?"rotate(-90deg)":g==="down"?"rotate(90deg)":"none"}),[a,u,d,m,g]),B=e.useMemo(()=>({"--gradient-color":_,"--gradient-width":typeof k=="number"?`${k}px`:k}),[_,k]),q=e.useMemo(()=>({"--play":u?"running":"paused","--direction":g==="left"?"normal":"reverse","--duration":`${ve}s`,"--delay":`${x}s`,"--iteration-count":b?`${b}`:"infinite","--min-width":l?"auto":"100%"}),[u,g,ve,x,b,l]),W=e.useMemo(()=>({"--transform":g==="up"?"rotate(90deg)":g==="down"?"rotate(-90deg)":"none"}),[g]),Y=e.useCallback(ue=>[...Array(Number.isFinite(ue)&&ue>=0?ue:0)].map((pe,ce)=>n.default.createElement(e.Fragment,{key:ce},e.Children.map(j,ie=>n.default.createElement("div",{style:W,className:"rfm-child"},ie)))),[W,j]);return le?n.default.createElement("div",{ref:J,style:H,className:"rfm-marquee-container "+o},w&&n.default.createElement("div",{style:B,className:"rfm-overlay"}),n.default.createElement("div",{className:"rfm-marquee",style:q,onAnimationIteration:R,onAnimationEnd:A},n.default.createElement("div",{className:"rfm-initial-child-container",ref:he},e.Children.map(j,ue=>n.default.createElement("div",{style:W,className:"rfm-child"},ue))),Y(F-1)),n.default.createElement("div",{className:"rfm-marquee",style:q},Y(F))):null});return S_.default=i,S_}var Rot=Oot();const Pot=ll(Rot),jot=()=>{const[t,e]=C.useState([]),{user:r}=wk(),{userProfile:n}=In(s=>s),i=async()=>{const s=await Cte(r==null?void 0:r.uid,n==null?void 0:n.role);e(s)};return C.useEffect(()=>{i();const s=setInterval(i,300*1e3);return()=>clearInterval(s)},[r,n]),C.useEffect(()=>{const s=cr(Vt(Ge,"notifications"),gr("targetType","==","all"),gr("type","in",["special","attention"])),a=wo(s,()=>{i()});let o=()=>{};if(r){const l=cr(Vt(Ge,"users",r.uid,"notifications"),gr("type","in",["special","attention"]));o=wo(l,()=>{i()})}return()=>{a(),o()}},[r]),t.length===0?null:f.jsx("div",{className:"w-full z-30 sticky top-16",children:t.map(s=>f.jsxs("div",{className:`
                        w-full py-2 px-4 flex items-center shadow-md
                        ${s.type==="special"?"bg-gradient-to-r from-red-600 to-red-700 text-white":"bg-gradient-to-r from-amber-400 to-orange-500 text-gray-900"}
                    `,children:[f.jsxs("div",{className:"flex-shrink-0 mr-4 font-bold flex items-center gap-2 uppercase tracking-wider text-sm",children:[s.type==="special"?f.jsx(jv,{className:"animate-pulse"}):f.jsx(jte,{}),s.type==="special"?"Thng bo khn":"Ch "]}),f.jsxs(Pot,{gradient:!1,speed:50,className:"flex-1 font-medium text-sm md:text-base",children:[f.jsxs("span",{className:"mx-4",children:[s.title,": ",s.message]}),f.jsx("span",{className:"mx-4",children:" | "}),f.jsxs("span",{className:"mx-4",children:[s.title,": ",s.message]})]})]},s.id))})},Dot=()=>{var H;Iot();const t=vS(),e=gS(),r=In(B=>B.licenses),n=In(B=>B.setLicenses),i=In(B=>B.selectedLicense),s=In(B=>B.setSelectedLicense),a=In(B=>B.subjects),o=In(B=>B.setSubjects),l=In(B=>B.selectedSubject),u=In(B=>B.setSelectedSubject),d=In(B=>B.currentQuiz),m=In(B=>B.setCurrentQuiz),g=In(B=>B.userAnswers),v=In(B=>B.setUserAnswers),x=In(B=>B.score),b=In(B=>B.setScore),w=In(B=>B.userName),_=In(B=>B.setUserName),k=In(B=>B.userProfile),A=In(B=>B.setUserProfile),R=In(B=>B.resumeSessionAvailable),P=In(B=>B.setResumeSessionAvailable),j=In(B=>B.isMobileApp),S=In(B=>B.setIsMobileApp);C.useEffect(()=>{var Y;const q=new URLSearchParams(window.location.search).get("mode")==="app",W=rv.isNativePlatform();S(!!(W||q)),(Y=window.electron)!=null&&Y.isElectron&&(setTimeout(async()=>{var pe,ce;try{const{getUsageConfig:ie}=await Jr(async()=>{const{getUsageConfig:me}=await Promise.resolve().then(()=>Nit);return{getUsageConfig:me}},void 0),ye=await ie(),Ve=window.electron.appVersion,G=(pe=ye.app_links)==null?void 0:pe.version,tt=(ce=ye.app_links)==null?void 0:ce.windows;if(console.log(`Current: ${Ve}, Remote: ${G}`),Ve&&G&&tt){const me=Ve.split(".").map(Number),He=G.split(".").map(Number);let Ke=!1;for(let Ie=0;Ie<3;Ie++){if(He[Ie]>me[Ie]){Ke=!0;break}if(He[Ie]<me[Ie])break}if(Ke){const{default:Ie}=await Jr(async()=>{const{default:ht}=await Promise.resolve().then(()=>__);return{default:ht}},void 0);(await Ie.fire({title:"C bn cp nht mi!",text:`Phin bn ${G}  sn sng. Bn c mun cp nht ngay khng?`,icon:"info",showCancelButton:!0,confirmButtonText:"Cp nht ngay",cancelButtonText:" sau"})).isConfirmed&&Ie.fire({title:"ang ti cp nht...",html:"Vui lng khng tt ng dng.<br><b>0%</b>",allowOutsideClick:!1,didOpen:()=>{Ie.showLoading(),window.electron.downloadUpdate(tt)}})}}}catch(ie){console.error("Update check failed:",ie)}},3e3),window.electron.onUpdateProgress(pe=>{const ce=document.querySelector(".swal2-html-container b");ce&&(ce.textContent=`${Math.round(pe)}%`)}),window.electron.onUpdateDownloaded(()=>{Jr(async()=>{const{default:pe}=await Promise.resolve().then(()=>__);return{default:pe}},void 0).then(({default:pe})=>{pe.fire({title:"Ti xong!",text:"ng dng s khi ng li  ci t.",icon:"success",timer:3e3,showConfirmButton:!1}).then(()=>{window.electron.installUpdate()})})}),window.electron.onUpdateError(pe=>{Jr(async()=>{const{default:ce}=await Promise.resolve().then(()=>__);return{default:ce}},void 0).then(({default:ce})=>{ce.fire("Li","Khng th ti bn cp nht. Vui lng th li sau.","error")})}))},[]),C.useEffect(()=>{(async()=>{try{const q=await Lde();n(q)}catch(q){console.error("Error loading licenses:",q)}})()},[]),C.useEffect(()=>{const B=nee(vs,async q=>{if(q){Jr(async()=>{const{onSnapshot:Y,doc:ue}=await Promise.resolve().then(()=>nm);return{onSnapshot:Y,doc:ue}},void 0).then(({onSnapshot:Y,doc:ue})=>{Y(ue(Ge,"users",q.uid),pe=>{if(pe.exists()){const ce={id:pe.id,...pe.data()};A(ce),_(ce.full_name||q.displayName||"")}})});let W=null;try{W=await tNe(q.uid)}catch(Y){console.error(" Critical: Could not fetch user profile:",Y)}if(W===null){const Y={id:q.uid,full_name:q.displayName||"Ngi dng mi",email:q.email||"",role:"hoc_vien",photoURL:q.photoURL||"",isVerified:!1};try{const{setDoc:ue,doc:pe}=await Jr(async()=>{const{setDoc:ce,doc:ie}=await Promise.resolve().then(()=>nm);return{setDoc:ce,doc:ie}},void 0);await ue(pe(Ge,"users",q.uid),Y,{merge:!0}),W=Y,A(W),_(W.full_name)}catch(ue){console.error(" Failed to create default profile:",ue)}}Jr(async()=>{const{initializeFCM:Y}=await import("./fcmClient-DD9xe3SO.js");return{initializeFCM:Y}},[]).then(({initializeFCM:Y})=>{Y(q.uid)}),Jr(async()=>{const{loadSession:Y,getLicensePreference:ue}=await import("./sessionService-CxCtOUx6.js");return{loadSession:Y,getLicensePreference:ue}},[]).then(({loadSession:Y,getLicensePreference:ue})=>{const pe=Y(q.uid);if(pe){m(pe.quiz),v(pe.userAnswers),s(pe.selectedLicense),u(pe.selectedSubject);return}(async()=>{if(W!=null&&W.defaultLicenseId){const ie=r.find(ye=>ye.id===W.defaultLicenseId);if(ie){s(ie);return}}})()})}else A(null),_("")});return()=>{B()}},[r,t,e.pathname]),C.useEffect(()=>{k&&Jr(async()=>{const{checkCurrentSessionStatus:B,updateLastActive:q}=await Promise.resolve().then(()=>LO);return{checkCurrentSessionStatus:B,updateLastActive:q}},void 0).then(({checkCurrentSessionStatus:B,updateLastActive:q})=>{q();const W=B(Y=>{Y&&Jr(async()=>{const{default:ue}=await Promise.resolve().then(()=>__);return{default:ue}},void 0).then(({default:ue})=>{ue.fire({title:"Phin ng nhp ht hn",text:"Ti khon ca bn  c ng xut t thit b khc hoc bi qun tr vin.",icon:"warning",confirmButtonText:"ng "}).then(()=>{ee()})})});return()=>W()})},[k]);const I=C.useCallback((B,q,W,Y,ue)=>{!Y||!k||Jr(async()=>{const{saveSession:pe}=await import("./sessionService-CxCtOUx6.js");return{saveSession:pe}},[]).then(({saveSession:pe})=>{pe(k.id,Y,ue,W,B,q,i,l)})},[i,l,k]);C.useEffect(()=>{if(e.pathname==="/ontap/lambai"||e.pathname==="/ontap/thithu"){P(!1);return}k&&Jr(async()=>{const{loadSession:B}=await import("./sessionService-CxCtOUx6.js");return{loadSession:B}},[]).then(({loadSession:B})=>{const q=B(k.id);P(!!q)})},[e.pathname,k]);const O=()=>{Jr(async()=>{const{loadSession:B}=await import("./sessionService-CxCtOUx6.js");return{loadSession:B}},[]).then(({loadSession:B})=>{if(!k)return;const q=B(k.id);q&&(m(q.quiz),v(q.userAnswers),s(q.selectedLicense),u(q.selectedSubject),q.mode==="online_exam"?t("/ontap/thithu"):t("/ontap/lambai"))})},D=async()=>{if(k){if(k.defaultLicenseId){const B=r.find(q=>q.id===k.defaultLicenseId);if(B){s(B),t("/ontap/chonchedo");return}}t("/ontap/chonbang")}else t("/ontap/chonbang")},M=async B=>{s(B),Jr(async()=>{const{saveLicensePreference:q}=await import("./sessionService-CxCtOUx6.js");return{saveLicensePreference:q}},[]).then(({saveLicensePreference:q})=>{q(B.id)}),t(k?"/ontap/chonchedo":"/ontap/nhapten")},F=B=>{_(B),t("/ontap/chonchedo")},U=async()=>{if(!i)return;if(await PY(k)!=="ALLOWED"){await DY(k,()=>t("/ontap/dangnhap"));return}await jY(k);const q=[];i.subjects.forEach(pe=>{q.push(...pe.questions)});const Y=[...q].sort(()=>.5-Math.random()).slice(0,30);if(Y.length===0){alert("Cha c cu hi no cho hng bng ny. Vui lng th li sau.");return}const ue={id:`exam_${Date.now()}`,title:`Thi Th - ${i.name}`,questions:Y,timeLimit:2700};m(ue),v({}),b(0),localStorage.removeItem("ontap_quiz_session"),t("/ontap/thithu")},le=async B=>{B==="practice"?i&&(o(i.subjects),t("/ontap/chonmon")):B==="online_exam"&&U()},de=async B=>{if(await PY(k)!=="ALLOWED"){await DY(k,()=>t("/ontap/dangnhap"));return}await jY(k),u(B);const W={id:B.id,title:B.name,questions:B.questions,timeLimit:0};m(W),v({}),localStorage.removeItem("ontap_quiz_session"),t("/ontap/lambai")},Z=B=>{if(d){Jr(async()=>{const{clearSession:W}=await import("./sessionService-CxCtOUx6.js");return{clearSession:W}},[]).then(({clearSession:W})=>W()),P(!1);let q=0;if(d.questions.forEach(W=>{B[W.id]===W.correctAnswerId&&q++}),b(q),v(B),e.pathname==="/ontap/thithu")k&&$z(k.id,i.id,i.name,null,"Thi th",q,30,d.timeLimit-0),t("/ontap/ketquathi");else{if(k&&i){const W=l?l.name:null;$z(k.id,i.id,i.name,W,"n tp",q,d.questions.length,0)}t("/ontap/ketqua")}}},J=()=>{e.pathname==="/ontap/ketquathi"?U():l&&i&&de(l)},he=B=>{switch(B){case"dashboard":t("/ontap/dashboard");break;case"history":t("/ontap/lichsu");break;case"login":t("/ontap/dangnhap");break;case"my_class":t("/ontap/lopcuatoi");break;case"class_management":t("/ontap/quanlylop");break;case"account":t(k?"/ontap/taikhoan":"/ontap/dangnhap");break;case"config":t("/ontap/cauhinh");break;case"notification_mgmt":t("/ontap/thongbao");break;case"online_exam_management":t("/ontap/quanlythi");break;case"mailbox":t("/ontap/homthu");break;case"thi_truc_tuyen":t("/ontap/thitructuyen");break;case"download_app":t("/ontap/download");break;case"analytics":t("/ontap/thongke");break;case"login_history":t("/ontap/lichsudangnhap");break;default:t("/ontap/dashboard")}},ee=async()=>{Jr(async()=>{const{clearSession:B}=await import("./sessionService-CxCtOUx6.js");return{clearSession:B}},[]).then(({clearSession:B})=>B()),await vs.signOut(),t("/")};return(((H=window.electron)==null?void 0:H.isElectron)||window.location.protocol==="file:"||navigator.userAgent.toLowerCase().includes("electron"))&&!k?f.jsxs("div",{className:`min-h-screen bg-background text-foreground font-sans ${j?"pb-16":"pt-0"}`,children:[f.jsx(qB,{position:"top-right",richColors:!0,expand:!0}),f.jsx(Xz,{})]}):f.jsxs("div",{className:`min-h-screen bg-background text-foreground font-sans transition-colors duration-300 ${j?"pb-16":"pt-16"}`,children:[f.jsx(EAe,{}),f.jsx(qB,{position:"top-right",richColors:!0,expand:!0}),R&&f.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-black px-6 py-3 rounded-full shadow-xl z-50 animate-bounce cursor-pointer hover:bg-yellow-500 font-bold flex items-center gap-2",onClick:O,children:[f.jsx("span",{children:" Bn ang c bi thi lm d!"}),f.jsx("span",{className:"underline",children:"Lm tip ngay"})]}),f.jsx(xot,{userProfile:k}),!j&&f.jsxs(f.Fragment,{children:[f.jsx(rnt,{userProfile:k,onNavigate:he,onLogout:ee}),f.jsx(jot,{})]}),f.jsx(YX,{mode:"wait",children:f.jsxs(x0e,{location:e,children:[f.jsx(Jt,{path:"/",element:f.jsx(bn,{to:"/ontap/dashboard",replace:!0})}),f.jsx(Jt,{path:"/ontap",element:f.jsx(bn,{to:"/ontap/dashboard",replace:!0})}),f.jsx(Jt,{path:"/ontap/dashboard",element:k?f.jsx(A$e,{userProfile:k,onStart:()=>t("/ontap/chonbang"),onHistoryClick:()=>t("/ontap/lichsu"),onClassClick:()=>he((k==null?void 0:k.role)==="hoc_vien"?"my_class":"class_management"),onOnlineExamClick:()=>t("/ontap/quanlythi")}):f.jsx(cNe,{onStart:D,onLoginClick:()=>t("/ontap/dangnhap"),onRegisterClick:()=>t("/ontap/dangky")})}),f.jsx(Jt,{path:"/ontap/dangnhap",element:k?f.jsx(bn,{to:"/ontap/dashboard"}):f.jsx(RNe,{onBack:()=>t("/")})}),f.jsx(Jt,{path:"/ontap/windowslogin",element:k?f.jsx(bn,{to:"/ontap/dashboard"}):f.jsx(Xz,{})}),f.jsx(Jt,{path:"/ontap/dangky",element:f.jsx(PNe,{onBack:()=>t("/"),onSuccess:()=>t("/ontap/dashboard")})}),f.jsx(Jt,{path:"/ontap/chonbang",element:f.jsx(DNe,{licenses:r,onSelect:M,onBack:()=>t("/")})}),f.jsx(Jt,{path:"/ontap/nhapten",element:f.jsx(MNe,{onNameSubmit:F,onBack:()=>t("/ontap/chonbang")})}),f.jsx(Jt,{path:"/ontap/chonchedo",element:f.jsx(LNe,{onModeSelect:le,licenseName:(i==null?void 0:i.name)||"",userName:w,onSwitchLicense:()=>t("/ontap/chonbang")})}),f.jsx(Jt,{path:"/ontap/chonmon",element:f.jsx(FNe,{subjects:a,progress:{},onSelect:de,onBack:()=>t("/ontap/chonchedo")})}),f.jsx(Jt,{path:"/ontap/lambai",element:d?f.jsx(BNe,{quiz:d,onFinish:Z,onBack:()=>t("/ontap/chonmon"),initialAnswers:g,initialIndex:0,onProgressUpdate:(B,q,W)=>I(B,q,W,d,"practice")}):f.jsx(bn,{to:"/ontap/chonmon",replace:!0})}),f.jsx(Jt,{path:"/ontap/thithu",element:d?f.jsx(zre,{quiz:d,onFinish:Z,onBack:()=>t("/ontap/chonchedo"),userName:w,userProfile:k,selectedLicense:i,initialAnswers:g,onProgressUpdate:(B,q,W)=>I(B,q,W,d,"online_exam")}):f.jsx(bn,{to:"/ontap/chonchedo",replace:!0})}),f.jsx(Jt,{path:"/ontap/ketqua",element:d?f.jsx(HNe,{quiz:d,userAnswers:g,score:x,onRetry:J,onBack:()=>t("/ontap/chonmon"),userName:w}):f.jsx(bn,{to:"/ontap/chonmon",replace:!0})}),f.jsx(Jt,{path:"/ontap/ketquathi",element:d?f.jsx($Ne,{quiz:d,userAnswers:g,score:x,onRetry:J,onBack:()=>t("/ontap/chonchedo"),userName:w}):f.jsx(bn,{to:"/ontap/chonchedo",replace:!0})}),f.jsx(Jt,{path:"/ontap/lichsu",element:f.jsx(C$e,{userProfile:k,onBack:()=>t("/ontap/dashboard")})}),f.jsx(Jt,{path:"/ontap/lopcuatoi",element:f.jsx(I$e,{userProfile:k,onBack:()=>t("/ontap/dashboard")})}),f.jsx(Jt,{path:"/ontap/quanlylop",element:f.jsx(Btt,{userProfile:k,onBack:()=>t("/ontap/dashboard")})}),f.jsx(Jt,{path:"/ontap/taikhoan",element:f.jsx(ztt,{userProfile:k,onBack:()=>t("/ontap/dashboard"),onNavigate:he})}),f.jsx(Jt,{path:"/ontap/cauhinh",element:k?f.jsx(Aot,{}):f.jsx(bn,{to:"/ontap/dangnhap"})}),f.jsx(Jt,{path:"/ontap/thongbao",element:k?f.jsx(iNe,{userProfile:k}):f.jsx(bn,{to:"/ontap/dangnhap"})}),f.jsx(Jt,{path:"/ontap/homthu",element:k?f.jsx(Cit,{userProfile:k,onBack:()=>t("/ontap/dashboard")}):f.jsx(bn,{to:"/ontap/dangnhap"})}),f.jsx(Jt,{path:"/ontap/quanlythi",element:k?f.jsx(Eot,{userProfile:k,onBack:()=>t("/ontap/dashboard")}):f.jsx(bn,{to:"/ontap/dangnhap"})}),f.jsx(Jt,{path:"/ontap/thitructuyen",element:f.jsx(wot,{})}),f.jsx(Jt,{path:"/ontap/download",element:f.jsx(kot,{})}),f.jsx(Jt,{path:"/ontap/thongke",element:f.jsx(Tot,{onBack:()=>t("/ontap/dashboard")})}),f.jsx(Jt,{path:"/ontap/lichsudangnhap",element:f.jsx(Cot,{onBack:()=>t("/ontap/dashboard")})}),f.jsx(Jt,{path:"/ontap/lam-bai",element:f.jsx(bn,{to:"/ontap/lambai",replace:!0})}),f.jsx(Jt,{path:"/ontap/chon-che-do",element:f.jsx(bn,{to:"/ontap/chonchedo",replace:!0})}),f.jsx(Jt,{path:"/ontap/chon-bang",element:f.jsx(bn,{to:"/ontap/chonbang",replace:!0})}),f.jsx(Jt,{path:"/ontap/nhap-ten",element:f.jsx(bn,{to:"/ontap/nhapten",replace:!0})}),f.jsx(Jt,{path:"/ontap/dang-nhap",element:f.jsx(bn,{to:"/ontap/dangnhap",replace:!0})}),f.jsx(Jt,{path:"/ontap/chon-mon",element:f.jsx(bn,{to:"/ontap/chonmon",replace:!0})}),f.jsx(Jt,{path:"/ontap/ket-qua-thi",element:f.jsx(bn,{to:"/ontap/ketquathi",replace:!0})}),f.jsx(Jt,{path:"/ontap/ket-qua",element:f.jsx(bn,{to:"/ontap/ketqua",replace:!0})}),f.jsx(Jt,{path:"/ontap/lich-su",element:f.jsx(bn,{to:"/ontap/lichsu",replace:!0})}),f.jsx(Jt,{path:"/ontap/lop-cua-toi",element:f.jsx(bn,{to:"/ontap/lopcuatoi",replace:!0})}),f.jsx(Jt,{path:"/ontap/quan-ly-lop",element:f.jsx(bn,{to:"/ontap/quanlylop",replace:!0})}),f.jsx(Jt,{path:"/ontap/hom-thu",element:f.jsx(bn,{to:"/ontap/homthu",replace:!0})}),f.jsx(Jt,{path:"/ontap/thong-ke",element:f.jsx(bn,{to:"/ontap/thongke",replace:!0})}),f.jsx(Jt,{path:"/ontap/dang-ky",element:f.jsx(bn,{to:"/ontap/dangky",replace:!0})}),f.jsx(Jt,{path:"/ontap/windows-login",element:f.jsx(bn,{to:"/ontap/windowslogin",replace:!0})}),f.jsx(Jt,{path:"/ontap/thi-truc-tuyen",element:f.jsx(bn,{to:"/ontap/thitructuyen",replace:!0})}),j&&f.jsx(bot,{userProfile:k,currentScreen:e.pathname,onNavigate:he,onLogout:ee})]},e.pathname)})]})},Mot=()=>f.jsxs(tX,{children:[f.jsx(Bye,{}),f.jsx(Dot,{}),f.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:f.jsx(Fye,{})})]}),Fde=document.getElementById("root");if(!Fde)throw new Error("Could not find root element to mount to");const Lot=Afe.createRoot(Fde);Lot.render(f.jsx(Ne.StrictMode,{children:f.jsx(ent,{children:f.jsx(tX,{children:f.jsx(_0e,{children:f.jsx(Mot,{})})})})}));export{rv as C,Zot as W,Ure as a,Ge as b,ix as c,Rt as d,Tj as r,En as u};
