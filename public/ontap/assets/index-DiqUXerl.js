var Khe=Object.defineProperty;var Yhe=(t,e,r)=>e in t?Khe(t,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):t[e]=r;var vC=(t,e,r)=>Yhe(t,typeof e!="symbol"?e+"":e,r);function yY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function r(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(i){if(i.ep)return;i.ep=!0;const s=r(i);fetch(i.href,s)}})();function Jo(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function Xhe(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var r=function n(){return this instanceof n?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};r.prototype=e.prototype}else r={};return Object.defineProperty(r,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var i=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(r,n,i.get?i:{enumerable:!0,get:function(){return t[n]}})}),r}var yC={exports:{}},Iy={};/**
 * @license React
 * react-jsx-runtime.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z9;function Qhe(){if(z9)return Iy;z9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.fragment");function r(n,i,s){var a=null;if(s!==void 0&&(a=""+s),i.key!==void 0&&(a=""+i.key),"key"in i){s={};for(var o in i)o!=="key"&&(s[o]=i[o])}else s=i;return i=s.ref,{$$typeof:t,type:n,key:a,ref:i!==void 0?i:null,props:s}}return Iy.Fragment=e,Iy.jsx=r,Iy.jsxs=r,Iy}var $9;function Jhe(){return $9||($9=1,yC.exports=Qhe()),yC.exports}var m=Jhe(),xC={exports:{}},Yt={};/**
 * @license React
 * react.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H9;function Zhe(){if(H9)return Yt;H9=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),f=Symbol.for("react.activity"),g=Symbol.iterator;function v(H){return H===null||typeof H!="object"?null:(H=g&&H[g]||H["@@iterator"],typeof H=="function"?H:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},b=Object.assign,w={};function E(H,B,q){this.props=H,this.context=B,this.refs=w,this.updater=q||x}E.prototype.isReactComponent={},E.prototype.setState=function(H,B){if(typeof H!="object"&&typeof H!="function"&&H!=null)throw Error("takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,H,B,"setState")},E.prototype.forceUpdate=function(H){this.updater.enqueueForceUpdate(this,H,"forceUpdate")};function k(){}k.prototype=E.prototype;function A(H,B,q){this.props=H,this.context=B,this.refs=w,this.updater=q||x}var O=A.prototype=new k;O.constructor=A,b(O,E.prototype),O.isPureReactComponent=!0;var P=Array.isArray;function j(){}var S={H:null,A:null,T:null,S:null},I=Object.prototype.hasOwnProperty;function R(H,B,q){var W=q.ref;return{$$typeof:t,type:H,key:B,ref:W!==void 0?W:null,props:q}}function D(H,B){return R(H.type,B,H.props)}function M(H){return typeof H=="object"&&H!==null&&H.$$typeof===t}function L(H){var B={"=":"=0",":":"=2"};return"$"+H.replace(/[=:]/g,function(q){return B[q]})}var U=/\/+/g;function le(H,B){return typeof H=="object"&&H!==null&&H.key!=null?L(""+H.key):B.toString(36)}function ue(H){switch(H.status){case"fulfilled":return H.value;case"rejected":throw H.reason;default:switch(typeof H.status=="string"?H.then(j,j):(H.status="pending",H.then(function(B){H.status==="pending"&&(H.status="fulfilled",H.value=B)},function(B){H.status==="pending"&&(H.status="rejected",H.reason=B)})),H.status){case"fulfilled":return H.value;case"rejected":throw H.reason}}throw H}function J(H,B,q,W,Y){var de=typeof H;(de==="undefined"||de==="boolean")&&(H=null);var me=!1;if(H===null)me=!0;else switch(de){case"bigint":case"string":case"number":me=!0;break;case"object":switch(H.$$typeof){case t:case e:me=!0;break;case d:return me=H._init,J(me(H._payload),B,q,W,Y)}}if(me)return Y=Y(H),me=W===""?"."+le(H,0):W,P(Y)?(q="",me!=null&&(q=me.replace(U,"$&/")+"/"),J(Y,B,q,"",function(ve){return ve})):Y!=null&&(M(Y)&&(Y=D(Y,q+(Y.key==null||H&&H.key===Y.key?"":(""+Y.key).replace(U,"$&/")+"/")+me)),B.push(Y)),1;me=0;var ce=W===""?".":W+":";if(P(H))for(var se=0;se<H.length;se++)W=H[se],de=ce+le(W,se),me+=J(W,B,q,de,Y);else if(se=v(H),typeof se=="function")for(H=se.call(H),se=0;!(W=H.next()).done;)W=W.value,de=ce+le(W,se++),me+=J(W,B,q,de,Y);else if(de==="object"){if(typeof H.then=="function")return J(ue(H),B,q,W,Y);throw B=String(H),Error("Objects are not valid as a React child (found: "+(B==="[object Object]"?"object with keys {"+Object.keys(H).join(", ")+"}":B)+"). If you meant to render a collection of children, use an array instead.")}return me}function Q(H,B,q){if(H==null)return H;var W=[],Y=0;return J(H,W,"","",function(de){return B.call(q,de,Y++)}),W}function he(H){if(H._status===-1){var B=H._result;B=B(),B.then(function(q){(H._status===0||H._status===-1)&&(H._status=1,H._result=q)},function(q){(H._status===0||H._status===-1)&&(H._status=2,H._result=q)}),H._status===-1&&(H._status=0,H._result=B)}if(H._status===1)return H._result.default;throw H._result}var Z=typeof reportError=="function"?reportError:function(H){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var B=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof H=="object"&&H!==null&&typeof H.message=="string"?String(H.message):String(H),error:H});if(!window.dispatchEvent(B))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",H);return}console.error(H)},ge={map:Q,forEach:function(H,B,q){Q(H,function(){B.apply(this,arguments)},q)},count:function(H){var B=0;return Q(H,function(){B++}),B},toArray:function(H){return Q(H,function(B){return B})||[]},only:function(H){if(!M(H))throw Error("React.Children.only expected to receive a single React element child.");return H}};return Yt.Activity=f,Yt.Children=ge,Yt.Component=E,Yt.Fragment=r,Yt.Profiler=i,Yt.PureComponent=A,Yt.StrictMode=n,Yt.Suspense=l,Yt.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=S,Yt.__COMPILER_RUNTIME={__proto__:null,c:function(H){return S.H.useMemoCache(H)}},Yt.cache=function(H){return function(){return H.apply(null,arguments)}},Yt.cacheSignal=function(){return null},Yt.cloneElement=function(H,B,q){if(H==null)throw Error("The argument must be a React element, but you passed "+H+".");var W=b({},H.props),Y=H.key;if(B!=null)for(de in B.key!==void 0&&(Y=""+B.key),B)!I.call(B,de)||de==="key"||de==="__self"||de==="__source"||de==="ref"&&B.ref===void 0||(W[de]=B[de]);var de=arguments.length-2;if(de===1)W.children=q;else if(1<de){for(var me=Array(de),ce=0;ce<de;ce++)me[ce]=arguments[ce+2];W.children=me}return R(H.type,Y,W)},Yt.createContext=function(H){return H={$$typeof:a,_currentValue:H,_currentValue2:H,_threadCount:0,Provider:null,Consumer:null},H.Provider=H,H.Consumer={$$typeof:s,_context:H},H},Yt.createElement=function(H,B,q){var W,Y={},de=null;if(B!=null)for(W in B.key!==void 0&&(de=""+B.key),B)I.call(B,W)&&W!=="key"&&W!=="__self"&&W!=="__source"&&(Y[W]=B[W]);var me=arguments.length-2;if(me===1)Y.children=q;else if(1<me){for(var ce=Array(me),se=0;se<me;se++)ce[se]=arguments[se+2];Y.children=ce}if(H&&H.defaultProps)for(W in me=H.defaultProps,me)Y[W]===void 0&&(Y[W]=me[W]);return R(H,de,Y)},Yt.createRef=function(){return{current:null}},Yt.forwardRef=function(H){return{$$typeof:o,render:H}},Yt.isValidElement=M,Yt.lazy=function(H){return{$$typeof:d,_payload:{_status:-1,_result:H},_init:he}},Yt.memo=function(H,B){return{$$typeof:u,type:H,compare:B===void 0?null:B}},Yt.startTransition=function(H){var B=S.T,q={};S.T=q;try{var W=H(),Y=S.S;Y!==null&&Y(q,W),typeof W=="object"&&W!==null&&typeof W.then=="function"&&W.then(j,Z)}catch(de){Z(de)}finally{B!==null&&q.types!==null&&(B.types=q.types),S.T=B}},Yt.unstable_useCacheRefresh=function(){return S.H.useCacheRefresh()},Yt.use=function(H){return S.H.use(H)},Yt.useActionState=function(H,B,q){return S.H.useActionState(H,B,q)},Yt.useCallback=function(H,B){return S.H.useCallback(H,B)},Yt.useContext=function(H){return S.H.useContext(H)},Yt.useDebugValue=function(){},Yt.useDeferredValue=function(H,B){return S.H.useDeferredValue(H,B)},Yt.useEffect=function(H,B){return S.H.useEffect(H,B)},Yt.useEffectEvent=function(H){return S.H.useEffectEvent(H)},Yt.useId=function(){return S.H.useId()},Yt.useImperativeHandle=function(H,B,q){return S.H.useImperativeHandle(H,B,q)},Yt.useInsertionEffect=function(H,B){return S.H.useInsertionEffect(H,B)},Yt.useLayoutEffect=function(H,B){return S.H.useLayoutEffect(H,B)},Yt.useMemo=function(H,B){return S.H.useMemo(H,B)},Yt.useOptimistic=function(H,B){return S.H.useOptimistic(H,B)},Yt.useReducer=function(H,B,q){return S.H.useReducer(H,B,q)},Yt.useRef=function(H){return S.H.useRef(H)},Yt.useState=function(H){return S.H.useState(H)},Yt.useSyncExternalStore=function(H,B,q){return S.H.useSyncExternalStore(H,B,q)},Yt.useTransition=function(){return S.H.useTransition()},Yt.version="19.2.0",Yt}var q9;function dm(){return q9||(q9=1,xC.exports=Zhe()),xC.exports}var C=dm();const Ae=Jo(C),xY=yY({__proto__:null,default:Ae},[C]);var bC={exports:{}},Oy={},wC={exports:{}},_C={};/**
 * @license React
 * scheduler.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var W9;function efe(){return W9||(W9=1,(function(t){function e(J,Q){var he=J.length;J.push(Q);e:for(;0<he;){var Z=he-1>>>1,ge=J[Z];if(0<i(ge,Q))J[Z]=Q,J[he]=ge,he=Z;else break e}}function r(J){return J.length===0?null:J[0]}function n(J){if(J.length===0)return null;var Q=J[0],he=J.pop();if(he!==Q){J[0]=he;e:for(var Z=0,ge=J.length,H=ge>>>1;Z<H;){var B=2*(Z+1)-1,q=J[B],W=B+1,Y=J[W];if(0>i(q,he))W<ge&&0>i(Y,q)?(J[Z]=Y,J[W]=he,Z=W):(J[Z]=q,J[B]=he,Z=B);else if(W<ge&&0>i(Y,he))J[Z]=Y,J[W]=he,Z=W;else break e}}return Q}function i(J,Q){var he=J.sortIndex-Q.sortIndex;return he!==0?he:J.id-Q.id}if(t.unstable_now=void 0,typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,f=null,g=3,v=!1,x=!1,b=!1,w=!1,E=typeof setTimeout=="function"?setTimeout:null,k=typeof clearTimeout=="function"?clearTimeout:null,A=typeof setImmediate<"u"?setImmediate:null;function O(J){for(var Q=r(u);Q!==null;){if(Q.callback===null)n(u);else if(Q.startTime<=J)n(u),Q.sortIndex=Q.expirationTime,e(l,Q);else break;Q=r(u)}}function P(J){if(b=!1,O(J),!x)if(r(l)!==null)x=!0,j||(j=!0,L());else{var Q=r(u);Q!==null&&ue(P,Q.startTime-J)}}var j=!1,S=-1,I=5,R=-1;function D(){return w?!0:!(t.unstable_now()-R<I)}function M(){if(w=!1,j){var J=t.unstable_now();R=J;var Q=!0;try{e:{x=!1,b&&(b=!1,k(S),S=-1),v=!0;var he=g;try{t:{for(O(J),f=r(l);f!==null&&!(f.expirationTime>J&&D());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,g=f.priorityLevel;var ge=Z(f.expirationTime<=J);if(J=t.unstable_now(),typeof ge=="function"){f.callback=ge,O(J),Q=!0;break t}f===r(l)&&n(l),O(J)}else n(l);f=r(l)}if(f!==null)Q=!0;else{var H=r(u);H!==null&&ue(P,H.startTime-J),Q=!1}}break e}finally{f=null,g=he,v=!1}Q=void 0}}finally{Q?L():j=!1}}}var L;if(typeof A=="function")L=function(){A(M)};else if(typeof MessageChannel<"u"){var U=new MessageChannel,le=U.port2;U.port1.onmessage=M,L=function(){le.postMessage(null)}}else L=function(){E(M,0)};function ue(J,Q){S=E(function(){J(t.unstable_now())},Q)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(J){J.callback=null},t.unstable_forceFrameRate=function(J){0>J||125<J?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<J?Math.floor(1e3/J):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_next=function(J){switch(g){case 1:case 2:case 3:var Q=3;break;default:Q=g}var he=g;g=Q;try{return J()}finally{g=he}},t.unstable_requestPaint=function(){w=!0},t.unstable_runWithPriority=function(J,Q){switch(J){case 1:case 2:case 3:case 4:case 5:break;default:J=3}var he=g;g=J;try{return Q()}finally{g=he}},t.unstable_scheduleCallback=function(J,Q,he){var Z=t.unstable_now();switch(typeof he=="object"&&he!==null?(he=he.delay,he=typeof he=="number"&&0<he?Z+he:Z):he=Z,J){case 1:var ge=-1;break;case 2:ge=250;break;case 5:ge=1073741823;break;case 4:ge=1e4;break;default:ge=5e3}return ge=he+ge,J={id:d++,callback:Q,priorityLevel:J,startTime:he,expirationTime:ge,sortIndex:-1},he>Z?(J.sortIndex=he,e(u,J),r(l)===null&&J===r(u)&&(b?(k(S),S=-1):b=!0,ue(P,he-Z))):(J.sortIndex=ge,e(l,J),x||v||(x=!0,j||(j=!0,L()))),J},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(J){var Q=g;return function(){var he=g;g=Q;try{return J.apply(this,arguments)}finally{g=he}}}})(_C)),_C}var G9;function tfe(){return G9||(G9=1,wC.exports=efe()),wC.exports}var EC={exports:{}},fa={};/**
 * @license React
 * react-dom.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K9;function rfe(){if(K9)return fa;K9=1;var t=dm();function e(l){var u="https://react.dev/errors/"+l;if(1<arguments.length){u+="?args[]="+encodeURIComponent(arguments[1]);for(var d=2;d<arguments.length;d++)u+="&args[]="+encodeURIComponent(arguments[d])}return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function r(){}var n={d:{f:r,r:function(){throw Error(e(522))},D:r,C:r,L:r,m:r,X:r,S:r,M:r},p:0,findDOMNode:null},i=Symbol.for("react.portal");function s(l,u,d){var f=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:i,key:f==null?null:""+f,children:l,containerInfo:u,implementation:d}}var a=t.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE;function o(l,u){if(l==="font")return"";if(typeof u=="string")return u==="use-credentials"?u:""}return fa.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE=n,fa.createPortal=function(l,u){var d=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!u||u.nodeType!==1&&u.nodeType!==9&&u.nodeType!==11)throw Error(e(299));return s(l,u,null,d)},fa.flushSync=function(l){var u=a.T,d=n.p;try{if(a.T=null,n.p=2,l)return l()}finally{a.T=u,n.p=d,n.d.f()}},fa.preconnect=function(l,u){typeof l=="string"&&(u?(u=u.crossOrigin,u=typeof u=="string"?u==="use-credentials"?u:"":void 0):u=null,n.d.C(l,u))},fa.prefetchDNS=function(l){typeof l=="string"&&n.d.D(l)},fa.preinit=function(l,u){if(typeof l=="string"&&u&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin),g=typeof u.integrity=="string"?u.integrity:void 0,v=typeof u.fetchPriority=="string"?u.fetchPriority:void 0;d==="style"?n.d.S(l,typeof u.precedence=="string"?u.precedence:void 0,{crossOrigin:f,integrity:g,fetchPriority:v}):d==="script"&&n.d.X(l,{crossOrigin:f,integrity:g,fetchPriority:v,nonce:typeof u.nonce=="string"?u.nonce:void 0})}},fa.preinitModule=function(l,u){if(typeof l=="string")if(typeof u=="object"&&u!==null){if(u.as==null||u.as==="script"){var d=o(u.as,u.crossOrigin);n.d.M(l,{crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0})}}else u==null&&n.d.M(l)},fa.preload=function(l,u){if(typeof l=="string"&&typeof u=="object"&&u!==null&&typeof u.as=="string"){var d=u.as,f=o(d,u.crossOrigin);n.d.L(l,d,{crossOrigin:f,integrity:typeof u.integrity=="string"?u.integrity:void 0,nonce:typeof u.nonce=="string"?u.nonce:void 0,type:typeof u.type=="string"?u.type:void 0,fetchPriority:typeof u.fetchPriority=="string"?u.fetchPriority:void 0,referrerPolicy:typeof u.referrerPolicy=="string"?u.referrerPolicy:void 0,imageSrcSet:typeof u.imageSrcSet=="string"?u.imageSrcSet:void 0,imageSizes:typeof u.imageSizes=="string"?u.imageSizes:void 0,media:typeof u.media=="string"?u.media:void 0})}},fa.preloadModule=function(l,u){if(typeof l=="string")if(u){var d=o(u.as,u.crossOrigin);n.d.m(l,{as:typeof u.as=="string"&&u.as!=="script"?u.as:void 0,crossOrigin:d,integrity:typeof u.integrity=="string"?u.integrity:void 0})}else n.d.m(l)},fa.requestFormReset=function(l){n.d.r(l)},fa.unstable_batchedUpdates=function(l,u){return l(u)},fa.useFormState=function(l,u,d){return a.H.useFormState(l,u,d)},fa.useFormStatus=function(){return a.H.useHostTransitionStatus()},fa.version="19.2.0",fa}var Y9;function bY(){if(Y9)return EC.exports;Y9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),EC.exports=rfe(),EC.exports}/**
 * @license React
 * react-dom-client.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var X9;function nfe(){if(X9)return Oy;X9=1;var t=tfe(),e=dm(),r=bY();function n(c){var h="https://react.dev/errors/"+c;if(1<arguments.length){h+="?args[]="+encodeURIComponent(arguments[1]);for(var p=2;p<arguments.length;p++)h+="&args[]="+encodeURIComponent(arguments[p])}return"Minified React error #"+c+"; visit "+h+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}function i(c){return!(!c||c.nodeType!==1&&c.nodeType!==9&&c.nodeType!==11)}function s(c){var h=c,p=c;if(c.alternate)for(;h.return;)h=h.return;else{c=h;do h=c,(h.flags&4098)!==0&&(p=h.return),c=h.return;while(c)}return h.tag===3?p:null}function a(c){if(c.tag===13){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function o(c){if(c.tag===31){var h=c.memoizedState;if(h===null&&(c=c.alternate,c!==null&&(h=c.memoizedState)),h!==null)return h.dehydrated}return null}function l(c){if(s(c)!==c)throw Error(n(188))}function u(c){var h=c.alternate;if(!h){if(h=s(c),h===null)throw Error(n(188));return h!==c?null:c}for(var p=c,y=h;;){var T=p.return;if(T===null)break;var N=T.alternate;if(N===null){if(y=T.return,y!==null){p=y;continue}break}if(T.child===N.child){for(N=T.child;N;){if(N===p)return l(T),c;if(N===y)return l(T),h;N=N.sibling}throw Error(n(188))}if(p.return!==y.return)p=T,y=N;else{for(var V=!1,X=T.child;X;){if(X===p){V=!0,p=T,y=N;break}if(X===y){V=!0,y=T,p=N;break}X=X.sibling}if(!V){for(X=N.child;X;){if(X===p){V=!0,p=N,y=T;break}if(X===y){V=!0,y=N,p=T;break}X=X.sibling}if(!V)throw Error(n(189))}}if(p.alternate!==y)throw Error(n(190))}if(p.tag!==3)throw Error(n(188));return p.stateNode.current===p?c:h}function d(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c;for(c=c.child;c!==null;){if(h=d(c),h!==null)return h;c=c.sibling}return null}var f=Object.assign,g=Symbol.for("react.element"),v=Symbol.for("react.transitional.element"),x=Symbol.for("react.portal"),b=Symbol.for("react.fragment"),w=Symbol.for("react.strict_mode"),E=Symbol.for("react.profiler"),k=Symbol.for("react.consumer"),A=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),P=Symbol.for("react.suspense"),j=Symbol.for("react.suspense_list"),S=Symbol.for("react.memo"),I=Symbol.for("react.lazy"),R=Symbol.for("react.activity"),D=Symbol.for("react.memo_cache_sentinel"),M=Symbol.iterator;function L(c){return c===null||typeof c!="object"?null:(c=M&&c[M]||c["@@iterator"],typeof c=="function"?c:null)}var U=Symbol.for("react.client.reference");function le(c){if(c==null)return null;if(typeof c=="function")return c.$$typeof===U?null:c.displayName||c.name||null;if(typeof c=="string")return c;switch(c){case b:return"Fragment";case E:return"Profiler";case w:return"StrictMode";case P:return"Suspense";case j:return"SuspenseList";case R:return"Activity"}if(typeof c=="object")switch(c.$$typeof){case x:return"Portal";case A:return c.displayName||"Context";case k:return(c._context.displayName||"Context")+".Consumer";case O:var h=c.render;return c=c.displayName,c||(c=h.displayName||h.name||"",c=c!==""?"ForwardRef("+c+")":"ForwardRef"),c;case S:return h=c.displayName||null,h!==null?h:le(c.type)||"Memo";case I:h=c._payload,c=c._init;try{return le(c(h))}catch{}}return null}var ue=Array.isArray,J=e.__CLIENT_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,Q=r.__DOM_INTERNALS_DO_NOT_USE_OR_WARN_USERS_THEY_CANNOT_UPGRADE,he={pending:!1,data:null,method:null,action:null},Z=[],ge=-1;function H(c){return{current:c}}function B(c){0>ge||(c.current=Z[ge],Z[ge]=null,ge--)}function q(c,h){ge++,Z[ge]=c.current,c.current=h}var W=H(null),Y=H(null),de=H(null),me=H(null);function ce(c,h){switch(q(de,h),q(Y,c),q(W,null),h.nodeType){case 9:case 11:c=(c=h.documentElement)&&(c=c.namespaceURI)?d9(c):0;break;default:if(c=h.tagName,h=h.namespaceURI)h=d9(h),c=h9(h,c);else switch(c){case"svg":c=1;break;case"math":c=2;break;default:c=0}}B(W),q(W,c)}function se(){B(W),B(Y),B(de)}function ve(c){c.memoizedState!==null&&q(me,c);var h=W.current,p=h9(h,c.type);h!==p&&(q(Y,c),q(W,p))}function Ve(c){Y.current===c&&(B(W),B(Y)),me.current===c&&(B(me),ky._currentValue=he)}var G,Ze;function Ie(c){if(G===void 0)try{throw Error()}catch(p){var h=p.stack.trim().match(/\n( *(at )?)/);G=h&&h[1]||"",Ze=-1<p.stack.indexOf(`
    at`)?" (<anonymous>)":-1<p.stack.indexOf("@")?"@unknown:0:0":""}return`
`+G+c+Ze}var tt=!1;function Qe(c,h){if(!c||tt)return"";tt=!0;var p=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{var y={DetermineComponentFrameRoot:function(){try{if(h){var ze=function(){throw Error()};if(Object.defineProperty(ze.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(ze,[])}catch(Pe){var Ce=Pe}Reflect.construct(c,[],ze)}else{try{ze.call()}catch(Pe){Ce=Pe}c.call(ze.prototype)}}else{try{throw Error()}catch(Pe){Ce=Pe}(ze=c())&&typeof ze.catch=="function"&&ze.catch(function(){})}}catch(Pe){if(Pe&&Ce&&typeof Pe.stack=="string")return[Pe.stack,Ce.stack]}return[null,null]}};y.DetermineComponentFrameRoot.displayName="DetermineComponentFrameRoot";var T=Object.getOwnPropertyDescriptor(y.DetermineComponentFrameRoot,"name");T&&T.configurable&&Object.defineProperty(y.DetermineComponentFrameRoot,"name",{value:"DetermineComponentFrameRoot"});var N=y.DetermineComponentFrameRoot(),V=N[0],X=N[1];if(V&&X){var fe=V.split(`
`),ke=X.split(`
`);for(T=y=0;y<fe.length&&!fe[y].includes("DetermineComponentFrameRoot");)y++;for(;T<ke.length&&!ke[T].includes("DetermineComponentFrameRoot");)T++;if(y===fe.length||T===ke.length)for(y=fe.length-1,T=ke.length-1;1<=y&&0<=T&&fe[y]!==ke[T];)T--;for(;1<=y&&0<=T;y--,T--)if(fe[y]!==ke[T]){if(y!==1||T!==1)do if(y--,T--,0>T||fe[y]!==ke[T]){var Be=`
`+fe[y].replace(" at new "," at ");return c.displayName&&Be.includes("<anonymous>")&&(Be=Be.replace("<anonymous>",c.displayName)),Be}while(1<=y&&0<=T);break}}}finally{tt=!1,Error.prepareStackTrace=p}return(p=c?c.displayName||c.name:"")?Ie(p):""}function je(c,h){switch(c.tag){case 26:case 27:case 5:return Ie(c.type);case 16:return Ie("Lazy");case 13:return c.child!==h&&h!==null?Ie("Suspense Fallback"):Ie("Suspense");case 19:return Ie("SuspenseList");case 0:case 15:return Qe(c.type,!1);case 11:return Qe(c.type.render,!1);case 1:return Qe(c.type,!0);case 31:return Ie("Activity");default:return""}}function rt(c){try{var h="",p=null;do h+=je(c,p),p=c,c=c.return;while(c);return h}catch(y){return`
Error generating stack: `+y.message+`
`+y.stack}}var vt=Object.prototype.hasOwnProperty,It=t.unstable_scheduleCallback,Xr=t.unstable_cancelCallback,qr=t.unstable_shouldYield,Mr=t.unstable_requestPaint,Wt=t.unstable_now,Tr=t.unstable_getCurrentPriorityLevel,Sn=t.unstable_ImmediatePriority,pi=t.unstable_UserBlockingPriority,xe=t.unstable_NormalPriority,Ke=t.unstable_LowPriority,nt=t.unstable_IdlePriority,Pt=t.log,Gt=t.unstable_setDisableYieldValue,rr=null,br=null;function Ui(c){if(typeof Pt=="function"&&Gt(c),br&&typeof br.setStrictMode=="function")try{br.setStrictMode(rr,c)}catch{}}var Qr=Math.clz32?Math.clz32:us,Ll=Math.log,da=Math.LN2;function us(c){return c>>>=0,c===0?32:31-(Ll(c)/da|0)|0}var gi=256,_o=262144,Jr=4194304;function zi(c){var h=c&42;if(h!==0)return h;switch(c&-c){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:return 64;case 128:return 128;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:return c&261888;case 262144:case 524288:case 1048576:case 2097152:return c&3932160;case 4194304:case 8388608:case 16777216:case 33554432:return c&62914560;case 67108864:return 67108864;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 0;default:return c}}function At(c,h,p){var y=c.pendingLanes;if(y===0)return 0;var T=0,N=c.suspendedLanes,V=c.pingedLanes;c=c.warmLanes;var X=y&134217727;return X!==0?(y=X&~N,y!==0?T=zi(y):(V&=X,V!==0?T=zi(V):p||(p=X&~c,p!==0&&(T=zi(p))))):(X=y&~N,X!==0?T=zi(X):V!==0?T=zi(V):p||(p=y&~c,p!==0&&(T=zi(p)))),T===0?0:h!==0&&h!==T&&(h&N)===0&&(N=T&-T,p=h&-h,N>=p||N===32&&(p&4194048)!==0)?h:T}function wr(c,h){return(c.pendingLanes&~(c.suspendedLanes&~c.pingedLanes)&h)===0}function In(c,h){switch(c){case 1:case 2:case 4:case 8:case 64:return h+250;case 16:case 32:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return h+5e3;case 4194304:case 8388608:case 16777216:case 33554432:return-1;case 67108864:case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function si(){var c=Jr;return Jr<<=1,(Jr&62914560)===0&&(Jr=4194304),c}function ai(c){for(var h=[],p=0;31>p;p++)h.push(c);return h}function Zr(c,h){c.pendingLanes|=h,h!==268435456&&(c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0)}function $i(c,h,p,y,T,N){var V=c.pendingLanes;c.pendingLanes=p,c.suspendedLanes=0,c.pingedLanes=0,c.warmLanes=0,c.expiredLanes&=p,c.entangledLanes&=p,c.errorRecoveryDisabledLanes&=p,c.shellSuspendCounter=0;var X=c.entanglements,fe=c.expirationTimes,ke=c.hiddenUpdates;for(p=V&~p;0<p;){var Be=31-Qr(p),ze=1<<Be;X[Be]=0,fe[Be]=-1;var Ce=ke[Be];if(Ce!==null)for(ke[Be]=null,Be=0;Be<Ce.length;Be++){var Pe=Ce[Be];Pe!==null&&(Pe.lane&=-536870913)}p&=~ze}y!==0&&Es(c,y,0),N!==0&&T===0&&c.tag!==0&&(c.suspendedLanes|=N&~(V&~h))}function Es(c,h,p){c.pendingLanes|=h,c.suspendedLanes&=~h;var y=31-Qr(h);c.entangledLanes|=h,c.entanglements[y]=c.entanglements[y]|1073741824|p&261930}function en(c,h){var p=c.entangledLanes|=h;for(c=c.entanglements;p;){var y=31-Qr(p),T=1<<y;T&h|c[y]&h&&(c[y]|=h),p&=~T}}function Ci(c,h){var p=h&-h;return p=(p&42)!==0?1:Ws(p),(p&(c.suspendedLanes|h))!==0?0:p}function Ws(c){switch(c){case 2:c=1;break;case 8:c=4;break;case 32:c=16;break;case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:c=128;break;case 268435456:c=134217728;break;default:c=0}return c}function vi(c){return c&=-c,2<c?8<c?(c&134217727)!==0?32:268435456:8:2}function K(){var c=Q.p;return c!==0?c:(c=window.event,c===void 0?32:D9(c.type))}function ae(c,h){var p=Q.p;try{return Q.p=c,h()}finally{Q.p=p}}var ee=Math.random().toString(36).slice(2),ne="__reactFiber$"+ee,ie="__reactProps$"+ee,oe="__reactContainer$"+ee,we="__reactEvents$"+ee,Me="__reactListeners$"+ee,be="__reactHandles$"+ee,Te="__reactResources$"+ee,_e="__reactMarker$"+ee;function We(c){delete c[ne],delete c[ie],delete c[we],delete c[Me],delete c[be]}function Xe(c){var h=c[ne];if(h)return h;for(var p=c.parentNode;p;){if(h=p[oe]||p[ne]){if(p=h.alternate,h.child!==null||p!==null&&p.child!==null)for(c=x9(c);c!==null;){if(p=c[ne])return p;c=x9(c)}return h}c=p,p=c.parentNode}return null}function lt(c){if(c=c[ne]||c[oe]){var h=c.tag;if(h===5||h===6||h===13||h===31||h===26||h===27||h===3)return c}return null}function qe(c){var h=c.tag;if(h===5||h===26||h===27||h===6)return c.stateNode;throw Error(n(33))}function et(c){var h=c[Te];return h||(h=c[Te]={hoistableStyles:new Map,hoistableScripts:new Map}),h}function pt(c){c[_e]=!0}var Lr=new Set,Fr={};function tn(c,h){Ts(c,h),Ts(c+"Capture",h)}function Ts(c,h){for(Fr[c]=h,c=0;c<h.length;c++)Lr.add(h[c])}var Da=RegExp("^[:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD][:A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040]*$"),Ss={},Ni={};function Qa(c){return vt.call(Ni,c)?!0:vt.call(Ss,c)?!1:Da.test(c)?Ni[c]=!0:(Ss[c]=!0,!1)}function yi(c,h,p){if(Qa(h))if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":c.removeAttribute(h);return;case"boolean":var y=h.toLowerCase().slice(0,5);if(y!=="data-"&&y!=="aria-"){c.removeAttribute(h);return}}c.setAttribute(h,""+p)}}function Ma(c,h,p){if(p===null)c.removeAttribute(h);else{switch(typeof p){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(h);return}c.setAttribute(h,""+p)}}function xi(c,h,p,y){if(y===null)c.removeAttribute(p);else{switch(typeof y){case"undefined":case"function":case"symbol":case"boolean":c.removeAttribute(p);return}c.setAttributeNS(h,p,""+y)}}function Hi(c){switch(typeof c){case"bigint":case"boolean":case"number":case"string":case"undefined":return c;case"object":return c;default:return""}}function kc(c){var h=c.type;return(c=c.nodeName)&&c.toLowerCase()==="input"&&(h==="checkbox"||h==="radio")}function Nf(c,h,p){var y=Object.getOwnPropertyDescriptor(c.constructor.prototype,h);if(!c.hasOwnProperty(h)&&typeof y<"u"&&typeof y.get=="function"&&typeof y.set=="function"){var T=y.get,N=y.set;return Object.defineProperty(c,h,{configurable:!0,get:function(){return T.call(this)},set:function(V){p=""+V,N.call(this,V)}}),Object.defineProperty(c,h,{enumerable:y.enumerable}),{getValue:function(){return p},setValue:function(V){p=""+V},stopTracking:function(){c._valueTracker=null,delete c[h]}}}}function Br(c){if(!c._valueTracker){var h=kc(c)?"checked":"value";c._valueTracker=Nf(c,h,""+c[h])}}function vu(c){if(!c)return!1;var h=c._valueTracker;if(!h)return!0;var p=h.getValue(),y="";return c&&(y=kc(c)?c.checked?"true":"false":c.value),c=y,c!==p?(h.setValue(c),!0):!1}function Eo(c){if(c=c||(typeof document<"u"?document:void 0),typeof c>"u")return null;try{return c.activeElement||c.body}catch{return c.body}}var yu=/[\n"\\]/g;function ha(c){return c.replace(yu,function(h){return"\\"+h.charCodeAt(0).toString(16)+" "})}function Fd(c,h,p,y,T,N,V,X){c.name="",V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"?c.type=V:c.removeAttribute("type"),h!=null?V==="number"?(h===0&&c.value===""||c.value!=h)&&(c.value=""+Hi(h)):c.value!==""+Hi(h)&&(c.value=""+Hi(h)):V!=="submit"&&V!=="reset"||c.removeAttribute("value"),h!=null?If(c,V,Hi(h)):p!=null?If(c,V,Hi(p)):y!=null&&c.removeAttribute("value"),T==null&&N!=null&&(c.defaultChecked=!!N),T!=null&&(c.checked=T&&typeof T!="function"&&typeof T!="symbol"),X!=null&&typeof X!="function"&&typeof X!="symbol"&&typeof X!="boolean"?c.name=""+Hi(X):c.removeAttribute("name")}function Bd(c,h,p,y,T,N,V,X){if(N!=null&&typeof N!="function"&&typeof N!="symbol"&&typeof N!="boolean"&&(c.type=N),h!=null||p!=null){if(!(N!=="submit"&&N!=="reset"||h!=null)){Br(c);return}p=p!=null?""+Hi(p):"",h=h!=null?""+Hi(h):p,X||h===c.value||(c.value=h),c.defaultValue=h}y=y??T,y=typeof y!="function"&&typeof y!="symbol"&&!!y,c.checked=X?c.checked:!!y,c.defaultChecked=!!y,V!=null&&typeof V!="function"&&typeof V!="symbol"&&typeof V!="boolean"&&(c.name=V),Br(c)}function If(c,h,p){h==="number"&&Eo(c.ownerDocument)===c||c.defaultValue===""+p||(c.defaultValue=""+p)}function Fl(c,h,p,y){if(c=c.options,h){h={};for(var T=0;T<p.length;T++)h["$"+p[T]]=!0;for(p=0;p<c.length;p++)T=h.hasOwnProperty("$"+c[p].value),c[p].selected!==T&&(c[p].selected=T),T&&y&&(c[p].defaultSelected=!0)}else{for(p=""+Hi(p),h=null,T=0;T<c.length;T++){if(c[T].value===p){c[T].selected=!0,y&&(c[T].defaultSelected=!0);return}h!==null||c[T].disabled||(h=c[T])}h!==null&&(h.selected=!0)}}function jm(c,h,p){if(h!=null&&(h=""+Hi(h),h!==c.value&&(c.value=h),p==null)){c.defaultValue!==h&&(c.defaultValue=h);return}c.defaultValue=p!=null?""+Hi(p):""}function Ac(c,h,p,y){if(h==null){if(y!=null){if(p!=null)throw Error(n(92));if(ue(y)){if(1<y.length)throw Error(n(93));y=y[0]}p=y}p==null&&(p=""),h=p}p=Hi(h),c.defaultValue=p,y=c.textContent,y===p&&y!==""&&y!==null&&(c.value=y),Br(c)}function Fn(c,h){if(h){var p=c.firstChild;if(p&&p===c.lastChild&&p.nodeType===3){p.nodeValue=h;return}}c.textContent=h}var Cc=new Set("animationIterationCount aspectRatio borderImageOutset borderImageSlice borderImageWidth boxFlex boxFlexGroup boxOrdinalGroup columnCount columns flex flexGrow flexPositive flexShrink flexNegative flexOrder gridArea gridRow gridRowEnd gridRowSpan gridRowStart gridColumn gridColumnEnd gridColumnSpan gridColumnStart fontWeight lineClamp lineHeight opacity order orphans scale tabSize widows zIndex zoom fillOpacity floodOpacity stopOpacity strokeDasharray strokeDashoffset strokeMiterlimit strokeOpacity strokeWidth MozAnimationIterationCount MozBoxFlex MozBoxFlexGroup MozLineClamp msAnimationIterationCount msFlex msZoom msFlexGrow msFlexNegative msFlexOrder msFlexPositive msFlexShrink msGridColumn msGridColumnSpan msGridRow msGridRowSpan WebkitAnimationIterationCount WebkitBoxFlex WebKitBoxFlexGroup WebkitBoxOrdinalGroup WebkitColumnCount WebkitColumns WebkitFlex WebkitFlexGrow WebkitFlexPositive WebkitFlexShrink WebkitLineClamp".split(" "));function Vd(c,h,p){var y=h.indexOf("--")===0;p==null||typeof p=="boolean"||p===""?y?c.setProperty(h,""):h==="float"?c.cssFloat="":c[h]="":y?c.setProperty(h,p):typeof p!="number"||p===0||Cc.has(h)?h==="float"?c.cssFloat=p:c[h]=(""+p).trim():c[h]=p+"px"}function Ud(c,h,p){if(h!=null&&typeof h!="object")throw Error(n(62));if(c=c.style,p!=null){for(var y in p)!p.hasOwnProperty(y)||h!=null&&h.hasOwnProperty(y)||(y.indexOf("--")===0?c.setProperty(y,""):y==="float"?c.cssFloat="":c[y]="");for(var T in h)y=h[T],h.hasOwnProperty(T)&&p[T]!==y&&Vd(c,T,y)}else for(var N in h)h.hasOwnProperty(N)&&Vd(c,N,h[N])}function zd(c){if(c.indexOf("-")===-1)return!1;switch(c){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Dm=new Map([["acceptCharset","accept-charset"],["htmlFor","for"],["httpEquiv","http-equiv"],["crossOrigin","crossorigin"],["accentHeight","accent-height"],["alignmentBaseline","alignment-baseline"],["arabicForm","arabic-form"],["baselineShift","baseline-shift"],["capHeight","cap-height"],["clipPath","clip-path"],["clipRule","clip-rule"],["colorInterpolation","color-interpolation"],["colorInterpolationFilters","color-interpolation-filters"],["colorProfile","color-profile"],["colorRendering","color-rendering"],["dominantBaseline","dominant-baseline"],["enableBackground","enable-background"],["fillOpacity","fill-opacity"],["fillRule","fill-rule"],["floodColor","flood-color"],["floodOpacity","flood-opacity"],["fontFamily","font-family"],["fontSize","font-size"],["fontSizeAdjust","font-size-adjust"],["fontStretch","font-stretch"],["fontStyle","font-style"],["fontVariant","font-variant"],["fontWeight","font-weight"],["glyphName","glyph-name"],["glyphOrientationHorizontal","glyph-orientation-horizontal"],["glyphOrientationVertical","glyph-orientation-vertical"],["horizAdvX","horiz-adv-x"],["horizOriginX","horiz-origin-x"],["imageRendering","image-rendering"],["letterSpacing","letter-spacing"],["lightingColor","lighting-color"],["markerEnd","marker-end"],["markerMid","marker-mid"],["markerStart","marker-start"],["overlinePosition","overline-position"],["overlineThickness","overline-thickness"],["paintOrder","paint-order"],["panose-1","panose-1"],["pointerEvents","pointer-events"],["renderingIntent","rendering-intent"],["shapeRendering","shape-rendering"],["stopColor","stop-color"],["stopOpacity","stop-opacity"],["strikethroughPosition","strikethrough-position"],["strikethroughThickness","strikethrough-thickness"],["strokeDasharray","stroke-dasharray"],["strokeDashoffset","stroke-dashoffset"],["strokeLinecap","stroke-linecap"],["strokeLinejoin","stroke-linejoin"],["strokeMiterlimit","stroke-miterlimit"],["strokeOpacity","stroke-opacity"],["strokeWidth","stroke-width"],["textAnchor","text-anchor"],["textDecoration","text-decoration"],["textRendering","text-rendering"],["transformOrigin","transform-origin"],["underlinePosition","underline-position"],["underlineThickness","underline-thickness"],["unicodeBidi","unicode-bidi"],["unicodeRange","unicode-range"],["unitsPerEm","units-per-em"],["vAlphabetic","v-alphabetic"],["vHanging","v-hanging"],["vIdeographic","v-ideographic"],["vMathematical","v-mathematical"],["vectorEffect","vector-effect"],["vertAdvY","vert-adv-y"],["vertOriginX","vert-origin-x"],["vertOriginY","vert-origin-y"],["wordSpacing","word-spacing"],["writingMode","writing-mode"],["xmlnsXlink","xmlns:xlink"],["xHeight","x-height"]]),Bl=/^[\u0000-\u001F ]*j[\r\n\t]*a[\r\n\t]*v[\r\n\t]*a[\r\n\t]*s[\r\n\t]*c[\r\n\t]*r[\r\n\t]*i[\r\n\t]*p[\r\n\t]*t[\r\n\t]*:/i;function xu(c){return Bl.test(""+c)?"javascript:throw new Error('React has blocked a javascript: URL as a security precaution.')":c}function Ja(){}var te=null;function Oe(c){return c=c.target||c.srcElement||window,c.correspondingUseElement&&(c=c.correspondingUseElement),c.nodeType===3?c.parentNode:c}var ct=null,wt=null;function mt(c){var h=lt(c);if(h&&(c=h.stateNode)){var p=c[ie]||null;e:switch(c=h.stateNode,h.type){case"input":if(Fd(c,p.value,p.defaultValue,p.defaultValue,p.checked,p.defaultChecked,p.type,p.name),h=p.name,p.type==="radio"&&h!=null){for(p=c;p.parentNode;)p=p.parentNode;for(p=p.querySelectorAll('input[name="'+ha(""+h)+'"][type="radio"]'),h=0;h<p.length;h++){var y=p[h];if(y!==c&&y.form===c.form){var T=y[ie]||null;if(!T)throw Error(n(90));Fd(y,T.value,T.defaultValue,T.defaultValue,T.checked,T.defaultChecked,T.type,T.name)}}for(h=0;h<p.length;h++)y=p[h],y.form===c.form&&vu(y)}break e;case"textarea":jm(c,p.value,p.defaultValue);break e;case"select":h=p.value,h!=null&&Fl(c,!!p.multiple,h,!1)}}}var Wr=!1;function Gr(c,h,p){if(Wr)return c(h,p);Wr=!0;try{var y=c(h);return y}finally{if(Wr=!1,(ct!==null||wt!==null)&&(Ww(),ct&&(h=ct,c=wt,wt=ct=null,mt(h),c)))for(h=0;h<c.length;h++)mt(c[h])}}function fn(c,h){var p=c.stateNode;if(p===null)return null;var y=p[ie]||null;if(y===null)return null;p=y[h];e:switch(h){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(y=!y.disabled)||(c=c.type,y=!(c==="button"||c==="input"||c==="select"||c==="textarea")),c=!y;break e;default:c=!1}if(c)return null;if(p&&typeof p!="function")throw Error(n(231,h,typeof p));return p}var qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Of=!1;if(qi)try{var mn={};Object.defineProperty(mn,"passive",{get:function(){Of=!0}}),window.addEventListener("test",mn,mn),window.removeEventListener("test",mn,mn)}catch{Of=!1}var Nc=null,$v=null,Rf=null;function Hv(){if(Rf)return Rf;var c,h=$v,p=h.length,y,T="value"in Nc?Nc.value:Nc.textContent,N=T.length;for(c=0;c<p&&h[c]===T[c];c++);var V=p-c;for(y=1;y<=V&&h[p-y]===T[N-y];y++);return Rf=T.slice(c,1<y?1-y:void 0)}function Pf(c){var h=c.keyCode;return"charCode"in c?(c=c.charCode,c===0&&h===13&&(c=13)):c=h,c===10&&(c=13),32<=c||c===13?c:0}function bu(){return!0}function Vl(){return!1}function Gs(c){function h(p,y,T,N,V){this._reactName=p,this._targetInst=T,this.type=y,this.nativeEvent=N,this.target=V,this.currentTarget=null;for(var X in c)c.hasOwnProperty(X)&&(p=c[X],this[X]=p?p(N):N[X]);return this.isDefaultPrevented=(N.defaultPrevented!=null?N.defaultPrevented:N.returnValue===!1)?bu:Vl,this.isPropagationStopped=Vl,this}return f(h.prototype,{preventDefault:function(){this.defaultPrevented=!0;var p=this.nativeEvent;p&&(p.preventDefault?p.preventDefault():typeof p.returnValue!="unknown"&&(p.returnValue=!1),this.isDefaultPrevented=bu)},stopPropagation:function(){var p=this.nativeEvent;p&&(p.stopPropagation?p.stopPropagation():typeof p.cancelBubble!="unknown"&&(p.cancelBubble=!0),this.isPropagationStopped=bu)},persist:function(){},isPersistent:bu}),h}var wu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(c){return c.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ic=Gs(wu),$d=f({},wu,{view:0,detail:0}),qv=Gs($d),Hd,Mm,Oc,Lm=f({},$d,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:qd,button:0,buttons:0,relatedTarget:function(c){return c.relatedTarget===void 0?c.fromElement===c.srcElement?c.toElement:c.fromElement:c.relatedTarget},movementX:function(c){return"movementX"in c?c.movementX:(c!==Oc&&(Oc&&c.type==="mousemove"?(Hd=c.screenX-Oc.screenX,Mm=c.screenY-Oc.screenY):Mm=Hd=0,Oc=c),Hd)},movementY:function(c){return"movementY"in c?c.movementY:Mm}}),Wv=Gs(Lm),jf=f({},Lm,{dataTransfer:0}),ew=Gs(jf),tw=f({},$d,{relatedTarget:0}),Df=Gs(tw),Gv=f({},wu,{animationName:0,elapsedTime:0,pseudoElement:0}),rw=Gs(Gv),Fm=f({},wu,{clipboardData:function(c){return"clipboardData"in c?c.clipboardData:window.clipboardData}}),nw=Gs(Fm),iw=f({},wu,{data:0}),Rc=Gs(iw),sw={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aw={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},ow={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lw(c){var h=this.nativeEvent;return h.getModifierState?h.getModifierState(c):(c=ow[c])?!!h[c]:!1}function qd(){return lw}var La=f({},$d,{key:function(c){if(c.key){var h=sw[c.key]||c.key;if(h!=="Unidentified")return h}return c.type==="keypress"?(c=Pf(c),c===13?"Enter":String.fromCharCode(c)):c.type==="keydown"||c.type==="keyup"?aw[c.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:qd,charCode:function(c){return c.type==="keypress"?Pf(c):0},keyCode:function(c){return c.type==="keydown"||c.type==="keyup"?c.keyCode:0},which:function(c){return c.type==="keypress"?Pf(c):c.type==="keydown"||c.type==="keyup"?c.keyCode:0}}),cw=Gs(La),uw=f({},Lm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_u=Gs(uw),_=f({},$d,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:qd}),F=Gs(_),z=f({},wu,{propertyName:0,elapsedTime:0,pseudoElement:0}),re=Gs(z),Ee=f({},Lm,{deltaX:function(c){return"deltaX"in c?c.deltaX:"wheelDeltaX"in c?-c.wheelDeltaX:0},deltaY:function(c){return"deltaY"in c?c.deltaY:"wheelDeltaY"in c?-c.wheelDeltaY:"wheelDelta"in c?-c.wheelDelta:0},deltaZ:0,deltaMode:0}),Re=Gs(Ee),ut=f({},wu,{newState:0,oldState:0}),Jt=Gs(ut),Ii=[9,13,27,32],Vr=qi&&"CompositionEvent"in window,Xn=null;qi&&"documentMode"in document&&(Xn=document.documentMode);var tl=qi&&"TextEvent"in window&&!Xn,Pc=qi&&(!Vr||Xn&&8<Xn&&11>=Xn),Ul=" ",zl=!1;function Mf(c,h){switch(c){case"keyup":return Ii.indexOf(h.keyCode)!==-1;case"keydown":return h.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Bm(c){return c=c.detail,typeof c=="object"&&"data"in c?c.data:null}var Vm=!1;function yde(c,h){switch(c){case"compositionend":return Bm(h);case"keypress":return h.which!==32?null:(zl=!0,Ul);case"textInput":return c=h.data,c===Ul&&zl?null:c;default:return null}}function xde(c,h){if(Vm)return c==="compositionend"||!Vr&&Mf(c,h)?(c=Hv(),Rf=$v=Nc=null,Vm=!1,c):null;switch(c){case"paste":return null;case"keypress":if(!(h.ctrlKey||h.altKey||h.metaKey)||h.ctrlKey&&h.altKey){if(h.char&&1<h.char.length)return h.char;if(h.which)return String.fromCharCode(h.which)}return null;case"compositionend":return Pc&&h.locale!=="ko"?null:h.data;default:return null}}var bde={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _M(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h==="input"?!!bde[c.type]:h==="textarea"}function EM(c,h,p,y){ct?wt?wt.push(y):wt=[y]:ct=y,h=Zw(h,"onChange"),0<h.length&&(p=new Ic("onChange","change",null,p,y),c.push({event:p,listeners:h}))}var Kv=null,Yv=null;function wde(c){s9(c,0)}function dw(c){var h=qe(c);if(vu(h))return c}function TM(c,h){if(c==="change")return h}var SM=!1;if(qi){var Tk;if(qi){var Sk="oninput"in document;if(!Sk){var kM=document.createElement("div");kM.setAttribute("oninput","return;"),Sk=typeof kM.oninput=="function"}Tk=Sk}else Tk=!1;SM=Tk&&(!document.documentMode||9<document.documentMode)}function AM(){Kv&&(Kv.detachEvent("onpropertychange",CM),Yv=Kv=null)}function CM(c){if(c.propertyName==="value"&&dw(Yv)){var h=[];EM(h,Yv,c,Oe(c)),Gr(wde,h)}}function _de(c,h,p){c==="focusin"?(AM(),Kv=h,Yv=p,Kv.attachEvent("onpropertychange",CM)):c==="focusout"&&AM()}function Ede(c){if(c==="selectionchange"||c==="keyup"||c==="keydown")return dw(Yv)}function Tde(c,h){if(c==="click")return dw(h)}function Sde(c,h){if(c==="input"||c==="change")return dw(h)}function kde(c,h){return c===h&&(c!==0||1/c===1/h)||c!==c&&h!==h}var To=typeof Object.is=="function"?Object.is:kde;function Xv(c,h){if(To(c,h))return!0;if(typeof c!="object"||c===null||typeof h!="object"||h===null)return!1;var p=Object.keys(c),y=Object.keys(h);if(p.length!==y.length)return!1;for(y=0;y<p.length;y++){var T=p[y];if(!vt.call(h,T)||!To(c[T],h[T]))return!1}return!0}function NM(c){for(;c&&c.firstChild;)c=c.firstChild;return c}function IM(c,h){var p=NM(c);c=0;for(var y;p;){if(p.nodeType===3){if(y=c+p.textContent.length,c<=h&&y>=h)return{node:p,offset:h-c};c=y}e:{for(;p;){if(p.nextSibling){p=p.nextSibling;break e}p=p.parentNode}p=void 0}p=NM(p)}}function OM(c,h){return c&&h?c===h?!0:c&&c.nodeType===3?!1:h&&h.nodeType===3?OM(c,h.parentNode):"contains"in c?c.contains(h):c.compareDocumentPosition?!!(c.compareDocumentPosition(h)&16):!1:!1}function RM(c){c=c!=null&&c.ownerDocument!=null&&c.ownerDocument.defaultView!=null?c.ownerDocument.defaultView:window;for(var h=Eo(c.document);h instanceof c.HTMLIFrameElement;){try{var p=typeof h.contentWindow.location.href=="string"}catch{p=!1}if(p)c=h.contentWindow;else break;h=Eo(c.document)}return h}function kk(c){var h=c&&c.nodeName&&c.nodeName.toLowerCase();return h&&(h==="input"&&(c.type==="text"||c.type==="search"||c.type==="tel"||c.type==="url"||c.type==="password")||h==="textarea"||c.contentEditable==="true")}var Ade=qi&&"documentMode"in document&&11>=document.documentMode,Um=null,Ak=null,Qv=null,Ck=!1;function PM(c,h,p){var y=p.window===p?p.document:p.nodeType===9?p:p.ownerDocument;Ck||Um==null||Um!==Eo(y)||(y=Um,"selectionStart"in y&&kk(y)?y={start:y.selectionStart,end:y.selectionEnd}:(y=(y.ownerDocument&&y.ownerDocument.defaultView||window).getSelection(),y={anchorNode:y.anchorNode,anchorOffset:y.anchorOffset,focusNode:y.focusNode,focusOffset:y.focusOffset}),Qv&&Xv(Qv,y)||(Qv=y,y=Zw(Ak,"onSelect"),0<y.length&&(h=new Ic("onSelect","select",null,h,p),c.push({event:h,listeners:y}),h.target=Um)))}function Lf(c,h){var p={};return p[c.toLowerCase()]=h.toLowerCase(),p["Webkit"+c]="webkit"+h,p["Moz"+c]="moz"+h,p}var zm={animationend:Lf("Animation","AnimationEnd"),animationiteration:Lf("Animation","AnimationIteration"),animationstart:Lf("Animation","AnimationStart"),transitionrun:Lf("Transition","TransitionRun"),transitionstart:Lf("Transition","TransitionStart"),transitioncancel:Lf("Transition","TransitionCancel"),transitionend:Lf("Transition","TransitionEnd")},Nk={},jM={};qi&&(jM=document.createElement("div").style,"AnimationEvent"in window||(delete zm.animationend.animation,delete zm.animationiteration.animation,delete zm.animationstart.animation),"TransitionEvent"in window||delete zm.transitionend.transition);function Ff(c){if(Nk[c])return Nk[c];if(!zm[c])return c;var h=zm[c],p;for(p in h)if(h.hasOwnProperty(p)&&p in jM)return Nk[c]=h[p];return c}var DM=Ff("animationend"),MM=Ff("animationiteration"),LM=Ff("animationstart"),Cde=Ff("transitionrun"),Nde=Ff("transitionstart"),Ide=Ff("transitioncancel"),FM=Ff("transitionend"),BM=new Map,Ik="abort auxClick beforeToggle cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");Ik.push("scrollEnd");function $l(c,h){BM.set(c,h),tn(h,[c])}var hw=typeof reportError=="function"?reportError:function(c){if(typeof window=="object"&&typeof window.ErrorEvent=="function"){var h=new window.ErrorEvent("error",{bubbles:!0,cancelable:!0,message:typeof c=="object"&&c!==null&&typeof c.message=="string"?String(c.message):String(c),error:c});if(!window.dispatchEvent(h))return}else if(typeof process=="object"&&typeof process.emit=="function"){process.emit("uncaughtException",c);return}console.error(c)},rl=[],$m=0,Ok=0;function fw(){for(var c=$m,h=Ok=$m=0;h<c;){var p=rl[h];rl[h++]=null;var y=rl[h];rl[h++]=null;var T=rl[h];rl[h++]=null;var N=rl[h];if(rl[h++]=null,y!==null&&T!==null){var V=y.pending;V===null?T.next=T:(T.next=V.next,V.next=T),y.pending=T}N!==0&&VM(p,T,N)}}function mw(c,h,p,y){rl[$m++]=c,rl[$m++]=h,rl[$m++]=p,rl[$m++]=y,Ok|=y,c.lanes|=y,c=c.alternate,c!==null&&(c.lanes|=y)}function Rk(c,h,p,y){return mw(c,h,p,y),pw(c)}function Bf(c,h){return mw(c,null,null,h),pw(c)}function VM(c,h,p){c.lanes|=p;var y=c.alternate;y!==null&&(y.lanes|=p);for(var T=!1,N=c.return;N!==null;)N.childLanes|=p,y=N.alternate,y!==null&&(y.childLanes|=p),N.tag===22&&(c=N.stateNode,c===null||c._visibility&1||(T=!0)),c=N,N=N.return;return c.tag===3?(N=c.stateNode,T&&h!==null&&(T=31-Qr(p),c=N.hiddenUpdates,y=c[T],y===null?c[T]=[h]:y.push(h),h.lane=p|536870912),N):null}function pw(c){if(50<xy)throw xy=0,UA=null,Error(n(185));for(var h=c.return;h!==null;)c=h,h=c.return;return c.tag===3?c.stateNode:null}var Hm={};function Ode(c,h,p,y){this.tag=c,this.key=p,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.refCleanup=this.ref=null,this.pendingProps=h,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=y,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function So(c,h,p,y){return new Ode(c,h,p,y)}function Pk(c){return c=c.prototype,!(!c||!c.isReactComponent)}function Eu(c,h){var p=c.alternate;return p===null?(p=So(c.tag,h,c.key,c.mode),p.elementType=c.elementType,p.type=c.type,p.stateNode=c.stateNode,p.alternate=c,c.alternate=p):(p.pendingProps=h,p.type=c.type,p.flags=0,p.subtreeFlags=0,p.deletions=null),p.flags=c.flags&65011712,p.childLanes=c.childLanes,p.lanes=c.lanes,p.child=c.child,p.memoizedProps=c.memoizedProps,p.memoizedState=c.memoizedState,p.updateQueue=c.updateQueue,h=c.dependencies,p.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext},p.sibling=c.sibling,p.index=c.index,p.ref=c.ref,p.refCleanup=c.refCleanup,p}function UM(c,h){c.flags&=65011714;var p=c.alternate;return p===null?(c.childLanes=0,c.lanes=h,c.child=null,c.subtreeFlags=0,c.memoizedProps=null,c.memoizedState=null,c.updateQueue=null,c.dependencies=null,c.stateNode=null):(c.childLanes=p.childLanes,c.lanes=p.lanes,c.child=p.child,c.subtreeFlags=0,c.deletions=null,c.memoizedProps=p.memoizedProps,c.memoizedState=p.memoizedState,c.updateQueue=p.updateQueue,c.type=p.type,h=p.dependencies,c.dependencies=h===null?null:{lanes:h.lanes,firstContext:h.firstContext}),c}function gw(c,h,p,y,T,N){var V=0;if(y=c,typeof c=="function")Pk(c)&&(V=1);else if(typeof c=="string")V=Mhe(c,p,W.current)?26:c==="html"||c==="head"||c==="body"?27:5;else e:switch(c){case R:return c=So(31,p,h,T),c.elementType=R,c.lanes=N,c;case b:return Vf(p.children,T,N,h);case w:V=8,T|=24;break;case E:return c=So(12,p,h,T|2),c.elementType=E,c.lanes=N,c;case P:return c=So(13,p,h,T),c.elementType=P,c.lanes=N,c;case j:return c=So(19,p,h,T),c.elementType=j,c.lanes=N,c;default:if(typeof c=="object"&&c!==null)switch(c.$$typeof){case A:V=10;break e;case k:V=9;break e;case O:V=11;break e;case S:V=14;break e;case I:V=16,y=null;break e}V=29,p=Error(n(130,c===null?"null":typeof c,"")),y=null}return h=So(V,p,h,T),h.elementType=c,h.type=y,h.lanes=N,h}function Vf(c,h,p,y){return c=So(7,c,y,h),c.lanes=p,c}function jk(c,h,p){return c=So(6,c,null,h),c.lanes=p,c}function zM(c){var h=So(18,null,null,0);return h.stateNode=c,h}function Dk(c,h,p){return h=So(4,c.children!==null?c.children:[],c.key,h),h.lanes=p,h.stateNode={containerInfo:c.containerInfo,pendingChildren:null,implementation:c.implementation},h}var $M=new WeakMap;function nl(c,h){if(typeof c=="object"&&c!==null){var p=$M.get(c);return p!==void 0?p:(h={value:c,source:h,stack:rt(h)},$M.set(c,h),h)}return{value:c,source:h,stack:rt(h)}}var qm=[],Wm=0,vw=null,Jv=0,il=[],sl=0,Wd=null,jc=1,Dc="";function Tu(c,h){qm[Wm++]=Jv,qm[Wm++]=vw,vw=c,Jv=h}function HM(c,h,p){il[sl++]=jc,il[sl++]=Dc,il[sl++]=Wd,Wd=c;var y=jc;c=Dc;var T=32-Qr(y)-1;y&=~(1<<T),p+=1;var N=32-Qr(h)+T;if(30<N){var V=T-T%5;N=(y&(1<<V)-1).toString(32),y>>=V,T-=V,jc=1<<32-Qr(h)+T|p<<T|y,Dc=N+c}else jc=1<<N|p<<T|y,Dc=c}function Mk(c){c.return!==null&&(Tu(c,1),HM(c,1,0))}function Lk(c){for(;c===vw;)vw=qm[--Wm],qm[Wm]=null,Jv=qm[--Wm],qm[Wm]=null;for(;c===Wd;)Wd=il[--sl],il[sl]=null,Dc=il[--sl],il[sl]=null,jc=il[--sl],il[sl]=null}function qM(c,h){il[sl++]=jc,il[sl++]=Dc,il[sl++]=Wd,jc=h.id,Dc=h.overflow,Wd=c}var Ks=null,Bn=null,_r=!1,Gd=null,al=!1,Fk=Error(n(519));function Kd(c){var h=Error(n(418,1<arguments.length&&arguments[1]!==void 0&&arguments[1]?"text":"HTML",""));throw Zv(nl(h,c)),Fk}function WM(c){var h=c.stateNode,p=c.type,y=c.memoizedProps;switch(h[ne]=c,h[ie]=y,p){case"dialog":fr("cancel",h),fr("close",h);break;case"iframe":case"object":case"embed":fr("load",h);break;case"video":case"audio":for(p=0;p<wy.length;p++)fr(wy[p],h);break;case"source":fr("error",h);break;case"img":case"image":case"link":fr("error",h),fr("load",h);break;case"details":fr("toggle",h);break;case"input":fr("invalid",h),Bd(h,y.value,y.defaultValue,y.checked,y.defaultChecked,y.type,y.name,!0);break;case"select":fr("invalid",h);break;case"textarea":fr("invalid",h),Ac(h,y.value,y.defaultValue,y.children)}p=y.children,typeof p!="string"&&typeof p!="number"&&typeof p!="bigint"||h.textContent===""+p||y.suppressHydrationWarning===!0||c9(h.textContent,p)?(y.popover!=null&&(fr("beforetoggle",h),fr("toggle",h)),y.onScroll!=null&&fr("scroll",h),y.onScrollEnd!=null&&fr("scrollend",h),y.onClick!=null&&(h.onclick=Ja),h=!0):h=!1,h||Kd(c,!0)}function GM(c){for(Ks=c.return;Ks;)switch(Ks.tag){case 5:case 31:case 13:al=!1;return;case 27:case 3:al=!0;return;default:Ks=Ks.return}}function Gm(c){if(c!==Ks)return!1;if(!_r)return GM(c),_r=!0,!1;var h=c.tag,p;if((p=h!==3&&h!==27)&&((p=h===5)&&(p=c.type,p=!(p!=="form"&&p!=="button")||rC(c.type,c.memoizedProps)),p=!p),p&&Bn&&Kd(c),GM(c),h===13){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Bn=y9(c)}else if(h===31){if(c=c.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(317));Bn=y9(c)}else h===27?(h=Bn,lh(c.type)?(c=oC,oC=null,Bn=c):Bn=h):Bn=Ks?ll(c.stateNode.nextSibling):null;return!0}function Uf(){Bn=Ks=null,_r=!1}function Bk(){var c=Gd;return c!==null&&(ro===null?ro=c:ro.push.apply(ro,c),Gd=null),c}function Zv(c){Gd===null?Gd=[c]:Gd.push(c)}var Vk=H(null),zf=null,Su=null;function Yd(c,h,p){q(Vk,h._currentValue),h._currentValue=p}function ku(c){c._currentValue=Vk.current,B(Vk)}function Uk(c,h,p){for(;c!==null;){var y=c.alternate;if((c.childLanes&h)!==h?(c.childLanes|=h,y!==null&&(y.childLanes|=h)):y!==null&&(y.childLanes&h)!==h&&(y.childLanes|=h),c===p)break;c=c.return}}function zk(c,h,p,y){var T=c.child;for(T!==null&&(T.return=c);T!==null;){var N=T.dependencies;if(N!==null){var V=T.child;N=N.firstContext;e:for(;N!==null;){var X=N;N=T;for(var fe=0;fe<h.length;fe++)if(X.context===h[fe]){N.lanes|=p,X=N.alternate,X!==null&&(X.lanes|=p),Uk(N.return,p,c),y||(V=null);break e}N=X.next}}else if(T.tag===18){if(V=T.return,V===null)throw Error(n(341));V.lanes|=p,N=V.alternate,N!==null&&(N.lanes|=p),Uk(V,p,c),V=null}else V=T.child;if(V!==null)V.return=T;else for(V=T;V!==null;){if(V===c){V=null;break}if(T=V.sibling,T!==null){T.return=V.return,V=T;break}V=V.return}T=V}}function Km(c,h,p,y){c=null;for(var T=h,N=!1;T!==null;){if(!N){if((T.flags&524288)!==0)N=!0;else if((T.flags&262144)!==0)break}if(T.tag===10){var V=T.alternate;if(V===null)throw Error(n(387));if(V=V.memoizedProps,V!==null){var X=T.type;To(T.pendingProps.value,V.value)||(c!==null?c.push(X):c=[X])}}else if(T===me.current){if(V=T.alternate,V===null)throw Error(n(387));V.memoizedState.memoizedState!==T.memoizedState.memoizedState&&(c!==null?c.push(ky):c=[ky])}T=T.return}c!==null&&zk(h,c,p,y),h.flags|=262144}function yw(c){for(c=c.firstContext;c!==null;){if(!To(c.context._currentValue,c.memoizedValue))return!0;c=c.next}return!1}function $f(c){zf=c,Su=null,c=c.dependencies,c!==null&&(c.firstContext=null)}function Ys(c){return KM(zf,c)}function xw(c,h){return zf===null&&$f(c),KM(c,h)}function KM(c,h){var p=h._currentValue;if(h={context:h,memoizedValue:p,next:null},Su===null){if(c===null)throw Error(n(308));Su=h,c.dependencies={lanes:0,firstContext:h},c.flags|=524288}else Su=Su.next=h;return p}var Rde=typeof AbortController<"u"?AbortController:function(){var c=[],h=this.signal={aborted:!1,addEventListener:function(p,y){c.push(y)}};this.abort=function(){h.aborted=!0,c.forEach(function(p){return p()})}},Pde=t.unstable_scheduleCallback,jde=t.unstable_NormalPriority,Wi={$$typeof:A,Consumer:null,Provider:null,_currentValue:null,_currentValue2:null,_threadCount:0};function $k(){return{controller:new Rde,data:new Map,refCount:0}}function ey(c){c.refCount--,c.refCount===0&&Pde(jde,function(){c.controller.abort()})}var ty=null,Hk=0,Ym=0,Xm=null;function Dde(c,h){if(ty===null){var p=ty=[];Hk=0,Ym=GA(),Xm={status:"pending",value:void 0,then:function(y){p.push(y)}}}return Hk++,h.then(YM,YM),h}function YM(){if(--Hk===0&&ty!==null){Xm!==null&&(Xm.status="fulfilled");var c=ty;ty=null,Ym=0,Xm=null;for(var h=0;h<c.length;h++)(0,c[h])()}}function Mde(c,h){var p=[],y={status:"pending",value:null,reason:null,then:function(T){p.push(T)}};return c.then(function(){y.status="fulfilled",y.value=h;for(var T=0;T<p.length;T++)(0,p[T])(h)},function(T){for(y.status="rejected",y.reason=T,T=0;T<p.length;T++)(0,p[T])(void 0)}),y}var XM=J.S;J.S=function(c,h){PL=Wt(),typeof h=="object"&&h!==null&&typeof h.then=="function"&&Dde(c,h),XM!==null&&XM(c,h)};var Hf=H(null);function qk(){var c=Hf.current;return c!==null?c:kn.pooledCache}function bw(c,h){h===null?q(Hf,Hf.current):q(Hf,h.pool)}function QM(){var c=qk();return c===null?null:{parent:Wi._currentValue,pool:c}}var Qm=Error(n(460)),Wk=Error(n(474)),ww=Error(n(542)),_w={then:function(){}};function JM(c){return c=c.status,c==="fulfilled"||c==="rejected"}function ZM(c,h,p){switch(p=c[p],p===void 0?c.push(h):p!==h&&(h.then(Ja,Ja),h=p),h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,t7(c),c;default:if(typeof h.status=="string")h.then(Ja,Ja);else{if(c=kn,c!==null&&100<c.shellSuspendCounter)throw Error(n(482));c=h,c.status="pending",c.then(function(y){if(h.status==="pending"){var T=h;T.status="fulfilled",T.value=y}},function(y){if(h.status==="pending"){var T=h;T.status="rejected",T.reason=y}})}switch(h.status){case"fulfilled":return h.value;case"rejected":throw c=h.reason,t7(c),c}throw Wf=h,Qm}}function qf(c){try{var h=c._init;return h(c._payload)}catch(p){throw p!==null&&typeof p=="object"&&typeof p.then=="function"?(Wf=p,Qm):p}}var Wf=null;function e7(){if(Wf===null)throw Error(n(459));var c=Wf;return Wf=null,c}function t7(c){if(c===Qm||c===ww)throw Error(n(483))}var Jm=null,ry=0;function Ew(c){var h=ry;return ry+=1,Jm===null&&(Jm=[]),ZM(Jm,c,h)}function ny(c,h){h=h.props.ref,c.ref=h!==void 0?h:null}function Tw(c,h){throw h.$$typeof===g?Error(n(525)):(c=Object.prototype.toString.call(h),Error(n(31,c==="[object Object]"?"object with keys {"+Object.keys(h).join(", ")+"}":c)))}function r7(c){function h(ye,pe){if(c){var Se=ye.deletions;Se===null?(ye.deletions=[pe],ye.flags|=16):Se.push(pe)}}function p(ye,pe){if(!c)return null;for(;pe!==null;)h(ye,pe),pe=pe.sibling;return null}function y(ye){for(var pe=new Map;ye!==null;)ye.key!==null?pe.set(ye.key,ye):pe.set(ye.index,ye),ye=ye.sibling;return pe}function T(ye,pe){return ye=Eu(ye,pe),ye.index=0,ye.sibling=null,ye}function N(ye,pe,Se){return ye.index=Se,c?(Se=ye.alternate,Se!==null?(Se=Se.index,Se<pe?(ye.flags|=67108866,pe):Se):(ye.flags|=67108866,pe)):(ye.flags|=1048576,pe)}function V(ye){return c&&ye.alternate===null&&(ye.flags|=67108866),ye}function X(ye,pe,Se,Ue){return pe===null||pe.tag!==6?(pe=jk(Se,ye.mode,Ue),pe.return=ye,pe):(pe=T(pe,Se),pe.return=ye,pe)}function fe(ye,pe,Se,Ue){var Ct=Se.type;return Ct===b?Be(ye,pe,Se.props.children,Ue,Se.key):pe!==null&&(pe.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===I&&qf(Ct)===pe.type)?(pe=T(pe,Se.props),ny(pe,Se),pe.return=ye,pe):(pe=gw(Se.type,Se.key,Se.props,null,ye.mode,Ue),ny(pe,Se),pe.return=ye,pe)}function ke(ye,pe,Se,Ue){return pe===null||pe.tag!==4||pe.stateNode.containerInfo!==Se.containerInfo||pe.stateNode.implementation!==Se.implementation?(pe=Dk(Se,ye.mode,Ue),pe.return=ye,pe):(pe=T(pe,Se.children||[]),pe.return=ye,pe)}function Be(ye,pe,Se,Ue,Ct){return pe===null||pe.tag!==7?(pe=Vf(Se,ye.mode,Ue,Ct),pe.return=ye,pe):(pe=T(pe,Se),pe.return=ye,pe)}function ze(ye,pe,Se){if(typeof pe=="string"&&pe!==""||typeof pe=="number"||typeof pe=="bigint")return pe=jk(""+pe,ye.mode,Se),pe.return=ye,pe;if(typeof pe=="object"&&pe!==null){switch(pe.$$typeof){case v:return Se=gw(pe.type,pe.key,pe.props,null,ye.mode,Se),ny(Se,pe),Se.return=ye,Se;case x:return pe=Dk(pe,ye.mode,Se),pe.return=ye,pe;case I:return pe=qf(pe),ze(ye,pe,Se)}if(ue(pe)||L(pe))return pe=Vf(pe,ye.mode,Se,null),pe.return=ye,pe;if(typeof pe.then=="function")return ze(ye,Ew(pe),Se);if(pe.$$typeof===A)return ze(ye,xw(ye,pe),Se);Tw(ye,pe)}return null}function Ce(ye,pe,Se,Ue){var Ct=pe!==null?pe.key:null;if(typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint")return Ct!==null?null:X(ye,pe,""+Se,Ue);if(typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case v:return Se.key===Ct?fe(ye,pe,Se,Ue):null;case x:return Se.key===Ct?ke(ye,pe,Se,Ue):null;case I:return Se=qf(Se),Ce(ye,pe,Se,Ue)}if(ue(Se)||L(Se))return Ct!==null?null:Be(ye,pe,Se,Ue,null);if(typeof Se.then=="function")return Ce(ye,pe,Ew(Se),Ue);if(Se.$$typeof===A)return Ce(ye,pe,xw(ye,Se),Ue);Tw(ye,Se)}return null}function Pe(ye,pe,Se,Ue,Ct){if(typeof Ue=="string"&&Ue!==""||typeof Ue=="number"||typeof Ue=="bigint")return ye=ye.get(Se)||null,X(pe,ye,""+Ue,Ct);if(typeof Ue=="object"&&Ue!==null){switch(Ue.$$typeof){case v:return ye=ye.get(Ue.key===null?Se:Ue.key)||null,fe(pe,ye,Ue,Ct);case x:return ye=ye.get(Ue.key===null?Se:Ue.key)||null,ke(pe,ye,Ue,Ct);case I:return Ue=qf(Ue),Pe(ye,pe,Se,Ue,Ct)}if(ue(Ue)||L(Ue))return ye=ye.get(Se)||null,Be(pe,ye,Ue,Ct,null);if(typeof Ue.then=="function")return Pe(ye,pe,Se,Ew(Ue),Ct);if(Ue.$$typeof===A)return Pe(ye,pe,Se,xw(pe,Ue),Ct);Tw(pe,Ue)}return null}function yt(ye,pe,Se,Ue){for(var Ct=null,Nr=null,_t=pe,nr=pe=0,vr=null;_t!==null&&nr<Se.length;nr++){_t.index>nr?(vr=_t,_t=null):vr=_t.sibling;var Ir=Ce(ye,_t,Se[nr],Ue);if(Ir===null){_t===null&&(_t=vr);break}c&&_t&&Ir.alternate===null&&h(ye,_t),pe=N(Ir,pe,nr),Nr===null?Ct=Ir:Nr.sibling=Ir,Nr=Ir,_t=vr}if(nr===Se.length)return p(ye,_t),_r&&Tu(ye,nr),Ct;if(_t===null){for(;nr<Se.length;nr++)_t=ze(ye,Se[nr],Ue),_t!==null&&(pe=N(_t,pe,nr),Nr===null?Ct=_t:Nr.sibling=_t,Nr=_t);return _r&&Tu(ye,nr),Ct}for(_t=y(_t);nr<Se.length;nr++)vr=Pe(_t,ye,nr,Se[nr],Ue),vr!==null&&(c&&vr.alternate!==null&&_t.delete(vr.key===null?nr:vr.key),pe=N(vr,pe,nr),Nr===null?Ct=vr:Nr.sibling=vr,Nr=vr);return c&&_t.forEach(function(fh){return h(ye,fh)}),_r&&Tu(ye,nr),Ct}function Rt(ye,pe,Se,Ue){if(Se==null)throw Error(n(151));for(var Ct=null,Nr=null,_t=pe,nr=pe=0,vr=null,Ir=Se.next();_t!==null&&!Ir.done;nr++,Ir=Se.next()){_t.index>nr?(vr=_t,_t=null):vr=_t.sibling;var fh=Ce(ye,_t,Ir.value,Ue);if(fh===null){_t===null&&(_t=vr);break}c&&_t&&fh.alternate===null&&h(ye,_t),pe=N(fh,pe,nr),Nr===null?Ct=fh:Nr.sibling=fh,Nr=fh,_t=vr}if(Ir.done)return p(ye,_t),_r&&Tu(ye,nr),Ct;if(_t===null){for(;!Ir.done;nr++,Ir=Se.next())Ir=ze(ye,Ir.value,Ue),Ir!==null&&(pe=N(Ir,pe,nr),Nr===null?Ct=Ir:Nr.sibling=Ir,Nr=Ir);return _r&&Tu(ye,nr),Ct}for(_t=y(_t);!Ir.done;nr++,Ir=Se.next())Ir=Pe(_t,ye,nr,Ir.value,Ue),Ir!==null&&(c&&Ir.alternate!==null&&_t.delete(Ir.key===null?nr:Ir.key),pe=N(Ir,pe,nr),Nr===null?Ct=Ir:Nr.sibling=Ir,Nr=Ir);return c&&_t.forEach(function(Ghe){return h(ye,Ghe)}),_r&&Tu(ye,nr),Ct}function vn(ye,pe,Se,Ue){if(typeof Se=="object"&&Se!==null&&Se.type===b&&Se.key===null&&(Se=Se.props.children),typeof Se=="object"&&Se!==null){switch(Se.$$typeof){case v:e:{for(var Ct=Se.key;pe!==null;){if(pe.key===Ct){if(Ct=Se.type,Ct===b){if(pe.tag===7){p(ye,pe.sibling),Ue=T(pe,Se.props.children),Ue.return=ye,ye=Ue;break e}}else if(pe.elementType===Ct||typeof Ct=="object"&&Ct!==null&&Ct.$$typeof===I&&qf(Ct)===pe.type){p(ye,pe.sibling),Ue=T(pe,Se.props),ny(Ue,Se),Ue.return=ye,ye=Ue;break e}p(ye,pe);break}else h(ye,pe);pe=pe.sibling}Se.type===b?(Ue=Vf(Se.props.children,ye.mode,Ue,Se.key),Ue.return=ye,ye=Ue):(Ue=gw(Se.type,Se.key,Se.props,null,ye.mode,Ue),ny(Ue,Se),Ue.return=ye,ye=Ue)}return V(ye);case x:e:{for(Ct=Se.key;pe!==null;){if(pe.key===Ct)if(pe.tag===4&&pe.stateNode.containerInfo===Se.containerInfo&&pe.stateNode.implementation===Se.implementation){p(ye,pe.sibling),Ue=T(pe,Se.children||[]),Ue.return=ye,ye=Ue;break e}else{p(ye,pe);break}else h(ye,pe);pe=pe.sibling}Ue=Dk(Se,ye.mode,Ue),Ue.return=ye,ye=Ue}return V(ye);case I:return Se=qf(Se),vn(ye,pe,Se,Ue)}if(ue(Se))return yt(ye,pe,Se,Ue);if(L(Se)){if(Ct=L(Se),typeof Ct!="function")throw Error(n(150));return Se=Ct.call(Se),Rt(ye,pe,Se,Ue)}if(typeof Se.then=="function")return vn(ye,pe,Ew(Se),Ue);if(Se.$$typeof===A)return vn(ye,pe,xw(ye,Se),Ue);Tw(ye,Se)}return typeof Se=="string"&&Se!==""||typeof Se=="number"||typeof Se=="bigint"?(Se=""+Se,pe!==null&&pe.tag===6?(p(ye,pe.sibling),Ue=T(pe,Se),Ue.return=ye,ye=Ue):(p(ye,pe),Ue=jk(Se,ye.mode,Ue),Ue.return=ye,ye=Ue),V(ye)):p(ye,pe)}return function(ye,pe,Se,Ue){try{ry=0;var Ct=vn(ye,pe,Se,Ue);return Jm=null,Ct}catch(_t){if(_t===Qm||_t===ww)throw _t;var Nr=So(29,_t,null,ye.mode);return Nr.lanes=Ue,Nr.return=ye,Nr}finally{}}}var Gf=r7(!0),n7=r7(!1),Xd=!1;function Gk(c){c.updateQueue={baseState:c.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,lanes:0,hiddenCallbacks:null},callbacks:null}}function Kk(c,h){c=c.updateQueue,h.updateQueue===c&&(h.updateQueue={baseState:c.baseState,firstBaseUpdate:c.firstBaseUpdate,lastBaseUpdate:c.lastBaseUpdate,shared:c.shared,callbacks:null})}function Qd(c){return{lane:c,tag:0,payload:null,callback:null,next:null}}function Jd(c,h,p){var y=c.updateQueue;if(y===null)return null;if(y=y.shared,(Ur&2)!==0){var T=y.pending;return T===null?h.next=h:(h.next=T.next,T.next=h),y.pending=h,h=pw(c),VM(c,null,p),h}return mw(c,y,h,p),pw(c)}function iy(c,h,p){if(h=h.updateQueue,h!==null&&(h=h.shared,(p&4194048)!==0)){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,en(c,p)}}function Yk(c,h){var p=c.updateQueue,y=c.alternate;if(y!==null&&(y=y.updateQueue,p===y)){var T=null,N=null;if(p=p.firstBaseUpdate,p!==null){do{var V={lane:p.lane,tag:p.tag,payload:p.payload,callback:null,next:null};N===null?T=N=V:N=N.next=V,p=p.next}while(p!==null);N===null?T=N=h:N=N.next=h}else T=N=h;p={baseState:y.baseState,firstBaseUpdate:T,lastBaseUpdate:N,shared:y.shared,callbacks:y.callbacks},c.updateQueue=p;return}c=p.lastBaseUpdate,c===null?p.firstBaseUpdate=h:c.next=h,p.lastBaseUpdate=h}var Xk=!1;function sy(){if(Xk){var c=Xm;if(c!==null)throw c}}function ay(c,h,p,y){Xk=!1;var T=c.updateQueue;Xd=!1;var N=T.firstBaseUpdate,V=T.lastBaseUpdate,X=T.shared.pending;if(X!==null){T.shared.pending=null;var fe=X,ke=fe.next;fe.next=null,V===null?N=ke:V.next=ke,V=fe;var Be=c.alternate;Be!==null&&(Be=Be.updateQueue,X=Be.lastBaseUpdate,X!==V&&(X===null?Be.firstBaseUpdate=ke:X.next=ke,Be.lastBaseUpdate=fe))}if(N!==null){var ze=T.baseState;V=0,Be=ke=fe=null,X=N;do{var Ce=X.lane&-536870913,Pe=Ce!==X.lane;if(Pe?(gr&Ce)===Ce:(y&Ce)===Ce){Ce!==0&&Ce===Ym&&(Xk=!0),Be!==null&&(Be=Be.next={lane:0,tag:X.tag,payload:X.payload,callback:null,next:null});e:{var yt=c,Rt=X;Ce=h;var vn=p;switch(Rt.tag){case 1:if(yt=Rt.payload,typeof yt=="function"){ze=yt.call(vn,ze,Ce);break e}ze=yt;break e;case 3:yt.flags=yt.flags&-65537|128;case 0:if(yt=Rt.payload,Ce=typeof yt=="function"?yt.call(vn,ze,Ce):yt,Ce==null)break e;ze=f({},ze,Ce);break e;case 2:Xd=!0}}Ce=X.callback,Ce!==null&&(c.flags|=64,Pe&&(c.flags|=8192),Pe=T.callbacks,Pe===null?T.callbacks=[Ce]:Pe.push(Ce))}else Pe={lane:Ce,tag:X.tag,payload:X.payload,callback:X.callback,next:null},Be===null?(ke=Be=Pe,fe=ze):Be=Be.next=Pe,V|=Ce;if(X=X.next,X===null){if(X=T.shared.pending,X===null)break;Pe=X,X=Pe.next,Pe.next=null,T.lastBaseUpdate=Pe,T.shared.pending=null}}while(!0);Be===null&&(fe=ze),T.baseState=fe,T.firstBaseUpdate=ke,T.lastBaseUpdate=Be,N===null&&(T.shared.lanes=0),nh|=V,c.lanes=V,c.memoizedState=ze}}function i7(c,h){if(typeof c!="function")throw Error(n(191,c));c.call(h)}function s7(c,h){var p=c.callbacks;if(p!==null)for(c.callbacks=null,c=0;c<p.length;c++)i7(p[c],h)}var Zm=H(null),Sw=H(0);function a7(c,h){c=Du,q(Sw,c),q(Zm,h),Du=c|h.baseLanes}function Qk(){q(Sw,Du),q(Zm,Zm.current)}function Jk(){Du=Sw.current,B(Zm),B(Sw)}var ko=H(null),ol=null;function Zd(c){var h=c.alternate;q(Oi,Oi.current&1),q(ko,c),ol===null&&(h===null||Zm.current!==null||h.memoizedState!==null)&&(ol=c)}function Zk(c){q(Oi,Oi.current),q(ko,c),ol===null&&(ol=c)}function o7(c){c.tag===22?(q(Oi,Oi.current),q(ko,c),ol===null&&(ol=c)):eh()}function eh(){q(Oi,Oi.current),q(ko,ko.current)}function Ao(c){B(ko),ol===c&&(ol=null),B(Oi)}var Oi=H(0);function kw(c){for(var h=c;h!==null;){if(h.tag===13){var p=h.memoizedState;if(p!==null&&(p=p.dehydrated,p===null||sC(p)||aC(p)))return h}else if(h.tag===19&&(h.memoizedProps.revealOrder==="forwards"||h.memoizedProps.revealOrder==="backwards"||h.memoizedProps.revealOrder==="unstable_legacy-backwards"||h.memoizedProps.revealOrder==="together")){if((h.flags&128)!==0)return h}else if(h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return null;h=h.return}h.sibling.return=h.return,h=h.sibling}return null}var Au=0,Zt=null,pn=null,Gi=null,Aw=!1,ep=!1,Kf=!1,Cw=0,oy=0,tp=null,Lde=0;function bi(){throw Error(n(321))}function eA(c,h){if(h===null)return!1;for(var p=0;p<h.length&&p<c.length;p++)if(!To(c[p],h[p]))return!1;return!0}function tA(c,h,p,y,T,N){return Au=N,Zt=h,h.memoizedState=null,h.updateQueue=null,h.lanes=0,J.H=c===null||c.memoizedState===null?H7:gA,Kf=!1,N=p(y,T),Kf=!1,ep&&(N=c7(h,p,y,T)),l7(c),N}function l7(c){J.H=uy;var h=pn!==null&&pn.next!==null;if(Au=0,Gi=pn=Zt=null,Aw=!1,oy=0,tp=null,h)throw Error(n(300));c===null||Ki||(c=c.dependencies,c!==null&&yw(c)&&(Ki=!0))}function c7(c,h,p,y){Zt=c;var T=0;do{if(ep&&(tp=null),oy=0,ep=!1,25<=T)throw Error(n(301));if(T+=1,Gi=pn=null,c.updateQueue!=null){var N=c.updateQueue;N.lastEffect=null,N.events=null,N.stores=null,N.memoCache!=null&&(N.memoCache.index=0)}J.H=q7,N=h(p,y)}while(ep);return N}function Fde(){var c=J.H,h=c.useState()[0];return h=typeof h.then=="function"?ly(h):h,c=c.useState()[0],(pn!==null?pn.memoizedState:null)!==c&&(Zt.flags|=1024),h}function rA(){var c=Cw!==0;return Cw=0,c}function nA(c,h,p){h.updateQueue=c.updateQueue,h.flags&=-2053,c.lanes&=~p}function iA(c){if(Aw){for(c=c.memoizedState;c!==null;){var h=c.queue;h!==null&&(h.pending=null),c=c.next}Aw=!1}Au=0,Gi=pn=Zt=null,ep=!1,oy=Cw=0,tp=null}function Fa(){var c={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Gi===null?Zt.memoizedState=Gi=c:Gi=Gi.next=c,Gi}function Ri(){if(pn===null){var c=Zt.alternate;c=c!==null?c.memoizedState:null}else c=pn.next;var h=Gi===null?Zt.memoizedState:Gi.next;if(h!==null)Gi=h,pn=c;else{if(c===null)throw Zt.alternate===null?Error(n(467)):Error(n(310));pn=c,c={memoizedState:pn.memoizedState,baseState:pn.baseState,baseQueue:pn.baseQueue,queue:pn.queue,next:null},Gi===null?Zt.memoizedState=Gi=c:Gi=Gi.next=c}return Gi}function Nw(){return{lastEffect:null,events:null,stores:null,memoCache:null}}function ly(c){var h=oy;return oy+=1,tp===null&&(tp=[]),c=ZM(tp,c,h),h=Zt,(Gi===null?h.memoizedState:Gi.next)===null&&(h=h.alternate,J.H=h===null||h.memoizedState===null?H7:gA),c}function Iw(c){if(c!==null&&typeof c=="object"){if(typeof c.then=="function")return ly(c);if(c.$$typeof===A)return Ys(c)}throw Error(n(438,String(c)))}function sA(c){var h=null,p=Zt.updateQueue;if(p!==null&&(h=p.memoCache),h==null){var y=Zt.alternate;y!==null&&(y=y.updateQueue,y!==null&&(y=y.memoCache,y!=null&&(h={data:y.data.map(function(T){return T.slice()}),index:0})))}if(h==null&&(h={data:[],index:0}),p===null&&(p=Nw(),Zt.updateQueue=p),p.memoCache=h,p=h.data[h.index],p===void 0)for(p=h.data[h.index]=Array(c),y=0;y<c;y++)p[y]=D;return h.index++,p}function Cu(c,h){return typeof h=="function"?h(c):h}function Ow(c){var h=Ri();return aA(h,pn,c)}function aA(c,h,p){var y=c.queue;if(y===null)throw Error(n(311));y.lastRenderedReducer=p;var T=c.baseQueue,N=y.pending;if(N!==null){if(T!==null){var V=T.next;T.next=N.next,N.next=V}h.baseQueue=T=N,y.pending=null}if(N=c.baseState,T===null)c.memoizedState=N;else{h=T.next;var X=V=null,fe=null,ke=h,Be=!1;do{var ze=ke.lane&-536870913;if(ze!==ke.lane?(gr&ze)===ze:(Au&ze)===ze){var Ce=ke.revertLane;if(Ce===0)fe!==null&&(fe=fe.next={lane:0,revertLane:0,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null}),ze===Ym&&(Be=!0);else if((Au&Ce)===Ce){ke=ke.next,Ce===Ym&&(Be=!0);continue}else ze={lane:0,revertLane:ke.revertLane,gesture:null,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(X=fe=ze,V=N):fe=fe.next=ze,Zt.lanes|=Ce,nh|=Ce;ze=ke.action,Kf&&p(N,ze),N=ke.hasEagerState?ke.eagerState:p(N,ze)}else Ce={lane:ze,revertLane:ke.revertLane,gesture:ke.gesture,action:ke.action,hasEagerState:ke.hasEagerState,eagerState:ke.eagerState,next:null},fe===null?(X=fe=Ce,V=N):fe=fe.next=Ce,Zt.lanes|=ze,nh|=ze;ke=ke.next}while(ke!==null&&ke!==h);if(fe===null?V=N:fe.next=X,!To(N,c.memoizedState)&&(Ki=!0,Be&&(p=Xm,p!==null)))throw p;c.memoizedState=N,c.baseState=V,c.baseQueue=fe,y.lastRenderedState=N}return T===null&&(y.lanes=0),[c.memoizedState,y.dispatch]}function oA(c){var h=Ri(),p=h.queue;if(p===null)throw Error(n(311));p.lastRenderedReducer=c;var y=p.dispatch,T=p.pending,N=h.memoizedState;if(T!==null){p.pending=null;var V=T=T.next;do N=c(N,V.action),V=V.next;while(V!==T);To(N,h.memoizedState)||(Ki=!0),h.memoizedState=N,h.baseQueue===null&&(h.baseState=N),p.lastRenderedState=N}return[N,y]}function u7(c,h,p){var y=Zt,T=Ri(),N=_r;if(N){if(p===void 0)throw Error(n(407));p=p()}else p=h();var V=!To((pn||T).memoizedState,p);if(V&&(T.memoizedState=p,Ki=!0),T=T.queue,uA(f7.bind(null,y,T,c),[c]),T.getSnapshot!==h||V||Gi!==null&&Gi.memoizedState.tag&1){if(y.flags|=2048,rp(9,{destroy:void 0},h7.bind(null,y,T,p,h),null),kn===null)throw Error(n(349));N||(Au&127)!==0||d7(y,h,p)}return p}function d7(c,h,p){c.flags|=16384,c={getSnapshot:h,value:p},h=Zt.updateQueue,h===null?(h=Nw(),Zt.updateQueue=h,h.stores=[c]):(p=h.stores,p===null?h.stores=[c]:p.push(c))}function h7(c,h,p,y){h.value=p,h.getSnapshot=y,m7(h)&&p7(c)}function f7(c,h,p){return p(function(){m7(h)&&p7(c)})}function m7(c){var h=c.getSnapshot;c=c.value;try{var p=h();return!To(c,p)}catch{return!0}}function p7(c){var h=Bf(c,2);h!==null&&no(h,c,2)}function lA(c){var h=Fa();if(typeof c=="function"){var p=c;if(c=p(),Kf){Ui(!0);try{p()}finally{Ui(!1)}}}return h.memoizedState=h.baseState=c,h.queue={pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:c},h}function g7(c,h,p,y){return c.baseState=p,aA(c,pn,typeof y=="function"?y:Cu)}function Bde(c,h,p,y,T){if(jw(c))throw Error(n(485));if(c=h.action,c!==null){var N={payload:T,action:c,next:null,isTransition:!0,status:"pending",value:null,reason:null,listeners:[],then:function(V){N.listeners.push(V)}};J.T!==null?p(!0):N.isTransition=!1,y(N),p=h.pending,p===null?(N.next=h.pending=N,v7(h,N)):(N.next=p.next,h.pending=p.next=N)}}function v7(c,h){var p=h.action,y=h.payload,T=c.state;if(h.isTransition){var N=J.T,V={};J.T=V;try{var X=p(T,y),fe=J.S;fe!==null&&fe(V,X),y7(c,h,X)}catch(ke){cA(c,h,ke)}finally{N!==null&&V.types!==null&&(N.types=V.types),J.T=N}}else try{N=p(T,y),y7(c,h,N)}catch(ke){cA(c,h,ke)}}function y7(c,h,p){p!==null&&typeof p=="object"&&typeof p.then=="function"?p.then(function(y){x7(c,h,y)},function(y){return cA(c,h,y)}):x7(c,h,p)}function x7(c,h,p){h.status="fulfilled",h.value=p,b7(h),c.state=p,h=c.pending,h!==null&&(p=h.next,p===h?c.pending=null:(p=p.next,h.next=p,v7(c,p)))}function cA(c,h,p){var y=c.pending;if(c.pending=null,y!==null){y=y.next;do h.status="rejected",h.reason=p,b7(h),h=h.next;while(h!==y)}c.action=null}function b7(c){c=c.listeners;for(var h=0;h<c.length;h++)(0,c[h])()}function w7(c,h){return h}function _7(c,h){if(_r){var p=kn.formState;if(p!==null){e:{var y=Zt;if(_r){if(Bn){t:{for(var T=Bn,N=al;T.nodeType!==8;){if(!N){T=null;break t}if(T=ll(T.nextSibling),T===null){T=null;break t}}N=T.data,T=N==="F!"||N==="F"?T:null}if(T){Bn=ll(T.nextSibling),y=T.data==="F!";break e}}Kd(y)}y=!1}y&&(h=p[0])}}return p=Fa(),p.memoizedState=p.baseState=h,y={pending:null,lanes:0,dispatch:null,lastRenderedReducer:w7,lastRenderedState:h},p.queue=y,p=U7.bind(null,Zt,y),y.dispatch=p,y=lA(!1),N=pA.bind(null,Zt,!1,y.queue),y=Fa(),T={state:h,dispatch:null,action:c,pending:null},y.queue=T,p=Bde.bind(null,Zt,T,N,p),T.dispatch=p,y.memoizedState=c,[h,p,!1]}function E7(c){var h=Ri();return T7(h,pn,c)}function T7(c,h,p){if(h=aA(c,h,w7)[0],c=Ow(Cu)[0],typeof h=="object"&&h!==null&&typeof h.then=="function")try{var y=ly(h)}catch(V){throw V===Qm?ww:V}else y=h;h=Ri();var T=h.queue,N=T.dispatch;return p!==h.memoizedState&&(Zt.flags|=2048,rp(9,{destroy:void 0},Vde.bind(null,T,p),null)),[y,N,c]}function Vde(c,h){c.action=h}function S7(c){var h=Ri(),p=pn;if(p!==null)return T7(h,p,c);Ri(),h=h.memoizedState,p=Ri();var y=p.queue.dispatch;return p.memoizedState=c,[h,y,!1]}function rp(c,h,p,y){return c={tag:c,create:p,deps:y,inst:h,next:null},h=Zt.updateQueue,h===null&&(h=Nw(),Zt.updateQueue=h),p=h.lastEffect,p===null?h.lastEffect=c.next=c:(y=p.next,p.next=c,c.next=y,h.lastEffect=c),c}function k7(){return Ri().memoizedState}function Rw(c,h,p,y){var T=Fa();Zt.flags|=c,T.memoizedState=rp(1|h,{destroy:void 0},p,y===void 0?null:y)}function Pw(c,h,p,y){var T=Ri();y=y===void 0?null:y;var N=T.memoizedState.inst;pn!==null&&y!==null&&eA(y,pn.memoizedState.deps)?T.memoizedState=rp(h,N,p,y):(Zt.flags|=c,T.memoizedState=rp(1|h,N,p,y))}function A7(c,h){Rw(8390656,8,c,h)}function uA(c,h){Pw(2048,8,c,h)}function Ude(c){Zt.flags|=4;var h=Zt.updateQueue;if(h===null)h=Nw(),Zt.updateQueue=h,h.events=[c];else{var p=h.events;p===null?h.events=[c]:p.push(c)}}function C7(c){var h=Ri().memoizedState;return Ude({ref:h,nextImpl:c}),function(){if((Ur&2)!==0)throw Error(n(440));return h.impl.apply(void 0,arguments)}}function N7(c,h){return Pw(4,2,c,h)}function I7(c,h){return Pw(4,4,c,h)}function O7(c,h){if(typeof h=="function"){c=c();var p=h(c);return function(){typeof p=="function"?p():h(null)}}if(h!=null)return c=c(),h.current=c,function(){h.current=null}}function R7(c,h,p){p=p!=null?p.concat([c]):null,Pw(4,4,O7.bind(null,h,c),p)}function dA(){}function P7(c,h){var p=Ri();h=h===void 0?null:h;var y=p.memoizedState;return h!==null&&eA(h,y[1])?y[0]:(p.memoizedState=[c,h],c)}function j7(c,h){var p=Ri();h=h===void 0?null:h;var y=p.memoizedState;if(h!==null&&eA(h,y[1]))return y[0];if(y=c(),Kf){Ui(!0);try{c()}finally{Ui(!1)}}return p.memoizedState=[y,h],y}function hA(c,h,p){return p===void 0||(Au&1073741824)!==0&&(gr&261930)===0?c.memoizedState=h:(c.memoizedState=p,c=DL(),Zt.lanes|=c,nh|=c,p)}function D7(c,h,p,y){return To(p,h)?p:Zm.current!==null?(c=hA(c,p,y),To(c,h)||(Ki=!0),c):(Au&42)===0||(Au&1073741824)!==0&&(gr&261930)===0?(Ki=!0,c.memoizedState=p):(c=DL(),Zt.lanes|=c,nh|=c,h)}function M7(c,h,p,y,T){var N=Q.p;Q.p=N!==0&&8>N?N:8;var V=J.T,X={};J.T=X,pA(c,!1,h,p);try{var fe=T(),ke=J.S;if(ke!==null&&ke(X,fe),fe!==null&&typeof fe=="object"&&typeof fe.then=="function"){var Be=Mde(fe,y);cy(c,h,Be,Io(c))}else cy(c,h,y,Io(c))}catch(ze){cy(c,h,{then:function(){},status:"rejected",reason:ze},Io())}finally{Q.p=N,V!==null&&X.types!==null&&(V.types=X.types),J.T=V}}function zde(){}function fA(c,h,p,y){if(c.tag!==5)throw Error(n(476));var T=L7(c).queue;M7(c,T,h,he,p===null?zde:function(){return F7(c),p(y)})}function L7(c){var h=c.memoizedState;if(h!==null)return h;h={memoizedState:he,baseState:he,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:he},next:null};var p={};return h.next={memoizedState:p,baseState:p,baseQueue:null,queue:{pending:null,lanes:0,dispatch:null,lastRenderedReducer:Cu,lastRenderedState:p},next:null},c.memoizedState=h,c=c.alternate,c!==null&&(c.memoizedState=h),h}function F7(c){var h=L7(c);h.next===null&&(h=c.alternate.memoizedState),cy(c,h.next.queue,{},Io())}function mA(){return Ys(ky)}function B7(){return Ri().memoizedState}function V7(){return Ri().memoizedState}function $de(c){for(var h=c.return;h!==null;){switch(h.tag){case 24:case 3:var p=Io();c=Qd(p);var y=Jd(h,c,p);y!==null&&(no(y,h,p),iy(y,h,p)),h={cache:$k()},c.payload=h;return}h=h.return}}function Hde(c,h,p){var y=Io();p={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null},jw(c)?z7(h,p):(p=Rk(c,h,p,y),p!==null&&(no(p,c,y),$7(p,h,y)))}function U7(c,h,p){var y=Io();cy(c,h,p,y)}function cy(c,h,p,y){var T={lane:y,revertLane:0,gesture:null,action:p,hasEagerState:!1,eagerState:null,next:null};if(jw(c))z7(h,T);else{var N=c.alternate;if(c.lanes===0&&(N===null||N.lanes===0)&&(N=h.lastRenderedReducer,N!==null))try{var V=h.lastRenderedState,X=N(V,p);if(T.hasEagerState=!0,T.eagerState=X,To(X,V))return mw(c,h,T,0),kn===null&&fw(),!1}catch{}finally{}if(p=Rk(c,h,T,y),p!==null)return no(p,c,y),$7(p,h,y),!0}return!1}function pA(c,h,p,y){if(y={lane:2,revertLane:GA(),gesture:null,action:y,hasEagerState:!1,eagerState:null,next:null},jw(c)){if(h)throw Error(n(479))}else h=Rk(c,p,y,2),h!==null&&no(h,c,2)}function jw(c){var h=c.alternate;return c===Zt||h!==null&&h===Zt}function z7(c,h){ep=Aw=!0;var p=c.pending;p===null?h.next=h:(h.next=p.next,p.next=h),c.pending=h}function $7(c,h,p){if((p&4194048)!==0){var y=h.lanes;y&=c.pendingLanes,p|=y,h.lanes=p,en(c,p)}}var uy={readContext:Ys,use:Iw,useCallback:bi,useContext:bi,useEffect:bi,useImperativeHandle:bi,useLayoutEffect:bi,useInsertionEffect:bi,useMemo:bi,useReducer:bi,useRef:bi,useState:bi,useDebugValue:bi,useDeferredValue:bi,useTransition:bi,useSyncExternalStore:bi,useId:bi,useHostTransitionStatus:bi,useFormState:bi,useActionState:bi,useOptimistic:bi,useMemoCache:bi,useCacheRefresh:bi};uy.useEffectEvent=bi;var H7={readContext:Ys,use:Iw,useCallback:function(c,h){return Fa().memoizedState=[c,h===void 0?null:h],c},useContext:Ys,useEffect:A7,useImperativeHandle:function(c,h,p){p=p!=null?p.concat([c]):null,Rw(4194308,4,O7.bind(null,h,c),p)},useLayoutEffect:function(c,h){return Rw(4194308,4,c,h)},useInsertionEffect:function(c,h){Rw(4,2,c,h)},useMemo:function(c,h){var p=Fa();h=h===void 0?null:h;var y=c();if(Kf){Ui(!0);try{c()}finally{Ui(!1)}}return p.memoizedState=[y,h],y},useReducer:function(c,h,p){var y=Fa();if(p!==void 0){var T=p(h);if(Kf){Ui(!0);try{p(h)}finally{Ui(!1)}}}else T=h;return y.memoizedState=y.baseState=T,c={pending:null,lanes:0,dispatch:null,lastRenderedReducer:c,lastRenderedState:T},y.queue=c,c=c.dispatch=Hde.bind(null,Zt,c),[y.memoizedState,c]},useRef:function(c){var h=Fa();return c={current:c},h.memoizedState=c},useState:function(c){c=lA(c);var h=c.queue,p=U7.bind(null,Zt,h);return h.dispatch=p,[c.memoizedState,p]},useDebugValue:dA,useDeferredValue:function(c,h){var p=Fa();return hA(p,c,h)},useTransition:function(){var c=lA(!1);return c=M7.bind(null,Zt,c.queue,!0,!1),Fa().memoizedState=c,[!1,c]},useSyncExternalStore:function(c,h,p){var y=Zt,T=Fa();if(_r){if(p===void 0)throw Error(n(407));p=p()}else{if(p=h(),kn===null)throw Error(n(349));(gr&127)!==0||d7(y,h,p)}T.memoizedState=p;var N={value:p,getSnapshot:h};return T.queue=N,A7(f7.bind(null,y,N,c),[c]),y.flags|=2048,rp(9,{destroy:void 0},h7.bind(null,y,N,p,h),null),p},useId:function(){var c=Fa(),h=kn.identifierPrefix;if(_r){var p=Dc,y=jc;p=(y&~(1<<32-Qr(y)-1)).toString(32)+p,h="_"+h+"R_"+p,p=Cw++,0<p&&(h+="H"+p.toString(32)),h+="_"}else p=Lde++,h="_"+h+"r_"+p.toString(32)+"_";return c.memoizedState=h},useHostTransitionStatus:mA,useFormState:_7,useActionState:_7,useOptimistic:function(c){var h=Fa();h.memoizedState=h.baseState=c;var p={pending:null,lanes:0,dispatch:null,lastRenderedReducer:null,lastRenderedState:null};return h.queue=p,h=pA.bind(null,Zt,!0,p),p.dispatch=h,[c,h]},useMemoCache:sA,useCacheRefresh:function(){return Fa().memoizedState=$de.bind(null,Zt)},useEffectEvent:function(c){var h=Fa(),p={impl:c};return h.memoizedState=p,function(){if((Ur&2)!==0)throw Error(n(440));return p.impl.apply(void 0,arguments)}}},gA={readContext:Ys,use:Iw,useCallback:P7,useContext:Ys,useEffect:uA,useImperativeHandle:R7,useInsertionEffect:N7,useLayoutEffect:I7,useMemo:j7,useReducer:Ow,useRef:k7,useState:function(){return Ow(Cu)},useDebugValue:dA,useDeferredValue:function(c,h){var p=Ri();return D7(p,pn.memoizedState,c,h)},useTransition:function(){var c=Ow(Cu)[0],h=Ri().memoizedState;return[typeof c=="boolean"?c:ly(c),h]},useSyncExternalStore:u7,useId:B7,useHostTransitionStatus:mA,useFormState:E7,useActionState:E7,useOptimistic:function(c,h){var p=Ri();return g7(p,pn,c,h)},useMemoCache:sA,useCacheRefresh:V7};gA.useEffectEvent=C7;var q7={readContext:Ys,use:Iw,useCallback:P7,useContext:Ys,useEffect:uA,useImperativeHandle:R7,useInsertionEffect:N7,useLayoutEffect:I7,useMemo:j7,useReducer:oA,useRef:k7,useState:function(){return oA(Cu)},useDebugValue:dA,useDeferredValue:function(c,h){var p=Ri();return pn===null?hA(p,c,h):D7(p,pn.memoizedState,c,h)},useTransition:function(){var c=oA(Cu)[0],h=Ri().memoizedState;return[typeof c=="boolean"?c:ly(c),h]},useSyncExternalStore:u7,useId:B7,useHostTransitionStatus:mA,useFormState:S7,useActionState:S7,useOptimistic:function(c,h){var p=Ri();return pn!==null?g7(p,pn,c,h):(p.baseState=c,[c,p.queue.dispatch])},useMemoCache:sA,useCacheRefresh:V7};q7.useEffectEvent=C7;function vA(c,h,p,y){h=c.memoizedState,p=p(y,h),p=p==null?h:f({},h,p),c.memoizedState=p,c.lanes===0&&(c.updateQueue.baseState=p)}var yA={enqueueSetState:function(c,h,p){c=c._reactInternals;var y=Io(),T=Qd(y);T.payload=h,p!=null&&(T.callback=p),h=Jd(c,T,y),h!==null&&(no(h,c,y),iy(h,c,y))},enqueueReplaceState:function(c,h,p){c=c._reactInternals;var y=Io(),T=Qd(y);T.tag=1,T.payload=h,p!=null&&(T.callback=p),h=Jd(c,T,y),h!==null&&(no(h,c,y),iy(h,c,y))},enqueueForceUpdate:function(c,h){c=c._reactInternals;var p=Io(),y=Qd(p);y.tag=2,h!=null&&(y.callback=h),h=Jd(c,y,p),h!==null&&(no(h,c,p),iy(h,c,p))}};function W7(c,h,p,y,T,N,V){return c=c.stateNode,typeof c.shouldComponentUpdate=="function"?c.shouldComponentUpdate(y,N,V):h.prototype&&h.prototype.isPureReactComponent?!Xv(p,y)||!Xv(T,N):!0}function G7(c,h,p,y){c=h.state,typeof h.componentWillReceiveProps=="function"&&h.componentWillReceiveProps(p,y),typeof h.UNSAFE_componentWillReceiveProps=="function"&&h.UNSAFE_componentWillReceiveProps(p,y),h.state!==c&&yA.enqueueReplaceState(h,h.state,null)}function Yf(c,h){var p=h;if("ref"in h){p={};for(var y in h)y!=="ref"&&(p[y]=h[y])}if(c=c.defaultProps){p===h&&(p=f({},p));for(var T in c)p[T]===void 0&&(p[T]=c[T])}return p}function K7(c){hw(c)}function Y7(c){console.error(c)}function X7(c){hw(c)}function Dw(c,h){try{var p=c.onUncaughtError;p(h.value,{componentStack:h.stack})}catch(y){setTimeout(function(){throw y})}}function Q7(c,h,p){try{var y=c.onCaughtError;y(p.value,{componentStack:p.stack,errorBoundary:h.tag===1?h.stateNode:null})}catch(T){setTimeout(function(){throw T})}}function xA(c,h,p){return p=Qd(p),p.tag=3,p.payload={element:null},p.callback=function(){Dw(c,h)},p}function J7(c){return c=Qd(c),c.tag=3,c}function Z7(c,h,p,y){var T=p.type.getDerivedStateFromError;if(typeof T=="function"){var N=y.value;c.payload=function(){return T(N)},c.callback=function(){Q7(h,p,y)}}var V=p.stateNode;V!==null&&typeof V.componentDidCatch=="function"&&(c.callback=function(){Q7(h,p,y),typeof T!="function"&&(ih===null?ih=new Set([this]):ih.add(this));var X=y.stack;this.componentDidCatch(y.value,{componentStack:X!==null?X:""})})}function qde(c,h,p,y,T){if(p.flags|=32768,y!==null&&typeof y=="object"&&typeof y.then=="function"){if(h=p.alternate,h!==null&&Km(h,p,T,!0),p=ko.current,p!==null){switch(p.tag){case 31:case 13:return ol===null?Gw():p.alternate===null&&wi===0&&(wi=3),p.flags&=-257,p.flags|=65536,p.lanes=T,y===_w?p.flags|=16384:(h=p.updateQueue,h===null?p.updateQueue=new Set([y]):h.add(y),HA(c,y,T)),!1;case 22:return p.flags|=65536,y===_w?p.flags|=16384:(h=p.updateQueue,h===null?(h={transitions:null,markerInstances:null,retryQueue:new Set([y])},p.updateQueue=h):(p=h.retryQueue,p===null?h.retryQueue=new Set([y]):p.add(y)),HA(c,y,T)),!1}throw Error(n(435,p.tag))}return HA(c,y,T),Gw(),!1}if(_r)return h=ko.current,h!==null?((h.flags&65536)===0&&(h.flags|=256),h.flags|=65536,h.lanes=T,y!==Fk&&(c=Error(n(422),{cause:y}),Zv(nl(c,p)))):(y!==Fk&&(h=Error(n(423),{cause:y}),Zv(nl(h,p))),c=c.current.alternate,c.flags|=65536,T&=-T,c.lanes|=T,y=nl(y,p),T=xA(c.stateNode,y,T),Yk(c,T),wi!==4&&(wi=2)),!1;var N=Error(n(520),{cause:y});if(N=nl(N,p),yy===null?yy=[N]:yy.push(N),wi!==4&&(wi=2),h===null)return!0;y=nl(y,p),p=h;do{switch(p.tag){case 3:return p.flags|=65536,c=T&-T,p.lanes|=c,c=xA(p.stateNode,y,c),Yk(p,c),!1;case 1:if(h=p.type,N=p.stateNode,(p.flags&128)===0&&(typeof h.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(ih===null||!ih.has(N))))return p.flags|=65536,T&=-T,p.lanes|=T,T=J7(T),Z7(T,c,p,y),Yk(p,T),!1}p=p.return}while(p!==null);return!1}var bA=Error(n(461)),Ki=!1;function Xs(c,h,p,y){h.child=c===null?n7(h,null,p,y):Gf(h,c.child,p,y)}function eL(c,h,p,y,T){p=p.render;var N=h.ref;if("ref"in y){var V={};for(var X in y)X!=="ref"&&(V[X]=y[X])}else V=y;return $f(h),y=tA(c,h,p,V,N,T),X=rA(),c!==null&&!Ki?(nA(c,h,T),Nu(c,h,T)):(_r&&X&&Mk(h),h.flags|=1,Xs(c,h,y,T),h.child)}function tL(c,h,p,y,T){if(c===null){var N=p.type;return typeof N=="function"&&!Pk(N)&&N.defaultProps===void 0&&p.compare===null?(h.tag=15,h.type=N,rL(c,h,N,y,T)):(c=gw(p.type,null,y,h,h.mode,T),c.ref=h.ref,c.return=h,h.child=c)}if(N=c.child,!CA(c,T)){var V=N.memoizedProps;if(p=p.compare,p=p!==null?p:Xv,p(V,y)&&c.ref===h.ref)return Nu(c,h,T)}return h.flags|=1,c=Eu(N,y),c.ref=h.ref,c.return=h,h.child=c}function rL(c,h,p,y,T){if(c!==null){var N=c.memoizedProps;if(Xv(N,y)&&c.ref===h.ref)if(Ki=!1,h.pendingProps=y=N,CA(c,T))(c.flags&131072)!==0&&(Ki=!0);else return h.lanes=c.lanes,Nu(c,h,T)}return wA(c,h,p,y,T)}function nL(c,h,p,y){var T=y.children,N=c!==null?c.memoizedState:null;if(c===null&&h.stateNode===null&&(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),y.mode==="hidden"){if((h.flags&128)!==0){if(N=N!==null?N.baseLanes|p:p,c!==null){for(y=h.child=c.child,T=0;y!==null;)T=T|y.lanes|y.childLanes,y=y.sibling;y=T&~N}else y=0,h.child=null;return iL(c,h,N,p,y)}if((p&536870912)!==0)h.memoizedState={baseLanes:0,cachePool:null},c!==null&&bw(h,N!==null?N.cachePool:null),N!==null?a7(h,N):Qk(),o7(h);else return y=h.lanes=536870912,iL(c,h,N!==null?N.baseLanes|p:p,p,y)}else N!==null?(bw(h,N.cachePool),a7(h,N),eh(),h.memoizedState=null):(c!==null&&bw(h,null),Qk(),eh());return Xs(c,h,T,p),h.child}function dy(c,h){return c!==null&&c.tag===22||h.stateNode!==null||(h.stateNode={_visibility:1,_pendingMarkers:null,_retryCache:null,_transitions:null}),h.sibling}function iL(c,h,p,y,T){var N=qk();return N=N===null?null:{parent:Wi._currentValue,pool:N},h.memoizedState={baseLanes:p,cachePool:N},c!==null&&bw(h,null),Qk(),o7(h),c!==null&&Km(c,h,y,!0),h.childLanes=T,null}function Mw(c,h){return h=Fw({mode:h.mode,children:h.children},c.mode),h.ref=c.ref,c.child=h,h.return=c,h}function sL(c,h,p){return Gf(h,c.child,null,p),c=Mw(h,h.pendingProps),c.flags|=2,Ao(h),h.memoizedState=null,c}function Wde(c,h,p){var y=h.pendingProps,T=(h.flags&128)!==0;if(h.flags&=-129,c===null){if(_r){if(y.mode==="hidden")return c=Mw(h,y),h.lanes=536870912,dy(null,c);if(Zk(h),(c=Bn)?(c=v9(c,al),c=c!==null&&c.data==="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Wd!==null?{id:jc,overflow:Dc}:null,retryLane:536870912,hydrationErrors:null},p=zM(c),p.return=h,h.child=p,Ks=h,Bn=null)):c=null,c===null)throw Kd(h);return h.lanes=536870912,null}return Mw(h,y)}var N=c.memoizedState;if(N!==null){var V=N.dehydrated;if(Zk(h),T)if(h.flags&256)h.flags&=-257,h=sL(c,h,p);else if(h.memoizedState!==null)h.child=c.child,h.flags|=128,h=null;else throw Error(n(558));else if(Ki||Km(c,h,p,!1),T=(p&c.childLanes)!==0,Ki||T){if(y=kn,y!==null&&(V=Ci(y,p),V!==0&&V!==N.retryLane))throw N.retryLane=V,Bf(c,V),no(y,c,V),bA;Gw(),h=sL(c,h,p)}else c=N.treeContext,Bn=ll(V.nextSibling),Ks=h,_r=!0,Gd=null,al=!1,c!==null&&qM(h,c),h=Mw(h,y),h.flags|=4096;return h}return c=Eu(c.child,{mode:y.mode,children:y.children}),c.ref=h.ref,h.child=c,c.return=h,c}function Lw(c,h){var p=h.ref;if(p===null)c!==null&&c.ref!==null&&(h.flags|=4194816);else{if(typeof p!="function"&&typeof p!="object")throw Error(n(284));(c===null||c.ref!==p)&&(h.flags|=4194816)}}function wA(c,h,p,y,T){return $f(h),p=tA(c,h,p,y,void 0,T),y=rA(),c!==null&&!Ki?(nA(c,h,T),Nu(c,h,T)):(_r&&y&&Mk(h),h.flags|=1,Xs(c,h,p,T),h.child)}function aL(c,h,p,y,T,N){return $f(h),h.updateQueue=null,p=c7(h,y,p,T),l7(c),y=rA(),c!==null&&!Ki?(nA(c,h,N),Nu(c,h,N)):(_r&&y&&Mk(h),h.flags|=1,Xs(c,h,p,N),h.child)}function oL(c,h,p,y,T){if($f(h),h.stateNode===null){var N=Hm,V=p.contextType;typeof V=="object"&&V!==null&&(N=Ys(V)),N=new p(y,N),h.memoizedState=N.state!==null&&N.state!==void 0?N.state:null,N.updater=yA,h.stateNode=N,N._reactInternals=h,N=h.stateNode,N.props=y,N.state=h.memoizedState,N.refs={},Gk(h),V=p.contextType,N.context=typeof V=="object"&&V!==null?Ys(V):Hm,N.state=h.memoizedState,V=p.getDerivedStateFromProps,typeof V=="function"&&(vA(h,p,V,y),N.state=h.memoizedState),typeof p.getDerivedStateFromProps=="function"||typeof N.getSnapshotBeforeUpdate=="function"||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(V=N.state,typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount(),V!==N.state&&yA.enqueueReplaceState(N,N.state,null),ay(h,y,N,T),sy(),N.state=h.memoizedState),typeof N.componentDidMount=="function"&&(h.flags|=4194308),y=!0}else if(c===null){N=h.stateNode;var X=h.memoizedProps,fe=Yf(p,X);N.props=fe;var ke=N.context,Be=p.contextType;V=Hm,typeof Be=="object"&&Be!==null&&(V=Ys(Be));var ze=p.getDerivedStateFromProps;Be=typeof ze=="function"||typeof N.getSnapshotBeforeUpdate=="function",X=h.pendingProps!==X,Be||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(X||ke!==V)&&G7(h,N,y,V),Xd=!1;var Ce=h.memoizedState;N.state=Ce,ay(h,y,N,T),sy(),ke=h.memoizedState,X||Ce!==ke||Xd?(typeof ze=="function"&&(vA(h,p,ze,y),ke=h.memoizedState),(fe=Xd||W7(h,p,fe,y,Ce,ke,V))?(Be||typeof N.UNSAFE_componentWillMount!="function"&&typeof N.componentWillMount!="function"||(typeof N.componentWillMount=="function"&&N.componentWillMount(),typeof N.UNSAFE_componentWillMount=="function"&&N.UNSAFE_componentWillMount()),typeof N.componentDidMount=="function"&&(h.flags|=4194308)):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),h.memoizedProps=y,h.memoizedState=ke),N.props=y,N.state=ke,N.context=V,y=fe):(typeof N.componentDidMount=="function"&&(h.flags|=4194308),y=!1)}else{N=h.stateNode,Kk(c,h),V=h.memoizedProps,Be=Yf(p,V),N.props=Be,ze=h.pendingProps,Ce=N.context,ke=p.contextType,fe=Hm,typeof ke=="object"&&ke!==null&&(fe=Ys(ke)),X=p.getDerivedStateFromProps,(ke=typeof X=="function"||typeof N.getSnapshotBeforeUpdate=="function")||typeof N.UNSAFE_componentWillReceiveProps!="function"&&typeof N.componentWillReceiveProps!="function"||(V!==ze||Ce!==fe)&&G7(h,N,y,fe),Xd=!1,Ce=h.memoizedState,N.state=Ce,ay(h,y,N,T),sy();var Pe=h.memoizedState;V!==ze||Ce!==Pe||Xd||c!==null&&c.dependencies!==null&&yw(c.dependencies)?(typeof X=="function"&&(vA(h,p,X,y),Pe=h.memoizedState),(Be=Xd||W7(h,p,Be,y,Ce,Pe,fe)||c!==null&&c.dependencies!==null&&yw(c.dependencies))?(ke||typeof N.UNSAFE_componentWillUpdate!="function"&&typeof N.componentWillUpdate!="function"||(typeof N.componentWillUpdate=="function"&&N.componentWillUpdate(y,Pe,fe),typeof N.UNSAFE_componentWillUpdate=="function"&&N.UNSAFE_componentWillUpdate(y,Pe,fe)),typeof N.componentDidUpdate=="function"&&(h.flags|=4),typeof N.getSnapshotBeforeUpdate=="function"&&(h.flags|=1024)):(typeof N.componentDidUpdate!="function"||V===c.memoizedProps&&Ce===c.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Ce===c.memoizedState||(h.flags|=1024),h.memoizedProps=y,h.memoizedState=Pe),N.props=y,N.state=Pe,N.context=fe,y=Be):(typeof N.componentDidUpdate!="function"||V===c.memoizedProps&&Ce===c.memoizedState||(h.flags|=4),typeof N.getSnapshotBeforeUpdate!="function"||V===c.memoizedProps&&Ce===c.memoizedState||(h.flags|=1024),y=!1)}return N=y,Lw(c,h),y=(h.flags&128)!==0,N||y?(N=h.stateNode,p=y&&typeof p.getDerivedStateFromError!="function"?null:N.render(),h.flags|=1,c!==null&&y?(h.child=Gf(h,c.child,null,T),h.child=Gf(h,null,p,T)):Xs(c,h,p,T),h.memoizedState=N.state,c=h.child):c=Nu(c,h,T),c}function lL(c,h,p,y){return Uf(),h.flags|=256,Xs(c,h,p,y),h.child}var _A={dehydrated:null,treeContext:null,retryLane:0,hydrationErrors:null};function EA(c){return{baseLanes:c,cachePool:QM()}}function TA(c,h,p){return c=c!==null?c.childLanes&~p:0,h&&(c|=No),c}function cL(c,h,p){var y=h.pendingProps,T=!1,N=(h.flags&128)!==0,V;if((V=N)||(V=c!==null&&c.memoizedState===null?!1:(Oi.current&2)!==0),V&&(T=!0,h.flags&=-129),V=(h.flags&32)!==0,h.flags&=-33,c===null){if(_r){if(T?Zd(h):eh(),(c=Bn)?(c=v9(c,al),c=c!==null&&c.data!=="&"?c:null,c!==null&&(h.memoizedState={dehydrated:c,treeContext:Wd!==null?{id:jc,overflow:Dc}:null,retryLane:536870912,hydrationErrors:null},p=zM(c),p.return=h,h.child=p,Ks=h,Bn=null)):c=null,c===null)throw Kd(h);return aC(c)?h.lanes=32:h.lanes=536870912,null}var X=y.children;return y=y.fallback,T?(eh(),T=h.mode,X=Fw({mode:"hidden",children:X},T),y=Vf(y,T,p,null),X.return=h,y.return=h,X.sibling=y,h.child=X,y=h.child,y.memoizedState=EA(p),y.childLanes=TA(c,V,p),h.memoizedState=_A,dy(null,y)):(Zd(h),SA(h,X))}var fe=c.memoizedState;if(fe!==null&&(X=fe.dehydrated,X!==null)){if(N)h.flags&256?(Zd(h),h.flags&=-257,h=kA(c,h,p)):h.memoizedState!==null?(eh(),h.child=c.child,h.flags|=128,h=null):(eh(),X=y.fallback,T=h.mode,y=Fw({mode:"visible",children:y.children},T),X=Vf(X,T,p,null),X.flags|=2,y.return=h,X.return=h,y.sibling=X,h.child=y,Gf(h,c.child,null,p),y=h.child,y.memoizedState=EA(p),y.childLanes=TA(c,V,p),h.memoizedState=_A,h=dy(null,y));else if(Zd(h),aC(X)){if(V=X.nextSibling&&X.nextSibling.dataset,V)var ke=V.dgst;V=ke,y=Error(n(419)),y.stack="",y.digest=V,Zv({value:y,source:null,stack:null}),h=kA(c,h,p)}else if(Ki||Km(c,h,p,!1),V=(p&c.childLanes)!==0,Ki||V){if(V=kn,V!==null&&(y=Ci(V,p),y!==0&&y!==fe.retryLane))throw fe.retryLane=y,Bf(c,y),no(V,c,y),bA;sC(X)||Gw(),h=kA(c,h,p)}else sC(X)?(h.flags|=192,h.child=c.child,h=null):(c=fe.treeContext,Bn=ll(X.nextSibling),Ks=h,_r=!0,Gd=null,al=!1,c!==null&&qM(h,c),h=SA(h,y.children),h.flags|=4096);return h}return T?(eh(),X=y.fallback,T=h.mode,fe=c.child,ke=fe.sibling,y=Eu(fe,{mode:"hidden",children:y.children}),y.subtreeFlags=fe.subtreeFlags&65011712,ke!==null?X=Eu(ke,X):(X=Vf(X,T,p,null),X.flags|=2),X.return=h,y.return=h,y.sibling=X,h.child=y,dy(null,y),y=h.child,X=c.child.memoizedState,X===null?X=EA(p):(T=X.cachePool,T!==null?(fe=Wi._currentValue,T=T.parent!==fe?{parent:fe,pool:fe}:T):T=QM(),X={baseLanes:X.baseLanes|p,cachePool:T}),y.memoizedState=X,y.childLanes=TA(c,V,p),h.memoizedState=_A,dy(c.child,y)):(Zd(h),p=c.child,c=p.sibling,p=Eu(p,{mode:"visible",children:y.children}),p.return=h,p.sibling=null,c!==null&&(V=h.deletions,V===null?(h.deletions=[c],h.flags|=16):V.push(c)),h.child=p,h.memoizedState=null,p)}function SA(c,h){return h=Fw({mode:"visible",children:h},c.mode),h.return=c,c.child=h}function Fw(c,h){return c=So(22,c,null,h),c.lanes=0,c}function kA(c,h,p){return Gf(h,c.child,null,p),c=SA(h,h.pendingProps.children),c.flags|=2,h.memoizedState=null,c}function uL(c,h,p){c.lanes|=h;var y=c.alternate;y!==null&&(y.lanes|=h),Uk(c.return,h,p)}function AA(c,h,p,y,T,N){var V=c.memoizedState;V===null?c.memoizedState={isBackwards:h,rendering:null,renderingStartTime:0,last:y,tail:p,tailMode:T,treeForkCount:N}:(V.isBackwards=h,V.rendering=null,V.renderingStartTime=0,V.last=y,V.tail=p,V.tailMode=T,V.treeForkCount=N)}function dL(c,h,p){var y=h.pendingProps,T=y.revealOrder,N=y.tail;y=y.children;var V=Oi.current,X=(V&2)!==0;if(X?(V=V&1|2,h.flags|=128):V&=1,q(Oi,V),Xs(c,h,y,p),y=_r?Jv:0,!X&&c!==null&&(c.flags&128)!==0)e:for(c=h.child;c!==null;){if(c.tag===13)c.memoizedState!==null&&uL(c,p,h);else if(c.tag===19)uL(c,p,h);else if(c.child!==null){c.child.return=c,c=c.child;continue}if(c===h)break e;for(;c.sibling===null;){if(c.return===null||c.return===h)break e;c=c.return}c.sibling.return=c.return,c=c.sibling}switch(T){case"forwards":for(p=h.child,T=null;p!==null;)c=p.alternate,c!==null&&kw(c)===null&&(T=p),p=p.sibling;p=T,p===null?(T=h.child,h.child=null):(T=p.sibling,p.sibling=null),AA(h,!1,T,p,N,y);break;case"backwards":case"unstable_legacy-backwards":for(p=null,T=h.child,h.child=null;T!==null;){if(c=T.alternate,c!==null&&kw(c)===null){h.child=T;break}c=T.sibling,T.sibling=p,p=T,T=c}AA(h,!0,p,null,N,y);break;case"together":AA(h,!1,null,null,void 0,y);break;default:h.memoizedState=null}return h.child}function Nu(c,h,p){if(c!==null&&(h.dependencies=c.dependencies),nh|=h.lanes,(p&h.childLanes)===0)if(c!==null){if(Km(c,h,p,!1),(p&h.childLanes)===0)return null}else return null;if(c!==null&&h.child!==c.child)throw Error(n(153));if(h.child!==null){for(c=h.child,p=Eu(c,c.pendingProps),h.child=p,p.return=h;c.sibling!==null;)c=c.sibling,p=p.sibling=Eu(c,c.pendingProps),p.return=h;p.sibling=null}return h.child}function CA(c,h){return(c.lanes&h)!==0?!0:(c=c.dependencies,!!(c!==null&&yw(c)))}function Gde(c,h,p){switch(h.tag){case 3:ce(h,h.stateNode.containerInfo),Yd(h,Wi,c.memoizedState.cache),Uf();break;case 27:case 5:ve(h);break;case 4:ce(h,h.stateNode.containerInfo);break;case 10:Yd(h,h.type,h.memoizedProps.value);break;case 31:if(h.memoizedState!==null)return h.flags|=128,Zk(h),null;break;case 13:var y=h.memoizedState;if(y!==null)return y.dehydrated!==null?(Zd(h),h.flags|=128,null):(p&h.child.childLanes)!==0?cL(c,h,p):(Zd(h),c=Nu(c,h,p),c!==null?c.sibling:null);Zd(h);break;case 19:var T=(c.flags&128)!==0;if(y=(p&h.childLanes)!==0,y||(Km(c,h,p,!1),y=(p&h.childLanes)!==0),T){if(y)return dL(c,h,p);h.flags|=128}if(T=h.memoizedState,T!==null&&(T.rendering=null,T.tail=null,T.lastEffect=null),q(Oi,Oi.current),y)break;return null;case 22:return h.lanes=0,nL(c,h,p,h.pendingProps);case 24:Yd(h,Wi,c.memoizedState.cache)}return Nu(c,h,p)}function hL(c,h,p){if(c!==null)if(c.memoizedProps!==h.pendingProps)Ki=!0;else{if(!CA(c,p)&&(h.flags&128)===0)return Ki=!1,Gde(c,h,p);Ki=(c.flags&131072)!==0}else Ki=!1,_r&&(h.flags&1048576)!==0&&HM(h,Jv,h.index);switch(h.lanes=0,h.tag){case 16:e:{var y=h.pendingProps;if(c=qf(h.elementType),h.type=c,typeof c=="function")Pk(c)?(y=Yf(c,y),h.tag=1,h=oL(null,h,c,y,p)):(h.tag=0,h=wA(null,h,c,y,p));else{if(c!=null){var T=c.$$typeof;if(T===O){h.tag=11,h=eL(null,h,c,y,p);break e}else if(T===S){h.tag=14,h=tL(null,h,c,y,p);break e}}throw h=le(c)||c,Error(n(306,h,""))}}return h;case 0:return wA(c,h,h.type,h.pendingProps,p);case 1:return y=h.type,T=Yf(y,h.pendingProps),oL(c,h,y,T,p);case 3:e:{if(ce(h,h.stateNode.containerInfo),c===null)throw Error(n(387));y=h.pendingProps;var N=h.memoizedState;T=N.element,Kk(c,h),ay(h,y,null,p);var V=h.memoizedState;if(y=V.cache,Yd(h,Wi,y),y!==N.cache&&zk(h,[Wi],p,!0),sy(),y=V.element,N.isDehydrated)if(N={element:y,isDehydrated:!1,cache:V.cache},h.updateQueue.baseState=N,h.memoizedState=N,h.flags&256){h=lL(c,h,y,p);break e}else if(y!==T){T=nl(Error(n(424)),h),Zv(T),h=lL(c,h,y,p);break e}else{switch(c=h.stateNode.containerInfo,c.nodeType){case 9:c=c.body;break;default:c=c.nodeName==="HTML"?c.ownerDocument.body:c}for(Bn=ll(c.firstChild),Ks=h,_r=!0,Gd=null,al=!0,p=n7(h,null,y,p),h.child=p;p;)p.flags=p.flags&-3|4096,p=p.sibling}else{if(Uf(),y===T){h=Nu(c,h,p);break e}Xs(c,h,y,p)}h=h.child}return h;case 26:return Lw(c,h),c===null?(p=E9(h.type,null,h.pendingProps,null))?h.memoizedState=p:_r||(p=h.type,c=h.pendingProps,y=e_(de.current).createElement(p),y[ne]=h,y[ie]=c,Qs(y,p,c),pt(y),h.stateNode=y):h.memoizedState=E9(h.type,c.memoizedProps,h.pendingProps,c.memoizedState),null;case 27:return ve(h),c===null&&_r&&(y=h.stateNode=b9(h.type,h.pendingProps,de.current),Ks=h,al=!0,T=Bn,lh(h.type)?(oC=T,Bn=ll(y.firstChild)):Bn=T),Xs(c,h,h.pendingProps.children,p),Lw(c,h),c===null&&(h.flags|=4194304),h.child;case 5:return c===null&&_r&&((T=y=Bn)&&(y=Ehe(y,h.type,h.pendingProps,al),y!==null?(h.stateNode=y,Ks=h,Bn=ll(y.firstChild),al=!1,T=!0):T=!1),T||Kd(h)),ve(h),T=h.type,N=h.pendingProps,V=c!==null?c.memoizedProps:null,y=N.children,rC(T,N)?y=null:V!==null&&rC(T,V)&&(h.flags|=32),h.memoizedState!==null&&(T=tA(c,h,Fde,null,null,p),ky._currentValue=T),Lw(c,h),Xs(c,h,y,p),h.child;case 6:return c===null&&_r&&((c=p=Bn)&&(p=The(p,h.pendingProps,al),p!==null?(h.stateNode=p,Ks=h,Bn=null,c=!0):c=!1),c||Kd(h)),null;case 13:return cL(c,h,p);case 4:return ce(h,h.stateNode.containerInfo),y=h.pendingProps,c===null?h.child=Gf(h,null,y,p):Xs(c,h,y,p),h.child;case 11:return eL(c,h,h.type,h.pendingProps,p);case 7:return Xs(c,h,h.pendingProps,p),h.child;case 8:return Xs(c,h,h.pendingProps.children,p),h.child;case 12:return Xs(c,h,h.pendingProps.children,p),h.child;case 10:return y=h.pendingProps,Yd(h,h.type,y.value),Xs(c,h,y.children,p),h.child;case 9:return T=h.type._context,y=h.pendingProps.children,$f(h),T=Ys(T),y=y(T),h.flags|=1,Xs(c,h,y,p),h.child;case 14:return tL(c,h,h.type,h.pendingProps,p);case 15:return rL(c,h,h.type,h.pendingProps,p);case 19:return dL(c,h,p);case 31:return Wde(c,h,p);case 22:return nL(c,h,p,h.pendingProps);case 24:return $f(h),y=Ys(Wi),c===null?(T=qk(),T===null&&(T=kn,N=$k(),T.pooledCache=N,N.refCount++,N!==null&&(T.pooledCacheLanes|=p),T=N),h.memoizedState={parent:y,cache:T},Gk(h),Yd(h,Wi,T)):((c.lanes&p)!==0&&(Kk(c,h),ay(h,null,null,p),sy()),T=c.memoizedState,N=h.memoizedState,T.parent!==y?(T={parent:y,cache:y},h.memoizedState=T,h.lanes===0&&(h.memoizedState=h.updateQueue.baseState=T),Yd(h,Wi,y)):(y=N.cache,Yd(h,Wi,y),y!==T.cache&&zk(h,[Wi],p,!0))),Xs(c,h,h.pendingProps.children,p),h.child;case 29:throw h.pendingProps}throw Error(n(156,h.tag))}function Iu(c){c.flags|=4}function NA(c,h,p,y,T){if((h=(c.mode&32)!==0)&&(h=!1),h){if(c.flags|=16777216,(T&335544128)===T)if(c.stateNode.complete)c.flags|=8192;else if(BL())c.flags|=8192;else throw Wf=_w,Wk}else c.flags&=-16777217}function fL(c,h){if(h.type!=="stylesheet"||(h.state.loading&4)!==0)c.flags&=-16777217;else if(c.flags|=16777216,!C9(h))if(BL())c.flags|=8192;else throw Wf=_w,Wk}function Bw(c,h){h!==null&&(c.flags|=4),c.flags&16384&&(h=c.tag!==22?si():536870912,c.lanes|=h,ap|=h)}function hy(c,h){if(!_r)switch(c.tailMode){case"hidden":h=c.tail;for(var p=null;h!==null;)h.alternate!==null&&(p=h),h=h.sibling;p===null?c.tail=null:p.sibling=null;break;case"collapsed":p=c.tail;for(var y=null;p!==null;)p.alternate!==null&&(y=p),p=p.sibling;y===null?h||c.tail===null?c.tail=null:c.tail.sibling=null:y.sibling=null}}function Vn(c){var h=c.alternate!==null&&c.alternate.child===c.child,p=0,y=0;if(h)for(var T=c.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags&65011712,y|=T.flags&65011712,T.return=c,T=T.sibling;else for(T=c.child;T!==null;)p|=T.lanes|T.childLanes,y|=T.subtreeFlags,y|=T.flags,T.return=c,T=T.sibling;return c.subtreeFlags|=y,c.childLanes=p,h}function Kde(c,h,p){var y=h.pendingProps;switch(Lk(h),h.tag){case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Vn(h),null;case 1:return Vn(h),null;case 3:return p=h.stateNode,y=null,c!==null&&(y=c.memoizedState.cache),h.memoizedState.cache!==y&&(h.flags|=2048),ku(Wi),se(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(c===null||c.child===null)&&(Gm(h)?Iu(h):c===null||c.memoizedState.isDehydrated&&(h.flags&256)===0||(h.flags|=1024,Bk())),Vn(h),null;case 26:var T=h.type,N=h.memoizedState;return c===null?(Iu(h),N!==null?(Vn(h),fL(h,N)):(Vn(h),NA(h,T,null,y,p))):N?N!==c.memoizedState?(Iu(h),Vn(h),fL(h,N)):(Vn(h),h.flags&=-16777217):(c=c.memoizedProps,c!==y&&Iu(h),Vn(h),NA(h,T,c,y,p)),null;case 27:if(Ve(h),p=de.current,T=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&Iu(h);else{if(!y){if(h.stateNode===null)throw Error(n(166));return Vn(h),null}c=W.current,Gm(h)?WM(h):(c=b9(T,y,p),h.stateNode=c,Iu(h))}return Vn(h),null;case 5:if(Ve(h),T=h.type,c!==null&&h.stateNode!=null)c.memoizedProps!==y&&Iu(h);else{if(!y){if(h.stateNode===null)throw Error(n(166));return Vn(h),null}if(N=W.current,Gm(h))WM(h);else{var V=e_(de.current);switch(N){case 1:N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case 2:N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;default:switch(T){case"svg":N=V.createElementNS("http://www.w3.org/2000/svg",T);break;case"math":N=V.createElementNS("http://www.w3.org/1998/Math/MathML",T);break;case"script":N=V.createElement("div"),N.innerHTML="<script><\/script>",N=N.removeChild(N.firstChild);break;case"select":N=typeof y.is=="string"?V.createElement("select",{is:y.is}):V.createElement("select"),y.multiple?N.multiple=!0:y.size&&(N.size=y.size);break;default:N=typeof y.is=="string"?V.createElement(T,{is:y.is}):V.createElement(T)}}N[ne]=h,N[ie]=y;e:for(V=h.child;V!==null;){if(V.tag===5||V.tag===6)N.appendChild(V.stateNode);else if(V.tag!==4&&V.tag!==27&&V.child!==null){V.child.return=V,V=V.child;continue}if(V===h)break e;for(;V.sibling===null;){if(V.return===null||V.return===h)break e;V=V.return}V.sibling.return=V.return,V=V.sibling}h.stateNode=N;e:switch(Qs(N,T,y),T){case"button":case"input":case"select":case"textarea":y=!!y.autoFocus;break e;case"img":y=!0;break e;default:y=!1}y&&Iu(h)}}return Vn(h),NA(h,h.type,c===null?null:c.memoizedProps,h.pendingProps,p),null;case 6:if(c&&h.stateNode!=null)c.memoizedProps!==y&&Iu(h);else{if(typeof y!="string"&&h.stateNode===null)throw Error(n(166));if(c=de.current,Gm(h)){if(c=h.stateNode,p=h.memoizedProps,y=null,T=Ks,T!==null)switch(T.tag){case 27:case 5:y=T.memoizedProps}c[ne]=h,c=!!(c.nodeValue===p||y!==null&&y.suppressHydrationWarning===!0||c9(c.nodeValue,p)),c||Kd(h,!0)}else c=e_(c).createTextNode(y),c[ne]=h,h.stateNode=c}return Vn(h),null;case 31:if(p=h.memoizedState,c===null||c.memoizedState!==null){if(y=Gm(h),p!==null){if(c===null){if(!y)throw Error(n(318));if(c=h.memoizedState,c=c!==null?c.dehydrated:null,!c)throw Error(n(557));c[ne]=h}else Uf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Vn(h),c=!1}else p=Bk(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=p),c=!0;if(!c)return h.flags&256?(Ao(h),h):(Ao(h),null);if((h.flags&128)!==0)throw Error(n(558))}return Vn(h),null;case 13:if(y=h.memoizedState,c===null||c.memoizedState!==null&&c.memoizedState.dehydrated!==null){if(T=Gm(h),y!==null&&y.dehydrated!==null){if(c===null){if(!T)throw Error(n(318));if(T=h.memoizedState,T=T!==null?T.dehydrated:null,!T)throw Error(n(317));T[ne]=h}else Uf(),(h.flags&128)===0&&(h.memoizedState=null),h.flags|=4;Vn(h),T=!1}else T=Bk(),c!==null&&c.memoizedState!==null&&(c.memoizedState.hydrationErrors=T),T=!0;if(!T)return h.flags&256?(Ao(h),h):(Ao(h),null)}return Ao(h),(h.flags&128)!==0?(h.lanes=p,h):(p=y!==null,c=c!==null&&c.memoizedState!==null,p&&(y=h.child,T=null,y.alternate!==null&&y.alternate.memoizedState!==null&&y.alternate.memoizedState.cachePool!==null&&(T=y.alternate.memoizedState.cachePool.pool),N=null,y.memoizedState!==null&&y.memoizedState.cachePool!==null&&(N=y.memoizedState.cachePool.pool),N!==T&&(y.flags|=2048)),p!==c&&p&&(h.child.flags|=8192),Bw(h,h.updateQueue),Vn(h),null);case 4:return se(),c===null&&QA(h.stateNode.containerInfo),Vn(h),null;case 10:return ku(h.type),Vn(h),null;case 19:if(B(Oi),y=h.memoizedState,y===null)return Vn(h),null;if(T=(h.flags&128)!==0,N=y.rendering,N===null)if(T)hy(y,!1);else{if(wi!==0||c!==null&&(c.flags&128)!==0)for(c=h.child;c!==null;){if(N=kw(c),N!==null){for(h.flags|=128,hy(y,!1),c=N.updateQueue,h.updateQueue=c,Bw(h,c),h.subtreeFlags=0,c=p,p=h.child;p!==null;)UM(p,c),p=p.sibling;return q(Oi,Oi.current&1|2),_r&&Tu(h,y.treeForkCount),h.child}c=c.sibling}y.tail!==null&&Wt()>Hw&&(h.flags|=128,T=!0,hy(y,!1),h.lanes=4194304)}else{if(!T)if(c=kw(N),c!==null){if(h.flags|=128,T=!0,c=c.updateQueue,h.updateQueue=c,Bw(h,c),hy(y,!0),y.tail===null&&y.tailMode==="hidden"&&!N.alternate&&!_r)return Vn(h),null}else 2*Wt()-y.renderingStartTime>Hw&&p!==536870912&&(h.flags|=128,T=!0,hy(y,!1),h.lanes=4194304);y.isBackwards?(N.sibling=h.child,h.child=N):(c=y.last,c!==null?c.sibling=N:h.child=N,y.last=N)}return y.tail!==null?(c=y.tail,y.rendering=c,y.tail=c.sibling,y.renderingStartTime=Wt(),c.sibling=null,p=Oi.current,q(Oi,T?p&1|2:p&1),_r&&Tu(h,y.treeForkCount),c):(Vn(h),null);case 22:case 23:return Ao(h),Jk(),y=h.memoizedState!==null,c!==null?c.memoizedState!==null!==y&&(h.flags|=8192):y&&(h.flags|=8192),y?(p&536870912)!==0&&(h.flags&128)===0&&(Vn(h),h.subtreeFlags&6&&(h.flags|=8192)):Vn(h),p=h.updateQueue,p!==null&&Bw(h,p.retryQueue),p=null,c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),y=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(y=h.memoizedState.cachePool.pool),y!==p&&(h.flags|=2048),c!==null&&B(Hf),null;case 24:return p=null,c!==null&&(p=c.memoizedState.cache),h.memoizedState.cache!==p&&(h.flags|=2048),ku(Wi),Vn(h),null;case 25:return null;case 30:return null}throw Error(n(156,h.tag))}function Yde(c,h){switch(Lk(h),h.tag){case 1:return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 3:return ku(Wi),se(),c=h.flags,(c&65536)!==0&&(c&128)===0?(h.flags=c&-65537|128,h):null;case 26:case 27:case 5:return Ve(h),null;case 31:if(h.memoizedState!==null){if(Ao(h),h.alternate===null)throw Error(n(340));Uf()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 13:if(Ao(h),c=h.memoizedState,c!==null&&c.dehydrated!==null){if(h.alternate===null)throw Error(n(340));Uf()}return c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 19:return B(Oi),null;case 4:return se(),null;case 10:return ku(h.type),null;case 22:case 23:return Ao(h),Jk(),c!==null&&B(Hf),c=h.flags,c&65536?(h.flags=c&-65537|128,h):null;case 24:return ku(Wi),null;case 25:return null;default:return null}}function mL(c,h){switch(Lk(h),h.tag){case 3:ku(Wi),se();break;case 26:case 27:case 5:Ve(h);break;case 4:se();break;case 31:h.memoizedState!==null&&Ao(h);break;case 13:Ao(h);break;case 19:B(Oi);break;case 10:ku(h.type);break;case 22:case 23:Ao(h),Jk(),c!==null&&B(Hf);break;case 24:ku(Wi)}}function fy(c,h){try{var p=h.updateQueue,y=p!==null?p.lastEffect:null;if(y!==null){var T=y.next;p=T;do{if((p.tag&c)===c){y=void 0;var N=p.create,V=p.inst;y=N(),V.destroy=y}p=p.next}while(p!==T)}}catch(X){nn(h,h.return,X)}}function th(c,h,p){try{var y=h.updateQueue,T=y!==null?y.lastEffect:null;if(T!==null){var N=T.next;y=N;do{if((y.tag&c)===c){var V=y.inst,X=V.destroy;if(X!==void 0){V.destroy=void 0,T=h;var fe=p,ke=X;try{ke()}catch(Be){nn(T,fe,Be)}}}y=y.next}while(y!==N)}}catch(Be){nn(h,h.return,Be)}}function pL(c){var h=c.updateQueue;if(h!==null){var p=c.stateNode;try{s7(h,p)}catch(y){nn(c,c.return,y)}}}function gL(c,h,p){p.props=Yf(c.type,c.memoizedProps),p.state=c.memoizedState;try{p.componentWillUnmount()}catch(y){nn(c,h,y)}}function my(c,h){try{var p=c.ref;if(p!==null){switch(c.tag){case 26:case 27:case 5:var y=c.stateNode;break;case 30:y=c.stateNode;break;default:y=c.stateNode}typeof p=="function"?c.refCleanup=p(y):p.current=y}}catch(T){nn(c,h,T)}}function Mc(c,h){var p=c.ref,y=c.refCleanup;if(p!==null)if(typeof y=="function")try{y()}catch(T){nn(c,h,T)}finally{c.refCleanup=null,c=c.alternate,c!=null&&(c.refCleanup=null)}else if(typeof p=="function")try{p(null)}catch(T){nn(c,h,T)}else p.current=null}function vL(c){var h=c.type,p=c.memoizedProps,y=c.stateNode;try{e:switch(h){case"button":case"input":case"select":case"textarea":p.autoFocus&&y.focus();break e;case"img":p.src?y.src=p.src:p.srcSet&&(y.srcset=p.srcSet)}}catch(T){nn(c,c.return,T)}}function IA(c,h,p){try{var y=c.stateNode;vhe(y,c.type,p,h),y[ie]=h}catch(T){nn(c,c.return,T)}}function yL(c){return c.tag===5||c.tag===3||c.tag===26||c.tag===27&&lh(c.type)||c.tag===4}function OA(c){e:for(;;){for(;c.sibling===null;){if(c.return===null||yL(c.return))return null;c=c.return}for(c.sibling.return=c.return,c=c.sibling;c.tag!==5&&c.tag!==6&&c.tag!==18;){if(c.tag===27&&lh(c.type)||c.flags&2||c.child===null||c.tag===4)continue e;c.child.return=c,c=c.child}if(!(c.flags&2))return c.stateNode}}function RA(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?(p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p).insertBefore(c,h):(h=p.nodeType===9?p.body:p.nodeName==="HTML"?p.ownerDocument.body:p,h.appendChild(c),p=p._reactRootContainer,p!=null||h.onclick!==null||(h.onclick=Ja));else if(y!==4&&(y===27&&lh(c.type)&&(p=c.stateNode,h=null),c=c.child,c!==null))for(RA(c,h,p),c=c.sibling;c!==null;)RA(c,h,p),c=c.sibling}function Vw(c,h,p){var y=c.tag;if(y===5||y===6)c=c.stateNode,h?p.insertBefore(c,h):p.appendChild(c);else if(y!==4&&(y===27&&lh(c.type)&&(p=c.stateNode),c=c.child,c!==null))for(Vw(c,h,p),c=c.sibling;c!==null;)Vw(c,h,p),c=c.sibling}function xL(c){var h=c.stateNode,p=c.memoizedProps;try{for(var y=c.type,T=h.attributes;T.length;)h.removeAttributeNode(T[0]);Qs(h,y,p),h[ne]=c,h[ie]=p}catch(N){nn(c,c.return,N)}}var Ou=!1,Yi=!1,PA=!1,bL=typeof WeakSet=="function"?WeakSet:Set,ks=null;function Xde(c,h){if(c=c.containerInfo,eC=o_,c=RM(c),kk(c)){if("selectionStart"in c)var p={start:c.selectionStart,end:c.selectionEnd};else e:{p=(p=c.ownerDocument)&&p.defaultView||window;var y=p.getSelection&&p.getSelection();if(y&&y.rangeCount!==0){p=y.anchorNode;var T=y.anchorOffset,N=y.focusNode;y=y.focusOffset;try{p.nodeType,N.nodeType}catch{p=null;break e}var V=0,X=-1,fe=-1,ke=0,Be=0,ze=c,Ce=null;t:for(;;){for(var Pe;ze!==p||T!==0&&ze.nodeType!==3||(X=V+T),ze!==N||y!==0&&ze.nodeType!==3||(fe=V+y),ze.nodeType===3&&(V+=ze.nodeValue.length),(Pe=ze.firstChild)!==null;)Ce=ze,ze=Pe;for(;;){if(ze===c)break t;if(Ce===p&&++ke===T&&(X=V),Ce===N&&++Be===y&&(fe=V),(Pe=ze.nextSibling)!==null)break;ze=Ce,Ce=ze.parentNode}ze=Pe}p=X===-1||fe===-1?null:{start:X,end:fe}}else p=null}p=p||{start:0,end:0}}else p=null;for(tC={focusedElem:c,selectionRange:p},o_=!1,ks=h;ks!==null;)if(h=ks,c=h.child,(h.subtreeFlags&1028)!==0&&c!==null)c.return=h,ks=c;else for(;ks!==null;){switch(h=ks,N=h.alternate,c=h.flags,h.tag){case 0:if((c&4)!==0&&(c=h.updateQueue,c=c!==null?c.events:null,c!==null))for(p=0;p<c.length;p++)T=c[p],T.ref.impl=T.nextImpl;break;case 11:case 15:break;case 1:if((c&1024)!==0&&N!==null){c=void 0,p=h,T=N.memoizedProps,N=N.memoizedState,y=p.stateNode;try{var yt=Yf(p.type,T);c=y.getSnapshotBeforeUpdate(yt,N),y.__reactInternalSnapshotBeforeUpdate=c}catch(Rt){nn(p,p.return,Rt)}}break;case 3:if((c&1024)!==0){if(c=h.stateNode.containerInfo,p=c.nodeType,p===9)iC(c);else if(p===1)switch(c.nodeName){case"HEAD":case"HTML":case"BODY":iC(c);break;default:c.textContent=""}}break;case 5:case 26:case 27:case 6:case 4:case 17:break;default:if((c&1024)!==0)throw Error(n(163))}if(c=h.sibling,c!==null){c.return=h.return,ks=c;break}ks=h.return}}function wL(c,h,p){var y=p.flags;switch(p.tag){case 0:case 11:case 15:Pu(c,p),y&4&&fy(5,p);break;case 1:if(Pu(c,p),y&4)if(c=p.stateNode,h===null)try{c.componentDidMount()}catch(V){nn(p,p.return,V)}else{var T=Yf(p.type,h.memoizedProps);h=h.memoizedState;try{c.componentDidUpdate(T,h,c.__reactInternalSnapshotBeforeUpdate)}catch(V){nn(p,p.return,V)}}y&64&&pL(p),y&512&&my(p,p.return);break;case 3:if(Pu(c,p),y&64&&(c=p.updateQueue,c!==null)){if(h=null,p.child!==null)switch(p.child.tag){case 27:case 5:h=p.child.stateNode;break;case 1:h=p.child.stateNode}try{s7(c,h)}catch(V){nn(p,p.return,V)}}break;case 27:h===null&&y&4&&xL(p);case 26:case 5:Pu(c,p),h===null&&y&4&&vL(p),y&512&&my(p,p.return);break;case 12:Pu(c,p);break;case 31:Pu(c,p),y&4&&TL(c,p);break;case 13:Pu(c,p),y&4&&SL(c,p),y&64&&(c=p.memoizedState,c!==null&&(c=c.dehydrated,c!==null&&(p=she.bind(null,p),She(c,p))));break;case 22:if(y=p.memoizedState!==null||Ou,!y){h=h!==null&&h.memoizedState!==null||Yi,T=Ou;var N=Yi;Ou=y,(Yi=h)&&!N?ju(c,p,(p.subtreeFlags&8772)!==0):Pu(c,p),Ou=T,Yi=N}break;case 30:break;default:Pu(c,p)}}function _L(c){var h=c.alternate;h!==null&&(c.alternate=null,_L(h)),c.child=null,c.deletions=null,c.sibling=null,c.tag===5&&(h=c.stateNode,h!==null&&We(h)),c.stateNode=null,c.return=null,c.dependencies=null,c.memoizedProps=null,c.memoizedState=null,c.pendingProps=null,c.stateNode=null,c.updateQueue=null}var Qn=null,Za=!1;function Ru(c,h,p){for(p=p.child;p!==null;)EL(c,h,p),p=p.sibling}function EL(c,h,p){if(br&&typeof br.onCommitFiberUnmount=="function")try{br.onCommitFiberUnmount(rr,p)}catch{}switch(p.tag){case 26:Yi||Mc(p,h),Ru(c,h,p),p.memoizedState?p.memoizedState.count--:p.stateNode&&(p=p.stateNode,p.parentNode.removeChild(p));break;case 27:Yi||Mc(p,h);var y=Qn,T=Za;lh(p.type)&&(Qn=p.stateNode,Za=!1),Ru(c,h,p),Ey(p.stateNode),Qn=y,Za=T;break;case 5:Yi||Mc(p,h);case 6:if(y=Qn,T=Za,Qn=null,Ru(c,h,p),Qn=y,Za=T,Qn!==null)if(Za)try{(Qn.nodeType===9?Qn.body:Qn.nodeName==="HTML"?Qn.ownerDocument.body:Qn).removeChild(p.stateNode)}catch(N){nn(p,h,N)}else try{Qn.removeChild(p.stateNode)}catch(N){nn(p,h,N)}break;case 18:Qn!==null&&(Za?(c=Qn,p9(c.nodeType===9?c.body:c.nodeName==="HTML"?c.ownerDocument.body:c,p.stateNode),mp(c)):p9(Qn,p.stateNode));break;case 4:y=Qn,T=Za,Qn=p.stateNode.containerInfo,Za=!0,Ru(c,h,p),Qn=y,Za=T;break;case 0:case 11:case 14:case 15:th(2,p,h),Yi||th(4,p,h),Ru(c,h,p);break;case 1:Yi||(Mc(p,h),y=p.stateNode,typeof y.componentWillUnmount=="function"&&gL(p,h,y)),Ru(c,h,p);break;case 21:Ru(c,h,p);break;case 22:Yi=(y=Yi)||p.memoizedState!==null,Ru(c,h,p),Yi=y;break;default:Ru(c,h,p)}}function TL(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null))){c=c.dehydrated;try{mp(c)}catch(p){nn(h,h.return,p)}}}function SL(c,h){if(h.memoizedState===null&&(c=h.alternate,c!==null&&(c=c.memoizedState,c!==null&&(c=c.dehydrated,c!==null))))try{mp(c)}catch(p){nn(h,h.return,p)}}function Qde(c){switch(c.tag){case 31:case 13:case 19:var h=c.stateNode;return h===null&&(h=c.stateNode=new bL),h;case 22:return c=c.stateNode,h=c._retryCache,h===null&&(h=c._retryCache=new bL),h;default:throw Error(n(435,c.tag))}}function Uw(c,h){var p=Qde(c);h.forEach(function(y){if(!p.has(y)){p.add(y);var T=ahe.bind(null,c,y);y.then(T,T)}})}function eo(c,h){var p=h.deletions;if(p!==null)for(var y=0;y<p.length;y++){var T=p[y],N=c,V=h,X=V;e:for(;X!==null;){switch(X.tag){case 27:if(lh(X.type)){Qn=X.stateNode,Za=!1;break e}break;case 5:Qn=X.stateNode,Za=!1;break e;case 3:case 4:Qn=X.stateNode.containerInfo,Za=!0;break e}X=X.return}if(Qn===null)throw Error(n(160));EL(N,V,T),Qn=null,Za=!1,N=T.alternate,N!==null&&(N.return=null),T.return=null}if(h.subtreeFlags&13886)for(h=h.child;h!==null;)kL(h,c),h=h.sibling}var Hl=null;function kL(c,h){var p=c.alternate,y=c.flags;switch(c.tag){case 0:case 11:case 14:case 15:eo(h,c),to(c),y&4&&(th(3,c,c.return),fy(3,c),th(5,c,c.return));break;case 1:eo(h,c),to(c),y&512&&(Yi||p===null||Mc(p,p.return)),y&64&&Ou&&(c=c.updateQueue,c!==null&&(y=c.callbacks,y!==null&&(p=c.shared.hiddenCallbacks,c.shared.hiddenCallbacks=p===null?y:p.concat(y))));break;case 26:var T=Hl;if(eo(h,c),to(c),y&512&&(Yi||p===null||Mc(p,p.return)),y&4){var N=p!==null?p.memoizedState:null;if(y=c.memoizedState,p===null)if(y===null)if(c.stateNode===null){e:{y=c.type,p=c.memoizedProps,T=T.ownerDocument||T;t:switch(y){case"title":N=T.getElementsByTagName("title")[0],(!N||N[_e]||N[ne]||N.namespaceURI==="http://www.w3.org/2000/svg"||N.hasAttribute("itemprop"))&&(N=T.createElement(y),T.head.insertBefore(N,T.querySelector("head > title"))),Qs(N,y,p),N[ne]=c,pt(N),y=N;break e;case"link":var V=k9("link","href",T).get(y+(p.href||""));if(V){for(var X=0;X<V.length;X++)if(N=V[X],N.getAttribute("href")===(p.href==null||p.href===""?null:p.href)&&N.getAttribute("rel")===(p.rel==null?null:p.rel)&&N.getAttribute("title")===(p.title==null?null:p.title)&&N.getAttribute("crossorigin")===(p.crossOrigin==null?null:p.crossOrigin)){V.splice(X,1);break t}}N=T.createElement(y),Qs(N,y,p),T.head.appendChild(N);break;case"meta":if(V=k9("meta","content",T).get(y+(p.content||""))){for(X=0;X<V.length;X++)if(N=V[X],N.getAttribute("content")===(p.content==null?null:""+p.content)&&N.getAttribute("name")===(p.name==null?null:p.name)&&N.getAttribute("property")===(p.property==null?null:p.property)&&N.getAttribute("http-equiv")===(p.httpEquiv==null?null:p.httpEquiv)&&N.getAttribute("charset")===(p.charSet==null?null:p.charSet)){V.splice(X,1);break t}}N=T.createElement(y),Qs(N,y,p),T.head.appendChild(N);break;default:throw Error(n(468,y))}N[ne]=c,pt(N),y=N}c.stateNode=y}else A9(T,c.type,c.stateNode);else c.stateNode=S9(T,y,c.memoizedProps);else N!==y?(N===null?p.stateNode!==null&&(p=p.stateNode,p.parentNode.removeChild(p)):N.count--,y===null?A9(T,c.type,c.stateNode):S9(T,y,c.memoizedProps)):y===null&&c.stateNode!==null&&IA(c,c.memoizedProps,p.memoizedProps)}break;case 27:eo(h,c),to(c),y&512&&(Yi||p===null||Mc(p,p.return)),p!==null&&y&4&&IA(c,c.memoizedProps,p.memoizedProps);break;case 5:if(eo(h,c),to(c),y&512&&(Yi||p===null||Mc(p,p.return)),c.flags&32){T=c.stateNode;try{Fn(T,"")}catch(yt){nn(c,c.return,yt)}}y&4&&c.stateNode!=null&&(T=c.memoizedProps,IA(c,T,p!==null?p.memoizedProps:T)),y&1024&&(PA=!0);break;case 6:if(eo(h,c),to(c),y&4){if(c.stateNode===null)throw Error(n(162));y=c.memoizedProps,p=c.stateNode;try{p.nodeValue=y}catch(yt){nn(c,c.return,yt)}}break;case 3:if(n_=null,T=Hl,Hl=t_(h.containerInfo),eo(h,c),Hl=T,to(c),y&4&&p!==null&&p.memoizedState.isDehydrated)try{mp(h.containerInfo)}catch(yt){nn(c,c.return,yt)}PA&&(PA=!1,AL(c));break;case 4:y=Hl,Hl=t_(c.stateNode.containerInfo),eo(h,c),to(c),Hl=y;break;case 12:eo(h,c),to(c);break;case 31:eo(h,c),to(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Uw(c,y)));break;case 13:eo(h,c),to(c),c.child.flags&8192&&c.memoizedState!==null!=(p!==null&&p.memoizedState!==null)&&($w=Wt()),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Uw(c,y)));break;case 22:T=c.memoizedState!==null;var fe=p!==null&&p.memoizedState!==null,ke=Ou,Be=Yi;if(Ou=ke||T,Yi=Be||fe,eo(h,c),Yi=Be,Ou=ke,to(c),y&8192)e:for(h=c.stateNode,h._visibility=T?h._visibility&-2:h._visibility|1,T&&(p===null||fe||Ou||Yi||Xf(c)),p=null,h=c;;){if(h.tag===5||h.tag===26){if(p===null){fe=p=h;try{if(N=fe.stateNode,T)V=N.style,typeof V.setProperty=="function"?V.setProperty("display","none","important"):V.display="none";else{X=fe.stateNode;var ze=fe.memoizedProps.style,Ce=ze!=null&&ze.hasOwnProperty("display")?ze.display:null;X.style.display=Ce==null||typeof Ce=="boolean"?"":(""+Ce).trim()}}catch(yt){nn(fe,fe.return,yt)}}}else if(h.tag===6){if(p===null){fe=h;try{fe.stateNode.nodeValue=T?"":fe.memoizedProps}catch(yt){nn(fe,fe.return,yt)}}}else if(h.tag===18){if(p===null){fe=h;try{var Pe=fe.stateNode;T?g9(Pe,!0):g9(fe.stateNode,!1)}catch(yt){nn(fe,fe.return,yt)}}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===c)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===c)break e;for(;h.sibling===null;){if(h.return===null||h.return===c)break e;p===h&&(p=null),h=h.return}p===h&&(p=null),h.sibling.return=h.return,h=h.sibling}y&4&&(y=c.updateQueue,y!==null&&(p=y.retryQueue,p!==null&&(y.retryQueue=null,Uw(c,p))));break;case 19:eo(h,c),to(c),y&4&&(y=c.updateQueue,y!==null&&(c.updateQueue=null,Uw(c,y)));break;case 30:break;case 21:break;default:eo(h,c),to(c)}}function to(c){var h=c.flags;if(h&2){try{for(var p,y=c.return;y!==null;){if(yL(y)){p=y;break}y=y.return}if(p==null)throw Error(n(160));switch(p.tag){case 27:var T=p.stateNode,N=OA(c);Vw(c,N,T);break;case 5:var V=p.stateNode;p.flags&32&&(Fn(V,""),p.flags&=-33);var X=OA(c);Vw(c,X,V);break;case 3:case 4:var fe=p.stateNode.containerInfo,ke=OA(c);RA(c,ke,fe);break;default:throw Error(n(161))}}catch(Be){nn(c,c.return,Be)}c.flags&=-3}h&4096&&(c.flags&=-4097)}function AL(c){if(c.subtreeFlags&1024)for(c=c.child;c!==null;){var h=c;AL(h),h.tag===5&&h.flags&1024&&h.stateNode.reset(),c=c.sibling}}function Pu(c,h){if(h.subtreeFlags&8772)for(h=h.child;h!==null;)wL(c,h.alternate,h),h=h.sibling}function Xf(c){for(c=c.child;c!==null;){var h=c;switch(h.tag){case 0:case 11:case 14:case 15:th(4,h,h.return),Xf(h);break;case 1:Mc(h,h.return);var p=h.stateNode;typeof p.componentWillUnmount=="function"&&gL(h,h.return,p),Xf(h);break;case 27:Ey(h.stateNode);case 26:case 5:Mc(h,h.return),Xf(h);break;case 22:h.memoizedState===null&&Xf(h);break;case 30:Xf(h);break;default:Xf(h)}c=c.sibling}}function ju(c,h,p){for(p=p&&(h.subtreeFlags&8772)!==0,h=h.child;h!==null;){var y=h.alternate,T=c,N=h,V=N.flags;switch(N.tag){case 0:case 11:case 15:ju(T,N,p),fy(4,N);break;case 1:if(ju(T,N,p),y=N,T=y.stateNode,typeof T.componentDidMount=="function")try{T.componentDidMount()}catch(ke){nn(y,y.return,ke)}if(y=N,T=y.updateQueue,T!==null){var X=y.stateNode;try{var fe=T.shared.hiddenCallbacks;if(fe!==null)for(T.shared.hiddenCallbacks=null,T=0;T<fe.length;T++)i7(fe[T],X)}catch(ke){nn(y,y.return,ke)}}p&&V&64&&pL(N),my(N,N.return);break;case 27:xL(N);case 26:case 5:ju(T,N,p),p&&y===null&&V&4&&vL(N),my(N,N.return);break;case 12:ju(T,N,p);break;case 31:ju(T,N,p),p&&V&4&&TL(T,N);break;case 13:ju(T,N,p),p&&V&4&&SL(T,N);break;case 22:N.memoizedState===null&&ju(T,N,p),my(N,N.return);break;case 30:break;default:ju(T,N,p)}h=h.sibling}}function jA(c,h){var p=null;c!==null&&c.memoizedState!==null&&c.memoizedState.cachePool!==null&&(p=c.memoizedState.cachePool.pool),c=null,h.memoizedState!==null&&h.memoizedState.cachePool!==null&&(c=h.memoizedState.cachePool.pool),c!==p&&(c!=null&&c.refCount++,p!=null&&ey(p))}function DA(c,h){c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&ey(c))}function ql(c,h,p,y){if(h.subtreeFlags&10256)for(h=h.child;h!==null;)CL(c,h,p,y),h=h.sibling}function CL(c,h,p,y){var T=h.flags;switch(h.tag){case 0:case 11:case 15:ql(c,h,p,y),T&2048&&fy(9,h);break;case 1:ql(c,h,p,y);break;case 3:ql(c,h,p,y),T&2048&&(c=null,h.alternate!==null&&(c=h.alternate.memoizedState.cache),h=h.memoizedState.cache,h!==c&&(h.refCount++,c!=null&&ey(c)));break;case 12:if(T&2048){ql(c,h,p,y),c=h.stateNode;try{var N=h.memoizedProps,V=N.id,X=N.onPostCommit;typeof X=="function"&&X(V,h.alternate===null?"mount":"update",c.passiveEffectDuration,-0)}catch(fe){nn(h,h.return,fe)}}else ql(c,h,p,y);break;case 31:ql(c,h,p,y);break;case 13:ql(c,h,p,y);break;case 23:break;case 22:N=h.stateNode,V=h.alternate,h.memoizedState!==null?N._visibility&2?ql(c,h,p,y):py(c,h):N._visibility&2?ql(c,h,p,y):(N._visibility|=2,np(c,h,p,y,(h.subtreeFlags&10256)!==0||!1)),T&2048&&jA(V,h);break;case 24:ql(c,h,p,y),T&2048&&DA(h.alternate,h);break;default:ql(c,h,p,y)}}function np(c,h,p,y,T){for(T=T&&((h.subtreeFlags&10256)!==0||!1),h=h.child;h!==null;){var N=c,V=h,X=p,fe=y,ke=V.flags;switch(V.tag){case 0:case 11:case 15:np(N,V,X,fe,T),fy(8,V);break;case 23:break;case 22:var Be=V.stateNode;V.memoizedState!==null?Be._visibility&2?np(N,V,X,fe,T):py(N,V):(Be._visibility|=2,np(N,V,X,fe,T)),T&&ke&2048&&jA(V.alternate,V);break;case 24:np(N,V,X,fe,T),T&&ke&2048&&DA(V.alternate,V);break;default:np(N,V,X,fe,T)}h=h.sibling}}function py(c,h){if(h.subtreeFlags&10256)for(h=h.child;h!==null;){var p=c,y=h,T=y.flags;switch(y.tag){case 22:py(p,y),T&2048&&jA(y.alternate,y);break;case 24:py(p,y),T&2048&&DA(y.alternate,y);break;default:py(p,y)}h=h.sibling}}var gy=8192;function ip(c,h,p){if(c.subtreeFlags&gy)for(c=c.child;c!==null;)NL(c,h,p),c=c.sibling}function NL(c,h,p){switch(c.tag){case 26:ip(c,h,p),c.flags&gy&&c.memoizedState!==null&&Lhe(p,Hl,c.memoizedState,c.memoizedProps);break;case 5:ip(c,h,p);break;case 3:case 4:var y=Hl;Hl=t_(c.stateNode.containerInfo),ip(c,h,p),Hl=y;break;case 22:c.memoizedState===null&&(y=c.alternate,y!==null&&y.memoizedState!==null?(y=gy,gy=16777216,ip(c,h,p),gy=y):ip(c,h,p));break;default:ip(c,h,p)}}function IL(c){var h=c.alternate;if(h!==null&&(c=h.child,c!==null)){h.child=null;do h=c.sibling,c.sibling=null,c=h;while(c!==null)}}function vy(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];ks=y,RL(y,c)}IL(c)}if(c.subtreeFlags&10256)for(c=c.child;c!==null;)OL(c),c=c.sibling}function OL(c){switch(c.tag){case 0:case 11:case 15:vy(c),c.flags&2048&&th(9,c,c.return);break;case 3:vy(c);break;case 12:vy(c);break;case 22:var h=c.stateNode;c.memoizedState!==null&&h._visibility&2&&(c.return===null||c.return.tag!==13)?(h._visibility&=-3,zw(c)):vy(c);break;default:vy(c)}}function zw(c){var h=c.deletions;if((c.flags&16)!==0){if(h!==null)for(var p=0;p<h.length;p++){var y=h[p];ks=y,RL(y,c)}IL(c)}for(c=c.child;c!==null;){switch(h=c,h.tag){case 0:case 11:case 15:th(8,h,h.return),zw(h);break;case 22:p=h.stateNode,p._visibility&2&&(p._visibility&=-3,zw(h));break;default:zw(h)}c=c.sibling}}function RL(c,h){for(;ks!==null;){var p=ks;switch(p.tag){case 0:case 11:case 15:th(8,p,h);break;case 23:case 22:if(p.memoizedState!==null&&p.memoizedState.cachePool!==null){var y=p.memoizedState.cachePool.pool;y!=null&&y.refCount++}break;case 24:ey(p.memoizedState.cache)}if(y=p.child,y!==null)y.return=p,ks=y;else e:for(p=c;ks!==null;){y=ks;var T=y.sibling,N=y.return;if(_L(y),y===p){ks=null;break e}if(T!==null){T.return=N,ks=T;break e}ks=N}}}var Jde={getCacheForType:function(c){var h=Ys(Wi),p=h.data.get(c);return p===void 0&&(p=c(),h.data.set(c,p)),p},cacheSignal:function(){return Ys(Wi).controller.signal}},Zde=typeof WeakMap=="function"?WeakMap:Map,Ur=0,kn=null,hr=null,gr=0,rn=0,Co=null,rh=!1,sp=!1,MA=!1,Du=0,wi=0,nh=0,Qf=0,LA=0,No=0,ap=0,yy=null,ro=null,FA=!1,$w=0,PL=0,Hw=1/0,qw=null,ih=null,ds=0,sh=null,op=null,Mu=0,BA=0,VA=null,jL=null,xy=0,UA=null;function Io(){return(Ur&2)!==0&&gr!==0?gr&-gr:J.T!==null?GA():K()}function DL(){if(No===0)if((gr&536870912)===0||_r){var c=_o;_o<<=1,(_o&3932160)===0&&(_o=262144),No=c}else No=536870912;return c=ko.current,c!==null&&(c.flags|=32),No}function no(c,h,p){(c===kn&&(rn===2||rn===9)||c.cancelPendingCommit!==null)&&(lp(c,0),ah(c,gr,No,!1)),Zr(c,p),((Ur&2)===0||c!==kn)&&(c===kn&&((Ur&2)===0&&(Qf|=p),wi===4&&ah(c,gr,No,!1)),Lc(c))}function ML(c,h,p){if((Ur&6)!==0)throw Error(n(327));var y=!p&&(h&127)===0&&(h&c.expiredLanes)===0||wr(c,h),T=y?rhe(c,h):$A(c,h,!0),N=y;do{if(T===0){sp&&!y&&ah(c,h,0,!1);break}else{if(p=c.current.alternate,N&&!ehe(p)){T=$A(c,h,!1),N=!1;continue}if(T===2){if(N=h,c.errorRecoveryDisabledLanes&N)var V=0;else V=c.pendingLanes&-536870913,V=V!==0?V:V&536870912?536870912:0;if(V!==0){h=V;e:{var X=c;T=yy;var fe=X.current.memoizedState.isDehydrated;if(fe&&(lp(X,V).flags|=256),V=$A(X,V,!1),V!==2){if(MA&&!fe){X.errorRecoveryDisabledLanes|=N,Qf|=N,T=4;break e}N=ro,ro=T,N!==null&&(ro===null?ro=N:ro.push.apply(ro,N))}T=V}if(N=!1,T!==2)continue}}if(T===1){lp(c,0),ah(c,h,0,!0);break}e:{switch(y=c,N=T,N){case 0:case 1:throw Error(n(345));case 4:if((h&4194048)!==h)break;case 6:ah(y,h,No,!rh);break e;case 2:ro=null;break;case 3:case 5:break;default:throw Error(n(329))}if((h&62914560)===h&&(T=$w+300-Wt(),10<T)){if(ah(y,h,No,!rh),At(y,0,!0)!==0)break e;Mu=h,y.timeoutHandle=f9(LL.bind(null,y,p,ro,qw,FA,h,No,Qf,ap,rh,N,"Throttled",-0,0),T);break e}LL(y,p,ro,qw,FA,h,No,Qf,ap,rh,N,null,-0,0)}}break}while(!0);Lc(c)}function LL(c,h,p,y,T,N,V,X,fe,ke,Be,ze,Ce,Pe){if(c.timeoutHandle=-1,ze=h.subtreeFlags,ze&8192||(ze&16785408)===16785408){ze={stylesheets:null,count:0,imgCount:0,imgBytes:0,suspenseyImages:[],waitingForImages:!0,waitingForViewTransition:!1,unsuspend:Ja},NL(h,N,ze);var yt=(N&62914560)===N?$w-Wt():(N&4194048)===N?PL-Wt():0;if(yt=Fhe(ze,yt),yt!==null){Mu=N,c.cancelPendingCommit=yt(qL.bind(null,c,h,N,p,y,T,V,X,fe,Be,ze,null,Ce,Pe)),ah(c,N,V,!ke);return}}qL(c,h,N,p,y,T,V,X,fe)}function ehe(c){for(var h=c;;){var p=h.tag;if((p===0||p===11||p===15)&&h.flags&16384&&(p=h.updateQueue,p!==null&&(p=p.stores,p!==null)))for(var y=0;y<p.length;y++){var T=p[y],N=T.getSnapshot;T=T.value;try{if(!To(N(),T))return!1}catch{return!1}}if(p=h.child,h.subtreeFlags&16384&&p!==null)p.return=h,h=p;else{if(h===c)break;for(;h.sibling===null;){if(h.return===null||h.return===c)return!0;h=h.return}h.sibling.return=h.return,h=h.sibling}}return!0}function ah(c,h,p,y){h&=~LA,h&=~Qf,c.suspendedLanes|=h,c.pingedLanes&=~h,y&&(c.warmLanes|=h),y=c.expirationTimes;for(var T=h;0<T;){var N=31-Qr(T),V=1<<N;y[N]=-1,T&=~V}p!==0&&Es(c,p,h)}function Ww(){return(Ur&6)===0?(by(0),!1):!0}function zA(){if(hr!==null){if(rn===0)var c=hr.return;else c=hr,Su=zf=null,iA(c),Jm=null,ry=0,c=hr;for(;c!==null;)mL(c.alternate,c),c=c.return;hr=null}}function lp(c,h){var p=c.timeoutHandle;p!==-1&&(c.timeoutHandle=-1,bhe(p)),p=c.cancelPendingCommit,p!==null&&(c.cancelPendingCommit=null,p()),Mu=0,zA(),kn=c,hr=p=Eu(c.current,null),gr=h,rn=0,Co=null,rh=!1,sp=wr(c,h),MA=!1,ap=No=LA=Qf=nh=wi=0,ro=yy=null,FA=!1,(h&8)!==0&&(h|=h&32);var y=c.entangledLanes;if(y!==0)for(c=c.entanglements,y&=h;0<y;){var T=31-Qr(y),N=1<<T;h|=c[T],y&=~N}return Du=h,fw(),p}function FL(c,h){Zt=null,J.H=uy,h===Qm||h===ww?(h=e7(),rn=3):h===Wk?(h=e7(),rn=4):rn=h===bA?8:h!==null&&typeof h=="object"&&typeof h.then=="function"?6:1,Co=h,hr===null&&(wi=1,Dw(c,nl(h,c.current)))}function BL(){var c=ko.current;return c===null?!0:(gr&4194048)===gr?ol===null:(gr&62914560)===gr||(gr&536870912)!==0?c===ol:!1}function VL(){var c=J.H;return J.H=uy,c===null?uy:c}function UL(){var c=J.A;return J.A=Jde,c}function Gw(){wi=4,rh||(gr&4194048)!==gr&&ko.current!==null||(sp=!0),(nh&134217727)===0&&(Qf&134217727)===0||kn===null||ah(kn,gr,No,!1)}function $A(c,h,p){var y=Ur;Ur|=2;var T=VL(),N=UL();(kn!==c||gr!==h)&&(qw=null,lp(c,h)),h=!1;var V=wi;e:do try{if(rn!==0&&hr!==null){var X=hr,fe=Co;switch(rn){case 8:zA(),V=6;break e;case 3:case 2:case 9:case 6:ko.current===null&&(h=!0);var ke=rn;if(rn=0,Co=null,cp(c,X,fe,ke),p&&sp){V=0;break e}break;default:ke=rn,rn=0,Co=null,cp(c,X,fe,ke)}}the(),V=wi;break}catch(Be){FL(c,Be)}while(!0);return h&&c.shellSuspendCounter++,Su=zf=null,Ur=y,J.H=T,J.A=N,hr===null&&(kn=null,gr=0,fw()),V}function the(){for(;hr!==null;)zL(hr)}function rhe(c,h){var p=Ur;Ur|=2;var y=VL(),T=UL();kn!==c||gr!==h?(qw=null,Hw=Wt()+500,lp(c,h)):sp=wr(c,h);e:do try{if(rn!==0&&hr!==null){h=hr;var N=Co;t:switch(rn){case 1:rn=0,Co=null,cp(c,h,N,1);break;case 2:case 9:if(JM(N)){rn=0,Co=null,$L(h);break}h=function(){rn!==2&&rn!==9||kn!==c||(rn=7),Lc(c)},N.then(h,h);break e;case 3:rn=7;break e;case 4:rn=5;break e;case 7:JM(N)?(rn=0,Co=null,$L(h)):(rn=0,Co=null,cp(c,h,N,7));break;case 5:var V=null;switch(hr.tag){case 26:V=hr.memoizedState;case 5:case 27:var X=hr;if(V?C9(V):X.stateNode.complete){rn=0,Co=null;var fe=X.sibling;if(fe!==null)hr=fe;else{var ke=X.return;ke!==null?(hr=ke,Kw(ke)):hr=null}break t}}rn=0,Co=null,cp(c,h,N,5);break;case 6:rn=0,Co=null,cp(c,h,N,6);break;case 8:zA(),wi=6;break e;default:throw Error(n(462))}}nhe();break}catch(Be){FL(c,Be)}while(!0);return Su=zf=null,J.H=y,J.A=T,Ur=p,hr!==null?0:(kn=null,gr=0,fw(),wi)}function nhe(){for(;hr!==null&&!qr();)zL(hr)}function zL(c){var h=hL(c.alternate,c,Du);c.memoizedProps=c.pendingProps,h===null?Kw(c):hr=h}function $L(c){var h=c,p=h.alternate;switch(h.tag){case 15:case 0:h=aL(p,h,h.pendingProps,h.type,void 0,gr);break;case 11:h=aL(p,h,h.pendingProps,h.type.render,h.ref,gr);break;case 5:iA(h);default:mL(p,h),h=hr=UM(h,Du),h=hL(p,h,Du)}c.memoizedProps=c.pendingProps,h===null?Kw(c):hr=h}function cp(c,h,p,y){Su=zf=null,iA(h),Jm=null,ry=0;var T=h.return;try{if(qde(c,T,h,p,gr)){wi=1,Dw(c,nl(p,c.current)),hr=null;return}}catch(N){if(T!==null)throw hr=T,N;wi=1,Dw(c,nl(p,c.current)),hr=null;return}h.flags&32768?(_r||y===1?c=!0:sp||(gr&536870912)!==0?c=!1:(rh=c=!0,(y===2||y===9||y===3||y===6)&&(y=ko.current,y!==null&&y.tag===13&&(y.flags|=16384))),HL(h,c)):Kw(h)}function Kw(c){var h=c;do{if((h.flags&32768)!==0){HL(h,rh);return}c=h.return;var p=Kde(h.alternate,h,Du);if(p!==null){hr=p;return}if(h=h.sibling,h!==null){hr=h;return}hr=h=c}while(h!==null);wi===0&&(wi=5)}function HL(c,h){do{var p=Yde(c.alternate,c);if(p!==null){p.flags&=32767,hr=p;return}if(p=c.return,p!==null&&(p.flags|=32768,p.subtreeFlags=0,p.deletions=null),!h&&(c=c.sibling,c!==null)){hr=c;return}hr=c=p}while(c!==null);wi=6,hr=null}function qL(c,h,p,y,T,N,V,X,fe){c.cancelPendingCommit=null;do Yw();while(ds!==0);if((Ur&6)!==0)throw Error(n(327));if(h!==null){if(h===c.current)throw Error(n(177));if(N=h.lanes|h.childLanes,N|=Ok,$i(c,p,N,V,X,fe),c===kn&&(hr=kn=null,gr=0),op=h,sh=c,Mu=p,BA=N,VA=T,jL=y,(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?(c.callbackNode=null,c.callbackPriority=0,ohe(xe,function(){return XL(),null})):(c.callbackNode=null,c.callbackPriority=0),y=(h.flags&13878)!==0,(h.subtreeFlags&13878)!==0||y){y=J.T,J.T=null,T=Q.p,Q.p=2,V=Ur,Ur|=4;try{Xde(c,h,p)}finally{Ur=V,Q.p=T,J.T=y}}ds=1,WL(),GL(),KL()}}function WL(){if(ds===1){ds=0;var c=sh,h=op,p=(h.flags&13878)!==0;if((h.subtreeFlags&13878)!==0||p){p=J.T,J.T=null;var y=Q.p;Q.p=2;var T=Ur;Ur|=4;try{kL(h,c);var N=tC,V=RM(c.containerInfo),X=N.focusedElem,fe=N.selectionRange;if(V!==X&&X&&X.ownerDocument&&OM(X.ownerDocument.documentElement,X)){if(fe!==null&&kk(X)){var ke=fe.start,Be=fe.end;if(Be===void 0&&(Be=ke),"selectionStart"in X)X.selectionStart=ke,X.selectionEnd=Math.min(Be,X.value.length);else{var ze=X.ownerDocument||document,Ce=ze&&ze.defaultView||window;if(Ce.getSelection){var Pe=Ce.getSelection(),yt=X.textContent.length,Rt=Math.min(fe.start,yt),vn=fe.end===void 0?Rt:Math.min(fe.end,yt);!Pe.extend&&Rt>vn&&(V=vn,vn=Rt,Rt=V);var ye=IM(X,Rt),pe=IM(X,vn);if(ye&&pe&&(Pe.rangeCount!==1||Pe.anchorNode!==ye.node||Pe.anchorOffset!==ye.offset||Pe.focusNode!==pe.node||Pe.focusOffset!==pe.offset)){var Se=ze.createRange();Se.setStart(ye.node,ye.offset),Pe.removeAllRanges(),Rt>vn?(Pe.addRange(Se),Pe.extend(pe.node,pe.offset)):(Se.setEnd(pe.node,pe.offset),Pe.addRange(Se))}}}}for(ze=[],Pe=X;Pe=Pe.parentNode;)Pe.nodeType===1&&ze.push({element:Pe,left:Pe.scrollLeft,top:Pe.scrollTop});for(typeof X.focus=="function"&&X.focus(),X=0;X<ze.length;X++){var Ue=ze[X];Ue.element.scrollLeft=Ue.left,Ue.element.scrollTop=Ue.top}}o_=!!eC,tC=eC=null}finally{Ur=T,Q.p=y,J.T=p}}c.current=h,ds=2}}function GL(){if(ds===2){ds=0;var c=sh,h=op,p=(h.flags&8772)!==0;if((h.subtreeFlags&8772)!==0||p){p=J.T,J.T=null;var y=Q.p;Q.p=2;var T=Ur;Ur|=4;try{wL(c,h.alternate,h)}finally{Ur=T,Q.p=y,J.T=p}}ds=3}}function KL(){if(ds===4||ds===3){ds=0,Mr();var c=sh,h=op,p=Mu,y=jL;(h.subtreeFlags&10256)!==0||(h.flags&10256)!==0?ds=5:(ds=0,op=sh=null,YL(c,c.pendingLanes));var T=c.pendingLanes;if(T===0&&(ih=null),vi(p),h=h.stateNode,br&&typeof br.onCommitFiberRoot=="function")try{br.onCommitFiberRoot(rr,h,void 0,(h.current.flags&128)===128)}catch{}if(y!==null){h=J.T,T=Q.p,Q.p=2,J.T=null;try{for(var N=c.onRecoverableError,V=0;V<y.length;V++){var X=y[V];N(X.value,{componentStack:X.stack})}}finally{J.T=h,Q.p=T}}(Mu&3)!==0&&Yw(),Lc(c),T=c.pendingLanes,(p&261930)!==0&&(T&42)!==0?c===UA?xy++:(xy=0,UA=c):xy=0,by(0)}}function YL(c,h){(c.pooledCacheLanes&=h)===0&&(h=c.pooledCache,h!=null&&(c.pooledCache=null,ey(h)))}function Yw(){return WL(),GL(),KL(),XL()}function XL(){if(ds!==5)return!1;var c=sh,h=BA;BA=0;var p=vi(Mu),y=J.T,T=Q.p;try{Q.p=32>p?32:p,J.T=null,p=VA,VA=null;var N=sh,V=Mu;if(ds=0,op=sh=null,Mu=0,(Ur&6)!==0)throw Error(n(331));var X=Ur;if(Ur|=4,OL(N.current),CL(N,N.current,V,p),Ur=X,by(0,!1),br&&typeof br.onPostCommitFiberRoot=="function")try{br.onPostCommitFiberRoot(rr,N)}catch{}return!0}finally{Q.p=T,J.T=y,YL(c,h)}}function QL(c,h,p){h=nl(p,h),h=xA(c.stateNode,h,2),c=Jd(c,h,2),c!==null&&(Zr(c,2),Lc(c))}function nn(c,h,p){if(c.tag===3)QL(c,c,p);else for(;h!==null;){if(h.tag===3){QL(h,c,p);break}else if(h.tag===1){var y=h.stateNode;if(typeof h.type.getDerivedStateFromError=="function"||typeof y.componentDidCatch=="function"&&(ih===null||!ih.has(y))){c=nl(p,c),p=J7(2),y=Jd(h,p,2),y!==null&&(Z7(p,y,h,c),Zr(y,2),Lc(y));break}}h=h.return}}function HA(c,h,p){var y=c.pingCache;if(y===null){y=c.pingCache=new Zde;var T=new Set;y.set(h,T)}else T=y.get(h),T===void 0&&(T=new Set,y.set(h,T));T.has(p)||(MA=!0,T.add(p),c=ihe.bind(null,c,h,p),h.then(c,c))}function ihe(c,h,p){var y=c.pingCache;y!==null&&y.delete(h),c.pingedLanes|=c.suspendedLanes&p,c.warmLanes&=~p,kn===c&&(gr&p)===p&&(wi===4||wi===3&&(gr&62914560)===gr&&300>Wt()-$w?(Ur&2)===0&&lp(c,0):LA|=p,ap===gr&&(ap=0)),Lc(c)}function JL(c,h){h===0&&(h=si()),c=Bf(c,h),c!==null&&(Zr(c,h),Lc(c))}function she(c){var h=c.memoizedState,p=0;h!==null&&(p=h.retryLane),JL(c,p)}function ahe(c,h){var p=0;switch(c.tag){case 31:case 13:var y=c.stateNode,T=c.memoizedState;T!==null&&(p=T.retryLane);break;case 19:y=c.stateNode;break;case 22:y=c.stateNode._retryCache;break;default:throw Error(n(314))}y!==null&&y.delete(h),JL(c,p)}function ohe(c,h){return It(c,h)}var Xw=null,up=null,qA=!1,Qw=!1,WA=!1,oh=0;function Lc(c){c!==up&&c.next===null&&(up===null?Xw=up=c:up=up.next=c),Qw=!0,qA||(qA=!0,che())}function by(c,h){if(!WA&&Qw){WA=!0;do for(var p=!1,y=Xw;y!==null;){if(c!==0){var T=y.pendingLanes;if(T===0)var N=0;else{var V=y.suspendedLanes,X=y.pingedLanes;N=(1<<31-Qr(42|c)+1)-1,N&=T&~(V&~X),N=N&201326741?N&201326741|1:N?N|2:0}N!==0&&(p=!0,r9(y,N))}else N=gr,N=At(y,y===kn?N:0,y.cancelPendingCommit!==null||y.timeoutHandle!==-1),(N&3)===0||wr(y,N)||(p=!0,r9(y,N));y=y.next}while(p);WA=!1}}function lhe(){ZL()}function ZL(){Qw=qA=!1;var c=0;oh!==0&&xhe()&&(c=oh);for(var h=Wt(),p=null,y=Xw;y!==null;){var T=y.next,N=e9(y,h);N===0?(y.next=null,p===null?Xw=T:p.next=T,T===null&&(up=p)):(p=y,(c!==0||(N&3)!==0)&&(Qw=!0)),y=T}ds!==0&&ds!==5||by(c),oh!==0&&(oh=0)}function e9(c,h){for(var p=c.suspendedLanes,y=c.pingedLanes,T=c.expirationTimes,N=c.pendingLanes&-62914561;0<N;){var V=31-Qr(N),X=1<<V,fe=T[V];fe===-1?((X&p)===0||(X&y)!==0)&&(T[V]=In(X,h)):fe<=h&&(c.expiredLanes|=X),N&=~X}if(h=kn,p=gr,p=At(c,c===h?p:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y=c.callbackNode,p===0||c===h&&(rn===2||rn===9)||c.cancelPendingCommit!==null)return y!==null&&y!==null&&Xr(y),c.callbackNode=null,c.callbackPriority=0;if((p&3)===0||wr(c,p)){if(h=p&-p,h===c.callbackPriority)return h;switch(y!==null&&Xr(y),vi(p)){case 2:case 8:p=pi;break;case 32:p=xe;break;case 268435456:p=nt;break;default:p=xe}return y=t9.bind(null,c),p=It(p,y),c.callbackPriority=h,c.callbackNode=p,h}return y!==null&&y!==null&&Xr(y),c.callbackPriority=2,c.callbackNode=null,2}function t9(c,h){if(ds!==0&&ds!==5)return c.callbackNode=null,c.callbackPriority=0,null;var p=c.callbackNode;if(Yw()&&c.callbackNode!==p)return null;var y=gr;return y=At(c,c===kn?y:0,c.cancelPendingCommit!==null||c.timeoutHandle!==-1),y===0?null:(ML(c,y,h),e9(c,Wt()),c.callbackNode!=null&&c.callbackNode===p?t9.bind(null,c):null)}function r9(c,h){if(Yw())return null;ML(c,h,!0)}function che(){whe(function(){(Ur&6)!==0?It(Sn,lhe):ZL()})}function GA(){if(oh===0){var c=Ym;c===0&&(c=gi,gi<<=1,(gi&261888)===0&&(gi=256)),oh=c}return oh}function n9(c){return c==null||typeof c=="symbol"||typeof c=="boolean"?null:typeof c=="function"?c:xu(""+c)}function i9(c,h){var p=h.ownerDocument.createElement("input");return p.name=h.name,p.value=h.value,c.id&&p.setAttribute("form",c.id),h.parentNode.insertBefore(p,h),c=new FormData(c),p.parentNode.removeChild(p),c}function uhe(c,h,p,y,T){if(h==="submit"&&p&&p.stateNode===T){var N=n9((T[ie]||null).action),V=y.submitter;V&&(h=(h=V[ie]||null)?n9(h.formAction):V.getAttribute("formAction"),h!==null&&(N=h,V=null));var X=new Ic("action","action",null,y,T);c.push({event:X,listeners:[{instance:null,listener:function(){if(y.defaultPrevented){if(oh!==0){var fe=V?i9(T,V):new FormData(T);fA(p,{pending:!0,data:fe,method:T.method,action:N},null,fe)}}else typeof N=="function"&&(X.preventDefault(),fe=V?i9(T,V):new FormData(T),fA(p,{pending:!0,data:fe,method:T.method,action:N},N,fe))},currentTarget:T}]})}}for(var KA=0;KA<Ik.length;KA++){var YA=Ik[KA],dhe=YA.toLowerCase(),hhe=YA[0].toUpperCase()+YA.slice(1);$l(dhe,"on"+hhe)}$l(DM,"onAnimationEnd"),$l(MM,"onAnimationIteration"),$l(LM,"onAnimationStart"),$l("dblclick","onDoubleClick"),$l("focusin","onFocus"),$l("focusout","onBlur"),$l(Cde,"onTransitionRun"),$l(Nde,"onTransitionStart"),$l(Ide,"onTransitionCancel"),$l(FM,"onTransitionEnd"),Ts("onMouseEnter",["mouseout","mouseover"]),Ts("onMouseLeave",["mouseout","mouseover"]),Ts("onPointerEnter",["pointerout","pointerover"]),Ts("onPointerLeave",["pointerout","pointerover"]),tn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),tn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),tn("onBeforeInput",["compositionend","keypress","textInput","paste"]),tn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),tn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var wy="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),fhe=new Set("beforetoggle cancel close invalid load scroll scrollend toggle".split(" ").concat(wy));function s9(c,h){h=(h&4)!==0;for(var p=0;p<c.length;p++){var y=c[p],T=y.event;y=y.listeners;e:{var N=void 0;if(h)for(var V=y.length-1;0<=V;V--){var X=y[V],fe=X.instance,ke=X.currentTarget;if(X=X.listener,fe!==N&&T.isPropagationStopped())break e;N=X,T.currentTarget=ke;try{N(T)}catch(Be){hw(Be)}T.currentTarget=null,N=fe}else for(V=0;V<y.length;V++){if(X=y[V],fe=X.instance,ke=X.currentTarget,X=X.listener,fe!==N&&T.isPropagationStopped())break e;N=X,T.currentTarget=ke;try{N(T)}catch(Be){hw(Be)}T.currentTarget=null,N=fe}}}}function fr(c,h){var p=h[we];p===void 0&&(p=h[we]=new Set);var y=c+"__bubble";p.has(y)||(a9(h,c,2,!1),p.add(y))}function XA(c,h,p){var y=0;h&&(y|=4),a9(p,c,y,h)}var Jw="_reactListening"+Math.random().toString(36).slice(2);function QA(c){if(!c[Jw]){c[Jw]=!0,Lr.forEach(function(p){p!=="selectionchange"&&(fhe.has(p)||XA(p,!1,c),XA(p,!0,c))});var h=c.nodeType===9?c:c.ownerDocument;h===null||h[Jw]||(h[Jw]=!0,XA("selectionchange",!1,h))}}function a9(c,h,p,y){switch(D9(h)){case 2:var T=Uhe;break;case 8:T=zhe;break;default:T=hC}p=T.bind(null,h,p,c),T=void 0,!Of||h!=="touchstart"&&h!=="touchmove"&&h!=="wheel"||(T=!0),y?T!==void 0?c.addEventListener(h,p,{capture:!0,passive:T}):c.addEventListener(h,p,!0):T!==void 0?c.addEventListener(h,p,{passive:T}):c.addEventListener(h,p,!1)}function JA(c,h,p,y,T){var N=y;if((h&1)===0&&(h&2)===0&&y!==null)e:for(;;){if(y===null)return;var V=y.tag;if(V===3||V===4){var X=y.stateNode.containerInfo;if(X===T)break;if(V===4)for(V=y.return;V!==null;){var fe=V.tag;if((fe===3||fe===4)&&V.stateNode.containerInfo===T)return;V=V.return}for(;X!==null;){if(V=Xe(X),V===null)return;if(fe=V.tag,fe===5||fe===6||fe===26||fe===27){y=N=V;continue e}X=X.parentNode}}y=y.return}Gr(function(){var ke=N,Be=Oe(p),ze=[];e:{var Ce=BM.get(c);if(Ce!==void 0){var Pe=Ic,yt=c;switch(c){case"keypress":if(Pf(p)===0)break e;case"keydown":case"keyup":Pe=cw;break;case"focusin":yt="focus",Pe=Df;break;case"focusout":yt="blur",Pe=Df;break;case"beforeblur":case"afterblur":Pe=Df;break;case"click":if(p.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Pe=Wv;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Pe=ew;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Pe=F;break;case DM:case MM:case LM:Pe=rw;break;case FM:Pe=re;break;case"scroll":case"scrollend":Pe=qv;break;case"wheel":Pe=Re;break;case"copy":case"cut":case"paste":Pe=nw;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Pe=_u;break;case"toggle":case"beforetoggle":Pe=Jt}var Rt=(h&4)!==0,vn=!Rt&&(c==="scroll"||c==="scrollend"),ye=Rt?Ce!==null?Ce+"Capture":null:Ce;Rt=[];for(var pe=ke,Se;pe!==null;){var Ue=pe;if(Se=Ue.stateNode,Ue=Ue.tag,Ue!==5&&Ue!==26&&Ue!==27||Se===null||ye===null||(Ue=fn(pe,ye),Ue!=null&&Rt.push(_y(pe,Ue,Se))),vn)break;pe=pe.return}0<Rt.length&&(Ce=new Pe(Ce,yt,null,p,Be),ze.push({event:Ce,listeners:Rt}))}}if((h&7)===0){e:{if(Ce=c==="mouseover"||c==="pointerover",Pe=c==="mouseout"||c==="pointerout",Ce&&p!==te&&(yt=p.relatedTarget||p.fromElement)&&(Xe(yt)||yt[oe]))break e;if((Pe||Ce)&&(Ce=Be.window===Be?Be:(Ce=Be.ownerDocument)?Ce.defaultView||Ce.parentWindow:window,Pe?(yt=p.relatedTarget||p.toElement,Pe=ke,yt=yt?Xe(yt):null,yt!==null&&(vn=s(yt),Rt=yt.tag,yt!==vn||Rt!==5&&Rt!==27&&Rt!==6)&&(yt=null)):(Pe=null,yt=ke),Pe!==yt)){if(Rt=Wv,Ue="onMouseLeave",ye="onMouseEnter",pe="mouse",(c==="pointerout"||c==="pointerover")&&(Rt=_u,Ue="onPointerLeave",ye="onPointerEnter",pe="pointer"),vn=Pe==null?Ce:qe(Pe),Se=yt==null?Ce:qe(yt),Ce=new Rt(Ue,pe+"leave",Pe,p,Be),Ce.target=vn,Ce.relatedTarget=Se,Ue=null,Xe(Be)===ke&&(Rt=new Rt(ye,pe+"enter",yt,p,Be),Rt.target=Se,Rt.relatedTarget=vn,Ue=Rt),vn=Ue,Pe&&yt)t:{for(Rt=mhe,ye=Pe,pe=yt,Se=0,Ue=ye;Ue;Ue=Rt(Ue))Se++;Ue=0;for(var Ct=pe;Ct;Ct=Rt(Ct))Ue++;for(;0<Se-Ue;)ye=Rt(ye),Se--;for(;0<Ue-Se;)pe=Rt(pe),Ue--;for(;Se--;){if(ye===pe||pe!==null&&ye===pe.alternate){Rt=ye;break t}ye=Rt(ye),pe=Rt(pe)}Rt=null}else Rt=null;Pe!==null&&o9(ze,Ce,Pe,Rt,!1),yt!==null&&vn!==null&&o9(ze,vn,yt,Rt,!0)}}e:{if(Ce=ke?qe(ke):window,Pe=Ce.nodeName&&Ce.nodeName.toLowerCase(),Pe==="select"||Pe==="input"&&Ce.type==="file")var Nr=TM;else if(_M(Ce))if(SM)Nr=Sde;else{Nr=Ede;var _t=_de}else Pe=Ce.nodeName,!Pe||Pe.toLowerCase()!=="input"||Ce.type!=="checkbox"&&Ce.type!=="radio"?ke&&zd(ke.elementType)&&(Nr=TM):Nr=Tde;if(Nr&&(Nr=Nr(c,ke))){EM(ze,Nr,p,Be);break e}_t&&_t(c,Ce,ke),c==="focusout"&&ke&&Ce.type==="number"&&ke.memoizedProps.value!=null&&If(Ce,"number",Ce.value)}switch(_t=ke?qe(ke):window,c){case"focusin":(_M(_t)||_t.contentEditable==="true")&&(Um=_t,Ak=ke,Qv=null);break;case"focusout":Qv=Ak=Um=null;break;case"mousedown":Ck=!0;break;case"contextmenu":case"mouseup":case"dragend":Ck=!1,PM(ze,p,Be);break;case"selectionchange":if(Ade)break;case"keydown":case"keyup":PM(ze,p,Be)}var nr;if(Vr)e:{switch(c){case"compositionstart":var vr="onCompositionStart";break e;case"compositionend":vr="onCompositionEnd";break e;case"compositionupdate":vr="onCompositionUpdate";break e}vr=void 0}else Vm?Mf(c,p)&&(vr="onCompositionEnd"):c==="keydown"&&p.keyCode===229&&(vr="onCompositionStart");vr&&(Pc&&p.locale!=="ko"&&(Vm||vr!=="onCompositionStart"?vr==="onCompositionEnd"&&Vm&&(nr=Hv()):(Nc=Be,$v="value"in Nc?Nc.value:Nc.textContent,Vm=!0)),_t=Zw(ke,vr),0<_t.length&&(vr=new Rc(vr,c,null,p,Be),ze.push({event:vr,listeners:_t}),nr?vr.data=nr:(nr=Bm(p),nr!==null&&(vr.data=nr)))),(nr=tl?yde(c,p):xde(c,p))&&(vr=Zw(ke,"onBeforeInput"),0<vr.length&&(_t=new Rc("onBeforeInput","beforeinput",null,p,Be),ze.push({event:_t,listeners:vr}),_t.data=nr)),uhe(ze,c,ke,p,Be)}s9(ze,h)})}function _y(c,h,p){return{instance:c,listener:h,currentTarget:p}}function Zw(c,h){for(var p=h+"Capture",y=[];c!==null;){var T=c,N=T.stateNode;if(T=T.tag,T!==5&&T!==26&&T!==27||N===null||(T=fn(c,p),T!=null&&y.unshift(_y(c,T,N)),T=fn(c,h),T!=null&&y.push(_y(c,T,N))),c.tag===3)return y;c=c.return}return[]}function mhe(c){if(c===null)return null;do c=c.return;while(c&&c.tag!==5&&c.tag!==27);return c||null}function o9(c,h,p,y,T){for(var N=h._reactName,V=[];p!==null&&p!==y;){var X=p,fe=X.alternate,ke=X.stateNode;if(X=X.tag,fe!==null&&fe===y)break;X!==5&&X!==26&&X!==27||ke===null||(fe=ke,T?(ke=fn(p,N),ke!=null&&V.unshift(_y(p,ke,fe))):T||(ke=fn(p,N),ke!=null&&V.push(_y(p,ke,fe)))),p=p.return}V.length!==0&&c.push({event:h,listeners:V})}var phe=/\r\n?/g,ghe=/\u0000|\uFFFD/g;function l9(c){return(typeof c=="string"?c:""+c).replace(phe,`
`).replace(ghe,"")}function c9(c,h){return h=l9(h),l9(c)===h}function gn(c,h,p,y,T,N){switch(p){case"children":typeof y=="string"?h==="body"||h==="textarea"&&y===""||Fn(c,y):(typeof y=="number"||typeof y=="bigint")&&h!=="body"&&Fn(c,""+y);break;case"className":Ma(c,"class",y);break;case"tabIndex":Ma(c,"tabindex",y);break;case"dir":case"role":case"viewBox":case"width":case"height":Ma(c,p,y);break;case"style":Ud(c,y,N);break;case"data":if(h!=="object"){Ma(c,"data",y);break}case"src":case"href":if(y===""&&(h!=="a"||p!=="href")){c.removeAttribute(p);break}if(y==null||typeof y=="function"||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=xu(""+y),c.setAttribute(p,y);break;case"action":case"formAction":if(typeof y=="function"){c.setAttribute(p,"javascript:throw new Error('A React form was unexpectedly submitted. If you called form.submit() manually, consider using form.requestSubmit() instead. If you\\'re trying to use event.stopPropagation() in a submit event handler, consider also calling event.preventDefault().')");break}else typeof N=="function"&&(p==="formAction"?(h!=="input"&&gn(c,h,"name",T.name,T,null),gn(c,h,"formEncType",T.formEncType,T,null),gn(c,h,"formMethod",T.formMethod,T,null),gn(c,h,"formTarget",T.formTarget,T,null)):(gn(c,h,"encType",T.encType,T,null),gn(c,h,"method",T.method,T,null),gn(c,h,"target",T.target,T,null)));if(y==null||typeof y=="symbol"||typeof y=="boolean"){c.removeAttribute(p);break}y=xu(""+y),c.setAttribute(p,y);break;case"onClick":y!=null&&(c.onclick=Ja);break;case"onScroll":y!=null&&fr("scroll",c);break;case"onScrollEnd":y!=null&&fr("scrollend",c);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"multiple":c.multiple=y&&typeof y!="function"&&typeof y!="symbol";break;case"muted":c.muted=y&&typeof y!="function"&&typeof y!="symbol";break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"defaultValue":case"defaultChecked":case"innerHTML":case"ref":break;case"autoFocus":break;case"xlinkHref":if(y==null||typeof y=="function"||typeof y=="boolean"||typeof y=="symbol"){c.removeAttribute("xlink:href");break}p=xu(""+y),c.setAttributeNS("http://www.w3.org/1999/xlink","xlink:href",p);break;case"contentEditable":case"spellCheck":case"draggable":case"value":case"autoReverse":case"externalResourcesRequired":case"focusable":case"preserveAlpha":y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""+y):c.removeAttribute(p);break;case"inert":case"allowFullScreen":case"async":case"autoPlay":case"controls":case"default":case"defer":case"disabled":case"disablePictureInPicture":case"disableRemotePlayback":case"formNoValidate":case"hidden":case"loop":case"noModule":case"noValidate":case"open":case"playsInline":case"readOnly":case"required":case"reversed":case"scoped":case"seamless":case"itemScope":y&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,""):c.removeAttribute(p);break;case"capture":case"download":y===!0?c.setAttribute(p,""):y!==!1&&y!=null&&typeof y!="function"&&typeof y!="symbol"?c.setAttribute(p,y):c.removeAttribute(p);break;case"cols":case"rows":case"size":case"span":y!=null&&typeof y!="function"&&typeof y!="symbol"&&!isNaN(y)&&1<=y?c.setAttribute(p,y):c.removeAttribute(p);break;case"rowSpan":case"start":y==null||typeof y=="function"||typeof y=="symbol"||isNaN(y)?c.removeAttribute(p):c.setAttribute(p,y);break;case"popover":fr("beforetoggle",c),fr("toggle",c),yi(c,"popover",y);break;case"xlinkActuate":xi(c,"http://www.w3.org/1999/xlink","xlink:actuate",y);break;case"xlinkArcrole":xi(c,"http://www.w3.org/1999/xlink","xlink:arcrole",y);break;case"xlinkRole":xi(c,"http://www.w3.org/1999/xlink","xlink:role",y);break;case"xlinkShow":xi(c,"http://www.w3.org/1999/xlink","xlink:show",y);break;case"xlinkTitle":xi(c,"http://www.w3.org/1999/xlink","xlink:title",y);break;case"xlinkType":xi(c,"http://www.w3.org/1999/xlink","xlink:type",y);break;case"xmlBase":xi(c,"http://www.w3.org/XML/1998/namespace","xml:base",y);break;case"xmlLang":xi(c,"http://www.w3.org/XML/1998/namespace","xml:lang",y);break;case"xmlSpace":xi(c,"http://www.w3.org/XML/1998/namespace","xml:space",y);break;case"is":yi(c,"is",y);break;case"innerText":case"textContent":break;default:(!(2<p.length)||p[0]!=="o"&&p[0]!=="O"||p[1]!=="n"&&p[1]!=="N")&&(p=Dm.get(p)||p,yi(c,p,y))}}function ZA(c,h,p,y,T,N){switch(p){case"style":Ud(c,y,N);break;case"dangerouslySetInnerHTML":if(y!=null){if(typeof y!="object"||!("__html"in y))throw Error(n(61));if(p=y.__html,p!=null){if(T.children!=null)throw Error(n(60));c.innerHTML=p}}break;case"children":typeof y=="string"?Fn(c,y):(typeof y=="number"||typeof y=="bigint")&&Fn(c,""+y);break;case"onScroll":y!=null&&fr("scroll",c);break;case"onScrollEnd":y!=null&&fr("scrollend",c);break;case"onClick":y!=null&&(c.onclick=Ja);break;case"suppressContentEditableWarning":case"suppressHydrationWarning":case"innerHTML":case"ref":break;case"innerText":case"textContent":break;default:if(!Fr.hasOwnProperty(p))e:{if(p[0]==="o"&&p[1]==="n"&&(T=p.endsWith("Capture"),h=p.slice(2,T?p.length-7:void 0),N=c[ie]||null,N=N!=null?N[p]:null,typeof N=="function"&&c.removeEventListener(h,N,T),typeof y=="function")){typeof N!="function"&&N!==null&&(p in c?c[p]=null:c.hasAttribute(p)&&c.removeAttribute(p)),c.addEventListener(h,y,T);break e}p in c?c[p]=y:y===!0?c.setAttribute(p,""):yi(c,p,y)}}}function Qs(c,h,p){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"img":fr("error",c),fr("load",c);var y=!1,T=!1,N;for(N in p)if(p.hasOwnProperty(N)){var V=p[N];if(V!=null)switch(N){case"src":y=!0;break;case"srcSet":T=!0;break;case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:gn(c,h,N,V,p,null)}}T&&gn(c,h,"srcSet",p.srcSet,p,null),y&&gn(c,h,"src",p.src,p,null);return;case"input":fr("invalid",c);var X=N=V=T=null,fe=null,ke=null;for(y in p)if(p.hasOwnProperty(y)){var Be=p[y];if(Be!=null)switch(y){case"name":T=Be;break;case"type":V=Be;break;case"checked":fe=Be;break;case"defaultChecked":ke=Be;break;case"value":N=Be;break;case"defaultValue":X=Be;break;case"children":case"dangerouslySetInnerHTML":if(Be!=null)throw Error(n(137,h));break;default:gn(c,h,y,Be,p,null)}}Bd(c,N,X,fe,ke,V,T,!1);return;case"select":fr("invalid",c),y=V=N=null;for(T in p)if(p.hasOwnProperty(T)&&(X=p[T],X!=null))switch(T){case"value":N=X;break;case"defaultValue":V=X;break;case"multiple":y=X;default:gn(c,h,T,X,p,null)}h=N,p=V,c.multiple=!!y,h!=null?Fl(c,!!y,h,!1):p!=null&&Fl(c,!!y,p,!0);return;case"textarea":fr("invalid",c),N=T=y=null;for(V in p)if(p.hasOwnProperty(V)&&(X=p[V],X!=null))switch(V){case"value":y=X;break;case"defaultValue":T=X;break;case"children":N=X;break;case"dangerouslySetInnerHTML":if(X!=null)throw Error(n(91));break;default:gn(c,h,V,X,p,null)}Ac(c,y,T,N);return;case"option":for(fe in p)if(p.hasOwnProperty(fe)&&(y=p[fe],y!=null))switch(fe){case"selected":c.selected=y&&typeof y!="function"&&typeof y!="symbol";break;default:gn(c,h,fe,y,p,null)}return;case"dialog":fr("beforetoggle",c),fr("toggle",c),fr("cancel",c),fr("close",c);break;case"iframe":case"object":fr("load",c);break;case"video":case"audio":for(y=0;y<wy.length;y++)fr(wy[y],c);break;case"image":fr("error",c),fr("load",c);break;case"details":fr("toggle",c);break;case"embed":case"source":case"link":fr("error",c),fr("load",c);case"area":case"base":case"br":case"col":case"hr":case"keygen":case"meta":case"param":case"track":case"wbr":case"menuitem":for(ke in p)if(p.hasOwnProperty(ke)&&(y=p[ke],y!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":throw Error(n(137,h));default:gn(c,h,ke,y,p,null)}return;default:if(zd(h)){for(Be in p)p.hasOwnProperty(Be)&&(y=p[Be],y!==void 0&&ZA(c,h,Be,y,p,void 0));return}}for(X in p)p.hasOwnProperty(X)&&(y=p[X],y!=null&&gn(c,h,X,y,p,null))}function vhe(c,h,p,y){switch(h){case"div":case"span":case"svg":case"path":case"a":case"g":case"p":case"li":break;case"input":var T=null,N=null,V=null,X=null,fe=null,ke=null,Be=null;for(Pe in p){var ze=p[Pe];if(p.hasOwnProperty(Pe)&&ze!=null)switch(Pe){case"checked":break;case"value":break;case"defaultValue":fe=ze;default:y.hasOwnProperty(Pe)||gn(c,h,Pe,null,y,ze)}}for(var Ce in y){var Pe=y[Ce];if(ze=p[Ce],y.hasOwnProperty(Ce)&&(Pe!=null||ze!=null))switch(Ce){case"type":N=Pe;break;case"name":T=Pe;break;case"checked":ke=Pe;break;case"defaultChecked":Be=Pe;break;case"value":V=Pe;break;case"defaultValue":X=Pe;break;case"children":case"dangerouslySetInnerHTML":if(Pe!=null)throw Error(n(137,h));break;default:Pe!==ze&&gn(c,h,Ce,Pe,y,ze)}}Fd(c,V,X,fe,ke,Be,N,T);return;case"select":Pe=V=X=Ce=null;for(N in p)if(fe=p[N],p.hasOwnProperty(N)&&fe!=null)switch(N){case"value":break;case"multiple":Pe=fe;default:y.hasOwnProperty(N)||gn(c,h,N,null,y,fe)}for(T in y)if(N=y[T],fe=p[T],y.hasOwnProperty(T)&&(N!=null||fe!=null))switch(T){case"value":Ce=N;break;case"defaultValue":X=N;break;case"multiple":V=N;default:N!==fe&&gn(c,h,T,N,y,fe)}h=X,p=V,y=Pe,Ce!=null?Fl(c,!!p,Ce,!1):!!y!=!!p&&(h!=null?Fl(c,!!p,h,!0):Fl(c,!!p,p?[]:"",!1));return;case"textarea":Pe=Ce=null;for(X in p)if(T=p[X],p.hasOwnProperty(X)&&T!=null&&!y.hasOwnProperty(X))switch(X){case"value":break;case"children":break;default:gn(c,h,X,null,y,T)}for(V in y)if(T=y[V],N=p[V],y.hasOwnProperty(V)&&(T!=null||N!=null))switch(V){case"value":Ce=T;break;case"defaultValue":Pe=T;break;case"children":break;case"dangerouslySetInnerHTML":if(T!=null)throw Error(n(91));break;default:T!==N&&gn(c,h,V,T,y,N)}jm(c,Ce,Pe);return;case"option":for(var yt in p)if(Ce=p[yt],p.hasOwnProperty(yt)&&Ce!=null&&!y.hasOwnProperty(yt))switch(yt){case"selected":c.selected=!1;break;default:gn(c,h,yt,null,y,Ce)}for(fe in y)if(Ce=y[fe],Pe=p[fe],y.hasOwnProperty(fe)&&Ce!==Pe&&(Ce!=null||Pe!=null))switch(fe){case"selected":c.selected=Ce&&typeof Ce!="function"&&typeof Ce!="symbol";break;default:gn(c,h,fe,Ce,y,Pe)}return;case"img":case"link":case"area":case"base":case"br":case"col":case"embed":case"hr":case"keygen":case"meta":case"param":case"source":case"track":case"wbr":case"menuitem":for(var Rt in p)Ce=p[Rt],p.hasOwnProperty(Rt)&&Ce!=null&&!y.hasOwnProperty(Rt)&&gn(c,h,Rt,null,y,Ce);for(ke in y)if(Ce=y[ke],Pe=p[ke],y.hasOwnProperty(ke)&&Ce!==Pe&&(Ce!=null||Pe!=null))switch(ke){case"children":case"dangerouslySetInnerHTML":if(Ce!=null)throw Error(n(137,h));break;default:gn(c,h,ke,Ce,y,Pe)}return;default:if(zd(h)){for(var vn in p)Ce=p[vn],p.hasOwnProperty(vn)&&Ce!==void 0&&!y.hasOwnProperty(vn)&&ZA(c,h,vn,void 0,y,Ce);for(Be in y)Ce=y[Be],Pe=p[Be],!y.hasOwnProperty(Be)||Ce===Pe||Ce===void 0&&Pe===void 0||ZA(c,h,Be,Ce,y,Pe);return}}for(var ye in p)Ce=p[ye],p.hasOwnProperty(ye)&&Ce!=null&&!y.hasOwnProperty(ye)&&gn(c,h,ye,null,y,Ce);for(ze in y)Ce=y[ze],Pe=p[ze],!y.hasOwnProperty(ze)||Ce===Pe||Ce==null&&Pe==null||gn(c,h,ze,Ce,y,Pe)}function u9(c){switch(c){case"css":case"script":case"font":case"img":case"image":case"input":case"link":return!0;default:return!1}}function yhe(){if(typeof performance.getEntriesByType=="function"){for(var c=0,h=0,p=performance.getEntriesByType("resource"),y=0;y<p.length;y++){var T=p[y],N=T.transferSize,V=T.initiatorType,X=T.duration;if(N&&X&&u9(V)){for(V=0,X=T.responseEnd,y+=1;y<p.length;y++){var fe=p[y],ke=fe.startTime;if(ke>X)break;var Be=fe.transferSize,ze=fe.initiatorType;Be&&u9(ze)&&(fe=fe.responseEnd,V+=Be*(fe<X?1:(X-ke)/(fe-ke)))}if(--y,h+=8*(N+V)/(T.duration/1e3),c++,10<c)break}}if(0<c)return h/c/1e6}return navigator.connection&&(c=navigator.connection.downlink,typeof c=="number")?c:5}var eC=null,tC=null;function e_(c){return c.nodeType===9?c:c.ownerDocument}function d9(c){switch(c){case"http://www.w3.org/2000/svg":return 1;case"http://www.w3.org/1998/Math/MathML":return 2;default:return 0}}function h9(c,h){if(c===0)switch(h){case"svg":return 1;case"math":return 2;default:return 0}return c===1&&h==="foreignObject"?0:c}function rC(c,h){return c==="textarea"||c==="noscript"||typeof h.children=="string"||typeof h.children=="number"||typeof h.children=="bigint"||typeof h.dangerouslySetInnerHTML=="object"&&h.dangerouslySetInnerHTML!==null&&h.dangerouslySetInnerHTML.__html!=null}var nC=null;function xhe(){var c=window.event;return c&&c.type==="popstate"?c===nC?!1:(nC=c,!0):(nC=null,!1)}var f9=typeof setTimeout=="function"?setTimeout:void 0,bhe=typeof clearTimeout=="function"?clearTimeout:void 0,m9=typeof Promise=="function"?Promise:void 0,whe=typeof queueMicrotask=="function"?queueMicrotask:typeof m9<"u"?function(c){return m9.resolve(null).then(c).catch(_he)}:f9;function _he(c){setTimeout(function(){throw c})}function lh(c){return c==="head"}function p9(c,h){var p=h,y=0;do{var T=p.nextSibling;if(c.removeChild(p),T&&T.nodeType===8)if(p=T.data,p==="/$"||p==="/&"){if(y===0){c.removeChild(T),mp(h);return}y--}else if(p==="$"||p==="$?"||p==="$~"||p==="$!"||p==="&")y++;else if(p==="html")Ey(c.ownerDocument.documentElement);else if(p==="head"){p=c.ownerDocument.head,Ey(p);for(var N=p.firstChild;N;){var V=N.nextSibling,X=N.nodeName;N[_e]||X==="SCRIPT"||X==="STYLE"||X==="LINK"&&N.rel.toLowerCase()==="stylesheet"||p.removeChild(N),N=V}}else p==="body"&&Ey(c.ownerDocument.body);p=T}while(p);mp(h)}function g9(c,h){var p=c;c=0;do{var y=p.nextSibling;if(p.nodeType===1?h?(p._stashedDisplay=p.style.display,p.style.display="none"):(p.style.display=p._stashedDisplay||"",p.getAttribute("style")===""&&p.removeAttribute("style")):p.nodeType===3&&(h?(p._stashedText=p.nodeValue,p.nodeValue=""):p.nodeValue=p._stashedText||""),y&&y.nodeType===8)if(p=y.data,p==="/$"){if(c===0)break;c--}else p!=="$"&&p!=="$?"&&p!=="$~"&&p!=="$!"||c++;p=y}while(p)}function iC(c){var h=c.firstChild;for(h&&h.nodeType===10&&(h=h.nextSibling);h;){var p=h;switch(h=h.nextSibling,p.nodeName){case"HTML":case"HEAD":case"BODY":iC(p),We(p);continue;case"SCRIPT":case"STYLE":continue;case"LINK":if(p.rel.toLowerCase()==="stylesheet")continue}c.removeChild(p)}}function Ehe(c,h,p,y){for(;c.nodeType===1;){var T=p;if(c.nodeName.toLowerCase()!==h.toLowerCase()){if(!y&&(c.nodeName!=="INPUT"||c.type!=="hidden"))break}else if(y){if(!c[_e])switch(h){case"meta":if(!c.hasAttribute("itemprop"))break;return c;case"link":if(N=c.getAttribute("rel"),N==="stylesheet"&&c.hasAttribute("data-precedence"))break;if(N!==T.rel||c.getAttribute("href")!==(T.href==null||T.href===""?null:T.href)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin)||c.getAttribute("title")!==(T.title==null?null:T.title))break;return c;case"style":if(c.hasAttribute("data-precedence"))break;return c;case"script":if(N=c.getAttribute("src"),(N!==(T.src==null?null:T.src)||c.getAttribute("type")!==(T.type==null?null:T.type)||c.getAttribute("crossorigin")!==(T.crossOrigin==null?null:T.crossOrigin))&&N&&c.hasAttribute("async")&&!c.hasAttribute("itemprop"))break;return c;default:return c}}else if(h==="input"&&c.type==="hidden"){var N=T.name==null?null:""+T.name;if(T.type==="hidden"&&c.getAttribute("name")===N)return c}else return c;if(c=ll(c.nextSibling),c===null)break}return null}function The(c,h,p){if(h==="")return null;for(;c.nodeType!==3;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!p||(c=ll(c.nextSibling),c===null))return null;return c}function v9(c,h){for(;c.nodeType!==8;)if((c.nodeType!==1||c.nodeName!=="INPUT"||c.type!=="hidden")&&!h||(c=ll(c.nextSibling),c===null))return null;return c}function sC(c){return c.data==="$?"||c.data==="$~"}function aC(c){return c.data==="$!"||c.data==="$?"&&c.ownerDocument.readyState!=="loading"}function She(c,h){var p=c.ownerDocument;if(c.data==="$~")c._reactRetry=h;else if(c.data!=="$?"||p.readyState!=="loading")h();else{var y=function(){h(),p.removeEventListener("DOMContentLoaded",y)};p.addEventListener("DOMContentLoaded",y),c._reactRetry=y}}function ll(c){for(;c!=null;c=c.nextSibling){var h=c.nodeType;if(h===1||h===3)break;if(h===8){if(h=c.data,h==="$"||h==="$!"||h==="$?"||h==="$~"||h==="&"||h==="F!"||h==="F")break;if(h==="/$"||h==="/&")return null}}return c}var oC=null;function y9(c){c=c.nextSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="/$"||p==="/&"){if(h===0)return ll(c.nextSibling);h--}else p!=="$"&&p!=="$!"&&p!=="$?"&&p!=="$~"&&p!=="&"||h++}c=c.nextSibling}return null}function x9(c){c=c.previousSibling;for(var h=0;c;){if(c.nodeType===8){var p=c.data;if(p==="$"||p==="$!"||p==="$?"||p==="$~"||p==="&"){if(h===0)return c;h--}else p!=="/$"&&p!=="/&"||h++}c=c.previousSibling}return null}function b9(c,h,p){switch(h=e_(p),c){case"html":if(c=h.documentElement,!c)throw Error(n(452));return c;case"head":if(c=h.head,!c)throw Error(n(453));return c;case"body":if(c=h.body,!c)throw Error(n(454));return c;default:throw Error(n(451))}}function Ey(c){for(var h=c.attributes;h.length;)c.removeAttributeNode(h[0]);We(c)}var cl=new Map,w9=new Set;function t_(c){return typeof c.getRootNode=="function"?c.getRootNode():c.nodeType===9?c:c.ownerDocument}var Lu=Q.d;Q.d={f:khe,r:Ahe,D:Che,C:Nhe,L:Ihe,m:Ohe,X:Phe,S:Rhe,M:jhe};function khe(){var c=Lu.f(),h=Ww();return c||h}function Ahe(c){var h=lt(c);h!==null&&h.tag===5&&h.type==="form"?F7(h):Lu.r(c)}var dp=typeof document>"u"?null:document;function _9(c,h,p){var y=dp;if(y&&typeof h=="string"&&h){var T=ha(h);T='link[rel="'+c+'"][href="'+T+'"]',typeof p=="string"&&(T+='[crossorigin="'+p+'"]'),w9.has(T)||(w9.add(T),c={rel:c,crossOrigin:p,href:h},y.querySelector(T)===null&&(h=y.createElement("link"),Qs(h,"link",c),pt(h),y.head.appendChild(h)))}}function Che(c){Lu.D(c),_9("dns-prefetch",c,null)}function Nhe(c,h){Lu.C(c,h),_9("preconnect",c,h)}function Ihe(c,h,p){Lu.L(c,h,p);var y=dp;if(y&&c&&h){var T='link[rel="preload"][as="'+ha(h)+'"]';h==="image"&&p&&p.imageSrcSet?(T+='[imagesrcset="'+ha(p.imageSrcSet)+'"]',typeof p.imageSizes=="string"&&(T+='[imagesizes="'+ha(p.imageSizes)+'"]')):T+='[href="'+ha(c)+'"]';var N=T;switch(h){case"style":N=hp(c);break;case"script":N=fp(c)}cl.has(N)||(c=f({rel:"preload",href:h==="image"&&p&&p.imageSrcSet?void 0:c,as:h},p),cl.set(N,c),y.querySelector(T)!==null||h==="style"&&y.querySelector(Ty(N))||h==="script"&&y.querySelector(Sy(N))||(h=y.createElement("link"),Qs(h,"link",c),pt(h),y.head.appendChild(h)))}}function Ohe(c,h){Lu.m(c,h);var p=dp;if(p&&c){var y=h&&typeof h.as=="string"?h.as:"script",T='link[rel="modulepreload"][as="'+ha(y)+'"][href="'+ha(c)+'"]',N=T;switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":N=fp(c)}if(!cl.has(N)&&(c=f({rel:"modulepreload",href:c},h),cl.set(N,c),p.querySelector(T)===null)){switch(y){case"audioworklet":case"paintworklet":case"serviceworker":case"sharedworker":case"worker":case"script":if(p.querySelector(Sy(N)))return}y=p.createElement("link"),Qs(y,"link",c),pt(y),p.head.appendChild(y)}}}function Rhe(c,h,p){Lu.S(c,h,p);var y=dp;if(y&&c){var T=et(y).hoistableStyles,N=hp(c);h=h||"default";var V=T.get(N);if(!V){var X={loading:0,preload:null};if(V=y.querySelector(Ty(N)))X.loading=5;else{c=f({rel:"stylesheet",href:c,"data-precedence":h},p),(p=cl.get(N))&&lC(c,p);var fe=V=y.createElement("link");pt(fe),Qs(fe,"link",c),fe._p=new Promise(function(ke,Be){fe.onload=ke,fe.onerror=Be}),fe.addEventListener("load",function(){X.loading|=1}),fe.addEventListener("error",function(){X.loading|=2}),X.loading|=4,r_(V,h,y)}V={type:"stylesheet",instance:V,count:1,state:X},T.set(N,V)}}}function Phe(c,h){Lu.X(c,h);var p=dp;if(p&&c){var y=et(p).hoistableScripts,T=fp(c),N=y.get(T);N||(N=p.querySelector(Sy(T)),N||(c=f({src:c,async:!0},h),(h=cl.get(T))&&cC(c,h),N=p.createElement("script"),pt(N),Qs(N,"link",c),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(T,N))}}function jhe(c,h){Lu.M(c,h);var p=dp;if(p&&c){var y=et(p).hoistableScripts,T=fp(c),N=y.get(T);N||(N=p.querySelector(Sy(T)),N||(c=f({src:c,async:!0,type:"module"},h),(h=cl.get(T))&&cC(c,h),N=p.createElement("script"),pt(N),Qs(N,"link",c),p.head.appendChild(N)),N={type:"script",instance:N,count:1,state:null},y.set(T,N))}}function E9(c,h,p,y){var T=(T=de.current)?t_(T):null;if(!T)throw Error(n(446));switch(c){case"meta":case"title":return null;case"style":return typeof p.precedence=="string"&&typeof p.href=="string"?(h=hp(p.href),p=et(T).hoistableStyles,y=p.get(h),y||(y={type:"style",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};case"link":if(p.rel==="stylesheet"&&typeof p.href=="string"&&typeof p.precedence=="string"){c=hp(p.href);var N=et(T).hoistableStyles,V=N.get(c);if(V||(T=T.ownerDocument||T,V={type:"stylesheet",instance:null,count:0,state:{loading:0,preload:null}},N.set(c,V),(N=T.querySelector(Ty(c)))&&!N._p&&(V.instance=N,V.state.loading=5),cl.has(c)||(p={rel:"preload",as:"style",href:p.href,crossOrigin:p.crossOrigin,integrity:p.integrity,media:p.media,hrefLang:p.hrefLang,referrerPolicy:p.referrerPolicy},cl.set(c,p),N||Dhe(T,c,p,V.state))),h&&y===null)throw Error(n(528,""));return V}if(h&&y!==null)throw Error(n(529,""));return null;case"script":return h=p.async,p=p.src,typeof p=="string"&&h&&typeof h!="function"&&typeof h!="symbol"?(h=fp(p),p=et(T).hoistableScripts,y=p.get(h),y||(y={type:"script",instance:null,count:0,state:null},p.set(h,y)),y):{type:"void",instance:null,count:0,state:null};default:throw Error(n(444,c))}}function hp(c){return'href="'+ha(c)+'"'}function Ty(c){return'link[rel="stylesheet"]['+c+"]"}function T9(c){return f({},c,{"data-precedence":c.precedence,precedence:null})}function Dhe(c,h,p,y){c.querySelector('link[rel="preload"][as="style"]['+h+"]")?y.loading=1:(h=c.createElement("link"),y.preload=h,h.addEventListener("load",function(){return y.loading|=1}),h.addEventListener("error",function(){return y.loading|=2}),Qs(h,"link",p),pt(h),c.head.appendChild(h))}function fp(c){return'[src="'+ha(c)+'"]'}function Sy(c){return"script[async]"+c}function S9(c,h,p){if(h.count++,h.instance===null)switch(h.type){case"style":var y=c.querySelector('style[data-href~="'+ha(p.href)+'"]');if(y)return h.instance=y,pt(y),y;var T=f({},p,{"data-href":p.href,"data-precedence":p.precedence,href:null,precedence:null});return y=(c.ownerDocument||c).createElement("style"),pt(y),Qs(y,"style",T),r_(y,p.precedence,c),h.instance=y;case"stylesheet":T=hp(p.href);var N=c.querySelector(Ty(T));if(N)return h.state.loading|=4,h.instance=N,pt(N),N;y=T9(p),(T=cl.get(T))&&lC(y,T),N=(c.ownerDocument||c).createElement("link"),pt(N);var V=N;return V._p=new Promise(function(X,fe){V.onload=X,V.onerror=fe}),Qs(N,"link",y),h.state.loading|=4,r_(N,p.precedence,c),h.instance=N;case"script":return N=fp(p.src),(T=c.querySelector(Sy(N)))?(h.instance=T,pt(T),T):(y=p,(T=cl.get(N))&&(y=f({},p),cC(y,T)),c=c.ownerDocument||c,T=c.createElement("script"),pt(T),Qs(T,"link",y),c.head.appendChild(T),h.instance=T);case"void":return null;default:throw Error(n(443,h.type))}else h.type==="stylesheet"&&(h.state.loading&4)===0&&(y=h.instance,h.state.loading|=4,r_(y,p.precedence,c));return h.instance}function r_(c,h,p){for(var y=p.querySelectorAll('link[rel="stylesheet"][data-precedence],style[data-precedence]'),T=y.length?y[y.length-1]:null,N=T,V=0;V<y.length;V++){var X=y[V];if(X.dataset.precedence===h)N=X;else if(N!==T)break}N?N.parentNode.insertBefore(c,N.nextSibling):(h=p.nodeType===9?p.head:p,h.insertBefore(c,h.firstChild))}function lC(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.title==null&&(c.title=h.title)}function cC(c,h){c.crossOrigin==null&&(c.crossOrigin=h.crossOrigin),c.referrerPolicy==null&&(c.referrerPolicy=h.referrerPolicy),c.integrity==null&&(c.integrity=h.integrity)}var n_=null;function k9(c,h,p){if(n_===null){var y=new Map,T=n_=new Map;T.set(p,y)}else T=n_,y=T.get(p),y||(y=new Map,T.set(p,y));if(y.has(c))return y;for(y.set(c,null),p=p.getElementsByTagName(c),T=0;T<p.length;T++){var N=p[T];if(!(N[_e]||N[ne]||c==="link"&&N.getAttribute("rel")==="stylesheet")&&N.namespaceURI!=="http://www.w3.org/2000/svg"){var V=N.getAttribute(h)||"";V=c+V;var X=y.get(V);X?X.push(N):y.set(V,[N])}}return y}function A9(c,h,p){c=c.ownerDocument||c,c.head.insertBefore(p,h==="title"?c.querySelector("head > title"):null)}function Mhe(c,h,p){if(p===1||h.itemProp!=null)return!1;switch(c){case"meta":case"title":return!0;case"style":if(typeof h.precedence!="string"||typeof h.href!="string"||h.href==="")break;return!0;case"link":if(typeof h.rel!="string"||typeof h.href!="string"||h.href===""||h.onLoad||h.onError)break;switch(h.rel){case"stylesheet":return c=h.disabled,typeof h.precedence=="string"&&c==null;default:return!0}case"script":if(h.async&&typeof h.async!="function"&&typeof h.async!="symbol"&&!h.onLoad&&!h.onError&&h.src&&typeof h.src=="string")return!0}return!1}function C9(c){return!(c.type==="stylesheet"&&(c.state.loading&3)===0)}function Lhe(c,h,p,y){if(p.type==="stylesheet"&&(typeof y.media!="string"||matchMedia(y.media).matches!==!1)&&(p.state.loading&4)===0){if(p.instance===null){var T=hp(y.href),N=h.querySelector(Ty(T));if(N){h=N._p,h!==null&&typeof h=="object"&&typeof h.then=="function"&&(c.count++,c=i_.bind(c),h.then(c,c)),p.state.loading|=4,p.instance=N,pt(N);return}N=h.ownerDocument||h,y=T9(y),(T=cl.get(T))&&lC(y,T),N=N.createElement("link"),pt(N);var V=N;V._p=new Promise(function(X,fe){V.onload=X,V.onerror=fe}),Qs(N,"link",y),p.instance=N}c.stylesheets===null&&(c.stylesheets=new Map),c.stylesheets.set(p,h),(h=p.state.preload)&&(p.state.loading&3)===0&&(c.count++,p=i_.bind(c),h.addEventListener("load",p),h.addEventListener("error",p))}}var uC=0;function Fhe(c,h){return c.stylesheets&&c.count===0&&a_(c,c.stylesheets),0<c.count||0<c.imgCount?function(p){var y=setTimeout(function(){if(c.stylesheets&&a_(c,c.stylesheets),c.unsuspend){var N=c.unsuspend;c.unsuspend=null,N()}},6e4+h);0<c.imgBytes&&uC===0&&(uC=62500*yhe());var T=setTimeout(function(){if(c.waitingForImages=!1,c.count===0&&(c.stylesheets&&a_(c,c.stylesheets),c.unsuspend)){var N=c.unsuspend;c.unsuspend=null,N()}},(c.imgBytes>uC?50:800)+h);return c.unsuspend=p,function(){c.unsuspend=null,clearTimeout(y),clearTimeout(T)}}:null}function i_(){if(this.count--,this.count===0&&(this.imgCount===0||!this.waitingForImages)){if(this.stylesheets)a_(this,this.stylesheets);else if(this.unsuspend){var c=this.unsuspend;this.unsuspend=null,c()}}}var s_=null;function a_(c,h){c.stylesheets=null,c.unsuspend!==null&&(c.count++,s_=new Map,h.forEach(Bhe,c),s_=null,i_.call(c))}function Bhe(c,h){if(!(h.state.loading&4)){var p=s_.get(c);if(p)var y=p.get(null);else{p=new Map,s_.set(c,p);for(var T=c.querySelectorAll("link[data-precedence],style[data-precedence]"),N=0;N<T.length;N++){var V=T[N];(V.nodeName==="LINK"||V.getAttribute("media")!=="not all")&&(p.set(V.dataset.precedence,V),y=V)}y&&p.set(null,y)}T=h.instance,V=T.getAttribute("data-precedence"),N=p.get(V)||y,N===y&&p.set(null,T),p.set(V,T),this.count++,y=i_.bind(this),T.addEventListener("load",y),T.addEventListener("error",y),N?N.parentNode.insertBefore(T,N.nextSibling):(c=c.nodeType===9?c.head:c,c.insertBefore(T,c.firstChild)),h.state.loading|=4}}var ky={$$typeof:A,Provider:null,Consumer:null,_currentValue:he,_currentValue2:he,_threadCount:0};function Vhe(c,h,p,y,T,N,V,X,fe){this.tag=1,this.containerInfo=c,this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.next=this.pendingContext=this.context=this.cancelPendingCommit=null,this.callbackPriority=0,this.expirationTimes=ai(-1),this.entangledLanes=this.shellSuspendCounter=this.errorRecoveryDisabledLanes=this.expiredLanes=this.warmLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ai(0),this.hiddenUpdates=ai(null),this.identifierPrefix=y,this.onUncaughtError=T,this.onCaughtError=N,this.onRecoverableError=V,this.pooledCache=null,this.pooledCacheLanes=0,this.formState=fe,this.incompleteTransitions=new Map}function N9(c,h,p,y,T,N,V,X,fe,ke,Be,ze){return c=new Vhe(c,h,p,V,fe,ke,Be,ze,X),h=1,N===!0&&(h|=24),N=So(3,null,null,h),c.current=N,N.stateNode=c,h=$k(),h.refCount++,c.pooledCache=h,h.refCount++,N.memoizedState={element:y,isDehydrated:p,cache:h},Gk(N),c}function I9(c){return c?(c=Hm,c):Hm}function O9(c,h,p,y,T,N){T=I9(T),y.context===null?y.context=T:y.pendingContext=T,y=Qd(h),y.payload={element:p},N=N===void 0?null:N,N!==null&&(y.callback=N),p=Jd(c,y,h),p!==null&&(no(p,c,h),iy(p,c,h))}function R9(c,h){if(c=c.memoizedState,c!==null&&c.dehydrated!==null){var p=c.retryLane;c.retryLane=p!==0&&p<h?p:h}}function dC(c,h){R9(c,h),(c=c.alternate)&&R9(c,h)}function P9(c){if(c.tag===13||c.tag===31){var h=Bf(c,67108864);h!==null&&no(h,c,67108864),dC(c,67108864)}}function j9(c){if(c.tag===13||c.tag===31){var h=Io();h=Ws(h);var p=Bf(c,h);p!==null&&no(p,c,h),dC(c,h)}}var o_=!0;function Uhe(c,h,p,y){var T=J.T;J.T=null;var N=Q.p;try{Q.p=2,hC(c,h,p,y)}finally{Q.p=N,J.T=T}}function zhe(c,h,p,y){var T=J.T;J.T=null;var N=Q.p;try{Q.p=8,hC(c,h,p,y)}finally{Q.p=N,J.T=T}}function hC(c,h,p,y){if(o_){var T=fC(y);if(T===null)JA(c,h,y,l_,p),M9(c,y);else if(Hhe(T,c,h,p,y))y.stopPropagation();else if(M9(c,y),h&4&&-1<$he.indexOf(c)){for(;T!==null;){var N=lt(T);if(N!==null)switch(N.tag){case 3:if(N=N.stateNode,N.current.memoizedState.isDehydrated){var V=zi(N.pendingLanes);if(V!==0){var X=N;for(X.pendingLanes|=2,X.entangledLanes|=2;V;){var fe=1<<31-Qr(V);X.entanglements[1]|=fe,V&=~fe}Lc(N),(Ur&6)===0&&(Hw=Wt()+500,by(0))}}break;case 31:case 13:X=Bf(N,2),X!==null&&no(X,N,2),Ww(),dC(N,2)}if(N=fC(y),N===null&&JA(c,h,y,l_,p),N===T)break;T=N}T!==null&&y.stopPropagation()}else JA(c,h,y,null,p)}}function fC(c){return c=Oe(c),mC(c)}var l_=null;function mC(c){if(l_=null,c=Xe(c),c!==null){var h=s(c);if(h===null)c=null;else{var p=h.tag;if(p===13){if(c=a(h),c!==null)return c;c=null}else if(p===31){if(c=o(h),c!==null)return c;c=null}else if(p===3){if(h.stateNode.current.memoizedState.isDehydrated)return h.tag===3?h.stateNode.containerInfo:null;c=null}else h!==c&&(c=null)}}return l_=c,null}function D9(c){switch(c){case"beforetoggle":case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"toggle":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 2;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 8;case"message":switch(Tr()){case Sn:return 2;case pi:return 8;case xe:case Ke:return 32;case nt:return 268435456;default:return 32}default:return 32}}var pC=!1,ch=null,uh=null,dh=null,Ay=new Map,Cy=new Map,hh=[],$he="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset".split(" ");function M9(c,h){switch(c){case"focusin":case"focusout":ch=null;break;case"dragenter":case"dragleave":uh=null;break;case"mouseover":case"mouseout":dh=null;break;case"pointerover":case"pointerout":Ay.delete(h.pointerId);break;case"gotpointercapture":case"lostpointercapture":Cy.delete(h.pointerId)}}function Ny(c,h,p,y,T,N){return c===null||c.nativeEvent!==N?(c={blockedOn:h,domEventName:p,eventSystemFlags:y,nativeEvent:N,targetContainers:[T]},h!==null&&(h=lt(h),h!==null&&P9(h)),c):(c.eventSystemFlags|=y,h=c.targetContainers,T!==null&&h.indexOf(T)===-1&&h.push(T),c)}function Hhe(c,h,p,y,T){switch(h){case"focusin":return ch=Ny(ch,c,h,p,y,T),!0;case"dragenter":return uh=Ny(uh,c,h,p,y,T),!0;case"mouseover":return dh=Ny(dh,c,h,p,y,T),!0;case"pointerover":var N=T.pointerId;return Ay.set(N,Ny(Ay.get(N)||null,c,h,p,y,T)),!0;case"gotpointercapture":return N=T.pointerId,Cy.set(N,Ny(Cy.get(N)||null,c,h,p,y,T)),!0}return!1}function L9(c){var h=Xe(c.target);if(h!==null){var p=s(h);if(p!==null){if(h=p.tag,h===13){if(h=a(p),h!==null){c.blockedOn=h,ae(c.priority,function(){j9(p)});return}}else if(h===31){if(h=o(p),h!==null){c.blockedOn=h,ae(c.priority,function(){j9(p)});return}}else if(h===3&&p.stateNode.current.memoizedState.isDehydrated){c.blockedOn=p.tag===3?p.stateNode.containerInfo:null;return}}}c.blockedOn=null}function c_(c){if(c.blockedOn!==null)return!1;for(var h=c.targetContainers;0<h.length;){var p=fC(c.nativeEvent);if(p===null){p=c.nativeEvent;var y=new p.constructor(p.type,p);te=y,p.target.dispatchEvent(y),te=null}else return h=lt(p),h!==null&&P9(h),c.blockedOn=p,!1;h.shift()}return!0}function F9(c,h,p){c_(c)&&p.delete(h)}function qhe(){pC=!1,ch!==null&&c_(ch)&&(ch=null),uh!==null&&c_(uh)&&(uh=null),dh!==null&&c_(dh)&&(dh=null),Ay.forEach(F9),Cy.forEach(F9)}function u_(c,h){c.blockedOn===h&&(c.blockedOn=null,pC||(pC=!0,t.unstable_scheduleCallback(t.unstable_NormalPriority,qhe)))}var d_=null;function B9(c){d_!==c&&(d_=c,t.unstable_scheduleCallback(t.unstable_NormalPriority,function(){d_===c&&(d_=null);for(var h=0;h<c.length;h+=3){var p=c[h],y=c[h+1],T=c[h+2];if(typeof y!="function"){if(mC(y||p)===null)continue;break}var N=lt(p);N!==null&&(c.splice(h,3),h-=3,fA(N,{pending:!0,data:T,method:p.method,action:y},y,T))}}))}function mp(c){function h(fe){return u_(fe,c)}ch!==null&&u_(ch,c),uh!==null&&u_(uh,c),dh!==null&&u_(dh,c),Ay.forEach(h),Cy.forEach(h);for(var p=0;p<hh.length;p++){var y=hh[p];y.blockedOn===c&&(y.blockedOn=null)}for(;0<hh.length&&(p=hh[0],p.blockedOn===null);)L9(p),p.blockedOn===null&&hh.shift();if(p=(c.ownerDocument||c).$$reactFormReplay,p!=null)for(y=0;y<p.length;y+=3){var T=p[y],N=p[y+1],V=T[ie]||null;if(typeof N=="function")V||B9(p);else if(V){var X=null;if(N&&N.hasAttribute("formAction")){if(T=N,V=N[ie]||null)X=V.formAction;else if(mC(T)!==null)continue}else X=V.action;typeof X=="function"?p[y+1]=X:(p.splice(y,3),y-=3),B9(p)}}}function V9(){function c(N){N.canIntercept&&N.info==="react-transition"&&N.intercept({handler:function(){return new Promise(function(V){return T=V})},focusReset:"manual",scroll:"manual"})}function h(){T!==null&&(T(),T=null),y||setTimeout(p,20)}function p(){if(!y&&!navigation.transition){var N=navigation.currentEntry;N&&N.url!=null&&navigation.navigate(N.url,{state:N.getState(),info:"react-transition",history:"replace"})}}if(typeof navigation=="object"){var y=!1,T=null;return navigation.addEventListener("navigate",c),navigation.addEventListener("navigatesuccess",h),navigation.addEventListener("navigateerror",h),setTimeout(p,100),function(){y=!0,navigation.removeEventListener("navigate",c),navigation.removeEventListener("navigatesuccess",h),navigation.removeEventListener("navigateerror",h),T!==null&&(T(),T=null)}}}function gC(c){this._internalRoot=c}h_.prototype.render=gC.prototype.render=function(c){var h=this._internalRoot;if(h===null)throw Error(n(409));var p=h.current,y=Io();O9(p,y,c,h,null,null)},h_.prototype.unmount=gC.prototype.unmount=function(){var c=this._internalRoot;if(c!==null){this._internalRoot=null;var h=c.containerInfo;O9(c.current,2,null,c,null,null),Ww(),h[oe]=null}};function h_(c){this._internalRoot=c}h_.prototype.unstable_scheduleHydration=function(c){if(c){var h=K();c={blockedOn:null,target:c,priority:h};for(var p=0;p<hh.length&&h!==0&&h<hh[p].priority;p++);hh.splice(p,0,c),p===0&&L9(c)}};var U9=e.version;if(U9!=="19.2.0")throw Error(n(527,U9,"19.2.0"));Q.findDOMNode=function(c){var h=c._reactInternals;if(h===void 0)throw typeof c.render=="function"?Error(n(188)):(c=Object.keys(c).join(","),Error(n(268,c)));return c=u(h),c=c!==null?d(c):null,c=c===null?null:c.stateNode,c};var Whe={bundleType:0,version:"19.2.0",rendererPackageName:"react-dom",currentDispatcherRef:J,reconcilerVersion:"19.2.0"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var f_=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!f_.isDisabled&&f_.supportsFiber)try{rr=f_.inject(Whe),br=f_}catch{}}return Oy.createRoot=function(c,h){if(!i(c))throw Error(n(299));var p=!1,y="",T=K7,N=Y7,V=X7;return h!=null&&(h.unstable_strictMode===!0&&(p=!0),h.identifierPrefix!==void 0&&(y=h.identifierPrefix),h.onUncaughtError!==void 0&&(T=h.onUncaughtError),h.onCaughtError!==void 0&&(N=h.onCaughtError),h.onRecoverableError!==void 0&&(V=h.onRecoverableError)),h=N9(c,1,!1,null,null,p,y,null,T,N,V,V9),c[oe]=h.current,QA(c),new gC(h)},Oy.hydrateRoot=function(c,h,p){if(!i(c))throw Error(n(299));var y=!1,T="",N=K7,V=Y7,X=X7,fe=null;return p!=null&&(p.unstable_strictMode===!0&&(y=!0),p.identifierPrefix!==void 0&&(T=p.identifierPrefix),p.onUncaughtError!==void 0&&(N=p.onUncaughtError),p.onCaughtError!==void 0&&(V=p.onCaughtError),p.onRecoverableError!==void 0&&(X=p.onRecoverableError),p.formState!==void 0&&(fe=p.formState)),h=N9(c,1,!0,h,p??null,y,T,fe,N,V,X,V9),h.context=I9(null),p=h.current,y=Io(),y=Ws(y),T=Qd(y),T.callback=null,Jd(p,T,y),p=y,h.current.lanes=p,Zr(h,p),Lc(h),c[oe]=h.current,QA(c),new h_(h)},Oy.version="19.2.0",Oy}var Q9;function ife(){if(Q9)return bC.exports;Q9=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),bC.exports=nfe(),bC.exports}var sfe=ife();const afe=Jo(sfe);var Ql=bY();const wY=Jo(Ql);/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function j1(){return j1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j1.apply(this,arguments)}var Ah;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ah||(Ah={}));const J9="popstate";function ofe(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return C5("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:_Y(i)}return cfe(e,r,null,t)}function os(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function NO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function lfe(){return Math.random().toString(36).substr(2,8)}function Z9(t,e){return{usr:t.state,key:t.key,idx:e}}function C5(t,e,r,n){return r===void 0&&(r=null),j1({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?rv(e):e,{state:r,key:e&&e.key||n||lfe()})}function _Y(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function rv(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function cfe(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ah.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(j1({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function f(){o=Ah.Pop;let w=d(),E=w==null?null:w-u;u=w,l&&l({action:o,location:b.location,delta:E})}function g(w,E){o=Ah.Push;let k=C5(b.location,w,E);u=d()+1;let A=Z9(k,u),O=b.createHref(k);try{a.pushState(A,"",O)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;i.location.assign(O)}s&&l&&l({action:o,location:b.location,delta:1})}function v(w,E){o=Ah.Replace;let k=C5(b.location,w,E);u=d();let A=Z9(k,u),O=b.createHref(k);a.replaceState(A,"",O),s&&l&&l({action:o,location:b.location,delta:0})}function x(w){let E=i.location.origin!=="null"?i.location.origin:i.location.href,k=typeof w=="string"?w:_Y(w);return k=k.replace(/ $/,"%20"),os(E,"No window.location.(origin|href) available to create URL for href: "+k),new URL(k,E)}let b={get action(){return o},get location(){return t(i,a)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(J9,f),l=w,()=>{i.removeEventListener(J9,f),l=null}},createHref(w){return e(i,w)},createURL:x,encodeLocation(w){let E=x(w);return{pathname:E.pathname,search:E.search,hash:E.hash}},push:g,replace:v,go(w){return a.go(w)}};return b}var eF;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eF||(eF={}));function ufe(t,e,r){return r===void 0&&(r="/"),dfe(t,e,r)}function dfe(t,e,r,n){let i=typeof e=="string"?rv(e):e,s=SY(i.pathname||"/",r);if(s==null)return null;let a=EY(t);hfe(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=Tfe(s);o=wfe(a[l],u)}return o}function EY(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(os(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=k0([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(os(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),EY(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:xfe(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of TY(s.path))i(s,a,l)}),e}function TY(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=TY(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function hfe(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:bfe(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ffe=/^:[\w-]+$/,mfe=3,pfe=2,gfe=1,vfe=10,yfe=-2,tF=t=>t==="*";function xfe(t,e){let r=t.split("/"),n=r.length;return r.some(tF)&&(n+=yfe),e&&(n+=pfe),r.filter(i=>!tF(i)).reduce((i,s)=>i+(ffe.test(s)?mfe:s===""?gfe:vfe),n)}function bfe(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function wfe(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",f=_fe({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),g=l.route;if(!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:k0([s,f.pathname]),pathnameBase:Nfe(k0([s,f.pathnameBase])),route:g}),f.pathnameBase!=="/"&&(s=k0([s,f.pathnameBase]))}return a}function _fe(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=Efe(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,f)=>{let{paramName:g,isOptional:v}=d;if(g==="*"){let b=o[f]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const x=o[f];return v&&!x?u[g]=void 0:u[g]=(x||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function Efe(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),NO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function Tfe(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return NO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function SY(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const Sfe=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,kfe=t=>Sfe.test(t);function Afe(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?rv(t):t,s;if(r)if(kfe(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),NO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=rF(r.substring(1),"/"):s=rF(r,e)}else s=e;return{pathname:s,search:Ife(n),hash:Ofe(i)}}function rF(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function TC(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Cfe(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function kY(t,e){let r=Cfe(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function AY(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=rv(t):(i=j1({},t),os(!i.pathname||!i.pathname.includes("?"),TC("?","pathname","search",i)),os(!i.pathname||!i.pathname.includes("#"),TC("#","pathname","hash",i)),os(!i.search||!i.search.includes("#"),TC("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let f=e.length-1;if(!n&&a.startsWith("..")){let g=a.split("/");for(;g[0]==="..";)g.shift(),f-=1;i.pathname=g.join("/")}o=f>=0?e[f]:"/"}let l=Afe(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const k0=t=>t.join("/").replace(/\/\/+/g,"/"),Nfe=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Ife=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Ofe=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Rfe(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const CY=["post","put","patch","delete"];new Set(CY);const Pfe=["get",...CY];new Set(Pfe);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function D1(){return D1=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},D1.apply(this,arguments)}const IO=C.createContext(null),jfe=C.createContext(null),Hx=C.createContext(null),lS=C.createContext(null),hf=C.createContext({outlet:null,matches:[],isDataRoute:!1}),NY=C.createContext(null);function qx(){return C.useContext(lS)!=null}function cS(){return qx()||os(!1),C.useContext(lS).location}function IY(t){C.useContext(Hx).static||C.useLayoutEffect(t)}function uS(){let{isDataRoute:t}=C.useContext(hf);return t?Kfe():Dfe()}function Dfe(){qx()||os(!1);let t=C.useContext(IO),{basename:e,future:r,navigator:n}=C.useContext(Hx),{matches:i}=C.useContext(hf),{pathname:s}=cS(),a=JSON.stringify(kY(i,r.v7_relativeSplatPath)),o=C.useRef(!1);return IY(()=>{o.current=!0}),C.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let f=AY(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:k0([e,f.pathname])),(d.replace?n.replace:n.push)(f,d.state,d)},[e,n,a,s,t])}function Mfe(){let{matches:t}=C.useContext(hf),e=t[t.length-1];return e?e.params:{}}function Lfe(t,e){return Ffe(t,e)}function Ffe(t,e,r,n){qx()||os(!1);let{navigator:i}=C.useContext(Hx),{matches:s}=C.useContext(hf),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=cS(),d;if(e){var f;let w=typeof e=="string"?rv(e):e;l==="/"||(f=w.pathname)!=null&&f.startsWith(l)||os(!1),d=w}else d=u;let g=d.pathname||"/",v=g;if(l!=="/"){let w=l.replace(/^\//,"").split("/");v="/"+g.replace(/^\//,"").split("/").slice(w.length).join("/")}let x=ufe(t,{pathname:v}),b=$fe(x&&x.map(w=>Object.assign({},w,{params:Object.assign({},o,w.params),pathname:k0([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:k0([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&b?C.createElement(lS.Provider,{value:{location:D1({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ah.Pop}},b):b}function Bfe(){let t=Gfe(),e=Rfe(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return C.createElement(C.Fragment,null,C.createElement("h2",null,"Unexpected Application Error!"),C.createElement("h3",{style:{fontStyle:"italic"}},e),r?C.createElement("pre",{style:i},r):null,null)}const Vfe=C.createElement(Bfe,null);class Ufe extends C.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?C.createElement(hf.Provider,{value:this.props.routeContext},C.createElement(NY.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function zfe(t){let{routeContext:e,match:r,children:n}=t,i=C.useContext(IO);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),C.createElement(hf.Provider,{value:e},n)}function $fe(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);d>=0||os(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let f=a[d];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(u=d),f.route.id){let{loaderData:g,errors:v}=r,x=f.route.loader&&g[f.route.id]===void 0&&(!v||v[f.route.id]===void 0);if(f.route.lazy||x){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,f,g)=>{let v,x=!1,b=null,w=null;r&&(v=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||Vfe,l&&(u<0&&g===0?(Yfe("route-fallback"),x=!0,w=null):u===g&&(x=!0,w=f.route.hydrateFallbackElement||null)));let E=e.concat(a.slice(0,g+1)),k=()=>{let A;return v?A=b:x?A=w:f.route.Component?A=C.createElement(f.route.Component,null):f.route.element?A=f.route.element:A=d,C.createElement(zfe,{match:f,routeContext:{outlet:d,matches:E,isDataRoute:r!=null},children:A})};return r&&(f.route.ErrorBoundary||f.route.errorElement||g===0)?C.createElement(Ufe,{location:r.location,revalidation:r.revalidation,component:b,error:v,children:k(),routeContext:{outlet:null,matches:E,isDataRoute:!0}}):k()},null)}var OY=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(OY||{}),RY=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(RY||{});function Hfe(t){let e=C.useContext(IO);return e||os(!1),e}function qfe(t){let e=C.useContext(jfe);return e||os(!1),e}function Wfe(t){let e=C.useContext(hf);return e||os(!1),e}function PY(t){let e=Wfe(),r=e.matches[e.matches.length-1];return r.route.id||os(!1),r.route.id}function Gfe(){var t;let e=C.useContext(NY),r=qfe(),n=PY();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function Kfe(){let{router:t}=Hfe(OY.UseNavigateStable),e=PY(RY.UseNavigateStable),r=C.useRef(!1);return IY(()=>{r.current=!0}),C.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,D1({fromRouteId:e},s)))},[t,e])}const nF={};function Yfe(t,e,r){nF[t]||(nF[t]=!0)}function Xfe(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function yn(t){let{to:e,replace:r,state:n,relative:i}=t;qx()||os(!1);let{future:s,static:a}=C.useContext(Hx),{matches:o}=C.useContext(hf),{pathname:l}=cS(),u=uS(),d=AY(e,kY(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(d);return C.useEffect(()=>u(JSON.parse(f),{replace:r,state:n,relative:i}),[u,f,i,r,n]),null}function er(t){os(!1)}function Qfe(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ah.Pop,navigator:s,static:a=!1,future:o}=t;qx()&&os(!1);let l=e.replace(/^\/*/,"/"),u=C.useMemo(()=>({basename:l,navigator:s,static:a,future:D1({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=rv(n));let{pathname:d="/",search:f="",hash:g="",state:v=null,key:x="default"}=n,b=C.useMemo(()=>{let w=SY(d,l);return w==null?null:{location:{pathname:w,search:f,hash:g,state:v,key:x},navigationType:i}},[l,d,f,g,v,x,i]);return b==null?null:C.createElement(Hx.Provider,{value:u},C.createElement(lS.Provider,{children:r,value:b}))}function Jfe(t){let{children:e,location:r}=t;return Lfe(N5(e),r)}new Promise(()=>{});function N5(t,e){e===void 0&&(e=[]);let r=[];return C.Children.forEach(t,(n,i)=>{if(!C.isValidElement(n))return;let s=[...e,i];if(n.type===C.Fragment){r.push.apply(r,N5(n.props.children,s));return}n.type!==er&&os(!1),!n.props.index||!n.props.children||os(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=N5(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const Zfe="6";try{window.__reactRouterVersion=Zfe}catch{}const e0e="startTransition",iF=xY[e0e];function t0e(t){let{basename:e,children:r,future:n,window:i}=t,s=C.useRef();s.current==null&&(s.current=ofe({window:i,v5Compat:!0}));let a=s.current,[o,l]=C.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=C.useCallback(f=>{u&&iF?iF(()=>l(f)):l(f)},[l,u]);return C.useLayoutEffect(()=>a.listen(d),[a,d]),C.useEffect(()=>Xfe(n),[n]),C.createElement(Qfe,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}var sF;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(sF||(sF={}));var aF;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aF||(aF={}));const r0e="modulepreload",n0e=function(t){return"/ontap/"+t},oF={},Pn=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let a=function(u){return Promise.all(u.map(d=>Promise.resolve(d).then(f=>({status:"fulfilled",value:f}),f=>({status:"rejected",reason:f}))))};document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),l=(o==null?void 0:o.nonce)||(o==null?void 0:o.getAttribute("nonce"));i=a(r.map(u=>{if(u=n0e(u),u in oF)return;oF[u]=!0;const d=u.endsWith(".css"),f=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${f}`))return;const g=document.createElement("link");if(g.rel=d?"stylesheet":r0e,d||(g.as="script"),g.crossOrigin="",g.href=u,l&&g.setAttribute("nonce",l),document.head.appendChild(g),d)return new Promise((v,x)=>{g.addEventListener("load",v),g.addEventListener("error",()=>x(new Error(`Unable to preload CSS for ${u}`)))})}))}function s(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return i.then(a=>{for(const o of a||[])o.status==="rejected"&&s(o.reason);return e().catch(s)})},jY=C.createContext(void 0),DY=({children:t})=>{const[e,r]=C.useState("light");C.useEffect(()=>{let s=localStorage.getItem("theme");(!s||s==="noel")&&(s="light",localStorage.setItem("theme","light")),r(s),document.documentElement.setAttribute("data-theme",s)},[]);const n=i=>{r(i),document.documentElement.setAttribute("data-theme",i),localStorage.setItem("theme",i)};return m.jsx(jY.Provider,{value:{theme:e,setTheme:n},children:t})},ua=()=>{const t=C.useContext(jY);if(t===void 0)throw new Error("useTheme must be used within a ThemeProvider");return t},OO=C.createContext({});function RO(t){const e=C.useRef(null);return e.current===null&&(e.current=t()),e.current}const PO=typeof window<"u",MY=PO?C.useLayoutEffect:C.useEffect,dS=C.createContext(null);function jO(t,e){t.indexOf(e)===-1&&t.push(e)}function DO(t,e){const r=t.indexOf(e);r>-1&&t.splice(r,1)}const cd=(t,e,r)=>r>e?e:r<t?t:r;let MO=()=>{};const ud={},LY=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t);function FY(t){return typeof t=="object"&&t!==null}const BY=t=>/^0[^.\s]+$/u.test(t);function LO(t){let e;return()=>(e===void 0&&(e=t()),e)}const Cl=t=>t,i0e=(t,e)=>r=>e(t(r)),Wx=(...t)=>t.reduce(i0e),M1=(t,e,r)=>{const n=e-t;return n===0?1:(r-t)/n};class FO{constructor(){this.subscriptions=[]}add(e){return jO(this.subscriptions,e),()=>DO(this.subscriptions,e)}notify(e,r,n){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,r,n);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,r,n)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const Qc=t=>t*1e3,_l=t=>t/1e3;function VY(t,e){return e?t*(1e3/e):0}const UY=(t,e,r)=>(((1-3*r+3*e)*t+(3*r-6*e))*t+3*e)*t,s0e=1e-7,a0e=12;function o0e(t,e,r,n,i){let s,a,o=0;do a=e+(r-e)/2,s=UY(a,n,i)-t,s>0?r=a:e=a;while(Math.abs(s)>s0e&&++o<a0e);return a}function Gx(t,e,r,n){if(t===e&&r===n)return Cl;const i=s=>o0e(s,0,1,t,r);return s=>s===0||s===1?s:UY(i(s),e,n)}const zY=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,$Y=t=>e=>1-t(1-e),HY=Gx(.33,1.53,.69,.99),BO=$Y(HY),qY=zY(BO),WY=t=>(t*=2)<1?.5*BO(t):.5*(2-Math.pow(2,-10*(t-1))),VO=t=>1-Math.sin(Math.acos(t)),GY=$Y(VO),KY=zY(VO),l0e=Gx(.42,0,1,1),c0e=Gx(0,0,.58,1),YY=Gx(.42,0,.58,1),u0e=t=>Array.isArray(t)&&typeof t[0]!="number",XY=t=>Array.isArray(t)&&typeof t[0]=="number",d0e={linear:Cl,easeIn:l0e,easeInOut:YY,easeOut:c0e,circIn:VO,circInOut:KY,circOut:GY,backIn:BO,backInOut:qY,backOut:HY,anticipate:WY},h0e=t=>typeof t=="string",lF=t=>{if(XY(t)){MO(t.length===4);const[e,r,n,i]=t;return Gx(e,r,n,i)}else if(h0e(t))return d0e[t];return t},m_=["setup","read","resolveKeyframes","preUpdate","update","preRender","render","postRender"];function f0e(t,e){let r=new Set,n=new Set,i=!1,s=!1;const a=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function l(d){a.has(d)&&(u.schedule(d),t()),d(o)}const u={schedule:(d,f=!1,g=!1)=>{const x=g&&i?r:n;return f&&a.add(d),x.has(d)||x.add(d),d},cancel:d=>{n.delete(d),a.delete(d)},process:d=>{if(o=d,i){s=!0;return}i=!0,[r,n]=[n,r],r.forEach(l),r.clear(),i=!1,s&&(s=!1,u.process(d))}};return u}const m0e=40;function QY(t,e){let r=!1,n=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>r=!0,a=m_.reduce((A,O)=>(A[O]=f0e(s),A),{}),{setup:o,read:l,resolveKeyframes:u,preUpdate:d,update:f,preRender:g,render:v,postRender:x}=a,b=()=>{const A=ud.useManualTiming?i.timestamp:performance.now();r=!1,ud.useManualTiming||(i.delta=n?1e3/60:Math.max(Math.min(A-i.timestamp,m0e),1)),i.timestamp=A,i.isProcessing=!0,o.process(i),l.process(i),u.process(i),d.process(i),f.process(i),g.process(i),v.process(i),x.process(i),i.isProcessing=!1,r&&e&&(n=!1,t(b))},w=()=>{r=!0,n=!0,i.isProcessing||t(b)};return{schedule:m_.reduce((A,O)=>{const P=a[O];return A[O]=(j,S=!1,I=!1)=>(r||w(),P.schedule(j,S,I)),A},{}),cancel:A=>{for(let O=0;O<m_.length;O++)a[m_[O]].cancel(A)},state:i,steps:a}}const{schedule:ti,cancel:Hh,state:ta,steps:SC}=QY(typeof requestAnimationFrame<"u"?requestAnimationFrame:Cl,!0);let b2;function p0e(){b2=void 0}const co={now:()=>(b2===void 0&&co.set(ta.isProcessing||ud.useManualTiming?ta.timestamp:performance.now()),b2),set:t=>{b2=t,queueMicrotask(p0e)}},JY=t=>e=>typeof e=="string"&&e.startsWith(t),ZY=JY("--"),g0e=JY("var(--"),UO=t=>g0e(t)?v0e.test(t.split("/*")[0].trim()):!1,v0e=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,nv={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},L1={...nv,transform:t=>cd(0,1,t)},p_={...nv,default:1},s1=t=>Math.round(t*1e5)/1e5,zO=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function y0e(t){return t==null}const x0e=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,$O=(t,e)=>r=>!!(typeof r=="string"&&x0e.test(r)&&r.startsWith(t)||e&&!y0e(r)&&Object.prototype.hasOwnProperty.call(r,e)),eX=(t,e,r)=>n=>{if(typeof n!="string")return n;const[i,s,a,o]=n.match(zO);return{[t]:parseFloat(i),[e]:parseFloat(s),[r]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},b0e=t=>cd(0,255,t),kC={...nv,transform:t=>Math.round(b0e(t))},f0={test:$O("rgb","red"),parse:eX("red","green","blue"),transform:({red:t,green:e,blue:r,alpha:n=1})=>"rgba("+kC.transform(t)+", "+kC.transform(e)+", "+kC.transform(r)+", "+s1(L1.transform(n))+")"};function w0e(t){let e="",r="",n="",i="";return t.length>5?(e=t.substring(1,3),r=t.substring(3,5),n=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),r=t.substring(2,3),n=t.substring(3,4),i=t.substring(4,5),e+=e,r+=r,n+=n,i+=i),{red:parseInt(e,16),green:parseInt(r,16),blue:parseInt(n,16),alpha:i?parseInt(i,16)/255:1}}const I5={test:$O("#"),parse:w0e,transform:f0.transform},Kx=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),vh=Kx("deg"),Jc=Kx("%"),Ut=Kx("px"),_0e=Kx("vh"),E0e=Kx("vw"),cF={...Jc,parse:t=>Jc.parse(t)/100,transform:t=>Jc.transform(t*100)},Mp={test:$O("hsl","hue"),parse:eX("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:r,alpha:n=1})=>"hsla("+Math.round(t)+", "+Jc.transform(s1(e))+", "+Jc.transform(s1(r))+", "+s1(L1.transform(n))+")"},ts={test:t=>f0.test(t)||I5.test(t)||Mp.test(t),parse:t=>f0.test(t)?f0.parse(t):Mp.test(t)?Mp.parse(t):I5.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?f0.transform(t):Mp.transform(t),getAnimatableNone:t=>{const e=ts.parse(t);return e.alpha=0,ts.transform(e)}},T0e=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function S0e(t){var e,r;return isNaN(t)&&typeof t=="string"&&(((e=t.match(zO))==null?void 0:e.length)||0)+(((r=t.match(T0e))==null?void 0:r.length)||0)>0}const tX="number",rX="color",k0e="var",A0e="var(",uF="${}",C0e=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function F1(t){const e=t.toString(),r=[],n={color:[],number:[],var:[]},i=[];let s=0;const o=e.replace(C0e,l=>(ts.test(l)?(n.color.push(s),i.push(rX),r.push(ts.parse(l))):l.startsWith(A0e)?(n.var.push(s),i.push(k0e),r.push(l)):(n.number.push(s),i.push(tX),r.push(parseFloat(l))),++s,uF)).split(uF);return{values:r,split:o,indexes:n,types:i}}function nX(t){return F1(t).values}function iX(t){const{split:e,types:r}=F1(t),n=e.length;return i=>{let s="";for(let a=0;a<n;a++)if(s+=e[a],i[a]!==void 0){const o=r[a];o===tX?s+=s1(i[a]):o===rX?s+=ts.transform(i[a]):s+=i[a]}return s}}const N0e=t=>typeof t=="number"?0:ts.test(t)?ts.getAnimatableNone(t):t;function I0e(t){const e=nX(t);return iX(t)(e.map(N0e))}const qh={test:S0e,parse:nX,createTransformer:iX,getAnimatableNone:I0e};function AC(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function O0e({hue:t,saturation:e,lightness:r,alpha:n}){t/=360,e/=100,r/=100;let i=0,s=0,a=0;if(!e)i=s=a=r;else{const o=r<.5?r*(1+e):r+e-r*e,l=2*r-o;i=AC(l,o,t+1/3),s=AC(l,o,t),a=AC(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:n}}function z2(t,e){return r=>r>0?e:t}const li=(t,e,r)=>t+(e-t)*r,CC=(t,e,r)=>{const n=t*t,i=r*(e*e-n)+n;return i<0?0:Math.sqrt(i)},R0e=[I5,f0,Mp],P0e=t=>R0e.find(e=>e.test(t));function dF(t){const e=P0e(t);if(!e)return!1;let r=e.parse(t);return e===Mp&&(r=O0e(r)),r}const hF=(t,e)=>{const r=dF(t),n=dF(e);if(!r||!n)return z2(t,e);const i={...r};return s=>(i.red=CC(r.red,n.red,s),i.green=CC(r.green,n.green,s),i.blue=CC(r.blue,n.blue,s),i.alpha=li(r.alpha,n.alpha,s),f0.transform(i))},O5=new Set(["none","hidden"]);function j0e(t,e){return O5.has(t)?r=>r<=0?t:e:r=>r>=1?e:t}function D0e(t,e){return r=>li(t,e,r)}function HO(t){return typeof t=="number"?D0e:typeof t=="string"?UO(t)?z2:ts.test(t)?hF:F0e:Array.isArray(t)?sX:typeof t=="object"?ts.test(t)?hF:M0e:z2}function sX(t,e){const r=[...t],n=r.length,i=t.map((s,a)=>HO(s)(s,e[a]));return s=>{for(let a=0;a<n;a++)r[a]=i[a](s);return r}}function M0e(t,e){const r={...t,...e},n={};for(const i in r)t[i]!==void 0&&e[i]!==void 0&&(n[i]=HO(t[i])(t[i],e[i]));return i=>{for(const s in n)r[s]=n[s](i);return r}}function L0e(t,e){const r=[],n={color:0,var:0,number:0};for(let i=0;i<e.values.length;i++){const s=e.types[i],a=t.indexes[s][n[s]],o=t.values[a]??0;r[i]=o,n[s]++}return r}const F0e=(t,e)=>{const r=qh.createTransformer(e),n=F1(t),i=F1(e);return n.indexes.var.length===i.indexes.var.length&&n.indexes.color.length===i.indexes.color.length&&n.indexes.number.length>=i.indexes.number.length?O5.has(t)&&!i.values.length||O5.has(e)&&!n.values.length?j0e(t,e):Wx(sX(L0e(n,i),i.values),r):z2(t,e)};function aX(t,e,r){return typeof t=="number"&&typeof e=="number"&&typeof r=="number"?li(t,e,r):HO(t)(t,e)}const B0e=t=>{const e=({timestamp:r})=>t(r);return{start:(r=!0)=>ti.update(e,r),stop:()=>Hh(e),now:()=>ta.isProcessing?ta.timestamp:co.now()}},oX=(t,e,r=10)=>{let n="";const i=Math.max(Math.round(e/r),2);for(let s=0;s<i;s++)n+=Math.round(t(s/(i-1))*1e4)/1e4+", ";return`linear(${n.substring(0,n.length-2)})`},$2=2e4;function qO(t){let e=0;const r=50;let n=t.next(e);for(;!n.done&&e<$2;)e+=r,n=t.next(e);return e>=$2?1/0:e}function V0e(t,e=100,r){const n=r({...t,keyframes:[0,e]}),i=Math.min(qO(n),$2);return{type:"keyframes",ease:s=>n.next(i*s).value/e,duration:_l(i)}}const U0e=5;function lX(t,e,r){const n=Math.max(e-U0e,0);return VY(r-t(n),e-n)}const _i={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},NC=.001;function z0e({duration:t=_i.duration,bounce:e=_i.bounce,velocity:r=_i.velocity,mass:n=_i.mass}){let i,s,a=1-e;a=cd(_i.minDamping,_i.maxDamping,a),t=cd(_i.minDuration,_i.maxDuration,_l(t)),a<1?(i=u=>{const d=u*a,f=d*t,g=d-r,v=R5(u,a),x=Math.exp(-f);return NC-g/v*x},s=u=>{const f=u*a*t,g=f*r+r,v=Math.pow(a,2)*Math.pow(u,2)*t,x=Math.exp(-f),b=R5(Math.pow(u,2),a);return(-i(u)+NC>0?-1:1)*((g-v)*x)/b}):(i=u=>{const d=Math.exp(-u*t),f=(u-r)*t+1;return-NC+d*f},s=u=>{const d=Math.exp(-u*t),f=(r-u)*(t*t);return d*f});const o=5/t,l=H0e(i,s,o);if(t=Qc(t),isNaN(l))return{stiffness:_i.stiffness,damping:_i.damping,duration:t};{const u=Math.pow(l,2)*n;return{stiffness:u,damping:a*2*Math.sqrt(n*u),duration:t}}}const $0e=12;function H0e(t,e,r){let n=r;for(let i=1;i<$0e;i++)n=n-t(n)/e(n);return n}function R5(t,e){return t*Math.sqrt(1-e*e)}const q0e=["duration","bounce"],W0e=["stiffness","damping","mass"];function fF(t,e){return e.some(r=>t[r]!==void 0)}function G0e(t){let e={velocity:_i.velocity,stiffness:_i.stiffness,damping:_i.damping,mass:_i.mass,isResolvedFromDuration:!1,...t};if(!fF(t,W0e)&&fF(t,q0e))if(t.visualDuration){const r=t.visualDuration,n=2*Math.PI/(r*1.2),i=n*n,s=2*cd(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:_i.mass,stiffness:i,damping:s}}else{const r=z0e(t);e={...e,...r,mass:_i.mass},e.isResolvedFromDuration=!0}return e}function H2(t=_i.visualDuration,e=_i.bounce){const r=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:n,restDelta:i}=r;const s=r.keyframes[0],a=r.keyframes[r.keyframes.length-1],o={done:!1,value:s},{stiffness:l,damping:u,mass:d,duration:f,velocity:g,isResolvedFromDuration:v}=G0e({...r,velocity:-_l(r.velocity||0)}),x=g||0,b=u/(2*Math.sqrt(l*d)),w=a-s,E=_l(Math.sqrt(l/d)),k=Math.abs(w)<5;n||(n=k?_i.restSpeed.granular:_i.restSpeed.default),i||(i=k?_i.restDelta.granular:_i.restDelta.default);let A;if(b<1){const P=R5(E,b);A=j=>{const S=Math.exp(-b*E*j);return a-S*((x+b*E*w)/P*Math.sin(P*j)+w*Math.cos(P*j))}}else if(b===1)A=P=>a-Math.exp(-E*P)*(w+(x+E*w)*P);else{const P=E*Math.sqrt(b*b-1);A=j=>{const S=Math.exp(-b*E*j),I=Math.min(P*j,300);return a-S*((x+b*E*w)*Math.sinh(I)+P*w*Math.cosh(I))/P}}const O={calculatedDuration:v&&f||null,next:P=>{const j=A(P);if(v)o.done=P>=f;else{let S=P===0?x:0;b<1&&(S=P===0?Qc(x):lX(A,P,j));const I=Math.abs(S)<=n,R=Math.abs(a-j)<=i;o.done=I&&R}return o.value=o.done?a:j,o},toString:()=>{const P=Math.min(qO(O),$2),j=oX(S=>O.next(P*S).value,P,30);return P+"ms "+j},toTransition:()=>{}};return O}H2.applyToOptions=t=>{const e=V0e(t,100,H2);return t.ease=e.ease,t.duration=Qc(e.duration),t.type="keyframes",t};function P5({keyframes:t,velocity:e=0,power:r=.8,timeConstant:n=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:u=.5,restSpeed:d}){const f=t[0],g={done:!1,value:f},v=I=>o!==void 0&&I<o||l!==void 0&&I>l,x=I=>o===void 0?l:l===void 0||Math.abs(o-I)<Math.abs(l-I)?o:l;let b=r*e;const w=f+b,E=a===void 0?w:a(w);E!==w&&(b=E-f);const k=I=>-b*Math.exp(-I/n),A=I=>E+k(I),O=I=>{const R=k(I),D=A(I);g.done=Math.abs(R)<=u,g.value=g.done?E:D};let P,j;const S=I=>{v(g.value)&&(P=I,j=H2({keyframes:[g.value,x(g.value)],velocity:lX(A,I,g.value),damping:i,stiffness:s,restDelta:u,restSpeed:d}))};return S(0),{calculatedDuration:null,next:I=>{let R=!1;return!j&&P===void 0&&(R=!0,O(I),S(I)),P!==void 0&&I>=P?j.next(I-P):(!R&&O(I),g)}}}function K0e(t,e,r){const n=[],i=r||ud.mix||aX,s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Cl:e;o=Wx(l,o)}n.push(o)}return n}function Y0e(t,e,{clamp:r=!0,ease:n,mixer:i}={}){const s=t.length;if(MO(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const a=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const o=K0e(e,n,i),l=o.length,u=d=>{if(a&&d<t[0])return e[0];let f=0;if(l>1)for(;f<t.length-2&&!(d<t[f+1]);f++);const g=M1(t[f],t[f+1],d);return o[f](g)};return r?d=>u(cd(t[0],t[s-1],d)):u}function X0e(t,e){const r=t[t.length-1];for(let n=1;n<=e;n++){const i=M1(0,e,n);t.push(li(r,1,i))}}function Q0e(t){const e=[0];return X0e(e,t.length-1),e}function J0e(t,e){return t.map(r=>r*e)}function Z0e(t,e){return t.map(()=>e||YY).splice(0,t.length-1)}function a1({duration:t=300,keyframes:e,times:r,ease:n="easeInOut"}){const i=u0e(n)?n.map(lF):lF(n),s={done:!1,value:e[0]},a=J0e(r&&r.length===e.length?r:Q0e(e),t),o=Y0e(a,e,{ease:Array.isArray(i)?i:Z0e(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}const eme=t=>t!==null;function WO(t,{repeat:e,repeatType:r="loop"},n,i=1){const s=t.filter(eme),o=i<0||e&&r!=="loop"&&e%2===1?0:s.length-1;return!o||n===void 0?s[o]:n}const tme={decay:P5,inertia:P5,tween:a1,keyframes:a1,spring:H2};function cX(t){typeof t.type=="string"&&(t.type=tme[t.type])}class GO{constructor(){this.updateFinished()}get finished(){return this._finished}updateFinished(){this._finished=new Promise(e=>{this.resolve=e})}notifyFinished(){this.resolve()}then(e,r){return this.finished.then(e,r)}}const rme=t=>t/100;class KO extends GO{constructor(e){super(),this.state="idle",this.startTime=null,this.isStopped=!1,this.currentTime=0,this.holdTime=null,this.playbackSpeed=1,this.stop=()=>{var n,i;const{motionValue:r}=this.options;r&&r.updatedAt!==co.now()&&this.tick(co.now()),this.isStopped=!0,this.state!=="idle"&&(this.teardown(),(i=(n=this.options).onStop)==null||i.call(n))},this.options=e,this.initAnimation(),this.play(),e.autoplay===!1&&this.pause()}initAnimation(){const{options:e}=this;cX(e);const{type:r=a1,repeat:n=0,repeatDelay:i=0,repeatType:s,velocity:a=0}=e;let{keyframes:o}=e;const l=r||a1;l!==a1&&typeof o[0]!="number"&&(this.mixKeyframes=Wx(rme,aX(o[0],o[1])),o=[0,100]);const u=l({...e,keyframes:o});s==="mirror"&&(this.mirroredGenerator=l({...e,keyframes:[...o].reverse(),velocity:-a})),u.calculatedDuration===null&&(u.calculatedDuration=qO(u));const{calculatedDuration:d}=u;this.calculatedDuration=d,this.resolvedDuration=d+i,this.totalDuration=this.resolvedDuration*(n+1)-i,this.generator=u}updateTime(e){const r=Math.round(e-this.startTime)*this.playbackSpeed;this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=r}tick(e,r=!1){const{generator:n,totalDuration:i,mixKeyframes:s,mirroredGenerator:a,resolvedDuration:o,calculatedDuration:l}=this;if(this.startTime===null)return n.next(0);const{delay:u=0,keyframes:d,repeat:f,repeatType:g,repeatDelay:v,type:x,onUpdate:b,finalKeyframe:w}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-i/this.speed,this.startTime)),r?this.currentTime=e:this.updateTime(e);const E=this.currentTime-u*(this.playbackSpeed>=0?1:-1),k=this.playbackSpeed>=0?E<0:E>i;this.currentTime=Math.max(E,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=i);let A=this.currentTime,O=n;if(f){const I=Math.min(this.currentTime,i)/o;let R=Math.floor(I),D=I%1;!D&&I>=1&&(D=1),D===1&&R--,R=Math.min(R,f+1),!!(R%2)&&(g==="reverse"?(D=1-D,v&&(D-=v/o)):g==="mirror"&&(O=a)),A=cd(0,1,D)*o}const P=k?{done:!1,value:d[0]}:O.next(A);s&&(P.value=s(P.value));let{done:j}=P;!k&&l!==null&&(j=this.playbackSpeed>=0?this.currentTime>=i:this.currentTime<=0);const S=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&j);return S&&x!==P5&&(P.value=WO(d,this.options,w,this.speed)),b&&b(P.value),S&&this.finish(),P}then(e,r){return this.finished.then(e,r)}get duration(){return _l(this.calculatedDuration)}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_l(e)}get time(){return _l(this.currentTime)}set time(e){var r;e=Qc(e),this.currentTime=e,this.startTime===null||this.holdTime!==null||this.playbackSpeed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.playbackSpeed),(r=this.driver)==null||r.start(!1)}get speed(){return this.playbackSpeed}set speed(e){this.updateTime(co.now());const r=this.playbackSpeed!==e;this.playbackSpeed=e,r&&(this.time=_l(this.currentTime))}play(){var i,s;if(this.isStopped)return;const{driver:e=B0e,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),(s=(i=this.options).onPlay)==null||s.call(i);const n=this.driver.now();this.state==="finished"?(this.updateFinished(),this.startTime=n):this.holdTime!==null?this.startTime=n-this.holdTime:this.startTime||(this.startTime=r??n),this.state==="finished"&&this.speed<0&&(this.startTime+=this.calculatedDuration),this.holdTime=null,this.state="running",this.driver.start()}pause(){this.state="paused",this.updateTime(co.now()),this.holdTime=this.currentTime}complete(){this.state!=="running"&&this.play(),this.state="finished",this.holdTime=null}finish(){var e,r;this.notifyFinished(),this.teardown(),this.state="finished",(r=(e=this.options).onComplete)==null||r.call(e)}cancel(){var e,r;this.holdTime=null,this.startTime=0,this.tick(0),this.teardown(),(r=(e=this.options).onCancel)==null||r.call(e)}teardown(){this.state="idle",this.stopDriver(),this.startTime=this.holdTime=null}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}attachTimeline(e){var r;return this.options.allowFlatten&&(this.options.type="keyframes",this.options.ease="linear",this.initAnimation()),(r=this.driver)==null||r.stop(),e.observe(this)}}function nme(t){for(let e=1;e<t.length;e++)t[e]??(t[e]=t[e-1])}const m0=t=>t*180/Math.PI,j5=t=>{const e=m0(Math.atan2(t[1],t[0]));return D5(e)},ime={x:4,y:5,translateX:4,translateY:5,scaleX:0,scaleY:3,scale:t=>(Math.abs(t[0])+Math.abs(t[3]))/2,rotate:j5,rotateZ:j5,skewX:t=>m0(Math.atan(t[1])),skewY:t=>m0(Math.atan(t[2])),skew:t=>(Math.abs(t[1])+Math.abs(t[2]))/2},D5=t=>(t=t%360,t<0&&(t+=360),t),mF=j5,pF=t=>Math.sqrt(t[0]*t[0]+t[1]*t[1]),gF=t=>Math.sqrt(t[4]*t[4]+t[5]*t[5]),sme={x:12,y:13,z:14,translateX:12,translateY:13,translateZ:14,scaleX:pF,scaleY:gF,scale:t=>(pF(t)+gF(t))/2,rotateX:t=>D5(m0(Math.atan2(t[6],t[5]))),rotateY:t=>D5(m0(Math.atan2(-t[2],t[0]))),rotateZ:mF,rotate:mF,skewX:t=>m0(Math.atan(t[4])),skewY:t=>m0(Math.atan(t[1])),skew:t=>(Math.abs(t[1])+Math.abs(t[4]))/2};function M5(t){return t.includes("scale")?1:0}function L5(t,e){if(!t||t==="none")return M5(e);const r=t.match(/^matrix3d\(([-\d.e\s,]+)\)$/u);let n,i;if(r)n=sme,i=r;else{const o=t.match(/^matrix\(([-\d.e\s,]+)\)$/u);n=ime,i=o}if(!i)return M5(e);const s=n[e],a=i[1].split(",").map(ome);return typeof s=="function"?s(a):a[s]}const ame=(t,e)=>{const{transform:r="none"}=getComputedStyle(t);return L5(r,e)};function ome(t){return parseFloat(t.trim())}const iv=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],sv=new Set(iv),vF=t=>t===nv||t===Ut,lme=new Set(["x","y","z"]),cme=iv.filter(t=>!lme.has(t));function ume(t){const e=[];return cme.forEach(r=>{const n=t.getValue(r);n!==void 0&&(e.push([r,n.get()]),n.set(r.startsWith("scale")?1:0))}),e}const A0={width:({x:t},{paddingLeft:e="0",paddingRight:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),height:({y:t},{paddingTop:e="0",paddingBottom:r="0"})=>t.max-t.min-parseFloat(e)-parseFloat(r),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:(t,{transform:e})=>L5(e,"x"),y:(t,{transform:e})=>L5(e,"y")};A0.translateX=A0.x;A0.translateY=A0.y;const C0=new Set;let F5=!1,B5=!1,V5=!1;function uX(){if(B5){const t=Array.from(C0).filter(n=>n.needsMeasurement),e=new Set(t.map(n=>n.element)),r=new Map;e.forEach(n=>{const i=ume(n);i.length&&(r.set(n,i),n.render())}),t.forEach(n=>n.measureInitialState()),e.forEach(n=>{n.render();const i=r.get(n);i&&i.forEach(([s,a])=>{var o;(o=n.getValue(s))==null||o.set(a)})}),t.forEach(n=>n.measureEndState()),t.forEach(n=>{n.suspendedScrollY!==void 0&&window.scrollTo(0,n.suspendedScrollY)})}B5=!1,F5=!1,C0.forEach(t=>t.complete(V5)),C0.clear()}function dX(){C0.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(B5=!0)})}function dme(){V5=!0,dX(),uX(),V5=!1}class YO{constructor(e,r,n,i,s,a=!1){this.state="pending",this.isAsync=!1,this.needsMeasurement=!1,this.unresolvedKeyframes=[...e],this.onComplete=r,this.name=n,this.motionValue=i,this.element=s,this.isAsync=a}scheduleResolve(){this.state="scheduled",this.isAsync?(C0.add(this),F5||(F5=!0,ti.read(dX),ti.resolveKeyframes(uX))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:r,element:n,motionValue:i}=this;if(e[0]===null){const s=i==null?void 0:i.get(),a=e[e.length-1];if(s!==void 0)e[0]=s;else if(n&&r){const o=n.readValue(r,a);o!=null&&(e[0]=o)}e[0]===void 0&&(e[0]=a),i&&s===void 0&&i.set(e[0])}nme(e)}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(e=!1){this.state="complete",this.onComplete(this.unresolvedKeyframes,this.finalKeyframe,e),C0.delete(this)}cancel(){this.state==="scheduled"&&(C0.delete(this),this.state="pending")}resume(){this.state==="pending"&&this.scheduleResolve()}}const hme=t=>t.startsWith("--");function fme(t,e,r){hme(e)?t.style.setProperty(e,r):t.style[e]=r}const mme=LO(()=>window.ScrollTimeline!==void 0),pme={};function gme(t,e){const r=LO(t);return()=>pme[e]??r()}const hX=gme(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),Gy=([t,e,r,n])=>`cubic-bezier(${t}, ${e}, ${r}, ${n})`,yF={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Gy([0,.65,.55,1]),circOut:Gy([.55,0,1,.45]),backIn:Gy([.31,.01,.66,-.59]),backOut:Gy([.33,1.53,.69,.99])};function fX(t,e){if(t)return typeof t=="function"?hX()?oX(t,e):"ease-out":XY(t)?Gy(t):Array.isArray(t)?t.map(r=>fX(r,e)||yF.easeOut):yF[t]}function vme(t,e,r,{delay:n=0,duration:i=300,repeat:s=0,repeatType:a="loop",ease:o="easeOut",times:l}={},u=void 0){const d={[e]:r};l&&(d.offset=l);const f=fX(o,i);Array.isArray(f)&&(d.easing=f);const g={delay:n,duration:i,easing:Array.isArray(f)?"linear":f,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"};return u&&(g.pseudoElement=u),t.animate(d,g)}function mX(t){return typeof t=="function"&&"applyToOptions"in t}function yme({type:t,...e}){return mX(t)&&hX()?t.applyToOptions(e):(e.duration??(e.duration=300),e.ease??(e.ease="easeOut"),e)}class xme extends GO{constructor(e){if(super(),this.finishedTime=null,this.isStopped=!1,!e)return;const{element:r,name:n,keyframes:i,pseudoElement:s,allowFlatten:a=!1,finalKeyframe:o,onComplete:l}=e;this.isPseudoElement=!!s,this.allowFlatten=a,this.options=e,MO(typeof e.type!="string");const u=yme(e);this.animation=vme(r,n,i,u,s),u.autoplay===!1&&this.animation.pause(),this.animation.onfinish=()=>{if(this.finishedTime=this.time,!s){const d=WO(i,this.options,o,this.speed);this.updateMotionValue?this.updateMotionValue(d):fme(r,n,d),this.animation.cancel()}l==null||l(),this.notifyFinished()}}play(){this.isStopped||(this.animation.play(),this.state==="finished"&&this.updateFinished())}pause(){this.animation.pause()}complete(){var e,r;(r=(e=this.animation).finish)==null||r.call(e)}cancel(){try{this.animation.cancel()}catch{}}stop(){if(this.isStopped)return;this.isStopped=!0;const{state:e}=this;e==="idle"||e==="finished"||(this.updateMotionValue?this.updateMotionValue():this.commitStyles(),this.isPseudoElement||this.cancel())}commitStyles(){var e,r;this.isPseudoElement||(r=(e=this.animation).commitStyles)==null||r.call(e)}get duration(){var r,n;const e=((n=(r=this.animation.effect)==null?void 0:r.getComputedTiming)==null?void 0:n.call(r).duration)||0;return _l(Number(e))}get iterationDuration(){const{delay:e=0}=this.options||{};return this.duration+_l(e)}get time(){return _l(Number(this.animation.currentTime)||0)}set time(e){this.finishedTime=null,this.animation.currentTime=Qc(e)}get speed(){return this.animation.playbackRate}set speed(e){e<0&&(this.finishedTime=null),this.animation.playbackRate=e}get state(){return this.finishedTime!==null?"finished":this.animation.playState}get startTime(){return Number(this.animation.startTime)}set startTime(e){this.animation.startTime=e}attachTimeline({timeline:e,observe:r}){var n;return this.allowFlatten&&((n=this.animation.effect)==null||n.updateTiming({easing:"linear"})),this.animation.onfinish=null,e&&mme()?(this.animation.timeline=e,Cl):r(this)}}const pX={anticipate:WY,backInOut:qY,circInOut:KY};function bme(t){return t in pX}function wme(t){typeof t.ease=="string"&&bme(t.ease)&&(t.ease=pX[t.ease])}const xF=10;class _me extends xme{constructor(e){wme(e),cX(e),super(e),e.startTime&&(this.startTime=e.startTime),this.options=e}updateMotionValue(e){const{motionValue:r,onUpdate:n,onComplete:i,element:s,...a}=this.options;if(!r)return;if(e!==void 0){r.set(e);return}const o=new KO({...a,autoplay:!1}),l=Qc(this.finishedTime??this.time);r.setWithVelocity(o.sample(l-xF).value,o.sample(l).value,xF),o.stop()}}const bF=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(qh.test(t)||t==="0")&&!t.startsWith("url("));function Eme(t){const e=t[0];if(t.length===1)return!0;for(let r=0;r<t.length;r++)if(t[r]!==e)return!0}function Tme(t,e,r,n){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],a=bF(i,e),o=bF(s,e);return!a||!o?!1:Eme(t)||(r==="spring"||mX(r))&&n}function U5(t){t.duration=0,t.type="keyframes"}const Sme=new Set(["opacity","clipPath","filter","transform"]),kme=LO(()=>Object.hasOwnProperty.call(Element.prototype,"animate"));function Ame(t){var d;const{motionValue:e,name:r,repeatDelay:n,repeatType:i,damping:s,type:a}=t;if(!(((d=e==null?void 0:e.owner)==null?void 0:d.current)instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:u}=e.owner.getProps();return kme()&&r&&Sme.has(r)&&(r!=="transform"||!u)&&!l&&!n&&i!=="mirror"&&s!==0&&a!=="inertia"}const Cme=40;class Nme extends GO{constructor({autoplay:e=!0,delay:r=0,type:n="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:a="loop",keyframes:o,name:l,motionValue:u,element:d,...f}){var x;super(),this.stop=()=>{var b,w;this._animation&&(this._animation.stop(),(b=this.stopTimeline)==null||b.call(this)),(w=this.keyframeResolver)==null||w.cancel()},this.createdAt=co.now();const g={autoplay:e,delay:r,type:n,repeat:i,repeatDelay:s,repeatType:a,name:l,motionValue:u,element:d,...f},v=(d==null?void 0:d.KeyframeResolver)||YO;this.keyframeResolver=new v(o,(b,w,E)=>this.onKeyframesResolved(b,w,g,!E),l,u,d),(x=this.keyframeResolver)==null||x.scheduleResolve()}onKeyframesResolved(e,r,n,i){this.keyframeResolver=void 0;const{name:s,type:a,velocity:o,delay:l,isHandoff:u,onUpdate:d}=n;this.resolvedAt=co.now(),Tme(e,s,a,o)||((ud.instantAnimations||!l)&&(d==null||d(WO(e,n,r))),e[0]=e[e.length-1],U5(n),n.repeat=0);const g={startTime:i?this.resolvedAt?this.resolvedAt-this.createdAt>Cme?this.resolvedAt:this.createdAt:this.createdAt:void 0,finalKeyframe:r,...n,keyframes:e},v=!u&&Ame(g)?new _me({...g,element:g.motionValue.owner.current}):new KO(g);v.finished.then(()=>this.notifyFinished()).catch(Cl),this.pendingTimeline&&(this.stopTimeline=v.attachTimeline(this.pendingTimeline),this.pendingTimeline=void 0),this._animation=v}get finished(){return this._animation?this.animation.finished:this._finished}then(e,r){return this.finished.finally(e).then(()=>{})}get animation(){var e;return this._animation||((e=this.keyframeResolver)==null||e.resume(),dme()),this._animation}get duration(){return this.animation.duration}get iterationDuration(){return this.animation.iterationDuration}get time(){return this.animation.time}set time(e){this.animation.time=e}get speed(){return this.animation.speed}get state(){return this.animation.state}set speed(e){this.animation.speed=e}get startTime(){return this.animation.startTime}attachTimeline(e){return this._animation?this.stopTimeline=this.animation.attachTimeline(e):this.pendingTimeline=e,()=>this.stop()}play(){this.animation.play()}pause(){this.animation.pause()}complete(){this.animation.complete()}cancel(){var e;this._animation&&this.animation.cancel(),(e=this.keyframeResolver)==null||e.cancel()}}const Ime=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Ome(t){const e=Ime.exec(t);if(!e)return[,];const[,r,n,i]=e;return[`--${r??n}`,i]}function gX(t,e,r=1){const[n,i]=Ome(t);if(!n)return;const s=window.getComputedStyle(e).getPropertyValue(n);if(s){const a=s.trim();return LY(a)?parseFloat(a):a}return UO(i)?gX(i,e,r+1):i}function XO(t,e){return(t==null?void 0:t[e])??(t==null?void 0:t.default)??t}const vX=new Set(["width","height","top","left","right","bottom",...iv]),Rme={test:t=>t==="auto",parse:t=>t},yX=t=>e=>e.test(t),xX=[nv,Ut,Jc,vh,E0e,_0e,Rme],wF=t=>xX.find(yX(t));function Pme(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||BY(t):!0}const jme=new Set(["brightness","contrast","saturate","opacity"]);function Dme(t){const[e,r]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[n]=r.match(zO)||[];if(!n)return t;const i=r.replace(n,"");let s=jme.has(e)?1:0;return n!==r&&(s*=100),e+"("+s+i+")"}const Mme=/\b([a-z-]*)\(.*?\)/gu,z5={...qh,getAnimatableNone:t=>{const e=t.match(Mme);return e?e.map(Dme).join(" "):t}},_F={...nv,transform:Math.round},Lme={rotate:vh,rotateX:vh,rotateY:vh,rotateZ:vh,scale:p_,scaleX:p_,scaleY:p_,scaleZ:p_,skew:vh,skewX:vh,skewY:vh,distance:Ut,translateX:Ut,translateY:Ut,translateZ:Ut,x:Ut,y:Ut,z:Ut,perspective:Ut,transformPerspective:Ut,opacity:L1,originX:cF,originY:cF,originZ:Ut},QO={borderWidth:Ut,borderTopWidth:Ut,borderRightWidth:Ut,borderBottomWidth:Ut,borderLeftWidth:Ut,borderRadius:Ut,radius:Ut,borderTopLeftRadius:Ut,borderTopRightRadius:Ut,borderBottomRightRadius:Ut,borderBottomLeftRadius:Ut,width:Ut,maxWidth:Ut,height:Ut,maxHeight:Ut,top:Ut,right:Ut,bottom:Ut,left:Ut,padding:Ut,paddingTop:Ut,paddingRight:Ut,paddingBottom:Ut,paddingLeft:Ut,margin:Ut,marginTop:Ut,marginRight:Ut,marginBottom:Ut,marginLeft:Ut,backgroundPositionX:Ut,backgroundPositionY:Ut,...Lme,zIndex:_F,fillOpacity:L1,strokeOpacity:L1,numOctaves:_F},Fme={...QO,color:ts,backgroundColor:ts,outlineColor:ts,fill:ts,stroke:ts,borderColor:ts,borderTopColor:ts,borderRightColor:ts,borderBottomColor:ts,borderLeftColor:ts,filter:z5,WebkitFilter:z5},bX=t=>Fme[t];function wX(t,e){let r=bX(t);return r!==z5&&(r=qh),r.getAnimatableNone?r.getAnimatableNone(e):void 0}const Bme=new Set(["auto","none","0"]);function Vme(t,e,r){let n=0,i;for(;n<t.length&&!i;){const s=t[n];typeof s=="string"&&!Bme.has(s)&&F1(s).values.length&&(i=t[n]),n++}if(i&&r)for(const s of e)t[s]=wX(r,i)}class Ume extends YO{constructor(e,r,n,i,s){super(e,r,n,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:r,name:n}=this;if(!r||!r.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let u=e[l];if(typeof u=="string"&&(u=u.trim(),UO(u))){const d=gX(u,r.current);d!==void 0&&(e[l]=d),l===e.length-1&&(this.finalKeyframe=u)}}if(this.resolveNoneKeyframes(),!vX.has(n)||e.length!==2)return;const[i,s]=e,a=wF(i),o=wF(s);if(a!==o)if(vF(a)&&vF(o))for(let l=0;l<e.length;l++){const u=e[l];typeof u=="string"&&(e[l]=parseFloat(u))}else A0[n]&&(this.needsMeasurement=!0)}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:r}=this,n=[];for(let i=0;i<e.length;i++)(e[i]===null||Pme(e[i]))&&n.push(i);n.length&&Vme(e,n,r)}measureInitialState(){const{element:e,unresolvedKeyframes:r,name:n}=this;if(!e||!e.current)return;n==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=A0[n](e.measureViewportBox(),window.getComputedStyle(e.current)),r[0]=this.measuredOrigin;const i=r[r.length-1];i!==void 0&&e.getValue(n,i).jump(i,!1)}measureEndState(){var o;const{element:e,name:r,unresolvedKeyframes:n}=this;if(!e||!e.current)return;const i=e.getValue(r);i&&i.jump(this.measuredOrigin,!1);const s=n.length-1,a=n[s];n[s]=A0[r](e.measureViewportBox(),window.getComputedStyle(e.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),(o=this.removedTransforms)!=null&&o.length&&this.removedTransforms.forEach(([l,u])=>{e.getValue(l).set(u)}),this.resolveNoneKeyframes()}}function zme(t,e,r){if(t instanceof EventTarget)return[t];if(typeof t=="string"){let n=document;const i=(r==null?void 0:r[t])??n.querySelectorAll(t);return i?Array.from(i):[]}return Array.from(t)}const _X=(t,e)=>e&&typeof t=="number"?e.transform(t):t;function EX(t){return FY(t)&&"offsetHeight"in t}const EF=30,$me=t=>!isNaN(parseFloat(t));class Hme{constructor(e,r={}){this.canTrackVelocity=null,this.events={},this.updateAndNotify=n=>{var s;const i=co.now();if(this.updatedAt!==i&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(n),this.current!==this.prev&&((s=this.events.change)==null||s.notify(this.current),this.dependents))for(const a of this.dependents)a.dirty()},this.hasAnimated=!1,this.setCurrent(e),this.owner=r.owner}setCurrent(e){this.current=e,this.updatedAt=co.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=$me(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,r){this.events[e]||(this.events[e]=new FO);const n=this.events[e].add(r);return e==="change"?()=>{n(),ti.read(()=>{this.events.change.getSize()||this.stop()})}:n}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,r){this.passiveEffect=e,this.stopPassiveEffect=r}set(e){this.passiveEffect?this.passiveEffect(e,this.updateAndNotify):this.updateAndNotify(e)}setWithVelocity(e,r,n){this.set(r),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-n}jump(e,r=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,r&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}dirty(){var e;(e=this.events.change)==null||e.notify(this.current)}addDependent(e){this.dependents||(this.dependents=new Set),this.dependents.add(e)}removeDependent(e){this.dependents&&this.dependents.delete(e)}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=co.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>EF)return 0;const r=Math.min(this.updatedAt-this.prevUpdatedAt,EF);return VY(parseFloat(this.current)-parseFloat(this.prevFrameValue),r)}start(e){return this.stop(),new Promise(r=>{this.hasAnimated=!0,this.animation=e(r),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){var e,r;(e=this.dependents)==null||e.clear(),(r=this.events.destroy)==null||r.notify(),this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function vg(t,e){return new Hme(t,e)}const{schedule:JO}=QY(queueMicrotask,!1),Yl={x:!1,y:!1};function TX(){return Yl.x||Yl.y}function qme(t){return t==="x"||t==="y"?Yl[t]?null:(Yl[t]=!0,()=>{Yl[t]=!1}):Yl.x||Yl.y?null:(Yl.x=Yl.y=!0,()=>{Yl.x=Yl.y=!1})}function SX(t,e){const r=zme(t),n=new AbortController,i={passive:!0,...e,signal:n.signal};return[r,i,()=>n.abort()]}function TF(t){return!(t.pointerType==="touch"||TX())}function Wme(t,e,r={}){const[n,i,s]=SX(t,r),a=o=>{if(!TF(o))return;const{target:l}=o,u=e(l,o);if(typeof u!="function"||!l)return;const d=f=>{TF(f)&&(u(f),l.removeEventListener("pointerleave",d))};l.addEventListener("pointerleave",d,i)};return n.forEach(o=>{o.addEventListener("pointerenter",a,i)}),s}const kX=(t,e)=>e?t===e?!0:kX(t,e.parentElement):!1,ZO=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,Gme=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function Kme(t){return Gme.has(t.tagName)||t.tabIndex!==-1}const w2=new WeakSet;function SF(t){return e=>{e.key==="Enter"&&t(e)}}function IC(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const Yme=(t,e)=>{const r=t.currentTarget;if(!r)return;const n=SF(()=>{if(w2.has(r))return;IC(r,"down");const i=SF(()=>{IC(r,"up")}),s=()=>IC(r,"cancel");r.addEventListener("keyup",i,e),r.addEventListener("blur",s,e)});r.addEventListener("keydown",n,e),r.addEventListener("blur",()=>r.removeEventListener("keydown",n),e)};function kF(t){return ZO(t)&&!TX()}function Xme(t,e,r={}){const[n,i,s]=SX(t,r),a=o=>{const l=o.currentTarget;if(!kF(o))return;w2.add(l);const u=e(l,o),d=(v,x)=>{window.removeEventListener("pointerup",f),window.removeEventListener("pointercancel",g),w2.has(l)&&w2.delete(l),kF(v)&&typeof u=="function"&&u(v,{success:x})},f=v=>{d(v,l===window||l===document||r.useGlobalTarget||kX(l,v.target))},g=v=>{d(v,!1)};window.addEventListener("pointerup",f,i),window.addEventListener("pointercancel",g,i)};return n.forEach(o=>{(r.useGlobalTarget?window:o).addEventListener("pointerdown",a,i),EX(o)&&(o.addEventListener("focus",u=>Yme(u,i)),!Kme(o)&&!o.hasAttribute("tabindex")&&(o.tabIndex=0))}),s}function AX(t){return FY(t)&&"ownerSVGElement"in t}function Qme(t){return AX(t)&&t.tagName==="svg"}const ka=t=>!!(t&&t.getVelocity),Jme=[...xX,ts,qh],Zme=t=>Jme.find(yX(t)),eR=C.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});function AF(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function epe(...t){return e=>{let r=!1;const n=t.map(i=>{const s=AF(i,e);return!r&&typeof s=="function"&&(r=!0),s});if(r)return()=>{for(let i=0;i<n.length;i++){const s=n[i];typeof s=="function"?s():AF(t[i],null)}}}}function tpe(...t){return C.useCallback(epe(...t),t)}class rpe extends C.Component{getSnapshotBeforeUpdate(e){const r=this.props.childRef.current;if(r&&e.isPresent&&!this.props.isPresent){const n=r.offsetParent,i=EX(n)&&n.offsetWidth||0,s=this.props.sizeRef.current;s.height=r.offsetHeight||0,s.width=r.offsetWidth||0,s.top=r.offsetTop,s.left=r.offsetLeft,s.right=i-s.width-s.left}return null}componentDidUpdate(){}render(){return this.props.children}}function npe({children:t,isPresent:e,anchorX:r,root:n}){const i=C.useId(),s=C.useRef(null),a=C.useRef({width:0,height:0,top:0,left:0,right:0}),{nonce:o}=C.useContext(eR),l=tpe(s,t==null?void 0:t.ref);return C.useInsertionEffect(()=>{const{width:u,height:d,top:f,left:g,right:v}=a.current;if(e||!s.current||!u||!d)return;const x=r==="left"?`left: ${g}`:`right: ${v}`;s.current.dataset.motionPopId=i;const b=document.createElement("style");o&&(b.nonce=o);const w=n??document.head;return w.appendChild(b),b.sheet&&b.sheet.insertRule(`
          [data-motion-pop-id="${i}"] {
            position: absolute !important;
            width: ${u}px !important;
            height: ${d}px !important;
            ${x}px !important;
            top: ${f}px !important;
          }
        `),()=>{w.contains(b)&&w.removeChild(b)}},[e]),m.jsx(rpe,{isPresent:e,childRef:s,sizeRef:a,children:C.cloneElement(t,{ref:l})})}const ipe=({children:t,initial:e,isPresent:r,onExitComplete:n,custom:i,presenceAffectsLayout:s,mode:a,anchorX:o,root:l})=>{const u=RO(spe),d=C.useId();let f=!0,g=C.useMemo(()=>(f=!1,{id:d,initial:e,isPresent:r,custom:i,onExitComplete:v=>{u.set(v,!0);for(const x of u.values())if(!x)return;n&&n()},register:v=>(u.set(v,!1),()=>u.delete(v))}),[r,u,n]);return s&&f&&(g={...g}),C.useMemo(()=>{u.forEach((v,x)=>u.set(x,!1))},[r]),C.useEffect(()=>{!r&&!u.size&&n&&n()},[r]),a==="popLayout"&&(t=m.jsx(npe,{isPresent:r,anchorX:o,root:l,children:t})),m.jsx(dS.Provider,{value:g,children:t})};function spe(){return new Map}function CX(t=!0){const e=C.useContext(dS);if(e===null)return[!0,null];const{isPresent:r,onExitComplete:n,register:i}=e,s=C.useId();C.useEffect(()=>{if(t)return i(s)},[t]);const a=C.useCallback(()=>t&&n&&n(s),[s,n,t]);return!r&&n?[!1,a]:[!0]}const g_=t=>t.key||"";function CF(t){const e=[];return C.Children.forEach(t,r=>{C.isValidElement(r)&&e.push(r)}),e}const NX=({children:t,custom:e,initial:r=!0,onExitComplete:n,presenceAffectsLayout:i=!0,mode:s="sync",propagate:a=!1,anchorX:o="left",root:l})=>{const[u,d]=CX(a),f=C.useMemo(()=>CF(t),[t]),g=a&&!u?[]:f.map(g_),v=C.useRef(!0),x=C.useRef(f),b=RO(()=>new Map),[w,E]=C.useState(f),[k,A]=C.useState(f);MY(()=>{v.current=!1,x.current=f;for(let j=0;j<k.length;j++){const S=g_(k[j]);g.includes(S)?b.delete(S):b.get(S)!==!0&&b.set(S,!1)}},[k,g.length,g.join("-")]);const O=[];if(f!==w){let j=[...f];for(let S=0;S<k.length;S++){const I=k[S],R=g_(I);g.includes(R)||(j.splice(S,0,I),O.push(I))}return s==="wait"&&O.length&&(j=O),A(CF(j)),E(f),null}const{forceRender:P}=C.useContext(OO);return m.jsx(m.Fragment,{children:k.map(j=>{const S=g_(j),I=a&&!u?!1:f===k||g.includes(S),R=()=>{if(b.has(S))b.set(S,!0);else return;let D=!0;b.forEach(M=>{M||(D=!1)}),D&&(P==null||P(),A(x.current),a&&(d==null||d()),n&&n())};return m.jsx(ipe,{isPresent:I,initial:!v.current||r?void 0:!1,custom:e,presenceAffectsLayout:i,mode:s,root:l,onExitComplete:I?void 0:R,anchorX:o,children:j},S)})})},IX=C.createContext({strict:!1}),NF={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},yg={};for(const t in NF)yg[t]={isEnabled:e=>NF[t].some(r=>!!e[r])};function ape(t){for(const e in t)yg[e]={...yg[e],...t[e]}}const ope=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function q2(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||ope.has(t)}let OX=t=>!q2(t);function lpe(t){typeof t=="function"&&(OX=e=>e.startsWith("on")?!q2(e):t(e))}try{lpe(require("@emotion/is-prop-valid").default)}catch{}function cpe(t,e,r){const n={};for(const i in t)i==="values"&&typeof t.values=="object"||(OX(i)||r===!0&&q2(i)||!e&&!q2(i)||t.draggable&&i.startsWith("onDrag"))&&(n[i]=t[i]);return n}const hS=C.createContext({});function fS(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}function B1(t){return typeof t=="string"||Array.isArray(t)}const tR=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],rR=["initial",...tR];function mS(t){return fS(t.animate)||rR.some(e=>B1(t[e]))}function RX(t){return!!(mS(t)||t.variants)}function upe(t,e){if(mS(t)){const{initial:r,animate:n}=t;return{initial:r===!1||B1(r)?r:void 0,animate:B1(n)?n:void 0}}return t.inherit!==!1?e:{}}function dpe(t){const{initial:e,animate:r}=upe(t,C.useContext(hS));return C.useMemo(()=>({initial:e,animate:r}),[IF(e),IF(r)])}function IF(t){return Array.isArray(t)?t.join(" "):t}function OF(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ry={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ut.test(t))t=parseFloat(t);else return t;const r=OF(t,e.target.x),n=OF(t,e.target.y);return`${r}% ${n}%`}},hpe={correct:(t,{treeScale:e,projectionDelta:r})=>{const n=t,i=qh.parse(t);if(i.length>5)return n;const s=qh.createTransformer(t),a=typeof i[0]!="number"?1:0,o=r.x.scale*e.x,l=r.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const u=li(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=u),typeof i[3+a]=="number"&&(i[3+a]/=u),s(i)}},$5={borderRadius:{...Ry,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ry,borderTopRightRadius:Ry,borderBottomLeftRadius:Ry,borderBottomRightRadius:Ry,boxShadow:hpe};function PX(t,{layout:e,layoutId:r}){return sv.has(t)||t.startsWith("origin")||(e||r!==void 0)&&(!!$5[t]||t==="opacity")}const fpe={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},mpe=iv.length;function ppe(t,e,r){let n="",i=!0;for(let s=0;s<mpe;s++){const a=iv[s],o=t[a];if(o===void 0)continue;let l=!0;if(typeof o=="number"?l=o===(a.startsWith("scale")?1:0):l=parseFloat(o)===0,!l||r){const u=_X(o,QO[a]);if(!l){i=!1;const d=fpe[a]||a;n+=`${d}(${u}) `}r&&(e[a]=u)}}return n=n.trim(),r?n=r(e,i?"":n):i&&(n="none"),n}function nR(t,e,r){const{style:n,vars:i,transformOrigin:s}=t;let a=!1,o=!1;for(const l in e){const u=e[l];if(sv.has(l)){a=!0;continue}else if(ZY(l)){i[l]=u;continue}else{const d=_X(u,QO[l]);l.startsWith("origin")?(o=!0,s[l]=d):n[l]=d}}if(e.transform||(a||r?n.transform=ppe(e,t.transform,r):n.transform&&(n.transform="none")),o){const{originX:l="50%",originY:u="50%",originZ:d=0}=s;n.transformOrigin=`${l} ${u} ${d}`}}const iR=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function jX(t,e,r){for(const n in e)!ka(e[n])&&!PX(n,r)&&(t[n]=e[n])}function gpe({transformTemplate:t},e){return C.useMemo(()=>{const r=iR();return nR(r,e,t),Object.assign({},r.vars,r.style)},[e])}function vpe(t,e){const r=t.style||{},n={};return jX(n,r,t),Object.assign(n,gpe(t,e)),n}function ype(t,e){const r={},n=vpe(t,e);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,n.userSelect=n.WebkitUserSelect=n.WebkitTouchCallout="none",n.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=n,r}const xpe={offset:"stroke-dashoffset",array:"stroke-dasharray"},bpe={offset:"strokeDashoffset",array:"strokeDasharray"};function wpe(t,e,r=1,n=0,i=!0){t.pathLength=1;const s=i?xpe:bpe;t[s.offset]=Ut.transform(-n);const a=Ut.transform(e),o=Ut.transform(r);t[s.array]=`${a} ${o}`}function DX(t,{attrX:e,attrY:r,attrScale:n,pathLength:i,pathSpacing:s=1,pathOffset:a=0,...o},l,u,d){if(nR(t,o,u),l){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:f,style:g}=t;f.transform&&(g.transform=f.transform,delete f.transform),(g.transform||f.transformOrigin)&&(g.transformOrigin=f.transformOrigin??"50% 50%",delete f.transformOrigin),g.transform&&(g.transformBox=(d==null?void 0:d.transformBox)??"fill-box",delete f.transformBox),e!==void 0&&(f.x=e),r!==void 0&&(f.y=r),n!==void 0&&(f.scale=n),i!==void 0&&wpe(f,i,s,a,!1)}const MX=()=>({...iR(),attrs:{}}),LX=t=>typeof t=="string"&&t.toLowerCase()==="svg";function _pe(t,e,r,n){const i=C.useMemo(()=>{const s=MX();return DX(s,e,LX(n),t.transformTemplate,t.style),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};jX(s,t.style,t),i.style={...s,...i.style}}return i}const Epe=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function sR(t){return typeof t!="string"||t.includes("-")?!1:!!(Epe.indexOf(t)>-1||/[A-Z]/u.test(t))}function Tpe(t,e,r,{latestValues:n},i,s=!1){const o=(sR(t)?_pe:ype)(e,n,i,t),l=cpe(e,typeof t=="string",s),u=t!==C.Fragment?{...l,...o,ref:r}:{},{children:d}=e,f=C.useMemo(()=>ka(d)?d.get():d,[d]);return C.createElement(t,{...u,children:f})}function RF(t){const e=[{},{}];return t==null||t.values.forEach((r,n)=>{e[0][n]=r.get(),e[1][n]=r.getVelocity()}),e}function aR(t,e,r,n){if(typeof e=="function"){const[i,s]=RF(n);e=e(r!==void 0?r:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=RF(n);e=e(r!==void 0?r:t.custom,i,s)}return e}function _2(t){return ka(t)?t.get():t}function Spe({scrapeMotionValuesFromProps:t,createRenderState:e},r,n,i){return{latestValues:kpe(r,n,i,t),renderState:e()}}function kpe(t,e,r,n){const i={},s=n(t,{});for(const g in s)i[g]=_2(s[g]);let{initial:a,animate:o}=t;const l=mS(t),u=RX(t);e&&u&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let d=r?r.initial===!1:!1;d=d||a===!1;const f=d?o:a;if(f&&typeof f!="boolean"&&!fS(f)){const g=Array.isArray(f)?f:[f];for(let v=0;v<g.length;v++){const x=aR(t,g[v]);if(x){const{transitionEnd:b,transition:w,...E}=x;for(const k in E){let A=E[k];if(Array.isArray(A)){const O=d?A.length-1:0;A=A[O]}A!==null&&(i[k]=A)}for(const k in b)i[k]=b[k]}}}return i}const FX=t=>(e,r)=>{const n=C.useContext(hS),i=C.useContext(dS),s=()=>Spe(t,e,n,i);return r?s():RO(s)};function oR(t,e,r){var s;const{style:n}=t,i={};for(const a in n)(ka(n[a])||e.style&&ka(e.style[a])||PX(a,t)||((s=r==null?void 0:r.getValue(a))==null?void 0:s.liveStyle)!==void 0)&&(i[a]=n[a]);return i}const Ape=FX({scrapeMotionValuesFromProps:oR,createRenderState:iR});function BX(t,e,r){const n=oR(t,e,r);for(const i in t)if(ka(t[i])||ka(e[i])){const s=iv.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;n[s]=t[i]}return n}const Cpe=FX({scrapeMotionValuesFromProps:BX,createRenderState:MX}),Npe=Symbol.for("motionComponentSymbol");function Lp(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function Ipe(t,e,r){return C.useCallback(n=>{n&&t.onMount&&t.onMount(n),e&&(n?e.mount(n):e.unmount()),r&&(typeof r=="function"?r(n):Lp(r)&&(r.current=n))},[e])}const lR=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),Ope="framerAppearId",VX="data-"+lR(Ope),UX=C.createContext({});function Rpe(t,e,r,n,i){var b,w;const{visualElement:s}=C.useContext(hS),a=C.useContext(IX),o=C.useContext(dS),l=C.useContext(eR).reducedMotion,u=C.useRef(null);n=n||a.renderer,!u.current&&n&&(u.current=n(t,{visualState:e,parent:s,props:r,presenceContext:o,blockInitialAnimation:o?o.initial===!1:!1,reducedMotionConfig:l}));const d=u.current,f=C.useContext(UX);d&&!d.projection&&i&&(d.type==="html"||d.type==="svg")&&Ppe(u.current,r,i,f);const g=C.useRef(!1);C.useInsertionEffect(()=>{d&&g.current&&d.update(r,o)});const v=r[VX],x=C.useRef(!!v&&!((b=window.MotionHandoffIsComplete)!=null&&b.call(window,v))&&((w=window.MotionHasOptimisedAnimation)==null?void 0:w.call(window,v)));return MY(()=>{d&&(g.current=!0,window.MotionIsMounted=!0,d.updateFeatures(),d.scheduleRenderMicrotask(),x.current&&d.animationState&&d.animationState.animateChanges())}),C.useEffect(()=>{d&&(!x.current&&d.animationState&&d.animationState.animateChanges(),x.current&&(queueMicrotask(()=>{var E;(E=window.MotionHandoffMarkAsComplete)==null||E.call(window,v)}),x.current=!1),d.enteringChildren=void 0)}),d}function Ppe(t,e,r,n){const{layoutId:i,layout:s,drag:a,dragConstraints:o,layoutScroll:l,layoutRoot:u,layoutCrossfade:d}=e;t.projection=new r(t.latestValues,e["data-framer-portal-id"]?void 0:zX(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!a||o&&Lp(o),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:n,crossfade:d,layoutScroll:l,layoutRoot:u})}function zX(t){if(t)return t.options.allowProjection!==!1?t.projection:zX(t.parent)}function OC(t,{forwardMotionProps:e=!1}={},r,n){r&&ape(r);const i=sR(t)?Cpe:Ape;function s(o,l){let u;const d={...C.useContext(eR),...o,layoutId:jpe(o)},{isStatic:f}=d,g=dpe(o),v=i(o,f);if(!f&&PO){Dpe();const x=Mpe(d);u=x.MeasureLayout,g.visualElement=Rpe(t,v,d,n,x.ProjectionNode)}return m.jsxs(hS.Provider,{value:g,children:[u&&g.visualElement?m.jsx(u,{visualElement:g.visualElement,...d}):null,Tpe(t,o,Ipe(v,g.visualElement,l),v,f,e)]})}s.displayName=`motion.${typeof t=="string"?t:`create(${t.displayName??t.name??""})`}`;const a=C.forwardRef(s);return a[Npe]=t,a}function jpe({layoutId:t}){const e=C.useContext(OO).id;return e&&t!==void 0?e+"-"+t:t}function Dpe(t,e){C.useContext(IX).strict}function Mpe(t){const{drag:e,layout:r}=yg;if(!e&&!r)return{};const n={...e,...r};return{MeasureLayout:e!=null&&e.isEnabled(t)||r!=null&&r.isEnabled(t)?n.MeasureLayout:void 0,ProjectionNode:n.ProjectionNode}}function Lpe(t,e){if(typeof Proxy>"u")return OC;const r=new Map,n=(s,a)=>OC(s,a,t,e),i=(s,a)=>n(s,a);return new Proxy(i,{get:(s,a)=>a==="create"?n:(r.has(a)||r.set(a,OC(a,void 0,t,e)),r.get(a))})}function $X({top:t,left:e,right:r,bottom:n}){return{x:{min:e,max:r},y:{min:t,max:n}}}function Fpe({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function Bpe(t,e){if(!e)return t;const r=e({x:t.left,y:t.top}),n=e({x:t.right,y:t.bottom});return{top:r.y,left:r.x,bottom:n.y,right:n.x}}function RC(t){return t===void 0||t===1}function H5({scale:t,scaleX:e,scaleY:r}){return!RC(t)||!RC(e)||!RC(r)}function r0(t){return H5(t)||HX(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function HX(t){return PF(t.x)||PF(t.y)}function PF(t){return t&&t!=="0%"}function W2(t,e,r){const n=t-r,i=e*n;return r+i}function jF(t,e,r,n,i){return i!==void 0&&(t=W2(t,i,n)),W2(t,r,n)+e}function q5(t,e=0,r=1,n,i){t.min=jF(t.min,e,r,n,i),t.max=jF(t.max,e,r,n,i)}function qX(t,{x:e,y:r}){q5(t.x,e.translate,e.scale,e.originPoint),q5(t.y,r.translate,r.scale,r.originPoint)}const DF=.999999999999,MF=1.0000000000001;function Vpe(t,e,r,n=!1){const i=r.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=r[o],a=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(n&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Bp(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,qX(t,a)),n&&r0(s.latestValues)&&Bp(t,s.latestValues))}e.x<MF&&e.x>DF&&(e.x=1),e.y<MF&&e.y>DF&&(e.y=1)}function Fp(t,e){t.min=t.min+e,t.max=t.max+e}function LF(t,e,r,n,i=.5){const s=li(t.min,t.max,i);q5(t,e,r,s,n)}function Bp(t,e){LF(t.x,e.x,e.scaleX,e.scale,e.originX),LF(t.y,e.y,e.scaleY,e.scale,e.originY)}function WX(t,e){return $X(Bpe(t.getBoundingClientRect(),e))}function Upe(t,e,r){const n=WX(t,r),{scroll:i}=e;return i&&(Fp(n.x,i.offset.x),Fp(n.y,i.offset.y)),n}const FF=()=>({translate:0,scale:1,origin:0,originPoint:0}),Vp=()=>({x:FF(),y:FF()}),BF=()=>({min:0,max:0}),fs=()=>({x:BF(),y:BF()}),W5={current:null},GX={current:!1};function zpe(){if(GX.current=!0,!!PO)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>W5.current=t.matches;t.addEventListener("change",e),e()}else W5.current=!1}const $pe=new WeakMap;function Hpe(t,e,r){for(const n in e){const i=e[n],s=r[n];if(ka(i))t.addValue(n,i);else if(ka(s))t.addValue(n,vg(i,{owner:t}));else if(s!==i)if(t.hasValue(n)){const a=t.getValue(n);a.liveStyle===!0?a.jump(i):a.hasAnimated||a.set(i)}else{const a=t.getStaticValue(n);t.addValue(n,vg(a!==void 0?a:i,{owner:t}))}}for(const n in r)e[n]===void 0&&t.removeValue(n);return e}const VF=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class qpe{scrapeMotionValuesFromProps(e,r,n){return{}}constructor({parent:e,props:r,presenceContext:n,reducedMotionConfig:i,blockInitialAnimation:s,visualState:a},o={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=YO,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const g=co.now();this.renderScheduledAt<g&&(this.renderScheduledAt=g,ti.render(this.render,!1,!0))};const{latestValues:l,renderState:u}=a;this.latestValues=l,this.baseTarget={...l},this.initialValues=r.initial?{...l}:{},this.renderState=u,this.parent=e,this.props=r,this.presenceContext=n,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=o,this.blockInitialAnimation=!!s,this.isControllingVariants=mS(r),this.isVariantNode=RX(r),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:d,...f}=this.scrapeMotionValuesFromProps(r,{},this);for(const g in f){const v=f[g];l[g]!==void 0&&ka(v)&&v.set(l[g])}}mount(e){var r;this.current=e,$pe.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,i)=>this.bindToMotionValue(i,n)),GX.current||zpe(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:W5.current,(r=this.parent)==null||r.addChild(this),this.update(this.props,this.presenceContext)}unmount(){var e;this.projection&&this.projection.unmount(),Hh(this.notifyUpdate),Hh(this.render),this.valueSubscriptions.forEach(r=>r()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),(e=this.parent)==null||e.removeChild(this);for(const r in this.events)this.events[r].clear();for(const r in this.features){const n=this.features[r];n&&(n.unmount(),n.isMounted=!1)}this.current=null}addChild(e){this.children.add(e),this.enteringChildren??(this.enteringChildren=new Set),this.enteringChildren.add(e)}removeChild(e){this.children.delete(e),this.enteringChildren&&this.enteringChildren.delete(e)}bindToMotionValue(e,r){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const n=sv.has(e);n&&this.onBindTransform&&this.onBindTransform();const i=r.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&ti.preRender(this.notifyUpdate),n&&this.projection&&(this.projection.isTransformDirty=!0),this.scheduleRender()});let s;window.MotionCheckAppearSync&&(s=window.MotionCheckAppearSync(this,e,r)),this.valueSubscriptions.set(e,()=>{i(),s&&s(),r.owner&&r.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in yg){const r=yg[e];if(!r)continue;const{isEnabled:n,Feature:i}=r;if(!this.features[e]&&i&&n(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):fs()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,r){this.latestValues[e]=r}update(e,r){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=r;for(let n=0;n<VF.length;n++){const i=VF[n];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,a=e[s];a&&(this.propEventSubscriptions[i]=this.on(i,a))}this.prevMotionValues=Hpe(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const r=this.getClosestVariantNode();if(r)return r.variantChildren&&r.variantChildren.add(e),()=>r.variantChildren.delete(e)}addValue(e,r){const n=this.values.get(e);r!==n&&(n&&this.removeValue(e),this.bindToMotionValue(e,r),this.values.set(e,r),this.latestValues[e]=r.get())}removeValue(e){this.values.delete(e);const r=this.valueSubscriptions.get(e);r&&(r(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,r){if(this.props.values&&this.props.values[e])return this.props.values[e];let n=this.values.get(e);return n===void 0&&r!==void 0&&(n=vg(r===null?void 0:r,{owner:this}),this.addValue(e,n)),n}readValue(e,r){let n=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:this.getBaseTargetFromProps(this.props,e)??this.readValueFromInstance(this.current,e,this.options);return n!=null&&(typeof n=="string"&&(LY(n)||BY(n))?n=parseFloat(n):!Zme(n)&&qh.test(r)&&(n=wX(e,r)),this.setBaseTarget(e,ka(n)?n.get():n)),ka(n)?n.get():n}setBaseTarget(e,r){this.baseTarget[e]=r}getBaseTarget(e){var s;const{initial:r}=this.props;let n;if(typeof r=="string"||typeof r=="object"){const a=aR(this.props,r,(s=this.presenceContext)==null?void 0:s.custom);a&&(n=a[e])}if(r&&n!==void 0)return n;const i=this.getBaseTargetFromProps(this.props,e);return i!==void 0&&!ka(i)?i:this.initialValues[e]!==void 0&&n===void 0?void 0:this.baseTarget[e]}on(e,r){return this.events[e]||(this.events[e]=new FO),this.events[e].add(r)}notify(e,...r){this.events[e]&&this.events[e].notify(...r)}scheduleRenderMicrotask(){JO.render(this.render)}}class KX extends qpe{constructor(){super(...arguments),this.KeyframeResolver=Ume}sortInstanceNodePosition(e,r){return e.compareDocumentPosition(r)&2?1:-1}getBaseTargetFromProps(e,r){return e.style?e.style[r]:void 0}removeValueFromRenderState(e,{vars:r,style:n}){delete r[e],delete n[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;ka(e)&&(this.childSubscription=e.on("change",r=>{this.current&&(this.current.textContent=`${r}`)}))}}function YX(t,{style:e,vars:r},n,i){const s=t.style;let a;for(a in e)s[a]=e[a];i==null||i.applyProjectionStyles(s,n);for(a in r)s.setProperty(a,r[a])}function Wpe(t){return window.getComputedStyle(t)}class Gpe extends KX{constructor(){super(...arguments),this.type="html",this.renderInstance=YX}readValueFromInstance(e,r){var n;if(sv.has(r))return(n=this.projection)!=null&&n.isProjecting?M5(r):ame(e,r);{const i=Wpe(e),s=(ZY(r)?i.getPropertyValue(r):i[r])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:r}){return WX(e,r)}build(e,r,n){nR(e,r,n.transformTemplate)}scrapeMotionValuesFromProps(e,r,n){return oR(e,r,n)}}const XX=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function Kpe(t,e,r,n){YX(t,e,void 0,n);for(const i in e.attrs)t.setAttribute(XX.has(i)?i:lR(i),e.attrs[i])}class Ype extends KX{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=fs}getBaseTargetFromProps(e,r){return e[r]}readValueFromInstance(e,r){if(sv.has(r)){const n=bX(r);return n&&n.default||0}return r=XX.has(r)?r:lR(r),e.getAttribute(r)}scrapeMotionValuesFromProps(e,r,n){return BX(e,r,n)}build(e,r,n){DX(e,r,this.isSVGTag,n.transformTemplate,n.style)}renderInstance(e,r,n,i){Kpe(e,r,n,i)}mount(e){this.isSVGTag=LX(e.tagName),super.mount(e)}}const Xpe=(t,e)=>sR(t)?new Ype(e):new Gpe(e,{allowProjection:t!==C.Fragment});function Yp(t,e,r){const n=t.getProps();return aR(n,e,r!==void 0?r:n.custom,t)}const G5=t=>Array.isArray(t);function Qpe(t,e,r){t.hasValue(e)?t.getValue(e).set(r):t.addValue(e,vg(r))}function Jpe(t){return G5(t)?t[t.length-1]||0:t}function Zpe(t,e){const r=Yp(t,e);let{transitionEnd:n={},transition:i={},...s}=r||{};s={...s,...n};for(const a in s){const o=Jpe(s[a]);Qpe(t,a,o)}}function ege(t){return!!(ka(t)&&t.add)}function K5(t,e){const r=t.getValue("willChange");if(ege(r))return r.add(e);if(!r&&ud.WillChange){const n=new ud.WillChange("auto");t.addValue("willChange",n),n.add(e)}}function QX(t){return t.props[VX]}const tge=t=>t!==null;function rge(t,{repeat:e,repeatType:r="loop"},n){const i=t.filter(tge),s=e&&r!=="loop"&&e%2===1?0:i.length-1;return i[s]}const nge={type:"spring",stiffness:500,damping:25,restSpeed:10},ige=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),sge={type:"keyframes",duration:.8},age={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},oge=(t,{keyframes:e})=>e.length>2?sge:sv.has(t)?t.startsWith("scale")?ige(e[1]):nge:age;function lge({when:t,delay:e,delayChildren:r,staggerChildren:n,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:u,...d}){return!!Object.keys(d).length}const cR=(t,e,r,n={},i,s)=>a=>{const o=XO(n,t)||{},l=o.delay||n.delay||0;let{elapsed:u=0}=n;u=u-Qc(l);const d={keyframes:Array.isArray(r)?r:[null,r],ease:"easeOut",velocity:e.getVelocity(),...o,delay:-u,onUpdate:g=>{e.set(g),o.onUpdate&&o.onUpdate(g)},onComplete:()=>{a(),o.onComplete&&o.onComplete()},name:t,motionValue:e,element:s?void 0:i};lge(o)||Object.assign(d,oge(t,d)),d.duration&&(d.duration=Qc(d.duration)),d.repeatDelay&&(d.repeatDelay=Qc(d.repeatDelay)),d.from!==void 0&&(d.keyframes[0]=d.from);let f=!1;if((d.type===!1||d.duration===0&&!d.repeatDelay)&&(U5(d),d.delay===0&&(f=!0)),(ud.instantAnimations||ud.skipAnimations)&&(f=!0,U5(d),d.delay=0),d.allowFlatten=!o.type&&!o.ease,f&&!s&&e.get()!==void 0){const g=rge(d.keyframes,o);if(g!==void 0){ti.update(()=>{d.onUpdate(g),d.onComplete()});return}}return o.isSync?new KO(d):new Nme(d)};function cge({protectedKeys:t,needsAnimating:e},r){const n=t.hasOwnProperty(r)&&e[r]!==!0;return e[r]=!1,n}function JX(t,e,{delay:r=0,transitionOverride:n,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=e;n&&(s=n);const l=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const d in o){const f=t.getValue(d,t.latestValues[d]??null),g=o[d];if(g===void 0||u&&cge(u,d))continue;const v={delay:r,...XO(s||{},d)},x=f.get();if(x!==void 0&&!f.isAnimating&&!Array.isArray(g)&&g===x&&!v.velocity)continue;let b=!1;if(window.MotionHandoffAnimation){const E=QX(t);if(E){const k=window.MotionHandoffAnimation(E,d,ti);k!==null&&(v.startTime=k,b=!0)}}K5(t,d),f.start(cR(d,f,g,t.shouldReduceMotion&&vX.has(d)?{type:!1}:v,t,b));const w=f.animation;w&&l.push(w)}return a&&Promise.all(l).then(()=>{ti.update(()=>{a&&Zpe(t,a)})}),l}function ZX(t,e,r,n=0,i=1){const s=Array.from(t).sort((u,d)=>u.sortNodePosition(d)).indexOf(e),a=t.size,o=(a-1)*n;return typeof r=="function"?r(s,a):i===1?s*n:o-s*n}function Y5(t,e,r={}){var l;const n=Yp(t,e,r.type==="exit"?(l=t.presenceContext)==null?void 0:l.custom:void 0);let{transition:i=t.getDefaultTransition()||{}}=n||{};r.transitionOverride&&(i=r.transitionOverride);const s=n?()=>Promise.all(JX(t,n,r)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(u=0)=>{const{delayChildren:d=0,staggerChildren:f,staggerDirection:g}=i;return uge(t,e,u,d,f,g,r)}:()=>Promise.resolve(),{when:o}=i;if(o){const[u,d]=o==="beforeChildren"?[s,a]:[a,s];return u().then(()=>d())}else return Promise.all([s(),a(r.delay)])}function uge(t,e,r=0,n=0,i=0,s=1,a){const o=[];for(const l of t.variantChildren)l.notify("AnimationStart",e),o.push(Y5(l,e,{...a,delay:r+(typeof n=="function"?0:n)+ZX(t.variantChildren,l,n,i,s)}).then(()=>l.notify("AnimationComplete",e)));return Promise.all(o)}function dge(t,e,r={}){t.notify("AnimationStart",e);let n;if(Array.isArray(e)){const i=e.map(s=>Y5(t,s,r));n=Promise.all(i)}else if(typeof e=="string")n=Y5(t,e,r);else{const i=typeof e=="function"?Yp(t,e,r.custom):e;n=Promise.all(JX(t,i,r))}return n.then(()=>{t.notify("AnimationComplete",e)})}function eQ(t,e){if(!Array.isArray(e))return!1;const r=e.length;if(r!==t.length)return!1;for(let n=0;n<r;n++)if(e[n]!==t[n])return!1;return!0}const hge=rR.length;function tQ(t){if(!t)return;if(!t.isControllingVariants){const r=t.parent?tQ(t.parent)||{}:{};return t.props.initial!==void 0&&(r.initial=t.props.initial),r}const e={};for(let r=0;r<hge;r++){const n=rR[r],i=t.props[n];(B1(i)||i===!1)&&(e[n]=i)}return e}const fge=[...tR].reverse(),mge=tR.length;function pge(t){return e=>Promise.all(e.map(({animation:r,options:n})=>dge(t,r,n)))}function gge(t){let e=pge(t),r=UF(),n=!0;const i=l=>(u,d)=>{var g;const f=Yp(t,d,l==="exit"?(g=t.presenceContext)==null?void 0:g.custom:void 0);if(f){const{transition:v,transitionEnd:x,...b}=f;u={...u,...b,...x}}return u};function s(l){e=l(t)}function a(l){const{props:u}=t,d=tQ(t.parent)||{},f=[],g=new Set;let v={},x=1/0;for(let w=0;w<mge;w++){const E=fge[w],k=r[E],A=u[E]!==void 0?u[E]:d[E],O=B1(A),P=E===l?k.isActive:null;P===!1&&(x=w);let j=A===d[E]&&A!==u[E]&&O;if(j&&n&&t.manuallyAnimateOnMount&&(j=!1),k.protectedKeys={...v},!k.isActive&&P===null||!A&&!k.prevProp||fS(A)||typeof A=="boolean")continue;const S=vge(k.prevProp,A);let I=S||E===l&&k.isActive&&!j&&O||w>x&&O,R=!1;const D=Array.isArray(A)?A:[A];let M=D.reduce(i(E),{});P===!1&&(M={});const{prevResolvedValues:L={}}=k,U={...L,...M},le=Q=>{I=!0,g.has(Q)&&(R=!0,g.delete(Q)),k.needsAnimating[Q]=!0;const he=t.getValue(Q);he&&(he.liveStyle=!1)};for(const Q in U){const he=M[Q],Z=L[Q];if(v.hasOwnProperty(Q))continue;let ge=!1;G5(he)&&G5(Z)?ge=!eQ(he,Z):ge=he!==Z,ge?he!=null?le(Q):g.add(Q):he!==void 0&&g.has(Q)?le(Q):k.protectedKeys[Q]=!0}k.prevProp=A,k.prevResolvedValues=M,k.isActive&&(v={...v,...M}),n&&t.blockInitialAnimation&&(I=!1);const ue=j&&S;I&&(!ue||R)&&f.push(...D.map(Q=>{const he={type:E};if(typeof Q=="string"&&n&&!ue&&t.manuallyAnimateOnMount&&t.parent){const{parent:Z}=t,ge=Yp(Z,Q);if(Z.enteringChildren&&ge){const{delayChildren:H}=ge.transition||{};he.delay=ZX(Z.enteringChildren,t,H)}}return{animation:Q,options:he}}))}if(g.size){const w={};if(typeof u.initial!="boolean"){const E=Yp(t,Array.isArray(u.initial)?u.initial[0]:u.initial);E&&E.transition&&(w.transition=E.transition)}g.forEach(E=>{const k=t.getBaseTarget(E),A=t.getValue(E);A&&(A.liveStyle=!0),w[E]=k??null}),f.push({animation:w})}let b=!!f.length;return n&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(b=!1),n=!1,b?e(f):Promise.resolve()}function o(l,u){var f;if(r[l].isActive===u)return Promise.resolve();(f=t.variantChildren)==null||f.forEach(g=>{var v;return(v=g.animationState)==null?void 0:v.setActive(l,u)}),r[l].isActive=u;const d=a(l);for(const g in r)r[g].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>r,reset:()=>{r=UF()}}}function vge(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!eQ(e,t):!1}function Jf(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function UF(){return{animate:Jf(!0),whileInView:Jf(),whileHover:Jf(),whileTap:Jf(),whileDrag:Jf(),whileFocus:Jf(),exit:Jf()}}class ff{constructor(e){this.isMounted=!1,this.node=e}update(){}}class yge extends ff{constructor(e){super(e),e.animationState||(e.animationState=gge(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();fS(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:r}=this.node.prevProps||{};e!==r&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)==null||e.call(this)}}let xge=0;class bge extends ff{constructor(){super(...arguments),this.id=xge++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:r}=this.node.presenceContext,{isPresent:n}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===n)return;const i=this.node.animationState.setActive("exit",!e);r&&!e&&i.then(()=>{r(this.id)})}mount(){const{register:e,onExitComplete:r}=this.node.presenceContext||{};r&&r(this.id),e&&(this.unmount=e(this.id))}unmount(){}}const wge={animation:{Feature:yge},exit:{Feature:bge}};function V1(t,e,r,n={passive:!0}){return t.addEventListener(e,r,n),()=>t.removeEventListener(e,r)}function Yx(t){return{point:{x:t.pageX,y:t.pageY}}}const _ge=t=>e=>ZO(e)&&t(e,Yx(e));function o1(t,e,r,n){return V1(t,e,_ge(r),n)}const rQ=1e-4,Ege=1-rQ,Tge=1+rQ,nQ=.01,Sge=0-nQ,kge=0+nQ;function Ua(t){return t.max-t.min}function Age(t,e,r){return Math.abs(t-e)<=r}function zF(t,e,r,n=.5){t.origin=n,t.originPoint=li(e.min,e.max,t.origin),t.scale=Ua(r)/Ua(e),t.translate=li(r.min,r.max,t.origin)-t.originPoint,(t.scale>=Ege&&t.scale<=Tge||isNaN(t.scale))&&(t.scale=1),(t.translate>=Sge&&t.translate<=kge||isNaN(t.translate))&&(t.translate=0)}function l1(t,e,r,n){zF(t.x,e.x,r.x,n?n.originX:void 0),zF(t.y,e.y,r.y,n?n.originY:void 0)}function $F(t,e,r){t.min=r.min+e.min,t.max=t.min+Ua(e)}function Cge(t,e,r){$F(t.x,e.x,r.x),$F(t.y,e.y,r.y)}function HF(t,e,r){t.min=e.min-r.min,t.max=t.min+Ua(e)}function G2(t,e,r){HF(t.x,e.x,r.x),HF(t.y,e.y,r.y)}function yl(t){return[t("x"),t("y")]}const iQ=({current:t})=>t?t.ownerDocument.defaultView:null,qF=(t,e)=>Math.abs(t-e);function Nge(t,e){const r=qF(t.x,e.x),n=qF(t.y,e.y);return Math.sqrt(r**2+n**2)}class sQ{constructor(e,r,{transformPagePoint:n,contextWindow:i=window,dragSnapToOrigin:s=!1,distanceThreshold:a=3}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const g=jC(this.lastMoveEventInfo,this.history),v=this.startEvent!==null,x=Nge(g.offset,{x:0,y:0})>=this.distanceThreshold;if(!v&&!x)return;const{point:b}=g,{timestamp:w}=ta;this.history.push({...b,timestamp:w});const{onStart:E,onMove:k}=this.handlers;v||(E&&E(this.lastMoveEvent,g),this.startEvent=this.lastMoveEvent),k&&k(this.lastMoveEvent,g)},this.handlePointerMove=(g,v)=>{this.lastMoveEvent=g,this.lastMoveEventInfo=PC(v,this.transformPagePoint),ti.update(this.updatePoint,!0)},this.handlePointerUp=(g,v)=>{this.end();const{onEnd:x,onSessionEnd:b,resumeAnimation:w}=this.handlers;if(this.dragSnapToOrigin&&w&&w(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const E=jC(g.type==="pointercancel"?this.lastMoveEventInfo:PC(v,this.transformPagePoint),this.history);this.startEvent&&x&&x(g,E),b&&b(g,E)},!ZO(e))return;this.dragSnapToOrigin=s,this.handlers=r,this.transformPagePoint=n,this.distanceThreshold=a,this.contextWindow=i||window;const o=Yx(e),l=PC(o,this.transformPagePoint),{point:u}=l,{timestamp:d}=ta;this.history=[{...u,timestamp:d}];const{onSessionStart:f}=r;f&&f(e,jC(l,this.history)),this.removeListeners=Wx(o1(this.contextWindow,"pointermove",this.handlePointerMove),o1(this.contextWindow,"pointerup",this.handlePointerUp),o1(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Hh(this.updatePoint)}}function PC(t,e){return e?{point:e(t.point)}:t}function WF(t,e){return{x:t.x-e.x,y:t.y-e.y}}function jC({point:t},e){return{point:t,delta:WF(t,aQ(e)),offset:WF(t,Ige(e)),velocity:Oge(e,.1)}}function Ige(t){return t[0]}function aQ(t){return t[t.length-1]}function Oge(t,e){if(t.length<2)return{x:0,y:0};let r=t.length-1,n=null;const i=aQ(t);for(;r>=0&&(n=t[r],!(i.timestamp-n.timestamp>Qc(e)));)r--;if(!n)return{x:0,y:0};const s=_l(i.timestamp-n.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-n.x)/s,y:(i.y-n.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Rge(t,{min:e,max:r},n){return e!==void 0&&t<e?t=n?li(e,t,n.min):Math.max(t,e):r!==void 0&&t>r&&(t=n?li(r,t,n.max):Math.min(t,r)),t}function GF(t,e,r){return{min:e!==void 0?t.min+e:void 0,max:r!==void 0?t.max+r-(t.max-t.min):void 0}}function Pge(t,{top:e,left:r,bottom:n,right:i}){return{x:GF(t.x,r,i),y:GF(t.y,e,n)}}function KF(t,e){let r=e.min-t.min,n=e.max-t.max;return e.max-e.min<t.max-t.min&&([r,n]=[n,r]),{min:r,max:n}}function jge(t,e){return{x:KF(t.x,e.x),y:KF(t.y,e.y)}}function Dge(t,e){let r=.5;const n=Ua(t),i=Ua(e);return i>n?r=M1(e.min,e.max-n,t.min):n>i&&(r=M1(t.min,t.max-i,e.min)),cd(0,1,r)}function Mge(t,e){const r={};return e.min!==void 0&&(r.min=e.min-t.min),e.max!==void 0&&(r.max=e.max-t.min),r}const X5=.35;function Lge(t=X5){return t===!1?t=0:t===!0&&(t=X5),{x:YF(t,"left","right"),y:YF(t,"top","bottom")}}function YF(t,e,r){return{min:XF(t,e),max:XF(t,r)}}function XF(t,e){return typeof t=="number"?t:t[e]||0}const Fge=new WeakMap;class Bge{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=fs(),this.latestPointerEvent=null,this.latestPanInfo=null,this.visualElement=e}start(e,{snapToCursor:r=!1,distanceThreshold:n}={}){const{presenceContext:i}=this.visualElement;if(i&&i.isPresent===!1)return;const s=f=>{const{dragSnapToOrigin:g}=this.getProps();g?this.pauseAnimation():this.stopAnimation(),r&&this.snapToCursor(Yx(f).point)},a=(f,g)=>{const{drag:v,dragPropagation:x,onDragStart:b}=this.getProps();if(v&&!x&&(this.openDragLock&&this.openDragLock(),this.openDragLock=qme(v),!this.openDragLock))return;this.latestPointerEvent=f,this.latestPanInfo=g,this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),yl(E=>{let k=this.getAxisMotionValue(E).get()||0;if(Jc.test(k)){const{projection:A}=this.visualElement;if(A&&A.layout){const O=A.layout.layoutBox[E];O&&(k=Ua(O)*(parseFloat(k)/100))}}this.originPoint[E]=k}),b&&ti.postRender(()=>b(f,g)),K5(this.visualElement,"transform");const{animationState:w}=this.visualElement;w&&w.setActive("whileDrag",!0)},o=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g;const{dragPropagation:v,dragDirectionLock:x,onDirectionLock:b,onDrag:w}=this.getProps();if(!v&&!this.openDragLock)return;const{offset:E}=g;if(x&&this.currentDirection===null){this.currentDirection=Vge(E),this.currentDirection!==null&&b&&b(this.currentDirection);return}this.updateAxis("x",g.point,E),this.updateAxis("y",g.point,E),this.visualElement.render(),w&&w(f,g)},l=(f,g)=>{this.latestPointerEvent=f,this.latestPanInfo=g,this.stop(f,g),this.latestPointerEvent=null,this.latestPanInfo=null},u=()=>yl(f=>{var g;return this.getAnimationState(f)==="paused"&&((g=this.getAxisMotionValue(f).animation)==null?void 0:g.play())}),{dragSnapToOrigin:d}=this.getProps();this.panSession=new sQ(e,{onSessionStart:s,onStart:a,onMove:o,onSessionEnd:l,resumeAnimation:u},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:d,distanceThreshold:n,contextWindow:iQ(this.visualElement)})}stop(e,r){const n=e||this.latestPointerEvent,i=r||this.latestPanInfo,s=this.isDragging;if(this.cancel(),!s||!i||!n)return;const{velocity:a}=i;this.startAnimation(a);const{onDragEnd:o}=this.getProps();o&&ti.postRender(()=>o(n,i))}cancel(){this.isDragging=!1;const{projection:e,animationState:r}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:n}=this.getProps();!n&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),r&&r.setActive("whileDrag",!1)}updateAxis(e,r,n){const{drag:i}=this.getProps();if(!n||!v_(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+n[e];this.constraints&&this.constraints[e]&&(a=Rge(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var s;const{dragConstraints:e,dragElastic:r}=this.getProps(),n=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(s=this.visualElement.projection)==null?void 0:s.layout,i=this.constraints;e&&Lp(e)?this.constraints||(this.constraints=this.resolveRefConstraints()):e&&n?this.constraints=Pge(n.layoutBox,e):this.constraints=!1,this.elastic=Lge(r),i!==this.constraints&&n&&this.constraints&&!this.hasMutatedConstraints&&yl(a=>{this.constraints!==!1&&this.getAxisMotionValue(a)&&(this.constraints[a]=Mge(n.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:r}=this.getProps();if(!e||!Lp(e))return!1;const n=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=Upe(n,i.root,this.visualElement.getTransformPagePoint());let a=jge(i.layout.layoutBox,s);if(r){const o=r(Fpe(a));this.hasMutatedConstraints=!!o,o&&(a=$X(o))}return a}startAnimation(e){const{drag:r,dragMomentum:n,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},u=yl(d=>{if(!v_(d,r,this.currentDirection))return;let f=l&&l[d]||{};a&&(f={min:0,max:0});const g=i?200:1e6,v=i?40:1e7,x={type:"inertia",velocity:n?e[d]:0,bounceStiffness:g,bounceDamping:v,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(d,x)});return Promise.all(u).then(o)}startAxisValueAnimation(e,r){const n=this.getAxisMotionValue(e);return K5(this.visualElement,e),n.start(cR(e,n,0,r,this.visualElement,!1))}stopAnimation(){yl(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){yl(e=>{var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.pause()})}getAnimationState(e){var r;return(r=this.getAxisMotionValue(e).animation)==null?void 0:r.state}getAxisMotionValue(e){const r=`_drag${e.toUpperCase()}`,n=this.visualElement.getProps(),i=n[r];return i||this.visualElement.getValue(e,(n.initial?n.initial[e]:void 0)||0)}snapToCursor(e){yl(r=>{const{drag:n}=this.getProps();if(!v_(r,n,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(r);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[r];s.set(e[r]-li(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:r}=this.getProps(),{projection:n}=this.visualElement;if(!Lp(r)||!n||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};yl(a=>{const o=this.getAxisMotionValue(a);if(o&&this.constraints!==!1){const l=o.get();i[a]=Dge({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",n.root&&n.root.updateScroll(),n.updateLayout(),this.resolveConstraints(),yl(a=>{if(!v_(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:u}=this.constraints[a];o.set(li(l,u,i[a]))})}addListeners(){if(!this.visualElement.current)return;Fge.set(this.visualElement,this);const e=this.visualElement.current,r=o1(e,"pointerdown",l=>{const{drag:u,dragListener:d=!0}=this.getProps();u&&d&&this.start(l)}),n=()=>{const{dragConstraints:l}=this.getProps();Lp(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",n);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),ti.read(n);const a=V1(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",(({delta:l,hasLayoutChanged:u})=>{this.isDragging&&u&&(yl(d=>{const f=this.getAxisMotionValue(d);f&&(this.originPoint[d]+=l[d].translate,f.set(f.get()+l[d].translate))}),this.visualElement.render())}));return()=>{a(),r(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:r=!1,dragDirectionLock:n=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=X5,dragMomentum:o=!0}=e;return{...e,drag:r,dragDirectionLock:n,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function v_(t,e,r){return(e===!0||e===t)&&(r===null||r===t)}function Vge(t,e=10){let r=null;return Math.abs(t.y)>e?r="y":Math.abs(t.x)>e&&(r="x"),r}class Uge extends ff{constructor(e){super(e),this.removeGroupControls=Cl,this.removeListeners=Cl,this.controls=new Bge(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Cl}unmount(){this.removeGroupControls(),this.removeListeners()}}const QF=t=>(e,r)=>{t&&ti.postRender(()=>t(e,r))};class zge extends ff{constructor(){super(...arguments),this.removePointerDownListener=Cl}onPointerDown(e){this.session=new sQ(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:iQ(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:r,onPan:n,onPanEnd:i}=this.node.getProps();return{onSessionStart:QF(e),onStart:QF(r),onMove:n,onEnd:(s,a)=>{delete this.session,i&&ti.postRender(()=>i(s,a))}}}mount(){this.removePointerDownListener=o1(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const E2={hasAnimatedSinceResize:!0,hasEverUpdated:!1};let DC=!1;class $ge extends C.Component{componentDidMount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n,layoutId:i}=this.props,{projection:s}=e;s&&(r.group&&r.group.add(s),n&&n.register&&i&&n.register(s),DC&&s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),E2.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:r,visualElement:n,drag:i,isPresent:s}=this.props,{projection:a}=n;return a&&(a.isPresent=s,DC=!0,i||e.layoutDependency!==r||r===void 0||e.isPresent!==s?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||ti.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),JO.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:r,switchLayoutGroup:n}=this.props,{projection:i}=e;DC=!0,i&&(i.scheduleCheckAfterUnmount(),r&&r.group&&r.group.remove(i),n&&n.deregister&&n.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oQ(t){const[e,r]=CX(),n=C.useContext(OO);return m.jsx($ge,{...t,layoutGroup:n,switchLayoutGroup:C.useContext(UX),isPresent:e,safeToRemove:r})}function Hge(t,e,r){const n=ka(t)?t:vg(t);return n.start(cR("",n,e,r)),n.animation}const qge=(t,e)=>t.depth-e.depth;class Wge{constructor(){this.children=[],this.isDirty=!1}add(e){jO(this.children,e),this.isDirty=!0}remove(e){DO(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(qge),this.isDirty=!1,this.children.forEach(e)}}function Gge(t,e){const r=co.now(),n=({timestamp:i})=>{const s=i-r;s>=e&&(Hh(n),t(s-e))};return ti.setup(n,!0),()=>Hh(n)}const lQ=["TopLeft","TopRight","BottomLeft","BottomRight"],Kge=lQ.length,JF=t=>typeof t=="string"?parseFloat(t):t,ZF=t=>typeof t=="number"||Ut.test(t);function Yge(t,e,r,n,i,s){i?(t.opacity=li(0,r.opacity??1,Xge(n)),t.opacityExit=li(e.opacity??1,0,Qge(n))):s&&(t.opacity=li(e.opacity??1,r.opacity??1,n));for(let a=0;a<Kge;a++){const o=`border${lQ[a]}Radius`;let l=eB(e,o),u=eB(r,o);if(l===void 0&&u===void 0)continue;l||(l=0),u||(u=0),l===0||u===0||ZF(l)===ZF(u)?(t[o]=Math.max(li(JF(l),JF(u),n),0),(Jc.test(u)||Jc.test(l))&&(t[o]+="%")):t[o]=u}(e.rotate||r.rotate)&&(t.rotate=li(e.rotate||0,r.rotate||0,n))}function eB(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const Xge=cQ(0,.5,GY),Qge=cQ(.5,.95,Cl);function cQ(t,e,r){return n=>n<t?0:n>e?1:r(M1(t,e,n))}function tB(t,e){t.min=e.min,t.max=e.max}function Wl(t,e){tB(t.x,e.x),tB(t.y,e.y)}function rB(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function nB(t,e,r,n,i){return t-=e,t=W2(t,1/r,n),i!==void 0&&(t=W2(t,1/i,n)),t}function Jge(t,e=0,r=1,n=.5,i,s=t,a=t){if(Jc.test(e)&&(e=parseFloat(e),e=li(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=li(s.min,s.max,n);t===s&&(o-=e),t.min=nB(t.min,e,r,o,i),t.max=nB(t.max,e,r,o,i)}function iB(t,e,[r,n,i],s,a){Jge(t,e[r],e[n],e[i],e.scale,s,a)}const Zge=["x","scaleX","originX"],eve=["y","scaleY","originY"];function sB(t,e,r,n){iB(t.x,e,Zge,r?r.x:void 0,n?n.x:void 0),iB(t.y,e,eve,r?r.y:void 0,n?n.y:void 0)}function aB(t){return t.translate===0&&t.scale===1}function uQ(t){return aB(t.x)&&aB(t.y)}function oB(t,e){return t.min===e.min&&t.max===e.max}function tve(t,e){return oB(t.x,e.x)&&oB(t.y,e.y)}function lB(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function dQ(t,e){return lB(t.x,e.x)&&lB(t.y,e.y)}function cB(t){return Ua(t.x)/Ua(t.y)}function uB(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class rve{constructor(){this.members=[]}add(e){jO(this.members,e),e.scheduleRender()}remove(e){if(DO(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const r=this.members[this.members.length-1];r&&this.promote(r)}}relegate(e){const r=this.members.findIndex(i=>e===i);if(r===0)return!1;let n;for(let i=r;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){n=s;break}}return n?(this.promote(n),!0):!1}promote(e,r){const n=this.lead;if(e!==n&&(this.prevLead=n,this.lead=e,e.show(),n)){n.instance&&n.scheduleRender(),e.scheduleRender(),e.resumeFrom=n,r&&(e.resumeFrom.preserveOpacity=!0),n.snapshot&&(e.snapshot=n.snapshot,e.snapshot.latestValues=n.animationValues||n.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&n.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:r,resumingFrom:n}=e;r.onExitComplete&&r.onExitComplete(),n&&n.options.onExitComplete&&n.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function nve(t,e,r){let n="";const i=t.x.translate/e.x,s=t.y.translate/e.y,a=(r==null?void 0:r.z)||0;if((i||s||a)&&(n=`translate3d(${i}px, ${s}px, ${a}px) `),(e.x!==1||e.y!==1)&&(n+=`scale(${1/e.x}, ${1/e.y}) `),r){const{transformPerspective:u,rotate:d,rotateX:f,rotateY:g,skewX:v,skewY:x}=r;u&&(n=`perspective(${u}px) ${n}`),d&&(n+=`rotate(${d}deg) `),f&&(n+=`rotateX(${f}deg) `),g&&(n+=`rotateY(${g}deg) `),v&&(n+=`skewX(${v}deg) `),x&&(n+=`skewY(${x}deg) `)}const o=t.x.scale*e.x,l=t.y.scale*e.y;return(o!==1||l!==1)&&(n+=`scale(${o}, ${l})`),n||"none"}const MC=["","X","Y","Z"],ive=1e3;let sve=0;function LC(t,e,r,n){const{latestValues:i}=e;i[t]&&(r[t]=i[t],e.setStaticValue(t,0),n&&(n[t]=0))}function hQ(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const r=QX(e);if(window.MotionHasOptimisedAnimation(r,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(r,"transform",ti,!(i||s))}const{parent:n}=t;n&&!n.hasCheckedOptimisedAppear&&hQ(n)}function fQ({attachResizeListener:t,defaultParent:e,measureScroll:r,checkIsScrollRoot:n,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=sve++,this.animationId=0,this.animationCommitId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.layoutVersion=0,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,this.nodes.forEach(lve),this.nodes.forEach(hve),this.nodes.forEach(fve),this.nodes.forEach(cve)},this.resolvedRelativeTargetAt=0,this.linkedParentVersion=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new Wge)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new FO),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a){if(this.instance)return;this.isSVG=AX(a)&&!Qme(a),this.instance=a;const{layoutId:o,layout:l,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),this.root.hasTreeAnimated&&(l||o)&&(this.isLayoutDirty=!0),t){let d,f=0;const g=()=>this.root.updateBlockedByResize=!1;ti.read(()=>{f=window.innerWidth}),t(a,()=>{const v=window.innerWidth;v!==f&&(f=v,this.root.updateBlockedByResize=!0,d&&d(),d=Gge(g,250),E2.hasAnimatedSinceResize&&(E2.hasAnimatedSinceResize=!1,this.nodes.forEach(fB)))})}o&&this.root.registerSharedNode(o,this),this.options.animate!==!1&&u&&(o||l)&&this.addEventListener("didUpdate",({delta:d,hasLayoutChanged:f,hasRelativeLayoutChanged:g,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||u.getDefaultTransition()||yve,{onLayoutAnimationStart:b,onLayoutAnimationComplete:w}=u.getProps(),E=!this.targetLayout||!dQ(this.targetLayout,v),k=!f&&g;if(this.options.layoutRoot||this.resumeFrom||k||f&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0);const A={...XO(x,"layout"),onPlay:b,onComplete:w};(u.shouldReduceMotion||this.options.layoutRoot)&&(A.delay=0,A.type=!1),this.startAnimation(A),this.setAnimationOrigin(d,k)}else f||fB(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,this.eventHandlers.clear(),Hh(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(mve),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&hQ(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let d=0;d<this.path.length;d++){const f=this.path[d];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const u=this.getTransformTemplate();this.prevTransformTemplateValue=u?u(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(dB);return}if(this.animationId<=this.animationCommitId){this.nodes.forEach(hB);return}this.animationCommitId=this.animationId,this.isUpdating?(this.isUpdating=!1,this.nodes.forEach(dve),this.nodes.forEach(ave),this.nodes.forEach(ove)):this.nodes.forEach(hB),this.clearAllSnapshots();const o=co.now();ta.delta=cd(0,1e3/60,o-ta.timestamp),ta.timestamp=o,ta.isProcessing=!0,SC.update.process(ta),SC.preRender.process(ta),SC.render.process(ta),ta.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,JO.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(uve),this.sharedNodes.forEach(pve)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,ti.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){ti.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure(),this.snapshot&&!Ua(this.snapshot.measuredBox.x)&&!Ua(this.snapshot.measuredBox.y)&&(this.snapshot=void 0))}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutVersion++,this.layoutCorrected=fs(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&this.instance){const l=n(this.instance);this.scroll={animationId:this.root.animationId,phase:a,isRoot:l,offset:r(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,o=this.projectionDelta&&!uQ(this.projectionDelta),l=this.getTransformTemplate(),u=l?l(this.latestValues,""):void 0,d=u!==this.prevTransformTemplateValue;a&&this.instance&&(o||r0(this.latestValues)||d)&&(i(this.instance,u),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),xve(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:a}=this.options;if(!a)return fs();const o=a.measureViewportBox();if(!(((u=this.scroll)==null?void 0:u.wasRoot)||this.path.some(bve))){const{scroll:d}=this.root;d&&(Fp(o.x,d.offset.x),Fp(o.y,d.offset.y))}return o}removeElementScroll(a){var l;const o=fs();if(Wl(o,a),(l=this.scroll)!=null&&l.wasRoot)return o;for(let u=0;u<this.path.length;u++){const d=this.path[u],{scroll:f,options:g}=d;d!==this.root&&f&&g.layoutScroll&&(f.wasRoot&&Wl(o,a),Fp(o.x,f.offset.x),Fp(o.y,f.offset.y))}return o}applyTransform(a,o=!1){const l=fs();Wl(l,a);for(let u=0;u<this.path.length;u++){const d=this.path[u];!o&&d.options.layoutScroll&&d.scroll&&d!==d.root&&Bp(l,{x:-d.scroll.offset.x,y:-d.scroll.offset.y}),r0(d.latestValues)&&Bp(l,d.latestValues)}return r0(this.latestValues)&&Bp(l,this.latestValues),l}removeTransform(a){const o=fs();Wl(o,a);for(let l=0;l<this.path.length;l++){const u=this.path[l];if(!u.instance||!r0(u.latestValues))continue;H5(u.latestValues)&&u.updateSnapshot();const d=fs(),f=u.measurePageBox();Wl(d,f),sB(o,u.latestValues,u.snapshot?u.snapshot.layoutBox:void 0,d)}return r0(this.latestValues)&&sB(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==ta.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var v;const o=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=o.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=o.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=o.isSharedProjectionDirty);const l=!!this.resumingFrom||this!==o;if(!(a||l&&this.isSharedProjectionDirty||this.isProjectionDirty||(v=this.parent)!=null&&v.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:d,layoutId:f}=this.options;if(!this.layout||!(d||f))return;this.resolvedRelativeTargetAt=ta.timestamp;const g=this.getClosestProjectingParent();g&&this.linkedParentVersion!==g.layoutVersion&&!g.options.layoutRoot&&this.removeRelativeTarget(),!this.targetDelta&&!this.relativeTarget&&(g&&g.layout?this.createRelativeTarget(g,this.layout.layoutBox,g.layout.layoutBox):this.removeRelativeTarget()),!(!this.relativeTarget&&!this.targetDelta)&&(this.target||(this.target=fs(),this.targetWithTransforms=fs()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Cge(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Wl(this.target,this.layout.layoutBox),qX(this.target,this.targetDelta)):Wl(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget&&(this.attemptToResolveRelativeTarget=!1,g&&!!g.resumingFrom==!!this.resumingFrom&&!g.options.layoutScroll&&g.target&&this.animationProgress!==1?this.createRelativeTarget(g,this.target,g.target):this.relativeParent=this.relativeTarget=void 0))}getClosestProjectingParent(){if(!(!this.parent||H5(this.parent.latestValues)||HX(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}createRelativeTarget(a,o,l){this.relativeParent=a,this.linkedParentVersion=a.layoutVersion,this.forceRelativeParentToResolveTarget(),this.relativeTarget=fs(),this.relativeTargetOrigin=fs(),G2(this.relativeTargetOrigin,o,l),Wl(this.relativeTarget,this.relativeTargetOrigin)}removeRelativeTarget(){this.relativeParent=this.relativeTarget=void 0}calcProjection(){var x;const a=this.getLead(),o=!!this.resumingFrom||this!==a;let l=!0;if((this.isProjectionDirty||(x=this.parent)!=null&&x.isProjectionDirty)&&(l=!1),o&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(l=!1),this.resolvedRelativeTargetAt===ta.timestamp&&(l=!1),l)return;const{layout:u,layoutId:d}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||d))return;Wl(this.layoutCorrected,this.layout.layoutBox);const f=this.treeScale.x,g=this.treeScale.y;Vpe(this.layoutCorrected,this.treeScale,this.path,o),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=fs());const{target:v}=a;if(!v){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(rB(this.prevProjectionDelta.x,this.projectionDelta.x),rB(this.prevProjectionDelta.y,this.projectionDelta.y)),l1(this.projectionDelta,this.layoutCorrected,v,this.latestValues),(this.treeScale.x!==f||this.treeScale.y!==g||!uB(this.projectionDelta.x,this.prevProjectionDelta.x)||!uB(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v))}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){var o;if((o=this.options.visualElement)==null||o.scheduleRender(),a){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Vp(),this.projectionDelta=Vp(),this.projectionDeltaWithTransform=Vp()}setAnimationOrigin(a,o=!1){const l=this.snapshot,u=l?l.latestValues:{},d={...this.latestValues},f=Vp();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const g=fs(),v=l?l.source:void 0,x=this.layout?this.layout.source:void 0,b=v!==x,w=this.getStack(),E=!w||w.members.length<=1,k=!!(b&&!E&&this.options.crossfade===!0&&!this.path.some(vve));this.animationProgress=0;let A;this.mixTargetDelta=O=>{const P=O/1e3;mB(f.x,a.x,P),mB(f.y,a.y,P),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(G2(g,this.layout.layoutBox,this.relativeParent.layout.layoutBox),gve(this.relativeTarget,this.relativeTargetOrigin,g,P),A&&tve(this.relativeTarget,A)&&(this.isProjectionDirty=!1),A||(A=fs()),Wl(A,this.relativeTarget)),b&&(this.animationValues=d,Yge(d,u,this.latestValues,P,k,E)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=P},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){var o,l,u;this.notifyListeners("animationStart"),(o=this.currentAnimation)==null||o.stop(),(u=(l=this.resumingFrom)==null?void 0:l.currentAnimation)==null||u.stop(),this.pendingAnimation&&(Hh(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=ti.update(()=>{E2.hasAnimatedSinceResize=!0,this.motionValue||(this.motionValue=vg(0)),this.currentAnimation=Hge(this.motionValue,[0,1e3],{...a,velocity:0,isSync:!0,onUpdate:d=>{this.mixTargetDelta(d),a.onUpdate&&a.onUpdate(d)},onStop:()=>{},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ive),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:u,latestValues:d}=a;if(!(!o||!l||!u)){if(this!==a&&this.layout&&u&&mQ(this.options.animationType,this.layout.layoutBox,u.layoutBox)){l=this.target||fs();const f=Ua(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const g=Ua(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+g}Wl(o,l),Bp(o,d),l1(this.projectionDeltaWithTransform,this.layoutCorrected,o,d)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new rve),this.sharedNodes.get(a).add(o);const u=o.options.initialPromotionConfig;o.promote({transition:u?u.transition:void 0,preserveFollowOpacity:u&&u.shouldPreserveFollowOpacity?u.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())==null?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())==null?void 0:o.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const u=this.getStack();u&&u.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetSkewAndRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(o=!0),!o)return;const u={};l.z&&LC("z",a,u,this.animationValues);for(let d=0;d<MC.length;d++)LC(`rotate${MC[d]}`,a,u,this.animationValues),LC(`skew${MC[d]}`,a,u,this.animationValues);a.render();for(const d in u)a.setStaticValue(d,u[d]),this.animationValues&&(this.animationValues[d]=u[d]);a.scheduleRender()}applyProjectionStyles(a,o){if(!this.instance||this.isSVG)return;if(!this.isVisible){a.visibility="hidden";return}const l=this.getTransformTemplate();if(this.needsReset){this.needsReset=!1,a.visibility="",a.opacity="",a.pointerEvents=_2(o==null?void 0:o.pointerEvents)||"",a.transform=l?l(this.latestValues,""):"none";return}const u=this.getLead();if(!this.projectionDelta||!this.layout||!u.target){this.options.layoutId&&(a.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,a.pointerEvents=_2(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!r0(this.latestValues)&&(a.transform=l?l({},""):"none",this.hasProjected=!1);return}a.visibility="";const d=u.animationValues||u.latestValues;this.applyTransformsToTarget();let f=nve(this.projectionDeltaWithTransform,this.treeScale,d);l&&(f=l(d,f)),a.transform=f;const{x:g,y:v}=this.projectionDelta;a.transformOrigin=`${g.origin*100}% ${v.origin*100}% 0`,u.animationValues?a.opacity=u===this?d.opacity??this.latestValues.opacity??1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:a.opacity=u===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const x in $5){if(d[x]===void 0)continue;const{correct:b,applyTo:w,isCSSVariable:E}=$5[x],k=f==="none"?d[x]:b(d[x],u);if(w){const A=w.length;for(let O=0;O<A;O++)a[w[O]]=k}else E?this.options.visualElement.renderState.vars[x]=k:a[x]=k}this.options.layoutId&&(a.pointerEvents=u===this?_2(o==null?void 0:o.pointerEvents)||"":"none")}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)==null?void 0:o.stop()}),this.root.nodes.forEach(dB),this.root.sharedNodes.clear()}}}function ave(t){t.updateLayout()}function ove(t){var r;const e=((r=t.resumeFrom)==null?void 0:r.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&e&&t.hasListeners("didUpdate")){const{layoutBox:n,measuredBox:i}=t.layout,{animationType:s}=t.options,a=e.source!==t.layout.source;s==="size"?yl(f=>{const g=a?e.measuredBox[f]:e.layoutBox[f],v=Ua(g);g.min=n[f].min,g.max=g.min+v}):mQ(s,e.layoutBox,n)&&yl(f=>{const g=a?e.measuredBox[f]:e.layoutBox[f],v=Ua(n[f]);g.max=g.min+v,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+v)});const o=Vp();l1(o,n,e.layoutBox);const l=Vp();a?l1(l,t.applyTransform(i,!0),e.measuredBox):l1(l,n,e.layoutBox);const u=!uQ(o);let d=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:g,layout:v}=f;if(g&&v){const x=fs();G2(x,e.layoutBox,g.layoutBox);const b=fs();G2(b,n,v.layoutBox),dQ(x,b)||(d=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=x,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:n,snapshot:e,delta:l,layoutDelta:o,hasLayoutChanged:u,hasRelativeLayoutChanged:d})}else if(t.isLead()){const{onExitComplete:n}=t.options;n&&n()}t.options.transition=void 0}function lve(t){t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function cve(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function uve(t){t.clearSnapshot()}function dB(t){t.clearMeasurements()}function hB(t){t.isLayoutDirty=!1}function dve(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function fB(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function hve(t){t.resolveTargetDelta()}function fve(t){t.calcProjection()}function mve(t){t.resetSkewAndRotation()}function pve(t){t.removeLeadSnapshot()}function mB(t,e,r){t.translate=li(e.translate,0,r),t.scale=li(e.scale,1,r),t.origin=e.origin,t.originPoint=e.originPoint}function pB(t,e,r,n){t.min=li(e.min,r.min,n),t.max=li(e.max,r.max,n)}function gve(t,e,r,n){pB(t.x,e.x,r.x,n),pB(t.y,e.y,r.y,n)}function vve(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const yve={duration:.45,ease:[.4,0,.1,1]},gB=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),vB=gB("applewebkit/")&&!gB("chrome/")?Math.round:Cl;function yB(t){t.min=vB(t.min),t.max=vB(t.max)}function xve(t){yB(t.x),yB(t.y)}function mQ(t,e,r){return t==="position"||t==="preserve-aspect"&&!Age(cB(e),cB(r),.2)}function bve(t){var e;return t!==t.root&&((e=t.scroll)==null?void 0:e.wasRoot)}const wve=fQ({attachResizeListener:(t,e)=>V1(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),FC={current:void 0},pQ=fQ({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!FC.current){const t=new wve({});t.mount(window),t.setOptions({layoutScroll:!0}),FC.current=t}return FC.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),_ve={pan:{Feature:zge},drag:{Feature:Uge,ProjectionNode:pQ,MeasureLayout:oQ}};function xB(t,e,r){const{props:n}=t;t.animationState&&n.whileHover&&t.animationState.setActive("whileHover",r==="Start");const i="onHover"+r,s=n[i];s&&ti.postRender(()=>s(e,Yx(e)))}class Eve extends ff{mount(){const{current:e}=this.node;e&&(this.unmount=Wme(e,(r,n)=>(xB(this.node,n,"Start"),i=>xB(this.node,i,"End"))))}unmount(){}}class Tve extends ff{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=Wx(V1(this.node.current,"focus",()=>this.onFocus()),V1(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function bB(t,e,r){const{props:n}=t;if(t.current instanceof HTMLButtonElement&&t.current.disabled)return;t.animationState&&n.whileTap&&t.animationState.setActive("whileTap",r==="Start");const i="onTap"+(r==="End"?"":r),s=n[i];s&&ti.postRender(()=>s(e,Yx(e)))}class Sve extends ff{mount(){const{current:e}=this.node;e&&(this.unmount=Xme(e,(r,n)=>(bB(this.node,n,"Start"),(i,{success:s})=>bB(this.node,i,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Q5=new WeakMap,BC=new WeakMap,kve=t=>{const e=Q5.get(t.target);e&&e(t)},Ave=t=>{t.forEach(kve)};function Cve({root:t,...e}){const r=t||document;BC.has(r)||BC.set(r,{});const n=BC.get(r),i=JSON.stringify(e);return n[i]||(n[i]=new IntersectionObserver(Ave,{root:t,...e})),n[i]}function Nve(t,e,r){const n=Cve(e);return Q5.set(t,r),n.observe(t),()=>{Q5.delete(t),n.unobserve(t)}}const Ive={some:0,all:1};class Ove extends ff{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:r,margin:n,amount:i="some",once:s}=e,a={root:r?r.current:void 0,rootMargin:n,threshold:typeof i=="number"?i:Ive[i]},o=l=>{const{isIntersecting:u}=l;if(this.isInView===u||(this.isInView=u,s&&!u&&this.hasEnteredView))return;u&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",u);const{onViewportEnter:d,onViewportLeave:f}=this.node.getProps(),g=u?d:f;g&&g(l)};return Nve(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:r}=this.node;["amount","margin","root"].some(Rve(e,r))&&this.startObserver()}unmount(){}}function Rve({viewport:t={}},{viewport:e={}}={}){return r=>t[r]!==e[r]}const Pve={inView:{Feature:Ove},tap:{Feature:Sve},focus:{Feature:Tve},hover:{Feature:Eve}},jve={layout:{ProjectionNode:pQ,MeasureLayout:oQ}},Dve={...wge,...Pve,..._ve,...jve},xg=Lpe(Dve,Xpe);function Mve(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}const Lve=t=>{switch(t){case"success":return Vve;case"info":return zve;case"warning":return Uve;case"error":return $ve;default:return null}},Fve=Array(12).fill(0),Bve=({visible:t,className:e})=>Ae.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},Ae.createElement("div",{className:"sonner-spinner"},Fve.map((r,n)=>Ae.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${n}`})))),Vve=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Uve=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),zve=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),$ve=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},Ae.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Hve=Ae.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},Ae.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),Ae.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),qve=()=>{const[t,e]=Ae.useState(document.hidden);return Ae.useEffect(()=>{const r=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",r),()=>window.removeEventListener("visibilitychange",r)},[]),t};let J5=1;class Wve{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const r=this.subscribers.indexOf(e);this.subscribers.splice(r,1)}),this.publish=e=>{this.subscribers.forEach(r=>r(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var r;const{message:n,...i}=e,s=typeof(e==null?void 0:e.id)=="number"||((r=e.id)==null?void 0:r.length)>0?e.id:J5++,a=this.toasts.find(l=>l.id===s),o=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),a?this.toasts=this.toasts.map(l=>l.id===s?(this.publish({...l,...e,id:s,title:n}),{...l,...e,id:s,dismissible:o,title:n}):l):this.addToast({title:n,...i,dismissible:o,id:s}),s},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(r=>r({id:e,dismiss:!0})))):this.toasts.forEach(r=>{this.subscribers.forEach(n=>n({id:r.id,dismiss:!0}))}),e),this.message=(e,r)=>this.create({...r,message:e}),this.error=(e,r)=>this.create({...r,message:e,type:"error"}),this.success=(e,r)=>this.create({...r,type:"success",message:e}),this.info=(e,r)=>this.create({...r,type:"info",message:e}),this.warning=(e,r)=>this.create({...r,type:"warning",message:e}),this.loading=(e,r)=>this.create({...r,type:"loading",message:e}),this.promise=(e,r)=>{if(!r)return;let n;r.loading!==void 0&&(n=this.create({...r,promise:e,type:"loading",message:r.loading,description:typeof r.description!="function"?r.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let s=n!==void 0,a;const o=i.then(async u=>{if(a=["resolve",u],Ae.isValidElement(u))s=!1,this.create({id:n,type:"default",message:u});else if(Kve(u)&&!u.ok){s=!1;const f=typeof r.error=="function"?await r.error(`HTTP error! status: ${u.status}`):r.error,g=typeof r.description=="function"?await r.description(`HTTP error! status: ${u.status}`):r.description,x=typeof f=="object"&&!Ae.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...x})}else if(u instanceof Error){s=!1;const f=typeof r.error=="function"?await r.error(u):r.error,g=typeof r.description=="function"?await r.description(u):r.description,x=typeof f=="object"&&!Ae.isValidElement(f)?f:{message:f};this.create({id:n,type:"error",description:g,...x})}else if(r.success!==void 0){s=!1;const f=typeof r.success=="function"?await r.success(u):r.success,g=typeof r.description=="function"?await r.description(u):r.description,x=typeof f=="object"&&!Ae.isValidElement(f)?f:{message:f};this.create({id:n,type:"success",description:g,...x})}}).catch(async u=>{if(a=["reject",u],r.error!==void 0){s=!1;const d=typeof r.error=="function"?await r.error(u):r.error,f=typeof r.description=="function"?await r.description(u):r.description,v=typeof d=="object"&&!Ae.isValidElement(d)?d:{message:d};this.create({id:n,type:"error",description:f,...v})}}).finally(()=>{s&&(this.dismiss(n),n=void 0),r.finally==null||r.finally.call(r)}),l=()=>new Promise((u,d)=>o.then(()=>a[0]==="reject"?d(a[1]):u(a[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:l}:Object.assign(n,{unwrap:l})},this.custom=(e,r)=>{const n=(r==null?void 0:r.id)||J5++;return this.create({jsx:e(n),id:n,...r}),n},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const io=new Wve,Gve=(t,e)=>{const r=(e==null?void 0:e.id)||J5++;return io.addToast({title:t,...e,id:r}),r},Kve=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Yve=Gve,Xve=()=>io.toasts,Qve=()=>io.getActiveToasts(),ln=Object.assign(Yve,{success:io.success,info:io.info,warning:io.warning,error:io.error,custom:io.custom,message:io.message,promise:io.promise,dismiss:io.dismiss,loading:io.loading},{getHistory:Xve,getToasts:Qve});Mve("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function y_(t){return t.label!==void 0}const Jve=3,Zve="24px",eye="16px",wB=4e3,tye=356,rye=14,nye=45,iye=200;function Fc(...t){return t.filter(Boolean).join(" ")}function sye(t){const[e,r]=t.split("-"),n=[];return e&&n.push(e),r&&n.push(r),n}const aye=t=>{var e,r,n,i,s,a,o,l,u;const{invert:d,toast:f,unstyled:g,interacting:v,setHeights:x,visibleToasts:b,heights:w,index:E,toasts:k,expanded:A,removeToast:O,defaultRichColors:P,closeButton:j,style:S,cancelButtonStyle:I,actionButtonStyle:R,className:D="",descriptionClassName:M="",duration:L,position:U,gap:le,expandByDefault:ue,classNames:J,icons:Q,closeButtonAriaLabel:he="Close toast"}=t,[Z,ge]=Ae.useState(null),[H,B]=Ae.useState(null),[q,W]=Ae.useState(!1),[Y,de]=Ae.useState(!1),[me,ce]=Ae.useState(!1),[se,ve]=Ae.useState(!1),[Ve,G]=Ae.useState(!1),[Ze,Ie]=Ae.useState(0),[tt,Qe]=Ae.useState(0),je=Ae.useRef(f.duration||L||wB),rt=Ae.useRef(null),vt=Ae.useRef(null),It=E===0,Xr=E+1<=b,qr=f.type,Mr=f.dismissible!==!1,Wt=f.className||"",Tr=f.descriptionClassName||"",Sn=Ae.useMemo(()=>w.findIndex(At=>At.toastId===f.id)||0,[w,f.id]),pi=Ae.useMemo(()=>{var At;return(At=f.closeButton)!=null?At:j},[f.closeButton,j]),xe=Ae.useMemo(()=>f.duration||L||wB,[f.duration,L]),Ke=Ae.useRef(0),nt=Ae.useRef(0),Pt=Ae.useRef(0),Gt=Ae.useRef(null),[rr,br]=U.split("-"),Ui=Ae.useMemo(()=>w.reduce((At,wr,In)=>In>=Sn?At:At+wr.height,0),[w,Sn]),Qr=qve(),Ll=f.invert||d,da=qr==="loading";nt.current=Ae.useMemo(()=>Sn*le+Ui,[Sn,Ui]),Ae.useEffect(()=>{je.current=xe},[xe]),Ae.useEffect(()=>{W(!0)},[]),Ae.useEffect(()=>{const At=vt.current;if(At){const wr=At.getBoundingClientRect().height;return Qe(wr),x(In=>[{toastId:f.id,height:wr,position:f.position},...In]),()=>x(In=>In.filter(si=>si.toastId!==f.id))}},[x,f.id]),Ae.useLayoutEffect(()=>{if(!q)return;const At=vt.current,wr=At.style.height;At.style.height="auto";const In=At.getBoundingClientRect().height;At.style.height=wr,Qe(In),x(si=>si.find(Zr=>Zr.toastId===f.id)?si.map(Zr=>Zr.toastId===f.id?{...Zr,height:In}:Zr):[{toastId:f.id,height:In,position:f.position},...si])},[q,f.title,f.description,x,f.id,f.jsx,f.action,f.cancel]);const us=Ae.useCallback(()=>{de(!0),Ie(nt.current),x(At=>At.filter(wr=>wr.toastId!==f.id)),setTimeout(()=>{O(f)},iye)},[f,O,x,nt]);Ae.useEffect(()=>{if(f.promise&&qr==="loading"||f.duration===1/0||f.type==="loading")return;let At;return A||v||Qr?(()=>{if(Pt.current<Ke.current){const si=new Date().getTime()-Ke.current;je.current=je.current-si}Pt.current=new Date().getTime()})():(()=>{je.current!==1/0&&(Ke.current=new Date().getTime(),At=setTimeout(()=>{f.onAutoClose==null||f.onAutoClose.call(f,f),us()},je.current))})(),()=>clearTimeout(At)},[A,v,f,qr,Qr,us]),Ae.useEffect(()=>{f.delete&&(us(),f.onDismiss==null||f.onDismiss.call(f,f))},[us,f.delete]);function gi(){var At;if(Q!=null&&Q.loading){var wr;return Ae.createElement("div",{className:Fc(J==null?void 0:J.loader,f==null||(wr=f.classNames)==null?void 0:wr.loader,"sonner-loader"),"data-visible":qr==="loading"},Q.loading)}return Ae.createElement(Bve,{className:Fc(J==null?void 0:J.loader,f==null||(At=f.classNames)==null?void 0:At.loader),visible:qr==="loading"})}const _o=f.icon||(Q==null?void 0:Q[qr])||Lve(qr);var Jr,zi;return Ae.createElement("li",{tabIndex:0,ref:vt,className:Fc(D,Wt,J==null?void 0:J.toast,f==null||(e=f.classNames)==null?void 0:e.toast,J==null?void 0:J.default,J==null?void 0:J[qr],f==null||(r=f.classNames)==null?void 0:r[qr]),"data-sonner-toast":"","data-rich-colors":(Jr=f.richColors)!=null?Jr:P,"data-styled":!(f.jsx||f.unstyled||g),"data-mounted":q,"data-promise":!!f.promise,"data-swiped":Ve,"data-removed":Y,"data-visible":Xr,"data-y-position":rr,"data-x-position":br,"data-index":E,"data-front":It,"data-swiping":me,"data-dismissible":Mr,"data-type":qr,"data-invert":Ll,"data-swipe-out":se,"data-swipe-direction":H,"data-expanded":!!(A||ue&&q),"data-testid":f.testId,style:{"--index":E,"--toasts-before":E,"--z-index":k.length-E,"--offset":`${Y?Ze:nt.current}px`,"--initial-height":ue?"auto":`${tt}px`,...S,...f.style},onDragEnd:()=>{ce(!1),ge(null),Gt.current=null},onPointerDown:At=>{At.button!==2&&(da||!Mr||(rt.current=new Date,Ie(nt.current),At.target.setPointerCapture(At.pointerId),At.target.tagName!=="BUTTON"&&(ce(!0),Gt.current={x:At.clientX,y:At.clientY})))},onPointerUp:()=>{var At,wr,In;if(se||!Mr)return;Gt.current=null;const si=Number(((At=vt.current)==null?void 0:At.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),ai=Number(((wr=vt.current)==null?void 0:wr.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Zr=new Date().getTime()-((In=rt.current)==null?void 0:In.getTime()),$i=Z==="x"?si:ai,Es=Math.abs($i)/Zr;if(Math.abs($i)>=nye||Es>.11){Ie(nt.current),f.onDismiss==null||f.onDismiss.call(f,f),B(Z==="x"?si>0?"right":"left":ai>0?"down":"up"),us(),ve(!0);return}else{var en,Ci;(en=vt.current)==null||en.style.setProperty("--swipe-amount-x","0px"),(Ci=vt.current)==null||Ci.style.setProperty("--swipe-amount-y","0px")}G(!1),ce(!1),ge(null)},onPointerMove:At=>{var wr,In,si;if(!Gt.current||!Mr||((wr=window.getSelection())==null?void 0:wr.toString().length)>0)return;const Zr=At.clientY-Gt.current.y,$i=At.clientX-Gt.current.x;var Es;const en=(Es=t.swipeDirections)!=null?Es:sye(U);!Z&&(Math.abs($i)>1||Math.abs(Zr)>1)&&ge(Math.abs($i)>Math.abs(Zr)?"x":"y");let Ci={x:0,y:0};const Ws=vi=>1/(1.5+Math.abs(vi)/20);if(Z==="y"){if(en.includes("top")||en.includes("bottom"))if(en.includes("top")&&Zr<0||en.includes("bottom")&&Zr>0)Ci.y=Zr;else{const vi=Zr*Ws(Zr);Ci.y=Math.abs(vi)<Math.abs(Zr)?vi:Zr}}else if(Z==="x"&&(en.includes("left")||en.includes("right")))if(en.includes("left")&&$i<0||en.includes("right")&&$i>0)Ci.x=$i;else{const vi=$i*Ws($i);Ci.x=Math.abs(vi)<Math.abs($i)?vi:$i}(Math.abs(Ci.x)>0||Math.abs(Ci.y)>0)&&G(!0),(In=vt.current)==null||In.style.setProperty("--swipe-amount-x",`${Ci.x}px`),(si=vt.current)==null||si.style.setProperty("--swipe-amount-y",`${Ci.y}px`)}},pi&&!f.jsx&&qr!=="loading"?Ae.createElement("button",{"aria-label":he,"data-disabled":da,"data-close-button":!0,onClick:da||!Mr?()=>{}:()=>{us(),f.onDismiss==null||f.onDismiss.call(f,f)},className:Fc(J==null?void 0:J.closeButton,f==null||(n=f.classNames)==null?void 0:n.closeButton)},(zi=Q==null?void 0:Q.close)!=null?zi:Hve):null,(qr||f.icon||f.promise)&&f.icon!==null&&((Q==null?void 0:Q[qr])!==null||f.icon)?Ae.createElement("div",{"data-icon":"",className:Fc(J==null?void 0:J.icon,f==null||(i=f.classNames)==null?void 0:i.icon)},f.promise||f.type==="loading"&&!f.icon?f.icon||gi():null,f.type!=="loading"?_o:null):null,Ae.createElement("div",{"data-content":"",className:Fc(J==null?void 0:J.content,f==null||(s=f.classNames)==null?void 0:s.content)},Ae.createElement("div",{"data-title":"",className:Fc(J==null?void 0:J.title,f==null||(a=f.classNames)==null?void 0:a.title)},f.jsx?f.jsx:typeof f.title=="function"?f.title():f.title),f.description?Ae.createElement("div",{"data-description":"",className:Fc(M,Tr,J==null?void 0:J.description,f==null||(o=f.classNames)==null?void 0:o.description)},typeof f.description=="function"?f.description():f.description):null),Ae.isValidElement(f.cancel)?f.cancel:f.cancel&&y_(f.cancel)?Ae.createElement("button",{"data-button":!0,"data-cancel":!0,style:f.cancelButtonStyle||I,onClick:At=>{y_(f.cancel)&&Mr&&(f.cancel.onClick==null||f.cancel.onClick.call(f.cancel,At),us())},className:Fc(J==null?void 0:J.cancelButton,f==null||(l=f.classNames)==null?void 0:l.cancelButton)},f.cancel.label):null,Ae.isValidElement(f.action)?f.action:f.action&&y_(f.action)?Ae.createElement("button",{"data-button":!0,"data-action":!0,style:f.actionButtonStyle||R,onClick:At=>{y_(f.action)&&(f.action.onClick==null||f.action.onClick.call(f.action,At),!At.defaultPrevented&&us())},className:Fc(J==null?void 0:J.actionButton,f==null||(u=f.classNames)==null?void 0:u.actionButton)},f.action.label):null)};function _B(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function oye(t,e){const r={};return[t,e].forEach((n,i)=>{const s=i===1,a=s?"--mobile-offset":"--offset",o=s?eye:Zve;function l(u){["top","right","bottom","left"].forEach(d=>{r[`${a}-${d}`]=typeof u=="number"?`${u}px`:u})}typeof n=="number"||typeof n=="string"?l(n):typeof n=="object"?["top","right","bottom","left"].forEach(u=>{n[u]===void 0?r[`${a}-${u}`]=o:r[`${a}-${u}`]=typeof n[u]=="number"?`${n[u]}px`:n[u]}):l(o)}),r}const EB=Ae.forwardRef(function(e,r){const{id:n,invert:i,position:s="bottom-right",hotkey:a=["altKey","KeyT"],expand:o,closeButton:l,className:u,offset:d,mobileOffset:f,theme:g="light",richColors:v,duration:x,style:b,visibleToasts:w=Jve,toastOptions:E,dir:k=_B(),gap:A=rye,icons:O,containerAriaLabel:P="Notifications"}=e,[j,S]=Ae.useState([]),I=Ae.useMemo(()=>n?j.filter(q=>q.toasterId===n):j.filter(q=>!q.toasterId),[j,n]),R=Ae.useMemo(()=>Array.from(new Set([s].concat(I.filter(q=>q.position).map(q=>q.position)))),[I,s]),[D,M]=Ae.useState([]),[L,U]=Ae.useState(!1),[le,ue]=Ae.useState(!1),[J,Q]=Ae.useState(g!=="system"?g:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),he=Ae.useRef(null),Z=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),ge=Ae.useRef(null),H=Ae.useRef(!1),B=Ae.useCallback(q=>{S(W=>{var Y;return(Y=W.find(de=>de.id===q.id))!=null&&Y.delete||io.dismiss(q.id),W.filter(({id:de})=>de!==q.id)})},[]);return Ae.useEffect(()=>io.subscribe(q=>{if(q.dismiss){requestAnimationFrame(()=>{S(W=>W.map(Y=>Y.id===q.id?{...Y,delete:!0}:Y))});return}setTimeout(()=>{wY.flushSync(()=>{S(W=>{const Y=W.findIndex(de=>de.id===q.id);return Y!==-1?[...W.slice(0,Y),{...W[Y],...q},...W.slice(Y+1)]:[q,...W]})})})}),[j]),Ae.useEffect(()=>{if(g!=="system"){Q(g);return}if(g==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Q("dark"):Q("light")),typeof window>"u")return;const q=window.matchMedia("(prefers-color-scheme: dark)");try{q.addEventListener("change",({matches:W})=>{Q(W?"dark":"light")})}catch{q.addListener(({matches:Y})=>{try{Q(Y?"dark":"light")}catch(de){console.error(de)}})}},[g]),Ae.useEffect(()=>{j.length<=1&&U(!1)},[j]),Ae.useEffect(()=>{const q=W=>{var Y;if(a.every(ce=>W[ce]||W.code===ce)){var me;U(!0),(me=he.current)==null||me.focus()}W.code==="Escape"&&(document.activeElement===he.current||(Y=he.current)!=null&&Y.contains(document.activeElement))&&U(!1)};return document.addEventListener("keydown",q),()=>document.removeEventListener("keydown",q)},[a]),Ae.useEffect(()=>{if(he.current)return()=>{ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null,H.current=!1)}},[he.current]),Ae.createElement("section",{ref:r,"aria-label":`${P} ${Z}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},R.map((q,W)=>{var Y;const[de,me]=q.split("-");return I.length?Ae.createElement("ol",{key:q,dir:k==="auto"?_B():k,tabIndex:-1,ref:he,className:u,"data-sonner-toaster":!0,"data-sonner-theme":J,"data-y-position":de,"data-x-position":me,style:{"--front-toast-height":`${((Y=D[0])==null?void 0:Y.height)||0}px`,"--width":`${tye}px`,"--gap":`${A}px`,...b,...oye(d,f)},onBlur:ce=>{H.current&&!ce.currentTarget.contains(ce.relatedTarget)&&(H.current=!1,ge.current&&(ge.current.focus({preventScroll:!0}),ge.current=null))},onFocus:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||H.current||(H.current=!0,ge.current=ce.relatedTarget)},onMouseEnter:()=>U(!0),onMouseMove:()=>U(!0),onMouseLeave:()=>{le||U(!1)},onDragEnd:()=>U(!1),onPointerDown:ce=>{ce.target instanceof HTMLElement&&ce.target.dataset.dismissible==="false"||ue(!0)},onPointerUp:()=>ue(!1)},I.filter(ce=>!ce.position&&W===0||ce.position===q).map((ce,se)=>{var ve,Ve;return Ae.createElement(aye,{key:ce.id,icons:O,index:se,toast:ce,defaultRichColors:v,duration:(ve=E==null?void 0:E.duration)!=null?ve:x,className:E==null?void 0:E.className,descriptionClassName:E==null?void 0:E.descriptionClassName,invert:i,visibleToasts:w,closeButton:(Ve=E==null?void 0:E.closeButton)!=null?Ve:l,interacting:le,position:q,style:E==null?void 0:E.style,unstyled:E==null?void 0:E.unstyled,classNames:E==null?void 0:E.classNames,cancelButtonStyle:E==null?void 0:E.cancelButtonStyle,actionButtonStyle:E==null?void 0:E.actionButtonStyle,closeButtonAriaLabel:E==null?void 0:E.closeButtonAriaLabel,removeToast:B,toasts:I.filter(G=>G.position==ce.position),heights:D.filter(G=>G.position==ce.position),setHeights:M,expandByDefault:o,gap:A,expanded:L,swipeDirections:e.swipeDirections})})):null}))}),lye=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/8PDn1wfM/favicon.png",alt:"Online Exam Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift3.png",alt:"Gift Icon",...t,className:"h-16 w-16 object-contain"}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M3.75 4.5a3 3 0 00-3 3v10.5a3 3 0 003 3h16.5a3 3 0 003-3V7.5a3 3 0 00-3-3H3.75zm.75 4.5a.75.75 0 01.75-.75h13.5a.75.75 0 010 1.5H5.25a.75.75 0 01-.75-.75zm0 3.75a.75.75 0 01.75-.75h6a.75.75 0 010 1.5h-6a.75.75 0 01-.75-.75zm0 2.25a.75.75 0 01.75-.75h3a.75.75 0 010 1.5h-3a.75.75 0 01-.75-.75z",clipRule:"evenodd"})})},cye=t=>m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm.25 4.5a.75.75 0 00-1.5 0v5.337a2.25 2.25 0 00-1.5 2.063v.75a.75.75 0 001.5 0v-.75a.75.75 0 01.75-.75h.75a.75.75 0 01.75.75v.75a.75.75 0 001.5 0v-.75a2.25 2.25 0 00-1.5-2.063V6.75z"}),m.jsx("path",{d:"M6.163 15.25a.75.75 0 011.06-1.06l1.25 1.25a.75.75 0 01-1.06 1.06l-1.25-1.25zm10.617 0a.75.75 0 011.06 1.06l-1.25 1.25a.75.75 0 01-1.06 1.06l1.25-1.25z"})]}),uR=t=>{const{theme:e}=ua();return e==="noel"?m.jsx("img",{src:"/assets/img/ball.png",alt:"Check",...t,className:`${t.className} object-contain`}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M2.25 12c0-5.385 4.365-9.75 9.75-9.75s9.75 4.365 9.75 9.75-4.365 9.75-9.75 9.75S2.25 17.385 2.25 12zm13.36-1.814a.75.75 0 10-1.22-.872l-3.236 4.53L9.53 12.22a.75.75 0 00-1.06 1.06l2.25 2.25a.75.75 0 001.14-.094l3.75-5.25z",clipRule:"evenodd"})})},dR=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-1.72 6.97a.75.75 0 10-1.06 1.06L10.94 12l-1.72 1.72a.75.75 0 101.06 1.06L12 13.06l1.72 1.72a.75.75 0 101.06-1.06L13.06 12l1.72-1.72a.75.75 0 10-1.06-1.06L12 10.94l-1.72-1.72z",clipRule:"evenodd"})}),B0=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zm-4.28 9.22a.75.75 0 000 1.06l3 3a.75.75 0 101.06-1.06L10.81 12l1.47-1.47a.75.75 0 10-1.06-1.06l-3 3z",clipRule:"evenodd"})}),uye=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M16.28 11.47a.75.75 0 010 1.06l-3 3a.75.75 0 01-1.06-1.06L14.44 12l-2.22-2.22a.75.75 0 011.06-1.06l3 3z",clipRule:"evenodd"})}),dye=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/J0JwWn5p/Mattahan-Buuf-One-of-those-ugly-pens-you-just-find-lying-around-128.png",alt:"Pen Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/celebrate.png",alt:"Santa",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12.75 12.75a.75.75 0 11-1.5 0 .75.75 0 011.5 0z"}),m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM9 12a3 3 0 116 0 3 3 0 01-6 0zm-2.121 4.212a.75.75 0 01.688-1.228 5.253 5.253 0 018.866 0 .75.75 0 11-.688 1.228 3.753 3.753 0 00-7.49 0z",clipRule:"evenodd"})]})},hye=t=>m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M4.755 10.059a7.5 7.5 0 0112.548-3.364l1.903 1.903h-4.5a.75.75 0 000 1.5h6a.75.75 0 00.75-.75V4.5a.75.75 0 00-1.5 0v2.253a9 9 0 00-15.06 4.042.75.75 0 00.75.75h1.5a.75.75 0 00.75-.75zM19.245 13.941a7.5 7.5 0 01-12.548 3.364l-1.903-1.903h4.5a.75.75 0 000-1.5h-6a.75.75 0 00-.75.75v6a.75.75 0 001.5 0v-2.253a9 9 0 0015.06-4.042.75.75 0 00-.75-.75h-1.5a.75.75 0 00-.75.75z",clipRule:"evenodd"})}),bg=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/xjbVmxDW/Oxygen-Icons-org-Oxygen-Categories-applications-education-university-256.png",alt:"Graduation Cap Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/home.png",alt:"Home Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2c5.523 0 10 4.477 10 10s-4.477 10-10 10S2 17.523 2 12 6.477 2 12 2zm0 2a8 8 0 100 16 8 8 0 000-16zm0 3a5 5 0 110 10 5 5 0 010-10zm0 2a3 3 0 100 6 3 3 0 000-6z"}),m.jsx("path",{d:"M12 3v2m0 14v2M3 12h2m14 0h-2m-8-8L6.414 5.414m11.172 11.172L16.243 15.12m0-9.706l-1.121 1.121M5.414 17.586L6.536 16.464"})]})},Z5=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/66GxZjxN/school-114359.png",alt:"School Bag Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/bell.png",alt:"Bell Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2a1 1 0 011 1v7.683a4.502 4.502 0 012.722 2.054 3 3 0 01-1.33 3.963 3.003 3.003 0 01-4.783-3.963A4.502 4.502 0 0111 10.683V3a1 1 0 011-1zm-3.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm7 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}),m.jsx("path",{d:"M12 22a8.956 8.956 0 01-6-2.583V18h12v1.417A8.956 8.956 0 0112 22z"})]})},fye=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/h47RmyWN/Mattahan-Buuf-They-reply-technosorcery-128.png",alt:"Wrench Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift4.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M9.528 1.718a.75.75 0 01.162.819A8.97 8.97 0 009 6a9 9 0 009 9 8.97 8.97 0 003.463-.69.75.75 0 01.981.981A10.503 10.503 0 0112 21a10.5 10.5 0 01-10.5-10.5c0-4.368 2.667-8.162 6.43-9.742a.75.75 0 01.819.162z",clipRule:"evenodd"}),m.jsx("path",{d:"M12.75 9a.75.75 0 00-1.5 0v2.25H9a.75.75 0 000 1.5h2.25V15a.75.75 0 001.5 0v-2.25H15a.75.75 0 000-1.5h-2.25V9z"})]})},mye=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/zvWm1BFk/book-512x512-35977.png",alt:"Book Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/hat.png",alt:"Hat Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M12 2L3 8v2h18V8l-9-6zm-1.5 10a1.5 1.5 0 100 3 1.5 1.5 0 000-3zm3 0a1.5 1.5 0 100 3 1.5 1.5 0 000-3z"}),m.jsx("path",{d:"M4 14v6h16v-6H4zm6 2h4v2h-4v-2z"})]})},TB=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/2yvpf67d/Mattahan-Buuf-A-Proper-Journal-Icon-128.png",alt:"Journal Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift5.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M12 2a10 10 0 100 20 10 10 0 000-20zM4 12a8 8 0 1116 0 8 8 0 01-16 0z",clipRule:"evenodd"}),m.jsx("path",{d:"M16.95 7.05l-1.414 1.414-2.122-2.122 1.414-1.414 2.122 2.122zm-9.9 9.9l1.414-1.414 2.122 2.122-1.414 1.414-2.122-2.122zm9.9 0l-1.414-1.414-2.122 2.122 1.414 1.414 2.122-2.122zm-9.9-9.9l1.414 1.414-2.122 2.122L5.636 9.172l2.122-2.122z"})]})},SB=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/2yvpf67d/Mattahan-Buuf-A-Proper-Journal-Icon-128.png",alt:"Journal Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/star-gold.png",alt:"Star Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M8.25 2.25A.75.75 0 019 3v.257a3.75 3.75 0 013 0V3a.75.75 0 011.5 0v.257a3.75 3.75 0 013 0V3a.75.75 0 01.75.75h-.008v.016c.361.32.622.754.74 1.232A23.953 23.953 0 0112 6c-2.305 0-4.52-.42-6.502-1.195a2.5 2.5 0 01.74-1.232H6a.75.75 0 01.75-.75h1.5zm-2.784 4.542a25.474 25.474 0 0013.068 0 .75.75 0 01.443.923 23.92 23.92 0 01-13.954 0 .75.75 0 01.443-.923zM8.25 10.5a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zm3.75 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75zm3.75 0a.75.75 0 01.75.75v1.5a.75.75 0 01-1.5 0v-1.5a.75.75 0 01.75-.75z",clipRule:"evenodd"}),m.jsx("path",{d:"M4.145 9.421a.75.75 0 01.558-.923 25.483 25.483 0 0114.594 0 .75.75 0 01.558.923l-.36.99a25.01 25.01 0 01-14.832 0l-.36-.99z"}),m.jsx("path",{fillRule:"evenodd",d:"M3 15.75A2.25 2.25 0 015.25 13.5h13.5A2.25 2.25 0 0121 15.75v3A2.25 2.25 0 0118.75 21H5.25A2.25 2.25 0 013 18.75v-3z",clipRule:"evenodd"})]})},gQ=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/xjbVmxDW/Oxygen-Icons-org-Oxygen-Categories-applications-education-university-256.png",alt:"Graduation Cap Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/star-gold.png",alt:"Gold Star Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{fillRule:"evenodd",d:"M11.25 4.5A.75.75 0 0112 5.25v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0111.25 4.5zM12.75 6a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0V6zM11.25 7.5A.75.75 0 0112 8.25v1.5a.75.75 0 01-1.5 0v-1.5A.75.75 0 0111.25 7.5zM12.75 9a.75.75 0 00-1.5 0v1.5a.75.75 0 001.5 0V9z",clipRule:"evenodd"}),m.jsx("path",{fillRule:"evenodd",d:"M12 2.25c-5.385 0-9.75 4.365-9.75 9.75s4.365 9.75 9.75 9.75 9.75-4.365 9.75-9.75S17.385 2.25 12 2.25zM6.262 6.072a8.25 8.25 0 1011.476 11.476A8.25 8.25 0 006.262 6.072zM12 18.75a.75.75 0 01-.75-.75V15a.75.75 0 011.5 0v3a.75.75 0 01-.75.75z",clipRule:"evenodd"}),m.jsx("path",{d:"M14.25 12a2.25 2.25 0 11-4.5 0 2.25 2.25 0 014.5 0z"})]})},hR=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/FFJXSWXv/study-learning-knowledge-education-book-notebook-icon-256768.png",alt:"Book and Glasses Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift1.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:[m.jsx("path",{d:"M11.25 4.533A9.708 9.708 0 006 3.75c-1.052 0-2.062.18-3 .512V17.25a8.987 8.987 0 013.75-.82V9.75a.75.75 0 011.5 0v7.5a.75.75 0 01-1.5 0V15a6.726 6.726 0 00-3-.585V18.75C3.393 18.932 3.69 19.1 4 19.29c2.023.784 4.18 1.093 6.364 1.294a.75.75 0 00.872-.725V4.534z"}),m.jsx("path",{d:"M12.75 4.533V19.86a.75.75 0 00.872.725 49.33 49.33 0 006.364-1.294c.31-.19.607-.358.914-.54V5.25c-1.084-.308-2.18-.46-3.25-.46-1.637 0-3.235.32-4.75.922V4.534z"})]})},pye=t=>{const{theme:e}=ua();return e==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/kG8rd4vv/Limpa-Curriculum-Vitae-Education-256.png",alt:"Blackboard Icon",...t}):e==="noel"?m.jsx("img",{src:"/assets/img/gift2.png",alt:"Gift Icon",...t,className:`${t.className} object-contain`}):m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",...t,children:m.jsx("path",{fillRule:"evenodd",d:"M2.25 6a3 3 0 013-3h13.5a3 3 0 013 3v12a3 3 0 01-3-3H5.25a3 3 0 01-3-3V6zm3.75 3a.75.75 0 01.75-.75h10.5a.75.75 0 010 1.5H7.5a.75.75 0 01-.75-.75zM7.5 12a.75.75 0 000 1.5h6a.75.75 0 000-1.5h-6z",clipRule:"evenodd"})})},gye=[{name:"light",label:"Sng",color:"bg-white"},{name:"dark",label:"Ti",color:"bg-slate-900"},{name:"noel",label:"Ging Sinh",color:"bg-[#8B0000]"},{name:"modern",label:"Hin i",color:"bg-indigo-600"},{name:"classic",label:"C in",color:"bg-[#6F6049]"},{name:"sunrise",label:"Bnh Minh",color:"bg-orange-500"},{name:"tri-an",label:"Tri n",color:"bg-red-400"}],vye=()=>{const[t,e]=C.useState(!1),{theme:r,setTheme:n}=ua(),i=s=>{n(s),e(!1)};return m.jsxs("div",{className:"relative",children:[t&&m.jsx("div",{className:"absolute bottom-full right-0 mb-2 w-40 rounded-lg border border-border bg-card p-2 shadow-2xl flex flex-col gap-1 animate-slide-in-right",children:gye.map(s=>m.jsxs("button",{onClick:()=>i(s.name),className:`w-full text-left px-3 py-2 text-sm font-semibold rounded-md flex items-center gap-3 transition-colors ${r===s.name?"bg-primary/20 text-primary":"text-card-foreground hover:bg-secondary"}`,children:[m.jsx("span",{className:`w-4 h-4 rounded-full ${s.color} border border-white/20`}),s.label]},s.name))}),m.jsx("button",{onClick:()=>e(!t),className:"flex h-10 w-10 items-center justify-center rounded-lg bg-secondary text-secondary-foreground shadow-sm transition-colors hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring","aria-label":"Change theme",children:m.jsx(cye,{className:"h-6 w-6"})})]})},yye=()=>{const t=["gift1.png","bell.png","star-gold.png","ball.png","gift2.png","gift3.png","gift4.png","gift5.png"],{theme:e}=ua();return e!=="noel"?null:m.jsxs(m.Fragment,{children:[m.jsx("style",{dangerouslySetInnerHTML:{__html:`
        /* === PHN 5: HIU NG TUYT & QU RI === */
        .snowflakes {
            position: fixed; top: 0; left: 0;
            width: 100%; height: 100%;
            pointer-events: none;
            z-index: 9999;
        }
        
        .snowflake {
            color: #fff;
            font-size: 1.2em;
            font-family: Arial, sans-serif;
            text-shadow: 0 0 3px rgba(255,255,255,0.8); /* Tuyt pht sng nh */
            position: fixed;
            top: -10%;
            z-index: 9999;
            user-select: none;
            cursor: default;
            animation-name: snowflakes-fall, snowflakes-shake;
            animation-timing-function: linear, ease-in-out;
            animation-iteration-count: infinite, infinite;
            animation-play-state: running, running;
        }

        .snowflake-img img {
            filter: drop-shadow(0 4px 6px rgba(0,0,0,0.3));
            width: 30px; 
            height: auto;
            opacity: 0.9;
        }

        @keyframes snowflakes-fall {
            0% { top: -10%; }
            100% { top: 100%; }
        }
        @keyframes snowflakes-shake {
            0% { transform: translateX(0px) rotate(0deg); }
            50% { transform: translateX(80px) rotate(180deg); }
            100% { transform: translateX(0px) rotate(360deg); }
        }

        /* Cu hnh ri ngu nhin */
        .snowflake:nth-of-type(1) { left: 1%; animation-duration: 12s, 4s; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(2) { left: 5%; animation-duration: 15s, 6s; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(3) { left: 10%; animation-duration: 10s, 3s; animation-delay: 2s, 0.5s; }
        .snowflake:nth-of-type(4) { left: 15%; animation-duration: 18s, 5s; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(5) { left: 20%; animation-duration: 11s, 4s; animation-delay: 2s, 2s; }
        .snowflake:nth-of-type(6) { left: 25%; animation-duration: 14s, 7s; animation-delay: 6s, 3s; }
        .snowflake:nth-of-type(7) { left: 30%; animation-duration: 16s, 5s; animation-delay: 3s, 2s; }
        .snowflake:nth-of-type(8) { left: 35%; animation-duration: 13s, 4s; animation-delay: 1s, 1s; }
        .snowflake:nth-of-type(9) { left: 40%; animation-duration: 17s, 6s; animation-delay: 0s, 0s; }
        .snowflake:nth-of-type(10) { left: 45%; animation-duration: 9s, 3s; animation-delay: 5s, 1.5s; }
        .snowflake:nth-of-type(11) { left: 50%; animation-duration: 14s, 5s; animation-delay: 2s, 3s; }
        .snowflake:nth-of-type(12) { left: 55%; animation-duration: 11s, 4s; animation-delay: 4s, 1s; }
        .snowflake:nth-of-type(13) { left: 60%; animation-duration: 19s, 7s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(14) { left: 65%; animation-duration: 12s, 3s; animation-delay: 3s, 0s; }
        .snowflake:nth-of-type(15) { left: 70%; animation-duration: 15s, 6s; animation-delay: 5s, 4s; }
        .snowflake:nth-of-type(16) { left: 75%; animation-duration: 10s, 4s; animation-delay: 0s, 2s; }
        .snowflake:nth-of-type(17) { left: 80%; animation-duration: 16s, 5s; animation-delay: 2s, 1s; }
        .snowflake:nth-of-type(18) { left: 85%; animation-duration: 13s, 4s; animation-delay: 4s, 3s; }
        .snowflake:nth-of-type(19) { left: 90%; animation-duration: 18s, 6s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(20) { left: 95%; animation-duration: 11s, 3s; animation-delay: 3s, 0s; }
        
        .snowflake:nth-of-type(21) { left: 2%; animation-duration: 13s, 5s; animation-delay: 5s, 1s; }
        .snowflake:nth-of-type(22) { left: 8%; animation-duration: 10s, 3s; animation-delay: 2s, 4s; }
        .snowflake:nth-of-type(23) { left: 12%; animation-duration: 16s, 6s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(24) { left: 18%; animation-duration: 12s, 4s; animation-delay: 6s, 0s; }
        .snowflake:nth-of-type(25) { left: 22%; animation-duration: 14s, 5s; animation-delay: 0s, 3s; }
        .snowflake:nth-of-type(26) { left: 28%; animation-duration: 11s, 3s; animation-delay: 4s, 2s; }
        .snowflake:nth-of-type(27) { left: 32%; animation-duration: 19s, 7s; animation-delay: 2s, 1s; }
        .snowflake:nth-of-type(28) { left: 38%; animation-duration: 15s, 6s; animation-delay: 5s, 5s; }
        .snowflake:nth-of-type(29) { left: 42%; animation-duration: 12s, 4s; animation-delay: 1s, 0s; }
        .snowflake:nth-of-type(30) { left: 48%; animation-duration: 17s, 5s; animation-delay: 3s, 2s; }
        .snowflake:nth-of-type(31) { left: 52%; animation-duration: 9s, 3s; animation-delay: 0s, 3s; }
        .snowflake:nth-of-type(32) { left: 58%; animation-duration: 14s, 6s; animation-delay: 4s, 1s; }
        .snowflake:nth-of-type(33) { left: 62%; animation-duration: 11s, 4s; animation-delay: 2s, 4s; }
        .snowflake:nth-of-type(34) { left: 68%; animation-duration: 16s, 5s; animation-delay: 6s, 0s; }
        .snowflake:nth-of-type(35) { left: 72%; animation-duration: 13s, 3s; animation-delay: 1s, 2s; }
        .snowflake:nth-of-type(36) { left: 78%; animation-duration: 18s, 7s; animation-delay: 5s, 1s; }
        .snowflake:nth-of-type(37) { left: 82%; animation-duration: 10s, 4s; animation-delay: 2s, 3s; }
        .snowflake:nth-of-type(38) { left: 88%; animation-duration: 15s, 6s; animation-delay: 4s, 0s; }
        .snowflake:nth-of-type(39) { left: 92%; animation-duration: 12s, 5s; animation-delay: 0s, 2s; }
        .snowflake:nth-of-type(40) { left: 98%; animation-duration: 17s, 4s; animation-delay: 3s, 5s; }

        .snowflake:nth-child(odd) { animation-direction: normal; }
        .snowflake:nth-child(even) { animation-direction: alternate; }

        @media (max-width: 768px) {
            .snowflake { font-size: 1em; }
            .snowflake-img img { width: 20px; }
        }
      `}}),m.jsxs("div",{className:"snowflakes","aria-hidden":"true",children:[Array.from({length:100}).map((r,n)=>m.jsxs("div",{className:"snowflake",children:[["","",""][n%3]," "]},`snow-${n}`)),Array.from({length:8}).map((r,n)=>{const i=t[n%t.length];return m.jsx("div",{className:"snowflake snowflake-img",children:m.jsx("img",{src:`/assets/img/${i}`,alt:"",style:{width:"25px",height:"auto"}})},`img-${n}`)})]})]})},xye=()=>{};var kB={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vQ={NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const st=function(t,e){if(!t)throw av(e)},av=function(t){return new Error("Firebase Database ("+vQ.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yQ=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},bye=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[r++];e[n++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[r++],a=t[r++],o=t[r++],l=((i&7)<<18|(s&63)<<12|(a&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const s=t[r++],a=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(s&63)<<6|a&63)}}return e.join("")},fR={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const s=t[i],a=i+1<t.length,o=a?t[i+1]:0,l=i+2<t.length,u=l?t[i+2]:0,d=s>>2,f=(s&3)<<4|o>>4;let g=(o&15)<<2|u>>6,v=u&63;l||(v=64,a||(g=64)),n.push(r[d],r[f],r[g],r[v])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yQ(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):bye(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const s=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const u=i<t.length?r[t.charAt(i)]:64;++i;const f=i<t.length?r[t.charAt(i)]:64;if(++i,s==null||o==null||u==null||f==null)throw new wye;const g=s<<2|o>>4;if(n.push(g),u!==64){const v=o<<4&240|u>>2;if(n.push(v),f!==64){const x=u<<6&192|f;n.push(x)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class wye extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const xQ=function(t){const e=yQ(t);return fR.encodeByteArray(e,!0)},K2=function(t){return xQ(t).replace(/\./g,"")},Y2=function(t){try{return fR.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _ye(t){return bQ(void 0,t)}function bQ(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const r=e;return new Date(r.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const r in e)!e.hasOwnProperty(r)||!Eye(r)||(t[r]=bQ(t[r],e[r]));return t}function Eye(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tye(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sye=()=>Tye().__FIREBASE_DEFAULTS__,kye=()=>{if(typeof process>"u"||typeof kB>"u")return;const t=kB.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Aye=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&Y2(t[1]);return e&&JSON.parse(e)},pS=()=>{try{return xye()||Sye()||kye()||Aye()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},wQ=t=>{var e,r;return(r=(e=pS())==null?void 0:e.emulatorHosts)==null?void 0:r[t]},mR=t=>{const e=wQ(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},_Q=()=>{var t;return(t=pS())==null?void 0:t.config},EQ=t=>{var e;return(e=pS())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wc=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}};/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function gS(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const a={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[K2(JSON.stringify(r)),K2(JSON.stringify(a)),""].join(".")}const c1={};function Cye(){const t={prod:[],emulator:[]};for(const e of Object.keys(c1))c1[e]?t.emulator.push(e):t.prod.push(e);return t}function Nye(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let AB=!1;function vS(t,e){if(typeof window>"u"||typeof document>"u"||!Sd(window.location.host)||c1[t]===e||c1[t]||AB)return;c1[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",s=Cye().prod.length>0;function a(){const g=document.getElementById(n);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function l(g,v){g.setAttribute("width","24"),g.setAttribute("id",v),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function u(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{AB=!0,a()},g}function d(g,v){g.setAttribute("id",v),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function f(){const g=Nye(n),v=r("text"),x=document.getElementById(v)||document.createElement("span"),b=r("learnmore"),w=document.getElementById(b)||document.createElement("a"),E=r("preprendIcon"),k=document.getElementById(E)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const A=g.element;o(A),d(w,b);const O=u();l(k,E),A.append(k,x,w,O),document.body.appendChild(A)}s?(x.innerText="Preview backend disconnected.",k.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(k.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,x.innerText="Preview backend running in this workspace."),x.setAttribute("id",v)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oa(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function gR(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Oa())}function Iye(){var e;const t=(e=pS())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Oye(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function Rye(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function TQ(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Pye(){const t=Oa();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function jye(){return vQ.NODE_ADMIN===!0}function Dye(){return!Iye()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mye(){try{return typeof indexedDB=="object"}catch{return!1}}function Lye(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(r){e(r)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fye="FirebaseError";class du extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Fye,Object.setPrototypeOf(this,du.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Xx.prototype.create)}}class Xx{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,s=this.errors[e],a=s?Bye(s,n):"Error",o=`${this.serviceName}: ${a} (${i}).`;return new du(i,o,n)}}function Bye(t,e){return t.replace(Vye,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const Vye=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U1(t){return JSON.parse(t)}function Ms(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SQ=function(t){let e={},r={},n={},i="";try{const s=t.split(".");e=U1(Y2(s[0])||""),r=U1(Y2(s[1])||""),i=s[2],n=r.d||{},delete r.d}catch{}return{header:e,claims:r,data:n,signature:i}},Uye=function(t){const e=SQ(t),r=e.claims;return!!r&&typeof r=="object"&&r.hasOwnProperty("iat")},zye=function(t){const e=SQ(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hu(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function wg(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function X2(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Q2(t,e,r){const n={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=e.call(r,t[i],i,t));return n}function iu(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const s=t[i],a=e[i];if(CB(s)&&CB(a)){if(!iu(s,a))return!1}else if(s!==a)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function CB(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ov(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Ky(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,s]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Yy(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $ye{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,r){r||(r=0);const n=this.W_;if(typeof e=="string")for(let f=0;f<16;f++)n[f]=e.charCodeAt(r)<<24|e.charCodeAt(r+1)<<16|e.charCodeAt(r+2)<<8|e.charCodeAt(r+3),r+=4;else for(let f=0;f<16;f++)n[f]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r+=4;for(let f=16;f<80;f++){const g=n[f-3]^n[f-8]^n[f-14]^n[f-16];n[f]=(g<<1|g>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],a=this.chain_[2],o=this.chain_[3],l=this.chain_[4],u,d;for(let f=0;f<80;f++){f<40?f<20?(u=o^s&(a^o),d=1518500249):(u=s^a^o,d=1859775393):f<60?(u=s&a|o&(s|a),d=2400959708):(u=s^a^o,d=3395469782);const g=(i<<5|i>>>27)+u+l+d+n[f]&4294967295;l=o,o=a,a=(s<<30|s>>>2)&4294967295,s=i,i=g}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+a&4294967295,this.chain_[3]=this.chain_[3]+o&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,r){if(e==null)return;r===void 0&&(r=e.length);const n=r-this.blockSize;let i=0;const s=this.buf_;let a=this.inbuf_;for(;i<r;){if(a===0)for(;i<=n;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<r;)if(s[a]=e.charCodeAt(i),++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}else for(;i<r;)if(s[a]=e[i],++a,++i,a===this.blockSize){this.compress_(s),a=0;break}}this.inbuf_=a,this.total_+=r}digest(){const e=[];let r=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=r&255,r/=256;this.compress_(this.buf_);let n=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[n]=this.chain_[i]>>s&255,++n;return e}}function Hye(t,e){const r=new qye(t,e);return r.subscribe.bind(r)}class qye{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Wye(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=VC),i.error===void 0&&(i.error=VC),i.complete===void 0&&(i.complete=VC);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Wye(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function VC(){}function _g(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gye=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);if(i>=55296&&i<=56319){const s=i-55296;n++,st(n<t.length,"Surrogate pair missing trail surrogate.");const a=t.charCodeAt(n)-56320;i=65536+(s<<10)+a}i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):i<65536?(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},yS=function(t){let e=0;for(let r=0;r<t.length;r++){const n=t.charCodeAt(r);n<128?e++:n<2048?e+=2:n>=55296&&n<=56319?(e+=4,r++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pr(t){return t&&t._delegate?t._delegate:t}class dd{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n0="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kye=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Wc;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),n=(e==null?void 0:e.optional)??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Xye(e))try{this.getOrInitializeService({instanceIdentifier:n0})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const s=this.getOrInitializeService({instanceIdentifier:i});n.resolve(s)}catch{}}}}clearInstance(e=n0){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=n0){return this.instances.has(e)}getOptions(e=n0){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[s,a]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(s);n===o&&a.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const s=this.instances.get(n);return s&&e(s,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Yye(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=n0){return this.component?this.component.multipleInstances?e:n0:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Yye(t){return t===n0?void 0:t}function Xye(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qye{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Kye(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mr;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(mr||(mr={}));const Jye={debug:mr.DEBUG,verbose:mr.VERBOSE,info:mr.INFO,warn:mr.WARN,error:mr.ERROR,silent:mr.SILENT},Zye=mr.INFO,e1e={[mr.DEBUG]:"log",[mr.VERBOSE]:"log",[mr.INFO]:"info",[mr.WARN]:"warn",[mr.ERROR]:"error"},t1e=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=e1e[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class xS{constructor(e){this.name=e,this._logLevel=Zye,this._logHandler=t1e,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in mr))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Jye[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,mr.DEBUG,...e),this._logHandler(this,mr.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,mr.VERBOSE,...e),this._logHandler(this,mr.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,mr.INFO,...e),this._logHandler(this,mr.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,mr.WARN,...e),this._logHandler(this,mr.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,mr.ERROR,...e),this._logHandler(this,mr.ERROR,...e)}}const r1e=(t,e)=>e.some(r=>t instanceof r);let NB,IB;function n1e(){return NB||(NB=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function i1e(){return IB||(IB=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const kQ=new WeakMap,eI=new WeakMap,AQ=new WeakMap,UC=new WeakMap,vR=new WeakMap;function s1e(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",a)},s=()=>{r(Dh(t.result)),i()},a=()=>{n(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",a)});return e.then(r=>{r instanceof IDBCursor&&kQ.set(r,t)}).catch(()=>{}),vR.set(e,t),e}function a1e(t){if(eI.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",a),t.removeEventListener("abort",a)},s=()=>{r(),i()},a=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",a),t.addEventListener("abort",a)});eI.set(t,e)}let tI={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return eI.get(t);if(e==="objectStoreNames")return t.objectStoreNames||AQ.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Dh(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o1e(t){tI=t(tI)}function l1e(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(zC(this),e,...r);return AQ.set(n,e.sort?e.sort():[e]),Dh(n)}:i1e().includes(t)?function(...e){return t.apply(zC(this),e),Dh(kQ.get(this))}:function(...e){return Dh(t.apply(zC(this),e))}}function c1e(t){return typeof t=="function"?l1e(t):(t instanceof IDBTransaction&&a1e(t),r1e(t,n1e())?new Proxy(t,tI):t)}function Dh(t){if(t instanceof IDBRequest)return s1e(t);if(UC.has(t))return UC.get(t);const e=c1e(t);return e!==t&&(UC.set(t,e),vR.set(e,t)),e}const zC=t=>vR.get(t);function u1e(t,e,{blocked:r,upgrade:n,blocking:i,terminated:s}={}){const a=indexedDB.open(t,e),o=Dh(a);return n&&a.addEventListener("upgradeneeded",l=>{n(Dh(a.result),l.oldVersion,l.newVersion,Dh(a.transaction),l)}),r&&a.addEventListener("blocked",l=>r(l.oldVersion,l.newVersion,l)),o.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),o}const d1e=["get","getKey","getAll","getAllKeys","count"],h1e=["put","add","delete","clear"],$C=new Map;function OB(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($C.get(e))return $C.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=h1e.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||d1e.includes(r)))return;const s=async function(a,...o){const l=this.transaction(a,i?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(o.shift())),(await Promise.all([u[r](...o),i&&l.done]))[0]};return $C.set(e,s),s}o1e(t=>({...t,get:(e,r,n)=>OB(e,r)||t.get(e,r,n),has:(e,r)=>!!OB(e,r)||t.has(e,r)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1e{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(m1e(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function m1e(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const rI="@firebase/app",RB="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hd=new xS("@firebase/app"),p1e="@firebase/app-compat",g1e="@firebase/analytics-compat",v1e="@firebase/analytics",y1e="@firebase/app-check-compat",x1e="@firebase/app-check",b1e="@firebase/auth",w1e="@firebase/auth-compat",_1e="@firebase/database",E1e="@firebase/data-connect",T1e="@firebase/database-compat",S1e="@firebase/functions",k1e="@firebase/functions-compat",A1e="@firebase/installations",C1e="@firebase/installations-compat",N1e="@firebase/messaging",I1e="@firebase/messaging-compat",O1e="@firebase/performance",R1e="@firebase/performance-compat",P1e="@firebase/remote-config",j1e="@firebase/remote-config-compat",D1e="@firebase/storage",M1e="@firebase/storage-compat",L1e="@firebase/firestore",F1e="@firebase/ai",B1e="@firebase/firestore-compat",V1e="firebase",U1e="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nI="[DEFAULT]",z1e={[rI]:"fire-core",[p1e]:"fire-core-compat",[v1e]:"fire-analytics",[g1e]:"fire-analytics-compat",[x1e]:"fire-app-check",[y1e]:"fire-app-check-compat",[b1e]:"fire-auth",[w1e]:"fire-auth-compat",[_1e]:"fire-rtdb",[E1e]:"fire-data-connect",[T1e]:"fire-rtdb-compat",[S1e]:"fire-fn",[k1e]:"fire-fn-compat",[A1e]:"fire-iid",[C1e]:"fire-iid-compat",[N1e]:"fire-fcm",[I1e]:"fire-fcm-compat",[O1e]:"fire-perf",[R1e]:"fire-perf-compat",[P1e]:"fire-rc",[j1e]:"fire-rc-compat",[D1e]:"fire-gcs",[M1e]:"fire-gcs-compat",[L1e]:"fire-fst",[B1e]:"fire-fst-compat",[F1e]:"fire-vertex","fire-js":"fire-js",[V1e]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z1=new Map,$1e=new Map,iI=new Map;function PB(t,e){try{t.container.addComponent(e)}catch(r){hd.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Wh(t){const e=t.name;if(iI.has(e))return hd.debug(`There were multiple attempts to register component ${e}.`),!1;iI.set(e,t);for(const r of z1.values())PB(r,t);for(const r of $1e.values())PB(r,t);return!0}function Qx(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function oo(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1e={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Mh=new Xx("app","Firebase",H1e);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1e{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new dd("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Mh.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=U1e;function bS(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:nI,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Mh.create("bad-app-name",{appName:String(i)});if(r||(r=_Q()),!r)throw Mh.create("no-options");const s=z1.get(i);if(s){if(iu(r,s.options)&&iu(n,s.config))return s;throw Mh.create("duplicate-app",{appName:i})}const a=new Qye(i);for(const l of iI.values())a.addComponent(l);const o=new q1e(r,n,a);return z1.set(i,o),o}function hm(t=nI){const e=z1.get(t);if(!e&&t===nI&&_Q())return bS();if(!e)throw Mh.create("no-app",{appName:t});return e}function W1e(){return Array.from(z1.values())}function Nl(t,e,r){let n=z1e[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const a=[`Unable to register library "${n}" with version "${e}":`];i&&a.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hd.warn(a.join(" "));return}Wh(new dd(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1e="firebase-heartbeat-database",K1e=1,$1="firebase-heartbeat-store";let HC=null;function CQ(){return HC||(HC=u1e(G1e,K1e,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore($1)}catch(r){console.warn(r)}}}}).catch(t=>{throw Mh.create("idb-open",{originalErrorMessage:t.message})})),HC}async function Y1e(t){try{const r=(await CQ()).transaction($1),n=await r.objectStore($1).get(NQ(t));return await r.done,n}catch(e){if(e instanceof du)hd.warn(e.message);else{const r=Mh.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hd.warn(r.message)}}}async function jB(t,e){try{const n=(await CQ()).transaction($1,"readwrite");await n.objectStore($1).put(e,NQ(t)),await n.done}catch(r){if(r instanceof du)hd.warn(r.message);else{const n=Mh.create("idb-set",{originalErrorMessage:r==null?void 0:r.message});hd.warn(n.message)}}}function NQ(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X1e=1024,Q1e=30;class J1e{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new exe(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){var e,r;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=DB();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((r=this._heartbeatsCache)==null?void 0:r.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(a=>a.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>Q1e){const a=txe(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(a,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(n){hd.warn(n)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const r=DB(),{heartbeatsToSend:n,unsentEntries:i}=Z1e(this._heartbeatsCache.heartbeats),s=K2(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=r,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(r){return hd.warn(r),""}}}function DB(){return new Date().toISOString().substring(0,10)}function Z1e(t,e=X1e){const r=[];let n=t.slice();for(const i of t){const s=r.find(a=>a.agent===i.agent);if(s){if(s.dates.push(i.date),MB(r)>e){s.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),MB(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class exe{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Mye()?Lye().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Y1e(this.app);return r!=null&&r.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return jB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return jB(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function MB(t){return K2(JSON.stringify({version:2,heartbeats:t})).length}function txe(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rxe(t){Wh(new dd("platform-logger",e=>new f1e(e),"PRIVATE")),Wh(new dd("heartbeat",e=>new J1e(e),"PRIVATE")),Nl(rI,RB,t),Nl(rI,RB,"esm2020"),Nl("fire-js","")}rxe("");var LB=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Lh,IQ;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(S,I){function R(){}R.prototype=I.prototype,S.F=I.prototype,S.prototype=new R,S.prototype.constructor=S,S.D=function(D,M,L){for(var U=Array(arguments.length-2),le=2;le<arguments.length;le++)U[le-2]=arguments[le];return I.prototype[M].apply(D,U)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,R){R||(R=0);const D=Array(16);if(typeof I=="string")for(var M=0;M<16;++M)D[M]=I.charCodeAt(R++)|I.charCodeAt(R++)<<8|I.charCodeAt(R++)<<16|I.charCodeAt(R++)<<24;else for(M=0;M<16;++M)D[M]=I[R++]|I[R++]<<8|I[R++]<<16|I[R++]<<24;I=S.g[0],R=S.g[1],M=S.g[2];let L=S.g[3],U;U=I+(L^R&(M^L))+D[0]+3614090360&4294967295,I=R+(U<<7&4294967295|U>>>25),U=L+(M^I&(R^M))+D[1]+3905402710&4294967295,L=I+(U<<12&4294967295|U>>>20),U=M+(R^L&(I^R))+D[2]+606105819&4294967295,M=L+(U<<17&4294967295|U>>>15),U=R+(I^M&(L^I))+D[3]+3250441966&4294967295,R=M+(U<<22&4294967295|U>>>10),U=I+(L^R&(M^L))+D[4]+4118548399&4294967295,I=R+(U<<7&4294967295|U>>>25),U=L+(M^I&(R^M))+D[5]+1200080426&4294967295,L=I+(U<<12&4294967295|U>>>20),U=M+(R^L&(I^R))+D[6]+2821735955&4294967295,M=L+(U<<17&4294967295|U>>>15),U=R+(I^M&(L^I))+D[7]+4249261313&4294967295,R=M+(U<<22&4294967295|U>>>10),U=I+(L^R&(M^L))+D[8]+1770035416&4294967295,I=R+(U<<7&4294967295|U>>>25),U=L+(M^I&(R^M))+D[9]+2336552879&4294967295,L=I+(U<<12&4294967295|U>>>20),U=M+(R^L&(I^R))+D[10]+4294925233&4294967295,M=L+(U<<17&4294967295|U>>>15),U=R+(I^M&(L^I))+D[11]+2304563134&4294967295,R=M+(U<<22&4294967295|U>>>10),U=I+(L^R&(M^L))+D[12]+1804603682&4294967295,I=R+(U<<7&4294967295|U>>>25),U=L+(M^I&(R^M))+D[13]+4254626195&4294967295,L=I+(U<<12&4294967295|U>>>20),U=M+(R^L&(I^R))+D[14]+2792965006&4294967295,M=L+(U<<17&4294967295|U>>>15),U=R+(I^M&(L^I))+D[15]+1236535329&4294967295,R=M+(U<<22&4294967295|U>>>10),U=I+(M^L&(R^M))+D[1]+4129170786&4294967295,I=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(I^R))+D[6]+3225465664&4294967295,L=I+(U<<9&4294967295|U>>>23),U=M+(I^R&(L^I))+D[11]+643717713&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^I&(M^L))+D[0]+3921069994&4294967295,R=M+(U<<20&4294967295|U>>>12),U=I+(M^L&(R^M))+D[5]+3593408605&4294967295,I=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(I^R))+D[10]+38016083&4294967295,L=I+(U<<9&4294967295|U>>>23),U=M+(I^R&(L^I))+D[15]+3634488961&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^I&(M^L))+D[4]+3889429448&4294967295,R=M+(U<<20&4294967295|U>>>12),U=I+(M^L&(R^M))+D[9]+568446438&4294967295,I=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(I^R))+D[14]+3275163606&4294967295,L=I+(U<<9&4294967295|U>>>23),U=M+(I^R&(L^I))+D[3]+4107603335&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^I&(M^L))+D[8]+1163531501&4294967295,R=M+(U<<20&4294967295|U>>>12),U=I+(M^L&(R^M))+D[13]+2850285829&4294967295,I=R+(U<<5&4294967295|U>>>27),U=L+(R^M&(I^R))+D[2]+4243563512&4294967295,L=I+(U<<9&4294967295|U>>>23),U=M+(I^R&(L^I))+D[7]+1735328473&4294967295,M=L+(U<<14&4294967295|U>>>18),U=R+(L^I&(M^L))+D[12]+2368359562&4294967295,R=M+(U<<20&4294967295|U>>>12),U=I+(R^M^L)+D[5]+4294588738&4294967295,I=R+(U<<4&4294967295|U>>>28),U=L+(I^R^M)+D[8]+2272392833&4294967295,L=I+(U<<11&4294967295|U>>>21),U=M+(L^I^R)+D[11]+1839030562&4294967295,M=L+(U<<16&4294967295|U>>>16),U=R+(M^L^I)+D[14]+4259657740&4294967295,R=M+(U<<23&4294967295|U>>>9),U=I+(R^M^L)+D[1]+2763975236&4294967295,I=R+(U<<4&4294967295|U>>>28),U=L+(I^R^M)+D[4]+1272893353&4294967295,L=I+(U<<11&4294967295|U>>>21),U=M+(L^I^R)+D[7]+4139469664&4294967295,M=L+(U<<16&4294967295|U>>>16),U=R+(M^L^I)+D[10]+3200236656&4294967295,R=M+(U<<23&4294967295|U>>>9),U=I+(R^M^L)+D[13]+681279174&4294967295,I=R+(U<<4&4294967295|U>>>28),U=L+(I^R^M)+D[0]+3936430074&4294967295,L=I+(U<<11&4294967295|U>>>21),U=M+(L^I^R)+D[3]+3572445317&4294967295,M=L+(U<<16&4294967295|U>>>16),U=R+(M^L^I)+D[6]+76029189&4294967295,R=M+(U<<23&4294967295|U>>>9),U=I+(R^M^L)+D[9]+3654602809&4294967295,I=R+(U<<4&4294967295|U>>>28),U=L+(I^R^M)+D[12]+3873151461&4294967295,L=I+(U<<11&4294967295|U>>>21),U=M+(L^I^R)+D[15]+530742520&4294967295,M=L+(U<<16&4294967295|U>>>16),U=R+(M^L^I)+D[2]+3299628645&4294967295,R=M+(U<<23&4294967295|U>>>9),U=I+(M^(R|~L))+D[0]+4096336452&4294967295,I=R+(U<<6&4294967295|U>>>26),U=L+(R^(I|~M))+D[7]+1126891415&4294967295,L=I+(U<<10&4294967295|U>>>22),U=M+(I^(L|~R))+D[14]+2878612391&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~I))+D[5]+4237533241&4294967295,R=M+(U<<21&4294967295|U>>>11),U=I+(M^(R|~L))+D[12]+1700485571&4294967295,I=R+(U<<6&4294967295|U>>>26),U=L+(R^(I|~M))+D[3]+2399980690&4294967295,L=I+(U<<10&4294967295|U>>>22),U=M+(I^(L|~R))+D[10]+4293915773&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~I))+D[1]+2240044497&4294967295,R=M+(U<<21&4294967295|U>>>11),U=I+(M^(R|~L))+D[8]+1873313359&4294967295,I=R+(U<<6&4294967295|U>>>26),U=L+(R^(I|~M))+D[15]+4264355552&4294967295,L=I+(U<<10&4294967295|U>>>22),U=M+(I^(L|~R))+D[6]+2734768916&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~I))+D[13]+1309151649&4294967295,R=M+(U<<21&4294967295|U>>>11),U=I+(M^(R|~L))+D[4]+4149444226&4294967295,I=R+(U<<6&4294967295|U>>>26),U=L+(R^(I|~M))+D[11]+3174756917&4294967295,L=I+(U<<10&4294967295|U>>>22),U=M+(I^(L|~R))+D[2]+718787259&4294967295,M=L+(U<<15&4294967295|U>>>17),U=R+(L^(M|~I))+D[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(M+(U<<21&4294967295|U>>>11))&4294967295,S.g[2]=S.g[2]+M&4294967295,S.g[3]=S.g[3]+L&4294967295}n.prototype.v=function(S,I){I===void 0&&(I=S.length);const R=I-this.blockSize,D=this.C;let M=this.h,L=0;for(;L<I;){if(M==0)for(;L<=R;)i(this,S,L),L+=this.blockSize;if(typeof S=="string"){for(;L<I;)if(D[M++]=S.charCodeAt(L++),M==this.blockSize){i(this,D),M=0;break}}else for(;L<I;)if(D[M++]=S[L++],M==this.blockSize){i(this,D),M=0;break}}this.h=M,this.o+=I},n.prototype.A=function(){var S=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;I=this.o*8;for(var R=S.length-8;R<S.length;++R)S[R]=I&255,I/=256;for(this.v(S),S=Array(16),I=0,R=0;R<4;++R)for(let D=0;D<32;D+=8)S[I++]=this.g[R]>>>D&255;return S};function s(S,I){var R=o;return Object.prototype.hasOwnProperty.call(R,S)?R[S]:R[S]=I(S)}function a(S,I){this.h=I;const R=[];let D=!0;for(let M=S.length-1;M>=0;M--){const L=S[M]|0;D&&L==I||(R[M]=L,D=!1)}this.g=R}var o={};function l(S){return-128<=S&&S<128?s(S,function(I){return new a([I|0],I<0?-1:0)}):new a([S|0],S<0?-1:0)}function u(S){if(isNaN(S)||!isFinite(S))return f;if(S<0)return w(u(-S));const I=[];let R=1;for(let D=0;S>=R;D++)I[D]=S/R|0,R*=4294967296;return new a(I,0)}function d(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return w(d(S.substring(1),I));if(S.indexOf("-")>=0)throw Error('number format error: interior "-" character');const R=u(Math.pow(I,8));let D=f;for(let L=0;L<S.length;L+=8){var M=Math.min(8,S.length-L);const U=parseInt(S.substring(L,L+M),I);M<8?(M=u(Math.pow(I,M)),D=D.j(M).add(u(U))):(D=D.j(R),D=D.add(u(U)))}return D}var f=l(0),g=l(1),v=l(16777216);t=a.prototype,t.m=function(){if(b(this))return-w(this).m();let S=0,I=1;for(let R=0;R<this.g.length;R++){const D=this.i(R);S+=(D>=0?D:4294967296+D)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(x(this))return"0";if(b(this))return"-"+w(this).toString(S);const I=u(Math.pow(S,6));var R=this;let D="";for(;;){const M=O(R,I).g;R=E(R,M.j(I));let L=((R.g.length>0?R.g[0]:R.h)>>>0).toString(S);if(R=M,x(R))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},t.i=function(S){return S<0?0:S<this.g.length?this.g[S]:this.h};function x(S){if(S.h!=0)return!1;for(let I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function b(S){return S.h==-1}t.l=function(S){return S=E(this,S),b(S)?-1:x(S)?0:1};function w(S){const I=S.g.length,R=[];for(let D=0;D<I;D++)R[D]=~S.g[D];return new a(R,~S.h).add(g)}t.abs=function(){return b(this)?w(this):this},t.add=function(S){const I=Math.max(this.g.length,S.g.length),R=[];let D=0;for(let M=0;M<=I;M++){let L=D+(this.i(M)&65535)+(S.i(M)&65535),U=(L>>>16)+(this.i(M)>>>16)+(S.i(M)>>>16);D=U>>>16,L&=65535,U&=65535,R[M]=U<<16|L}return new a(R,R[R.length-1]&-2147483648?-1:0)};function E(S,I){return S.add(w(I))}t.j=function(S){if(x(this)||x(S))return f;if(b(this))return b(S)?w(this).j(w(S)):w(w(this).j(S));if(b(S))return w(this.j(w(S)));if(this.l(v)<0&&S.l(v)<0)return u(this.m()*S.m());const I=this.g.length+S.g.length,R=[];for(var D=0;D<2*I;D++)R[D]=0;for(D=0;D<this.g.length;D++)for(let M=0;M<S.g.length;M++){const L=this.i(D)>>>16,U=this.i(D)&65535,le=S.i(M)>>>16,ue=S.i(M)&65535;R[2*D+2*M]+=U*ue,k(R,2*D+2*M),R[2*D+2*M+1]+=L*ue,k(R,2*D+2*M+1),R[2*D+2*M+1]+=U*le,k(R,2*D+2*M+1),R[2*D+2*M+2]+=L*le,k(R,2*D+2*M+2)}for(S=0;S<I;S++)R[S]=R[2*S+1]<<16|R[2*S];for(S=I;S<2*I;S++)R[S]=0;return new a(R,0)};function k(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function A(S,I){this.g=S,this.h=I}function O(S,I){if(x(I))throw Error("division by zero");if(x(S))return new A(f,f);if(b(S))return I=O(w(S),I),new A(w(I.g),w(I.h));if(b(I))return I=O(S,w(I)),new A(w(I.g),I.h);if(S.g.length>30){if(b(S)||b(I))throw Error("slowDivide_ only works with positive integers.");for(var R=g,D=I;D.l(S)<=0;)R=P(R),D=P(D);var M=j(R,1),L=j(D,1);for(D=j(D,2),R=j(R,2);!x(D);){var U=L.add(D);U.l(S)<=0&&(M=M.add(R),L=U),D=j(D,1),R=j(R,1)}return I=E(S,M.j(I)),new A(M,I)}for(M=f;S.l(I)>=0;){for(R=Math.max(1,Math.floor(S.m()/I.m())),D=Math.ceil(Math.log(R)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=u(R),U=L.j(I);b(U)||U.l(S)>0;)R-=D,L=u(R),U=L.j(I);x(L)&&(L=g),M=M.add(L),S=E(S,U)}return new A(M,S)}t.B=function(S){return O(this,S).h},t.and=function(S){const I=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<I;D++)R[D]=this.i(D)&S.i(D);return new a(R,this.h&S.h)},t.or=function(S){const I=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<I;D++)R[D]=this.i(D)|S.i(D);return new a(R,this.h|S.h)},t.xor=function(S){const I=Math.max(this.g.length,S.g.length),R=[];for(let D=0;D<I;D++)R[D]=this.i(D)^S.i(D);return new a(R,this.h^S.h)};function P(S){const I=S.g.length+1,R=[];for(let D=0;D<I;D++)R[D]=S.i(D)<<1|S.i(D-1)>>>31;return new a(R,S.h)}function j(S,I){const R=I>>5;I%=32;const D=S.g.length-R,M=[];for(let L=0;L<D;L++)M[L]=I>0?S.i(L+R)>>>I|S.i(L+R+1)<<32-I:S.i(L+R);return new a(M,S.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,IQ=n,a.prototype.add=a.prototype.add,a.prototype.multiply=a.prototype.j,a.prototype.modulo=a.prototype.B,a.prototype.compare=a.prototype.l,a.prototype.toNumber=a.prototype.m,a.prototype.toString=a.prototype.toString,a.prototype.getBits=a.prototype.i,a.fromNumber=u,a.fromString=d,Lh=a}).apply(typeof LB<"u"?LB:typeof self<"u"?self:typeof window<"u"?window:{});var x_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var OQ,Xy,RQ,T2,sI,PQ,jQ,DQ;(function(){var t,e=Object.defineProperty;function r(_){_=[typeof globalThis=="object"&&globalThis,_,typeof window=="object"&&window,typeof self=="object"&&self,typeof x_=="object"&&x_];for(var F=0;F<_.length;++F){var z=_[F];if(z&&z.Math==Math)return z}throw Error("Cannot find global object")}var n=r(this);function i(_,F){if(F)e:{var z=n;_=_.split(".");for(var re=0;re<_.length-1;re++){var Ee=_[re];if(!(Ee in z))break e;z=z[Ee]}_=_[_.length-1],re=z[_],F=F(re),F!=re&&F!=null&&e(z,_,{configurable:!0,writable:!0,value:F})}}i("Symbol.dispose",function(_){return _||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(_){return _||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(_){return _||function(F){var z=[],re;for(re in F)Object.prototype.hasOwnProperty.call(F,re)&&z.push([re,F[re]]);return z}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},a=this||self;function o(_){var F=typeof _;return F=="object"&&_!=null||F=="function"}function l(_,F,z){return _.call.apply(_.bind,arguments)}function u(_,F,z){return u=l,u.apply(null,arguments)}function d(_,F){var z=Array.prototype.slice.call(arguments,1);return function(){var re=z.slice();return re.push.apply(re,arguments),_.apply(this,re)}}function f(_,F){function z(){}z.prototype=F.prototype,_.Z=F.prototype,_.prototype=new z,_.prototype.constructor=_,_.Ob=function(re,Ee,Re){for(var ut=Array(arguments.length-2),Jt=2;Jt<arguments.length;Jt++)ut[Jt-2]=arguments[Jt];return F.prototype[Ee].apply(re,ut)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?_=>_&&AsyncContext.Snapshot.wrap(_):_=>_;function v(_){const F=_.length;if(F>0){const z=Array(F);for(let re=0;re<F;re++)z[re]=_[re];return z}return[]}function x(_,F){for(let re=1;re<arguments.length;re++){const Ee=arguments[re];var z=typeof Ee;if(z=z!="object"?z:Ee?Array.isArray(Ee)?"array":z:"null",z=="array"||z=="object"&&typeof Ee.length=="number"){z=_.length||0;const Re=Ee.length||0;_.length=z+Re;for(let ut=0;ut<Re;ut++)_[z+ut]=Ee[ut]}else _.push(Ee)}}class b{constructor(F,z){this.i=F,this.j=z,this.h=0,this.g=null}get(){let F;return this.h>0?(this.h--,F=this.g,this.g=F.next,F.next=null):F=this.i(),F}}function w(_){a.setTimeout(()=>{throw _},0)}function E(){var _=S;let F=null;return _.g&&(F=_.g,_.g=_.g.next,_.g||(_.h=null),F.next=null),F}class k{constructor(){this.h=this.g=null}add(F,z){const re=A.get();re.set(F,z),this.h?this.h.next=re:this.g=re,this.h=re}}var A=new b(()=>new O,_=>_.reset());class O{constructor(){this.next=this.g=this.h=null}set(F,z){this.h=F,this.g=z,this.next=null}reset(){this.next=this.g=this.h=null}}let P,j=!1,S=new k,I=()=>{const _=Promise.resolve(void 0);P=()=>{_.then(R)}};function R(){for(var _;_=E();){try{_.h.call(_.g)}catch(z){w(z)}var F=A;F.j(_),F.h<100&&(F.h++,_.next=F.g,F.g=_)}j=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(_,F){this.type=_,this.g=this.target=F,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var L=(function(){if(!a.addEventListener||!Object.defineProperty)return!1;var _=!1,F=Object.defineProperty({},"passive",{get:function(){_=!0}});try{const z=()=>{};a.addEventListener("test",z,F),a.removeEventListener("test",z,F)}catch{}return _})();function U(_){return/^[\s\xa0]*$/.test(_)}function le(_,F){M.call(this,_?_.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,_&&this.init(_,F)}f(le,M),le.prototype.init=function(_,F){const z=this.type=_.type,re=_.changedTouches&&_.changedTouches.length?_.changedTouches[0]:null;this.target=_.target||_.srcElement,this.g=F,F=_.relatedTarget,F||(z=="mouseover"?F=_.fromElement:z=="mouseout"&&(F=_.toElement)),this.relatedTarget=F,re?(this.clientX=re.clientX!==void 0?re.clientX:re.pageX,this.clientY=re.clientY!==void 0?re.clientY:re.pageY,this.screenX=re.screenX||0,this.screenY=re.screenY||0):(this.clientX=_.clientX!==void 0?_.clientX:_.pageX,this.clientY=_.clientY!==void 0?_.clientY:_.pageY,this.screenX=_.screenX||0,this.screenY=_.screenY||0),this.button=_.button,this.key=_.key||"",this.ctrlKey=_.ctrlKey,this.altKey=_.altKey,this.shiftKey=_.shiftKey,this.metaKey=_.metaKey,this.pointerId=_.pointerId||0,this.pointerType=_.pointerType,this.state=_.state,this.i=_,_.defaultPrevented&&le.Z.h.call(this)},le.prototype.h=function(){le.Z.h.call(this);const _=this.i;_.preventDefault?_.preventDefault():_.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),J=0;function Q(_,F,z,re,Ee){this.listener=_,this.proxy=null,this.src=F,this.type=z,this.capture=!!re,this.ha=Ee,this.key=++J,this.da=this.fa=!1}function he(_){_.da=!0,_.listener=null,_.proxy=null,_.src=null,_.ha=null}function Z(_,F,z){for(const re in _)F.call(z,_[re],re,_)}function ge(_,F){for(const z in _)F.call(void 0,_[z],z,_)}function H(_){const F={};for(const z in _)F[z]=_[z];return F}const B="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function q(_,F){let z,re;for(let Ee=1;Ee<arguments.length;Ee++){re=arguments[Ee];for(z in re)_[z]=re[z];for(let Re=0;Re<B.length;Re++)z=B[Re],Object.prototype.hasOwnProperty.call(re,z)&&(_[z]=re[z])}}function W(_){this.src=_,this.g={},this.h=0}W.prototype.add=function(_,F,z,re,Ee){const Re=_.toString();_=this.g[Re],_||(_=this.g[Re]=[],this.h++);const ut=de(_,F,re,Ee);return ut>-1?(F=_[ut],z||(F.fa=!1)):(F=new Q(F,this.src,Re,!!re,Ee),F.fa=z,_.push(F)),F};function Y(_,F){const z=F.type;if(z in _.g){var re=_.g[z],Ee=Array.prototype.indexOf.call(re,F,void 0),Re;(Re=Ee>=0)&&Array.prototype.splice.call(re,Ee,1),Re&&(he(F),_.g[z].length==0&&(delete _.g[z],_.h--))}}function de(_,F,z,re){for(let Ee=0;Ee<_.length;++Ee){const Re=_[Ee];if(!Re.da&&Re.listener==F&&Re.capture==!!z&&Re.ha==re)return Ee}return-1}var me="closure_lm_"+(Math.random()*1e6|0),ce={};function se(_,F,z,re,Ee){if(Array.isArray(F)){for(let Re=0;Re<F.length;Re++)se(_,F[Re],z,re,Ee);return null}return z=rt(z),_&&_[ue]?_.J(F,z,o(re)?!!re.capture:!1,Ee):ve(_,F,z,!1,re,Ee)}function ve(_,F,z,re,Ee,Re){if(!F)throw Error("Invalid event type");const ut=o(Ee)?!!Ee.capture:!!Ee;let Jt=Qe(_);if(Jt||(_[me]=Jt=new W(_)),z=Jt.add(F,z,re,ut,Re),z.proxy)return z;if(re=Ve(),z.proxy=re,re.src=_,re.listener=z,_.addEventListener)L||(Ee=ut),Ee===void 0&&(Ee=!1),_.addEventListener(F.toString(),re,Ee);else if(_.attachEvent)_.attachEvent(Ie(F.toString()),re);else if(_.addListener&&_.removeListener)_.addListener(re);else throw Error("addEventListener and attachEvent are unavailable.");return z}function Ve(){function _(z){return F.call(_.src,_.listener,z)}const F=tt;return _}function G(_,F,z,re,Ee){if(Array.isArray(F))for(var Re=0;Re<F.length;Re++)G(_,F[Re],z,re,Ee);else re=o(re)?!!re.capture:!!re,z=rt(z),_&&_[ue]?(_=_.i,Re=String(F).toString(),Re in _.g&&(F=_.g[Re],z=de(F,z,re,Ee),z>-1&&(he(F[z]),Array.prototype.splice.call(F,z,1),F.length==0&&(delete _.g[Re],_.h--)))):_&&(_=Qe(_))&&(F=_.g[F.toString()],_=-1,F&&(_=de(F,z,re,Ee)),(z=_>-1?F[_]:null)&&Ze(z))}function Ze(_){if(typeof _!="number"&&_&&!_.da){var F=_.src;if(F&&F[ue])Y(F.i,_);else{var z=_.type,re=_.proxy;F.removeEventListener?F.removeEventListener(z,re,_.capture):F.detachEvent?F.detachEvent(Ie(z),re):F.addListener&&F.removeListener&&F.removeListener(re),(z=Qe(F))?(Y(z,_),z.h==0&&(z.src=null,F[me]=null)):he(_)}}}function Ie(_){return _ in ce?ce[_]:ce[_]="on"+_}function tt(_,F){if(_.da)_=!0;else{F=new le(F,this);const z=_.listener,re=_.ha||_.src;_.fa&&Ze(_),_=z.call(re,F)}return _}function Qe(_){return _=_[me],_ instanceof W?_:null}var je="__closure_events_fn_"+(Math.random()*1e9>>>0);function rt(_){return typeof _=="function"?_:(_[je]||(_[je]=function(F){return _.handleEvent(F)}),_[je])}function vt(){D.call(this),this.i=new W(this),this.M=this,this.G=null}f(vt,D),vt.prototype[ue]=!0,vt.prototype.removeEventListener=function(_,F,z,re){G(this,_,F,z,re)};function It(_,F){var z,re=_.G;if(re)for(z=[];re;re=re.G)z.push(re);if(_=_.M,re=F.type||F,typeof F=="string")F=new M(F,_);else if(F instanceof M)F.target=F.target||_;else{var Ee=F;F=new M(re,_),q(F,Ee)}Ee=!0;let Re,ut;if(z)for(ut=z.length-1;ut>=0;ut--)Re=F.g=z[ut],Ee=Xr(Re,re,!0,F)&&Ee;if(Re=F.g=_,Ee=Xr(Re,re,!0,F)&&Ee,Ee=Xr(Re,re,!1,F)&&Ee,z)for(ut=0;ut<z.length;ut++)Re=F.g=z[ut],Ee=Xr(Re,re,!1,F)&&Ee}vt.prototype.N=function(){if(vt.Z.N.call(this),this.i){var _=this.i;for(const F in _.g){const z=_.g[F];for(let re=0;re<z.length;re++)he(z[re]);delete _.g[F],_.h--}}this.G=null},vt.prototype.J=function(_,F,z,re){return this.i.add(String(_),F,!1,z,re)},vt.prototype.K=function(_,F,z,re){return this.i.add(String(_),F,!0,z,re)};function Xr(_,F,z,re){if(F=_.i.g[String(F)],!F)return!0;F=F.concat();let Ee=!0;for(let Re=0;Re<F.length;++Re){const ut=F[Re];if(ut&&!ut.da&&ut.capture==z){const Jt=ut.listener,Ii=ut.ha||ut.src;ut.fa&&Y(_.i,ut),Ee=Jt.call(Ii,re)!==!1&&Ee}}return Ee&&!re.defaultPrevented}function qr(_,F){if(typeof _!="function")if(_&&typeof _.handleEvent=="function")_=u(_.handleEvent,_);else throw Error("Invalid listener argument");return Number(F)>2147483647?-1:a.setTimeout(_,F||0)}function Mr(_){_.g=qr(()=>{_.g=null,_.i&&(_.i=!1,Mr(_))},_.l);const F=_.h;_.h=null,_.m.apply(null,F)}class Wt extends D{constructor(F,z){super(),this.m=F,this.l=z,this.h=null,this.i=!1,this.g=null}j(F){this.h=arguments,this.g?this.i=!0:Mr(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tr(_){D.call(this),this.h=_,this.g={}}f(Tr,D);var Sn=[];function pi(_){Z(_.g,function(F,z){this.g.hasOwnProperty(z)&&Ze(F)},_),_.g={}}Tr.prototype.N=function(){Tr.Z.N.call(this),pi(this)},Tr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var xe=a.JSON.stringify,Ke=a.JSON.parse,nt=class{stringify(_){return a.JSON.stringify(_,void 0)}parse(_){return a.JSON.parse(_,void 0)}};function Pt(){}function Gt(){}var rr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function br(){M.call(this,"d")}f(br,M);function Ui(){M.call(this,"c")}f(Ui,M);var Qr={},Ll=null;function da(){return Ll=Ll||new vt}Qr.Ia="serverreachability";function us(_){M.call(this,Qr.Ia,_)}f(us,M);function gi(_){const F=da();It(F,new us(F))}Qr.STAT_EVENT="statevent";function _o(_,F){M.call(this,Qr.STAT_EVENT,_),this.stat=F}f(_o,M);function Jr(_){const F=da();It(F,new _o(F,_))}Qr.Ja="timingevent";function zi(_,F){M.call(this,Qr.Ja,_),this.size=F}f(zi,M);function At(_,F){if(typeof _!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){_()},F)}function wr(){this.g=!0}wr.prototype.ua=function(){this.g=!1};function In(_,F,z,re,Ee,Re){_.info(function(){if(_.g)if(Re){var ut="",Jt=Re.split("&");for(let Vr=0;Vr<Jt.length;Vr++){var Ii=Jt[Vr].split("=");if(Ii.length>1){const Xn=Ii[0];Ii=Ii[1];const tl=Xn.split("_");ut=tl.length>=2&&tl[1]=="type"?ut+(Xn+"="+Ii+"&"):ut+(Xn+"=redacted&")}}}else ut=null;else ut=Re;return"XMLHTTP REQ ("+re+") [attempt "+Ee+"]: "+F+`
`+z+`
`+ut})}function si(_,F,z,re,Ee,Re,ut){_.info(function(){return"XMLHTTP RESP ("+re+") [ attempt "+Ee+"]: "+F+`
`+z+`
`+Re+" "+ut})}function ai(_,F,z,re){_.info(function(){return"XMLHTTP TEXT ("+F+"): "+$i(_,z)+(re?" "+re:"")})}function Zr(_,F){_.info(function(){return"TIMEOUT: "+F})}wr.prototype.info=function(){};function $i(_,F){if(!_.g)return F;if(!F)return null;try{const Re=JSON.parse(F);if(Re){for(_=0;_<Re.length;_++)if(Array.isArray(Re[_])){var z=Re[_];if(!(z.length<2)){var re=z[1];if(Array.isArray(re)&&!(re.length<1)){var Ee=re[0];if(Ee!="noop"&&Ee!="stop"&&Ee!="close")for(let ut=1;ut<re.length;ut++)re[ut]=""}}}}return xe(Re)}catch{return F}}var Es={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},en={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Ci;function Ws(){}f(Ws,Pt),Ws.prototype.g=function(){return new XMLHttpRequest},Ci=new Ws;function vi(_){return encodeURIComponent(String(_))}function K(_){var F=1;_=_.split(":");const z=[];for(;F>0&&_.length;)z.push(_.shift()),F--;return _.length&&z.push(_.join(":")),z}function ae(_,F,z,re){this.j=_,this.i=F,this.l=z,this.S=re||1,this.V=new Tr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new ee}function ee(){this.i=null,this.g="",this.h=!1}var ne={},ie={};function oe(_,F,z){_.M=1,_.A=vu(xi(F)),_.u=z,_.R=!0,we(_,null)}function we(_,F){_.F=Date.now(),_e(_),_.B=xi(_.A);var z=_.B,re=_.S;Array.isArray(re)||(re=[String(re)]),zd(z.i,"t",re),_.C=0,z=_.j.L,_.h=new ee,_.g=ow(_.j,z?F:null,!_.u),_.P>0&&(_.O=new Wt(u(_.Y,_,_.g),_.P)),F=_.V,z=_.g,re=_.ba;var Ee="readystatechange";Array.isArray(Ee)||(Ee&&(Sn[0]=Ee.toString()),Ee=Sn);for(let Re=0;Re<Ee.length;Re++){const ut=se(z,Ee[Re],re||F.handleEvent,!1,F.h||F);if(!ut)break;F.g[ut.key]=ut}F=_.J?H(_.J):{},_.u?(_.v||(_.v="POST"),F["Content-Type"]="application/x-www-form-urlencoded",_.g.ea(_.B,_.v,_.u,F)):(_.v="GET",_.g.ea(_.B,_.v,null,F)),gi(),In(_.i,_.v,_.B,_.l,_.S,_.u)}ae.prototype.ba=function(_){_=_.target;const F=this.O;F&&Vl(_)==3?F.j():this.Y(_)},ae.prototype.Y=function(_){try{if(_==this.g)e:{const Jt=Vl(this.g),Ii=this.g.ya(),Vr=this.g.ca();if(!(Jt<3)&&(Jt!=3||this.g&&(this.h.h||this.g.la()||Gs(this.g)))){this.K||Jt!=4||Ii==7||(Ii==8||Vr<=0?gi(3):gi(2)),Xe(this);var F=this.g.ca();this.X=F;var z=Me(this);if(this.o=F==200,si(this.i,this.v,this.B,this.l,this.S,Jt,F),this.o){if(this.U&&!this.L){t:{if(this.g){var re,Ee=this.g;if((re=Ee.g?Ee.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(re)){var Re=re;break t}}Re=null}if(_=Re)ai(this.i,this.l,_,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,et(this,_);else{this.o=!1,this.m=3,Jr(12),qe(this),lt(this);break e}}if(this.R){_=!0;let Xn;for(;!this.K&&this.C<z.length;)if(Xn=Te(this,z),Xn==ie){Jt==4&&(this.m=4,Jr(14),_=!1),ai(this.i,this.l,null,"[Incomplete Response]");break}else if(Xn==ne){this.m=4,Jr(15),ai(this.i,this.l,z,"[Invalid Chunk]"),_=!1;break}else ai(this.i,this.l,Xn,null),et(this,Xn);if(be(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Jt!=4||z.length!=0||this.h.h||(this.m=1,Jr(16),_=!1),this.o=this.o&&_,!_)ai(this.i,this.l,z,"[Invalid Chunked Response]"),qe(this),lt(this);else if(z.length>0&&!this.W){this.W=!0;var ut=this.j;ut.g==this&&ut.aa&&!ut.P&&(ut.j.info("Great, no buffering proxy detected. Bytes received: "+z.length),Gv(ut),ut.P=!0,Jr(11))}}else ai(this.i,this.l,z,null),et(this,z);Jt==4&&qe(this),this.o&&!this.K&&(Jt==4?nw(this.j,this):(this.o=!1,_e(this)))}else wu(this.g),F==400&&z.indexOf("Unknown SID")>0?(this.m=3,Jr(12)):(this.m=0,Jr(13)),qe(this),lt(this)}}}catch{}finally{}};function Me(_){if(!be(_))return _.g.la();const F=Gs(_.g);if(F==="")return"";let z="";const re=F.length,Ee=Vl(_.g)==4;if(!_.h.i){if(typeof TextDecoder>"u")return qe(_),lt(_),"";_.h.i=new a.TextDecoder}for(let Re=0;Re<re;Re++)_.h.h=!0,z+=_.h.i.decode(F[Re],{stream:!(Ee&&Re==re-1)});return F.length=0,_.h.g+=z,_.C=0,_.h.g}function be(_){return _.g?_.v=="GET"&&_.M!=2&&_.j.Aa:!1}function Te(_,F){var z=_.C,re=F.indexOf(`
`,z);return re==-1?ie:(z=Number(F.substring(z,re)),isNaN(z)?ne:(re+=1,re+z>F.length?ie:(F=F.slice(re,re+z),_.C=re+z,F)))}ae.prototype.cancel=function(){this.K=!0,qe(this)};function _e(_){_.T=Date.now()+_.H,We(_,_.H)}function We(_,F){if(_.D!=null)throw Error("WatchDog timer not null");_.D=At(u(_.aa,_),F)}function Xe(_){_.D&&(a.clearTimeout(_.D),_.D=null)}ae.prototype.aa=function(){this.D=null;const _=Date.now();_-this.T>=0?(Zr(this.i,this.B),this.M!=2&&(gi(),Jr(17)),qe(this),this.m=2,lt(this)):We(this,this.T-_)};function lt(_){_.j.I==0||_.K||nw(_.j,_)}function qe(_){Xe(_);var F=_.O;F&&typeof F.dispose=="function"&&F.dispose(),_.O=null,pi(_.V),_.g&&(F=_.g,_.g=null,F.abort(),F.dispose())}function et(_,F){try{var z=_.j;if(z.I!=0&&(z.g==_||Ts(z.h,_))){if(!_.L&&Ts(z.h,_)&&z.I==3){try{var re=z.Ba.g.parse(F)}catch{re=null}if(Array.isArray(re)&&re.length==3){var Ee=re;if(Ee[0]==0){e:if(!z.v){if(z.g)if(z.g.F+3e3<_.F)Fm(z),Hd(z);else break e;Df(z),Jr(18)}}else z.xa=Ee[1],0<z.xa-z.K&&Ee[2]<37500&&z.F&&z.A==0&&!z.C&&(z.C=At(u(z.Va,z),6e3));tn(z.h)<=1&&z.ta&&(z.ta=void 0)}else Rc(z,11)}else if((_.L||z.g==_)&&Fm(z),!U(F))for(Ee=z.Ba.g.parse(F),F=0;F<Ee.length;F++){let Vr=Ee[F];const Xn=Vr[0];if(!(Xn<=z.K))if(z.K=Xn,Vr=Vr[1],z.I==2)if(Vr[0]=="c"){z.M=Vr[1],z.ba=Vr[2];const tl=Vr[3];tl!=null&&(z.ka=tl,z.j.info("VER="+z.ka));const Pc=Vr[4];Pc!=null&&(z.za=Pc,z.j.info("SVER="+z.za));const Ul=Vr[5];Ul!=null&&typeof Ul=="number"&&Ul>0&&(re=1.5*Ul,z.O=re,z.j.info("backChannelRequestTimeoutMs_="+re)),re=z;const zl=_.g;if(zl){const Mf=zl.g?zl.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Mf){var Re=re.h;Re.g||Mf.indexOf("spdy")==-1&&Mf.indexOf("quic")==-1&&Mf.indexOf("h2")==-1||(Re.j=Re.l,Re.g=new Set,Re.h&&(Da(Re,Re.h),Re.h=null))}if(re.G){const Bm=zl.g?zl.g.getResponseHeader("X-HTTP-Session-Id"):null;Bm&&(re.wa=Bm,Br(re.J,re.G,Bm))}}z.I=3,z.l&&z.l.ra(),z.aa&&(z.T=Date.now()-_.F,z.j.info("Handshake RTT: "+z.T+"ms")),re=z;var ut=_;if(re.na=aw(re,re.L?re.ba:null,re.W),ut.L){Ss(re.h,ut);var Jt=ut,Ii=re.O;Ii&&(Jt.H=Ii),Jt.D&&(Xe(Jt),_e(Jt)),re.g=ut}else tw(re);z.i.length>0&&Oc(z)}else Vr[0]!="stop"&&Vr[0]!="close"||Rc(z,7);else z.I==3&&(Vr[0]=="stop"||Vr[0]=="close"?Vr[0]=="stop"?Rc(z,7):qv(z):Vr[0]!="noop"&&z.l&&z.l.qa(Vr),z.A=0)}}gi(4)}catch{}}var pt=class{constructor(_,F){this.g=_,this.map=F}};function Lr(_){this.l=_||10,a.PerformanceNavigationTiming?(_=a.performance.getEntriesByType("navigation"),_=_.length>0&&(_[0].nextHopProtocol=="hq"||_[0].nextHopProtocol=="h2")):_=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=_?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function Fr(_){return _.h?!0:_.g?_.g.size>=_.j:!1}function tn(_){return _.h?1:_.g?_.g.size:0}function Ts(_,F){return _.h?_.h==F:_.g?_.g.has(F):!1}function Da(_,F){_.g?_.g.add(F):_.h=F}function Ss(_,F){_.h&&_.h==F?_.h=null:_.g&&_.g.has(F)&&_.g.delete(F)}Lr.prototype.cancel=function(){if(this.i=Ni(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const _ of this.g.values())_.cancel();this.g.clear()}};function Ni(_){if(_.h!=null)return _.i.concat(_.h.G);if(_.g!=null&&_.g.size!==0){let F=_.i;for(const z of _.g.values())F=F.concat(z.G);return F}return v(_.i)}var Qa=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function yi(_,F){if(_){_=_.split("&");for(let z=0;z<_.length;z++){const re=_[z].indexOf("=");let Ee,Re=null;re>=0?(Ee=_[z].substring(0,re),Re=_[z].substring(re+1)):Ee=_[z],F(Ee,Re?decodeURIComponent(Re.replace(/\+/g," ")):"")}}}function Ma(_){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let F;_ instanceof Ma?(this.l=_.l,Hi(this,_.j),this.o=_.o,this.g=_.g,kc(this,_.u),this.h=_.h,Nf(this,Dm(_.i)),this.m=_.m):_&&(F=String(_).match(Qa))?(this.l=!1,Hi(this,F[1]||"",!0),this.o=Eo(F[2]||""),this.g=Eo(F[3]||"",!0),kc(this,F[4]),this.h=Eo(F[5]||"",!0),Nf(this,F[6]||"",!0),this.m=Eo(F[7]||"")):(this.l=!1,this.i=new Ac(null,this.l))}Ma.prototype.toString=function(){const _=[];var F=this.j;F&&_.push(yu(F,Fd,!0),":");var z=this.g;return(z||F=="file")&&(_.push("//"),(F=this.o)&&_.push(yu(F,Fd,!0),"@"),_.push(vi(z).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),z=this.u,z!=null&&_.push(":",String(z))),(z=this.h)&&(this.g&&z.charAt(0)!="/"&&_.push("/"),_.push(yu(z,z.charAt(0)=="/"?If:Bd,!0))),(z=this.i.toString())&&_.push("?",z),(z=this.m)&&_.push("#",yu(z,jm)),_.join("")},Ma.prototype.resolve=function(_){const F=xi(this);let z=!!_.j;z?Hi(F,_.j):z=!!_.o,z?F.o=_.o:z=!!_.g,z?F.g=_.g:z=_.u!=null;var re=_.h;if(z)kc(F,_.u);else if(z=!!_.h){if(re.charAt(0)!="/")if(this.g&&!this.h)re="/"+re;else{var Ee=F.h.lastIndexOf("/");Ee!=-1&&(re=F.h.slice(0,Ee+1)+re)}if(Ee=re,Ee==".."||Ee==".")re="";else if(Ee.indexOf("./")!=-1||Ee.indexOf("/.")!=-1){re=Ee.lastIndexOf("/",0)==0,Ee=Ee.split("/");const Re=[];for(let ut=0;ut<Ee.length;){const Jt=Ee[ut++];Jt=="."?re&&ut==Ee.length&&Re.push(""):Jt==".."?((Re.length>1||Re.length==1&&Re[0]!="")&&Re.pop(),re&&ut==Ee.length&&Re.push("")):(Re.push(Jt),re=!0)}re=Re.join("/")}else re=Ee}return z?F.h=re:z=_.i.toString()!=="",z?Nf(F,Dm(_.i)):z=!!_.m,z&&(F.m=_.m),F};function xi(_){return new Ma(_)}function Hi(_,F,z){_.j=z?Eo(F,!0):F,_.j&&(_.j=_.j.replace(/:$/,""))}function kc(_,F){if(F){if(F=Number(F),isNaN(F)||F<0)throw Error("Bad port number "+F);_.u=F}else _.u=null}function Nf(_,F,z){F instanceof Ac?(_.i=F,xu(_.i,_.l)):(z||(F=yu(F,Fl)),_.i=new Ac(F,_.l))}function Br(_,F,z){_.i.set(F,z)}function vu(_){return Br(_,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),_}function Eo(_,F){return _?F?decodeURI(_.replace(/%25/g,"%2525")):decodeURIComponent(_):""}function yu(_,F,z){return typeof _=="string"?(_=encodeURI(_).replace(F,ha),z&&(_=_.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),_):null}function ha(_){return _=_.charCodeAt(0),"%"+(_>>4&15).toString(16)+(_&15).toString(16)}var Fd=/[#\/\?@]/g,Bd=/[#\?:]/g,If=/[#\?]/g,Fl=/[#\?@]/g,jm=/#/g;function Ac(_,F){this.h=this.g=null,this.i=_||null,this.j=!!F}function Fn(_){_.g||(_.g=new Map,_.h=0,_.i&&yi(_.i,function(F,z){_.add(decodeURIComponent(F.replace(/\+/g," ")),z)}))}t=Ac.prototype,t.add=function(_,F){Fn(this),this.i=null,_=Bl(this,_);let z=this.g.get(_);return z||this.g.set(_,z=[]),z.push(F),this.h+=1,this};function Cc(_,F){Fn(_),F=Bl(_,F),_.g.has(F)&&(_.i=null,_.h-=_.g.get(F).length,_.g.delete(F))}function Vd(_,F){return Fn(_),F=Bl(_,F),_.g.has(F)}t.forEach=function(_,F){Fn(this),this.g.forEach(function(z,re){z.forEach(function(Ee){_.call(F,Ee,re,this)},this)},this)};function Ud(_,F){Fn(_);let z=[];if(typeof F=="string")Vd(_,F)&&(z=z.concat(_.g.get(Bl(_,F))));else for(_=Array.from(_.g.values()),F=0;F<_.length;F++)z=z.concat(_[F]);return z}t.set=function(_,F){return Fn(this),this.i=null,_=Bl(this,_),Vd(this,_)&&(this.h-=this.g.get(_).length),this.g.set(_,[F]),this.h+=1,this},t.get=function(_,F){return _?(_=Ud(this,_),_.length>0?String(_[0]):F):F};function zd(_,F,z){Cc(_,F),z.length>0&&(_.i=null,_.g.set(Bl(_,F),v(z)),_.h+=z.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const _=[],F=Array.from(this.g.keys());for(let re=0;re<F.length;re++){var z=F[re];const Ee=vi(z);z=Ud(this,z);for(let Re=0;Re<z.length;Re++){let ut=Ee;z[Re]!==""&&(ut+="="+vi(z[Re])),_.push(ut)}}return this.i=_.join("&")};function Dm(_){const F=new Ac;return F.i=_.i,_.g&&(F.g=new Map(_.g),F.h=_.h),F}function Bl(_,F){return F=String(F),_.j&&(F=F.toLowerCase()),F}function xu(_,F){F&&!_.j&&(Fn(_),_.i=null,_.g.forEach(function(z,re){const Ee=re.toLowerCase();re!=Ee&&(Cc(this,re),zd(this,Ee,z))},_)),_.j=F}function Ja(_,F){const z=new wr;if(a.Image){const re=new Image;re.onload=d(Oe,z,"TestLoadImage: loaded",!0,F,re),re.onerror=d(Oe,z,"TestLoadImage: error",!1,F,re),re.onabort=d(Oe,z,"TestLoadImage: abort",!1,F,re),re.ontimeout=d(Oe,z,"TestLoadImage: timeout",!1,F,re),a.setTimeout(function(){re.ontimeout&&re.ontimeout()},1e4),re.src=_}else F(!1)}function te(_,F){const z=new wr,re=new AbortController,Ee=setTimeout(()=>{re.abort(),Oe(z,"TestPingServer: timeout",!1,F)},1e4);fetch(_,{signal:re.signal}).then(Re=>{clearTimeout(Ee),Re.ok?Oe(z,"TestPingServer: ok",!0,F):Oe(z,"TestPingServer: server error",!1,F)}).catch(()=>{clearTimeout(Ee),Oe(z,"TestPingServer: error",!1,F)})}function Oe(_,F,z,re,Ee){try{Ee&&(Ee.onload=null,Ee.onerror=null,Ee.onabort=null,Ee.ontimeout=null),re(z)}catch{}}function ct(){this.g=new nt}function wt(_){this.i=_.Sb||null,this.h=_.ab||!1}f(wt,Pt),wt.prototype.g=function(){return new mt(this.i,this.h)};function mt(_,F){vt.call(this),this.H=_,this.o=F,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(mt,vt),t=mt.prototype,t.open=function(_,F){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=_,this.D=F,this.readyState=1,fn(this)},t.send=function(_){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const F={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};_&&(F.body=_),(this.H||a).fetch(new Request(this.D,F)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Gr(this)),this.readyState=0},t.Pa=function(_){if(this.g&&(this.l=_,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=_.headers,this.readyState=2,fn(this)),this.g&&(this.readyState=3,fn(this),this.g)))if(this.responseType==="arraybuffer")_.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in _){if(this.j=_.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Wr(this)}else _.text().then(this.Oa.bind(this),this.ga.bind(this))};function Wr(_){_.j.read().then(_.Ma.bind(_)).catch(_.ga.bind(_))}t.Ma=function(_){if(this.g){if(this.o&&_.value)this.response.push(_.value);else if(!this.o){var F=_.value?_.value:new Uint8Array(0);(F=this.B.decode(F,{stream:!_.done}))&&(this.response=this.responseText+=F)}_.done?Gr(this):fn(this),this.readyState==3&&Wr(this)}},t.Oa=function(_){this.g&&(this.response=this.responseText=_,Gr(this))},t.Na=function(_){this.g&&(this.response=_,Gr(this))},t.ga=function(){this.g&&Gr(this)};function Gr(_){_.readyState=4,_.l=null,_.j=null,_.B=null,fn(_)}t.setRequestHeader=function(_,F){this.A.append(_,F)},t.getResponseHeader=function(_){return this.h&&this.h.get(_.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const _=[],F=this.h.entries();for(var z=F.next();!z.done;)z=z.value,_.push(z[0]+": "+z[1]),z=F.next();return _.join(`\r
`)};function fn(_){_.onreadystatechange&&_.onreadystatechange.call(_)}Object.defineProperty(mt.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(_){this.m=_?"include":"same-origin"}});function qi(_){let F="";return Z(_,function(z,re){F+=re,F+=":",F+=z,F+=`\r
`}),F}function Of(_,F,z){e:{for(re in z){var re=!1;break e}re=!0}re||(z=qi(z),typeof _=="string"?z!=null&&vi(z):Br(_,F,z))}function mn(_){vt.call(this),this.headers=new Map,this.L=_||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(mn,vt);var Nc=/^https?$/i,$v=["POST","PUT"];t=mn.prototype,t.Fa=function(_){this.H=_},t.ea=function(_,F,z,re){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+_);F=F?F.toUpperCase():"GET",this.D=_,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Ci.g(),this.g.onreadystatechange=g(u(this.Ca,this));try{this.B=!0,this.g.open(F,String(_),!0),this.B=!1}catch(Re){Rf(this,Re);return}if(_=z||"",z=new Map(this.headers),re)if(Object.getPrototypeOf(re)===Object.prototype)for(var Ee in re)z.set(Ee,re[Ee]);else if(typeof re.keys=="function"&&typeof re.get=="function")for(const Re of re.keys())z.set(Re,re.get(Re));else throw Error("Unknown input type for opt_headers: "+String(re));re=Array.from(z.keys()).find(Re=>Re.toLowerCase()=="content-type"),Ee=a.FormData&&_ instanceof a.FormData,!(Array.prototype.indexOf.call($v,F,void 0)>=0)||re||Ee||z.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Re,ut]of z)this.g.setRequestHeader(Re,ut);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(_),this.v=!1}catch(Re){Rf(this,Re)}};function Rf(_,F){_.h=!1,_.g&&(_.j=!0,_.g.abort(),_.j=!1),_.l=F,_.o=5,Hv(_),bu(_)}function Hv(_){_.A||(_.A=!0,It(_,"complete"),It(_,"error"))}t.abort=function(_){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=_||7,It(this,"complete"),It(this,"abort"),bu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bu(this,!0)),mn.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Pf(this):this.Xa())},t.Xa=function(){Pf(this)};function Pf(_){if(_.h&&typeof s<"u"){if(_.v&&Vl(_)==4)setTimeout(_.Ca.bind(_),0);else if(It(_,"readystatechange"),Vl(_)==4){_.h=!1;try{const Re=_.ca();e:switch(Re){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var F=!0;break e;default:F=!1}var z;if(!(z=F)){var re;if(re=Re===0){let ut=String(_.D).match(Qa)[1]||null;!ut&&a.self&&a.self.location&&(ut=a.self.location.protocol.slice(0,-1)),re=!Nc.test(ut?ut.toLowerCase():"")}z=re}if(z)It(_,"complete"),It(_,"success");else{_.o=6;try{var Ee=Vl(_)>2?_.g.statusText:""}catch{Ee=""}_.l=Ee+" ["+_.ca()+"]",Hv(_)}}finally{bu(_)}}}}function bu(_,F){if(_.g){_.m&&(clearTimeout(_.m),_.m=null);const z=_.g;_.g=null,F||It(_,"ready");try{z.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Vl(_){return _.g?_.g.readyState:0}t.ca=function(){try{return Vl(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(_){if(this.g){var F=this.g.responseText;return _&&F.indexOf(_)==0&&(F=F.substring(_.length)),Ke(F)}};function Gs(_){try{if(!_.g)return null;if("response"in _.g)return _.g.response;switch(_.F){case"":case"text":return _.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in _.g)return _.g.mozResponseArrayBuffer}return null}catch{return null}}function wu(_){const F={};_=(_.g&&Vl(_)>=2&&_.g.getAllResponseHeaders()||"").split(`\r
`);for(let re=0;re<_.length;re++){if(U(_[re]))continue;var z=K(_[re]);const Ee=z[0];if(z=z[1],typeof z!="string")continue;z=z.trim();const Re=F[Ee]||[];F[Ee]=Re,Re.push(z)}ge(F,function(re){return re.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ic(_,F,z){return z&&z.internalChannelParams&&z.internalChannelParams[_]||F}function $d(_){this.za=0,this.i=[],this.j=new wr,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Ic("failFast",!1,_),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Ic("baseRetryDelayMs",5e3,_),this.Za=Ic("retryDelaySeedMs",1e4,_),this.Ta=Ic("forwardChannelMaxRetries",2,_),this.va=Ic("forwardChannelRequestTimeoutMs",2e4,_),this.ma=_&&_.xmlHttpFactory||void 0,this.Ua=_&&_.Rb||void 0,this.Aa=_&&_.useFetchStreams||!1,this.O=void 0,this.L=_&&_.supportsCrossDomainXhr||!1,this.M="",this.h=new Lr(_&&_.concurrentRequestLimit),this.Ba=new ct,this.S=_&&_.fastHandshake||!1,this.R=_&&_.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=_&&_.Pb||!1,_&&_.ua&&this.j.ua(),_&&_.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&_&&_.detectBufferingProxy||!1,this.ia=void 0,_&&_.longPollingTimeout&&_.longPollingTimeout>0&&(this.ia=_.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=$d.prototype,t.ka=8,t.I=1,t.connect=function(_,F,z,re){Jr(0),this.W=_,this.H=F||{},z&&re!==void 0&&(this.H.OSID=z,this.H.OAID=re),this.F=this.X,this.J=aw(this,null,this.W),Oc(this)};function qv(_){if(Mm(_),_.I==3){var F=_.V++,z=xi(_.J);if(Br(z,"SID",_.M),Br(z,"RID",F),Br(z,"TYPE","terminate"),jf(_,z),F=new ae(_,_.j,F),F.M=2,F.A=vu(xi(z)),z=!1,a.navigator&&a.navigator.sendBeacon)try{z=a.navigator.sendBeacon(F.A.toString(),"")}catch{}!z&&a.Image&&(new Image().src=F.A,z=!0),z||(F.g=ow(F.j,null),F.g.ea(F.A)),F.F=Date.now(),_e(F)}sw(_)}function Hd(_){_.g&&(Gv(_),_.g.cancel(),_.g=null)}function Mm(_){Hd(_),_.v&&(a.clearTimeout(_.v),_.v=null),Fm(_),_.h.cancel(),_.m&&(typeof _.m=="number"&&a.clearTimeout(_.m),_.m=null)}function Oc(_){if(!Fr(_.h)&&!_.m){_.m=!0;var F=_.Ea;P||I(),j||(P(),j=!0),S.add(F,_),_.D=0}}function Lm(_,F){return tn(_.h)>=_.h.j-(_.m?1:0)?!1:_.m?(_.i=F.G.concat(_.i),!0):_.I==1||_.I==2||_.D>=(_.Sa?0:_.Ta)?!1:(_.m=At(u(_.Ea,_,F),iw(_,_.D)),_.D++,!0)}t.Ea=function(_){if(this.m)if(this.m=null,this.I==1){if(!_){this.V=Math.floor(Math.random()*1e5),_=this.V++;const Ee=new ae(this,this.j,_);let Re=this.o;if(this.U&&(Re?(Re=H(Re),q(Re,this.U)):Re=this.U),this.u!==null||this.R||(Ee.J=Re,Re=null),this.S)e:{for(var F=0,z=0;z<this.i.length;z++){t:{var re=this.i[z];if("__data__"in re.map&&(re=re.map.__data__,typeof re=="string")){re=re.length;break t}re=void 0}if(re===void 0)break;if(F+=re,F>4096){F=z;break e}if(F===4096||z===this.i.length-1){F=z+1;break e}}F=1e3}else F=1e3;F=ew(this,Ee,F),z=xi(this.J),Br(z,"RID",_),Br(z,"CVER",22),this.G&&Br(z,"X-HTTP-Session-Id",this.G),jf(this,z),Re&&(this.R?F="headers="+vi(qi(Re))+"&"+F:this.u&&Of(z,this.u,Re)),Da(this.h,Ee),this.Ra&&Br(z,"TYPE","init"),this.S?(Br(z,"$req",F),Br(z,"SID","null"),Ee.U=!0,oe(Ee,z,null)):oe(Ee,z,F),this.I=2}}else this.I==3&&(_?Wv(this,_):this.i.length==0||Fr(this.h)||Wv(this))};function Wv(_,F){var z;F?z=F.l:z=_.V++;const re=xi(_.J);Br(re,"SID",_.M),Br(re,"RID",z),Br(re,"AID",_.K),jf(_,re),_.u&&_.o&&Of(re,_.u,_.o),z=new ae(_,_.j,z,_.D+1),_.u===null&&(z.J=_.o),F&&(_.i=F.G.concat(_.i)),F=ew(_,z,1e3),z.H=Math.round(_.va*.5)+Math.round(_.va*.5*Math.random()),Da(_.h,z),oe(z,re,F)}function jf(_,F){_.H&&Z(_.H,function(z,re){Br(F,re,z)}),_.l&&Z({},function(z,re){Br(F,re,z)})}function ew(_,F,z){z=Math.min(_.i.length,z);const re=_.l?u(_.l.Ka,_.l,_):null;e:{var Ee=_.i;let Jt=-1;for(;;){const Ii=["count="+z];Jt==-1?z>0?(Jt=Ee[0].g,Ii.push("ofs="+Jt)):Jt=0:Ii.push("ofs="+Jt);let Vr=!0;for(let Xn=0;Xn<z;Xn++){var Re=Ee[Xn].g;const tl=Ee[Xn].map;if(Re-=Jt,Re<0)Jt=Math.max(0,Ee[Xn].g-100),Vr=!1;else try{Re="req"+Re+"_"||"";try{var ut=tl instanceof Map?tl:Object.entries(tl);for(const[Pc,Ul]of ut){let zl=Ul;o(Ul)&&(zl=xe(Ul)),Ii.push(Re+Pc+"="+encodeURIComponent(zl))}}catch(Pc){throw Ii.push(Re+"type="+encodeURIComponent("_badmap")),Pc}}catch{re&&re(tl)}}if(Vr){ut=Ii.join("&");break e}}ut=void 0}return _=_.i.splice(0,z),F.G=_,ut}function tw(_){if(!_.g&&!_.v){_.Y=1;var F=_.Da;P||I(),j||(P(),j=!0),S.add(F,_),_.A=0}}function Df(_){return _.g||_.v||_.A>=3?!1:(_.Y++,_.v=At(u(_.Da,_),iw(_,_.A)),_.A++,!0)}t.Da=function(){if(this.v=null,rw(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var _=4*this.T;this.j.info("BP detection timer enabled: "+_),this.B=At(u(this.Wa,this),_)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Jr(10),Hd(this),rw(this))};function Gv(_){_.B!=null&&(a.clearTimeout(_.B),_.B=null)}function rw(_){_.g=new ae(_,_.j,"rpc",_.Y),_.u===null&&(_.g.J=_.o),_.g.P=0;var F=xi(_.na);Br(F,"RID","rpc"),Br(F,"SID",_.M),Br(F,"AID",_.K),Br(F,"CI",_.F?"0":"1"),!_.F&&_.ia&&Br(F,"TO",_.ia),Br(F,"TYPE","xmlhttp"),jf(_,F),_.u&&_.o&&Of(F,_.u,_.o),_.O&&(_.g.H=_.O);var z=_.g;_=_.ba,z.M=1,z.A=vu(xi(F)),z.u=null,z.R=!0,we(z,_)}t.Va=function(){this.C!=null&&(this.C=null,Hd(this),Df(this),Jr(19))};function Fm(_){_.C!=null&&(a.clearTimeout(_.C),_.C=null)}function nw(_,F){var z=null;if(_.g==F){Fm(_),Gv(_),_.g=null;var re=2}else if(Ts(_.h,F))z=F.G,Ss(_.h,F),re=1;else return;if(_.I!=0){if(F.o)if(re==1){z=F.u?F.u.length:0,F=Date.now()-F.F;var Ee=_.D;re=da(),It(re,new zi(re,z)),Oc(_)}else tw(_);else if(Ee=F.m,Ee==3||Ee==0&&F.X>0||!(re==1&&Lm(_,F)||re==2&&Df(_)))switch(z&&z.length>0&&(F=_.h,F.i=F.i.concat(z)),Ee){case 1:Rc(_,5);break;case 4:Rc(_,10);break;case 3:Rc(_,6);break;default:Rc(_,2)}}}function iw(_,F){let z=_.Qa+Math.floor(Math.random()*_.Za);return _.isActive()||(z*=2),z*F}function Rc(_,F){if(_.j.info("Error code "+F),F==2){var z=u(_.bb,_),re=_.Ua;const Ee=!re;re=new Ma(re||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Hi(re,"https"),vu(re),Ee?Ja(re.toString(),z):te(re.toString(),z)}else Jr(2);_.I=0,_.l&&_.l.pa(F),sw(_),Mm(_)}t.bb=function(_){_?(this.j.info("Successfully pinged google.com"),Jr(2)):(this.j.info("Failed to ping google.com"),Jr(1))};function sw(_){if(_.I=0,_.ja=[],_.l){const F=Ni(_.h);(F.length!=0||_.i.length!=0)&&(x(_.ja,F),x(_.ja,_.i),_.h.i.length=0,v(_.i),_.i.length=0),_.l.oa()}}function aw(_,F,z){var re=z instanceof Ma?xi(z):new Ma(z);if(re.g!="")F&&(re.g=F+"."+re.g),kc(re,re.u);else{var Ee=a.location;re=Ee.protocol,F=F?F+"."+Ee.hostname:Ee.hostname,Ee=+Ee.port;const Re=new Ma(null);re&&Hi(Re,re),F&&(Re.g=F),Ee&&kc(Re,Ee),z&&(Re.h=z),re=Re}return z=_.G,F=_.wa,z&&F&&Br(re,z,F),Br(re,"VER",_.ka),jf(_,re),re}function ow(_,F,z){if(F&&!_.L)throw Error("Can't create secondary domain capable XhrIo object.");return F=_.Aa&&!_.ma?new mn(new wt({ab:z})):new mn(_.ma),F.Fa(_.L),F}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function lw(){}t=lw.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qd(){}qd.prototype.g=function(_,F){return new La(_,F)};function La(_,F){vt.call(this),this.g=new $d(F),this.l=_,this.h=F&&F.messageUrlParams||null,_=F&&F.messageHeaders||null,F&&F.clientProtocolHeaderRequired&&(_?_["X-Client-Protocol"]="webchannel":_={"X-Client-Protocol":"webchannel"}),this.g.o=_,_=F&&F.initMessageHeaders||null,F&&F.messageContentType&&(_?_["X-WebChannel-Content-Type"]=F.messageContentType:_={"X-WebChannel-Content-Type":F.messageContentType}),F&&F.sa&&(_?_["X-WebChannel-Client-Profile"]=F.sa:_={"X-WebChannel-Client-Profile":F.sa}),this.g.U=_,(_=F&&F.Qb)&&!U(_)&&(this.g.u=_),this.A=F&&F.supportsCrossDomainXhr||!1,this.v=F&&F.sendRawJson||!1,(F=F&&F.httpSessionIdParam)&&!U(F)&&(this.g.G=F,_=this.h,_!==null&&F in _&&(_=this.h,F in _&&delete _[F])),this.j=new _u(this)}f(La,vt),La.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},La.prototype.close=function(){qv(this.g)},La.prototype.o=function(_){var F=this.g;if(typeof _=="string"){var z={};z.__data__=_,_=z}else this.v&&(z={},z.__data__=xe(_),_=z);F.i.push(new pt(F.Ya++,_)),F.I==3&&Oc(F)},La.prototype.N=function(){this.g.l=null,delete this.j,qv(this.g),delete this.g,La.Z.N.call(this)};function cw(_){br.call(this),_.__headers__&&(this.headers=_.__headers__,this.statusCode=_.__status__,delete _.__headers__,delete _.__status__);var F=_.__sm__;if(F){e:{for(const z in F){_=z;break e}_=void 0}(this.i=_)&&(_=this.i,F=F!==null&&_ in F?F[_]:void 0),this.data=F}else this.data=_}f(cw,br);function uw(){Ui.call(this),this.status=1}f(uw,Ui);function _u(_){this.g=_}f(_u,lw),_u.prototype.ra=function(){It(this.g,"a")},_u.prototype.qa=function(_){It(this.g,new cw(_))},_u.prototype.pa=function(_){It(this.g,new uw)},_u.prototype.oa=function(){It(this.g,"b")},qd.prototype.createWebChannel=qd.prototype.g,La.prototype.send=La.prototype.o,La.prototype.open=La.prototype.m,La.prototype.close=La.prototype.close,DQ=function(){return new qd},jQ=function(){return da()},PQ=Qr,sI={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Es.NO_ERROR=0,Es.TIMEOUT=8,Es.HTTP_ERROR=6,T2=Es,en.COMPLETE="complete",RQ=en,Gt.EventType=rr,rr.OPEN="a",rr.CLOSE="b",rr.ERROR="c",rr.MESSAGE="d",vt.prototype.listen=vt.prototype.J,Xy=Gt,mn.prototype.listenOnce=mn.prototype.K,mn.prototype.getLastError=mn.prototype.Ha,mn.prototype.getLastErrorCode=mn.prototype.ya,mn.prototype.getStatus=mn.prototype.ca,mn.prototype.getResponseJson=mn.prototype.La,mn.prototype.getResponseText=mn.prototype.la,mn.prototype.send=mn.prototype.ea,mn.prototype.setWithCredentials=mn.prototype.Fa,OQ=mn}).apply(typeof x_<"u"?x_:typeof self<"u"?self:typeof window<"u"?window:{});const FB="@firebase/firestore",BB="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ya.UNAUTHENTICATED=new ya(null),ya.GOOGLE_CREDENTIALS=new ya("google-credentials-uid"),ya.FIRST_PARTY=new ya("first-party-uid"),ya.MOCK_USER=new ya("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lv="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const V0=new xS("@firebase/firestore");function Cp(){return V0.logLevel}function ft(t,...e){if(V0.logLevel<=mr.DEBUG){const r=e.map(yR);V0.debug(`Firestore (${lv}): ${t}`,...r)}}function fd(t,...e){if(V0.logLevel<=mr.ERROR){const r=e.map(yR);V0.error(`Firestore (${lv}): ${t}`,...r)}}function U0(t,...e){if(V0.logLevel<=mr.WARN){const r=e.map(yR);V0.warn(`Firestore (${lv}): ${t}`,...r)}}function yR(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(r){return JSON.stringify(r)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vt(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,MQ(t,n,r)}function MQ(t,e,r){let n=`FIRESTORE (${lv}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw fd(n),new Error(n)}function Yr(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||MQ(e,i,n)}function Qt(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ot extends du{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LQ{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FQ{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(ya.UNAUTHENTICATED)))}shutdown(){}}class nxe{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class ixe{constructor(e){this.t=e,this.currentUser=ya.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){Yr(this.o===void 0,42304);let n=this.i;const i=l=>this.i!==n?(n=this.i,r(l)):Promise.resolve();let s=new Ju;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ju,e.enqueueRetryable((()=>i(this.currentUser)))};const a=()=>{const l=s;e.enqueueRetryable((async()=>{await l.promise,await i(this.currentUser)}))},o=l=>{ft("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),a())};this.t.onInit((l=>o(l))),setTimeout((()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?o(l):(ft("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ju)}}),0),a()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(ft("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(Yr(typeof n.accessToken=="string",31837,{l:n}),new LQ(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Yr(e===null||typeof e=="string",2055,{h:e}),new ya(e)}}class sxe{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=ya.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class axe{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new sxe(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(ya.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class VB{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class oxe{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,oo(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){Yr(this.o===void 0,3512);const n=s=>{s.error!=null&&ft("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const a=s.token!==this.m;return this.m=s.token,ft("FirebaseAppCheckTokenProvider",`Received ${a?"new":"existing"} token.`),a?r(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable((()=>n(s)))};const i=s=>{ft("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((s=>i(s))),setTimeout((()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):ft("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new VB(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(Yr(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new VB(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lxe(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=lxe(40);for(let s=0;s<i.length;++s)n.length<20&&i[s]<r&&(n+=e.charAt(i[s]%62))}return n}}function yr(t,e){return t<e?-1:t>e?1:0}function aI(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),s=e.charAt(n);if(i!==s)return qC(i)===qC(s)?yr(i,s):qC(i)?1:-1}return yr(t.length,e.length)}const cxe=55296,uxe=57343;function qC(t){const e=t.charCodeAt(0);return e>=cxe&&e<=uxe}function Eg(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oI="__name__";class $c{constructor(e,r,n){r===void 0?r=0:r>e.length&&Vt(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Vt(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return $c.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof $c?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const s=$c.compareSegments(e.get(i),r.get(i));if(s!==0)return s}return yr(e.length,r.length)}static compareSegments(e,r){const n=$c.isNumericId(e),i=$c.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?$c.extractNumericId(e).compare($c.extractNumericId(r)):aI(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Lh.fromString(e.substring(4,e.length-2))}}class Cn extends $c{construct(e,r,n){return new Cn(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new ot(Fe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Cn(r)}static emptyPath(){return new Cn([])}}const dxe=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ls extends $c{construct(e,r,n){return new Ls(e,r,n)}static isValidIdentifier(e){return dxe.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ls.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===oI}static keyField(){return new Ls([oI])}static fromServerFormat(e){const r=[];let n="",i=0;const s=()=>{if(n.length===0)throw new ot(Fe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let a=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new ot(Fe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new ot(Fe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,i+=2}else o==="`"?(a=!a,i++):o!=="."||a?(n+=o,i++):(s(),i++)}if(s(),a)throw new ot(Fe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ls(r)}static emptyPath(){return new Ls([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kt{constructor(e){this.path=e}static fromPath(e){return new kt(Cn.fromString(e))}static fromName(e){return new kt(Cn.fromString(e).popFirst(5))}static empty(){return new kt(Cn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Cn.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Cn.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new kt(new Cn(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BQ(t,e,r){if(!r)throw new ot(Fe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function VQ(t,e,r,n){if(e===!0&&n===!0)throw new ot(Fe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function UB(t){if(!kt.isDocumentKey(t))throw new ot(Fe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function zB(t){if(kt.isDocumentKey(t))throw new ot(Fe.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function UQ(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function _S(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Vt(12329,{type:typeof t})}function Na(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new ot(Fe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=_S(t);throw new ot(Fe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function hxe(t,e){if(e<=0)throw new ot(Fe.INVALID_ARGUMENT,`Function ${t}() requires a positive number, but it was: ${e}.`)}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ss(t,e){const r={typeString:t};return e&&(r.value=e),r}function Jx(t,e){if(!UQ(t))throw new ot(Fe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,s="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const a=t[n];if(i&&typeof a!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(s!==void 0&&a!==s.value){r=`Expected '${n}' field to equal '${s.value}'`;break}}if(r)throw new ot(Fe.INVALID_ARGUMENT,r);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B=-62135596800,HB=1e6;class wn{static now(){return wn.fromMillis(Date.now())}static fromDate(e){return wn.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*HB);return new wn(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<$B)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ot(Fe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/HB}_compareTo(e){return this.seconds===e.seconds?yr(this.nanoseconds,e.nanoseconds):yr(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:wn._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jx(e,wn._jsonSchema))return new wn(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-$B;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}wn._jsonSchemaVersion="firestore/timestamp/1.0",wn._jsonSchema={type:ss("string",wn._jsonSchemaVersion),seconds:ss("number"),nanoseconds:ss("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{static fromTimestamp(e){return new Kt(e)}static min(){return new Kt(new wn(0,0))}static max(){return new Kt(new wn(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H1=-1;function fxe(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Kt.fromTimestamp(n===1e9?new wn(r+1,0):new wn(r,n));return new Gh(i,kt.empty(),e)}function mxe(t){return new Gh(t.readTime,t.key,H1)}class Gh{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new Gh(Kt.min(),kt.empty(),H1)}static max(){return new Gh(Kt.max(),kt.empty(),H1)}}function pxe(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=kt.comparator(t.documentKey,e.documentKey),r!==0?r:yr(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gxe="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vxe{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cv(t){if(t.code!==Fe.FAILED_PRECONDITION||t.message!==gxe)throw t;ft("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $e{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Vt(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new $e(((n,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(n,i)},this.catchCallback=s=>{this.wrapFailure(r,s).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof $e?r:$e.resolve(r)}catch(r){return $e.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):$e.reject(r)}static resolve(e){return new $e(((r,n)=>{r(e)}))}static reject(e){return new $e(((r,n)=>{n(e)}))}static waitFor(e){return new $e(((r,n)=>{let i=0,s=0,a=!1;e.forEach((o=>{++i,o.next((()=>{++s,a&&s===i&&r()}),(l=>n(l)))})),a=!0,s===i&&r()}))}static or(e){let r=$e.resolve(!1);for(const n of e)r=r.next((i=>i?$e.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,s)=>{n.push(r.call(this,i,s))})),this.waitFor(n)}static mapArray(e,r){return new $e(((n,i)=>{const s=e.length,a=new Array(s);let o=0;for(let l=0;l<s;l++){const u=l;r(e[u]).next((d=>{a[u]=d,++o,o===s&&n(a)}),(d=>i(d)))}}))}static doWhile(e,r){return new $e(((n,i)=>{const s=()=>{e()===!0?r().next((()=>{s()}),i):n()};s()}))}}function yxe(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function uv(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ES{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}ES.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xR=-1;function TS(t){return t==null}function J2(t){return t===0&&1/t==-1/0}function xxe(t){return typeof t=="number"&&Number.isInteger(t)&&!J2(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zQ="";function bxe(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=qB(e)),e=wxe(t.get(r),e);return qB(e)}function wxe(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const s=t.charAt(i);switch(s){case"\0":r+="";break;case zQ:r+="";break;default:r+=s}}return r}function qB(t){return t+zQ+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WB(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function pf(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function $Q(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cs=class lI{constructor(e,r){this.comparator=e,this.root=r||Fh.EMPTY}insert(e,r){return new lI(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Fh.BLACK,null,null))}remove(e){return new lI(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Fh.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new b_(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new b_(this.root,e,this.comparator,!1)}getReverseIterator(){return new b_(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new b_(this.root,e,this.comparator,!0)}},b_=class{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=r?n(e.key,r):1,r&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Fh=class Fu{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Fu.RED,this.left=i??Fu.EMPTY,this.right=s??Fu.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,s){return new Fu(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Fu.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Fu.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Fu.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Fu.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Vt(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Vt(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Vt(27949);return e+(this.isRed()?0:1)}};Fh.EMPTY=null,Fh.RED=!0,Fh.BLACK=!1;Fh.EMPTY=new class{constructor(){this.size=0}get key(){throw Vt(57766)}get value(){throw Vt(16141)}get color(){throw Vt(16727)}get left(){throw Vt(29726)}get right(){throw Vt(36894)}copy(e,r,n,i,s){return this}insert(e,r,n){return new Fh(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vs{constructor(e){this.comparator=e,this.data=new cs(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new GB(this.data.getIterator())}getIteratorFrom(e){return new GB(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof vs)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new vs(this.comparator);return r.data=e,r}}class GB{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zo{constructor(e){this.fields=e,e.sort(Ls.comparator)}static empty(){return new zo([])}unionWith(e){let r=new vs(Ls.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new zo(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return Eg(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HQ extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new HQ("Invalid base64 string: "+s):s}})(e);return new Us(r)}static fromUint8Array(e){const r=(function(i){let s="";for(let a=0;a<i.length;++a)s+=String.fromCharCode(i[a]);return s})(e);return new Us(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return yr(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Us.EMPTY_BYTE_STRING=new Us("");const _xe=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kh(t){if(Yr(!!t,39018),typeof t=="string"){let e=0;const r=_xe.exec(t);if(Yr(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:Mi(t.seconds),nanos:Mi(t.nanos)}}function Mi(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Yh(t){return typeof t=="string"?Us.fromBase64String(t):Us.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qQ="server_timestamp",WQ="__type__",GQ="__previous_value__",KQ="__local_write_time__";function SS(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[WQ])==null?void 0:n.stringValue)===qQ}function kS(t){const e=t.mapValue.fields[GQ];return SS(e)?kS(e):e}function q1(t){const e=Kh(t.mapValue.fields[KQ].timestampValue);return new wn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Exe{constructor(e,r,n,i,s,a,o,l,u,d){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=s,this.forceLongPolling=a,this.autoDetectLongPolling=o,this.longPollingOptions=l,this.useFetchStreams=u,this.isUsingEmulator=d}}const Z2="(default)";class Tg{constructor(e,r){this.projectId=e,this.database=r||Z2}static empty(){return new Tg("","")}get isDefaultDatabase(){return this.database===Z2}isEqual(e){return e instanceof Tg&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YQ="__type__",Txe="__max__",w_={mapValue:{}},XQ="__vector__",eE="value";function Xh(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?SS(t)?4:kxe(t)?9007199254740991:Sxe(t)?10:11:Vt(28295,{value:t})}function su(t,e){if(t===e)return!0;const r=Xh(t);if(r!==Xh(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return q1(t).isEqual(q1(e));case 3:return(function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const a=Kh(i.timestampValue),o=Kh(s.timestampValue);return a.seconds===o.seconds&&a.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,s){return Yh(i.bytesValue).isEqual(Yh(s.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,s){return Mi(i.geoPointValue.latitude)===Mi(s.geoPointValue.latitude)&&Mi(i.geoPointValue.longitude)===Mi(s.geoPointValue.longitude)})(t,e);case 2:return(function(i,s){if("integerValue"in i&&"integerValue"in s)return Mi(i.integerValue)===Mi(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const a=Mi(i.doubleValue),o=Mi(s.doubleValue);return a===o?J2(a)===J2(o):isNaN(a)&&isNaN(o)}return!1})(t,e);case 9:return Eg(t.arrayValue.values||[],e.arrayValue.values||[],su);case 10:case 11:return(function(i,s){const a=i.mapValue.fields||{},o=s.mapValue.fields||{};if(WB(a)!==WB(o))return!1;for(const l in a)if(a.hasOwnProperty(l)&&(o[l]===void 0||!su(a[l],o[l])))return!1;return!0})(t,e);default:return Vt(52216,{left:t})}}function W1(t,e){return(t.values||[]).find((r=>su(r,e)))!==void 0}function Sg(t,e){if(t===e)return 0;const r=Xh(t),n=Xh(e);if(r!==n)return yr(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return yr(t.booleanValue,e.booleanValue);case 2:return(function(s,a){const o=Mi(s.integerValue||s.doubleValue),l=Mi(a.integerValue||a.doubleValue);return o<l?-1:o>l?1:o===l?0:isNaN(o)?isNaN(l)?0:-1:1})(t,e);case 3:return KB(t.timestampValue,e.timestampValue);case 4:return KB(q1(t),q1(e));case 5:return aI(t.stringValue,e.stringValue);case 6:return(function(s,a){const o=Yh(s),l=Yh(a);return o.compareTo(l)})(t.bytesValue,e.bytesValue);case 7:return(function(s,a){const o=s.split("/"),l=a.split("/");for(let u=0;u<o.length&&u<l.length;u++){const d=yr(o[u],l[u]);if(d!==0)return d}return yr(o.length,l.length)})(t.referenceValue,e.referenceValue);case 8:return(function(s,a){const o=yr(Mi(s.latitude),Mi(a.latitude));return o!==0?o:yr(Mi(s.longitude),Mi(a.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return YB(t.arrayValue,e.arrayValue);case 10:return(function(s,a){var g,v,x,b;const o=s.fields||{},l=a.fields||{},u=(g=o[eE])==null?void 0:g.arrayValue,d=(v=l[eE])==null?void 0:v.arrayValue,f=yr(((x=u==null?void 0:u.values)==null?void 0:x.length)||0,((b=d==null?void 0:d.values)==null?void 0:b.length)||0);return f!==0?f:YB(u,d)})(t.mapValue,e.mapValue);case 11:return(function(s,a){if(s===w_.mapValue&&a===w_.mapValue)return 0;if(s===w_.mapValue)return 1;if(a===w_.mapValue)return-1;const o=s.fields||{},l=Object.keys(o),u=a.fields||{},d=Object.keys(u);l.sort(),d.sort();for(let f=0;f<l.length&&f<d.length;++f){const g=aI(l[f],d[f]);if(g!==0)return g;const v=Sg(o[l[f]],u[d[f]]);if(v!==0)return v}return yr(l.length,d.length)})(t.mapValue,e.mapValue);default:throw Vt(23264,{he:r})}}function KB(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return yr(t,e);const r=Kh(t),n=Kh(e),i=yr(r.seconds,n.seconds);return i!==0?i:yr(r.nanos,n.nanos)}function YB(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const s=Sg(r[i],n[i]);if(s)return s}return yr(r.length,n.length)}function kg(t){return cI(t)}function cI(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=Kh(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return Yh(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return kt.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const s of r.values||[])i?i=!1:n+=",",n+=cI(s);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",s=!0;for(const a of n)s?s=!1:i+=",",i+=`${a}:${cI(r.fields[a])}`;return i+"}"})(t.mapValue):Vt(61005,{value:t})}function S2(t){switch(Xh(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=kS(t);return e?16+S2(e):16;case 5:return 2*t.stringValue.length;case 6:return Yh(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,s)=>i+S2(s)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return pf(n.fields,((s,a)=>{i+=s.length+S2(a)})),i})(t.mapValue);default:throw Vt(13486,{value:t})}}function tE(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function uI(t){return!!t&&"integerValue"in t}function bR(t){return!!t&&"arrayValue"in t}function XB(t){return!!t&&"nullValue"in t}function QB(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function k2(t){return!!t&&"mapValue"in t}function Sxe(t){var r,n;return((n=(((r=t==null?void 0:t.mapValue)==null?void 0:r.fields)||{})[YQ])==null?void 0:n.stringValue)===XQ}function u1(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return pf(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=u1(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=u1(t.arrayValue.values[r]);return e}return{...t}}function kxe(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Txe}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e){this.value=e}static empty(){return new lo({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!k2(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=u1(r)}setAll(e){let r=Ls.emptyPath(),n={},i=[];e.forEach(((a,o)=>{if(!r.isImmediateParentOf(o)){const l=this.getFieldsMap(r);this.applyChanges(l,n,i),n={},i=[],r=o.popLast()}a?n[o.lastSegment()]=u1(a):i.push(o.lastSegment())}));const s=this.getFieldsMap(r);this.applyChanges(s,n,i)}delete(e){const r=this.field(e.popLast());k2(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return su(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];k2(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){pf(r,((i,s)=>e[i]=s));for(const i of n)delete e[i]}clone(){return new lo(u1(this.value))}}function QQ(t){const e=[];return pf(t.fields,((r,n)=>{const i=new Ls([r]);if(k2(n)){const s=QQ(n.mapValue).fields;if(s.length===0)e.push(i);else for(const a of s)e.push(i.child(a))}else e.push(i)})),new zo(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wa{constructor(e,r,n,i,s,a,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=s,this.data=a,this.documentState=o}static newInvalidDocument(e){return new wa(e,0,Kt.min(),Kt.min(),Kt.min(),lo.empty(),0)}static newFoundDocument(e,r,n,i){return new wa(e,1,r,Kt.min(),n,i,0)}static newNoDocument(e,r){return new wa(e,2,r,Kt.min(),Kt.min(),lo.empty(),0)}static newUnknownDocument(e,r){return new wa(e,3,r,Kt.min(),Kt.min(),lo.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Kt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=lo.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=lo.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Kt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof wa&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new wa(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{constructor(e,r){this.position=e,this.inclusive=r}}function JB(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const s=e[i],a=t.position[i];if(s.field.isKeyField()?n=kt.comparator(kt.fromName(a.referenceValue),r.key):n=Sg(a,r.data.field(s.field)),s.dir==="desc"&&(n*=-1),n!==0)break}return n}function ZB(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!su(t.position[r],e.position[r]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G1{constructor(e,r="asc"){this.field=e,this.dir=r}}function Axe(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JQ{}class ns extends JQ{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Nxe(e,r,n):r==="array-contains"?new Rxe(e,n):r==="in"?new Pxe(e,n):r==="not-in"?new jxe(e,n):r==="array-contains-any"?new Dxe(e,n):new ns(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Ixe(e,n):new Oxe(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(Sg(r,this.value)):r!==null&&Xh(this.value)===Xh(r)&&this.matchesComparison(Sg(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Vt(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class gc extends JQ{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new gc(e,r)}matches(e){return ZQ(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function ZQ(t){return t.op==="and"}function eJ(t){return Cxe(t)&&ZQ(t)}function Cxe(t){for(const e of t.filters)if(e instanceof gc)return!1;return!0}function dI(t){if(t instanceof ns)return t.field.canonicalString()+t.op.toString()+kg(t.value);if(eJ(t))return t.filters.map((e=>dI(e))).join(",");{const e=t.filters.map((r=>dI(r))).join(",");return`${t.op}(${e})`}}function tJ(t,e){return t instanceof ns?(function(n,i){return i instanceof ns&&n.op===i.op&&n.field.isEqual(i.field)&&su(n.value,i.value)})(t,e):t instanceof gc?(function(n,i){return i instanceof gc&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((s,a,o)=>s&&tJ(a,i.filters[o])),!0):!1})(t,e):void Vt(19439)}function rJ(t){return t instanceof ns?(function(r){return`${r.field.canonicalString()} ${r.op} ${kg(r.value)}`})(t):t instanceof gc?(function(r){return r.op.toString()+" {"+r.getFilters().map(rJ).join(" ,")+"}"})(t):"Filter"}class Nxe extends ns{constructor(e,r,n){super(e,r,n),this.key=kt.fromName(n.referenceValue)}matches(e){const r=kt.comparator(e.key,this.key);return this.matchesComparison(r)}}class Ixe extends ns{constructor(e,r){super(e,"in",r),this.keys=nJ("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Oxe extends ns{constructor(e,r){super(e,"not-in",r),this.keys=nJ("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function nJ(t,e){var r;return(((r=e.arrayValue)==null?void 0:r.values)||[]).map((n=>kt.fromName(n.referenceValue)))}class Rxe extends ns{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return bR(r)&&W1(r.arrayValue,this.value)}}class Pxe extends ns{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&W1(this.value.arrayValue,r)}}class jxe extends ns{constructor(e,r){super(e,"not-in",r)}matches(e){if(W1(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!W1(this.value.arrayValue,r)}}class Dxe extends ns{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!bR(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>W1(this.value.arrayValue,n)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mxe{constructor(e,r=null,n=[],i=[],s=null,a=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=s,this.startAt=a,this.endAt=o,this.Te=null}}function eV(t,e=null,r=[],n=[],i=null,s=null,a=null){return new Mxe(t,e,r,n,i,s,a)}function wR(t){const e=Qt(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>dI(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(s){return s.field.canonicalString()+s.dir})(n))).join(","),TS(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>kg(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>kg(n))).join(",")),e.Te=r}return e.Te}function _R(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Axe(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!tJ(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!ZB(t.startAt,e.startAt)&&ZB(t.endAt,e.endAt)}function hI(t){return kt.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fm{constructor(e,r=null,n=[],i=[],s=null,a="F",o=null,l=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=s,this.limitType=a,this.startAt=o,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function Lxe(t,e,r,n,i,s,a,o){return new fm(t,e,r,n,i,s,a,o)}function AS(t){return new fm(t)}function tV(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ER(t){return t.collectionGroup!==null}function Xp(t){const e=Qt(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const s of e.explicitOrderBy)e.Ie.push(s),r.add(s.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(a){let o=new vs(Ls.comparator);return a.filters.forEach((l=>{l.getFlattenedFilters().forEach((u=>{u.isInequality()&&(o=o.add(u.field))}))})),o})(e).forEach((s=>{r.has(s.canonicalString())||s.isKeyField()||e.Ie.push(new G1(s,n))})),r.has(Ls.keyField().canonicalString())||e.Ie.push(new G1(Ls.keyField(),n))}return e.Ie}function Zc(t){const e=Qt(t);return e.Ee||(e.Ee=Fxe(e,Xp(t))),e.Ee}function Fxe(t,e){if(t.limitType==="F")return eV(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const s=i.dir==="desc"?"asc":"desc";return new G1(i.field,s)}));const r=t.endAt?new Ag(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new Ag(t.startAt.position,t.startAt.inclusive):null;return eV(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function fI(t,e){const r=t.filters.concat([e]);return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),r,t.limit,t.limitType,t.startAt,t.endAt)}function rE(t,e,r){return new fm(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function CS(t,e){return _R(Zc(t),Zc(e))&&t.limitType===e.limitType}function iJ(t){return`${wR(Zc(t))}|lt:${t.limitType}`}function Np(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>rJ(i))).join(", ")}]`),TS(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(a){return`${a.field.canonicalString()} (${a.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>kg(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>kg(i))).join(",")),`Target(${n})`})(Zc(t))}; limitType=${t.limitType})`}function NS(t,e){return e.isFoundDocument()&&(function(n,i){const s=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(s):kt.isDocumentKey(n.path)?n.path.isEqual(s):n.path.isImmediateParentOf(s)})(t,e)&&(function(n,i){for(const s of Xp(n))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const s of n.filters)if(!s.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(a,o,l){const u=JB(a,o,l);return a.inclusive?u<=0:u<0})(n.startAt,Xp(n),i)||n.endAt&&!(function(a,o,l){const u=JB(a,o,l);return a.inclusive?u>=0:u>0})(n.endAt,Xp(n),i))})(t,e)}function Bxe(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function sJ(t){return(e,r)=>{let n=!1;for(const i of Xp(t)){const s=Vxe(i,e,r);if(s!==0)return s;n=n||i.field.isKeyField()}return 0}}function Vxe(t,e,r){const n=t.field.isKeyField()?kt.comparator(e.key,r.key):(function(s,a,o){const l=a.data.field(s),u=o.data.field(s);return l!==null&&u!==null?Sg(l,u):Vt(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Vt(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mm{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,s]of n)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){pf(this.inner,((r,n)=>{for(const[i,s]of n)e(i,s)}))}isEmpty(){return $Q(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uxe=new cs(kt.comparator);function md(){return Uxe}const aJ=new cs(kt.comparator);function Qy(...t){let e=aJ;for(const r of t)e=e.insert(r.key,r);return e}function oJ(t){let e=aJ;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function p0(){return d1()}function lJ(){return d1()}function d1(){return new mm((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zxe=new cs(kt.comparator),$xe=new vs(kt.comparator);function xr(...t){let e=$xe;for(const r of t)e=e.add(r);return e}const Hxe=new vs(yr);function qxe(){return Hxe}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:J2(e)?"-0":e}}function cJ(t){return{integerValue:""+t}}function Wxe(t,e){return xxe(e)?cJ(e):TR(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IS{constructor(){this._=void 0}}function Gxe(t,e,r){return t instanceof K1?(function(i,s){const a={fields:{[WQ]:{stringValue:qQ},[KQ]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&SS(s)&&(s=kS(s)),s&&(a.fields[GQ]=s),{mapValue:a}})(r,e):t instanceof Cg?dJ(t,e):t instanceof Ng?hJ(t,e):(function(i,s){const a=uJ(i,s),o=rV(a)+rV(i.Ae);return uI(a)&&uI(i.Ae)?cJ(o):TR(i.serializer,o)})(t,e)}function Kxe(t,e,r){return t instanceof Cg?dJ(t,e):t instanceof Ng?hJ(t,e):r}function uJ(t,e){return t instanceof nE?(function(n){return uI(n)||(function(s){return!!s&&"doubleValue"in s})(n)})(e)?e:{integerValue:0}:null}class K1 extends IS{}class Cg extends IS{constructor(e){super(),this.elements=e}}function dJ(t,e){const r=fJ(e);for(const n of t.elements)r.some((i=>su(i,n)))||r.push(n);return{arrayValue:{values:r}}}class Ng extends IS{constructor(e){super(),this.elements=e}}function hJ(t,e){let r=fJ(e);for(const n of t.elements)r=r.filter((i=>!su(i,n)));return{arrayValue:{values:r}}}class nE extends IS{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function rV(t){return Mi(t.integerValue||t.doubleValue)}function fJ(t){return bR(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SR{constructor(e,r){this.field=e,this.transform=r}}function Yxe(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof Cg&&i instanceof Cg||n instanceof Ng&&i instanceof Ng?Eg(n.elements,i.elements,su):n instanceof nE&&i instanceof nE?su(n.Ae,i.Ae):n instanceof K1&&i instanceof K1})(t.transform,e.transform)}class Xxe{constructor(e,r){this.version=e,this.transformResults=r}}class $a{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new $a}static exists(e){return new $a(void 0,e)}static updateTime(e){return new $a(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function A2(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class OS{}function mJ(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new RS(t.key,$a.none()):new Zx(t.key,t.data,$a.none());{const r=t.data,n=lo.empty();let i=new vs(Ls.comparator);for(let s of e.fields)if(!i.has(s)){let a=r.field(s);a===null&&s.length>1&&(s=s.popLast(),a=r.field(s)),a===null?n.delete(s):n.set(s,a),i=i.add(s)}return new gf(t.key,n,new zo(i.toArray()),$a.none())}}function Qxe(t,e,r){t instanceof Zx?(function(i,s,a){const o=i.value.clone(),l=iV(i.fieldTransforms,s,a.transformResults);o.setAll(l),s.convertToFoundDocument(a.version,o).setHasCommittedMutations()})(t,e,r):t instanceof gf?(function(i,s,a){if(!A2(i.precondition,s))return void s.convertToUnknownDocument(a.version);const o=iV(i.fieldTransforms,s,a.transformResults),l=s.data;l.setAll(pJ(i)),l.setAll(o),s.convertToFoundDocument(a.version,l).setHasCommittedMutations()})(t,e,r):(function(i,s,a){s.convertToNoDocument(a.version).setHasCommittedMutations()})(0,e,r)}function h1(t,e,r,n){return t instanceof Zx?(function(s,a,o,l){if(!A2(s.precondition,a))return o;const u=s.value.clone(),d=sV(s.fieldTransforms,l,a);return u.setAll(d),a.convertToFoundDocument(a.version,u).setHasLocalMutations(),null})(t,e,r,n):t instanceof gf?(function(s,a,o,l){if(!A2(s.precondition,a))return o;const u=sV(s.fieldTransforms,l,a),d=a.data;return d.setAll(pJ(s)),d.setAll(u),a.convertToFoundDocument(a.version,d).setHasLocalMutations(),o===null?null:o.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map((f=>f.field)))})(t,e,r,n):(function(s,a,o){return A2(s.precondition,a)?(a.convertToNoDocument(a.version).setHasLocalMutations(),null):o})(t,e,r)}function Jxe(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),s=uJ(n.transform,i||null);s!=null&&(r===null&&(r=lo.empty()),r.set(n.field,s))}return r||null}function nV(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&Eg(n,i,((s,a)=>Yxe(s,a)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zx extends OS{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class gf extends OS{constructor(e,r,n,i,s=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function pJ(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function iV(t,e,r){const n=new Map;Yr(t.length===r.length,32656,{Re:r.length,Ve:t.length});for(let i=0;i<r.length;i++){const s=t[i],a=s.transform,o=e.data.field(s.field);n.set(s.field,Kxe(a,o,r[i]))}return n}function sV(t,e,r){const n=new Map;for(const i of t){const s=i.transform,a=r.data.field(i.field);n.set(i.field,Gxe(s,a,e))}return n}class RS extends OS{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class Zxe extends OS{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ebe{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&Qxe(s,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=h1(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=h1(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=lJ();return this.mutations.forEach((i=>{const s=e.get(i.key),a=s.overlayedDocument;let o=this.applyToLocalView(a,s.mutatedFields);o=r.has(i.key)?null:o;const l=mJ(a,o);l!==null&&n.set(i.key,l),a.isValidDocument()||a.convertToNoDocument(Kt.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),xr())}isEqual(e){return this.batchId===e.batchId&&Eg(this.mutations,e.mutations,((r,n)=>nV(r,n)))&&Eg(this.baseMutations,e.baseMutations,((r,n)=>nV(r,n)))}}class kR{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){Yr(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return zxe})();const s=e.mutations;for(let a=0;a<s.length;a++)i=i.insert(s[a].key,n[a].version);return new kR(e,r,n,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tbe{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rbe{constructor(e,r){this.count=e,this.unchangedNames=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Qi,Sr;function nbe(t){switch(t){case Fe.OK:return Vt(64938);case Fe.CANCELLED:case Fe.UNKNOWN:case Fe.DEADLINE_EXCEEDED:case Fe.RESOURCE_EXHAUSTED:case Fe.INTERNAL:case Fe.UNAVAILABLE:case Fe.UNAUTHENTICATED:return!1;case Fe.INVALID_ARGUMENT:case Fe.NOT_FOUND:case Fe.ALREADY_EXISTS:case Fe.PERMISSION_DENIED:case Fe.FAILED_PRECONDITION:case Fe.ABORTED:case Fe.OUT_OF_RANGE:case Fe.UNIMPLEMENTED:case Fe.DATA_LOSS:return!0;default:return Vt(15467,{code:t})}}function gJ(t){if(t===void 0)return fd("GRPC error has no .code"),Fe.UNKNOWN;switch(t){case Qi.OK:return Fe.OK;case Qi.CANCELLED:return Fe.CANCELLED;case Qi.UNKNOWN:return Fe.UNKNOWN;case Qi.DEADLINE_EXCEEDED:return Fe.DEADLINE_EXCEEDED;case Qi.RESOURCE_EXHAUSTED:return Fe.RESOURCE_EXHAUSTED;case Qi.INTERNAL:return Fe.INTERNAL;case Qi.UNAVAILABLE:return Fe.UNAVAILABLE;case Qi.UNAUTHENTICATED:return Fe.UNAUTHENTICATED;case Qi.INVALID_ARGUMENT:return Fe.INVALID_ARGUMENT;case Qi.NOT_FOUND:return Fe.NOT_FOUND;case Qi.ALREADY_EXISTS:return Fe.ALREADY_EXISTS;case Qi.PERMISSION_DENIED:return Fe.PERMISSION_DENIED;case Qi.FAILED_PRECONDITION:return Fe.FAILED_PRECONDITION;case Qi.ABORTED:return Fe.ABORTED;case Qi.OUT_OF_RANGE:return Fe.OUT_OF_RANGE;case Qi.UNIMPLEMENTED:return Fe.UNIMPLEMENTED;case Qi.DATA_LOSS:return Fe.DATA_LOSS;default:return Vt(39323,{code:t})}}(Sr=Qi||(Qi={}))[Sr.OK=0]="OK",Sr[Sr.CANCELLED=1]="CANCELLED",Sr[Sr.UNKNOWN=2]="UNKNOWN",Sr[Sr.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Sr[Sr.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Sr[Sr.NOT_FOUND=5]="NOT_FOUND",Sr[Sr.ALREADY_EXISTS=6]="ALREADY_EXISTS",Sr[Sr.PERMISSION_DENIED=7]="PERMISSION_DENIED",Sr[Sr.UNAUTHENTICATED=16]="UNAUTHENTICATED",Sr[Sr.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Sr[Sr.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Sr[Sr.ABORTED=10]="ABORTED",Sr[Sr.OUT_OF_RANGE=11]="OUT_OF_RANGE",Sr[Sr.UNIMPLEMENTED=12]="UNIMPLEMENTED",Sr[Sr.INTERNAL=13]="INTERNAL",Sr[Sr.UNAVAILABLE=14]="UNAVAILABLE",Sr[Sr.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ibe(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sbe=new Lh([4294967295,4294967295],0);function aV(t){const e=ibe().encode(t),r=new IQ;return r.update(e),new Uint8Array(r.digest())}function oV(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new Lh([r,n],0),new Lh([i,s],0)]}class AR{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Jy(`Invalid padding: ${r}`);if(n<0)throw new Jy(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Jy(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Jy(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Lh.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Lh.fromNumber(n)));return i.compare(sbe)===1&&(i=new Lh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=aV(e),[n,i]=oV(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);if(!this.we(a))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),a=new AR(s,i,r);return n.forEach((o=>a.insert(o))),a}insert(e){if(this.ge===0)return;const r=aV(e),[n,i]=oV(r);for(let s=0;s<this.hashCount;s++){const a=this.ye(n,i,s);this.Se(a)}}Se(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Jy extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PS{constructor(e,r,n,i,s){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,eb.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new PS(Kt.min(),i,new cs(yr),md(),xr())}}class eb{constructor(e,r,n,i,s){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new eb(n,r,xr(),xr(),xr())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C2{constructor(e,r,n,i){this.be=e,this.removedTargetIds=r,this.key=n,this.De=i}}class vJ{constructor(e,r){this.targetId=e,this.Ce=r}}class yJ{constructor(e,r,n=Us.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class lV{constructor(){this.ve=0,this.Fe=cV(),this.Me=Us.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=xr(),r=xr(),n=xr();return this.Fe.forEach(((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Vt(38017,{changeType:s})}})),new eb(this.Me,this.xe,e,r,n)}qe(){this.Oe=!1,this.Fe=cV()}Qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,Yr(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class abe{constructor(e){this.Ge=e,this.ze=new Map,this.je=md(),this.Je=__(),this.He=__(),this.Ye=new cs(yr)}Ze(e){for(const r of e.be)e.De&&e.De.isFoundDocument()?this.Xe(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.Ke(),n.Ne||n.qe(),n.Le(e.resumeToken);break;case 2:n.Ke(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.We(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Vt(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const s=i.target;if(hI(s))if(n===0){const a=new kt(s.path);this.et(r,a,wa.newNoDocument(a,Kt.min()))}else Yr(n===1,20013,{expectedCount:n});else{const a=this._t(r);if(a!==n){const o=this.ut(e),l=o?this.ct(o,e,a):1;if(l!==0){this.it(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(r,u)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:s=0}=r;let a,o;try{a=Yh(n).toUint8Array()}catch(l){if(l instanceof HQ)return U0("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{o=new AR(a,i,s)}catch(l){return U0(l instanceof Jy?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((s=>{const a=this.Ge.ht(),o=`projects/${a.projectId}/databases/${a.database}/documents/${s.path.canonicalString()}`;e.mightContain(o)||(this.et(r,s,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((s,a)=>{const o=this.ot(a);if(o){if(s.current&&hI(o.target)){const l=new kt(o.target.path);this.It(l).has(a)||this.Et(a,l)||this.et(a,l,wa.newNoDocument(l,e))}s.Be&&(r.set(a,s.ke()),s.qe())}}));let n=xr();this.He.forEach(((s,a)=>{let o=!0;a.forEachWhile((l=>{const u=this.ot(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(s))})),this.je.forEach(((s,a)=>a.setReadTime(e)));const i=new PS(e,r,this.Ye,this.je,n);return this.je=md(),this.Je=__(),this.He=__(),this.Ye=new cs(yr),i}Xe(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).Qe(r.key,n),this.je=this.je.insert(r.key,r),this.Je=this.Je.insert(r.key,this.It(r.key).add(e)),this.He=this.He.insert(r.key,this.dt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.Qe(r,1):i.$e(r),this.He=this.He.insert(r,this.dt(r).delete(e)),this.He=this.He.insert(r,this.dt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let r=this.ze.get(e);return r||(r=new lV,this.ze.set(e,r)),r}dt(e){let r=this.He.get(e);return r||(r=new vs(yr),this.He=this.He.insert(e,r)),r}It(e){let r=this.Je.get(e);return r||(r=new vs(yr),this.Je=this.Je.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ft("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new lV),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function __(){return new cs(kt.comparator)}function cV(){return new cs(kt.comparator)}const obe={asc:"ASCENDING",desc:"DESCENDING"},lbe={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},cbe={and:"AND",or:"OR"};class ube{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function mI(t,e){return t.useProto3Json||TS(e)?e:{value:e}}function iE(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function xJ(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function dbe(t,e){return iE(t,e.toTimestamp())}function eu(t){return Yr(!!t,49232),Kt.fromTimestamp((function(r){const n=Kh(r);return new wn(n.seconds,n.nanos)})(t))}function CR(t,e){return pI(t,e).canonicalString()}function pI(t,e){const r=(function(i){return new Cn(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function bJ(t){const e=Cn.fromString(t);return Yr(SJ(e),10190,{key:e.toString()}),e}function gI(t,e){return CR(t.databaseId,e.path)}function WC(t,e){const r=bJ(e);if(r.get(1)!==t.databaseId.projectId)throw new ot(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new ot(Fe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new kt(_J(r))}function wJ(t,e){return CR(t.databaseId,e)}function hbe(t){const e=bJ(t);return e.length===4?Cn.emptyPath():_J(e)}function vI(t){return new Cn(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function _J(t){return Yr(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function uV(t,e,r){return{name:gI(t,e),fields:r.value.mapValue.fields}}function fbe(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(u){return u==="NO_CHANGE"?0:u==="ADD"?1:u==="REMOVE"?2:u==="CURRENT"?3:u==="RESET"?4:Vt(39313,{state:u})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=(function(u,d){return u.useProto3Json?(Yr(d===void 0||typeof d=="string",58123),Us.fromBase64String(d||"")):(Yr(d===void 0||d instanceof Buffer||d instanceof Uint8Array,16193),Us.fromUint8Array(d||new Uint8Array))})(t,e.targetChange.resumeToken),a=e.targetChange.cause,o=a&&(function(u){const d=u.code===void 0?Fe.UNKNOWN:gJ(u.code);return new ot(d,u.message||"")})(a);r=new yJ(n,i,s,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=WC(t,n.document.name),s=eu(n.document.updateTime),a=n.document.createTime?eu(n.document.createTime):Kt.min(),o=new lo({mapValue:{fields:n.document.fields}}),l=wa.newFoundDocument(i,s,a,o),u=n.targetIds||[],d=n.removedTargetIds||[];r=new C2(u,d,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=WC(t,n.document),s=n.readTime?eu(n.readTime):Kt.min(),a=wa.newNoDocument(i,s),o=n.removedTargetIds||[];r=new C2([],o,a.key,a)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=WC(t,n.document),s=n.removedTargetIds||[];r=new C2([],s,i,null)}else{if(!("filter"in e))return Vt(11601,{Rt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:s}=n,a=new rbe(i,s),o=n.targetId;r=new vJ(o,a)}}return r}function mbe(t,e){let r;if(e instanceof Zx)r={update:uV(t,e.key,e.value)};else if(e instanceof RS)r={delete:gI(t,e.key)};else if(e instanceof gf)r={update:uV(t,e.key,e.data),updateMask:Ebe(e.fieldMask)};else{if(!(e instanceof Zxe))return Vt(16599,{Vt:e.type});r={verify:gI(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(s,a){const o=a.transform;if(o instanceof K1)return{fieldPath:a.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof Cg)return{fieldPath:a.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof Ng)return{fieldPath:a.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof nE)return{fieldPath:a.field.canonicalString(),increment:o.Ae};throw Vt(20930,{transform:a.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,s){return s.updateTime!==void 0?{updateTime:dbe(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:Vt(27497)})(t,e.precondition)),r}function pbe(t,e){return t&&t.length>0?(Yr(e!==void 0,14353),t.map((r=>(function(i,s){let a=i.updateTime?eu(i.updateTime):eu(s);return a.isEqual(Kt.min())&&(a=eu(s)),new Xxe(a,i.transformResults||[])})(r,e)))):[]}function gbe(t,e){return{documents:[wJ(t,e.path)]}}function vbe(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=wJ(t,i);const s=(function(u){if(u.length!==0)return TJ(gc.create(u,"and"))})(e.filters);s&&(r.structuredQuery.where=s);const a=(function(u){if(u.length!==0)return u.map((d=>(function(g){return{field:Ip(g.field),direction:bbe(g.dir)}})(d)))})(e.orderBy);a&&(r.structuredQuery.orderBy=a);const o=mI(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(u){return{before:u.inclusive,values:u.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(u){return{before:!u.inclusive,values:u.position}})(e.endAt)),{ft:r,parent:i}}function ybe(t){let e=hbe(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){Yr(n===1,65062);const d=r.from[0];d.allDescendants?i=d.collectionId:e=e.child(d.collectionId)}let s=[];r.where&&(s=(function(f){const g=EJ(f);return g instanceof gc&&eJ(g)?g.getFilters():[g]})(r.where));let a=[];r.orderBy&&(a=(function(f){return f.map((g=>(function(x){return new G1(Op(x.field),(function(w){switch(w){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(x.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(f){let g;return g=typeof f=="object"?f.value:f,TS(g)?null:g})(r.limit));let l=null;r.startAt&&(l=(function(f){const g=!!f.before,v=f.values||[];return new Ag(v,g)})(r.startAt));let u=null;return r.endAt&&(u=(function(f){const g=!f.before,v=f.values||[];return new Ag(v,g)})(r.endAt)),Lxe(e,i,a,s,o,"F",l,u)}function xbe(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Vt(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function EJ(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Op(r.unaryFilter.field);return ns.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Op(r.unaryFilter.field);return ns.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Op(r.unaryFilter.field);return ns.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const a=Op(r.unaryFilter.field);return ns.create(a,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Vt(61313);default:return Vt(60726)}})(t):t.fieldFilter!==void 0?(function(r){return ns.create(Op(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Vt(58110);default:return Vt(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return gc.create(r.compositeFilter.filters.map((n=>EJ(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Vt(1026)}})(r.compositeFilter.op))})(t):Vt(30097,{filter:t})}function bbe(t){return obe[t]}function wbe(t){return lbe[t]}function _be(t){return cbe[t]}function Ip(t){return{fieldPath:t.canonicalString()}}function Op(t){return Ls.fromServerFormat(t.fieldPath)}function TJ(t){return t instanceof ns?(function(r){if(r.op==="=="){if(QB(r.value))return{unaryFilter:{field:Ip(r.field),op:"IS_NAN"}};if(XB(r.value))return{unaryFilter:{field:Ip(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(QB(r.value))return{unaryFilter:{field:Ip(r.field),op:"IS_NOT_NAN"}};if(XB(r.value))return{unaryFilter:{field:Ip(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ip(r.field),op:wbe(r.op),value:r.value}}})(t):t instanceof gc?(function(r){const n=r.getFilters().map((i=>TJ(i)));return n.length===1?n[0]:{compositeFilter:{op:_be(r.op),filters:n}}})(t):Vt(54877,{filter:t})}function Ebe(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function SJ(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ch{constructor(e,r,n,i,s=Kt.min(),a=Kt.min(),o=Us.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=a,this.resumeToken=o,this.expectedCount=l}withSequenceNumber(e){return new Ch(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ch(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tbe{constructor(e){this.yt=e}}function Sbe(t){const e=ybe({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?rE(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kbe{constructor(){this.Cn=new Abe}addToCollectionParentIndex(e,r){return this.Cn.add(r),$e.resolve()}getCollectionParents(e,r){return $e.resolve(this.Cn.getEntries(r))}addFieldIndex(e,r){return $e.resolve()}deleteFieldIndex(e,r){return $e.resolve()}deleteAllFieldIndexes(e){return $e.resolve()}createTargetIndexes(e,r){return $e.resolve()}getDocumentsMatchingTarget(e,r){return $e.resolve(null)}getIndexType(e,r){return $e.resolve(0)}getFieldIndexes(e,r){return $e.resolve([])}getNextCollectionGroupToUpdate(e){return $e.resolve(null)}getMinOffset(e,r){return $e.resolve(Gh.min())}getMinOffsetFromCollectionGroup(e,r){return $e.resolve(Gh.min())}updateCollectionGroup(e,r,n){return $e.resolve()}updateIndexEntries(e,r){return $e.resolve()}}class Abe{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new vs(Cn.comparator),s=!i.has(n);return this.index[r]=i.add(n),s}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new vs(Cn.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dV={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},kJ=41943040;class ao{static withCacheSize(e){return new ao(e,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ao.DEFAULT_COLLECTION_PERCENTILE=10,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ao.DEFAULT=new ao(kJ,ao.DEFAULT_COLLECTION_PERCENTILE,ao.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ao.DISABLED=new ao(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ig{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new Ig(0)}static cr(){return new Ig(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hV="LruGarbageCollector",Cbe=1048576;function fV([t,e],[r,n]){const i=yr(t,r);return i===0?yr(e,n):i}class Nbe{constructor(e){this.Ir=e,this.buffer=new vs(fV),this.Er=0}dr(){return++this.Er}Ar(e){const r=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();fV(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Ibe{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ft(hV,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){uv(r)?ft(hV,"Ignoring IndexedDB error during garbage collection: ",r):await cv(r)}await this.Vr(3e5)}))}}class Obe{constructor(e,r){this.mr=e,this.params=r}calculateTargetCount(e,r){return this.mr.gr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return $e.resolve(ES.ce);const n=new Nbe(r);return this.mr.forEachTarget(e,(i=>n.Ar(i.sequenceNumber))).next((()=>this.mr.pr(e,(i=>n.Ar(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.mr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.mr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ft("LruGarbageCollector","Garbage collection skipped; disabled"),$e.resolve(dV)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ft("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),dV):this.yr(e,r)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,r){let n,i,s,a,o,l,u;const d=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((f=>(f>this.params.maximumSequenceNumbersToCollect?(ft("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),i=this.params.maximumSequenceNumbersToCollect):i=f,a=Date.now(),this.nthSequenceNumber(e,i)))).next((f=>(n=f,o=Date.now(),this.removeTargets(e,n,r)))).next((f=>(s=f,l=Date.now(),this.removeOrphanedDocuments(e,n)))).next((f=>(u=Date.now(),Cp()<=mr.DEBUG&&ft("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${a-d}ms
	Determined least recently used ${i} in `+(o-a)+`ms
	Removed ${s} targets in `+(l-o)+`ms
	Removed ${f} documents in `+(u-l)+`ms
Total Duration: ${u-d}ms`),$e.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:f}))))}}function Rbe(t,e){return new Obe(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pbe{constructor(){this.changes=new mm((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,wa.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?$e.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jbe{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dbe{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&h1(n.mutation,i,zo.empty(),wn.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,xr()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=xr()){const i=p0();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((s=>{let a=Qy();return s.forEach(((o,l)=>{a=a.insert(o,l.overlayedDocument)})),a}))))}getOverlayedDocuments(e,r){const n=p0();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,xr())))}populateOverlays(e,r,n){const i=[];return n.forEach((s=>{r.has(s)||i.push(s)})),this.documentOverlayCache.getOverlays(e,i).next((s=>{s.forEach(((a,o)=>{r.set(a,o)}))}))}computeViews(e,r,n,i){let s=md();const a=d1(),o=(function(){return d1()})();return r.forEach(((l,u)=>{const d=n.get(u.key);i.has(u.key)&&(d===void 0||d.mutation instanceof gf)?s=s.insert(u.key,u):d!==void 0?(a.set(u.key,d.mutation.getFieldMask()),h1(d.mutation,u,d.mutation.getFieldMask(),wn.now())):a.set(u.key,zo.empty())})),this.recalculateAndSaveOverlays(e,s).next((l=>(l.forEach(((u,d)=>a.set(u,d))),r.forEach(((u,d)=>o.set(u,new jbe(d,a.get(u)??null)))),o)))}recalculateAndSaveOverlays(e,r){const n=d1();let i=new cs(((a,o)=>a-o)),s=xr();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((a=>{for(const o of a)o.keys().forEach((l=>{const u=r.get(l);if(u===null)return;let d=n.get(l)||zo.empty();d=o.applyToLocalView(u,d),n.set(l,d);const f=(i.get(o.batchId)||xr()).add(l);i=i.insert(o.batchId,f)}))})).next((()=>{const a=[],o=i.getReverseIterator();for(;o.hasNext();){const l=o.getNext(),u=l.key,d=l.value,f=lJ();d.forEach((g=>{if(!s.has(g)){const v=mJ(r.get(g),n.get(g));v!==null&&f.set(g,v),s=s.add(g)}})),a.push(this.documentOverlayCache.saveOverlays(e,u,f))}return $e.waitFor(a)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return(function(a){return kt.isDocumentKey(a.path)&&a.collectionGroup===null&&a.filters.length===0})(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):ER(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((s=>{const a=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-s.size):$e.resolve(p0());let o=H1,l=s;return a.next((u=>$e.forEach(u,((d,f)=>(o<f.largestBatchId&&(o=f.largestBatchId),s.get(d)?$e.resolve():this.remoteDocumentCache.getEntry(e,d).next((g=>{l=l.insert(d,g)}))))).next((()=>this.populateOverlays(e,u,s))).next((()=>this.computeViews(e,l,u,xr()))).next((d=>({batchId:o,changes:oJ(d)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new kt(r)).next((n=>{let i=Qy();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const s=r.collectionGroup;let a=Qy();return this.indexManager.getCollectionParents(e,s).next((o=>$e.forEach(o,(l=>{const u=(function(f,g){return new fm(g,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)})(r,l.child(s));return this.getDocumentsMatchingCollectionQuery(e,u,n,i).next((d=>{d.forEach(((f,g)=>{a=a.insert(f,g)}))}))})).next((()=>a))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((a=>(s=a,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,s,i)))).next((a=>{s.forEach(((l,u)=>{const d=u.getKey();a.get(d)===null&&(a=a.insert(d,wa.newInvalidDocument(d)))}));let o=Qy();return a.forEach(((l,u)=>{const d=s.get(l);d!==void 0&&h1(d.mutation,u,zo.empty(),wn.now()),NS(r,u)&&(o=o.insert(l,u))})),o}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mbe{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,r){return $e.resolve(this.Lr.get(r))}saveBundleMetadata(e,r){return this.Lr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:eu(i.createTime)}})(r)),$e.resolve()}getNamedQuery(e,r){return $e.resolve(this.kr.get(r))}saveNamedQuery(e,r){return this.kr.set(r.name,(function(i){return{name:i.name,query:Sbe(i.bundledQuery),readTime:eu(i.readTime)}})(r)),$e.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lbe{constructor(){this.overlays=new cs(kt.comparator),this.qr=new Map}getOverlay(e,r){return $e.resolve(this.overlays.get(r))}getOverlays(e,r){const n=p0();return $e.forEach(r,(i=>this.getOverlay(e,i).next((s=>{s!==null&&n.set(i,s)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,s)=>{this.St(e,r,s)})),$e.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.qr.get(n);return i!==void 0&&(i.forEach((s=>this.overlays=this.overlays.remove(s))),this.qr.delete(n)),$e.resolve()}getOverlaysForCollection(e,r,n){const i=p0(),s=r.length+1,a=new kt(r.child("")),o=this.overlays.getIteratorFrom(a);for(;o.hasNext();){const l=o.getNext().value,u=l.getKey();if(!r.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>n&&i.set(l.getKey(),l)}return $e.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let s=new cs(((u,d)=>u-d));const a=this.overlays.getIterator();for(;a.hasNext();){const u=a.getNext().value;if(u.getKey().getCollectionGroup()===r&&u.largestBatchId>n){let d=s.get(u.largestBatchId);d===null&&(d=p0(),s=s.insert(u.largestBatchId,d)),d.set(u.getKey(),u)}}const o=p0(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach(((u,d)=>o.set(u,d))),!(o.size()>=i)););return $e.resolve(o)}St(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const a=this.qr.get(i.largestBatchId).delete(n.key);this.qr.set(i.largestBatchId,a)}this.overlays=this.overlays.insert(n.key,new tbe(r,n));let s=this.qr.get(r);s===void 0&&(s=xr(),this.qr.set(r,s)),this.qr.set(r,s.add(n.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fbe{constructor(){this.sessionToken=Us.EMPTY_BYTE_STRING}getSessionToken(e){return $e.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,$e.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR{constructor(){this.Qr=new vs(Is.$r),this.Ur=new vs(Is.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,r){const n=new Is(e,r);this.Qr=this.Qr.add(n),this.Ur=this.Ur.add(n)}Wr(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Gr(new Is(e,r))}zr(e,r){e.forEach((n=>this.removeReference(n,r)))}jr(e){const r=new kt(new Cn([])),n=new Is(r,e),i=new Is(r,e+1),s=[];return this.Ur.forEachInRange([n,i],(a=>{this.Gr(a),s.push(a.key)})),s}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const r=new kt(new Cn([])),n=new Is(r,e),i=new Is(r,e+1);let s=xr();return this.Ur.forEachInRange([n,i],(a=>{s=s.add(a.key)})),s}containsKey(e){const r=new Is(e,0),n=this.Qr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Is{constructor(e,r){this.key=e,this.Yr=r}static $r(e,r){return kt.comparator(e.key,r.key)||yr(e.Yr,r.Yr)}static Kr(e,r){return yr(e.Yr,r.Yr)||kt.comparator(e.key,r.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bbe{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.tr=1,this.Zr=new vs(Is.$r)}checkEmpty(e){return $e.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const s=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const a=new ebe(s,r,n,i);this.mutationQueue.push(a);for(const o of i)this.Zr=this.Zr.add(new Is(o.key,s)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return $e.resolve(a)}lookupMutationBatch(e,r){return $e.resolve(this.Xr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.ei(n),s=i<0?0:i;return $e.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return $e.resolve(this.mutationQueue.length===0?xR:this.tr-1)}getAllMutationBatches(e){return $e.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Is(r,0),i=new Is(r,Number.POSITIVE_INFINITY),s=[];return this.Zr.forEachInRange([n,i],(a=>{const o=this.Xr(a.Yr);s.push(o)})),$e.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new vs(yr);return r.forEach((i=>{const s=new Is(i,0),a=new Is(i,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([s,a],(o=>{n=n.add(o.Yr)}))})),$e.resolve(this.ti(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let s=n;kt.isDocumentKey(s)||(s=s.child(""));const a=new Is(new kt(s),0);let o=new vs(yr);return this.Zr.forEachWhile((l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===i&&(o=o.add(l.Yr)),!0)}),a),$e.resolve(this.ti(o))}ti(e){const r=[];return e.forEach((n=>{const i=this.Xr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){Yr(this.ni(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Zr;return $e.forEach(r.mutations,(i=>{const s=new Is(i.key,r.batchId);return n=n.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Zr=n}))}ir(e){}containsKey(e,r){const n=new Is(r,0),i=this.Zr.firstAfterOrEqual(n);return $e.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,$e.resolve()}ni(e,r){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const r=this.ei(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vbe{constructor(e){this.ri=e,this.docs=(function(){return new cs(kt.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),s=i?i.size:0,a=this.ri(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:a}),this.size+=a-s,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return $e.resolve(n?n.document.mutableCopy():wa.newInvalidDocument(r))}getEntries(e,r){let n=md();return r.forEach((i=>{const s=this.docs.get(i);n=n.insert(i,s?s.document.mutableCopy():wa.newInvalidDocument(i))})),$e.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let s=md();const a=r.path,o=new kt(a.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(o);for(;l.hasNext();){const{key:u,value:{document:d}}=l.getNext();if(!a.isPrefixOf(u.path))break;u.path.length>a.length+1||pxe(mxe(d),n)<=0||(i.has(d.key)||NS(r,d))&&(s=s.insert(d.key,d.mutableCopy()))}return $e.resolve(s)}getAllFromCollectionGroup(e,r,n,i){Vt(9500)}ii(e,r){return $e.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new Ube(this)}getSize(e){return $e.resolve(this.size)}}class Ube extends Pbe{constructor(e){super(),this.Nr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Nr.addEntry(e,i)):this.Nr.removeEntry(n)})),$e.waitFor(r)}getFromCache(e,r){return this.Nr.getEntry(e,r)}getAllFromCache(e,r){return this.Nr.getEntries(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zbe{constructor(e){this.persistence=e,this.si=new mm((r=>wR(r)),_R),this.lastRemoteSnapshotVersion=Kt.min(),this.highestTargetId=0,this.oi=0,this._i=new NR,this.targetCount=0,this.ai=Ig.ur()}forEachTarget(e,r){return this.si.forEach(((n,i)=>r(i))),$e.resolve()}getLastRemoteSnapshotVersion(e){return $e.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return $e.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),$e.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.oi&&(this.oi=r),$e.resolve()}Pr(e){this.si.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.ai=new Ig(r),this.highestTargetId=r),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,r){return this.Pr(r),this.targetCount+=1,$e.resolve()}updateTargetData(e,r){return this.Pr(r),$e.resolve()}removeTargetData(e,r){return this.si.delete(r.target),this._i.jr(r.targetId),this.targetCount-=1,$e.resolve()}removeTargets(e,r,n){let i=0;const s=[];return this.si.forEach(((a,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.si.delete(a),s.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),$e.waitFor(s).next((()=>i))}getTargetCount(e){return $e.resolve(this.targetCount)}getTargetData(e,r){const n=this.si.get(r)||null;return $e.resolve(n)}addMatchingKeys(e,r,n){return this._i.Wr(r,n),$e.resolve()}removeMatchingKeys(e,r,n){this._i.zr(r,n);const i=this.persistence.referenceDelegate,s=[];return i&&r.forEach((a=>{s.push(i.markPotentiallyOrphaned(e,a))})),$e.waitFor(s)}removeMatchingKeysForTargetId(e,r){return this._i.jr(r),$e.resolve()}getMatchingKeysForTargetId(e,r){const n=this._i.Hr(r);return $e.resolve(n)}containsKey(e,r){return $e.resolve(this._i.containsKey(r))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AJ{constructor(e,r){this.ui={},this.overlays={},this.ci=new ES(0),this.li=!1,this.li=!0,this.hi=new Fbe,this.referenceDelegate=e(this),this.Pi=new zbe(this),this.indexManager=new kbe,this.remoteDocumentCache=(function(i){return new Vbe(i)})((n=>this.referenceDelegate.Ti(n))),this.serializer=new Tbe(r),this.Ii=new Mbe(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Lbe,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this.ui[e.toKey()];return n||(n=new Bbe(r,this.referenceDelegate),this.ui[e.toKey()]=n),n}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,r,n){ft("MemoryPersistence","Starting transaction:",e);const i=new $be(this.ci.next());return this.referenceDelegate.Ei(),n(i).next((s=>this.referenceDelegate.di(i).next((()=>s)))).toPromise().then((s=>(i.raiseOnCommittedEvent(),s)))}Ai(e,r){return $e.or(Object.values(this.ui).map((n=>()=>n.containsKey(e,r))))}}class $be extends vxe{constructor(e){super(),this.currentSequenceNumber=e}}class IR{constructor(e){this.persistence=e,this.Ri=new NR,this.Vi=null}static mi(e){return new IR(e)}get fi(){if(this.Vi)return this.Vi;throw Vt(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.fi.delete(n.toString()),$e.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.fi.add(n.toString()),$e.resolve()}markPotentiallyOrphaned(e,r){return this.fi.add(r.toString()),$e.resolve()}removeTarget(e,r){this.Ri.jr(r.targetId).forEach((i=>this.fi.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((s=>this.fi.add(s.toString())))})).next((()=>n.removeTargetData(e,r)))}Ei(){this.Vi=new Set}di(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return $e.forEach(this.fi,(n=>{const i=kt.fromPath(n);return this.gi(e,i).next((s=>{s||r.removeEntry(i,Kt.min())}))})).next((()=>(this.Vi=null,r.apply(e))))}updateLimboDocument(e,r){return this.gi(e,r).next((n=>{n?this.fi.delete(r.toString()):this.fi.add(r.toString())}))}Ti(e){return 0}gi(e,r){return $e.or([()=>$e.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ai(e,r)])}}class sE{constructor(e,r){this.persistence=e,this.pi=new mm((n=>bxe(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=Rbe(this,r)}static mi(e,r){return new sE(e,r)}Ei(){}di(e){return $e.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}gr(e){const r=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}wr(e){let r=0;return this.pr(e,(n=>{r++})).next((()=>r))}pr(e,r){return $e.forEach(this.pi,((n,i)=>this.br(e,n,i).next((s=>s?$e.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.ii(e,(a=>this.br(e,a,r).next((o=>{o||(n++,s.removeEntry(a,Kt.min()))})))).next((()=>s.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}removeReference(e,r,n){return this.pi.set(n,e.currentSequenceNumber),$e.resolve()}updateLimboDocument(e,r){return this.pi.set(r,e.currentSequenceNumber),$e.resolve()}Ti(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=S2(e.data.value)),r}br(e,r,n){return $e.or([()=>this.persistence.Ai(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.pi.get(r);return $e.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OR{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Es=n,this.ds=i}static As(e,r){let n=xr(),i=xr();for(const s of r.docChanges)switch(s.type){case 0:n=n.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new OR(e,r.fromCache,n,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hbe{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qbe{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return Dye()?8:yxe(Oa())>0?6:4})()}initialize(e,r){this.ps=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const s={result:null};return this.ys(e,r).next((a=>{s.result=a})).next((()=>{if(!s.result)return this.ws(e,r,i,n).next((a=>{s.result=a}))})).next((()=>{if(s.result)return;const a=new Hbe;return this.Ss(e,r,a).next((o=>{if(s.result=o,this.Vs)return this.bs(e,r,a,o.size)}))})).next((()=>s.result))}bs(e,r,n,i){return n.documentReadCount<this.fs?(Cp()<=mr.DEBUG&&ft("QueryEngine","SDK will not create cache indexes for query:",Np(r),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),$e.resolve()):(Cp()<=mr.DEBUG&&ft("QueryEngine","Query:",Np(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.gs*i?(Cp()<=mr.DEBUG&&ft("QueryEngine","The SDK decides to create cache indexes for query:",Np(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Zc(r))):$e.resolve())}ys(e,r){if(tV(r))return $e.resolve(null);let n=Zc(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=rE(r,null,"F"),n=Zc(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((s=>{const a=xr(...s);return this.ps.getDocuments(e,a).next((o=>this.indexManager.getMinOffset(e,n).next((l=>{const u=this.Ds(r,o);return this.Cs(r,u,a,l.readTime)?this.ys(e,rE(r,null,"F")):this.vs(e,u,r,l)}))))})))))}ws(e,r,n,i){return tV(r)||i.isEqual(Kt.min())?$e.resolve(null):this.ps.getDocuments(e,n).next((s=>{const a=this.Ds(r,s);return this.Cs(r,a,n,i)?$e.resolve(null):(Cp()<=mr.DEBUG&&ft("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Np(r)),this.vs(e,a,r,fxe(i,H1)).next((o=>o)))}))}Ds(e,r){let n=new vs(sJ(e));return r.forEach(((i,s)=>{NS(e,s)&&(n=n.add(s))})),n}Cs(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const s=e.limitType==="F"?r.last():r.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Ss(e,r,n){return Cp()<=mr.DEBUG&&ft("QueryEngine","Using full collection scan to execute query:",Np(r)),this.ps.getDocumentsMatchingQuery(e,r,Gh.min(),n)}vs(e,r,n,i){return this.ps.getDocumentsMatchingQuery(e,n,i).next((s=>(r.forEach((a=>{s=s.insert(a.key,a)})),s)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="LocalStore",Wbe=3e8;class Gbe{constructor(e,r,n,i){this.persistence=e,this.Fs=r,this.serializer=i,this.Ms=new cs(yr),this.xs=new mm((s=>wR(s)),_R),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(n)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Dbe(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.Ms)))}}function Kbe(t,e,r,n){return new Gbe(t,e,r,n)}async function CJ(t,e){const r=Qt(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((s=>(i=s,r.Bs(e),r.mutationQueue.getAllMutationBatches(n)))).next((s=>{const a=[],o=[];let l=xr();for(const u of i){a.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}for(const u of s){o.push(u.batchId);for(const d of u.mutations)l=l.add(d.key)}return r.localDocuments.getDocuments(n,l).next((u=>({Ls:u,removedBatchIds:a,addedBatchIds:o})))}))}))}function Ybe(t,e){const r=Qt(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),s=r.Ns.newChangeBuffer({trackRemovals:!0});return(function(o,l,u,d){const f=u.batch,g=f.keys();let v=$e.resolve();return g.forEach((x=>{v=v.next((()=>d.getEntry(l,x))).next((b=>{const w=u.docVersions.get(x);Yr(w!==null,48541),b.version.compareTo(w)<0&&(f.applyToRemoteDocument(b,u),b.isValidDocument()&&(b.setReadTime(u.commitVersion),d.addEntry(b)))}))})),v.next((()=>o.mutationQueue.removeMutationBatch(l,f)))})(r,n,e,s).next((()=>s.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let l=xr();for(let u=0;u<o.mutationResults.length;++u)o.mutationResults[u].transformResults.length>0&&(l=l.add(o.batch.mutations[u].key));return l})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function NJ(t){const e=Qt(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.Pi.getLastRemoteSnapshotVersion(r)))}function Xbe(t,e){const r=Qt(t),n=e.snapshotVersion;let i=r.Ms;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(s=>{const a=r.Ns.newChangeBuffer({trackRemovals:!0});i=r.Ms;const o=[];e.targetChanges.forEach(((d,f)=>{const g=i.get(f);if(!g)return;o.push(r.Pi.removeMatchingKeys(s,d.removedDocuments,f).next((()=>r.Pi.addMatchingKeys(s,d.addedDocuments,f))));let v=g.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(f)!==null?v=v.withResumeToken(Us.EMPTY_BYTE_STRING,Kt.min()).withLastLimboFreeSnapshotVersion(Kt.min()):d.resumeToken.approximateByteSize()>0&&(v=v.withResumeToken(d.resumeToken,n)),i=i.insert(f,v),(function(b,w,E){return b.resumeToken.approximateByteSize()===0||w.snapshotVersion.toMicroseconds()-b.snapshotVersion.toMicroseconds()>=Wbe?!0:E.addedDocuments.size+E.modifiedDocuments.size+E.removedDocuments.size>0})(g,v,d)&&o.push(r.Pi.updateTargetData(s,v))}));let l=md(),u=xr();if(e.documentUpdates.forEach((d=>{e.resolvedLimboDocuments.has(d)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(s,d))})),o.push(Qbe(s,a,e.documentUpdates).next((d=>{l=d.ks,u=d.qs}))),!n.isEqual(Kt.min())){const d=r.Pi.getLastRemoteSnapshotVersion(s).next((f=>r.Pi.setTargetsMetadata(s,s.currentSequenceNumber,n)));o.push(d)}return $e.waitFor(o).next((()=>a.apply(s))).next((()=>r.localDocuments.getLocalViewOfDocuments(s,l,u))).next((()=>l))})).then((s=>(r.Ms=i,s)))}function Qbe(t,e,r){let n=xr(),i=xr();return r.forEach((s=>n=n.add(s))),e.getEntries(t,n).next((s=>{let a=md();return r.forEach(((o,l)=>{const u=s.get(o);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(o)),l.isNoDocument()&&l.version.isEqual(Kt.min())?(e.removeEntry(o,l.readTime),a=a.insert(o,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),a=a.insert(o,l)):ft(RR,"Ignoring outdated watch update for ",o,". Current version:",u.version," Watch version:",l.version)})),{ks:a,qs:i}}))}function Jbe(t,e){const r=Qt(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=xR),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function Zbe(t,e){const r=Qt(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.Pi.getTargetData(n,e).next((s=>s?(i=s,$e.resolve(i)):r.Pi.allocateTargetId(n).next((a=>(i=new Ch(e,a,"TargetPurposeListen",n.currentSequenceNumber),r.Pi.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.Ms.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.Ms=r.Ms.insert(n.targetId,n),r.xs.set(e,n.targetId)),n}))}async function yI(t,e,r){const n=Qt(t),i=n.Ms.get(e),s=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",s,(a=>n.persistence.referenceDelegate.removeTarget(a,i)))}catch(a){if(!uv(a))throw a;ft(RR,`Failed to update sequence numbers for target ${e}: ${a}`)}n.Ms=n.Ms.remove(e),n.xs.delete(i.target)}function mV(t,e,r){const n=Qt(t);let i=Kt.min(),s=xr();return n.persistence.runTransaction("Execute query","readwrite",(a=>(function(l,u,d){const f=Qt(l),g=f.xs.get(d);return g!==void 0?$e.resolve(f.Ms.get(g)):f.Pi.getTargetData(u,d)})(n,a,Zc(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.Pi.getMatchingKeysForTargetId(a,o.targetId).next((l=>{s=l}))})).next((()=>n.Fs.getDocumentsMatchingQuery(a,e,r?i:Kt.min(),r?s:xr()))).next((o=>(ewe(n,Bxe(e),o),{documents:o,Qs:s})))))}function ewe(t,e,r){let n=t.Os.get(e)||Kt.min();r.forEach(((i,s)=>{s.readTime.compareTo(n)>0&&(n=s.readTime)})),t.Os.set(e,n)}class pV{constructor(){this.activeTargetIds=qxe()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class twe{constructor(){this.Mo=new pV,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,r,n){this.xo[e]=r}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new pV,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rwe{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gV="ConnectivityMonitor";class vV{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ft(gV,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ft(gV,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let E_=null;function xI(){return E_===null?E_=(function(){return 268435456+Math.round(2147483648*Math.random())})():E_++,"0x"+E_.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GC="RestConnection",nwe={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class iwe{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.Uo=r+"://"+e.host,this.Ko=`projects/${n}/databases/${i}`,this.Wo=this.databaseId.database===Z2?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Go(e,r,n,i,s){const a=xI(),o=this.zo(e,r.toUriEncodedString());ft(GC,`Sending RPC '${e}' ${a}:`,o,n);const l={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(l,i,s);const{host:u}=new URL(o),d=Sd(u);return this.Jo(e,o,l,n,d).then((f=>(ft(GC,`Received RPC '${e}' ${a}: `,f),f)),(f=>{throw U0(GC,`RPC '${e}' ${a} failed with error: `,f,"url: ",o,"request:",n),f}))}Ho(e,r,n,i,s,a){return this.Go(e,r,n,i,s)}jo(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+lv})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,s)=>e[s]=i)),n&&n.headers.forEach(((i,s)=>e[s]=i))}zo(e,r){const n=nwe[e];return`${this.Uo}/v1/${r}:${n}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class swe{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ma="WebChannelConnection";class awe extends iwe{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,r,n,i,s){const a=xI();return new Promise(((o,l)=>{const u=new OQ;u.setWithCredentials(!0),u.listenOnce(RQ.COMPLETE,(()=>{try{switch(u.getLastErrorCode()){case T2.NO_ERROR:const f=u.getResponseJson();ft(ma,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(f)),o(f);break;case T2.TIMEOUT:ft(ma,`RPC '${e}' ${a} timed out`),l(new ot(Fe.DEADLINE_EXCEEDED,"Request time out"));break;case T2.HTTP_ERROR:const g=u.getStatus();if(ft(ma,`RPC '${e}' ${a} failed with status:`,g,"response text:",u.getResponseText()),g>0){let v=u.getResponseJson();Array.isArray(v)&&(v=v[0]);const x=v==null?void 0:v.error;if(x&&x.status&&x.message){const b=(function(E){const k=E.toLowerCase().replace(/_/g,"-");return Object.values(Fe).indexOf(k)>=0?k:Fe.UNKNOWN})(x.status);l(new ot(b,x.message))}else l(new ot(Fe.UNKNOWN,"Server responded with status "+u.getStatus()))}else l(new ot(Fe.UNAVAILABLE,"Connection failed."));break;default:Vt(9055,{l_:e,streamId:a,h_:u.getLastErrorCode(),P_:u.getLastError()})}}finally{ft(ma,`RPC '${e}' ${a} completed.`)}}));const d=JSON.stringify(i);ft(ma,`RPC '${e}' ${a} sending request:`,i),u.send(r,"POST",d,n,15)}))}T_(e,r,n){const i=xI(),s=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],a=DQ(),o=jQ(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.useFetchStreams=!0),this.jo(l.initMessageHeaders,r,n),l.encodeInitMessageHeaders=!0;const d=s.join("");ft(ma,`Creating RPC '${e}' stream ${i}: ${d}`,l);const f=a.createWebChannel(d,l);this.I_(f);let g=!1,v=!1;const x=new swe({Yo:w=>{v?ft(ma,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(g||(ft(ma,`Opening RPC '${e}' stream ${i} transport.`),f.open(),g=!0),ft(ma,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Zo:()=>f.close()}),b=(w,E,k)=>{w.listen(E,(A=>{try{k(A)}catch(O){setTimeout((()=>{throw O}),0)}}))};return b(f,Xy.EventType.OPEN,(()=>{v||(ft(ma,`RPC '${e}' stream ${i} transport opened.`),x.o_())})),b(f,Xy.EventType.CLOSE,(()=>{v||(v=!0,ft(ma,`RPC '${e}' stream ${i} transport closed`),x.a_(),this.E_(f))})),b(f,Xy.EventType.ERROR,(w=>{v||(v=!0,U0(ma,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),x.a_(new ot(Fe.UNAVAILABLE,"The operation could not be completed")))})),b(f,Xy.EventType.MESSAGE,(w=>{var E;if(!v){const k=w.data[0];Yr(!!k,16349);const A=k,O=(A==null?void 0:A.error)||((E=A[0])==null?void 0:E.error);if(O){ft(ma,`RPC '${e}' stream ${i} received error:`,O);const P=O.status;let j=(function(R){const D=Qi[R];if(D!==void 0)return gJ(D)})(P),S=O.message;j===void 0&&(j=Fe.INTERNAL,S="Unknown error status: "+P+" with message "+O.message),v=!0,x.a_(new ot(j,S)),f.close()}else ft(ma,`RPC '${e}' stream ${i} received:`,k),x.u_(k)}})),b(o,PQ.STAT_EVENT,(w=>{w.stat===sI.PROXY?ft(ma,`RPC '${e}' stream ${i} detected buffering proxy`):w.stat===sI.NOPROXY&&ft(ma,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{x.__()}),0),x}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((r=>r===e))}}function KC(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jS(t){return new ube(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IJ{constructor(e,r,n=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=r,this.d_=n,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const r=Math.floor(this.V_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ft("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yV="PersistentStream";class OJ{constructor(e,r,n,i,s,a,o,l){this.Mi=e,this.S_=n,this.b_=i,this.connection=s,this.authCredentialsProvider=a,this.appCheckCredentialsProvider=o,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new IJ(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===Fe.RESOURCE_EXHAUSTED?(fd(r.toString()),fd("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===Fe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(r)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new ot(Fe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.W_(this.D_);this.stream=this.j_(e,r),this.stream.Xo((()=>{n((()=>this.listener.Xo()))})),this.stream.t_((()=>{n((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.J_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ft(yV,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return r=>{this.Mi.enqueueAndForget((()=>this.D_===e?r():(ft(yV,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class owe extends OJ{constructor(e,r,n,i,s,a){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}j_(e,r){return this.connection.T_("Listen",e,r)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=fbe(this.serializer,e),n=(function(s){if(!("targetChange"in s))return Kt.min();const a=s.targetChange;return a.targetIds&&a.targetIds.length?Kt.min():a.readTime?eu(a.readTime):Kt.min()})(e);return this.listener.H_(r,n)}Y_(e){const r={};r.database=vI(this.serializer),r.addTarget=(function(s,a){let o;const l=a.target;if(o=hI(l)?{documents:gbe(s,l)}:{query:vbe(s,l).ft},o.targetId=a.targetId,a.resumeToken.approximateByteSize()>0){o.resumeToken=xJ(s,a.resumeToken);const u=mI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}else if(a.snapshotVersion.compareTo(Kt.min())>0){o.readTime=iE(s,a.snapshotVersion.toTimestamp());const u=mI(s,a.expectedCount);u!==null&&(o.expectedCount=u)}return o})(this.serializer,e);const n=xbe(this.serializer,e);n&&(r.labels=n),this.q_(r)}Z_(e){const r={};r.database=vI(this.serializer),r.removeTarget=e,this.q_(r)}}class lwe extends OJ{constructor(e,r,n,i,s,a){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,a),this.serializer=s}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}J_(e){return Yr(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Yr(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Yr(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=pbe(e.writeResults,e.commitTime),n=eu(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=vI(this.serializer),this.q_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>mbe(this.serializer,n)))};this.q_(r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cwe{}class uwe extends cwe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new ot(Fe.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,a])=>this.connection.Go(e,pI(r,n),i,s,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ot(Fe.UNKNOWN,s.toString())}))}Ho(e,r,n,i,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,o])=>this.connection.Ho(e,pI(r,n),i,a,o,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===Fe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ot(Fe.UNKNOWN,a.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class dwe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(fd(r),this.aa=!1):ft("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z0="RemoteStore";class hwe{constructor(e,r,n,i,s){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=s,this.Aa.Oo((a=>{n.enqueueAndForget((async()=>{pm(this)&&(ft(z0,"Restarting streams for network reachability change."),await(async function(l){const u=Qt(l);u.Ea.add(4),await tb(u),u.Ra.set("Unknown"),u.Ea.delete(4),await DS(u)})(this))}))})),this.Ra=new dwe(n,i)}}async function DS(t){if(pm(t))for(const e of t.da)await e(!0)}async function tb(t){for(const e of t.da)await e(!1)}function RJ(t,e){const r=Qt(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),MR(r)?DR(r):dv(r).O_()&&jR(r,e))}function PR(t,e){const r=Qt(t),n=dv(r);r.Ia.delete(e),n.O_()&&PJ(r,e),r.Ia.size===0&&(n.O_()?n.L_():pm(r)&&r.Ra.set("Unknown"))}function jR(t,e){if(t.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Kt.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}dv(t).Y_(e)}function PJ(t,e){t.Va.Ue(e),dv(t).Z_(e)}function DR(t){t.Va=new abe({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),dv(t).start(),t.Ra.ua()}function MR(t){return pm(t)&&!dv(t).x_()&&t.Ia.size>0}function pm(t){return Qt(t).Ea.size===0}function jJ(t){t.Va=void 0}async function fwe(t){t.Ra.set("Online")}async function mwe(t){t.Ia.forEach(((e,r)=>{jR(t,e)}))}async function pwe(t,e){jJ(t),MR(t)?(t.Ra.ha(e),DR(t)):t.Ra.set("Unknown")}async function gwe(t,e,r){if(t.Ra.set("Online"),e instanceof yJ&&e.state===2&&e.cause)try{await(async function(i,s){const a=s.cause;for(const o of s.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,a),i.Ia.delete(o),i.Va.removeTarget(o))})(t,e)}catch(n){ft(z0,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await aE(t,n)}else if(e instanceof C2?t.Va.Ze(e):e instanceof vJ?t.Va.st(e):t.Va.tt(e),!r.isEqual(Kt.min()))try{const n=await NJ(t.localStore);r.compareTo(n)>=0&&await(function(s,a){const o=s.Va.Tt(a);return o.targetChanges.forEach(((l,u)=>{if(l.resumeToken.approximateByteSize()>0){const d=s.Ia.get(u);d&&s.Ia.set(u,d.withResumeToken(l.resumeToken,a))}})),o.targetMismatches.forEach(((l,u)=>{const d=s.Ia.get(l);if(!d)return;s.Ia.set(l,d.withResumeToken(Us.EMPTY_BYTE_STRING,d.snapshotVersion)),PJ(s,l);const f=new Ch(d.target,l,u,d.sequenceNumber);jR(s,f)})),s.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){ft(z0,"Failed to raise snapshot:",n),await aE(t,n)}}async function aE(t,e,r){if(!uv(e))throw e;t.Ea.add(1),await tb(t),t.Ra.set("Offline"),r||(r=()=>NJ(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ft(z0,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await DS(t)}))}function DJ(t,e){return e().catch((r=>aE(t,r,e)))}async function MS(t){const e=Qt(t),r=Qh(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:xR;for(;vwe(e);)try{const i=await Jbe(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,ywe(e,i)}catch(i){await aE(e,i)}MJ(e)&&LJ(e)}function vwe(t){return pm(t)&&t.Ta.length<10}function ywe(t,e){t.Ta.push(e);const r=Qh(t);r.O_()&&r.X_&&r.ea(e.mutations)}function MJ(t){return pm(t)&&!Qh(t).x_()&&t.Ta.length>0}function LJ(t){Qh(t).start()}async function xwe(t){Qh(t).ra()}async function bwe(t){const e=Qh(t);for(const r of t.Ta)e.ea(r.mutations)}async function wwe(t,e,r){const n=t.Ta.shift(),i=kR.from(n,e,r);await DJ(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await MS(t)}async function _we(t,e){e&&Qh(t).X_&&await(async function(n,i){if((function(a){return nbe(a)&&a!==Fe.ABORTED})(i.code)){const s=n.Ta.shift();Qh(n).B_(),await DJ(n,(()=>n.remoteSyncer.rejectFailedWrite(s.batchId,i))),await MS(n)}})(t,e),MJ(t)&&LJ(t)}async function xV(t,e){const r=Qt(t);r.asyncQueue.verifyOperationInProgress(),ft(z0,"RemoteStore received new credentials");const n=pm(r);r.Ea.add(3),await tb(r),n&&r.Ra.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await DS(r)}async function Ewe(t,e){const r=Qt(t);e?(r.Ea.delete(2),await DS(r)):e||(r.Ea.add(2),await tb(r),r.Ra.set("Unknown"))}function dv(t){return t.ma||(t.ma=(function(r,n,i){const s=Qt(r);return s.sa(),new owe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:fwe.bind(null,t),t_:mwe.bind(null,t),r_:pwe.bind(null,t),H_:gwe.bind(null,t)}),t.da.push((async e=>{e?(t.ma.B_(),MR(t)?DR(t):t.Ra.set("Unknown")):(await t.ma.stop(),jJ(t))}))),t.ma}function Qh(t){return t.fa||(t.fa=(function(r,n,i){const s=Qt(r);return s.sa(),new lwe(n,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)})(t.datastore,t.asyncQueue,{Xo:()=>Promise.resolve(),t_:xwe.bind(null,t),r_:_we.bind(null,t),ta:bwe.bind(null,t),na:wwe.bind(null,t)}),t.da.push((async e=>{e?(t.fa.B_(),await MS(t)):(await t.fa.stop(),t.Ta.length>0&&(ft(z0,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{constructor(e,r,n,i,s){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=s,this.deferred=new Ju,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((a=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,s){const a=Date.now()+n,o=new LR(e,r,a,i,s);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ot(Fe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function FR(t,e){if(fd("AsyncQueue",`${e}: ${t}`),uv(t))return new ot(Fe.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qp{static emptySet(e){return new Qp(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||kt.comparator(r.key,n.key):(r,n)=>kt.comparator(r.key,n.key),this.keyedMap=Qy(),this.sortedSet=new cs(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof Qp)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,s=n.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new Qp;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bV{constructor(){this.ga=new cs(kt.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Vt(63341,{Rt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class Og{constructor(e,r,n,i,s,a,o,l,u){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=s,this.fromCache=a,this.syncStateChanged=o,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,r,n,i,s){const a=[];return r.forEach((o=>{a.push({type:0,doc:o})})),new Og(e,r,Qp.emptySet(r),a,n,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&CS(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Twe{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class Swe{constructor(){this.queries=wV(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=Qt(r),s=i.queries;i.queries=wV(),s.forEach(((a,o)=>{for(const l of o.Sa)l.onError(n)}))})(this,new ot(Fe.ABORTED,"Firestore shutting down"))}}function wV(){return new mm((t=>iJ(t)),CS)}async function BR(t,e){const r=Qt(t);let n=3;const i=e.query;let s=r.queries.get(i);s?!s.ba()&&e.Da()&&(n=2):(s=new Twe,n=e.Da()?0:1);try{switch(n){case 0:s.wa=await r.onListen(i,!0);break;case 1:s.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(a){const o=FR(a,`Initialization of query '${Np(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,s),s.Sa.push(e),e.va(r.onlineState),s.wa&&e.Fa(s.wa)&&UR(r)}async function VR(t,e){const r=Qt(t),n=e.query;let i=3;const s=r.queries.get(n);if(s){const a=s.Sa.indexOf(e);a>=0&&(s.Sa.splice(a,1),s.Sa.length===0?i=e.Da()?0:1:!s.ba()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function kwe(t,e){const r=Qt(t);let n=!1;for(const i of e){const s=i.query,a=r.queries.get(s);if(a){for(const o of a.Sa)o.Fa(i)&&(n=!0);a.wa=i}}n&&UR(r)}function Awe(t,e,r){const n=Qt(t),i=n.queries.get(e);if(i)for(const s of i.Sa)s.onError(r);n.queries.delete(e)}function UR(t){t.Ca.forEach((e=>{e.next()}))}var bI,_V;(_V=bI||(bI={})).Ma="default",_V.Cache="cache";class zR{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new Og(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.qa||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=Og.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==bI.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class FJ{constructor(e){this.key=e}}class BJ{constructor(e){this.key=e}}class Cwe{constructor(e,r){this.query=e,this.Ya=r,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=xr(),this.mutatedKeys=xr(),this.eu=sJ(e),this.tu=new Qp(this.eu)}get nu(){return this.Ya}ru(e,r){const n=r?r.iu:new bV,i=r?r.tu:this.tu;let s=r?r.mutatedKeys:this.mutatedKeys,a=i,o=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((d,f)=>{const g=i.get(d),v=NS(this.query,f)?f:null,x=!!g&&this.mutatedKeys.has(g.key),b=!!v&&(v.hasLocalMutations||this.mutatedKeys.has(v.key)&&v.hasCommittedMutations);let w=!1;g&&v?g.data.isEqual(v.data)?x!==b&&(n.track({type:3,doc:v}),w=!0):this.su(g,v)||(n.track({type:2,doc:v}),w=!0,(l&&this.eu(v,l)>0||u&&this.eu(v,u)<0)&&(o=!0)):!g&&v?(n.track({type:0,doc:v}),w=!0):g&&!v&&(n.track({type:1,doc:g}),w=!0,(l||u)&&(o=!0)),w&&(v?(a=a.add(v),s=b?s.add(d):s.delete(d)):(a=a.delete(d),s=s.delete(d)))})),this.query.limit!==null)for(;a.size>this.query.limit;){const d=this.query.limitType==="F"?a.last():a.first();a=a.delete(d.key),s=s.delete(d.key),n.track({type:1,doc:d})}return{tu:a,iu:n,Cs:o,mutatedKeys:s}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const s=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const a=e.iu.ya();a.sort(((d,f)=>(function(v,x){const b=w=>{switch(w){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Vt(20277,{Rt:w})}};return b(v)-b(x)})(d.type,f.type)||this.eu(d.doc,f.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],l=this.Xa.size===0&&this.current&&!i?1:0,u=l!==this.Za;return this.Za=l,a.length!==0||u?{snapshot:new Og(this.query,e.tu,s,a,e.mutatedKeys,l===0,u,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new bV,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Ya=this.Ya.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Ya=this.Ya.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=xr(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Xa=this.Xa.add(n.key))}));const r=[];return e.forEach((n=>{this.Xa.has(n)||r.push(new BJ(n))})),this.Xa.forEach((n=>{e.has(n)||r.push(new FJ(n))})),r}cu(e){this.Ya=e.Qs,this.Xa=xr();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return Og.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const $R="SyncEngine";class Nwe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Iwe{constructor(e){this.key=e,this.hu=!1}}class Owe{constructor(e,r,n,i,s,a){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=a,this.Pu={},this.Tu=new mm((o=>iJ(o)),CS),this.Iu=new Map,this.Eu=new Set,this.du=new cs(kt.comparator),this.Au=new Map,this.Ru=new NR,this.Vu={},this.mu=new Map,this.fu=Ig.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function Rwe(t,e,r=!0){const n=qJ(t);let i;const s=n.Tu.get(e);return s?(n.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.lu()):i=await VJ(n,e,r,!0),i}async function Pwe(t,e){const r=qJ(t);await VJ(r,e,!0,!1)}async function VJ(t,e,r,n){const i=await Zbe(t.localStore,Zc(e)),s=i.targetId,a=t.sharedClientState.addLocalQueryTarget(s,r);let o;return n&&(o=await jwe(t,e,s,a==="current",i.resumeToken)),t.isPrimaryClient&&r&&RJ(t.remoteStore,i),o}async function jwe(t,e,r,n,i){t.pu=(f,g,v)=>(async function(b,w,E,k){let A=w.view.ru(E);A.Cs&&(A=await mV(b.localStore,w.query,!1).then((({documents:S})=>w.view.ru(S,A))));const O=k&&k.targetChanges.get(w.targetId),P=k&&k.targetMismatches.get(w.targetId)!=null,j=w.view.applyChanges(A,b.isPrimaryClient,O,P);return TV(b,w.targetId,j.au),j.snapshot})(t,f,g,v);const s=await mV(t.localStore,e,!0),a=new Cwe(e,s.Qs),o=a.ru(s.documents),l=eb.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),u=a.applyChanges(o,t.isPrimaryClient,l);TV(t,r,u.au);const d=new Nwe(e,r,a);return t.Tu.set(e,d),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),u.snapshot}async function Dwe(t,e,r){const n=Qt(t),i=n.Tu.get(e),s=n.Iu.get(i.targetId);if(s.length>1)return n.Iu.set(i.targetId,s.filter((a=>!CS(a,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await yI(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&PR(n.remoteStore,i.targetId),wI(n,i.targetId)})).catch(cv)):(wI(n,i.targetId),await yI(n.localStore,i.targetId,!0))}async function Mwe(t,e){const r=Qt(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),PR(r.remoteStore,n.targetId))}async function Lwe(t,e,r){const n=Hwe(t);try{const i=await(function(a,o){const l=Qt(a),u=wn.now(),d=o.reduce(((v,x)=>v.add(x.key)),xr());let f,g;return l.persistence.runTransaction("Locally write mutations","readwrite",(v=>{let x=md(),b=xr();return l.Ns.getEntries(v,d).next((w=>{x=w,x.forEach(((E,k)=>{k.isValidDocument()||(b=b.add(E))}))})).next((()=>l.localDocuments.getOverlayedDocuments(v,x))).next((w=>{f=w;const E=[];for(const k of o){const A=Jxe(k,f.get(k.key).overlayedDocument);A!=null&&E.push(new gf(k.key,A,QQ(A.value.mapValue),$a.exists(!0)))}return l.mutationQueue.addMutationBatch(v,u,E,o)})).next((w=>{g=w;const E=w.applyToLocalDocumentSet(f,b);return l.documentOverlayCache.saveOverlays(v,w.batchId,E)}))})).then((()=>({batchId:g.batchId,changes:oJ(f)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(a,o,l){let u=a.Vu[a.currentUser.toKey()];u||(u=new cs(yr)),u=u.insert(o,l),a.Vu[a.currentUser.toKey()]=u})(n,i.batchId,r),await rb(n,i.changes),await MS(n.remoteStore)}catch(i){const s=FR(i,"Failed to persist write");r.reject(s)}}async function UJ(t,e){const r=Qt(t);try{const n=await Xbe(r.localStore,e);e.targetChanges.forEach(((i,s)=>{const a=r.Au.get(s);a&&(Yr(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?a.hu=!0:i.modifiedDocuments.size>0?Yr(a.hu,14607):i.removedDocuments.size>0&&(Yr(a.hu,42227),a.hu=!1))})),await rb(r,n,e)}catch(n){await cv(n)}}function EV(t,e,r){const n=Qt(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((s,a)=>{const o=a.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(a,o){const l=Qt(a);l.onlineState=o;let u=!1;l.queries.forEach(((d,f)=>{for(const g of f.Sa)g.va(o)&&(u=!0)})),u&&UR(l)})(n.eventManager,e),i.length&&n.Pu.H_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Fwe(t,e,r){const n=Qt(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),s=i&&i.key;if(s){let a=new cs(kt.comparator);a=a.insert(s,wa.newNoDocument(s,Kt.min()));const o=xr().add(s),l=new PS(Kt.min(),new Map,new cs(yr),a,o);await UJ(n,l),n.du=n.du.remove(s),n.Au.delete(e),HR(n)}else await yI(n.localStore,e,!1).then((()=>wI(n,e,r))).catch(cv)}async function Bwe(t,e){const r=Qt(t),n=e.batch.batchId;try{const i=await Ybe(r.localStore,e);$J(r,n,null),zJ(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await rb(r,i)}catch(i){await cv(i)}}async function Vwe(t,e,r){const n=Qt(t);try{const i=await(function(a,o){const l=Qt(a);return l.persistence.runTransaction("Reject batch","readwrite-primary",(u=>{let d;return l.mutationQueue.lookupMutationBatch(u,o).next((f=>(Yr(f!==null,37113),d=f.keys(),l.mutationQueue.removeMutationBatch(u,f)))).next((()=>l.mutationQueue.performConsistencyCheck(u))).next((()=>l.documentOverlayCache.removeOverlaysForBatchId(u,d,o))).next((()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(u,d))).next((()=>l.localDocuments.getDocuments(u,d)))}))})(n.localStore,e);$J(n,e,r),zJ(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await rb(n,i)}catch(i){await cv(i)}}function zJ(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function $J(t,e,r){const n=Qt(t);let i=n.Vu[n.currentUser.toKey()];if(i){const s=i.get(e);s&&(r?s.reject(r):s.resolve(),i=i.remove(e)),n.Vu[n.currentUser.toKey()]=i}}function wI(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Ru.jr(e).forEach((n=>{t.Ru.containsKey(n)||HJ(t,n)}))}function HJ(t,e){t.Eu.delete(e.path.canonicalString());const r=t.du.get(e);r!==null&&(PR(t.remoteStore,r),t.du=t.du.remove(e),t.Au.delete(r),HR(t))}function TV(t,e,r){for(const n of r)n instanceof FJ?(t.Ru.addReference(n.key,e),Uwe(t,n)):n instanceof BJ?(ft($R,"Document no longer in limbo: "+n.key),t.Ru.removeReference(n.key,e),t.Ru.containsKey(n.key)||HJ(t,n.key)):Vt(19791,{wu:n})}function Uwe(t,e){const r=e.key,n=r.path.canonicalString();t.du.get(r)||t.Eu.has(n)||(ft($R,"New document in limbo: "+r),t.Eu.add(n),HR(t))}function HR(t){for(;t.Eu.size>0&&t.du.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new kt(Cn.fromString(e)),n=t.fu.next();t.Au.set(n,new Iwe(r)),t.du=t.du.insert(r,n),RJ(t.remoteStore,new Ch(Zc(AS(r.path)),n,"TargetPurposeLimboResolution",ES.ce))}}async function rb(t,e,r){const n=Qt(t),i=[],s=[],a=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,l)=>{a.push(n.pu(l,e,r).then((u=>{var d;if((u||r)&&n.isPrimaryClient){const f=u?!u.fromCache:(d=r==null?void 0:r.targetChanges.get(l.targetId))==null?void 0:d.current;n.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(u){i.push(u);const f=OR.As(l.targetId,u);s.push(f)}})))})),await Promise.all(a),n.Pu.H_(i),await(async function(l,u){const d=Qt(l);try{await d.persistence.runTransaction("notifyLocalViewChanges","readwrite",(f=>$e.forEach(u,(g=>$e.forEach(g.Es,(v=>d.persistence.referenceDelegate.addReference(f,g.targetId,v))).next((()=>$e.forEach(g.ds,(v=>d.persistence.referenceDelegate.removeReference(f,g.targetId,v)))))))))}catch(f){if(!uv(f))throw f;ft(RR,"Failed to update sequence numbers: "+f)}for(const f of u){const g=f.targetId;if(!f.fromCache){const v=d.Ms.get(g),x=v.snapshotVersion,b=v.withLastLimboFreeSnapshotVersion(x);d.Ms=d.Ms.insert(g,b)}}})(n.localStore,s))}async function zwe(t,e){const r=Qt(t);if(!r.currentUser.isEqual(e)){ft($R,"User change. New user:",e.toKey());const n=await CJ(r.localStore,e);r.currentUser=e,(function(s,a){s.mu.forEach((o=>{o.forEach((l=>{l.reject(new ot(Fe.CANCELLED,a))}))})),s.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await rb(r,n.Ls)}}function $we(t,e){const r=Qt(t),n=r.Au.get(e);if(n&&n.hu)return xr().add(n.key);{let i=xr();const s=r.Iu.get(e);if(!s)return i;for(const a of s){const o=r.Tu.get(a);i=i.unionWith(o.view.nu)}return i}}function qJ(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=UJ.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$we.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Fwe.bind(null,e),e.Pu.H_=kwe.bind(null,e.eventManager),e.Pu.yu=Awe.bind(null,e.eventManager),e}function Hwe(t){const e=Qt(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Bwe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Vwe.bind(null,e),e}class oE{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=jS(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Kbe(this.persistence,new qbe,e.initialUser,this.serializer)}Cu(e){return new AJ(IR.mi,this.serializer)}Du(e){return new twe}async terminate(){var e,r;(e=this.gcScheduler)==null||e.stop(),(r=this.indexBackfillerScheduler)==null||r.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}oE.provider={build:()=>new oE};class qwe extends oE{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){Yr(this.persistence.referenceDelegate instanceof sE,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Ibe(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?ao.withCacheSize(this.cacheSizeBytes):ao.DEFAULT;return new AJ((n=>sE.mi(n,r)),this.serializer)}}class _I{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>EV(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=zwe.bind(null,this.syncEngine),await Ewe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new Swe})()}createDatastore(e){const r=jS(e.databaseInfo.databaseId),n=(function(s){return new awe(s)})(e.databaseInfo);return(function(s,a,o,l){return new uwe(s,a,o,l)})(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,s,a,o){return new hwe(n,i,s,a,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>EV(this.syncEngine,r,0)),(function(){return vV.v()?new vV:new rwe})())}createSyncEngine(e,r){return(function(i,s,a,o,l,u,d){const f=new Owe(i,s,a,o,l,u);return d&&(f.gu=!0),f})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){var e,r;await(async function(i){const s=Qt(i);ft(z0,"RemoteStore shutting down."),s.Ea.add(5),await tb(s),s.Aa.shutdown(),s.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(r=this.eventManager)==null||r.terminate()}}_I.provider={build:()=>new _I};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qR{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):fd("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jh="FirestoreClient";class Wwe{constructor(e,r,n,i,s){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this.databaseInfo=i,this.user=ya.UNAUTHENTICATED,this.clientId=wS.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(n,(async a=>{ft(Jh,"Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(n,(a=>(ft(Jh,"Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ju;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=FR(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function YC(t,e){t.asyncQueue.verifyOperationInProgress(),ft(Jh,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await CJ(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function SV(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Gwe(t);ft(Jh,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>xV(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>xV(e.remoteStore,i))),t._onlineComponents=e}async function Gwe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ft(Jh,"Using user provided OfflineComponentProvider");try{await YC(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===Fe.FAILED_PRECONDITION||i.code===Fe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;U0("Error using user provided cache. Falling back to memory cache: "+r),await YC(t,new oE)}}else ft(Jh,"Using default OfflineComponentProvider"),await YC(t,new qwe(void 0));return t._offlineComponents}async function WJ(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ft(Jh,"Using user provided OnlineComponentProvider"),await SV(t,t._uninitializedComponentsProvider._online)):(ft(Jh,"Using default OnlineComponentProvider"),await SV(t,new _I))),t._onlineComponents}function Kwe(t){return WJ(t).then((e=>e.syncEngine))}async function lE(t){const e=await WJ(t),r=e.eventManager;return r.onListen=Rwe.bind(null,e.syncEngine),r.onUnlisten=Dwe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Pwe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Mwe.bind(null,e.syncEngine),r}function Ywe(t,e,r={}){const n=new Ju;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const d=new qR({next:g=>{d.Nu(),a.enqueueAndForget((()=>VR(s,f)));const v=g.docs.has(o);!v&&g.fromCache?u.reject(new ot(Fe.UNAVAILABLE,"Failed to get document because the client is offline.")):v&&g.fromCache&&l&&l.source==="server"?u.reject(new ot(Fe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new zR(AS(o.path),d,{includeMetadataChanges:!0,qa:!0});return BR(s,f)})(await lE(t),t.asyncQueue,e,r,n))),n.promise}function Xwe(t,e,r={}){const n=new Ju;return t.asyncQueue.enqueueAndForget((async()=>(function(s,a,o,l,u){const d=new qR({next:g=>{d.Nu(),a.enqueueAndForget((()=>VR(s,f))),g.fromCache&&l.source==="server"?u.reject(new ot(Fe.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):u.resolve(g)},error:g=>u.reject(g)}),f=new zR(o,d,{includeMetadataChanges:!0,qa:!0});return BR(s,f)})(await lE(t),t.asyncQueue,e,r,n))),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GJ(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kV=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KJ="firestore.googleapis.com",AV=!0;class CV{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new ot(Fe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=KJ,this.ssl=AV}else this.host=e.host,this.ssl=e.ssl??AV;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=kJ;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Cbe)throw new ot(Fe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}VQ("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=GJ(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new ot(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new ot(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new ot(Fe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class LS{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CV({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ot(Fe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ot(Fe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CV(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new FQ;switch(n.type){case"firstParty":return new axe(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new ot(Fe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=kV.get(r);n&&(ft("ComponentProvider","Removing Datastore"),kV.delete(r),n.terminate())})(this),Promise.resolve()}}function YJ(t,e,r,n={}){var u;t=Na(t,LS);const i=Sd(e),s=t._getSettings(),a={...s,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(gS(`https://${o}`),vS("Firestore",!0)),s.host!==KJ&&s.host!==o&&U0("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:o,ssl:i,emulatorOptions:n};if(!iu(l,a)&&(t._setSettings(l),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=ya.MOCK_USER;else{d=pR(n.mockUserToken,(u=t._app)==null?void 0:u.options.projectId);const g=n.mockUserToken.sub||n.mockUserToken.user_id;if(!g)throw new ot(Fe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new ya(g)}t._authCredentials=new nxe(new LQ(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Ec(this.firestore,e,this._query)}}class ui{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Zu(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ui(this.firestore,e,this._key)}toJSON(){return{type:ui._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Jx(r,ui._jsonSchema))return new ui(e,n||null,new kt(Cn.fromString(r.referencePath)))}}ui._jsonSchemaVersion="firestore/documentReference/1.0",ui._jsonSchema={type:ss("string",ui._jsonSchemaVersion),referencePath:ss("string")};class Zu extends Ec{constructor(e,r,n){super(e,r,AS(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ui(this.firestore,null,new kt(e))}withConverter(e){return new Zu(this.firestore,e,this._path)}}function qt(t,e,...r){if(t=Pr(t),BQ("collection","path",e),t instanceof LS){const n=Cn.fromString(e,...r);return zB(n),new Zu(t,null,n)}{if(!(t instanceof ui||t instanceof Zu))throw new ot(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Cn.fromString(e,...r));return zB(n),new Zu(t.firestore,null,n)}}function Ht(t,e,...r){if(t=Pr(t),arguments.length===1&&(e=wS.newId()),BQ("doc","path",e),t instanceof LS){const n=Cn.fromString(e,...r);return UB(n),new ui(t,null,new kt(n))}{if(!(t instanceof ui||t instanceof Zu))throw new ot(Fe.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Cn.fromString(e,...r));return UB(n),new ui(t.firestore,t instanceof Zu?t.converter:null,new kt(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const NV="AsyncQueue";class IV{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new IJ(this,"async_queue_retry"),this._c=()=>{const n=KC();n&&ft(NV,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=KC();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=KC();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new Ju;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!uv(e))throw e;ft(NV,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,fd("INTERNAL UNHANDLED ERROR: ",OV(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=LR.createAndSchedule(this,e,r,n,(s=>this.hc(s)));return this.tc.push(i),i}uc(){this.nc&&Vt(47125,{Pc:OV(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function OV(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RV(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const s of n)if(s in i&&typeof i[s]=="function")return!0;return!1})(t,["next","error","complete"])}class vc extends LS{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new IV,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new IV(e),this._firestoreClient=void 0,await e}}}function XJ(t,e){const r=typeof t=="object"?t:hm(),n=typeof t=="string"?t:Z2,i=Qx(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const s=mR("firestore");s&&YJ(i,...s)}return i}function hv(t){if(t._terminated)throw new ot(Fe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qwe(t),t._firestoreClient}function Qwe(t){var n,i,s;const e=t._freezeSettings(),r=(function(o,l,u,d){return new Exe(o,l,u,d.host,d.ssl,d.experimentalForceLongPolling,d.experimentalAutoDetectLongPolling,GJ(d.experimentalLongPollingOptions),d.useFetchStreams,d.isUsingEmulator)})(t._databaseId,((n=t._app)==null?void 0:n.options.appId)||"",t._persistenceKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((s=e.localCache)!=null&&s._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Wwe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(o){const l=o==null?void 0:o._online.build();return{_offline:o==null?void 0:o._offline.build(l),_online:l}})(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Do{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Do(Us.fromBase64String(e))}catch(r){throw new ot(Fe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Do(Us.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Do._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jx(e,Do._jsonSchema))return Do.fromBase64String(e.bytes)}}Do._jsonSchemaVersion="firestore/bytes/1.0",Do._jsonSchema={type:ss("string",Do._jsonSchemaVersion),bytes:ss("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gm{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new ot(Fe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ls(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}function FS(){return new gm(oI)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cc{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new ot(Fe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new ot(Fe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return yr(this._lat,e._lat)||yr(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:cc._jsonSchemaVersion}}static fromJSON(e){if(Jx(e,cc._jsonSchema))return new cc(e.latitude,e.longitude)}}cc._jsonSchemaVersion="firestore/geoPoint/1.0",cc._jsonSchema={type:ss("string",cc._jsonSchemaVersion),latitude:ss("number"),longitude:ss("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uc{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let s=0;s<n.length;++s)if(n[s]!==i[s])return!1;return!0})(this._values,e._values)}toJSON(){return{type:uc._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jx(e,uc._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new uc(e.vectorValues);throw new ot(Fe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}uc._jsonSchemaVersion="firestore/vectorValue/1.0",uc._jsonSchema={type:ss("string",uc._jsonSchemaVersion),vectorValues:ss("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Jwe=/^__.*__$/;class Zwe{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new gf(e,this.data,this.fieldMask,r,this.fieldTransforms):new Zx(e,this.data,r,this.fieldTransforms)}}class QJ{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new gf(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function JJ(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Vt(40011,{Ac:t})}}class BS{constructor(e,r,n,i,s,a){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,s===void 0&&this.Rc(),this.fieldTransforms=s||[],this.fieldMask=a||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new BS({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.gc(e),n}yc(e){var i;const r=(i=this.path)==null?void 0:i.child(e),n=this.Vc({path:r,fc:!1});return n.Rc(),n}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return cE(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(JJ(this.Ac)&&Jwe.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class e_e{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||jS(e)}Cc(e,r,n,i=!1){return new BS({Ac:e,methodName:r,Dc:n,path:Ls.emptyPath(),fc:!1,bc:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function fv(t){const e=t._freezeSettings(),r=jS(t._databaseId);return new e_e(t._databaseId,!!e.ignoreUndefinedProperties,r)}function WR(t,e,r,n,i,s={}){const a=t.Cc(s.merge||s.mergeFields?2:0,e,r,i);XR("Data must be an object, but it was:",a,n);const o=nZ(n,a);let l,u;if(s.merge)l=new zo(a.fieldMask),u=a.fieldTransforms;else if(s.mergeFields){const d=[];for(const f of s.mergeFields){const g=EI(e,f,r);if(!a.contains(g))throw new ot(Fe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);sZ(d,g)||d.push(g)}l=new zo(d),u=a.fieldTransforms.filter((f=>l.covers(f.field)))}else l=null,u=a.fieldTransforms;return new Zwe(new lo(o),l,u)}class VS extends vm{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof VS}}function ZJ(t,e,r){return new BS({Ac:3,Dc:e.settings.Dc,methodName:t._methodName,fc:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class GR extends vm{_toFieldTransform(e){return new SR(e.path,new K1)}isEqual(e){return e instanceof GR}}class KR extends vm{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=ZJ(this,e,!0),n=this.vc.map((s=>ym(s,r))),i=new Cg(n);return new SR(e.path,i)}isEqual(e){return e instanceof KR&&iu(this.vc,e.vc)}}class YR extends vm{constructor(e,r){super(e),this.vc=r}_toFieldTransform(e){const r=ZJ(this,e,!0),n=this.vc.map((s=>ym(s,r))),i=new Ng(n);return new SR(e.path,i)}isEqual(e){return e instanceof YR&&iu(this.vc,e.vc)}}function eZ(t,e,r,n){const i=t.Cc(1,e,r);XR("Data must be an object, but it was:",i,n);const s=[],a=lo.empty();pf(n,((l,u)=>{const d=QR(e,l,r);u=Pr(u);const f=i.yc(d);if(u instanceof VS)s.push(d);else{const g=ym(u,f);g!=null&&(s.push(d),a.set(d,g))}}));const o=new zo(s);return new QJ(a,o,i.fieldTransforms)}function tZ(t,e,r,n,i,s){const a=t.Cc(1,e,r),o=[EI(e,n,r)],l=[i];if(s.length%2!=0)throw new ot(Fe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<s.length;g+=2)o.push(EI(e,s[g])),l.push(s[g+1]);const u=[],d=lo.empty();for(let g=o.length-1;g>=0;--g)if(!sZ(u,o[g])){const v=o[g];let x=l[g];x=Pr(x);const b=a.yc(v);if(x instanceof VS)u.push(v);else{const w=ym(x,b);w!=null&&(u.push(v),d.set(v,w))}}const f=new zo(u);return new QJ(d,f,a.fieldTransforms)}function rZ(t,e,r,n=!1){return ym(r,t.Cc(n?4:3,e))}function ym(t,e){if(iZ(t=Pr(t)))return XR("Unsupported field value:",e,t),nZ(t,e);if(t instanceof vm)return(function(n,i){if(!JJ(i.Ac))throw i.Sc(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Sc(`${n._methodName}() is not currently supported inside arrays`);const s=n._toFieldTransform(i);s&&i.fieldTransforms.push(s)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(n,i){const s=[];let a=0;for(const o of n){let l=ym(o,i.wc(a));l==null&&(l={nullValue:"NULL_VALUE"}),s.push(l),a++}return{arrayValue:{values:s}}})(t,e)}return(function(n,i){if((n=Pr(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Wxe(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const s=wn.fromDate(n);return{timestampValue:iE(i.serializer,s)}}if(n instanceof wn){const s=new wn(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:iE(i.serializer,s)}}if(n instanceof cc)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Do)return{bytesValue:xJ(i.serializer,n._byteString)};if(n instanceof ui){const s=i.databaseId,a=n.firestore._databaseId;if(!a.isEqual(s))throw i.Sc(`Document reference is for database ${a.projectId}/${a.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:CR(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof uc)return(function(a,o){return{mapValue:{fields:{[YQ]:{stringValue:XQ},[eE]:{arrayValue:{values:a.toArray().map((u=>{if(typeof u!="number")throw o.Sc("VectorValues must only contain numeric values.");return TR(o.serializer,u)}))}}}}}})(n,i);throw i.Sc(`Unsupported field value: ${_S(n)}`)})(t,e)}function nZ(t,e){const r={};return $Q(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):pf(t,((n,i)=>{const s=ym(i,e.mc(n));s!=null&&(r[n]=s)})),{mapValue:{fields:r}}}function iZ(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof wn||t instanceof cc||t instanceof Do||t instanceof ui||t instanceof vm||t instanceof uc)}function XR(t,e,r){if(!iZ(r)||!UQ(r)){const n=_S(r);throw n==="an object"?e.Sc(t+" a custom object"):e.Sc(t+" "+n)}}function EI(t,e,r){if((e=Pr(e))instanceof gm)return e._internalPath;if(typeof e=="string")return QR(t,e);throw cE("Field path arguments must be of type string or ",t,!1,void 0,r)}const t_e=new RegExp("[~\\*/\\[\\]]");function QR(t,e,r){if(e.search(t_e)>=0)throw cE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new gm(...e.split("."))._internalPath}catch{throw cE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function cE(t,e,r,n,i){const s=n&&!n.isEmpty(),a=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=` in field ${n}`),a&&(l+=` in document ${i}`),l+=")"),new ot(Fe.INVALID_ARGUMENT,o+t+l)}function sZ(t,e){return t.some((r=>r.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JR{constructor(e,r,n,i,s){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ui(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new r_e(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const r=this._document.data.field(US("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class r_e extends JR{data(){return super.data()}}function US(t,e){return typeof e=="string"?QR(t,e):e instanceof gm?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aZ(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new ot(Fe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ZR{}class nb extends ZR{}function pr(t,e,...r){let n=[];e instanceof ZR&&n.push(e),n=n.concat(r),(function(s){const a=s.filter((l=>l instanceof zS)).length,o=s.filter((l=>l instanceof ib)).length;if(a>1||a>0&&o>0)throw new ot(Fe.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(n);for(const i of n)t=i._apply(t);return t}class ib extends nb{constructor(e,r,n){super(),this._field=e,this._op=r,this._value=n,this.type="where"}static _create(e,r,n){return new ib(e,r,n)}_apply(e){const r=this._parse(e);return lZ(e._query,r),new Ec(e.firestore,e.converter,fI(e._query,r))}_parse(e){const r=fv(e.firestore);return(function(s,a,o,l,u,d,f){let g;if(u.isKeyField()){if(d==="array-contains"||d==="array-contains-any")throw new ot(Fe.INVALID_ARGUMENT,`Invalid Query. You can't perform '${d}' queries on documentId().`);if(d==="in"||d==="not-in"){jV(f,d);const x=[];for(const b of f)x.push(PV(l,s,b));g={arrayValue:{values:x}}}else g=PV(l,s,f)}else d!=="in"&&d!=="not-in"&&d!=="array-contains-any"||jV(f,d),g=rZ(o,a,f,d==="in"||d==="not-in");return ns.create(u,d,g)})(e._query,"where",r,e.firestore._databaseId,this._field,this._op,this._value)}}function kr(t,e,r){const n=e,i=US("where",t);return ib._create(i,n,r)}class zS extends ZR{constructor(e,r){super(),this.type=e,this._queryConstraints=r}static _create(e,r){return new zS(e,r)}_parse(e){const r=this._queryConstraints.map((n=>n._parse(e))).filter((n=>n.getFilters().length>0));return r.length===1?r[0]:gc.create(r,this._getOperator())}_apply(e){const r=this._parse(e);return r.getFilters().length===0?e:((function(i,s){let a=i;const o=s.getFlattenedFilters();for(const l of o)lZ(a,l),a=fI(a,l)})(e._query,r),new Ec(e.firestore,e.converter,fI(e._query,r)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class $S extends nb{constructor(e,r){super(),this._field=e,this._direction=r,this.type="orderBy"}static _create(e,r){return new $S(e,r)}_apply(e){const r=(function(i,s,a){if(i.startAt!==null)throw new ot(Fe.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new ot(Fe.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new G1(s,a)})(e._query,this._field,this._direction);return new Ec(e.firestore,e.converter,(function(i,s){const a=i.explicitOrderBy.concat([s]);return new fm(i.path,i.collectionGroup,a,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,r))}}function po(t,e="asc"){const r=e,n=US("orderBy",t);return $S._create(n,r)}class HS extends nb{constructor(e,r,n){super(),this.type=e,this._limit=r,this._limitType=n}static _create(e,r,n){return new HS(e,r,n)}_apply(e){return new Ec(e.firestore,e.converter,rE(e._query,this._limit,this._limitType))}}function El(t){return hxe("limit",t),HS._create("limit",t,"F")}class qS extends nb{constructor(e,r,n){super(),this.type=e,this._docOrFields=r,this._inclusive=n}static _create(e,r,n){return new qS(e,r,n)}_apply(e){const r=n_e(e,this.type,this._docOrFields,this._inclusive);return new Ec(e.firestore,e.converter,(function(i,s){return new fm(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),i.limit,i.limitType,s,i.endAt)})(e._query,r))}}function oZ(...t){return qS._create("startAfter",t,!1)}function n_e(t,e,r,n){if(r[0]=Pr(r[0]),r[0]instanceof JR)return(function(s,a,o,l,u){if(!l)throw new ot(Fe.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${o}().`);const d=[];for(const f of Xp(s))if(f.field.isKeyField())d.push(tE(a,l.key));else{const g=l.data.field(f.field);if(SS(g))throw new ot(Fe.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+f.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(g===null){const v=f.field.canonicalString();throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${v}' (used as the orderBy) does not exist.`)}d.push(g)}return new Ag(d,u)})(t._query,t.firestore._databaseId,e,r[0]._document,n);{const i=fv(t.firestore);return(function(a,o,l,u,d,f){const g=a.explicitOrderBy;if(d.length>g.length)throw new ot(Fe.INVALID_ARGUMENT,`Too many arguments provided to ${u}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const v=[];for(let x=0;x<d.length;x++){const b=d[x];if(g[x].field.isKeyField()){if(typeof b!="string")throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${u}(), but got a ${typeof b}`);if(!ER(a)&&b.indexOf("/")!==-1)throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${u}() must be a plain document ID, but '${b}' contains a slash.`);const w=a.path.child(Cn.fromString(b));if(!kt.isDocumentKey(w))throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${u}() must result in a valid document path, but '${w}' is not because it contains an odd number of segments.`);const E=new kt(w);v.push(tE(o,E))}else{const w=rZ(l,u,b);v.push(w)}}return new Ag(v,f)})(t._query,t.firestore._databaseId,i,e,r,n)}}function PV(t,e,r){if(typeof(r=Pr(r))=="string"){if(r==="")throw new ot(Fe.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!ER(e)&&r.indexOf("/")!==-1)throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${r}' contains a '/' character.`);const n=e.path.child(Cn.fromString(r));if(!kt.isDocumentKey(n))throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${n}' is not because it has an odd number of segments (${n.length}).`);return tE(t,new kt(n))}if(r instanceof ui)return tE(t,r._key);throw new ot(Fe.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${_S(r)}.`)}function jV(t,e){if(!Array.isArray(t)||t.length===0)throw new ot(Fe.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function lZ(t,e){const r=(function(i,s){for(const a of i)for(const o of a.getFlattenedFilters())if(s.indexOf(o.op)>=0)return o.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(r!==null)throw r===e.op?new ot(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ot(Fe.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${r.toString()}' filters.`)}class cZ{convertValue(e,r="none"){switch(Xh(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Mi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(Yh(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Vt(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return pf(e,((i,s)=>{n[i]=this.convertValue(s,r)})),n}convertVectorValue(e){var n,i,s;const r=(s=(i=(n=e.fields)==null?void 0:n[eE].arrayValue)==null?void 0:i.values)==null?void 0:s.map((a=>Mi(a.doubleValue)));return new uc(r)}convertGeoPoint(e){return new cc(Mi(e.latitude),Mi(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=kS(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(q1(e));default:return null}}convertTimestamp(e){const r=Kh(e);return new wn(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Cn.fromString(e);Yr(SJ(n),9688,{name:e});const i=new Tg(n.get(1),n.get(3)),s=new kt(n.popFirst(5));return i.isEqual(r)||fd(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eP(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Up{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bh extends JR{constructor(e,r,n,i,s,a){super(e,r,n,i,a),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new f1(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(US("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Fe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=Bh._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}Bh._jsonSchemaVersion="firestore/documentSnapshot/1.0",Bh._jsonSchema={type:ss("string",Bh._jsonSchemaVersion),bundleSource:ss("string","DocumentSnapshot"),bundleName:ss("string"),bundle:ss("string")};class f1 extends Bh{data(e={}){return super.data(e)}}class Vh{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Up(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new f1(this._firestore,this._userDataWriter,n.key,n,new Up(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new ot(Fe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,s){if(i._snapshot.oldDocs.isEmpty()){let a=0;return i._snapshot.docChanges.map((o=>{const l=new f1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Up(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:l,oldIndex:-1,newIndex:a++}}))}{let a=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>s||o.type!==3)).map((o=>{const l=new f1(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Up(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let u=-1,d=-1;return o.type!==0&&(u=a.indexOf(o.doc.key),a=a.delete(o.doc.key)),o.type!==1&&(a=a.add(o.doc),d=a.indexOf(o.doc.key)),{type:i_e(o.type),doc:l,oldIndex:u,newIndex:d}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new ot(Fe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Vh._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=wS.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((s=>{s._document!==null&&(r.push(s._document),n.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function i_e(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Vt(61501,{type:t})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ed(t){t=Na(t,ui);const e=Na(t.firestore,vc);return Ywe(hv(e),t._key).then((r=>uZ(e,t,r)))}Vh._jsonSchemaVersion="firestore/querySnapshot/1.0",Vh._jsonSchema={type:ss("string",Vh._jsonSchemaVersion),bundleSource:ss("string","QuerySnapshot"),bundleName:ss("string"),bundle:ss("string")};class tP extends cZ{constructor(e){super(),this.firestore=e}convertBytes(e){return new Do(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new ui(this.firestore,null,r)}}function _n(t){t=Na(t,Ec);const e=Na(t.firestore,vc),r=hv(e),n=new tP(e);return aZ(t._query),Xwe(r,t._query).then((i=>new Vh(e,n,t,i)))}function mv(t,e,r){t=Na(t,ui);const n=Na(t.firestore,vc),i=eP(t.converter,e,r);return pv(n,[WR(fv(n),"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,$a.none())])}function Un(t,e,r,...n){t=Na(t,ui);const i=Na(t.firestore,vc),s=fv(i);let a;return a=typeof(e=Pr(e))=="string"||e instanceof gm?tZ(s,"updateDoc",t._key,e,r,n):eZ(s,"updateDoc",t._key,e),pv(i,[a.toMutation(t._key,$a.exists(!0))])}function WS(t){return pv(Na(t.firestore,vc),[new RS(t._key,$a.none())])}function Zh(t,e){const r=Na(t.firestore,vc),n=Ht(t),i=eP(t.converter,e);return pv(r,[WR(fv(t.firestore),"addDoc",n._key,i,t.converter!==null,{}).toMutation(n._key,$a.exists(!1))]).then((()=>n))}function Ho(t,...e){var l,u,d;t=Pr(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||RV(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(RV(e[n])){const f=e[n];e[n]=(l=f.next)==null?void 0:l.bind(f),e[n+1]=(u=f.error)==null?void 0:u.bind(f),e[n+2]=(d=f.complete)==null?void 0:d.bind(f)}let s,a,o;if(t instanceof ui)a=Na(t.firestore,vc),o=AS(t._key.path),s={next:f=>{e[n]&&e[n](uZ(a,t,f))},error:e[n+1],complete:e[n+2]};else{const f=Na(t,Ec);a=Na(f.firestore,vc),o=f._query;const g=new tP(a);s={next:v=>{e[n]&&e[n](new Vh(a,g,f,v))},error:e[n+1],complete:e[n+2]},aZ(t._query)}return(function(g,v,x,b){const w=new qR(b),E=new zR(v,w,x);return g.asyncQueue.enqueueAndForget((async()=>BR(await lE(g),E))),()=>{w.Nu(),g.asyncQueue.enqueueAndForget((async()=>VR(await lE(g),E)))}})(hv(a),o,i,s)}function pv(t,e){return(function(n,i){const s=new Ju;return n.asyncQueue.enqueueAndForget((async()=>Lwe(await Kwe(n),i,s))),s.promise})(hv(t),e)}function uZ(t,e,r){const n=r.docs.get(e._key),i=new tP(t);return new Bh(t,i,e._key,n,new Up(r.hasPendingWrites,r.fromCache),e.converter)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dZ{constructor(e,r){this._firestore=e,this._commitHandler=r,this._mutations=[],this._committed=!1,this._dataReader=fv(e)}set(e,r,n){this._verifyNotCommitted();const i=XC(e,this._firestore),s=eP(i.converter,r,n),a=WR(this._dataReader,"WriteBatch.set",i._key,s,i.converter!==null,n);return this._mutations.push(a.toMutation(i._key,$a.none())),this}update(e,r,n,...i){this._verifyNotCommitted();const s=XC(e,this._firestore);let a;return a=typeof(r=Pr(r))=="string"||r instanceof gm?tZ(this._dataReader,"WriteBatch.update",s._key,r,n,i):eZ(this._dataReader,"WriteBatch.update",s._key,r),this._mutations.push(a.toMutation(s._key,$a.exists(!0))),this}delete(e){this._verifyNotCommitted();const r=XC(e,this._firestore);return this._mutations=this._mutations.concat(new RS(r._key,$a.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new ot(Fe.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function XC(t,e){if((t=Pr(t)).firestore!==e)throw new ot(Fe.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return t}function sa(){return new GR("serverTimestamp")}function Y1(...t){return new KR("arrayUnion",t)}function rP(...t){return new YR("arrayRemove",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nP(t){return hv(t=Na(t,vc)),new dZ(t,(e=>pv(t,e)))}(function(e,r=!0){(function(i){lv=i})(mf),Wh(new dd("firestore",((n,{instanceIdentifier:i,options:s})=>{const a=n.getProvider("app").getImmediate(),o=new vc(new ixe(n.getProvider("auth-internal")),new oxe(a,n.getProvider("app-check-internal")),(function(u,d){if(!Object.prototype.hasOwnProperty.apply(u.options,["projectId"]))throw new ot(Fe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Tg(u.options.projectId,d)})(a,i),a);return s={useFetchStreams:r,...s},o._setSettings(s),o}),"PUBLIC").setMultipleInstances(!0)),Nl(FB,BB,e),Nl(FB,BB,"esm2020")})();const $0=Object.freeze(Object.defineProperty({__proto__:null,AbstractUserDataWriter:cZ,Bytes:Do,CollectionReference:Zu,DocumentReference:ui,DocumentSnapshot:Bh,FieldPath:gm,FieldValue:vm,Firestore:vc,FirestoreError:ot,GeoPoint:cc,Query:Ec,QueryCompositeFilterConstraint:zS,QueryConstraint:nb,QueryDocumentSnapshot:f1,QueryFieldFilterConstraint:ib,QueryLimitConstraint:HS,QueryOrderByConstraint:$S,QuerySnapshot:Vh,QueryStartAtConstraint:qS,SnapshotMetadata:Up,Timestamp:wn,VectorValue:uc,WriteBatch:dZ,_AutoId:wS,_ByteString:Us,_DatabaseId:Tg,_DocumentKey:kt,_EmptyAuthCredentialsProvider:FQ,_FieldPath:Ls,_cast:Na,_logWarn:U0,_validateIsNotUsedTogether:VQ,addDoc:Zh,arrayRemove:rP,arrayUnion:Y1,collection:qt,connectFirestoreEmulator:YJ,deleteDoc:WS,doc:Ht,documentId:FS,ensureFirestoreConfigured:hv,executeWrite:pv,getDoc:ed,getDocs:_n,getFirestore:XJ,limit:El,onSnapshot:Ho,orderBy:po,query:pr,serverTimestamp:sa,setDoc:mv,startAfter:oZ,updateDoc:Un,where:kr,writeBatch:nP},Symbol.toStringTag,{value:"Module"}));var s_e="firebase",a_e="12.6.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Nl(s_e,a_e,"app");function hZ(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const o_e=hZ,fZ=new Xx("auth","Firebase",hZ());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uE=new xS("@firebase/auth");function l_e(t,...e){uE.logLevel<=mr.WARN&&uE.warn(`Auth (${mf}): ${t}`,...e)}function N2(t,...e){uE.logLevel<=mr.ERROR&&uE.error(`Auth (${mf}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yc(t,...e){throw iP(t,...e)}function tu(t,...e){return iP(t,...e)}function mZ(t,e,r){const n={...o_e(),[e]:r};return new Xx("auth","Firebase",n).create(e,{appName:t.name})}function td(t){return mZ(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function iP(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return fZ.create(t,...e)}function Bt(t,e,...r){if(!t)throw iP(e,...r)}function qu(t){const e="INTERNAL ASSERTION FAILED: "+t;throw N2(e),new Error(e)}function pd(t,e){t||qu(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TI(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function c_e(){return DV()==="http:"||DV()==="https:"}function DV(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function u_e(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(c_e()||Rye()||"connection"in navigator)?navigator.onLine:!0}function d_e(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sb{constructor(e,r){this.shortDelay=e,this.longDelay=r,pd(r>e,"Short delay should be less than long delay!"),this.isMobile=gR()||TQ()}get(){return u_e()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){pd(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pZ{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qu("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qu("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qu("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h_e={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f_e=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],m_e=new sb(3e4,6e4);function kd(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function fu(t,e,r,n,i={}){return gZ(t,i,async()=>{let s={},a={};n&&(e==="GET"?a=n:s={body:JSON.stringify(n)});const o=ov({key:t.config.apiKey,...a}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const u={method:e,headers:l,...s};return Oye()||(u.referrerPolicy="no-referrer"),t.emulatorConfig&&Sd(t.emulatorConfig.host)&&(u.credentials="include"),pZ.fetch()(await vZ(t,t.config.apiHost,r,o),u)})}async function gZ(t,e,r){t._canInitEmulator=!1;const n={...h_e,...e};try{const i=new g_e(t),s=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const a=await s.json();if("needConfirmation"in a)throw T_(t,"account-exists-with-different-credential",a);if(s.ok&&!("errorMessage"in a))return a;{const o=s.ok?a.errorMessage:a.error.message,[l,u]=o.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw T_(t,"credential-already-in-use",a);if(l==="EMAIL_EXISTS")throw T_(t,"email-already-in-use",a);if(l==="USER_DISABLED")throw T_(t,"user-disabled",a);const d=n[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw mZ(t,d,u);yc(t,d)}}catch(i){if(i instanceof du)throw i;yc(t,"network-request-failed",{message:String(i)})}}async function ab(t,e,r,n,i={}){const s=await fu(t,e,r,n,i);return"mfaPendingCredential"in s&&yc(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function vZ(t,e,r,n){const i=`${e}${r}?${n}`,s=t,a=s.config.emulator?sP(t.config,i):`${t.config.apiScheme}://${i}`;return f_e.includes(r)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(a).toString():a}function p_e(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class g_e{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(tu(this.auth,"network-request-failed")),m_e.get())})}}function T_(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=tu(t,e,n);return i.customData._tokenResponse=r,i}function MV(t){return t!==void 0&&t.enterprise!==void 0}class v_e{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return p_e(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function y_e(t,e){return fu(t,"GET","/v2/recaptchaConfig",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function x_e(t,e){return fu(t,"POST","/v1/accounts:delete",e)}async function dE(t,e){return fu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m1(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function b_e(t,e=!1){const r=Pr(t),n=await r.getIdToken(e),i=aP(n);Bt(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,a=s==null?void 0:s.sign_in_provider;return{claims:i,token:n,authTime:m1(QC(i.auth_time)),issuedAtTime:m1(QC(i.iat)),expirationTime:m1(QC(i.exp)),signInProvider:a||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function QC(t){return Number(t)*1e3}function aP(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return N2("JWT malformed, contained fewer than 3 sections"),null;try{const i=Y2(r);return i?JSON.parse(i):(N2("Failed to decode base64 JWT payload"),null)}catch(i){return N2("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function LV(t){const e=aP(t);return Bt(e,"internal-error"),Bt(typeof e.exp<"u","internal-error"),Bt(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Rg(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof du&&w_e(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function w_e({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class __e{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SI{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=m1(this.lastLoginAt),this.creationTime=m1(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hE(t){var f;const e=t.auth,r=await t.getIdToken(),n=await Rg(t,dE(e,{idToken:r}));Bt(n==null?void 0:n.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const s=(f=i.providerUserInfo)!=null&&f.length?yZ(i.providerUserInfo):[],a=T_e(t.providerData,s),o=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(a!=null&&a.length),u=o?l:!1,d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new SI(i.createdAt,i.lastLoginAt),isAnonymous:u};Object.assign(t,d)}async function E_e(t){const e=Pr(t);await hE(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function T_e(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function yZ(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S_e(t,e){const r=await gZ(t,{},async()=>{const n=ov({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,a=await vZ(t,i,"/v1/token",`key=${s}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:o,body:n};return t.emulatorConfig&&Sd(t.emulatorConfig.host)&&(l.credentials="include"),pZ.fetch()(a,l)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function k_e(t,e){return fu(t,"POST","/v2/accounts:revokeToken",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jp{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Bt(e.idToken,"internal-error"),Bt(typeof e.idToken<"u","internal-error"),Bt(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LV(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){Bt(e.length!==0,"internal-error");const r=LV(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(Bt(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:s}=await S_e(e,r);this.updateTokensAndExpiration(n,i,Number(s))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:s}=r,a=new Jp;return n&&(Bt(typeof n=="string","internal-error",{appName:e}),a.refreshToken=n),i&&(Bt(typeof i=="string","internal-error",{appName:e}),a.accessToken=i),s&&(Bt(typeof s=="number","internal-error",{appName:e}),a.expirationTime=s),a}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Jp,this.toJSON())}_performRefresh(){return qu("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mh(t,e){Bt(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ic{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new __e(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new SI(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Rg(this,this.stsTokenManager.getToken(this.auth,e));return Bt(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return b_e(this,e)}reload(){return E_e(this)}_assign(e){this!==e&&(Bt(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ic({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){Bt(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await hE(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(oo(this.auth.app))return Promise.reject(td(this.auth));const e=await this.getIdToken();return await Rg(this,x_e(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,s=r.phoneNumber??void 0,a=r.photoURL??void 0,o=r.tenantId??void 0,l=r._redirectEventId??void 0,u=r.createdAt??void 0,d=r.lastLoginAt??void 0,{uid:f,emailVerified:g,isAnonymous:v,providerData:x,stsTokenManager:b}=r;Bt(f&&b,e,"internal-error");const w=Jp.fromJSON(this.name,b);Bt(typeof f=="string",e,"internal-error"),mh(n,e.name),mh(i,e.name),Bt(typeof g=="boolean",e,"internal-error"),Bt(typeof v=="boolean",e,"internal-error"),mh(s,e.name),mh(a,e.name),mh(o,e.name),mh(l,e.name),mh(u,e.name),mh(d,e.name);const E=new ic({uid:f,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:v,photoURL:a,phoneNumber:s,tenantId:o,stsTokenManager:w,createdAt:u,lastLoginAt:d});return x&&Array.isArray(x)&&(E.providerData=x.map(k=>({...k}))),l&&(E._redirectEventId=l),E}static async _fromIdTokenResponse(e,r,n=!1){const i=new Jp;i.updateFromServerResponse(r);const s=new ic({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await hE(s),s}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];Bt(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yZ(i.providerUserInfo):[],a=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),o=new Jp;o.updateFromIdToken(n);const l=new ic({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:a}),u={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new SI(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,u),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FV=new Map;function Wu(t){pd(t instanceof Function,"Expected a class definition");let e=FV.get(t);return e?(pd(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,FV.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}xZ.type="NONE";const BV=xZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I2(t,e,r){return`firebase:${t}:${e}:${r}`}class Zp{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:s}=this.auth;this.fullUserKey=I2(this.userKey,i.apiKey,s),this.fullPersistenceKey=I2("persistence",i.apiKey,s),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await dE(this.auth,{idToken:e}).catch(()=>{});return r?ic._fromGetAccountInfoResponse(this.auth,r,e):null}return ic._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Zp(Wu(BV),e,n);const i=(await Promise.all(r.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Wu(BV);const a=I2(n,e.config.apiKey,e.name);let o=null;for(const u of r)try{const d=await u._get(a);if(d){let f;if(typeof d=="string"){const g=await dE(e,{idToken:d}).catch(()=>{});if(!g)break;f=await ic._fromGetAccountInfoResponse(e,g,d)}else f=ic._fromJSON(e,d);u!==s&&(o=f),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Zp(s,e,n):(s=l[0],o&&await s._set(a,o.toJSON()),await Promise.all(r.map(async u=>{if(u!==s)try{await u._remove(a)}catch{}})),new Zp(s,e,n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VV(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(EZ(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bZ(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(SZ(e))return"Blackberry";if(kZ(e))return"Webos";if(wZ(e))return"Safari";if((e.includes("chrome/")||_Z(e))&&!e.includes("edge/"))return"Chrome";if(TZ(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if((n==null?void 0:n.length)===2)return n[1]}return"Other"}function bZ(t=Oa()){return/firefox\//i.test(t)}function wZ(t=Oa()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function _Z(t=Oa()){return/crios\//i.test(t)}function EZ(t=Oa()){return/iemobile/i.test(t)}function TZ(t=Oa()){return/android/i.test(t)}function SZ(t=Oa()){return/blackberry/i.test(t)}function kZ(t=Oa()){return/webos/i.test(t)}function oP(t=Oa()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function A_e(t=Oa()){var e;return oP(t)&&!!((e=window.navigator)!=null&&e.standalone)}function C_e(){return Pye()&&document.documentMode===10}function AZ(t=Oa()){return oP(t)||TZ(t)||kZ(t)||SZ(t)||/windows phone/i.test(t)||EZ(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CZ(t,e=[]){let r;switch(t){case"Browser":r=VV(Oa());break;case"Worker":r=`${VV(Oa())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${mf}/${n}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N_e{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=s=>new Promise((a,o)=>{try{const l=e(s);a(l)}catch(l){o(l)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n==null?void 0:n.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function I_e(t,e={}){return fu(t,"GET","/v2/passwordPolicy",kd(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O_e=6;class R_e{constructor(e){var n;const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??O_e,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((n=e.allowedNonAlphanumericCharacters)==null?void 0:n.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P_e{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new UV(this),this.idTokenSubscription=new UV(this),this.beforeStateQueue=new N_e(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fZ,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Wu(r)),this._initializationPromise=this.queue(async()=>{var n,i,s;if(!this._deleted&&(this.persistenceManager=await Zp.create(this,e),(n=this._resolvePersistenceManagerAvailable)==null||n.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await dE(this,{idToken:e}),n=await ic._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(oo(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(o=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(o,o))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=(s=this.redirectUser)==null?void 0:s._redirectEventId,o=n==null?void 0:n._redirectEventId,l=await this.tryRedirectSignIn(e);(!a||a===o)&&(l!=null&&l.user)&&(n=l.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return Bt(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await hE(e)}catch(r){if((r==null?void 0:r.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=d_e()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(oo(this.app))return Promise.reject(td(this));const r=e?Pr(e):null;return r&&Bt(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&Bt(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return oo(this.app)?Promise.reject(td(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return oo(this.app)?Promise.reject(td(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Wu(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await I_e(this),r=new R_e(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Xx("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await k_e(this,n)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Wu(e)||this._popupRedirectResolver;Bt(r,this,"argument-error"),this.redirectPersistenceManager=await Zp.create(this,[Wu(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var r,n;return this._isInitialized&&await this.queue(async()=>{}),((r=this._currentUser)==null?void 0:r._redirectEventId)===e?this._currentUser:((n=this.redirectUser)==null?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var r;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((r=this.currentUser)==null?void 0:r.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const s=typeof r=="function"?r:r.next.bind(r);let a=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(Bt(o,this,"internal-error"),o.then(()=>{a||s(this.currentUser)}),typeof r=="function"){const l=e.addObserver(r,n,i);return()=>{a=!0,l()}}else{const l=e.addObserver(r);return()=>{a=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Bt(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CZ(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){var r;if(oo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((r=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:r.getToken());return e!=null&&e.error&&l_e(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vf(t){return Pr(t)}class UV{constructor(e){this.auth=e,this.observer=null,this.addObserver=Hye(r=>this.observer=r)}get next(){return Bt(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GS={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function j_e(t){GS=t}function NZ(t){return GS.loadJS(t)}function D_e(){return GS.recaptchaEnterpriseScript}function M_e(){return GS.gapiScript}function L_e(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class F_e{constructor(){this.enterprise=new B_e}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class B_e{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}const V_e="recaptcha-enterprise",IZ="NO_RECAPTCHA";class U_e{constructor(e){this.type=V_e,this.auth=vf(e)}async verify(e="verify",r=!1){async function n(s){if(!r){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(a,o)=>{y_e(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const u=new v_e(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,a(u.siteKey)}}).catch(l=>{o(l)})})}function i(s,a,o){const l=window.grecaptcha;MV(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:e}).then(u=>{a(u)}).catch(()=>{a(IZ)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new F_e().execute("siteKey",{action:"verify"}):new Promise((s,a)=>{n(this.auth).then(o=>{if(!r&&MV(window.grecaptcha))i(o,s,a);else{if(typeof window>"u"){a(new Error("RecaptchaVerifier is only supported in browser"));return}let l=D_e();l.length!==0&&(l+=o),NZ(l).then(()=>{i(o,s,a)}).catch(u=>{a(u)})}}).catch(o=>{a(o)})})}}async function zV(t,e,r,n=!1,i=!1){const s=new U_e(t);let a;if(i)a=IZ;else try{a=await s.verify(r)}catch{a=await s.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const l=o.phoneEnrollmentInfo.phoneNumber,u=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:u,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const l=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function fE(t,e,r,n,i){var s;if((s=t._getRecaptchaConfig())!=null&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await zV(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const o=await zV(t,e,r,r==="getOobCode");return n(t,o)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z_e(t,e){const r=Qx(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),s=r.getOptions();if(iu(s,e??{}))return i;yc(i,"already-initialized")}return r.initialize({options:e})}function $_e(t,e){const r=(e==null?void 0:e.persistence)||[],n=(Array.isArray(r)?r:[r]).map(Wu);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e==null?void 0:e.popupRedirectResolver)}function H_e(t,e,r){const n=vf(t);Bt(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!1,s=OZ(e),{host:a,port:o}=q_e(e),l=o===null?"":`:${o}`,u={url:`${s}//${a}${l}/`},d=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){Bt(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),Bt(iu(u,n.config.emulator)&&iu(d,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=u,n.emulatorConfig=d,n.settings.appVerificationDisabledForTesting=!0,Sd(a)?(gS(`${s}//${a}${l}`),vS("Auth",!0)):W_e()}function OZ(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function q_e(t){const e=OZ(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const s=i[1];return{host:s,port:$V(n.substr(s.length+1))}}else{const[s,a]=n.split(":");return{host:s,port:$V(a)}}}function $V(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function W_e(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lP{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return qu("not implemented")}_getIdTokenResponse(e){return qu("not implemented")}_linkToIdToken(e,r){return qu("not implemented")}_getReauthenticationResolver(e){return qu("not implemented")}}async function G_e(t,e){return fu(t,"POST","/v1/accounts:update",e)}async function K_e(t,e){return fu(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Y_e(t,e){return ab(t,"POST","/v1/accounts:signInWithPassword",kd(t,e))}async function X_e(t,e){return fu(t,"POST","/v1/accounts:sendOobCode",kd(t,e))}async function Q_e(t,e){return X_e(t,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function J_e(t,e){return ab(t,"POST","/v1/accounts:signInWithEmailLink",kd(t,e))}async function Z_e(t,e){return ab(t,"POST","/v1/accounts:signInWithEmailLink",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X1 extends lP{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new X1(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new X1(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r!=null&&r.email&&(r!=null&&r.password)){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fE(e,r,"signInWithPassword",Y_e);case"emailLink":return J_e(e,{email:this._email,oobCode:this._password});default:yc(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return fE(e,n,"signUpPassword",K_e);case"emailLink":return Z_e(e,{idToken:r,email:this._email,oobCode:this._password});default:yc(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function eg(t,e){return ab(t,"POST","/v1/accounts:signInWithIdp",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e2e="http://localhost";class H0 extends lP{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new H0(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):yc("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...s}=r;if(!n||!i)return null;const a=new H0(n,i);return a.idToken=s.idToken||void 0,a.accessToken=s.accessToken||void 0,a.secret=s.secret,a.nonce=s.nonce,a.pendingToken=s.pendingToken||null,a}_getIdTokenResponse(e){const r=this.buildRequest();return eg(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,eg(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,eg(e,r)}buildRequest(){const e={requestUri:e2e,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=ov(r)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t2e(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function r2e(t){const e=Ky(Yy(t)).link,r=e?Ky(Yy(e)).deep_link_id:null,n=Ky(Yy(t)).deep_link_id;return(n?Ky(Yy(n)).link:null)||n||r||e||t}class cP{constructor(e){const r=Ky(Yy(e)),n=r.apiKey??null,i=r.oobCode??null,s=t2e(r.mode??null);Bt(n&&i&&s,"argument-error"),this.apiKey=n,this.operation=s,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=r2e(e);try{return new cP(r)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm{constructor(){this.providerId=xm.PROVIDER_ID}static credential(e,r){return X1._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=cP.parseLink(r);return Bt(n,"argument-error"),X1._fromEmailAndCode(e,n.code,n.tenantId)}}xm.PROVIDER_ID="password";xm.EMAIL_PASSWORD_SIGN_IN_METHOD="password";xm.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RZ{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob extends RZ{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bh extends ob{constructor(){super("facebook.com")}static credential(e){return H0._fromParams({providerId:bh.PROVIDER_ID,signInMethod:bh.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bh.credentialFromTaggedObject(e)}static credentialFromError(e){return bh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bh.credential(e.oauthAccessToken)}catch{return null}}}bh.FACEBOOK_SIGN_IN_METHOD="facebook.com";bh.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wh extends ob{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return H0._fromParams({providerId:wh.PROVIDER_ID,signInMethod:wh.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return wh.credentialFromTaggedObject(e)}static credentialFromError(e){return wh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return wh.credential(r,n)}catch{return null}}}wh.GOOGLE_SIGN_IN_METHOD="google.com";wh.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _h extends ob{constructor(){super("github.com")}static credential(e){return H0._fromParams({providerId:_h.PROVIDER_ID,signInMethod:_h.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return _h.credentialFromTaggedObject(e)}static credentialFromError(e){return _h.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return _h.credential(e.oauthAccessToken)}catch{return null}}}_h.GITHUB_SIGN_IN_METHOD="github.com";_h.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eh extends ob{constructor(){super("twitter.com")}static credential(e,r){return H0._fromParams({providerId:Eh.PROVIDER_ID,signInMethod:Eh.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return Eh.credentialFromTaggedObject(e)}static credentialFromError(e){return Eh.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return Eh.credential(r,n)}catch{return null}}}Eh.TWITTER_SIGN_IN_METHOD="twitter.com";Eh.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function n2e(t,e){return ab(t,"POST","/v1/accounts:signUp",kd(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q0{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const s=await ic._fromIdTokenResponse(e,n,i),a=HV(n);return new q0({user:s,providerId:a,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=HV(n);return new q0({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function HV(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE extends du{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,mE.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new mE(e,r,n,i)}}function PZ(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?mE._fromErrorAndOperation(t,s,e,n):s})}async function i2e(t,e,r=!1){const n=await Rg(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return q0._forOperation(t,"link",n)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jZ(t,e,r=!1){const{auth:n}=t;if(oo(n.app))return Promise.reject(td(n));const i="reauthenticate";try{const s=await Rg(t,PZ(n,i,e,t),r);Bt(s.idToken,n,"internal-error");const a=aP(s.idToken);Bt(a,n,"internal-error");const{sub:o}=a;return Bt(t.uid===o,n,"user-mismatch"),q0._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&yc(n,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function DZ(t,e,r=!1){if(oo(t.app))return Promise.reject(td(t));const n="signIn",i=await PZ(t,n,e),s=await q0._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(s.user),s}async function s2e(t,e){return DZ(vf(t),e)}async function a2e(t,e){return jZ(Pr(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function MZ(t){const e=vf(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function o2e(t,e,r){const n=vf(t);await fE(n,{requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"},"getOobCode",Q_e)}async function uP(t,e,r){if(oo(t.app))return Promise.reject(td(t));const n=vf(t),a=await fE(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",n2e).catch(l=>{throw l.code==="auth/password-does-not-meet-requirements"&&MZ(t),l}),o=await q0._fromIdTokenResponse(n,"signIn",a);return await n._updateCurrentUser(o.user),o}function kI(t,e,r){return oo(t.app)?Promise.reject(td(t)):s2e(Pr(t),xm.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&MZ(t),n})}function l2e(t,e){return c2e(Pr(t),null,e)}async function c2e(t,e,r){const{auth:n}=t,s={idToken:await t.getIdToken(),returnSecureToken:!0};r&&(s.password=r);const a=await Rg(t,G_e(n,s));await t._updateTokensIfNecessary(a,!0)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O2(t,e){return Pr(t).setPersistence(e)}function u2e(t,e,r,n){return Pr(t).onIdTokenChanged(e,r,n)}function d2e(t,e,r){return Pr(t).beforeAuthStateChanged(e,r)}function LZ(t,e,r,n){return Pr(t).onAuthStateChanged(e,r,n)}function FZ(t){return Pr(t).signOut()}const pE="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(pE,"1"),this.storage.removeItem(pE),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h2e=1e3,f2e=10;class VZ extends BZ{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=AZ(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((a,o,l)=>{this.notifyListeners(a,l)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const a=this.storage.getItem(n);!r&&this.localCache[n]===a||this.notifyListeners(n,a)},s=this.storage.getItem(n);C_e()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,f2e):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},h2e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}VZ.type="LOCAL";const gE=VZ;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ extends BZ{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}UZ.type="SESSION";const dP=UZ;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function m2e(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KS{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new KS(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:s}=r.data,a=this.handlersMap[i];if(!(a!=null&&a.size))return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(a).map(async u=>u(r.origin,s)),l=await m2e(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:l})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}KS.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hP(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p2e{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,a;return new Promise((o,l)=>{const u=hP("",20);i.port1.start();const d=setTimeout(()=>{l(new Error("unsupported_event"))},n);a={messageChannel:i,onMessage(f){const g=f;if(g.data.eventId===u)switch(g.data.status){case"ack":clearTimeout(d),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),o(g.data.response);break;default:clearTimeout(d),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(a),i.port1.addEventListener("message",a.onMessage),this.target.postMessage({eventType:e,eventId:u,data:r},[i.port2])}).finally(()=>{a&&this.removeMessageHandler(a)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ru(){return window}function g2e(t){ru().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zZ(){return typeof ru().WorkerGlobalScope<"u"&&typeof ru().importScripts=="function"}async function v2e(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y2e(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function x2e(){return zZ()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $Z="firebaseLocalStorageDb",b2e=1,vE="firebaseLocalStorage",HZ="fbase_key";class lb{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function YS(t,e){return t.transaction([vE],e?"readwrite":"readonly").objectStore(vE)}function w2e(){const t=indexedDB.deleteDatabase($Z);return new lb(t).toPromise()}function AI(){const t=indexedDB.open($Z,b2e);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(vE,{keyPath:HZ})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(vE)?e(n):(n.close(),await w2e(),e(await AI()))})})}async function qV(t,e,r){const n=YS(t,!0).put({[HZ]:e,value:r});return new lb(n).toPromise()}async function _2e(t,e){const r=YS(t,!1).get(e),n=await new lb(r).toPromise();return n===void 0?null:n.value}function WV(t,e){const r=YS(t,!0).delete(e);return new lb(r).toPromise()}const E2e=800,T2e=3;class qZ{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AI(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>T2e)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return zZ()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=KS._getInstance(x2e()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){var r,n;if(this.activeServiceWorker=await v2e(),!this.activeServiceWorker)return;this.sender=new p2e(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(r=e[0])!=null&&r.fulfilled&&(n=e[0])!=null&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y2e()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await AI();return await qV(e,pE,"1"),await WV(e,pE),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>qV(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>_2e(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>WV(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=YS(i,!1).getAll();return new lb(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),E2e)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}qZ.type="LOCAL";const S2e=qZ;new sb(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k2e(t,e){return e?Wu(e):(Bt(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fP extends lP{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return eg(e,this._buildIdpRequest())}_linkToIdToken(e,r){return eg(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return eg(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function A2e(t){return DZ(t.auth,new fP(t),t.bypassAuthState)}function C2e(t){const{auth:e,user:r}=t;return Bt(r,e,"internal-error"),jZ(r,new fP(t),t.bypassAuthState)}async function N2e(t){const{auth:e,user:r}=t;return Bt(r,e,"internal-error"),i2e(r,new fP(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WZ{constructor(e,r,n,i,s=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:s,error:a,type:o}=e;if(a){this.reject(a);return}const l={auth:this.auth,requestUri:r,sessionId:n,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(l))}catch(u){this.reject(u)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return A2e;case"linkViaPopup":case"linkViaRedirect":return N2e;case"reauthViaPopup":case"reauthViaRedirect":return C2e;default:yc(this.auth,"internal-error")}}resolve(e){pd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){pd(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I2e=new sb(2e3,1e4);class zp extends WZ{constructor(e,r,n,i,s){super(e,r,i,s),this.provider=n,this.authWindow=null,this.pollId=null,zp.currentPopupAction&&zp.currentPopupAction.cancel(),zp.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Bt(e,this.auth,"internal-error"),e}async onExecution(){pd(this.filter.length===1,"Popup operations only handle one event");const e=hP();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(tu(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(tu(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,zp.currentPopupAction=null}pollUserCancellation(){const e=()=>{var r,n;if((n=(r=this.authWindow)==null?void 0:r.window)!=null&&n.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(tu(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,I2e.get())};e()}}zp.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O2e="pendingRedirect",R2=new Map;class R2e extends WZ{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=R2.get(this.auth._key());if(!e){try{const n=await P2e(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}R2.set(this.auth._key(),e)}return this.bypassAuthState||R2.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function P2e(t,e){const r=M2e(e),n=D2e(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}function j2e(t,e){R2.set(t._key(),e)}function D2e(t){return Wu(t._redirectPersistence)}function M2e(t){return I2(O2e,t.config.apiKey,t.name)}async function L2e(t,e,r=!1){if(oo(t.app))return Promise.reject(td(t));const n=vf(t),i=k2e(n,e),a=await new R2e(n,i,r).execute();return a&&!r&&(delete a.user._redirectEventId,await n._persistUserIfCurrent(a.user),await n._setRedirectUser(null,e)),a}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F2e=600*1e3;class B2e{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!V2e(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){var n;if(e.error&&!GZ(e)){const i=((n=e.error.code)==null?void 0:n.split("auth/")[1])||"internal-error";r.onError(tu(this.auth,i))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F2e&&this.cachedEventUids.clear(),this.cachedEventUids.has(GV(e))}saveEventToCache(e){this.cachedEventUids.add(GV(e)),this.lastProcessedEventTime=Date.now()}}function GV(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function GZ({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function V2e(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return GZ(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U2e(t,e={}){return fu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z2e=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,$2e=/^https?/;async function H2e(t){if(t.config.emulator)return;const{authorizedDomains:e}=await U2e(t);for(const r of e)try{if(q2e(r))return}catch{}yc(t,"unauthorized-domain")}function q2e(t){const e=TI(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const a=new URL(t);return a.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&a.hostname===n}if(!$2e.test(r))return!1;if(z2e.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W2e=new sb(3e4,6e4);function KV(){const t=ru().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function G2e(t){return new Promise((e,r)=>{var i,s,a;function n(){KV(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{KV(),r(tu(t,"network-request-failed"))},timeout:W2e.get()})}if((s=(i=ru().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((a=ru().gapi)!=null&&a.load)n();else{const o=L_e("iframefcb");return ru()[o]=()=>{gapi.load?n():r(tu(t,"network-request-failed"))},NZ(`${M_e()}?onload=${o}`).catch(l=>r(l))}}).catch(e=>{throw P2=null,e})}let P2=null;function K2e(t){return P2=P2||G2e(t),P2}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Y2e=new sb(5e3,15e3),X2e="__/auth/iframe",Q2e="emulator/auth/iframe",J2e={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z2e=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eEe(t){const e=t.config;Bt(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?sP(e,Q2e):`https://${t.config.authDomain}/${X2e}`,n={apiKey:e.apiKey,appName:t.name,v:mf},i=Z2e.get(t.config.apiHost);i&&(n.eid=i);const s=t._getFrameworks();return s.length&&(n.fw=s.join(",")),`${r}?${ov(n).slice(1)}`}async function tEe(t){const e=await K2e(t),r=ru().gapi;return Bt(r,t,"internal-error"),e.open({where:document.body,url:eEe(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:J2e,dontclear:!0},n=>new Promise(async(i,s)=>{await n.restyle({setHideOnLeave:!1});const a=tu(t,"network-request-failed"),o=ru().setTimeout(()=>{s(a)},Y2e.get());function l(){ru().clearTimeout(o),i(n)}n.ping(l).then(l,()=>{s(a)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rEe={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},nEe=500,iEe=600,sEe="_blank",aEe="http://localhost";class YV{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function oEe(t,e,r,n=nEe,i=iEe){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const l={...rEe,width:n.toString(),height:i.toString(),top:s,left:a},u=Oa().toLowerCase();r&&(o=_Z(u)?sEe:r),bZ(u)&&(e=e||aEe,l.scrollbars="yes");const d=Object.entries(l).reduce((g,[v,x])=>`${g}${v}=${x},`,"");if(A_e(u)&&o!=="_self")return lEe(e||"",o),new YV(null);const f=window.open(e||"",o,d);Bt(f,t,"popup-blocked");try{f.focus()}catch{}return new YV(f)}function lEe(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cEe="__/auth/handler",uEe="emulator/auth/handler",dEe=encodeURIComponent("fac");async function XV(t,e,r,n,i,s){Bt(t.config.authDomain,t,"auth-domain-config-required"),Bt(t.config.apiKey,t,"invalid-api-key");const a={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:mf,eventId:i};if(e instanceof RZ){e.setDefaultLanguage(t.languageCode),a.providerId=e.providerId||"",X2(e.getCustomParameters())||(a.customParameters=JSON.stringify(e.getCustomParameters()));for(const[d,f]of Object.entries({}))a[d]=f}if(e instanceof ob){const d=e.getScopes().filter(f=>f!=="");d.length>0&&(a.scopes=d.join(","))}t.tenantId&&(a.tid=t.tenantId);const o=a;for(const d of Object.keys(o))o[d]===void 0&&delete o[d];const l=await t._getAppCheckToken(),u=l?`#${dEe}=${encodeURIComponent(l)}`:"";return`${hEe(t)}?${ov(o).slice(1)}${u}`}function hEe({config:t}){return t.emulator?sP(t,uEe):`https://${t.authDomain}/${cEe}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC="webStorageSupport";class fEe{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dP,this._completeRedirectFn=L2e,this._overrideRedirectResult=j2e}async _openPopup(e,r,n,i){var a;pd((a=this.eventManagers[e._key()])==null?void 0:a.manager,"_initialize() not called before _openPopup()");const s=await XV(e,r,n,TI(),i);return oEe(e,s,hP())}async _openRedirect(e,r,n,i){await this._originValidation(e);const s=await XV(e,r,n,TI(),i);return g2e(s),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:s}=this.eventManagers[r];return i?Promise.resolve(i):(pd(s,"If manager is not set, promise should be"),s)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await tEe(e),n=new B2e(e);return r.register("authEvent",i=>(Bt(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(JC,{type:JC},i=>{var a;const s=(a=i==null?void 0:i[0])==null?void 0:a[JC];s!==void 0&&r(!!s),yc(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=H2e(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return AZ()||wZ()||oP()}}const mEe=fEe;var QV="@firebase/auth",JV="1.11.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pEe{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e((n==null?void 0:n.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){Bt(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gEe(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function vEe(t){Wh(new dd("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=n.options;Bt(a&&!a.includes(":"),"invalid-api-key",{appName:n.name});const l={apiKey:a,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CZ(t)},u=new P_e(n,i,s,l);return $_e(u,r),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Wh(new dd("auth-internal",e=>{const r=vf(e.getProvider("auth").getImmediate());return(n=>new pEe(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Nl(QV,JV,gEe(t)),Nl(QV,JV,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yEe=300,xEe=EQ("authIdTokenMaxAge")||yEe;let ZV=null;const bEe=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>xEe)return;const i=r==null?void 0:r.token;ZV!==i&&(ZV=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function mP(t=hm()){const e=Qx(t,"auth");if(e.isInitialized())return e.getImmediate();const r=z_e(t,{popupRedirectResolver:mEe,persistence:[S2e,gE,dP]}),n=EQ("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(n,location.origin);if(location.origin===s.origin){const a=bEe(s.toString());d2e(r,a,()=>a(r.currentUser)),u2e(r,o=>a(o))}}const i=wQ("auth");return i&&H_e(r,`http://${i}`),r}function wEe(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}j_e({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const s=tu("internal-error");s.customData=i,r(s)},n.type="text/javascript",n.charset="UTF-8",wEe().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});vEe("Browser");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KZ="firebasestorage.googleapis.com",_Ee="storageBucket",EEe=120*1e3,TEe=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yf=class YZ extends du{constructor(e,r,n=0){super(ZC(e),`Firebase Storage: ${r} (${ZC(e)})`),this.status_=n,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,YZ.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return ZC(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}};var au;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(au||(au={}));function ZC(t){return"storage/"+t}function SEe(){const t="An unknown error occurred, please check the error payload for server response.";return new yf(au.UNKNOWN,t)}function kEe(){return new yf(au.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function AEe(){return new yf(au.CANCELED,"User canceled the upload/download.")}function CEe(t){return new yf(au.INVALID_URL,"Invalid URL '"+t+"'.")}function NEe(t){return new yf(au.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function eU(t){return new yf(au.INVALID_ARGUMENT,t)}function XZ(){return new yf(au.APP_DELETED,"The Firebase app was deleted.")}function IEe(t){return new yf(au.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sc{constructor(e,r){this.bucket=e,this.path_=r}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,r){let n;try{n=sc.makeFromUrl(e,r)}catch{return new sc(e,"")}if(n.path==="")return n;throw NEe(e)}static makeFromUrl(e,r){let n=null;const i="([A-Za-z0-9.\\-_]+)";function s(O){O.path.charAt(O.path.length-1)==="/"&&(O.path_=O.path_.slice(0,-1))}const a="(/(.*))?$",o=new RegExp("^gs://"+i+a,"i"),l={bucket:1,path:3};function u(O){O.path_=decodeURIComponent(O.path)}const d="v[A-Za-z0-9_]+",f=r.replace(/[.]/g,"\\."),g="(/([^?#]*).*)?$",v=new RegExp(`^https?://${f}/${d}/b/${i}/o${g}`,"i"),x={bucket:1,path:3},b=r===KZ?"(?:storage.googleapis.com|storage.cloud.google.com)":r,w="([^?#]*)",E=new RegExp(`^https?://${b}/${i}/${w}`,"i"),A=[{regex:o,indices:l,postModify:s},{regex:v,indices:x,postModify:u},{regex:E,indices:{bucket:1,path:2},postModify:u}];for(let O=0;O<A.length;O++){const P=A[O],j=P.regex.exec(e);if(j){const S=j[P.indices.bucket];let I=j[P.indices.path];I||(I=""),n=new sc(S,I),P.postModify(n);break}}if(n==null)throw CEe(e);return n}}class OEe{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function REe(t,e,r){let n=1,i=null,s=null,a=!1,o=0;function l(){return o===2}let u=!1;function d(...w){u||(u=!0,e.apply(null,w))}function f(w){i=setTimeout(()=>{i=null,t(v,l())},w)}function g(){s&&clearTimeout(s)}function v(w,...E){if(u){g();return}if(w){g(),d.call(null,w,...E);return}if(l()||a){g(),d.call(null,w,...E);return}n<64&&(n*=2);let A;o===1?(o=2,A=0):A=(n+Math.random())*1e3,f(A)}let x=!1;function b(w){x||(x=!0,g(),!u&&(i!==null?(w||(o=2),clearTimeout(i),f(0)):w||(o=1)))}return f(0),s=setTimeout(()=>{a=!0,b(!0)},r),b}function PEe(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jEe(t){return t!==void 0}function tU(t,e,r,n){if(n<e)throw eU(`Invalid value for '${t}'. Expected ${e} or greater.`);if(n>r)throw eU(`Invalid value for '${t}'. Expected ${r} or less.`)}function DEe(t){const e=encodeURIComponent;let r="?";for(const n in t)if(t.hasOwnProperty(n)){const i=e(n)+"="+e(t[n]);r=r+i+"&"}return r=r.slice(0,-1),r}var yE;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(yE||(yE={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function MEe(t,e){const r=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return r||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LEe{constructor(e,r,n,i,s,a,o,l,u,d,f,g=!0,v=!1){this.url_=e,this.method_=r,this.headers_=n,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=a,this.callback_=o,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=d,this.connectionFactory_=f,this.retry=g,this.isUsingEmulator=v,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,b)=>{this.resolve_=x,this.reject_=b,this.start_()})}start_(){const e=(n,i)=>{if(i){n(!1,new S_(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const a=o=>{const l=o.loaded,u=o.lengthComputable?o.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(a),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(a),this.pendingConnection_=null;const o=s.getErrorCode()===yE.NO_ERROR,l=s.getStatus();if(!o||MEe(l,this.additionalRetryCodes_)&&this.retry){const d=s.getErrorCode()===yE.ABORT;n(!1,new S_(!1,null,d));return}const u=this.successCodes_.indexOf(l)!==-1;n(!0,new S_(u,s))})},r=(n,i)=>{const s=this.resolve_,a=this.reject_,o=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(o,o.getResponse());jEe(l)?s(l):s()}catch(l){a(l)}else if(o!==null){const l=SEe();l.serverResponse=o.getErrorText(),this.errorCallback_?a(this.errorCallback_(o,l)):a(l)}else if(i.canceled){const l=this.appDelete_?XZ():AEe();a(l)}else{const l=kEe();a(l)}};this.canceled_?r(!1,new S_(!1,null,!0)):this.backoffId_=REe(e,r,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&PEe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class S_{constructor(e,r,n){this.wasSuccessCode=e,this.connection=r,this.canceled=!!n}}function FEe(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function BEe(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function VEe(t,e){e&&(t["X-Firebase-GMPID"]=e)}function UEe(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function zEe(t,e,r,n,i,s,a=!0,o=!1){const l=DEe(t.urlParams),u=t.url+l,d=Object.assign({},t.headers);return VEe(d,e),FEe(d,r),BEe(d,s),UEe(d,n),new LEe(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,a,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $Ee(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function HEe(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xE{constructor(e,r){this._service=e,r instanceof sc?this._location=r:this._location=sc.makeFromUrl(r,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,r){return new xE(e,r)}get root(){const e=new sc(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return HEe(this._location.path)}get storage(){return this._service}get parent(){const e=$Ee(this._location.path);if(e===null)return null;const r=new sc(this._location.bucket,e);return new xE(this._service,r)}_throwIfRoot(e){if(this._location.path==="")throw IEe(e)}}function rU(t,e){const r=e==null?void 0:e[_Ee];return r==null?null:sc.makeFromBucketSpec(r,t)}function qEe(t,e,r,n={}){t.host=`${e}:${r}`;const i=Sd(e);i&&(gS(`https://${t.host}/b`),vS("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=n;s&&(t._overrideAuthToken=typeof s=="string"?s:pR(s,t.app.options.projectId))}class WEe{constructor(e,r,n,i,s,a=!1){this.app=e,this._authProvider=r,this._appCheckProvider=n,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=a,this._bucket=null,this._host=KZ,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=EEe,this._maxUploadRetryTime=TEe,this._requests=new Set,i!=null?this._bucket=sc.makeFromBucketSpec(i,this._host):this._bucket=rU(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=sc.makeFromBucketSpec(this._url,e):this._bucket=rU(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){tU("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){tU("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const r=await e.getToken();if(r!==null)return r.accessToken}return null}async _getAppCheckToken(){if(oo(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new xE(this,e)}_makeRequest(e,r,n,i,s=!0){if(this._deleted)return new OEe(XZ());{const a=zEe(e,this._appId,n,i,r,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(a),a.getPromise().then(()=>this._requests.delete(a),()=>this._requests.delete(a)),a}}async makeRequestWithTokens(e,r){const[n,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,r,n,i).getPromise()}}const nU="@firebase/storage",iU="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const QZ="storage";function GEe(t=hm(),e){t=Pr(t);const n=Qx(t,QZ).getImmediate({identifier:e}),i=mR("storage");return i&&KEe(n,...i),n}function KEe(t,e,r,n={}){qEe(t,e,r,n)}function YEe(t,{instanceIdentifier:e}){const r=t.getProvider("app").getImmediate(),n=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new WEe(r,n,i,e,mf)}function XEe(){Wh(new dd(QZ,YEe,"PUBLIC").setMultipleInstances(!0)),Nl(nU,iU,""),Nl(nU,iU,"esm2020")}XEe();var sU={};const aU="@firebase/database",oU="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let JZ="";function QEe(t){JZ=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JEe{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,r){r==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),Ms(r))}get(e){const r=this.domStorage_.getItem(this.prefixedName_(e));return r==null?null:U1(r)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZEe{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,r){r==null?delete this.cache_[e]:this.cache_[e]=r}get(e){return hu(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZZ=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new JEe(e)}}catch{}return new ZEe},g0=ZZ("localStorage"),eTe=ZZ("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tg=new xS("@firebase/database"),tTe=(function(){let t=1;return function(){return t++}})(),eee=function(t){const e=Gye(t),r=new $ye;r.update(e);const n=r.digest();return fR.encodeByteArray(n)},cb=function(...t){let e="";for(let r=0;r<t.length;r++){const n=t[r];Array.isArray(n)||n&&typeof n=="object"&&typeof n.length=="number"?e+=cb.apply(null,n):typeof n=="object"?e+=Ms(n):e+=n,e+=" "}return e};let p1=null,lU=!0;const rTe=function(t,e){st(!0,"Can't turn on custom loggers persistently."),tg.logLevel=mr.VERBOSE,p1=tg.log.bind(tg)},Ds=function(...t){if(lU===!0&&(lU=!1,p1===null&&eTe.get("logging_enabled")===!0&&rTe()),p1){const e=cb.apply(null,t);p1(e)}},ub=function(t){return function(...e){Ds(t,...e)}},CI=function(...t){const e="FIREBASE INTERNAL ERROR: "+cb(...t);tg.error(e)},gd=function(...t){const e=`FIREBASE FATAL ERROR: ${cb(...t)}`;throw tg.error(e),new Error(e)},Ha=function(...t){const e="FIREBASE WARNING: "+cb(...t);tg.warn(e)},nTe=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ha("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},XS=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},iTe=function(t){if(document.readyState==="complete")t();else{let e=!1;const r=function(){if(!document.body){setTimeout(r,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",r,!1),window.addEventListener("load",r,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&r()}),window.attachEvent("onload",r))}},Pg="[MIN_NAME]",W0="[MAX_NAME]",bm=function(t,e){if(t===e)return 0;if(t===Pg||e===W0)return-1;if(e===Pg||t===W0)return 1;{const r=cU(t),n=cU(e);return r!==null?n!==null?r-n===0?t.length-e.length:r-n:-1:n!==null?1:t<e?-1:1}},sTe=function(t,e){return t===e?0:t<e?-1:1},Py=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+Ms(e))},pP=function(t){if(typeof t!="object"||t===null)return Ms(t);const e=[];for(const n in t)e.push(n);e.sort();let r="{";for(let n=0;n<e.length;n++)n!==0&&(r+=","),r+=Ms(e[n]),r+=":",r+=pP(t[e[n]]);return r+="}",r},tee=function(t,e){const r=t.length;if(r<=e)return[t];const n=[];for(let i=0;i<r;i+=e)i+e>r?n.push(t.substring(i,r)):n.push(t.substring(i,i+e));return n};function zs(t,e){for(const r in t)t.hasOwnProperty(r)&&e(r,t[r])}const ree=function(t){st(!XS(t),"Invalid JSON number");const e=11,r=52,n=(1<<e-1)-1;let i,s,a,o,l;t===0?(s=0,a=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-n)?(o=Math.min(Math.floor(Math.log(t)/Math.LN2),n),s=o+n,a=Math.round(t*Math.pow(2,r-o)-Math.pow(2,r))):(s=0,a=Math.round(t/Math.pow(2,1-n-r))));const u=[];for(l=r;l;l-=1)u.push(a%2?1:0),a=Math.floor(a/2);for(l=e;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const d=u.join("");let f="";for(l=0;l<64;l+=8){let g=parseInt(d.substr(l,8),2).toString(16);g.length===1&&(g="0"+g),f=f+g}return f.toLowerCase()},aTe=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},oTe=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function lTe(t,e){let r="Unknown Error";t==="too_big"?r="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?r="Client doesn't have permission to access the desired data.":t==="unavailable"&&(r="The service is unavailable");const n=new Error(t+" at "+e._path.toString()+": "+r);return n.code=t.toUpperCase(),n}const cTe=new RegExp("^-?(0*)\\d{1,10}$"),uTe=-2147483648,dTe=2147483647,cU=function(t){if(cTe.test(t)){const e=Number(t);if(e>=uTe&&e<=dTe)return e}return null},gv=function(t){try{t()}catch(e){setTimeout(()=>{const r=e.stack||"";throw Ha("Exception was thrown by user callback.",r),e},Math.floor(0))}},hTe=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},g1=function(t,e){const r=setTimeout(t,e);return typeof r=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(r):typeof r=="object"&&r.unref&&r.unref(),r};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fTe{constructor(e,r){this.appCheckProvider=r,this.appName=e.name,oo(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=r==null?void 0:r.getImmediate({optional:!0}),this.appCheck||r==null||r.get().then(n=>this.appCheck=n)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((r,n)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){var r;(r=this.appCheckProvider)==null||r.get().then(n=>n.addTokenListener(e))}notifyForInvalidToken(){Ha(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mTe{constructor(e,r,n){this.appName_=e,this.firebaseOptions_=r,this.authProvider_=n,this.auth_=null,this.auth_=n.getImmediate({optional:!0}),this.auth_||n.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(r=>r&&r.code==="auth/token-not-initialized"?(Ds("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(r)):new Promise((r,n)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(r,n):r(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(r=>r.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(r=>r.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ha(e)}}class j2{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}j2.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gP="5",nee="v",iee="s",see="r",aee="f",oee=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,lee="ls",cee="p",NI="ac",uee="websocket",dee="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hee{constructor(e,r,n,i,s=!1,a="",o=!1,l=!1,u=null){this.secure=r,this.namespace=n,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=a,this.includeNamespaceInQueryParams=o,this.isUsingEmulator=l,this.emulatorOptions=u,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=g0.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&g0.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",r=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${r}`}}function pTe(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function fee(t,e,r){st(typeof e=="string","typeof type must == string"),st(typeof r=="object","typeof params must == object");let n;if(e===uee)n=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===dee)n=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);pTe(t)&&(r.ns=t.namespace);const i=[];return zs(r,(s,a)=>{i.push(s+"="+a)}),n+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gTe{constructor(){this.counters_={}}incrementCounter(e,r=1){hu(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=r}get(){return _ye(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const e3={},t3={};function vP(t){const e=t.toString();return e3[e]||(e3[e]=new gTe),e3[e]}function vTe(t,e){const r=t.toString();return t3[r]||(t3[r]=e()),t3[r]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yTe{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,r){this.closeAfterResponse=e,this.onClose=r,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,r){for(this.pendingResponses[e]=r;this.pendingResponses[this.currentResponseNum];){const n=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<n.length;++i)n[i]&&gv(()=>{this.onMessage_(n[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uU="start",xTe="close",bTe="pLPCommand",wTe="pRTLPCB",mee="id",pee="pw",gee="ser",_Te="cb",ETe="seg",TTe="ts",STe="d",kTe="dframe",vee=1870,yee=30,ATe=vee-yee,CTe=25e3,NTe=3e4;class $p{constructor(e,r,n,i,s,a,o){this.connId=e,this.repoInfo=r,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.transportSessionId=a,this.lastSessionId=o,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=ub(e),this.stats_=vP(r),this.urlFn=l=>(this.appCheckToken&&(l[NI]=this.appCheckToken),fee(r,dee,l))}open(e,r){this.curSegmentNum=0,this.onDisconnect_=r,this.myPacketOrderer=new yTe(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(NTe)),iTe(()=>{if(this.isClosed_)return;this.scriptTagHolder=new yP((...s)=>{const[a,o,l,u,d]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,a===uU)this.id=o,this.password=l;else if(a===xTe)o?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(o,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+a)},(...s)=>{const[a,o]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(a,o)},()=>{this.onClosed_()},this.urlFn);const n={};n[uU]="t",n[gee]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(n[_Te]=this.scriptTagHolder.uniqueCallbackIdentifier),n[nee]=gP,this.transportSessionId&&(n[iee]=this.transportSessionId),this.lastSessionId&&(n[lee]=this.lastSessionId),this.applicationId&&(n[cee]=this.applicationId),this.appCheckToken&&(n[NI]=this.appCheckToken),typeof location<"u"&&location.hostname&&oee.test(location.hostname)&&(n[see]=aee);const i=this.urlFn(n);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){$p.forceAllow_=!0}static forceDisallow(){$p.forceDisallow_=!0}static isAvailable(){return $p.forceAllow_?!0:!$p.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!aTe()&&!oTe()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const r=Ms(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=xQ(r),i=tee(n,ATe);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,r){this.myDisconnFrame=document.createElement("iframe");const n={};n[kTe]="t",n[mee]=e,n[pee]=r,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const r=Ms(e).length;this.bytesReceived+=r,this.stats_.incrementCounter("bytes_received",r)}}class yP{constructor(e,r,n,i){this.onDisconnect=n,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=tTe(),window[bTe+this.uniqueCallbackIdentifier]=e,window[wTe+this.uniqueCallbackIdentifier]=r,this.myIFrame=yP.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const a="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(o){Ds("frame writing exception"),o.stack&&Ds(o.stack),Ds(o)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||Ds("No IE domain setting required")}catch{const n=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,r){for(this.myID=e,this.myPW=r,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[mee]=this.myID,e[pee]=this.myPW,e[gee]=this.currentSerial;let r=this.urlFn(e),n="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+yee+n.length<=vee;){const a=this.pendingSegs.shift();n=n+"&"+ETe+i+"="+a.seg+"&"+TTe+i+"="+a.ts+"&"+STe+i+"="+a.d,i++}return r=r+n,this.addLongPollTag_(r,this.currentSerial),!0}else return!1}enqueueSegment(e,r,n){this.pendingSegs.push({seg:e,ts:r,d:n}),this.alive&&this.newRequest_()}addLongPollTag_(e,r){this.outstandingRequests.add(r);const n=()=>{this.outstandingRequests.delete(r),this.newRequest_()},i=setTimeout(n,Math.floor(CTe)),s=()=>{clearTimeout(i),n()};this.addTag(e,s)}addTag(e,r){setTimeout(()=>{try{if(!this.sendNewPolls)return;const n=this.myIFrame.doc.createElement("script");n.type="text/javascript",n.async=!0,n.src=e,n.onload=n.onreadystatechange=function(){const i=n.readyState;(!i||i==="loaded"||i==="complete")&&(n.onload=n.onreadystatechange=null,n.parentNode&&n.parentNode.removeChild(n),r())},n.onerror=()=>{Ds("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(n)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ITe=16384,OTe=45e3;let bE=null;typeof MozWebSocket<"u"?bE=MozWebSocket:typeof WebSocket<"u"&&(bE=WebSocket);class ec{constructor(e,r,n,i,s,a,o){this.connId=e,this.applicationId=n,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=ub(this.connId),this.stats_=vP(r),this.connURL=ec.connectionURL_(r,a,o,i,n),this.nodeAdmin=r.nodeAdmin}static connectionURL_(e,r,n,i,s){const a={};return a[nee]=gP,typeof location<"u"&&location.hostname&&oee.test(location.hostname)&&(a[see]=aee),r&&(a[iee]=r),n&&(a[lee]=n),i&&(a[NI]=i),s&&(a[cee]=s),fee(e,uee,a)}open(e,r){this.onDisconnect=r,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,g0.set("previous_websocket_failure",!0);try{let n;jye(),this.mySock=new bE(this.connURL,[],n)}catch(n){this.log_("Error instantiating WebSocket.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=n=>{this.handleIncomingFrame(n)},this.mySock.onerror=n=>{this.log_("WebSocket error.  Closing connection.");const i=n.message||n.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){ec.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const r=/Android ([0-9]{0,}\.[0-9]{0,})/,n=navigator.userAgent.match(r);n&&n.length>1&&parseFloat(n[1])<4.4&&(e=!0)}return!e&&bE!==null&&!ec.forceDisallow_}static previouslyFailed(){return g0.isInMemoryStorage||g0.get("previous_websocket_failure")===!0}markConnectionHealthy(){g0.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const n=U1(r);this.onMessage(n)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(st(this.frames===null,"We already have a frame buffer"),e.length<=6){const r=Number(e);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const r=e.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(r);else{const n=this.extractFrameCount_(r);n!==null&&this.appendFrame_(n)}}send(e){this.resetKeepAlive();const r=Ms(e);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const n=tee(r,ITe);n.length>1&&this.sendString_(String(n.length));for(let i=0;i<n.length;i++)this.sendString_(n[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(OTe))}sendString_(e){try{this.mySock.send(e)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}ec.responsesRequiredToBeHealthy=2;ec.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{static get ALL_TRANSPORTS(){return[$p,ec]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const r=ec&&ec.isAvailable();let n=r&&!ec.previouslyFailed();if(e.webSocketOnly&&(r||Ha("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),n=!0),n)this.transports_=[ec];else{const i=this.transports_=[];for(const s of Q1.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);Q1.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}Q1.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RTe=6e4,PTe=5e3,jTe=10*1024,DTe=100*1024,r3="t",dU="d",MTe="s",hU="r",LTe="e",fU="o",mU="a",pU="n",gU="p",FTe="h";class BTe{constructor(e,r,n,i,s,a,o,l,u,d){this.id=e,this.repoInfo_=r,this.applicationId_=n,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=a,this.onReady_=o,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=d,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=ub("c:"+this.id+":"),this.transportManager_=new Q1(r),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.conn_),n=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(r,n)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=g1(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>DTe?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>jTe?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return r=>{e===this.conn_?this.onConnectionLost_(r):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return r=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(r):e===this.secondaryConn_?this.onSecondaryMessageReceived_(r):this.log_("message on old connection"))}}sendRequest(e){const r={t:"d",d:e};this.sendData_(r)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(r3 in e){const r=e[r3];r===mU?this.upgradeIfSecondaryHealthy_():r===hU?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):r===fU&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const r=Py("t",e),n=Py("d",e);if(r==="c")this.onSecondaryControl_(n);else if(r==="d")this.pendingDataMessages.push(n);else throw new Error("Unknown protocol layer: "+r)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:gU,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:mU,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:pU,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const r=Py("t",e),n=Py("d",e);r==="c"?this.onControl_(n):r==="d"&&this.onDataMessage_(n)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const r=Py(r3,e);if(dU in e){const n=e[dU];if(r===FTe){const i={...n};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(r===pU){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else r===MTe?this.onConnectionShutdown_(n):r===hU?this.onReset_(n):r===LTe?CI("Server Error: "+n):r===fU?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):CI("Unknown control packet command: "+r)}}onHandshake_(e){const r=e.ts,n=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,r),gP!==n&&Ha("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const r=this.connReceiver_(this.secondaryConn_),n=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(r,n),g1(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(RTe))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,r){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(r,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):g1(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(PTe))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:gU,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(g0.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xee{put(e,r,n,i){}merge(e,r,n,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,r,n){}onDisconnectMerge(e,r,n){}onDisconnectCancel(e,r){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bee=class{constructor(e){this.allowedEvents_=e,this.listeners_={},st(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...r){if(Array.isArray(this.listeners_[e])){const n=[...this.listeners_[e]];for(let i=0;i<n.length;i++)n[i].callback.apply(n[i].context,r)}}on(e,r,n){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:r,context:n});const i=this.getInitialEvent(e);i&&r.apply(n,i)}off(e,r,n){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===r&&(!n||n===i[s].context)){i.splice(s,1);return}}validateEventType_(e){st(this.allowedEvents_.find(r=>r===e),"Unknown event: "+e)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wE extends bee{static getInstance(){return new wE}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!gR()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return st(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vU=32,yU=768;let dn=class{constructor(e,r){if(r===void 0){this.pieces_=e.split("/");let n=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=r}toString(){let e="";for(let r=this.pieceNum_;r<this.pieces_.length;r++)this.pieces_[r]!==""&&(e+="/"+this.pieces_[r]);return e||"/"}};function zr(){return new dn("")}function or(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ef(t){return t.pieces_.length-t.pieceNum_}function An(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new dn(t.pieces_,e)}function xP(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function VTe(t){let e="";for(let r=t.pieceNum_;r<t.pieces_.length;r++)t.pieces_[r]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[r])));return e||"/"}function J1(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function wee(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let r=t.pieceNum_;r<t.pieces_.length-1;r++)e.push(t.pieces_[r]);return new dn(e,0)}function ci(t,e){const r=[];for(let n=t.pieceNum_;n<t.pieces_.length;n++)r.push(t.pieces_[n]);if(e instanceof dn)for(let n=e.pieceNum_;n<e.pieces_.length;n++)r.push(e.pieces_[n]);else{const n=e.split("/");for(let i=0;i<n.length;i++)n[i].length>0&&r.push(n[i])}return new dn(r,0)}function ur(t){return t.pieceNum_>=t.pieces_.length}function uo(t,e){const r=or(t),n=or(e);if(r===null)return e;if(r===n)return uo(An(t),An(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function UTe(t,e){const r=J1(t,0),n=J1(e,0);for(let i=0;i<r.length&&i<n.length;i++){const s=bm(r[i],n[i]);if(s!==0)return s}return r.length===n.length?0:r.length<n.length?-1:1}function bP(t,e){if(ef(t)!==ef(e))return!1;for(let r=t.pieceNum_,n=e.pieceNum_;r<=t.pieces_.length;r++,n++)if(t.pieces_[r]!==e.pieces_[n])return!1;return!0}function Tl(t,e){let r=t.pieceNum_,n=e.pieceNum_;if(ef(t)>ef(e))return!1;for(;r<t.pieces_.length;){if(t.pieces_[r]!==e.pieces_[n])return!1;++r,++n}return!0}class zTe{constructor(e,r){this.errorPrefix_=r,this.parts_=J1(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let n=0;n<this.parts_.length;n++)this.byteLength_+=yS(this.parts_[n]);_ee(this)}}function $Te(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=yS(e),_ee(t)}function HTe(t){const e=t.parts_.pop();t.byteLength_-=yS(e),t.parts_.length>0&&(t.byteLength_-=1)}function _ee(t){if(t.byteLength_>yU)throw new Error(t.errorPrefix_+"has a key path longer than "+yU+" bytes ("+t.byteLength_+").");if(t.parts_.length>vU)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+vU+") or object contains a cycle "+i0(t))}function i0(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wP extends bee{static getInstance(){return new wP}constructor(){super(["visible"]);let e,r;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(r="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(r="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(r="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(r="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,r&&document.addEventListener(r,()=>{const n=!document[e];n!==this.visible_&&(this.visible_=n,this.trigger("visible",n))},!1)}getInitialEvent(e){return st(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jy=1e3,qTe=300*1e3,xU=30*1e3,WTe=1.3,GTe=3e4,KTe="server_kill",bU=3;class rd extends xee{constructor(e,r,n,i,s,a,o,l){if(super(),this.repoInfo_=e,this.applicationId_=r,this.onDataUpdate_=n,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=a,this.appCheckTokenProvider_=o,this.authOverride_=l,this.id=rd.nextPersistentConnectionId_++,this.log_=ub("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=jy,this.maxReconnectDelay_=qTe,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l)throw new Error("Auth override specified in options, but not supported on non Node.js platforms");wP.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&wE.getInstance().on("online",this.onOnline_,this)}sendRequest(e,r,n){const i=++this.requestNumber_,s={r:i,a:e,b:r};this.log_(Ms(s)),st(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),n&&(this.requestCBHash_[i]=n)}get(e){this.initConnection_();const r=new Wc,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:a=>{const o=a.d;a.s==="ok"?r.resolve(o):r.reject(o)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),r.promise}listen(e,r,n,i){this.initConnection_();const s=e._queryIdentifier,a=e._path.toString();this.log_("Listen called for "+a+" "+s),this.listens.has(a)||this.listens.set(a,new Map),st(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),st(!this.listens.get(a).has(s),"listen() called twice for same path/queryId.");const o={onComplete:i,hashFn:r,query:e,tag:n};this.listens.get(a).set(s,o),this.connected_&&this.sendListen_(o)}sendGet_(e){const r=this.outstandingGets_[e];this.sendRequest("g",r.request,n=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(n)})}sendListen_(e){const r=e.query,n=r._path.toString(),i=r._queryIdentifier;this.log_("Listen on "+n+" for "+i);const s={p:n},a="q";e.tag&&(s.q=r._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(a,s,o=>{const l=o.d,u=o.s;rd.warnOnListenWarnings_(l,r),(this.listens.get(n)&&this.listens.get(n).get(i))===e&&(this.log_("listen response",o),u!=="ok"&&this.removeListen_(n,i),e.onComplete&&e.onComplete(u,l))})}static warnOnListenWarnings_(e,r){if(e&&typeof e=="object"&&hu(e,"w")){const n=wg(e,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){const i='".indexOn": "'+r._queryParams.getIndex().toString()+'"',s=r._path.toString();Ha(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||zye(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=xU)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,r=Uye(e)?"auth":"gauth",n={cred:e};this.authOverride_===null?n.noauth=!0:typeof this.authOverride_=="object"&&(n.authvar=this.authOverride_),this.sendRequest(r,n,i=>{const s=i.s,a=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,a))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const r=e.s,n=e.d||"error";r==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,n)})}unlisten(e,r){const n=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+n+" "+i),st(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,i)&&this.connected_&&this.sendUnlisten_(n,i,e._queryObject,r)}sendUnlisten_(e,r,n,i){this.log_("Unlisten on "+e+" for "+r);const s={p:e},a="n";i&&(s.q=n,s.t=i),this.sendRequest(a,s)}onDisconnectPut(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:r,onComplete:n})}onDisconnectMerge(e,r,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,r,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:r,onComplete:n})}onDisconnectCancel(e,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(e,r,n,i){const s={p:r,d:n};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,a=>{i&&setTimeout(()=>{i(a.s,a.d)},Math.floor(0))})}put(e,r,n,i){this.putInternal("p",e,r,n,i)}merge(e,r,n,i){this.putInternal("m",e,r,n,i)}putInternal(e,r,n,i,s){this.initConnection_();const a={p:r,d:n};s!==void 0&&(a.h=s),this.outstandingPuts_.push({action:e,request:a,onComplete:i}),this.outstandingPutCount_++;const o=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(o):this.log_("Buffering put: "+r)}sendPut_(e){const r=this.outstandingPuts_[e].action,n=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(r,n,s=>{this.log_(r+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const r={c:e};this.log_("reportStats",r),this.sendRequest("s",r,n=>{if(n.s!=="ok"){const s=n.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+Ms(e));const r=e.r,n=this.requestCBHash_[r];n&&(delete this.requestCBHash_[r],n(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,r){this.log_("handleServerMessage",e,r),e==="d"?this.onDataUpdate_(r.p,r.d,!1,r.t):e==="m"?this.onDataUpdate_(r.p,r.d,!0,r.t):e==="c"?this.onListenRevoked_(r.p,r.q):e==="ac"?this.onAuthRevoked_(r.s,r.d):e==="apc"?this.onAppCheckRevoked_(r.s,r.d):e==="sd"?this.onSecurityDebugPacket_(r):CI("Unrecognized action received from server: "+Ms(e)+`
Are you using the latest client?`)}onReady_(e,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){st(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=jy,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=jy,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>GTe&&(this.reconnectDelay_=jy),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let r=Math.max(0,this.reconnectDelay_-e);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*WTe)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),r=this.onReady_.bind(this),n=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+rd.nextConnectionId_++,s=this.lastSessionId;let a=!1,o=null;const l=function(){o?o.close():(a=!0,n())},u=function(f){st(o,"sendRequest call when we're not connected not allowed."),o.sendRequest(f)};this.realtime_={close:l,sendRequest:u};const d=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[f,g]=await Promise.all([this.authTokenProvider_.getToken(d),this.appCheckTokenProvider_.getToken(d)]);a?Ds("getToken() completed but was canceled"):(Ds("getToken() completed. Creating connection."),this.authToken_=f&&f.accessToken,this.appCheckToken_=g&&g.token,o=new BTe(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,r,n,v=>{Ha(v+" ("+this.repoInfo_.toString()+")"),this.interrupt(KTe)},s))}catch(f){this.log_("Failed to get token: "+f),a||(this.repoInfo_.nodeAdmin&&Ha(f),l())}}}interrupt(e){Ds("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){Ds("Resuming connection for reason: "+e),delete this.interruptReasons_[e],X2(this.interruptReasons_)&&(this.reconnectDelay_=jy,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const r=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const r=this.outstandingPuts_[e];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,r){let n;r?n=r.map(s=>pP(s)).join("$"):n="default";const i=this.removeListen_(e,n);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,r){const n=new dn(e).toString();let i;if(this.listens.has(n)){const s=this.listens.get(n);i=s.get(r),s.delete(r),s.size===0&&this.listens.delete(n)}else i=void 0;return i}onAuthRevoked_(e,r){Ds("Auth token revoked: "+e+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=bU&&(this.reconnectDelay_=xU,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,r){Ds("App check token revoked: "+e+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=bU&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const r of e.values())this.sendListen_(r);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let r="js";e["sdk."+r+"."+JZ.replace(/\./g,"-")]=1,gR()?e["framework.cordova"]=1:TQ()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=wE.getInstance().currentlyOnline();return X2(this.interruptReasons_)&&e}}rd.nextPersistentConnectionId_=0;rd.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e,r){this.name=e,this.node=r}static Wrap(e,r){return new dr(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,r){const n=new dr(Pg,e),i=new dr(Pg,r);return this.compare(n,i)!==0}minPost(){return dr.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let k_;class Eee extends QS{static get __EMPTY_NODE(){return k_}static set __EMPTY_NODE(e){k_=e}compare(e,r){return bm(e.name,r.name)}isDefinedOn(e){throw av("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,r){return!1}minPost(){return dr.MIN}maxPost(){return new dr(W0,k_)}makePost(e,r){return st(typeof e=="string","KeyIndex indexValue must always be a string."),new dr(e,k_)}toString(){return".key"}}const rg=new Eee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class A_{constructor(e,r,n,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let a=1;for(;!e.isEmpty();)if(e=e,a=r?n(e.key,r):1,i&&(a*=-1),a<0)this.isReverse_?e=e.left:e=e.right;else if(a===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),r;if(this.resultGenerator_?r=this.resultGenerator_(e.key,e.value):r={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return r}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class Ps{constructor(e,r,n,i,s){this.key=e,this.value=r,this.color=n??Ps.RED,this.left=i??ho.EMPTY_NODE,this.right=s??ho.EMPTY_NODE}copy(e,r,n,i,s){return new Ps(e??this.key,r??this.value,n??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const s=n(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,r,n),null):s===0?i=i.copy(null,r,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return ho.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,r){let n,i;if(n=this,r(e,n.key)<0)!n.left.isEmpty()&&!n.left.isRed_()&&!n.left.left.isRed_()&&(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(e,r),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),!n.right.isEmpty()&&!n.right.isRed_()&&!n.right.left.isRed_()&&(n=n.moveRedRight_()),r(e,n.key)===0){if(n.right.isEmpty())return ho.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(e,r))}return n.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,Ps.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,Ps.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}Ps.RED=!0;Ps.BLACK=!1;class YTe{copy(e,r,n,i,s){return this}insert(e,r,n){return new Ps(e,r,null)}remove(e,r){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class ho{constructor(e,r=ho.EMPTY_NODE){this.comparator_=e,this.root_=r}insert(e,r){return new ho(this.comparator_,this.root_.insert(e,r,this.comparator_).copy(null,null,Ps.BLACK,null,null))}remove(e){return new ho(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Ps.BLACK,null,null))}get(e){let r,n=this.root_;for(;!n.isEmpty();){if(r=this.comparator_(e,n.key),r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}getPredecessorKey(e){let r,n=this.root_,i=null;for(;!n.isEmpty();)if(r=this.comparator_(e,n.key),r===0){if(n.left.isEmpty())return i?i.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}else r<0?n=n.left:r>0&&(i=n,n=n.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new A_(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,r){return new A_(this.root_,e,this.comparator_,!1,r)}getReverseIteratorFrom(e,r){return new A_(this.root_,e,this.comparator_,!0,r)}getReverseIterator(e){return new A_(this.root_,null,this.comparator_,!0,e)}}ho.EMPTY_NODE=new YTe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XTe(t,e){return bm(t.name,e.name)}function _P(t,e){return bm(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let II;function QTe(t){II=t}const Tee=function(t){return typeof t=="number"?"number:"+ree(t):"string:"+t},See=function(t){if(t.isLeafNode()){const e=t.val();st(typeof e=="string"||typeof e=="number"||typeof e=="object"&&hu(e,".sv"),"Priority must be a string or number.")}else st(t===II||t.isEmpty(),"priority of unexpected type.");st(t===II||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wU;class Ns{static set __childrenNodeConstructor(e){wU=e}static get __childrenNodeConstructor(){return wU}constructor(e,r=Ns.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=r,this.lazyHash_=null,st(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),See(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new Ns(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:Ns.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return ur(e)?this:or(e)===".priority"?this.priorityNode_:Ns.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,r){return null}updateImmediateChild(e,r){return e===".priority"?this.updatePriority(r):r.isEmpty()&&e!==".priority"?this:Ns.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,r).updatePriority(this.priorityNode_)}updateChild(e,r){const n=or(e);return n===null?r:r.isEmpty()&&n!==".priority"?this:(st(n!==".priority"||ef(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(n,Ns.__childrenNodeConstructor.EMPTY_NODE.updateChild(An(e),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,r){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+Tee(this.priorityNode_.val())+":");const r=typeof this.value_;e+=r+":",r==="number"?e+=ree(this.value_):e+=this.value_,this.lazyHash_=eee(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===Ns.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof Ns.__childrenNodeConstructor?-1:(st(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const r=typeof e.value_,n=typeof this.value_,i=Ns.VALUE_TYPE_ORDER.indexOf(r),s=Ns.VALUE_TYPE_ORDER.indexOf(n);return st(i>=0,"Unknown leaf type: "+r),st(s>=0,"Unknown leaf type: "+n),i===s?n==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const r=e;return this.value_===r.value_&&this.priorityNode_.equals(r.priorityNode_)}else return!1}}Ns.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let kee,Aee;function JTe(t){kee=t}function ZTe(t){Aee=t}class eSe extends QS{compare(e,r){const n=e.node.getPriority(),i=r.node.getPriority(),s=n.compareTo(i);return s===0?bm(e.name,r.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,r){return!e.getPriority().equals(r.getPriority())}minPost(){return dr.MIN}maxPost(){return new dr(W0,new Ns("[PRIORITY-POST]",Aee))}makePost(e,r){const n=kee(e);return new dr(r,new Ns("[PRIORITY-POST]",n))}toString(){return".priority"}}const di=new eSe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tSe=Math.log(2);class rSe{constructor(e){const r=s=>parseInt(Math.log(s)/tSe,10),n=s=>parseInt(Array(s+1).join("1"),2);this.count=r(e+1),this.current_=this.count-1;const i=n(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const _E=function(t,e,r,n){t.sort(e);const i=function(l,u){const d=u-l;let f,g;if(d===0)return null;if(d===1)return f=t[l],g=r?r(f):f,new Ps(g,f.node,Ps.BLACK,null,null);{const v=parseInt(d/2,10)+l,x=i(l,v),b=i(v+1,u);return f=t[v],g=r?r(f):f,new Ps(g,f.node,Ps.BLACK,x,b)}},s=function(l){let u=null,d=null,f=t.length;const g=function(x,b){const w=f-x,E=f;f-=x;const k=i(w+1,E),A=t[w],O=r?r(A):A;v(new Ps(O,A.node,b,null,k))},v=function(x){u?(u.left=x,u=x):(d=x,u=x)};for(let x=0;x<l.count;++x){const b=l.nextBitIsOne(),w=Math.pow(2,l.count-(x+1));b?g(w,Ps.BLACK):(g(w,Ps.BLACK),g(w,Ps.RED))}return d},a=new rSe(t.length),o=s(a);return new ho(n||e,o)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let n3;const pp={};class Gu{static get Default(){return st(pp&&di,"ChildrenNode.ts has not been loaded"),n3=n3||new Gu({".priority":pp},{".priority":di}),n3}constructor(e,r){this.indexes_=e,this.indexSet_=r}get(e){const r=wg(this.indexes_,e);if(!r)throw new Error("No index defined for "+e);return r instanceof ho?r:null}hasIndex(e){return hu(this.indexSet_,e.toString())}addIndex(e,r){st(e!==rg,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const n=[];let i=!1;const s=r.getIterator(dr.Wrap);let a=s.getNext();for(;a;)i=i||e.isDefinedOn(a.node),n.push(a),a=s.getNext();let o;i?o=_E(n,e.getCompare()):o=pp;const l=e.toString(),u={...this.indexSet_};u[l]=e;const d={...this.indexes_};return d[l]=o,new Gu(d,u)}addToIndexes(e,r){const n=Q2(this.indexes_,(i,s)=>{const a=wg(this.indexSet_,s);if(st(a,"Missing index implementation for "+s),i===pp)if(a.isDefinedOn(e.node)){const o=[],l=r.getIterator(dr.Wrap);let u=l.getNext();for(;u;)u.name!==e.name&&o.push(u),u=l.getNext();return o.push(e),_E(o,a.getCompare())}else return pp;else{const o=r.get(e.name);let l=i;return o&&(l=l.remove(new dr(e.name,o))),l.insert(e,e.node)}});return new Gu(n,this.indexSet_)}removeFromIndexes(e,r){const n=Q2(this.indexes_,i=>{if(i===pp)return i;{const s=r.get(e.name);return s?i.remove(new dr(e.name,s)):i}});return new Gu(n,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dy;class $t{static get EMPTY_NODE(){return Dy||(Dy=new $t(new ho(_P),null,Gu.Default))}constructor(e,r,n){this.children_=e,this.priorityNode_=r,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&See(this.priorityNode_),this.children_.isEmpty()&&st(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Dy}updatePriority(e){return this.children_.isEmpty()?this:new $t(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const r=this.children_.get(e);return r===null?Dy:r}}getChild(e){const r=or(e);return r===null?this:this.getImmediateChild(r).getChild(An(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,r){if(st(r,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(r);{const n=new dr(e,r);let i,s;r.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(n,this.children_)):(i=this.children_.insert(e,r),s=this.indexMap_.addToIndexes(n,this.children_));const a=i.isEmpty()?Dy:this.priorityNode_;return new $t(i,a,s)}}updateChild(e,r){const n=or(e);if(n===null)return r;{st(or(e)!==".priority"||ef(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(n).updateChild(An(e),r);return this.updateImmediateChild(n,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const r={};let n=0,i=0,s=!0;if(this.forEachChild(di,(a,o)=>{r[a]=o.val(e),n++,s&&$t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):s=!1}),!e&&s&&i<2*n){const a=[];for(const o in r)a[o]=r[o];return a}else return e&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+Tee(this.getPriority().val())+":"),this.forEachChild(di,(r,n)=>{const i=n.hash();i!==""&&(e+=":"+r+":"+i)}),this.lazyHash_=e===""?"":eee(e)}return this.lazyHash_}getPredecessorChildName(e,r,n){const i=this.resolveIndex_(n);if(i){const s=i.getPredecessorKey(new dr(e,r));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.minKey();return n&&n.name}else return this.children_.minKey()}getFirstChild(e){const r=this.getFirstChildName(e);return r?new dr(r,this.children_.get(r)):null}getLastChildName(e){const r=this.resolveIndex_(e);if(r){const n=r.maxKey();return n&&n.name}else return this.children_.maxKey()}getLastChild(e){const r=this.getLastChildName(e);return r?new dr(r,this.children_.get(r)):null}forEachChild(e,r){const n=this.resolveIndex_(e);return n?n.inorderTraversal(i=>r(i.name,i.node)):this.children_.inorderTraversal(r)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,dr.Wrap);let s=i.peek();for(;s!=null&&r.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,r){const n=this.resolveIndex_(r);if(n)return n.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,dr.Wrap);let s=i.peek();for(;s!=null&&r.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===db?-1:0}withIndex(e){if(e===rg||this.indexMap_.hasIndex(e))return this;{const r=this.indexMap_.addIndex(e,this.children_);return new $t(this.children_,this.priorityNode_,r)}}isIndexed(e){return e===rg||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const r=e;if(this.getPriority().equals(r.getPriority()))if(this.children_.count()===r.children_.count()){const n=this.getIterator(di),i=r.getIterator(di);let s=n.getNext(),a=i.getNext();for(;s&&a;){if(s.name!==a.name||!s.node.equals(a.node))return!1;s=n.getNext(),a=i.getNext()}return s===null&&a===null}else return!1;else return!1}}resolveIndex_(e){return e===rg?null:this.indexMap_.get(e.toString())}}$t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class nSe extends $t{constructor(){super(new ho(_P),$t.EMPTY_NODE,Gu.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return $t.EMPTY_NODE}isEmpty(){return!1}}const db=new nSe;Object.defineProperties(dr,{MIN:{value:new dr(Pg,$t.EMPTY_NODE)},MAX:{value:new dr(W0,db)}});Eee.__EMPTY_NODE=$t.EMPTY_NODE;Ns.__childrenNodeConstructor=$t;QTe(db);ZTe(db);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iSe=!0;function Li(t,e=null){if(t===null)return $t.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),st(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const r=t;return new Ns(r,Li(e))}if(!(t instanceof Array)&&iSe){const r=[];let n=!1;if(zs(t,(a,o)=>{if(a.substring(0,1)!=="."){const l=Li(o);l.isEmpty()||(n=n||!l.getPriority().isEmpty(),r.push(new dr(a,l)))}}),r.length===0)return $t.EMPTY_NODE;const s=_E(r,XTe,a=>a.name,_P);if(n){const a=_E(r,di.getCompare());return new $t(s,Li(e),new Gu({".priority":a},{".priority":di}))}else return new $t(s,Li(e),Gu.Default)}else{let r=$t.EMPTY_NODE;return zs(t,(n,i)=>{if(hu(t,n)&&n.substring(0,1)!=="."){const s=Li(i);(s.isLeafNode()||!s.isEmpty())&&(r=r.updateImmediateChild(n,s))}}),r.updatePriority(Li(e))}}JTe(Li);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sSe extends QS{constructor(e){super(),this.indexPath_=e,st(!ur(e)&&or(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,r){const n=this.extractChild(e.node),i=this.extractChild(r.node),s=n.compareTo(i);return s===0?bm(e.name,r.name):s}makePost(e,r){const n=Li(e),i=$t.EMPTY_NODE.updateChild(this.indexPath_,n);return new dr(r,i)}maxPost(){const e=$t.EMPTY_NODE.updateChild(this.indexPath_,db);return new dr(W0,e)}toString(){return J1(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aSe extends QS{compare(e,r){const n=e.node.compareTo(r.node);return n===0?bm(e.name,r.name):n}isDefinedOn(e){return!0}indexedValueChanged(e,r){return!e.equals(r)}minPost(){return dr.MIN}maxPost(){return dr.MAX}makePost(e,r){const n=Li(e);return new dr(r,n)}toString(){return".value"}}const oSe=new aSe;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cee(t){return{type:"value",snapshotNode:t}}function jg(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function Z1(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function ex(t,e,r){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:r}}function lSe(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EP{constructor(e){this.index_=e}updateChild(e,r,n,i,s,a){st(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const o=e.getImmediateChild(r);return o.getChild(i).equals(n.getChild(i))&&o.isEmpty()===n.isEmpty()||(a!=null&&(n.isEmpty()?e.hasChild(r)?a.trackChildChange(Z1(r,o)):st(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):o.isEmpty()?a.trackChildChange(jg(r,n)):a.trackChildChange(ex(r,n,o))),e.isLeafNode()&&n.isEmpty())?e:e.updateImmediateChild(r,n).withIndex(this.index_)}updateFullNode(e,r,n){return n!=null&&(e.isLeafNode()||e.forEachChild(di,(i,s)=>{r.hasChild(i)||n.trackChildChange(Z1(i,s))}),r.isLeafNode()||r.forEachChild(di,(i,s)=>{if(e.hasChild(i)){const a=e.getImmediateChild(i);a.equals(s)||n.trackChildChange(ex(i,s,a))}else n.trackChildChange(jg(i,s))})),r.withIndex(this.index_)}updatePriority(e,r){return e.isEmpty()?$t.EMPTY_NODE:e.updatePriority(r)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tx{constructor(e){this.indexedFilter_=new EP(e.getIndex()),this.index_=e.getIndex(),this.startPost_=tx.getStartPost_(e),this.endPost_=tx.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const r=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,n=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return r&&n}updateChild(e,r,n,i,s,a){return this.matches(new dr(r,n))||(n=$t.EMPTY_NODE),this.indexedFilter_.updateChild(e,r,n,i,s,a)}updateFullNode(e,r,n){r.isLeafNode()&&(r=$t.EMPTY_NODE);let i=r.withIndex(this.index_);i=i.updatePriority($t.EMPTY_NODE);const s=this;return r.forEachChild(di,(a,o)=>{s.matches(new dr(a,o))||(i=i.updateImmediateChild(a,$t.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const r=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),r)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const r=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),r)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cSe{constructor(e){this.withinDirectionalStart=r=>this.reverse_?this.withinEndPost(r):this.withinStartPost(r),this.withinDirectionalEnd=r=>this.reverse_?this.withinStartPost(r):this.withinEndPost(r),this.withinStartPost=r=>{const n=this.index_.compare(this.rangedFilter_.getStartPost(),r);return this.startIsInclusive_?n<=0:n<0},this.withinEndPost=r=>{const n=this.index_.compare(r,this.rangedFilter_.getEndPost());return this.endIsInclusive_?n<=0:n<0},this.rangedFilter_=new tx(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,r,n,i,s,a){return this.rangedFilter_.matches(new dr(r,n))||(n=$t.EMPTY_NODE),e.getImmediateChild(r).equals(n)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,r,n,i,s,a):this.fullLimitUpdateChild_(e,r,n,s,a)}updateFullNode(e,r,n){let i;if(r.isLeafNode()||r.isEmpty())i=$t.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<r.numChildren()&&r.isIndexed(this.index_)){i=$t.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=r.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=r.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let a=0;for(;s.hasNext()&&a<this.limit_;){const o=s.getNext();if(this.withinDirectionalStart(o))if(this.withinDirectionalEnd(o))i=i.updateImmediateChild(o.name,o.node),a++;else break;else continue}}else{i=r.withIndex(this.index_),i=i.updatePriority($t.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let a=0;for(;s.hasNext();){const o=s.getNext();a<this.limit_&&this.withinDirectionalStart(o)&&this.withinDirectionalEnd(o)?a++:i=i.updateImmediateChild(o.name,$t.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,n)}updatePriority(e,r){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,r,n,i,s){let a;if(this.reverse_){const f=this.index_.getCompare();a=(g,v)=>f(v,g)}else a=this.index_.getCompare();const o=e;st(o.numChildren()===this.limit_,"");const l=new dr(r,n),u=this.reverse_?o.getFirstChild(this.index_):o.getLastChild(this.index_),d=this.rangedFilter_.matches(l);if(o.hasChild(r)){const f=o.getImmediateChild(r);let g=i.getChildAfterChild(this.index_,u,this.reverse_);for(;g!=null&&(g.name===r||o.hasChild(g.name));)g=i.getChildAfterChild(this.index_,g,this.reverse_);const v=g==null?1:a(g,l);if(d&&!n.isEmpty()&&v>=0)return s!=null&&s.trackChildChange(ex(r,n,f)),o.updateImmediateChild(r,n);{s!=null&&s.trackChildChange(Z1(r,f));const b=o.updateImmediateChild(r,$t.EMPTY_NODE);return g!=null&&this.rangedFilter_.matches(g)?(s!=null&&s.trackChildChange(jg(g.name,g.node)),b.updateImmediateChild(g.name,g.node)):b}}else return n.isEmpty()?e:d&&a(u,l)>=0?(s!=null&&(s.trackChildChange(Z1(u.name,u.node)),s.trackChildChange(jg(r,n))),o.updateImmediateChild(r,n).updateImmediateChild(u.name,$t.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=di}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return st(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return st(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:Pg}hasEnd(){return this.endSet_}getIndexEndValue(){return st(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return st(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:W0}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return st(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===di}copy(){const e=new TP;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function uSe(t){return t.loadsAllData()?new EP(t.getIndex()):t.hasLimit()?new cSe(t):new tx(t)}function _U(t){const e={};if(t.isDefault())return e;let r;if(t.index_===di?r="$priority":t.index_===oSe?r="$value":t.index_===rg?r="$key":(st(t.index_ instanceof sSe,"Unrecognized index type!"),r=t.index_.toString()),e.orderBy=Ms(r),t.startSet_){const n=t.startAfterSet_?"startAfter":"startAt";e[n]=Ms(t.indexStartValue_),t.startNameSet_&&(e[n]+=","+Ms(t.indexStartName_))}if(t.endSet_){const n=t.endBeforeSet_?"endBefore":"endAt";e[n]=Ms(t.indexEndValue_),t.endNameSet_&&(e[n]+=","+Ms(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function EU(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let r=t.viewFrom_;r===""&&(t.isViewFromLeft()?r="l":r="r"),e.vf=r}return t.index_!==di&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EE extends xee{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,r){return r!==void 0?"tag$"+r:(st(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,r,n,i){super(),this.repoInfo_=e,this.onDataUpdate_=r,this.authTokenProvider_=n,this.appCheckTokenProvider_=i,this.log_=ub("p:rest:"),this.listens_={}}listen(e,r,n,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const a=EE.getListenId_(e,n),o={};this.listens_[a]=o;const l=_U(e._queryParams);this.restRequest_(s+".json",l,(u,d)=>{let f=d;if(u===404&&(f=null,u=null),u===null&&this.onDataUpdate_(s,f,!1,n),wg(this.listens_,a)===o){let g;u?u===401?g="permission_denied":g="rest_error:"+u:g="ok",i(g,null)}})}unlisten(e,r){const n=EE.getListenId_(e,r);delete this.listens_[n]}get(e){const r=_U(e._queryParams),n=e._path.toString(),i=new Wc;return this.restRequest_(n+".json",r,(s,a)=>{let o=a;s===404&&(o=null,s=null),s===null?(this.onDataUpdate_(n,o,!1,null),i.resolve(o)):i.reject(new Error(o))}),i.promise}refreshAuthToken(e){}restRequest_(e,r={},n){return r.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(r.auth=i.accessToken),s&&s.token&&(r.ac=s.token);const a=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+ov(r);this.log_("Sending REST request for "+a);const o=new XMLHttpRequest;o.onreadystatechange=()=>{if(n&&o.readyState===4){this.log_("REST Response for "+a+" received. status:",o.status,"response:",o.responseText);let l=null;if(o.status>=200&&o.status<300){try{l=U1(o.responseText)}catch{Ha("Failed to parse JSON response for "+a+": "+o.responseText)}n(null,l)}else o.status!==401&&o.status!==404&&Ha("Got unsuccessful REST response for "+a+" Status: "+o.status),n(o.status);n=null}},o.open("GET",a,!0),o.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dSe{constructor(){this.rootNode_=$t.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,r){this.rootNode_=this.rootNode_.updateChild(e,r)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TE(){return{value:null,children:new Map}}function vv(t,e,r){if(ur(e))t.value=r,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,r);else{const n=or(e);t.children.has(n)||t.children.set(n,TE());const i=t.children.get(n);e=An(e),vv(i,e,r)}}function OI(t,e){if(ur(e))return t.value=null,t.children.clear(),!0;if(t.value!==null){if(t.value.isLeafNode())return!1;{const r=t.value;return t.value=null,r.forEachChild(di,(n,i)=>{vv(t,new dn(n),i)}),OI(t,e)}}else if(t.children.size>0){const r=or(e);return e=An(e),t.children.has(r)&&OI(t.children.get(r),e)&&t.children.delete(r),t.children.size===0}else return!0}function RI(t,e,r){t.value!==null?r(e,t.value):hSe(t,(n,i)=>{const s=new dn(e.toString()+"/"+n);RI(i,s,r)})}function hSe(t,e){t.children.forEach((r,n)=>{e(n,r)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fSe{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),r={...e};return this.last_&&zs(this.last_,(n,i)=>{r[n]=r[n]-i}),this.last_=e,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TU=10*1e3,mSe=30*1e3,pSe=300*1e3;class gSe{constructor(e,r){this.server_=r,this.statsToReport_={},this.statsListener_=new fSe(e);const n=TU+(mSe-TU)*Math.random();g1(this.reportStats_.bind(this),Math.floor(n))}reportStats_(){const e=this.statsListener_.get(),r={};let n=!1;zs(e,(i,s)=>{s>0&&hu(this.statsToReport_,i)&&(r[i]=s,n=!0)}),n&&this.server_.reportStats(r),g1(this.reportStats_.bind(this),Math.floor(Math.random()*2*pSe))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ac;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(ac||(ac={}));function SP(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function kP(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function AP(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SE{constructor(e,r,n){this.path=e,this.affectedTree=r,this.revert=n,this.type=ac.ACK_USER_WRITE,this.source=SP()}operationForChild(e){if(ur(this.path)){if(this.affectedTree.value!=null)return st(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const r=this.affectedTree.subtree(new dn(e));return new SE(zr(),r,this.revert)}}else return st(or(this.path)===e,"operationForChild called for unrelated child."),new SE(An(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rx{constructor(e,r){this.source=e,this.path=r,this.type=ac.LISTEN_COMPLETE}operationForChild(e){return ur(this.path)?new rx(this.source,zr()):new rx(this.source,An(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,r,n){this.source=e,this.path=r,this.snap=n,this.type=ac.OVERWRITE}operationForChild(e){return ur(this.path)?new G0(this.source,zr(),this.snap.getImmediateChild(e)):new G0(this.source,An(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dg{constructor(e,r,n){this.source=e,this.path=r,this.children=n,this.type=ac.MERGE}operationForChild(e){if(ur(this.path)){const r=this.children.subtree(new dn(e));return r.isEmpty()?null:r.value?new G0(this.source,zr(),r.value):new Dg(this.source,zr(),r)}else return st(or(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new Dg(this.source,An(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class K0{constructor(e,r,n){this.node_=e,this.fullyInitialized_=r,this.filtered_=n}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(ur(e))return this.isFullyInitialized()&&!this.filtered_;const r=or(e);return this.isCompleteForChild(r)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vSe{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function ySe(t,e,r,n){const i=[],s=[];return e.forEach(a=>{a.type==="child_changed"&&t.index_.indexedValueChanged(a.oldSnap,a.snapshotNode)&&s.push(lSe(a.childName,a.snapshotNode))}),My(t,i,"child_removed",e,n,r),My(t,i,"child_added",e,n,r),My(t,i,"child_moved",s,n,r),My(t,i,"child_changed",e,n,r),My(t,i,"value",e,n,r),i}function My(t,e,r,n,i,s){const a=n.filter(o=>o.type===r);a.sort((o,l)=>bSe(t,o,l)),a.forEach(o=>{const l=xSe(t,o,s);i.forEach(u=>{u.respondsTo(o.type)&&e.push(u.createEvent(l,t.query_))})})}function xSe(t,e,r){return e.type==="value"||e.type==="child_removed"||(e.prevName=r.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function bSe(t,e,r){if(e.childName==null||r.childName==null)throw av("Should only compare child_ events.");const n=new dr(e.childName,e.snapshotNode),i=new dr(r.childName,r.snapshotNode);return t.index_.compare(n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function JS(t,e){return{eventCache:t,serverCache:e}}function v1(t,e,r,n){return JS(new K0(e,r,n),t.serverCache)}function Nee(t,e,r,n){return JS(t.eventCache,new K0(e,r,n))}function PI(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function Y0(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let i3;const wSe=()=>(i3||(i3=new ho(sTe)),i3);class jn{static fromObject(e){let r=new jn(null);return zs(e,(n,i)=>{r=r.set(new dn(n),i)}),r}constructor(e,r=wSe()){this.value=e,this.children=r}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,r){if(this.value!=null&&r(this.value))return{path:zr(),value:this.value};if(ur(e))return null;{const n=or(e),i=this.children.get(n);if(i!==null){const s=i.findRootMostMatchingPathAndValue(An(e),r);return s!=null?{path:ci(new dn(n),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(ur(e))return this;{const r=or(e),n=this.children.get(r);return n!==null?n.subtree(An(e)):new jn(null)}}set(e,r){if(ur(e))return new jn(r,this.children);{const n=or(e),s=(this.children.get(n)||new jn(null)).set(An(e),r),a=this.children.insert(n,s);return new jn(this.value,a)}}remove(e){if(ur(e))return this.children.isEmpty()?new jn(null):new jn(null,this.children);{const r=or(e),n=this.children.get(r);if(n){const i=n.remove(An(e));let s;return i.isEmpty()?s=this.children.remove(r):s=this.children.insert(r,i),this.value===null&&s.isEmpty()?new jn(null):new jn(this.value,s)}else return this}}get(e){if(ur(e))return this.value;{const r=or(e),n=this.children.get(r);return n?n.get(An(e)):null}}setTree(e,r){if(ur(e))return r;{const n=or(e),s=(this.children.get(n)||new jn(null)).setTree(An(e),r);let a;return s.isEmpty()?a=this.children.remove(n):a=this.children.insert(n,s),new jn(this.value,a)}}fold(e){return this.fold_(zr(),e)}fold_(e,r){const n={};return this.children.inorderTraversal((i,s)=>{n[i]=s.fold_(ci(e,i),r)}),r(e,this.value,n)}findOnPath(e,r){return this.findOnPath_(e,zr(),r)}findOnPath_(e,r,n){const i=this.value?n(r,this.value):!1;if(i)return i;if(ur(e))return null;{const s=or(e),a=this.children.get(s);return a?a.findOnPath_(An(e),ci(r,s),n):null}}foreachOnPath(e,r){return this.foreachOnPath_(e,zr(),r)}foreachOnPath_(e,r,n){if(ur(e))return this;{this.value&&n(r,this.value);const i=or(e),s=this.children.get(i);return s?s.foreachOnPath_(An(e),ci(r,i),n):new jn(null)}}foreach(e){this.foreach_(zr(),e)}foreach_(e,r){this.children.inorderTraversal((n,i)=>{i.foreach_(ci(e,n),r)}),this.value&&r(e,this.value)}foreachChild(e){this.children.inorderTraversal((r,n)=>{n.value&&e(r,n.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dc{constructor(e){this.writeTree_=e}static empty(){return new dc(new jn(null))}}function y1(t,e,r){if(ur(e))return new dc(new jn(r));{const n=t.writeTree_.findRootMostValueAndPath(e);if(n!=null){const i=n.path;let s=n.value;const a=uo(i,e);return s=s.updateChild(a,r),new dc(t.writeTree_.set(i,s))}else{const i=new jn(r),s=t.writeTree_.setTree(e,i);return new dc(s)}}}function jI(t,e,r){let n=t;return zs(r,(i,s)=>{n=y1(n,ci(e,i),s)}),n}function SU(t,e){if(ur(e))return dc.empty();{const r=t.writeTree_.setTree(e,new jn(null));return new dc(r)}}function DI(t,e){return wm(t,e)!=null}function wm(t,e){const r=t.writeTree_.findRootMostValueAndPath(e);return r!=null?t.writeTree_.get(r.path).getChild(uo(r.path,e)):null}function kU(t){const e=[],r=t.writeTree_.value;return r!=null?r.isLeafNode()||r.forEachChild(di,(n,i)=>{e.push(new dr(n,i))}):t.writeTree_.children.inorderTraversal((n,i)=>{i.value!=null&&e.push(new dr(n,i.value))}),e}function Uh(t,e){if(ur(e))return t;{const r=wm(t,e);return r!=null?new dc(new jn(r)):new dc(t.writeTree_.subtree(e))}}function MI(t){return t.writeTree_.isEmpty()}function Mg(t,e){return Iee(zr(),t.writeTree_,e)}function Iee(t,e,r){if(e.value!=null)return r.updateChild(t,e.value);{let n=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(st(s.value!==null,"Priority writes must always be leaf nodes"),n=s.value):r=Iee(ci(t,i),s,r)}),!r.getChild(t).isEmpty()&&n!==null&&(r=r.updateChild(ci(t,".priority"),n)),r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t,e){return jee(e,t)}function _Se(t,e,r,n,i){st(n>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:r,writeId:n,visible:i}),i&&(t.visibleWrites=y1(t.visibleWrites,e,r)),t.lastWriteId=n}function ESe(t,e,r,n){st(n>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:r,writeId:n,visible:!0}),t.visibleWrites=jI(t.visibleWrites,e,r),t.lastWriteId=n}function TSe(t,e){for(let r=0;r<t.allWrites.length;r++){const n=t.allWrites[r];if(n.writeId===e)return n}return null}function SSe(t,e){const r=t.allWrites.findIndex(o=>o.writeId===e);st(r>=0,"removeWrite called with nonexistent writeId.");const n=t.allWrites[r];t.allWrites.splice(r,1);let i=n.visible,s=!1,a=t.allWrites.length-1;for(;i&&a>=0;){const o=t.allWrites[a];o.visible&&(a>=r&&kSe(o,n.path)?i=!1:Tl(n.path,o.path)&&(s=!0)),a--}if(i){if(s)return ASe(t),!0;if(n.snap)t.visibleWrites=SU(t.visibleWrites,n.path);else{const o=n.children;zs(o,l=>{t.visibleWrites=SU(t.visibleWrites,ci(n.path,l))})}return!0}else return!1}function kSe(t,e){if(t.snap)return Tl(t.path,e);for(const r in t.children)if(t.children.hasOwnProperty(r)&&Tl(ci(t.path,r),e))return!0;return!1}function ASe(t){t.visibleWrites=Oee(t.allWrites,CSe,zr()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function CSe(t){return t.visible}function Oee(t,e,r){let n=dc.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const a=s.path;let o;if(s.snap)Tl(r,a)?(o=uo(r,a),n=y1(n,o,s.snap)):Tl(a,r)&&(o=uo(a,r),n=y1(n,zr(),s.snap.getChild(o)));else if(s.children){if(Tl(r,a))o=uo(r,a),n=jI(n,o,s.children);else if(Tl(a,r))if(o=uo(a,r),ur(o))n=jI(n,zr(),s.children);else{const l=wg(s.children,or(o));if(l){const u=l.getChild(An(o));n=y1(n,zr(),u)}}}else throw av("WriteRecord should have .snap or .children")}}return n}function Ree(t,e,r,n,i){if(!n&&!i){const s=wm(t.visibleWrites,e);if(s!=null)return s;{const a=Uh(t.visibleWrites,e);if(MI(a))return r;if(r==null&&!DI(a,zr()))return null;{const o=r||$t.EMPTY_NODE;return Mg(a,o)}}}else{const s=Uh(t.visibleWrites,e);if(!i&&MI(s))return r;if(!i&&r==null&&!DI(s,zr()))return null;{const a=function(u){return(u.visible||i)&&(!n||!~n.indexOf(u.writeId))&&(Tl(u.path,e)||Tl(e,u.path))},o=Oee(t.allWrites,a,e),l=r||$t.EMPTY_NODE;return Mg(o,l)}}}function NSe(t,e,r){let n=$t.EMPTY_NODE;const i=wm(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(di,(s,a)=>{n=n.updateImmediateChild(s,a)}),n;if(r){const s=Uh(t.visibleWrites,e);return r.forEachChild(di,(a,o)=>{const l=Mg(Uh(s,new dn(a)),o);n=n.updateImmediateChild(a,l)}),kU(s).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}else{const s=Uh(t.visibleWrites,e);return kU(s).forEach(a=>{n=n.updateImmediateChild(a.name,a.node)}),n}}function ISe(t,e,r,n,i){st(n||i,"Either existingEventSnap or existingServerSnap must exist");const s=ci(e,r);if(DI(t.visibleWrites,s))return null;{const a=Uh(t.visibleWrites,s);return MI(a)?i.getChild(r):Mg(a,i.getChild(r))}}function OSe(t,e,r,n){const i=ci(e,r),s=wm(t.visibleWrites,i);if(s!=null)return s;if(n.isCompleteForChild(r)){const a=Uh(t.visibleWrites,i);return Mg(a,n.getNode().getImmediateChild(r))}else return null}function RSe(t,e){return wm(t.visibleWrites,e)}function PSe(t,e,r,n,i,s,a){let o;const l=Uh(t.visibleWrites,e),u=wm(l,zr());if(u!=null)o=u;else if(r!=null)o=Mg(l,r);else return[];if(o=o.withIndex(a),!o.isEmpty()&&!o.isLeafNode()){const d=[],f=a.getCompare(),g=s?o.getReverseIteratorFrom(n,a):o.getIteratorFrom(n,a);let v=g.getNext();for(;v&&d.length<i;)f(v,n)!==0&&d.push(v),v=g.getNext();return d}else return[]}function jSe(){return{visibleWrites:dc.empty(),allWrites:[],lastWriteId:-1}}function kE(t,e,r,n){return Ree(t.writeTree,t.treePath,e,r,n)}function NP(t,e){return NSe(t.writeTree,t.treePath,e)}function AU(t,e,r,n){return ISe(t.writeTree,t.treePath,e,r,n)}function AE(t,e){return RSe(t.writeTree,ci(t.treePath,e))}function DSe(t,e,r,n,i,s){return PSe(t.writeTree,t.treePath,e,r,n,i,s)}function IP(t,e,r){return OSe(t.writeTree,t.treePath,e,r)}function Pee(t,e){return jee(ci(t.treePath,e),t.writeTree)}function jee(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MSe{constructor(){this.changeMap=new Map}trackChildChange(e){const r=e.type,n=e.childName;st(r==="child_added"||r==="child_changed"||r==="child_removed","Only child changes supported for tracking"),st(n!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(n);if(i){const s=i.type;if(r==="child_added"&&s==="child_removed")this.changeMap.set(n,ex(n,e.snapshotNode,i.snapshotNode));else if(r==="child_removed"&&s==="child_added")this.changeMap.delete(n);else if(r==="child_removed"&&s==="child_changed")this.changeMap.set(n,Z1(n,i.oldSnap));else if(r==="child_changed"&&s==="child_added")this.changeMap.set(n,jg(n,e.snapshotNode));else if(r==="child_changed"&&s==="child_changed")this.changeMap.set(n,ex(n,e.snapshotNode,i.oldSnap));else throw av("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(n,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LSe{getCompleteChild(e){return null}getChildAfterChild(e,r,n){return null}}const Dee=new LSe;class OP{constructor(e,r,n=null){this.writes_=e,this.viewCache_=r,this.optCompleteServerCache_=n}getCompleteChild(e){const r=this.viewCache_.eventCache;if(r.isCompleteForChild(e))return r.getNode().getImmediateChild(e);{const n=this.optCompleteServerCache_!=null?new K0(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return IP(this.writes_,e,n)}}getChildAfterChild(e,r,n){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Y0(this.viewCache_),s=DSe(this.writes_,i,r,1,n,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FSe(t){return{filter:t}}function BSe(t,e){st(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),st(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function VSe(t,e,r,n,i){const s=new MSe;let a,o;if(r.type===ac.OVERWRITE){const u=r;u.source.fromUser?a=LI(t,e,u.path,u.snap,n,i,s):(st(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered()&&!ur(u.path),a=CE(t,e,u.path,u.snap,n,i,o,s))}else if(r.type===ac.MERGE){const u=r;u.source.fromUser?a=zSe(t,e,u.path,u.children,n,i,s):(st(u.source.fromServer,"Unknown source."),o=u.source.tagged||e.serverCache.isFiltered(),a=FI(t,e,u.path,u.children,n,i,o,s))}else if(r.type===ac.ACK_USER_WRITE){const u=r;u.revert?a=qSe(t,e,u.path,n,i,s):a=$Se(t,e,u.path,u.affectedTree,n,i,s)}else if(r.type===ac.LISTEN_COMPLETE)a=HSe(t,e,r.path,n,s);else throw av("Unknown operation type: "+r.type);const l=s.getChanges();return USe(e,a,l),{viewCache:a,changes:l}}function USe(t,e,r){const n=e.eventCache;if(n.isFullyInitialized()){const i=n.getNode().isLeafNode()||n.getNode().isEmpty(),s=PI(t);(r.length>0||!t.eventCache.isFullyInitialized()||i&&!n.getNode().equals(s)||!n.getNode().getPriority().equals(s.getPriority()))&&r.push(Cee(PI(e)))}}function Mee(t,e,r,n,i,s){const a=e.eventCache;if(AE(n,r)!=null)return e;{let o,l;if(ur(r))if(st(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const u=Y0(e),d=u instanceof $t?u:$t.EMPTY_NODE,f=NP(n,d);o=t.filter.updateFullNode(e.eventCache.getNode(),f,s)}else{const u=kE(n,Y0(e));o=t.filter.updateFullNode(e.eventCache.getNode(),u,s)}else{const u=or(r);if(u===".priority"){st(ef(r)===1,"Can't have a priority with additional path components");const d=a.getNode();l=e.serverCache.getNode();const f=AU(n,r,d,l);f!=null?o=t.filter.updatePriority(d,f):o=a.getNode()}else{const d=An(r);let f;if(a.isCompleteForChild(u)){l=e.serverCache.getNode();const g=AU(n,r,a.getNode(),l);g!=null?f=a.getNode().getImmediateChild(u).updateChild(d,g):f=a.getNode().getImmediateChild(u)}else f=IP(n,u,e.serverCache);f!=null?o=t.filter.updateChild(a.getNode(),u,f,d,i,s):o=a.getNode()}}return v1(e,o,a.isFullyInitialized()||ur(r),t.filter.filtersNodes())}}function CE(t,e,r,n,i,s,a,o){const l=e.serverCache;let u;const d=a?t.filter:t.filter.getIndexedFilter();if(ur(r))u=d.updateFullNode(l.getNode(),n,null);else if(d.filtersNodes()&&!l.isFiltered()){const v=l.getNode().updateChild(r,n);u=d.updateFullNode(l.getNode(),v,null)}else{const v=or(r);if(!l.isCompleteForPath(r)&&ef(r)>1)return e;const x=An(r),w=l.getNode().getImmediateChild(v).updateChild(x,n);v===".priority"?u=d.updatePriority(l.getNode(),w):u=d.updateChild(l.getNode(),v,w,x,Dee,null)}const f=Nee(e,u,l.isFullyInitialized()||ur(r),d.filtersNodes()),g=new OP(i,f,s);return Mee(t,f,r,i,g,o)}function LI(t,e,r,n,i,s,a){const o=e.eventCache;let l,u;const d=new OP(i,e,s);if(ur(r))u=t.filter.updateFullNode(e.eventCache.getNode(),n,a),l=v1(e,u,!0,t.filter.filtersNodes());else{const f=or(r);if(f===".priority")u=t.filter.updatePriority(e.eventCache.getNode(),n),l=v1(e,u,o.isFullyInitialized(),o.isFiltered());else{const g=An(r),v=o.getNode().getImmediateChild(f);let x;if(ur(g))x=n;else{const b=d.getCompleteChild(f);b!=null?xP(g)===".priority"&&b.getChild(wee(g)).isEmpty()?x=b:x=b.updateChild(g,n):x=$t.EMPTY_NODE}if(v.equals(x))l=e;else{const b=t.filter.updateChild(o.getNode(),f,x,g,d,a);l=v1(e,b,o.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function CU(t,e){return t.eventCache.isCompleteForChild(e)}function zSe(t,e,r,n,i,s,a){let o=e;return n.foreach((l,u)=>{const d=ci(r,l);CU(e,or(d))&&(o=LI(t,o,d,u,i,s,a))}),n.foreach((l,u)=>{const d=ci(r,l);CU(e,or(d))||(o=LI(t,o,d,u,i,s,a))}),o}function NU(t,e,r){return r.foreach((n,i)=>{e=e.updateChild(n,i)}),e}function FI(t,e,r,n,i,s,a,o){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,u;ur(r)?u=n:u=new jn(null).setTree(r,n);const d=e.serverCache.getNode();return u.children.inorderTraversal((f,g)=>{if(d.hasChild(f)){const v=e.serverCache.getNode().getImmediateChild(f),x=NU(t,v,g);l=CE(t,l,new dn(f),x,i,s,a,o)}}),u.children.inorderTraversal((f,g)=>{const v=!e.serverCache.isCompleteForChild(f)&&g.value===null;if(!d.hasChild(f)&&!v){const x=e.serverCache.getNode().getImmediateChild(f),b=NU(t,x,g);l=CE(t,l,new dn(f),b,i,s,a,o)}}),l}function $Se(t,e,r,n,i,s,a){if(AE(i,r)!=null)return e;const o=e.serverCache.isFiltered(),l=e.serverCache;if(n.value!=null){if(ur(r)&&l.isFullyInitialized()||l.isCompleteForPath(r))return CE(t,e,r,l.getNode().getChild(r),i,s,o,a);if(ur(r)){let u=new jn(null);return l.getNode().forEachChild(rg,(d,f)=>{u=u.set(new dn(d),f)}),FI(t,e,r,u,i,s,o,a)}else return e}else{let u=new jn(null);return n.foreach((d,f)=>{const g=ci(r,d);l.isCompleteForPath(g)&&(u=u.set(d,l.getNode().getChild(g)))}),FI(t,e,r,u,i,s,o,a)}}function HSe(t,e,r,n,i){const s=e.serverCache,a=Nee(e,s.getNode(),s.isFullyInitialized()||ur(r),s.isFiltered());return Mee(t,a,r,n,Dee,i)}function qSe(t,e,r,n,i,s){let a;if(AE(n,r)!=null)return e;{const o=new OP(n,e,i),l=e.eventCache.getNode();let u;if(ur(r)||or(r)===".priority"){let d;if(e.serverCache.isFullyInitialized())d=kE(n,Y0(e));else{const f=e.serverCache.getNode();st(f instanceof $t,"serverChildren would be complete if leaf node"),d=NP(n,f)}d=d,u=t.filter.updateFullNode(l,d,s)}else{const d=or(r);let f=IP(n,d,e.serverCache);f==null&&e.serverCache.isCompleteForChild(d)&&(f=l.getImmediateChild(d)),f!=null?u=t.filter.updateChild(l,d,f,An(r),o,s):e.eventCache.getNode().hasChild(d)?u=t.filter.updateChild(l,d,$t.EMPTY_NODE,An(r),o,s):u=l,u.isEmpty()&&e.serverCache.isFullyInitialized()&&(a=kE(n,Y0(e)),a.isLeafNode()&&(u=t.filter.updateFullNode(u,a,s)))}return a=e.serverCache.isFullyInitialized()||AE(n,zr())!=null,v1(e,u,a,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WSe{constructor(e,r){this.query_=e,this.eventRegistrations_=[];const n=this.query_._queryParams,i=new EP(n.getIndex()),s=uSe(n);this.processor_=FSe(s);const a=r.serverCache,o=r.eventCache,l=i.updateFullNode($t.EMPTY_NODE,a.getNode(),null),u=s.updateFullNode($t.EMPTY_NODE,o.getNode(),null),d=new K0(l,a.isFullyInitialized(),i.filtersNodes()),f=new K0(u,o.isFullyInitialized(),s.filtersNodes());this.viewCache_=JS(f,d),this.eventGenerator_=new vSe(this.query_)}get query(){return this.query_}}function GSe(t){return t.viewCache_.serverCache.getNode()}function KSe(t,e){const r=Y0(t.viewCache_);return r&&(t.query._queryParams.loadsAllData()||!ur(e)&&!r.getImmediateChild(or(e)).isEmpty())?r.getChild(e):null}function IU(t){return t.eventRegistrations_.length===0}function YSe(t,e){t.eventRegistrations_.push(e)}function OU(t,e,r){const n=[];if(r){st(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const a=s.createCancelEvent(r,i);a&&n.push(a)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const a=t.eventRegistrations_[s];if(!a.matches(e))i.push(a);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return n}function RU(t,e,r,n){e.type===ac.MERGE&&e.source.queryId!==null&&(st(Y0(t.viewCache_),"We should always have a full cache before handling merges"),st(PI(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=VSe(t.processor_,i,e,r,n);return BSe(t.processor_,s.viewCache),st(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,Lee(t,s.changes,s.viewCache.eventCache.getNode(),null)}function XSe(t,e){const r=t.viewCache_.eventCache,n=[];return r.getNode().isLeafNode()||r.getNode().forEachChild(di,(s,a)=>{n.push(jg(s,a))}),r.isFullyInitialized()&&n.push(Cee(r.getNode())),Lee(t,n,r.getNode(),e)}function Lee(t,e,r,n){const i=n?[n]:t.eventRegistrations_;return ySe(t.eventGenerator_,e,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let NE;class QSe{constructor(){this.views=new Map}}function JSe(t){st(!NE,"__referenceConstructor has already been defined"),NE=t}function ZSe(){return st(NE,"Reference.ts has not been loaded"),NE}function e4e(t){return t.views.size===0}function RP(t,e,r,n){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return st(s!=null,"SyncTree gave us an op for an invalid query."),RU(s,e,r,n)}else{let s=[];for(const a of t.views.values())s=s.concat(RU(a,e,r,n));return s}}function t4e(t,e,r,n,i){const s=e._queryIdentifier,a=t.views.get(s);if(!a){let o=kE(r,i?n:null),l=!1;o?l=!0:n instanceof $t?(o=NP(r,n),l=!1):(o=$t.EMPTY_NODE,l=!1);const u=JS(new K0(o,l,!1),new K0(n,i,!1));return new WSe(e,u)}return a}function r4e(t,e,r,n,i,s){const a=t4e(t,e,n,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,a),YSe(a,r),XSe(a,r)}function n4e(t,e,r,n){const i=e._queryIdentifier,s=[];let a=[];const o=tf(t);if(i==="default")for(const[l,u]of t.views.entries())a=a.concat(OU(u,r,n)),IU(u)&&(t.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=t.views.get(i);l&&(a=a.concat(OU(l,r,n)),IU(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return o&&!tf(t)&&s.push(new(ZSe())(e._repo,e._path)),{removed:s,events:a}}function Fee(t){const e=[];for(const r of t.views.values())r.query._queryParams.loadsAllData()||e.push(r);return e}function ng(t,e){let r=null;for(const n of t.views.values())r=r||KSe(n,e);return r}function Bee(t,e){if(e._queryParams.loadsAllData())return ZS(t);{const n=e._queryIdentifier;return t.views.get(n)}}function Vee(t,e){return Bee(t,e)!=null}function tf(t){return ZS(t)!=null}function ZS(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let IE;function i4e(t){st(!IE,"__referenceConstructor has already been defined"),IE=t}function s4e(){return st(IE,"Reference.ts has not been loaded"),IE}let a4e=1;class PU{constructor(e){this.listenProvider_=e,this.syncPointTree_=new jn(null),this.pendingWriteTree_=jSe(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function Uee(t,e,r,n,i){return _Se(t.pendingWriteTree_,e,r,n,i),i?yv(t,new G0(SP(),e,r)):[]}function o4e(t,e,r,n){ESe(t.pendingWriteTree_,e,r,n);const i=jn.fromObject(r);return yv(t,new Dg(SP(),e,i))}function Nh(t,e,r=!1){const n=TSe(t.pendingWriteTree_,e);if(SSe(t.pendingWriteTree_,e)){let s=new jn(null);return n.snap!=null?s=s.set(zr(),!0):zs(n.children,a=>{s=s.set(new dn(a),!0)}),yv(t,new SE(n.path,s,r))}else return[]}function e4(t,e,r){return yv(t,new G0(kP(),e,r))}function l4e(t,e,r){const n=jn.fromObject(r);return yv(t,new Dg(kP(),e,n))}function c4e(t,e){return yv(t,new rx(kP(),e))}function u4e(t,e,r){const n=jP(t,r);if(n){const i=DP(n),s=i.path,a=i.queryId,o=uo(s,e),l=new rx(AP(a),o);return MP(t,s,l)}else return[]}function BI(t,e,r,n,i=!1){const s=e._path,a=t.syncPointTree_.get(s);let o=[];if(a&&(e._queryIdentifier==="default"||Vee(a,e))){const l=n4e(a,e,r,n);e4e(a)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const u=l.removed;if(o=l.events,!i){const d=u.findIndex(g=>g._queryParams.loadsAllData())!==-1,f=t.syncPointTree_.findOnPath(s,(g,v)=>tf(v));if(d&&!f){const g=t.syncPointTree_.subtree(s);if(!g.isEmpty()){const v=f4e(g);for(let x=0;x<v.length;++x){const b=v[x],w=b.query,E=Hee(t,b);t.listenProvider_.startListening(x1(w),OE(t,w),E.hashFn,E.onComplete)}}}!f&&u.length>0&&!n&&(d?t.listenProvider_.stopListening(x1(e),null):u.forEach(g=>{const v=t.queryToTagMap.get(t4(g));t.listenProvider_.stopListening(x1(g),v)}))}m4e(t,u)}return o}function d4e(t,e,r,n){const i=jP(t,n);if(i!=null){const s=DP(i),a=s.path,o=s.queryId,l=uo(a,e),u=new G0(AP(o),l,r);return MP(t,a,u)}else return[]}function h4e(t,e,r,n){const i=jP(t,n);if(i){const s=DP(i),a=s.path,o=s.queryId,l=uo(a,e),u=jn.fromObject(r),d=new Dg(AP(o),l,u);return MP(t,a,d)}else return[]}function jU(t,e,r,n=!1){const i=e._path;let s=null,a=!1;t.syncPointTree_.foreachOnPath(i,(g,v)=>{const x=uo(g,i);s=s||ng(v,x),a=a||tf(v)});let o=t.syncPointTree_.get(i);o?(a=a||tf(o),s=s||ng(o,zr())):(o=new QSe,t.syncPointTree_=t.syncPointTree_.set(i,o));let l;s!=null?l=!0:(l=!1,s=$t.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((v,x)=>{const b=ng(x,zr());b&&(s=s.updateImmediateChild(v,b))}));const u=Vee(o,e);if(!u&&!e._queryParams.loadsAllData()){const g=t4(e);st(!t.queryToTagMap.has(g),"View does not exist, but we have a tag");const v=p4e();t.queryToTagMap.set(g,v),t.tagToQueryMap.set(v,g)}const d=CP(t.pendingWriteTree_,i);let f=r4e(o,e,r,d,s,l);if(!u&&!a&&!n){const g=Bee(o,e);f=f.concat(g4e(t,e,g))}return f}function PP(t,e,r){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(a,o)=>{const l=uo(a,e),u=ng(o,l);if(u)return u});return Ree(i,e,s,r,!0)}function yv(t,e){return zee(e,t.syncPointTree_,null,CP(t.pendingWriteTree_,zr()))}function zee(t,e,r,n){if(ur(t.path))return $ee(t,e,r,n);{const i=e.get(zr());r==null&&i!=null&&(r=ng(i,zr()));let s=[];const a=or(t.path),o=t.operationForChild(a),l=e.children.get(a);if(l&&o){const u=r?r.getImmediateChild(a):null,d=Pee(n,a);s=s.concat(zee(o,l,u,d))}return i&&(s=s.concat(RP(i,t,n,r))),s}}function $ee(t,e,r,n){const i=e.get(zr());r==null&&i!=null&&(r=ng(i,zr()));let s=[];return e.children.inorderTraversal((a,o)=>{const l=r?r.getImmediateChild(a):null,u=Pee(n,a),d=t.operationForChild(a);d&&(s=s.concat($ee(d,o,l,u)))}),i&&(s=s.concat(RP(i,t,n,r))),s}function Hee(t,e){const r=e.query,n=OE(t,r);return{hashFn:()=>(GSe(e)||$t.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return n?u4e(t,r._path,n):c4e(t,r._path);{const s=lTe(i,r);return BI(t,r,null,s)}}}}function OE(t,e){const r=t4(e);return t.queryToTagMap.get(r)}function t4(t){return t._path.toString()+"$"+t._queryIdentifier}function jP(t,e){return t.tagToQueryMap.get(e)}function DP(t){const e=t.indexOf("$");return st(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new dn(t.substr(0,e))}}function MP(t,e,r){const n=t.syncPointTree_.get(e);st(n,"Missing sync point for query tag that we're tracking");const i=CP(t.pendingWriteTree_,e);return RP(n,r,i,null)}function f4e(t){return t.fold((e,r,n)=>{if(r&&tf(r))return[ZS(r)];{let i=[];return r&&(i=Fee(r)),zs(n,(s,a)=>{i=i.concat(a)}),i}})}function x1(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(s4e())(t._repo,t._path):t}function m4e(t,e){for(let r=0;r<e.length;++r){const n=e[r];if(!n._queryParams.loadsAllData()){const i=t4(n),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function p4e(){return a4e++}function g4e(t,e,r){const n=e._path,i=OE(t,e),s=Hee(t,r),a=t.listenProvider_.startListening(x1(e),i,s.hashFn,s.onComplete),o=t.syncPointTree_.subtree(n);if(i)st(!tf(o.value),"If we're adding a query, it shouldn't be shadowed");else{const l=o.fold((u,d,f)=>{if(!ur(u)&&d&&tf(d))return[ZS(d).query];{let g=[];return d&&(g=g.concat(Fee(d).map(v=>v.query))),zs(f,(v,x)=>{g=g.concat(x)}),g}});for(let u=0;u<l.length;++u){const d=l[u];t.listenProvider_.stopListening(x1(d),OE(t,d))}}return a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(e){this.node_=e}getImmediateChild(e){const r=this.node_.getImmediateChild(e);return new LP(r)}node(){return this.node_}}class FP{constructor(e,r){this.syncTree_=e,this.path_=r}getImmediateChild(e){const r=ci(this.path_,e);return new FP(this.syncTree_,r)}node(){return PP(this.syncTree_,this.path_)}}const v4e=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},DU=function(t,e,r){if(!t||typeof t!="object")return t;if(st(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return y4e(t[".sv"],e,r);if(typeof t[".sv"]=="object")return x4e(t[".sv"],e);st(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},y4e=function(t,e,r){switch(t){case"timestamp":return r.timestamp;default:st(!1,"Unexpected server value: "+t)}},x4e=function(t,e,r){t.hasOwnProperty("increment")||st(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const n=t.increment;typeof n!="number"&&st(!1,"Unexpected increment value: "+n);const i=e.node();if(st(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return n;const a=i.getValue();return typeof a!="number"?n:a+n},qee=function(t,e,r,n){return BP(e,new FP(r,t),n)},Wee=function(t,e,r){return BP(t,new LP(e),r)};function BP(t,e,r){const n=t.getPriority().val(),i=DU(n,e.getImmediateChild(".priority"),r);let s;if(t.isLeafNode()){const a=t,o=DU(a.getValue(),e,r);return o!==a.getValue()||i!==a.getPriority().val()?new Ns(o,Li(i)):t}else{const a=t;return s=a,i!==a.getPriority().val()&&(s=s.updatePriority(new Ns(i))),a.forEachChild(di,(o,l)=>{const u=BP(l,e.getImmediateChild(o),r);u!==l&&(s=s.updateImmediateChild(o,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VP{constructor(e="",r=null,n={children:{},childCount:0}){this.name=e,this.parent=r,this.node=n}}function UP(t,e){let r=e instanceof dn?e:new dn(e),n=t,i=or(r);for(;i!==null;){const s=wg(n.node.children,i)||{children:{},childCount:0};n=new VP(i,n,s),r=An(r),i=or(r)}return n}function xv(t){return t.node.value}function Gee(t,e){t.node.value=e,VI(t)}function Kee(t){return t.node.childCount>0}function b4e(t){return xv(t)===void 0&&!Kee(t)}function r4(t,e){zs(t.node.children,(r,n)=>{e(new VP(r,t,n))})}function Yee(t,e,r,n){r&&e(t),r4(t,i=>{Yee(i,e,!0)})}function w4e(t,e,r){let n=t.parent;for(;n!==null;){if(e(n))return!0;n=n.parent}return!1}function hb(t){return new dn(t.parent===null?t.name:hb(t.parent)+"/"+t.name)}function VI(t){t.parent!==null&&_4e(t.parent,t.name,t)}function _4e(t,e,r){const n=b4e(r),i=hu(t.node.children,e);n&&i?(delete t.node.children[e],t.node.childCount--,VI(t)):!n&&!i&&(t.node.children[e]=r.node,t.node.childCount++,VI(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E4e=/[\[\].#$\/\u0000-\u001F\u007F]/,T4e=/[\[\].#$\u0000-\u001F\u007F]/,s3=10*1024*1024,zP=function(t){return typeof t=="string"&&t.length!==0&&!E4e.test(t)},Xee=function(t){return typeof t=="string"&&t.length!==0&&!T4e.test(t)},S4e=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Xee(t)},Qee=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!XS(t)||t&&typeof t=="object"&&hu(t,".sv")},UI=function(t,e,r,n){n4(_g(t,"value"),e,r)},n4=function(t,e,r){const n=r instanceof dn?new zTe(r,t):r;if(e===void 0)throw new Error(t+"contains undefined "+i0(n));if(typeof e=="function")throw new Error(t+"contains a function "+i0(n)+" with contents = "+e.toString());if(XS(e))throw new Error(t+"contains "+e.toString()+" "+i0(n));if(typeof e=="string"&&e.length>s3/3&&yS(e)>s3)throw new Error(t+"contains a string greater than "+s3+" utf8 bytes "+i0(n)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(zs(e,(a,o)=>{if(a===".value")i=!0;else if(a!==".priority"&&a!==".sv"&&(s=!0,!zP(a)))throw new Error(t+" contains an invalid key ("+a+") "+i0(n)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);$Te(n,a),n4(t,o,n),HTe(n)}),i&&s)throw new Error(t+' contains ".value" child '+i0(n)+" in addition to actual children.")}},k4e=function(t,e){let r,n;for(r=0;r<e.length;r++){n=e[r];const s=J1(n);for(let a=0;a<s.length;a++)if(!(s[a]===".priority"&&a===s.length-1)){if(!zP(s[a]))throw new Error(t+"contains an invalid key ("+s[a]+") in path "+n.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(UTe);let i=null;for(r=0;r<e.length;r++){if(n=e[r],i!==null&&Tl(i,n))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+n.toString());i=n}},Jee=function(t,e,r,n){const i=_g(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];zs(e,(a,o)=>{const l=new dn(a);if(n4(i,o,ci(r,l)),xP(l)===".priority"&&!Qee(o))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),k4e(i,s)},A4e=function(t,e,r){if(XS(e))throw new Error(_g(t,"priority")+"is "+e.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!Qee(e))throw new Error(_g(t,"priority")+"must be a valid Firebase priority (a string, finite number, server value, or null).")},Zee=function(t,e,r,n){if(!Xee(r))throw new Error(_g(t,e)+'was an invalid path = "'+r+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},C4e=function(t,e,r,n){r&&(r=r.replace(/^\/*\.info(\/|$)/,"/")),Zee(t,e,r)},Hp=function(t,e){if(or(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},N4e=function(t,e){const r=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!zP(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||r.length!==0&&!S4e(r))throw new Error(_g(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I4e{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function i4(t,e){let r=null;for(let n=0;n<e.length;n++){const i=e[n],s=i.getPath();r!==null&&!bP(s,r.path)&&(t.eventLists_.push(r),r=null),r===null&&(r={events:[],path:s}),r.events.push(i)}r&&t.eventLists_.push(r)}function ete(t,e,r){i4(t,r),tte(t,n=>bP(n,e))}function xc(t,e,r){i4(t,r),tte(t,n=>Tl(n,e)||Tl(e,n))}function tte(t,e){t.recursionDepth_++;let r=!0;for(let n=0;n<t.eventLists_.length;n++){const i=t.eventLists_[n];if(i){const s=i.path;e(s)?(O4e(t.eventLists_[n]),t.eventLists_[n]=null):r=!1}}r&&(t.eventLists_=[]),t.recursionDepth_--}function O4e(t){for(let e=0;e<t.events.length;e++){const r=t.events[e];if(r!==null){t.events[e]=null;const n=r.getEventRunner();p1&&Ds("event: "+r.toString()),gv(n)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R4e="repo_interrupt",P4e=25;class j4e{constructor(e,r,n,i){this.repoInfo_=e,this.forceRestClient_=r,this.authTokenProvider_=n,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new I4e,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=TE(),this.transactionQueueTree_=new VP,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function D4e(t,e,r){if(t.stats_=vP(t.repoInfo_),t.forceRestClient_||hTe())t.server_=new EE(t.repoInfo_,(n,i,s,a)=>{MU(t,n,i,s,a)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>LU(t,!0),0);else{if(typeof r<"u"&&r!==null){if(typeof r!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{Ms(r)}catch(n){throw new Error("Invalid authOverride provided: "+n)}}t.persistentConnection_=new rd(t.repoInfo_,e,(n,i,s,a)=>{MU(t,n,i,s,a)},n=>{LU(t,n)},n=>{L4e(t,n)},t.authTokenProvider_,t.appCheckProvider_,r),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(n=>{t.server_.refreshAuthToken(n)}),t.appCheckProvider_.addTokenChangeListener(n=>{t.server_.refreshAppCheckToken(n.token)}),t.statsReporter_=vTe(t.repoInfo_,()=>new gSe(t.stats_,t.server_)),t.infoData_=new dSe,t.infoSyncTree_=new PU({startListening:(n,i,s,a)=>{let o=[];const l=t.infoData_.getNode(n._path);return l.isEmpty()||(o=e4(t.infoSyncTree_,n._path,l),setTimeout(()=>{a("ok")},0)),o},stopListening:()=>{}}),$P(t,"connected",!1),t.serverSyncTree_=new PU({startListening:(n,i,s,a)=>(t.server_.listen(n,s,i,(o,l)=>{const u=a(o,l);xc(t.eventQueue_,n._path,u)}),[]),stopListening:(n,i)=>{t.server_.unlisten(n,i)}})}function M4e(t){const r=t.infoData_.getNode(new dn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+r}function s4(t){return v4e({timestamp:M4e(t)})}function MU(t,e,r,n,i){t.dataUpdateCount++;const s=new dn(e);r=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,r):r;let a=[];if(i)if(n){const l=Q2(r,u=>Li(u));a=h4e(t.serverSyncTree_,s,l,i)}else{const l=Li(r);a=d4e(t.serverSyncTree_,s,l,i)}else if(n){const l=Q2(r,u=>Li(u));a=l4e(t.serverSyncTree_,s,l)}else{const l=Li(r);a=e4(t.serverSyncTree_,s,l)}let o=s;a.length>0&&(o=Lg(t,s)),xc(t.eventQueue_,o,a)}function LU(t,e){$P(t,"connected",e),e===!1&&V4e(t)}function L4e(t,e){zs(e,(r,n)=>{$P(t,r,n)})}function $P(t,e,r){const n=new dn("/.info/"+e),i=Li(r);t.infoData_.updateSnapshot(n,i);const s=e4(t.infoSyncTree_,n,i);xc(t.eventQueue_,n,s)}function HP(t){return t.nextWriteId_++}function F4e(t,e,r,n,i){a4(t,"set",{path:e.toString(),value:r,priority:n});const s=s4(t),a=Li(r,n),o=PP(t.serverSyncTree_,e),l=Wee(a,o,s),u=HP(t),d=Uee(t.serverSyncTree_,e,l,u,!0);i4(t.eventQueue_,d),t.server_.put(e.toString(),a.val(!0),(g,v)=>{const x=g==="ok";x||Ha("set at "+e+" failed: "+g);const b=Nh(t.serverSyncTree_,u,!x);xc(t.eventQueue_,e,b),rf(t,i,g,v)});const f=WP(t,e);Lg(t,f),xc(t.eventQueue_,f,[])}function B4e(t,e,r,n){a4(t,"update",{path:e.toString(),value:r});let i=!0;const s=s4(t),a={};if(zs(r,(o,l)=>{i=!1,a[o]=qee(ci(e,o),Li(l),t.serverSyncTree_,s)}),i)Ds("update() called with empty data.  Don't do anything."),rf(t,n,"ok",void 0);else{const o=HP(t),l=o4e(t.serverSyncTree_,e,a,o);i4(t.eventQueue_,l),t.server_.merge(e.toString(),r,(u,d)=>{const f=u==="ok";f||Ha("update at "+e+" failed: "+u);const g=Nh(t.serverSyncTree_,o,!f),v=g.length>0?Lg(t,e):e;xc(t.eventQueue_,v,g),rf(t,n,u,d)}),zs(r,u=>{const d=WP(t,ci(e,u));Lg(t,d)}),xc(t.eventQueue_,e,[])}}function V4e(t){a4(t,"onDisconnectEvents");const e=s4(t),r=TE();RI(t.onDisconnect_,zr(),(i,s)=>{const a=qee(i,s,t.serverSyncTree_,e);vv(r,i,a)});let n=[];RI(r,zr(),(i,s)=>{n=n.concat(e4(t.serverSyncTree_,i,s));const a=WP(t,i);Lg(t,a)}),t.onDisconnect_=TE(),xc(t.eventQueue_,zr(),n)}function U4e(t,e,r){t.server_.onDisconnectCancel(e.toString(),(n,i)=>{n==="ok"&&OI(t.onDisconnect_,e),rf(t,r,n,i)})}function FU(t,e,r,n){const i=Li(r);t.server_.onDisconnectPut(e.toString(),i.val(!0),(s,a)=>{s==="ok"&&vv(t.onDisconnect_,e,i),rf(t,n,s,a)})}function z4e(t,e,r,n,i){const s=Li(r,n);t.server_.onDisconnectPut(e.toString(),s.val(!0),(a,o)=>{a==="ok"&&vv(t.onDisconnect_,e,s),rf(t,i,a,o)})}function $4e(t,e,r,n){if(X2(r)){Ds("onDisconnect().update() called with empty data.  Don't do anything."),rf(t,n,"ok",void 0);return}t.server_.onDisconnectMerge(e.toString(),r,(i,s)=>{i==="ok"&&zs(r,(a,o)=>{const l=Li(o);vv(t.onDisconnect_,ci(e,a),l)}),rf(t,n,i,s)})}function H4e(t,e,r){let n;or(e._path)===".info"?n=jU(t.infoSyncTree_,e,r):n=jU(t.serverSyncTree_,e,r),ete(t.eventQueue_,e._path,n)}function q4e(t,e,r){let n;or(e._path)===".info"?n=BI(t.infoSyncTree_,e,r):n=BI(t.serverSyncTree_,e,r),ete(t.eventQueue_,e._path,n)}function W4e(t){t.persistentConnection_&&t.persistentConnection_.interrupt(R4e)}function a4(t,...e){let r="";t.persistentConnection_&&(r=t.persistentConnection_.id+":"),Ds(r,...e)}function rf(t,e,r,n){e&&gv(()=>{if(r==="ok")e(null);else{const i=(r||"error").toUpperCase();let s=i;n&&(s+=": "+n);const a=new Error(s);a.code=i,e(a)}})}function rte(t,e,r){return PP(t.serverSyncTree_,e,r)||$t.EMPTY_NODE}function qP(t,e=t.transactionQueueTree_){if(e||o4(t,e),xv(e)){const r=ite(t,e);st(r.length>0,"Sending zero length transaction queue"),r.every(i=>i.status===0)&&G4e(t,hb(e),r)}else Kee(e)&&r4(e,r=>{qP(t,r)})}function G4e(t,e,r){const n=r.map(u=>u.currentWriteId),i=rte(t,e,n);let s=i;const a=i.hash();for(let u=0;u<r.length;u++){const d=r[u];st(d.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),d.status=1,d.retryCount++;const f=uo(e,d.path);s=s.updateChild(f,d.currentOutputSnapshotRaw)}const o=s.val(!0),l=e;t.server_.put(l.toString(),o,u=>{a4(t,"transaction put response",{path:l.toString(),status:u});let d=[];if(u==="ok"){const f=[];for(let g=0;g<r.length;g++)r[g].status=2,d=d.concat(Nh(t.serverSyncTree_,r[g].currentWriteId)),r[g].onComplete&&f.push(()=>r[g].onComplete(null,!0,r[g].currentOutputSnapshotResolved)),r[g].unwatcher();o4(t,UP(t.transactionQueueTree_,e)),qP(t,t.transactionQueueTree_),xc(t.eventQueue_,e,d);for(let g=0;g<f.length;g++)gv(f[g])}else{if(u==="datastale")for(let f=0;f<r.length;f++)r[f].status===3?r[f].status=4:r[f].status=0;else{Ha("transaction at "+l.toString()+" failed: "+u);for(let f=0;f<r.length;f++)r[f].status=4,r[f].abortReason=u}Lg(t,e)}},a)}function Lg(t,e){const r=nte(t,e),n=hb(r),i=ite(t,r);return K4e(t,i,n),n}function K4e(t,e,r){if(e.length===0)return;const n=[];let i=[];const a=e.filter(o=>o.status===0).map(o=>o.currentWriteId);for(let o=0;o<e.length;o++){const l=e[o],u=uo(r,l.path);let d=!1,f;if(st(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)d=!0,f=l.abortReason,i=i.concat(Nh(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=P4e)d=!0,f="maxretry",i=i.concat(Nh(t.serverSyncTree_,l.currentWriteId,!0));else{const g=rte(t,l.path,a);l.currentInputSnapshot=g;const v=e[o].update(g.val());if(v!==void 0){n4("transaction failed: Data returned ",v,l.path);let x=Li(v);typeof v=="object"&&v!=null&&hu(v,".priority")||(x=x.updatePriority(g.getPriority()));const w=l.currentWriteId,E=s4(t),k=Wee(x,g,E);l.currentOutputSnapshotRaw=x,l.currentOutputSnapshotResolved=k,l.currentWriteId=HP(t),a.splice(a.indexOf(w),1),i=i.concat(Uee(t.serverSyncTree_,l.path,k,l.currentWriteId,l.applyLocally)),i=i.concat(Nh(t.serverSyncTree_,w,!0))}else d=!0,f="nodata",i=i.concat(Nh(t.serverSyncTree_,l.currentWriteId,!0))}xc(t.eventQueue_,r,i),i=[],d&&(e[o].status=2,(function(g){setTimeout(g,Math.floor(0))})(e[o].unwatcher),e[o].onComplete&&(f==="nodata"?n.push(()=>e[o].onComplete(null,!1,e[o].currentInputSnapshot)):n.push(()=>e[o].onComplete(new Error(f),!1,null))))}o4(t,t.transactionQueueTree_);for(let o=0;o<n.length;o++)gv(n[o]);qP(t,t.transactionQueueTree_)}function nte(t,e){let r,n=t.transactionQueueTree_;for(r=or(e);r!==null&&xv(n)===void 0;)n=UP(n,r),e=An(e),r=or(e);return n}function ite(t,e){const r=[];return ste(t,e,r),r.sort((n,i)=>n.order-i.order),r}function ste(t,e,r){const n=xv(e);if(n)for(let i=0;i<n.length;i++)r.push(n[i]);r4(e,i=>{ste(t,i,r)})}function o4(t,e){const r=xv(e);if(r){let n=0;for(let i=0;i<r.length;i++)r[i].status!==2&&(r[n]=r[i],n++);r.length=n,Gee(e,r.length>0?r:void 0)}r4(e,n=>{o4(t,n)})}function WP(t,e){const r=hb(nte(t,e)),n=UP(t.transactionQueueTree_,e);return w4e(n,i=>{a3(t,i)}),a3(t,n),Yee(n,i=>{a3(t,i)}),r}function a3(t,e){const r=xv(e);if(r){const n=[];let i=[],s=-1;for(let a=0;a<r.length;a++)r[a].status===3||(r[a].status===1?(st(s===a-1,"All SENT items should be at beginning of queue."),s=a,r[a].status=3,r[a].abortReason="set"):(st(r[a].status===0,"Unexpected transaction status in abort"),r[a].unwatcher(),i=i.concat(Nh(t.serverSyncTree_,r[a].currentWriteId,!0)),r[a].onComplete&&n.push(r[a].onComplete.bind(null,new Error("set"),!1,null))));s===-1?Gee(e,void 0):r.length=s+1,xc(t.eventQueue_,hb(e),i);for(let a=0;a<n.length;a++)gv(n[a])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Y4e(t){let e="";const r=t.split("/");for(let n=0;n<r.length;n++)if(r[n].length>0){let i=r[n];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function X4e(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const r of t.split("&")){if(r.length===0)continue;const n=r.split("=");n.length===2?e[decodeURIComponent(n[0])]=decodeURIComponent(n[1]):Ha(`Invalid query segment '${r}' in query '${t}'`)}return e}const BU=function(t,e){const r=Q4e(t),n=r.namespace;r.domain==="firebase.com"&&gd(r.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!n||n==="undefined")&&r.domain!=="localhost"&&gd("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),r.secure||nTe();const i=r.scheme==="ws"||r.scheme==="wss";return{repoInfo:new hee(r.host,r.secure,n,i,e,"",n!==r.subdomain),path:new dn(r.pathString)}},Q4e=function(t){let e="",r="",n="",i="",s="",a=!0,o="https",l=443;if(typeof t=="string"){let u=t.indexOf("//");u>=0&&(o=t.substring(0,u-1),t=t.substring(u+2));let d=t.indexOf("/");d===-1&&(d=t.length);let f=t.indexOf("?");f===-1&&(f=t.length),e=t.substring(0,Math.min(d,f)),d<f&&(i=Y4e(t.substring(d,f)));const g=X4e(t.substring(Math.min(t.length,f)));u=e.indexOf(":"),u>=0?(a=o==="https"||o==="wss",l=parseInt(e.substring(u+1),10)):u=e.length;const v=e.slice(0,u);if(v.toLowerCase()==="localhost")r="localhost";else if(v.split(".").length<=2)r=v;else{const x=e.indexOf(".");n=e.substring(0,x).toLowerCase(),r=e.substring(x+1),s=n}"ns"in g&&(s=g.ns)}return{host:e,port:l,domain:r,subdomain:n,secure:a,scheme:o,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J4e{constructor(e,r,n,i){this.eventType=e,this.eventRegistration=r,this.snapshot=n,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+Ms(this.snapshot.exportVal())}}class Z4e{constructor(e,r,n){this.eventRegistration=e,this.error=r,this.path=n}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eke{constructor(e,r){this.snapshotCallback=e,this.cancelCallback=r}onValue(e,r){this.snapshotCallback.call(null,e,r)}onCancel(e){return st(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tke{constructor(e,r){this._repo=e,this._path=r}cancel(){const e=new Wc;return U4e(this._repo,this._path,e.wrapCallback(()=>{})),e.promise}remove(){Hp("OnDisconnect.remove",this._path);const e=new Wc;return FU(this._repo,this._path,null,e.wrapCallback(()=>{})),e.promise}set(e){Hp("OnDisconnect.set",this._path),UI("OnDisconnect.set",e,this._path);const r=new Wc;return FU(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}setWithPriority(e,r){Hp("OnDisconnect.setWithPriority",this._path),UI("OnDisconnect.setWithPriority",e,this._path),A4e("OnDisconnect.setWithPriority",r);const n=new Wc;return z4e(this._repo,this._path,e,r,n.wrapCallback(()=>{})),n.promise}update(e){Hp("OnDisconnect.update",this._path),Jee("OnDisconnect.update",e,this._path);const r=new Wc;return $4e(this._repo,this._path,e,r.wrapCallback(()=>{})),r.promise}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{constructor(e,r,n,i){this._repo=e,this._path=r,this._queryParams=n,this._orderByCalled=i}get key(){return ur(this._path)?null:xP(this._path)}get ref(){return new xf(this._repo,this._path)}get _queryIdentifier(){const e=EU(this._queryParams),r=pP(e);return r==="{}"?"default":r}get _queryObject(){return EU(this._queryParams)}isEqual(e){if(e=Pr(e),!(e instanceof GP))return!1;const r=this._repo===e._repo,n=bP(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return r&&n&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+VTe(this._path)}}class xf extends GP{constructor(e,r){super(e,r,new TP,!1)}get parent(){const e=wee(this._path);return e===null?null:new xf(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class RE{constructor(e,r,n){this._node=e,this.ref=r,this._index=n}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const r=new dn(e),n=zI(this.ref,e);return new RE(this._node.getChild(r),n,di)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(n,i)=>e(new RE(i,zI(this.ref,n),di)))}hasChild(e){const r=new dn(e);return!this._node.getChild(r).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function fo(t,e){return t=Pr(t),t._checkNotDeleted("ref"),e!==void 0?zI(t._root,e):t._root}function zI(t,e){return t=Pr(t),or(t._path)===null?C4e("child","path",e):Zee("child","path",e),new xf(t._repo,ci(t._path,e))}function ate(t){return t=Pr(t),new tke(t._repo,t._path)}function $I(t){return Hp("remove",t._path),l4(t,null)}function l4(t,e){t=Pr(t),Hp("set",t._path),UI("set",e,t._path);const r=new Wc;return F4e(t._repo,t._path,e,null,r.wrapCallback(()=>{})),r.promise}function HI(t,e){Jee("update",e,t._path);const r=new Wc;return B4e(t._repo,t._path,e,r.wrapCallback(()=>{})),r.promise}class KP{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,r){const n=r._queryParams.getIndex();return new J4e("value",this,new RE(e.snapshotNode,new xf(r._repo,r._path),n))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,r){return this.callbackContext.hasCancelCallback?new Z4e(this,e,r):null}matches(e){return e instanceof KP?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function rke(t,e,r,n,i){const s=new eke(r,void 0),a=new KP(s);return H4e(t._repo,t,a),()=>q4e(t._repo,t,a)}function nx(t,e,r,n){return rke(t,"value",e)}JSe(xf);i4e(xf);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nke="FIREBASE_DATABASE_EMULATOR_HOST",qI={};let ike=!1;function ske(t,e,r,n){const i=e.lastIndexOf(":"),s=e.substring(0,i),a=Sd(s);t.repoInfo_=new hee(e,a,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,r),n&&(t.authTokenProvider_=n)}function ake(t,e,r,n,i){let s=n||t.options.databaseURL;s===void 0&&(t.options.projectId||gd("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Ds("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let a=BU(s,i),o=a.repoInfo,l;typeof process<"u"&&sU&&(l=sU[nke]),l?(s=`http://${l}?ns=${o.namespace}`,a=BU(s,i),o=a.repoInfo):a.repoInfo.secure;const u=new mTe(t.name,t.options,e);N4e("Invalid Firebase Database URL",a),ur(a.path)||gd("Database URL must point to the root of a Firebase Database (not including a child path).");const d=lke(o,t,u,new fTe(t,r));return new cke(d,t)}function oke(t,e){const r=qI[e];(!r||r[t.key]!==t)&&gd(`Database ${e}(${t.repoInfo_}) has already been deleted.`),W4e(t),delete r[t.key]}function lke(t,e,r,n){let i=qI[e.name];i||(i={},qI[e.name]=i);let s=i[t.toURLString()];return s&&gd("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new j4e(t,ike,r,n),i[t.toURLString()]=s,s}class cke{constructor(e,r){this._repoInternal=e,this.app=r,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(D4e(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new xf(this._repo,zr())),this._rootInternal}_delete(){return this._rootInternal!==null&&(oke(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&gd("Cannot call "+e+" on a deleted database.")}}function uke(t=hm(),e){const r=Qx(t,"database").getImmediate({identifier:e});if(!r._instanceStarted){const n=mR("database");n&&dke(r,...n)}return r}function dke(t,e,r,n={}){t=Pr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${r}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&iu(n,s.repoInfo_.emulatorOptions))return;gd("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let a;if(s.repoInfo_.nodeAdmin)n.mockUserToken&&gd('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new j2(j2.OWNER);else if(n.mockUserToken){const o=typeof n.mockUserToken=="string"?n.mockUserToken:pR(n.mockUserToken,t.app.options.projectId);a=new j2(o)}Sd(e)&&(gS(e),vS("Database",!0)),ske(s,i,n,a)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hke(t){QEe(mf),Wh(new dd("database",(e,{instanceIdentifier:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return ake(n,i,s,r)},"PUBLIC").setMultipleInstances(!0)),Nl(aU,oU,t),Nl(aU,oU,"esm2020")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fke={".sv":"timestamp"};function v0(){return fke}rd.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};rd.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};hke();const c4={apiKey:"AIzaSyAqc-ct97cFYhUbX1qQA08zUDD6xAz6Ias",authDomain:"thi-tnd.firebaseapp.com",projectId:"thi-tnd",storageBucket:"thi-tnd.firebasestorage.app",messagingSenderId:"107125875663",appId:"1:107125875663:web:0e1a632779f51340c828ba",databaseURL:"https://thi-tnd-default-rtdb.asia-southeast1.firebasedatabase.app"},fb=W1e().length?hm():bS(c4),js=mP(fb);O2(js,gE).catch(t=>{console.error("Auth Persistence Error:",t)});const Ye=XJ(fb),oa=uke(fb);GEe(fb);const ote=Object.freeze(Object.defineProperty({__proto__:null,app:fb,auth:js,db:Ye,firebaseConfig:c4,rtdb:oa},Symbol.toStringTag,{value:"Module"})),lte=async(t,e,r,n,i,s,a,o,l,u)=>{try{const d={title:t,message:e,type:r,targetType:n==="role"?"all":n,_originalTargetType:n,targetId:i,targetName:l||null,targetRoles:u||[],senderId:s,senderName:a||"H thng",createdAt:sa(),expiryDate:o?wn.fromDate(o):null,read:!1,readBy:[],deletedBy:[]};if(n==="user"&&i)await Zh(qt(Ye,"users",i,"notifications"),d);else if(n==="class"&&i){let f=new Map;const g=pr(qt(Ye,"courses"),kr("name","==",i)),v=await _n(g);let x=null,b=i;if(!v.empty)x=v.docs[0].id;else{const k=Ht(Ye,"courses",i),A=await _n(pr(qt(Ye,"courses"),kr(FS(),"==",i)));A.empty||(x=i,b=A.docs[0].data().name)}const w=[];if(b&&w.push(_n(pr(qt(Ye,"users"),kr("courseName","==",b)))),x&&w.push(_n(pr(qt(Ye,"users"),kr("courseId","==",x)))),(await Promise.all(w)).forEach(k=>{k.docs.forEach(A=>f.set(A.id,A.id))}),f.size>0){const k=nP(Ye);f.forEach(A=>{const O=Ht(qt(Ye,"users",A,"notifications"));k.set(O,d)}),await k.commit()}}await Zh(qt(Ye,"notifications"),d)}catch(d){throw console.error("Error sending notification:",d),d}},mke=async(t,e,r)=>{try{const n=[],i=pr(qt(Ye,"notifications"),kr("targetType","==","all"),El(20)),s=pr(qt(Ye,"users",t,"notifications"),po("createdAt","desc"),El(20));try{(await _n(i)).docs.forEach(l=>{var f;const u=l.data();if(u.targetRoles&&Array.isArray(u.targetRoles)&&u.targetRoles.length>0&&(!r||!u.targetRoles.includes(r)))return;const d=((f=u.readBy)==null?void 0:f.includes(t))||!1;n.push({id:l.id,...u,read:d})})}catch(o){console.warn("Error fetching global:",o)}try{(await _n(s)).docs.forEach(l=>{n.push({id:l.id,...l.data()})})}catch(o){console.error("Error fetching personal:",o)}return n.sort((o,l)=>{var f,g;const u=((f=o.createdAt)==null?void 0:f.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u}).filter(o=>{var l;return!((l=o.deletedBy)!=null&&l.includes(t))})}catch(n){return console.error("Error fetching notifications:",n),[]}},VU=async(t,e)=>{try{const r=Ht(Ye,"notifications",t),{arrayUnion:n}=await Pn(async()=>{const{arrayUnion:s}=await Promise.resolve().then(()=>$0);return{arrayUnion:s}},void 0);try{await Un(r,{deletedBy:n(e)});return}catch{}const i=Ht(Ye,"users",e,"notifications",t);await Un(i,{deletedBy:n(e)})}catch{}},cte=async(t,e)=>{try{const r=wn.now(),n=[],i=pr(qt(Ye,"notifications"),kr("targetType","==","all"),El(20));if((await _n(i)).forEach(o=>{const l=o.data();l.targetRoles&&Array.isArray(l.targetRoles)&&l.targetRoles.length>0&&(!e||!l.targetRoles.includes(e))||(l.type==="special"||l.type==="attention")&&(!l.expiryDate||l.expiryDate.seconds&&l.expiryDate.seconds>r.seconds)&&n.push({id:o.id,...l})}),t){const o=pr(qt(Ye,"users",t,"notifications"),po("createdAt","desc"),El(20));(await _n(o)).forEach(u=>{const d=u.data();(d.type==="special"||d.type==="attention")&&(!d.expiryDate||d.expiryDate.seconds&&d.expiryDate.seconds>r.seconds)&&n.push({id:u.id,...d})})}return Array.from(new Map(n.map(o=>[o.id,o])).values()).sort((o,l)=>{var f,g;const u=((f=o.createdAt)==null?void 0:f.seconds)||0;return(((g=l.createdAt)==null?void 0:g.seconds)||0)-u})}catch(r){return console.error("Error fetching marquee:",r),[]}},pke=async(t,e)=>{try{const r=Ht(Ye,"users",e,"notifications",t);try{await Un(r,{read:!0});return}catch{}const n=Ht(Ye,"notifications",t),{arrayUnion:i}=await Pn(async()=>{const{arrayUnion:s}=await Promise.resolve().then(()=>$0);return{arrayUnion:s}},void 0);await Un(n,{readBy:i(e)})}catch(r){console.error("Error marking read:",r)}},gke=async()=>{try{const t=pr(qt(Ye,"notifications"),po("createdAt","desc"));return(await _n(t)).docs.map(r=>({id:r.id,...r.data()}))}catch(t){return console.error("Error fetching all notifications:",t),[]}},vke=async t=>{try{return await WS(Ht(Ye,"notifications",t)),!0}catch(e){return console.error("Error deleting notification:",e),!1}},yke=async(t,e)=>{try{const r=Ht(Ye,"notifications",t);return await Un(r,{...e,updatedAt:sa()}),!0}catch(r){return console.error("Error updating notification:",r),!1}};var ute={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},UU=Ae.createContext&&Ae.createContext(ute),xke=["attr","size","title"];function bke(t,e){if(t==null)return{};var r=wke(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function wke(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function PE(){return PE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PE.apply(this,arguments)}function zU(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function jE(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zU(Object(r),!0).forEach(function(n){_ke(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zU(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _ke(t,e,r){return e=Eke(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eke(t){var e=Tke(t,"string");return typeof e=="symbol"?e:e+""}function Tke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dte(t){return t&&t.map((e,r)=>Ae.createElement(e.tag,jE({key:r},e.attr),dte(e.child)))}function dt(t){return e=>Ae.createElement(Ske,PE({attr:jE({},t.attr)},e),dte(t.child))}function Ske(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=bke(t,xke),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Ae.createElement("svg",PE({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:jE(jE({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Ae.createElement("title",null,s),t.children)};return UU!==void 0?Ae.createElement(UU.Consumer,null,r=>e(r)):e(ute)}function o3(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M420.55,301.93a24,24,0,1,1,24-24,24,24,0,0,1-24,24m-265.1,0a24,24,0,1,1,24-24,24,24,0,0,1-24,24m273.7-144.48,47.94-83a10,10,0,1,0-17.27-10h0l-48.54,84.07a301.25,301.25,0,0,0-246.56,0L116.18,64.45a10,10,0,1,0-17.27,10h0l47.94,83C64.53,202.22,8.24,285.55,0,384H576c-8.24-98.45-64.54-181.78-146.85-226.55"},child:[]}]})(t)}function kke(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"},child:[]}]})(t)}function l3(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"},child:[]}]})(t)}function N0(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M257.5 445.1l-22.2 22.2c-9.4 9.4-24.6 9.4-33.9 0L7 273c-9.4-9.4-9.4-24.6 0-33.9L201.4 44.7c9.4-9.4 24.6-9.4 33.9 0l22.2 22.2c9.5 9.5 9.3 25-.4 34.3L136.6 216H424c13.3 0 24 10.7 24 24v32c0 13.3-10.7 24-24 24H136.6l120.5 114.8c9.8 9.3 10 24.8.4 34.3z"},child:[]}]})(t)}function Ake(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M190.5 66.9l22.2-22.2c9.4-9.4 24.6-9.4 33.9 0L441 239c9.4 9.4 9.4 24.6 0 33.9L246.6 467.3c-9.4 9.4-24.6 9.4-33.9 0l-22.2-22.2c-9.5-9.5-9.3-25 .4-34.3L311.4 296H24c-13.3 0-24-10.7-24-24v-32c0-13.3 10.7-24 24-24h287.4L190.9 101.2c-9.8-9.3-10-24.8-.4-34.3z"},child:[]}]})(t)}function Cke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.034 8 8 119.033 8 256s111.034 248 248 248 248-111.034 248-248S392.967 8 256 8zm130.108 117.892c65.448 65.448 70 165.481 20.677 235.637L150.47 105.216c70.204-49.356 170.226-44.735 235.638 20.676zM125.892 386.108c-65.448-65.448-70-165.481-20.677-235.637L361.53 406.784c-70.203 49.356-170.226 44.736-235.638-20.676z"},child:[]}]})(t)}function Nke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"},child:[]}]})(t)}function Ike(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 512c35.32 0 63.97-28.65 63.97-64H160.03c0 35.35 28.65 64 63.97 64zm215.39-149.71c-19.32-20.76-55.47-51.99-55.47-154.29 0-77.7-54.48-139.9-127.94-155.16V32c0-17.67-14.32-32-31.98-32s-31.98 14.33-31.98 32v20.84C118.56 68.1 64.08 130.3 64.08 208c0 102.3-36.15 133.53-55.47 154.29-6 6.45-8.66 14.16-8.61 21.71.11 16.4 12.98 32 32.1 32h383.8c19.12 0 32-15.6 32.1-32 .05-7.55-2.61-15.27-8.61-21.71z"},child:[]}]})(t)}function Oke(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M542.22 32.05c-54.8 3.11-163.72 14.43-230.96 55.59-4.64 2.84-7.27 7.89-7.27 13.17v363.87c0 11.55 12.63 18.85 23.28 13.49 69.18-34.82 169.23-44.32 218.7-46.92 16.89-.89 30.02-14.43 30.02-30.66V62.75c.01-17.71-15.35-31.74-33.77-30.7zM264.73 87.64C197.5 46.48 88.58 35.17 33.78 32.05 15.36 31.01 0 45.04 0 62.75V400.6c0 16.24 13.13 29.78 30.02 30.66 49.49 2.6 149.59 12.11 218.77 46.95 10.62 5.35 23.21-1.94 23.21-13.46V100.63c0-5.29-2.62-10.14-7.27-12.99z"},child:[]}]})(t)}function Rke(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M256.47 216.77l86.73 109.18s-16.6 102.36-76.57 150.12C206.66 523.85 0 510.19 0 510.19s3.8-23.14 11-55.43l94.62-112.17c3.97-4.7-.87-11.62-6.65-9.5l-60.4 22.09c14.44-41.66 32.72-80.04 54.6-97.47 59.97-47.76 163.3-40.94 163.3-40.94zM636.53 31.03l-19.86-25c-5.49-6.9-15.52-8.05-22.41-2.56l-232.48 177.8-34.14-42.97c-5.09-6.41-15.14-5.21-18.59 2.21l-25.33 54.55 86.73 109.18 58.8-12.45c8-1.69 11.42-11.2 6.34-17.6l-34.09-42.92 232.48-177.8c6.89-5.48 8.04-15.53 2.55-22.44z"},child:[]}]})(t)}function Pke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V192H0v272zm320-196c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM192 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12h-40c-6.6 0-12-5.4-12-12v-40zM64 268c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zm0 128c0-6.6 5.4-12 12-12h40c6.6 0 12 5.4 12 12v40c0 6.6-5.4 12-12 12H76c-6.6 0-12-5.4-12-12v-40zM400 64h-48V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H160V16c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v48H48C21.5 64 0 85.5 0 112v48h448v-48c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function jke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 144v288c0 26.5-21.5 48-48 48H48c-26.5 0-48-21.5-48-48V144c0-26.5 21.5-48 48-48h88l12.3-32.9c7-18.7 24.9-31.1 44.9-31.1h125.5c20 0 37.9 12.4 44.9 31.1L376 96h88c26.5 0 48 21.5 48 48zM376 288c0-66.2-53.8-120-120-120s-120 53.8-120 120 53.8 120 120 120 120-53.8 120-120zm-32 0c0 48.5-39.5 88-88 88s-88-39.5-88-88 39.5-88 88-88 88 39.5 88 88z"},child:[]}]})(t)}function WI(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M208 352c-2.39 0-4.78.35-7.06 1.09C187.98 357.3 174.35 360 160 360c-14.35 0-27.98-2.7-40.95-6.91-2.28-.74-4.66-1.09-7.05-1.09C49.94 352-.33 402.48 0 464.62.14 490.88 21.73 512 48 512h224c26.27 0 47.86-21.12 48-47.38.33-62.14-49.94-112.62-112-112.62zm-48-32c53.02 0 96-42.98 96-96s-42.98-96-96-96-96 42.98-96 96 42.98 96 96 96zM592 0H208c-26.47 0-48 22.25-48 49.59V96c23.42 0 45.1 6.78 64 17.8V64h352v288h-64v-64H384v64h-76.24c19.1 16.69 33.12 38.73 39.69 64H592c26.47 0 48-22.25 48-49.59V49.59C640 22.25 618.47 0 592 0z"},child:[]}]})(t)}function $U(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 384H64V80c0-8.84-7.16-16-16-16H16C7.16 64 0 71.16 0 80v336c0 17.67 14.33 32 32 32h464c8.84 0 16-7.16 16-16v-32c0-8.84-7.16-16-16-16zM464 96H345.94c-21.38 0-32.09 25.85-16.97 40.97l32.4 32.4L288 242.75l-73.37-73.37c-12.5-12.5-32.76-12.5-45.25 0l-68.69 68.69c-6.25 6.25-6.25 16.38 0 22.63l22.62 22.62c6.25 6.25 16.38 6.25 22.63 0L192 237.25l73.37 73.37c12.5 12.5 32.76 12.5 45.25 0l96-96 32.4 32.4c15.12 15.12 40.97 4.41 40.97-16.97V112c.01-8.84-7.15-16-15.99-16z"},child:[]}]})(t)}function vd(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256c0 136.967-111.033 248-248 248S8 392.967 8 256 119.033 8 256 8s248 111.033 248 248zM227.314 387.314l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.249-16.379-6.249-22.628 0L216 308.118l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.249 16.379 6.249 22.628.001z"},child:[]}]})(t)}function hte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 174.8l-39.6-39.6c-9.4-9.4-24.6-9.4-33.9 0L192 374.7 80.6 263.2c-9.4-9.4-24.6-9.4-33.9 0L7 302.9c-9.4 9.4-9.4 24.6 0 34L175 505c9.4 9.4 24.6 9.4 33.9 0l296-296.2c9.4-9.5 9.4-24.7.1-34zm-324.3 106c6.2 6.3 16.4 6.3 22.6 0l208-208.2c6.2-6.3 6.2-16.4 0-22.6L366.1 4.7c-6.2-6.3-16.4-6.3-22.6 0L192 156.2l-55.4-55.5c-6.2-6.3-16.4-6.3-22.6 0L68.7 146c-6.2 6.3-6.2 16.4 0 22.6l112 112.2z"},child:[]}]})(t)}function Dke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 480H48c-26.51 0-48-21.49-48-48V80c0-26.51 21.49-48 48-48h352c26.51 0 48 21.49 48 48v352c0 26.51-21.49 48-48 48zm-204.686-98.059l184-184c6.248-6.248 6.248-16.379 0-22.627l-22.627-22.627c-6.248-6.248-16.379-6.249-22.628 0L184 302.745l-70.059-70.059c-6.248-6.248-16.379-6.248-22.628 0l-22.627 22.627c-6.248 6.248-6.248 16.379 0 22.627l104 104c6.249 6.25 16.379 6.25 22.628.001z"},child:[]}]})(t)}function Mke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M207.029 381.476L12.686 187.132c-9.373-9.373-9.373-24.569 0-33.941l22.667-22.667c9.357-9.357 24.522-9.375 33.901-.04L224 284.505l154.745-154.021c9.379-9.335 24.544-9.317 33.901.04l22.667 22.667c9.373 9.373 9.373 24.569 0 33.941L240.971 381.476c-9.373 9.372-24.569 9.372-33.942 0z"},child:[]}]})(t)}function Lke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M240.971 130.524l194.343 194.343c9.373 9.373 9.373 24.569 0 33.941l-22.667 22.667c-9.357 9.357-24.522 9.375-33.901.04L224 227.495 69.255 381.516c-9.379 9.335-24.544 9.317-33.901-.04l-22.667-22.667c-9.373-9.373-9.373-24.569 0-33.941L207.03 130.525c9.372-9.373 24.568-9.373 33.941-.001z"},child:[]}]})(t)}function Fke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"},child:[]}]})(t)}function Bke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256,8C119,8,8,119,8,256S119,504,256,504,504,393,504,256,393,8,256,8Zm92.49,313h0l-20,25a16,16,0,0,1-22.49,2.5h0l-67-49.72a40,40,0,0,1-15-31.23V112a16,16,0,0,1,16-16h32a16,16,0,0,1,16,16V256l58,42.5A16,16,0,0,1,348.49,321Z"},child:[]}]})(t)}function Vke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.4 315.7l-42.6-24.6c4.3-23.2 4.3-47 0-70.2l42.6-24.6c4.9-2.8 7.1-8.6 5.5-14-11.1-35.6-30-67.8-54.7-94.6-3.8-4.1-10-5.1-14.8-2.3L380.8 110c-17.9-15.4-38.5-27.3-60.8-35.1V25.8c0-5.6-3.9-10.5-9.4-11.7-36.7-8.2-74.3-7.8-109.2 0-5.5 1.2-9.4 6.1-9.4 11.7V75c-22.2 7.9-42.8 19.8-60.8 35.1L88.7 85.5c-4.9-2.8-11-1.9-14.8 2.3-24.7 26.7-43.6 58.9-54.7 94.6-1.7 5.4.6 11.2 5.5 14L67.3 221c-4.3 23.2-4.3 47 0 70.2l-42.6 24.6c-4.9 2.8-7.1 8.6-5.5 14 11.1 35.6 30 67.8 54.7 94.6 3.8 4.1 10 5.1 14.8 2.3l42.6-24.6c17.9 15.4 38.5 27.3 60.8 35.1v49.2c0 5.6 3.9 10.5 9.4 11.7 36.7 8.2 74.3 7.8 109.2 0 5.5-1.2 9.4-6.1 9.4-11.7v-49.2c22.2-7.9 42.8-19.8 60.8-35.1l42.6 24.6c4.9 2.8 11 1.9 14.8-2.3 24.7-26.7 43.6-58.9 54.7-94.6 1.5-5.5-.7-11.3-5.6-14.1zM256 336c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"},child:[]}]})(t)}function fte(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M528 0H48C21.5 0 0 21.5 0 48v320c0 26.5 21.5 48 48 48h192l-16 48h-72c-13.3 0-24 10.7-24 24s10.7 24 24 24h272c13.3 0 24-10.7 24-24s-10.7-24-24-24h-72l-16-48h192c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zm-16 352H64V64h448v288z"},child:[]}]})(t)}function HU(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M216 0h80c13.3 0 24 10.7 24 24v168h87.7c17.8 0 26.7 21.5 14.1 34.1L269.7 378.3c-7.5 7.5-19.8 7.5-27.3 0L90.1 226.1c-12.6-12.6-3.7-34.1 14.1-34.1H192V24c0-13.3 10.7-24 24-24zm296 376v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h146.7l49 49c20.1 20.1 52.5 20.1 72.6 0l49-49H488c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Uu(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M402.6 83.2l90.2 90.2c3.8 3.8 3.8 10 0 13.8L274.4 405.6l-92.8 10.3c-12.4 1.4-22.9-9.1-21.5-21.5l10.3-92.8L388.8 83.2c3.8-3.8 10-3.8 13.8 0zm162-22.9l-48.8-48.8c-15.2-15.2-39.9-15.2-55.2 0l-35.4 35.4c-3.8 3.8-3.8 10 0 13.8l90.2 90.2c3.8 3.8 10 3.8 13.8 0l35.4-35.4c15.2-15.3 15.2-40 0-55.2zM384 346.2V448H64V128h229.8c3.2 0 6.2-1.3 8.5-3.5l40-40c7.6-7.6 2.2-20.5-8.5-20.5H48C21.5 64 0 85.5 0 112v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V306.2c0-10.7-12.9-16-20.5-8.5l-40 40c-2.2 2.3-3.5 5.3-3.5 8.5z"},child:[]}]})(t)}function bv(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M569.517 440.013C587.975 472.007 564.806 512 527.94 512H48.054c-36.937 0-59.999-40.055-41.577-71.987L246.423 23.985c18.467-32.009 64.72-31.951 83.154 0l239.94 416.028zM288 354c-25.405 0-46 20.595-46 46s20.595 46 46 46 46-20.595 46-46-20.595-46-46-46zm-43.673-165.346l7.418 136c.347 6.364 5.609 11.346 11.982 11.346h48.546c6.373 0 11.635-4.982 11.982-11.346l7.418-136c.375-6.874-5.098-12.654-11.982-12.654h-63.383c-6.884 0-12.356 5.78-11.981 12.654z"},child:[]}]})(t)}function Uke(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M572.52 241.4C518.29 135.59 410.93 64 288 64S57.68 135.64 3.48 241.41a32.35 32.35 0 0 0 0 29.19C57.71 376.41 165.07 448 288 448s230.32-71.64 284.52-177.41a32.35 32.35 0 0 0 0-29.19zM288 400a144 144 0 1 1 144-144 143.93 143.93 0 0 1-144 144zm0-240a95.31 95.31 0 0 0-25.31 3.79 47.85 47.85 0 0 1-66.9 66.9A95.78 95.78 0 1 0 288 160z"},child:[]}]})(t)}function zke(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm64 236c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-64c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12v8zm0-72v8c0 6.6-5.4 12-12 12H108c-6.6 0-12-5.4-12-12v-8c0-6.6 5.4-12 12-12h168c6.6 0 12 5.4 12 12zm96-114.1v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function mte(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M224 136V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V160H248c-13.2 0-24-10.8-24-24zm60.1 106.5L224 336l60.1 93.5c5.1 8-.6 18.5-10.1 18.5h-34.9c-4.4 0-8.5-2.4-10.6-6.3C208.9 405.5 192 373 192 373c-6.4 14.8-10 20-36.6 68.8-2.1 3.9-6.1 6.3-10.5 6.3H110c-9.5 0-15.2-10.5-10.1-18.5l60.3-93.5-60.3-93.5c-5.2-8 .6-18.5 10.1-18.5h34.8c4.4 0 8.5 2.4 10.6 6.3 26.1 48.8 20 33.6 36.6 68.5 0 0 6.1-11.7 36.6-68.5 2.1-3.9 6.2-6.3 10.6-6.3H274c9.5-.1 15.2 10.4 10.1 18.4zM384 121.9v6.1H256V0h6.1c6.4 0 12.5 2.5 17 7l97.9 98c4.5 4.5 7 10.6 7 16.9z"},child:[]}]})(t)}function c3(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M487.976 0H24.028C2.71 0-8.047 25.866 7.058 40.971L192 225.941V432c0 7.831 3.821 15.17 10.237 19.662l80 55.98C298.02 518.69 320 507.493 320 487.98V225.941l184.947-184.97C520.021 25.896 509.338 0 487.976 0z"},child:[]}]})(t)}function $ke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256.12 245.96c-13.25 0-24 10.74-24 24 1.14 72.25-8.14 141.9-27.7 211.55-2.73 9.72 2.15 30.49 23.12 30.49 10.48 0 20.11-6.92 23.09-17.52 13.53-47.91 31.04-125.41 29.48-224.52.01-13.25-10.73-24-23.99-24zm-.86-81.73C194 164.16 151.25 211.3 152.1 265.32c.75 47.94-3.75 95.91-13.37 142.55-2.69 12.98 5.67 25.69 18.64 28.36 13.05 2.67 25.67-5.66 28.36-18.64 10.34-50.09 15.17-101.58 14.37-153.02-.41-25.95 19.92-52.49 54.45-52.34 31.31.47 57.15 25.34 57.62 55.47.77 48.05-2.81 96.33-10.61 143.55-2.17 13.06 6.69 25.42 19.76 27.58 19.97 3.33 26.81-15.1 27.58-19.77 8.28-50.03 12.06-101.21 11.27-152.11-.88-55.8-47.94-101.88-104.91-102.72zm-110.69-19.78c-10.3-8.34-25.37-6.8-33.76 3.48-25.62 31.5-39.39 71.28-38.75 112 .59 37.58-2.47 75.27-9.11 112.05-2.34 13.05 6.31 25.53 19.36 27.89 20.11 3.5 27.07-14.81 27.89-19.36 7.19-39.84 10.5-80.66 9.86-121.33-.47-29.88 9.2-57.88 28-80.97 8.35-10.28 6.79-25.39-3.49-33.76zm109.47-62.33c-15.41-.41-30.87 1.44-45.78 4.97-12.89 3.06-20.87 15.98-17.83 28.89 3.06 12.89 16 20.83 28.89 17.83 11.05-2.61 22.47-3.77 34-3.69 75.43 1.13 137.73 61.5 138.88 134.58.59 37.88-1.28 76.11-5.58 113.63-1.5 13.17 7.95 25.08 21.11 26.58 16.72 1.95 25.51-11.88 26.58-21.11a929.06 929.06 0 0 0 5.89-119.85c-1.56-98.75-85.07-180.33-186.16-181.83zm252.07 121.45c-2.86-12.92-15.51-21.2-28.61-18.27-12.94 2.86-21.12 15.66-18.26 28.61 4.71 21.41 4.91 37.41 4.7 61.6-.11 13.27 10.55 24.09 23.8 24.2h.2c13.17 0 23.89-10.61 24-23.8.18-22.18.4-44.11-5.83-72.34zm-40.12-90.72C417.29 43.46 337.6 1.29 252.81.02 183.02-.82 118.47 24.91 70.46 72.94 24.09 119.37-.9 181.04.14 246.65l-.12 21.47c-.39 13.25 10.03 24.31 23.28 24.69.23.02.48.02.72.02 12.92 0 23.59-10.3 23.97-23.3l.16-23.64c-.83-52.5 19.16-101.86 56.28-139 38.76-38.8 91.34-59.67 147.68-58.86 69.45 1.03 134.73 35.56 174.62 92.39 7.61 10.86 22.56 13.45 33.42 5.86 10.84-7.62 13.46-22.59 5.84-33.43z"},child:[]}]})(t)}function Hke(t){return dt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M248 8C111.03 8 0 119.03 0 256s111.03 248 248 248 248-111.03 248-248S384.97 8 248 8zm-11.34 240.23c-2.89 4.82-8.1 7.77-13.72 7.77h-.31c-4.24 0-8.31 1.69-11.31 4.69l-5.66 5.66c-3.12 3.12-3.12 8.19 0 11.31l5.66 5.66c3 3 4.69 7.07 4.69 11.31V304c0 8.84-7.16 16-16 16h-6.11c-6.06 0-11.6-3.42-14.31-8.85l-22.62-45.23c-2.44-4.88-8.95-5.94-12.81-2.08l-19.47 19.46c-3 3-7.07 4.69-11.31 4.69H50.81C49.12 277.55 48 266.92 48 256c0-110.28 89.72-200 200-200 21.51 0 42.2 3.51 61.63 9.82l-50.16 38.53c-5.11 3.41-4.63 11.06.86 13.81l10.83 5.41c5.42 2.71 8.84 8.25 8.84 14.31V216c0 4.42-3.58 8-8 8h-3.06c-3.03 0-5.8-1.71-7.15-4.42-1.56-3.12-5.96-3.29-7.76-.3l-17.37 28.95zM408 358.43c0 4.24-1.69 8.31-4.69 11.31l-9.57 9.57c-3 3-7.07 4.69-11.31 4.69h-15.16c-4.24 0-8.31-1.69-11.31-4.69l-13.01-13.01a26.767 26.767 0 0 0-25.42-7.04l-21.27 5.32c-1.27.32-2.57.48-3.88.48h-10.34c-4.24 0-8.31-1.69-11.31-4.69l-11.91-11.91a8.008 8.008 0 0 1-2.34-5.66v-10.2c0-3.27 1.99-6.21 5.03-7.43l39.34-15.74c1.98-.79 3.86-1.82 5.59-3.05l23.71-16.89a7.978 7.978 0 0 1 4.64-1.48h12.09c3.23 0 6.15 1.94 7.39 4.93l5.35 12.85a4 4 0 0 0 3.69 2.46h3.8c1.78 0 3.35-1.18 3.84-2.88l4.2-14.47c.5-1.71 2.06-2.88 3.84-2.88h6.06c2.21 0 4 1.79 4 4v12.93c0 2.12.84 4.16 2.34 5.66l11.91 11.91c3 3 4.69 7.07 4.69 11.31v24.6z"},child:[]}]})(t)}function qU(t){return dt({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function DE(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.34 153.2L343.4 67.5c-15.2-4.67-31.6-4.67-46.79 0L17.66 153.2c-23.54 7.23-23.54 38.36 0 45.59l48.63 14.94c-10.67 13.19-17.23 29.28-17.88 46.9C38.78 266.15 32 276.11 32 288c0 10.78 5.68 19.85 13.86 25.65L20.33 428.53C18.11 438.52 25.71 448 35.94 448h56.11c10.24 0 17.84-9.48 15.62-19.47L82.14 313.65C90.32 307.85 96 298.78 96 288c0-11.57-6.47-21.25-15.66-26.87.76-15.02 8.44-28.3 20.69-36.72L296.6 284.5c9.06 2.78 26.44 6.25 46.79 0l278.95-85.7c23.55-7.24 23.55-38.36 0-45.6zM352.79 315.09c-28.53 8.76-52.84 3.92-65.59 0l-145.02-44.55L128 384c0 35.35 85.96 64 192 64s192-28.65 192-64l-14.18-113.47-145.03 44.56z"},child:[]}]})(t)}function b1(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 255.531c.253 136.64-111.18 248.372-247.82 248.468-59.015.042-113.223-20.53-155.822-54.911-11.077-8.94-11.905-25.541-1.839-35.607l11.267-11.267c8.609-8.609 22.353-9.551 31.891-1.984C173.062 425.135 212.781 440 256 440c101.705 0 184-82.311 184-184 0-101.705-82.311-184-184-184-48.814 0-93.149 18.969-126.068 49.932l50.754 50.754c10.08 10.08 2.941 27.314-11.313 27.314H24c-8.837 0-16-7.163-16-16V38.627c0-14.254 17.234-21.393 27.314-11.314l49.372 49.372C129.209 34.136 189.552 8 256 8c136.81 0 247.747 110.78 248 247.531zm-180.912 78.784l9.823-12.63c8.138-10.463 6.253-25.542-4.21-33.679L288 256.349V152c0-13.255-10.745-24-24-24h-16c-13.255 0-24 10.745-24 24v135.651l65.409 50.874c10.463 8.137 25.541 6.253 33.679-4.21z"},child:[]}]})(t)}function qke(t){return dt({attr:{viewBox:"0 0 576 512"},child:[{tag:"path",attr:{d:"M280.37 148.26L96 300.11V464a16 16 0 0 0 16 16l112.06-.29a16 16 0 0 0 15.92-16V368a16 16 0 0 1 16-16h64a16 16 0 0 1 16 16v95.64a16 16 0 0 0 16 16.05L464 480a16 16 0 0 0 16-16V300L295.67 148.26a12.19 12.19 0 0 0-15.3 0zM571.6 251.47L488 182.56V44.05a12 12 0 0 0-12-12h-56a12 12 0 0 0-12 12v72.61L318.47 43a48 48 0 0 0-61 0L4.34 251.47a12 12 0 0 0-1.6 16.9l25.5 31A12 12 0 0 0 45.15 301l235.22-193.74a12.19 12.19 0 0 1 15.3 0L530.9 301a12 12 0 0 0 16.9-1.6l25.5-31a12 12 0 0 0-1.7-16.93z"},child:[]}]})(t)}function pte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M256 8C119.043 8 8 119.083 8 256c0 136.997 111.043 248 248 248s248-111.003 248-248C504 119.083 392.957 8 256 8zm0 110c23.196 0 42 18.804 42 42s-18.804 42-42 42-42-18.804-42-42 18.804-42 42-42zm56 254c0 6.627-5.373 12-12 12h-88c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h12v-64h-12c-6.627 0-12-5.373-12-12v-24c0-6.627 5.373-12 12-12h64c6.627 0 12 5.373 12 12v100h12c6.627 0 12 5.373 12 12v24z"},child:[]}]})(t)}function ME(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M512 176.001C512 273.203 433.202 352 336 352c-11.22 0-22.19-1.062-32.827-3.069l-24.012 27.014A23.999 23.999 0 0 1 261.223 384H224v40c0 13.255-10.745 24-24 24h-40v40c0 13.255-10.745 24-24 24H24c-13.255 0-24-10.745-24-24v-78.059c0-6.365 2.529-12.47 7.029-16.971l161.802-161.802C163.108 213.814 160 195.271 160 176 160 78.798 238.797.001 335.999 0 433.488-.001 512 78.511 512 176.001zM336 128c0 26.51 21.49 48 48 48s48-21.49 48-48-21.49-48-48-48-48 21.49-48 48z"},child:[]}]})(t)}function gte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M80 368H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm0-320H16A16 16 0 0 0 0 64v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16V64a16 16 0 0 0-16-16zm0 160H16a16 16 0 0 0-16 16v64a16 16 0 0 0 16 16h64a16 16 0 0 0 16-16v-64a16 16 0 0 0-16-16zm416 176H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm0-320H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16V80a16 16 0 0 0-16-16zm0 160H176a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h320a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16z"},child:[]}]})(t)}function WU(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 224h-24v-72C376 68.2 307.8 0 224 0S72 68.2 72 152v72H48c-26.5 0-48 21.5-48 48v192c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V272c0-26.5-21.5-48-48-48zm-104 0H152v-72c0-39.7 32.3-72 72-72s72 32.3 72 72v72z"},child:[]}]})(t)}function Wke(t){return dt({attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M172.268 501.67C26.97 291.031 0 269.413 0 192 0 85.961 85.961 0 192 0s192 85.961 192 192c0 77.413-26.97 99.031-172.268 309.67-9.535 13.774-29.93 13.773-39.464 0zM192 272c44.183 0 80-35.817 80-80s-35.817-80-80-80-80 35.817-80 80 35.817 80 80 80z"},child:[]}]})(t)}function GI(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M272 0H48C21.5 0 0 21.5 0 48v416c0 26.5 21.5 48 48 48h224c26.5 0 48-21.5 48-48V48c0-26.5-21.5-48-48-48zM160 480c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm112-108c0 6.6-5.4 12-12 12H60c-6.6 0-12-5.4-12-12V60c0-6.6 5.4-12 12-12h200c6.6 0 12 5.4 12 12v312z"},child:[]}]})(t)}function C_(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M476 3.2L12.5 270.6c-18.1 10.4-15.8 35.6 2.2 43.2L121 358.4l287.3-253.2c5.5-4.9 13.3 2.6 8.6 8.3L176 407v80.5c0 23.6 28.5 32.9 42.5 15.8L282 426l124.6 52.2c14.2 6 30.4-2.9 33-18.2l72-432C515 7.8 493.3-6.8 476 3.2z"},child:[]}]})(t)}function Gke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M424.4 214.7L72.4 6.6C43.8-10.3 0 6.1 0 47.9V464c0 37.5 40.7 60.1 72.4 41.3l352-208c31.4-18.5 31.5-64.1 0-82.6z"},child:[]}]})(t)}function Th(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function YP(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z"},child:[]}]})(t)}function y0(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M0 224v272c0 8.84 7.16 16 16 16h80V192H32c-17.67 0-32 14.33-32 32zm360-48h-24v-40c0-4.42-3.58-8-8-8h-16c-4.42 0-8 3.58-8 8v64c0 4.42 3.58 8 8 8h48c4.42 0 8-3.58 8-8v-16c0-4.42-3.58-8-8-8zm137.75-63.96l-160-106.67a32.02 32.02 0 0 0-35.5 0l-160 106.67A32.002 32.002 0 0 0 128 138.66V512h128V368c0-8.84 7.16-16 16-16h96c8.84 0 16 7.16 16 16v144h128V138.67c0-10.7-5.35-20.7-14.25-26.63zM320 256c-44.18 0-80-35.82-80-80s35.82-80 80-80 80 35.82 80 80-35.82 80-80 80zm288-64h-64v320h80c8.84 0 16-7.16 16-16V224c0-17.67-14.33-32-32-32z"},child:[]}]})(t)}function KI(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M505 442.7L405.3 343c-4.5-4.5-10.6-7-17-7H372c27.6-35.3 44-79.7 44-128C416 93.1 322.9 0 208 0S0 93.1 0 208s93.1 208 208 208c48.3 0 92.7-16.4 128-44v16.3c0 6.4 2.5 12.5 7 17l99.7 99.7c9.4 9.4 24.6 9.4 33.9 0l28.3-28.3c9.4-9.4 9.4-24.6.1-34zM208 336c-70.7 0-128-57.2-128-128 0-70.7 57.2-128 128-128 70.7 0 128 57.2 128 128 0 70.7-57.2 128-128 128z"},child:[]}]})(t)}function GU(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M480 160H32c-17.673 0-32-14.327-32-32V64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm112 248H32c-17.673 0-32-14.327-32-32v-64c0-17.673 14.327-32 32-32h448c17.673 0 32 14.327 32 32v64c0 17.673-14.327 32-32 32zm-48-88c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24zm-64 0c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24z"},child:[]}]})(t)}function KU(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M466.5 83.7l-192-80a48.15 48.15 0 0 0-36.9 0l-192 80C27.7 91.1 16 108.6 16 128c0 198.5 114.5 335.7 221.5 380.3 11.8 4.9 25.1 4.9 36.9 0C360.1 472.6 496 349.3 496 128c0-19.4-11.7-36.9-29.5-44.3zM256.1 446.3l-.1-381 175.9 73.3c-3.3 151.4-82.1 261.1-175.8 307.7z"},child:[]}]})(t)}function Kke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M497 273L329 441c-15 15-41 4.5-41-17v-96H152c-13.3 0-24-10.7-24-24v-96c0-13.3 10.7-24 24-24h136V88c0-21.4 25.9-32 41-17l168 168c9.3 9.4 9.3 24.6 0 34zM192 436v-40c0-6.6-5.4-12-12-12H96c-17.7 0-32-14.3-32-32V160c0-17.7 14.3-32 32-32h84c6.6 0 12-5.4 12-12V76c0-6.6-5.4-12-12-12H96c-53 0-96 43-96 96v192c0 53 43 96 96 96h84c6.6 0 12-5.4 12-12z"},child:[]}]})(t)}function vte(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41z"},child:[]}]})(t)}function yte(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M279 224H41c-21.4 0-32.1-25.9-17-41L143 64c9.4-9.4 24.6-9.4 33.9 0l119 119c15.2 15.1 4.5 41-16.9 41z"},child:[]}]})(t)}function xte(t){return dt({attr:{viewBox:"0 0 320 512"},child:[{tag:"path",attr:{d:"M41 288h238c21.4 0 32.1 25.9 17 41L177 448c-9.4 9.4-24.6 9.4-33.9 0L24 329c-15.1-15.1-4.4-41 17-41zm255-105L177 64c-9.4-9.4-24.6-9.4-33.9 0L24 183c-15.1 15.1-4.4 41 17 41h238c21.4 0 32.1-25.9 17-41z"},child:[]}]})(t)}function bte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M304 48c0 26.51-21.49 48-48 48s-48-21.49-48-48 21.49-48 48-48 48 21.49 48 48zm-48 368c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zm208-208c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.49-48-48-48zM96 256c0-26.51-21.49-48-48-48S0 229.49 0 256s21.49 48 48 48 48-21.49 48-48zm12.922 99.078c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.491-48-48-48zm294.156 0c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48c0-26.509-21.49-48-48-48zM108.922 60.922c-26.51 0-48 21.49-48 48s21.49 48 48 48 48-21.49 48-48-21.491-48-48-48z"},child:[]}]})(t)}function Yke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function Xke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"},child:[]}]})(t)}function wte(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"},child:[]}]})(t)}function zu(t){return dt({attr:{viewBox:"0 0 352 512"},child:[{tag:"path",attr:{d:"M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z"},child:[]}]})(t)}function Gc(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16zM53.2 467a48 48 0 0 0 47.9 45h245.8a48 48 0 0 0 47.9-45L416 128H32z"},child:[]}]})(t)}function Qke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M496 128v16a8 8 0 0 1-8 8h-24v12c0 6.627-5.373 12-12 12H60c-6.627 0-12-5.373-12-12v-12H24a8 8 0 0 1-8-8v-16a8 8 0 0 1 4.941-7.392l232-88a7.996 7.996 0 0 1 6.118 0l232 88A8 8 0 0 1 496 128zm-24 304H40c-13.255 0-24 10.745-24 24v16a8 8 0 0 0 8 8h464a8 8 0 0 0 8-8v-16c0-13.255-10.745-24-24-24zM96 192v192H60c-6.627 0-12 5.373-12 12v20h416v-20c0-6.627-5.373-12-12-12h-36V192h-64v192h-64V192h-64v192h-64V192H96z"},child:[]}]})(t)}function Jke(t){return dt({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M296 384h-80c-13.3 0-24-10.7-24-24V192h-87.7c-17.8 0-26.7-21.5-14.1-34.1L242.3 5.7c7.5-7.5 19.8-7.5 27.3 0l152.2 152.2c12.6 12.6 3.7 34.1-14.1 34.1H320v168c0 13.3-10.7 24-24 24zm216-8v112c0 13.3-10.7 24-24 24H24c-13.3 0-24-10.7-24-24V376c0-13.3 10.7-24 24-24h136v8c0 30.9 25.1 56 56 56h80c30.9 0 56-25.1 56-56v-8h136c13.3 0 24 10.7 24 24zm-124 88c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20zm64 0c0-11-9-20-20-20s-20 9-20 20 9 20 20 20 20-9 20-20z"},child:[]}]})(t)}function Zke(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M64 224h13.5c24.7 56.5 80.9 96 146.5 96s121.8-39.5 146.5-96H384c8.8 0 16-7.2 16-16v-96c0-8.8-7.2-16-16-16h-13.5C345.8 39.5 289.6 0 224 0S102.2 39.5 77.5 96H64c-8.8 0-16 7.2-16 16v96c0 8.8 7.2 16 16 16zm40-88c0-22.1 21.5-40 48-40h144c26.5 0 48 17.9 48 40v24c0 53-43 96-96 96h-48c-53 0-96-43-96-96v-24zm72 72l12-36 36-12-36-12-12-36-12 36-36 12 36 12 12 36zm151.6 113.4C297.7 340.7 262.2 352 224 352s-73.7-11.3-103.6-30.6C52.9 328.5 0 385 0 454.4v9.6c0 26.5 21.5 48 48 48h80v-64c0-17.7 14.3-32 32-32h128c17.7 0 32 14.3 32 32v64h80c26.5 0 48-21.5 48-48v-9.6c0-69.4-52.9-125.9-120.4-133zM272 448c-8.8 0-16 7.2-16 16s7.2 16 16 16 16-7.2 16-16-7.2-16-16-16zm-96 0c-8.8 0-16 7.2-16 16v48h32v-48c0-8.8-7.2-16-16-16z"},child:[]}]})(t)}function eAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M496 224c-79.6 0-144 64.4-144 144s64.4 144 144 144 144-64.4 144-144-64.4-144-144-144zm64 150.3c0 5.3-4.4 9.7-9.7 9.7h-60.6c-5.3 0-9.7-4.4-9.7-9.7v-76.6c0-5.3 4.4-9.7 9.7-9.7h12.6c5.3 0 9.7 4.4 9.7 9.7V352h38.3c5.3 0 9.7 4.4 9.7 9.7v12.6zM320 368c0-27.8 6.7-54.1 18.2-77.5-8-1.5-16.2-2.5-24.6-2.5h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h347.1c-45.3-31.9-75.1-84.5-75.1-144zm-96-112c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128z"},child:[]}]})(t)}function tAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M610.5 373.3c2.6-14.1 2.6-28.5 0-42.6l25.8-14.9c3-1.7 4.3-5.2 3.3-8.5-6.7-21.6-18.2-41.2-33.2-57.4-2.3-2.5-6-3.1-9-1.4l-25.8 14.9c-10.9-9.3-23.4-16.5-36.9-21.3v-29.8c0-3.4-2.4-6.4-5.7-7.1-22.3-5-45-4.8-66.2 0-3.3.7-5.7 3.7-5.7 7.1v29.8c-13.5 4.8-26 12-36.9 21.3l-25.8-14.9c-2.9-1.7-6.7-1.1-9 1.4-15 16.2-26.5 35.8-33.2 57.4-1 3.3.4 6.8 3.3 8.5l25.8 14.9c-2.6 14.1-2.6 28.5 0 42.6l-25.8 14.9c-3 1.7-4.3 5.2-3.3 8.5 6.7 21.6 18.2 41.1 33.2 57.4 2.3 2.5 6 3.1 9 1.4l25.8-14.9c10.9 9.3 23.4 16.5 36.9 21.3v29.8c0 3.4 2.4 6.4 5.7 7.1 22.3 5 45 4.8 66.2 0 3.3-.7 5.7-3.7 5.7-7.1v-29.8c13.5-4.8 26-12 36.9-21.3l25.8 14.9c2.9 1.7 6.7 1.1 9-1.4 15-16.2 26.5-35.8 33.2-57.4 1-3.3-.4-6.8-3.3-8.5l-25.8-14.9zM496 400.5c-26.8 0-48.5-21.8-48.5-48.5s21.8-48.5 48.5-48.5 48.5 21.8 48.5 48.5-21.7 48.5-48.5 48.5zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm201.2 226.5c-2.3-1.2-4.6-2.6-6.8-3.9l-7.9 4.6c-6 3.4-12.8 5.3-19.6 5.3-10.9 0-21.4-4.6-28.9-12.6-18.3-19.8-32.3-43.9-40.2-69.6-5.5-17.7 1.9-36.4 17.9-45.7l7.9-4.6c-.1-2.6-.1-5.2 0-7.8l-7.9-4.6c-16-9.2-23.4-28-17.9-45.7.9-2.9 2.2-5.8 3.2-8.7-3.8-.3-7.5-1.2-11.4-1.2h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c10.1 0 19.5-3.2 27.2-8.5-1.2-3.8-2-7.7-2-11.8v-9.2z"},child:[]}]})(t)}function _te(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(t)}function Ete(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M624 208h-64v-64c0-8.8-7.2-16-16-16h-32c-8.8 0-16 7.2-16 16v64h-64c-8.8 0-16 7.2-16 16v32c0 8.8 7.2 16 16 16h64v64c0 8.8 7.2 16 16 16h32c8.8 0 16-7.2 16-16v-64h64c8.8 0 16-7.2 16-16v-32c0-8.8-7.2-16-16-16zm-400 48c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function rAe(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M383.9 308.3l23.9-62.6c4-10.5-3.7-21.7-15-21.7h-58.5c11-18.9 17.8-40.6 17.8-64v-.3c39.2-7.8 64-19.1 64-31.7 0-13.3-27.3-25.1-70.1-33-9.2-32.8-27-65.8-40.6-82.8-9.5-11.9-25.9-15.6-39.5-8.8l-27.6 13.8c-9 4.5-19.6 4.5-28.6 0L182.1 3.4c-13.6-6.8-30-3.1-39.5 8.8-13.5 17-31.4 50-40.6 82.8-42.7 7.9-70 19.7-70 33 0 12.6 24.8 23.9 64 31.7v.3c0 23.4 6.8 45.1 17.8 64H56.3c-11.5 0-19.2 11.7-14.7 22.3l25.8 60.2C27.3 329.8 0 372.7 0 422.4v44.8C0 491.9 20.1 512 44.8 512h358.4c24.7 0 44.8-20.1 44.8-44.8v-44.8c0-48.4-25.8-90.4-64.1-114.1zM176 480l-41.6-192 49.6 32 24 40-32 120zm96 0l-32-120 24-40 49.6-32L272 480zm41.7-298.5c-3.9 11.9-7 24.6-16.5 33.4-10.1 9.3-48 22.4-64-25-2.8-8.4-15.4-8.4-18.3 0-17 50.2-56 32.4-64 25-9.5-8.8-12.7-21.5-16.5-33.4-.8-2.5-6.3-5.7-6.3-5.8v-10.8c28.3 3.6 61 5.8 96 5.8s67.7-2.1 96-5.8v10.8c-.1.1-5.6 3.2-6.4 5.8z"},child:[]}]})(t)}function nAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M622.3 271.1l-115.2-45c-4.1-1.6-12.6-3.7-22.2 0l-115.2 45c-10.7 4.2-17.7 14-17.7 24.9 0 111.6 68.7 188.8 132.9 213.9 9.6 3.7 18 1.6 22.2 0C558.4 489.9 640 420.5 640 296c0-10.9-7-20.7-17.7-24.9zM496 462.4V273.3l95.5 37.3c-5.6 87.1-60.9 135.4-95.5 151.8zM224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm96 40c0-2.5.8-4.8 1.1-7.2-2.5-.1-4.9-.8-7.5-.8h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c6.8 0 13.3-1.5 19.2-4-54-42.9-99.2-116.7-99.2-212z"},child:[]}]})(t)}function iAe(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M633.8 458.1L362.3 248.3C412.1 230.7 448 183.8 448 128 448 57.3 390.7 0 320 0c-67.1 0-121.5 51.8-126.9 117.4L45.5 3.4C38.5-2 28.5-.8 23 6.2L3.4 31.4c-5.4 7-4.2 17 2.8 22.4l588.4 454.7c7 5.4 17 4.2 22.5-2.8l19.6-25.3c5.4-6.8 4.1-16.9-2.9-22.3zM96 422.4V464c0 26.5 21.5 48 48 48h350.2L207.4 290.3C144.2 301.3 96 356 96 422.4z"},child:[]}]})(t)}function ig(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(t)}function LE(t){return dt({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(t)}function zh(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(t)}function YU(t){return dt({attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M634.91 154.88C457.74-8.99 182.19-8.93 5.09 154.88c-6.66 6.16-6.79 16.59-.35 22.98l34.24 33.97c6.14 6.1 16.02 6.23 22.4.38 145.92-133.68 371.3-133.71 517.25 0 6.38 5.85 16.26 5.71 22.4-.38l34.24-33.97c6.43-6.39 6.3-16.82-.36-22.98zM320 352c-35.35 0-64 28.65-64 64s28.65 64 64 64 64-28.65 64-64-28.65-64-64-64zm202.67-83.59c-115.26-101.93-290.21-101.82-405.34 0-6.9 6.1-7.12 16.69-.57 23.15l34.44 33.99c6 5.92 15.66 6.32 22.05.8 83.95-72.57 209.74-72.41 293.49 0 6.39 5.52 16.05 5.13 22.05-.8l34.44-33.99c6.56-6.46 6.33-17.06-.56-23.15z"},child:[]}]})(t)}const sAe=()=>{const[t,e]=C.useState(null);C.useEffect(()=>{(async()=>{const s=await cte();if(s.length>0){const a=s.find(u=>u.type==="special"),o=s.find(u=>u.type==="attention"),l=a||o;l&&(sessionStorage.getItem(`seen_alert_${l.id}`)||e(l))}})()},[]);const r=()=>{t&&(sessionStorage.setItem(`seen_alert_${t.id}`,"true"),e(null))};if(!t)return null;const n=t.type==="special";return m.jsx("div",{className:"fixed inset-0 z-[100] flex items-center justify-center bg-black/60 backdrop-blur-sm animate-fade-in p-4",children:m.jsx("div",{className:`bg-white dark:bg-slate-800 rounded-3xl shadow-2xl max-w-md w-full overflow-hidden transform transition-all scale-100 animate-bounce-in border-t-8 ${n?"border-red-500":"border-orange-500"}`,children:m.jsxs("div",{className:"p-8 flex flex-col items-center text-center",children:[m.jsx("div",{className:`w-20 h-20 rounded-full flex items-center justify-center mb-6 ${n?"bg-red-100 text-red-500":"bg-orange-100 text-orange-500"}`,children:m.jsx(bv,{className:"text-4xl animate-pulse"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-2",children:n?"THNG BO C BIT":"CH "}),m.jsx("h3",{className:"text-lg font-semibold text-gray-700 dark:text-gray-200 mb-4",children:t.title}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-8 leading-relaxed",children:t.message}),m.jsx("button",{onClick:r,className:`px-8 py-3 rounded-xl font-bold text-white shadow-lg hover:shadow-xl hover:scale-105 transition-all ${n?"bg-gradient-to-r from-red-500 to-pink-600":"bg-gradient-to-r from-orange-400 to-yellow-500"}`,children:" Hiu"})]})})})};var YI=function(t,e){return YI=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(r[i]=n[i])},YI(t,e)};function Tte(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");YI(t,e);function r(){this.constructor=t}t.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)}var FE=function(){return FE=Object.assign||function(e){for(var r,n=1,i=arguments.length;n<i;n++){r=arguments[n];for(var s in r)Object.prototype.hasOwnProperty.call(r,s)&&(e[s]=r[s])}return e},FE.apply(this,arguments)};function wv(t,e){var r={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e.indexOf(n)<0&&(r[n]=t[n]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,n=Object.getOwnPropertySymbols(t);i<n.length;i++)e.indexOf(n[i])<0&&Object.prototype.propertyIsEnumerable.call(t,n[i])&&(r[n[i]]=t[n[i]]);return r}function Ste(t,e,r,n){var i=arguments.length,s=i<3?e:n===null?n=Object.getOwnPropertyDescriptor(e,r):n,a;if(typeof Reflect=="object"&&typeof Reflect.decorate=="function")s=Reflect.decorate(t,e,r,n);else for(var o=t.length-1;o>=0;o--)(a=t[o])&&(s=(i<3?a(s):i>3?a(e,r,s):a(e,r))||s);return i>3&&s&&Object.defineProperty(e,r,s),s}function kte(t,e){return function(r,n){e(r,n,t)}}function Ate(t,e,r,n,i,s){function a(E){if(E!==void 0&&typeof E!="function")throw new TypeError("Function expected");return E}for(var o=n.kind,l=o==="getter"?"get":o==="setter"?"set":"value",u=!e&&t?n.static?t:t.prototype:null,d=e||(u?Object.getOwnPropertyDescriptor(u,n.name):{}),f,g=!1,v=r.length-1;v>=0;v--){var x={};for(var b in n)x[b]=b==="access"?{}:n[b];for(var b in n.access)x.access[b]=n.access[b];x.addInitializer=function(E){if(g)throw new TypeError("Cannot add initializers after decoration has completed");s.push(a(E||null))};var w=(0,r[v])(o==="accessor"?{get:d.get,set:d.set}:d[l],x);if(o==="accessor"){if(w===void 0)continue;if(w===null||typeof w!="object")throw new TypeError("Object expected");(f=a(w.get))&&(d.get=f),(f=a(w.set))&&(d.set=f),(f=a(w.init))&&i.unshift(f)}else(f=a(w))&&(o==="field"?i.unshift(f):d[l]=f)}u&&Object.defineProperty(u,n.name,d),g=!0}function Cte(t,e,r){for(var n=arguments.length>2,i=0;i<e.length;i++)r=n?e[i].call(t,r):e[i].call(t);return n?r:void 0}function Nte(t){return typeof t=="symbol"?t:"".concat(t)}function Ite(t,e,r){return typeof e=="symbol"&&(e=e.description?"[".concat(e.description,"]"):""),Object.defineProperty(t,"name",{configurable:!0,value:r?"".concat(r," ",e):e})}function Ote(t,e){if(typeof Reflect=="object"&&typeof Reflect.metadata=="function")return Reflect.metadata(t,e)}function xt(t,e,r,n){function i(s){return s instanceof r?s:new r(function(a){a(s)})}return new(r||(r=Promise))(function(s,a){function o(d){try{u(n.next(d))}catch(f){a(f)}}function l(d){try{u(n.throw(d))}catch(f){a(f)}}function u(d){d.done?s(d.value):i(d.value).then(o,l)}u((n=n.apply(t,e||[])).next())})}function Rte(t,e){var r={label:0,sent:function(){if(s[0]&1)throw s[1];return s[1]},trys:[],ops:[]},n,i,s,a=Object.create((typeof Iterator=="function"?Iterator:Object).prototype);return a.next=o(0),a.throw=o(1),a.return=o(2),typeof Symbol=="function"&&(a[Symbol.iterator]=function(){return this}),a;function o(u){return function(d){return l([u,d])}}function l(u){if(n)throw new TypeError("Generator is already executing.");for(;a&&(a=0,u[0]&&(r=0)),r;)try{if(n=1,i&&(s=u[0]&2?i.return:u[0]?i.throw||((s=i.return)&&s.call(i),0):i.next)&&!(s=s.call(i,u[1])).done)return s;switch(i=0,s&&(u=[u[0]&2,s.value]),u[0]){case 0:case 1:s=u;break;case 4:return r.label++,{value:u[1],done:!1};case 5:r.label++,i=u[1],u=[0];continue;case 7:u=r.ops.pop(),r.trys.pop();continue;default:if(s=r.trys,!(s=s.length>0&&s[s.length-1])&&(u[0]===6||u[0]===2)){r=0;continue}if(u[0]===3&&(!s||u[1]>s[0]&&u[1]<s[3])){r.label=u[1];break}if(u[0]===6&&r.label<s[1]){r.label=s[1],s=u;break}if(s&&r.label<s[2]){r.label=s[2],r.ops.push(u);break}s[2]&&r.ops.pop(),r.trys.pop();continue}u=e.call(t,r)}catch(d){u=[6,d],i=0}finally{n=s=0}if(u[0]&5)throw u[1];return{value:u[0]?u[1]:void 0,done:!0}}}var u4=Object.create?(function(t,e,r,n){n===void 0&&(n=r);var i=Object.getOwnPropertyDescriptor(e,r);(!i||("get"in i?!e.__esModule:i.writable||i.configurable))&&(i={enumerable:!0,get:function(){return e[r]}}),Object.defineProperty(t,n,i)}):(function(t,e,r,n){n===void 0&&(n=r),t[n]=e[r]});function Pte(t,e){for(var r in t)r!=="default"&&!Object.prototype.hasOwnProperty.call(e,r)&&u4(e,t,r)}function BE(t){var e=typeof Symbol=="function"&&Symbol.iterator,r=e&&t[e],n=0;if(r)return r.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function XP(t,e){var r=typeof Symbol=="function"&&t[Symbol.iterator];if(!r)return t;var n=r.call(t),i,s=[],a;try{for(;(e===void 0||e-- >0)&&!(i=n.next()).done;)s.push(i.value)}catch(o){a={error:o}}finally{try{i&&!i.done&&(r=n.return)&&r.call(n)}finally{if(a)throw a.error}}return s}function jte(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(XP(arguments[e]));return t}function Dte(){for(var t=0,e=0,r=arguments.length;e<r;e++)t+=arguments[e].length;for(var n=Array(t),i=0,e=0;e<r;e++)for(var s=arguments[e],a=0,o=s.length;a<o;a++,i++)n[i]=s[a];return n}function Mte(t,e,r){if(r||arguments.length===2)for(var n=0,i=e.length,s;n<i;n++)(s||!(n in e))&&(s||(s=Array.prototype.slice.call(e,0,n)),s[n]=e[n]);return t.concat(s||Array.prototype.slice.call(e))}function Fg(t){return this instanceof Fg?(this.v=t,this):new Fg(t)}function Lte(t,e,r){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var n=r.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),o("next"),o("throw"),o("return",a),i[Symbol.asyncIterator]=function(){return this},i;function a(v){return function(x){return Promise.resolve(x).then(v,f)}}function o(v,x){n[v]&&(i[v]=function(b){return new Promise(function(w,E){s.push([v,b,w,E])>1||l(v,b)})},x&&(i[v]=x(i[v])))}function l(v,x){try{u(n[v](x))}catch(b){g(s[0][3],b)}}function u(v){v.value instanceof Fg?Promise.resolve(v.value.v).then(d,f):g(s[0][2],v)}function d(v){l("next",v)}function f(v){l("throw",v)}function g(v,x){v(x),s.shift(),s.length&&l(s[0][0],s[0][1])}}function Fte(t){var e,r;return e={},n("next"),n("throw",function(i){throw i}),n("return"),e[Symbol.iterator]=function(){return this},e;function n(i,s){e[i]=t[i]?function(a){return(r=!r)?{value:Fg(t[i](a)),done:!1}:s?s(a):a}:s}}function Bte(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],r;return e?e.call(t):(t=typeof BE=="function"?BE(t):t[Symbol.iterator](),r={},n("next"),n("throw"),n("return"),r[Symbol.asyncIterator]=function(){return this},r);function n(s){r[s]=t[s]&&function(a){return new Promise(function(o,l){a=t[s](a),i(o,l,a.done,a.value)})}}function i(s,a,o,l){Promise.resolve(l).then(function(u){s({value:u,done:o})},a)}}function Vte(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}var aAe=Object.create?(function(t,e){Object.defineProperty(t,"default",{enumerable:!0,value:e})}):function(t,e){t.default=e},XI=function(t){return XI=Object.getOwnPropertyNames||function(e){var r=[];for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[r.length]=n);return r},XI(t)};function Ute(t){if(t&&t.__esModule)return t;var e={};if(t!=null)for(var r=XI(t),n=0;n<r.length;n++)r[n]!=="default"&&u4(e,t,r[n]);return aAe(e,t),e}function zte(t){return t&&t.__esModule?t:{default:t}}function $te(t,e,r,n){if(r==="a"&&!n)throw new TypeError("Private accessor was defined without a getter");if(typeof e=="function"?t!==e||!n:!e.has(t))throw new TypeError("Cannot read private member from an object whose class did not declare it");return r==="m"?n:r==="a"?n.call(t):n?n.value:e.get(t)}function Hte(t,e,r,n,i){if(n==="m")throw new TypeError("Private method is not writable");if(n==="a"&&!i)throw new TypeError("Private accessor was defined without a setter");if(typeof e=="function"?t!==e||!i:!e.has(t))throw new TypeError("Cannot write private member to an object whose class did not declare it");return n==="a"?i.call(t,r):i?i.value=r:e.set(t,r),r}function qte(t,e){if(e===null||typeof e!="object"&&typeof e!="function")throw new TypeError("Cannot use 'in' operator on non-object");return typeof t=="function"?e===t:t.has(e)}function Wte(t,e,r){if(e!=null){if(typeof e!="object"&&typeof e!="function")throw new TypeError("Object expected.");var n,i;if(r){if(!Symbol.asyncDispose)throw new TypeError("Symbol.asyncDispose is not defined.");n=e[Symbol.asyncDispose]}if(n===void 0){if(!Symbol.dispose)throw new TypeError("Symbol.dispose is not defined.");n=e[Symbol.dispose],r&&(i=n)}if(typeof n!="function")throw new TypeError("Object not disposable.");i&&(n=function(){try{i.call(this)}catch(s){return Promise.reject(s)}}),t.stack.push({value:e,dispose:n,async:r})}else r&&t.stack.push({async:!0});return e}var oAe=typeof SuppressedError=="function"?SuppressedError:function(t,e,r){var n=new Error(r);return n.name="SuppressedError",n.error=t,n.suppressed=e,n};function Gte(t){function e(s){t.error=t.hasError?new oAe(s,t.error,"An error was suppressed during disposal."):s,t.hasError=!0}var r,n=0;function i(){for(;r=t.stack.pop();)try{if(!r.async&&n===1)return n=0,t.stack.push(r),Promise.resolve().then(i);if(r.dispose){var s=r.dispose.call(r.value);if(r.async)return n|=2,Promise.resolve(s).then(i,function(a){return e(a),i()})}else n|=1}catch(a){e(a)}if(n===1)return t.hasError?Promise.reject(t.error):Promise.resolve();if(t.hasError)throw t.error}return i()}function Kte(t,e){return typeof t=="string"&&/^\.\.?\//.test(t)?t.replace(/\.(tsx)$|((?:\.d)?)((?:\.[^./]+?)?)\.([cm]?)ts$/i,function(r,n,i,s,a){return n?e?".jsx":".js":i&&(!s||!a)?r:i+s+"."+a.toLowerCase()+"js"}):t}const lAe={__extends:Tte,__assign:FE,__rest:wv,__decorate:Ste,__param:kte,__esDecorate:Ate,__runInitializers:Cte,__propKey:Nte,__setFunctionName:Ite,__metadata:Ote,__awaiter:xt,__generator:Rte,__createBinding:u4,__exportStar:Pte,__values:BE,__read:XP,__spread:jte,__spreadArrays:Dte,__spreadArray:Mte,__await:Fg,__asyncGenerator:Lte,__asyncDelegator:Fte,__asyncValues:Bte,__makeTemplateObject:Vte,__importStar:Ute,__importDefault:zte,__classPrivateFieldGet:$te,__classPrivateFieldSet:Hte,__classPrivateFieldIn:qte,__addDisposableResource:Wte,__disposeResources:Gte,__rewriteRelativeImportExtension:Kte},cAe=Object.freeze(Object.defineProperty({__proto__:null,__addDisposableResource:Wte,get __assign(){return FE},__asyncDelegator:Fte,__asyncGenerator:Lte,__asyncValues:Bte,__await:Fg,__awaiter:xt,__classPrivateFieldGet:$te,__classPrivateFieldIn:qte,__classPrivateFieldSet:Hte,__createBinding:u4,__decorate:Ste,__disposeResources:Gte,__esDecorate:Ate,__exportStar:Pte,__extends:Tte,__generator:Rte,__importDefault:zte,__importStar:Ute,__makeTemplateObject:Vte,__metadata:Ote,__param:kte,__propKey:Nte,__read:XP,__rest:wv,__rewriteRelativeImportExtension:Kte,__runInitializers:Cte,__setFunctionName:Ite,__spread:jte,__spreadArray:Mte,__spreadArrays:Dte,__values:BE,default:lAe},Symbol.toStringTag,{value:"Module"})),uAe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e);class QP extends Error{constructor(e,r="FunctionsError",n){super(e),this.name=r,this.context=n}}class dAe extends QP{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class XU extends QP{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class QU extends QP{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var QI;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(QI||(QI={}));class hAe{constructor(e,{headers:r={},customFetch:n,region:i=QI.Any}={}){this.url=e,this.headers=r,this.region=i,this.fetch=uAe(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e){return xt(this,arguments,void 0,function*(r,n={}){var i;let s,a;try{const{headers:o,method:l,body:u,signal:d,timeout:f}=n;let g={},{region:v}=n;v||(v=this.region);const x=new URL(`${this.url}/${r}`);v&&v!=="any"&&(g["x-region"]=v,x.searchParams.set("forceFunctionRegion",v));let b;u&&(o&&!Object.prototype.hasOwnProperty.call(o,"Content-Type")||!o)?typeof Blob<"u"&&u instanceof Blob||u instanceof ArrayBuffer?(g["Content-Type"]="application/octet-stream",b=u):typeof u=="string"?(g["Content-Type"]="text/plain",b=u):typeof FormData<"u"&&u instanceof FormData?b=u:(g["Content-Type"]="application/json",b=JSON.stringify(u)):b=u;let w=d;f&&(a=new AbortController,s=setTimeout(()=>a.abort(),f),d?(w=a.signal,d.addEventListener("abort",()=>a.abort())):w=a.signal);const E=yield this.fetch(x.toString(),{method:l||"POST",headers:Object.assign(Object.assign(Object.assign({},g),this.headers),o),body:b,signal:w}).catch(P=>{throw new dAe(P)}),k=E.headers.get("x-relay-error");if(k&&k==="true")throw new XU(E);if(!E.ok)throw new QU(E);let A=((i=E.headers.get("Content-Type"))!==null&&i!==void 0?i:"text/plain").split(";")[0].trim(),O;return A==="application/json"?O=yield E.json():A==="application/octet-stream"||A==="application/pdf"?O=yield E.blob():A==="text/event-stream"?O=E:A==="multipart/form-data"?O=yield E.formData():O=yield E.text(),{data:O,error:null,response:E}}catch(o){return{data:null,error:o,response:o instanceof QU||o instanceof XU?o.context:void 0}}finally{s&&clearTimeout(s)}})}}var pa={};const _v=Xhe(cAe);var N_={},I_={},O_={},R_={},P_={},j_={},JU;function Yte(){if(JU)return j_;JU=1,Object.defineProperty(j_,"__esModule",{value:!0});class t extends Error{constructor(r){super(r.message),this.name="PostgrestError",this.details=r.details,this.hint=r.hint,this.code=r.code}}return j_.default=t,j_}var ZU;function Xte(){if(ZU)return P_;ZU=1,Object.defineProperty(P_,"__esModule",{value:!0});const e=_v.__importDefault(Yte());class r{constructor(i){var s,a;this.shouldThrowOnError=!1,this.method=i.method,this.url=i.url,this.headers=new Headers(i.headers),this.schema=i.schema,this.body=i.body,this.shouldThrowOnError=(s=i.shouldThrowOnError)!==null&&s!==void 0?s:!1,this.signal=i.signal,this.isMaybeSingle=(a=i.isMaybeSingle)!==null&&a!==void 0?a:!1,i.fetch?this.fetch=i.fetch:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(i,s){return this.headers=new Headers(this.headers),this.headers.set(i,s),this}then(i,s){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers.set("Accept-Profile",this.schema):this.headers.set("Content-Profile",this.schema)),this.method!=="GET"&&this.method!=="HEAD"&&this.headers.set("Content-Type","application/json");const a=this.fetch;let o=a(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async l=>{var u,d,f,g;let v=null,x=null,b=null,w=l.status,E=l.statusText;if(l.ok){if(this.method!=="HEAD"){const P=await l.text();P===""||(this.headers.get("Accept")==="text/csv"||this.headers.get("Accept")&&(!((u=this.headers.get("Accept"))===null||u===void 0)&&u.includes("application/vnd.pgrst.plan+text"))?x=P:x=JSON.parse(P))}const A=(d=this.headers.get("Prefer"))===null||d===void 0?void 0:d.match(/count=(exact|planned|estimated)/),O=(f=l.headers.get("content-range"))===null||f===void 0?void 0:f.split("/");A&&O&&O.length>1&&(b=parseInt(O[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(x)&&(x.length>1?(v={code:"PGRST116",details:`Results contain ${x.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},x=null,b=null,w=406,E="Not Acceptable"):x.length===1?x=x[0]:x=null)}else{const A=await l.text();try{v=JSON.parse(A),Array.isArray(v)&&l.status===404&&(x=[],v=null,w=200,E="OK")}catch{l.status===404&&A===""?(w=204,E="No Content"):v={message:A}}if(v&&this.isMaybeSingle&&(!((g=v==null?void 0:v.details)===null||g===void 0)&&g.includes("0 rows"))&&(v=null,w=200,E="OK"),v&&this.shouldThrowOnError)throw new e.default(v)}return{error:v,data:x,count:b,status:w,statusText:E}});return this.shouldThrowOnError||(o=o.catch(l=>{var u,d,f,g,v,x;let b="";const w=l==null?void 0:l.cause;if(w){const E=(u=w==null?void 0:w.message)!==null&&u!==void 0?u:"",k=(d=w==null?void 0:w.code)!==null&&d!==void 0?d:"";b=`${(f=l==null?void 0:l.name)!==null&&f!==void 0?f:"FetchError"}: ${l==null?void 0:l.message}`,b+=`

Caused by: ${(g=w==null?void 0:w.name)!==null&&g!==void 0?g:"Error"}: ${E}`,k&&(b+=` (${k})`),w!=null&&w.stack&&(b+=`
${w.stack}`)}else b=(v=l==null?void 0:l.stack)!==null&&v!==void 0?v:"";return{error:{message:`${(x=l==null?void 0:l.name)!==null&&x!==void 0?x:"FetchError"}: ${l==null?void 0:l.message}`,details:b,hint:"",code:""},data:null,count:null,status:0,statusText:""}})),o.then(i,s)}returns(){return this}overrideTypes(){return this}}return P_.default=r,P_}var ez;function Qte(){if(ez)return R_;ez=1,Object.defineProperty(R_,"__esModule",{value:!0});const e=_v.__importDefault(Xte());class r extends e.default{select(i){let s=!1;const a=(i??"*").split("").map(o=>/\s/.test(o)&&!s?"":(o==='"'&&(s=!s),o)).join("");return this.url.searchParams.set("select",a),this.headers.append("Prefer","return=representation"),this}order(i,{ascending:s=!0,nullsFirst:a,foreignTable:o,referencedTable:l=o}={}){const u=l?`${l}.order`:"order",d=this.url.searchParams.get(u);return this.url.searchParams.set(u,`${d?`${d},`:""}${i}.${s?"asc":"desc"}${a===void 0?"":a?".nullsfirst":".nullslast"}`),this}limit(i,{foreignTable:s,referencedTable:a=s}={}){const o=typeof a>"u"?"limit":`${a}.limit`;return this.url.searchParams.set(o,`${i}`),this}range(i,s,{foreignTable:a,referencedTable:o=a}={}){const l=typeof o>"u"?"offset":`${o}.offset`,u=typeof o>"u"?"limit":`${o}.limit`;return this.url.searchParams.set(l,`${i}`),this.url.searchParams.set(u,`${s-i+1}`),this}abortSignal(i){return this.signal=i,this}single(){return this.headers.set("Accept","application/vnd.pgrst.object+json"),this}maybeSingle(){return this.method==="GET"?this.headers.set("Accept","application/json"):this.headers.set("Accept","application/vnd.pgrst.object+json"),this.isMaybeSingle=!0,this}csv(){return this.headers.set("Accept","text/csv"),this}geojson(){return this.headers.set("Accept","application/geo+json"),this}explain({analyze:i=!1,verbose:s=!1,settings:a=!1,buffers:o=!1,wal:l=!1,format:u="text"}={}){var d;const f=[i?"analyze":null,s?"verbose":null,a?"settings":null,o?"buffers":null,l?"wal":null].filter(Boolean).join("|"),g=(d=this.headers.get("Accept"))!==null&&d!==void 0?d:"application/json";return this.headers.set("Accept",`application/vnd.pgrst.plan+${u}; for="${g}"; options=${f};`),u==="json"?this:this}rollback(){return this.headers.append("Prefer","tx=rollback"),this}returns(){return this}maxAffected(i){return this.headers.append("Prefer","handling=strict"),this.headers.append("Prefer",`max-affected=${i}`),this}}return R_.default=r,R_}var tz;function JP(){if(tz)return O_;tz=1,Object.defineProperty(O_,"__esModule",{value:!0});const e=_v.__importDefault(Qte()),r=new RegExp("[,()]");class n extends e.default{eq(s,a){return this.url.searchParams.append(s,`eq.${a}`),this}neq(s,a){return this.url.searchParams.append(s,`neq.${a}`),this}gt(s,a){return this.url.searchParams.append(s,`gt.${a}`),this}gte(s,a){return this.url.searchParams.append(s,`gte.${a}`),this}lt(s,a){return this.url.searchParams.append(s,`lt.${a}`),this}lte(s,a){return this.url.searchParams.append(s,`lte.${a}`),this}like(s,a){return this.url.searchParams.append(s,`like.${a}`),this}likeAllOf(s,a){return this.url.searchParams.append(s,`like(all).{${a.join(",")}}`),this}likeAnyOf(s,a){return this.url.searchParams.append(s,`like(any).{${a.join(",")}}`),this}ilike(s,a){return this.url.searchParams.append(s,`ilike.${a}`),this}ilikeAllOf(s,a){return this.url.searchParams.append(s,`ilike(all).{${a.join(",")}}`),this}ilikeAnyOf(s,a){return this.url.searchParams.append(s,`ilike(any).{${a.join(",")}}`),this}regexMatch(s,a){return this.url.searchParams.append(s,`match.${a}`),this}regexIMatch(s,a){return this.url.searchParams.append(s,`imatch.${a}`),this}is(s,a){return this.url.searchParams.append(s,`is.${a}`),this}isDistinct(s,a){return this.url.searchParams.append(s,`isdistinct.${a}`),this}in(s,a){const o=Array.from(new Set(a)).map(l=>typeof l=="string"&&r.test(l)?`"${l}"`:`${l}`).join(",");return this.url.searchParams.append(s,`in.(${o})`),this}contains(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cs.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cs.{${a.join(",")}}`):this.url.searchParams.append(s,`cs.${JSON.stringify(a)}`),this}containedBy(s,a){return typeof a=="string"?this.url.searchParams.append(s,`cd.${a}`):Array.isArray(a)?this.url.searchParams.append(s,`cd.{${a.join(",")}}`):this.url.searchParams.append(s,`cd.${JSON.stringify(a)}`),this}rangeGt(s,a){return this.url.searchParams.append(s,`sr.${a}`),this}rangeGte(s,a){return this.url.searchParams.append(s,`nxl.${a}`),this}rangeLt(s,a){return this.url.searchParams.append(s,`sl.${a}`),this}rangeLte(s,a){return this.url.searchParams.append(s,`nxr.${a}`),this}rangeAdjacent(s,a){return this.url.searchParams.append(s,`adj.${a}`),this}overlaps(s,a){return typeof a=="string"?this.url.searchParams.append(s,`ov.${a}`):this.url.searchParams.append(s,`ov.{${a.join(",")}}`),this}textSearch(s,a,{config:o,type:l}={}){let u="";l==="plain"?u="pl":l==="phrase"?u="ph":l==="websearch"&&(u="w");const d=o===void 0?"":`(${o})`;return this.url.searchParams.append(s,`${u}fts${d}.${a}`),this}match(s){return Object.entries(s).forEach(([a,o])=>{this.url.searchParams.append(a,`eq.${o}`)}),this}not(s,a,o){return this.url.searchParams.append(s,`not.${a}.${o}`),this}or(s,{foreignTable:a,referencedTable:o=a}={}){const l=o?`${o}.or`:"or";return this.url.searchParams.append(l,`(${s})`),this}filter(s,a,o){return this.url.searchParams.append(s,`${a}.${o}`),this}}return O_.default=n,O_}var rz;function Jte(){if(rz)return I_;rz=1,Object.defineProperty(I_,"__esModule",{value:!0});const e=_v.__importDefault(JP());class r{constructor(i,{headers:s={},schema:a,fetch:o}){this.url=i,this.headers=new Headers(s),this.schema=a,this.fetch=o}select(i,s){const{head:a=!1,count:o}=s??{},l=a?"HEAD":"GET";let u=!1;const d=(i??"*").split("").map(f=>/\s/.test(f)&&!u?"":(f==='"'&&(u=!u),f)).join("");return this.url.searchParams.set("select",d),o&&this.headers.append("Prefer",`count=${o}`),new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch})}insert(i,{count:s,defaultToNull:a=!0}={}){var o;const l="POST";if(s&&this.headers.append("Prefer",`count=${s}`),a||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const u=i.reduce((d,f)=>d.concat(Object.keys(f)),[]);if(u.length>0){const d=[...new Set(u)].map(f=>`"${f}"`);this.url.searchParams.set("columns",d.join(","))}}return new e.default({method:l,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(o=this.fetch)!==null&&o!==void 0?o:fetch})}upsert(i,{onConflict:s,ignoreDuplicates:a=!1,count:o,defaultToNull:l=!0}={}){var u;const d="POST";if(this.headers.append("Prefer",`resolution=${a?"ignore":"merge"}-duplicates`),s!==void 0&&this.url.searchParams.set("on_conflict",s),o&&this.headers.append("Prefer",`count=${o}`),l||this.headers.append("Prefer","missing=default"),Array.isArray(i)){const f=i.reduce((g,v)=>g.concat(Object.keys(v)),[]);if(f.length>0){const g=[...new Set(f)].map(v=>`"${v}"`);this.url.searchParams.set("columns",g.join(","))}}return new e.default({method:d,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(u=this.fetch)!==null&&u!==void 0?u:fetch})}update(i,{count:s}={}){var a;const o="PATCH";return s&&this.headers.append("Prefer",`count=${s}`),new e.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:i,fetch:(a=this.fetch)!==null&&a!==void 0?a:fetch})}delete({count:i}={}){var s;const a="DELETE";return i&&this.headers.append("Prefer",`count=${i}`),new e.default({method:a,url:this.url,headers:this.headers,schema:this.schema,fetch:(s=this.fetch)!==null&&s!==void 0?s:fetch})}}return I_.default=r,I_}var nz;function fAe(){if(nz)return N_;nz=1,Object.defineProperty(N_,"__esModule",{value:!0});const t=_v,e=t.__importDefault(Jte()),r=t.__importDefault(JP());class n{constructor(s,{headers:a={},schema:o,fetch:l}={}){this.url=s,this.headers=new Headers(a),this.schemaName=o,this.fetch=l}from(s){if(!s||typeof s!="string"||s.trim()==="")throw new Error("Invalid relation name: relation must be a non-empty string.");const a=new URL(`${this.url}/${s}`);return new e.default(a,{headers:new Headers(this.headers),schema:this.schemaName,fetch:this.fetch})}schema(s){return new n(this.url,{headers:this.headers,schema:s,fetch:this.fetch})}rpc(s,a={},{head:o=!1,get:l=!1,count:u}={}){var d;let f;const g=new URL(`${this.url}/rpc/${s}`);let v;o||l?(f=o?"HEAD":"GET",Object.entries(a).filter(([b,w])=>w!==void 0).map(([b,w])=>[b,Array.isArray(w)?`{${w.join(",")}}`:`${w}`]).forEach(([b,w])=>{g.searchParams.append(b,w)})):(f="POST",v=a);const x=new Headers(this.headers);return u&&x.set("Prefer",`count=${u}`),new r.default({method:f,url:g,headers:x,schema:this.schemaName,body:v,fetch:(d=this.fetch)!==null&&d!==void 0?d:fetch})}}return N_.default=n,N_}var iz;function mAe(){if(iz)return pa;iz=1,Object.defineProperty(pa,"__esModule",{value:!0}),pa.PostgrestError=pa.PostgrestBuilder=pa.PostgrestTransformBuilder=pa.PostgrestFilterBuilder=pa.PostgrestQueryBuilder=pa.PostgrestClient=void 0;const t=_v,e=t.__importDefault(fAe());pa.PostgrestClient=e.default;const r=t.__importDefault(Jte());pa.PostgrestQueryBuilder=r.default;const n=t.__importDefault(JP());pa.PostgrestFilterBuilder=n.default;const i=t.__importDefault(Qte());pa.PostgrestTransformBuilder=i.default;const s=t.__importDefault(Xte());pa.PostgrestBuilder=s.default;const a=t.__importDefault(Yte());return pa.PostgrestError=a.default,pa.default={PostgrestClient:e.default,PostgrestQueryBuilder:r.default,PostgrestFilterBuilder:n.default,PostgrestTransformBuilder:i.default,PostgrestBuilder:s.default,PostgrestError:a.default},pa}var Zte=mAe();const ere=Jo(Zte),pAe=yY({__proto__:null,default:ere},[Zte]),{PostgrestClient:gAe,PostgrestQueryBuilder:uot,PostgrestFilterBuilder:dot,PostgrestTransformBuilder:hot,PostgrestBuilder:fot,PostgrestError:mot}=ere||pAe;class vAe{constructor(){}static detectEnvironment(){var e;if(typeof WebSocket<"u")return{type:"native",constructor:WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocket<"u")return{type:"native",constructor:globalThis.WebSocket};if(typeof global<"u"&&typeof global.WebSocket<"u")return{type:"native",constructor:global.WebSocket};if(typeof globalThis<"u"&&typeof globalThis.WebSocketPair<"u"&&typeof globalThis.WebSocket>"u")return{type:"cloudflare",error:"Cloudflare Workers detected. WebSocket clients are not supported in Cloudflare Workers.",workaround:"Use Cloudflare Workers WebSocket API for server-side WebSocket handling, or deploy to a different runtime."};if(typeof globalThis<"u"&&globalThis.EdgeRuntime||typeof navigator<"u"&&(!((e=navigator.userAgent)===null||e===void 0)&&e.includes("Vercel-Edge")))return{type:"unsupported",error:"Edge runtime detected (Vercel Edge/Netlify Edge). WebSockets are not supported in edge functions.",workaround:"Use serverless functions or a different deployment target for WebSocket functionality."};if(typeof process<"u"){const r=process.versions;if(r&&r.node){const n=r.node,i=parseInt(n.replace(/^v/,"").split(".")[0]);return i>=22?typeof globalThis.WebSocket<"u"?{type:"native",constructor:globalThis.WebSocket}:{type:"unsupported",error:`Node.js ${i} detected but native WebSocket not found.`,workaround:"Provide a WebSocket implementation via the transport option."}:{type:"unsupported",error:`Node.js ${i} detected without native WebSocket support.`,workaround:`For Node.js < 22, install "ws" package and provide it via the transport option:
import ws from "ws"
new RealtimeClient(url, { transport: ws })`}}}return{type:"unsupported",error:"Unknown JavaScript runtime without WebSocket support.",workaround:"Ensure you're running in a supported environment (browser, Node.js, Deno) or provide a custom WebSocket implementation."}}static getWebSocketConstructor(){const e=this.detectEnvironment();if(e.constructor)return e.constructor;let r=e.error||"WebSocket not supported in this environment.";throw e.workaround&&(r+=`

Suggested solution: ${e.workaround}`),new Error(r)}static createWebSocket(e,r){const n=this.getWebSocketConstructor();return new n(e,r)}static isWebSocketSupported(){try{const e=this.detectEnvironment();return e.type==="native"||e.type==="ws"}catch{return!1}}}const yAe="2.86.0",xAe=`realtime-js/${yAe}`,tre="1.0.0",bAe="2.0.0",sz=tre,JI=1e4,wAe=1e3,_Ae=100;var c0;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(c0||(c0={}));var hs;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(hs||(hs={}));var Jl;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Jl||(Jl={}));var ZI;(function(t){t.websocket="websocket"})(ZI||(ZI={}));var u0;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(u0||(u0={}));class EAe{constructor(e){this.HEADER_LENGTH=1,this.USER_BROADCAST_PUSH_META_LENGTH=6,this.KINDS={userBroadcastPush:3,userBroadcast:4},this.BINARY_ENCODING=0,this.JSON_ENCODING=1,this.BROADCAST_EVENT="broadcast",this.allowedMetadataKeys=[],this.allowedMetadataKeys=e??[]}encode(e,r){if(e.event===this.BROADCAST_EVENT&&!(e.payload instanceof ArrayBuffer)&&typeof e.payload.event=="string")return r(this._binaryEncodeUserBroadcastPush(e));let n=[e.join_ref,e.ref,e.topic,e.event,e.payload];return r(JSON.stringify(n))}_binaryEncodeUserBroadcastPush(e){var r;return this._isArrayBuffer((r=e.payload)===null||r===void 0?void 0:r.payload)?this._encodeBinaryUserBroadcastPush(e):this._encodeJsonUserBroadcastPush(e)}_encodeBinaryUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:new ArrayBuffer(0);return this._encodeUserBroadcastPush(e,this.BINARY_ENCODING,i)}_encodeJsonUserBroadcastPush(e){var r,n;const i=(n=(r=e.payload)===null||r===void 0?void 0:r.payload)!==null&&n!==void 0?n:{},a=new TextEncoder().encode(JSON.stringify(i)).buffer;return this._encodeUserBroadcastPush(e,this.JSON_ENCODING,a)}_encodeUserBroadcastPush(e,r,n){var i,s;const a=e.topic,o=(i=e.ref)!==null&&i!==void 0?i:"",l=(s=e.join_ref)!==null&&s!==void 0?s:"",u=e.payload.event,d=this.allowedMetadataKeys?this._pick(e.payload,this.allowedMetadataKeys):{},f=Object.keys(d).length===0?"":JSON.stringify(d);if(l.length>255)throw new Error(`joinRef length ${l.length} exceeds maximum of 255`);if(o.length>255)throw new Error(`ref length ${o.length} exceeds maximum of 255`);if(a.length>255)throw new Error(`topic length ${a.length} exceeds maximum of 255`);if(u.length>255)throw new Error(`userEvent length ${u.length} exceeds maximum of 255`);if(f.length>255)throw new Error(`metadata length ${f.length} exceeds maximum of 255`);const g=this.USER_BROADCAST_PUSH_META_LENGTH+l.length+o.length+a.length+u.length+f.length,v=new ArrayBuffer(this.HEADER_LENGTH+g);let x=new DataView(v),b=0;x.setUint8(b++,this.KINDS.userBroadcastPush),x.setUint8(b++,l.length),x.setUint8(b++,o.length),x.setUint8(b++,a.length),x.setUint8(b++,u.length),x.setUint8(b++,f.length),x.setUint8(b++,r),Array.from(l,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(o,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(a,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(u,E=>x.setUint8(b++,E.charCodeAt(0))),Array.from(f,E=>x.setUint8(b++,E.charCodeAt(0)));var w=new Uint8Array(v.byteLength+n.byteLength);return w.set(new Uint8Array(v),0),w.set(new Uint8Array(n),v.byteLength),w.buffer}decode(e,r){if(this._isArrayBuffer(e)){let n=this._binaryDecode(e);return r(n)}if(typeof e=="string"){const n=JSON.parse(e),[i,s,a,o,l]=n;return r({join_ref:i,ref:s,topic:a,event:o,payload:l})}return r({})}_binaryDecode(e){const r=new DataView(e),n=r.getUint8(0),i=new TextDecoder;switch(n){case this.KINDS.userBroadcast:return this._decodeUserBroadcast(e,r,i)}}_decodeUserBroadcast(e,r,n){const i=r.getUint8(1),s=r.getUint8(2),a=r.getUint8(3),o=r.getUint8(4);let l=this.HEADER_LENGTH+4;const u=n.decode(e.slice(l,l+i));l=l+i;const d=n.decode(e.slice(l,l+s));l=l+s;const f=n.decode(e.slice(l,l+a));l=l+a;const g=e.slice(l,e.byteLength),v=o===this.JSON_ENCODING?JSON.parse(n.decode(g)):g,x={type:this.BROADCAST_EVENT,event:d,payload:v};return a>0&&(x.meta=JSON.parse(f)),{join_ref:null,ref:null,topic:u,event:this.BROADCAST_EVENT,payload:x}}_isArrayBuffer(e){var r;return e instanceof ArrayBuffer||((r=e==null?void 0:e.constructor)===null||r===void 0?void 0:r.name)==="ArrayBuffer"}_pick(e,r){return!e||typeof e!="object"?{}:Object.fromEntries(Object.entries(e).filter(([n])=>r.includes(n)))}}let rre=class{constructor(e,r){this.callback=e,this.timerCalc=r,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=r}reset(){this.tries=0,clearTimeout(this.timer),this.timer=void 0}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}};var On;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(On||(On={}));const az=(t,e,r={})=>{var n;const i=(n=r.skipTypes)!==null&&n!==void 0?n:[];return e?Object.keys(e).reduce((s,a)=>(s[a]=TAe(a,t,e,i),s),{}):{}},TAe=(t,e,r,n)=>{const i=e.find(o=>o.name===t),s=i==null?void 0:i.type,a=r[t];return s&&!n.includes(s)?nre(s,a):e6(a)},nre=(t,e)=>{if(t.charAt(0)==="_"){const r=t.slice(1,t.length);return CAe(e,r)}switch(t){case On.bool:return SAe(e);case On.float4:case On.float8:case On.int2:case On.int4:case On.int8:case On.numeric:case On.oid:return kAe(e);case On.json:case On.jsonb:return AAe(e);case On.timestamp:return NAe(e);case On.abstime:case On.date:case On.daterange:case On.int4range:case On.int8range:case On.money:case On.reltime:case On.text:case On.time:case On.timestamptz:case On.timetz:case On.tsrange:case On.tstzrange:return e6(e);default:return e6(e)}},e6=t=>t,SAe=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},kAe=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},AAe=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},CAe=(t,e)=>{if(typeof t!="string")return t;const r=t.length-1,n=t[r];if(t[0]==="{"&&n==="}"){let s;const a=t.slice(1,r);try{s=JSON.parse("["+a+"]")}catch{s=a?a.split(","):[]}return s.map(o=>nre(e,o))}return t},NAe=t=>typeof t=="string"?t.replace(" ","T"):t,ire=t=>{const e=new URL(t);return e.protocol=e.protocol.replace(/^ws/i,"http"),e.pathname=e.pathname.replace(/\/+$/,"").replace(/\/socket\/websocket$/i,"").replace(/\/socket$/i,"").replace(/\/websocket$/i,""),e.pathname===""||e.pathname==="/"?e.pathname="/api/broadcast":e.pathname=e.pathname+"/api/broadcast",e.href};class u3{constructor(e,r,n={},i=JI){this.channel=e,this.event=r,this.payload=n,this.timeout=i,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,r){var n;return this._hasReceived(e)&&r((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:r}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=r=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=r,this._matchReceive(r)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,r){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:r})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:r}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(r))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var oz;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(oz||(oz={}));class w1{constructor(e,r){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.enabled=!1,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(r==null?void 0:r.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=w1.syncState(this.state,i,s,a),this.pendingDiffs.forEach(l=>{this.state=w1.syncDiff(this.state,l,s,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},i=>{const{onJoin:s,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(i):(this.state=w1.syncDiff(this.state,i,s,a),o())}),this.onJoin((i,s,a)=>{this.channel._trigger("presence",{event:"join",key:i,currentPresences:s,newPresences:a})}),this.onLeave((i,s,a)=>{this.channel._trigger("presence",{event:"leave",key:i,currentPresences:s,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,r,n,i){const s=this.cloneDeep(e),a=this.transformState(r),o={},l={};return this.map(s,(u,d)=>{a[u]||(l[u]=d)}),this.map(a,(u,d)=>{const f=s[u];if(f){const g=d.map(w=>w.presence_ref),v=f.map(w=>w.presence_ref),x=d.filter(w=>v.indexOf(w.presence_ref)<0),b=f.filter(w=>g.indexOf(w.presence_ref)<0);x.length>0&&(o[u]=x),b.length>0&&(l[u]=b)}else o[u]=d}),this.syncDiff(s,{joins:o,leaves:l},n,i)}static syncDiff(e,r,n,i){const{joins:s,leaves:a}={joins:this.transformState(r.joins),leaves:this.transformState(r.leaves)};return n||(n=()=>{}),i||(i=()=>{}),this.map(s,(o,l)=>{var u;const d=(u=e[o])!==null&&u!==void 0?u:[];if(e[o]=this.cloneDeep(l),d.length>0){const f=e[o].map(v=>v.presence_ref),g=d.filter(v=>f.indexOf(v.presence_ref)<0);e[o].unshift(...g)}n(o,d,l)}),this.map(a,(o,l)=>{let u=e[o];if(!u)return;const d=l.map(f=>f.presence_ref);u=u.filter(f=>d.indexOf(f.presence_ref)<0),e[o]=u,i(o,u,l),u.length===0&&delete e[o]}),e}static map(e,r){return Object.getOwnPropertyNames(e).map(n=>r(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((r,n)=>{const i=e[n];return"metas"in i?r[n]=i.metas.map(s=>(s.presence_ref=s.phx_ref,delete s.phx_ref,delete s.phx_ref_prev,s)):r[n]=i,r},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var lz;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(lz||(lz={}));var _1;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(_1||(_1={}));var Bu;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(Bu||(Bu={}));class ZP{constructor(e,r={config:{}},n){var i,s;if(this.topic=e,this.params=r,this.socket=n,this.bindings={},this.state=hs.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:"",enabled:!1},private:!1},r.config),this.timeout=this.socket.timeout,this.joinPush=new u3(this,Jl.join,this.params,this.timeout),this.rejoinTimer=new rre(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=hs.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(a=>a.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=hs.closed,this.socket._remove(this)}),this._onError(a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=hs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=hs.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("error",a=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,a),this.state=hs.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Jl.reply,{},(a,o)=>{this._trigger(this._replyEventName(o),a)}),this.presence=new w1(this),this.broadcastEndpointURL=ire(this.socket.endPoint),this.private=this.params.config.private||!1,!this.private&&(!((s=(i=this.params.config)===null||i===void 0?void 0:i.broadcast)===null||s===void 0)&&s.replay))throw`tried to use replay on public channel '${this.topic}'. It must be a private channel.`}subscribe(e,r=this.timeout){var n,i,s;if(this.socket.isConnected()||this.socket.connect(),this.state==hs.closed){const{config:{broadcast:a,presence:o,private:l}}=this.params,u=(i=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(v=>v.filter))!==null&&i!==void 0?i:[],d=!!this.bindings[_1.PRESENCE]&&this.bindings[_1.PRESENCE].length>0||((s=this.params.config.presence)===null||s===void 0?void 0:s.enabled)===!0,f={},g={broadcast:a,presence:Object.assign(Object.assign({},o),{enabled:d}),postgres_changes:u,private:l};this.socket.accessTokenValue&&(f.access_token=this.socket.accessTokenValue),this._onError(v=>e==null?void 0:e(Bu.CHANNEL_ERROR,v)),this._onClose(()=>e==null?void 0:e(Bu.CLOSED)),this.updateJoinPayload(Object.assign({config:g},f)),this.joinedOnce=!0,this._rejoin(r),this.joinPush.receive("ok",async({postgres_changes:v})=>{var x;if(this.socket.setAuth(),v===void 0){e==null||e(Bu.SUBSCRIBED);return}else{const b=this.bindings.postgres_changes,w=(x=b==null?void 0:b.length)!==null&&x!==void 0?x:0,E=[];for(let k=0;k<w;k++){const A=b[k],{filter:{event:O,schema:P,table:j,filter:S}}=A,I=v&&v[k];if(I&&I.event===O&&I.schema===P&&I.table===j&&I.filter===S)E.push(Object.assign(Object.assign({},A),{id:I.id}));else{this.unsubscribe(),this.state=hs.errored,e==null||e(Bu.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=E,e&&e(Bu.SUBSCRIBED);return}}).receive("error",v=>{this.state=hs.errored,e==null||e(Bu.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(v).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Bu.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,r={}){return await this.send({type:"presence",event:"track",payload:e},r.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,r,n){return this.state===hs.joined&&e===_1.PRESENCE&&(this.socket.log("channel",`resubscribe to ${this.topic} due to change in presence callbacks on joined channel`),this.unsubscribe().then(()=>this.subscribe())),this._on(e,r,n)}async httpSend(e,r,n={}){var i;const s=this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"";if(r==null)return Promise.reject("Payload is required for httpSend()");const a={method:"POST",headers:{Authorization:s,apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:e,payload:r,private:this.private}]})},o=await this._fetchWithTimeout(this.broadcastEndpointURL,a,(i=n.timeout)!==null&&i!==void 0?i:this.timeout);if(o.status===202)return{success:!0};let l=o.statusText;try{const u=await o.json();l=u.error||u.message||l}catch{}return Promise.reject(new Error(l))}async send(e,r={}){var n,i;if(!this._canPush()&&e.type==="broadcast"){console.warn("Realtime send() is automatically falling back to REST API. This behavior will be deprecated in the future. Please use httpSend() explicitly for REST delivery.");const{event:s,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:s,payload:a,private:this.private}]})};try{const u=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=r.timeout)!==null&&n!==void 0?n:this.timeout);return await((i=u.body)===null||i===void 0?void 0:i.cancel()),u.ok?"ok":"error"}catch(u){return u.name==="AbortError"?"timed out":"error"}}else return new Promise(s=>{var a,o,l;const u=this._push(e.type,e,r.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&s("ok"),u.receive("ok",()=>s("ok")),u.receive("error",()=>s("error")),u.receive("timeout",()=>s("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=hs.leaving;const r=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Jl.close,"leave",this._joinRef())};this.joinPush.destroy();let n=null;return new Promise(i=>{n=new u3(this,Jl.leave,{},e),n.receive("ok",()=>{r(),i("ok")}).receive("timeout",()=>{r(),i("timed out")}).receive("error",()=>{i("error")}),n.send(),this._canPush()||n.trigger("ok",{})}).finally(()=>{n==null||n.destroy()})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.pushBuffer=[],this.rejoinTimer.reset(),this.joinPush.destroy(),this.state=hs.closed,this.bindings={}}async _fetchWithTimeout(e,r,n){const i=new AbortController,s=setTimeout(()=>i.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},r),{signal:i.signal}));return clearTimeout(s),a}_push(e,r,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let i=new u3(this,e,r,n);return this._canPush()?i.send():this._addToPushBuffer(i),i}_addToPushBuffer(e){if(e.startTimeout(),this.pushBuffer.push(e),this.pushBuffer.length>_Ae){const r=this.pushBuffer.shift();r&&(r.destroy(),this.socket.log("channel",`discarded push due to buffer overflow: ${r.event}`,r.payload))}}_onMessage(e,r,n){return r}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,r,n){var i,s;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:u,join:d}=Jl;if(n&&[o,l,u,d].indexOf(a)>=0&&n!==this._joinRef())return;let g=this._onMessage(a,r,n);if(r&&!g)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(i=this.bindings.postgres_changes)===null||i===void 0||i.filter(v=>{var x,b,w;return((x=v.filter)===null||x===void 0?void 0:x.event)==="*"||((w=(b=v.filter)===null||b===void 0?void 0:b.event)===null||w===void 0?void 0:w.toLocaleLowerCase())===a}).map(v=>v.callback(g,n)):(s=this.bindings[a])===null||s===void 0||s.filter(v=>{var x,b,w,E,k,A;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in v){const O=v.id,P=(x=v.filter)===null||x===void 0?void 0:x.event;return O&&((b=r.ids)===null||b===void 0?void 0:b.includes(O))&&(P==="*"||(P==null?void 0:P.toLocaleLowerCase())===((w=r.data)===null||w===void 0?void 0:w.type.toLocaleLowerCase()))}else{const O=(k=(E=v==null?void 0:v.filter)===null||E===void 0?void 0:E.event)===null||k===void 0?void 0:k.toLocaleLowerCase();return O==="*"||O===((A=r==null?void 0:r.event)===null||A===void 0?void 0:A.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===a}).map(v=>{if(typeof g=="object"&&"ids"in g){const x=g.data,{schema:b,table:w,commit_timestamp:E,type:k,errors:A}=x;g=Object.assign(Object.assign({},{schema:b,table:w,commit_timestamp:E,eventType:k,new:{},old:{},errors:A}),this._getPayloadRecords(x))}v.callback(g,n)})}_isClosed(){return this.state===hs.closed}_isJoined(){return this.state===hs.joined}_isJoining(){return this.state===hs.joining}_isLeaving(){return this.state===hs.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,r,n){const i=e.toLocaleLowerCase(),s={type:i,filter:r,callback:n};return this.bindings[i]?this.bindings[i].push(s):this.bindings[i]=[s],this}_off(e,r){const n=e.toLocaleLowerCase();return this.bindings[n]&&(this.bindings[n]=this.bindings[n].filter(i=>{var s;return!(((s=i.type)===null||s===void 0?void 0:s.toLocaleLowerCase())===n&&ZP.isEqual(i.filter,r))})),this}static isEqual(e,r){if(Object.keys(e).length!==Object.keys(r).length)return!1;for(const n in e)if(e[n]!==r[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Jl.close,{},e)}_onError(e){this._on(Jl.error,{},r=>e(r))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=hs.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const r={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(r.new=az(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(r.old=az(e.columns,e.old_record)),r}}const d3=()=>{},D_={HEARTBEAT_INTERVAL:25e3,RECONNECT_DELAY:10,HEARTBEAT_TIMEOUT_FALLBACK:100},IAe=[1e3,2e3,5e3,1e4],OAe=1e4,RAe=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class PAe{constructor(e,r){var n;if(this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers={},this.params={},this.timeout=JI,this.transport=null,this.heartbeatIntervalMs=D_.HEARTBEAT_INTERVAL,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=d3,this.ref=0,this.reconnectTimer=null,this.vsn=sz,this.logger=d3,this.conn=null,this.sendBuffer=[],this.serializer=new EAe,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._connectionState="disconnected",this._wasManualDisconnect=!1,this._authPromise=null,this._resolveFetch=i=>i?(...s)=>i(...s):(...s)=>fetch(...s),!(!((n=r==null?void 0:r.params)===null||n===void 0)&&n.apikey))throw new Error("API key is required to connect to Realtime");this.apiKey=r.params.apikey,this.endPoint=`${e}/${ZI.websocket}`,this.httpEndpoint=ire(e),this._initializeOptions(r),this._setupReconnectionTimer(),this.fetch=this._resolveFetch(r==null?void 0:r.fetch)}connect(){if(!(this.isConnecting()||this.isDisconnecting()||this.conn!==null&&this.isConnected())){if(this._setConnectionState("connecting"),this.accessToken&&!this._authPromise&&this._setAuthSafely("connect"),this.transport)this.conn=new this.transport(this.endpointURL());else try{this.conn=vAe.createWebSocket(this.endpointURL())}catch(e){this._setConnectionState("disconnected");const r=e.message;throw r.includes("Node.js")?new Error(`${r}

To use Realtime in Node.js, you need to provide a WebSocket implementation:

Option 1: Use Node.js 22+ which has native WebSocket support
Option 2: Install and provide the "ws" package:

  npm install ws

  import ws from "ws"
  const client = new RealtimeClient(url, {
    ...options,
    transport: ws
  })`):new Error(`WebSocket not available: ${r}`)}this._setupConnectionHandlers()}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:this.vsn}))}disconnect(e,r){if(!this.isDisconnecting())if(this._setConnectionState("disconnecting",!0),this.conn){const n=setTimeout(()=>{this._setConnectionState("disconnected")},100);this.conn.onclose=()=>{clearTimeout(n),this._setConnectionState("disconnected")},typeof this.conn.close=="function"&&(e?this.conn.close(e,r??""):this.conn.close()),this._teardownConnection()}else this._setConnectionState("disconnected")}getChannels(){return this.channels}async removeChannel(e){const r=await e.unsubscribe();return this.channels.length===0&&this.disconnect(),r}async removeAllChannels(){const e=await Promise.all(this.channels.map(r=>r.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,r,n){this.logger(e,r,n)}connectionState(){switch(this.conn&&this.conn.readyState){case c0.connecting:return u0.Connecting;case c0.open:return u0.Open;case c0.closing:return u0.Closing;default:return u0.Closed}}isConnected(){return this.connectionState()===u0.Open}isConnecting(){return this._connectionState==="connecting"}isDisconnecting(){return this._connectionState==="disconnecting"}channel(e,r={config:{}}){const n=`realtime:${e}`,i=this.getChannels().find(s=>s.topic===n);if(i)return i;{const s=new ZP(`realtime:${e}`,r,this);return this.channels.push(s),s}}push(e){const{topic:r,event:n,payload:i,ref:s}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${r} ${n} (${s})`,i),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){this._authPromise=this._performAuth(e);try{await this._authPromise}finally{this._authPromise=null}}async sendHeartbeat(){var e;if(!this.isConnected()){try{this.heartbeatCallback("disconnected")}catch(r){this.log("error","error in heartbeat callback",r)}return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection");try{this.heartbeatCallback("timeout")}catch(r){this.log("error","error in heartbeat callback",r)}this._wasManualDisconnect=!1,(e=this.conn)===null||e===void 0||e.close(wAe,"heartbeat timeout"),setTimeout(()=>{var r;this.isConnected()||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout()},D_.HEARTBEAT_TIMEOUT_FALLBACK);return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef});try{this.heartbeatCallback("sent")}catch(r){this.log("error","error in heartbeat callback",r)}this._setAuthSafely("heartbeat")}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let r=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));r&&(this.log("transport",`leaving duplicate topic "${e}"`),r.unsubscribe())}_remove(e){this.channels=this.channels.filter(r=>r.topic!==e.topic)}_onConnMessage(e){this.decode(e.data,r=>{if(r.topic==="phoenix"&&r.event==="phx_reply")try{this.heartbeatCallback(r.payload.status==="ok"?"ok":"error")}catch(u){this.log("error","error in heartbeat callback",u)}r.ref&&r.ref===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null);const{topic:n,event:i,payload:s,ref:a}=r,o=a?`(${a})`:"",l=s.status||"";this.log("receive",`${l} ${n} ${i} ${o}`.trim(),s),this.channels.filter(u=>u._isMember(n)).forEach(u=>u._trigger(i,s,a)),this._triggerStateCallbacks("message",r)})}_clearTimer(e){var r;e==="heartbeat"&&this.heartbeatTimer?(clearInterval(this.heartbeatTimer),this.heartbeatTimer=void 0):e==="reconnect"&&((r=this.reconnectTimer)===null||r===void 0||r.reset())}_clearAllTimers(){this._clearTimer("heartbeat"),this._clearTimer("reconnect")}_setupConnectionHandlers(){this.conn&&("binaryType"in this.conn&&(this.conn.binaryType="arraybuffer"),this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_teardownConnection(){if(this.conn){if(this.conn.readyState===c0.open||this.conn.readyState===c0.connecting)try{this.conn.close()}catch(e){this.log("error","Error closing connection",e)}this.conn.onopen=null,this.conn.onerror=null,this.conn.onmessage=null,this.conn.onclose=null,this.conn=null}this._clearAllTimers(),this.channels.forEach(e=>e.teardown())}_onConnOpen(){this._setConnectionState("connected"),this.log("transport",`connected to ${this.endpointURL()}`),(this._authPromise||(this.accessToken&&!this.accessTokenValue?this.setAuth():Promise.resolve())).then(()=>{this.flushSendBuffer()}).catch(r=>{this.log("error","error waiting for auth on connect",r),this.flushSendBuffer()}),this._clearTimer("reconnect"),this.worker?this.workerRef||this._startWorkerHeartbeat():this._startHeartbeat(),this._triggerStateCallbacks("open")}_startHeartbeat(){this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs)}_startWorkerHeartbeat(){this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=r=>{this.log("worker","worker error",r.message),this.workerRef.terminate()},this.workerRef.onmessage=r=>{r.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}_onConnClose(e){var r;this._setConnectionState("disconnected"),this.log("transport","close",e),this._triggerChanError(),this._clearTimer("heartbeat"),this._wasManualDisconnect||(r=this.reconnectTimer)===null||r===void 0||r.scheduleTimeout(),this._triggerStateCallbacks("close",e)}_onConnError(e){this._setConnectionState("disconnected"),this.log("transport",`${e}`),this._triggerChanError(),this._triggerStateCallbacks("error",e)}_triggerChanError(){this.channels.forEach(e=>e._trigger(Jl.error))}_appendParams(e,r){if(Object.keys(r).length===0)return e;const n=e.match(/\?/)?"&":"?",i=new URLSearchParams(r);return`${e}${n}${i}`}_workerObjectUrl(e){let r;if(e)r=e;else{const n=new Blob([RAe],{type:"application/javascript"});r=URL.createObjectURL(n)}return r}_setConnectionState(e,r=!1){this._connectionState=e,e==="connecting"?this._wasManualDisconnect=!1:e==="disconnecting"&&(this._wasManualDisconnect=r)}async _performAuth(e=null){let r;e?r=e:this.accessToken?r=await this.accessToken():r=this.accessTokenValue,this.accessTokenValue!=r&&(this.accessTokenValue=r,this.channels.forEach(n=>{const i={access_token:r,version:xAe};r&&n.updateJoinPayload(i),n.joinedOnce&&n._isJoined()&&n._push(Jl.access_token,{access_token:r})}))}async _waitForAuthIfNeeded(){this._authPromise&&await this._authPromise}_setAuthSafely(e="general"){this.setAuth().catch(r=>{this.log("error",`error setting auth in ${e}`,r)})}_triggerStateCallbacks(e,r){try{this.stateChangeCallbacks[e].forEach(n=>{try{n(r)}catch(i){this.log("error",`error in ${e} callback`,i)}})}catch(n){this.log("error",`error triggering ${e} callbacks`,n)}}_setupReconnectionTimer(){this.reconnectTimer=new rre(async()=>{setTimeout(async()=>{await this._waitForAuthIfNeeded(),this.isConnected()||this.connect()},D_.RECONNECT_DELAY)},this.reconnectAfterMs)}_initializeOptions(e){var r,n,i,s,a,o,l,u,d,f,g,v;switch(this.transport=(r=e==null?void 0:e.transport)!==null&&r!==void 0?r:null,this.timeout=(n=e==null?void 0:e.timeout)!==null&&n!==void 0?n:JI,this.heartbeatIntervalMs=(i=e==null?void 0:e.heartbeatIntervalMs)!==null&&i!==void 0?i:D_.HEARTBEAT_INTERVAL,this.worker=(s=e==null?void 0:e.worker)!==null&&s!==void 0?s:!1,this.accessToken=(a=e==null?void 0:e.accessToken)!==null&&a!==void 0?a:null,this.heartbeatCallback=(o=e==null?void 0:e.heartbeatCallback)!==null&&o!==void 0?o:d3,this.vsn=(l=e==null?void 0:e.vsn)!==null&&l!==void 0?l:sz,e!=null&&e.params&&(this.params=e.params),e!=null&&e.logger&&(this.logger=e.logger),(e!=null&&e.logLevel||e!=null&&e.log_level)&&(this.logLevel=e.logLevel||e.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),this.reconnectAfterMs=(u=e==null?void 0:e.reconnectAfterMs)!==null&&u!==void 0?u:(x=>IAe[x-1]||OAe),this.vsn){case tre:this.encode=(d=e==null?void 0:e.encode)!==null&&d!==void 0?d:((x,b)=>b(JSON.stringify(x))),this.decode=(f=e==null?void 0:e.decode)!==null&&f!==void 0?f:((x,b)=>b(JSON.parse(x)));break;case bAe:this.encode=(g=e==null?void 0:e.encode)!==null&&g!==void 0?g:this.serializer.encode.bind(this.serializer),this.decode=(v=e==null?void 0:e.decode)!==null&&v!==void 0?v:this.serializer.decode.bind(this.serializer);break;default:throw new Error(`Unsupported serializer version: ${this.vsn}`)}if(this.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.workerUrl=e==null?void 0:e.workerUrl}}}class d4 extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function oi(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class jAe extends d4{constructor(e,r,n){super(e),this.name="StorageApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class t6 extends d4{constructor(e,r){super(e),this.name="StorageUnknownError",this.originalError=r}}const e8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),DAe=()=>Response,r6=t=>{if(Array.isArray(t))return t.map(r=>r6(r));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([r,n])=>{const i=r.replace(/([-_][a-z])/gi,s=>s.toUpperCase().replace(/[-_]/g,""));e[i]=r6(n)}),e},MAe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},LAe=t=>!t||typeof t!="string"||t.length===0||t.length>100||t.trim()!==t||t.includes("/")||t.includes("\\")?!1:/^[\w!.\*'() &$@=;:+,?-]+$/.test(t),h3=t=>{var e;return t.msg||t.message||t.error_description||(typeof t.error=="string"?t.error:(e=t.error)===null||e===void 0?void 0:e.message)||JSON.stringify(t)},FAe=(t,e,r)=>xt(void 0,void 0,void 0,function*(){const n=yield DAe();t instanceof n&&!(r!=null&&r.noResolveJson)?t.json().then(i=>{const s=t.status||500,a=(i==null?void 0:i.statusCode)||s+"";e(new jAe(h3(i),s,a))}).catch(i=>{e(new t6(h3(i),i))}):e(new t6(h3(t),t))}),BAe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"||!n?i:(MAe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,e!=null&&e.duplex&&(i.duplex=e.duplex),Object.assign(Object.assign({},i),r))};function mb(t,e,r,n,i,s){return xt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,BAe(e,n,i,s)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>FAe(l,o,n))})})}function ix(t,e,r,n){return xt(this,void 0,void 0,function*(){return mb(t,"GET",e,r,n)})}function Xl(t,e,r,n,i){return xt(this,void 0,void 0,function*(){return mb(t,"POST",e,n,i,r)})}function n6(t,e,r,n,i){return xt(this,void 0,void 0,function*(){return mb(t,"PUT",e,n,i,r)})}function VAe(t,e,r,n){return xt(this,void 0,void 0,function*(){return mb(t,"HEAD",e,Object.assign(Object.assign({},r),{noResolveJson:!0}),n)})}function t8(t,e,r,n,i){return xt(this,void 0,void 0,function*(){return mb(t,"DELETE",e,n,i,r)})}class UAe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r}then(e,r){return this.execute().then(e,r)}execute(){return xt(this,void 0,void 0,function*(){try{return{data:(yield this.downloadFn()).body,error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oi(e))return{data:null,error:e};throw e}})}}var sre;class zAe{constructor(e,r){this.downloadFn=e,this.shouldThrowOnError=r,this[sre]="BlobDownloadBuilder",this.promise=null}asStream(){return new UAe(this.downloadFn,this.shouldThrowOnError)}then(e,r){return this.getPromise().then(e,r)}catch(e){return this.getPromise().catch(e)}finally(e){return this.getPromise().finally(e)}getPromise(){return this.promise||(this.promise=this.execute()),this.promise}execute(){return xt(this,void 0,void 0,function*(){try{return{data:yield(yield this.downloadFn()).blob(),error:null}}catch(e){if(this.shouldThrowOnError)throw e;if(oi(e))return{data:null,error:e};throw e}})}}sre=Symbol.toStringTag;const $Ae={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},cz={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class HAe{constructor(e,r={},n,i){this.shouldThrowOnError=!1,this.url=e,this.headers=r,this.bucketId=n,this.fetch=e8(i)}throwOnError(){return this.shouldThrowOnError=!0,this}uploadOrUpdate(e,r,n,i){return xt(this,void 0,void 0,function*(){try{let s;const a=Object.assign(Object.assign({},cz),i);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(s=new FormData,s.append("cacheControl",a.cacheControl),l&&s.append("metadata",this.encodeMetadata(l)),s.append("",n)):typeof FormData<"u"&&n instanceof FormData?(s=n,s.has("cacheControl")||s.append("cacheControl",a.cacheControl),l&&!s.has("metadata")&&s.append("metadata",this.encodeMetadata(l))):(s=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l))),(typeof ReadableStream<"u"&&s instanceof ReadableStream||s&&typeof s=="object"&&"pipe"in s&&typeof s.pipe=="function")&&!a.duplex&&(a.duplex="half")),i!=null&&i.headers&&(o=Object.assign(Object.assign({},o),i.headers));const u=this._removeEmptyFolders(r),d=this._getFinalPath(u),f=yield(e=="PUT"?n6:Xl)(this.fetch,`${this.url}/object/${d}`,s,Object.assign({headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{}));return{data:{path:u,id:f.Id,fullPath:f.Key},error:null}}catch(s){if(this.shouldThrowOnError)throw s;if(oi(s))return{data:null,error:s};throw s}})}upload(e,r,n){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,r,n)})}uploadToSignedUrl(e,r,n,i){return xt(this,void 0,void 0,function*(){const s=this._removeEmptyFolders(e),a=this._getFinalPath(s),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",r);try{let l;const u=Object.assign({upsert:cz.upsert},i),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(u.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",u.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",u.cacheControl)):(l=n,d["cache-control"]=`max-age=${u.cacheControl}`,d["content-type"]=u.contentType);const f=yield n6(this.fetch,o.toString(),l,{headers:d});return{data:{path:s,fullPath:f.Key},error:null}}catch(l){if(this.shouldThrowOnError)throw l;if(oi(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,r){return xt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const i=Object.assign({},this.headers);r!=null&&r.upsert&&(i["x-upsert"]="true");const s=yield Xl(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:i}),a=new URL(this.url+s.url),o=a.searchParams.get("token");if(!o)throw new d4("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}update(e,r,n){return xt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,r,n)})}move(e,r,n){return xt(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}copy(e,r,n){return xt(this,void 0,void 0,function*(){try{return{data:{path:(yield Xl(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:r,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}createSignedUrl(e,r,n){return xt(this,void 0,void 0,function*(){try{let i=this._getFinalPath(e),s=yield Xl(this.fetch,`${this.url}/object/sign/${i}`,Object.assign({expiresIn:r},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return s={signedUrl:encodeURI(`${this.url}${s.signedURL}${a}`)},{data:s,error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}createSignedUrls(e,r,n){return xt(this,void 0,void 0,function*(){try{const i=yield Xl(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:r,paths:e},{headers:this.headers}),s=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:i.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${s}`):null})),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}download(e,r){const i=typeof(r==null?void 0:r.transform)<"u"?"render/image/authenticated":"object",s=this.transformOptsToQueryString((r==null?void 0:r.transform)||{}),a=s?`?${s}`:"",o=this._getFinalPath(e),l=()=>ix(this.fetch,`${this.url}/${i}/${o}${a}`,{headers:this.headers,noResolveJson:!0});return new zAe(l,this.shouldThrowOnError)}info(e){return xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{const n=yield ix(this.fetch,`${this.url}/object/info/${r}`,{headers:this.headers});return{data:r6(n),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}exists(e){return xt(this,void 0,void 0,function*(){const r=this._getFinalPath(e);try{return yield VAe(this.fetch,`${this.url}/object/${r}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n)&&n instanceof t6){const i=n.originalError;if([400,404].includes(i==null?void 0:i.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,r){const n=this._getFinalPath(e),i=[],s=r!=null&&r.download?`download=${r.download===!0?"":r.download}`:"";s!==""&&i.push(s);const o=typeof(r==null?void 0:r.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((r==null?void 0:r.transform)||{});l!==""&&i.push(l);let u=i.join("&");return u!==""&&(u=`?${u}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${u}`)}}}remove(e){return xt(this,void 0,void 0,function*(){try{return{data:yield t8(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}list(e,r,n){return xt(this,void 0,void 0,function*(){try{const i=Object.assign(Object.assign(Object.assign({},$Ae),r),{prefix:e||""});return{data:yield Xl(this.fetch,`${this.url}/object/list/${this.bucketId}`,i,{headers:this.headers},n),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}listV2(e,r){return xt(this,void 0,void 0,function*(){try{const n=Object.assign({},e);return{data:yield Xl(this.fetch,`${this.url}/object/list-v2/${this.bucketId}`,n,{headers:this.headers},r),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e.replace(/^\/+/,"")}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const r=[];return e.width&&r.push(`width=${e.width}`),e.height&&r.push(`height=${e.height}`),e.resize&&r.push(`resize=${e.resize}`),e.format&&r.push(`format=${e.format}`),e.quality&&r.push(`quality=${e.quality}`),r.join("&")}}const are="2.86.0",ore={"X-Client-Info":`storage-js/${are}`};class qAe{constructor(e,r={},n,i){this.shouldThrowOnError=!1;const s=new URL(e);i!=null&&i.useNewHostname&&/supabase\.(co|in|red)$/.test(s.hostname)&&!s.hostname.includes("storage.supabase.")&&(s.hostname=s.hostname.replace("supabase.","storage.supabase.")),this.url=s.href.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ore),r),this.fetch=e8(n)}throwOnError(){return this.shouldThrowOnError=!0,this}listBuckets(e){return xt(this,void 0,void 0,function*(){try{const r=this.listBucketOptionsToQueryString(e);return{data:yield ix(this.fetch,`${this.url}/bucket${r}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}getBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield ix(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}createBucket(e){return xt(this,arguments,void 0,function*(r,n={public:!1}){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{id:r,name:r,type:n.type,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(i){if(this.shouldThrowOnError)throw i;if(oi(i))return{data:null,error:i};throw i}})}updateBucket(e,r){return xt(this,void 0,void 0,function*(){try{return{data:yield n6(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:r.public,file_size_limit:r.fileSizeLimit,allowed_mime_types:r.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(oi(n))return{data:null,error:n};throw n}})}emptyBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield t8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}listBucketOptionsToQueryString(e){const r={};return e&&("limit"in e&&(r.limit=String(e.limit)),"offset"in e&&(r.offset=String(e.offset)),e.search&&(r.search=e.search),e.sortColumn&&(r.sortColumn=e.sortColumn),e.sortOrder&&(r.sortOrder=e.sortOrder)),Object.keys(r).length>0?"?"+new URLSearchParams(r).toString():""}}var sx=class extends Error{constructor(t,e){var r;super(t),this.name="IcebergError",this.status=e.status,this.icebergType=e.icebergType,this.icebergCode=e.icebergCode,this.details=e.details,this.isCommitStateUnknown=e.icebergType==="CommitStateUnknownException"||[500,502,504].includes(e.status)&&((r=e.icebergType)==null?void 0:r.includes("CommitState"))===!0}isNotFound(){return this.status===404}isConflict(){return this.status===409}isAuthenticationTimeout(){return this.status===419}};function WAe(t,e,r){const n=new URL(e,t);if(r)for(const[i,s]of Object.entries(r))s!==void 0&&n.searchParams.set(i,s);return n.toString()}async function GAe(t){return!t||t.type==="none"?{}:t.type==="bearer"?{Authorization:`Bearer ${t.token}`}:t.type==="header"?{[t.name]:t.value}:t.type==="custom"?await t.getHeaders():{}}function KAe(t){const e=t.fetchImpl??globalThis.fetch;return{async request({method:r,path:n,query:i,body:s,headers:a}){const o=WAe(t.baseUrl,n,i),l=await GAe(t.auth),u=await e(o,{method:r,headers:{...s?{"Content-Type":"application/json"}:{},...l,...a},body:s?JSON.stringify(s):void 0}),d=await u.text(),f=(u.headers.get("content-type")||"").includes("application/json"),g=f&&d?JSON.parse(d):d;if(!u.ok){const v=f?g:void 0,x=v==null?void 0:v.error;throw new sx((x==null?void 0:x.message)??`Request failed with status ${u.status}`,{status:u.status,icebergType:x==null?void 0:x.type,icebergCode:x==null?void 0:x.code,details:v})}return{status:u.status,headers:u.headers,data:g}}}}function M_(t){return t.join("")}var YAe=class{constructor(t,e=""){this.client=t,this.prefix=e}async listNamespaces(t){const e=t?{parent:M_(t.namespace)}:void 0;return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces`,query:e})).data.namespaces.map(n=>({namespace:n}))}async createNamespace(t,e){const r={namespace:t.namespace,properties:e==null?void 0:e.properties};return(await this.client.request({method:"POST",path:`${this.prefix}/namespaces`,body:r})).data}async dropNamespace(t){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${M_(t.namespace)}`})}async loadNamespaceMetadata(t){return{properties:(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${M_(t.namespace)}`})).data.properties}}async namespaceExists(t){try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${M_(t.namespace)}`}),!0}catch(e){if(e instanceof sx&&e.status===404)return!1;throw e}}async createNamespaceIfNotExists(t,e){try{return await this.createNamespace(t,e)}catch(r){if(r instanceof sx&&r.status===409)return;throw r}}};function gp(t){return t.join("")}var XAe=class{constructor(t,e="",r){this.client=t,this.prefix=e,this.accessDelegation=r}async listTables(t){return(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gp(t.namespace)}/tables`})).data.identifiers}async createTable(t,e){const r={};return this.accessDelegation&&(r["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gp(t.namespace)}/tables`,body:e,headers:r})).data.metadata}async updateTable(t,e){const r=await this.client.request({method:"POST",path:`${this.prefix}/namespaces/${gp(t.namespace)}/tables/${t.name}`,body:e});return{"metadata-location":r.data["metadata-location"],metadata:r.data.metadata}}async dropTable(t,e){await this.client.request({method:"DELETE",path:`${this.prefix}/namespaces/${gp(t.namespace)}/tables/${t.name}`,query:{purgeRequested:String((e==null?void 0:e.purge)??!1)}})}async loadTable(t){const e={};return this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation),(await this.client.request({method:"GET",path:`${this.prefix}/namespaces/${gp(t.namespace)}/tables/${t.name}`,headers:e})).data.metadata}async tableExists(t){const e={};this.accessDelegation&&(e["X-Iceberg-Access-Delegation"]=this.accessDelegation);try{return await this.client.request({method:"HEAD",path:`${this.prefix}/namespaces/${gp(t.namespace)}/tables/${t.name}`,headers:e}),!0}catch(r){if(r instanceof sx&&r.status===404)return!1;throw r}}async createTableIfNotExists(t,e){try{return await this.createTable(t,e)}catch(r){if(r instanceof sx&&r.status===409)return await this.loadTable({namespace:t.namespace,name:e.name});throw r}}},QAe=class{constructor(t){var n;let e="v1";t.catalogName&&(e+=`/${t.catalogName}`);const r=t.baseUrl.endsWith("/")?t.baseUrl:`${t.baseUrl}/`;this.client=KAe({baseUrl:r,auth:t.auth,fetchImpl:t.fetch}),this.accessDelegation=(n=t.accessDelegation)==null?void 0:n.join(","),this.namespaceOps=new YAe(this.client,e),this.tableOps=new XAe(this.client,e,this.accessDelegation)}async listNamespaces(t){return this.namespaceOps.listNamespaces(t)}async createNamespace(t,e){return this.namespaceOps.createNamespace(t,e)}async dropNamespace(t){await this.namespaceOps.dropNamespace(t)}async loadNamespaceMetadata(t){return this.namespaceOps.loadNamespaceMetadata(t)}async listTables(t){return this.tableOps.listTables(t)}async createTable(t,e){return this.tableOps.createTable(t,e)}async updateTable(t,e){return this.tableOps.updateTable(t,e)}async dropTable(t,e){await this.tableOps.dropTable(t,e)}async loadTable(t){return this.tableOps.loadTable(t)}async namespaceExists(t){return this.namespaceOps.namespaceExists(t)}async tableExists(t){return this.tableOps.tableExists(t)}async createNamespaceIfNotExists(t,e){return this.namespaceOps.createNamespaceIfNotExists(t,e)}async createTableIfNotExists(t,e){return this.tableOps.createTableIfNotExists(t,e)}};class JAe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},ore),r),this.fetch=e8(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Xl(this.fetch,`${this.url}/bucket`,{name:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}listBuckets(e){return xt(this,void 0,void 0,function*(){try{const r=new URLSearchParams;(e==null?void 0:e.limit)!==void 0&&r.set("limit",e.limit.toString()),(e==null?void 0:e.offset)!==void 0&&r.set("offset",e.offset.toString()),e!=null&&e.sortColumn&&r.set("sortColumn",e.sortColumn),e!=null&&e.sortOrder&&r.set("sortOrder",e.sortOrder),e!=null&&e.search&&r.set("search",e.search);const n=r.toString(),i=n?`${this.url}/bucket?${n}`:`${this.url}/bucket`;return{data:yield ix(this.fetch,i,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield t8(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(oi(r))return{data:null,error:r};throw r}})}from(e){if(!LAe(e))throw new d4("Invalid bucket name: File, folder, and bucket names must follow AWS object key naming guidelines and should avoid the use of any other characters.");return new QAe({baseUrl:this.url,catalogName:e,auth:{type:"custom",getHeaders:()=>xt(this,void 0,void 0,function*(){return this.headers})},fetch:this.fetch})}}const r8={"X-Client-Info":`storage-js/${are}`,"Content-Type":"application/json"};class lre extends Error{constructor(e){super(e),this.__isStorageVectorsError=!0,this.name="StorageVectorsError"}}function Mo(t){return typeof t=="object"&&t!==null&&"__isStorageVectorsError"in t}class f3 extends lre{constructor(e,r,n){super(e),this.name="StorageVectorsApiError",this.status=r,this.statusCode=n}toJSON(){return{name:this.name,message:this.message,status:this.status,statusCode:this.statusCode}}}class ZAe extends lre{constructor(e,r){super(e),this.name="StorageVectorsUnknownError",this.originalError=r}}var uz;(function(t){t.InternalError="InternalError",t.S3VectorConflictException="S3VectorConflictException",t.S3VectorNotFoundException="S3VectorNotFoundException",t.S3VectorBucketNotEmpty="S3VectorBucketNotEmpty",t.S3VectorMaxBucketsExceeded="S3VectorMaxBucketsExceeded",t.S3VectorMaxIndexesExceeded="S3VectorMaxIndexesExceeded"})(uz||(uz={}));const n8=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),eCe=t=>{if(typeof t!="object"||t===null)return!1;const e=Object.getPrototypeOf(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(Symbol.toStringTag in t)&&!(Symbol.iterator in t)},dz=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),tCe=(t,e,r)=>xt(void 0,void 0,void 0,function*(){if(t&&typeof t=="object"&&"status"in t&&"ok"in t&&typeof t.status=="number"&&!(r!=null&&r.noResolveJson)){const i=t.status||500,s=t;if(typeof s.json=="function")s.json().then(a=>{const o=(a==null?void 0:a.statusCode)||(a==null?void 0:a.code)||i+"";e(new f3(dz(a),i,o))}).catch(()=>{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new f3(o,i,a))});else{const a=i+"",o=s.statusText||`HTTP ${i} error`;e(new f3(o,i,a))}}else e(new ZAe(dz(t),t))}),rCe=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return n?(eCe(n)?(i.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),i.body=JSON.stringify(n)):i.body=n,Object.assign(Object.assign({},i),r)):i};function nCe(t,e,r,n,i,s){return xt(this,void 0,void 0,function*(){return new Promise((a,o)=>{t(r,rCe(e,n,i,s)).then(l=>{if(!l.ok)throw l;if(n!=null&&n.noResolveJson)return l;const u=l.headers.get("content-type");return!u||!u.includes("application/json")?{}:l.json()}).then(l=>a(l)).catch(l=>tCe(l,o,n))})})}function Lo(t,e,r,n,i){return xt(this,void 0,void 0,function*(){return nCe(t,"POST",e,n,i,r)})}class iCe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=n8(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createIndex(e){return xt(this,void 0,void 0,function*(){try{return{data:(yield Lo(this.fetch,`${this.url}/CreateIndex`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}getIndex(e,r){return xt(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/GetIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}),error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mo(n))return{data:null,error:n};throw n}})}listIndexes(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/ListIndexes`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}deleteIndex(e,r){return xt(this,void 0,void 0,function*(){try{return{data:(yield Lo(this.fetch,`${this.url}/DeleteIndex`,{vectorBucketName:e,indexName:r},{headers:this.headers}))||{},error:null}}catch(n){if(this.shouldThrowOnError)throw n;if(Mo(n))return{data:null,error:n};throw n}})}}class sCe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=n8(n)}throwOnError(){return this.shouldThrowOnError=!0,this}putVectors(e){return xt(this,void 0,void 0,function*(){try{if(e.vectors.length<1||e.vectors.length>500)throw new Error("Vector batch size must be between 1 and 500 items");return{data:(yield Lo(this.fetch,`${this.url}/PutVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}getVectors(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/GetVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}listVectors(e){return xt(this,void 0,void 0,function*(){try{if(e.segmentCount!==void 0){if(e.segmentCount<1||e.segmentCount>16)throw new Error("segmentCount must be between 1 and 16");if(e.segmentIndex!==void 0&&(e.segmentIndex<0||e.segmentIndex>=e.segmentCount))throw new Error(`segmentIndex must be between 0 and ${e.segmentCount-1}`)}return{data:yield Lo(this.fetch,`${this.url}/ListVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}queryVectors(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/QueryVectors`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}deleteVectors(e){return xt(this,void 0,void 0,function*(){try{if(e.keys.length<1||e.keys.length>500)throw new Error("Keys batch size must be between 1 and 500 items");return{data:(yield Lo(this.fetch,`${this.url}/DeleteVectors`,e,{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}}class aCe{constructor(e,r={},n){this.shouldThrowOnError=!1,this.url=e.replace(/\/$/,""),this.headers=Object.assign(Object.assign({},r8),r),this.fetch=n8(n)}throwOnError(){return this.shouldThrowOnError=!0,this}createBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:(yield Lo(this.fetch,`${this.url}/CreateVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}getBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:yield Lo(this.fetch,`${this.url}/GetVectorBucket`,{vectorBucketName:e},{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}listBuckets(){return xt(this,arguments,void 0,function*(e={}){try{return{data:yield Lo(this.fetch,`${this.url}/ListVectorBuckets`,e,{headers:this.headers}),error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}deleteBucket(e){return xt(this,void 0,void 0,function*(){try{return{data:(yield Lo(this.fetch,`${this.url}/DeleteVectorBucket`,{vectorBucketName:e},{headers:this.headers}))||{},error:null}}catch(r){if(this.shouldThrowOnError)throw r;if(Mo(r))return{data:null,error:r};throw r}})}}class oCe extends aCe{constructor(e,r={}){super(e,r.headers||{},r.fetch)}from(e){return new lCe(this.url,this.headers,e,this.fetch)}createBucket(e){const r=Object.create(null,{createBucket:{get:()=>super.createBucket}});return xt(this,void 0,void 0,function*(){return r.createBucket.call(this,e)})}getBucket(e){const r=Object.create(null,{getBucket:{get:()=>super.getBucket}});return xt(this,void 0,void 0,function*(){return r.getBucket.call(this,e)})}listBuckets(){const e=Object.create(null,{listBuckets:{get:()=>super.listBuckets}});return xt(this,arguments,void 0,function*(r={}){return e.listBuckets.call(this,r)})}deleteBucket(e){const r=Object.create(null,{deleteBucket:{get:()=>super.deleteBucket}});return xt(this,void 0,void 0,function*(){return r.deleteBucket.call(this,e)})}}class lCe extends iCe{constructor(e,r,n,i){super(e,r,i),this.vectorBucketName=n}createIndex(e){const r=Object.create(null,{createIndex:{get:()=>super.createIndex}});return xt(this,void 0,void 0,function*(){return r.createIndex.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName}))})}listIndexes(){const e=Object.create(null,{listIndexes:{get:()=>super.listIndexes}});return xt(this,arguments,void 0,function*(r={}){return e.listIndexes.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName}))})}getIndex(e){const r=Object.create(null,{getIndex:{get:()=>super.getIndex}});return xt(this,void 0,void 0,function*(){return r.getIndex.call(this,this.vectorBucketName,e)})}deleteIndex(e){const r=Object.create(null,{deleteIndex:{get:()=>super.deleteIndex}});return xt(this,void 0,void 0,function*(){return r.deleteIndex.call(this,this.vectorBucketName,e)})}index(e){return new cCe(this.url,this.headers,this.vectorBucketName,e,this.fetch)}}class cCe extends sCe{constructor(e,r,n,i,s){super(e,r,s),this.vectorBucketName=n,this.indexName=i}putVectors(e){const r=Object.create(null,{putVectors:{get:()=>super.putVectors}});return xt(this,void 0,void 0,function*(){return r.putVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}getVectors(e){const r=Object.create(null,{getVectors:{get:()=>super.getVectors}});return xt(this,void 0,void 0,function*(){return r.getVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}listVectors(){const e=Object.create(null,{listVectors:{get:()=>super.listVectors}});return xt(this,arguments,void 0,function*(r={}){return e.listVectors.call(this,Object.assign(Object.assign({},r),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}queryVectors(e){const r=Object.create(null,{queryVectors:{get:()=>super.queryVectors}});return xt(this,void 0,void 0,function*(){return r.queryVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}deleteVectors(e){const r=Object.create(null,{deleteVectors:{get:()=>super.deleteVectors}});return xt(this,void 0,void 0,function*(){return r.deleteVectors.call(this,Object.assign(Object.assign({},e),{vectorBucketName:this.vectorBucketName,indexName:this.indexName}))})}}class uCe extends qAe{constructor(e,r={},n,i){super(e,r,n,i)}from(e){return new HAe(this.url,this.headers,e,this.fetch)}get vectors(){return new oCe(this.url+"/vector",{headers:this.headers,fetch:this.fetch})}get analytics(){return new JAe(this.url+"/iceberg",this.headers,this.fetch)}}const dCe="2.86.0";let Zy="";typeof Deno<"u"?Zy="deno":typeof document<"u"?Zy="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Zy="react-native":Zy="node";const hCe={"X-Client-Info":`supabase-js-${Zy}/${dCe}`},fCe={headers:hCe},mCe={schema:"public"},pCe={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},gCe={},vCe=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),yCe=()=>Headers,xCe=(t,e,r)=>{const n=vCe(r),i=yCe();return async(s,a)=>{var o;const l=(o=await e())!==null&&o!==void 0?o:t;let u=new i(a==null?void 0:a.headers);return u.has("apikey")||u.set("apikey",t),u.has("Authorization")||u.set("Authorization",`Bearer ${l}`),n(s,Object.assign(Object.assign({},a),{headers:u}))}};function bCe(t){return t.endsWith("/")?t:t+"/"}function wCe(t,e){var r,n;const{db:i,auth:s,realtime:a,global:o}=t,{db:l,auth:u,realtime:d,global:f}=e,g={db:Object.assign(Object.assign({},l),i),auth:Object.assign(Object.assign({},u),s),realtime:Object.assign(Object.assign({},d),a),storage:{},global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(r=f==null?void 0:f.headers)!==null&&r!==void 0?r:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:async()=>""};return t.accessToken?g.accessToken=t.accessToken:delete g.accessToken,g}function _Ce(t){const e=t==null?void 0:t.trim();if(!e)throw new Error("supabaseUrl is required.");if(!e.match(/^https?:\/\//i))throw new Error("Invalid supabaseUrl: Must be a valid HTTP or HTTPS URL.");try{return new URL(bCe(e))}catch{throw Error("Invalid supabaseUrl: Provided URL is malformed.")}}const cre="2.86.0",Rp=30*1e3,i6=3,m3=i6*Rp,ECe="http://localhost:9999",TCe="supabase.auth.token",SCe={"X-Client-Info":`gotrue-js/${cre}`},s6="X-Supabase-Api-Version",ure={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},kCe=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,ACe=600*1e3;class ax extends Error{constructor(e,r,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=r,this.code=n}}function St(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class CCe extends ax{constructor(e,r,n){super(e,r,n),this.name="AuthApiError",this.status=r,this.code=n}}function NCe(t){return St(t)&&t.name==="AuthApiError"}class d0 extends ax{constructor(e,r){super(e),this.name="AuthUnknownError",this.originalError=r}}class bf extends ax{constructor(e,r,n,i){super(e,n,i),this.name=r,this.status=n}}class Oo extends bf{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function ICe(t){return St(t)&&t.name==="AuthSessionMissingError"}class vp extends bf{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class L_ extends bf{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class F_ extends bf{constructor(e,r=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function OCe(t){return St(t)&&t.name==="AuthImplicitGrantRedirectError"}class hz extends bf{constructor(e,r=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=r}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class a6 extends bf{constructor(e,r){super(e,"AuthRetryableFetchError",r,void 0)}}function p3(t){return St(t)&&t.name==="AuthRetryableFetchError"}class fz extends bf{constructor(e,r,n){super(e,"AuthWeakPasswordError",r,"weak_password"),this.reasons=n}}class o6 extends bf{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const VE="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),mz=` 	
\r=`.split(""),RCe=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<mz.length;e+=1)t[mz[e].charCodeAt(0)]=-2;for(let e=0;e<VE.length;e+=1)t[VE[e].charCodeAt(0)]=e;return t})();function pz(t,e,r){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(VE[n]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const n=e.queue>>e.queuedBits-6&63;r(VE[n]),e.queuedBits-=6}}function dre(t,e,r){const n=RCe[t];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)r(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function gz(t){const e=[],r=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},i={queue:0,queuedBits:0},s=a=>{DCe(a,n,r)};for(let a=0;a<t.length;a+=1)dre(t.charCodeAt(a),i,s);return e.join("")}function PCe(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function jCe(t,e){for(let r=0;r<t.length;r+=1){let n=t.charCodeAt(r);if(n>55295&&n<=56319){const i=(n-55296)*1024&65535;n=(t.charCodeAt(r+1)-56320&65535|i)+65536,r+=1}PCe(n,e)}}function DCe(t,e,r){if(e.utf8seq===0){if(t<=127){r(t);return}for(let n=1;n<6;n+=1)if((t>>7-n&1)===0){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&r(e.codepoint)}}function sg(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};for(let i=0;i<t.length;i+=1)dre(t.charCodeAt(i),r,n);return new Uint8Array(e)}function MCe(t){const e=[];return jCe(t,r=>e.push(r)),new Uint8Array(e)}function x0(t){const e=[],r={queue:0,queuedBits:0},n=i=>{e.push(i)};return t.forEach(i=>pz(i,r,n)),pz(null,r,n),e.join("")}function LCe(t){return Math.round(Date.now()/1e3)+t}function FCe(){return Symbol("auth-callback")}const Js=()=>typeof window<"u"&&typeof document<"u",Zf={tested:!1,writable:!1},hre=()=>{if(!Js())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Zf.tested)return Zf.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),Zf.tested=!0,Zf.writable=!0}catch{Zf.tested=!0,Zf.writable=!1}return Zf.writable};function BCe(t){const e={},r=new URL(t);if(r.hash&&r.hash[0]==="#")try{new URLSearchParams(r.hash.substring(1)).forEach((i,s)=>{e[s]=i})}catch{}return r.searchParams.forEach((n,i)=>{e[i]=n}),e}const fre=t=>t?(...e)=>t(...e):(...e)=>fetch(...e),VCe=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",Pp=async(t,e,r)=>{await t.setItem(e,JSON.stringify(r))},e0=async(t,e)=>{const r=await t.getItem(e);if(!r)return null;try{return JSON.parse(r)}catch{return r}},ph=async(t,e)=>{await t.removeItem(e)};class h4{constructor(){this.promise=new h4.promiseConstructor((e,r)=>{this.resolve=e,this.reject=r})}}h4.promiseConstructor=Promise;function g3(t){const e=t.split(".");if(e.length!==3)throw new o6("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!kCe.test(e[n]))throw new o6("JWT not in base64url format");return{header:JSON.parse(gz(e[0])),payload:JSON.parse(gz(e[1])),signature:sg(e[2]),raw:{header:e[0],payload:e[1]}}}async function UCe(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function zCe(t,e){return new Promise((n,i)=>{(async()=>{for(let s=0;s<1/0;s++)try{const a=await t(s);if(!e(s,null,a)){n(a);return}}catch(a){if(!e(s,a)){i(a);return}}})()})}function $Ce(t){return("0"+t.toString(16)).substr(-2)}function HCe(){const e=new Uint32Array(56);if(typeof crypto>"u"){const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=r.length;let i="";for(let s=0;s<56;s++)i+=r.charAt(Math.floor(Math.random()*n));return i}return crypto.getRandomValues(e),Array.from(e,$Ce).join("")}async function qCe(t){const r=new TextEncoder().encode(t),n=await crypto.subtle.digest("SHA-256",r),i=new Uint8Array(n);return Array.from(i).map(s=>String.fromCharCode(s)).join("")}async function WCe(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const r=await qCe(t);return btoa(r).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function yp(t,e,r=!1){const n=HCe();let i=n;r&&(i+="/PASSWORD_RECOVERY"),await Pp(t,`${e}-code-verifier`,i);const s=await WCe(n);return[s,n===s?"plain":"s256"]}const GCe=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function KCe(t){const e=t.headers.get(s6);if(!e||!e.match(GCe))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function YCe(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function XCe(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const QCe=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function xp(t){if(!QCe.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}function v3(){const t={};return new Proxy(t,{get:(e,r)=>{if(r==="__isUserNotAvailableProxy")return!0;if(typeof r=="symbol"){const n=r.toString();if(n==="Symbol(Symbol.toPrimitive)"||n==="Symbol(Symbol.toStringTag)"||n==="Symbol(util.inspect.custom)")return}throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Accessing the "${r}" property of the session object is not supported. Please use getUser() instead.`)},set:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Setting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)},deleteProperty:(e,r)=>{throw new Error(`@supabase/auth-js: client was created with userStorage option and there was no user stored in the user storage. Deleting the "${r}" property of the session object is not supported. Please use getUser() to fetch a user object you can manipulate.`)}})}function JCe(t,e){return new Proxy(t,{get:(r,n,i)=>{if(n==="__isInsecureUserWarningProxy")return!0;if(typeof n=="symbol"){const s=n.toString();if(s==="Symbol(Symbol.toPrimitive)"||s==="Symbol(Symbol.toStringTag)"||s==="Symbol(util.inspect.custom)"||s==="Symbol(nodejs.util.inspect.custom)")return Reflect.get(r,n,i)}return!e.value&&typeof n=="string"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),e.value=!0),Reflect.get(r,n,i)}})}function vz(t){return JSON.parse(JSON.stringify(t))}const s0=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),ZCe=[502,503,504];async function yz(t){var e;if(!VCe(t))throw new a6(s0(t),0);if(ZCe.includes(t.status))throw new a6(s0(t),t.status);let r;try{r=await t.json()}catch(s){throw new d0(s0(s),s)}let n;const i=KCe(t);if(i&&i.getTime()>=ure["2024-01-01"].timestamp&&typeof r=="object"&&r&&typeof r.code=="string"?n=r.code:typeof r=="object"&&r&&typeof r.error_code=="string"&&(n=r.error_code),n){if(n==="weak_password")throw new fz(s0(r),t.status,((e=r.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new Oo}else if(typeof r=="object"&&r&&typeof r.weak_password=="object"&&r.weak_password&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.reasons.reduce((s,a)=>s&&typeof a=="string",!0))throw new fz(s0(r),t.status,r.weak_password.reasons);throw new CCe(s0(r),t.status||500,n)}const e3e=(t,e,r,n)=>{const i={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?i:(i.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),i.body=JSON.stringify(n),Object.assign(Object.assign({},i),r))};async function jt(t,e,r,n){var i;const s=Object.assign({},n==null?void 0:n.headers);s[s6]||(s[s6]=ure["2024-01-01"].name),n!=null&&n.jwt&&(s.Authorization=`Bearer ${n.jwt}`);const a=(i=n==null?void 0:n.query)!==null&&i!==void 0?i:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await t3e(t,e,r+o,{headers:s,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function t3e(t,e,r,n,i,s){const a=e3e(e,n,i,s);let o;try{o=await t(r,Object.assign({},a))}catch(l){throw console.error(l),new a6(s0(l),0)}if(o.ok||await yz(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await yz(l)}}function Kl(t){var e;let r=null;i3e(t)&&(r=Object.assign({},t),t.expires_at||(r.expires_at=LCe(t.expires_in)));const n=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:r,user:n},error:null}}function xz(t){const e=Kl(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((r,n)=>r&&typeof n=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Sh(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function r3e(t){return{data:t,error:null}}function n3e(t){const{action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s}=t,a=wv(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:r,hashed_token:n,redirect_to:i,verification_type:s},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function bz(t){return t}function i3e(t){return t.access_token&&t.refresh_token&&t.expires_in}const y3=["global","local","others"];class s3e{constructor({url:e="",headers:r={},fetch:n}){this.url=e,this.headers=r,this.fetch=fre(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)},this.oauth={listClients:this._listOAuthClients.bind(this),createClient:this._createOAuthClient.bind(this),getClient:this._getOAuthClient.bind(this),updateClient:this._updateOAuthClient.bind(this),deleteClient:this._deleteOAuthClient.bind(this),regenerateClientSecret:this._regenerateOAuthClientSecret.bind(this)}}async signOut(e,r=y3[0]){if(y3.indexOf(r)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${y3.join(", ")}`);try{return await jt(this.fetch,"POST",`${this.url}/logout?scope=${r}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(St(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,r={}){try{return await jt(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:r.data},headers:this.headers,redirectTo:r.redirectTo,xform:Sh})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:r}=e,n=wv(e,["options"]),i=Object.assign(Object.assign({},n),r);return"newEmail"in n&&(i.new_email=n==null?void 0:n.newEmail,delete i.newEmail),await jt(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:i,headers:this.headers,xform:n3e,redirectTo:r==null?void 0:r.redirectTo})}catch(r){if(St(r))return{data:{properties:null,user:null},error:r};throw r}}async createUser(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Sh})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async listUsers(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await jt(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:bz});if(d.error)throw d.error;const f=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(St(u))return{data:{users:[]},error:u};throw u}}async getUserById(e){xp(e);try{return await jt(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Sh})}catch(r){if(St(r))return{data:{user:null},error:r};throw r}}async updateUserById(e,r){xp(e);try{return await jt(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:r,headers:this.headers,xform:Sh})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,r=!1){xp(e);try{return await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:r},xform:Sh})}catch(n){if(St(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){xp(e.userId);try{const{data:r,error:n}=await jt(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:i=>({data:{factors:i},error:null})});return{data:r,error:n}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _deleteFactor(e){xp(e.userId),xp(e.id);try{return{data:await jt(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _listOAuthClients(e){var r,n,i,s,a,o,l;try{const u={nextPage:null,lastPage:0,total:0},d=await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(r=e==null?void 0:e.page)===null||r===void 0?void 0:r.toString())!==null&&n!==void 0?n:"",per_page:(s=(i=e==null?void 0:e.perPage)===null||i===void 0?void 0:i.toString())!==null&&s!==void 0?s:""},xform:bz});if(d.error)throw d.error;const f=await d.json(),g=(a=d.headers.get("x-total-count"))!==null&&a!==void 0?a:0,v=(l=(o=d.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(x=>{const b=parseInt(x.split(";")[0].split("=")[1].substring(0,1)),w=JSON.parse(x.split(";")[1].split("=")[1]);u[`${w}Page`]=b}),u.total=parseInt(g)),{data:Object.assign(Object.assign({},f),u),error:null}}catch(u){if(St(u))return{data:{clients:[]},error:u};throw u}}async _createOAuthClient(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients`,{body:e,headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _getOAuthClient(e){try{return await jt(this.fetch,"GET",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}async _updateOAuthClient(e,r){try{return await jt(this.fetch,"PUT",`${this.url}/admin/oauth/clients/${e}`,{body:r,headers:this.headers,xform:n=>({data:n,error:null})})}catch(n){if(St(n))return{data:null,error:n};throw n}}async _deleteOAuthClient(e){try{return await jt(this.fetch,"DELETE",`${this.url}/admin/oauth/clients/${e}`,{headers:this.headers,noResolveJson:!0}),{data:null,error:null}}catch(r){if(St(r))return{data:null,error:r};throw r}}async _regenerateOAuthClientSecret(e){try{return await jt(this.fetch,"POST",`${this.url}/admin/oauth/clients/${e}/regenerate_secret`,{headers:this.headers,xform:r=>({data:r,error:null})})}catch(r){if(St(r))return{data:null,error:r};throw r}}}function wz(t={}){return{getItem:e=>t[e]||null,setItem:(e,r)=>{t[e]=r},removeItem:e=>{delete t[e]}}}const bp={debug:!!(globalThis&&hre()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class mre extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class a3e extends mre{}async function o3e(t,e,r){bp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),bp.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async i=>{if(i){bp.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,i.name);try{return await r()}finally{bp.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,i.name)}}else{if(e===0)throw bp.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new a3e(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(bp.debug)try{const s=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(s,null,"  "))}catch(s){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",s)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await r()}}))}function l3e(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}function pre(t){if(!/^0x[a-fA-F0-9]{40}$/.test(t))throw new Error(`@supabase/auth-js: Address "${t}" is invalid.`);return t.toLowerCase()}function c3e(t){return parseInt(t,16)}function u3e(t){const e=new TextEncoder().encode(t);return"0x"+Array.from(e,n=>n.toString(16).padStart(2,"0")).join("")}function d3e(t){var e;const{chainId:r,domain:n,expirationTime:i,issuedAt:s=new Date,nonce:a,notBefore:o,requestId:l,resources:u,scheme:d,uri:f,version:g}=t;{if(!Number.isInteger(r))throw new Error(`@supabase/auth-js: Invalid SIWE message field "chainId". Chain ID must be a EIP-155 chain ID. Provided value: ${r}`);if(!n)throw new Error('@supabase/auth-js: Invalid SIWE message field "domain". Domain must be provided.');if(a&&a.length<8)throw new Error(`@supabase/auth-js: Invalid SIWE message field "nonce". Nonce must be at least 8 characters. Provided value: ${a}`);if(!f)throw new Error('@supabase/auth-js: Invalid SIWE message field "uri". URI must be provided.');if(g!=="1")throw new Error(`@supabase/auth-js: Invalid SIWE message field "version". Version must be '1'. Provided value: ${g}`);if(!((e=t.statement)===null||e===void 0)&&e.includes(`
`))throw new Error(`@supabase/auth-js: Invalid SIWE message field "statement". Statement must not include '\\n'. Provided value: ${t.statement}`)}const v=pre(t.address),x=d?`${d}://${n}`:n,b=t.statement?`${t.statement}
`:"",w=`${x} wants you to sign in with your Ethereum account:
${v}

${b}`;let E=`URI: ${f}
Version: ${g}
Chain ID: ${r}${a?`
Nonce: ${a}`:""}
Issued At: ${s.toISOString()}`;if(i&&(E+=`
Expiration Time: ${i.toISOString()}`),o&&(E+=`
Not Before: ${o.toISOString()}`),l&&(E+=`
Request ID: ${l}`),u){let k=`
Resources:`;for(const A of u){if(!A||typeof A!="string")throw new Error(`@supabase/auth-js: Invalid SIWE message field "resources". Every resource must be a valid string. Provided value: ${A}`);k+=`
- ${A}`}E+=k}return`${w}
${E}`}class es extends Error{constructor({message:e,code:r,cause:n,name:i}){var s;super(e,{cause:n}),this.__isWebAuthnError=!0,this.name=(s=i??(n instanceof Error?n.name:void 0))!==null&&s!==void 0?s:"Unknown Error",this.code=r}}class UE extends es{constructor(e,r){super({code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:r,message:e}),this.name="WebAuthnUnknownError",this.originalError=r}}function h3e({error:t,options:e}){var r,n,i;const{publicKey:s}=e;if(!s)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new es({message:"Registration ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else if(t.name==="ConstraintError"){if(((r=s.authenticatorSelection)===null||r===void 0?void 0:r.requireResidentKey)===!0)return new es({message:"Discoverable credentials were required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_DISCOVERABLE_CREDENTIAL_SUPPORT",cause:t});if(e.mediation==="conditional"&&((n=s.authenticatorSelection)===null||n===void 0?void 0:n.userVerification)==="required")return new es({message:"User verification was required during automatic registration but it could not be performed",code:"ERROR_AUTO_REGISTER_USER_VERIFICATION_FAILURE",cause:t});if(((i=s.authenticatorSelection)===null||i===void 0?void 0:i.userVerification)==="required")return new es({message:"User verification was required but no available authenticator supported it",code:"ERROR_AUTHENTICATOR_MISSING_USER_VERIFICATION_SUPPORT",cause:t})}else{if(t.name==="InvalidStateError")return new es({message:"The authenticator was previously registered",code:"ERROR_AUTHENTICATOR_PREVIOUSLY_REGISTERED",cause:t});if(t.name==="NotAllowedError")return new es({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="NotSupportedError")return s.pubKeyCredParams.filter(o=>o.type==="public-key").length===0?new es({message:'No entry in pubKeyCredParams was of type "public-key"',code:"ERROR_MALFORMED_PUBKEYCREDPARAMS",cause:t}):new es({message:"No available authenticator supported any of the specified pubKeyCredParams algorithms",code:"ERROR_AUTHENTICATOR_NO_SUPPORTED_PUBKEYCREDPARAMS_ALG",cause:t});if(t.name==="SecurityError"){const a=window.location.hostname;if(gre(a)){if(s.rp.id!==a)return new es({message:`The RP ID "${s.rp.id}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new es({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="TypeError"){if(s.user.id.byteLength<1||s.user.id.byteLength>64)return new es({message:"User ID was not between 1 and 64 characters",code:"ERROR_INVALID_USER_ID_LENGTH",cause:t})}else if(t.name==="UnknownError")return new es({message:"The authenticator was unable to process the specified options, or could not create a new credential",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new es({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}function f3e({error:t,options:e}){const{publicKey:r}=e;if(!r)throw Error("options was missing required publicKey property");if(t.name==="AbortError"){if(e.signal instanceof AbortSignal)return new es({message:"Authentication ceremony was sent an abort signal",code:"ERROR_CEREMONY_ABORTED",cause:t})}else{if(t.name==="NotAllowedError")return new es({message:t.message,code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t});if(t.name==="SecurityError"){const n=window.location.hostname;if(gre(n)){if(r.rpId!==n)return new es({message:`The RP ID "${r.rpId}" is invalid for this domain`,code:"ERROR_INVALID_RP_ID",cause:t})}else return new es({message:`${window.location.hostname} is an invalid domain`,code:"ERROR_INVALID_DOMAIN",cause:t})}else if(t.name==="UnknownError")return new es({message:"The authenticator was unable to process the specified options, or could not create a new assertion signature",code:"ERROR_AUTHENTICATOR_GENERAL_ERROR",cause:t})}return new es({message:"a Non-Webauthn related error has occurred",code:"ERROR_PASSTHROUGH_SEE_CAUSE_PROPERTY",cause:t})}class m3e{createNewAbortSignal(){if(this.controller){const r=new Error("Cancelling existing WebAuthn API call for new one");r.name="AbortError",this.controller.abort(r)}const e=new AbortController;return this.controller=e,e.signal}cancelCeremony(){if(this.controller){const e=new Error("Manually cancelling existing WebAuthn API call");e.name="AbortError",this.controller.abort(e),this.controller=void 0}}}const p3e=new m3e;function g3e(t){if(!t)throw new Error("Credential creation options are required");if(typeof PublicKeyCredential<"u"&&"parseCreationOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseCreationOptionsFromJSON=="function")return PublicKeyCredential.parseCreationOptionsFromJSON(t);const{challenge:e,user:r,excludeCredentials:n}=t,i=wv(t,["challenge","user","excludeCredentials"]),s=sg(e).buffer,a=Object.assign(Object.assign({},r),{id:sg(r.id).buffer}),o=Object.assign(Object.assign({},i),{challenge:s,user:a});if(n&&n.length>0){o.excludeCredentials=new Array(n.length);for(let l=0;l<n.length;l++){const u=n[l];o.excludeCredentials[l]=Object.assign(Object.assign({},u),{id:sg(u.id).buffer,type:u.type||"public-key",transports:u.transports})}}return o}function v3e(t){if(!t)throw new Error("Credential request options are required");if(typeof PublicKeyCredential<"u"&&"parseRequestOptionsFromJSON"in PublicKeyCredential&&typeof PublicKeyCredential.parseRequestOptionsFromJSON=="function")return PublicKeyCredential.parseRequestOptionsFromJSON(t);const{challenge:e,allowCredentials:r}=t,n=wv(t,["challenge","allowCredentials"]),i=sg(e).buffer,s=Object.assign(Object.assign({},n),{challenge:i});if(r&&r.length>0){s.allowCredentials=new Array(r.length);for(let a=0;a<r.length;a++){const o=r[a];s.allowCredentials[a]=Object.assign(Object.assign({},o),{id:sg(o.id).buffer,type:o.type||"public-key",transports:o.transports})}}return s}function y3e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t;return{id:t.id,rawId:t.id,response:{attestationObject:x0(new Uint8Array(t.response.attestationObject)),clientDataJSON:x0(new Uint8Array(t.response.clientDataJSON))},type:"public-key",clientExtensionResults:t.getClientExtensionResults(),authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function x3e(t){var e;if("toJSON"in t&&typeof t.toJSON=="function")return t.toJSON();const r=t,n=t.getClientExtensionResults(),i=t.response;return{id:t.id,rawId:t.id,response:{authenticatorData:x0(new Uint8Array(i.authenticatorData)),clientDataJSON:x0(new Uint8Array(i.clientDataJSON)),signature:x0(new Uint8Array(i.signature)),userHandle:i.userHandle?x0(new Uint8Array(i.userHandle)):void 0},type:"public-key",clientExtensionResults:n,authenticatorAttachment:(e=r.authenticatorAttachment)!==null&&e!==void 0?e:void 0}}function gre(t){return t==="localhost"||/^([a-z0-9]+(-[a-z0-9]+)*\.)+[a-z]{2,}$/i.test(t)}function _z(){var t,e;return!!(Js()&&"PublicKeyCredential"in window&&window.PublicKeyCredential&&"credentials"in navigator&&typeof((t=navigator==null?void 0:navigator.credentials)===null||t===void 0?void 0:t.create)=="function"&&typeof((e=navigator==null?void 0:navigator.credentials)===null||e===void 0?void 0:e.get)=="function")}async function b3e(t){try{const e=await navigator.credentials.create(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new UE("Browser returned unexpected credential type",e)}:{data:null,error:new UE("Empty credential response",e)}}catch(e){return{data:null,error:h3e({error:e,options:t})}}}async function w3e(t){try{const e=await navigator.credentials.get(t);return e?e instanceof PublicKeyCredential?{data:e,error:null}:{data:null,error:new UE("Browser returned unexpected credential type",e)}:{data:null,error:new UE("Empty credential response",e)}}catch(e){return{data:null,error:f3e({error:e,options:t})}}}const _3e={hints:["security-key"],authenticatorSelection:{authenticatorAttachment:"cross-platform",requireResidentKey:!1,userVerification:"preferred",residentKey:"discouraged"},attestation:"direct"},E3e={userVerification:"preferred",hints:["security-key"],attestation:"direct"};function zE(...t){const e=i=>i!==null&&typeof i=="object"&&!Array.isArray(i),r=i=>i instanceof ArrayBuffer||ArrayBuffer.isView(i),n={};for(const i of t)if(i)for(const s in i){const a=i[s];if(a!==void 0)if(Array.isArray(a))n[s]=a;else if(r(a))n[s]=a;else if(e(a)){const o=n[s];e(o)?n[s]=zE(o,a):n[s]=zE(a)}else n[s]=a}return n}function T3e(t,e){return zE(_3e,t,e||{})}function S3e(t,e){return zE(E3e,t,e||{})}class k3e{constructor(e){this.client=e,this.enroll=this._enroll.bind(this),this.challenge=this._challenge.bind(this),this.verify=this._verify.bind(this),this.authenticate=this._authenticate.bind(this),this.register=this._register.bind(this)}async _enroll(e){return this.client.mfa.enroll(Object.assign(Object.assign({},e),{factorType:"webauthn"}))}async _challenge({factorId:e,webauthn:r,friendlyName:n,signal:i},s){try{const{data:a,error:o}=await this.client.mfa.challenge({factorId:e,webauthn:r});if(!a)return{data:null,error:o};const l=i??p3e.createNewAbortSignal();if(a.webauthn.type==="create"){const{user:u}=a.webauthn.credential_options.publicKey;u.name||(u.name=`${u.id}:${n}`),u.displayName||(u.displayName=u.name)}switch(a.webauthn.type){case"create":{const u=T3e(a.webauthn.credential_options.publicKey,s==null?void 0:s.create),{data:d,error:f}=await b3e({publicKey:u,signal:l});return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}case"request":{const u=S3e(a.webauthn.credential_options.publicKey,s==null?void 0:s.request),{data:d,error:f}=await w3e(Object.assign(Object.assign({},a.webauthn.credential_options),{publicKey:u,signal:l}));return d?{data:{factorId:e,challengeId:a.id,webauthn:{type:a.webauthn.type,credential_response:d}},error:null}:{data:null,error:f}}}}catch(a){return St(a)?{data:null,error:a}:{data:null,error:new d0("Unexpected error in challenge",a)}}}async _verify({challengeId:e,factorId:r,webauthn:n}){return this.client.mfa.verify({factorId:r,challengeId:e,webauthn:n})}async _authenticate({factorId:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new ax("rpId is required for WebAuthn authentication")};try{if(!_z())return{data:null,error:new d0("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this.challenge({factorId:e,webauthn:{rpId:r,rpOrigins:n},signal:i},{request:s});if(!a)return{data:null,error:o};const{webauthn:l}=a;return this._verify({factorId:e,challengeId:a.challengeId,webauthn:{type:l.type,rpId:r,rpOrigins:n,credential_response:l.credential_response}})}catch(a){return St(a)?{data:null,error:a}:{data:null,error:new d0("Unexpected error in authenticate",a)}}}async _register({friendlyName:e,webauthn:{rpId:r=typeof window<"u"?window.location.hostname:void 0,rpOrigins:n=typeof window<"u"?[window.location.origin]:void 0,signal:i}={}},s){if(!r)return{data:null,error:new ax("rpId is required for WebAuthn registration")};try{if(!_z())return{data:null,error:new d0("Browser does not support WebAuthn",null)};const{data:a,error:o}=await this._enroll({friendlyName:e});if(!a)return await this.client.mfa.listFactors().then(d=>{var f;return(f=d.data)===null||f===void 0?void 0:f.all.find(g=>g.factor_type==="webauthn"&&g.friendly_name===e&&g.status!=="unverified")}).then(d=>d?this.client.mfa.unenroll({factorId:d==null?void 0:d.id}):void 0),{data:null,error:o};const{data:l,error:u}=await this._challenge({factorId:a.id,friendlyName:a.friendly_name,webauthn:{rpId:r,rpOrigins:n},signal:i},{create:s});return l?this._verify({factorId:a.id,challengeId:l.challengeId,webauthn:{rpId:r,rpOrigins:n,type:l.webauthn.type,credential_response:l.webauthn.credential_response}}):{data:null,error:u}}catch(a){return St(a)?{data:null,error:a}:{data:null,error:new d0("Unexpected error in register",a)}}}}l3e();const A3e={url:ECe,storageKey:TCe,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:SCe,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1,throwOnError:!1};async function Ez(t,e,r){return await r()}const wp={};class ox{get jwks(){var e,r;return(r=(e=wp[this.storageKey])===null||e===void 0?void 0:e.jwks)!==null&&r!==void 0?r:{keys:[]}}set jwks(e){wp[this.storageKey]=Object.assign(Object.assign({},wp[this.storageKey]),{jwks:e})}get jwks_cached_at(){var e,r;return(r=(e=wp[this.storageKey])===null||e===void 0?void 0:e.cachedAt)!==null&&r!==void 0?r:Number.MIN_SAFE_INTEGER}set jwks_cached_at(e){wp[this.storageKey]=Object.assign(Object.assign({},wp[this.storageKey]),{cachedAt:e})}constructor(e){var r,n,i;this.userStorage=null,this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log;const s=Object.assign(Object.assign({},A3e),e);if(this.storageKey=s.storageKey,this.instanceID=(r=ox.nextInstanceID[this.storageKey])!==null&&r!==void 0?r:0,ox.nextInstanceID[this.storageKey]=this.instanceID+1,this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.instanceID>0&&Js()){const a=`${this._logPrefix()} Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.`;console.warn(a),this.logDebugMessages&&console.trace(a)}if(this.persistSession=s.persistSession,this.autoRefreshToken=s.autoRefreshToken,this.admin=new s3e({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=fre(s.fetch),this.lock=s.lock||Ez,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,this.throwOnError=s.throwOnError,s.lock?this.lock=s.lock:Js()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=o3e:this.lock=Ez,this.jwks||(this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER),this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this),webauthn:new k3e(this)},this.oauth={getAuthorizationDetails:this._getAuthorizationDetails.bind(this),approveAuthorization:this._approveAuthorization.bind(this),denyAuthorization:this._denyAuthorization.bind(this),listGrants:this._listOAuthGrants.bind(this),revokeGrant:this._revokeOAuthGrant.bind(this)},this.persistSession?(s.storage?this.storage=s.storage:hre()?this.storage=globalThis.localStorage:(this.memoryStorage={},this.storage=wz(this.memoryStorage)),s.userStorage&&(this.userStorage=s.userStorage)):(this.memoryStorage={},this.storage=wz(this.memoryStorage)),Js()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(a){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",a)}(i=this.broadcastChannel)===null||i===void 0||i.addEventListener("message",async a=>{this._debug("received broadcast notification from other tab or client",a),await this._notifyAllSubscribers(a.data.event,a.data.session,!1)})}this.initialize()}isThrowOnErrorEnabled(){return this.throwOnError}_returnResult(e){if(this.throwOnError&&e&&e.error)throw e.error;return e}_logPrefix(){return`GoTrueClient@${this.storageKey}:${this.instanceID} (${cre}) ${new Date().toISOString()}`}_debug(...e){return this.logDebugMessages&&this.logger(this._logPrefix(),...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{let r={},n="none";if(Js()&&(r=BCe(window.location.href),this._isImplicitGrantCallback(r)?n="implicit":await this._isPKCECallback(r)&&(n="pkce")),Js()&&this.detectSessionInUrl&&n!=="none"){const{data:i,error:s}=await this._getSessionFromURL(r,n);if(s){if(this._debug("#_initialize()","error detecting session from URL",s),OCe(s)){const l=(e=s.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:s}}return await this._removeSession(),{error:s}}const{session:a,redirectType:o}=i;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(r){return St(r)?this._returnResult({error:r}):this._returnResult({error:new d0("Unexpected error during initialization",r)})}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var r,n,i;try{const s=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(r=e==null?void 0:e.options)===null||r===void 0?void 0:r.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(i=e==null?void 0:e.options)===null||i===void 0?void 0:i.captchaToken}},xform:Kl}),{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(St(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signUp(e){var r,n,i;try{let s;if("email"in e){const{email:d,password:f,options:g}=e;let v=null,x=null;this.flowType==="pkce"&&([v,x]=await yp(this.storage,this.storageKey)),s=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:g==null?void 0:g.emailRedirectTo,body:{email:d,password:f,data:(r=g==null?void 0:g.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken},code_challenge:v,code_challenge_method:x},xform:Kl})}else if("phone"in e){const{phone:d,password:f,options:g}=e;s=await jt(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:f,data:(n=g==null?void 0:g.data)!==null&&n!==void 0?n:{},channel:(i=g==null?void 0:g.channel)!==null&&i!==void 0?i:"sms",gotrue_meta_security:{captcha_token:g==null?void 0:g.captchaToken}},xform:Kl})}else throw new L_("You must provide either an email or phone number and a password");const{data:a,error:o}=s;if(o||!a)return this._returnResult({data:{user:null,session:null},error:o});const l=a.session,u=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(s){if(St(s))return this._returnResult({data:{user:null,session:null},error:s});throw s}}async signInWithPassword(e){try{let r;if("email"in e){const{email:s,password:a,options:o}=e;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xz})}else if("phone"in e){const{phone:s,password:a,options:o}=e;r=await jt(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:s,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:xz})}else throw new L_("You must provide either an email or phone number and a password");const{data:n,error:i}=r;if(i)return this._returnResult({data:{user:null,session:null},error:i});if(!n||!n.session||!n.user){const s=new vp;return this._returnResult({data:{user:null,session:null},error:s})}return n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),this._returnResult({data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:i})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOAuth(e){var r,n,i,s;return await this._handleProviderSignIn(e.provider,{redirectTo:(r=e.options)===null||r===void 0?void 0:r.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(i=e.options)===null||i===void 0?void 0:i.queryParams,skipBrowserRedirect:(s=e.options)===null||s===void 0?void 0:s.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:r}=e;switch(r){case"ethereum":return await this.signInWithEthereum(e);case"solana":return await this.signInWithSolana(e);default:throw new Error(`@supabase/auth-js: Unsupported chain "${r}"`)}}async signInWithEthereum(e){var r,n,i,s,a,o,l,u,d,f,g;let v,x;if("message"in e)v=e.message,x=e.signature;else{const{chain:b,wallet:w,statement:E,options:k}=e;let A;if(Js())if(typeof w=="object")A=w;else{const R=window;if("ethereum"in R&&typeof R.ethereum=="object"&&"request"in R.ethereum&&typeof R.ethereum.request=="function")A=R.ethereum;else throw new Error("@supabase/auth-js: No compatible Ethereum wallet interface on the window object (window.ethereum) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'ethereum', wallet: resolvedUserWallet }) instead.")}else{if(typeof w!="object"||!(k!=null&&k.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");A=w}const O=new URL((r=k==null?void 0:k.url)!==null&&r!==void 0?r:window.location.href),P=await A.request({method:"eth_requestAccounts"}).then(R=>R).catch(()=>{throw new Error("@supabase/auth-js: Wallet method eth_requestAccounts is missing or invalid")});if(!P||P.length===0)throw new Error("@supabase/auth-js: No accounts available. Please ensure the wallet is connected.");const j=pre(P[0]);let S=(n=k==null?void 0:k.signInWithEthereum)===null||n===void 0?void 0:n.chainId;if(!S){const R=await A.request({method:"eth_chainId"});S=c3e(R)}const I={domain:O.host,address:j,statement:E,uri:O.href,version:"1",chainId:S,nonce:(i=k==null?void 0:k.signInWithEthereum)===null||i===void 0?void 0:i.nonce,issuedAt:(a=(s=k==null?void 0:k.signInWithEthereum)===null||s===void 0?void 0:s.issuedAt)!==null&&a!==void 0?a:new Date,expirationTime:(o=k==null?void 0:k.signInWithEthereum)===null||o===void 0?void 0:o.expirationTime,notBefore:(l=k==null?void 0:k.signInWithEthereum)===null||l===void 0?void 0:l.notBefore,requestId:(u=k==null?void 0:k.signInWithEthereum)===null||u===void 0?void 0:u.requestId,resources:(d=k==null?void 0:k.signInWithEthereum)===null||d===void 0?void 0:d.resources};v=d3e(I),x=await A.request({method:"personal_sign",params:[u3e(v),j]})}try{const{data:b,error:w}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"ethereum",message:v,signature:x},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(g=e.options)===null||g===void 0?void 0:g.captchaToken}}:null),xform:Kl});if(w)throw w;if(!b||!b.session||!b.user){const E=new vp;return this._returnResult({data:{user:null,session:null},error:E})}return b.session&&(await this._saveSession(b.session),await this._notifyAllSubscribers("SIGNED_IN",b.session)),this._returnResult({data:Object.assign({},b),error:w})}catch(b){if(St(b))return this._returnResult({data:{user:null,session:null},error:b});throw b}}async signInWithSolana(e){var r,n,i,s,a,o,l,u,d,f,g,v;let x,b;if("message"in e)x=e.message,b=e.signature;else{const{chain:w,wallet:E,statement:k,options:A}=e;let O;if(Js())if(typeof E=="object")O=E;else{const j=window;if("solana"in j&&typeof j.solana=="object"&&("signIn"in j.solana&&typeof j.solana.signIn=="function"||"signMessage"in j.solana&&typeof j.solana.signMessage=="function"))O=j.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof E!="object"||!(A!=null&&A.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");O=E}const P=new URL((r=A==null?void 0:A.url)!==null&&r!==void 0?r:window.location.href);if("signIn"in O&&O.signIn){const j=await O.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},A==null?void 0:A.signInWithSolana),{version:"1",domain:P.host,uri:P.href}),k?{statement:k}:null));let S;if(Array.isArray(j)&&j[0]&&typeof j[0]=="object")S=j[0];else if(j&&typeof j=="object"&&"signedMessage"in j&&"signature"in j)S=j;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in S&&"signature"in S&&(typeof S.signedMessage=="string"||S.signedMessage instanceof Uint8Array)&&S.signature instanceof Uint8Array)x=typeof S.signedMessage=="string"?S.signedMessage:new TextDecoder().decode(S.signedMessage),b=S.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in O)||typeof O.signMessage!="function"||!("publicKey"in O)||typeof O!="object"||!O.publicKey||!("toBase58"in O.publicKey)||typeof O.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");x=[`${P.host} wants you to sign in with your Solana account:`,O.publicKey.toBase58(),...k?["",k,""]:[""],"Version: 1",`URI: ${P.href}`,`Issued At: ${(i=(n=A==null?void 0:A.signInWithSolana)===null||n===void 0?void 0:n.issuedAt)!==null&&i!==void 0?i:new Date().toISOString()}`,...!((s=A==null?void 0:A.signInWithSolana)===null||s===void 0)&&s.notBefore?[`Not Before: ${A.signInWithSolana.notBefore}`]:[],...!((a=A==null?void 0:A.signInWithSolana)===null||a===void 0)&&a.expirationTime?[`Expiration Time: ${A.signInWithSolana.expirationTime}`]:[],...!((o=A==null?void 0:A.signInWithSolana)===null||o===void 0)&&o.chainId?[`Chain ID: ${A.signInWithSolana.chainId}`]:[],...!((l=A==null?void 0:A.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${A.signInWithSolana.nonce}`]:[],...!((u=A==null?void 0:A.signInWithSolana)===null||u===void 0)&&u.requestId?[`Request ID: ${A.signInWithSolana.requestId}`]:[],...!((f=(d=A==null?void 0:A.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||f===void 0)&&f.length?["Resources",...A.signInWithSolana.resources.map(S=>`- ${S}`)]:[]].join(`
`);const j=await O.signMessage(new TextEncoder().encode(x),"utf8");if(!j||!(j instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");b=j}}try{const{data:w,error:E}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:x,signature:x0(b)},!((g=e.options)===null||g===void 0)&&g.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:Kl});if(E)throw E;if(!w||!w.session||!w.user){const k=new vp;return this._returnResult({data:{user:null,session:null},error:k})}return w.session&&(await this._saveSession(w.session),await this._notifyAllSubscribers("SIGNED_IN",w.session)),this._returnResult({data:Object.assign({},w),error:E})}catch(w){if(St(w))return this._returnResult({data:{user:null,session:null},error:w});throw w}}async _exchangeCodeForSession(e){const r=await e0(this.storage,`${this.storageKey}-code-verifier`),[n,i]=(r??"").split("/");try{const{data:s,error:a}=await jt(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:Kl});if(await ph(this.storage,`${this.storageKey}-code-verifier`),a)throw a;if(!s||!s.session||!s.user){const o=new vp;return this._returnResult({data:{user:null,session:null,redirectType:null},error:o})}return s.session&&(await this._saveSession(s.session),await this._notifyAllSubscribers("SIGNED_IN",s.session)),this._returnResult({data:Object.assign(Object.assign({},s),{redirectType:i??null}),error:a})}catch(s){if(St(s))return this._returnResult({data:{user:null,session:null,redirectType:null},error:s});throw s}}async signInWithIdToken(e){try{const{options:r,provider:n,token:i,access_token:s,nonce:a}=e,o=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:i,access_token:s,nonce:a,gotrue_meta_security:{captcha_token:r==null?void 0:r.captchaToken}},xform:Kl}),{data:l,error:u}=o;if(u)return this._returnResult({data:{user:null,session:null},error:u});if(!l||!l.session||!l.user){const d=new vp;return this._returnResult({data:{user:null,session:null},error:d})}return l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),this._returnResult({data:l,error:u})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async signInWithOtp(e){var r,n,i,s,a;try{if("email"in e){const{email:o,options:l}=e;let u=null,d=null;this.flowType==="pkce"&&([u,d]=await yp(this.storage,this.storageKey));const{error:f}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(r=l==null?void 0:l.data)!==null&&r!==void 0?r:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:u,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:f})}if("phone"in e){const{phone:o,options:l}=e,{data:u,error:d}=await jt(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(i=l==null?void 0:l.data)!==null&&i!==void 0?i:{},create_user:(s=l==null?void 0:l.shouldCreateUser)!==null&&s!==void 0?s:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return this._returnResult({data:{user:null,session:null,messageId:u==null?void 0:u.message_id},error:d})}throw new L_("You must provide either an email or phone number.")}catch(o){if(St(o))return this._returnResult({data:{user:null,session:null},error:o});throw o}}async verifyOtp(e){var r,n;try{let i,s;"options"in e&&(i=(r=e.options)===null||r===void 0?void 0:r.redirectTo,s=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await jt(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:s}}),redirectTo:i,xform:Kl});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,u=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),this._returnResult({data:{user:u,session:l},error:null})}catch(i){if(St(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}}async signInWithSSO(e){var r,n,i,s,a;try{let o=null,l=null;this.flowType==="pkce"&&([o,l]=await yp(this.storage,this.storageKey));const u=await jt(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(r=e.options)===null||r===void 0?void 0:r.redirectTo)!==null&&n!==void 0?n:void 0}),!((i=e==null?void 0:e.options)===null||i===void 0)&&i.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:o,code_challenge_method:l}),headers:this.headers,xform:r3e});return!((s=u.data)===null||s===void 0)&&s.url&&Js()&&!(!((a=e.options)===null||a===void 0)&&a.skipBrowserRedirect)&&window.location.assign(u.data.url),this._returnResult(u)}catch(o){if(St(o))return this._returnResult({data:null,error:o});throw o}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;if(n)throw n;if(!r)throw new Oo;const{error:i}=await jt(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:r.access_token});return this._returnResult({data:{user:null,session:null},error:i})})}catch(e){if(St(e))return this._returnResult({data:{user:null,session:null},error:e});throw e}}async resend(e){try{const r=`${this.url}/resend`;if("email"in e){const{email:n,type:i,options:s}=e,{error:a}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{email:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}},redirectTo:s==null?void 0:s.emailRedirectTo});return this._returnResult({data:{user:null,session:null},error:a})}else if("phone"in e){const{phone:n,type:i,options:s}=e,{data:a,error:o}=await jt(this.fetch,"POST",r,{headers:this.headers,body:{phone:n,type:i,gotrue_meta_security:{captcha_token:s==null?void 0:s.captchaToken}}});return this._returnResult({data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o})}throw new L_("You must provide either an email or phone number and a type")}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async r=>r))}async _acquireLock(e,r){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),i=(async()=>(await n,await r()))();return this.pendingInLock.push((async()=>{try{await i}catch{}})()),i}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=r();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const i=[...this.pendingInLock];await Promise.all(i),this.pendingInLock.splice(0,i.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const r=await this.__loadSession();return await e(r)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const r=await e0(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",r),r!==null&&(this._isValidSession(r)?e=r:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<m3:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.userStorage){const a=await e0(this.userStorage,this.storageKey+"-user");a!=null&&a.user?e.user=a.user:e.user=v3()}if(this.storage.isServer&&e.user&&!e.user.__isUserNotAvailableProxy){const a={value:this.suppressGetSessionWarning};e.user=JCe(e.user,a),a.value&&(this.suppressGetSessionWarning=!0)}return{data:{session:e},error:null}}const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{session:null},error:s}):this._returnResult({data:{session:i},error:null})}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Sh}):await this._useSession(async r=>{var n,i,s;const{data:a,error:o}=r;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new Oo}:await jt(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(s=(i=a.session)===null||i===void 0?void 0:i.access_token)!==null&&s!==void 0?s:void 0,xform:Sh})})}catch(r){if(St(r))return ICe(r)&&(await this._removeSession(),await ph(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({data:{user:null},error:r});throw r}}async updateUser(e,r={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,r))}async _updateUser(e,r={}){try{return await this._useSession(async n=>{const{data:i,error:s}=n;if(s)throw s;if(!i.session)throw new Oo;const a=i.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await yp(this.storage,this.storageKey));const{data:u,error:d}=await jt(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:r==null?void 0:r.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:Sh});if(d)throw d;return a.user=u.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),this._returnResult({data:{user:a.user},error:null})})}catch(n){if(St(n))return this._returnResult({data:{user:null},error:n});throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new Oo;const r=Date.now()/1e3;let n=r,i=!0,s=null;const{payload:a}=g3(e.access_token);if(a.exp&&(n=a.exp,i=n<=r),i){const{data:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return this._returnResult({data:{user:null,session:null},error:l});if(!o)return{data:{user:null,session:null},error:null};s=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;s={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-r,expires_at:n},await this._saveSession(s),await this._notifyAllSubscribers("SIGNED_IN",s)}return this._returnResult({data:{user:s.user,session:s},error:null})}catch(r){if(St(r))return this._returnResult({data:{session:null,user:null},error:r});throw r}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async r=>{var n;if(!e){const{data:a,error:o}=r;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new Oo;const{data:i,error:s}=await this._callRefreshToken(e.refresh_token);return s?this._returnResult({data:{user:null,session:null},error:s}):i?this._returnResult({data:{user:i.user,session:i},error:null}):this._returnResult({data:{user:null,session:null},error:null})})}catch(r){if(St(r))return this._returnResult({data:{user:null,session:null},error:r});throw r}}async _getSessionFromURL(e,r){try{if(!Js())throw new F_("No browser detected.");if(e.error||e.error_description||e.error_code)throw new F_(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(r){case"implicit":if(this.flowType==="pkce")throw new hz("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new F_("Not a valid implicit grant flow url.");break;default:}if(r==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new hz("No code detected.");const{data:k,error:A}=await this._exchangeCodeForSession(e.code);if(A)throw A;const O=new URL(window.location.href);return O.searchParams.delete("code"),window.history.replaceState(window.history.state,"",O.toString()),{data:{session:k.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:i,access_token:s,refresh_token:a,expires_in:o,expires_at:l,token_type:u}=e;if(!s||!o||!a||!u)throw new F_("No session defined in URL");const d=Math.round(Date.now()/1e3),f=parseInt(o);let g=d+f;l&&(g=parseInt(l));const v=g-d;v*1e3<=Rp&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${f}s`);const x=g-f;d-x>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",x,g,d):d-x<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",x,g,d);const{data:b,error:w}=await this._getUser(s);if(w)throw w;const E={provider_token:n,provider_refresh_token:i,access_token:s,expires_in:f,expires_at:g,refresh_token:a,token_type:u,user:b.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),this._returnResult({data:{session:E,redirectType:e.type},error:null})}catch(n){if(St(n))return this._returnResult({data:{session:null,redirectType:null},error:n});throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const r=await e0(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&r)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({error:s});const a=(n=i.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(NCe(o)&&(o.status===404||o.status===401||o.status===403)))return this._returnResult({error:o})}return e!=="others"&&(await this._removeSession(),await ph(this.storage,`${this.storageKey}-code-verifier`)),this._returnResult({error:null})})}onAuthStateChange(e){const r=FCe(),n={id:r,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",r),this.stateChangeEmitters.delete(r)}};return this._debug("#onAuthStateChange()","registered callback with id",r),this.stateChangeEmitters.set(r,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(r)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async r=>{var n,i;try{const{data:{session:s},error:a}=r;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",s)),this._debug("INITIAL_SESSION","callback id",e,"session",s)}catch(s){await((i=this.stateChangeEmitters.get(e))===null||i===void 0?void 0:i.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",s),console.error(s)}})}async resetPasswordForEmail(e,r={}){let n=null,i=null;this.flowType==="pkce"&&([n,i]=await yp(this.storage,this.storageKey,!0));try{return await jt(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:i,gotrue_meta_security:{captcha_token:r.captchaToken}},headers:this.headers,redirectTo:r.redirectTo})}catch(s){if(St(s))return this._returnResult({data:null,error:s});throw s}}async getUserIdentities(){var e;try{const{data:r,error:n}=await this.getUser();if(n)throw n;return this._returnResult({data:{identities:(e=r.user.identities)!==null&&e!==void 0?e:[]},error:null})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async linkIdentity(e){return"token"in e?this.linkIdentityIdToken(e):this.linkIdentityOAuth(e)}async linkIdentityOAuth(e){var r;try{const{data:n,error:i}=await this._useSession(async s=>{var a,o,l,u,d;const{data:f,error:g}=s;if(g)throw g;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await jt(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(u=f.session)===null||u===void 0?void 0:u.access_token)!==null&&d!==void 0?d:void 0})});if(i)throw i;return Js()&&!(!((r=e.options)===null||r===void 0)&&r.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),this._returnResult({data:{provider:e.provider,url:n==null?void 0:n.url},error:null})}catch(n){if(St(n))return this._returnResult({data:{provider:e.provider,url:null},error:n});throw n}}async linkIdentityIdToken(e){return await this._useSession(async r=>{var n;try{const{error:i,data:{session:s}}=r;if(i)throw i;const{options:a,provider:o,token:l,access_token:u,nonce:d}=e,f=await jt(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,jwt:(n=s==null?void 0:s.access_token)!==null&&n!==void 0?n:void 0,body:{provider:o,id_token:l,access_token:u,nonce:d,link_identity:!0,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:Kl}),{data:g,error:v}=f;return v?this._returnResult({data:{user:null,session:null},error:v}):!g||!g.session||!g.user?this._returnResult({data:{user:null,session:null},error:new vp}):(g.session&&(await this._saveSession(g.session),await this._notifyAllSubscribers("USER_UPDATED",g.session)),this._returnResult({data:g,error:v}))}catch(i){if(St(i))return this._returnResult({data:{user:null,session:null},error:i});throw i}})}async unlinkIdentity(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)throw a;return await jt(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(i=(n=s.session)===null||n===void 0?void 0:n.access_token)!==null&&i!==void 0?i:void 0})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _refreshAccessToken(e){const r=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(r,"begin");try{const n=Date.now();return await zCe(async i=>(i>0&&await UCe(200*Math.pow(2,i-1)),this._debug(r,"refreshing attempt",i),await jt(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:Kl})),(i,s)=>{const a=200*Math.pow(2,i);return s&&p3(s)&&Date.now()+a-n<Rp})}catch(n){if(this._debug(r,"error",n),St(n))return this._returnResult({data:{session:null,user:null},error:n});throw n}finally{this._debug(r,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,r){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:r.redirectTo,scopes:r.scopes,queryParams:r.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",r,"url",n),Js()&&!r.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e,r;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const i=await e0(this.storage,this.storageKey);if(i&&this.userStorage){let a=await e0(this.userStorage,this.storageKey+"-user");!this.storage.isServer&&Object.is(this.storage,this.userStorage)&&!a&&(a={user:i.user},await Pp(this.userStorage,this.storageKey+"-user",a)),i.user=(e=a==null?void 0:a.user)!==null&&e!==void 0?e:v3()}else if(i&&!i.user&&!i.user){const a=await e0(this.storage,this.storageKey+"-user");a&&(a!=null&&a.user)?(i.user=a.user,await ph(this.storage,this.storageKey+"-user"),await Pp(this.storage,this.storageKey,i)):i.user=v3()}if(this._debug(n,"session from storage",i),!this._isValidSession(i)){this._debug(n,"session is not valid"),i!==null&&await this._removeSession();return}const s=((r=i.expires_at)!==null&&r!==void 0?r:1/0)*1e3-Date.now()<m3;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${m3}s`),s){if(this.autoRefreshToken&&i.refresh_token){const{error:a}=await this._callRefreshToken(i.refresh_token);a&&(console.error(a),p3(a)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",a),await this._removeSession()))}}else if(i.user&&i.user.__isUserNotAvailableProxy===!0)try{const{data:a,error:o}=await this._getUser(i.access_token);!o&&(a!=null&&a.user)?(i.user=a.user,await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)):this._debug(n,"could not get user data, skipping SIGNED_IN notification")}catch(a){console.error("Error getting user data:",a),this._debug(n,"error getting user data, skipping SIGNED_IN notification",a)}else await this._notifyAllSubscribers("SIGNED_IN",i)}catch(i){this._debug(n,"error",i),console.error(i);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var r,n;if(!e)throw new Oo;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const i=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(i,"begin");try{this.refreshingDeferred=new h4;const{data:s,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!s.session)throw new Oo;await this._saveSession(s.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",s.session);const o={data:s.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(s){if(this._debug(i,"error",s),St(s)){const a={data:null,error:s};return p3(s)||await this._removeSession(),(r=this.refreshingDeferred)===null||r===void 0||r.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(s),s}finally{this.refreshingDeferred=null,this._debug(i,"end")}}async _notifyAllSubscribers(e,r,n=!0){const i=`#_notifyAllSubscribers(${e})`;this._debug(i,"begin",r,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:r});const s=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,r)}catch(l){s.push(l)}});if(await Promise.all(a),s.length>0){for(let o=0;o<s.length;o+=1)console.error(s[o]);throw s[0]}}finally{this._debug(i,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0;const r=Object.assign({},e),n=r.user&&r.user.__isUserNotAvailableProxy===!0;if(this.userStorage){!n&&r.user&&await Pp(this.userStorage,this.storageKey+"-user",{user:r.user});const i=Object.assign({},r);delete i.user;const s=vz(i);await Pp(this.storage,this.storageKey,s)}else{const i=vz(r);await Pp(this.storage,this.storageKey,i)}}async _removeSession(){this._debug("#_removeSession()"),await ph(this.storage,this.storageKey),await ph(this.storage,this.storageKey+"-code-verifier"),await ph(this.storage,this.storageKey+"-user"),this.userStorage&&await ph(this.userStorage,this.storageKey+"-user"),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Js()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(r){console.error("removing visibilitychange callback failed",r)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Rp);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async r=>{const{data:{session:n}}=r;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const i=Math.floor((n.expires_at*1e3-e)/Rp);this._debug("#_autoRefreshTokenTick()",`access token expires in ${i} ticks, a tick lasts ${Rp}ms, refresh threshold is ${i6} ticks`),i<=i6&&await this._callRefreshToken(n.refresh_token)})}catch(r){console.error("Auto refresh tick failed with error. This is likely a transient error.",r)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof mre)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Js()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const r=`#_onVisibilityChanged(${e})`;this._debug(r,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(r,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,r,n){const i=[`provider=${encodeURIComponent(r)}`];if(n!=null&&n.redirectTo&&i.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&i.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[s,a]=await yp(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(s)}`,code_challenge_method:`${encodeURIComponent(a)}`});i.push(o.toString())}if(n!=null&&n.queryParams){const s=new URLSearchParams(n.queryParams);i.push(s.toString())}return n!=null&&n.skipBrowserRedirect&&i.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${i.join("&")}`}async _unenroll(e){try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;return s?this._returnResult({data:null,error:s}):await jt(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _enroll(e){try{return await this._useSession(async r=>{var n,i;const{data:s,error:a}=r;if(a)return this._returnResult({data:null,error:a});const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:e.factorType==="totp"?{issuer:e.issuer}:{}),{data:l,error:u}=await jt(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return u?this._returnResult({data:null,error:u}):(e.factorType==="totp"&&l.type==="totp"&&(!((i=l==null?void 0:l.totp)===null||i===void 0)&&i.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),this._returnResult({data:l,error:null}))})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=Object.assign({challenge_id:e.challengeId},"webauthn"in e?{webauthn:Object.assign(Object.assign({},e.webauthn),{credential_response:e.webauthn.type==="create"?y3e(e.webauthn.credential_response):x3e(e.webauthn.credential_response)})}:{code:e.code}),{data:o,error:l}=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:a,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return l?this._returnResult({data:null,error:l}):(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),this._returnResult({data:o,error:l}))})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async r=>{var n;const{data:i,error:s}=r;if(s)return this._returnResult({data:null,error:s});const a=await jt(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:e,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});if(a.error)return a;const{data:o}=a;if(o.type!=="webauthn")return{data:o,error:null};switch(o.webauthn.type){case"create":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:g3e(o.webauthn.credential_options.publicKey)})})}),error:null};case"request":return{data:Object.assign(Object.assign({},o),{webauthn:Object.assign(Object.assign({},o.webauthn),{credential_options:Object.assign(Object.assign({},o.webauthn.credential_options),{publicKey:v3e(o.webauthn.credential_options.publicKey)})})}),error:null}}})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}})}async _challengeAndVerify(e){const{data:r,error:n}=await this._challenge({factorId:e.factorId});return n?this._returnResult({data:null,error:n}):await this._verify({factorId:e.factorId,challengeId:r.id,code:e.code})}async _listFactors(){var e;const{data:{user:r},error:n}=await this.getUser();if(n)return{data:null,error:n};const i={all:[],phone:[],totp:[],webauthn:[]};for(const s of(e=r==null?void 0:r.factors)!==null&&e!==void 0?e:[])i.all.push(s),s.status==="verified"&&i[s.factor_type].push(s);return{data:i,error:null}}async _getAuthenticatorAssuranceLevel(){var e,r;const{data:{session:n},error:i}=await this.getSession();if(i)return this._returnResult({data:null,error:i});if(!n)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:s}=g3(n.access_token);let a=null;s.aal&&(a=s.aal);let o=a;((r=(e=n.user.factors)===null||e===void 0?void 0:e.filter(d=>d.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(o="aal2");const u=s.amr||[];return{data:{currentLevel:a,nextLevel:o,currentAuthenticationMethods:u},error:null}}async _getAuthorizationDetails(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?await jt(this.fetch,"GET",`${this.url}/oauth/authorizations/${e}`,{headers:this.headers,jwt:n.access_token,xform:s=>({data:s,error:null})}):this._returnResult({data:null,error:new Oo})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async _approveAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oo});const a=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"approve"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Js()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(St(n))return this._returnResult({data:null,error:n});throw n}}async _denyAuthorization(e,r){try{return await this._useSession(async n=>{const{data:{session:i},error:s}=n;if(s)return this._returnResult({data:null,error:s});if(!i)return this._returnResult({data:null,error:new Oo});const a=await jt(this.fetch,"POST",`${this.url}/oauth/authorizations/${e}/consent`,{headers:this.headers,jwt:i.access_token,body:{action:"deny"},xform:o=>({data:o,error:null})});return a.data&&a.data.redirect_url&&Js()&&!(r!=null&&r.skipBrowserRedirect)&&window.location.assign(a.data.redirect_url),a})}catch(n){if(St(n))return this._returnResult({data:null,error:n});throw n}}async _listOAuthGrants(){try{return await this._useSession(async e=>{const{data:{session:r},error:n}=e;return n?this._returnResult({data:null,error:n}):r?await jt(this.fetch,"GET",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:r.access_token,xform:i=>({data:i,error:null})}):this._returnResult({data:null,error:new Oo})})}catch(e){if(St(e))return this._returnResult({data:null,error:e});throw e}}async _revokeOAuthGrant(e){try{return await this._useSession(async r=>{const{data:{session:n},error:i}=r;return i?this._returnResult({data:null,error:i}):n?(await jt(this.fetch,"DELETE",`${this.url}/user/oauth/grants`,{headers:this.headers,jwt:n.access_token,query:{client_id:e.clientId},noResolveJson:!0}),{data:{},error:null}):this._returnResult({data:null,error:new Oo})})}catch(r){if(St(r))return this._returnResult({data:null,error:r});throw r}}async fetchJwk(e,r={keys:[]}){let n=r.keys.find(o=>o.kid===e);if(n)return n;const i=Date.now();if(n=this.jwks.keys.find(o=>o.kid===e),n&&this.jwks_cached_at+ACe>i)return n;const{data:s,error:a}=await jt(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(a)throw a;return!s.keys||s.keys.length===0||(this.jwks=s,this.jwks_cached_at=i,n=s.keys.find(o=>o.kid===e),!n)?null:n}async getClaims(e,r={}){try{let n=e;if(!n){const{data:v,error:x}=await this.getSession();if(x||!v.session)return this._returnResult({data:null,error:x});n=v.session.access_token}const{header:i,payload:s,signature:a,raw:{header:o,payload:l}}=g3(n);r!=null&&r.allowExpired||YCe(s.exp);const u=!i.alg||i.alg.startsWith("HS")||!i.kid||!("crypto"in globalThis&&"subtle"in globalThis.crypto)?null:await this.fetchJwk(i.kid,r!=null&&r.keys?{keys:r.keys}:r==null?void 0:r.jwks);if(!u){const{error:v}=await this.getUser(n);if(v)throw v;return{data:{claims:s,header:i,signature:a},error:null}}const d=XCe(i.alg),f=await crypto.subtle.importKey("jwk",u,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,MCe(`${o}.${l}`)))throw new o6("Invalid JWT signature");return{data:{claims:s,header:i,signature:a},error:null}}catch(n){if(St(n))return this._returnResult({data:null,error:n});throw n}}}ox.nextInstanceID={};const C3e=ox;class N3e extends C3e{constructor(e){super(e)}}class I3e{constructor(e,r,n){var i,s,a;this.supabaseUrl=e,this.supabaseKey=r;const o=_Ce(e);if(!r)throw new Error("supabaseKey is required.");this.realtimeUrl=new URL("realtime/v1",o),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",o),this.storageUrl=new URL("storage/v1",o),this.functionsUrl=new URL("functions/v1",o);const l=`sb-${o.hostname.split(".")[0]}-auth-token`,u={db:mCe,realtime:gCe,auth:Object.assign(Object.assign({},pCe),{storageKey:l}),global:fCe},d=wCe(n??{},u);this.storageKey=(i=d.auth.storageKey)!==null&&i!==void 0?i:"",this.headers=(s=d.global.headers)!==null&&s!==void 0?s:{},d.accessToken?(this.accessToken=d.accessToken,this.auth=new Proxy({},{get:(f,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=d.auth)!==null&&a!==void 0?a:{},this.headers,d.global.fetch),this.fetch=xCe(r,this._getAccessToken.bind(this),d.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},d.realtime)),this.accessToken&&this.accessToken().then(f=>this.realtime.setAuth(f)).catch(f=>console.warn("Failed to set initial Realtime auth token:",f)),this.rest=new gAe(new URL("rest/v1",o).href,{headers:this.headers,schema:d.db.schema,fetch:this.fetch}),this.storage=new uCe(this.storageUrl.href,this.headers,this.fetch,n==null?void 0:n.storage),d.accessToken||this._listenForAuthEvents()}get functions(){return new hAe(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,r={},n={head:!1,get:!1,count:void 0}){return this.rest.rpc(e,r,n)}channel(e,r={config:{}}){return this.realtime.channel(e,r)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}async _getAccessToken(){var e,r;if(this.accessToken)return await this.accessToken();const{data:n}=await this.auth.getSession();return(r=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&r!==void 0?r:this.supabaseKey}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,storageKey:a,flowType:o,lock:l,debug:u,throwOnError:d},f,g){const v={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new N3e({url:this.authUrl.href,headers:Object.assign(Object.assign({},v),f),storageKey:a,autoRefreshToken:e,persistSession:r,detectSessionInUrl:n,storage:i,userStorage:s,flowType:o,lock:l,debug:u,throwOnError:d,fetch:g,hasCustomAuthorizationHeader:Object.keys(this.headers).some(x=>x.toLowerCase()==="authorization")})}_initRealtimeClient(e){return new PAe(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((r,n)=>{this._handleTokenChanged(r,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,r,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?(this.changedAccessToken=n,this.realtime.setAuth(n)):e==="SIGNED_OUT"&&(this.realtime.setAuth(),r=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const O3e=(t,e,r)=>new I3e(t,e,r);function R3e(){if(typeof window<"u"||typeof process>"u")return!1;const t=process.version;if(t==null)return!1;const e=t.match(/^v(\d+)\./);return e?parseInt(e[1],10)<=18:!1}R3e()&&console.warn("  Node.js 18 and below are deprecated and will no longer be supported in future versions of @supabase/supabase-js. Please upgrade to Node.js 20 or later. For more information, visit: https://github.com/orgs/supabase/discussions/37217");const P3e="https://hykypgxaegmufdothwbv.supabase.co",j3e="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Imh5a3lwZ3hhZWdtdWZkb3Rod2J2Iiwicm9sZSI6ImFub24iLCJpYXQiOjE3NjE1NTE3NzMsImV4cCI6MjA3NzEyNzc3M30.Euzl2vfhHrxhgN-tfg2XftMaX9hEiJOorSJq16n2CRY",$E=O3e(P3e,j3e),nf=t=>{const e=(t||"").toLowerCase();return e==="hoc_vien"||e==="student"||e==="hoc-vien"?"/ontap/assets/img/avatar1.webp":"/ontap/assets/img/avatar.webp"},D3e=t=>new Promise((e,r)=>{const n=new FileReader;n.readAsDataURL(t),n.onload=i=>{var a;const s=new Image;s.src=(a=i.target)==null?void 0:a.result,s.onload=()=>{let u=s.width,d=s.height;u>d?u>350&&(d*=350/u,u=350):d>350&&(u*=350/d,d=350);const f=document.createElement("canvas");f.width=u,f.height=d;const g=f.getContext("2d");if(!g){r(new Error("Canvas context not available"));return}g.drawImage(s,0,0,u,d),f.toBlob(v=>{v?e(v):r(new Error("WebP conversion failed"))},"image/webp",.6)},s.onerror=o=>r(o)},n.onerror=i=>r(i)}),M3e=async(t,e)=>{try{const r=await D3e(t),i=`avatars/${`${e}_${Date.now()}.webp`}`,{error:s}=await $E.storage.from("avatars").upload(i,r,{cacheControl:"3600",upsert:!0});if(s)throw console.error("Supabase upload error:",s),s;const{data:a}=$E.storage.from("avatars").getPublicUrl(i);return a.publicUrl}catch(r){throw console.error("Error uploading avatar:",r),r}},L3e=async t=>{try{const e=Ht(Ye,"users",t),r=await ed(e);if(r.exists()){const n=r.data();return{id:t,email:n.email,full_name:n.fullName||n.full_name||"Ngi dng",role:(()=>{const i=n.role;return i==="teacher"||i==="giao-vien"||i==="giao_vien"?"giao_vien":i==="student"||i==="hoc-vien"||i==="hoc_vien"?"hoc_vien":i==="manager"||i==="quan-ly"||i==="quan_ly"?"quan_ly":i==="leader"||i==="lanh-dao"||i==="lanh_dao"?"lanh_dao":i==="admin"?"admin":"hoc_vien"})(),photoURL:n.photoURL||nf(n.role),birthDate:n.birthDate||"",address:n.address||"",class:n.class||"",phoneNumber:n.phoneNumber||"",courseName:n.courseName||"",courseId:n.courseId||""}}return null}catch(e){throw console.error("Error fetching user profile from Firestore:",e),e}},Tz=async(t,e,r,n,i,s,a,o)=>{try{let l=r;i==="n tp"&&n?l=`${r} / ${n}`:i==="Thi th"&&(l=`${r} (Thi th)`),await Zh(qt(Ye,"exam_results"),{studentId:t,licenseId:e,score:s,totalQuestions:a,timeTaken:o,completedAt:sa(),type:i,quizTitle:l})}catch(l){console.error("Error saving exam result to Firestore:",l)}},F3e=async()=>{try{const t=pr(qt(Ye,"courses")),e=await _n(t),r=[];return e.forEach(n=>{const i=n.data();i.name&&r.push({id:n.id,name:i.name})}),r.sort((n,i)=>n.name.localeCompare(i.name))}catch(t){return console.error("Error fetching courses:",t),[]}},B3e=async t=>{try{if(!t||t.length<3)return[];const e=pr(qt(Ye,"users"),kr("email",">=",t),kr("email","<=",t+""));return(await _n(e)).docs.map(n=>{const i=n.data();return{id:n.id,email:i.email,full_name:i.fullName||i.full_name||"Ngi dng",role:(()=>{const s=i.role;return s==="teacher"||s==="giao-vien"?"giao_vien":s==="student"||s==="hoc-vien"?"hoc_vien":s==="manager"||s==="quan-ly"?"quan_ly":s==="leader"||s==="lanh-dao"?"lanh_dao":s||"hoc_vien"})(),photoURL:i.photoURL||nf(i.role),birthDate:i.birthDate||"",address:i.address||"",class:i.class||"",phoneNumber:i.phoneNumber||"",courseName:i.courseName||"",courseId:i.courseId||""}})}catch(e){return console.error("Error searching users:",e),[]}},V3e=({userProfile:t})=>{const[e,r]=C.useState([]),[n,i]=C.useState(!0);C.useEffect(()=>{s()},[]);const s=async()=>{i(!0);const H=await gke();r(H),i(!1)},a=H=>!(t.role==="giao_vien"&&(H.type==="special"||H.type==="attention")),o=async H=>{confirm("Bn c chc chn mun XA VNH VIN thng bo ny? Hnh ng ny s g thng bo khi mn hnh ca tt c ngi dng.")&&(await vke(H)?(alert(" xa thng bo!"),s()):alert("C li xy ra khi xa."))},l=H=>H?new Date(H*1e3).toLocaleString("vi-VN"):"--",[u,d]=C.useState(!1),[f,g]=C.useState(""),[v,x]=C.useState(""),[b,w]=C.useState("system"),[E,k]=C.useState("all"),[A,O]=C.useState([]),[P,j]=C.useState(""),[S,I]=C.useState([]),[R,D]=C.useState(""),[M,L]=C.useState([]),[U,le]=C.useState(null),[ue,J]=C.useState(""),[Q,he]=C.useState(null),Z=H=>{if(he(H),g(H.title),x(H.message),w(H.type),k(H.targetType==="all"&&H.targetRoles&&H.targetRoles.length>0?"role":H.targetType),H.targetType==="class"&&j(H.targetName||""),H.targetType,H.targetRoles&&I(H.targetRoles),H.expiryDate){const B=new Date(H.expiryDate.seconds*1e3);B.toISOString().slice(0,16);const q=B.getTimezoneOffset()*6e4,W=new Date(B.getTime()-q).toISOString().slice(0,16);J(W)}else J("");d(!0)};C.useEffect(()=>{u&&E==="class"&&F3e().then(O)},[u,E]),C.useEffect(()=>{if(R.length>2&&E==="user"){const H=setTimeout(async()=>{const B=await B3e(R);L(B)},500);return()=>clearTimeout(H)}},[R,E]);const ge=async H=>{if(H.preventDefault(),!f||!v)return alert("Vui lng nhp tiu  v ni dung");if(E==="class"&&!P)return alert("Vui lng chn lp");if(E==="user"&&!U&&!Q)return alert("Vui lng chn ngi nhn");if(E==="role"&&S.length===0)return alert("Vui lng chn t nht mt vai tr");try{if(Q){const B={title:f,message:v,type:b,expiryDate:ue?new Date(ue):null};E==="role"&&(B.targetRoles=S),await yke(Q.id,B)?(alert(" cp nht thng bo!"),d(!1),he(null),s()):alert("Li khi cp nht.")}else{let B=null;E==="class"&&(B=P),E==="user"&&(B=U.id),await lte(f,v,b,E,B,t.id,t.full_name,ue?new Date(ue):null,E==="user"&&U?`${U.full_name} (${U.email})`:void 0,E==="role"?S:void 0),alert(" gi thng bo thnh cng!"),d(!1),s()}g(""),x(""),w("system"),I([]),he(null),J(""),j(""),le(null),L([]),D("")}catch(B){console.error(B),alert("Li khi x l thng bo")}};return m.jsxs("div",{className:"p-4 md:p-8 animate-fade-in pb-20 max-w-7xl mx-auto",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden min-h-[500px] flex flex-col",children:[m.jsxs("div",{className:"p-6 border-b border-gray-100 dark:border-slate-700 bg-gradient-to-r from-teal-500 to-emerald-600 text-white flex justify-between items-center",children:[m.jsxs("div",{children:[m.jsxs("h1",{className:"text-2xl font-bold flex items-center gap-3",children:[m.jsx(bv,{})," Qun L Thng Bo H Thng"]}),m.jsx("p",{className:"text-teal-100 mt-1 opacity-90",children:t.role==="giao_vien"?"Bn c th xem tt c v qun l thng bo thng.":"Bn c ton quyn qun l thng bo."})]}),m.jsxs("div",{className:"flex gap-2",children:[m.jsxs("button",{onClick:async()=>{if(confirm(`CNH BO: Hnh ng ny s xa TT C thng bo trong hp th ring ca TT C hc vin.
Ch gi li thng bo chung (Ton h thng).
Bn c chc chn mun dn dp khng?`)){i(!0);try{const{collection:H,getDocs:B,deleteDoc:q,writeBatch:W,doc:Y}=await Pn(async()=>{const{collection:se,getDocs:ve,deleteDoc:Ve,writeBatch:G,doc:Ze}=await Promise.resolve().then(()=>$0);return{collection:se,getDocs:ve,deleteDoc:Ve,writeBatch:G,doc:Ze}},void 0),{db:de}=await Pn(async()=>{const{db:se}=await Promise.resolve().then(()=>ote);return{db:se}},void 0),me=await B(H(de,"users"));let ce=0;for(const se of me.docs){const ve=H(de,"users",se.id,"notifications"),Ve=await B(ve);if(!Ve.empty){const G=W(de);Ve.docs.forEach(Ze=>{G.delete(Ze.ref),ce++}),await G.commit()}}alert(` dn dp thnh cng ${ce} thng bo rc t hc vin.`)}catch(H){console.error(H),alert("C li xy ra khi dn dp.")}finally{i(!1)}}},className:"bg-red-100 text-red-600 px-4 py-2 rounded-lg font-bold shadow hover:bg-red-200 transition flex items-center gap-2",title:"Xa tt c thng bo trong hp th hc vin (dng khi b li hin th)",children:[m.jsx(Gc,{})," Dn dp rc"]}),m.jsxs("button",{onClick:()=>d(!0),className:"bg-white text-teal-600 px-4 py-2 rounded-lg font-bold shadow hover:bg-teal-50 transition flex items-center gap-2",children:[m.jsx(Th,{})," To mi"]})]})]}),m.jsx("div",{className:"flex-1 p-6 bg-gray-50 dark:bg-slate-900/50 overflow-x-auto",children:n?m.jsx("div",{className:"text-center py-20 text-gray-500",children:"ang ti d liu..."}):m.jsx("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow border border-gray-200 dark:border-slate-700 overflow-hidden min-w-[800px]",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-gray-100 dark:bg-slate-700 text-gray-700 dark:text-gray-200 font-bold uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 w-32",children:"i tng"}),m.jsx("th",{className:"p-4 w-32",children:"Loi"}),m.jsx("th",{className:"p-4",children:"Tiu  & Ni dung"}),m.jsx("th",{className:"p-4 w-40",children:"Ngi to"}),m.jsx("th",{className:"p-4 w-48",children:"Ht hn (Marquee)"}),m.jsx("th",{className:"p-4 w-40",children:"Ngy to"}),m.jsx("th",{className:"p-4 w-32 text-center",children:"Hnh ng"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:e.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"p-10 text-center text-gray-500 text-base",children:"H thng cha c thng bo no."})}):e.map(H=>{var q,W;const B=a(H);return m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsxs("td",{className:"p-4 align-top",children:[m.jsxs("span",{className:`inline-flex items-center gap-1 px-2 py-1 rounded text-xs font-bold whitespace-nowrap border
                                                            ${H.targetType==="all"?"bg-purple-100 text-purple-700 border-purple-200":H.targetType==="class"?"bg-indigo-100 text-indigo-700 border-indigo-200":"bg-pink-100 text-pink-700 border-pink-200"}
                                                        `,children:[H.targetType==="all"&&m.jsxs(m.Fragment,{children:[m.jsx(qU,{})," Tt c"]}),H.targetType==="class"&&m.jsxs(m.Fragment,{children:[m.jsx(zh,{})," Lp"]}),H.targetType==="user"&&m.jsxs(m.Fragment,{children:[m.jsx(LE,{})," C nhn"]})]}),H.targetType!=="all"&&m.jsx("div",{className:"text-xs text-gray-500 mt-1 font-mono break-words max-w-[150px]",children:H.targetName?m.jsx("span",{className:"font-semibold text-gray-700 dark:text-gray-300",children:H.targetName}):H.targetId})]}),m.jsx("td",{className:"p-4 align-top",children:m.jsx("span",{className:`inline-block px-2 py-1 rounded text-xs font-bold whitespace-nowrap
                                                            ${H.type==="special"?"bg-red-100 text-red-600":H.type==="attention"?"bg-orange-100 text-orange-600":"bg-blue-100 text-blue-600"}
                                                        `,children:H.type==="special"?"C BIT":H.type==="attention"?"CH ":"Thng"})}),m.jsxs("td",{className:"p-4 align-top",children:[m.jsx("div",{className:"font-bold text-gray-900 dark:text-white mb-1 text-base",children:H.title}),m.jsx("div",{className:"text-gray-600 dark:text-gray-400 line-clamp-2",children:H.message})]}),m.jsxs("td",{className:"p-4 align-top text-gray-700 dark:text-gray-300 font-medium",children:[H.senderName,m.jsx("div",{className:"text-xs text-gray-400 font-normal",children:H.senderId===t.id?"(Bn)":""})]}),m.jsx("td",{className:"p-4 align-top",children:H.type==="special"||H.type==="attention"?m.jsxs("div",{className:"flex items-center gap-1 text-xs font-mono bg-gray-100 dark:bg-slate-900 px-2 py-1 rounded border whitespace-nowrap",children:[m.jsx(Bke,{className:"text-gray-400"}),l((q=H.expiryDate)==null?void 0:q.seconds)]}):m.jsx("span",{className:"text-gray-400 text-xs",children:"--"})}),m.jsx("td",{className:"p-4 align-top text-gray-500 text-xs whitespace-nowrap",children:l((W=H.createdAt)==null?void 0:W.seconds)}),m.jsx("td",{className:"p-4 align-top text-center",children:B?m.jsxs("div",{className:"flex items-center justify-center gap-2",children:[m.jsxs("button",{onClick:()=>Z(H),className:"text-blue-500 hover:text-blue-700 p-2 bg-blue-50 hover:bg-blue-100 rounded-lg transition-colors flex items-center gap-1",title:"Sa",children:[m.jsx(Uu,{size:14})," ",m.jsx("span",{className:"text-xs font-bold",children:"Sa"})]}),m.jsxs("button",{onClick:()=>o(H.id),className:"text-red-500 hover:text-red-700 p-2 bg-red-50 hover:bg-red-100 rounded-lg transition-colors flex items-center gap-1",title:"Xa vnh vin",children:[m.jsx(Gc,{size:14})," ",m.jsx("span",{className:"text-xs font-bold",children:"Xa"})]})]}):m.jsx("div",{className:"text-gray-300 flex justify-center p-2 cursor-not-allowed",title:"Bn khng c quyn xa thng bo cp cao ny",children:m.jsx(Cke,{})})})]},H.id)})})]})})})]}),u&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/60 p-4 backdrop-blur-sm",onClick:()=>d(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl w-full max-w-2xl overflow-hidden animate-scale-in",onClick:H=>H.stopPropagation(),children:[m.jsxs("div",{className:"p-6 border-b dark:border-slate-700 bg-gray-50 dark:bg-slate-900 flex justify-between items-center",children:[m.jsx("h2",{className:"text-xl font-bold flex items-center gap-2 text-gray-800 dark:text-white",children:Q?m.jsxs(m.Fragment,{children:[m.jsx(Uu,{className:"text-blue-600"})," Cp nht thng bo"]}):m.jsxs(m.Fragment,{children:[m.jsx(Th,{className:"text-teal-600"})," To thng bo mi"]})}),m.jsx("button",{onClick:()=>d(!1),className:"text-gray-400 hover:text-gray-600 text-2xl",children:""})]}),m.jsxs("form",{onSubmit:ge,className:"p-6 space-y-4",children:[m.jsxs("div",{className:"space-y-2",children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300",children:"Gi ti:"}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="all"?"bg-purple-50 border-purple-500 text-purple-700 ring-1 ring-purple-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"all",checked:E==="all",onChange:()=>k("all"),className:"hidden"}),m.jsx(qU,{})," Tt c"]}),m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="class"?"bg-indigo-50 border-indigo-500 text-indigo-700 ring-1 ring-indigo-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"class",checked:E==="class",onChange:()=>k("class"),className:"hidden"}),m.jsx(zh,{})," Lp hc"]}),m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="role"?"bg-orange-50 border-orange-500 text-orange-700 ring-1 ring-orange-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"role",checked:E==="role",onChange:()=>k("role"),className:"hidden"}),m.jsx(zh,{})," Theo Vai tr"]}),m.jsxs("label",{className:`flex items-center gap-2 p-3 rounded-lg border cursor-pointer flex-1 justify-center transition-all ${E==="user"?"bg-pink-50 border-pink-500 text-pink-700 ring-1 ring-pink-500":"border-gray-200 hover:bg-gray-50"}`,children:[m.jsx("input",{type:"radio",name:"target",value:"user",checked:E==="user",onChange:()=>k("user"),className:"hidden"}),m.jsx(LE,{})," C nhn"]})]})]}),E==="class"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Chn lp:"}),m.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:P,onChange:H=>j(H.target.value),required:!0,children:[m.jsx("option",{value:"",children:"-- Chn lp --"}),A.map(H=>m.jsxs("option",{value:H.name,children:[H.name," -- (",H.id,")"]},H.id))]})]}),E==="role"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2",children:"Chn Vai tr:"}),m.jsx("div",{className:"grid grid-cols-2 gap-2",children:[{id:"hoc_vien",label:"Hc vin"},{id:"giao_vien",label:"Gio vin"},{id:"quan_ly",label:"Qun l"},{id:"lanh_dao",label:"Lnh o"},{id:"admin",label:"Admin"}].map(H=>m.jsxs("label",{className:"flex items-center gap-2 p-2 border rounded hover:bg-gray-50 cursor-pointer",children:[m.jsx("input",{type:"checkbox",value:H.id,checked:S.includes(H.id),onChange:B=>{B.target.checked?I([...S,H.id]):I(S.filter(q=>q!==H.id))},className:"w-4 h-4 text-teal-600"}),m.jsx("span",{children:H.label})]},H.id))})]}),E==="user"&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tm ngi nhn (Email):"}),m.jsx("input",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",placeholder:"Nhp email...",value:R,onChange:H=>D(H.target.value)}),M.length>0&&m.jsx("div",{className:"mt-2 border rounded max-h-40 overflow-y-auto bg-gray-50 dark:bg-slate-900",children:M.map(H=>m.jsxs("div",{onClick:()=>{le(H),L([]),D(H.email)},className:"p-2 hover:bg-teal-50 cursor-pointer flex justify-between items-center border-b last:border-0",children:[m.jsx("span",{className:"font-medium",children:H.full_name}),m.jsx("span",{className:"text-xs text-gray-500",children:H.email})]},H.id))}),U&&m.jsxs("div",{className:"mt-2 p-2 bg-green-50 text-green-700 text-sm rounded flex items-center gap-2",children:[m.jsx(vd,{}),"  chn: ",m.jsx("b",{children:U.full_name})," (",U.email,")"]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Tiu :"}),m.jsx("input",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:f,onChange:H=>g(H.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ni dung:"}),m.jsx("textarea",{className:"w-full p-2 border rounded-lg dark:bg-slate-700 h-24",value:v,onChange:H=>x(H.target.value),required:!0})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Loi thng bo:"}),m.jsxs("select",{className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:b,onChange:H=>w(H.target.value),children:[m.jsx("option",{value:"system",children:"Thng (Xanh)"}),m.jsx("option",{value:"attention",children:"Ch  (Cam)"}),m.jsx("option",{value:"special",children:"c bit ( - Marquee)"})]})]}),(b==="attention"||b==="special")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ht hn chy ch (Marquee):"}),m.jsx("input",{type:"datetime-local",className:"w-full p-2 border rounded-lg dark:bg-slate-700",value:ue,onChange:H=>J(H.target.value),required:!0})]})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t dark:border-slate-700 mt-6",children:[m.jsx("button",{type:"button",onClick:()=>d(!1),className:"px-5 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-5 py-2 bg-teal-600 hover:bg-teal-700 text-white rounded-lg font-bold shadow-lg shadow-teal-500/30 transition transform hover:-translate-y-0.5",children:Q?"Cp nht":"Gi thng bo"})]})]})]})})]})},Sz=t=>{let e;const r=new Set,n=(u,d)=>{const f=typeof u=="function"?u(e):u;if(!Object.is(f,e)){const g=e;e=d??(typeof f!="object"||f===null)?f:Object.assign({},e,f),r.forEach(v=>v(e,g))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>l,subscribe:u=>(r.add(u),()=>r.delete(u))},l=e=t(n,i,o);return o},U3e=(t=>t?Sz(t):Sz),z3e=t=>t;function $3e(t,e=z3e){const r=Ae.useSyncExternalStore(t.subscribe,Ae.useCallback(()=>e(t.getState()),[t,e]),Ae.useCallback(()=>e(t.getInitialState()),[t,e]));return Ae.useDebugValue(r),r}const kz=t=>{const e=U3e(t),r=n=>$3e(e,n);return Object.assign(r,e),r},H3e=(t=>t?kz(t):kz),vre={WELCOME:"welcome",ANALYTICS:"analytics"},Rn=H3e(t=>({appState:vre.WELCOME,licenses:[],selectedLicense:null,subjects:[],selectedSubject:null,currentQuiz:null,userAnswers:{},score:0,userName:"",userProfile:null,resumeSessionAvailable:!1,isMobileApp:!1,setAppState:e=>t({appState:e}),setLicenses:e=>t({licenses:e}),setSelectedLicense:e=>t({selectedLicense:e}),setSubjects:e=>t({subjects:e}),setSelectedSubject:e=>t({selectedSubject:e}),setCurrentQuiz:e=>t({currentQuiz:e}),setUserAnswers:e=>t({userAnswers:e}),setScore:e=>t({score:e}),setUserName:e=>t({userName:e}),setUserProfile:e=>t({userProfile:e}),setResumeSessionAvailable:e=>t({resumeSessionAvailable:e}),setIsMobileApp:e=>t({isMobileApp:e}),resetQuizState:()=>t({currentQuiz:null,userAnswers:{},score:0})})),q3e=({onStart:t,onLoginClick:e,onRegisterClick:r})=>{const{theme:n}=ua();return m.jsx("div",{className:"text-center p-4 animate-slide-in-right",children:m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 md:p-12 max-w-2xl mx-auto relative",children:[n==="tri-an"?m.jsx("img",{src:"https://i.postimg.cc/MH9hVp8S/happy-techers-day.jpg",alt:"Icon Chc mng Ngy Nh gio",className:"h-24 w-24 mx-auto mb-4 rounded-full object-cover"}):n==="noel"?m.jsx(bg,{className:"h-24 w-24 mx-auto text-primary mb-4"}):m.jsx(bg,{className:"h-24 w-24 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl md:text-5xl font-extrabold text-foreground mb-2",children:"ng Dng n tp"}),n==="tri-an"&&m.jsx("p",{className:"text-xl font-semibold text-primary mb-4",children:"Phin bn c bit Tri n Thy C"}),n==="noel"&&m.jsx("p",{className:"text-xl font-semibold text-primary mb-4",children:"Cho n Ging Sinh An Lnh"}),m.jsx("p",{className:"text-lg text-muted-foreground mb-4",children:"Cho mng anh/ch  n vi ng dng n tp, n thi chng ch chuyn mn phng tin thy ni a."}),n==="tri-an"&&m.jsx("p",{className:"text-lg text-muted-foreground mb-8 italic",children:'"Nhn ngy Nh gio Vit Nam 20-11, knh chc qu thy c lun mnh khe, hnh phc v thnh cng trong s nghip trng ngi."'}),m.jsxs("div",{className:"flex flex-col sm:flex-row items-center justify-center gap-4",children:[m.jsx("button",{onClick:t,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold text-lg py-4 px-10 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Bt u"}),m.jsx("button",{onClick:e,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold text-lg py-4 px-10 rounded-lg hover:bg-secondary/80 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300",children:"ng nhp"})]}),m.jsx("div",{className:"mt-4",children:m.jsx("button",{onClick:r,className:"text-primary hover:underline font-medium",children:"Cha c ti khon? ng k ngay"})})]})})};/*! Capacitor: https://capacitorjs.com/ - MIT License */const W3e=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,a)=>{r.platforms.set(s,a)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},G3e=t=>t.CapacitorPlatforms=W3e(t),yre=G3e(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});yre.addPlatform;yre.setPlatform;var Bg;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Bg||(Bg={}));let x3=class extends Error{constructor(e,r){super(e),this.message=e,this.code=r}};const K3e=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},Y3e=t=>{var e,r,n,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},u=t.CapacitorPlatforms,d=()=>a!==null?a.name:K3e(t),f=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,g=()=>f()!=="web",v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||g,x=S=>{const I=O.get(S);return!!(I!=null&&I.platforms.has(f())||E(S))},b=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||x,w=S=>{var I;return(I=o.PluginHeaders)===null||I===void 0?void 0:I.find(R=>R.name===S)},E=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||w,k=S=>t.console.error(S),A=(S,I,R)=>Promise.reject(`${R} does not have an implementation of "${I}".`),O=new Map,P=(S,I={})=>{const R=O.get(S);if(R)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),R.proxy;const D=f(),M=E(S);let L;const U=async()=>(!L&&D in I?L=typeof I[D]=="function"?L=await I[D]():L=I[D]:a!==null&&!L&&"web"in I&&(L=typeof I.web=="function"?L=await I.web():L=I.web),L),le=(ge,H)=>{var B,q;if(M){const W=M==null?void 0:M.methods.find(Y=>H===Y.name);if(W)return W.rtype==="promise"?Y=>o.nativePromise(S,H.toString(),Y):(Y,de)=>o.nativeCallback(S,H.toString(),Y,de);if(ge)return(B=ge[H])===null||B===void 0?void 0:B.bind(ge)}else{if(ge)return(q=ge[H])===null||q===void 0?void 0:q.bind(ge);throw new x3(`"${S}" plugin is not implemented on ${D}`,Bg.Unimplemented)}},ue=ge=>{let H;const B=(...q)=>{const W=U().then(Y=>{const de=le(Y,ge);if(de){const me=de(...q);return H=me==null?void 0:me.remove,me}else throw new x3(`"${S}.${ge}()" is not implemented on ${D}`,Bg.Unimplemented)});return ge==="addListener"&&(W.remove=async()=>H()),W};return B.toString=()=>`${ge.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:ge,writable:!1,configurable:!1}),B},J=ue("addListener"),Q=ue("removeListener"),he=(ge,H)=>{const B=J({eventName:ge},H),q=async()=>{const Y=await B;Q({eventName:ge,callbackId:Y},H)},W=new Promise(Y=>B.then(()=>Y({remove:q})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},W},Z=new Proxy({},{get(ge,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?he:J;case"removeListener":return Q;default:return ue(H)}}});return l[S]=Z,O.set(S,{name:S,proxy:Z,platforms:new Set([...Object.keys(I),...M?[D]:[]])}),Z},j=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||P;return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=f,o.handleError=k,o.isNativePlatform=v,o.isPluginAvailable=b,o.pluginMethodNoop=A,o.registerPlugin=j,o.Exception=x3,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},X3e=t=>t.Capacitor=Y3e(t),HE=X3e(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),Q3e=HE.registerPlugin;HE.Plugins;let vot=class{constructor(e){this.listeners={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){this.listeners[e]||(this.listeners[e]=[]),this.listeners[e].push(r);const i=this.windowListeners[e];i&&!i.registered&&this.addWindowListener(i);const s=async()=>this.removeListener(e,r),a=Promise.resolve({remove:s});return Object.defineProperty(a,"remove",{value:async()=>{console.warn("Using addListener() without 'await' is deprecated."),await s()}}),a}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r){const n=this.listeners[e];n&&n.forEach(i=>i(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new HE.Exception(e,Bg.Unimplemented)}unavailable(e="not available"){return new HE.Exception(e,Bg.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}};var Az;(function(t){t[t.NONE=0]="NONE",t[t.TOUCH_ID=1]="TOUCH_ID",t[t.FACE_ID=2]="FACE_ID",t[t.FINGERPRINT=3]="FINGERPRINT",t[t.FACE_AUTHENTICATION=4]="FACE_AUTHENTICATION",t[t.IRIS_AUTHENTICATION=5]="IRIS_AUTHENTICATION",t[t.MULTIPLE=6]="MULTIPLE"})(Az||(Az={}));var Cz;(function(t){t[t.UNKNOWN_ERROR=0]="UNKNOWN_ERROR",t[t.BIOMETRICS_UNAVAILABLE=1]="BIOMETRICS_UNAVAILABLE",t[t.USER_LOCKOUT=2]="USER_LOCKOUT",t[t.BIOMETRICS_NOT_ENROLLED=3]="BIOMETRICS_NOT_ENROLLED",t[t.USER_TEMPORARY_LOCKOUT=4]="USER_TEMPORARY_LOCKOUT",t[t.AUTHENTICATION_FAILED=10]="AUTHENTICATION_FAILED",t[t.APP_CANCEL=11]="APP_CANCEL",t[t.INVALID_CONTEXT=12]="INVALID_CONTEXT",t[t.NOT_INTERACTIVE=13]="NOT_INTERACTIVE",t[t.PASSCODE_NOT_SET=14]="PASSCODE_NOT_SET",t[t.SYSTEM_CANCEL=15]="SYSTEM_CANCEL",t[t.USER_CANCEL=16]="USER_CANCEL",t[t.USER_FALLBACK=17]="USER_FALLBACK"})(Cz||(Cz={}));const xre=Q3e("NativeBiometric",{web:()=>Pn(()=>import("./web-D3Jfez8m.js"),[]).then(t=>new t.NativeBiometricWeb)});/*! Capacitor: https://capacitorjs.com/ - MIT License */const J3e=t=>{const e=new Map;e.set("web",{name:"web"});const r=t.CapacitorPlatforms||{currentPlatform:{name:"web"},platforms:e},n=(s,a)=>{r.platforms.set(s,a)},i=s=>{r.platforms.has(s)&&(r.currentPlatform=r.platforms.get(s))};return r.addPlatform=n,r.setPlatform=i,r},Z3e=t=>t.CapacitorPlatforms=J3e(t),bre=Z3e(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});bre.addPlatform;bre.setPlatform;var Vg;(function(t){t.Unimplemented="UNIMPLEMENTED",t.Unavailable="UNAVAILABLE"})(Vg||(Vg={}));class b3 extends Error{constructor(e,r,n){super(e),this.message=e,this.code=r,this.data=n}}const eNe=t=>{var e,r;return t!=null&&t.androidBridge?"android":!((r=(e=t==null?void 0:t.webkit)===null||e===void 0?void 0:e.messageHandlers)===null||r===void 0)&&r.bridge?"ios":"web"},tNe=t=>{var e,r,n,i,s;const a=t.CapacitorCustomPlatform||null,o=t.Capacitor||{},l=o.Plugins=o.Plugins||{},u=t.CapacitorPlatforms,d=()=>a!==null?a.name:eNe(t),f=((e=u==null?void 0:u.currentPlatform)===null||e===void 0?void 0:e.getPlatform)||d,g=()=>f()!=="web",v=((r=u==null?void 0:u.currentPlatform)===null||r===void 0?void 0:r.isNativePlatform)||g,x=S=>{const I=O.get(S);return!!(I!=null&&I.platforms.has(f())||E(S))},b=((n=u==null?void 0:u.currentPlatform)===null||n===void 0?void 0:n.isPluginAvailable)||x,w=S=>{var I;return(I=o.PluginHeaders)===null||I===void 0?void 0:I.find(R=>R.name===S)},E=((i=u==null?void 0:u.currentPlatform)===null||i===void 0?void 0:i.getPluginHeader)||w,k=S=>t.console.error(S),A=(S,I,R)=>Promise.reject(`${R} does not have an implementation of "${I}".`),O=new Map,P=(S,I={})=>{const R=O.get(S);if(R)return console.warn(`Capacitor plugin "${S}" already registered. Cannot register plugins twice.`),R.proxy;const D=f(),M=E(S);let L;const U=async()=>(!L&&D in I?L=typeof I[D]=="function"?L=await I[D]():L=I[D]:a!==null&&!L&&"web"in I&&(L=typeof I.web=="function"?L=await I.web():L=I.web),L),le=(ge,H)=>{var B,q;if(M){const W=M==null?void 0:M.methods.find(Y=>H===Y.name);if(W)return W.rtype==="promise"?Y=>o.nativePromise(S,H.toString(),Y):(Y,de)=>o.nativeCallback(S,H.toString(),Y,de);if(ge)return(B=ge[H])===null||B===void 0?void 0:B.bind(ge)}else{if(ge)return(q=ge[H])===null||q===void 0?void 0:q.bind(ge);throw new b3(`"${S}" plugin is not implemented on ${D}`,Vg.Unimplemented)}},ue=ge=>{let H;const B=(...q)=>{const W=U().then(Y=>{const de=le(Y,ge);if(de){const me=de(...q);return H=me==null?void 0:me.remove,me}else throw new b3(`"${S}.${ge}()" is not implemented on ${D}`,Vg.Unimplemented)});return ge==="addListener"&&(W.remove=async()=>H()),W};return B.toString=()=>`${ge.toString()}() { [capacitor code] }`,Object.defineProperty(B,"name",{value:ge,writable:!1,configurable:!1}),B},J=ue("addListener"),Q=ue("removeListener"),he=(ge,H)=>{const B=J({eventName:ge},H),q=async()=>{const Y=await B;Q({eventName:ge,callbackId:Y},H)},W=new Promise(Y=>B.then(()=>Y({remove:q})));return W.remove=async()=>{console.warn("Using addListener() without 'await' is deprecated."),await q()},W},Z=new Proxy({},{get(ge,H){switch(H){case"$$typeof":return;case"toJSON":return()=>({});case"addListener":return M?he:J;case"removeListener":return Q;default:return ue(H)}}});return l[S]=Z,O.set(S,{name:S,proxy:Z,platforms:new Set([...Object.keys(I),...M?[D]:[]])}),Z},j=((s=u==null?void 0:u.currentPlatform)===null||s===void 0?void 0:s.registerPlugin)||P;return o.convertFileSrc||(o.convertFileSrc=S=>S),o.getPlatform=f,o.handleError=k,o.isNativePlatform=v,o.isPluginAvailable=b,o.pluginMethodNoop=A,o.registerPlugin=j,o.Exception=b3,o.DEBUG=!!o.DEBUG,o.isLoggingEnabled=!!o.isLoggingEnabled,o.platform=o.getPlatform(),o.isNative=o.isNativePlatform(),o},rNe=t=>t.Capacitor=tNe(t),Ug=rNe(typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),i8=Ug.registerPlugin;Ug.Plugins;class wre{constructor(e){this.listeners={},this.retainedEventArguments={},this.windowListeners={},e&&(console.warn(`Capacitor WebPlugin "${e.name}" config object was deprecated in v3 and will be removed in v4.`),this.config=e)}addListener(e,r){let n=!1;this.listeners[e]||(this.listeners[e]=[],n=!0),this.listeners[e].push(r);const s=this.windowListeners[e];s&&!s.registered&&this.addWindowListener(s),n&&this.sendRetainedArgumentsForEvent(e);const a=async()=>this.removeListener(e,r);return Promise.resolve({remove:a})}async removeAllListeners(){this.listeners={};for(const e in this.windowListeners)this.removeWindowListener(this.windowListeners[e]);this.windowListeners={}}notifyListeners(e,r,n){const i=this.listeners[e];if(!i){if(n){let s=this.retainedEventArguments[e];s||(s=[]),s.push(r),this.retainedEventArguments[e]=s}return}i.forEach(s=>s(r))}hasListeners(e){return!!this.listeners[e].length}registerWindowListener(e,r){this.windowListeners[r]={registered:!1,windowEventName:e,pluginEventName:r,handler:n=>{this.notifyListeners(r,n)}}}unimplemented(e="not implemented"){return new Ug.Exception(e,Vg.Unimplemented)}unavailable(e="not available"){return new Ug.Exception(e,Vg.Unavailable)}async removeListener(e,r){const n=this.listeners[e];if(!n)return;const i=n.indexOf(r);this.listeners[e].splice(i,1),this.listeners[e].length||this.removeWindowListener(this.windowListeners[e])}addWindowListener(e){window.addEventListener(e.windowEventName,e.handler),e.registered=!0}removeWindowListener(e){e&&(window.removeEventListener(e.windowEventName,e.handler),e.registered=!1)}sendRetainedArgumentsForEvent(e){const r=this.retainedEventArguments[e];r&&(delete this.retainedEventArguments[e],r.forEach(n=>{this.notifyListeners(e,n)}))}}const Nz=t=>encodeURIComponent(t).replace(/%(2[346B]|5E|60|7C)/g,decodeURIComponent).replace(/[()]/g,escape),Iz=t=>t.replace(/(%[\dA-F]{2})+/gi,decodeURIComponent);class nNe extends wre{async getCookies(){const e=document.cookie,r={};return e.split(";").forEach(n=>{if(n.length<=0)return;let[i,s]=n.replace(/=/,"CAP_COOKIE").split("CAP_COOKIE");i=Iz(i).trim(),s=Iz(s).trim(),r[i]=s}),r}async setCookie(e){try{const r=Nz(e.key),n=Nz(e.value),i=`; expires=${(e.expires||"").replace("expires=","")}`,s=(e.path||"/").replace("path=",""),a=e.url!=null&&e.url.length>0?`domain=${e.url}`:"";document.cookie=`${r}=${n||""}${i}; path=${s}; ${a};`}catch(r){return Promise.reject(r)}}async deleteCookie(e){try{document.cookie=`${e.key}=; Max-Age=0`}catch(r){return Promise.reject(r)}}async clearCookies(){try{const e=document.cookie.split(";")||[];for(const r of e)document.cookie=r.replace(/^ +/,"").replace(/=.*/,`=;expires=${new Date().toUTCString()};path=/`)}catch(e){return Promise.reject(e)}}async clearAllCookies(){try{await this.clearCookies()}catch(e){return Promise.reject(e)}}}i8("CapacitorCookies",{web:()=>new nNe});const iNe=async t=>new Promise((e,r)=>{const n=new FileReader;n.onload=()=>{const i=n.result;e(i.indexOf(",")>=0?i.split(",")[1]:i)},n.onerror=i=>r(i),n.readAsDataURL(t)}),sNe=(t={})=>{const e=Object.keys(t);return Object.keys(t).map(i=>i.toLocaleLowerCase()).reduce((i,s,a)=>(i[s]=t[e[a]],i),{})},aNe=(t,e=!0)=>t?Object.entries(t).reduce((n,i)=>{const[s,a]=i;let o,l;return Array.isArray(a)?(l="",a.forEach(u=>{o=e?encodeURIComponent(u):u,l+=`${s}=${o}&`}),l.slice(0,-1)):(o=e?encodeURIComponent(a):a,l=`${s}=${o}`),`${n}&${l}`},"").substr(1):null,oNe=(t,e={})=>{const r=Object.assign({method:t.method||"GET",headers:t.headers},e),i=sNe(t.headers)["content-type"]||"";if(typeof t.data=="string")r.body=t.data;else if(i.includes("application/x-www-form-urlencoded")){const s=new URLSearchParams;for(const[a,o]of Object.entries(t.data||{}))s.set(a,o);r.body=s.toString()}else if(i.includes("multipart/form-data")||t.data instanceof FormData){const s=new FormData;if(t.data instanceof FormData)t.data.forEach((o,l)=>{s.append(l,o)});else for(const o of Object.keys(t.data))s.append(o,t.data[o]);r.body=s;const a=new Headers(r.headers);a.delete("content-type"),r.headers=a}else(i.includes("application/json")||typeof t.data=="object")&&(r.body=JSON.stringify(t.data));return r};class lNe extends wre{async request(e){const r=oNe(e,e.webFetchExtra),n=aNe(e.params,e.shouldEncodeUrlParams),i=n?`${e.url}?${n}`:e.url,s=await fetch(i,r),a=s.headers.get("content-type")||"";let{responseType:o="text"}=s.ok?e:{};a.includes("application/json")&&(o="json");let l,u;switch(o){case"arraybuffer":case"blob":u=await s.blob(),l=await iNe(u);break;case"json":l=await s.json();break;case"document":case"text":default:l=await s.text()}const d={};return s.headers.forEach((f,g)=>{d[g]=f}),{data:l,headers:d,status:s.status,url:s.url}}async get(e){return this.request(Object.assign(Object.assign({},e),{method:"GET"}))}async post(e){return this.request(Object.assign(Object.assign({},e),{method:"POST"}))}async put(e){return this.request(Object.assign(Object.assign({},e),{method:"PUT"}))}async patch(e){return this.request(Object.assign(Object.assign({},e),{method:"PATCH"}))}async delete(e){return this.request(Object.assign(Object.assign({},e),{method:"DELETE"}))}}i8("CapacitorHttp",{web:()=>new lNe});const s8=i8("Preferences",{web:()=>Pn(()=>import("./web-9MY_bhNr.js"),[]).then(t=>new t.PreferencesWeb)}),a8="biometric_credentials",cNe=async()=>{if(!Ug.isNativePlatform())return!1;try{return(await xre.isAvailable()).isAvailable}catch{return!1}},uNe=async(t,e)=>{try{await s8.set({key:a8,value:JSON.stringify({email:t,pass:e})}),console.log("Credentials saved for biometric login.")}catch(r){console.error("Error saving credentials:",r)}},dNe=async()=>{const{value:t}=await s8.get({key:a8});return!!t},hNe=async()=>{try{if(!await cNe())throw new Error("Biometric not available");await xre.verifyIdentity({reason:"Chm vn tay  ng nhp",title:"ng nhp",subtitle:"S dng vn tay ca bn",description:"Xc thc  truy cp ti khon  lu"});const{value:r}=await s8.get({key:a8});return r?JSON.parse(r):null}catch(t){return console.error("Biometric verification failed:",t),null}},fNe=async t=>{const e=t.trim();return e.includes("@")?e:`${e}@gmail.com`},mNe=({onBack:t})=>{const[e,r]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(!1),[o,l]=C.useState(null),[u,d]=C.useState(null),[f,g]=C.useState(!1),[v,x]=C.useState(""),[b,w]=C.useState(!1),[E,k]=C.useState(!1);C.useEffect(()=>{A()},[]);const A=async()=>{const S=await dNe();k(S)},O=async()=>{a(!0),l(null);const S=await hNe();if(S)try{await O2(js,gE),await kI(js,S.email,S.pass)}catch(I){a(!1),console.error("Bio login failed:",I),l("ng nhp vn tay tht bi (phin ht hn hoc i mt khu).")}else a(!1)},P=async S=>{S.preventDefault(),a(!0),l(null);try{const I=await fNe(e);b?await O2(js,gE):await O2(js,dP),await kI(js,I,n),b&&await uNe(I,n)}catch(I){console.error("Login failed:",I),I.code==="auth/invalid-email"?l("Tn ng nhp hoc email khng hp l."):I.code==="auth/user-not-found"||I.code==="auth/wrong-password"||I.code==="auth/invalid-credential"?l("Ti khon hoc mt khu khng chnh xc."):l("ng nhp tht bi. Vui lng th li.")}finally{js.currentUser||a(!1)}},j=async S=>{if(S.preventDefault(),!!v){a(!0),l(null),d(null);try{await o2e(js,v),d(` gi email khi phc n ${v}. Vui lng kim tra hp th (c mc Spam).`),x("")}catch(I){console.error("Reset password failed:",I),I.code==="auth/user-not-found"?l("Email ny cha c ng k."):I.code==="auth/invalid-email"?l("Email khng hp l."):l("Gi email tht bi. Vui lng th li sau.")}finally{a(!1)}}};return f?m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:()=>{g(!1),l(null),d(null)},className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:m.jsx(B0,{className:"h-10 w-10 text-primary"})}),m.jsx("div",{className:"h-20 w-20 mx-auto text-primary mb-4 flex items-center justify-center bg-primary/10 rounded-full",children:m.jsx(ME,{className:"text-4xl"})}),m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"Khi phc mt khu"}),m.jsx("p",{className:"text-sm text-muted-foreground mt-2",children:"Nhp email ca bn  nhn lin kt t li mt khu."})]}),m.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:j,children:[o&&m.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md mb-4 text-center text-sm",children:o}),u&&m.jsx("p",{className:"bg-green-100 text-green-700 p-3 rounded-md mb-4 text-center text-sm",children:u}),m.jsxs("div",{className:"mb-6",children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-2",children:"Email ng k"}),m.jsx("input",{type:"email",value:v,onChange:S=>x(S.target.value),placeholder:"email@example.com",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0,autoFocus:!0})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 disabled:opacity-50",children:s?"ang gi...":"Gi yu cu"})]})})]}):m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(B0,{className:"h-10 w-10 text-primary"})}),m.jsx(bg,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"ng nhp"}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Truy cp vo h thng qun l hc tp."})]}),m.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:P,children:[o&&m.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md mb-4 text-center",children:o}),m.jsxs("div",{className:"mb-4",children:[m.jsx("label",{htmlFor:"account",className:"block text-sm font-medium text-card-foreground mb-2",children:"Ti khon"}),m.jsx("input",{id:"account",type:"text",value:e,onChange:S=>r(S.target.value),placeholder:"Nhp ti khon hoc email",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0,autoFocus:!0})]}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-card-foreground mb-2",children:"Mt khu"}),m.jsx("input",{id:"password",type:"password",value:n,onChange:S=>i(S.target.value),placeholder:"",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",required:!0})]}),m.jsx("div",{className:"flex justify-end mb-4",children:m.jsx("button",{type:"button",onClick:()=>g(!0),className:"text-sm text-primary hover:underline",children:"Qun mt khu?"})}),m.jsxs("div",{className:"mb-6 flex items-center gap-2 cursor-pointer",onClick:()=>w(!b),children:[b?m.jsx(Dke,{className:"text-primary text-xl"}):m.jsx(Yke,{className:"text-gray-400 text-xl"}),m.jsx("span",{className:"text-sm text-muted-foreground select-none",children:"Ghi nh ng nhp"})]}),m.jsx("button",{type:"submit",disabled:s,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 disabled:opacity-50 disabled:cursor-wait mb-4",children:s?"ang x l...":"ng nhp"}),E&&m.jsx("div",{className:"flex justify-center mt-4",children:m.jsxs("button",{type:"button",onClick:O,disabled:s,className:"flex flex-col items-center gap-2 text-primary hover:text-primary/80 transition-colors",children:[m.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:m.jsx($ke,{className:"text-3xl"})}),m.jsx("span",{className:"text-sm font-medium",children:"ng nhp bng vn tay"})]})})]})})]})},Oz=()=>m.jsx("div",{className:"flex items-center justify-center h-screen bg-gray-100",children:m.jsxs("div",{className:"bg-white p-8 rounded shadow-md text-center",children:[m.jsx("h2",{className:"text-2xl font-bold mb-4",children:"ng nhp Windows App"}),m.jsx("p",{className:"mb-4",children:"Vui lng ng nhp  tip tc."}),m.jsx("button",{className:"bg-blue-500 text-white px-4 py-2 rounded",children:"ng nhp bng Google"})]})}),pNe=({onBack:t,onSuccess:e})=>{const[r,n]=C.useState(""),[i,s]=C.useState(""),[a,o]=C.useState(""),[l,u]=C.useState(""),[d,f]=C.useState(""),[g,v]=C.useState(""),[x,b]=C.useState(""),[w,E]=C.useState(!1),[k,A]=C.useState(null),O=async P=>{if(P.preventDefault(),E(!0),A(null),i.length<6){A("Mt khu phi c t nht 6 k t."),E(!1);return}if(i!==a){A("Mt khu xc nhn khng khp."),E(!1);return}try{const S=(await uP(js,r.trim(),i)).user,I=r.split("@")[0].toLowerCase();await mv(Ht(Ye,"users",S.uid),{email:S.email,fullName:l.trim(),phoneNumber:g.trim(),birthDate:x,role:"hoc_vien",class:d.trim(),username:I,createdAt:sa()}),console.log("Registration successful"),e()}catch(j){console.error("Registration failed:",j),j.code==="auth/email-already-in-use"?A("Email ny  c s dng."):j.code==="auth/invalid-email"?A("Email khng hp l."):j.code==="auth/weak-password"?A("Mt khu qu yu."):A("ng k tht bi. Vui lng th li.")}finally{E(!1)}};return m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-6",children:[m.jsx("button",{onClick:t,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-2 rounded-full shadow-md hover:bg-muted transition-all duration-300",children:m.jsx(B0,{className:"h-8 w-8 text-primary"})}),m.jsx(bg,{className:"h-16 w-16 mx-auto text-primary mb-2"}),m.jsx("h1",{className:"text-3xl font-bold text-foreground",children:"ng K"}),m.jsx("p",{className:"text-sm text-muted-foreground",children:"To ti khon hc vin mi"})]}),m.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:O,className:"space-y-4",children:[k&&m.jsx("p",{className:"bg-destructive/10 text-destructive p-3 rounded-md text-sm text-center",children:k}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"H v Tn *"}),m.jsx("input",{type:"text",value:l,onChange:P=>u(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nguyn Vn A"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Lp Hc *"}),m.jsx("input",{type:"text",value:d,onChange:P=>f(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nhp tn lp (GV s duyt)"})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Ngy sinh"}),m.jsx("input",{type:"date",value:x,onChange:P=>b(P.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"ST"}),m.jsx("input",{type:"tel",value:g,onChange:P=>v(P.target.value),className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"09..."})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Email *"}),m.jsx("input",{type:"email",value:r,onChange:P=>n(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"email@example.com"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Mt khu *"}),m.jsx("input",{type:"password",value:i,onChange:P=>s(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"t nht 6 k t"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-card-foreground mb-1",children:"Xc nhn mt khu *"}),m.jsx("input",{type:"password",value:a,onChange:P=>o(P.target.value),required:!0,className:"w-full px-4 py-2 bg-background border border-border rounded-lg focus:ring-2 focus:ring-primary outline-none",placeholder:"Nhp li mt khu"})]}),m.jsx("button",{type:"submit",disabled:w,className:"w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 transition-all duration-300 mt-4 disabled:opacity-50",children:w?"ang to ti khon...":"ng K"})]})})]})},gNe=(t,e)=>{const r="h-14 w-14 mx-auto text-primary mb-3 object-contain",n="h-14 w-14 mx-auto mb-3 object-cover rounded-full border-2 border-border/20 shadow-sm",i="h-14 w-14 mx-auto mb-3 object-contain drop-shadow-lg",s=t.name.toLowerCase();if(e==="noel")return s.includes("thuyn trng")?m.jsx("img",{src:"/assets/img/hat.png",alt:"Captain Hat",className:i}):s.includes("my trng")?m.jsx("img",{src:"/assets/img/gift4.png",alt:"Chief Engineer",className:i}):s.includes("thy th")?m.jsx("img",{src:"/assets/img/bell.png",alt:"Sailor",className:i}):s.includes("li phng tin")?m.jsx("img",{src:"/assets/img/tree.png",alt:"Helm",className:i}):s.includes("chng ch")?m.jsx("img",{src:"/assets/img/star-gold.png",alt:"Certificate",className:i}):m.jsx("img",{src:"/assets/img/gift5.png",alt:"Default",className:i});if(e==="tri-an")switch(t.id){case"thuyentruong-h1":return m.jsx("img",{src:"https://i.postimg.cc/Vs76y54F/8.jpg",alt:t.name,className:n});case"thuyentruong-h2":return m.jsx("img",{src:"https://i.postimg.cc/Pf6xGNK4/9.jpg",alt:t.name,className:n});case"thuyentruong-h3":return m.jsx("img",{src:"https://i.postimg.cc/Vs76y54W/7.jpg",alt:t.name,className:n});case"thuythu":return m.jsx(Z5,{className:r});case"lai-phuong-tien":return m.jsx(bg,{className:r});case"maytruong-h1":return m.jsx("img",{src:"https://i.postimg.cc/zDpm90H6/undefined.jpg",alt:t.name,className:n});case"maytruong-h2":return m.jsx("img",{src:"https://i.postimg.cc/wMwSLjdc/Teachers-day-background-design-art-illustration.jpg",alt:t.name,className:n});case"maytruong-h3":return m.jsx("img",{src:"https://i.postimg.cc/NFdWmjwH/Hinh-thiep.jpg",alt:t.name,className:n});case"thomay":return m.jsx("img",{src:"https://i.postimg.cc/cJYy2WQN/hinh-nen-3.jpg",alt:t.name,className:n});case"caotoc":return m.jsx("img",{src:"https://i.postimg.cc/dQWMQybn/5.jpg",alt:t.name,className:n});case"ven-bien":return m.jsx("img",{src:"https://i.postimg.cc/zDdmDgs0/6.jpg",alt:t.name,className:n});case"antoan-ven-bien":return m.jsx("img",{src:"https://i.postimg.cc/ZYFWdtv0/BOARD.webp",alt:t.name,className:n});case"antoan-xang-dau":return m.jsx("img",{src:"https://i.postimg.cc/T2k82Dzc/4.jpg",alt:t.name,className:n});case"antoan-hoa-chat":return m.jsx("img",{src:"https://i.postimg.cc/mZVx08Ff/World-Teacher-s-Day-Flowers-Border-Pink.jpg",alt:t.name,className:n});default:return s.includes("chng ch")?m.jsx(SB,{className:r}):m.jsx(TB,{className:r})}return s.includes("thuyn trng")?m.jsx(mye,{className:r}):s.includes("my trng")?m.jsx(fye,{className:r}):s.includes("thy th")?m.jsx(Z5,{className:r}):s.includes("li phng tin")?m.jsx(bg,{className:r}):s.includes("chng ch")?m.jsx(SB,{className:r}):m.jsx(TB,{className:r})},vNe=({licenses:t,onSelect:e,onBack:r})=>{const{theme:n}=ua();return m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(B0,{className:"h-10 w-10 text-primary"})}),n==="noel"?m.jsx("img",{src:"/assets/img/tree.png",alt:"Tree",className:"h-20 w-20 mx-auto mb-4 object-contain drop-shadow-lg"}):m.jsx(Z5,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Chn Hng Bng"}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Anh/ch vui lng chn hng bng mun n tp v thi th."})]}),m.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:m.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:t.map(i=>{const s=i.subjects.reduce((a,o)=>a+o.questions.length,0);return m.jsxs("button",{onClick:()=>e(i),className:"group w-full p-4 bg-background rounded-lg text-center hover:bg-primary/10 transition-all duration-300 transform hover:scale-105 focus:ring-4 focus:ring-ring focus:outline-none",children:[gNe(i,n),m.jsx("h3",{className:"text-md font-bold text-primary",children:i.name}),m.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[i.subjects.length," mn - ",s," cu"]})]},i.id)})})})]})},yNe=({onNameSubmit:t,onBack:e})=>{const[r,n]=C.useState(""),i=s=>{s.preventDefault();const a=r.trim();t(a||"Hc vin")};return m.jsxs("div",{className:"w-full max-w-md mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"text-center mb-10",children:[m.jsx(dye,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsxs("div",{className:"relative flex justify-center items-center",children:[m.jsx("div",{className:"absolute left-0",children:m.jsx("button",{onClick:e,className:"bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(B0,{className:"h-10 w-10 text-primary"})})}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Thng tin ca anh/ch"})]}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Nhp tn  ti c th lu li tin  hc tp cho anh/ch."})]}),m.jsx("div",{className:"bg-card p-8 rounded-2xl shadow-lg",children:m.jsxs("form",{onSubmit:i,children:[m.jsx("label",{htmlFor:"name",className:"block text-sm font-medium text-card-foreground mb-2",children:"Tn ca anh/ch"}),m.jsx("input",{id:"name",type:"text",value:r,onChange:s=>n(s.target.value),placeholder:"V d: Nguyn Vn A (c th b trng)",className:"w-full px-4 py-3 bg-background border border-border rounded-lg text-foreground focus:outline-none focus:ring-2 focus:ring-ring transition-colors duration-300",autoFocus:!0}),m.jsx("button",{type:"submit",className:"mt-6 w-full bg-primary text-primary-foreground font-bold py-3 px-6 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300",children:"Xc nhn"})]})})]})},xNe=({onModeSelect:t,licenseName:e,userName:r,onSwitchLicense:n})=>m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("div",{className:"absolute right-0 top-0",children:m.jsxs("button",{onClick:n,className:"flex items-center gap-1.5 text-xs font-medium text-muted-foreground hover:text-primary transition-all duration-300 py-1 px-2 rounded-md hover:bg-secondary",title:"Chn li hng bng",children:[m.jsx(hye,{className:"h-4 w-4"}),m.jsx("span",{children:"Chn li hng bng"})]})}),m.jsxs("h1",{className:"text-4xl font-bold text-foreground",children:["Cho anh/ch ",r,"!"]}),m.jsxs("p",{className:"text-lg text-muted-foreground mt-2",children:["Anh/ch ang hc hng bng ",m.jsx("span",{className:"font-semibold text-primary",children:e}),"."]}),m.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:"Hy chn mt ch   bt u."})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("button",{onClick:()=>t("practice"),className:"group bg-card text-card-foreground p-8 rounded-2xl shadow-lg text-center hover:bg-primary/10 transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-ring",children:[m.jsx(hR,{className:"h-16 w-16 mx-auto text-primary mb-4 transition-transform group-hover:scale-110"}),m.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"n tp"}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Luyn tp tng mn  nm vng kin thc."})]}),m.jsxs("button",{onClick:()=>t("online_exam"),className:"group bg-card text-card-foreground p-8 rounded-2xl shadow-lg text-center hover:bg-destructive/10 transition-all duration-300 transform hover:-translate-y-2 focus:outline-none focus:ring-4 focus:ring-ring",children:[m.jsx(pye,{className:"h-16 w-16 mx-auto text-destructive mb-4 transition-transform group-hover:scale-110"}),m.jsx("h2",{className:"text-2xl font-bold text-card-foreground",children:"Thi th"}),m.jsx("p",{className:"text-muted-foreground mt-2",children:"Lm bi thi 30 cu ngu nhin trong 45 pht."})]})]})]}),Rz=t=>{if(!t)return"";const e=new Date(t),r=e.getDate().toString().padStart(2,"0"),n=(e.getMonth()+1).toString().padStart(2,"0"),i=e.getHours().toString().padStart(2,"0"),s=e.getMinutes().toString().padStart(2,"0");return`(${r}/${n} ${i}:${s})`},bNe=({subjects:t,progress:e,onSelect:r,onBack:n})=>m.jsxs("div",{className:"w-full max-w-2xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"relative text-center mb-10",children:[m.jsx("button",{onClick:n,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-card/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 focus:ring-offset-background transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(B0,{className:"h-10 w-10 text-primary"})}),m.jsx(hR,{className:"h-20 w-20 mx-auto text-primary mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground",children:"Chn Mn hc"}),m.jsx("p",{className:"text-lg text-muted-foreground mt-2",children:"Chn mt mn  bt u n tp."})]}),m.jsx("div",{className:"bg-card p-6 rounded-2xl shadow-lg",children:m.jsx("div",{className:"space-y-3",children:t.map(i=>{const s=e[i.id],a=s&&s.lastScore!==null;return m.jsxs("button",{onClick:()=>r(i),className:"w-full flex items-center justify-between p-5 bg-background rounded-lg text-left hover:bg-primary/10 transition-all duration-300 transform hover:scale-[1.02] focus:ring-4 focus:ring-ring focus:outline-none",children:[m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-primary",children:i.name}),m.jsxs("p",{className:"text-sm text-muted-foreground",children:[i.questions.length," cu hi"]})]}),m.jsxs("div",{className:"flex items-center gap-4",children:[a&&m.jsxs("div",{className:"text-right text-sm",children:[m.jsxs("p",{className:"text-muted-foreground flex items-center justify-end",children:[m.jsx("span",{children:"Ln cui:"}),m.jsxs("span",{className:"font-semibold text-primary ml-1",children:[s.lastScore,"/",i.questions.length]}),s.lastScoreTimestamp&&m.jsx("span",{className:"ml-1.5 text-xs text-muted-foreground/80",children:Rz(s.lastScoreTimestamp)})]}),m.jsxs("p",{className:"text-muted-foreground flex items-center justify-end mt-0.5",children:[m.jsx("span",{children:"Cao nht:"}),m.jsxs("span",{className:"font-semibold text-success ml-1",children:[s.highScore,"/",i.questions.length]}),s.highScoreTimestamp&&m.jsx("span",{className:"ml-1.5 text-xs text-muted-foreground/80",children:Rz(s.highScoreTimestamp)})]})]}),m.jsx(uye,{className:"h-6 w-6 text-muted-foreground"})]})]},i.id)})})})]}),wNe=({quiz:t,onFinish:e,onBack:r,initialIndex:n=0,initialAnswers:i={},onProgressUpdate:s})=>{const[a,o]=C.useState(n),[l,u]=C.useState(i);if(!t.questions||t.questions.length===0)return m.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 text-center",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Cha c cu hi no trong ch  ny."}),m.jsx("button",{onClick:r,className:"bg-primary text-primary-foreground hover:bg-primary/90 py-2 px-4 rounded-lg",children:"Quay li"})]});const d=C.useMemo(()=>t.questions[a],[t.questions,a]);if(!d)return m.jsxs("div",{className:"w-full max-w-3xl mx-auto p-4 text-center",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"C li xy ra khi ti cu hi."}),m.jsx("button",{onClick:r,className:"bg-primary text-primary-foreground py-2 px-4 rounded-lg",children:"Quay li"})]});const f=C.useMemo(()=>l[d.id]!==void 0,[l,d.id]),g=C.useMemo(()=>l[d.id]||null,[l,d.id]);C.useEffect(()=>{s==null||s(a,0,l)},[a,l]);const v=()=>{e(l)},x=E=>{f||u(k=>({...k,[d.id]:E}))},b=()=>{a===t.questions.length-1?v():o(k=>k+1)},w=a/t.questions.length*100;return m.jsx("div",{className:"w-full max-w-3xl mx-auto p-4 md:p-6 animate-slide-in-right font-quiz-default",children:m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-6 md:p-8",children:[m.jsxs("div",{className:"mb-6",children:[m.jsxs("div",{className:"flex justify-between items-center mb-4 relative",children:[m.jsx("button",{onClick:r,className:"absolute left-0 top-1/2 -translate-y-1/2 bg-background/50 p-3 rounded-full shadow-md hover:bg-muted focus:outline-none focus:ring-2 focus:ring-primary focus:ring-offset-2 focus:ring-offset-card transition-all duration-300 transform hover:scale-110","aria-label":"Quay li",children:m.jsx(B0,{className:"h-10 w-10"})}),m.jsx("h1",{className:"text-xl font-bold text-foreground text-center flex-grow",children:t.title}),m.jsx("button",{onClick:v,className:"bg-secondary text-secondary-foreground hover:bg-secondary/80 text-sm font-bold py-2 px-4 rounded-lg transition-colors duration-300",children:"Kt thc"})]}),m.jsx("div",{className:"w-full bg-secondary rounded-full h-2.5 mb-2",children:m.jsx("div",{className:"bg-primary h-2.5 rounded-full transition-all duration-500",style:{width:`${w}%`}})}),m.jsx("div",{className:"flex justify-between items-center text-sm text-muted-foreground",children:m.jsxs("span",{children:["Cu ",a+1," / ",t.questions.length]})})]}),m.jsxs("div",{children:[m.jsx("h2",{className:"text-2xl md:text-3xl font-bold mb-5 text-foreground",children:d.text}),d.image&&m.jsx("div",{className:"mb-6 rounded-lg overflow-hidden",children:m.jsx("img",{src:d.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),m.jsx("div",{className:"space-y-3",children:d.answers.map((E,k)=>{const A=g===E.id;let O="w-full text-left p-4 rounded-lg border-2 transition-all duration-300 flex items-center justify-between text-lg";const P=E.id===d.correctAnswerId;return f?P?O+=" bg-success/10 border-success text-success":A&&!P?O+=" bg-destructive/10 border-destructive text-destructive":O+=" border-border text-muted-foreground":A?O+=" bg-primary/10 border-primary ring-2 ring-primary text-primary-foreground":O+=" bg-background hover:bg-muted border-border text-foreground",m.jsxs("button",{onClick:()=>x(E.id),disabled:f,className:O,children:[m.jsxs("span",{className:"flex-grow",children:[m.jsxs("span",{className:"font-bold mr-2",children:[String.fromCharCode(65+k),". "]}),E.text]}),f&&m.jsxs(m.Fragment,{children:[P&&m.jsx(uR,{className:"h-6 w-6 text-success ml-3"}),A&&!P&&m.jsx(dR,{className:"h-6 w-6 text-destructive ml-3"})]})]},E.id)})}),m.jsx("div",{className:"mt-8",children:m.jsx("div",{className:"text-right",children:f?m.jsx("button",{onClick:b,className:"bg-success text-success-foreground font-bold py-3 px-8 rounded-lg hover:bg-success/90 transition-all duration-300 animate-slide-in-right",children:a===t.questions.length-1?"Hon thnh":"Cu tip theo"}):m.jsx("div",{className:"h-[48px]"})})})]})]})})},_Ne=t=>{const e=Math.floor(t/60),r=t%60;return`${e.toString().padStart(2,"0")}:${r.toString().padStart(2,"0")}`},ENe=({checked:t,onChange:e})=>m.jsx("div",{onClick:e,className:`w-[14px] h-[14px] border border-[#999] inline-block cursor-pointer bg-white relative ${t?"bg-[#333]":""}`,children:t&&m.jsx("div",{className:"absolute top-[2px] left-[2px] w-[8px] h-[8px] bg-[#333]"})}),TNe=t=>{if(!t)return"---";if(/^\d{2}\/\d{2}\/\d{4}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,r,n]=t.split("-");return`${n}/${r}/${e}`}return t},_re=({quiz:t,onFinish:e,onBack:r,userName:n,userProfile:i,selectedLicense:s,initialIndex:a=0,initialAnswers:o={},initialTime:l,onProgressUpdate:u})=>{const[d,f]=C.useState(a),[g,v]=C.useState(o),[x,b]=C.useState(l!==void 0?l:t.timeLimit??3600),w=C.useMemo(()=>t.questions[d],[t.questions,d]),E=C.useRef(g);C.useEffect(()=>{E.current=g,u==null||u(d,x,g)},[g]),C.useEffect(()=>{u==null||u(d,x,g)},[d]),C.useEffect(()=>{x%5===0&&(u==null||u(d,x,g))},[x]);const k=()=>{window.confirm("Anh/ch c chc chn mun thot khi bi thi khng? Mi tin trnh s b mt.")&&r()},A=C.useCallback(()=>{const j=E.current,S=t.questions.length-Object.keys(j).length,I=S>0?`Anh/ch vn cn ${S} cu cha tr li. Anh/ch c chc chn mun np bi khng?`:"Anh/ch  hon thnh tt c cc cu hi. Anh/ch c mun np bi khng?";window.confirm(I)&&e(j)},[t.questions.length,e]),O=C.useRef(e);C.useEffect(()=>{O.current=e},[e]),C.useEffect(()=>{const j=setInterval(()=>{b(S=>S>0?S-1:0)},1e3);return()=>clearInterval(j)},[]),C.useEffect(()=>{x===0&&(alert(" ht gi lm bi! H thng s t ng np bi ca anh/ch."),O.current(E.current))},[x]);const P=(j,S)=>{v(I=>({...I,[j]:S}))};return m.jsxs("div",{className:"w-full max-w-7xl mx-auto font-sans text-black shadow-lg animate-slide-in-right rounded-md",children:[m.jsx("div",{className:"h-3 bg-yellow-700 rounded-t-md border-b-2 border-yellow-900"}),m.jsxs("div",{className:"bg-white p-4",children:[m.jsxs("div",{className:"flex justify-between items-start pb-4 border-b border-gray-300",children:[m.jsxs("div",{className:"flex gap-4 items-start",children:[m.jsx("img",{src:(i==null?void 0:i.photoURL)||`https://ui-avatars.com/api/?name=${encodeURIComponent(n)}`,alt:"Avatar",className:"w-[100px] h-[130px] border border-gray-300 object-cover p-1 bg-white",onError:j=>{j.target.src="https://i.postimg.cc/8PDn1wfM/favicon.png"}}),m.jsxs("div",{className:"text-sm space-y-1",children:[m.jsx("p",{className:"font-bold text-blue-700 text-lg uppercase",children:(i==null?void 0:i.full_name)||(i==null?void 0:i.fullName)||n||"Hc vin"}),m.jsxs("p",{children:["S bo danh: ",m.jsx("span",{className:"font-semibold text-gray-800",children:((i==null?void 0:i.email)||"").split("@")[0]||"---"})]}),m.jsxs("p",{children:["Ngy sinh: ",m.jsx("span",{className:"font-semibold text-gray-800",children:TNe(i==null?void 0:i.birthDate)})]}),m.jsxs("p",{children:["a ch: ",m.jsx("span",{className:"font-semibold text-gray-800",children:(i==null?void 0:i.address)||"---"})]}),m.jsxs("p",{children:["Lp: ",m.jsx("span",{className:"font-semibold text-gray-800",children:(i==null?void 0:i.class)||(i==null?void 0:i.courseName)||"---"})]}),m.jsxs("p",{children:["Hng bng: ",m.jsx("span",{className:"font-bold text-red-600 border border-red-500 px-1 rounded bg-red-50",children:(s==null?void 0:s.name)||"---"})]})]})]}),m.jsxs("div",{className:"flex items-start gap-4",children:[m.jsxs("div",{className:"bg-[#f0ad4e] text-black p-2 rounded-md text-sm w-48",children:[m.jsx("p",{className:"font-bold",children:"ang thi"}),m.jsx("p",{children:"Thi gian: 45 pht"}),m.jsx("p",{children:"B gi: 0 pht"}),m.jsxs("p",{children:["Cn li: ",m.jsx("span",{className:"font-bold",children:_Ne(x)})]})]}),m.jsx("button",{onClick:k,className:"text-sm text-gray-600 hover:text-red-500 font-semibold",children:"Thot"})]})]}),m.jsxs("div",{className:"flex mt-4 gap-4",children:[m.jsxs("div",{className:"flex-1 border border-gray-400 rounded-md p-4 flex flex-col justify-between min-h-[500px]",children:[m.jsxs("div",{children:[m.jsx("p",{className:"font-bold mb-4 border-b border-dashed border-gray-400 pb-2",children:"Ni dung cu hi"}),m.jsxs("p",{className:"font-bold text-red-600 mb-2",children:["Cu :",d+1]}),m.jsx("p",{className:"mb-4 font-semibold",children:w.text}),w.image&&m.jsx("div",{className:"mb-4 flex justify-start",children:m.jsx("img",{src:w.image,alt:"Hnh nh cu hi",className:"max-w-full h-auto max-h-60 object-contain border border-gray-300 rounded-md"})}),m.jsx("div",{className:"space-y-4",children:w.answers.map((j,S)=>m.jsxs("div",{className:"flex items-start",children:[m.jsxs("span",{className:"font-bold mr-2 text-gray-700 min-w-[20px]",children:[String.fromCharCode(65+S),"."]}),m.jsx("p",{children:j.text})]},j.id))})]}),m.jsxs("div",{className:"flex justify-center gap-4 mt-8",children:[m.jsxs("button",{onClick:()=>f(j=>Math.max(0,j-1)),disabled:d===0,className:"bg-[#f0ad4e] text-black px-4 py-2 rounded-md border border-gray-400 flex items-center font-semibold hover:bg-yellow-500 transition-colors disabled:opacity-50 disabled:cursor-not-allowed",children:[m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 19.5L8.25 12l7.5-7.5"})}),"Tr li"]}),d<t.questions.length-1&&m.jsxs("button",{onClick:()=>f(j=>Math.min(t.questions.length-1,j+1)),className:"bg-[#f0ad4e] text-black px-4 py-2 rounded-md border border-gray-400 flex items-center font-semibold hover:bg-yellow-500 transition-colors",children:["Tip tc",m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2.5,stroke:"currentColor",className:"w-5 h-5",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M8.25 4.5l7.5 7.5-7.5 7.5"})})]})]})]}),m.jsxs("div",{className:"w-[200px] flex-none flex flex-col",children:[m.jsx("div",{className:"border border-gray-300 rounded-md",children:m.jsxs("table",{className:"w-full border-collapse text-xs",children:[m.jsx("thead",{className:"sticky top-0 bg-[#f0ad4e] z-10",children:m.jsxs("tr",{children:[m.jsx("th",{className:"border border-gray-400 p-2",children:"Cu"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"a"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"b"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"c"}),m.jsx("th",{className:"border border-gray-400 p-2",children:"d"})]})}),m.jsx("tbody",{children:t.questions.map((j,S)=>m.jsxs("tr",{className:d===S?"bg-cyan-200":"hover:bg-gray-50",children:[m.jsxs("td",{className:`border border-gray-400 p-2 font-bold text-center cursor-pointer whitespace-nowrap ${d===S?"text-black":"text-gray-500"}`,onClick:()=>f(S),children:["Cu ",S+1]}),j.answers.slice(0,4).map(I=>m.jsx("td",{className:"border border-gray-400 p-2 text-center",children:m.jsx(ENe,{checked:g[j.id]===I.id,onChange:()=>P(j.id,I.id)})},I.id))]},j.id))})]})}),m.jsx("div",{className:"text-center mt-4 pt-2 border-t border-gray-200",children:m.jsx("button",{onClick:A,className:"bg-[#337ab7] text-white px-8 py-2 rounded-md font-semibold hover:bg-blue-700 transition-colors w-full",children:"Np bi"})})]})]}),m.jsxs("div",{className:"mt-4 bg-[#005a9c] text-white p-4 rounded-b-md flex items-center gap-4 text-xs",children:[m.jsx("img",{src:"https://i.postimg.cc/8PDn1wfM/favicon.png",alt:"Logo",className:"h-16 w-16 object-contain"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold",children:"CNG TY C PHN T VN V GIO DC NINH BNH"}),m.jsx("p",{children:"a ch: ng Triu Vit Vng, phng Hoa L, tnh Ninh Bnh "})]})]})]})]})},SNe=({quiz:t,userAnswers:e,score:r,onRetry:n,onBack:i,userName:s})=>{const[a,o]=C.useState("all"),[l]=C.useState(()=>new Date),u=t.questions.length,d=r>=25,f=C.useMemo(()=>new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(l),[l]),g=C.useMemo(()=>a==="incorrect"?t.questions.filter(v=>e[v.id]!==v.correctAnswerId):t.questions,[a,t.questions,e]);return m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right font-quiz-default",children:[m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 text-center mb-8",children:[m.jsx(gQ,{className:"h-24 w-24 mx-auto text-yellow-400 mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Kt qu Thi th"}),m.jsxs("div",{className:"my-4 text-muted-foreground",children:[m.jsxs("p",{className:"text-lg",children:["Th sinh: ",m.jsx("span",{className:"font-bold text-primary",children:s})]}),m.jsxs("p",{className:"text-sm",children:["Hon thnh lc: ",f]})]}),m.jsx("p",{className:`text-2xl font-bold mb-6 ${d?"text-success":"text-destructive"}`,children:d?"Chc mng, anh/ch  T!":"Rt tic, anh/ch KHNG T."}),m.jsxs("div",{className:`inline-block p-6 rounded-xl border ${d?"bg-success/10 border-success/20":"bg-destructive/10 border-destructive/20"}`,children:[m.jsxs("p",{className:`text-5xl font-extrabold ${d?"text-success":"text-destructive"}`,children:[r," / ",u]}),m.jsx("p",{className:"text-lg text-muted-foreground mt-1",children:"S cu ng"})]})]}),m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Xem li bi lm"}),m.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="all"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:"Tt c"}),m.jsxs("button",{onClick:()=>o("incorrect"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="incorrect"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:["Ch cu sai (",t.questions.length-r,")"]})]})]}),m.jsx("div",{className:"space-y-6 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map((v,x)=>{const b=e[v.id],w=v.correctAnswerId;return m.jsxs("div",{className:"p-4 border-b border-border last:border-b-0",children:[m.jsxs("p",{className:"font-semibold text-lg mb-3 text-foreground",children:[m.jsxs("span",{className:"mr-2",children:["Cu ",t.questions.findIndex(E=>E.id===v.id)+1,":"]}),v.text]}),v.image&&m.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:m.jsx("img",{src:v.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),m.jsx("div",{className:"space-y-2",children:v.answers.map(E=>{const k=E.id===b,A=E.id===w;let O="flex items-center p-3 rounded-md text-sm ";return A?O+="bg-success/10 text-success":k?O+="bg-destructive/10 text-destructive":O+="bg-muted/50 text-muted-foreground",m.jsxs("div",{className:O,children:[A?m.jsx(uR,{className:"h-5 w-5 mr-3 text-success"}):k?m.jsx(dR,{className:"h-5 w-5 mr-3 text-destructive"}):m.jsx("div",{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:E.text})]},E.id)})})]},v.id)}):m.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tuyt vi! Anh/ch  tr li ng tt c cc cu hi."})})]}),m.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[m.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold py-3 px-8 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Quay li"}),m.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold py-3 px-8 rounded-lg hover:bg-muted focus:outline-none focus:ring-4 focus:ring-ring transition-colors duration-300",children:"Lm li bi thi"})]})]})},kNe=({quiz:t,userAnswers:e,score:r,onRetry:n,onBack:i,userName:s})=>{const[a,o]=C.useState("all"),[l]=C.useState(()=>new Date),u=t.questions.length,d=u>0?Math.round(r/u*100):0,f=C.useMemo(()=>new Intl.DateTimeFormat("vi-VN",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(l),[l]),g=C.useMemo(()=>a==="incorrect"?t.questions.filter(v=>e[v.id]!==v.correctAnswerId):t.questions,[a,t.questions,e]);return m.jsxs("div",{className:"w-full max-w-4xl mx-auto p-4 animate-slide-in-right font-quiz-default",children:[m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8 text-center mb-8",children:[m.jsx(gQ,{className:"h-24 w-24 mx-auto text-yellow-400 mb-4"}),m.jsx("h1",{className:"text-4xl font-bold text-foreground mb-2",children:"Kt qu n tp"}),m.jsxs("div",{className:"my-4 text-muted-foreground",children:[m.jsxs("p",{className:"text-lg",children:["Hc vin: ",m.jsx("span",{className:"font-bold text-primary",children:s})]}),m.jsxs("p",{className:"text-sm",children:["Hon thnh lc: ",f]})]}),m.jsxs("div",{className:"bg-primary/10 inline-block p-6 rounded-xl border border-primary/20 mt-4",children:[m.jsxs("p",{className:"text-5xl font-extrabold text-primary",children:[r," / ",u]}),m.jsxs("p",{className:"text-2xl font-semibold text-primary/80 mt-1",children:["(",d,"%)"]})]})]}),m.jsxs("div",{className:"bg-card text-card-foreground rounded-2xl shadow-xl p-8",children:[m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mb-6",children:[m.jsx("h2",{className:"text-2xl font-bold text-foreground",children:"Xem li bi lm"}),m.jsxs("div",{className:"flex items-center gap-2 mt-4 sm:mt-0",children:[m.jsx("button",{onClick:()=>o("all"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="all"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:"Tt c"}),m.jsxs("button",{onClick:()=>o("incorrect"),className:`px-4 py-2 text-sm font-semibold rounded-md transition-colors ${a==="incorrect"?"bg-primary text-primary-foreground":"bg-secondary text-secondary-foreground"}`,children:["Ch cu sai (",t.questions.length-r,")"]})]})]}),m.jsx("div",{className:"space-y-6 max-h-[50vh] overflow-y-auto pr-2",children:g.length>0?g.map((v,x)=>{const b=e[v.id],w=v.correctAnswerId;return m.jsxs("div",{className:"p-4 border-b border-border last:border-b-0",children:[m.jsxs("p",{className:"font-semibold text-lg mb-3 text-foreground",children:[m.jsxs("span",{className:"mr-2",children:["Cu ",t.questions.findIndex(E=>E.id===v.id)+1,":"]}),v.text]}),v.image&&m.jsx("div",{className:"mb-4 rounded-lg overflow-hidden",children:m.jsx("img",{src:v.image,alt:"Cu hi",className:"w-full h-auto object-cover max-h-80"})}),m.jsx("div",{className:"space-y-2",children:v.answers.map(E=>{const k=E.id===b,A=E.id===w;let O="flex items-center p-3 rounded-md text-sm ";return A?O+="bg-success/10 text-success":k?O+="bg-destructive/10 text-destructive":O+="bg-muted/50 text-muted-foreground",m.jsxs("div",{className:O,children:[A?m.jsx(uR,{className:"h-5 w-5 mr-3 text-success"}):k?m.jsx(dR,{className:"h-5 w-5 mr-3 text-destructive"}):m.jsx("div",{className:"w-5 h-5 mr-3"}),m.jsx("span",{children:E.text})]},E.id)})})]},v.id)}):m.jsx("p",{className:"text-center text-muted-foreground py-8",children:"Tuyt vi! Anh/ch  tr li ng tt c cc cu hi."})})]}),m.jsxs("div",{className:"text-center mt-8 flex flex-col sm:flex-row justify-center items-center gap-4",children:[m.jsx("button",{onClick:i,className:"w-full sm:w-auto bg-primary text-primary-foreground font-bold py-3 px-8 rounded-lg hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105",children:"Cc mn khc"}),m.jsx("button",{onClick:n,className:"w-full sm:w-auto bg-secondary text-secondary-foreground font-bold py-3 px-8 rounded-lg hover:bg-muted focus:outline-none focus:ring-4 focus:ring-ring transition-colors duration-300",children:"Lm li"})]})]})},ANe="_card_108q9_3",CNe="_header_108q9_45",NNe="_logoPlaceholder_108q9_69",INe="_schoolName_108q9_97",ONe="_body_108q9_113",RNe="_cardTitle_108q9_135",PNe="_contentRow_108q9_157",jNe="_photoSection_108q9_169",DNe="_photoWrapper_108q9_179",MNe="_avatar_108q9_195",LNe="_infoSection_108q9_209",FNe="_infoRow_108q9_229",BNe="_label_108q9_239",VNe="_value_108q9_255",UNe="_valueHighlight_108q9_265",zNe="_footer_108q9_281",$Ne="_barcode_108q9_299",sn={card:ANe,header:CNe,logoPlaceholder:NNe,schoolName:INe,body:ONe,cardTitle:RNe,contentRow:PNe,photoSection:jNe,photoWrapper:DNe,avatar:MNe,infoSection:LNe,infoRow:FNe,label:BNe,value:VNe,valueHighlight:UNe,footer:zNe,barcode:$Ne},HNe=t=>{if(!t)return" --/--/----";if(/^\d{2}\/\d{2}\/\d{4}$/.test(t))return t;if(/^\d{4}-\d{2}-\d{2}$/.test(t)){const[e,r,n]=t.split("-");return`${n}/${r}/${e}`}return t},qNe=({user:t})=>{const e=t.role!=="hoc_vien",r=e?"TH GIO VIN":"TH HC VIN",n=e?{background:"linear-gradient(135deg, #b91c1c 0%, #c2410c 100%)",borderBottom:"4px solid #fcd34d"}:{},i=e?{color:"#b91c1c",textShadow:"0px 1px 2px rgba(0,0,0,0.1)"}:{};return m.jsxs("div",{className:sn.card,style:e?{borderColor:"#fcd34d",boxShadow:"0 10px 25px -5px rgba(234, 88, 12, 0.3)"}:{},children:[m.jsxs("div",{className:sn.header,style:n,children:[m.jsx("div",{className:sn.logoPlaceholder,style:e?{color:"#fbbf24",background:"rgba(255,255,255,0.2)"}:{},children:m.jsx(Qke,{size:20})}),m.jsxs("div",{className:sn.schoolName,style:e?{color:"#fff",fontWeight:"800"}:{},children:["Cng ty C phn",m.jsx("br",{}),"T VN V GIO DC NINH BNH"]})]}),m.jsxs("div",{className:sn.body,children:[m.jsx("h2",{className:sn.cardTitle,style:i,children:r}),m.jsxs("div",{className:sn.contentRow,children:[m.jsx("div",{className:sn.photoSection,children:m.jsx("div",{className:sn.photoWrapper,style:e?{borderColor:"#fcd34d"}:{},children:m.jsx("img",{src:t.photoURL||(e?"/assets/img/avatar.webp":"/assets/img/avatar1.webp"),onError:s=>{const a=s.target;a.onerror=null,a.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(t.full_name||"User")}&background=random&size=150`},alt:"Avatar",className:sn.avatar})})}),m.jsxs("div",{className:sn.infoSection,children:[m.jsxs("div",{className:sn.infoRow,children:[m.jsx("span",{className:sn.label,children:"H tn:"}),m.jsxs("span",{className:`${sn.value} ${sn.valueHighlight}`,style:e?{color:"#b91c1c"}:{},children:[t.full_name||t.fullName||"---",t.isVerified&&m.jsx("span",{style:{marginLeft:"4px",color:"#22c55e",display:"inline-flex",alignItems:"center"},children:m.jsx(vd,{size:14})})]})]}),m.jsxs("div",{className:sn.infoRow,children:[m.jsx("span",{className:sn.label,children:"Ngy sinh: "}),m.jsxs("span",{className:sn.value,children:[" ",HNe(t.birthDate)]})]}),e?m.jsxs("div",{className:sn.infoRow,children:[m.jsx("span",{className:sn.label,children:"Phng: "}),m.jsx("span",{className:sn.value,style:{fontWeight:"bold"},children:" Phng o to - T vn hnh my tu thy"})]}):m.jsxs("div",{className:sn.infoRow,children:[m.jsx("span",{className:sn.label,children:"Lp hc: "}),m.jsx("span",{className:sn.value,children:t.courseName||"Cha vo kha"})]}),m.jsxs("div",{className:sn.infoRow,children:[m.jsx("span",{className:sn.label,children:"a ch:"}),m.jsx("span",{className:sn.value,style:{fontSize:"0.9rem"},children:t.address||"---"})]})]})]})]}),m.jsxs("div",{className:sn.footer,style:e?{background:"#fef2f2",borderTop:"1px dashed #fca5a5"}:{},children:[m.jsx("div",{className:sn.barcode,style:e?{opacity:.8}:{}}),m.jsxs("div",{style:{position:"absolute",bottom:"5px",fontSize:"0.6rem",color:e?"#991b1b":"#718096"},children:["ID: ",t.id?t.id.substring(0,10).toUpperCase():"---"]})]})]})},Ly=({label:t,count:e,color:r})=>m.jsxs("div",{className:"bg-white dark:bg-zinc-900 border border-gray-200 dark:border-zinc-800 p-4 rounded-xl shadow-sm flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500 uppercase font-semibold",children:t}),m.jsx("p",{className:"text-2xl font-bold text-gray-900 dark:text-gray-100",children:e})]}),m.jsx("div",{className:`w-3 h-3 rounded-full ${r} animate-pulse`})]}),WNe=({userRole:t})=>{if(!["admin","quan_ly","lanh_dao"].includes(t))return null;const[e,r]=C.useState({total:0,admins:0,teachers:0,students:0}),[n,i]=C.useState(0);return C.useEffect(()=>{if(!oa)return;const s=fo(oa,"status"),a=nx(s,o=>{if(!o.exists()){r({total:0,admins:0,teachers:0,students:0});return}const l=o.val();let u=0,d=0,f=0,g=0,v=0;Object.values(l).forEach(x=>{x.state==="online"&&(u++,["admin","quan_ly","lanh_dao"].includes(x.role)?d++:x.role==="giao_vien"?f++:x.role==="guest"?v++:g++)}),r({total:u,admins:d,teachers:f,students:g}),i(v)});return()=>a()},[]),m.jsxs(xg.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4 grid grid-cols-2 md:grid-cols-5 gap-4",children:[m.jsx(Ly,{label:"Trc tuyn",count:e.total,color:"bg-blue-600"}),m.jsx(Ly,{label:"Khch",count:n,color:"bg-gray-500"}),m.jsx(Ly,{label:"Hc vin",count:e.students,color:"bg-green-600"}),m.jsx(Ly,{label:"Gio vin",count:e.teachers,color:"bg-orange-600"}),m.jsx(Ly,{label:"Qun l",count:e.admins,color:"bg-purple-600"})]})};function Ere(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=Ere(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function Hr(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=Ere(t))&&(n&&(n+=" "),n+=e);return n}var GNe=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function o8(t){if(typeof t!="string")return!1;var e=GNe;return e.includes(t)}var KNe=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],YNe=new Set(KNe);function Tre(t){return typeof t!="string"?!1:YNe.has(t)}function Sre(t){return typeof t=="string"&&t.startsWith("data-")}function Ko(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Tre(r)||Sre(r))&&(e[r]=t[r]);return e}function zg(t){if(t==null)return null;if(C.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return Ko(e)}return typeof t=="object"&&!Array.isArray(t)?Ko(t):null}function Wa(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(Tre(r)||Sre(r)||o8(r))&&(e[r]=t[r]);return e}function XNe(t){return t==null?null:C.isValidElement(t)?Wa(t.props):typeof t=="object"&&!Array.isArray(t)?Wa(t):null}var QNe=["children","width","height","viewBox","className","style","title","desc"];function l6(){return l6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},l6.apply(null,arguments)}function JNe(t,e){if(t==null)return{};var r,n,i=ZNe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ZNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var l8=C.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:s,className:a,style:o,title:l,desc:u}=t,d=JNe(t,QNe),f=s||{width:n,height:i,x:0,y:0},g=Hr("recharts-surface",a);return C.createElement("svg",l6({},Wa(d),{className:g,width:n,height:i,style:o,viewBox:"".concat(f.x," ").concat(f.y," ").concat(f.width," ").concat(f.height),ref:e}),C.createElement("title",null,l),C.createElement("desc",null,u),r)}),e5e=["children","className"];function c6(){return c6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},c6.apply(null,arguments)}function t5e(t,e){if(t==null)return{};var r,n,i=r5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function r5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var ca=C.forwardRef((t,e)=>{var{children:r,className:n}=t,i=t5e(t,e5e),s=Hr("recharts-layer",n);return C.createElement("g",c6({className:s},Wa(i),{ref:e}),r)}),kre=C.createContext(null),n5e=()=>C.useContext(kre);function Dn(t){return function(){return t}}const Are=Math.cos,qE=Math.sin,Tc=Math.sqrt,WE=Math.PI,f4=2*WE,u6=Math.PI,d6=2*u6,a0=1e-6,i5e=d6-a0;function Cre(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function s5e(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return Cre;const r=10**e;return function(n){this._+=n[0];for(let i=1,s=n.length;i<s;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class a5e{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?Cre:s5e(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,s,a){this._append`C${+e},${+r},${+n},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,r,n,i,s){if(e=+e,r=+r,n=+n,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=n-e,u=i-r,d=a-e,f=o-r,g=d*d+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>a0)if(!(Math.abs(f*l-u*d)>a0)||!s)this._append`L${this._x1=e},${this._y1=r}`;else{let v=n-a,x=i-o,b=l*l+u*u,w=v*v+x*x,E=Math.sqrt(b),k=Math.sqrt(g),A=s*Math.tan((u6-Math.acos((b+g-w)/(2*E*k)))/2),O=A/k,P=A/E;Math.abs(O-1)>a0&&this._append`L${e+O*d},${r+O*f}`,this._append`A${s},${s},0,0,${+(f*v>d*x)},${this._x1=e+P*l},${this._y1=r+P*u}`}}arc(e,r,n,i,s,a){if(e=+e,r=+r,n=+n,a=!!a,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),l=n*Math.sin(i),u=e+o,d=r+l,f=1^a,g=a?i-s:s-i;this._x1===null?this._append`M${u},${d}`:(Math.abs(this._x1-u)>a0||Math.abs(this._y1-d)>a0)&&this._append`L${u},${d}`,n&&(g<0&&(g=g%d6+d6),g>i5e?this._append`A${n},${n},0,1,${f},${e-o},${r-l}A${n},${n},0,1,${f},${this._x1=u},${this._y1=d}`:g>a0&&this._append`A${n},${n},0,${+(g>=u6)},${f},${this._x1=e+n*Math.cos(s)},${this._y1=r+n*Math.sin(s)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function c8(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new a5e(e)}function u8(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function Nre(t){this._context=t}Nre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function m4(t){return new Nre(t)}function Ire(t){return t[0]}function Ore(t){return t[1]}function Rre(t,e){var r=Dn(!0),n=null,i=m4,s=null,a=c8(o);t=typeof t=="function"?t:t===void 0?Ire:Dn(t),e=typeof e=="function"?e:e===void 0?Ore:Dn(e);function o(l){var u,d=(l=u8(l)).length,f,g=!1,v;for(n==null&&(s=i(v=a())),u=0;u<=d;++u)!(u<d&&r(f=l[u],u,l))===g&&((g=!g)?s.lineStart():s.lineEnd()),g&&s.point(+t(f,u,l),+e(f,u,l));if(v)return s=null,v+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Dn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Dn(+l),o):e},o.defined=function(l){return arguments.length?(r=typeof l=="function"?l:Dn(!!l),o):r},o.curve=function(l){return arguments.length?(i=l,n!=null&&(s=i(n)),o):i},o.context=function(l){return arguments.length?(l==null?n=s=null:s=i(n=l),o):n},o}function B_(t,e,r){var n=null,i=Dn(!0),s=null,a=m4,o=null,l=c8(u);t=typeof t=="function"?t:t===void 0?Ire:Dn(+t),e=typeof e=="function"?e:Dn(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?Ore:Dn(+r);function u(f){var g,v,x,b=(f=u8(f)).length,w,E=!1,k,A=new Array(b),O=new Array(b);for(s==null&&(o=a(k=l())),g=0;g<=b;++g){if(!(g<b&&i(w=f[g],g,f))===E)if(E=!E)v=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),x=g-1;x>=v;--x)o.point(A[x],O[x]);o.lineEnd(),o.areaEnd()}E&&(A[g]=+t(w,g,f),O[g]=+e(w,g,f),o.point(n?+n(w,g,f):A[g],r?+r(w,g,f):O[g]))}if(k)return o=null,k+""||null}function d(){return Rre().defined(i).curve(a).context(s)}return u.x=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),n=null,u):t},u.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Dn(+f),u):t},u.x1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Dn(+f),u):n},u.y=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),r=null,u):e},u.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Dn(+f),u):e},u.y1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Dn(+f),u):r},u.lineX0=u.lineY0=function(){return d().x(t).y(e)},u.lineY1=function(){return d().x(t).y(r)},u.lineX1=function(){return d().x(n).y(e)},u.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Dn(!!f),u):i},u.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),u):a},u.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),u):s},u}class Pre{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function o5e(t){return new Pre(t,!0)}function l5e(t){return new Pre(t,!1)}const d8={draw(t,e){const r=Tc(e/WE);t.moveTo(r,0),t.arc(0,0,r,0,f4)}},c5e={draw(t,e){const r=Tc(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},jre=Tc(1/3),u5e=jre*2,d5e={draw(t,e){const r=Tc(e/u5e),n=r*jre;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},h5e={draw(t,e){const r=Tc(e),n=-r/2;t.rect(n,n,r,r)}},f5e=.8908130915292852,Dre=qE(WE/10)/qE(7*WE/10),m5e=qE(f4/10)*Dre,p5e=-Are(f4/10)*Dre,g5e={draw(t,e){const r=Tc(e*f5e),n=m5e*r,i=p5e*r;t.moveTo(0,-r),t.lineTo(n,i);for(let s=1;s<5;++s){const a=f4*s/5,o=Are(a),l=qE(a);t.lineTo(l*r,-o*r),t.lineTo(o*n-l*i,l*n+o*i)}t.closePath()}},w3=Tc(3),v5e={draw(t,e){const r=-Tc(e/(w3*3));t.moveTo(0,r*2),t.lineTo(-w3*r,-r),t.lineTo(w3*r,-r),t.closePath()}},ul=-.5,dl=Tc(3)/2,h6=1/Tc(12),y5e=(h6/2+1)*3,x5e={draw(t,e){const r=Tc(e/y5e),n=r/2,i=r*h6,s=n,a=r*h6+r,o=-s,l=a;t.moveTo(n,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(ul*n-dl*i,dl*n+ul*i),t.lineTo(ul*s-dl*a,dl*s+ul*a),t.lineTo(ul*o-dl*l,dl*o+ul*l),t.lineTo(ul*n+dl*i,ul*i-dl*n),t.lineTo(ul*s+dl*a,ul*a-dl*s),t.lineTo(ul*o+dl*l,ul*l-dl*o),t.closePath()}};function b5e(t,e){let r=null,n=c8(i);t=typeof t=="function"?t:Dn(t||d8),e=typeof e=="function"?e:Dn(e===void 0?64:+e);function i(){let s;if(r||(r=s=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),s)return r=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Dn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Dn(+s),i):e},i.context=function(s){return arguments.length?(r=s??null,i):r},i}function GE(){}function KE(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function Mre(t){this._context=t}Mre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:KE(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:KE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function w5e(t){return new Mre(t)}function Lre(t){this._context=t}Lre.prototype={areaStart:GE,areaEnd:GE,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:KE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function _5e(t){return new Lre(t)}function Fre(t){this._context=t}Fre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:KE(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function E5e(t){return new Fre(t)}function Bre(t){this._context=t}Bre.prototype={areaStart:GE,areaEnd:GE,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function T5e(t){return new Bre(t)}function Pz(t){return t<0?-1:1}function jz(t,e,r){var n=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(n||i<0&&-0),a=(r-t._y1)/(i||n<0&&-0),o=(s*i+a*n)/(n+i);return(Pz(s)+Pz(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function Dz(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function _3(t,e,r){var n=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-n)/3;t._context.bezierCurveTo(n+o,i+o*e,s-o,a-o*r,s,a)}function YE(t){this._context=t}YE.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:_3(this,this._t0,Dz(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,_3(this,Dz(this,r=jz(this,t,e)),r);break;default:_3(this,this._t0,r=jz(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function Vre(t){this._context=new Ure(t)}(Vre.prototype=Object.create(YE.prototype)).point=function(t,e){YE.prototype.point.call(this,e,t)};function Ure(t){this._context=t}Ure.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,s){this._context.bezierCurveTo(e,t,n,r,s,i)}};function S5e(t){return new YE(t)}function k5e(t){return new Vre(t)}function zre(t){this._context=t}zre.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=Mz(t),i=Mz(e),s=0,a=1;a<r;++s,++a)this._context.bezierCurveTo(n[0][s],i[0][s],n[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function Mz(t){var e,r=t.length-1,n,i=new Array(r),s=new Array(r),a=new Array(r);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,s[r-1]=7,a[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/s[e-1],s[e]-=n,a[e]-=n*a[e-1];for(i[r-1]=a[r-1]/s[r-1],e=r-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function A5e(t){return new zre(t)}function p4(t,e){this._context=t,this._t=e}p4.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function C5e(t){return new p4(t,.5)}function N5e(t){return new p4(t,0)}function I5e(t){return new p4(t,1)}function X0(t,e){if((a=t.length)>1)for(var r=1,n,i,s=t[e[0]],a,o=s.length;r<a;++r)for(i=s,s=t[e[r]],n=0;n<o;++n)s[n][1]+=s[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function f6(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function O5e(t,e){return t[e]}function R5e(t){const e=[];return e.key=t,e}function P5e(){var t=Dn([]),e=f6,r=X0,n=O5e;function i(s){var a=Array.from(t.apply(this,arguments),R5e),o,l=a.length,u=-1,d;for(const f of s)for(o=0,++u;o<l;++o)(a[o][u]=[0,+n(f,a[o].key,u,s)]).data=f;for(o=0,d=u8(e(a));o<l;++o)a[d[o]].index=o;return r(a,d),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Dn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(n=typeof s=="function"?s:Dn(+s),i):n},i.order=function(s){return arguments.length?(e=s==null?f6:typeof s=="function"?s:Dn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(r=s??X0,i):r},i}function j5e(t,e){if((n=t.length)>0){for(var r,n,i=0,s=t[0].length,a;i<s;++i){for(a=r=0;r<n;++r)a+=t[r][i][1]||0;if(a)for(r=0;r<n;++r)t[r][i][1]/=a}X0(t,e)}}function D5e(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,s=n.length;r<s;++r){for(var a=0,o=0;a<i;++a)o+=t[a][r][1]||0;n[r][1]+=n[r][0]=-o/2}X0(t,e)}}function M5e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,s,a;n<s;++n){for(var o=0,l=0,u=0;o<a;++o){for(var d=t[e[o]],f=d[n][1]||0,g=d[n-1][1]||0,v=(f-g)/2,x=0;x<o;++x){var b=t[e[x]],w=b[n][1]||0,E=b[n-1][1]||0;v+=w-E}l+=f,u+=v*f}i[n-1][1]+=i[n-1][0]=r,l&&(r-=u/l)}i[n-1][1]+=i[n-1][0]=r,X0(t,e)}}var E3={},T3={},Lz;function L5e(){return Lz||(Lz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(T3)),T3}var S3={},Fz;function $re(){return Fz||(Fz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(S3)),S3}var k3={},Bz;function h8(){return Bz||(Bz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var n;return typeof r=="string"||typeof r=="symbol"?r:Object.is((n=r==null?void 0:r.valueOf)==null?void 0:n.call(r),-0)?"-0":String(r)}t.toKey=e})(k3)),k3}var A3={},C3={},Vz;function F5e(){return Vz||(Vz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(C3)),C3}var Uz;function f8(){return Uz||(Uz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=F5e(),r=h8();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const s=[],a=i.length;if(a===0)return s;let o=0,l="",u="",d=!1;for(i.charCodeAt(0)===46&&(s.push(""),o++);o<a;){const f=i[o];u?f==="\\"&&o+1<a?(o++,l+=i[o]):f===u?u="":l+=f:d?f==='"'||f==="'"?u=f:f==="]"?(d=!1,s.push(l),l=""):l+=f:f==="["?(d=!0,l&&(s.push(l),l="")):f==="."?l&&(s.push(l),l=""):l+=f,o++}return l&&s.push(l),s}t.toPath=n})(A3)),A3}var zz;function m8(){return zz||(zz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=L5e(),r=$re(),n=h8(),i=f8();function s(o,l,u){if(o==null)return u;switch(typeof l){case"string":{if(e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?r.isDeepKey(l)?s(o,i.toPath(l),u):u:d}case"number":case"symbol":{typeof l=="number"&&(l=n.toKey(l));const d=o[l];return d===void 0?u:d}default:{if(Array.isArray(l))return a(o,l,u);if(Object.is(l==null?void 0:l.valueOf(),-0)?l="-0":l=String(l),e.isUnsafeProperty(l))return u;const d=o[l];return d===void 0?u:d}}}function a(o,l,u){if(l.length===0)return u;let d=o;for(let f=0;f<l.length;f++){if(d==null||e.isUnsafeProperty(l[f]))return u;d=d[l[f]]}return d===void 0?u:d}t.get=s})(E3)),E3}var N3,$z;function B5e(){return $z||($z=1,N3=m8().get),N3}var V5e=B5e();const Q0=Jo(V5e);var U5e=4;function Ih(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:U5e,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function Ei(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,s,a)=>{var o=r[a-1];return typeof o=="string"?i+o+s:o!==void 0?i+Ih(o)+s:i+s},"")}var Aa=t=>t===0?0:t>0?1:-1,bc=t=>typeof t=="number"&&t!=+t,yd=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,bt=t=>(typeof t=="number"||t instanceof Number)&&!bc(t),ou=t=>bt(t)||typeof t=="string",z5e=0,lx=t=>{var e=++z5e;return"".concat(t||"").concat(e)},qo=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!bt(e)&&typeof e!="string")return n;var s;if(yd(e)){if(r==null)return n;var a=e.indexOf("%");s=r*parseFloat(e.slice(0,a))/100}else s=+e;return bc(s)&&(s=n),i&&r!=null&&s>r&&(s=r),s},Hre=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function ia(t,e,r){return bt(t)&&bt(e)?Ih(t+r*(e-t)):e}function qre(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):Q0(n,e))===r)}var Vs=t=>t===null||typeof t>"u",pb=t=>Vs(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function $5e(t){return t!=null}function gb(){}var H5e=["type","size","sizeType"];function m6(){return m6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},m6.apply(null,arguments)}function Hz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qz(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Hz(Object(r),!0).forEach(function(n){q5e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Hz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q5e(t,e,r){return(e=W5e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W5e(t){var e=G5e(t,"string");return typeof e=="symbol"?e:e+""}function G5e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function K5e(t,e){if(t==null)return{};var r,n,i=Y5e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Y5e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Wre={symbolCircle:d8,symbolCross:c5e,symbolDiamond:d5e,symbolSquare:h5e,symbolStar:g5e,symbolTriangle:v5e,symbolWye:x5e},X5e=Math.PI/180,Q5e=t=>{var e="symbol".concat(pb(t));return Wre[e]||d8},J5e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*X5e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},Z5e=(t,e)=>{Wre["symbol".concat(pb(t))]=e},p8=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=K5e(t,H5e),s=qz(qz({},i),{},{type:e,size:r,sizeType:n}),a="circle";typeof e=="string"&&(a=e);var o=()=>{var g=Q5e(a),v=b5e().type(g).size(J5e(r,n,a)),x=v();if(x!==null)return x},{className:l,cx:u,cy:d}=s,f=Wa(s);return bt(u)&&bt(d)&&bt(r)?C.createElement("path",m6({},f,{className:Hr("recharts-symbols",l),transform:"translate(".concat(u,", ").concat(d,")"),d:o()})):null};p8.registerSymbol=Z5e;var Gre=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,g8=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(C.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{o8(i)&&(n[i]=(s=>r[i](r,s)))}),n},eIe=(t,e,r)=>n=>(t(e,r,n),null),v8=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var s=t[i];o8(i)&&typeof s=="function"&&(n||(n={}),n[i]=eIe(s,e,r))}),n};function Wz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wz(Object(r),!0).forEach(function(n){rIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rIe(t,e,r){return(e=nIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nIe(t){var e=iIe(t,"string");return typeof e=="symbol"?e:e+""}function iIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xs(t,e){var r=tIe({},t),n=e,i=Object.keys(e),s=i.reduce((a,o)=>(a[o]===void 0&&n[o]!==void 0&&(a[o]=n[o]),a),r);return s}function XE(){return XE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},XE.apply(null,arguments)}function Gz(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function sIe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Gz(Object(r),!0).forEach(function(n){aIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Gz(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function aIe(t,e,r){return(e=oIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function oIe(t){var e=lIe(t,"string");return typeof e=="symbol"?e:e+""}function lIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var xl=32,cIe={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function uIe(t){var{data:e,iconType:r,inactiveColor:n}=t,i=xl/2,s=xl/6,a=xl/3,o=e.inactive?n:e.color,l=r??e.type;if(l==="none")return null;if(l==="plainline"){var u;return C.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(u=e.payload)===null||u===void 0?void 0:u.strokeDasharray,x1:0,y1:i,x2:xl,y2:i,className:"recharts-legend-icon"})}if(l==="line")return C.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(a,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(2*a,",").concat(i,`
            H`).concat(xl,"M").concat(2*a,",").concat(i,`
            A`).concat(s,",").concat(s,",0,1,1,").concat(a,",").concat(i),className:"recharts-legend-icon"});if(l==="rect")return C.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(xl/8,"h").concat(xl,"v").concat(xl*3/4,"h").concat(-xl,"z"),className:"recharts-legend-icon"});if(C.isValidElement(e.legendIcon)){var d=sIe({},e);return delete d.legendIcon,C.cloneElement(e.legendIcon,d)}return C.createElement(p8,{fill:o,cx:i,cy:i,size:xl,sizeType:"diameter",type:l})}function dIe(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:s,iconType:a}=t,o={x:0,y:0,width:xl,height:xl},l={display:n==="horizontal"?"inline-block":"block",marginRight:10},u={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((d,f)=>{var g=d.formatter||i,v=Hr({"recharts-legend-item":!0,["legend-item-".concat(f)]:!0,inactive:d.inactive});if(d.type==="none")return null;var x=d.inactive?s:d.color,b=g?g(d.value,d,f):d.value;return C.createElement("li",XE({className:v,style:l,key:"legend-item-".concat(f)},v8(t,d,f)),C.createElement(l8,{width:r,height:r,viewBox:o,style:u,"aria-label":"".concat(b," legend icon")},C.createElement(uIe,{data:d,iconType:a,inactiveColor:s})),C.createElement("span",{className:"recharts-legend-item-text",style:{color:x}},b))})}var hIe=t=>{var e=xs(t,cIe),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var s={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return C.createElement("ul",{className:"recharts-default-legend",style:s},C.createElement(dIe,XE({},e,{payload:r})))},I3={},O3={},Kz;function fIe(){return Kz||(Kz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let s=0;s<r.length;s++){const a=r[s],o=n(a);i.has(o)||i.set(o,a)}return Array.from(i.values())}t.uniqBy=e})(O3)),O3}var R3={},Yz;function Kre(){return Yz||(Yz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(R3)),R3}var P3={},j3={},D3={},Xz;function mIe(){return Xz||(Xz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(D3)),D3}var Qz;function y8(){return Qz||(Qz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=mIe();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(j3)),j3}var M3={},Jz;function pIe(){return Jz||(Jz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(M3)),M3}var Zz;function gIe(){return Zz||(Zz=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y8(),r=pIe();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(P3)),P3}var L3={},F3={},e$;function vIe(){return e$||(e$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=m8();function r(n){return function(i){return e.get(i,n)}}t.property=r})(F3)),F3}var B3={},V3={},U3={},z3={},t$;function Yre(){return t$||(t$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(z3)),z3}var $3={},r$;function Xre(){return r$||(r$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})($3)),$3}var H3={},n$;function Qre(){return n$||(n$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.eq=e})(H3)),H3}var i$;function yIe(){return i$||(i$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Yre(),r=Xre(),n=Qre();function i(d,f,g){return typeof g!="function"?i(d,f,()=>{}):s(d,f,function v(x,b,w,E,k,A){const O=g(x,b,w,E,k,A);return O!==void 0?!!O:s(x,b,v,A)},new Map)}function s(d,f,g,v){if(f===d)return!0;switch(typeof f){case"object":return a(d,f,g,v);case"function":return Object.keys(f).length>0?s(d,{...f},g,v):n.eq(d,f);default:return e.isObject(d)?typeof f=="string"?f==="":!0:n.eq(d,f)}}function a(d,f,g,v){if(f==null)return!0;if(Array.isArray(f))return l(d,f,g,v);if(f instanceof Map)return o(d,f,g,v);if(f instanceof Set)return u(d,f,g,v);const x=Object.keys(f);if(d==null||r.isPrimitive(d))return x.length===0;if(x.length===0)return!0;if(v!=null&&v.has(f))return v.get(f)===d;v==null||v.set(f,d);try{for(let b=0;b<x.length;b++){const w=x[b];if(!r.isPrimitive(d)&&!(w in d)||f[w]===void 0&&d[w]!==void 0||f[w]===null&&d[w]!==null||!g(d[w],f[w],w,d,f,v))return!1}return!0}finally{v==null||v.delete(f)}}function o(d,f,g,v){if(f.size===0)return!0;if(!(d instanceof Map))return!1;for(const[x,b]of f.entries()){const w=d.get(x);if(g(w,b,x,d,f,v)===!1)return!1}return!0}function l(d,f,g,v){if(f.length===0)return!0;if(!Array.isArray(d))return!1;const x=new Set;for(let b=0;b<f.length;b++){const w=f[b];let E=!1;for(let k=0;k<d.length;k++){if(x.has(k))continue;const A=d[k];let O=!1;if(g(A,w,b,d,f,v)&&(O=!0),O){x.add(k),E=!0;break}}if(!E)return!1}return!0}function u(d,f,g,v){return f.size===0?!0:d instanceof Set?l([...d],[...f],g,v):!1}t.isMatchWith=i,t.isSetMatch=u})(U3)),U3}var s$;function Jre(){return s$||(s$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yIe();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(V3)),V3}var q3={},W3={},G3={},a$;function xIe(){return a$||(a$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(G3)),G3}var K3={},o$;function Zre(){return o$||(o$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(K3)),K3}var Y3={},l$;function ene(){return l$||(l$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",s="[object Arguments]",a="[object Symbol]",o="[object Date]",l="[object Map]",u="[object Set]",d="[object Array]",f="[object Function]",g="[object ArrayBuffer]",v="[object Object]",x="[object Error]",b="[object DataView]",w="[object Uint8Array]",E="[object Uint8ClampedArray]",k="[object Uint16Array]",A="[object Uint32Array]",O="[object BigUint64Array]",P="[object Int8Array]",j="[object Int16Array]",S="[object Int32Array]",I="[object BigInt64Array]",R="[object Float32Array]",D="[object Float64Array]";t.argumentsTag=s,t.arrayBufferTag=g,t.arrayTag=d,t.bigInt64ArrayTag=I,t.bigUint64ArrayTag=O,t.booleanTag=i,t.dataViewTag=b,t.dateTag=o,t.errorTag=x,t.float32ArrayTag=R,t.float64ArrayTag=D,t.functionTag=f,t.int16ArrayTag=j,t.int32ArrayTag=S,t.int8ArrayTag=P,t.mapTag=l,t.numberTag=n,t.objectTag=v,t.regexpTag=e,t.setTag=u,t.stringTag=r,t.symbolTag=a,t.uint16ArrayTag=k,t.uint32ArrayTag=A,t.uint8ArrayTag=w,t.uint8ClampedArrayTag=E})(Y3)),Y3}var X3={},c$;function bIe(){return c$||(c$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(X3)),X3}var u$;function tne(){return u$||(u$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=xIe(),r=Zre(),n=ene(),i=Xre(),s=bIe();function a(d,f){return o(d,void 0,d,new Map,f)}function o(d,f,g,v=new Map,x=void 0){const b=x==null?void 0:x(d,f,g,v);if(b!==void 0)return b;if(i.isPrimitive(d))return d;if(v.has(d))return v.get(d);if(Array.isArray(d)){const w=new Array(d.length);v.set(d,w);for(let E=0;E<d.length;E++)w[E]=o(d[E],E,g,v,x);return Object.hasOwn(d,"index")&&(w.index=d.index),Object.hasOwn(d,"input")&&(w.input=d.input),w}if(d instanceof Date)return new Date(d.getTime());if(d instanceof RegExp){const w=new RegExp(d.source,d.flags);return w.lastIndex=d.lastIndex,w}if(d instanceof Map){const w=new Map;v.set(d,w);for(const[E,k]of d)w.set(E,o(k,E,g,v,x));return w}if(d instanceof Set){const w=new Set;v.set(d,w);for(const E of d)w.add(o(E,void 0,g,v,x));return w}if(typeof Buffer<"u"&&Buffer.isBuffer(d))return d.subarray();if(s.isTypedArray(d)){const w=new(Object.getPrototypeOf(d)).constructor(d.length);v.set(d,w);for(let E=0;E<d.length;E++)w[E]=o(d[E],E,g,v,x);return w}if(d instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&d instanceof SharedArrayBuffer)return d.slice(0);if(d instanceof DataView){const w=new DataView(d.buffer.slice(0),d.byteOffset,d.byteLength);return v.set(d,w),l(w,d,g,v,x),w}if(typeof File<"u"&&d instanceof File){const w=new File([d],d.name,{type:d.type});return v.set(d,w),l(w,d,g,v,x),w}if(typeof Blob<"u"&&d instanceof Blob){const w=new Blob([d],{type:d.type});return v.set(d,w),l(w,d,g,v,x),w}if(d instanceof Error){const w=new d.constructor;return v.set(d,w),w.message=d.message,w.name=d.name,w.stack=d.stack,w.cause=d.cause,l(w,d,g,v,x),w}if(d instanceof Boolean){const w=new Boolean(d.valueOf());return v.set(d,w),l(w,d,g,v,x),w}if(d instanceof Number){const w=new Number(d.valueOf());return v.set(d,w),l(w,d,g,v,x),w}if(d instanceof String){const w=new String(d.valueOf());return v.set(d,w),l(w,d,g,v,x),w}if(typeof d=="object"&&u(d)){const w=Object.create(Object.getPrototypeOf(d));return v.set(d,w),l(w,d,g,v,x),w}return d}function l(d,f,g=d,v,x){const b=[...Object.keys(f),...e.getSymbols(f)];for(let w=0;w<b.length;w++){const E=b[w],k=Object.getOwnPropertyDescriptor(d,E);(k==null||k.writable)&&(d[E]=o(f[E],E,g,v,x))}}function u(d){switch(r.getTag(d)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=a,t.cloneDeepWithImpl=o,t.copyProperties=l})(W3)),W3}var d$;function wIe(){return d$||(d$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tne();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(q3)),q3}var h$;function _Ie(){return h$||(h$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jre(),r=wIe();function n(i){return i=r.cloneDeep(i),s=>e.isMatch(s,i)}t.matches=n})(B3)),B3}var Q3={},J3={},Z3={},f$;function EIe(){return f$||(f$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=tne(),r=ene();function n(i,s){return e.cloneDeepWith(i,(a,o,l,u)=>{const d=s==null?void 0:s(a,o,l,u);if(d!==void 0)return d;if(typeof i=="object")switch(Object.prototype.toString.call(i)){case r.numberTag:case r.stringTag:case r.booleanTag:{const f=new i.constructor(i==null?void 0:i.valueOf());return e.copyProperties(f,i),f}case r.argumentsTag:{const f={};return e.copyProperties(f,i),f.length=i.length,f[Symbol.iterator]=i[Symbol.iterator],f}default:return}})}t.cloneDeepWith=n})(Z3)),Z3}var m$;function TIe(){return m$||(m$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=EIe();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})(J3)),J3}var eN={},tN={},p$;function rne(){return p$||(p$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(tN)),tN}var rN={},g$;function SIe(){return g$||(g$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Zre();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(rN)),rN}var v$;function kIe(){return v$||(v$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$re(),r=rne(),n=SIe(),i=f8();function s(a,o){let l;if(Array.isArray(o)?l=o:typeof o=="string"&&e.isDeepKey(o)&&(a==null?void 0:a[o])==null?l=i.toPath(o):l=[o],l.length===0)return!1;let u=a;for(let d=0;d<l.length;d++){const f=l[d];if((u==null||!Object.hasOwn(u,f))&&!((Array.isArray(u)||n.isArguments(u))&&r.isIndex(f)&&f<u.length))return!1;u=u[f]}return!0}t.has=s})(eN)),eN}var y$;function AIe(){return y$||(y$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Jre(),r=h8(),n=TIe(),i=m8(),s=kIe();function a(o,l){switch(typeof o){case"object":{Object.is(o==null?void 0:o.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return l=n.cloneDeep(l),function(u){const d=i.get(u,o);return d===void 0?s.has(u,o):l===void 0?d===void 0:e.isMatch(d,l)}}t.matchesProperty=a})(Q3)),Q3}var x$;function CIe(){return x$||(x$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Kre(),r=vIe(),n=_Ie(),i=AIe();function s(a){if(a==null)return e.identity;switch(typeof a){case"function":return a;case"object":return Array.isArray(a)&&a.length===2?i.matchesProperty(a[0],a[1]):n.matches(a);case"string":case"symbol":case"number":return r.property(a)}}t.iteratee=s})(L3)),L3}var b$;function NIe(){return b$||(b$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fIe(),r=Kre(),n=gIe(),i=CIe();function s(a,o=r.identity){return n.isArrayLikeObject(a)?e.uniqBy(Array.from(a),i.iteratee(o)):[]}t.uniqBy=s})(I3)),I3}var nN,w$;function IIe(){return w$||(w$=1,nN=NIe().uniqBy),nN}var OIe=IIe();const _$=Jo(OIe);function nne(t,e,r){return e===!0?_$(t,r):typeof e=="function"?_$(t,e):t}var iN={exports:{}},sN={},aN={exports:{}},oN={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E$;function RIe(){if(E$)return oN;E$=1;var t=dm();function e(f,g){return f===g&&(f!==0||1/f===1/g)||f!==f&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,s=t.useLayoutEffect,a=t.useDebugValue;function o(f,g){var v=g(),x=n({inst:{value:v,getSnapshot:g}}),b=x[0].inst,w=x[1];return s(function(){b.value=v,b.getSnapshot=g,l(b)&&w({inst:b})},[f,v,g]),i(function(){return l(b)&&w({inst:b}),f(function(){l(b)&&w({inst:b})})},[f]),a(v),v}function l(f){var g=f.getSnapshot;f=f.value;try{var v=g();return!r(f,v)}catch{return!0}}function u(f,g){return g()}var d=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?u:o;return oN.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:d,oN}var T$;function PIe(){return T$||(T$=1,aN.exports=RIe()),aN.exports}/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var S$;function jIe(){if(S$)return sN;S$=1;var t=dm(),e=PIe();function r(u,d){return u===d&&(u!==0||1/u===1/d)||u!==u&&d!==d}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,s=t.useRef,a=t.useEffect,o=t.useMemo,l=t.useDebugValue;return sN.useSyncExternalStoreWithSelector=function(u,d,f,g,v){var x=s(null);if(x.current===null){var b={hasValue:!1,value:null};x.current=b}else b=x.current;x=o(function(){function E(j){if(!k){if(k=!0,A=j,j=g(j),v!==void 0&&b.hasValue){var S=b.value;if(v(S,j))return O=S}return O=j}if(S=O,n(A,j))return S;var I=g(j);return v!==void 0&&v(S,I)?(A=j,S):(A=j,O=I)}var k=!1,A,O,P=f===void 0?null:f;return[function(){return E(d())},P===null?void 0:function(){return E(P())}]},[d,f,g,v]);var w=i(u,x[0],x[1]);return a(function(){b.hasValue=!0,b.value=w},[w]),l(w),w},sN}var k$;function DIe(){return k$||(k$=1,iN.exports=jIe()),iN.exports}var MIe=DIe(),x8=C.createContext(null),LIe=t=>t,Ln=()=>{var t=C.useContext(x8);return t?t.store.dispatch:LIe},D2=()=>{},FIe=()=>D2,BIe=(t,e)=>t===e;function Et(t){var e=C.useContext(x8);return MIe.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:FIe,e?e.store.getState:D2,e?e.store.getState:D2,e?t:D2,BIe)}function VIe(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function UIe(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function zIe(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var A$=t=>Array.isArray(t)?t:[t];function $Ie(t){const e=Array.isArray(t[0])?t[0]:t;return zIe(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function HIe(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var qIe=class{constructor(t){this.value=t}deref(){return this.value}},WIe=typeof WeakRef<"u"?WeakRef:qIe,GIe=0,C$=1;function V_(){return{s:GIe,v:void 0,o:null,p:null}}function ine(t,e={}){let r=V_();const{resultEqualityCheck:n}=e;let i,s=0;function a(){var f;let o=r;const{length:l}=arguments;for(let g=0,v=l;g<v;g++){const x=arguments[g];if(typeof x=="function"||typeof x=="object"&&x!==null){let b=o.o;b===null&&(o.o=b=new WeakMap);const w=b.get(x);w===void 0?(o=V_(),b.set(x,o)):o=w}else{let b=o.p;b===null&&(o.p=b=new Map);const w=b.get(x);w===void 0?(o=V_(),b.set(x,o)):o=w}}const u=o;let d;if(o.s===C$)d=o.v;else if(d=t.apply(null,arguments),s++,n){const g=((f=i==null?void 0:i.deref)==null?void 0:f.call(i))??i;g!=null&&n(g,d)&&(d=g,s!==0&&s--),i=typeof d=="object"&&d!==null||typeof d=="function"?new WIe(d):d}return u.s=C$,u.v=d,d}return a.clearCache=()=>{r=V_(),a.resetResultsCount()},a.resultsCount=()=>s,a.resetResultsCount=()=>{s=0},a}function KIe(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let s=0,a=0,o,l={},u=i.pop();typeof u=="object"&&(l=u,u=i.pop()),VIe(u,`createSelector expects an output function after the inputs, but received: [${typeof u}]`);const d={...r,...l},{memoize:f,memoizeOptions:g=[],argsMemoize:v=ine,argsMemoizeOptions:x=[]}=d,b=A$(g),w=A$(x),E=$Ie(i),k=f(function(){return s++,u.apply(null,arguments)},...b),A=v(function(){a++;const P=HIe(E,arguments);return o=k.apply(null,P),o},...w);return Object.assign(A,{resultFunc:u,memoizedResultFunc:k,dependencies:E,dependencyRecomputations:()=>a,resetDependencyRecomputations:()=>{a=0},lastResult:()=>o,recomputations:()=>s,resetRecomputations:()=>{s=0},memoize:f,argsMemoize:v})};return Object.assign(n,{withTypes:()=>n}),n}var Ne=KIe(ine),YIe=Object.assign((t,e=Ne)=>{UIe(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(s=>t[s]);return e(n,(...s)=>s.reduce((a,o,l)=>(a[r[l]]=o,a),{}))},{withTypes:()=>YIe}),lN={},cN={},uN={},N$;function XIe(){return N$||(N$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,s)=>{if(n!==i){const a=e(n),o=e(i);if(a===o&&a===0){if(n<i)return s==="desc"?1:-1;if(n>i)return s==="desc"?-1:1}return s==="desc"?o-a:a-o}return 0};t.compareValues=r})(uN)),uN}var dN={},hN={},I$;function sne(){return I$||(I$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(hN)),hN}var O$;function QIe(){return O$||(O$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sne(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(s,a){return Array.isArray(s)?!1:typeof s=="number"||typeof s=="boolean"||s==null||e.isSymbol(s)?!0:typeof s=="string"&&(n.test(s)||!r.test(s))||a!=null&&Object.hasOwn(a,s)}t.isKey=i})(dN)),dN}var R$;function JIe(){return R$||(R$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=XIe(),r=QIe(),n=f8();function i(s,a,o,l){if(s==null)return[];o=l?void 0:o,Array.isArray(s)||(s=Object.values(s)),Array.isArray(a)||(a=a==null?[null]:[a]),a.length===0&&(a=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(v=>String(v));const u=(v,x)=>{let b=v;for(let w=0;w<x.length&&b!=null;++w)b=b[x[w]];return b},d=(v,x)=>x==null||v==null?x:typeof v=="object"&&"key"in v?Object.hasOwn(x,v.key)?x[v.key]:u(x,v.path):typeof v=="function"?v(x):Array.isArray(v)?u(x,v):typeof x=="object"?x[v]:x,f=a.map(v=>(Array.isArray(v)&&v.length===1&&(v=v[0]),v==null||typeof v=="function"||Array.isArray(v)||r.isKey(v)?v:{key:v,path:n.toPath(v)}));return s.map(v=>({original:v,criteria:f.map(x=>d(x,v))})).slice().sort((v,x)=>{for(let b=0;b<f.length;b++){const w=e.compareValues(v.criteria[b],x.criteria[b],o[b]);if(w!==0)return w}return 0}).map(v=>v.original)}t.orderBy=i})(cN)),cN}var fN={},P$;function ZIe(){return P$||(P$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],s=Math.floor(n),a=(o,l)=>{for(let u=0;u<o.length;u++){const d=o[u];Array.isArray(d)&&l<s?a(d,l+1):i.push(d)}};return a(r,0),i}t.flatten=e})(fN)),fN}var mN={},j$;function ane(){return j$||(j$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=rne(),r=y8(),n=Yre(),i=Qre();function s(a,o,l){return n.isObject(l)&&(typeof o=="number"&&r.isArrayLike(l)&&e.isIndex(o)&&o<l.length||typeof o=="string"&&o in l)?i.eq(l[o],a):!1}t.isIterateeCall=s})(mN)),mN}var D$;function e6e(){return D$||(D$=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=JIe(),r=ZIe(),n=ane();function i(s,...a){const o=a.length;return o>1&&n.isIterateeCall(s,a[0],a[1])?a=[]:o>2&&n.isIterateeCall(a[0],a[1],a[2])&&(a=[a[0]]),e.orderBy(s,r.flatten(a),["asc"])}t.sortBy=i})(lN)),lN}var pN,M$;function t6e(){return M$||(M$=1,pN=e6e().sortBy),pN}var r6e=t6e();const g4=Jo(r6e);var one=t=>t.legend.settings,n6e=t=>t.legend.size,i6e=t=>t.legend.payload,s6e=Ne([i6e,one],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?g4(n,r):n});function a6e(){return Et(s6e)}var U_=1;function lne(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=C.useState({height:0,left:0,top:0,width:0}),n=C.useCallback(i=>{if(i!=null){var s=i.getBoundingClientRect(),a={height:s.height,left:s.left,top:s.top,width:s.width};(Math.abs(a.height-e.height)>U_||Math.abs(a.left-e.left)>U_||Math.abs(a.top-e.top)>U_||Math.abs(a.width-e.width)>U_)&&r({height:a.height,left:a.left,top:a.top,width:a.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function ea(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var o6e=typeof Symbol=="function"&&Symbol.observable||"@@observable",L$=o6e,gN=()=>Math.random().toString(36).substring(7).split("").join("."),l6e={INIT:`@@redux/INIT${gN()}`,REPLACE:`@@redux/REPLACE${gN()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${gN()}`},QE=l6e;function b8(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function cne(t,e,r){if(typeof t!="function")throw new Error(ea(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(ea(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(ea(1));return r(cne)(t,e)}let n=t,i=e,s=new Map,a=s,o=0,l=!1;function u(){a===s&&(a=new Map,s.forEach((w,E)=>{a.set(E,w)}))}function d(){if(l)throw new Error(ea(3));return i}function f(w){if(typeof w!="function")throw new Error(ea(4));if(l)throw new Error(ea(5));let E=!0;u();const k=o++;return a.set(k,w),function(){if(E){if(l)throw new Error(ea(6));E=!1,u(),a.delete(k),s=null}}}function g(w){if(!b8(w))throw new Error(ea(7));if(typeof w.type>"u")throw new Error(ea(8));if(typeof w.type!="string")throw new Error(ea(17));if(l)throw new Error(ea(9));try{l=!0,i=n(i,w)}finally{l=!1}return(s=a).forEach(k=>{k()}),w}function v(w){if(typeof w!="function")throw new Error(ea(10));n=w,g({type:QE.REPLACE})}function x(){const w=f;return{subscribe(E){if(typeof E!="object"||E===null)throw new Error(ea(11));function k(){const O=E;O.next&&O.next(d())}return k(),{unsubscribe:w(k)}},[L$](){return this}}}return g({type:QE.INIT}),{dispatch:g,subscribe:f,getState:d,replaceReducer:v,[L$]:x}}function c6e(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:QE.INIT})>"u")throw new Error(ea(12));if(typeof r(void 0,{type:QE.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(ea(13))})}function une(t){const e=Object.keys(t),r={};for(let s=0;s<e.length;s++){const a=e[s];typeof t[a]=="function"&&(r[a]=t[a])}const n=Object.keys(r);let i;try{c6e(r)}catch(s){i=s}return function(a={},o){if(i)throw i;let l=!1;const u={};for(let d=0;d<n.length;d++){const f=n[d],g=r[f],v=a[f],x=g(v,o);if(typeof x>"u")throw o&&o.type,new Error(ea(14));u[f]=x,l=l||x!==v}return l=l||n.length!==Object.keys(a).length,l?u:a}}function JE(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function u6e(...t){return e=>(r,n)=>{const i=e(r,n);let s=()=>{throw new Error(ea(15))};const a={getState:i.getState,dispatch:(l,...u)=>s(l,...u)},o=t.map(l=>l(a));return s=JE(...o)(i.dispatch),{...i,dispatch:s}}}function dne(t){return b8(t)&&"type"in t&&typeof t.type=="string"}var hne=Symbol.for("immer-nothing"),F$=Symbol.for("immer-draftable"),Ga=Symbol.for("immer-state");function tc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var $o=Object,$g=$o.getPrototypeOf,ZE="constructor",v4="prototype",p6="configurable",eT="enumerable",M2="writable",cx="value",xd=t=>!!t&&!!t[Ga];function wc(t){var e;return t?fne(t)||y4(t)||!!t[F$]||!!((e=t[ZE])!=null&&e[F$])||x4(t)||b4(t):!1}var d6e=$o[v4][ZE].toString(),B$=new WeakMap;function fne(t){if(!t||!w8(t))return!1;const e=$g(t);if(e===null||e===$o[v4])return!0;const r=$o.hasOwnProperty.call(e,ZE)&&e[ZE];if(r===Object)return!0;if(!jp(r))return!1;let n=B$.get(r);return n===void 0&&(n=Function.toString.call(r),B$.set(r,n)),n===d6e}function vb(t,e,r=!0){yb(t)===0?(r?Reflect.ownKeys(t):$o.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function yb(t){const e=t[Ga];return e?e.type_:y4(t)?1:x4(t)?2:b4(t)?3:0}var V$=(t,e,r=yb(t))=>r===2?t.has(e):$o[v4].hasOwnProperty.call(t,e),g6=(t,e,r=yb(t))=>r===2?t.get(e):t[e],tT=(t,e,r,n=yb(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function h6e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var y4=Array.isArray,x4=t=>t instanceof Map,b4=t=>t instanceof Set,w8=t=>typeof t=="object",jp=t=>typeof t=="function",vN=t=>typeof t=="boolean",Vu=t=>t.copy_||t.base_,_8=t=>t.modified_?t.copy_:t.base_;function v6(t,e){if(x4(t))return new Map(t);if(b4(t))return new Set(t);if(y4(t))return Array[v4].slice.call(t);const r=fne(t);if(e===!0||e==="class_only"&&!r){const n=$o.getOwnPropertyDescriptors(t);delete n[Ga];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o[M2]===!1&&(o[M2]=!0,o[p6]=!0),(o.get||o.set)&&(n[a]={[p6]:!0,[M2]:!0,[eT]:o[eT],[cx]:t[a]})}return $o.create($g(t),n)}else{const n=$g(t);if(n!==null&&r)return{...t};const i=$o.create(n);return $o.assign(i,t)}}function E8(t,e=!1){return w4(t)||xd(t)||!wc(t)||(yb(t)>1&&$o.defineProperties(t,{set:z_,add:z_,clear:z_,delete:z_}),$o.freeze(t),e&&vb(t,(r,n)=>{E8(n,!0)},!1)),t}function f6e(){tc(2)}var z_={[cx]:f6e};function w4(t){return t===null||!w8(t)?!0:$o.isFrozen(t)}var rT="MapSet",y6="Patches",mne={};function Hg(t){const e=mne[t];return e||tc(0,t),e}var m6e=t=>!!mne[t],ux,pne=()=>ux,p6e=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:m6e(rT)?Hg(rT):void 0});function U$(t,e){e&&(t.patchPlugin_=Hg(y6),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function x6(t){b6(t),t.drafts_.forEach(g6e),t.drafts_=null}function b6(t){t===ux&&(ux=t.parent_)}var z$=t=>ux=p6e(ux,t);function g6e(t){const e=t[Ga];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function $$(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[Ga].modified_&&(x6(e),tc(4)),wc(t)&&(t=H$(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[Ga].base_,t,e)}else t=H$(e,r);return v6e(e,t,!0),x6(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==hne?t:void 0}function H$(t,e){if(w4(e))return e;const r=e[Ga];if(!r)return T8(e,t.handledSet_,t);if(!_4(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);yne(r,t)}return r.copy_}function v6e(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&E8(e,r)}function gne(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var _4=(t,e)=>t.scope_===e,y6e=[];function vne(t,e,r,n){const i=Vu(t),s=t.type_;if(n!==void 0&&g6(i,n,s)===e){tT(i,n,r,s);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;vb(i,(l,u)=>{if(xd(u)){const d=o.get(u)||[];d.push(l),o.set(u,d)}})}const a=t.draftLocations_.get(e)??y6e;for(const o of a)tT(i,o,r,s)}function x6e(t,e,r){t.callbacks_.push(function(i){var o;const s=e;if(!s||!_4(s,i))return;(o=i.mapSetPlugin_)==null||o.fixSetContents(s);const a=_8(s);vne(t,s.draft_??s,a,r),yne(s,i)})}function yne(t,e){var n;if(t.modified_&&!t.finalized_&&(t.type_===3||(((n=t.assigned_)==null?void 0:n.size)??0)>0)){const{patchPlugin_:i}=e;if(i){const s=i.getPath(t);s&&i.generatePatches_(t,s,e)}gne(t)}}function b6e(t,e,r){const{scope_:n}=t;if(xd(r)){const i=r[Ga];_4(i,n)&&i.callbacks_.push(function(){L2(t);const a=_8(i);vne(t,r,a,e)})}else wc(r)&&t.callbacks_.push(function(){const s=Vu(t);g6(s,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&T8(g6(t.copy_,e,t.type_),n.handledSet_,n)})}function T8(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||xd(t)||e.has(t)||!wc(t)||w4(t)||(e.add(t),vb(t,(n,i)=>{if(xd(i)){const s=i[Ga];if(_4(s,r)){const a=_8(s);tT(t,n,a,t.type_),gne(s)}}else wc(i)&&T8(i,e,r)})),t}function w6e(t,e){const r=y4(t),n={type_:r?1:0,scope_:e?e.scope_:pne(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,s=S8;r&&(i=[n],s=dx);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,[o,n]}var S8={get(t,e){if(e===Ga)return t;const r=Vu(t);if(!V$(r,e,t.type_))return _6e(t,r,e);const n=r[e];if(t.finalized_||!wc(n))return n;if(n===yN(t.base_,e)){L2(t);const i=t.type_===1?+e:e,s=_6(t.scope_,n,t,i);return t.copy_[i]=s}return n},has(t,e){return e in Vu(t)},ownKeys(t){return Reflect.ownKeys(Vu(t))},set(t,e,r){const n=xne(Vu(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=yN(Vu(t),e),s=i==null?void 0:i[Ga];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(h6e(r,i)&&(r!==void 0||V$(t.base_,e,t.type_)))return!0;L2(t),w6(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),b6e(t,e,r)),!0},deleteProperty(t,e){return L2(t),yN(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),w6(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Vu(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[M2]:!0,[p6]:t.type_!==1||e!=="length",[eT]:n[eT],[cx]:r[e]}},defineProperty(){tc(11)},getPrototypeOf(t){return $g(t.base_)},setPrototypeOf(){tc(12)}},dx={};vb(S8,(t,e)=>{dx[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}});dx.deleteProperty=function(t,e){return dx.set.call(this,t,e,void 0)};dx.set=function(t,e,r){return S8.set.call(this,t[0],e,r,t[0])};function yN(t,e){const r=t[Ga];return(r?Vu(r):t)[e]}function _6e(t,e,r){var i;const n=xne(e,r);return n?cx in n?n[cx]:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function xne(t,e){if(!(e in t))return;let r=$g(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=$g(r)}}function w6(t){t.modified_||(t.modified_=!0,t.parent_&&w6(t.parent_))}function L2(t){t.copy_||(t.assigned_=new Map,t.copy_=v6(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var E6e=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(jp(r)&&!jp(n)){const a=n;n=r;const o=this;return function(u=a,...d){return o.produce(u,f=>n.call(this,f,...d))}}jp(n)||tc(6),i!==void 0&&!jp(i)&&tc(7);let s;if(wc(r)){const a=z$(this),o=_6(a,r,void 0);let l=!0;try{s=n(o),l=!1}finally{l?x6(a):b6(a)}return U$(a,i),$$(s,a)}else if(!r||!w8(r)){if(s=n(r),s===void 0&&(s=r),s===hne&&(s=void 0),this.autoFreeze_&&E8(s,!0),i){const a=[],o=[];Hg(y6).generateReplacementPatches_(r,s,{patches_:a,inversePatches_:o}),i(a,o)}return s}else tc(1,r)},this.produceWithPatches=(r,n)=>{if(jp(r))return(o,...l)=>this.produceWithPatches(o,u=>r(u,...l));let i,s;return[this.produce(r,n,(o,l)=>{i=o,s=l}),i,s]},vN(e==null?void 0:e.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),vN(e==null?void 0:e.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),vN(e==null?void 0:e.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){wc(e)||tc(8),xd(e)&&(e=hc(e));const r=z$(this),n=_6(r,e,void 0);return n[Ga].isManual_=!0,b6(r),n}finishDraft(e,r){const n=e&&e[Ga];(!n||!n.isManual_)&&tc(9);const{scope_:i}=n;return U$(i,r),$$(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const s=r[n];if(s.path.length===0&&s.op==="replace"){e=s.value;break}}n>-1&&(r=r.slice(n+1));const i=Hg(y6).applyPatches_;return xd(e)?i(e,r):this.produce(e,s=>i(s,r))}};function _6(t,e,r,n){const[i,s]=x4(e)?Hg(rT).proxyMap_(e,r):b4(e)?Hg(rT).proxySet_(e,r):w6e(e,r);return((r==null?void 0:r.scope_)??pne()).drafts_.push(i),s.callbacks_=(r==null?void 0:r.callbacks_)??[],s.key_=n,r&&n!==void 0?x6e(r,s,n):s.callbacks_.push(function(l){var d;(d=l.mapSetPlugin_)==null||d.fixSetContents(s);const{patchPlugin_:u}=l;s.modified_&&u&&u.generatePatches_(s,[],l)}),i}function hc(t){return xd(t)||tc(10,t),bne(t)}function bne(t){if(!wc(t)||w4(t))return t;const e=t[Ga];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=v6(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=v6(t,!0);return vb(r,(i,s)=>{tT(r,i,bne(s))},n),e&&(e.finalized_=!1),r}var T6e=new E6e,wne=T6e.produce;function _ne(t){return({dispatch:r,getState:n})=>i=>s=>typeof s=="function"?s(r,n,t):i(s)}var S6e=_ne(),k6e=_ne,A6e=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?JE:JE.apply(null,arguments)};function Ol(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(Wo(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>dne(n)&&n.type===t,r}var Ene=class e1 extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,e1.prototype)}static get[Symbol.species](){return e1}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new e1(...e[0].concat(this)):new e1(...e.concat(this))}};function q$(t){return wc(t)?wne(t,()=>{}):t}function $_(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function C6e(t){return typeof t=="boolean"}var N6e=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:s=!0}=e??{};let a=new Ene;return r&&(C6e(r)?a.push(S6e):a.push(k6e(r.extraArgument))),a},Tne="RTK_autoBatch",Zn=()=>t=>({payload:t,meta:{[Tne]:!0}}),W$=t=>e=>{setTimeout(e,t)},Sne=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,s=!1,a=!1;const o=new Set,l=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:W$(10):t.type==="callback"?t.queueNotification:W$(t.timeout),u=()=>{a=!1,s&&(s=!1,o.forEach(d=>d()))};return Object.assign({},n,{subscribe(d){const f=()=>i&&d(),g=n.subscribe(f);return o.add(d),()=>{g(),o.delete(d)}},dispatch(d){var f;try{return i=!((f=d==null?void 0:d.meta)!=null&&f[Tne]),s=!i,s&&(a||(a=!0,l(u))),n.dispatch(d)}finally{i=!0}}})},I6e=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new Ene(t);return n&&i.push(Sne(typeof n=="object"?n:void 0)),i};function O6e(t){const e=N6e(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:s=void 0,enhancers:a=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(b8(r))o=une(r);else throw new Error(Wo(1));let l;typeof n=="function"?l=n(e):l=e();let u=JE;i&&(u=A6e({trace:!1,...typeof i=="object"&&i}));const d=u6e(...l),f=I6e(d);let g=typeof a=="function"?a(f):f();const v=u(...g);return cne(o,s,v)}function kne(t){const e={},r=[];let n;const i={addCase(s,a){const o=typeof s=="string"?s:s.type;if(!o)throw new Error(Wo(28));if(o in e)throw new Error(Wo(29));return e[o]=a,i},addAsyncThunk(s,a){return a.pending&&(e[s.pending.type]=a.pending),a.rejected&&(e[s.rejected.type]=a.rejected),a.fulfilled&&(e[s.fulfilled.type]=a.fulfilled),a.settled&&r.push({matcher:s.settled,reducer:a.settled}),i},addMatcher(s,a){return r.push({matcher:s,reducer:a}),i},addDefaultCase(s){return n=s,i}};return t(i),[e,r,n]}function R6e(t){return typeof t=="function"}function P6e(t,e){let[r,n,i]=kne(e),s;if(R6e(t))s=()=>q$(t());else{const o=q$(t);s=()=>o}function a(o=s(),l){let u=[r[l.type],...n.filter(({matcher:d})=>d(l)).map(({reducer:d})=>d)];return u.filter(d=>!!d).length===0&&(u=[i]),u.reduce((d,f)=>{if(f)if(xd(d)){const v=f(d,l);return v===void 0?d:v}else{if(wc(d))return wne(d,g=>f(g,l));{const g=f(d,l);if(g===void 0){if(d===null)return d;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return d},o)}return a.getInitialState=s,a}var j6e="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",D6e=(t=21)=>{let e="",r=t;for(;r--;)e+=j6e[Math.random()*64|0];return e},M6e=Symbol.for("rtk-slice-createasyncthunk");function L6e(t,e){return`${t}/${e}`}function F6e({creators:t}={}){var r;const e=(r=t==null?void 0:t.asyncThunk)==null?void 0:r[M6e];return function(i){const{name:s,reducerPath:a=s}=i;if(!s)throw new Error(Wo(11));const o=(typeof i.reducers=="function"?i.reducers(V6e()):i.reducers)||{},l=Object.keys(o),u={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(O,P){const j=typeof O=="string"?O:O.type;if(!j)throw new Error(Wo(12));if(j in u.sliceCaseReducersByType)throw new Error(Wo(13));return u.sliceCaseReducersByType[j]=P,d},addMatcher(O,P){return u.sliceMatchers.push({matcher:O,reducer:P}),d},exposeAction(O,P){return u.actionCreators[O]=P,d},exposeCaseReducer(O,P){return u.sliceCaseReducersByName[O]=P,d}};l.forEach(O=>{const P=o[O],j={reducerName:O,type:L6e(s,O),createNotation:typeof i.reducers=="function"};z6e(P)?H6e(j,P,d,e):U6e(j,P,d)});function f(){const[O={},P=[],j=void 0]=typeof i.extraReducers=="function"?kne(i.extraReducers):[i.extraReducers],S={...O,...u.sliceCaseReducersByType};return P6e(i.initialState,I=>{for(let R in S)I.addCase(R,S[R]);for(let R of u.sliceMatchers)I.addMatcher(R.matcher,R.reducer);for(let R of P)I.addMatcher(R.matcher,R.reducer);j&&I.addDefaultCase(j)})}const g=O=>O,v=new Map,x=new WeakMap;let b;function w(O,P){return b||(b=f()),b(O,P)}function E(){return b||(b=f()),b.getInitialState()}function k(O,P=!1){function j(I){let R=I[O];return typeof R>"u"&&P&&(R=$_(x,j,E)),R}function S(I=g){const R=$_(v,P,()=>new WeakMap);return $_(R,I,()=>{const D={};for(const[M,L]of Object.entries(i.selectors??{}))D[M]=B6e(L,I,()=>$_(x,I,E),P);return D})}return{reducerPath:O,getSelectors:S,get selectors(){return S(j)},selectSlice:j}}const A={name:s,reducer:w,actions:u.actionCreators,caseReducers:u.sliceCaseReducersByName,getInitialState:E,...k(a),injectInto(O,{reducerPath:P,...j}={}){const S=P??a;return O.inject({reducerPath:S,reducer:w},j),{...A,...k(S,!0)}}};return A}}function B6e(t,e,r,n){function i(s,...a){let o=e(s);return typeof o>"u"&&n&&(o=r()),t(o,...a)}return i.unwrapped=t,i}var bo=F6e();function V6e(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function U6e({type:t,reducerName:e,createNotation:r},n,i){let s,a;if("reducer"in n){if(r&&!$6e(n))throw new Error(Wo(17));s=n.reducer,a=n.prepare}else s=n;i.addCase(t,s).exposeCaseReducer(e,s).exposeAction(e,a?Ol(t,a):Ol(t))}function z6e(t){return t._reducerDefinitionType==="asyncThunk"}function $6e(t){return t._reducerDefinitionType==="reducerWithPrepare"}function H6e({type:t,reducerName:e},r,n,i){if(!i)throw new Error(Wo(18));const{payloadCreator:s,fulfilled:a,pending:o,rejected:l,settled:u,options:d}=r,f=i(t,s,d);n.exposeAction(e,f),a&&n.addCase(f.fulfilled,a),o&&n.addCase(f.pending,o),l&&n.addCase(f.rejected,l),u&&n.addMatcher(f.settled,u),n.exposeCaseReducer(e,{fulfilled:a||H_,pending:o||H_,rejected:l||H_,settled:u||H_})}function H_(){}var q6e="task",Ane="listener",Cne="completed",k8="cancelled",W6e=`task-${k8}`,G6e=`task-${Cne}`,E6=`${Ane}-${k8}`,K6e=`${Ane}-${Cne}`,E4=class{constructor(t){vC(this,"name","TaskAbortError");vC(this,"message");this.code=t,this.message=`${q6e} ${k8} (reason: ${t})`}},A8=(t,e)=>{if(typeof t!="function")throw new TypeError(Wo(32))},nT=()=>{},Nne=(t,e=nT)=>(t.catch(e),t),Ine=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),I0=t=>{if(t.aborted)throw new E4(t.reason)};function One(t,e){let r=nT;return new Promise((n,i)=>{const s=()=>i(new E4(t.reason));if(t.aborted){s();return}r=Ine(t,s),e.finally(()=>r()).then(n,i)}).finally(()=>{r=nT})}var Y6e=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof E4?"cancelled":"rejected",error:r}}finally{e==null||e()}},iT=t=>e=>Nne(One(t,e).then(r=>(I0(t),r))),Rne=t=>{const e=iT(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:ag}=Object,G$={},T4="listenerMiddleware",X6e=(t,e)=>{const r=n=>Ine(t,()=>n.abort(t.reason));return(n,i)=>{A8(n);const s=new AbortController;r(s);const a=Y6e(async()=>{I0(t),I0(s.signal);const o=await n({pause:iT(s.signal),delay:Rne(s.signal),signal:s.signal});return I0(s.signal),o},()=>s.abort(G6e));return i!=null&&i.autoJoin&&e.push(a.catch(nT)),{result:iT(t)(a),cancel(){s.abort(W6e)}}}},Q6e=(t,e)=>{const r=async(n,i)=>{I0(e);let s=()=>{};const o=[new Promise((l,u)=>{let d=t({predicate:n,effect:(f,g)=>{g.unsubscribe(),l([f,g.getState(),g.getOriginalState()])}});s=()=>{d(),u()}})];i!=null&&o.push(new Promise(l=>setTimeout(l,i,null)));try{const l=await One(e,Promise.race(o));return I0(e),l}finally{s()}};return(n,i)=>Nne(r(n,i))},Pne=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:s}=t;if(e)i=Ol(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(Wo(21));return A8(s),{predicate:i,type:e,effect:s}},jne=ag(t=>{const{type:e,predicate:r,effect:n}=Pne(t);return{id:D6e(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(Wo(22))}}},{withTypes:()=>jne}),K$=(t,e)=>{const{type:r,effect:n,predicate:i}=Pne(e);return Array.from(t.values()).find(s=>(typeof r=="string"?s.type===r:s.predicate===i)&&s.effect===n)},T6=t=>{t.pending.forEach(e=>{e.abort(E6)})},J6e=(t,e)=>()=>{for(const r of e.keys())T6(r);t.clear()},Y$=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},Dne=ag(Ol(`${T4}/add`),{withTypes:()=>Dne}),Z6e=Ol(`${T4}/removeAll`),Mne=ag(Ol(`${T4}/remove`),{withTypes:()=>Mne}),eOe=(...t)=>{console.error(`${T4}/error`,...t)},xb=(t={})=>{const e=new Map,r=new Map,n=v=>{const x=r.get(v)??0;r.set(v,x+1)},i=v=>{const x=r.get(v)??1;x===1?r.delete(v):r.set(v,x-1)},{extra:s,onError:a=eOe}=t;A8(a);const o=v=>(v.unsubscribe=()=>e.delete(v.id),e.set(v.id,v),x=>{v.unsubscribe(),x!=null&&x.cancelActive&&T6(v)}),l=v=>{const x=K$(e,v)??jne(v);return o(x)};ag(l,{withTypes:()=>l});const u=v=>{const x=K$(e,v);return x&&(x.unsubscribe(),v.cancelActive&&T6(x)),!!x};ag(u,{withTypes:()=>u});const d=async(v,x,b,w)=>{const E=new AbortController,k=Q6e(l,E.signal),A=[];try{v.pending.add(E),n(v),await Promise.resolve(v.effect(x,ag({},b,{getOriginalState:w,condition:(O,P)=>k(O,P).then(Boolean),take:k,delay:Rne(E.signal),pause:iT(E.signal),extra:s,signal:E.signal,fork:X6e(E.signal,A),unsubscribe:v.unsubscribe,subscribe:()=>{e.set(v.id,v)},cancelActiveListeners:()=>{v.pending.forEach((O,P,j)=>{O!==E&&(O.abort(E6),j.delete(O))})},cancel:()=>{E.abort(E6),v.pending.delete(E)},throwIfCancelled:()=>{I0(E.signal)}})))}catch(O){O instanceof E4||Y$(a,O,{raisedBy:"effect"})}finally{await Promise.all(A),E.abort(K6e),i(v),v.pending.delete(E)}},f=J6e(e,r);return{middleware:v=>x=>b=>{if(!dne(b))return x(b);if(Dne.match(b))return l(b.payload);if(Z6e.match(b)){f();return}if(Mne.match(b))return u(b.payload);let w=v.getState();const E=()=>{if(w===G$)throw new Error(Wo(23));return w};let k;try{if(k=x(b),e.size>0){const A=v.getState(),O=Array.from(e.values());for(const P of O){let j=!1;try{j=P.predicate(b,A,w)}catch(S){j=!1,Y$(a,S,{raisedBy:"predicate"})}j&&d(P,b,v,E)}}}finally{w=G$}return k},startListening:l,stopListening:u,clearListeners:f}};function Wo(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var tOe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},Lne=bo({name:"chartLayout",initialState:tOe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,s;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(s=e.payload.left)!==null&&s!==void 0?s:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:rOe,setLayout:nOe,setChartSize:iOe,setScale:sOe}=Lne.actions,aOe=Lne.reducer;function Fne(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function ni(t){return Number.isFinite(t)}function lu(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function X$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?X$(Object(r),!0).forEach(function(n){oOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):X$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oOe(t,e,r){return(e=lOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lOe(t){var e=cOe(t,"string");return typeof e=="symbol"?e:e+""}function cOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function qn(t,e,r){return Vs(t)||Vs(e)?r:ou(e)?Q0(t,e,r):typeof e=="function"?e(t):r}var uOe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:s,verticalAlign:a,layout:o}=e;if((o==="vertical"||o==="horizontal"&&a==="middle")&&s!=="center"&&bt(t[s]))return qp(qp({},t),{},{[s]:t[s]+(n||0)});if((o==="horizontal"||o==="vertical"&&s==="center")&&a!=="middle"&&bt(t[a]))return qp(qp({},t),{},{[a]:t[a]+(i||0)})}return t},Ad=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",Bne=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,s,a=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(s=!0),o.coordinate));return i||a.push(e),s||a.push(r),a},Vne=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:s,scale:a,realScaleType:o,isCategorical:l,categoricalDomain:u,tickCount:d,ticks:f,niceTicks:g,axisType:v}=t;if(!a)return null;var x=o==="scaleBand"&&a.bandwidth?a.bandwidth()/2:2,b=i==="category"&&a.bandwidth?a.bandwidth()/x:0;if(b=v==="angleAxis"&&s&&s.length>=2?Aa(s[0]-s[1])*2*b:b,f||g){var w=(f||g||[]).map((E,k)=>{var A=n?n.indexOf(E):E;return{coordinate:a(A)+b,value:E,offset:b,index:k}});return w.filter(E=>!bc(E.coordinate))}return l&&u?u.map((E,k)=>({coordinate:a(E)+b,value:E,index:k,offset:b})):a.ticks&&d!=null?a.ticks(d).map((E,k)=>({coordinate:a(E)+b,value:E,offset:b,index:k})):a.domain().map((E,k)=>({coordinate:a(E)+b,value:n?n[E]:E,index:k,offset:b}))},Q$=1e-4,dOe=t=>{var e=t.domain();if(!(!e||e.length<=2)){var r=e.length,n=t.range(),i=Math.min(n[0],n[1])-Q$,s=Math.max(n[0],n[1])+Q$,a=t(e[0]),o=t(e[r-1]);(a<i||a>s||o<i||o>s)&&t.domain([e[0],e[r-1]])}},hOe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0,o=0;o<r;++o){var l=t[o],u=l==null?void 0:l[i];if(u!=null){var d=u[1],f=u[0],g=bc(d)?f:d;g>=0?(u[0]=s,u[1]=s+g,s=d):(u[0]=a,u[1]=a+g,a=d)}}}},fOe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var s=0,a=0;a<r;++a){var o=t[a],l=o==null?void 0:o[i];if(l!=null){var u=bc(l[1])?l[0]:l[1];u>=0?(l[0]=s,l[1]=s+u,s=l[1]):(l[0]=0,l[1]=0)}}}},mOe={sign:hOe,expand:j5e,none:X0,silhouette:D5e,wiggle:M5e,positive:fOe},pOe=(t,e,r)=>{var n,i=(n=mOe[r])!==null&&n!==void 0?n:X0,s=P5e().keys(e).value((o,l)=>Number(qn(o,l,0))).order(f6).offset(i),a=s(t);return a.forEach((o,l)=>{o.forEach((u,d)=>{var f=qn(t[d],e[l],0);Array.isArray(f)&&f.length===2&&bt(f[0])&&bt(f[1])&&(u[0]=f[0],u[1]=f[1])})}),a};function gOe(t){return t==null?void 0:String(t)}function J$(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:s,dataKey:a}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Vs(i[e.dataKey])){var o=qre(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r[s]?r[s].coordinate+n/2:null}var l=qn(i,Vs(a)?e.dataKey:a);return Vs(l)?null:e.scale(l)}var vOe=t=>{var e=t.flat(2).filter(bt);return[Math.min(...e),Math.max(...e)]},yOe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],xOe=(t,e,r)=>{if(t!=null)return yOe(Object.keys(t).reduce((n,i)=>{var s=t[i];if(!s)return n;var{stackedData:a}=s,o=a.reduce((l,u)=>{var d=Fne(u,e,r),f=vOe(d);return!ni(f[0])||!ni(f[1])?l:[Math.min(l[0],f[0]),Math.max(l[1],f[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},Z$=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,eH=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,sT=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=g4(e,d=>d.coordinate),s=1/0,a=1,o=i.length;a<o;a++){var l=i[a],u=i[a-1];s=Math.min(((l==null?void 0:l.coordinate)||0)-((u==null?void 0:u.coordinate)||0),s)}return s===1/0?0:s}return r?void 0:0};function tH(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:s}=t;return qp(qp({},e),{},{dataKey:r,payload:n,value:i,name:s})}function S4(t,e){if(t)return String(t);if(typeof e=="string")return e}var bOe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},wOe=(t,e)=>e==="centric"?t.angle:t.radius,Cd=t=>t.layout.width,Nd=t=>t.layout.height,_Oe=t=>t.layout.scale,Une=t=>t.layout.margin,k4=Ne(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),A4=Ne(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),zne="data-recharts-item-index",$ne="data-recharts-item-id",bb=60;function rH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function q_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rH(Object(r),!0).forEach(function(n){EOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function EOe(t,e,r){return(e=TOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function TOe(t){var e=SOe(t,"string");return typeof e=="symbol"?e:e+""}function SOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var kOe=t=>t.brush.height;function AOe(t){var e=A4(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bb;return r+i}return r},0)}function COe(t){var e=A4(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:bb;return r+i}return r},0)}function NOe(t){var e=k4(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function IOe(t){var e=k4(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var Hs=Ne([Cd,Nd,Une,kOe,AOe,COe,NOe,IOe,one,n6e],(t,e,r,n,i,s,a,o,l,u)=>{var d={left:(r.left||0)+i,right:(r.right||0)+s},f={top:(r.top||0)+a,bottom:(r.bottom||0)+o},g=q_(q_({},f),d),v=g.bottom;g.bottom+=n,g=uOe(g,l,u);var x=t-g.left-g.right,b=e-g.top-g.bottom;return q_(q_({brushBottom:v},g),{},{width:Math.max(x,0),height:Math.max(b,0)})}),OOe=Ne(Hs,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),Hne=Ne(Cd,Nd,(t,e)=>({x:0,y:0,width:t,height:e})),ROe=C.createContext(null),wo=()=>C.useContext(ROe)!=null,C4=t=>t.brush,N4=Ne([C4,Hs,Une],(t,e,r)=>({height:t.height,x:bt(t.x)?t.x:e.left,y:bt(t.y)?t.y:e.top+e.height+e.brushBottom-((r==null?void 0:r.bottom)||0),width:bt(t.width)?t.width:e.width})),xN={},bN={},wN={},nH;function POe(){return nH||(nH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:s}={}){let a,o=null;const l=s!=null&&s.includes("leading"),u=s==null||s.includes("trailing"),d=()=>{o!==null&&(r.apply(a,o),a=void 0,o=null)},f=()=>{u&&d(),b()};let g=null;const v=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,f()},n)},x=()=>{g!==null&&(clearTimeout(g),g=null)},b=()=>{x(),a=void 0,o=null},w=()=>{d()},E=function(...k){if(i!=null&&i.aborted)return;a=this,o=k;const A=g==null;v(),l&&A&&d()};return E.schedule=v,E.cancel=b,E.flush=w,i==null||i.addEventListener("abort",b,{once:!0}),E}t.debounce=e})(wN)),wN}var iH;function jOe(){return iH||(iH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=POe();function r(n,i=0,s={}){typeof s!="object"&&(s={});const{leading:a=!1,trailing:o=!0,maxWait:l}=s,u=Array(2);a&&(u[0]="leading"),o&&(u[1]="trailing");let d,f=null;const g=e.debounce(function(...b){d=n.apply(this,b),f=null},i,{edges:u}),v=function(...b){return l!=null&&(f===null&&(f=Date.now()),Date.now()-f>=l)?(d=n.apply(this,b),f=Date.now(),g.cancel(),g.schedule(),d):(g.apply(this,b),d)},x=()=>(g.flush(),d);return v.cancel=g.cancel,v.flush=x,v}t.debounce=r})(bN)),bN}var sH;function DOe(){return sH||(sH=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jOe();function r(n,i=0,s={}){const{leading:a=!0,trailing:o=!0}=s;return e.debounce(n,i,{leading:a,maxWait:i,trailing:o})}t.throttle=r})(xN)),xN}var _N,aH;function MOe(){return aH||(aH=1,_N=DOe().throttle),_N}var LOe=MOe();const FOe=Jo(LOe);var aT=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),s=2;s<n;s++)i[s-2]=arguments[s];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var a=0;console.warn(r.replace(/%s/g,()=>i[a++]))}},qne=(t,e,r)=>{var{width:n="100%",height:i="100%",aspect:s,maxHeight:a}=r,o=yd(n)?t:Number(n),l=yd(i)?e:Number(i);return s&&s>0&&(o?l=o/s:l&&(o=l*s),a&&l!=null&&l>a&&(l=a)),{calculatedWidth:o,calculatedHeight:l}},BOe={width:0,height:0,overflow:"visible"},VOe={width:0,overflowX:"visible"},UOe={height:0,overflowY:"visible"},zOe={},$Oe=t=>{var{width:e,height:r}=t,n=yd(e),i=yd(r);return n&&i?BOe:n?VOe:i?UOe:zOe};function HOe(t){var{width:e,height:r,aspect:n}=t,i=e,s=r;return i===void 0&&s===void 0?(i="100%",s="100%"):i===void 0?i=n&&n>0?void 0:"100%":s===void 0&&(s=n&&n>0?void 0:"100%"),{width:i,height:s}}function S6(){return S6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},S6.apply(null,arguments)}function oH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oH(Object(r),!0).forEach(function(n){qOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qOe(t,e,r){return(e=WOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WOe(t){var e=GOe(t,"string");return typeof e=="symbol"?e:e+""}function GOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Wne=C.createContext({width:-1,height:-1});function KOe(t){return lu(t.width)&&lu(t.height)}function Gne(t){var{children:e,width:r,height:n}=t,i=C.useMemo(()=>({width:r,height:n}),[r,n]);return KOe(i)?C.createElement(Wne.Provider,{value:i},e):null}var C8=()=>C.useContext(Wne),YOe=C.forwardRef((t,e)=>{var{aspect:r,initialDimension:n={width:-1,height:-1},width:i,height:s,minWidth:a=0,minHeight:o,maxHeight:l,children:u,debounce:d=0,id:f,className:g,onResize:v,style:x={}}=t,b=C.useRef(null),w=C.useRef();w.current=v,C.useImperativeHandle(e,()=>b.current);var[E,k]=C.useState({containerWidth:n.width,containerHeight:n.height}),A=C.useCallback((I,R)=>{k(D=>{var M=Math.round(I),L=Math.round(R);return D.containerWidth===M&&D.containerHeight===L?D:{containerWidth:M,containerHeight:L}})},[]);C.useEffect(()=>{if(b.current==null||typeof ResizeObserver>"u")return gb;var I=L=>{var U,{width:le,height:ue}=L[0].contentRect;A(le,ue),(U=w.current)===null||U===void 0||U.call(w,le,ue)};d>0&&(I=FOe(I,d,{trailing:!0,leading:!1}));var R=new ResizeObserver(I),{width:D,height:M}=b.current.getBoundingClientRect();return A(D,M),R.observe(b.current),()=>{R.disconnect()}},[A,d]);var{containerWidth:O,containerHeight:P}=E;aT(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:j,calculatedHeight:S}=qne(O,P,{width:i,height:s,aspect:r,maxHeight:l});return aT(j!=null&&j>0||S!=null&&S>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,j,S,i,s,a,o,r),C.createElement("div",{id:f?"".concat(f):void 0,className:Hr("recharts-responsive-container",g),style:lH(lH({},x),{},{width:i,height:s,minWidth:a,minHeight:o,maxHeight:l}),ref:b},C.createElement("div",{style:$Oe({width:i,height:s})},C.createElement(Gne,{width:j,height:S},u)))}),k6=C.forwardRef((t,e)=>{var r=C8();if(lu(r.width)&&lu(r.height))return t.children;var{width:n,height:i}=HOe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:s,calculatedHeight:a}=qne(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return bt(s)&&bt(a)?C.createElement(Gne,{width:s,height:a},t.children):C.createElement(YOe,S6({},t,{width:n,height:i,ref:e}))});function Kne(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var I4=()=>{var t,e=wo(),r=Et(OOe),n=Et(N4),i=(t=Et(C4))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},XOe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},Yne=()=>{var t;return(t=Et(Hs))!==null&&t!==void 0?t:XOe},N8=()=>Et(Cd),I8=()=>Et(Nd),QOe=()=>Et(t=>t.layout.margin),hn=t=>t.layout.layoutType,Ev=()=>Et(hn),JOe=()=>{var t=Ev();if(t==="horizontal"||t==="vertical")return t},ZOe=()=>{var t=Ev();return t!==void 0},O4=t=>{var e=Ln(),r=wo(),{width:n,height:i}=t,s=C8(),a=n,o=i;return s&&(a=s.width>0?s.width:n,o=s.height>0?s.height:i),C.useEffect(()=>{!r&&lu(a)&&lu(o)&&e(iOe({width:a,height:o}))},[e,r,a,o]),null},Xne=Symbol.for("immer-nothing"),cH=Symbol.for("immer-draftable"),Yo=Symbol.for("immer-state");function rc(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var hx=Object.getPrototypeOf;function qg(t){return!!t&&!!t[Yo]}function J0(t){var e;return t?Qne(t)||Array.isArray(t)||!!t[cH]||!!((e=t.constructor)!=null&&e[cH])||wb(t)||P4(t):!1}var eRe=Object.prototype.constructor.toString(),uH=new WeakMap;function Qne(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=uH.get(r);return n===void 0&&(n=Function.toString.call(r),uH.set(r,n)),n===eRe}function oT(t,e,r=!0){R4(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function R4(t){const e=t[Yo];return e?e.type_:Array.isArray(t)?1:wb(t)?2:P4(t)?3:0}function A6(t,e){return R4(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function Jne(t,e,r){const n=R4(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function tRe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function wb(t){return t instanceof Map}function P4(t){return t instanceof Set}function o0(t){return t.copy_||t.base_}function C6(t,e){if(wb(t))return new Map(t);if(P4(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=Qne(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[Yo];let i=Reflect.ownKeys(n);for(let s=0;s<i.length;s++){const a=i[s],o=n[a];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[a]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[a]})}return Object.create(hx(t),n)}else{const n=hx(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function O8(t,e=!1){return j4(t)||qg(t)||!J0(t)||(R4(t)>1&&Object.defineProperties(t,{set:W_,add:W_,clear:W_,delete:W_}),Object.freeze(t),e&&Object.values(t).forEach(r=>O8(r,!0))),t}function rRe(){rc(2)}var W_={value:rRe};function j4(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var nRe={};function Z0(t){const e=nRe[t];return e||rc(0,t),e}var fx;function Zne(){return fx}function iRe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function dH(t,e){e&&(Z0("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function N6(t){I6(t),t.drafts_.forEach(sRe),t.drafts_=null}function I6(t){t===fx&&(fx=t.parent_)}function hH(t){return fx=iRe(fx,t)}function sRe(t){const e=t[Yo];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function fH(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[Yo].modified_&&(N6(e),rc(4)),J0(t)&&(t=lT(e,t),e.parent_||cT(e,t)),e.patches_&&Z0("Patches").generateReplacementPatches_(r[Yo].base_,t,e.patches_,e.inversePatches_)):t=lT(e,r,[]),N6(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==Xne?t:void 0}function lT(t,e,r){if(j4(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[Yo];if(!i)return oT(e,(s,a)=>mH(t,i,e,s,a,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return cT(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const s=i.copy_;let a=s,o=!1;i.type_===3&&(a=new Set(s),s.clear(),o=!0),oT(a,(l,u)=>mH(t,i,s,l,u,r,o),n),cT(t,s,!1),r&&t.patches_&&Z0("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function mH(t,e,r,n,i,s,a){if(i==null||typeof i!="object"&&!a)return;const o=j4(i);if(!(o&&!a)){if(qg(i)){const l=s&&e&&e.type_!==3&&!A6(e.assigned_,n)?s.concat(n):void 0,u=lT(t,i,l);if(Jne(r,n,u),qg(u))t.canAutoFreeze_=!1;else return}else a&&r.add(i);if(J0(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;lT(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(wb(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&cT(t,i)}}}function cT(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&O8(e,r)}function aRe(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:Zne(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,s=R8;r&&(i=[n],s=mx);const{revoke:a,proxy:o}=Proxy.revocable(i,s);return n.draft_=o,n.revoke_=a,o}var R8={get(t,e){if(e===Yo)return t;const r=o0(t);if(!A6(r,e))return oRe(t,r,e);const n=r[e];return t.finalized_||!J0(n)?n:n===EN(t.base_,e)?(TN(t),t.copy_[e]=R6(n,t)):n},has(t,e){return e in o0(t)},ownKeys(t){return Reflect.ownKeys(o0(t))},set(t,e,r){const n=eie(o0(t),e);if(n!=null&&n.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=EN(o0(t),e),s=i==null?void 0:i[Yo];if(s&&s.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(tRe(r,i)&&(r!==void 0||A6(t.base_,e)))return!0;TN(t),O6(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return EN(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,TN(t),O6(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=o0(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){rc(11)},getPrototypeOf(t){return hx(t.base_)},setPrototypeOf(){rc(12)}},mx={};oT(R8,(t,e)=>{mx[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});mx.deleteProperty=function(t,e){return mx.set.call(this,t,e,void 0)};mx.set=function(t,e,r){return R8.set.call(this,t[0],e,r,t[0])};function EN(t,e){const r=t[Yo];return(r?o0(r):t)[e]}function oRe(t,e,r){var i;const n=eie(e,r);return n?"value"in n?n.value:(i=n.get)==null?void 0:i.call(t.draft_):void 0}function eie(t,e){if(!(e in t))return;let r=hx(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=hx(r)}}function O6(t){t.modified_||(t.modified_=!0,t.parent_&&O6(t.parent_))}function TN(t){t.copy_||(t.copy_=C6(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var lRe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const s=r;r=e;const a=this;return function(l=s,...u){return a.produce(l,d=>r.call(this,d,...u))}}typeof r!="function"&&rc(6),n!==void 0&&typeof n!="function"&&rc(7);let i;if(J0(e)){const s=hH(this),a=R6(e,void 0);let o=!0;try{i=r(a),o=!1}finally{o?N6(s):I6(s)}return dH(s,n),fH(i,s)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===Xne&&(i=void 0),this.autoFreeze_&&O8(i,!0),n){const s=[],a=[];Z0("Patches").generateReplacementPatches_(e,i,s,a),n(s,a)}return i}else rc(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(a,...o)=>this.produceWithPatches(a,l=>e(l,...o));let n,i;return[this.produce(e,r,(a,o)=>{n=a,i=o}),n,i]},typeof(t==null?void 0:t.autoFreeze)=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof(t==null?void 0:t.useStrictShallowCopy)=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof(t==null?void 0:t.useStrictIteration)=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){J0(t)||rc(8),qg(t)&&(t=cRe(t));const e=hH(this),r=R6(t,void 0);return r[Yo].isManual_=!0,I6(e),r}finishDraft(t,e){const r=t&&t[Yo];(!r||!r.isManual_)&&rc(9);const{scope_:n}=r;return dH(n,e),fH(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=Z0("Patches").applyPatches_;return qg(t)?n(t,e):this.produce(t,i=>n(i,e))}};function R6(t,e){const r=wb(t)?Z0("MapSet").proxyMap_(t,e):P4(t)?Z0("MapSet").proxySet_(t,e):aRe(t,e);return(e?e.scope_:Zne()).drafts_.push(r),r}function cRe(t){return qg(t)||rc(10,t),tie(t)}function tie(t){if(!J0(t)||j4(t))return t;const e=t[Yo];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=C6(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=C6(t,!0);return oT(r,(i,s)=>{Jne(r,i,tie(s))},n),e&&(e.finalized_=!1),r}var uRe=new lRe;uRe.produce;var dRe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},rie=bo({name:"legend",initialState:dRe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Zn()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=hc(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Zn()},removeLegendPayload:{reducer(t,e){var r=hc(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Zn()}}}),{setLegendSize:pH,setLegendSettings:hRe,addLegendPayload:nie,replaceLegendPayload:iie,removeLegendPayload:sie}=rie.actions,fRe=rie.reducer,mRe=["contextPayload"];function P6(){return P6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P6.apply(null,arguments)}function gH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Wg(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?gH(Object(r),!0).forEach(function(n){pRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):gH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pRe(t,e,r){return(e=gRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gRe(t){var e=vRe(t,"string");return typeof e=="symbol"?e:e+""}function vRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yRe(t,e){if(t==null)return{};var r,n,i=xRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function xRe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function bRe(t){return t.value}function wRe(t){var{contextPayload:e}=t,r=yRe(t,mRe),n=nne(e,t.payloadUniqBy,bRe),i=Wg(Wg({},r),{},{payload:n});return C.isValidElement(t.content)?C.cloneElement(t.content,i):typeof t.content=="function"?C.createElement(t.content,i):C.createElement(hIe,i)}function _Re(t,e,r,n,i,s){var{layout:a,align:o,verticalAlign:l}=e,u,d;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&a==="vertical"?u={left:((n||0)-s.width)/2}:u=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(l==="middle"?d={top:((i||0)-s.height)/2}:d=l==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Wg(Wg({},u),d)}function ERe(t){var e=Ln();return C.useEffect(()=>{e(hRe(t))},[e,t]),null}function TRe(t){var e=Ln();return C.useEffect(()=>(e(pH(t)),()=>{e(pH({width:0,height:0}))}),[e,t]),null}function SRe(t,e,r,n){return t==="vertical"&&bt(e)?{height:e}:t==="horizontal"?{width:r||n}:null}var kRe={align:"center",iconSize:14,itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function aie(t){var e=xs(t,kRe),r=a6e(),n=n5e(),i=QOe(),{width:s,height:a,wrapperStyle:o,portal:l}=e,[u,d]=lne([r]),f=N8(),g=I8();if(f==null||g==null)return null;var v=f-((i==null?void 0:i.left)||0)-((i==null?void 0:i.right)||0),x=SRe(e.layout,a,s,v),b=l?o:Wg(Wg({position:"absolute",width:(x==null?void 0:x.width)||s||"auto",height:(x==null?void 0:x.height)||a||"auto"},_Re(o,e,i,f,g,u)),o),w=l??n;if(w==null||r==null)return null;var E=C.createElement("div",{className:"recharts-legend-wrapper",style:b,ref:d},C.createElement(ERe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!l&&C.createElement(TRe,{width:u.width,height:u.height}),C.createElement(wRe,P6({},e,x,{margin:i,chartWidth:f,chartHeight:g,contextPayload:r})));return Ql.createPortal(E,w)}aie.displayName="Legend";function j6(){return j6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},j6.apply(null,arguments)}function vH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function SN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vH(Object(r),!0).forEach(function(n){ARe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ARe(t,e,r){return(e=CRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function CRe(t){var e=NRe(t,"string");return typeof e=="symbol"?e:e+""}function NRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function IRe(t){return Array.isArray(t)&&ou(t[0])&&ou(t[1])?t.join(" ~ "):t}var ORe=t=>{var{separator:e=" : ",contentStyle:r={},itemStyle:n={},labelStyle:i={},payload:s,formatter:a,itemSorter:o,wrapperClassName:l,labelClassName:u,label:d,labelFormatter:f,accessibilityLayer:g=!1}=t,v=()=>{if(s&&s.length){var P={padding:0,margin:0},j=(o?g4(s,o):s).map((S,I)=>{if(S.type==="none")return null;var R=S.formatter||a||IRe,{value:D,name:M}=S,L=D,U=M;if(R){var le=R(D,M,S,I,s);if(Array.isArray(le))[L,U]=le;else if(le!=null)L=le;else return null}var ue=SN({display:"block",paddingTop:4,paddingBottom:4,color:S.color||"#000"},n);return C.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(I),style:ue},ou(U)?C.createElement("span",{className:"recharts-tooltip-item-name"},U):null,ou(U)?C.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,C.createElement("span",{className:"recharts-tooltip-item-value"},L),C.createElement("span",{className:"recharts-tooltip-item-unit"},S.unit||""))});return C.createElement("ul",{className:"recharts-tooltip-item-list",style:P},j)}return null},x=SN({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},r),b=SN({margin:0},i),w=!Vs(d),E=w?d:"",k=Hr("recharts-default-tooltip",l),A=Hr("recharts-tooltip-label",u);w&&f&&s!==void 0&&s!==null&&(E=f(d,s));var O=g?{role:"status","aria-live":"assertive"}:{};return C.createElement("div",j6({className:k,style:x},O),C.createElement("p",{className:A,style:b},C.isValidElement(E)?E:"".concat(E)),v())},Fy="recharts-tooltip-wrapper",RRe={visibility:"hidden"};function PRe(t){var{coordinate:e,translateX:r,translateY:n}=t;return Hr(Fy,{["".concat(Fy,"-right")]:bt(r)&&e&&bt(e.x)&&r>=e.x,["".concat(Fy,"-left")]:bt(r)&&e&&bt(e.x)&&r<e.x,["".concat(Fy,"-bottom")]:bt(n)&&e&&bt(e.y)&&n>=e.y,["".concat(Fy,"-top")]:bt(n)&&e&&bt(e.y)&&n<e.y})}function yH(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offsetTopLeft:i,position:s,reverseDirection:a,tooltipDimension:o,viewBox:l,viewBoxDimension:u}=t;if(s&&bt(s[n]))return s[n];var d=r[n]-o-(i>0?i:0),f=r[n]+i;if(e[n])return a[n]?d:f;var g=l[n];if(g==null)return 0;if(a[n]){var v=d,x=g;return v<x?Math.max(f,g):Math.max(d,g)}if(u==null)return 0;var b=f+o,w=g+u;return b>w?Math.max(d,g):Math.max(f,g)}function jRe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function DRe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTopLeft:n,position:i,reverseDirection:s,tooltipBox:a,useTranslate3d:o,viewBox:l}=t,u,d,f;return a.height>0&&a.width>0&&r?(d=yH({allowEscapeViewBox:e,coordinate:r,key:"x",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=yH({allowEscapeViewBox:e,coordinate:r,key:"y",offsetTopLeft:n,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),u=jRe({translateX:d,translateY:f,useTranslate3d:o})):u=RRe,{cssProperties:u,cssClasses:PRe({translateX:d,translateY:f,coordinate:r})}}function xH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function G_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?xH(Object(r),!0).forEach(function(n){D6(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):xH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function D6(t,e,r){return(e=MRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function MRe(t){var e=LRe(t,"string");return typeof e=="symbol"?e:e+""}function LRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class FRe extends C.PureComponent{constructor(){super(...arguments),D6(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),D6(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,s;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(s=this.props.coordinate)===null||s===void 0?void 0:s.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:s,coordinate:a,hasPayload:o,isAnimationActive:l,offset:u,position:d,reverseDirection:f,useTranslate3d:g,viewBox:v,wrapperStyle:x,lastBoundingBox:b,innerRef:w,hasPortalFromProps:E}=this.props,{cssClasses:k,cssProperties:A}=DRe({allowEscapeViewBox:r,coordinate:a,offsetTopLeft:u,position:d,reverseDirection:f,tooltipBox:{height:b.height,width:b.width},useTranslate3d:g,viewBox:v}),O=E?{}:G_(G_({transition:l&&e?"transform ".concat(n,"ms ").concat(i):void 0},A),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),P=G_(G_({},O),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},x);return C.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:k,style:P,ref:w},s)}}var oie=()=>{var t;return(t=Et(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function M6(){return M6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},M6.apply(null,arguments)}function bH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function wH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?bH(Object(r),!0).forEach(function(n){BRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):bH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BRe(t,e,r){return(e=VRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function VRe(t){var e=URe(t,"string");return typeof e=="symbol"?e:e+""}function URe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _H={curveBasisClosed:_5e,curveBasisOpen:E5e,curveBasis:w5e,curveBumpX:o5e,curveBumpY:l5e,curveLinearClosed:T5e,curveLinear:m4,curveMonotoneX:S5e,curveMonotoneY:k5e,curveNatural:A5e,curveStep:C5e,curveStepAfter:I5e,curveStepBefore:N5e},uT=t=>ni(t.x)&&ni(t.y),EH=t=>t.base!=null&&uT(t.base)&&uT(t),By=t=>t.x,Vy=t=>t.y,zRe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(pb(t));return(r==="curveMonotone"||r==="curveBump")&&e?_H["".concat(r).concat(e==="vertical"?"Y":"X")]:_H[r]||m4},$Re=t=>{var{type:e="linear",points:r=[],baseLine:n,layout:i,connectNulls:s=!1}=t,a=zRe(e,i),o=s?r.filter(uT):r,l;if(Array.isArray(n)){var u=r.map((v,x)=>wH(wH({},v),{},{base:n[x]}));i==="vertical"?l=B_().y(Vy).x1(By).x0(v=>v.base.x):l=B_().x(By).y1(Vy).y0(v=>v.base.y);var d=l.defined(EH).curve(a),f=s?u.filter(EH):u;return d(f)}i==="vertical"&&bt(n)?l=B_().y(Vy).x1(By).x0(n):bt(n)?l=B_().x(By).y1(Vy).y0(n):l=Rre().x(By).y(Vy);var g=l.defined(uT).curve(a);return g(o)},og=t=>{var{className:e,points:r,path:n,pathRef:i}=t,s=Ev();if((!r||!r.length)&&!n)return null;var a={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||s,connectNulls:t.connectNulls},o=r&&r.length?$Re(a):n;return C.createElement("path",M6({},Ko(t),g8(t),{className:Hr("recharts-curve",e),d:o===null?void 0:o,ref:i}))},HRe=["x","y","top","left","width","height","className"];function L6(){return L6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},L6.apply(null,arguments)}function TH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function qRe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?TH(Object(r),!0).forEach(function(n){WRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):TH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WRe(t,e,r){return(e=GRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GRe(t){var e=KRe(t,"string");return typeof e=="symbol"?e:e+""}function KRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YRe(t,e){if(t==null)return{};var r,n,i=XRe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function XRe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var QRe=(t,e,r,n,i,s)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(s,",").concat(e,"h").concat(r),JRe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:s=0,height:a=0,className:o}=t,l=YRe(t,HRe),u=qRe({x:e,y:r,top:n,left:i,width:s,height:a},l);return!bt(e)||!bt(r)||!bt(s)||!bt(a)||!bt(n)||!bt(i)?null:C.createElement("path",L6({},Wa(u),{className:Hr("recharts-cross",o),d:QRe(e,r,s,a,n,i)}))};function ZRe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function SH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?SH(Object(r),!0).forEach(function(n){ePe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):SH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ePe(t,e,r){return(e=tPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function tPe(t){var e=rPe(t,"string");return typeof e=="symbol"?e:e+""}function rPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nPe=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),lie=(t,e,r)=>t.map(n=>"".concat(nPe(n)," ").concat(e,"ms ").concat(r)).join(","),iPe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),px=(t,e)=>Object.keys(e).reduce((r,n)=>kH(kH({},r),{},{[n]:t(n,e[n])}),{});function AH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ms(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?AH(Object(r),!0).forEach(function(n){sPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):AH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function sPe(t,e,r){return(e=aPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aPe(t){var e=oPe(t,"string");return typeof e=="symbol"?e:e+""}function oPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var dT=(t,e,r)=>t+(e-t)*r,F6=t=>{var{from:e,to:r}=t;return e!==r},cie=(t,e,r)=>{var n=px((i,s)=>{if(F6(s)){var[a,o]=t(s.from,s.to,s.velocity);return ms(ms({},s),{},{from:a,velocity:o})}return s},e);return r<1?px((i,s)=>F6(s)&&n[i]!=null?ms(ms({},s),{},{velocity:dT(s.velocity,n[i].velocity,r),from:dT(s.from,n[i].from,r)}):s,e):cie(t,n,r-1)};function lPe(t,e,r,n,i,s){var a,o=n.reduce((g,v)=>ms(ms({},g),{},{[v]:{from:t[v],velocity:0,to:e[v]}}),{}),l=()=>px((g,v)=>v.from,o),u=()=>!Object.values(o).filter(F6).length,d=null,f=g=>{a||(a=g);var v=g-a,x=v/r.dt;o=cie(r,o,x),i(ms(ms(ms({},t),e),l())),a=g,u()||(d=s.setTimeout(f))};return()=>(d=s.setTimeout(f),()=>{var g;(g=d)===null||g===void 0||g()})}function cPe(t,e,r,n,i,s,a){var o=null,l=i.reduce((f,g)=>{var v=t[g],x=e[g];return v==null||x==null?f:ms(ms({},f),{},{[g]:[v,x]})},{}),u,d=f=>{u||(u=f);var g=(f-u)/n,v=px((b,w)=>dT(...w,r(g)),l);if(s(ms(ms(ms({},t),e),v)),g<1)o=a.setTimeout(d);else{var x=px((b,w)=>dT(...w,r(1)),l);s(ms(ms(ms({},t),e),x))}};return()=>(o=a.setTimeout(d),()=>{var f;(f=o)===null||f===void 0||f()})}const uPe=(t,e,r,n,i,s)=>{var a=iPe(t,e);return r==null?()=>(i(ms(ms({},t),e)),()=>{}):r.isStepper===!0?lPe(t,e,r,a,i,s):cPe(t,e,r,n,a,i,s)};var hT=1e-4,uie=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],die=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),CH=(t,e)=>r=>{var n=uie(t,e);return die(n,r)},dPe=(t,e)=>r=>{var n=uie(t,e),i=[...n.map((s,a)=>s*a).slice(1),0];return die(i,r)},hPe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(s=>parseFloat(s));return[i[0],i[1],i[2],i[3]]},fPe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=hPe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},mPe=(t,e,r,n)=>{var i=CH(t,r),s=CH(e,n),a=dPe(t,r),o=u=>u>1?1:u<0?0:u,l=u=>{for(var d=u>1?1:u,f=d,g=0;g<8;++g){var v=i(f)-d,x=a(f);if(Math.abs(v-d)<hT||x<hT)return s(f);f=o(f-v/x)}return s(f)};return l.isStepper=!1,l},NH=function(){return mPe(...fPe(...arguments))},pPe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,s=(a,o,l)=>{var u=-(a-o)*r,d=l*n,f=l+(u-d)*i/1e3,g=l*i/1e3+a;return Math.abs(g-o)<hT&&Math.abs(f)<hT?[o,0]:[g,f]};return s.isStepper=!0,s.dt=i,s},gPe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return NH(t);case"spring":return pPe();default:if(t.split("(")[0]==="cubic-bezier")return NH(t)}return typeof t=="function"?t:null};function vPe(t){var e,r=()=>null,n=!1,i=null,s=a=>{if(!n){if(Array.isArray(a)){if(!a.length)return;var o=a,[l,...u]=o;if(typeof l=="number"){i=t.setTimeout(s.bind(null,u),l);return}s(l),i=t.setTimeout(s.bind(null,u));return}typeof a=="string"&&(e=a,r(e)),typeof a=="object"&&(e=a,r(e)),typeof a=="function"&&a()}};return{stop:()=>{n=!0},start:a=>{n=!1,i&&(i(),i=null),s(a)},subscribe:a=>(r=a,()=>{r=()=>null}),getTimeoutController:()=>t}}class yPe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,s=a=>{a-n>=r?e(a):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(s))};return i=requestAnimationFrame(s),()=>{i!=null&&cancelAnimationFrame(i)}}}function xPe(){return vPe(new yPe)}var bPe=C.createContext(xPe);function wPe(t,e){var r=C.useContext(bPe);return C.useMemo(()=>e??r(t),[t,e,r])}var _Pe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),_b={isSsr:_Pe()},EPe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},IH={t:0},kN={t:1};function D4(t){var e=xs(t,EPe),{isActive:r,canBegin:n,duration:i,easing:s,begin:a,onAnimationEnd:o,onAnimationStart:l,children:u}=e,d=r==="auto"?!_b.isSsr:r,f=wPe(e.animationId,e.animationManager),[g,v]=C.useState(d?IH:kN),x=C.useRef(null);return C.useEffect(()=>{d||v(kN)},[d]),C.useEffect(()=>{if(!d||!n)return gb;var b=uPe(IH,kN,gPe(s),i,v,f.getTimeoutController()),w=()=>{x.current=b()};return f.start([l,a,w,i,o]),()=>{f.stop(),x.current&&x.current(),o()}},[d,n,i,s,a,l,o,f]),u(g.t)}function M4(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=C.useRef(lx(e)),n=C.useRef(t);return n.current!==t&&(r.current=lx(e),n.current=t),r.current}var TPe=["radius"],SPe=["radius"],OH,RH,PH,jH,DH,MH,LH,FH,BH,VH;function UH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function zH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?UH(Object(r),!0).forEach(function(n){kPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):UH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function kPe(t,e,r){return(e=APe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function APe(t){var e=CPe(t,"string");return typeof e=="symbol"?e:e+""}function CPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fT(){return fT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fT.apply(null,arguments)}function $H(t,e){if(t==null)return{};var r,n,i=NPe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function NPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Bc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var HH=(t,e,r,n,i)=>{var s=Ih(r),a=Ih(n),o=Math.min(Math.abs(s)/2,Math.abs(a)/2),l=a>=0?1:-1,u=s>=0?1:-1,d=a>=0&&s>=0||a<0&&s<0?1:0,f;if(o>0&&i instanceof Array){for(var g=[0,0,0,0],v=0,x=4;v<x;v++)g[v]=i[v]>o?o:i[v];f=Ei(OH||(OH=Bc(["M",",",""])),t,e+l*g[0]),g[0]>0&&(f+=Ei(RH||(RH=Bc(["A ",",",",0,0,",",",",",""])),g[0],g[0],d,t+u*g[0],e)),f+=Ei(PH||(PH=Bc(["L ",",",""])),t+r-u*g[1],e),g[1]>0&&(f+=Ei(jH||(jH=Bc(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],d,t+r,e+l*g[1])),f+=Ei(DH||(DH=Bc(["L ",",",""])),t+r,e+n-l*g[2]),g[2]>0&&(f+=Ei(MH||(MH=Bc(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],d,t+r-u*g[2],e+n)),f+=Ei(LH||(LH=Bc(["L ",",",""])),t+u*g[3],e+n),g[3]>0&&(f+=Ei(FH||(FH=Bc(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],d,t,e+n-l*g[3])),f+="Z"}else if(o>0&&i===+i&&i>0){var b=Math.min(o,i);f=Ei(BH||(BH=Bc(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+l*b,b,b,d,t+u*b,e,t+r-u*b,e,b,b,d,t+r,e+l*b,t+r,e+n-l*b,b,b,d,t+r-u*b,e+n,t+u*b,e+n,b,b,d,t,e+n-l*b)}else f=Ei(VH||(VH=Bc(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return f},qH={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hie=t=>{var e=xs(t,qH),r=C.useRef(null),[n,i]=C.useState(-1);C.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var Q=r.current.getTotalLength();Q&&i(Q)}catch{}},[]);var{x:s,y:a,width:o,height:l,radius:u,className:d}=e,{animationEasing:f,animationDuration:g,animationBegin:v,isAnimationActive:x,isUpdateAnimationActive:b}=e,w=C.useRef(o),E=C.useRef(l),k=C.useRef(s),A=C.useRef(a),O=C.useMemo(()=>({x:s,y:a,width:o,height:l,radius:u}),[s,a,o,l,u]),P=M4(O,"rectangle-");if(s!==+s||a!==+a||o!==+o||l!==+l||o===0||l===0)return null;var j=Hr("recharts-rectangle",d);if(!b){var S=Wa(e),{radius:I}=S,R=$H(S,TPe);return C.createElement("path",fT({},R,{x:Ih(s),y:Ih(a),width:Ih(o),height:Ih(l),radius:typeof u=="number"?u:void 0,className:j,d:HH(s,a,o,l,u)}))}var D=w.current,M=E.current,L=k.current,U=A.current,le="0px ".concat(n===-1?1:n,"px"),ue="".concat(n,"px 0px"),J=lie(["strokeDasharray"],g,typeof f=="string"?f:qH.animationEasing);return C.createElement(D4,{animationId:P,key:P,canBegin:n>0,duration:g,easing:f,isActive:b,begin:v},Q=>{var he=ia(D,o,Q),Z=ia(M,l,Q),ge=ia(L,s,Q),H=ia(U,a,Q);r.current&&(w.current=he,E.current=Z,k.current=ge,A.current=H);var B;x?Q>0?B={transition:J,strokeDasharray:ue}:B={strokeDasharray:le}:B={strokeDasharray:ue};var q=Wa(e),{radius:W}=q,Y=$H(q,SPe);return C.createElement("path",fT({},Y,{radius:typeof u=="number"?u:void 0,className:j,d:HH(ge,H,he,Z,u),ref:r,style:zH(zH({},B),e.style)}))})};function WH(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function GH(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WH(Object(r),!0).forEach(function(n){IPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WH(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IPe(t,e,r){return(e=OPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function OPe(t){var e=RPe(t,"string");return typeof e=="symbol"?e:e+""}function RPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var mT=Math.PI/180,PPe=t=>t*180/Math.PI,as=(t,e,r,n)=>({x:t+Math.cos(-mT*n)*r,y:e+Math.sin(-mT*n)*r}),fie=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},jPe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:s}=e;return Math.sqrt((r-i)**2+(n-s)**2)},DPe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:s}=e,a=jPe({x:r,y:n},{x:i,y:s});if(a<=0)return{radius:a,angle:0};var o=(r-i)/a,l=Math.acos(o);return n>s&&(l=2*Math.PI-l),{radius:a,angle:PPe(l),angleInRadian:l}},MPe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),s=Math.min(n,i);return{startAngle:e-s*360,endAngle:r-s*360}},LPe=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),s=Math.floor(n/360),a=Math.min(i,s);return t+a*360},FPe=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:s}=DPe({x:r,y:n},e),{innerRadius:a,outerRadius:o}=e;if(i<a||i>o||i===0)return null;var{startAngle:l,endAngle:u}=MPe(e),d=s,f;if(l<=u){for(;d>u;)d-=360;for(;d<l;)d+=360;f=d>=l&&d<=u}else{for(;d>l;)d-=360;for(;d<u;)d+=360;f=d>=u&&d<=l}return f?GH(GH({},e),{},{radius:i,angle:LPe(d,e)}):null};function mie(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:s}=t,a=as(e,r,n,i),o=as(e,r,n,s);return{points:[a,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:s}}var KH,YH,XH,QH,JH,ZH,eq;function B6(){return B6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},B6.apply(null,arguments)}function b0(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var BPe=(t,e)=>{var r=Aa(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},K_=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:s,isExternal:a,cornerRadius:o,cornerIsExternal:l}=t,u=o*(a?1:-1)+n,d=Math.asin(o/u)/mT,f=l?i:i+s*d,g=as(e,r,u,f),v=as(e,r,n,f),x=l?i-s*d:i,b=as(e,r,u*Math.cos(d*mT),x);return{center:g,circleTangency:v,lineTangency:b,theta:d}},pie=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:s,endAngle:a}=t,o=BPe(s,a),l=s+o,u=as(e,r,i,s),d=as(e,r,i,l),f=Ei(KH||(KH=b0(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),u.x,u.y,i,i,+(Math.abs(o)>180),+(s>l),d.x,d.y);if(n>0){var g=as(e,r,n,s),v=as(e,r,n,l);f+=Ei(YH||(YH=b0(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),v.x,v.y,n,n,+(Math.abs(o)>180),+(s<=l),g.x,g.y)}else f+=Ei(XH||(XH=b0(["L ",","," Z"])),e,r);return f},VPe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:s,forceCornerRadius:a,cornerIsExternal:o,startAngle:l,endAngle:u}=t,d=Aa(u-l),{circleTangency:f,lineTangency:g,theta:v}=K_({cx:e,cy:r,radius:i,angle:l,sign:d,cornerRadius:s,cornerIsExternal:o}),{circleTangency:x,lineTangency:b,theta:w}=K_({cx:e,cy:r,radius:i,angle:u,sign:-d,cornerRadius:s,cornerIsExternal:o}),E=o?Math.abs(l-u):Math.abs(l-u)-v-w;if(E<0)return a?Ei(QH||(QH=b0(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,s,s,s*2,s,s,-s*2):pie({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:l,endAngle:u});var k=Ei(JH||(JH=b0(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,s,s,+(d<0),f.x,f.y,i,i,+(E>180),+(d<0),x.x,x.y,s,s,+(d<0),b.x,b.y);if(n>0){var{circleTangency:A,lineTangency:O,theta:P}=K_({cx:e,cy:r,radius:n,angle:l,sign:d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),{circleTangency:j,lineTangency:S,theta:I}=K_({cx:e,cy:r,radius:n,angle:u,sign:-d,isExternal:!0,cornerRadius:s,cornerIsExternal:o}),R=o?Math.abs(l-u):Math.abs(l-u)-P-I;if(R<0&&s===0)return"".concat(k,"L").concat(e,",").concat(r,"Z");k+=Ei(ZH||(ZH=b0(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),S.x,S.y,s,s,+(d<0),j.x,j.y,n,n,+(R>180),+(d>0),A.x,A.y,s,s,+(d<0),O.x,O.y)}else k+=Ei(eq||(eq=b0(["L",",","Z"])),e,r);return k},UPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},gie=t=>{var e=xs(t,UPe),{cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:a,forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d,className:f}=e;if(s<i||u===d)return null;var g=Hr("recharts-sector",f),v=s-i,x=qo(a,v,0,!0),b;return x>0&&Math.abs(u-d)<360?b=VPe({cx:r,cy:n,innerRadius:i,outerRadius:s,cornerRadius:Math.min(x,v/2),forceCornerRadius:o,cornerIsExternal:l,startAngle:u,endAngle:d}):b=pie({cx:r,cy:n,innerRadius:i,outerRadius:s,startAngle:u,endAngle:d}),C.createElement("path",B6({},Wa(e),{className:g,d:b}))};function zPe(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(Gre(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:s,outerRadius:a,angle:o}=e,l=as(n,i,s,o),u=as(n,i,a,o);return[{x:l.x,y:l.y},{x:u.x,y:u.y}]}return mie(e)}}var AN={},CN={},NN={},tq;function $Pe(){return tq||(tq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sne();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(NN)),NN}var rq;function HPe(){return rq||(rq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=$Pe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(CN)),CN}var nq;function qPe(){return nq||(nq=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ane(),r=HPe();function n(i,s,a){a&&typeof a!="number"&&e.isIterateeCall(i,s,a)&&(s=a=void 0),i=r.toFinite(i),s===void 0?(s=i,i=0):s=r.toFinite(s),a=a===void 0?i<s?1:-1:r.toFinite(a);const o=Math.max(Math.ceil((s-i)/(a||1)),0),l=new Array(o);for(let u=0;u<o;u++)l[u]=i,i+=a;return l}t.range=n})(AN)),AN}var IN,iq;function WPe(){return iq||(iq=1,IN=qPe().range),IN}var GPe=WPe();const vie=Jo(GPe);function $h(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function KPe(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function P8(t){let e,r,n;t.length!==2?(e=$h,r=(o,l)=>$h(t(o),l),n=(o,l)=>t(o)-l):(e=t===$h||t===KPe?t:YPe,r=t,n=t);function i(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<0?u=f+1:d=f}while(u<d)}return u}function s(o,l,u=0,d=o.length){if(u<d){if(e(l,l)!==0)return d;do{const f=u+d>>>1;r(o[f],l)<=0?u=f+1:d=f}while(u<d)}return u}function a(o,l,u=0,d=o.length){const f=i(o,l,u,d-1);return f>u&&n(o[f-1],l)>-n(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function YPe(){return 0}function yie(t){return t===null?NaN:+t}function*XPe(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const QPe=P8($h),Eb=QPe.right;P8(yie).center;class sq extends Map{constructor(e,r=e8e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(aq(this,e))}has(e){return super.has(aq(this,e))}set(e,r){return super.set(JPe(this,e),r)}delete(e){return super.delete(ZPe(this,e))}}function aq({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function JPe({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function ZPe({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function e8e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function t8e(t=$h){if(t===$h)return xie;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function xie(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const r8e=Math.sqrt(50),n8e=Math.sqrt(10),i8e=Math.sqrt(2);function pT(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),s=n/Math.pow(10,i),a=s>=r8e?10:s>=n8e?5:s>=i8e?2:1;let o,l,u;return i<0?(u=Math.pow(10,-i)/a,o=Math.round(t*u),l=Math.round(e*u),o/u<t&&++o,l/u>e&&--l,u=-u):(u=Math.pow(10,i)*a,o=Math.round(t/u),l=Math.round(e/u),o*u<t&&++o,l*u>e&&--l),l<o&&.5<=r&&r<2?pT(t,e,r*2):[o,l,u]}function V6(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,s,a]=n?pT(e,t,r):pT(t,e,r);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(n)if(a<0)for(let u=0;u<o;++u)l[u]=(s-u)/-a;else for(let u=0;u<o;++u)l[u]=(s-u)*a;else if(a<0)for(let u=0;u<o;++u)l[u]=(i+u)/-a;else for(let u=0;u<o;++u)l[u]=(i+u)*a;return l}function U6(t,e,r){return e=+e,t=+t,r=+r,pT(t,e,r)[2]}function z6(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?U6(e,t,r):U6(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function oq(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function lq(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function bie(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?xie:t8e(i);n>r;){if(n-r>600){const l=n-r+1,u=e-r+1,d=Math.log(l),f=.5*Math.exp(2*d/3),g=.5*Math.sqrt(d*f*(l-f)/l)*(u-l/2<0?-1:1),v=Math.max(r,Math.floor(e-u*f/l+g)),x=Math.min(n,Math.floor(e+(l-u)*f/l+g));bie(t,e,v,x,i)}const s=t[e];let a=r,o=n;for(Uy(t,r,e),i(t[n],s)>0&&Uy(t,r,n);a<o;){for(Uy(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[r],s)===0?Uy(t,r,o):(++o,Uy(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function Uy(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function s8e(t,e,r){if(t=Float64Array.from(XPe(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return lq(t);if(e>=1)return oq(t);var n,i=(n-1)*e,s=Math.floor(i),a=oq(bie(t,s).subarray(0,s+1)),o=lq(t.subarray(s+1));return a+(o-a)*(i-s)}}function a8e(t,e,r=yie){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,s=Math.floor(i),a=+r(t[s],s,t),o=+r(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function o8e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,s=new Array(i);++n<i;)s[n]=t+n*r;return s}function Dl(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function Id(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $6=Symbol("implicit");function j8(){var t=new sq,e=[],r=[],n=$6;function i(s){let a=t.get(s);if(a===void 0){if(n!==$6)return n;t.set(s,a=e.push(s)-1)}return r[a%r.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new sq;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(r=Array.from(s),i):r.slice()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return j8(e,r).unknown(n)},Dl.apply(i,arguments),i}function D8(){var t=j8().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,s,a,o=!1,l=0,u=0,d=.5;delete t.unknown;function f(){var g=e().length,v=i<n,x=v?i:n,b=v?n:i;s=(b-x)/Math.max(1,g-l+u*2),o&&(s=Math.floor(s)),x+=(b-x-s*(g-l))*d,a=s*(1-l),o&&(x=Math.round(x),a=Math.round(a));var w=o8e(g).map(function(E){return x+s*E});return r(v?w.reverse():w)}return t.domain=function(g){return arguments.length?(e(g),f()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,f()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(g){return arguments.length?(o=!!g,f()):o},t.padding=function(g){return arguments.length?(l=Math.min(1,u=+g),f()):l},t.paddingInner=function(g){return arguments.length?(l=Math.min(1,g),f()):l},t.paddingOuter=function(g){return arguments.length?(u=+g,f()):u},t.align=function(g){return arguments.length?(d=Math.max(0,Math.min(1,g)),f()):d},t.copy=function(){return D8(e(),[n,i]).round(o).paddingInner(l).paddingOuter(u).align(d)},Dl.apply(f(),arguments)}function wie(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return wie(e())},t}function l8e(){return wie(D8.apply(null,arguments).paddingInner(1))}function M8(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function _ie(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function Tb(){}var gx=.7,gT=1/gx,lg="\\s*([+-]?\\d+)\\s*",vx="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",nu="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",c8e=/^#([0-9a-f]{3,8})$/,u8e=new RegExp(`^rgb\\(${lg},${lg},${lg}\\)$`),d8e=new RegExp(`^rgb\\(${nu},${nu},${nu}\\)$`),h8e=new RegExp(`^rgba\\(${lg},${lg},${lg},${vx}\\)$`),f8e=new RegExp(`^rgba\\(${nu},${nu},${nu},${vx}\\)$`),m8e=new RegExp(`^hsl\\(${vx},${nu},${nu}\\)$`),p8e=new RegExp(`^hsla\\(${vx},${nu},${nu},${vx}\\)$`),cq={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};M8(Tb,yx,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:uq,formatHex:uq,formatHex8:g8e,formatHsl:v8e,formatRgb:dq,toString:dq});function uq(){return this.rgb().formatHex()}function g8e(){return this.rgb().formatHex8()}function v8e(){return Eie(this).formatHsl()}function dq(){return this.rgb().formatRgb()}function yx(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=c8e.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?hq(e):r===3?new mo(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?Y_(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?Y_(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=u8e.exec(t))?new mo(e[1],e[2],e[3],1):(e=d8e.exec(t))?new mo(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=h8e.exec(t))?Y_(e[1],e[2],e[3],e[4]):(e=f8e.exec(t))?Y_(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=m8e.exec(t))?pq(e[1],e[2]/100,e[3]/100,1):(e=p8e.exec(t))?pq(e[1],e[2]/100,e[3]/100,e[4]):cq.hasOwnProperty(t)?hq(cq[t]):t==="transparent"?new mo(NaN,NaN,NaN,0):null}function hq(t){return new mo(t>>16&255,t>>8&255,t&255,1)}function Y_(t,e,r,n){return n<=0&&(t=e=r=NaN),new mo(t,e,r,n)}function y8e(t){return t instanceof Tb||(t=yx(t)),t?(t=t.rgb(),new mo(t.r,t.g,t.b,t.opacity)):new mo}function H6(t,e,r,n){return arguments.length===1?y8e(t):new mo(t,e,r,n??1)}function mo(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}M8(mo,H6,_ie(Tb,{brighter(t){return t=t==null?gT:Math.pow(gT,t),new mo(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?gx:Math.pow(gx,t),new mo(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new mo(O0(this.r),O0(this.g),O0(this.b),vT(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:fq,formatHex:fq,formatHex8:x8e,formatRgb:mq,toString:mq}));function fq(){return`#${w0(this.r)}${w0(this.g)}${w0(this.b)}`}function x8e(){return`#${w0(this.r)}${w0(this.g)}${w0(this.b)}${w0((isNaN(this.opacity)?1:this.opacity)*255)}`}function mq(){const t=vT(this.opacity);return`${t===1?"rgb(":"rgba("}${O0(this.r)}, ${O0(this.g)}, ${O0(this.b)}${t===1?")":`, ${t})`}`}function vT(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function O0(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function w0(t){return t=O0(t),(t<16?"0":"")+t.toString(16)}function pq(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new nc(t,e,r,n)}function Eie(t){if(t instanceof nc)return new nc(t.h,t.s,t.l,t.opacity);if(t instanceof Tb||(t=yx(t)),!t)return new nc;if(t instanceof nc)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),s=Math.max(e,r,n),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(r-n)/o+(r<n)*6:r===s?a=(n-e)/o+2:a=(e-r)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new nc(a,o,l,t.opacity)}function b8e(t,e,r,n){return arguments.length===1?Eie(t):new nc(t,e,r,n??1)}function nc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}M8(nc,b8e,_ie(Tb,{brighter(t){return t=t==null?gT:Math.pow(gT,t),new nc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?gx:Math.pow(gx,t),new nc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new mo(ON(t>=240?t-240:t+120,i,n),ON(t,i,n),ON(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new nc(gq(this.h),X_(this.s),X_(this.l),vT(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=vT(this.opacity);return`${t===1?"hsl(":"hsla("}${gq(this.h)}, ${X_(this.s)*100}%, ${X_(this.l)*100}%${t===1?")":`, ${t})`}`}}));function gq(t){return t=(t||0)%360,t<0?t+360:t}function X_(t){return Math.max(0,Math.min(1,t||0))}function ON(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const L8=t=>()=>t;function w8e(t,e){return function(r){return t+r*e}}function _8e(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function E8e(t){return(t=+t)==1?Tie:function(e,r){return r-e?_8e(e,r,t):L8(isNaN(e)?r:e)}}function Tie(t,e){var r=e-t;return r?w8e(t,r):L8(isNaN(t)?e:t)}const vq=(function t(e){var r=E8e(e);function n(i,s){var a=r((i=H6(i)).r,(s=H6(s)).r),o=r(i.g,s.g),l=r(i.b,s.b),u=Tie(i.opacity,s.opacity);return function(d){return i.r=a(d),i.g=o(d),i.b=l(d),i.opacity=u(d),i+""}}return n.gamma=t,n})(1);function T8e(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(s){for(i=0;i<r;++i)n[i]=t[i]*(1-s)+e[i]*s;return n}}function S8e(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function k8e(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),s=new Array(r),a;for(a=0;a<n;++a)i[a]=Tv(t[a],e[a]);for(;a<r;++a)s[a]=e[a];return function(o){for(a=0;a<n;++a)s[a]=i[a](o);return s}}function A8e(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function yT(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function C8e(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=Tv(t[i],e[i]):n[i]=e[i];return function(s){for(i in r)n[i]=r[i](s);return n}}var q6=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,RN=new RegExp(q6.source,"g");function N8e(t){return function(){return t}}function I8e(t){return function(e){return t(e)+""}}function O8e(t,e){var r=q6.lastIndex=RN.lastIndex=0,n,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(n=q6.exec(t))&&(i=RN.exec(e));)(s=i.index)>r&&(s=e.slice(r,s),o[a]?o[a]+=s:o[++a]=s),(n=n[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:yT(n,i)})),r=RN.lastIndex;return r<e.length&&(s=e.slice(r),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?I8e(l[0].x):N8e(e):(e=l.length,function(u){for(var d=0,f;d<e;++d)o[(f=l[d]).i]=f.x(u);return o.join("")})}function Tv(t,e){var r=typeof e,n;return e==null||r==="boolean"?L8(e):(r==="number"?yT:r==="string"?(n=yx(e))?(e=n,vq):O8e:e instanceof yx?vq:e instanceof Date?A8e:S8e(e)?T8e:Array.isArray(e)?k8e:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?C8e:yT)(t,e)}function F8(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function R8e(t,e){e===void 0&&(e=t,t=Tv);for(var r=0,n=e.length-1,i=e[0],s=new Array(n<0?0:n);r<n;)s[r]=t(i,i=e[++r]);return function(a){var o=Math.max(0,Math.min(n-1,Math.floor(a*=n)));return s[o](a-o)}}function P8e(t){return function(){return t}}function xT(t){return+t}var yq=[0,1];function za(t){return t}function W6(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:P8e(isNaN(e)?NaN:.5)}function j8e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function D8e(t,e,r){var n=t[0],i=t[1],s=e[0],a=e[1];return i<n?(n=W6(i,n),s=r(a,s)):(n=W6(n,i),s=r(s,a)),function(o){return s(n(o))}}function M8e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),s=new Array(n),a=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<n;)i[a]=W6(t[a],t[a+1]),s[a]=r(e[a],e[a+1]);return function(o){var l=Eb(t,o,1,n)-1;return s[l](i[l](o))}}function Sb(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function L4(){var t=yq,e=yq,r=Tv,n,i,s,a=za,o,l,u;function d(){var g=Math.min(t.length,e.length);return a!==za&&(a=j8e(t[0],t[g-1])),o=g>2?M8e:D8e,l=u=null,f}function f(g){return g==null||isNaN(g=+g)?s:(l||(l=o(t.map(n),e,r)))(n(a(g)))}return f.invert=function(g){return a(i((u||(u=o(e,t.map(n),yT)))(g)))},f.domain=function(g){return arguments.length?(t=Array.from(g,xT),d()):t.slice()},f.range=function(g){return arguments.length?(e=Array.from(g),d()):e.slice()},f.rangeRound=function(g){return e=Array.from(g),r=F8,d()},f.clamp=function(g){return arguments.length?(a=g?!0:za,d()):a!==za},f.interpolate=function(g){return arguments.length?(r=g,d()):r},f.unknown=function(g){return arguments.length?(s=g,f):s},function(g,v){return n=g,i=v,d()}}function B8(){return L4()(za,za)}function L8e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function bT(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Gg(t){return t=bT(Math.abs(t)),t?t[1]:NaN}function F8e(t,e){return function(r,n){for(var i=r.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>n&&(o=Math.max(1,n-l)),s.push(r.substring(i-=o,i+o)),!((l+=o+1)>n));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function B8e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var V8e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function xx(t){if(!(e=V8e.exec(t)))throw new Error("invalid format: "+t);var e;return new V8({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}xx.prototype=V8.prototype;function V8(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}V8.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function U8e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var Sie;function z8e(t,e){var r=bT(t,e);if(!r)return t+"";var n=r[0],i=r[1],s=i-(Sie=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=n.length;return s===a?n:s>a?n+new Array(s-a+1).join("0"):s>0?n.slice(0,s)+"."+n.slice(s):"0."+new Array(1-s).join("0")+bT(t,Math.max(0,e+s-1))[0]}function xq(t,e){var r=bT(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const bq={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:L8e,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>xq(t*100,e),r:xq,s:z8e,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function wq(t){return t}var _q=Array.prototype.map,Eq=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function $8e(t){var e=t.grouping===void 0||t.thousands===void 0?wq:F8e(_q.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?wq:B8e(_q.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function u(f){f=xx(f);var g=f.fill,v=f.align,x=f.sign,b=f.symbol,w=f.zero,E=f.width,k=f.comma,A=f.precision,O=f.trim,P=f.type;P==="n"?(k=!0,P="g"):bq[P]||(A===void 0&&(A=12),O=!0,P="g"),(w||g==="0"&&v==="=")&&(w=!0,g="0",v="=");var j=b==="$"?r:b==="#"&&/[boxX]/.test(P)?"0"+P.toLowerCase():"",S=b==="$"?n:/[%p]/.test(P)?a:"",I=bq[P],R=/[defgprs%]/.test(P);A=A===void 0?6:/[gprs]/.test(P)?Math.max(1,Math.min(21,A)):Math.max(0,Math.min(20,A));function D(M){var L=j,U=S,le,ue,J;if(P==="c")U=I(M)+U,M="";else{M=+M;var Q=M<0||1/M<0;if(M=isNaN(M)?l:I(Math.abs(M),A),O&&(M=U8e(M)),Q&&+M==0&&x!=="+"&&(Q=!1),L=(Q?x==="("?x:o:x==="-"||x==="("?"":x)+L,U=(P==="s"?Eq[8+Sie/3]:"")+U+(Q&&x==="("?")":""),R){for(le=-1,ue=M.length;++le<ue;)if(J=M.charCodeAt(le),48>J||J>57){U=(J===46?i+M.slice(le+1):M.slice(le))+U,M=M.slice(0,le);break}}}k&&!w&&(M=e(M,1/0));var he=L.length+M.length+U.length,Z=he<E?new Array(E-he+1).join(g):"";switch(k&&w&&(M=e(Z+M,Z.length?E-U.length:1/0),Z=""),v){case"<":M=L+M+U+Z;break;case"=":M=L+Z+M+U;break;case"^":M=Z.slice(0,he=Z.length>>1)+L+M+U+Z.slice(he);break;default:M=Z+L+M+U;break}return s(M)}return D.toString=function(){return f+""},D}function d(f,g){var v=u((f=xx(f),f.type="f",f)),x=Math.max(-8,Math.min(8,Math.floor(Gg(g)/3)))*3,b=Math.pow(10,-x),w=Eq[8+x/3];return function(E){return v(b*E)+w}}return{format:u,formatPrefix:d}}var Q_,U8,kie;H8e({thousands:",",grouping:[3],currency:["$",""]});function H8e(t){return Q_=$8e(t),U8=Q_.format,kie=Q_.formatPrefix,Q_}function q8e(t){return Math.max(0,-Gg(Math.abs(t)))}function W8e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Gg(e)/3)))*3-Gg(Math.abs(t)))}function G8e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Gg(e)-Gg(t))+1}function Aie(t,e,r,n){var i=z6(t,e,r),s;switch(n=xx(n??",f"),n.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(s=W8e(i,a))&&(n.precision=s),kie(n,a)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(s=G8e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=s-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(s=q8e(i))&&(n.precision=s-(n.type==="%")*2);break}}return U8(n)}function wf(t){var e=t.domain;return t.ticks=function(r){var n=e();return V6(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return Aie(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,s=n.length-1,a=n[i],o=n[s],l,u,d=10;for(o<a&&(u=a,a=o,o=u,u=i,i=s,s=u);d-- >0;){if(u=U6(a,o,r),u===l)return n[i]=a,n[s]=o,e(n);if(u>0)a=Math.floor(a/u)*u,o=Math.ceil(o/u)*u;else if(u<0)a=Math.ceil(a*u)/u,o=Math.floor(o*u)/u;else break;l=u}return t},t}function Cie(){var t=B8();return t.copy=function(){return Sb(t,Cie())},Dl.apply(t,arguments),wf(t)}function Nie(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,xT),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return Nie(t).unknown(e)},t=arguments.length?Array.from(t,xT):[0,1],wf(r)}function Iie(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],s=t[n],a;return s<i&&(a=r,r=n,n=a,a=i,i=s,s=a),t[r]=e.floor(i),t[n]=e.ceil(s),t}function Tq(t){return Math.log(t)}function Sq(t){return Math.exp(t)}function K8e(t){return-Math.log(-t)}function Y8e(t){return-Math.exp(-t)}function X8e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function Q8e(t){return t===10?X8e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function J8e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function kq(t){return(e,r)=>-t(-e,r)}function z8(t){const e=t(Tq,Sq),r=e.domain;let n=10,i,s;function a(){return i=J8e(n),s=Q8e(n),r()[0]<0?(i=kq(i),s=kq(s),t(K8e,Y8e)):t(Tq,Sq),e}return e.base=function(o){return arguments.length?(n=+o,a()):n},e.domain=function(o){return arguments.length?(r(o),a()):r()},e.ticks=o=>{const l=r();let u=l[0],d=l[l.length-1];const f=d<u;f&&([u,d]=[d,u]);let g=i(u),v=i(d),x,b;const w=o==null?10:+o;let E=[];if(!(n%1)&&v-g<w){if(g=Math.floor(g),v=Math.ceil(v),u>0){for(;g<=v;++g)for(x=1;x<n;++x)if(b=g<0?x/s(-g):x*s(g),!(b<u)){if(b>d)break;E.push(b)}}else for(;g<=v;++g)for(x=n-1;x>=1;--x)if(b=g>0?x/s(-g):x*s(g),!(b<u)){if(b>d)break;E.push(b)}E.length*2<w&&(E=V6(u,d,w))}else E=V6(g,v,Math.min(v-g,w)).map(s);return f?E.reverse():E},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=n===10?"s":","),typeof l!="function"&&(!(n%1)&&(l=xx(l)).precision==null&&(l.trim=!0),l=U8(l)),o===1/0)return l;const u=Math.max(1,n*o/e.ticks().length);return d=>{let f=d/s(Math.round(i(d)));return f*n<n-.5&&(f*=n),f<=u?l(d):""}},e.nice=()=>r(Iie(r(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function Oie(){const t=z8(L4()).domain([1,10]);return t.copy=()=>Sb(t,Oie()).base(t.base()),Dl.apply(t,arguments),t}function Aq(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function Cq(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function $8(t){var e=1,r=t(Aq(e),Cq(e));return r.constant=function(n){return arguments.length?t(Aq(e=+n),Cq(e)):e},wf(r)}function Rie(){var t=$8(L4());return t.copy=function(){return Sb(t,Rie()).constant(t.constant())},Dl.apply(t,arguments)}function Nq(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function Z8e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function eje(t){return t<0?-t*t:t*t}function H8(t){var e=t(za,za),r=1;function n(){return r===1?t(za,za):r===.5?t(Z8e,eje):t(Nq(r),Nq(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},wf(e)}function q8(){var t=H8(L4());return t.copy=function(){return Sb(t,q8()).exponent(t.exponent())},Dl.apply(t,arguments),t}function tje(){return q8.apply(null,arguments).exponent(.5)}function Iq(t){return Math.sign(t)*t*t}function rje(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function Pie(){var t=B8(),e=[0,1],r=!1,n;function i(s){var a=rje(t(s));return isNaN(a)?n:r?Math.round(a):a}return i.invert=function(s){return t.invert(Iq(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,xT)).map(Iq)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(r=!!s,i):r},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return Pie(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},Dl.apply(i,arguments),wf(i)}function jie(){var t=[],e=[],r=[],n;function i(){var a=0,o=Math.max(1,e.length);for(r=new Array(o-1);++a<o;)r[a-1]=a8e(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?n:e[Eb(r,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort($h),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(n=a,s):n},s.quantiles=function(){return r.slice()},s.copy=function(){return jie().domain(t).range(e).unknown(n)},Dl.apply(s,arguments)}function Die(){var t=0,e=1,r=1,n=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[Eb(n,l,0,r)]:s}function o(){var l=-1;for(n=new Array(r);++l<r;)n[l]=((l+1)*e-(l-r)*t)/(r+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(r=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var u=i.indexOf(l);return u<0?[NaN,NaN]:u<1?[t,n[0]]:u>=r?[n[r-1],e]:[n[u-1],n[u]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return n.slice()},a.copy=function(){return Die().domain([t,e]).range(i).unknown(s)},Dl.apply(wf(a),arguments)}function Mie(){var t=[.5],e=[0,1],r,n=1;function i(s){return s!=null&&s<=s?e[Eb(t,s,0,n)]:r}return i.domain=function(s){return arguments.length?(t=Array.from(s),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return Mie().domain(t).range(e).unknown(r)},Dl.apply(i,arguments)}const PN=new Date,jN=new Date;function bs(t,e,r,n){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let u;do l.push(u=new Date(+s)),e(s,o),t(s);while(u<s&&s<a);return l},i.filter=s=>bs(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),r&&(i.count=(s,a)=>(PN.setTime(+s),jN.setTime(+a),t(PN),t(jN),Math.floor(r(PN,jN))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(n?a=>n(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const wT=bs(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);wT.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?bs(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):wT);wT.range;const Ku=1e3,Sl=Ku*60,Yu=Sl*60,bd=Yu*24,W8=bd*7,Oq=bd*30,DN=bd*365,_0=bs(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Ku)},(t,e)=>(e-t)/Ku,t=>t.getUTCSeconds());_0.range;const G8=bs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ku)},(t,e)=>{t.setTime(+t+e*Sl)},(t,e)=>(e-t)/Sl,t=>t.getMinutes());G8.range;const K8=bs(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Sl)},(t,e)=>(e-t)/Sl,t=>t.getUTCMinutes());K8.range;const Y8=bs(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Ku-t.getMinutes()*Sl)},(t,e)=>{t.setTime(+t+e*Yu)},(t,e)=>(e-t)/Yu,t=>t.getHours());Y8.range;const X8=bs(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Yu)},(t,e)=>(e-t)/Yu,t=>t.getUTCHours());X8.range;const kb=bs(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Sl)/bd,t=>t.getDate()-1);kb.range;const F4=bs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bd,t=>t.getUTCDate()-1);F4.range;const Lie=bs(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/bd,t=>Math.floor(t/bd));Lie.range;function _m(t){return bs(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Sl)/W8)}const B4=_m(0),_T=_m(1),nje=_m(2),ije=_m(3),Kg=_m(4),sje=_m(5),aje=_m(6);B4.range;_T.range;nje.range;ije.range;Kg.range;sje.range;aje.range;function Em(t){return bs(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/W8)}const V4=Em(0),ET=Em(1),oje=Em(2),lje=Em(3),Yg=Em(4),cje=Em(5),uje=Em(6);V4.range;ET.range;oje.range;lje.range;Yg.range;cje.range;uje.range;const Q8=bs(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());Q8.range;const J8=bs(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());J8.range;const wd=bs(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());wd.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bs(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});wd.range;const _d=bs(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());_d.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:bs(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});_d.range;function Fie(t,e,r,n,i,s){const a=[[_0,1,Ku],[_0,5,5*Ku],[_0,15,15*Ku],[_0,30,30*Ku],[s,1,Sl],[s,5,5*Sl],[s,15,15*Sl],[s,30,30*Sl],[i,1,Yu],[i,3,3*Yu],[i,6,6*Yu],[i,12,12*Yu],[n,1,bd],[n,2,2*bd],[r,1,W8],[e,1,Oq],[e,3,3*Oq],[t,1,DN]];function o(u,d,f){const g=d<u;g&&([u,d]=[d,u]);const v=f&&typeof f.range=="function"?f:l(u,d,f),x=v?v.range(u,+d+1):[];return g?x.reverse():x}function l(u,d,f){const g=Math.abs(d-u)/f,v=P8(([,,w])=>w).right(a,g);if(v===a.length)return t.every(z6(u/DN,d/DN,f));if(v===0)return wT.every(Math.max(z6(u,d,f),1));const[x,b]=a[g/a[v-1][2]<a[v][2]/g?v-1:v];return x.every(b)}return[o,l]}const[dje,hje]=Fie(_d,J8,V4,Lie,X8,K8),[fje,mje]=Fie(wd,Q8,B4,kb,Y8,G8);function MN(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function LN(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function zy(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function pje(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,u=$y(i),d=Hy(i),f=$y(s),g=Hy(s),v=$y(a),x=Hy(a),b=$y(o),w=Hy(o),E=$y(l),k=Hy(l),A={a:Q,A:he,b:Z,B:ge,c:null,d:Lq,e:Lq,f:Fje,g:Kje,G:Xje,H:Dje,I:Mje,j:Lje,L:Bie,m:Bje,M:Vje,p:H,q:B,Q:Vq,s:Uq,S:Uje,u:zje,U:$je,V:Hje,w:qje,W:Wje,x:null,X:null,y:Gje,Y:Yje,Z:Qje,"%":Bq},O={a:q,A:W,b:Y,B:de,c:null,d:Fq,e:Fq,f:tDe,g:dDe,G:fDe,H:Jje,I:Zje,j:eDe,L:Uie,m:rDe,M:nDe,p:me,q:ce,Q:Vq,s:Uq,S:iDe,u:sDe,U:aDe,V:oDe,w:lDe,W:cDe,x:null,X:null,y:uDe,Y:hDe,Z:mDe,"%":Bq},P={a:D,A:M,b:L,B:U,c:le,d:Dq,e:Dq,f:Oje,g:jq,G:Pq,H:Mq,I:Mq,j:Aje,L:Ije,m:kje,M:Cje,p:R,q:Sje,Q:Pje,s:jje,S:Nje,u:bje,U:wje,V:_je,w:xje,W:Eje,x:ue,X:J,y:jq,Y:Pq,Z:Tje,"%":Rje};A.x=j(r,A),A.X=j(n,A),A.c=j(e,A),O.x=j(r,O),O.X=j(n,O),O.c=j(e,O);function j(se,ve){return function(Ve){var G=[],Ze=-1,Ie=0,tt=se.length,Qe,je,rt;for(Ve instanceof Date||(Ve=new Date(+Ve));++Ze<tt;)se.charCodeAt(Ze)===37&&(G.push(se.slice(Ie,Ze)),(je=Rq[Qe=se.charAt(++Ze)])!=null?Qe=se.charAt(++Ze):je=Qe==="e"?" ":"0",(rt=ve[Qe])&&(Qe=rt(Ve,je)),G.push(Qe),Ie=Ze+1);return G.push(se.slice(Ie,Ze)),G.join("")}}function S(se,ve){return function(Ve){var G=zy(1900,void 0,1),Ze=I(G,se,Ve+="",0),Ie,tt;if(Ze!=Ve.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(ve&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(Ie=LN(zy(G.y,0,1)),tt=Ie.getUTCDay(),Ie=tt>4||tt===0?ET.ceil(Ie):ET(Ie),Ie=F4.offset(Ie,(G.V-1)*7),G.y=Ie.getUTCFullYear(),G.m=Ie.getUTCMonth(),G.d=Ie.getUTCDate()+(G.w+6)%7):(Ie=MN(zy(G.y,0,1)),tt=Ie.getDay(),Ie=tt>4||tt===0?_T.ceil(Ie):_T(Ie),Ie=kb.offset(Ie,(G.V-1)*7),G.y=Ie.getFullYear(),G.m=Ie.getMonth(),G.d=Ie.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),tt="Z"in G?LN(zy(G.y,0,1)).getUTCDay():MN(zy(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(tt+5)%7:G.w+G.U*7-(tt+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,LN(G)):MN(G)}}function I(se,ve,Ve,G){for(var Ze=0,Ie=ve.length,tt=Ve.length,Qe,je;Ze<Ie;){if(G>=tt)return-1;if(Qe=ve.charCodeAt(Ze++),Qe===37){if(Qe=ve.charAt(Ze++),je=P[Qe in Rq?ve.charAt(Ze++):Qe],!je||(G=je(se,Ve,G))<0)return-1}else if(Qe!=Ve.charCodeAt(G++))return-1}return G}function R(se,ve,Ve){var G=u.exec(ve.slice(Ve));return G?(se.p=d.get(G[0].toLowerCase()),Ve+G[0].length):-1}function D(se,ve,Ve){var G=v.exec(ve.slice(Ve));return G?(se.w=x.get(G[0].toLowerCase()),Ve+G[0].length):-1}function M(se,ve,Ve){var G=f.exec(ve.slice(Ve));return G?(se.w=g.get(G[0].toLowerCase()),Ve+G[0].length):-1}function L(se,ve,Ve){var G=E.exec(ve.slice(Ve));return G?(se.m=k.get(G[0].toLowerCase()),Ve+G[0].length):-1}function U(se,ve,Ve){var G=b.exec(ve.slice(Ve));return G?(se.m=w.get(G[0].toLowerCase()),Ve+G[0].length):-1}function le(se,ve,Ve){return I(se,e,ve,Ve)}function ue(se,ve,Ve){return I(se,r,ve,Ve)}function J(se,ve,Ve){return I(se,n,ve,Ve)}function Q(se){return a[se.getDay()]}function he(se){return s[se.getDay()]}function Z(se){return l[se.getMonth()]}function ge(se){return o[se.getMonth()]}function H(se){return i[+(se.getHours()>=12)]}function B(se){return 1+~~(se.getMonth()/3)}function q(se){return a[se.getUTCDay()]}function W(se){return s[se.getUTCDay()]}function Y(se){return l[se.getUTCMonth()]}function de(se){return o[se.getUTCMonth()]}function me(se){return i[+(se.getUTCHours()>=12)]}function ce(se){return 1+~~(se.getUTCMonth()/3)}return{format:function(se){var ve=j(se+="",A);return ve.toString=function(){return se},ve},parse:function(se){var ve=S(se+="",!1);return ve.toString=function(){return se},ve},utcFormat:function(se){var ve=j(se+="",O);return ve.toString=function(){return se},ve},utcParse:function(se){var ve=S(se+="",!0);return ve.toString=function(){return se},ve}}}var Rq={"-":"",_:" ",0:"0"},qs=/^\s*\d+/,gje=/^%/,vje=/[\\^$*+?|[\]().{}]/g;function jr(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",s=i.length;return n+(s<r?new Array(r-s+1).join(e)+i:i)}function yje(t){return t.replace(vje,"\\$&")}function $y(t){return new RegExp("^(?:"+t.map(yje).join("|")+")","i")}function Hy(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function xje(t,e,r){var n=qs.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function bje(t,e,r){var n=qs.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function wje(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function _je(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function Eje(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function Pq(t,e,r){var n=qs.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function jq(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function Tje(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Sje(t,e,r){var n=qs.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function kje(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function Dq(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Aje(t,e,r){var n=qs.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function Mq(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Cje(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function Nje(t,e,r){var n=qs.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Ije(t,e,r){var n=qs.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Oje(t,e,r){var n=qs.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Rje(t,e,r){var n=gje.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Pje(t,e,r){var n=qs.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function jje(t,e,r){var n=qs.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function Lq(t,e){return jr(t.getDate(),e,2)}function Dje(t,e){return jr(t.getHours(),e,2)}function Mje(t,e){return jr(t.getHours()%12||12,e,2)}function Lje(t,e){return jr(1+kb.count(wd(t),t),e,3)}function Bie(t,e){return jr(t.getMilliseconds(),e,3)}function Fje(t,e){return Bie(t,e)+"000"}function Bje(t,e){return jr(t.getMonth()+1,e,2)}function Vje(t,e){return jr(t.getMinutes(),e,2)}function Uje(t,e){return jr(t.getSeconds(),e,2)}function zje(t){var e=t.getDay();return e===0?7:e}function $je(t,e){return jr(B4.count(wd(t)-1,t),e,2)}function Vie(t){var e=t.getDay();return e>=4||e===0?Kg(t):Kg.ceil(t)}function Hje(t,e){return t=Vie(t),jr(Kg.count(wd(t),t)+(wd(t).getDay()===4),e,2)}function qje(t){return t.getDay()}function Wje(t,e){return jr(_T.count(wd(t)-1,t),e,2)}function Gje(t,e){return jr(t.getFullYear()%100,e,2)}function Kje(t,e){return t=Vie(t),jr(t.getFullYear()%100,e,2)}function Yje(t,e){return jr(t.getFullYear()%1e4,e,4)}function Xje(t,e){var r=t.getDay();return t=r>=4||r===0?Kg(t):Kg.ceil(t),jr(t.getFullYear()%1e4,e,4)}function Qje(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+jr(e/60|0,"0",2)+jr(e%60,"0",2)}function Fq(t,e){return jr(t.getUTCDate(),e,2)}function Jje(t,e){return jr(t.getUTCHours(),e,2)}function Zje(t,e){return jr(t.getUTCHours()%12||12,e,2)}function eDe(t,e){return jr(1+F4.count(_d(t),t),e,3)}function Uie(t,e){return jr(t.getUTCMilliseconds(),e,3)}function tDe(t,e){return Uie(t,e)+"000"}function rDe(t,e){return jr(t.getUTCMonth()+1,e,2)}function nDe(t,e){return jr(t.getUTCMinutes(),e,2)}function iDe(t,e){return jr(t.getUTCSeconds(),e,2)}function sDe(t){var e=t.getUTCDay();return e===0?7:e}function aDe(t,e){return jr(V4.count(_d(t)-1,t),e,2)}function zie(t){var e=t.getUTCDay();return e>=4||e===0?Yg(t):Yg.ceil(t)}function oDe(t,e){return t=zie(t),jr(Yg.count(_d(t),t)+(_d(t).getUTCDay()===4),e,2)}function lDe(t){return t.getUTCDay()}function cDe(t,e){return jr(ET.count(_d(t)-1,t),e,2)}function uDe(t,e){return jr(t.getUTCFullYear()%100,e,2)}function dDe(t,e){return t=zie(t),jr(t.getUTCFullYear()%100,e,2)}function hDe(t,e){return jr(t.getUTCFullYear()%1e4,e,4)}function fDe(t,e){var r=t.getUTCDay();return t=r>=4||r===0?Yg(t):Yg.ceil(t),jr(t.getUTCFullYear()%1e4,e,4)}function mDe(){return"+0000"}function Bq(){return"%"}function Vq(t){return+t}function Uq(t){return Math.floor(+t/1e3)}var _p,$ie,Hie;pDe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function pDe(t){return _p=pje(t),$ie=_p.format,_p.parse,Hie=_p.utcFormat,_p.utcParse,_p}function gDe(t){return new Date(t)}function vDe(t){return t instanceof Date?+t:+new Date(+t)}function Z8(t,e,r,n,i,s,a,o,l,u){var d=B8(),f=d.invert,g=d.domain,v=u(".%L"),x=u(":%S"),b=u("%I:%M"),w=u("%I %p"),E=u("%a %d"),k=u("%b %d"),A=u("%B"),O=u("%Y");function P(j){return(l(j)<j?v:o(j)<j?x:a(j)<j?b:s(j)<j?w:n(j)<j?i(j)<j?E:k:r(j)<j?A:O)(j)}return d.invert=function(j){return new Date(f(j))},d.domain=function(j){return arguments.length?g(Array.from(j,vDe)):g().map(gDe)},d.ticks=function(j){var S=g();return t(S[0],S[S.length-1],j??10)},d.tickFormat=function(j,S){return S==null?P:u(S)},d.nice=function(j){var S=g();return(!j||typeof j.range!="function")&&(j=e(S[0],S[S.length-1],j??10)),j?g(Iie(S,j)):d},d.copy=function(){return Sb(d,Z8(t,e,r,n,i,s,a,o,l,u))},d}function yDe(){return Dl.apply(Z8(fje,mje,wd,Q8,B4,kb,Y8,G8,_0,$ie).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function xDe(){return Dl.apply(Z8(dje,hje,_d,J8,V4,F4,X8,K8,_0,Hie).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function U4(){var t=0,e=1,r,n,i,s,a=za,o=!1,l;function u(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-r)*i,o?Math.max(0,Math.min(1,f)):f))}u.domain=function(f){return arguments.length?([t,e]=f,r=s(t=+t),n=s(e=+e),i=r===n?0:1/(n-r),u):[t,e]},u.clamp=function(f){return arguments.length?(o=!!f,u):o},u.interpolator=function(f){return arguments.length?(a=f,u):a};function d(f){return function(g){var v,x;return arguments.length?([v,x]=g,a=f(v,x),u):[a(0),a(1)]}}return u.range=d(Tv),u.rangeRound=d(F8),u.unknown=function(f){return arguments.length?(l=f,u):l},function(f){return s=f,r=f(t),n=f(e),i=r===n?0:1/(n-r),u}}function _f(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function qie(){var t=wf(U4()(za));return t.copy=function(){return _f(t,qie())},Id.apply(t,arguments)}function Wie(){var t=z8(U4()).domain([1,10]);return t.copy=function(){return _f(t,Wie()).base(t.base())},Id.apply(t,arguments)}function Gie(){var t=$8(U4());return t.copy=function(){return _f(t,Gie()).constant(t.constant())},Id.apply(t,arguments)}function ej(){var t=H8(U4());return t.copy=function(){return _f(t,ej()).exponent(t.exponent())},Id.apply(t,arguments)}function bDe(){return ej.apply(null,arguments).exponent(.5)}function Kie(){var t=[],e=za;function r(n){if(n!=null&&!isNaN(n=+n))return e((Eb(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort($h),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,s)=>s8e(t,s/n))},r.copy=function(){return Kie(e).domain(t)},Id.apply(r,arguments)}function z4(){var t=0,e=.5,r=1,n=1,i,s,a,o,l,u=za,d,f=!1,g;function v(b){return isNaN(b=+b)?g:(b=.5+((b=+d(b))-s)*(n*b<n*s?o:l),u(f?Math.max(0,Math.min(1,b)):b))}v.domain=function(b){return arguments.length?([t,e,r]=b,i=d(t=+t),s=d(e=+e),a=d(r=+r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v):[t,e,r]},v.clamp=function(b){return arguments.length?(f=!!b,v):f},v.interpolator=function(b){return arguments.length?(u=b,v):u};function x(b){return function(w){var E,k,A;return arguments.length?([E,k,A]=w,u=R8e(b,[E,k,A]),v):[u(0),u(.5),u(1)]}}return v.range=x(Tv),v.rangeRound=x(F8),v.unknown=function(b){return arguments.length?(g=b,v):g},function(b){return d=b,i=b(t),s=b(e),a=b(r),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),n=s<i?-1:1,v}}function Yie(){var t=wf(z4()(za));return t.copy=function(){return _f(t,Yie())},Id.apply(t,arguments)}function Xie(){var t=z8(z4()).domain([.1,1,10]);return t.copy=function(){return _f(t,Xie()).base(t.base())},Id.apply(t,arguments)}function Qie(){var t=$8(z4());return t.copy=function(){return _f(t,Qie()).constant(t.constant())},Id.apply(t,arguments)}function tj(){var t=H8(z4());return t.copy=function(){return _f(t,tj()).exponent(t.exponent())},Id.apply(t,arguments)}function wDe(){return tj.apply(null,arguments).exponent(.5)}const t1=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:D8,scaleDiverging:Yie,scaleDivergingLog:Xie,scaleDivergingPow:tj,scaleDivergingSqrt:wDe,scaleDivergingSymlog:Qie,scaleIdentity:Nie,scaleImplicit:$6,scaleLinear:Cie,scaleLog:Oie,scaleOrdinal:j8,scalePoint:l8e,scalePow:q8,scaleQuantile:jie,scaleQuantize:Die,scaleRadial:Pie,scaleSequential:qie,scaleSequentialLog:Wie,scaleSequentialPow:ej,scaleSequentialQuantile:Kie,scaleSequentialSqrt:bDe,scaleSequentialSymlog:Gie,scaleSqrt:tje,scaleSymlog:Rie,scaleThreshold:Mie,scaleTime:yDe,scaleUtc:xDe,tickFormat:Aie},Symbol.toStringTag,{value:"Module"}));var Od=t=>t.chartData,$4=Ne([Od],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),Jie=(t,e,r,n)=>n?$4(t):Od(t),_De=(t,e,r)=>r?$4(t):Od(t);function sf(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(ni(e)&&ni(r))return!0}return!1}function zq(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function Zie(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,s;if(ni(r))i=r;else if(typeof r=="function")return;if(ni(n))s=n;else if(typeof n=="function")return;var a=[i,s];if(sf(a))return a}}function EDe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(sf(n))return zq(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,s]=t,a,o;if(i==="auto")e!=null&&(a=Math.min(...e));else if(bt(i))a=i;else if(typeof i=="function")try{e!=null&&(a=i(e==null?void 0:e[0]))}catch{}else if(typeof i=="string"&&Z$.test(i)){var l=Z$.exec(i);if(l==null||l[1]==null||e==null)a=void 0;else{var u=+l[1];a=e[0]-u}}else a=e==null?void 0:e[0];if(s==="auto")e!=null&&(o=Math.max(...e));else if(bt(s))o=s;else if(typeof s=="function")try{e!=null&&(o=s(e==null?void 0:e[1]))}catch{}else if(typeof s=="string"&&eH.test(s)){var d=eH.exec(s);if(d==null||d[1]==null||e==null)o=void 0;else{var f=+d[1];o=e[1]+f}}else o=e==null?void 0:e[1];var g=[a,o];if(sf(g))return e==null?g:zq(g,e,r)}}}var Sv=1e9,TDe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},nj,ri=!0,Rl="[DecimalError] ",R0=Rl+"Invalid argument: ",rj=Rl+"Exponent out of range: ",kv=Math.floor,l0=Math.pow,SDe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,Fo,Os=1e7,zn=7,ese=9007199254740991,TT=kv(ese/zn),gt={};gt.absoluteValue=gt.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};gt.comparedTo=gt.cmp=function(t){var e,r,n,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(n=s.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return n===i?0:n>i^s.s<0?1:-1};gt.decimalPlaces=gt.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*zn;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};gt.dividedBy=gt.div=function(t){return nd(this,new this.constructor(t))};gt.dividedToIntegerBy=gt.idiv=function(t){var e=this,r=e.constructor;return Nn(nd(e,new r(t),0,1),r.precision)};gt.equals=gt.eq=function(t){return!this.cmp(t)};gt.exponent=function(){return ls(this)};gt.greaterThan=gt.gt=function(t){return this.cmp(t)>0};gt.greaterThanOrEqualTo=gt.gte=function(t){return this.cmp(t)>=0};gt.isInteger=gt.isint=function(){return this.e>this.d.length-2};gt.isNegative=gt.isneg=function(){return this.s<0};gt.isPositive=gt.ispos=function(){return this.s>0};gt.isZero=function(){return this.s===0};gt.lessThan=gt.lt=function(t){return this.cmp(t)<0};gt.lessThanOrEqualTo=gt.lte=function(t){return this.cmp(t)<1};gt.logarithm=gt.log=function(t){var e,r=this,n=r.constructor,i=n.precision,s=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(Fo))throw Error(Rl+"NaN");if(r.s<1)throw Error(Rl+(r.s?"NaN":"-Infinity"));return r.eq(Fo)?new n(0):(ri=!1,e=nd(bx(r,s),bx(t,s),s),ri=!0,Nn(e,i))};gt.minus=gt.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?nse(e,t):tse(e,(t.s=-t.s,t))};gt.modulo=gt.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Rl+"NaN");return r.s?(ri=!1,e=nd(r,t,0,1).times(t),ri=!0,r.minus(e)):Nn(new n(r),i)};gt.naturalExponential=gt.exp=function(){return rse(this)};gt.naturalLogarithm=gt.ln=function(){return bx(this)};gt.negated=gt.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};gt.plus=gt.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?tse(e,t):nse(e,(t.s=-t.s,t))};gt.precision=gt.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(R0+t);if(e=ls(i)+1,n=i.d.length-1,r=n*zn+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};gt.squareRoot=gt.sqrt=function(){var t,e,r,n,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(Rl+"NaN")}for(t=ls(o),ri=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Kc(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=kv((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new l(e)):n=new l(i.toString()),r=l.precision,i=a=r+3;;)if(s=n,n=s.plus(nd(o,s,a+2)).times(.5),Kc(s.d).slice(0,a)===(e=Kc(n.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(Nn(s,r+1,0),s.times(s).eq(o)){n=s;break}}else if(e!="9999")break;a+=4}return ri=!0,Nn(n,r)};gt.times=gt.mul=function(t){var e,r,n,i,s,a,o,l,u,d=this,f=d.constructor,g=d.d,v=(t=new f(t)).d;if(!d.s||!t.s)return new f(0);for(t.s*=d.s,r=d.e+t.e,l=g.length,u=v.length,l<u&&(s=g,g=v,v=s,a=l,l=u,u=a),s=[],a=l+u,n=a;n--;)s.push(0);for(n=u;--n>=0;){for(e=0,i=l+n;i>n;)o=s[i]+v[n]*g[i-n-1]+e,s[i--]=o%Os|0,e=o/Os|0;s[i]=(s[i]+e)%Os|0}for(;!s[--a];)s.pop();return e?++r:s.shift(),t.d=s,t.e=r,ri?Nn(t,f.precision):t};gt.toDecimalPlaces=gt.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cu(t,0,Sv),e===void 0?e=n.rounding:cu(e,0,8),Nn(r,t+ls(r)+1,e))};gt.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=em(n,!0):(cu(t,0,Sv),e===void 0?e=i.rounding:cu(e,0,8),n=Nn(new i(n),t+1,e),r=em(n,!0,t+1)),r};gt.toFixed=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?em(i):(cu(t,0,Sv),e===void 0?e=s.rounding:cu(e,0,8),n=Nn(new s(i),t+ls(i)+1,e),r=em(n.abs(),!1,t+ls(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};gt.toInteger=gt.toint=function(){var t=this,e=t.constructor;return Nn(new e(t),ls(t)+1,e.rounding)};gt.toNumber=function(){return+this};gt.toPower=gt.pow=function(t){var e,r,n,i,s,a,o=this,l=o.constructor,u=12,d=+(t=new l(t));if(!t.s)return new l(Fo);if(o=new l(o),!o.s){if(t.s<1)throw Error(Rl+"Infinity");return o}if(o.eq(Fo))return o;if(n=l.precision,t.eq(Fo))return Nn(o,n);if(e=t.e,r=t.d.length-1,a=e>=r,s=o.s,a){if((r=d<0?-d:d)<=ese){for(i=new l(Fo),e=Math.ceil(n/zn+4),ri=!1;r%2&&(i=i.times(o),Hq(i.d,e)),r=kv(r/2),r!==0;)o=o.times(o),Hq(o.d,e);return ri=!0,t.s<0?new l(Fo).div(i):Nn(i,n)}}else if(s<0)throw Error(Rl+"NaN");return s=s<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,ri=!1,i=t.times(bx(o,n+u)),ri=!0,i=rse(i),i.s=s,i};gt.toPrecision=function(t,e){var r,n,i=this,s=i.constructor;return t===void 0?(r=ls(i),n=em(i,r<=s.toExpNeg||r>=s.toExpPos)):(cu(t,1,Sv),e===void 0?e=s.rounding:cu(e,0,8),i=Nn(new s(i),t,e),r=ls(i),n=em(i,t<=r||r<=s.toExpNeg,t)),n};gt.toSignificantDigits=gt.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cu(t,1,Sv),e===void 0?e=n.rounding:cu(e,0,8)),Nn(new n(r),t,e)};gt.toString=gt.valueOf=gt.val=gt.toJSON=gt[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=ls(t),r=t.constructor;return em(t,e<=r.toExpNeg||e>=r.toExpPos)};function tse(t,e){var r,n,i,s,a,o,l,u,d=t.constructor,f=d.precision;if(!t.s||!e.s)return e.s||(e=new d(t)),ri?Nn(e,f):e;if(l=t.d,u=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(n=l,s=-s,o=u.length):(n=u,i=a,o=l.length),a=Math.ceil(f/zn),o=a>o?a+1:o+1,s>o&&(s=o,n.length=1),n.reverse();s--;)n.push(0);n.reverse()}for(o=l.length,s=u.length,o-s<0&&(s=o,n=u,u=l,l=n),r=0;s;)r=(l[--s]=l[s]+u[s]+r)/Os|0,l[s]%=Os;for(r&&(l.unshift(r),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,ri?Nn(e,f):e}function cu(t,e,r){if(t!==~~t||t<e||t>r)throw Error(R0+t)}function Kc(t){var e,r,n,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)n=t[e]+"",r=zn-n.length,r&&(s+=yh(r)),s+=n;a=t[e],n=a+"",r=zn-n.length,r&&(s+=yh(r))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var nd=(function(){function t(n,i){var s,a=0,o=n.length;for(n=n.slice();o--;)s=n[o]*i+a,n[o]=s%Os|0,a=s/Os|0;return a&&n.unshift(a),n}function e(n,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(n[o]!=i[o]){l=n[o]>i[o]?1:-1;break}return l}function r(n,i,s){for(var a=0;s--;)n[s]-=a,a=n[s]<i[s]?1:0,n[s]=a*Os+n[s]-i[s];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,s,a){var o,l,u,d,f,g,v,x,b,w,E,k,A,O,P,j,S,I,R=n.constructor,D=n.s==i.s?1:-1,M=n.d,L=i.d;if(!n.s)return new R(n);if(!i.s)throw Error(Rl+"Division by zero");for(l=n.e-i.e,S=L.length,P=M.length,v=new R(D),x=v.d=[],u=0;L[u]==(M[u]||0);)++u;if(L[u]>(M[u]||0)&&--l,s==null?k=s=R.precision:a?k=s+(ls(n)-ls(i))+1:k=s,k<0)return new R(0);if(k=k/zn+2|0,u=0,S==1)for(d=0,L=L[0],k++;(u<P||d)&&k--;u++)A=d*Os+(M[u]||0),x[u]=A/L|0,d=A%L|0;else{for(d=Os/(L[0]+1)|0,d>1&&(L=t(L,d),M=t(M,d),S=L.length,P=M.length),O=S,b=M.slice(0,S),w=b.length;w<S;)b[w++]=0;I=L.slice(),I.unshift(0),j=L[0],L[1]>=Os/2&&++j;do d=0,o=e(L,b,S,w),o<0?(E=b[0],S!=w&&(E=E*Os+(b[1]||0)),d=E/j|0,d>1?(d>=Os&&(d=Os-1),f=t(L,d),g=f.length,w=b.length,o=e(f,b,g,w),o==1&&(d--,r(f,S<g?I:L,g))):(d==0&&(o=d=1),f=L.slice()),g=f.length,g<w&&f.unshift(0),r(b,f,w),o==-1&&(w=b.length,o=e(L,b,S,w),o<1&&(d++,r(b,S<w?I:L,w))),w=b.length):o===0&&(d++,b=[0]),x[u++]=d,o&&b[0]?b[w++]=M[O]||0:(b=[M[O]],w=1);while((O++<P||b[0]!==void 0)&&k--)}return x[0]||x.shift(),v.e=l,Nn(v,a?s+ls(v)+1:s)}})();function rse(t,e){var r,n,i,s,a,o,l=0,u=0,d=t.constructor,f=d.precision;if(ls(t)>16)throw Error(rj+ls(t));if(!t.s)return new d(Fo);for(ri=!1,o=f,a=new d(.03125);t.abs().gte(.1);)t=t.times(a),u+=5;for(n=Math.log(l0(2,u))/Math.LN10*2+5|0,o+=n,r=i=s=new d(Fo),d.precision=o;;){if(i=Nn(i.times(t),o),r=r.times(++l),a=s.plus(nd(i,r,o)),Kc(a.d).slice(0,o)===Kc(s.d).slice(0,o)){for(;u--;)s=Nn(s.times(s),o);return d.precision=f,e==null?(ri=!0,Nn(s,f)):s}s=a}}function ls(t){for(var e=t.e*zn,r=t.d[0];r>=10;r/=10)e++;return e}function FN(t,e,r){if(e>t.LN10.sd())throw ri=!0,r&&(t.precision=r),Error(Rl+"LN10 precision limit exceeded");return Nn(new t(t.LN10),e)}function yh(t){for(var e="";t--;)e+="0";return e}function bx(t,e){var r,n,i,s,a,o,l,u,d,f=1,g=10,v=t,x=v.d,b=v.constructor,w=b.precision;if(v.s<1)throw Error(Rl+(v.s?"NaN":"-Infinity"));if(v.eq(Fo))return new b(0);if(e==null?(ri=!1,u=w):u=e,v.eq(10))return e==null&&(ri=!0),FN(b,u);if(u+=g,b.precision=u,r=Kc(x),n=r.charAt(0),s=ls(v),Math.abs(s)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)v=v.times(t),r=Kc(v.d),n=r.charAt(0),f++;s=ls(v),n>1?(v=new b("0."+r),s++):v=new b(n+"."+r.slice(1))}else return l=FN(b,u+2,w).times(s+""),v=bx(new b(n+"."+r.slice(1)),u-g).plus(l),b.precision=w,e==null?(ri=!0,Nn(v,w)):v;for(o=a=v=nd(v.minus(Fo),v.plus(Fo),u),d=Nn(v.times(v),u),i=3;;){if(a=Nn(a.times(d),u),l=o.plus(nd(a,new b(i),u)),Kc(l.d).slice(0,u)===Kc(o.d).slice(0,u))return o=o.times(2),s!==0&&(o=o.plus(FN(b,u+2,w).times(s+""))),o=nd(o,new b(f),u),b.precision=w,e==null?(ri=!0,Nn(o,w)):o;o=l,i+=2}}function $q(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=kv(r/zn),t.d=[],n=(r+1)%zn,r<0&&(n+=zn),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=zn;n<i;)t.d.push(+e.slice(n,n+=zn));e=e.slice(n),n=zn-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),ri&&(t.e>TT||t.e<-TT))throw Error(rj+r)}else t.s=0,t.e=0,t.d=[0];return t}function Nn(t,e,r){var n,i,s,a,o,l,u,d,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(n=e-a,n<0)n+=zn,i=e,u=f[d=0];else{if(d=Math.ceil((n+1)/zn),s=f.length,d>=s)return t;for(u=s=f[d],a=1;s>=10;s/=10)a++;n%=zn,i=n-zn+a}if(r!==void 0&&(s=l0(10,a-i-1),o=u/s%10|0,l=e<0||f[d+1]!==void 0||u%s,l=r<4?(o||l)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||l||r==6&&(n>0?i>0?u/l0(10,a-i):0:f[d-1])%10&1||r==(t.s<0?8:7))),e<1||!f[0])return l?(s=ls(t),f.length=1,e=e-s-1,f[0]=l0(10,(zn-e%zn)%zn),t.e=kv(-e/zn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(n==0?(f.length=d,s=1,d--):(f.length=d+1,s=l0(10,zn-n),f[d]=i>0?(u/l0(10,a-i)%l0(10,i)|0)*s:0),l)for(;;)if(d==0){(f[0]+=s)==Os&&(f[0]=1,++t.e);break}else{if(f[d]+=s,f[d]!=Os)break;f[d--]=0,s=1}for(n=f.length;f[--n]===0;)f.pop();if(ri&&(t.e>TT||t.e<-TT))throw Error(rj+ls(t));return t}function nse(t,e){var r,n,i,s,a,o,l,u,d,f,g=t.constructor,v=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),ri?Nn(e,v):e;if(l=t.d,f=e.d,n=e.e,u=t.e,l=l.slice(),a=u-n,a){for(d=a<0,d?(r=l,a=-a,o=f.length):(r=f,n=u,o=l.length),i=Math.max(Math.ceil(v/zn),o)+2,a>i&&(a=i,r.length=1),r.reverse(),i=a;i--;)r.push(0);r.reverse()}else{for(i=l.length,o=f.length,d=i<o,d&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){d=l[i]<f[i];break}a=0}for(d&&(r=l,l=f,f=r,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=Os-1;--l[s],l[i]+=Os}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--n;return l[0]?(e.d=l,e.e=n,ri?Nn(e,v):e):new g(0)}function em(t,e,r){var n,i=ls(t),s=Kc(t.d),a=s.length;return e?(r&&(n=r-a)>0?s=s.charAt(0)+"."+s.slice(1)+yh(n):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+yh(-i-1)+s,r&&(n=r-a)>0&&(s+=yh(n))):i>=a?(s+=yh(i+1-a),r&&(n=r-i-1)>0&&(s=s+"."+yh(n))):((n=i+1)<a&&(s=s.slice(0,n)+"."+s.slice(n)),r&&(n=r-a)>0&&(i+1===a&&(s+="."),s+=yh(n))),t.s<0?"-"+s:s}function Hq(t,e){if(t.length>e)return t.length=e,!0}function ise(t){var e,r,n;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(R0+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return $q(a,s.toString())}else if(typeof s!="string")throw Error(R0+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,SDe.test(s))$q(a,s);else throw Error(R0+s)}if(i.prototype=gt,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=ise,i.config=i.set=kDe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function kDe(t){if(!t||typeof t!="object")throw Error(Rl+"Object expected");var e,r,n,i=["precision",1,Sv,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(kv(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(R0+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(R0+r+": "+n);return this}var nj=ise(TDe);Fo=new nj(1);const cn=nj;var ADe=t=>t,sse={},ase=t=>t===sse,qq=t=>function e(){return arguments.length===0||arguments.length===1&&ase(arguments.length<=0?void 0:arguments[0])?e:t(...arguments)},ose=(t,e)=>t===1?e:qq(function(){for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];var s=n.filter(a=>a!==sse).length;return s>=t?e(...n):ose(t-s,qq(function(){for(var a=arguments.length,o=new Array(a),l=0;l<a;l++)o[l]=arguments[l];var u=n.map(d=>ase(d)?o.shift():d);return e(...u,...o)}))}),CDe=t=>ose(t.length,t),G6=(t,e)=>{for(var r=[],n=t;n<e;++n)r[n-t]=n;return r},NDe=CDe((t,e)=>Array.isArray(e)?e.map(t):Object.keys(e).map(r=>e[r]).map(t)),IDe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(!r.length)return ADe;var i=r.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce((o,l)=>l(o),s(...arguments))}};function lse(t){var e;return t===0?e=1:e=Math.floor(new cn(t).abs().log(10).toNumber())+1,e}function cse(t,e,r){for(var n=new cn(t),i=0,s=[];n.lt(e)&&i<1e5;)s.push(n.toNumber()),n=n.add(r),i++;return s}var use=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},dse=(t,e,r)=>{if(t.lte(0))return new cn(0);var n=lse(t.toNumber()),i=new cn(10).pow(n),s=t.div(i),a=n!==1?.05:.1,o=new cn(Math.ceil(s.div(a).toNumber())).add(r).mul(a),l=o.mul(i);return e?new cn(l.toNumber()):new cn(Math.ceil(l.toNumber()))},ODe=(t,e,r)=>{var n=new cn(1),i=new cn(t);if(!i.isint()&&r){var s=Math.abs(t);s<1?(n=new cn(10).pow(lse(t)-1),i=new cn(Math.floor(i.div(n).toNumber())).mul(n)):s>1&&(i=new cn(Math.floor(t)))}else t===0?i=new cn(Math.floor((e-1)/2)):r||(i=new cn(Math.floor(t)));var a=Math.floor((e-1)/2),o=IDe(NDe(l=>i.add(new cn(l-a).mul(n)).toNumber()),G6);return o(0,e)},hse=function(e,r,n,i){var s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new cn(0),tickMin:new cn(0),tickMax:new cn(0)};var a=dse(new cn(r).sub(e).div(n-1),i,s),o;e<=0&&r>=0?o=new cn(0):(o=new cn(e).add(r).div(2),o=o.sub(new cn(o).mod(a)));var l=Math.ceil(o.sub(e).div(a).toNumber()),u=Math.ceil(new cn(r).sub(o).div(a).toNumber()),d=l+u+1;return d>n?hse(e,r,n,i,s+1):(d<n&&(u=r>0?u+(n-d):u,l=r>0?l:l+(n-d)),{step:a,tickMin:o.sub(new cn(l).mul(a)),tickMax:o.add(new cn(u).mul(a))})},RDe=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),[o,l]=use([r,n]);if(o===-1/0||l===1/0){var u=l===1/0?[o,...G6(0,i-1).map(()=>1/0)]:[...G6(0,i-1).map(()=>-1/0),l];return r>n?u.reverse():u}if(o===l)return ODe(o,i,s);var{step:d,tickMin:f,tickMax:g}=hse(o,l,a,s,0),v=cse(f,g.add(new cn(.1).mul(d)),d);return r>n?v.reverse():v},PDe=function(e,r){var[n,i]=e,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[a,o]=use([n,i]);if(a===-1/0||o===1/0)return[n,i];if(a===o)return[a];var l=Math.max(r,2),u=dse(new cn(o).sub(a).div(l-1),s,0),d=[...cse(new cn(a),new cn(o),u),o];return s===!1&&(d=d.map(f=>Math.round(f))),n>i?d.reverse():d},jDe=t=>t.rootProps.barCategoryGap,Ab=t=>t.rootProps.stackOffset,fse=t=>t.rootProps.reverseStackOrder,ij=t=>t.options.chartName,sj=t=>t.rootProps.syncId,mse=t=>t.rootProps.syncMethod,aj=t=>t.options.eventEmitter,DDe=t=>t.rootProps.baseValue,la={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},$u={allowDuplicatedCategory:!0,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"category"},Ro={allowDataOverflow:!1,allowDuplicatedCategory:!0,radiusAxisId:0,scale:"auto",tick:!0,tickCount:5,type:"number"},H4=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e},MDe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:$u.angleAxisId,includeHidden:!1,name:void 0,reversed:$u.reversed,scale:$u.scale,tick:$u.tick,tickCount:void 0,ticks:void 0,type:$u.type,unit:void 0},LDe={allowDataOverflow:Ro.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ro.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ro.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ro.scale,tick:Ro.tick,tickCount:Ro.tickCount,ticks:void 0,type:Ro.type,unit:void 0},FDe={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:$u.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:$u.angleAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:$u.scale,tick:$u.tick,tickCount:void 0,ticks:void 0,type:"number",unit:void 0},BDe={allowDataOverflow:Ro.allowDataOverflow,allowDecimals:!1,allowDuplicatedCategory:Ro.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:Ro.radiusAxisId,includeHidden:!1,name:void 0,reversed:!1,scale:Ro.scale,tick:Ro.tick,tickCount:Ro.tickCount,ticks:void 0,type:"category",unit:void 0},oj=(t,e)=>t.polarAxis.angleAxis[e]!=null?t.polarAxis.angleAxis[e]:t.layout.layoutType==="radial"?FDe:MDe,lj=(t,e)=>t.polarAxis.radiusAxis[e]!=null?t.polarAxis.radiusAxis[e]:t.layout.layoutType==="radial"?BDe:LDe,q4=t=>t.polarOptions,cj=Ne([Cd,Nd,Hs],fie),pse=Ne([q4,cj],(t,e)=>{if(t!=null)return qo(t.innerRadius,e,0)}),gse=Ne([q4,cj],(t,e)=>{if(t!=null)return qo(t.outerRadius,e,e*.8)}),VDe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},vse=Ne([q4],VDe);Ne([oj,vse],H4);var yse=Ne([cj,pse,gse],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});Ne([lj,yse],H4);var xse=Ne([hn,q4,pse,gse,Cd,Nd],(t,e,r,n,i,s)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:a,cy:o,startAngle:l,endAngle:u}=e;return{cx:qo(a,i,i/2),cy:qo(o,s,s/2),innerRadius:r,outerRadius:n,startAngle:l,endAngle:u,clockWise:!1}}}),ii=(t,e)=>e,Cb=(t,e,r)=>r;function uj(t){return t==null?void 0:t.id}function bse(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:s}=r,a=new Map;return t.forEach(o=>{var l,u=(l=o.data)!==null&&l!==void 0?l:n;if(!(u==null||u.length===0)){var d=uj(o);u.forEach((f,g)=>{var v=s==null||i?g:String(qn(f,s,null)),x=qn(f,o.dataKey,0),b;a.has(v)?b=a.get(v):b={},Object.assign(b,{[d]:x}),a.set(v,b)})}}),Array.from(a.values())}function dj(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var W4=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function G4(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function UDe(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var ws=t=>{var e=hn(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},Av=t=>t.tooltip.settings.axisId;function Wq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ST(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Wq(Object(r),!0).forEach(function(n){zDe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Wq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zDe(t,e,r){return(e=$De(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $De(t){var e=HDe(t,"string");return typeof e=="symbol"?e:e+""}function HDe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K6=[0,"auto"],As={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},wse=(t,e)=>t.cartesianAxis.xAxis[e],Rd=(t,e)=>{var r=wse(t,e);return r??As},Cs={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:K6,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:bb},_se=(t,e)=>t.cartesianAxis.yAxis[e],Pd=(t,e)=>{var r=_se(t,e);return r??Cs},qDe={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},hj=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??qDe},mi=(t,e,r)=>{switch(e){case"xAxis":return Rd(t,r);case"yAxis":return Pd(t,r);case"zAxis":return hj(t,r);case"angleAxis":return oj(t,r);case"radiusAxis":return lj(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},WDe=(t,e,r)=>{switch(e){case"xAxis":return Rd(t,r);case"yAxis":return Pd(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Nb=(t,e,r)=>{switch(e){case"xAxis":return Rd(t,r);case"yAxis":return Pd(t,r);case"angleAxis":return oj(t,r);case"radiusAxis":return lj(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},Ese=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function fj(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var Tse=t=>t.graphicalItems.cartesianItems,GDe=Ne([ii,Cb],fj),mj=(t,e,r)=>t.filter(r).filter(n=>(e==null?void 0:e.includeHidden)===!0?!0:!n.hide),Ib=Ne([Tse,mi,GDe],mj,{memoizeOptions:{resultEqualityCheck:G4}}),Sse=Ne([Ib],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(dj)),kse=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),KDe=Ne([Ib],kse),pj=t=>t.map(e=>e.data).filter(Boolean).flat(1),YDe=Ne([Ib],pj,{memoizeOptions:{resultEqualityCheck:G4}}),gj=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},vj=Ne([YDe,Jie],gj),yj=(t,e,r)=>(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:qn(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:qn(i,n)}))):t.map(n=>({value:n})),K4=Ne([vj,mi,Ib],yj);function Ase(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function F2(t){if(ou(t)||t instanceof Date){var e=Number(t);if(ni(e))return e}}function Gq(t){if(Array.isArray(t)){var e=[F2(t[0]),F2(t[1])];return sf(e)?e:void 0}var r=F2(t);if(r!=null)return[r,r]}function Ed(t){return t.map(F2).filter($5e)}function XDe(t,e,r){return!r||typeof e!="number"||bc(e)?[]:r.length?Ed(r.flatMap(n=>{var i=qn(t,n.dataKey),s,a;if(Array.isArray(i)?[s,a]=i:s=a=i,!(!ni(s)||!ni(a)))return[e-s,e+a]})):[]}var _s=t=>{var e=ws(t),r=Av(t);return Nb(t,e,r)},Ob=Ne([_s],t=>t==null?void 0:t.dataKey),QDe=Ne([Sse,Jie,_s],bse),Cse=(t,e,r,n)=>{var i={},s=e.reduce((a,o)=>{if(o.stackId==null)return a;var l=a[o.stackId];return l==null&&(l=[]),l.push(o),a[o.stackId]=l,a},i);return Object.fromEntries(Object.entries(s).map(a=>{var[o,l]=a,u=n?[...l].reverse():l,d=u.map(uj);return[o,{stackedData:pOe(t,d,r),graphicalItems:u}]}))},Nse=Ne([QDe,Sse,Ab,fse],Cse),Ise=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:s}=e;if(n==null&&r!=="zAxis"){var a=xOe(t,i,s);if(!(a!=null&&a[0]===0&&a[1]===0))return a}},JDe=Ne([mi],t=>t.allowDataOverflow),xj=t=>{var e;if(t==null||!("domain"in t))return K6;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=Ed(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t==null?void 0:t.domain)!==null&&e!==void 0?e:K6},bj=Ne([mi],xj),wj=Ne([bj,JDe],Zie),ZDe=Ne([Nse,Od,ii,wj],Ise,{memoizeOptions:{resultEqualityCheck:W4}}),Y4=t=>t.errorBars,eMe=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>Ase(r,n)),kT=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var s=i.flat(),a=Math.min(...s),o=Math.max(...s);return[a,o]}},_j=(t,e,r,n,i)=>{var s,a;if(r.length>0&&t.forEach(o=>{r.forEach(l=>{var u,d,f=(u=n[l.id])===null||u===void 0?void 0:u.filter(E=>Ase(i,E)),g=qn(o,(d=e.dataKey)!==null&&d!==void 0?d:l.dataKey),v=XDe(o,g,f);if(v.length>=2){var x=Math.min(...v),b=Math.max(...v);(s==null||x<s)&&(s=x),(a==null||b>a)&&(a=b)}var w=Gq(g);w!=null&&(s=s==null?w[0]:Math.min(s,w[0]),a=a==null?w[1]:Math.max(a,w[1]))})}),(e==null?void 0:e.dataKey)!=null&&t.forEach(o=>{var l=Gq(qn(o,e.dataKey));l!=null&&(s=s==null?l[0]:Math.min(s,l[0]),a=a==null?l[1]:Math.max(a,l[1]))}),ni(s)&&ni(a))return[s,a]},tMe=Ne([vj,mi,KDe,Y4,ii],_j,{memoizeOptions:{resultEqualityCheck:W4}});function rMe(t){var{value:e}=t;if(ou(e)||e instanceof Date)return e}var nMe=(t,e,r)=>{var n=t.map(rMe).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&Hre(n))?vie(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},Ose=t=>t.referenceElements.dots,Cv=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),iMe=Ne([Ose,ii,Cb],Cv),Rse=t=>t.referenceElements.areas,sMe=Ne([Rse,ii,Cb],Cv),Pse=t=>t.referenceElements.lines,aMe=Ne([Pse,ii,Cb],Cv),jse=(t,e)=>{if(t!=null){var r=Ed(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},oMe=Ne(iMe,ii,jse),Dse=(t,e)=>{if(t!=null){var r=Ed(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},lMe=Ne([sMe,ii],Dse);function cMe(t){var e;if(t.x!=null)return Ed([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:Ed(r)}function uMe(t){var e;if(t.y!=null)return Ed([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:Ed(r)}var Mse=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?cMe(n):uMe(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},dMe=Ne([aMe,ii],Mse),hMe=Ne(oMe,dMe,lMe,(t,e,r)=>kT(t,r,e)),Ej=(t,e,r,n,i,s,a,o)=>{if(r!=null)return r;var l=a==="vertical"&&o==="xAxis"||a==="horizontal"&&o==="yAxis",u=l?kT(n,s,i):kT(s,i);return EDe(e,u,t.allowDataOverflow)},fMe=Ne([mi,bj,wj,ZDe,tMe,hMe,hn,ii],Ej,{memoizeOptions:{resultEqualityCheck:W4}}),mMe=[0,1],Tj=(t,e,r,n,i,s,a)=>{if(!((t==null||r==null||r.length===0)&&a===void 0)){var{dataKey:o,type:l}=t,u=Ad(e,s);if(u&&o==null){var d;return vie(0,(d=r==null?void 0:r.length)!==null&&d!==void 0?d:0)}return l==="category"?nMe(n,t,u):i==="expand"?mMe:a}},Sj=Ne([mi,hn,vj,K4,Ab,ii,fMe],Tj),Lse=(t,e,r,n,i)=>{if(t!=null){var{scale:s,type:a}=t;if(s==="auto")return e==="radial"&&i==="radiusAxis"?"band":e==="radial"&&i==="angleAxis"?"linear":a==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?"point":a==="category"?"band":"linear";if(typeof s=="string"){var o="scale".concat(pb(s));return o in t1?o:"point"}}},Nv=Ne([mi,hn,Ese,ij,ii],Lse);function pMe(t){if(t!=null){if(t in t1)return t1[t]();var e="scale".concat(pb(t));if(e in t1)return t1[e]()}}function kj(t,e,r,n){if(!(r==null||n==null)){if(typeof t.scale=="function")return t.scale.copy().domain(r).range(n);var i=pMe(e);if(i!=null){var s=i.domain(r).range(n);return dOe(s),s}}}var Aj=(t,e,r)=>{var n=xj(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&sf(t))return RDe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&sf(t))return PDe(t,e.tickCount,e.allowDecimals)}},Cj=Ne([Sj,Nb,Nv],Aj),Nj=(t,e,r,n)=>{if(n!=="angleAxis"&&(t==null?void 0:t.type)==="number"&&sf(e)&&Array.isArray(r)&&r.length>0){var i=e[0],s=r[0],a=e[1],o=r[r.length-1];return[Math.min(i,s),Math.max(a,o)]}return e},gMe=Ne([mi,Sj,Cj,ii],Nj),vMe=Ne(K4,mi,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(Ed(t.map(f=>f.value))).sort((f,g)=>f-g),i=n[0],s=n[n.length-1];if(i==null||s==null)return 1/0;var a=s-i;if(a===0)return 1/0;for(var o=0;o<n.length-1;o++){var l=n[o],u=n[o+1];if(!(l==null||u==null)){var d=u-l;r=Math.min(r,d)}}return r/a}}),Fse=Ne(vMe,hn,jDe,Hs,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!ni(t))return 0;var s=e==="vertical"?n.height:n.width;if(i==="gap")return t*s/2;if(i==="no-gap"){var a=qo(r,t*s),o=t*s/2;return o-a-(o-a)/s*a}return 0}),yMe=(t,e,r)=>{var n=Rd(t,e);return n==null||typeof n.padding!="string"?0:Fse(t,"xAxis",e,r,n.padding)},xMe=(t,e,r)=>{var n=Pd(t,e);return n==null||typeof n.padding!="string"?0:Fse(t,"yAxis",e,r,n.padding)},bMe=Ne(Rd,yMe,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),wMe=Ne(Pd,xMe,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),_Me=Ne([Hs,bMe,N4,C4,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:s}=n;return i?[s.left,r.width-s.right]:[t.left+e.left,t.left+t.width-e.right]}),EMe=Ne([Hs,hn,wMe,N4,C4,(t,e,r)=>r],(t,e,r,n,i,s)=>{var{padding:a}=i;return s?[n.height-a.bottom,a.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Rb=(t,e,r,n)=>{var i;switch(e){case"xAxis":return _Me(t,r,n);case"yAxis":return EMe(t,r,n);case"zAxis":return(i=hj(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return vse(t);case"radiusAxis":return yse(t,r);default:return}},Bse=Ne([mi,Rb],H4),X4=Ne([mi,Nv,gMe,Bse],kj);Ne([Ib,Y4,ii],eMe);function Vse(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Q4=(t,e)=>e,J4=(t,e,r)=>r,TMe=Ne(k4,Q4,J4,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Vse)),SMe=Ne(A4,Q4,J4,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(Vse)),Use=(t,e)=>({width:t.width,height:e.height}),kMe=(t,e)=>{var r=typeof e.width=="number"?e.width:bb;return{width:r,height:t.height}},AMe=Ne(Hs,Rd,Use),CMe=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},NMe=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},IMe=Ne(Nd,Hs,TMe,Q4,J4,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=Use(e,o);a==null&&(a=CMe(e,n,t));var u=n==="top"&&!i||n==="bottom"&&i;s[o.id]=a-Number(u)*l.height,a+=(u?-1:1)*l.height}),s}),OMe=Ne(Cd,Hs,SMe,Q4,J4,(t,e,r,n,i)=>{var s={},a;return r.forEach(o=>{var l=kMe(e,o);a==null&&(a=NMe(e,n,t));var u=n==="left"&&!i||n==="right"&&i;s[o.id]=a-Number(u)*l.width,a+=(u?-1:1)*l.width}),s}),RMe=(t,e)=>{var r=Rd(t,e);if(r!=null)return IMe(t,r.orientation,r.mirror)},PMe=Ne([Hs,Rd,RMe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),jMe=(t,e)=>{var r=Pd(t,e);if(r!=null)return OMe(t,r.orientation,r.mirror)},DMe=Ne([Hs,Pd,jMe,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r==null?void 0:r[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),MMe=Ne(Hs,Pd,(t,e)=>{var r=typeof e.width=="number"?e.width:bb;return{width:r,height:t.height}}),zse=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:s,dataKey:a}=r,o=Ad(t,n),l=e.map(u=>u.value);if(a&&o&&s==="category"&&i&&Hre(l))return l}},Ij=Ne([hn,K4,mi,ii],zse),$se=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:s}=r,a=Ad(t,n);if(a&&(i==="number"||s!=="auto"))return e.map(o=>o.value)}},Oj=Ne([hn,K4,Nb,ii],$se),Kq=Ne([hn,WDe,Nv,X4,Ij,Oj,Rb,Cj,ii],(t,e,r,n,i,s,a,o,l)=>{if(e!=null){var u=Ad(t,l);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:l,categoricalDomain:s,duplicateDomain:i,isCategorical:u,niceTicks:o,range:a,realScaleType:r,scale:n}}}),LMe=(t,e,r,n,i,s,a,o,l)=>{if(!(e==null||n==null)){var u=Ad(t,l),{type:d,ticks:f,tickCount:g}=e,v=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,x=d==="category"&&n.bandwidth?n.bandwidth()/v:0;x=l==="angleAxis"&&s!=null&&s.length>=2?Aa(s[0]-s[1])*2*x:x;var b=f||i;if(b){var w=b.map((E,k)=>{var A=a?a.indexOf(E):E;return{index:k,coordinate:n(A)+x,value:E,offset:x}});return w.filter(E=>ni(E.coordinate))}return u&&o?o.map((E,k)=>({coordinate:n(E)+x,value:E,index:k,offset:x})).filter(E=>ni(E.coordinate)):n.ticks?n.ticks(g).map(E=>({coordinate:n(E)+x,value:E,offset:x})):n.domain().map((E,k)=>({coordinate:n(E)+x,value:a?a[E]:E,index:k,offset:x}))}},Hse=Ne([hn,Nb,Nv,X4,Cj,Rb,Ij,Oj,ii],LMe),FMe=(t,e,r,n,i,s,a)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=Ad(t,a),{tickCount:l}=e,u=0;return u=a==="angleAxis"&&(n==null?void 0:n.length)>=2?Aa(n[0]-n[1])*2*u:u,o&&s?s.map((d,f)=>({coordinate:r(d)+u,value:d,index:f,offset:u})):r.ticks?r.ticks(l).map(d=>({coordinate:r(d)+u,value:d,offset:u})):r.domain().map((d,f)=>({coordinate:r(d)+u,value:i?i[d]:d,index:f,offset:u}))}},qse=Ne([hn,Nb,X4,Rb,Ij,Oj,ii],FMe),Wse=Ne(mi,X4,(t,e)=>{if(!(t==null||e==null))return ST(ST({},t),{},{scale:e})}),BMe=Ne([mi,Nv,Sj,Bse],kj);Ne((t,e,r)=>hj(t,r),BMe,(t,e)=>{if(!(t==null||e==null))return ST(ST({},t),{},{scale:e})});var VMe=Ne([hn,k4,A4],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),Gse=t=>t.options.defaultTooltipEventType,Kse=t=>t.options.validateTooltipEventTypes;function Yse(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function Rj(t,e){var r=Gse(t),n=Kse(t);return Yse(e,r,n)}function UMe(t){return Et(e=>Rj(e,t))}var Xse=(t,e)=>{var r,n=Number(e);if(!(bc(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},zMe=t=>t.tooltip.settings,kh={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},$Me={itemInteraction:{click:kh,hover:kh},axisInteraction:{click:kh,hover:kh},keyboardInteraction:kh,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},Qse=bo({name:"tooltip",initialState:$Me,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Zn()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=hc(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Zn()},removeTooltipEntrySettings:{reducer(t,e){var r=hc(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Zn()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:HMe,replaceTooltipEntrySettings:qMe,removeTooltipEntrySettings:WMe,setTooltipSettingsState:GMe,setActiveMouseOverItemIndex:Jse,mouseLeaveItem:KMe,mouseLeaveChart:Zse,setActiveClickItemIndex:YMe,setMouseOverAxisIndex:eae,setMouseClickAxisIndex:XMe,setSyncInteraction:Y6,setKeyboardInteraction:X6}=Qse.actions,QMe=Qse.reducer;function Yq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function J_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Yq(Object(r),!0).forEach(function(n){JMe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Yq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function JMe(t,e,r){return(e=ZMe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZMe(t){var e=e7e(t,"string");return typeof e=="symbol"?e:e+""}function e7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function t7e(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function r7e(t){return t.index!=null}var tae=(t,e,r,n)=>{if(e==null)return kh;var i=t7e(t,e,r);if(i==null)return kh;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var s=t.settings.active===!0;if(r7e(i)){if(s)return J_(J_({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return J_(J_({},kh),{},{coordinate:i.coordinate})};function n7e(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function i7e(t,e){var r=n7e(t),n=e[0],i=e[1];if(r===void 0)return!1;var s=Math.min(n,i),a=Math.max(n,i);return r>=s&&r<=a}function s7e(t,e,r){if(r==null||e==null)return!0;var n=qn(t,e);return n==null||!sf(r)?!0:i7e(n,r)}var Pj=(t,e,r,n)=>{var i=t==null?void 0:t.index;if(i==null)return null;var s=Number(i);if(!ni(s))return i;var a=0,o=1/0;e.length>0&&(o=e.length-1);var l=Math.max(a,Math.min(s,o)),u=e[l];return u==null||s7e(u,r,n)?String(l):null},rae=(t,e,r,n,i,s,a,o)=>{if(!(s==null||o==null)){var l=a[0],u=l==null?void 0:o(l.positions,s);if(u!=null)return u;var d=i==null?void 0:i[Number(s)];if(d)switch(r){case"horizontal":return{x:d.coordinate,y:(n.top+e)/2};default:return{x:(n.left+t)/2,y:d.coordinate}}}},nae=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var s=t.tooltipItemPayloads[0];return s!=null?[s]:[]}return t.tooltipItemPayloads.filter(a=>{var o;return((o=a.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},Pb=t=>t.options.tooltipPayloadSearcher,Iv=t=>t.tooltip;function Xq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Xq(Object(r),!0).forEach(function(n){a7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Xq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function a7e(t,e,r){return(e=o7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function o7e(t){var e=l7e(t,"string");return typeof e=="symbol"?e:e+""}function l7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c7e(t,e){return t??e}var iae=(t,e,r,n,i,s,a)=>{if(!(e==null||s==null)){var{chartData:o,computedData:l,dataStartIndex:u,dataEndIndex:d}=r,f=[];return t.reduce((g,v)=>{var x,{dataDefinedOnItem:b,settings:w}=v,E=c7e(b,o),k=Array.isArray(E)?Fne(E,u,d):E,A=(x=w==null?void 0:w.dataKey)!==null&&x!==void 0?x:n,O=w==null?void 0:w.nameKey,P;if(n&&Array.isArray(k)&&!Array.isArray(k[0])&&a==="axis"?P=qre(k,n,i):P=s(k,e,l,O),Array.isArray(P))P.forEach(S=>{var I=Qq(Qq({},w),{},{name:S.name,unit:S.unit,color:void 0,fill:void 0});g.push(tH({tooltipEntrySettings:I,dataKey:S.dataKey,payload:S.payload,value:qn(S.payload,S.dataKey),name:S.name}))});else{var j;g.push(tH({tooltipEntrySettings:w,dataKey:A,payload:P,value:qn(P,A),name:(j=qn(P,O))!==null&&j!==void 0?j:w==null?void 0:w.name}))}return g},f)}},jj=Ne([_s,hn,Ese,ij,ws],Lse),u7e=Ne([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),d7e=Ne([ws,Av],fj),Ov=Ne([u7e,_s,d7e],mj,{memoizeOptions:{resultEqualityCheck:G4}}),h7e=Ne([Ov],t=>t.filter(dj)),f7e=Ne([Ov],pj,{memoizeOptions:{resultEqualityCheck:G4}}),Rv=Ne([f7e,Od],gj),m7e=Ne([h7e,Od,_s],bse),Dj=Ne([Rv,_s,Ov],yj),sae=Ne([_s],xj),p7e=Ne([_s],t=>t.allowDataOverflow),aae=Ne([sae,p7e],Zie),g7e=Ne([Ov],t=>t.filter(dj)),v7e=Ne([m7e,g7e,Ab,fse],Cse),y7e=Ne([v7e,Od,ws,aae],Ise),x7e=Ne([Ov],kse),b7e=Ne([Rv,_s,x7e,Y4,ws],_j,{memoizeOptions:{resultEqualityCheck:W4}}),w7e=Ne([Ose,ws,Av],Cv),_7e=Ne([w7e,ws],jse),E7e=Ne([Rse,ws,Av],Cv),T7e=Ne([E7e,ws],Dse),S7e=Ne([Pse,ws,Av],Cv),k7e=Ne([S7e,ws],Mse),A7e=Ne([_7e,k7e,T7e],kT),C7e=Ne([_s,sae,aae,y7e,b7e,A7e,hn,ws],Ej),jb=Ne([_s,hn,Rv,Dj,Ab,ws,C7e],Tj),N7e=Ne([jb,_s,jj],Aj),I7e=Ne([_s,jb,N7e,ws],Nj),oae=t=>{var e=ws(t),r=Av(t),n=!1;return Rb(t,e,r,n)},lae=Ne([_s,oae],H4),cae=Ne([_s,jj,I7e,lae],kj),O7e=Ne([hn,Dj,_s,ws],zse),R7e=Ne([hn,Dj,_s,ws],$se),P7e=(t,e,r,n,i,s,a,o)=>{if(e){var{type:l}=e,u=Ad(t,o);if(n){var d=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,f=l==="category"&&n.bandwidth?n.bandwidth()/d:0;return f=o==="angleAxis"&&i!=null&&(i==null?void 0:i.length)>=2?Aa(i[0]-i[1])*2*f:f,u&&a?a.map((g,v)=>({coordinate:n(g)+f,value:g,index:v,offset:f})):n.domain().map((g,v)=>({coordinate:n(g)+f,value:s?s[g]:g,index:v,offset:f}))}}},jd=Ne([hn,_s,jj,cae,oae,O7e,R7e,ws],P7e),Mj=Ne([Gse,Kse,zMe],(t,e,r)=>Yse(r.shared,t,e)),uae=t=>t.tooltip.settings.trigger,Lj=t=>t.tooltip.settings.defaultIndex,Db=Ne([Iv,Mj,uae,Lj],tae),Xg=Ne([Db,Rv,Ob,jb],Pj),dae=Ne([jd,Xg],Xse),hae=Ne([Db],t=>{if(t)return t.dataKey}),j7e=Ne([Db],t=>{if(t)return t.graphicalItemId}),fae=Ne([Iv,Mj,uae,Lj],nae),D7e=Ne([Cd,Nd,hn,Hs,jd,Lj,fae,Pb],rae),M7e=Ne([Db,D7e],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),L7e=Ne([Db],t=>{var e;return(e=t==null?void 0:t.active)!==null&&e!==void 0?e:!1}),F7e=Ne([fae,Xg,Od,Ob,dae,Pb,Mj],iae),B7e=Ne([F7e],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function Jq(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Zq(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?Jq(Object(r),!0).forEach(function(n){V7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):Jq(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function V7e(t,e,r){return(e=U7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function U7e(t){var e=z7e(t,"string");return typeof e=="symbol"?e:e+""}function z7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $7e=()=>Et(_s),H7e=()=>{var t=$7e(),e=Et(jd),r=Et(cae);return sT(!t||!r?void 0:Zq(Zq({},t),{},{scale:r}),e)};function eW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ep(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eW(Object(r),!0).forEach(function(n){q7e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function q7e(t,e,r){return(e=W7e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function W7e(t){var e=G7e(t,"string");return typeof e=="symbol"?e:e+""}function G7e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K7e=(t,e,r,n)=>{var i=e.find(s=>s&&s.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},Y7e=(t,e,r,n)=>{var i=e.find(u=>u&&u.index===r);if(i){if(t==="centric"){var s=i.coordinate,{radius:a}=n;return Ep(Ep(Ep({},n),as(n.cx,n.cy,a,s)),{},{angle:s,radius:a})}var o=i.coordinate,{angle:l}=n;return Ep(Ep(Ep({},n),as(n.cx,n.cy,o,l)),{},{angle:l,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function X7e(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var mae=(t,e,r,n,i)=>{var s,a=(s=e==null?void 0:e.length)!==null&&s!==void 0?s:0;if(a<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<a;o++){var l,u,d,f,g,v=o>0?(l=r[o-1])===null||l===void 0?void 0:l.coordinate:(u=r[a-1])===null||u===void 0?void 0:u.coordinate,x=(d=r[o])===null||d===void 0?void 0:d.coordinate,b=o>=a-1?(f=r[0])===null||f===void 0?void 0:f.coordinate:(g=r[o+1])===null||g===void 0?void 0:g.coordinate,w=void 0;if(!(v==null||x==null||b==null))if(Aa(x-v)!==Aa(b-x)){var E=[];if(Aa(b-x)===Aa(i[1]-i[0])){w=b;var k=x+i[1]-i[0];E[0]=Math.min(k,(k+v)/2),E[1]=Math.max(k,(k+v)/2)}else{w=v;var A=b+i[1]-i[0];E[0]=Math.min(x,(A+x)/2),E[1]=Math.max(x,(A+x)/2)}var O=[Math.min(x,(w+x)/2),Math.max(x,(w+x)/2)];if(t>O[0]&&t<=O[1]||t>=E[0]&&t<=E[1]){var P;return(P=r[o])===null||P===void 0?void 0:P.index}}else{var j=Math.min(v,b),S=Math.max(v,b);if(t>(j+x)/2&&t<=(S+x)/2){var I;return(I=r[o])===null||I===void 0?void 0:I.index}}}else if(e)for(var R=0;R<a;R++){var D=e[R];if(D!=null){var M=e[R+1],L=e[R-1];if(R===0&&M!=null&&t<=(D.coordinate+M.coordinate)/2||R===a-1&&L!=null&&t>(D.coordinate+L.coordinate)/2||R>0&&R<a-1&&L!=null&&M!=null&&t>(D.coordinate+L.coordinate)/2&&t<=(D.coordinate+M.coordinate)/2)return D.index}}return-1},pae=()=>Et(ij),Fj=(t,e)=>e,gae=(t,e,r)=>r,Bj=(t,e,r,n)=>n,Q7e=Ne(jd,t=>g4(t,e=>e.coordinate)),Vj=Ne([Iv,Fj,gae,Bj],tae),Uj=Ne([Vj,Rv,Ob,jb],Pj),J7e=(t,e,r)=>{if(e!=null){var n=Iv(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},vae=Ne([Iv,Fj,gae,Bj],nae),AT=Ne([Cd,Nd,hn,Hs,jd,Bj,vae,Pb],rae),Z7e=Ne([Vj,AT],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),yae=Ne([jd,Uj],Xse),eLe=Ne([vae,Uj,Od,Ob,yae,Pb,Fj],iae),tLe=Ne([Vj,Uj],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),rLe=(t,e,r,n,i,s,a)=>{if(!(!t||!r||!n||!i)&&X7e(t,a)){var o=bOe(t,e),l=mae(o,s,i,r,n),u=K7e(e,i,l,t);return{activeIndex:String(l),activeCoordinate:u}}},nLe=(t,e,r,n,i,s,a)=>{if(!(!t||!n||!i||!s||!r)){var o=FPe(t,r);if(o){var l=wOe(o,e),u=mae(l,a,s,n,i),d=Y7e(e,s,u,o);return{activeIndex:String(u),activeCoordinate:d}}}},iLe=(t,e,r,n,i,s,a,o)=>{if(!(!t||!e||!n||!i||!s))return e==="horizontal"||e==="vertical"?rLe(t,e,n,i,s,a,o):nLe(t,e,r,n,i,s,a)},sLe=Ne(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),aLe=Ne(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(la)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:UDe}});function tW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tW(Object(r),!0).forEach(function(n){oLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function oLe(t,e,r){return(e=lLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function lLe(t){var e=cLe(t,"string");return typeof e=="symbol"?e:e+""}function cLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var uLe={},dLe={zIndexMap:Object.values(la).reduce((t,e)=>rW(rW({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),uLe)},hLe=new Set(Object.values(la));function fLe(t){return hLe.has(t)}var xae=bo({name:"zIndex",initialState:dLe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Zn()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!fLe(r)&&delete t.zIndexMap[r])},prepare:Zn()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Zn()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Zn()}}}),{registerZIndexPortal:mLe,unregisterZIndexPortal:pLe,registerZIndexPortalElement:gLe,unregisterZIndexPortalElement:vLe}=xae.actions,yLe=xae.reducer;function Sc(t){var{zIndex:e,children:r}=t,n=ZOe(),i=n&&e!==void 0&&e!==0,s=wo(),a=Ln();C.useLayoutEffect(()=>i?(a(mLe({zIndex:e})),()=>{a(pLe({zIndex:e}))}):gb,[a,e,i]);var o=Et(l=>sLe(l,e,s));return i?o?Ql.createPortal(r,o):null:r}function Q6(){return Q6=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Q6.apply(null,arguments)}function nW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Z_(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?nW(Object(r),!0).forEach(function(n){xLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):nW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function xLe(t,e,r){return(e=bLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bLe(t){var e=wLe(t,"string");return typeof e=="symbol"?e:e+""}function wLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Le(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return C.isValidElement(e)?C.cloneElement(e,n):C.createElement(r,n)}function ELe(t){var e,{coordinate:r,payload:n,index:i,offset:s,tooltipAxisBandSize:a,layout:o,cursor:l,tooltipEventType:u,chartName:d}=t,f=r,g=n,v=i;if(!l||!f||d!=="ScatterChart"&&u!=="axis")return null;var x,b,w;if(d==="ScatterChart")x=f,b=JRe,w=la.cursorLine;else if(d==="BarChart")x=ZRe(o,f,s,a),b=hie,w=la.cursorRectangle;else if(o==="radial"&&Gre(f)){var{cx:E,cy:k,radius:A,startAngle:O,endAngle:P}=mie(f);x={cx:E,cy:k,startAngle:O,endAngle:P,innerRadius:A,outerRadius:A},b=gie,w=la.cursorLine}else x={points:zPe(o,f,s)},b=og,w=la.cursorLine;var j=typeof l=="object"&&"className"in l?l.className:void 0,S=Z_(Z_(Z_(Z_({stroke:"#ccc",pointerEvents:"none"},s),x),zg(l)),{},{payload:g,payloadIndex:v,className:Hr("recharts-tooltip-cursor",j)});return C.createElement(Sc,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:w},C.createElement(_Le,{cursor:l,cursorComp:b,cursorProps:S}))}function TLe(t){var e=H7e(),r=Yne(),n=Ev(),i=pae();return e==null||r==null||n==null||i==null?null:C.createElement(ELe,Q6({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var bae=C.createContext(null),SLe=()=>C.useContext(bae),BN={exports:{}},iW;function kLe(){return iW||(iW=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(l,u,d){this.fn=l,this.context=u,this.once=d||!1}function s(l,u,d,f,g){if(typeof d!="function")throw new TypeError("The listener must be a function");var v=new i(d,f||l,g),x=r?r+u:u;return l._events[x]?l._events[x].fn?l._events[x]=[l._events[x],v]:l._events[x].push(v):(l._events[x]=v,l._eventsCount++),l}function a(l,u){--l._eventsCount===0?l._events=new n:delete l._events[u]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var u=[],d,f;if(this._eventsCount===0)return u;for(f in d=this._events)e.call(d,f)&&u.push(r?f.slice(1):f);return Object.getOwnPropertySymbols?u.concat(Object.getOwnPropertySymbols(d)):u},o.prototype.listeners=function(u){var d=r?r+u:u,f=this._events[d];if(!f)return[];if(f.fn)return[f.fn];for(var g=0,v=f.length,x=new Array(v);g<v;g++)x[g]=f[g].fn;return x},o.prototype.listenerCount=function(u){var d=r?r+u:u,f=this._events[d];return f?f.fn?1:f.length:0},o.prototype.emit=function(u,d,f,g,v,x){var b=r?r+u:u;if(!this._events[b])return!1;var w=this._events[b],E=arguments.length,k,A;if(w.fn){switch(w.once&&this.removeListener(u,w.fn,void 0,!0),E){case 1:return w.fn.call(w.context),!0;case 2:return w.fn.call(w.context,d),!0;case 3:return w.fn.call(w.context,d,f),!0;case 4:return w.fn.call(w.context,d,f,g),!0;case 5:return w.fn.call(w.context,d,f,g,v),!0;case 6:return w.fn.call(w.context,d,f,g,v,x),!0}for(A=1,k=new Array(E-1);A<E;A++)k[A-1]=arguments[A];w.fn.apply(w.context,k)}else{var O=w.length,P;for(A=0;A<O;A++)switch(w[A].once&&this.removeListener(u,w[A].fn,void 0,!0),E){case 1:w[A].fn.call(w[A].context);break;case 2:w[A].fn.call(w[A].context,d);break;case 3:w[A].fn.call(w[A].context,d,f);break;case 4:w[A].fn.call(w[A].context,d,f,g);break;default:if(!k)for(P=1,k=new Array(E-1);P<E;P++)k[P-1]=arguments[P];w[A].fn.apply(w[A].context,k)}}return!0},o.prototype.on=function(u,d,f){return s(this,u,d,f,!1)},o.prototype.once=function(u,d,f){return s(this,u,d,f,!0)},o.prototype.removeListener=function(u,d,f,g){var v=r?r+u:u;if(!this._events[v])return this;if(!d)return a(this,v),this;var x=this._events[v];if(x.fn)x.fn===d&&(!g||x.once)&&(!f||x.context===f)&&a(this,v);else{for(var b=0,w=[],E=x.length;b<E;b++)(x[b].fn!==d||g&&!x[b].once||f&&x[b].context!==f)&&w.push(x[b]);w.length?this._events[v]=w.length===1?w[0]:w:a(this,v)}return this},o.prototype.removeAllListeners=function(u){var d;return u?(d=r?r+u:u,this._events[d]&&a(this,d)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(BN)),BN.exports}var ALe=kLe();const CLe=Jo(ALe);var wx=new CLe,J6="recharts.syncEvent.tooltip",sW="recharts.syncEvent.brush";function wae(t,e){if(e){var r=Number.parseInt(e,10);if(!bc(r))return t==null?void 0:t[r]}}var NLe={chartName:"",tooltipPayloadSearcher:void 0,eventEmitter:void 0,defaultTooltipEventType:"axis"},_ae=bo({name:"options",initialState:NLe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),ILe=_ae.reducer,{createEventEmitter:OLe}=_ae.actions;function RLe(t){return t.tooltip.syncInteraction}var PLe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},Eae=bo({name:"chartData",initialState:PLe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:aW,setDataStartEndIndexes:jLe,setComputedData:bot}=Eae.actions,DLe=Eae.reducer,MLe=["x","y"];function oW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oW(Object(r),!0).forEach(function(n){LLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LLe(t,e,r){return(e=FLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FLe(t){var e=BLe(t,"string");return typeof e=="symbol"?e:e+""}function BLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function VLe(t,e){if(t==null)return{};var r,n,i=ULe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ULe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function zLe(){var t=Et(sj),e=Et(aj),r=Ln(),n=Et(mse),i=Et(jd),s=Ev(),a=I4(),o=Et(l=>l.rootProps.className);C.useEffect(()=>{if(t==null)return gb;var l=(u,d,f)=>{if(e!==f&&t===u){if(n==="index"){var g;if(a&&d!==null&&d!==void 0&&(g=d.payload)!==null&&g!==void 0&&g.coordinate&&d.payload.sourceViewBox){var v=d.payload.coordinate,{x,y:b}=v,w=VLe(v,MLe),{x:E,y:k,width:A,height:O}=d.payload.sourceViewBox,P=Tp(Tp({},w),{},{x:a.x+(A?(x-E)/A:0)*a.width,y:a.y+(O?(b-k)/O:0)*a.height});r(Tp(Tp({},d),{},{payload:Tp(Tp({},d.payload),{},{coordinate:P})}))}else r(d);return}if(i!=null){var j;if(typeof n=="function"){var S={activeTooltipIndex:d.payload.index==null?void 0:Number(d.payload.index),isTooltipActive:d.payload.active,activeIndex:d.payload.index==null?void 0:Number(d.payload.index),activeLabel:d.payload.label,activeDataKey:d.payload.dataKey,activeCoordinate:d.payload.coordinate},I=n(i,S);j=i[I]}else n==="value"&&(j=i.find(J=>String(J.value)===d.payload.label));var{coordinate:R}=d.payload;if(j==null||d.payload.active===!1||R==null||a==null){r(Y6({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:D,y:M}=R,L=Math.min(D,a.x+a.width),U=Math.min(M,a.y+a.height),le={x:s==="horizontal"?j.coordinate:L,y:s==="horizontal"?U:j.coordinate},ue=Y6({active:d.payload.active,coordinate:le,dataKey:d.payload.dataKey,index:String(j.index),label:d.payload.label,sourceViewBox:d.payload.sourceViewBox,graphicalItemId:d.payload.graphicalItemId});r(ue)}}};return wx.on(J6,l),()=>{wx.off(J6,l)}},[o,r,e,t,n,i,s,a])}function $Le(){var t=Et(sj),e=Et(aj),r=Ln();C.useEffect(()=>{if(t==null)return gb;var n=(i,s,a)=>{e!==a&&t===i&&r(jLe(s))};return wx.on(sW,n),()=>{wx.off(sW,n)}},[r,e,t])}function HLe(){var t=Ln();C.useEffect(()=>{t(OLe())},[t]),zLe(),$Le()}function qLe(t,e,r,n,i,s){var a=Et(v=>J7e(v,t,e)),o=Et(aj),l=Et(sj),u=Et(mse),d=Et(RLe),f=d==null?void 0:d.active,g=I4();C.useEffect(()=>{if(!f&&l!=null&&o!=null){var v=Y6({active:s,coordinate:r,dataKey:a,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});wx.emit(J6,l,v,o)}},[f,r,a,i,n,o,l,u,s,g])}function lW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?lW(Object(r),!0).forEach(function(n){WLe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):lW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function WLe(t,e,r){return(e=GLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function GLe(t){var e=KLe(t,"string");return typeof e=="symbol"?e:e+""}function KLe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function YLe(t){return t.dataKey}function XLe(t,e){return C.isValidElement(t)?C.cloneElement(t,e):typeof t=="function"?C.createElement(t,e):C.createElement(ORe,e)}var uW=[],QLe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Z6(t){var e,r,n=xs(t,QLe),{active:i,allowEscapeViewBox:s,animationDuration:a,animationEasing:o,content:l,filterNull:u,isAnimationActive:d,offset:f,payloadUniqBy:g,position:v,reverseDirection:x,useTranslate3d:b,wrapperStyle:w,cursor:E,shared:k,trigger:A,defaultIndex:O,portal:P,axisId:j}=n,S=Ln(),I=typeof O=="number"?String(O):O;C.useEffect(()=>{S(GMe({shared:k,trigger:A,axisId:j,active:i,defaultIndex:I}))},[S,k,A,j,i,I]);var R=I4(),D=oie(),M=UMe(k),{activeIndex:L,isActive:U}=(e=Et(me=>tLe(me,M,A,I)))!==null&&e!==void 0?e:{},le=Et(me=>eLe(me,M,A,I)),ue=Et(me=>yae(me,M,A,I)),J=Et(me=>Z7e(me,M,A,I)),Q=le,he=SLe(),Z=(r=i??U)!==null&&r!==void 0?r:!1,[ge,H]=lne([Q,Z]),B=M==="axis"?ue:void 0;qLe(M,A,J,B,L,Z);var q=P??he;if(q==null||R==null||M==null)return null;var W=Q??uW;Z||(W=uW),u&&W.length&&(W=nne(W.filter(me=>me.value!=null&&(me.hide!==!0||n.includeHidden)),g,YLe));var Y=W.length>0,de=C.createElement(FRe,{allowEscapeViewBox:s,animationDuration:a,animationEasing:o,isAnimationActive:d,active:Z,coordinate:J,hasPayload:Y,offset:f,position:v,reverseDirection:x,useTranslate3d:b,viewBox:R,wrapperStyle:w,lastBoundingBox:ge,innerRef:H,hasPortalFromProps:!!P},XLe(l,cW(cW({},n),{},{payload:W,label:B,active:Z,activeIndex:L,coordinate:J,accessibilityLayer:D})));return C.createElement(C.Fragment,null,Ql.createPortal(de,q),Z&&C.createElement(TLe,{cursor:E,tooltipEventType:M,coordinate:J,payload:W,index:L}))}var Z4=t=>null;Z4.displayName="Cell";function JLe(t,e,r){return(e=ZLe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ZLe(t){var e=e9e(t,"string");return typeof e=="symbol"?e:e+""}function e9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class t9e{constructor(e){JLe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function dW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function r9e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?dW(Object(r),!0).forEach(function(n){n9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):dW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function n9e(t,e,r){return(e=i9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function i9e(t){var e=s9e(t,"string");return typeof e=="symbol"?e:e+""}function s9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var a9e={cacheSize:2e3,enableCache:!0},Tae=r9e({},a9e),hW=new t9e(Tae.cacheSize),o9e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},fW="recharts_measurement_span";function l9e(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",s=e.fontStyle||"",a=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(s,"|").concat(a,"|").concat(o)}var mW=(t,e)=>{try{var r=document.getElementById(fW);r||(r=document.createElement("span"),r.setAttribute("id",fW),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,o9e,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},E1=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||_b.isSsr)return{width:0,height:0};if(!Tae.enableCache)return mW(e,r);var n=l9e(e,r),i=hW.get(n);if(i)return i;var s=mW(e,r);return hW.set(n,s),s},Sae;function c9e(t,e,r){return(e=u9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function u9e(t){var e=d9e(t,"string");return typeof e=="symbol"?e:e+""}function d9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,gW=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h9e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,f9e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,m9e={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},p9e=["cm","mm","pt","pc","in","Q","px"];function g9e(t){return p9e.includes(t)}var Wp="NaN";function v9e(t,e){return t*m9e[e]}class ra{static parse(e){var r,[,n,i]=(r=f9e.exec(e))!==null&&r!==void 0?r:[];return n==null?ra.NaN:new ra(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,bc(e)&&(this.unit=""),r!==""&&!h9e.test(r)&&(this.num=NaN,this.unit=""),g9e(r)&&(this.num=v9e(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new ra(NaN,""):new ra(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new ra(NaN,""):new ra(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ra(NaN,""):new ra(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new ra(NaN,""):new ra(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return bc(this.num)}}Sae=ra;c9e(ra,"NaN",new Sae(NaN,""));function kae(t){if(t==null||t.includes(Wp))return Wp;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,s]=(r=pW.exec(e))!==null&&r!==void 0?r:[],a=ra.parse(n??""),o=ra.parse(s??""),l=i==="*"?a.multiply(o):a.divide(o);if(l.isNaN())return Wp;e=e.replace(pW,l.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var u,[,d,f,g]=(u=gW.exec(e))!==null&&u!==void 0?u:[],v=ra.parse(d??""),x=ra.parse(g??""),b=f==="+"?v.add(x):v.subtract(x);if(b.isNaN())return Wp;e=e.replace(gW,b.toString())}return e}var vW=/\(([^()]*)\)/;function y9e(t){for(var e=t,r;(r=vW.exec(e))!=null;){var[,n]=r;e=e.replace(vW,kae(n))}return e}function x9e(t){var e=t.replace(/\s+/g,"");return e=y9e(e),e=kae(e),e}function b9e(t){try{return x9e(t)}catch{return Wp}}function VN(t){var e=b9e(t.slice(5,-1));return e===Wp?"":e}var w9e=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],_9e=["dx","dy","angle","className","breakAll"];function eO(){return eO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},eO.apply(null,arguments)}function yW(t,e){if(t==null)return{};var r,n,i=E9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function E9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Aae=/[ \f\n\r\t\v\u2028\u2029]+/,Cae=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];Vs(e)||(r?i=e.toString().split(""):i=e.toString().split(Aae));var s=i.map(o=>({word:o,width:E1(o,n).width})),a=r?0:E1("",n).width;return{wordsWithComputedWidth:s,spaceWidth:a}}catch{return null}};function T9e(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var Nae=(t,e,r,n)=>t.reduce((i,s)=>{var{word:a,width:o}=s,l=i[i.length-1];if(l&&o!=null&&(e==null||n||l.width+o+r<Number(e)))l.words.push(a),l.width+=o+r;else{var u={words:[a],width:o};i.push(u)}return i},[]),Iae=t=>t.reduce((e,r)=>e.width>r.width?e:r),S9e="",xW=(t,e,r,n,i,s,a,o)=>{var l=t.slice(0,e),u=Cae({breakAll:r,style:n,children:l+S9e});if(!u)return[!1,[]];var d=Nae(u.wordsWithComputedWidth,s,a,o),f=d.length>i||Iae(d).width>Number(s);return[f,d]},k9e=(t,e,r,n,i)=>{var{maxLines:s,children:a,style:o,breakAll:l}=t,u=bt(s),d=String(a),f=Nae(e,n,r,i);if(!u||i)return f;var g=f.length>s||Iae(f).width>Number(n);if(!g)return f;for(var v=0,x=d.length-1,b=0,w;v<=x&&b<=d.length-1;){var E=Math.floor((v+x)/2),k=E-1,[A,O]=xW(d,k,l,o,s,n,r,i),[P]=xW(d,E,l,o,s,n,r,i);if(!A&&!P&&(v=E+1),A&&P&&(x=E-1),!A&&P){w=O;break}b++}return w||f},bW=t=>{var e=Vs(t)?[]:t.toString().split(Aae);return[{words:e,width:void 0}]},A9e=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:s,maxLines:a}=t;if((e||r)&&!_b.isSsr){var o,l,u=Cae({breakAll:s,children:n,style:i});if(u){var{wordsWithComputedWidth:d,spaceWidth:f}=u;o=d,l=f}else return bW(n);return k9e({breakAll:s,children:n,maxLines:a,style:i},o,l,e,!!r)}return bW(n)},Oae="#808080",C9e={angle:0,breakAll:!1,capHeight:"0.71em",fill:Oae,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},ek=C.forwardRef((t,e)=>{var r=xs(t,C9e),{x:n,y:i,lineHeight:s,capHeight:a,fill:o,scaleToFit:l,textAnchor:u,verticalAnchor:d}=r,f=yW(r,w9e),g=C.useMemo(()=>A9e({breakAll:f.breakAll,children:f.children,maxLines:f.maxLines,scaleToFit:l,style:f.style,width:f.width}),[f.breakAll,f.children,f.maxLines,l,f.style,f.width]),{dx:v,dy:x,angle:b,className:w,breakAll:E}=f,k=yW(f,_9e);if(!ou(n)||!ou(i)||g.length===0)return null;var A=Number(n)+(bt(v)?v:0),O=Number(i)+(bt(x)?x:0);if(!ni(A)||!ni(O))return null;var P;switch(d){case"start":P=VN("calc(".concat(a,")"));break;case"middle":P=VN("calc(".concat((g.length-1)/2," * -").concat(s," + (").concat(a," / 2))"));break;default:P=VN("calc(".concat(g.length-1," * -").concat(s,")"));break}var j=[];if(l){var S=g[0].width,{width:I}=f;j.push("scale(".concat(bt(I)&&bt(S)?I/S:1,")"))}return b&&j.push("rotate(".concat(b,", ").concat(A,", ").concat(O,")")),j.length&&(k.transform=j.join(" ")),C.createElement("text",eO({},Wa(k),{ref:e,x:A,y:O,className:Hr("recharts-text",w),textAnchor:u,fill:o.includes("url")?Oae:o}),g.map((R,D)=>{var M=R.words.join(E?"":" ");return C.createElement("tspan",{x:A,dy:D===0?P:s,key:"".concat(M,"-").concat(D)},M)}))});ek.displayName="Text";var N9e=["labelRef"],I9e=["content"];function wW(t,e){if(t==null)return{};var r,n,i=O9e(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function O9e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function _W(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function ji(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?_W(Object(r),!0).forEach(function(n){R9e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):_W(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function R9e(t,e,r){return(e=P9e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function P9e(t){var e=j9e(t,"string");return typeof e=="symbol"?e:e+""}function j9e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Hu(){return Hu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hu.apply(null,arguments)}var Rae=C.createContext(null),D9e=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a,children:o}=t,l=C.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:s,height:a}),[e,r,n,i,s,a]);return C.createElement(Rae.Provider,{value:l},o)},Pae=()=>{var t=C.useContext(Rae),e=I4();return t||Kne(e)},M9e=C.createContext(null),L9e=()=>{var t=C.useContext(M9e),e=Et(xse);return t||e},F9e=t=>{var{value:e,formatter:r}=t,n=Vs(t.children)?e:t.children;return typeof r=="function"?r(n):n},zj=t=>t!=null&&typeof t=="function",B9e=(t,e)=>{var r=Aa(e-t),n=Math.min(Math.abs(e-t),360);return r*n},V9e=(t,e,r,n,i)=>{var{offset:s,className:a}=t,{cx:o,cy:l,innerRadius:u,outerRadius:d,startAngle:f,endAngle:g,clockWise:v}=i,x=(u+d)/2,b=B9e(f,g),w=b>=0?1:-1,E,k;switch(e){case"insideStart":E=f+w*s,k=v;break;case"insideEnd":E=g-w*s,k=!v;break;case"end":E=g+w*s,k=v;break;default:throw new Error("Unsupported position ".concat(e))}k=b<=0?k:!k;var A=as(o,l,x,E),O=as(o,l,x,E+(k?1:-1)*359),P="M".concat(A.x,",").concat(A.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(k?0:1,`,
    `).concat(O.x,",").concat(O.y),j=Vs(t.id)?lx("recharts-radial-line-"):t.id;return C.createElement("text",Hu({},n,{dominantBaseline:"central",className:Hr("recharts-radial-bar-label",a)}),C.createElement("defs",null,C.createElement("path",{id:j,d:P})),C.createElement("textPath",{xlinkHref:"#".concat(j)},r))},U9e=(t,e,r)=>{var{cx:n,cy:i,innerRadius:s,outerRadius:a,startAngle:o,endAngle:l}=t,u=(o+l)/2;if(r==="outside"){var{x:d,y:f}=as(n,i,a+e,u);return{x:d,y:f,textAnchor:d>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(s+a)/2,{x:v,y:x}=as(n,i,g,u);return{x:v,y:x,textAnchor:"middle",verticalAnchor:"middle"}},tO=t=>"cx"in t&&bt(t.cx),z9e=(t,e)=>{var{parentViewBox:r,offset:n,position:i}=t,s;r!=null&&!tO(r)&&(s=r);var{x:a,y:o,upperWidth:l,lowerWidth:u,height:d}=e,f=a,g=a+(l-u)/2,v=(f+g)/2,x=(l+u)/2,b=f+l/2,w=d>=0?1:-1,E=w*n,k=w>0?"end":"start",A=w>0?"start":"end",O=l>=0?1:-1,P=O*n,j=O>0?"end":"start",S=O>0?"start":"end";if(i==="top"){var I={x:f+l/2,y:o-E,textAnchor:"middle",verticalAnchor:k};return ji(ji({},I),s?{height:Math.max(o-s.y,0),width:l}:{})}if(i==="bottom"){var R={x:g+u/2,y:o+d+E,textAnchor:"middle",verticalAnchor:A};return ji(ji({},R),s?{height:Math.max(s.y+s.height-(o+d),0),width:u}:{})}if(i==="left"){var D={x:v-P,y:o+d/2,textAnchor:j,verticalAnchor:"middle"};return ji(ji({},D),s?{width:Math.max(D.x-s.x,0),height:d}:{})}if(i==="right"){var M={x:v+x+P,y:o+d/2,textAnchor:S,verticalAnchor:"middle"};return ji(ji({},M),s?{width:Math.max(s.x+s.width-M.x,0),height:d}:{})}var L=s?{width:x,height:d}:{};return i==="insideLeft"?ji({x:v+P,y:o+d/2,textAnchor:S,verticalAnchor:"middle"},L):i==="insideRight"?ji({x:v+x-P,y:o+d/2,textAnchor:j,verticalAnchor:"middle"},L):i==="insideTop"?ji({x:f+l/2,y:o+E,textAnchor:"middle",verticalAnchor:A},L):i==="insideBottom"?ji({x:g+u/2,y:o+d-E,textAnchor:"middle",verticalAnchor:k},L):i==="insideTopLeft"?ji({x:f+P,y:o+E,textAnchor:S,verticalAnchor:A},L):i==="insideTopRight"?ji({x:f+l-P,y:o+E,textAnchor:j,verticalAnchor:A},L):i==="insideBottomLeft"?ji({x:g+P,y:o+d-E,textAnchor:S,verticalAnchor:k},L):i==="insideBottomRight"?ji({x:g+u-P,y:o+d-E,textAnchor:j,verticalAnchor:k},L):i&&typeof i=="object"&&(bt(i.x)||yd(i.x))&&(bt(i.y)||yd(i.y))?ji({x:a+qo(i.x,x),y:o+qo(i.y,d),textAnchor:"end",verticalAnchor:"end"},L):ji({x:b,y:o+d/2,textAnchor:"middle",verticalAnchor:"middle"},L)},$9e={angle:0,offset:5,zIndex:la.label,position:"middle",textBreakAll:!1};function xh(t){var e=xs(t,$9e),{viewBox:r,position:n,value:i,children:s,content:a,className:o="",textBreakAll:l,labelRef:u}=e,d=L9e(),f=Pae(),g=n==="center"?f:d??f,v,x,b;if(r==null?v=g:tO(r)?v=r:v=Kne(r),!v||Vs(i)&&Vs(s)&&!C.isValidElement(a)&&typeof a!="function")return null;var w=ji(ji({},e),{},{viewBox:v});if(C.isValidElement(a)){var{labelRef:E}=w,k=wW(w,N9e);return C.cloneElement(a,k)}if(typeof a=="function"){var{content:A}=w,O=wW(w,I9e);if(x=C.createElement(a,O),C.isValidElement(x))return x}else x=F9e(e);var P=Wa(e);if(tO(v)){if(n==="insideStart"||n==="insideEnd"||n==="end")return V9e(e,n,x,P,v);b=U9e(v,e.offset,e.position)}else b=z9e(e,v);return C.createElement(Sc,{zIndex:e.zIndex},C.createElement(ek,Hu({ref:u,className:Hr("recharts-label",o)},P,b,{textAnchor:T9e(P.textAnchor)?P.textAnchor:b.textAnchor,breakAll:l}),x))}xh.displayName="Label";var H9e=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?C.createElement(xh,Hu({key:"label-implicit"},n)):ou(t)?C.createElement(xh,Hu({key:"label-implicit",value:t},n)):C.isValidElement(t)?t.type===xh?C.cloneElement(t,ji({key:"label-implicit"},n)):C.createElement(xh,Hu({key:"label-implicit",content:t},n)):zj(t)?C.createElement(xh,Hu({key:"label-implicit",content:t},n)):t&&typeof t=="object"?C.createElement(xh,Hu({},t,{key:"label-implicit"},n)):null};function q9e(t){var{label:e,labelRef:r}=t,n=Pae();return H9e(e,n,r)||null}var UN={},zN={},EW;function W9e(){return EW||(EW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(zN)),zN}var $N={},TW;function G9e(){return TW||(TW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})($N)),$N}var SW;function K9e(){return SW||(SW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W9e(),r=G9e(),n=y8();function i(s){if(n.isArrayLike(s))return e.last(r.toArray(s))}t.last=i})(UN)),UN}var HN,kW;function Y9e(){return kW||(kW=1,HN=K9e().last),HN}var X9e=Y9e();const Q9e=Jo(X9e);var J9e=["valueAccessor"],Z9e=["dataKey","clockWise","id","textBreakAll","zIndex"];function CT(){return CT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},CT.apply(null,arguments)}function AW(t,e){if(t==null)return{};var r,n,i=eFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tFe=t=>Array.isArray(t.value)?Q9e(t.value):t.value,jae=C.createContext(void 0),rFe=jae.Provider,Dae=C.createContext(void 0),nFe=Dae.Provider;function iFe(){return C.useContext(jae)}function sFe(){return C.useContext(Dae)}function B2(t){var{valueAccessor:e=tFe}=t,r=AW(t,J9e),{dataKey:n,clockWise:i,id:s,textBreakAll:a,zIndex:o}=r,l=AW(r,Z9e),u=iFe(),d=sFe(),f=u||d;return!f||!f.length?null:C.createElement(Sc,{zIndex:o??la.label},C.createElement(ca,{className:"recharts-label-list"},f.map((g,v)=>{var x,b=Vs(n)?e(g,v):qn(g&&g.payload,n),w=Vs(s)?{}:{id:"".concat(s,"-").concat(v)};return C.createElement(xh,CT({key:"label-".concat(v)},Wa(g),l,w,{fill:(x=r.fill)!==null&&x!==void 0?x:g.fill,parentViewBox:g.parentViewBox,value:b,textBreakAll:a,viewBox:g.viewBox,index:v,zIndex:0}))})))}B2.displayName="LabelList";function Mae(t){var{label:e}=t;return e?e===!0?C.createElement(B2,{key:"labelList-implicit"}):C.isValidElement(e)||zj(e)?C.createElement(B2,{key:"labelList-implicit",content:e}):typeof e=="object"?C.createElement(B2,CT({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function rO(){return rO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rO.apply(null,arguments)}var Lae=t=>{var{cx:e,cy:r,r:n,className:i}=t,s=Hr("recharts-dot",i);return bt(e)&&bt(r)&&bt(n)?C.createElement("circle",rO({},Ko(t),g8(t),{className:s,cx:e,cy:r,r:n})):null},Fae=t=>t.graphicalItems.polarItems,aFe=Ne([ii,Cb],fj),tk=Ne([Fae,mi,aFe],mj),oFe=Ne([tk],pj),rk=Ne([oFe,$4],gj),lFe=Ne([rk,mi,tk],yj);Ne([rk,mi,tk],(t,e,r)=>r.length>0?t.flatMap(n=>r.flatMap(i=>{var s,a=qn(n,(s=e.dataKey)!==null&&s!==void 0?s:i.dataKey);return{value:a,errorDomain:[]}})).filter(Boolean):(e==null?void 0:e.dataKey)!=null?t.map(n=>({value:qn(n,e.dataKey),errorDomain:[]})):t.map(n=>({value:n,errorDomain:[]})));var CW=()=>{},cFe=Ne([rk,mi,tk,Y4,ii],_j),uFe=Ne([mi,bj,wj,CW,cFe,CW,hn,ii],Ej),Bae=Ne([mi,hn,rk,lFe,Ab,ii,uFe],Tj),dFe=Ne([Bae,mi,Nv],Aj);Ne([mi,Bae,dFe,ii],Nj);var hFe={radiusAxis:{},angleAxis:{}},Vae=bo({name:"polarAxis",initialState:hFe,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:wot,removeRadiusAxis:_ot,addAngleAxis:Eot,removeAngleAxis:Tot}=Vae.actions,fFe=Vae.reducer;function NW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?NW(Object(r),!0).forEach(function(n){mFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):NW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mFe(t,e,r){return(e=pFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function pFe(t){var e=gFe(t,"string");return typeof e=="symbol"?e:e+""}function gFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vFe=(t,e)=>e,$j=Ne([Fae,vFe],(t,e)=>t.filter(r=>r.type==="pie").find(r=>r.id===e)),yFe=[],Hj=(t,e,r)=>(r==null?void 0:r.length)===0?yFe:r,Uae=Ne([$4,$j,Hj],(t,e,r)=>{var{chartData:n}=t;if(e!=null){var i;if((e==null?void 0:e.data)!=null&&e.data.length>0?i=e.data:i=n,(!i||!i.length)&&r!=null&&(i=r.map(s=>IW(IW({},e.presentationProps),s.props))),i!=null)return i}}),xFe=Ne([Uae,$j,Hj],(t,e,r)=>{if(!(t==null||e==null))return t.map((n,i)=>{var s,a=qn(n,e.nameKey,e.name),o;return r!=null&&(s=r[i])!==null&&s!==void 0&&(s=s.props)!==null&&s!==void 0&&s.fill?o=r[i].props.fill:typeof n=="object"&&n!=null&&"fill"in n?o=n.fill:o=e.fill,{value:S4(a,e.dataKey),color:o,payload:n,type:e.legendType}})}),bFe=Ne([Uae,$j,Hj,Hs],(t,e,r,n)=>{if(!(e==null||t==null))return CBe({offset:n,pieSettings:e,displayedData:t,cells:r})}),qN={exports:{}},xn={};/**
 * @license React
 * react-is.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var OW;function wFe(){if(OW)return xn;OW=1;var t=Symbol.for("react.transitional.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),s=Symbol.for("react.consumer"),a=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),l=Symbol.for("react.suspense"),u=Symbol.for("react.suspense_list"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),g=Symbol.for("react.view_transition"),v=Symbol.for("react.client.reference");function x(b){if(typeof b=="object"&&b!==null){var w=b.$$typeof;switch(w){case t:switch(b=b.type,b){case r:case i:case n:case l:case u:case g:return b;default:switch(b=b&&b.$$typeof,b){case a:case o:case f:case d:return b;case s:return b;default:return w}}case e:return w}}}return xn.ContextConsumer=s,xn.ContextProvider=a,xn.Element=t,xn.ForwardRef=o,xn.Fragment=r,xn.Lazy=f,xn.Memo=d,xn.Portal=e,xn.Profiler=i,xn.StrictMode=n,xn.Suspense=l,xn.SuspenseList=u,xn.isContextConsumer=function(b){return x(b)===s},xn.isContextProvider=function(b){return x(b)===a},xn.isElement=function(b){return typeof b=="object"&&b!==null&&b.$$typeof===t},xn.isForwardRef=function(b){return x(b)===o},xn.isFragment=function(b){return x(b)===r},xn.isLazy=function(b){return x(b)===f},xn.isMemo=function(b){return x(b)===d},xn.isPortal=function(b){return x(b)===e},xn.isProfiler=function(b){return x(b)===i},xn.isStrictMode=function(b){return x(b)===n},xn.isSuspense=function(b){return x(b)===l},xn.isSuspenseList=function(b){return x(b)===u},xn.isValidElementType=function(b){return typeof b=="string"||typeof b=="function"||b===r||b===i||b===n||b===l||b===u||typeof b=="object"&&b!==null&&(b.$$typeof===f||b.$$typeof===d||b.$$typeof===a||b.$$typeof===s||b.$$typeof===o||b.$$typeof===v||b.getModuleId!==void 0)},xn.typeOf=x,xn}var RW;function _Fe(){return RW||(RW=1,qN.exports=wFe()),qN.exports}var EFe=_Fe(),PW=t=>typeof t=="string"?t:t?t.displayName||t.name||"Component":"",jW=null,WN=null,zae=t=>{if(t===jW&&Array.isArray(WN))return WN;var e=[];return C.Children.forEach(t,r=>{Vs(r)||(EFe.isFragment(r)?e=e.concat(zae(r.props.children)):e.push(r))}),WN=e,jW=t,e};function $ae(t,e){var r=[],n=[];return Array.isArray(e)?n=e.map(i=>PW(i)):n=[PW(e)],zae(t).forEach(i=>{var s=Q0(i,"type.displayName")||Q0(i,"type.name");s&&n.indexOf(s)!==-1&&r.push(i)}),r}var Hae=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0,GN={},DW;function TFe(){return DW||(DW=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){var i;if(typeof r!="object"||r==null)return!1;if(Object.getPrototypeOf(r)===null)return!0;if(Object.prototype.toString.call(r)!=="[object Object]"){const s=r[Symbol.toStringTag];return s==null||!((i=Object.getOwnPropertyDescriptor(r,Symbol.toStringTag))!=null&&i.writable)?!1:r.toString()===`[object ${s}]`}let n=r;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(r)===n}t.isPlainObject=e})(GN)),GN}var KN,MW;function SFe(){return MW||(MW=1,KN=TFe().isPlainObject),KN}var kFe=SFe();const AFe=Jo(kFe);var LW,FW,BW,VW,UW;function zW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $W(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zW(Object(r),!0).forEach(function(n){CFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CFe(t,e,r){return(e=NFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NFe(t){var e=IFe(t,"string");return typeof e=="symbol"?e:e+""}function IFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NT(){return NT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NT.apply(null,arguments)}function qy(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var HW=(t,e,r,n,i)=>{var s=r-n,a;return a=Ei(LW||(LW=qy(["M ",",",""])),t,e),a+=Ei(FW||(FW=qy(["L ",",",""])),t+r,e),a+=Ei(BW||(BW=qy(["L ",",",""])),t+r-s/2,e+i),a+=Ei(VW||(VW=qy(["L ",",",""])),t+r-s/2-n,e+i),a+=Ei(UW||(UW=qy(["L ",","," Z"])),t,e),a},OFe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},RFe=t=>{var e=xs(t,OFe),{x:r,y:n,upperWidth:i,lowerWidth:s,height:a,className:o}=e,{animationEasing:l,animationDuration:u,animationBegin:d,isUpdateAnimationActive:f}=e,g=C.useRef(null),[v,x]=C.useState(-1),b=C.useRef(i),w=C.useRef(s),E=C.useRef(a),k=C.useRef(r),A=C.useRef(n),O=M4(t,"trapezoid-");if(C.useEffect(()=>{if(g.current&&g.current.getTotalLength)try{var le=g.current.getTotalLength();le&&x(le)}catch{}},[]),r!==+r||n!==+n||i!==+i||s!==+s||a!==+a||i===0&&s===0||a===0)return null;var P=Hr("recharts-trapezoid",o);if(!f)return C.createElement("g",null,C.createElement("path",NT({},Wa(e),{className:P,d:HW(r,n,i,s,a)})));var j=b.current,S=w.current,I=E.current,R=k.current,D=A.current,M="0px ".concat(v===-1?1:v,"px"),L="".concat(v,"px 0px"),U=lie(["strokeDasharray"],u,l);return C.createElement(D4,{animationId:O,key:O,canBegin:v>0,duration:u,easing:l,isActive:f,begin:d},le=>{var ue=ia(j,i,le),J=ia(S,s,le),Q=ia(I,a,le),he=ia(R,r,le),Z=ia(D,n,le);g.current&&(b.current=ue,w.current=J,E.current=Q,k.current=he,A.current=Z);var ge=le>0?{transition:U,strokeDasharray:L}:{strokeDasharray:M};return C.createElement("path",NT({},Wa(e),{className:P,d:HW(he,Z,ue,J,Q),ref:g,style:$W($W({},ge),e.style)}))})},PFe=["option","shapeType","activeClassName"];function jFe(t,e){if(t==null)return{};var r,n,i=DFe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function DFe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function qW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function IT(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?qW(Object(r),!0).forEach(function(n){MFe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):qW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MFe(t,e,r){return(e=LFe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LFe(t){var e=FFe(t,"string");return typeof e=="symbol"?e:e+""}function FFe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function BFe(t,e){return IT(IT({},e),t)}function VFe(t,e){return t==="symbols"}function WW(t){var{shapeType:e,elementProps:r}=t;switch(e){case"rectangle":return C.createElement(hie,r);case"trapezoid":return C.createElement(RFe,r);case"sector":return C.createElement(gie,r);case"symbols":if(VFe(e))return C.createElement(p8,r);break;case"curve":return C.createElement(og,r);default:return null}}function UFe(t){return C.isValidElement(t)?t.props:t}function zFe(t){var{option:e,shapeType:r,activeClassName:n="recharts-active-shape"}=t,i=jFe(t,PFe),s;if(C.isValidElement(e))s=C.cloneElement(e,IT(IT({},i),UFe(e)));else if(typeof e=="function")s=e(i,i.index);else if(AFe(e)&&typeof e!="boolean"){var a=BFe(e,i);s=C.createElement(WW,{shapeType:r,elementProps:a})}else{var o=i;s=C.createElement(WW,{shapeType:r,elementProps:o})}return i.isActive?C.createElement(ca,{className:n},s):s}var $Fe=(t,e,r)=>{var n=Ln();return(i,s)=>a=>{t==null||t(i,s,a),n(Jse({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}},HFe=t=>{var e=Ln();return(r,n)=>i=>{t==null||t(r,n,i),e(KMe())}},qFe=(t,e,r)=>{var n=Ln();return(i,s)=>a=>{t==null||t(i,s,a),n(YMe({activeIndex:String(s),activeDataKey:e,activeCoordinate:i.tooltipPosition,activeGraphicalItemId:r}))}};function qae(t){var{tooltipEntrySettings:e}=t,r=Ln(),n=wo(),i=C.useRef(null);return C.useLayoutEffect(()=>{n||(i.current===null?r(HMe(e)):i.current!==e&&r(qMe({prev:i.current,next:e})),i.current=e)},[e,r,n]),C.useLayoutEffect(()=>()=>{i.current&&(r(WMe(i.current)),i.current=null)},[r]),null}function WFe(t){var{legendPayload:e}=t,r=Ln(),n=wo(),i=C.useRef(null);return C.useLayoutEffect(()=>{n||(i.current===null?r(nie(e)):i.current!==e&&r(iie({prev:i.current,next:e})),i.current=e)},[r,n,e]),C.useLayoutEffect(()=>()=>{i.current&&(r(sie(i.current)),i.current=null)},[r]),null}function GFe(t){var{legendPayload:e}=t,r=Ln(),n=Et(hn),i=C.useRef(null);return C.useLayoutEffect(()=>{n!=="centric"&&n!=="radial"||(i.current===null?r(nie(e)):i.current!==e&&r(iie({prev:i.current,next:e})),i.current=e)},[r,n,e]),C.useLayoutEffect(()=>()=>{i.current&&(r(sie(i.current)),i.current=null)},[r]),null}var YN,KFe=()=>{var[t]=C.useState(()=>lx("uid-"));return t},YFe=(YN=xY.useId)!==null&&YN!==void 0?YN:KFe;function XFe(t,e){var r=YFe();return e||(t?"".concat(t,"-").concat(r):r)}var QFe=C.createContext(void 0),Wae=t=>{var{id:e,type:r,children:n}=t,i=XFe("recharts-".concat(r),e);return C.createElement(QFe.Provider,{value:i},n(i))},JFe={cartesianItems:[],polarItems:[]},Gae=bo({name:"graphicalItems",initialState:JFe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Zn()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=hc(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Zn()},removeCartesianGraphicalItem:{reducer(t,e){var r=hc(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Zn()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Zn()},removePolarGraphicalItem:{reducer(t,e){var r=hc(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Zn()}}}),{addCartesianGraphicalItem:ZFe,replaceCartesianGraphicalItem:eBe,removeCartesianGraphicalItem:tBe,addPolarGraphicalItem:rBe,removePolarGraphicalItem:nBe}=Gae.actions,iBe=Gae.reducer,sBe=t=>{var e=Ln(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(ZFe(t)):r.current!==t&&e(eBe({prev:r.current,next:t})),r.current=t},[e,t]),C.useLayoutEffect(()=>()=>{r.current&&(e(tBe(r.current)),r.current=null)},[e]),null},aBe=C.memo(sBe);function oBe(t){var e=Ln();return C.useLayoutEffect(()=>(e(rBe(t)),()=>{e(nBe(t))}),[e,t]),null}var lBe=["key"],cBe=["onMouseEnter","onClick","onMouseLeave"],uBe=["id"],dBe=["id"];function GW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Ti(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?GW(Object(r),!0).forEach(function(n){hBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):GW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function hBe(t,e,r){return(e=fBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fBe(t){var e=mBe(t,"string");return typeof e=="symbol"?e:e+""}function mBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function af(){return af=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},af.apply(null,arguments)}function nk(t,e){if(t==null)return{};var r,n,i=pBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function gBe(t){var e=C.useMemo(()=>$ae(t.children,Z4),[t.children]),r=Et(n=>xFe(n,t.id,e));return r==null?null:C.createElement(GFe,{legendPayload:r})}var vBe=C.memo(t=>{var{dataKey:e,nameKey:r,sectors:n,stroke:i,strokeWidth:s,fill:a,name:o,hide:l,tooltipType:u,id:d}=t,f={dataDefinedOnItem:n.map(g=>g.tooltipPayload),positions:n.map(g=>g.tooltipPosition),settings:{stroke:i,strokeWidth:s,fill:a,dataKey:e,nameKey:r,name:S4(o,e),hide:l,type:u,color:a,unit:"",graphicalItemId:d}};return C.createElement(qae,{tooltipEntrySettings:f})}),yBe=(t,e)=>t>e?"start":t<e?"end":"middle",xBe=(t,e,r)=>qo(typeof e=="function"?e(t):e,r,r*.8),bBe=(t,e,r)=>{var{top:n,left:i,width:s,height:a}=e,o=fie(s,a),l=i+qo(t.cx,s,s/2),u=n+qo(t.cy,a,a/2),d=qo(t.innerRadius,o,0),f=xBe(r,t.outerRadius,o),g=t.maxRadius||Math.sqrt(s*s+a*a)/2;return{cx:l,cy:u,innerRadius:d,outerRadius:f,maxRadius:g}},wBe=(t,e)=>{var r=Aa(e-t),n=Math.min(Math.abs(e-t),360);return r*n};function _Be(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var EBe=(t,e)=>{if(C.isValidElement(t))return C.cloneElement(t,e);if(typeof t=="function")return t(e);var r=Hr("recharts-pie-label-line",typeof t!="boolean"?t.className:""),{key:n}=e,i=nk(e,lBe);return C.createElement(og,af({},i,{type:"linear",className:r}))},TBe=(t,e,r)=>{if(C.isValidElement(t))return C.cloneElement(t,e);var n=r;if(typeof t=="function"&&(n=t(e),C.isValidElement(n)))return n;var i=Hr("recharts-pie-label-text",_Be(t));return C.createElement(ek,af({},e,{alignmentBaseline:"middle",className:i}),n)};function SBe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i,labelLine:s,dataKey:a}=r;if(!n||!i||!e)return null;var o=Ko(r),l=zg(i),u=zg(s),d=typeof i=="object"&&"offsetRadius"in i&&typeof i.offsetRadius=="number"&&i.offsetRadius||20,f=e.map((g,v)=>{var x=(g.startAngle+g.endAngle)/2,b=as(g.cx,g.cy,g.outerRadius+d,x),w=Ti(Ti(Ti(Ti({},o),g),{},{stroke:"none"},l),{},{index:v,textAnchor:yBe(b.x,g.cx)},b),E=Ti(Ti(Ti(Ti({},o),g),{},{fill:"none",stroke:g.fill},u),{},{index:v,points:[as(g.cx,g.cy,g.outerRadius,x),b],key:"line"});return C.createElement(Sc,{zIndex:la.label,key:"label-".concat(g.startAngle,"-").concat(g.endAngle,"-").concat(g.midAngle,"-").concat(v)},C.createElement(ca,null,s&&EBe(s,E),TBe(i,w,qn(g,a))))});return C.createElement(ca,{className:"recharts-pie-labels"},f)}function kBe(t){var{sectors:e,props:r,showLabels:n}=t,{label:i}=r;return typeof i=="object"&&i!=null&&"position"in i?C.createElement(Mae,{label:i}):C.createElement(SBe,{sectors:e,props:r,showLabels:n})}function ABe(t){var{sectors:e,activeShape:r,inactiveShape:n,allOtherPieProps:i,shape:s,id:a}=t,o=Et(Xg),l=Et(hae),u=Et(j7e),{onMouseEnter:d,onClick:f,onMouseLeave:g}=i,v=nk(i,cBe),x=$Fe(d,i.dataKey,a),b=HFe(g),w=qFe(f,i.dataKey,a);return e==null||e.length===0?null:C.createElement(C.Fragment,null,e.map((E,k)=>{if((E==null?void 0:E.startAngle)===0&&(E==null?void 0:E.endAngle)===0&&e.length!==1)return null;var A=u==null||u===a,O=String(k)===o&&(l==null||i.dataKey===l)&&A,P=o?n:null,j=r&&O?r:P,S=Ti(Ti({},E),{},{stroke:E.stroke,tabIndex:-1,[zne]:k,[$ne]:a});return C.createElement(ca,af({key:"sector-".concat(E==null?void 0:E.startAngle,"-").concat(E==null?void 0:E.endAngle,"-").concat(E.midAngle,"-").concat(k),tabIndex:-1,className:"recharts-pie-sector"},v8(v,E,k),{onMouseEnter:x(E,k),onMouseLeave:b(E,k),onClick:w(E,k)}),C.createElement(zFe,af({option:s??j,index:k,shapeType:"sector",isActive:O},S)))}))}function CBe(t){var e,{pieSettings:r,displayedData:n,cells:i,offset:s}=t,{cornerRadius:a,startAngle:o,endAngle:l,dataKey:u,nameKey:d,tooltipType:f}=r,g=Math.abs(r.minAngle),v=wBe(o,l),x=Math.abs(v),b=n.length<=1?0:(e=r.paddingAngle)!==null&&e!==void 0?e:0,w=n.filter(j=>qn(j,u,0)!==0).length,E=(x>=360?w:w-1)*b,k=x-w*g-E,A=n.reduce((j,S)=>{var I=qn(S,u,0);return j+(bt(I)?I:0)},0),O;if(A>0){var P;O=n.map((j,S)=>{var I=qn(j,u,0),R=qn(j,d,S),D=bBe(r,s,j),M=(bt(I)?I:0)/A,L,U=Ti(Ti({},j),i&&i[S]&&i[S].props);S?L=P.endAngle+Aa(v)*b*(I!==0?1:0):L=o;var le=L+Aa(v)*((I!==0?g:0)+M*k),ue=(L+le)/2,J=(D.innerRadius+D.outerRadius)/2,Q=[{name:R,value:I,payload:U,dataKey:u,type:f,graphicalItemId:r.id}],he=as(D.cx,D.cy,J,ue);return P=Ti(Ti(Ti(Ti({},r.presentationProps),{},{percent:M,cornerRadius:typeof a=="string"?parseFloat(a):a,name:R,tooltipPayload:Q,midAngle:ue,middleRadius:J,tooltipPosition:he},U),D),{},{value:I,dataKey:u,startAngle:L,endAngle:le,payload:U,paddingAngle:Aa(v)*b}),P})}return O}function NBe(t){var{showLabels:e,sectors:r,children:n}=t,i=C.useMemo(()=>!e||!r?[]:r.map(s=>({value:s.value,payload:s.payload,clockWise:!1,parentViewBox:void 0,viewBox:{cx:s.cx,cy:s.cy,innerRadius:s.innerRadius,outerRadius:s.outerRadius,startAngle:s.startAngle,endAngle:s.endAngle,clockWise:!1},fill:s.fill})),[r,e]);return C.createElement(nFe,{value:e?i:void 0},n)}function IBe(t){var{props:e,previousSectorsRef:r,id:n}=t,{sectors:i,isAnimationActive:s,animationBegin:a,animationDuration:o,animationEasing:l,activeShape:u,inactiveShape:d,onAnimationStart:f,onAnimationEnd:g}=e,v=M4(e,"recharts-pie-"),x=r.current,[b,w]=C.useState(!1),E=C.useCallback(()=>{typeof g=="function"&&g(),w(!1)},[g]),k=C.useCallback(()=>{typeof f=="function"&&f(),w(!0)},[f]);return C.createElement(NBe,{showLabels:!b,sectors:i},C.createElement(D4,{animationId:v,begin:a,duration:o,isActive:s,easing:l,onAnimationStart:k,onAnimationEnd:E,key:v},A=>{var O=[],P=i&&i[0],j=P==null?void 0:P.startAngle;return i==null||i.forEach((S,I)=>{var R=x&&x[I],D=I>0?Q0(S,"paddingAngle",0):0;if(R){var M=ia(R.endAngle-R.startAngle,S.endAngle-S.startAngle,A),L=Ti(Ti({},S),{},{startAngle:j+D,endAngle:j+M+D});O.push(L),j=L.endAngle}else{var{endAngle:U,startAngle:le}=S,ue=ia(0,U-le,A),J=Ti(Ti({},S),{},{startAngle:j+D,endAngle:j+ue+D});O.push(J),j=J.endAngle}}),r.current=O,C.createElement(ca,null,C.createElement(ABe,{sectors:O,activeShape:u,inactiveShape:d,allOtherPieProps:e,shape:e.shape,id:n}))}),C.createElement(kBe,{showLabels:!b,sectors:i,props:e}),e.children)}var OBe={animationBegin:400,animationDuration:1500,animationEasing:"ease",cx:"50%",cy:"50%",dataKey:"value",endAngle:360,fill:"#808080",hide:!1,innerRadius:0,isAnimationActive:"auto",label:!1,labelLine:!0,legendType:"rect",minAngle:0,nameKey:"name",outerRadius:"80%",paddingAngle:0,rootTabIndex:0,startAngle:0,stroke:"#fff",zIndex:la.area};function RBe(t){var{id:e}=t,r=nk(t,uBe),{hide:n,className:i,rootTabIndex:s}=t,a=C.useMemo(()=>$ae(t.children,Z4),[t.children]),o=Et(d=>bFe(d,e,a)),l=C.useRef(null),u=Hr("recharts-pie",i);return n||o==null?(l.current=null,C.createElement(ca,{tabIndex:s,className:u})):C.createElement(Sc,{zIndex:t.zIndex},C.createElement(vBe,{dataKey:t.dataKey,nameKey:t.nameKey,sectors:o,stroke:t.stroke,strokeWidth:t.strokeWidth,fill:t.fill,name:t.name,hide:t.hide,tooltipType:t.tooltipType,id:e}),C.createElement(ca,{tabIndex:s,className:u},C.createElement(IBe,{props:Ti(Ti({},r),{},{sectors:o}),previousSectorsRef:l,id:e})))}function Kae(t){var e=xs(t,OBe),{id:r}=e,n=nk(e,dBe),i=Ko(n);return C.createElement(Wae,{id:r,type:"pie"},s=>C.createElement(C.Fragment,null,C.createElement(oBe,{type:"pie",id:s,data:n.data,dataKey:n.dataKey,hide:n.hide,angleAxisId:0,radiusAxisId:0,name:n.name,nameKey:n.nameKey,tooltipType:n.tooltipType,legendType:n.legendType,fill:n.fill,cx:n.cx,cy:n.cy,startAngle:n.startAngle,endAngle:n.endAngle,paddingAngle:n.paddingAngle,minAngle:n.minAngle,innerRadius:n.innerRadius,outerRadius:n.outerRadius,cornerRadius:n.cornerRadius,presentationProps:i,maxRadius:e.maxRadius}),C.createElement(gBe,af({},n,{id:s})),C.createElement(RBe,af({},n,{id:s}))))}Kae.displayName="Pie";var PBe=["points"];function KW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?KW(Object(r),!0).forEach(function(n){jBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):KW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jBe(t,e,r){return(e=DBe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DBe(t){var e=MBe(t,"string");return typeof e=="symbol"?e:e+""}function MBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OT(){return OT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},OT.apply(null,arguments)}function LBe(t,e){if(t==null)return{};var r,n,i=FBe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function FBe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function BBe(t){var{option:e,dotProps:r,className:n}=t;if(C.isValidElement(e))return C.cloneElement(e,r);if(typeof e=="function")return e(r);var i=Hr(n,typeof e!="boolean"?e.className:""),s=r??{},{points:a}=s,o=LBe(s,PBe);return C.createElement(Lae,OT({},o,{className:i}))}function VBe(t,e){return t==null?!1:e?!0:t.length===1}function UBe(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:s,baseProps:a,needClip:o,clipPathId:l,zIndex:u=la.scatter}=t;if(!VBe(e,r))return null;var d=Hae(r),f=XNe(r),g=e.map((x,b)=>{var w,E,k=XN(XN(XN({r:3},a),f),{},{index:b,cx:(w=x.x)!==null&&w!==void 0?w:void 0,cy:(E=x.y)!==null&&E!==void 0?E:void 0,dataKey:s,value:x.value,payload:x.payload,points:e});return C.createElement(BBe,{key:"dot-".concat(b),option:r,dotProps:k,className:i})}),v={};return o&&l!=null&&(v.clipPath="url(#clipPath-".concat(d?"":"dots-").concat(l,")")),C.createElement(Sc,{zIndex:u},C.createElement(ca,OT({className:n},v),g))}function YW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function XW(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?YW(Object(r),!0).forEach(function(n){zBe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):YW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function zBe(t,e,r){return(e=$Be(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $Be(t){var e=HBe(t,"string");return typeof e=="symbol"?e:e+""}function HBe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Yae=0,qBe={xAxis:{},yAxis:{},zAxis:{}},Xae=bo({name:"cartesianAxis",initialState:qBe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Zn()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Zn()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Zn()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Zn()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Zn()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Zn()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Zn()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Zn()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Zn()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-s[0])<=1)return;var a=[...s,n].slice(-3);t.yAxis[r]=XW(XW({},t.yAxis[r]),{},{width:n,widthHistory:a})}}}}),{addXAxis:WBe,replaceXAxis:GBe,removeXAxis:KBe,addYAxis:YBe,replaceYAxis:XBe,removeYAxis:QBe,addZAxis:Sot,replaceZAxis:kot,removeZAxis:Aot,updateYAxisWidth:JBe}=Xae.actions,ZBe=Xae.reducer,eVe=Ne([Hs],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),tVe=Ne([eVe,Cd,Nd],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),qj=()=>Et(tVe),rVe=()=>Et(B7e);function QW(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function QN(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?QW(Object(r),!0).forEach(function(n){nVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):QW(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nVe(t,e,r){return(e=iVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iVe(t){var e=sVe(t,"string");return typeof e=="symbol"?e:e+""}function sVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aVe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:s,clipPath:a}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:s,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},l=QN(QN(QN({},o),zg(i)),g8(i)),u;return C.isValidElement(i)?u=C.cloneElement(i,l):typeof i=="function"?u=i(l):u=C.createElement(Lae,l),C.createElement(ca,{className:"recharts-active-dot",clipPath:a},u)};function JW(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:s,zIndex:a=la.activeDot}=t,o=Et(Xg),l=rVe();if(e==null||l==null)return null;var u=e.find(d=>l.includes(d.payload));return Vs(u)?null:C.createElement(Sc,{zIndex:a},C.createElement(aVe,{point:u,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:s}))}var Qae=t=>{var{chartData:e}=t,r=Ln(),n=wo();return C.useEffect(()=>n?()=>{}:(r(aW(e)),()=>{r(aW(void 0))}),[e,r,n]),null},ZW={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},Jae=bo({name:"brush",initialState:ZW,reducers:{setBrushSettings(t,e){return e.payload==null?ZW:e.payload}}}),{setBrushSettings:Cot}=Jae.actions,oVe=Jae.reducer;function lVe(t,e,r){return(e=cVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function cVe(t){var e=uVe(t,"string");return typeof e=="symbol"?e:e+""}function uVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class Wj{static create(e){return new Wj(e)}constructor(e){this.scale=e}get domain(){return this.scale.domain}get range(){return this.scale.range}get rangeMin(){return this.range()[0]}get rangeMax(){return this.range()[1]}get bandwidth(){return this.scale.bandwidth}apply(e){var{bandAware:r,position:n}=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e!==void 0){if(n)switch(n){case"start":return this.scale(e);case"middle":{var i=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+i}case"end":{var s=this.bandwidth?this.bandwidth():0;return this.scale(e)+s}default:return this.scale(e)}if(r){var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(e)+a}return this.scale(e)}}isInRange(e){var r=this.range(),n=r[0],i=r[r.length-1];return n<=i?e>=n&&e<=i:e>=i&&e<=n}}lVe(Wj,"EPS",1e-4);function dVe(t){return(t%180+180)%180}var hVe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=dVe(i),a=s*Math.PI/180,o=Math.atan(n/r),l=a>o&&a<Math.PI-o?n/Math.sin(a):r/Math.cos(a);return Math.abs(l)},fVe={dots:[],areas:[],lines:[]},Zae=bo({name:"referenceElements",initialState:fVe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=hc(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=hc(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=hc(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:Not,removeDot:Iot,addArea:Oot,removeArea:Rot,addLine:Pot,removeLine:jot}=Zae.actions,mVe=Zae.reducer,pVe=C.createContext(void 0),gVe=t=>{var{children:e}=t,[r]=C.useState("".concat(lx("recharts"),"-clip")),n=qj();if(n==null)return null;var{x:i,y:s,width:a,height:o}=n;return C.createElement(pVe.Provider,{value:r},C.createElement("defs",null,C.createElement("clipPath",{id:r},C.createElement("rect",{x:i,y:s,height:o,width:a}))),e)};function eoe(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function vVe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return hVe(n,r)}function yVe(t,e,r){var n=r==="width",{x:i,y:s,width:a,height:o}=t;return e===1?{start:n?i:s,end:n?i+a:s+o}:{start:n?i+a:s+o,end:n?i:s}}function _x(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var s=r();return t*(e-t*s/2-n)>=0&&t*(e+t*s/2-i)<=0}function xVe(t,e){return eoe(t,e+1)}function bVe(t,e,r,n,i){for(var s=(n||[]).slice(),{start:a,end:o}=e,l=0,u=1,d=a,f=function(){var x=n==null?void 0:n[l];if(x===void 0)return{v:eoe(n,u)};var b=l,w,E=()=>(w===void 0&&(w=r(x,b)),w),k=x.coordinate,A=l===0||_x(t,k,E,d,o);A||(l=0,d=a,u+=1),A&&(d=k+t*(E()/2+i),l+=u)},g;u<=s.length;)if(g=f(),g)return g.v;return[]}function wVe(t,e,r,n,i){var s=(n||[]).slice(),a=s.length;if(a===0)return[];for(var{start:o,end:l}=e,u=1;u<=a;u++){for(var d=(a-1)%u,f=o,g=!0,v=function(){var k=n[x],A=x,O,P=()=>(O===void 0&&(O=r(k,A)),O),j=k.coordinate,S=x===d||_x(t,j,P,f,l);if(!S)return g=!1,1;S&&(f=j+t*(P()/2+i))},x=d;x<a&&!v();x+=u);if(g){for(var b=[],w=d;w<a;w+=u)b.push(n[w]);return b}}return[]}function eG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function va(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?eG(Object(r),!0).forEach(function(n){_Ve(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):eG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _Ve(t,e,r){return(e=EVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function EVe(t){var e=TVe(t,"string");return typeof e=="symbol"?e:e+""}function TVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SVe(t,e,r,n,i){for(var s=(n||[]).slice(),a=s.length,{start:o}=e,{end:l}=e,u=function(g){var v=s[g],x,b=()=>(x===void 0&&(x=r(v,g)),x);if(g===a-1){var w=t*(v.coordinate+t*b()/2-l);s[g]=v=va(va({},v),{},{tickCoord:w>0?v.coordinate-w*t:v.coordinate})}else s[g]=v=va(va({},v),{},{tickCoord:v.coordinate});if(v.tickCoord!=null){var E=_x(t,v.tickCoord,b,o,l);E&&(l=v.tickCoord-t*(b()/2+i),s[g]=va(va({},v),{},{isShow:!0}))}},d=a-1;d>=0;d--)u(d);return s}function kVe(t,e,r,n,i,s){var a=(n||[]).slice(),o=a.length,{start:l,end:u}=e;if(s){var d=n[o-1],f=r(d,o-1),g=t*(d.coordinate+t*f/2-u);if(a[o-1]=d=va(va({},d),{},{tickCoord:g>0?d.coordinate-g*t:d.coordinate}),d.tickCoord!=null){var v=_x(t,d.tickCoord,()=>f,l,u);v&&(u=d.tickCoord-t*(f/2+i),a[o-1]=va(va({},d),{},{isShow:!0}))}}for(var x=s?o-1:o,b=function(k){var A=a[k],O,P=()=>(O===void 0&&(O=r(A,k)),O);if(k===0){var j=t*(A.coordinate-t*P()/2-l);a[k]=A=va(va({},A),{},{tickCoord:j<0?A.coordinate-j*t:A.coordinate})}else a[k]=A=va(va({},A),{},{tickCoord:A.coordinate});if(A.tickCoord!=null){var S=_x(t,A.tickCoord,P,l,u);S&&(l=A.tickCoord+t*(P()/2+i),a[k]=va(va({},A),{},{isShow:!0}))}},w=0;w<x;w++)b(w);return a}function Gj(t,e,r){var{tick:n,ticks:i,viewBox:s,minTickGap:a,orientation:o,interval:l,tickFormatter:u,unit:d,angle:f}=t;if(!i||!i.length||!n)return[];if(bt(l)||_b.isSsr){var g;return(g=xVe(i,bt(l)?l:0))!==null&&g!==void 0?g:[]}var v=[],x=o==="top"||o==="bottom"?"width":"height",b=d&&x==="width"?E1(d,{fontSize:e,letterSpacing:r}):{width:0,height:0},w=(A,O)=>{var P=typeof u=="function"?u(A.value,O):A.value;return x==="width"?vVe(E1(P,{fontSize:e,letterSpacing:r}),b,f):E1(P,{fontSize:e,letterSpacing:r})[x]},E=i.length>=2?Aa(i[1].coordinate-i[0].coordinate):1,k=yVe(s,E,x);return l==="equidistantPreserveStart"?bVe(E,k,w,i,a):l==="equidistantPreserveEnd"?wVe(E,k,w,i,a):(l==="preserveStart"||l==="preserveStartEnd"?v=kVe(E,k,w,i,a,l==="preserveStartEnd"):v=SVe(E,k,w,i,a),v.filter(A=>A.isShow))}var AVe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:s=0}=t,a=0;if(e){Array.from(e).forEach(d=>{if(d){var f=d.getBoundingClientRect();f.width>a&&(a=f.width)}});var o=r?r.getBoundingClientRect().width:0,l=i+s,u=a+l+o+(r?n:0);return Math.round(u)}return 0},CVe=["axisLine","width","height","className","hide","ticks","axisType"];function NVe(t,e){if(t==null)return{};var r,n,i=IVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function IVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function tm(){return tm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},tm.apply(null,arguments)}function tG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function rs(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tG(Object(r),!0).forEach(function(n){OVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function OVe(t,e,r){return(e=RVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function RVe(t){var e=PVe(t,"string");return typeof e=="symbol"?e:e+""}function PVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var id={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:la.axis};function jVe(t){var{x:e,y:r,width:n,height:i,orientation:s,mirror:a,axisLine:o,otherSvgProps:l}=t;if(!o)return null;var u=rs(rs(rs({},l),Ko(o)),{},{fill:"none"});if(s==="top"||s==="bottom"){var d=+(s==="top"&&!a||s==="bottom"&&a);u=rs(rs({},u),{},{x1:e,y1:r+d*i,x2:e+n,y2:r+d*i})}else{var f=+(s==="left"&&!a||s==="right"&&a);u=rs(rs({},u),{},{x1:e+f*n,y1:r,x2:e+f*n,y2:r+i})}return C.createElement("line",tm({},u,{className:Hr("recharts-cartesian-axis-line",Q0(o,"className"))}))}function DVe(t,e,r,n,i,s,a,o,l){var u,d,f,g,v,x,b=o?-1:1,w=t.tickSize||a,E=bt(t.tickCoord)?t.tickCoord:t.coordinate;switch(s){case"top":u=d=t.coordinate,g=r+ +!o*i,f=g-b*w,x=f-b*l,v=E;break;case"left":f=g=t.coordinate,d=e+ +!o*n,u=d-b*w,v=u-b*l,x=E;break;case"right":f=g=t.coordinate,d=e+ +o*n,u=d+b*w,v=u+b*l,x=E;break;default:u=d=t.coordinate,g=r+ +o*i,f=g+b*w,x=f+b*l,v=E;break}return{line:{x1:u,y1:f,x2:d,y2:g},tick:{x:v,y:x}}}function MVe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function LVe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function FVe(t){var{option:e,tickProps:r,value:n}=t,i,s=Hr(r.className,"recharts-cartesian-axis-tick-value");if(C.isValidElement(e))i=C.cloneElement(e,rs(rs({},r),{},{className:s}));else if(typeof e=="function")i=e(rs(rs({},r),{},{className:s}));else{var a="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(a=Hr(a,e==null?void 0:e.className)),i=C.createElement(ek,tm({},r,{className:a}),n)}return i}var BVe=C.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:s,tickFormatter:a,unit:o,padding:l,tickTextProps:u,orientation:d,mirror:f,x:g,y:v,width:x,height:b,tickSize:w,tickMargin:E,fontSize:k,letterSpacing:A,getTicksConfig:O,events:P,axisType:j}=t,S=Gj(rs(rs({},O),{},{ticks:r}),k,A),I=MVe(d,f),R=LVe(d,f),D=Ko(O),M=zg(n),L={};typeof i=="object"&&(L=i);var U=rs(rs({},D),{},{fill:"none"},L),le=S.map(Q=>rs({entry:Q},DVe(Q,g,v,x,b,d,w,f,E))),ue=le.map(Q=>{var{entry:he,line:Z}=Q;return C.createElement(ca,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(he.value,"-").concat(he.coordinate,"-").concat(he.tickCoord)},i&&C.createElement("line",tm({},U,Z,{className:Hr("recharts-cartesian-axis-tick-line",Q0(i,"className"))})))}),J=le.map((Q,he)=>{var{entry:Z,tick:ge}=Q,H=rs(rs(rs(rs({textAnchor:I,verticalAnchor:R},D),{},{stroke:"none",fill:s},M),ge),{},{index:he,payload:Z,visibleTicksCount:S.length,tickFormatter:a,padding:l},u);return C.createElement(ca,tm({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(Z.value,"-").concat(Z.coordinate,"-").concat(Z.tickCoord)},v8(P,Z,he)),n&&C.createElement(FVe,{option:n,tickProps:H,value:"".concat(typeof a=="function"?a(Z.value,he):Z.value).concat(o||"")}))});return C.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(j,"-ticks")},J.length>0&&C.createElement(Sc,{zIndex:la.label},C.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(j,"-tick-labels"),ref:e},J)),ue.length>0&&C.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(j,"-tick-lines")},ue))}),VVe=C.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:s,hide:a,ticks:o,axisType:l}=t,u=NVe(t,CVe),[d,f]=C.useState(""),[g,v]=C.useState(""),x=C.useRef(null);C.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var w;return AVe({ticks:x.current,label:(w=t.labelRef)===null||w===void 0?void 0:w.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var b=C.useCallback(w=>{if(w){var E=w.getElementsByClassName("recharts-cartesian-axis-tick-value");x.current=E;var k=E[0];if(k){var A=window.getComputedStyle(k),O=A.fontSize,P=A.letterSpacing;(O!==d||P!==g)&&(f(O),v(P))}}},[d,g]);return a||n!=null&&n<=0||i!=null&&i<=0?null:C.createElement(Sc,{zIndex:t.zIndex},C.createElement(ca,{className:Hr("recharts-cartesian-axis",s)},C.createElement(jVe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:Ko(t)}),C.createElement(BVe,{ref:b,axisType:l,events:u,fontSize:d,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),C.createElement(D9e,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},C.createElement(q9e,{label:t.label,labelRef:t.labelRef}),t.children)))}),Kj=C.forwardRef((t,e)=>{var r=xs(t,id);return C.createElement(VVe,tm({},r,{ref:e}))});Kj.displayName="CartesianAxis";var UVe=["x1","y1","x2","y2","key"],zVe=["offset"],$Ve=["xAxisId","yAxisId"],HVe=["xAxisId","yAxisId"];function rG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _a(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rG(Object(r),!0).forEach(function(n){qVe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qVe(t,e,r){return(e=WVe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WVe(t){var e=GVe(t,"string");return typeof e=="symbol"?e:e+""}function GVe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function E0(){return E0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},E0.apply(null,arguments)}function RT(t,e){if(t==null)return{};var r,n,i=KVe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function KVe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var YVe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:s,height:a,ry:o}=t;return C.createElement("rect",{x:n,y:i,ry:o,width:s,height:a,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function toe(t){var{option:e,lineItemProps:r}=t,n;if(C.isValidElement(e))n=C.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:s,y1:a,x2:o,y2:l,key:u}=r,d=RT(r,UVe),f=(i=Ko(d))!==null&&i!==void 0?i:{},{offset:g}=f,v=RT(f,zVe);n=C.createElement("line",E0({},v,{x1:s,y1:a,x2:o,y2:l,fill:"none",key:u}))}return n}function XVe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=RT(t,$Ve),l=i.map((u,d)=>{var f=_a(_a({},o),{},{x1:e,y1:u,x2:e+r,y2:u,key:"line-".concat(d),index:d});return C.createElement(toe,{key:"line-".concat(d),option:n,lineItemProps:f})});return C.createElement("g",{className:"recharts-cartesian-grid-horizontal"},l)}function QVe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:s,yAxisId:a}=t,o=RT(t,HVe),l=i.map((u,d)=>{var f=_a(_a({},o),{},{x1:u,y1:e,x2:u,y2:e+r,key:"line-".concat(d),index:d});return C.createElement(toe,{option:n,lineItemProps:f,key:"line-".concat(d)})});return C.createElement("g",{className:"recharts-cartesian-grid-vertical"},l)}function JVe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:s,height:a,horizontalPoints:o,horizontal:l=!0}=t;if(!l||!e||!e.length||o==null)return null;var u=o.map(f=>Math.round(f+i-i)).sort((f,g)=>f-g);i!==u[0]&&u.unshift(0);var d=u.map((f,g)=>{var v=!u[g+1],x=v?i+a-f:u[g+1]-f;if(x<=0)return null;var b=g%e.length;return C.createElement("rect",{key:"react-".concat(g),y:f,x:n,height:x,width:s,stroke:"none",fill:e[b],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},d)}function ZVe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:s,width:a,height:o,verticalPoints:l}=t;if(!e||!r||!r.length)return null;var u=l.map(f=>Math.round(f+i-i)).sort((f,g)=>f-g);i!==u[0]&&u.unshift(0);var d=u.map((f,g)=>{var v=!u[g+1],x=v?i+a-f:u[g+1]-f;if(x<=0)return null;var b=g%r.length;return C.createElement("rect",{key:"react-".concat(g),x:f,y:s,width:x,height:o,stroke:"none",fill:r[b],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return C.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},d)}var eUe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:s}=t;return Bne(Gj(_a(_a(_a({},id),r),{},{ticks:Vne(r),viewBox:{x:0,y:0,width:n,height:i}})),s.left,s.left+s.width,e)},tUe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:s}=t;return Bne(Gj(_a(_a(_a({},id),r),{},{ticks:Vne(r),viewBox:{x:0,y:0,width:n,height:i}})),s.top,s.top+s.height,e)},rUe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:la.grid};function Yj(t){var e=N8(),r=I8(),n=Yne(),i=_a(_a({},xs(t,rUe)),{},{x:bt(t.x)?t.x:n.left,y:bt(t.y)?t.y:n.top,width:bt(t.width)?t.width:n.width,height:bt(t.height)?t.height:n.height}),{xAxisId:s,yAxisId:a,x:o,y:l,width:u,height:d,syncWithTicks:f,horizontalValues:g,verticalValues:v}=i,x=wo(),b=Et(R=>Kq(R,"xAxis",s,x)),w=Et(R=>Kq(R,"yAxis",a,x));if(!lu(u)||!lu(d)||!bt(o)||!bt(l))return null;var E=i.verticalCoordinatesGenerator||eUe,k=i.horizontalCoordinatesGenerator||tUe,{horizontalPoints:A,verticalPoints:O}=i;if((!A||!A.length)&&typeof k=="function"){var P=g&&g.length,j=k({yAxis:w?_a(_a({},w),{},{ticks:P?g:w.ticks}):void 0,width:e??u,height:r??d,offset:n},P?!0:f);aT(Array.isArray(j),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof j,"]")),Array.isArray(j)&&(A=j)}if((!O||!O.length)&&typeof E=="function"){var S=v&&v.length,I=E({xAxis:b?_a(_a({},b),{},{ticks:S?v:b.ticks}):void 0,width:e??u,height:r??d,offset:n},S?!0:f);aT(Array.isArray(I),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof I,"]")),Array.isArray(I)&&(O=I)}return C.createElement(Sc,{zIndex:i.zIndex},C.createElement("g",{className:"recharts-cartesian-grid"},C.createElement(YVe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),C.createElement(JVe,E0({},i,{horizontalPoints:A})),C.createElement(ZVe,E0({},i,{verticalPoints:O})),C.createElement(XVe,E0({},i,{offset:n,horizontalPoints:A,xAxis:b,yAxis:w})),C.createElement(QVe,E0({},i,{offset:n,verticalPoints:O,xAxis:b,yAxis:w}))))}Yj.displayName="CartesianGrid";var nUe={},roe=bo({name:"errorBars",initialState:nUe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(s=>s.dataKey===n.dataKey&&s.direction===n.direction?i:s))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:Dot,replaceErrorBar:Mot,removeErrorBar:Lot}=roe.actions,iUe=roe.reducer;function noe(t,e){var r,n,i=Et(u=>Rd(u,t)),s=Et(u=>Pd(u,e)),a=(r=i==null?void 0:i.allowDataOverflow)!==null&&r!==void 0?r:As.allowDataOverflow,o=(n=s==null?void 0:s.allowDataOverflow)!==null&&n!==void 0?n:Cs.allowDataOverflow,l=a||o;return{needClip:l,needClipX:a,needClipY:o}}function sUe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=qj(),{needClipX:s,needClipY:a,needClip:o}=noe(e,r);if(!o||!i)return null;var{x:l,y:u,width:d,height:f}=i;return C.createElement("clipPath",{id:"clipPath-".concat(n)},C.createElement("rect",{x:s?l:l-d/2,y:a?u:u-f/2,width:s?d:d*2,height:a?f:f*2}))}function aUe(t){var e=zg(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:s}=e,a=Number(i),o=Number(s);return(Number.isNaN(a)||a<0)&&(a=r),(Number.isNaN(o)||o<0)&&(o=n),{r:a,strokeWidth:o}}return{r,strokeWidth:n}}var JN={exports:{}},ZN={};/**
 * @license React
 * use-sync-external-store-with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nG;function oUe(){if(nG)return ZN;nG=1;var t=dm();function e(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,s=t.useEffect,a=t.useMemo,o=t.useDebugValue;return ZN.useSyncExternalStoreWithSelector=function(l,u,d,f,g){var v=i(null);if(v.current===null){var x={hasValue:!1,value:null};v.current=x}else x=v.current;v=a(function(){function w(P){if(!E){if(E=!0,k=P,P=f(P),g!==void 0&&x.hasValue){var j=x.value;if(g(j,P))return A=j}return A=P}if(j=A,r(k,P))return j;var S=f(P);return g!==void 0&&g(j,S)?(k=P,j):(k=P,A=S)}var E=!1,k,A,O=d===void 0?null:d;return[function(){return w(u())},O===null?void 0:function(){return w(O())}]},[u,d,f,g]);var b=n(l,v[0],v[1]);return s(function(){x.hasValue=!0,x.value=b},[b]),o(b),b},ZN}var iG;function lUe(){return iG||(iG=1,JN.exports=oUe()),JN.exports}lUe();function cUe(t){t()}function uUe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){cUe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var sG={notify(){},get:()=>[]};function dUe(t,e){let r,n=sG,i=0,s=!1;function a(b){d();const w=n.subscribe(b);let E=!1;return()=>{E||(E=!0,w(),f())}}function o(){n.notify()}function l(){x.onStateChange&&x.onStateChange()}function u(){return s}function d(){i++,r||(r=t.subscribe(l),n=uUe())}function f(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=sG)}function g(){s||(s=!0,d())}function v(){s&&(s=!1,f())}const x={addNestedSub:a,notifyNestedSubs:o,handleChangeWrapper:l,isSubscribed:u,trySubscribe:g,tryUnsubscribe:v,getListeners:()=>n};return x}var hUe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fUe=hUe(),mUe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",pUe=mUe(),gUe=()=>fUe||pUe?C.useLayoutEffect:C.useEffect,vUe=gUe();function aG(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function yUe(t,e){if(aG(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!aG(t[r[i]],e[r[i]]))return!1;return!0}var e5=Symbol.for("react-redux-context"),t5=typeof globalThis<"u"?globalThis:{};function xUe(){if(!C.createContext)return{};const t=t5[e5]??(t5[e5]=new Map);let e=t.get(C.createContext);return e||(e=C.createContext(null),t.set(C.createContext,e)),e}var bUe=xUe();function wUe(t){const{children:e,context:r,serverState:n,store:i}=t,s=C.useMemo(()=>{const l=dUe(i);return{store:i,subscription:l,getServerState:n?()=>n:void 0}},[i,n]),a=C.useMemo(()=>i.getState(),[i]);vUe(()=>{const{subscription:l}=s;return l.onStateChange=l.notifyNestedSubs,l.trySubscribe(),a!==i.getState()&&l.notifyNestedSubs(),()=>{l.tryUnsubscribe(),l.onStateChange=void 0}},[s,a]);const o=r||bUe;return C.createElement(o.Provider,{value:s},e)}var _Ue=wUe,EUe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function TUe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function Xj(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(EUe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!yUe(t[n],e[n]))return!1}else if(!TUe(t[n],e[n]))return!1;return!0}function Qj(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:Yae}function Jj(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:Yae}var ioe=(t,e,r)=>Wse(t,"xAxis",Qj(t,e),r),soe=(t,e,r)=>qse(t,"xAxis",Qj(t,e),r),aoe=(t,e,r)=>Wse(t,"yAxis",Jj(t,e),r),ooe=(t,e,r)=>qse(t,"yAxis",Jj(t,e),r),SUe=Ne([hn,ioe,aoe,soe,ooe],(t,e,r,n,i)=>Ad(t,"xAxis")?sT(e,n,!1):sT(r,i,!1)),kUe=(t,e)=>e,loe=Ne([Tse,kUe],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),coe=t=>{var e=hn(t),r=Ad(e,"xAxis");return r?"yAxis":"xAxis"},AUe=(t,e)=>{var r=coe(t);return r==="yAxis"?Jj(t,e):Qj(t,e)},CUe=(t,e,r)=>Nse(t,coe(t),AUe(t,e),r),NUe=Ne([loe,CUe],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,i=uj(t);if(!(n==null||i==null)){var s=(r=e[n])===null||r===void 0?void 0:r.stackedData,a=s==null?void 0:s.find(o=>o.key===i);if(a!=null)return a.map(o=>[o[0],o[1]])}}}),IUe=Ne([hn,ioe,aoe,soe,ooe,NUe,_De,SUe,loe,DDe],(t,e,r,n,i,s,a,o,l,u)=>{var{chartData:d,dataStartIndex:f,dataEndIndex:g}=a;if(!(l==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:v}=l,x;if(v&&v.length>0?x=v:x=d==null?void 0:d.slice(f,g+1),x!=null)return YUe({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:f,areaSettings:l,stackedData:s,displayedData:x,chartBaseValue:u,bandSize:o})}}),OUe=["id"],RUe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function P0(){return P0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},P0.apply(null,arguments)}function uoe(t,e){if(t==null)return{};var r,n,i=PUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function PUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function oG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Gp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oG(Object(r),!0).forEach(function(n){jUe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function jUe(t,e,r){return(e=DUe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function DUe(t){var e=MUe(t,"string");return typeof e=="symbol"?e:e+""}function MUe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function PT(t,e){return t&&t!=="none"?t:e}var LUe=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:s,hide:a}=t;return[{inactive:a,dataKey:e,type:s,color:PT(n,i),value:S4(r,e),payload:t}]},FUe=C.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:s,name:a,hide:o,unit:l,tooltipType:u,id:d}=t,f={dataDefinedOnItem:r,positions:void 0,settings:{stroke:n,strokeWidth:i,fill:s,dataKey:e,nameKey:void 0,name:S4(a,e),hide:o,type:u,color:PT(n,s),unit:l,graphicalItemId:d}};return C.createElement(qae,{tooltipEntrySettings:f})});function BUe(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:s,dataKey:a}=n,o=Ko(n);return C.createElement(UBe,{points:r,dot:s,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:a,baseProps:o,needClip:i,clipPathId:e})}function VUe(t){var{showLabels:e,children:r,points:n}=t,i=n.map(s=>{var a,o,l={x:(a=s.x)!==null&&a!==void 0?a:0,y:(o=s.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Gp(Gp({},l),{},{value:s.value,payload:s.payload,parentViewBox:void 0,viewBox:l,fill:void 0})});return C.createElement(rFe,{value:e?i:void 0},r)}function lG(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:s}=t,{layout:a,type:o,stroke:l,connectNulls:u,isRange:d}=s,{id:f}=s,g=uoe(s,OUe),v=Ko(g),x=Wa(g);return C.createElement(C.Fragment,null,(e==null?void 0:e.length)>1&&C.createElement(ca,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},C.createElement(og,P0({},x,{id:f,points:e,connectNulls:u,type:o,baseLine:r,layout:a,stroke:"none",className:"recharts-area-area"})),l!=="none"&&C.createElement(og,P0({},v,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:e})),l!=="none"&&d&&C.createElement(og,P0({},v,{className:"recharts-area-curve",layout:a,type:o,connectNulls:u,fill:"none",points:r}))),C.createElement(BUe,{points:e,props:g,clipPathId:i}))}function UUe(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.y,l=(r=s[s.length-1])===null||r===void 0?void 0:r.y;if(!ni(o)||!ni(l))return null;var u=n*Math.abs(o-l),d=Math.max(...s.map(f=>f.x||0));return bt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(f=>f.x||0),d)),bt(d)?C.createElement("rect",{x:0,y:o<l?o:o-u,width:d+(a?parseInt("".concat(a),10):1),height:Math.floor(u)}):null}function zUe(t){var e,r,{alpha:n,baseLine:i,points:s,strokeWidth:a}=t,o=(e=s[0])===null||e===void 0?void 0:e.x,l=(r=s[s.length-1])===null||r===void 0?void 0:r.x;if(!ni(o)||!ni(l))return null;var u=n*Math.abs(o-l),d=Math.max(...s.map(f=>f.y||0));return bt(i)?d=Math.max(i,d):i&&Array.isArray(i)&&i.length&&(d=Math.max(...i.map(f=>f.y||0),d)),bt(d)?C.createElement("rect",{x:o<l?o:o-u,y:0,width:u,height:Math.floor(d+(a?parseInt("".concat(a),10):1))}):null}function $Ue(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:s}=t;return r==="vertical"?C.createElement(UUe,{alpha:e,points:n,baseLine:i,strokeWidth:s}):C.createElement(zUe,{alpha:e,points:n,baseLine:i,strokeWidth:s})}function HUe(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s}=t,{points:a,baseLine:o,isAnimationActive:l,animationBegin:u,animationDuration:d,animationEasing:f,onAnimationStart:g,onAnimationEnd:v}=n,x=C.useMemo(()=>({points:a,baseLine:o}),[a,o]),b=M4(x,"recharts-area-"),w=JOe(),[E,k]=C.useState(!1),A=!E,O=C.useCallback(()=>{typeof v=="function"&&v(),k(!1)},[v]),P=C.useCallback(()=>{typeof g=="function"&&g(),k(!0)},[g]);if(w==null)return null;var j=i.current,S=s.current;return C.createElement(VUe,{showLabels:A,points:a},n.children,C.createElement(D4,{animationId:b,begin:u,duration:d,isActive:l,easing:f,onAnimationEnd:O,onAnimationStart:P,key:b},I=>{if(j){var R=j.length/a.length,D=I===1?a:a.map((L,U)=>{var le=Math.floor(U*R);if(j[le]){var ue=j[le];return Gp(Gp({},L),{},{x:ia(ue.x,L.x,I),y:ia(ue.y,L.y,I)})}return L}),M;return bt(o)?M=ia(S,o,I):Vs(o)||bc(o)?M=ia(S,0,I):M=o.map((L,U)=>{var le=Math.floor(U*R);if(Array.isArray(S)&&S[le]){var ue=S[le];return Gp(Gp({},L),{},{x:ia(ue.x,L.x,I),y:ia(ue.y,L.y,I)})}return L}),I>0&&(i.current=D,s.current=M),C.createElement(lG,{points:D,baseLine:M,needClip:e,clipPathId:r,props:n})}return I>0&&(i.current=a,s.current=o),C.createElement(ca,null,l&&C.createElement("defs",null,C.createElement("clipPath",{id:"animationClipPath-".concat(r)},C.createElement($Ue,{alpha:I,points:a,baseLine:o,layout:w,strokeWidth:n.strokeWidth}))),C.createElement(ca,{clipPath:"url(#animationClipPath-".concat(r,")")},C.createElement(lG,{points:a,baseLine:o,needClip:e,clipPathId:r,props:n})))}),C.createElement(Mae,{label:n.label}))}function qUe(t){var{needClip:e,clipPathId:r,props:n}=t,i=C.useRef(null),s=C.useRef();return C.createElement(HUe,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:s})}class WUe extends C.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:s,left:a,needClip:o,xAxisId:l,yAxisId:u,width:d,height:f,id:g,baseLine:v,zIndex:x}=this.props;if(e)return null;var b=Hr("recharts-area",i),w=g,{r:E,strokeWidth:k}=aUe(r),A=Hae(r),O=E*2+k,P=o?"url(#clipPath-".concat(A?"":"dots-").concat(w,")"):void 0;return C.createElement(Sc,{zIndex:x},C.createElement(ca,{className:b},o&&C.createElement("defs",null,C.createElement(sUe,{clipPathId:w,xAxisId:l,yAxisId:u}),!A&&C.createElement("clipPath",{id:"clipPath-dots-".concat(w)},C.createElement("rect",{x:a-O/2,y:s-O/2,width:d+O,height:f+O}))),C.createElement(qUe,{needClip:o,clipPathId:w,props:this.props})),C.createElement(JW,{points:n,mainColor:PT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}),this.props.isRange&&Array.isArray(v)&&C.createElement(JW,{points:v,mainColor:PT(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:P}))}}var doe={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:la.area};function GUe(t){var e,r=xs(t,doe),{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,connectNulls:o,dot:l,fill:u,fillOpacity:d,hide:f,isAnimationActive:g,legendType:v,stroke:x,xAxisId:b,yAxisId:w}=r,E=uoe(r,RUe),k=Ev(),A=pae(),{needClip:O}=noe(b,w),P=wo(),{points:j,isRange:S,baseLine:I}=(e=Et(le=>IUe(le,t.id,P)))!==null&&e!==void 0?e:{},R=qj();if(k!=="horizontal"&&k!=="vertical"||R==null||A!=="AreaChart"&&A!=="ComposedChart")return null;var{height:D,width:M,x:L,y:U}=R;return!j||!j.length?null:C.createElement(WUe,P0({},E,{activeDot:n,animationBegin:i,animationDuration:s,animationEasing:a,baseLine:I,connectNulls:o,dot:l,fill:u,fillOpacity:d,height:D,hide:f,layout:k,isAnimationActive:g==="auto"?!_b.isSsr:g,isRange:S,legendType:v,needClip:O,points:j,stroke:x,width:M,left:L,top:U,xAxisId:b,yAxisId:w}))}var KUe=(t,e,r,n,i)=>{var s=r??e;if(bt(s))return s;var a=t==="horizontal"?i:n,o=a.scale.domain();if(a.type==="number"){var l=Math.max(o[0],o[1]),u=Math.min(o[0],o[1]);return s==="dataMin"?u:s==="dataMax"||l<0?l:Math.max(Math.min(o[0],o[1]),0)}return s==="dataMin"?o[0]:s==="dataMax"?o[1]:o[0]};function YUe(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:s,chartBaseValue:a,xAxis:o,yAxis:l,displayedData:u,dataStartIndex:d,xAxisTicks:f,yAxisTicks:g,bandSize:v}=t,x=i&&i.length,b=KUe(s,a,r,o,l),w=s==="horizontal",E=!1,k=u.map((O,P)=>{var j,S,I;if(x)I=i[d+P];else{var R=qn(O,n);Array.isArray(R)?(I=R,E=!0):I=[b,R]}var D=(j=(S=I)===null||S===void 0?void 0:S[1])!==null&&j!==void 0?j:null,M=D==null||x&&!e&&qn(O,n)==null;return w?{x:J$({axis:o,ticks:f,bandSize:v,entry:O,index:P}),y:M?null:l.scale(D),value:I,payload:O}:{x:M?null:o.scale(D),y:J$({axis:l,ticks:g,bandSize:v,entry:O,index:P}),value:I,payload:O}}),A;return x||E?A=k.map(O=>{var P=Array.isArray(O.value)?O.value[0]:null;return w?{x:O.x,y:P!=null&&O.y!=null?l.scale(P):null,payload:O.payload}:{x:P!=null?o.scale(P):null,y:O.y,payload:O.payload}}):A=w?l.scale(b):o.scale(b),{points:k,baseLine:A,isRange:E}}function XUe(t){var e=xs(t,doe),r=wo();return C.createElement(Wae,{id:e.id,type:"area"},n=>C.createElement(C.Fragment,null,C.createElement(WFe,{legendPayload:LUe(e)}),C.createElement(FUe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),C.createElement(aBe,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:gOe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),C.createElement(GUe,P0({},e,{id:n}))))}var jT=C.memo(XUe,Xj);jT.displayName="Area";var QUe=["domain","range"],JUe=["domain","range"];function cG(t,e){if(t==null)return{};var r,n,i=ZUe(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ZUe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uG(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function hoe(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=cG(t,QUe),{domain:s,range:a}=e,o=cG(e,JUe);return!uG(r,s)||!uG(n,a)?!1:Xj(i,o)}var eze=["dangerouslySetInnerHTML","ticks","scale"],tze=["id","scale"];function nO(){return nO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nO.apply(null,arguments)}function dG(t,e){if(t==null)return{};var r,n,i=rze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function rze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function nze(t){var e=Ln(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(WBe(t)):r.current!==t&&e(GBe({prev:r.current,next:t})),r.current=t},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(e(KBe(r.current)),r.current=null)},[e]),null}var ize=t=>{var{xAxisId:e,className:r}=t,n=Et(Hne),i=wo(),s="xAxis",a=Et(E=>Hse(E,s,e,i)),o=Et(E=>AMe(E,e)),l=Et(E=>PMe(E,e)),u=Et(E=>wse(E,e));if(o==null||l==null||u==null)return null;var{dangerouslySetInnerHTML:d,ticks:f,scale:g}=t,v=dG(t,eze),{id:x,scale:b}=u,w=dG(u,tze);return C.createElement(Kj,nO({},v,w,{x:l.x,y:l.y,width:o.width,height:o.height,className:Hr("recharts-".concat(s," ").concat(s),r),viewBox:n,ticks:a,axisType:s}))},sze={allowDataOverflow:As.allowDataOverflow,allowDecimals:As.allowDecimals,allowDuplicatedCategory:As.allowDuplicatedCategory,angle:As.angle,axisLine:id.axisLine,height:As.height,hide:!1,includeHidden:As.includeHidden,interval:As.interval,minTickGap:As.minTickGap,mirror:As.mirror,orientation:As.orientation,padding:As.padding,reversed:As.reversed,scale:As.scale,tick:As.tick,tickCount:As.tickCount,tickLine:id.tickLine,tickSize:id.tickSize,type:As.type,xAxisId:0},aze=t=>{var e=xs(t,sze);return C.createElement(C.Fragment,null,C.createElement(nze,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),C.createElement(ize,e))},Zj=C.memo(aze,hoe);Zj.displayName="XAxis";var oze=["dangerouslySetInnerHTML","ticks","scale"],lze=["id","scale"];function iO(){return iO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},iO.apply(null,arguments)}function hG(t,e){if(t==null)return{};var r,n,i=cze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function cze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function uze(t){var e=Ln(),r=C.useRef(null);return C.useLayoutEffect(()=>{r.current===null?e(YBe(t)):r.current!==t&&e(XBe({prev:r.current,next:t})),r.current=t},[t,e]),C.useLayoutEffect(()=>()=>{r.current&&(e(QBe(r.current)),r.current=null)},[e]),null}var dze=t=>{var{yAxisId:e,className:r,width:n,label:i}=t,s=C.useRef(null),a=C.useRef(null),o=Et(Hne),l=wo(),u=Ln(),d="yAxis",f=Et(j=>MMe(j,e)),g=Et(j=>DMe(j,e)),v=Et(j=>Hse(j,d,e,l)),x=Et(j=>_se(j,e));if(C.useLayoutEffect(()=>{if(!(n!=="auto"||!f||zj(i)||C.isValidElement(i)||x==null)){var j=s.current;if(j){var S=j.getCalculatedWidth();Math.round(f.width)!==Math.round(S)&&u(JBe({id:e,width:S}))}}},[v,f,u,i,e,n,x]),f==null||g==null||x==null)return null;var{dangerouslySetInnerHTML:b,ticks:w,scale:E}=t,k=hG(t,oze),{id:A,scale:O}=x,P=hG(x,lze);return C.createElement(Kj,iO({},k,P,{ref:s,labelRef:a,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:f.width,height:f.height,className:Hr("recharts-".concat(d," ").concat(d),r),viewBox:o,ticks:v,axisType:d}))},hze={allowDataOverflow:Cs.allowDataOverflow,allowDecimals:Cs.allowDecimals,allowDuplicatedCategory:Cs.allowDuplicatedCategory,angle:Cs.angle,axisLine:id.axisLine,hide:!1,includeHidden:Cs.includeHidden,interval:Cs.interval,minTickGap:Cs.minTickGap,mirror:Cs.mirror,orientation:Cs.orientation,padding:Cs.padding,reversed:Cs.reversed,scale:Cs.scale,tick:Cs.tick,tickCount:Cs.tickCount,tickLine:id.tickLine,tickSize:id.tickSize,type:Cs.type,width:Cs.width,yAxisId:0},fze=t=>{var e=xs(t,hze);return C.createElement(C.Fragment,null,C.createElement(uze,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),C.createElement(dze,e))},eD=C.memo(fze,hoe);eD.displayName="YAxis";var mze=(t,e)=>e,tD=Ne([mze,hn,xse,ws,lae,jd,Q7e,Hs],iLe),rD=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},foe=Ol("mouseClick"),moe=xb();moe.startListening({actionCreator:foe,effect:(t,e)=>{var r=t.payload,n=tD(e.getState(),rD(r));(n==null?void 0:n.activeIndex)!=null&&e.dispatch(XMe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var sO=Ol("mouseMove"),poe=xb(),e2=null;poe.startListening({actionCreator:sO,effect:(t,e)=>{var r=t.payload;e2!==null&&cancelAnimationFrame(e2);var n=rD(r);e2=requestAnimationFrame(()=>{var i=e.getState(),s=Rj(i,i.tooltip.settings.shared);if(s==="axis"){var a=tD(i,n);(a==null?void 0:a.activeIndex)!=null?e.dispatch(eae({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate})):e.dispatch(Zse())}e2=null})}});function pze(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var fG={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},goe=bo({name:"rootProps",initialState:fG,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:fG.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),gze=goe.reducer,{updateOptions:vze}=goe.actions,voe=bo({name:"polarOptions",initialState:null,reducers:{updatePolarOptions:(t,e)=>e.payload}}),{updatePolarOptions:yze}=voe.actions,xze=voe.reducer,yoe=Ol("keyDown"),xoe=Ol("focus"),nD=xb();nD.startListening({actionCreator:yoe,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,s=t.payload;if(!(s!=="ArrowRight"&&s!=="ArrowLeft"&&s!=="Enter")){var a=Pj(i,Rv(r),Ob(r),jb(r)),o=a==null?-1:Number(a);if(!(!Number.isFinite(o)||o<0)){var l=jd(r);if(s==="Enter"){var u=AT(r,"axis","hover",String(i.index));e.dispatch(X6({active:!i.active,activeIndex:i.index,activeCoordinate:u}));return}var d=VMe(r),f=d==="left-to-right"?1:-1,g=s==="ArrowRight"?1:-1,v=o+g*f;if(!(l==null||v>=l.length||v<0)){var x=AT(r,"axis","hover",String(v));e.dispatch(X6({active:!0,activeIndex:v.toString(),activeCoordinate:x}))}}}}}});nD.startListening({actionCreator:xoe,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var s="0",a=AT(r,"axis","hover",String(s));e.dispatch(X6({active:!0,activeIndex:s,activeCoordinate:a}))}}}});var ml=Ol("externalEvent"),boe=xb(),r5=new Map;boe.startListening({actionCreator:ml,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,s=r5.get(i);s!==void 0&&cancelAnimationFrame(s);var a=requestAnimationFrame(()=>{try{var o=e.getState(),l={activeCoordinate:M7e(o),activeDataKey:hae(o),activeIndex:Xg(o),activeLabel:dae(o),activeTooltipIndex:Xg(o),isTooltipActive:L7e(o)};r(l,n)}finally{r5.delete(i)}});r5.set(i,a)}}});var bze=Ne([Iv],t=>t.tooltipItemPayloads),wze=Ne([bze,Pb,(t,e)=>e,(t,e,r)=>r],(t,e,r,n)=>{var i=t.find(o=>o.settings.graphicalItemId===n);if(i!=null){var{positions:s}=i;if(s!=null){var a=e(s,r);return a}}}),woe=Ol("touchMove"),_oe=xb();_oe.startListening({actionCreator:woe,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=Rj(n,n.tooltip.settings.shared);if(i==="axis"){var s=r.touches[0];if(s==null)return;var a=tD(n,rD({clientX:s.clientX,clientY:s.clientY,currentTarget:r.currentTarget}));(a==null?void 0:a.activeIndex)!=null&&e.dispatch(eae({activeIndex:a.activeIndex,activeDataKey:void 0,activeCoordinate:a.activeCoordinate}))}else if(i==="item"){var o,l=r.touches[0];if(document.elementFromPoint==null||l==null)return;var u=document.elementFromPoint(l.clientX,l.clientY);if(!u||!u.getAttribute)return;var d=u.getAttribute(zne),f=(o=u.getAttribute($ne))!==null&&o!==void 0?o:void 0,g=Ov(n).find(b=>b.id===f);if(d==null||g==null||f==null)return;var{dataKey:v}=g,x=wze(n,d,f);e.dispatch(Jse({activeDataKey:v,activeIndex:d,activeCoordinate:x,activeGraphicalItemId:f}))}}}});var _ze=une({brush:oVe,cartesianAxis:ZBe,chartData:DLe,errorBars:iUe,graphicalItems:iBe,layout:aOe,legend:fRe,options:ILe,polarAxis:fFe,polarOptions:xze,referenceElements:mVe,rootProps:gze,tooltip:QMe,zIndex:yLe}),Eze=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return O6e({reducer:_ze,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([moe.middleware,poe.middleware,nD.middleware,boe.middleware,_oe.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(Sne({type:"raf"}))},devTools:{serialize:{replacer:pze},name:"recharts-".concat(r)}})};function Eoe(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=wo(),s=C.useRef(null);if(i)return r;s.current==null&&(s.current=Eze(e,n));var a=x8;return C.createElement(_Ue,{context:a,store:s.current},r)}function Tze(t){var{layout:e,margin:r}=t,n=Ln(),i=wo();return C.useEffect(()=>{i||(n(nOe(e)),n(rOe(r)))},[n,i,e,r]),null}var Toe=C.memo(Tze,Xj);function Soe(t){var e=Ln();return C.useEffect(()=>{e(vze(t))},[e,t]),null}function mG(t){var{zIndex:e,isPanorama:r}=t,n=C.useRef(null),i=Ln();return C.useLayoutEffect(()=>(n.current&&i(gLe({zIndex:e,element:n.current,isPanorama:r})),()=>{i(vLe({zIndex:e,isPanorama:r}))}),[i,e,r]),C.createElement("g",{tabIndex:-1,ref:n})}function pG(t){var{children:e,isPanorama:r}=t,n=Et(aLe);if(!n||n.length===0)return e;var i=n.filter(a=>a<0),s=n.filter(a=>a>0);return C.createElement(C.Fragment,null,i.map(a=>C.createElement(mG,{key:a,zIndex:a,isPanorama:r})),e,s.map(a=>C.createElement(mG,{key:a,zIndex:a,isPanorama:r})))}var Sze=["children"];function kze(t,e){if(t==null)return{};var r,n,i=Aze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Aze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function DT(){return DT=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},DT.apply(null,arguments)}var Cze={width:"100%",height:"100%",display:"block"},Nze=C.forwardRef((t,e)=>{var r=N8(),n=I8(),i=oie();if(!lu(r)||!lu(n))return null;var{children:s,otherAttributes:a,title:o,desc:l}=t,u,d;return a!=null&&(typeof a.tabIndex=="number"?u=a.tabIndex:u=i?0:void 0,typeof a.role=="string"?d=a.role:d=i?"application":void 0),C.createElement(l8,DT({},a,{title:o,desc:l,role:d,tabIndex:u,width:r,height:n,style:Cze,ref:e}),s)}),Ize=t=>{var{children:e}=t,r=Et(N4);if(!r)return null;var{width:n,height:i,y:s,x:a}=r;return C.createElement(l8,{width:n,height:i,x:a,y:s},e)},gG=C.forwardRef((t,e)=>{var{children:r}=t,n=kze(t,Sze),i=wo();return i?C.createElement(Ize,null,C.createElement(pG,{isPanorama:!0},r)):C.createElement(Nze,DT({ref:e},n),C.createElement(pG,{isPanorama:!1},r))});function Oze(){var t=Ln(),[e,r]=C.useState(null),n=Et(_Oe);return C.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),s=i.width/e.offsetWidth;ni(s)&&s!==n&&t(sOe(s))}},[e,t,n]),r}function vG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Rze(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?vG(Object(r),!0).forEach(function(n){Pze(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):vG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Pze(t,e,r){return(e=jze(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function jze(t){var e=Dze(t,"string");return typeof e=="symbol"?e:e+""}function Dze(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rm(){return rm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},rm.apply(null,arguments)}var Mze=()=>(HLe(),null);function MT(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var Lze=C.forwardRef((t,e)=>{var r,n,i=C.useRef(null),[s,a]=C.useState({containerWidth:MT((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:MT((n=t.style)===null||n===void 0?void 0:n.height)}),o=C.useCallback((u,d)=>{a(f=>{var g=Math.round(u),v=Math.round(d);return f.containerWidth===g&&f.containerHeight===v?f:{containerWidth:g,containerHeight:v}})},[]),l=C.useCallback(u=>{if(typeof e=="function"&&e(u),u!=null&&typeof ResizeObserver<"u"){var{width:d,height:f}=u.getBoundingClientRect();o(d,f);var g=x=>{var{width:b,height:w}=x[0].contentRect;o(b,w)},v=new ResizeObserver(g);v.observe(u),i.current=v}},[e,o]);return C.useEffect(()=>()=>{var u=i.current;u!=null&&u.disconnect()},[o]),C.createElement(C.Fragment,null,C.createElement(O4,{width:s.containerWidth,height:s.containerHeight}),C.createElement("div",rm({ref:l},t)))}),Fze=C.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,s]=C.useState({containerWidth:MT(r),containerHeight:MT(n)}),a=C.useCallback((l,u)=>{s(d=>{var f=Math.round(l),g=Math.round(u);return d.containerWidth===f&&d.containerHeight===g?d:{containerWidth:f,containerHeight:g}})},[]),o=C.useCallback(l=>{if(typeof e=="function"&&e(l),l!=null){var{width:u,height:d}=l.getBoundingClientRect();a(u,d)}},[e,a]);return C.createElement(C.Fragment,null,C.createElement(O4,{width:i.containerWidth,height:i.containerHeight}),C.createElement("div",rm({ref:o},t)))}),Bze=C.forwardRef((t,e)=>{var{width:r,height:n}=t;return C.createElement(C.Fragment,null,C.createElement(O4,{width:r,height:n}),C.createElement("div",rm({ref:e},t)))}),Vze=C.forwardRef((t,e)=>{var{width:r,height:n}=t;return yd(r)||yd(n)?C.createElement(Fze,rm({},t,{ref:e})):C.createElement(Bze,rm({},t,{ref:e}))});function Uze(t){return t===!0?Lze:Vze}var zze=C.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:s,onContextMenu:a,onDoubleClick:o,onMouseDown:l,onMouseEnter:u,onMouseLeave:d,onMouseMove:f,onMouseUp:g,onTouchEnd:v,onTouchMove:x,onTouchStart:b,style:w,width:E,responsive:k,dispatchTouchEvents:A=!0}=t,O=C.useRef(null),P=Ln(),[j,S]=C.useState(null),[I,R]=C.useState(null),D=Oze(),M=C8(),L=(M==null?void 0:M.width)>0?M.width:E,U=(M==null?void 0:M.height)>0?M.height:i,le=C.useCallback(se=>{D(se),typeof e=="function"&&e(se),S(se),R(se),se!=null&&(O.current=se)},[D,e,S,R]),ue=C.useCallback(se=>{P(foe(se)),P(ml({handler:s,reactEvent:se}))},[P,s]),J=C.useCallback(se=>{P(sO(se)),P(ml({handler:u,reactEvent:se}))},[P,u]),Q=C.useCallback(se=>{P(Zse()),P(ml({handler:d,reactEvent:se}))},[P,d]),he=C.useCallback(se=>{P(sO(se)),P(ml({handler:f,reactEvent:se}))},[P,f]),Z=C.useCallback(()=>{P(xoe())},[P]),ge=C.useCallback(se=>{P(yoe(se.key))},[P]),H=C.useCallback(se=>{P(ml({handler:a,reactEvent:se}))},[P,a]),B=C.useCallback(se=>{P(ml({handler:o,reactEvent:se}))},[P,o]),q=C.useCallback(se=>{P(ml({handler:l,reactEvent:se}))},[P,l]),W=C.useCallback(se=>{P(ml({handler:g,reactEvent:se}))},[P,g]),Y=C.useCallback(se=>{P(ml({handler:b,reactEvent:se}))},[P,b]),de=C.useCallback(se=>{A&&P(woe(se)),P(ml({handler:x,reactEvent:se}))},[P,A,x]),me=C.useCallback(se=>{P(ml({handler:v,reactEvent:se}))},[P,v]),ce=Uze(k);return C.createElement(bae.Provider,{value:j},C.createElement(kre.Provider,{value:I},C.createElement(ce,{width:L??(w==null?void 0:w.width),height:U??(w==null?void 0:w.height),className:Hr("recharts-wrapper",n),style:Rze({position:"relative",cursor:"default",width:L,height:U},w),onClick:ue,onContextMenu:H,onDoubleClick:B,onFocus:Z,onKeyDown:ge,onMouseDown:q,onMouseEnter:J,onMouseLeave:Q,onMouseMove:he,onMouseUp:W,onTouchEnd:me,onTouchMove:de,onTouchStart:Y,ref:le},C.createElement(Mze,null),r)))}),$ze=["width","height","responsive","children","className","style","compact","title","desc"];function Hze(t,e){if(t==null)return{};var r,n,i=qze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function qze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var koe=C.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:s,className:a,style:o,compact:l,title:u,desc:d}=t,f=Hze(t,$ze),g=Ko(f);return l?C.createElement(C.Fragment,null,C.createElement(O4,{width:r,height:n}),C.createElement(gG,{otherAttributes:g,title:u,desc:d},s)):C.createElement(zze,{className:a,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},C.createElement(gG,{otherAttributes:g,title:u,desc:d,ref:e},C.createElement(gVe,null,s)))});function aO(){return aO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aO.apply(null,arguments)}var Wze={top:5,right:5,bottom:5,left:5},Gze={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:Wze,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},Kze=C.forwardRef(function(e,r){var n,i=xs(e.categoricalChartProps,Gze),{chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,categoricalChartProps:u}=e,d={chartName:s,defaultTooltipEventType:a,validateTooltipEventTypes:o,tooltipPayloadSearcher:l,eventEmitter:void 0};return C.createElement(Eoe,{preloadedState:{options:d},reduxStoreName:(n=u.id)!==null&&n!==void 0?n:s},C.createElement(Qae,{chartData:u.data}),C.createElement(Toe,{layout:i.layout,margin:i.margin}),C.createElement(Soe,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(koe,aO({},i,{ref:r})))});function Yze(t){var e=Ln();return C.useEffect(()=>{e(yze(t))},[e,t]),null}var Xze=["layout"];function oO(){return oO=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},oO.apply(null,arguments)}function Qze(t,e){if(t==null)return{};var r,n,i=Jze(t,e);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(n=0;n<s.length;n++)r=s[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Jze(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var Zze={top:5,right:5,bottom:5,left:5},Aoe={accessibilityLayer:!0,stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:Zze,reverseStackOrder:!1,syncMethod:"index",layout:"radial",responsive:!1,cx:"50%",cy:"50%",innerRadius:0,outerRadius:"80%"},e$e=C.forwardRef(function(e,r){var n,i=xs(e.categoricalChartProps,Aoe),{layout:s}=i,a=Qze(i,Xze),{chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d}=e,f={chartName:o,defaultTooltipEventType:l,validateTooltipEventTypes:u,tooltipPayloadSearcher:d,eventEmitter:void 0};return C.createElement(Eoe,{preloadedState:{options:f},reduxStoreName:(n=i.id)!==null&&n!==void 0?n:o},C.createElement(Qae,{chartData:i.data}),C.createElement(Toe,{layout:s,margin:i.margin}),C.createElement(Soe,{baseValue:void 0,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),C.createElement(Yze,{cx:i.cx,cy:i.cy,startAngle:i.startAngle,endAngle:i.endAngle,innerRadius:i.innerRadius,outerRadius:i.outerRadius}),C.createElement(koe,oO({},a,{ref:r})))});function yG(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function xG(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yG(Object(r),!0).forEach(function(n){t$e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yG(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function t$e(t,e,r){return(e=r$e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function r$e(t){var e=n$e(t,"string");return typeof e=="symbol"?e:e+""}function n$e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var i$e=["item"],s$e=xG(xG({},Aoe),{},{layout:"centric",startAngle:0,endAngle:360}),a$e=C.forwardRef((t,e)=>{var r=xs(t,s$e);return C.createElement(e$e,{chartName:"PieChart",defaultTooltipEventType:"item",validateTooltipEventTypes:i$e,tooltipPayloadSearcher:wae,categoricalChartProps:r,ref:e})}),o$e=["axis"],Coe=C.forwardRef((t,e)=>C.createElement(Kze,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:o$e,tooltipPayloadSearcher:wae,categoricalChartProps:t,ref:e}));const l$e=({userRole:t})=>{if(!["admin","quan_ly","lanh_dao"].includes(t))return null;const e=Rn(E=>E.setAppState),[r,n]=C.useState(!1),[i,s]=C.useState(!1),[a,o]=C.useState("7d"),[l,u]=C.useState([]),[d,f]=C.useState(null),[g,v]=C.useState(!1),[x,b]=C.useState(null);if(C.useEffect(()=>{n(!0)},[]),C.useEffect(()=>{r&&(async()=>{v(!0);try{const k=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:a})});if(k.ok){const A=await k.json();u(A.chart),f(A.metrics)}else{const A=await k.text();console.error("Failed to fetch analytics:",A),b("Li kt ni API: "+k.status);try{const O=JSON.parse(A);O.error&&b(O.error)}catch{}u([]),f(null)}}catch(k){console.error("Error fetching analytics:",k),b(k.message||"Li khng xc nh")}finally{v(!1)}})()},[a,r]),!r)return null;const w=E=>{const k=Math.floor(E/60),A=Math.floor(E%60);return`${k}m ${A}s`};return m.jsx(xg.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},className:"w-full max-w-4xl mb-4",children:m.jsxs("div",{className:"bg-white dark:bg-zinc-900 rounded-2xl shadow-xl border border-gray-100 dark:border-zinc-800 overflow-hidden transition-all duration-300",children:[m.jsxs("div",{className:"px-6 py-4 border-b border-gray-100 dark:border-zinc-800 flex justify-between items-center bg-gradient-to-r from-gray-50 to-white dark:from-zinc-900 dark:to-zinc-900 cursor-pointer",onClick:()=>s(!i),children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"p-2 bg-blue-100 dark:bg-blue-900/30 rounded-lg",children:m.jsx($U,{className:"text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h3",{className:"text-lg font-bold text-gray-800 dark:text-white",children:"Tng quan truy cp"}),m.jsx("p",{className:"text-xs text-gray-500",children:a==="7d"?"7 ngy qua":a==="30d"?"30 ngy qua":"Hm nay"})]})]}),m.jsxs("div",{className:"flex items-center gap-3",onClick:E=>E.stopPropagation(),children:[m.jsx("button",{onClick:E=>{E.stopPropagation(),e(vre.ANALYTICS)},className:"text-xs font-medium text-blue-600 dark:text-blue-400 hover:text-blue-700 dark:hover:text-blue-300 transition-colors px-3 py-1.5 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:"Xem chi tit"}),m.jsxs("select",{value:a,onChange:E=>o(E.target.value),className:"text-xs border-none bg-gray-100 dark:bg-zinc-800 rounded-lg px-3 py-1.5 text-gray-600 dark:text-gray-300 focus:ring-0 cursor-pointer hover:bg-gray-200 transition-colors outline-none",children:[m.jsx("option",{value:"7d",children:"7 ngy qua"}),m.jsx("option",{value:"30d",children:"30 ngy qua"}),m.jsx("option",{value:"today",children:"Hm nay"})]}),m.jsx("button",{onClick:()=>s(!i),className:"p-2 text-gray-400 hover:text-gray-600 dark:hover:text-gray-200 transition-colors",children:i?m.jsx(Lke,{}):m.jsx(Mke,{})})]})]}),m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 p-6 bg-white dark:bg-zinc-900 relative",children:[g&&m.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-zinc-900/50 z-10 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&m.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-zinc-900/90 z-10 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[m.jsx("p",{className:"font-bold",children:"Khng th ti d liu"}),m.jsx("p",{className:"text-sm",children:x}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra quyn truy cp Service Account"})]}),m.jsx(t2,{icon:m.jsx(zh,{className:"text-blue-500"}),label:"Ngi dng mi",value:d?d.newUsers.toLocaleString():"...",trend:"--",trendUp:!0,color:"bg-blue-50 dark:bg-blue-900/20"}),m.jsx(t2,{icon:m.jsx(eAe,{className:"text-green-500"}),label:"Thi gian TB",value:d?w(d.avgSessionDuration):"...",trend:"--",trendUp:!0,color:"bg-green-50 dark:bg-green-900/20"}),m.jsx(t2,{icon:m.jsx(Hke,{className:"text-purple-500"}),label:"Phin truy cp",value:d?d.totalSessions.toLocaleString():"...",trend:"--",trendUp:!0,color:"bg-purple-50 dark:bg-purple-900/20"}),m.jsx(t2,{icon:m.jsx($U,{className:"text-orange-500"}),label:"T l thot",value:d?`${d.bounceRate.toFixed(1)}%`:"...",trend:"--",trendUp:!1,color:"bg-orange-50 dark:bg-orange-900/20"})]}),m.jsx(NX,{children:i&&m.jsx(xg.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden border-t border-gray-100 dark:border-zinc-800",children:m.jsxs("div",{className:"p-6 h-[350px] w-full bg-gray-50/30 dark:bg-zinc-900/30 relative",children:[g&&m.jsx("div",{className:"absolute inset-0 bg-white/50 dark:bg-zinc-900/50 z-10 flex items-center justify-center",children:m.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-500"})}),x&&m.jsxs("div",{className:"absolute inset-0 bg-white/90 dark:bg-zinc-900/90 z-10 flex flex-col items-center justify-center text-red-500 p-4 text-center",children:[m.jsx("p",{className:"font-bold",children:"Khng th ti d liu"}),m.jsx("p",{className:"text-sm",children:x}),m.jsx("p",{className:"text-xs text-gray-500 mt-2",children:"Vui lng kim tra quyn truy cp Service Account"})]}),m.jsx(k6,{width:"100%",height:"100%",children:m.jsxs(Coe,{data:l,margin:{top:10,right:10,left:0,bottom:0},children:[m.jsxs("defs",{children:[m.jsxs("linearGradient",{id:"colorVisits",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]}),m.jsxs("linearGradient",{id:"colorUsers",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#10B981",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#10B981",stopOpacity:0})]})]}),m.jsx(Yj,{strokeDasharray:"3 3",vertical:!1,stroke:"#E5E7EB",opacity:.5}),m.jsx(Zj,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12},dy:10,interval:a==="30d"?4:0}),m.jsx(eD,{axisLine:!1,tickLine:!1,tick:{fill:"#6B7280",fontSize:12}}),m.jsx(Z6,{contentStyle:{backgroundColor:"rgba(255, 255, 255, 0.9)",borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0, 0, 0, 0.1)"}}),m.jsx(jT,{type:"monotone",dataKey:"visits",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorVisits)",name:"Lt truy cp",animationDuration:1e3}),m.jsx(jT,{type:"monotone",dataKey:"users",stroke:"#10B981",strokeWidth:3,fillOpacity:1,fill:"url(#colorUsers)",name:"Ngi dng",animationDuration:1e3})]})})]})})})]})})},t2=({icon:t,label:e,value:r,trend:n,trendUp:i,color:s})=>m.jsxs("div",{className:`p-4 rounded-xl ${s} transition-all duration-300 hover:shadow-md`,children:[m.jsxs("div",{className:"flex justify-between items-start mb-2",children:[m.jsx("div",{className:"p-2 bg-white dark:bg-zinc-800 rounded-lg shadow-sm",children:t}),m.jsx("span",{className:`text-xs font-bold px-2 py-1 rounded-full ${i?"text-green-600 bg-green-100":"text-red-600 bg-red-100"}`,children:n})]}),m.jsx("p",{className:"text-2xl font-bold text-gray-800 dark:text-white mb-1",children:r}),m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 font-medium",children:e})]}),c$e=({userProfile:t,onStart:e,onHistoryClick:r,onClassClick:n,onOnlineExamClick:i})=>{const{theme:s}=ua();return m.jsxs("div",{className:"min-h-screen flex flex-col items-center justify-center p-4 animate-slide-in-right",children:[m.jsx(l$e,{userRole:t.role}),m.jsx(WNe,{userRole:t.role}),m.jsxs("div",{className:"w-full max-w-4xl grid grid-cols-1 md:grid-cols-2 gap-4 items-center",children:[m.jsx("div",{className:"flex flex-col items-center",children:m.jsx(qNe,{user:t})}),m.jsxs("div",{className:"bg-card/90 backdrop-blur-sm p-6 rounded-2xl shadow-xl border border-border",children:[m.jsxs("h1",{className:"text-3xl font-bold text-primary mb-6 text-center",children:["Xin cho, ",t.full_name||"Hc vin","!"]}),m.jsx("p",{className:"text-muted-foreground text-center mb-8",children:"Chc bn c mt bui n tp hiu qu v t kt qu cao."}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("button",{onClick:e,className:"w-full bg-primary text-primary-foreground font-bold text-lg py-4 px-6 rounded-xl hover:bg-primary/90 focus:outline-none focus:ring-4 focus:ring-ring transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-lg",children:[m.jsx(hR,{className:"w-8 h-8"}),m.jsx("span",{children:"Vo n Tp / Thi Th"})]}),["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role)&&m.jsxs("button",{onClick:i,className:"w-full bg-blue-600 text-white font-bold text-lg py-4 px-6 rounded-xl hover:bg-blue-700 focus:outline-none focus:ring-4 focus:ring-blue-300 transition-all duration-300 transform hover:scale-105 flex items-center justify-center gap-3 shadow-lg",children:[m.jsx(lye,{className:"w-8 h-8"}),m.jsx("span",{children:"Qun l Thi Trc Tuyn"})]})]})]})]})]})},LT=async t=>{try{const e=pr(qt(Ye,"exam_results"),kr("studentId","==",t));return(await _n(e)).docs.map(i=>{const s=i.data(),a=s.submitted_at||s.completedAt,o=a?a.toDate():new Date;return{id:i.id,...s,userId:s.studentId,completedAt:o}}).sort((i,s)=>s.completedAt.getTime()-i.completedAt.getTime())}catch(e){return console.error("Error fetching exam history:",e),[]}},u$e=({userProfile:t,onBack:e})=>{const[r,n]=C.useState([]),[i,s]=C.useState(!0),[a,o]=C.useState({});C.useEffect(()=>{(async()=>{const g=await LT(t.id);g.sort((x,b)=>b.completedAt.getTime()-x.completedAt.getTime()),n(g),s(!1);const v=Array.from(new Set(g.filter(x=>x.roomId).map(x=>x.roomId)));if(v.length>0){const x={};await Promise.all(v.map(async b=>{try{const{doc:w,getDoc:E}=await Pn(async()=>{const{doc:O,getDoc:P}=await Promise.resolve().then(()=>$0);return{doc:O,getDoc:P}},void 0),{db:k}=await Pn(async()=>{const{db:O}=await Promise.resolve().then(()=>ote);return{db:O}},void 0),A=await E(w(k,"exam_rooms",b));A.exists()&&(x[b]=A.data())}catch(w){console.error(`Error fetching room ${b}`,w)}})),o(x)}})()},[t.id]);const l=f=>f.roomId?"Thi Trc Tuyn":f.quizId==="exam-quiz"||f.quizId==="thithu2"||f.type==="Thi th"?"Thi th":"n tp",u=f=>{switch(f){case"Thi Trc Tuyn":return"bg-red-100 text-red-800 border-red-200";case"Thi th":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},d=f=>{if(f.roomId&&a[f.roomId]){const g=a[f.roomId];return`Phng thi ${g.name} / ${g.course_name||"T do"} / ${g.license_name||""}`}return f.quizTitle||(f.roomId?`Phng thi ${f.roomId}`:f.type)};return m.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h1",{className:"text-2xl font-bold text-foreground flex items-center gap-2",children:[m.jsx(b1,{className:"text-primary"}),"Lch s n tp & Thi"]}),m.jsx("button",{onClick:e,className:"bg-secondary text-secondary-foreground px-4 py-2 rounded-lg hover:bg-secondary/80 transition-colors shadow-sm",children:"Quay li"})]}),i?m.jsx("div",{className:"text-center p-8",children:m.jsx("p",{className:"text-muted-foreground",children:"ang ti d liu..."})}):r.length===0?m.jsx("div",{className:"text-center p-8 bg-card rounded-xl shadow-sm border border-border",children:m.jsx("p",{className:"text-muted-foreground",children:"Cha c lch s lm bi no."})}):m.jsx("div",{className:"bg-white dark:bg-card rounded-xl shadow-sm border border-border overflow-hidden",children:m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"bg-muted/50 border-b border-border text-xs uppercase text-muted-foreground",children:[m.jsx("th",{className:"p-4 font-semibold",children:"Loi"}),m.jsx("th",{className:"p-4 font-semibold",children:"Bi thi"}),m.jsx("th",{className:"p-4 font-semibold text-center",children:"im s"}),m.jsx("th",{className:"p-4 font-semibold",children:"Gi np"})," ",m.jsx("th",{className:"p-4 font-semibold",children:"Ngy np"})]})}),m.jsx("tbody",{className:"divide-y divide-border",children:r.map(f=>{const g=l(f);return m.jsxs("tr",{className:"hover:bg-muted/30 transition-colors",children:[m.jsx("td",{className:"p-4 align-middle",children:m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-medium border ${u(g)}`,children:g})}),m.jsx("td",{className:"p-4 align-middle font-medium text-foreground",children:d(f)}),m.jsxs("td",{className:"p-4 align-middle text-center",children:[m.jsx("span",{className:"font-bold text-primary",children:f.score}),m.jsxs("span",{className:"text-muted-foreground text-sm",children:[" / ",f.totalQuestions]})]}),m.jsx("td",{className:"p-4 align-middle text-sm",children:new Date(f.completedAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}),m.jsx("td",{className:"p-4 align-middle text-sm text-muted-foreground",children:new Date(f.completedAt).toLocaleDateString("vi-VN")})]},f.id)})})]})})})]})},d$e=t=>{if(!t)return"Thnh vin";const e=t.toLowerCase().trim();return{admin:"Qun tr vin",quan_ly:"Qun l",lanh_dao:"Lnh o",giao_vien:"Gio vin",hoc_vien:"Hc vin",phu_huynh:"Ph huynh"}[e]||t},h$e=({userProfile:t,onBack:e})=>{const[r,n]=C.useState(null),[i,s]=C.useState([]),[a,o]=C.useState([]),[l,u]=C.useState(!0),[d,f]=C.useState("grid"),[g,v]=C.useState({}),[x,b]=C.useState("");return C.useEffect(()=>{let w,E,k;return(async()=>{if(!t.id)return;const O=Ht(Ye,"users",t.id),P=await ed(O);if(!P.exists()){u(!1);return}const S=P.data().courseId;if(!S){u(!1);return}const I=Ht(Ye,"courses",S);w=Ho(I,R=>{if(R.exists()){const D={id:R.id,...R.data()};if(n(D),D.licenseId&&Pn(async()=>{const{fetchLicenses:M}=await Promise.resolve().then(()=>wM);return{fetchLicenses:M}},void 0).then(({fetchLicenses:M})=>{M().then(L=>{const U=L.find(le=>le.id===D.licenseId);U&&b(U.name)})}),E&&E(),D.teacherIds&&D.teacherIds.length>0)try{const M=[...new Set(D.teacherIds.filter(L=>L&&L.trim()!==""))].slice(0,10);if(M.length>0){const L=pr(qt(Ye,"users"),kr(FS(),"in",M));E=Ho(L,U=>{s(U.docs.map(le=>{const ue=le.data();return{uid:le.id,...ue,photoURL:ue.photoURL||nf(ue.role)}}))})}else s([])}catch(M){console.error("Error creating teacher query:",M),s([])}else s([]);if(k)u(!1);else{const M=pr(qt(Ye,"users"),kr("courseId","==",S),kr("role","==","hoc_vien"));k=Ho(M,async L=>{const U=L.docs.map(ue=>{const J=ue.data();return{uid:ue.id,...J,photoURL:J.photoURL||nf(J.role)}});o(U);const le={};await Promise.all(U.map(async ue=>{try{const J=await LT(ue.uid);if(J&&J.length>0){const Q=J[0];le[ue.uid]={type:Q.quizTitle||Q.type||"Bi thi",time:Q.completedAt?Q.completedAt.toLocaleString("vi-VN"):"--",score:`${Q.score}/${Q.totalQuestions} cu`}}else le[ue.uid]={type:"--",time:"--",score:"--"}}catch(J){console.error(`Error fetching history for ${ue.uid}`,J),le[ue.uid]={type:"Li",time:"--",score:"--"}}})),v(le),u(!1)})}}else n(null),u(!1)})})(),()=>{w&&w(),E&&E(),k&&k()}},[t.id]),l?m.jsx("div",{className:"flex justify-center items-center h-screen",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600"})}):r?m.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:e,className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 mb-2 transition-colors font-medium",children:[m.jsx(N0,{})," Quay li Dashboard"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:m.jsx(y0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:r.name}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 mt-0.5",children:r.description||"Cha c m t"}),x&&m.jsxs("div",{className:"mt-2 inline-flex items-center gap-1.5 bg-yellow-100 text-yellow-800 px-3 py-1 rounded-full text-xs font-bold border border-yellow-200",children:[m.jsx(DE,{}),m.jsxs("span",{children:["Chng ch: ",x]})]})]})]})]}),m.jsxs("div",{className:"flex gap-4",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 flex items-center gap-3",children:[m.jsx("div",{className:"bg-green-100 p-2 rounded-full text-green-600",children:m.jsx(ig,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Gio vin"}),m.jsx("p",{className:"font-bold text-lg",children:i.length})]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 px-4 py-2 rounded-xl shadow-sm border border-gray-100 dark:border-slate-700 flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-100 p-2 rounded-full text-blue-600",children:m.jsx(zh,{})}),m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-500",children:"Hc vin"}),m.jsx("p",{className:"font-bold text-lg",children:a.length})]})]})]})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-5 sticky top-20",children:[m.jsxs("h3",{className:"font-bold text-lg mb-4 flex items-center gap-2 text-gray-800 dark:text-white border-b pb-3 border-gray-100 dark:border-slate-700",children:[m.jsx(ig,{className:"text-green-500"})," i ng Gio vin"]}),m.jsxs("div",{className:"space-y-3",children:[i.map(w=>m.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors group cursor-pointer",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}&background=random`,alt:w.fullName,className:"w-10 h-10 rounded-full object-cover border border-gray-200 dark:border-slate-600 group-hover:scale-105 transition-transform"}),r.headTeacherId===w.uid&&m.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-white rounded-full p-0.5 border-2 border-white",children:m.jsx(DE,{size:10})})]}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"font-medium text-sm text-gray-900 dark:text-gray-100 truncate",children:w.fullName}),m.jsx("p",{className:"text-[11px] text-gray-400",children:d$e(w.role)}),r.headTeacherId===w.uid&&m.jsx("span",{className:"inline-flex items-center text-[10px] font-bold text-yellow-600",children:" GV Ch Nhim"})]})]},w.uid)),i.length===0&&m.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Cha c thng tin gio vin."})]})]})}),m.jsx("div",{className:"lg:col-span-3",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 min-h-[500px]",children:[m.jsxs("div",{className:"flex items-center gap-2 mb-6",children:[m.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1",children:[m.jsx("button",{onClick:()=>f("grid"),className:`p-1.5 rounded ${d==="grid"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng li",children:m.jsx(wte,{})}),m.jsx("button",{onClick:()=>f("list"),className:`p-1.5 rounded ${d==="list"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng danh sch",children:m.jsx(gte,{})})]}),m.jsxs("span",{className:"text-sm px-2 py-0.5 bg-blue-100 text-blue-700 rounded-full font-medium",children:[a.length," thnh vin"]})]}),a.length===0?m.jsxs("div",{className:"text-center py-20 flex flex-col items-center",children:[m.jsx("div",{className:"bg-gray-100 dark:bg-slate-700 p-6 rounded-full mb-4",children:m.jsx(zh,{className:"text-gray-300 w-12 h-12"})}),m.jsx("p",{className:"text-gray-500 font-medium",children:"Lp cha c hc vin no khc."})]}):d==="grid"?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 xl:grid-cols-3 gap-5",children:a.map(w=>m.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-4 border border-gray-100 dark:border-slate-700 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30 transition-all duration-300 group relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-100 to-transparent -mr-8 -mt-8 rounded-full opacity-50 group-hover:scale-150 transition-transform"}),m.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}&background=random`,alt:w.fullName,className:"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-slate-600 shadow-sm group-hover:border-blue-500 transition-colors"}),m.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white rounded-full"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsx("h4",{className:"font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 transition-colors text-base",children:w.fullName}),m.jsxs("div",{className:"space-y-1.5 mt-2",children:[m.jsxs("p",{className:"text-xs text-gray-500 flex items-center gap-1.5 bg-white dark:bg-slate-800 px-2 py-1 rounded border border-gray-100 dark:border-slate-600 w-fit",children:[m.jsx("span",{children:""})," ",w.birthDate||"--/--"]}),m.jsxs("p",{className:"text-xs text-gray-500 truncate flex items-center gap-1.5",title:w.address,children:[m.jsx("span",{children:""})," ",w.address||"Cha cp nht"]})]}),w.uid===t.id&&m.jsx("div",{className:"mt-2",children:m.jsx("span",{className:"text-[10px] font-bold text-teal-600 bg-teal-50 border border-teal-100 px-2 py-0.5 rounded-full",children:"L ti"})})]})]})]},w.uid))}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-sm text-left",children:[m.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-slate-700 dark:text-gray-300",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-4 py-3 rounded-l-lg",children:"Hc vin"}),m.jsx("th",{className:"px-4 py-3",children:"Ngy sinh"}),m.jsx("th",{className:"px-4 py-3",children:"Bi lm gn nht"}),m.jsx("th",{className:"px-4 py-3",children:"Thi gian"}),m.jsx("th",{className:"px-4 py-3 rounded-r-lg",children:"im"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:a.map(w=>{const E=g[w.uid]||{type:"--",time:"--",score:"--"};return m.jsxs("tr",{className:"bg-white dark:bg-slate-800 hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white flex items-center gap-3",children:[m.jsx("img",{src:w.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(w.fullName)}`,className:"w-8 h-8 rounded-full border border-gray-200"}),m.jsxs("div",{children:[m.jsx("p",{children:w.fullName}),w.uid===t.id&&m.jsx("span",{className:"text-[10px] font-bold text-teal-600 border border-teal-100 bg-teal-50 px-1 rounded",children:"Ti"})]})]}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:w.birthDate||"--"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold
                                                        ${E.type.includes("n")?"bg-blue-100 text-blue-700":E.type.includes("Th")?"bg-purple-100 text-purple-700":E.type==="--"?"bg-gray-100 text-gray-500":"bg-red-100 text-red-700"}`,children:E.type})}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:E.time}),m.jsx("td",{className:"px-4 py-3 font-bold text-teal-600",children:E.score})]},w.uid)})})]})})]})})]})]}):m.jsxs("div",{className:"w-full max-w-5xl mx-auto p-4 animate-slide-in-right",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-emerald-600",children:[m.jsx(y0,{className:"text-teal-600"})," Lp Ca Ti"]}),m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Quay li"})]}),m.jsx("div",{className:"text-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:m.jsx("p",{className:"text-gray-500",children:"Bn cha c phn lp."})})]})};function bG(t){return dt({attr:{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"},child:[{tag:"path",attr:{d:"M9.788 5.758l-.788 -2.758h3l4 7h4a2 2 0 1 1 0 4h-2m-2.718 1.256l-3.282 5.744h-3l2 -7h-4l-2 2h-3l2 -4l-2 -4h3l2 2h3"},child:[]},{tag:"path",attr:{d:"M3 3l18 18"},child:[]}]})(t)}/*! xlsx.js (C) 2013-present SheetJS -- http://sheetjs.com */var FT={};FT.version="0.18.5";var Noe=1252,f$e=[874,932,936,949,950,1250,1251,1252,1253,1254,1255,1256,1257,1258,1e4],iD={0:1252,1:65001,2:65001,77:1e4,128:932,129:949,130:1361,134:936,136:950,161:1253,162:1254,163:1258,177:1255,178:1256,186:1257,204:1251,222:874,238:1250,255:1252,69:6969},sD=function(t){f$e.indexOf(t)!=-1&&(Noe=iD[0]=t)};function m$e(){sD(1252)}var oc=function(t){sD(t)};function aD(){oc(1200),m$e()}function wG(t){for(var e=[],r=0,n=t.length;r<n;++r)e[r]=t.charCodeAt(r);return e}function p$e(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r)+(t.charCodeAt(2*r+1)<<8));return e.join("")}function Ioe(t){for(var e=[],r=0;r<t.length>>1;++r)e[r]=String.fromCharCode(t.charCodeAt(2*r+1)+(t.charCodeAt(2*r)<<8));return e.join("")}var r1=function(t){var e=t.charCodeAt(0),r=t.charCodeAt(1);return e==255&&r==254?p$e(t.slice(2)):e==254&&r==255?Ioe(t.slice(2)):e==65279?t.slice(1):t},r2=function(e){return String.fromCharCode(e)},_G=function(e){return String.fromCharCode(e)},Ex,Oh="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";function Tx(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0,u=0;u<t.length;)r=t.charCodeAt(u++),s=r>>2,n=t.charCodeAt(u++),a=(r&3)<<4|n>>4,i=t.charCodeAt(u++),o=(n&15)<<2|i>>6,l=i&63,isNaN(n)?o=l=64:isNaN(i)&&(l=64),e+=Oh.charAt(s)+Oh.charAt(a)+Oh.charAt(o)+Oh.charAt(l);return e}function Xo(t){var e="",r=0,n=0,i=0,s=0,a=0,o=0,l=0;t=t.replace(/[^\w\+\/\=]/g,"");for(var u=0;u<t.length;)s=Oh.indexOf(t.charAt(u++)),a=Oh.indexOf(t.charAt(u++)),r=s<<2|a>>4,e+=String.fromCharCode(r),o=Oh.indexOf(t.charAt(u++)),n=(a&15)<<4|o>>2,o!==64&&(e+=String.fromCharCode(n)),l=Oh.indexOf(t.charAt(u++)),i=(o&3)<<6|l,l!==64&&(e+=String.fromCharCode(i));return e}var lr=(function(){return typeof Buffer<"u"&&typeof process<"u"&&typeof process.versions<"u"&&!!process.versions.node})(),Dd=(function(){if(typeof Buffer<"u"){var t=!Buffer.from;if(!t)try{Buffer.from("foo","utf8")}catch{t=!0}return t?function(e,r){return r?new Buffer(e,r):new Buffer(e)}:Buffer.from.bind(Buffer)}return function(){}})();function of(t){return lr?Buffer.alloc?Buffer.alloc(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}function EG(t){return lr?Buffer.allocUnsafe?Buffer.allocUnsafe(t):new Buffer(t):typeof Uint8Array<"u"?new Uint8Array(t):new Array(t)}var Bo=function(e){return lr?Dd(e,"binary"):e.split("").map(function(r){return r.charCodeAt(0)&255})};function ik(t){if(typeof ArrayBuffer>"u")return Bo(t);for(var e=new ArrayBuffer(t.length),r=new Uint8Array(e),n=0;n!=t.length;++n)r[n]=t.charCodeAt(n)&255;return e}function Ef(t){if(Array.isArray(t))return t.map(function(n){return String.fromCharCode(n)}).join("");for(var e=[],r=0;r<t.length;++r)e[r]=String.fromCharCode(t[r]);return e.join("")}function g$e(t){if(typeof Uint8Array>"u")throw new Error("Unsupported");return new Uint8Array(t)}function oD(t){if(typeof ArrayBuffer>"u")throw new Error("Unsupported");if(t instanceof ArrayBuffer)return oD(new Uint8Array(t));for(var e=new Array(t.length),r=0;r<t.length;++r)e[r]=t[r];return e}var Fs=lr?function(t){return Buffer.concat(t.map(function(e){return Buffer.isBuffer(e)?e:Dd(e)}))}:function(t){if(typeof Uint8Array<"u"){var e=0,r=0;for(e=0;e<t.length;++e)r+=t[e].length;var n=new Uint8Array(r),i=0;for(e=0,r=0;e<t.length;r+=i,++e)if(i=t[e].length,t[e]instanceof Uint8Array)n.set(t[e],r);else{if(typeof t[e]=="string")throw"wtf";n.set(new Uint8Array(t[e]),r)}return n}return[].concat.apply([],t.map(function(s){return Array.isArray(s)?s:[].slice.call(s)}))};function v$e(t){for(var e=[],r=0,n=t.length+250,i=of(t.length+255),s=0;s<t.length;++s){var a=t.charCodeAt(s);if(a<128)i[r++]=a;else if(a<2048)i[r++]=192|a>>6&31,i[r++]=128|a&63;else if(a>=55296&&a<57344){a=(a&1023)+64;var o=t.charCodeAt(++s)&1023;i[r++]=240|a>>8&7,i[r++]=128|a>>2&63,i[r++]=128|o>>6&15|(a&3)<<4,i[r++]=128|o&63}else i[r++]=224|a>>12&15,i[r++]=128|a>>6&63,i[r++]=128|a&63;r>n&&(e.push(i.slice(0,r)),r=0,i=of(65535),n=65530)}return e.push(i.slice(0,r)),Fs(e)}var qa=/\u0000/g,n1=/[\u0001-\u0006]/g;function cg(t){for(var e="",r=t.length-1;r>=0;)e+=t.charAt(r--);return e}function lc(t,e){var r=""+t;return r.length>=e?r:Si("0",e-r.length)+r}function lD(t,e){var r=""+t;return r.length>=e?r:Si(" ",e-r.length)+r}function BT(t,e){var r=""+t;return r.length>=e?r:r+Si(" ",e-r.length)}function y$e(t,e){var r=""+Math.round(t);return r.length>=e?r:Si("0",e-r.length)+r}function x$e(t,e){var r=""+t;return r.length>=e?r:Si("0",e-r.length)+r}var TG=Math.pow(2,32);function Sp(t,e){if(t>TG||t<-TG)return y$e(t,e);var r=Math.round(t);return x$e(r,e)}function VT(t,e){return e=e||0,t.length>=7+e&&(t.charCodeAt(e)|32)===103&&(t.charCodeAt(e+1)|32)===101&&(t.charCodeAt(e+2)|32)===110&&(t.charCodeAt(e+3)|32)===101&&(t.charCodeAt(e+4)|32)===114&&(t.charCodeAt(e+5)|32)===97&&(t.charCodeAt(e+6)|32)===108}var SG=[["Sun","Sunday"],["Mon","Monday"],["Tue","Tuesday"],["Wed","Wednesday"],["Thu","Thursday"],["Fri","Friday"],["Sat","Saturday"]],n5=[["J","Jan","January"],["F","Feb","February"],["M","Mar","March"],["A","Apr","April"],["M","May","May"],["J","Jun","June"],["J","Jul","July"],["A","Aug","August"],["S","Sep","September"],["O","Oct","October"],["N","Nov","November"],["D","Dec","December"]];function b$e(t){return t||(t={}),t[0]="General",t[1]="0",t[2]="0.00",t[3]="#,##0",t[4]="#,##0.00",t[9]="0%",t[10]="0.00%",t[11]="0.00E+00",t[12]="# ?/?",t[13]="# ??/??",t[14]="m/d/yy",t[15]="d-mmm-yy",t[16]="d-mmm",t[17]="mmm-yy",t[18]="h:mm AM/PM",t[19]="h:mm:ss AM/PM",t[20]="h:mm",t[21]="h:mm:ss",t[22]="m/d/yy h:mm",t[37]="#,##0 ;(#,##0)",t[38]="#,##0 ;[Red](#,##0)",t[39]="#,##0.00;(#,##0.00)",t[40]="#,##0.00;[Red](#,##0.00)",t[45]="mm:ss",t[46]="[h]:mm:ss",t[47]="mmss.0",t[48]="##0.0E+0",t[49]="@",t[56]='"/ "hh""mm""ss" "',t}var Dt={0:"General",1:"0",2:"0.00",3:"#,##0",4:"#,##0.00",9:"0%",10:"0.00%",11:"0.00E+00",12:"# ?/?",13:"# ??/??",14:"m/d/yy",15:"d-mmm-yy",16:"d-mmm",17:"mmm-yy",18:"h:mm AM/PM",19:"h:mm:ss AM/PM",20:"h:mm",21:"h:mm:ss",22:"m/d/yy h:mm",37:"#,##0 ;(#,##0)",38:"#,##0 ;[Red](#,##0)",39:"#,##0.00;(#,##0.00)",40:"#,##0.00;[Red](#,##0.00)",45:"mm:ss",46:"[h]:mm:ss",47:"mmss.0",48:"##0.0E+0",49:"@",56:'"/ "hh""mm""ss" "'},kG={5:37,6:38,7:39,8:40,23:0,24:0,25:0,26:0,27:14,28:14,29:14,30:14,31:14,50:14,51:14,52:14,53:14,54:14,55:14,56:14,57:14,58:14,59:1,60:2,61:3,62:4,67:9,68:10,69:12,70:13,71:14,72:14,73:15,74:16,75:17,76:20,77:21,78:22,79:45,80:46,81:47,82:0},w$e={5:'"$"#,##0_);\\("$"#,##0\\)',63:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',41:'_(* #,##0_);_(* \\(#,##0\\);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* \\(#,##0\\);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* \\(#,##0.00\\);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* \\(#,##0.00\\);_("$"* "-"??_);_(@_)'};function UT(t,e,r){for(var n=t<0?-1:1,i=t*n,s=0,a=1,o=0,l=1,u=0,d=0,f=Math.floor(i);u<e&&(f=Math.floor(i),o=f*a+s,d=f*u+l,!(i-f<5e-8));)i=1/(i-f),s=a,a=o,l=u,u=d;if(d>e&&(u>e?(d=l,o=s):(d=u,o=a)),!r)return[0,n*o,d];var g=Math.floor(n*o/d);return[g,n*o-g*d,d]}function T0(t,e,r){if(t>2958465||t<0)return null;var n=t|0,i=Math.floor(86400*(t-n)),s=0,a=[],o={D:n,T:i,u:86400*(t-n)-i,y:0,m:0,d:0,H:0,M:0,S:0,q:0};if(Math.abs(o.u)<1e-6&&(o.u=0),e&&e.date1904&&(n+=1462),o.u>.9999&&(o.u=0,++i==86400&&(o.T=i=0,++n,++o.D)),n===60)a=r?[1317,10,29]:[1900,2,29],s=3;else if(n===0)a=r?[1317,8,29]:[1900,1,0],s=6;else{n>60&&--n;var l=new Date(1900,0,1);l.setDate(l.getDate()+n-1),a=[l.getFullYear(),l.getMonth()+1,l.getDate()],s=l.getDay(),n<60&&(s=(s+6)%7),r&&(s=A$e(l,a))}return o.y=a[0],o.m=a[1],o.d=a[2],o.S=i%60,i=Math.floor(i/60),o.M=i%60,i=Math.floor(i/60),o.H=i,o.q=s,o}var Ooe=new Date(1899,11,31,0,0,0),_$e=Ooe.getTime(),E$e=new Date(1900,2,1,0,0,0);function Roe(t,e){var r=t.getTime();return e?r-=1461*24*60*60*1e3:t>=E$e&&(r+=1440*60*1e3),(r-(_$e+(t.getTimezoneOffset()-Ooe.getTimezoneOffset())*6e4))/(1440*60*1e3)}function cD(t){return t.indexOf(".")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)$/,"$1")}function T$e(t){return t.indexOf("E")==-1?t:t.replace(/(?:\.0*|(\.\d*[1-9])0+)[Ee]/,"$1E").replace(/(E[+-])(\d)$/,"$10$2")}function S$e(t){var e=t<0?12:11,r=cD(t.toFixed(12));return r.length<=e||(r=t.toPrecision(10),r.length<=e)?r:t.toExponential(5)}function k$e(t){var e=cD(t.toFixed(11));return e.length>(t<0?12:11)||e==="0"||e==="-0"?t.toPrecision(6):e}function Sx(t){var e=Math.floor(Math.log(Math.abs(t))*Math.LOG10E),r;return e>=-4&&e<=-1?r=t.toPrecision(10+e):Math.abs(e)<=9?r=S$e(t):e===10?r=t.toFixed(10).substr(0,12):r=k$e(t),cD(T$e(r.toUpperCase()))}function nm(t,e){switch(typeof t){case"string":return t;case"boolean":return t?"TRUE":"FALSE";case"number":return(t|0)===t?t.toString(10):Sx(t);case"undefined":return"";case"object":if(t==null)return"";if(t instanceof Date)return Pl(14,Roe(t,e&&e.date1904),e)}throw new Error("unsupported value in General format: "+t)}function A$e(t,e){e[0]-=581;var r=t.getDay();return t<60&&(r=(r+6)%7),r}function C$e(t,e,r,n){var i="",s=0,a=0,o=r.y,l,u=0;switch(t){case 98:o=r.y+543;case 121:switch(e.length){case 1:case 2:l=o%100,u=2;break;default:l=o%1e4,u=4;break}break;case 109:switch(e.length){case 1:case 2:l=r.m,u=e.length;break;case 3:return n5[r.m-1][1];case 5:return n5[r.m-1][0];default:return n5[r.m-1][2]}break;case 100:switch(e.length){case 1:case 2:l=r.d,u=e.length;break;case 3:return SG[r.q][0];default:return SG[r.q][1]}break;case 104:switch(e.length){case 1:case 2:l=1+(r.H+11)%12,u=e.length;break;default:throw"bad hour format: "+e}break;case 72:switch(e.length){case 1:case 2:l=r.H,u=e.length;break;default:throw"bad hour format: "+e}break;case 77:switch(e.length){case 1:case 2:l=r.M,u=e.length;break;default:throw"bad minute format: "+e}break;case 115:if(e!="s"&&e!="ss"&&e!=".0"&&e!=".00"&&e!=".000")throw"bad second format: "+e;return r.u===0&&(e=="s"||e=="ss")?lc(r.S,e.length):(n>=2?a=n===3?1e3:100:a=n===1?10:1,s=Math.round(a*(r.S+r.u)),s>=60*a&&(s=0),e==="s"?s===0?"0":""+s/a:(i=lc(s,2+n),e==="ss"?i.substr(0,2):"."+i.substr(2,e.length-1)));case 90:switch(e){case"[h]":case"[hh]":l=r.D*24+r.H;break;case"[m]":case"[mm]":l=(r.D*24+r.H)*60+r.M;break;case"[s]":case"[ss]":l=((r.D*24+r.H)*60+r.M)*60+Math.round(r.S+r.u);break;default:throw"bad abstime format: "+e}u=e.length===3?1:2;break;case 101:l=o,u=1;break}var d=u>0?lc(l,u):"";return d}function Rh(t){var e=3;if(t.length<=e)return t;for(var r=t.length%e,n=t.substr(0,r);r!=t.length;r+=e)n+=(n.length>0?",":"")+t.substr(r,e);return n}var Poe=/%/g;function N$e(t,e,r){var n=e.replace(Poe,""),i=e.length-n.length;return sd(t,n,r*Math.pow(10,2*i))+Si("%",i)}function I$e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return sd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function joe(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+joe(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),r.indexOf("e")===-1){var a=Math.floor(Math.log(e)*Math.LOG10E);for(r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s);r.substr(0,2)==="0.";)r=r.charAt(0)+r.substr(2,i)+"."+r.substr(2+i),r=r.replace(/^0+([1-9])/,"$1").replace(/^0+\./,"0.");r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}var Doe=/# (\?+)( ?)\/( ?)(\d+)/;function O$e(t,e,r){var n=parseInt(t[4],10),i=Math.round(e*n),s=Math.floor(i/n),a=i-s*n,o=n;return r+(s===0?"":""+s)+" "+(a===0?Si(" ",t[1].length+1+t[4].length):lD(a,t[1].length)+t[2]+"/"+t[3]+lc(o,t[4].length))}function R$e(t,e,r){return r+(e===0?"":""+e)+Si(" ",t[1].length+2+t[4].length)}var Moe=/^#*0*\.([0#]+)/,Loe=/\).*[0#]/,Foe=/\(###\) ###\\?-####/;function Ba(t){for(var e="",r,n=0;n!=t.length;++n)switch(r=t.charCodeAt(n)){case 35:break;case 63:e+=" ";break;case 48:e+="0";break;default:e+=String.fromCharCode(r)}return e}function AG(t,e){var r=Math.pow(10,e);return""+Math.round(t*r)/r}function CG(t,e){var r=t-Math.floor(t),n=Math.pow(10,e);return e<(""+Math.round(r*n)).length?0:Math.round(r*n)}function P$e(t,e){return e<(""+Math.round((t-Math.floor(t))*Math.pow(10,e))).length?1:0}function j$e(t){return t<2147483647&&t>-2147483648?""+(t>=0?t|0:t-1|0):""+Math.floor(t)}function pl(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Loe)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?pl("n",n,r):"("+pl("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return I$e(t,e,r);if(e.indexOf("%")!==-1)return N$e(t,e,r);if(e.indexOf("E")!==-1)return joe(e,r);if(e.charCodeAt(0)===36)return"$"+pl(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+Sp(l,e.length);if(e.match(/^[#?]+$/))return i=Sp(r,0),i==="0"&&(i=""),i.length>e.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(Doe))return O$e(s,l,u);if(e.match(/^#+0+$/))return u+Sp(l,e.length-e.indexOf("0"));if(s=e.match(Moe))return i=AG(r,s[1].length).replace(/^([^\.]+)$/,"$1."+Ba(s[1])).replace(/\.$/,"."+Ba(s[1])).replace(/\.(\d*)$/,function(x,b){return"."+b+Si("0",Ba(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+AG(l,s[2].length).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Rh(Sp(l,0));if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+pl(t,e,-r):Rh(""+(Math.floor(r)+P$e(r,s[1].length)))+"."+lc(CG(r,s[1].length),s[1].length);if(s=e.match(/^#,#*,#0/))return pl(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cg(pl(t,e.replace(/[\\-]/g,""),r)),a=0,cg(cg(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(Foe))return i=pl(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=UT(l,Math.pow(10,a)-1,!1),i=""+u,d=sd("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=BT(o[2],a),d.length<s[4].length&&(d=Ba(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=UT(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?lD(o[1],a)+s[2]+"/"+s[3]+BT(o[2],a):Si(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=Sp(r,0),e.length<=i.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0?]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,g=e.length-i.length-f;return Ba(e.substr(0,f)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return a=CG(r,s[1].length),r<0?"-"+pl(t,e,-r):Rh(j$e(r)).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?lc(0,3-x.length):"")+x})+"."+lc(a,s[1].length);switch(e){case"###,##0.00":return pl(t,"#,##0.00",r);case"###,###":case"##,###":case"#,###":var v=Rh(Sp(l,0));return v!=="0"?u+v:"";case"###,###.00":return pl(t,"###,##0.00",r).replace(/^0\./,".");case"#,###.00":return pl(t,"#,##0.00",r).replace(/^0\./,".")}throw new Error("unsupported format |"+e+"|")}function D$e(t,e,r){for(var n=e.length-1;e.charCodeAt(n-1)===44;)--n;return sd(t,e.substr(0,n),r/Math.pow(10,3*(e.length-n)))}function M$e(t,e,r){var n=e.replace(Poe,""),i=e.length-n.length;return sd(t,n,r*Math.pow(10,2*i))+Si("%",i)}function Boe(t,e){var r,n=t.indexOf("E")-t.indexOf(".")-1;if(t.match(/^#+0.0E\+0$/)){if(e==0)return"0.0E+0";if(e<0)return"-"+Boe(t,-e);var i=t.indexOf(".");i===-1&&(i=t.indexOf("E"));var s=Math.floor(Math.log(e)*Math.LOG10E)%i;if(s<0&&(s+=i),r=(e/Math.pow(10,s)).toPrecision(n+1+(i+s)%i),!r.match(/[Ee]/)){var a=Math.floor(Math.log(e)*Math.LOG10E);r.indexOf(".")===-1?r=r.charAt(0)+"."+r.substr(1)+"E+"+(a-r.length+s):r+="E+"+(a-s),r=r.replace(/\+-/,"-")}r=r.replace(/^([+-]?)(\d*)\.(\d*)[Ee]/,function(o,l,u,d){return l+u+d.substr(0,(i+s)%i)+"."+d.substr(s)+"E"})}else r=e.toExponential(n);return t.match(/E\+00$/)&&r.match(/e[+-]\d$/)&&(r=r.substr(0,r.length-1)+"0"+r.charAt(r.length-1)),t.match(/E\-/)&&r.match(/e\+/)&&(r=r.replace(/e\+/,"e")),r.replace("e","E")}function Uc(t,e,r){if(t.charCodeAt(0)===40&&!e.match(Loe)){var n=e.replace(/\( */,"").replace(/ \)/,"").replace(/\)/,"");return r>=0?Uc("n",n,r):"("+Uc("n",n,-r)+")"}if(e.charCodeAt(e.length-1)===44)return D$e(t,e,r);if(e.indexOf("%")!==-1)return M$e(t,e,r);if(e.indexOf("E")!==-1)return Boe(e,r);if(e.charCodeAt(0)===36)return"$"+Uc(t,e.substr(e.charAt(1)==" "?2:1),r);var i,s,a,o,l=Math.abs(r),u=r<0?"-":"";if(e.match(/^00+$/))return u+lc(l,e.length);if(e.match(/^[#?]+$/))return i=""+r,r===0&&(i=""),i.length>e.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(Doe))return R$e(s,l,u);if(e.match(/^#+0+$/))return u+lc(l,e.length-e.indexOf("0"));if(s=e.match(Moe))return i=(""+r).replace(/^([^\.]+)$/,"$1."+Ba(s[1])).replace(/\.$/,"."+Ba(s[1])),i=i.replace(/\.(\d*)$/,function(x,b){return"."+b+Si("0",Ba(s[1]).length-b.length)}),e.indexOf("0.")!==-1?i:i.replace(/^0\./,".");if(e=e.replace(/^#+([0.])/,"$1"),s=e.match(/^(0*)\.(#*)$/))return u+(""+l).replace(/\.(\d*[1-9])0*$/,".$1").replace(/^(-?\d*)$/,"$1.").replace(/^0\./,s[1].length?"0.":".");if(s=e.match(/^#{1,3},##0(\.?)$/))return u+Rh(""+l);if(s=e.match(/^#,##0\.([#0]*0)$/))return r<0?"-"+Uc(t,e,-r):Rh(""+r)+"."+Si("0",s[1].length);if(s=e.match(/^#,#*,#0/))return Uc(t,e.replace(/^#,#*,/,""),r);if(s=e.match(/^([0#]+)(\\?-([0#]+))+$/))return i=cg(Uc(t,e.replace(/[\\-]/g,""),r)),a=0,cg(cg(e.replace(/\\/g,"")).replace(/[0#]/g,function(x){return a<i.length?i.charAt(a++):x==="0"?"0":""}));if(e.match(Foe))return i=Uc(t,"##########",r),"("+i.substr(0,3)+") "+i.substr(3,3)+"-"+i.substr(6);var d="";if(s=e.match(/^([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(s[4].length,7),o=UT(l,Math.pow(10,a)-1,!1),i=""+u,d=sd("n",s[1],o[1]),d.charAt(d.length-1)==" "&&(d=d.substr(0,d.length-1)+"0"),i+=d+s[2]+"/"+s[3],d=BT(o[2],a),d.length<s[4].length&&(d=Ba(s[4].substr(s[4].length-d.length))+d),i+=d,i;if(s=e.match(/^# ([#0?]+)( ?)\/( ?)([#0?]+)/))return a=Math.min(Math.max(s[1].length,s[4].length),7),o=UT(l,Math.pow(10,a)-1,!0),u+(o[0]||(o[1]?"":"0"))+" "+(o[1]?lD(o[1],a)+s[2]+"/"+s[3]+BT(o[2],a):Si(" ",2*a+1+s[2].length+s[3].length));if(s=e.match(/^[#0?]+$/))return i=""+r,e.length<=i.length?i:Ba(e.substr(0,e.length-i.length))+i;if(s=e.match(/^([#0]+)\.([#0]+)$/)){i=""+r.toFixed(Math.min(s[2].length,10)).replace(/([^0])0+$/,"$1"),a=i.indexOf(".");var f=e.indexOf(".")-a,g=e.length-i.length-f;return Ba(e.substr(0,f)+i+e.substr(e.length-g))}if(s=e.match(/^00,000\.([#0]*0)$/))return r<0?"-"+Uc(t,e,-r):Rh(""+r).replace(/^\d,\d{3}$/,"0$&").replace(/^\d*$/,function(x){return"00,"+(x.length<3?lc(0,3-x.length):"")+x})+"."+lc(0,s[1].length);switch(e){case"###,###":case"##,###":case"#,###":var v=Rh(""+l);return v!=="0"?u+v:"";default:if(e.match(/\.[0#?]*$/))return Uc(t,e.slice(0,e.lastIndexOf(".")),r)+Ba(e.slice(e.lastIndexOf(".")))}throw new Error("unsupported format |"+e+"|")}function sd(t,e,r){return(r|0)===r?Uc(t,e,r):pl(t,e,r)}function L$e(t){for(var e=[],r=!1,n=0,i=0;n<t.length;++n)switch(t.charCodeAt(n)){case 34:r=!r;break;case 95:case 42:case 92:++n;break;case 59:e[e.length]=t.substr(i,n-i),i=n+1}if(e[e.length]=t.substr(i),r===!0)throw new Error("Format |"+t+"| unterminated string ");return e}var Voe=/\[[HhMmSs\u0E0A\u0E19\u0E17]*\]/;function Pv(t){for(var e=0,r="",n="";e<t.length;)switch(r=t.charAt(e)){case"G":VT(t,e)&&(e+=6),e++;break;case'"':for(;t.charCodeAt(++e)!==34&&e<t.length;);++e;break;case"\\":e+=2;break;case"_":e+=2;break;case"@":++e;break;case"B":case"b":if(t.charAt(e+1)==="1"||t.charAt(e+1)==="2")return!0;case"M":case"D":case"Y":case"H":case"S":case"E":case"m":case"d":case"y":case"h":case"s":case"e":case"g":return!0;case"A":case"a":case"":if(t.substr(e,3).toUpperCase()==="A/P"||t.substr(e,5).toUpperCase()==="AM/PM"||t.substr(e,5).toUpperCase()==="/")return!0;++e;break;case"[":for(n=r;t.charAt(e++)!=="]"&&e<t.length;)n+=t.charAt(e);if(n.match(Voe))return!0;break;case".":case"0":case"#":for(;e<t.length&&("0#?.,E+-%".indexOf(r=t.charAt(++e))>-1||r=="\\"&&t.charAt(e+1)=="-"&&"0#".indexOf(t.charAt(e+2))>-1););break;case"?":for(;t.charAt(++e)===r;);break;case"*":++e,(t.charAt(e)==" "||t.charAt(e)=="*")&&++e;break;case"(":case")":++e;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(;e<t.length&&"0123456789".indexOf(t.charAt(++e))>-1;);break;case" ":++e;break;default:++e;break}return!1}function F$e(t,e,r,n){for(var i=[],s="",a=0,o="",l="t",u,d,f,g="H";a<t.length;)switch(o=t.charAt(a)){case"G":if(!VT(t,a))throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"G",v:"General"},a+=7;break;case'"':for(s="";(f=t.charCodeAt(++a))!==34&&a<t.length;)s+=String.fromCharCode(f);i[i.length]={t:"t",v:s},++a;break;case"\\":var v=t.charAt(++a),x=v==="("||v===")"?v:"t";i[i.length]={t:x,v},++a;break;case"_":i[i.length]={t:"t",v:" "},a+=2;break;case"@":i[i.length]={t:"T",v:e},++a;break;case"B":case"b":if(t.charAt(a+1)==="1"||t.charAt(a+1)==="2"){if(u==null&&(u=T0(e,r,t.charAt(a+1)==="2"),u==null))return"";i[i.length]={t:"X",v:t.substr(a,2)},l=o,a+=2;break}case"M":case"D":case"Y":case"H":case"S":case"E":o=o.toLowerCase();case"m":case"d":case"y":case"h":case"s":case"e":case"g":if(e<0||u==null&&(u=T0(e,r),u==null))return"";for(s=o;++a<t.length&&t.charAt(a).toLowerCase()===o;)s+=o;o==="m"&&l.toLowerCase()==="h"&&(o="M"),o==="h"&&(o=g),i[i.length]={t:o,v:s},l=o;break;case"A":case"a":case"":var b={t:o,v:o};if(u==null&&(u=T0(e,r)),t.substr(a,3).toUpperCase()==="A/P"?(u!=null&&(b.v=u.H>=12?"P":"A"),b.t="T",g="h",a+=3):t.substr(a,5).toUpperCase()==="AM/PM"?(u!=null&&(b.v=u.H>=12?"PM":"AM"),b.t="T",a+=5,g="h"):t.substr(a,5).toUpperCase()==="/"?(u!=null&&(b.v=u.H>=12?"":""),b.t="T",a+=5,g="h"):(b.t="t",++a),u==null&&b.t==="T")return"";i[i.length]=b,l=o;break;case"[":for(s=o;t.charAt(a++)!=="]"&&a<t.length;)s+=t.charAt(a);if(s.slice(-1)!=="]")throw'unterminated "[" block: |'+s+"|";if(s.match(Voe)){if(u==null&&(u=T0(e,r),u==null))return"";i[i.length]={t:"Z",v:s.toLowerCase()},l=s.charAt(1)}else s.indexOf("$")>-1&&(s=(s.match(/\$([^-\[\]]*)/)||[])[1]||"$",Pv(t)||(i[i.length]={t:"t",v:s}));break;case".":if(u!=null){for(s=o;++a<t.length&&(o=t.charAt(a))==="0";)s+=o;i[i.length]={t:"s",v:s};break}case"0":case"#":for(s=o;++a<t.length&&"0#?.,E+-%".indexOf(o=t.charAt(a))>-1;)s+=o;i[i.length]={t:"n",v:s};break;case"?":for(s=o;t.charAt(++a)===o;)s+=o;i[i.length]={t:o,v:s},l=o;break;case"*":++a,(t.charAt(a)==" "||t.charAt(a)=="*")&&++a;break;case"(":case")":i[i.length]={t:n===1?"t":o,v:o},++a;break;case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":for(s=o;a<t.length&&"0123456789".indexOf(t.charAt(++a))>-1;)s+=t.charAt(a);i[i.length]={t:"D",v:s};break;case" ":i[i.length]={t:o,v:o},++a;break;case"$":i[i.length]={t:"t",v:"$"},++a;break;default:if(",$-+/():!^&'~{}<>=acfijklopqrtuvwxzP".indexOf(o)===-1)throw new Error("unrecognized character "+o+" in "+t);i[i.length]={t:"t",v:o},++a;break}var w=0,E=0,k;for(a=i.length-1,l="t";a>=0;--a)switch(i[a].t){case"h":case"H":i[a].t=g,l="h",w<1&&(w=1);break;case"s":(k=i[a].v.match(/\.0+$/))&&(E=Math.max(E,k[0].length-1)),w<3&&(w=3);case"d":case"y":case"M":case"e":l=i[a].t;break;case"m":l==="s"&&(i[a].t="M",w<2&&(w=2));break;case"X":break;case"Z":w<1&&i[a].v.match(/[Hh]/)&&(w=1),w<2&&i[a].v.match(/[Mm]/)&&(w=2),w<3&&i[a].v.match(/[Ss]/)&&(w=3)}switch(w){case 0:break;case 1:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M),u.M>=60&&(u.M=0,++u.H);break;case 2:u.u>=.5&&(u.u=0,++u.S),u.S>=60&&(u.S=0,++u.M);break}var A="",O;for(a=0;a<i.length;++a)switch(i[a].t){case"t":case"T":case" ":case"D":break;case"X":i[a].v="",i[a].t=";";break;case"d":case"m":case"y":case"h":case"H":case"M":case"s":case"e":case"b":case"Z":i[a].v=C$e(i[a].t.charCodeAt(0),i[a].v,u,E),i[a].t="t";break;case"n":case"?":for(O=a+1;i[O]!=null&&((o=i[O].t)==="?"||o==="D"||(o===" "||o==="t")&&i[O+1]!=null&&(i[O+1].t==="?"||i[O+1].t==="t"&&i[O+1].v==="/")||i[a].t==="("&&(o===" "||o==="n"||o===")")||o==="t"&&(i[O].v==="/"||i[O].v===" "&&i[O+1]!=null&&i[O+1].t=="?"));)i[a].v+=i[O].v,i[O]={v:"",t:";"},++O;A+=i[a].v,a=O-1;break;case"G":i[a].t="t",i[a].v=nm(e,r);break}var P="",j,S;if(A.length>0){A.charCodeAt(0)==40?(j=e<0&&A.charCodeAt(0)===45?-e:e,S=sd("n",A,j)):(j=e<0&&n>1?-e:e,S=sd("n",A,j),j<0&&i[0]&&i[0].t=="t"&&(S=S.substr(1),i[0].v="-"+i[0].v)),O=S.length-1;var I=i.length;for(a=0;a<i.length;++a)if(i[a]!=null&&i[a].t!="t"&&i[a].v.indexOf(".")>-1){I=a;break}var R=i.length;if(I===i.length&&S.indexOf("E")===-1){for(a=i.length-1;a>=0;--a)i[a]==null||"n?".indexOf(i[a].t)===-1||(O>=i[a].v.length-1?(O-=i[a].v.length,i[a].v=S.substr(O+1,i[a].v.length)):O<0?i[a].v="":(i[a].v=S.substr(0,O+1),O=-1),i[a].t="t",R=a);O>=0&&R<i.length&&(i[R].v=S.substr(0,O+1)+i[R].v)}else if(I!==i.length&&S.indexOf("E")===-1){for(O=S.indexOf(".")-1,a=I;a>=0;--a)if(!(i[a]==null||"n?".indexOf(i[a].t)===-1)){for(d=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")-1:i[a].v.length-1,P=i[a].v.substr(d+1);d>=0;--d)O>=0&&(i[a].v.charAt(d)==="0"||i[a].v.charAt(d)==="#")&&(P=S.charAt(O--)+P);i[a].v=P,i[a].t="t",R=a}for(O>=0&&R<i.length&&(i[R].v=S.substr(0,O+1)+i[R].v),O=S.indexOf(".")+1,a=I;a<i.length;++a)if(!(i[a]==null||"n?(".indexOf(i[a].t)===-1&&a!==I)){for(d=i[a].v.indexOf(".")>-1&&a===I?i[a].v.indexOf(".")+1:0,P=i[a].v.substr(0,d);d<i[a].v.length;++d)O<S.length&&(P+=S.charAt(O++));i[a].v=P,i[a].t="t",R=a}}}for(a=0;a<i.length;++a)i[a]!=null&&"n?".indexOf(i[a].t)>-1&&(j=n>1&&e<0&&a>0&&i[a-1].v==="-"?-e:e,i[a].v=sd(i[a].t,i[a].v,j),i[a].t="t");var D="";for(a=0;a!==i.length;++a)i[a]!=null&&(D+=i[a].v);return D}var NG=/\[(=|>[=]?|<[>=]?)(-?\d+(?:\.\d*)?)\]/;function IG(t,e){if(e==null)return!1;var r=parseFloat(e[2]);switch(e[1]){case"=":if(t==r)return!0;break;case">":if(t>r)return!0;break;case"<":if(t<r)return!0;break;case"<>":if(t!=r)return!0;break;case">=":if(t>=r)return!0;break;case"<=":if(t<=r)return!0;break}return!1}function B$e(t,e){var r=L$e(t),n=r.length,i=r[n-1].indexOf("@");if(n<4&&i>-1&&--n,r.length>4)throw new Error("cannot find right format for |"+r.join("|")+"|");if(typeof e!="number")return[4,r.length===4||i>-1?r[r.length-1]:"@"];switch(r.length){case 1:r=i>-1?["General","General","General",r[0]]:[r[0],r[0],r[0],"@"];break;case 2:r=i>-1?[r[0],r[0],r[0],r[1]]:[r[0],r[1],r[0],"@"];break;case 3:r=i>-1?[r[0],r[1],r[0],r[2]]:[r[0],r[1],r[2],"@"];break}var s=e>0?r[0]:e<0?r[1]:r[2];if(r[0].indexOf("[")===-1&&r[1].indexOf("[")===-1)return[n,s];if(r[0].match(/\[[=<>]/)!=null||r[1].match(/\[[=<>]/)!=null){var a=r[0].match(NG),o=r[1].match(NG);return IG(e,a)?[n,r[0]]:IG(e,o)?[n,r[1]]:[n,r[a!=null&&o!=null?2:1]]}return[n,s]}function Pl(t,e,r){r==null&&(r={});var n="";switch(typeof t){case"string":t=="m/d/yy"&&r.dateNF?n=r.dateNF:n=t;break;case"number":t==14&&r.dateNF?n=r.dateNF:n=(r.table!=null?r.table:Dt)[t],n==null&&(n=r.table&&r.table[kG[t]]||Dt[kG[t]]),n==null&&(n=w$e[t]||"General");break}if(VT(n,0))return nm(e,r);e instanceof Date&&(e=Roe(e,r.date1904));var i=B$e(n,e);if(VT(i[1]))return nm(e,r);if(e===!0)e="TRUE";else if(e===!1)e="FALSE";else if(e===""||e==null)return"";return F$e(i[1],e,r,i[0])}function ad(t,e){if(typeof e!="number"){e=+e||-1;for(var r=0;r<392;++r){if(Dt[r]==null){e<0&&(e=r);continue}if(Dt[r]==t){e=r;break}}e<0&&(e=391)}return Dt[e]=t,e}function sk(t){for(var e=0;e!=392;++e)t[e]!==void 0&&ad(t[e],e)}function jv(){Dt=b$e()}var V$e={5:'"$"#,##0_);\\("$"#,##0\\)',6:'"$"#,##0_);[Red]\\("$"#,##0\\)',7:'"$"#,##0.00_);\\("$"#,##0.00\\)',8:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',23:"General",24:"General",25:"General",26:"General",27:"m/d/yy",28:"m/d/yy",29:"m/d/yy",30:"m/d/yy",31:"m/d/yy",32:"h:mm:ss",33:"h:mm:ss",34:"h:mm:ss",35:"h:mm:ss",36:"m/d/yy",41:'_(* #,##0_);_(* (#,##0);_(* "-"_);_(@_)',42:'_("$"* #,##0_);_("$"* (#,##0);_("$"* "-"_);_(@_)',43:'_(* #,##0.00_);_(* (#,##0.00);_(* "-"??_);_(@_)',44:'_("$"* #,##0.00_);_("$"* (#,##0.00);_("$"* "-"??_);_(@_)',50:"m/d/yy",51:"m/d/yy",52:"m/d/yy",53:"m/d/yy",54:"m/d/yy",55:"m/d/yy",56:"m/d/yy",57:"m/d/yy",58:"m/d/yy",59:"0",60:"0.00",61:"#,##0",62:"#,##0.00",63:'"$"#,##0_);\\("$"#,##0\\)',64:'"$"#,##0_);[Red]\\("$"#,##0\\)',65:'"$"#,##0.00_);\\("$"#,##0.00\\)',66:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',67:"0%",68:"0.00%",69:"# ?/?",70:"# ??/??",71:"m/d/yy",72:"m/d/yy",73:"d-mmm-yy",74:"d-mmm",75:"mmm-yy",76:"h:mm",77:"h:mm:ss",78:"m/d/yy h:mm",79:"mm:ss",80:"[h]:mm:ss",81:"mmss.0"},Uoe=/[dD]+|[mM]+|[yYeE]+|[Hh]+|[Ss]+/g;function U$e(t){var e=typeof t=="number"?Dt[t]:t;return e=e.replace(Uoe,"(\\d+)"),new RegExp("^"+e+"$")}function z$e(t,e,r){var n=-1,i=-1,s=-1,a=-1,o=-1,l=-1;(e.match(Uoe)||[]).forEach(function(f,g){var v=parseInt(r[g+1],10);switch(f.toLowerCase().charAt(0)){case"y":n=v;break;case"d":s=v;break;case"h":a=v;break;case"s":l=v;break;case"m":a>=0?o=v:i=v;break}}),l>=0&&o==-1&&i>=0&&(o=i,i=-1);var u=(""+(n>=0?n:new Date().getFullYear())).slice(-4)+"-"+("00"+(i>=1?i:1)).slice(-2)+"-"+("00"+(s>=1?s:1)).slice(-2);u.length==7&&(u="0"+u),u.length==8&&(u="20"+u);var d=("00"+(a>=0?a:0)).slice(-2)+":"+("00"+(o>=0?o:0)).slice(-2)+":"+("00"+(l>=0?l:0)).slice(-2);return a==-1&&o==-1&&l==-1?u:n==-1&&i==-1&&s==-1?d:u+"T"+d}var $$e=(function(){var t={};t.version="1.2.0";function e(){for(var S=0,I=new Array(256),R=0;R!=256;++R)S=R,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,S=S&1?-306674912^S>>>1:S>>>1,I[R]=S;return typeof Int32Array<"u"?new Int32Array(I):I}var r=e();function n(S){var I=0,R=0,D=0,M=typeof Int32Array<"u"?new Int32Array(4096):new Array(4096);for(D=0;D!=256;++D)M[D]=S[D];for(D=0;D!=256;++D)for(R=S[D],I=256+D;I<4096;I+=256)R=M[I]=R>>>8^S[R&255];var L=[];for(D=1;D!=16;++D)L[D-1]=typeof Int32Array<"u"?M.subarray(D*256,D*256+256):M.slice(D*256,D*256+256);return L}var i=n(r),s=i[0],a=i[1],o=i[2],l=i[3],u=i[4],d=i[5],f=i[6],g=i[7],v=i[8],x=i[9],b=i[10],w=i[11],E=i[12],k=i[13],A=i[14];function O(S,I){for(var R=I^-1,D=0,M=S.length;D<M;)R=R>>>8^r[(R^S.charCodeAt(D++))&255];return~R}function P(S,I){for(var R=I^-1,D=S.length-15,M=0;M<D;)R=A[S[M++]^R&255]^k[S[M++]^R>>8&255]^E[S[M++]^R>>16&255]^w[S[M++]^R>>>24]^b[S[M++]]^x[S[M++]]^v[S[M++]]^g[S[M++]]^f[S[M++]]^d[S[M++]]^u[S[M++]]^l[S[M++]]^o[S[M++]]^a[S[M++]]^s[S[M++]]^r[S[M++]];for(D+=15;M<D;)R=R>>>8^r[(R^S[M++])&255];return~R}function j(S,I){for(var R=I^-1,D=0,M=S.length,L=0,U=0;D<M;)L=S.charCodeAt(D++),L<128?R=R>>>8^r[(R^L)&255]:L<2048?(R=R>>>8^r[(R^(192|L>>6&31))&255],R=R>>>8^r[(R^(128|L&63))&255]):L>=55296&&L<57344?(L=(L&1023)+64,U=S.charCodeAt(D++)&1023,R=R>>>8^r[(R^(240|L>>8&7))&255],R=R>>>8^r[(R^(128|L>>2&63))&255],R=R>>>8^r[(R^(128|U>>6&15|(L&3)<<4))&255],R=R>>>8^r[(R^(128|U&63))&255]):(R=R>>>8^r[(R^(224|L>>12&15))&255],R=R>>>8^r[(R^(128|L>>6&63))&255],R=R>>>8^r[(R^(128|L&63))&255]);return~R}return t.table=r,t.bstr=O,t.buf=P,t.str=j,t})(),Nt=(function(){var e={};e.version="1.2.1";function r(K,ae){for(var ee=K.split("/"),ne=ae.split("/"),ie=0,oe=0,we=Math.min(ee.length,ne.length);ie<we;++ie){if(oe=ee[ie].length-ne[ie].length)return oe;if(ee[ie]!=ne[ie])return ee[ie]<ne[ie]?-1:1}return ee.length-ne.length}function n(K){if(K.charAt(K.length-1)=="/")return K.slice(0,-1).indexOf("/")===-1?K:n(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(0,ae+1)}function i(K){if(K.charAt(K.length-1)=="/")return i(K.slice(0,-1));var ae=K.lastIndexOf("/");return ae===-1?K:K.slice(ae+1)}function s(K,ae){typeof ae=="string"&&(ae=new Date(ae));var ee=ae.getHours();ee=ee<<6|ae.getMinutes(),ee=ee<<5|ae.getSeconds()>>>1,K.write_shift(2,ee);var ne=ae.getFullYear()-1980;ne=ne<<4|ae.getMonth()+1,ne=ne<<5|ae.getDate(),K.write_shift(2,ne)}function a(K){var ae=K.read_shift(2)&65535,ee=K.read_shift(2)&65535,ne=new Date,ie=ee&31;ee>>>=5;var oe=ee&15;ee>>>=4,ne.setMilliseconds(0),ne.setFullYear(ee+1980),ne.setMonth(oe-1),ne.setDate(ie);var we=ae&31;ae>>>=5;var Me=ae&63;return ae>>>=6,ne.setHours(ae),ne.setMinutes(Me),ne.setSeconds(we<<1),ne}function o(K){na(K,0);for(var ae={},ee=0;K.l<=K.length-4;){var ne=K.read_shift(2),ie=K.read_shift(2),oe=K.l+ie,we={};switch(ne){case 21589:ee=K.read_shift(1),ee&1&&(we.mtime=K.read_shift(4)),ie>5&&(ee&2&&(we.atime=K.read_shift(4)),ee&4&&(we.ctime=K.read_shift(4))),we.mtime&&(we.mt=new Date(we.mtime*1e3));break}K.l=oe,ae[ne]=we}return ae}var l;function u(){return l||(l={})}function d(K,ae){if(K[0]==80&&K[1]==75)return gi(K,ae);if((K[0]|32)==109&&(K[1]|32)==105)return Zr(K,ae);if(K.length<512)throw new Error("CFB file size "+K.length+" < 512");var ee=3,ne=512,ie=0,oe=0,we=0,Me=0,be=0,Te=[],_e=K.slice(0,512);na(_e,0);var We=f(_e);switch(ee=We[0],ee){case 3:ne=512;break;case 4:ne=4096;break;case 0:if(We[1]==0)return gi(K,ae);default:throw new Error("Major Version: Expected 3 or 4 saw "+ee)}ne!==512&&(_e=K.slice(0,ne),na(_e,28));var Xe=K.slice(0,ne);g(_e,ee);var lt=_e.read_shift(4,"i");if(ee===3&&lt!==0)throw new Error("# Directory Sectors: Expected 0 saw "+lt);_e.l+=4,we=_e.read_shift(4,"i"),_e.l+=4,_e.chk("00100000","Mini Stream Cutoff Size: "),Me=_e.read_shift(4,"i"),ie=_e.read_shift(4,"i"),be=_e.read_shift(4,"i"),oe=_e.read_shift(4,"i");for(var qe=-1,et=0;et<109&&(qe=_e.read_shift(4,"i"),!(qe<0));++et)Te[et]=qe;var pt=v(K,ne);w(be,oe,pt,ne,Te);var Lr=k(pt,we,Te,ne);Lr[we].name="!Directory",ie>0&&Me!==U&&(Lr[Me].name="!MiniFAT"),Lr[Te[0]].name="!FAT",Lr.fat_addrs=Te,Lr.ssz=ne;var Fr={},tn=[],Ts=[],Da=[];A(we,Lr,pt,tn,ie,Fr,Ts,Me),x(Ts,Da,tn),tn.shift();var Ss={FileIndex:Ts,FullPaths:Da};return ae&&ae.raw&&(Ss.raw={header:Xe,sectors:pt}),Ss}function f(K){if(K[K.l]==80&&K[K.l+1]==75)return[0,0];K.chk(le,"Header Signature: "),K.l+=16;var ae=K.read_shift(2,"u");return[K.read_shift(2,"u"),ae]}function g(K,ae){var ee=9;switch(K.l+=2,ee=K.read_shift(2)){case 9:if(ae!=3)throw new Error("Sector Shift: Expected 9 saw "+ee);break;case 12:if(ae!=4)throw new Error("Sector Shift: Expected 12 saw "+ee);break;default:throw new Error("Sector Shift: Expected 9 or 12 saw "+ee)}K.chk("0600","Mini Sector Shift: "),K.chk("000000000000","Reserved: ")}function v(K,ae){for(var ee=Math.ceil(K.length/ae)-1,ne=[],ie=1;ie<ee;++ie)ne[ie-1]=K.slice(ie*ae,(ie+1)*ae);return ne[ee-1]=K.slice(ee*ae),ne}function x(K,ae,ee){for(var ne=0,ie=0,oe=0,we=0,Me=0,be=ee.length,Te=[],_e=[];ne<be;++ne)Te[ne]=_e[ne]=ne,ae[ne]=ee[ne];for(;Me<_e.length;++Me)ne=_e[Me],ie=K[ne].L,oe=K[ne].R,we=K[ne].C,Te[ne]===ne&&(ie!==-1&&Te[ie]!==ie&&(Te[ne]=Te[ie]),oe!==-1&&Te[oe]!==oe&&(Te[ne]=Te[oe])),we!==-1&&(Te[we]=ne),ie!==-1&&ne!=Te[ne]&&(Te[ie]=Te[ne],_e.lastIndexOf(ie)<Me&&_e.push(ie)),oe!==-1&&ne!=Te[ne]&&(Te[oe]=Te[ne],_e.lastIndexOf(oe)<Me&&_e.push(oe));for(ne=1;ne<be;++ne)Te[ne]===ne&&(oe!==-1&&Te[oe]!==oe?Te[ne]=Te[oe]:ie!==-1&&Te[ie]!==ie&&(Te[ne]=Te[ie]));for(ne=1;ne<be;++ne)if(K[ne].type!==0){if(Me=ne,Me!=Te[Me])do Me=Te[Me],ae[ne]=ae[Me]+"/"+ae[ne];while(Me!==0&&Te[Me]!==-1&&Me!=Te[Me]);Te[ne]=-1}for(ae[0]+="/",ne=1;ne<be;++ne)K[ne].type!==2&&(ae[ne]+="/")}function b(K,ae,ee){for(var ne=K.start,ie=K.size,oe=[],we=ne;ee&&ie>0&&we>=0;)oe.push(ae.slice(we*L,we*L+L)),ie-=L,we=h0(ee,we*4);return oe.length===0?Le(0):Fs(oe).slice(0,K.size)}function w(K,ae,ee,ne,ie){var oe=U;if(K===U){if(ae!==0)throw new Error("DIFAT chain shorter than expected")}else if(K!==-1){var we=ee[K],Me=(ne>>>2)-1;if(!we)return;for(var be=0;be<Me&&(oe=h0(we,be*4))!==U;++be)ie.push(oe);w(h0(we,ne-4),ae-1,ee,ne,ie)}}function E(K,ae,ee,ne,ie){var oe=[],we=[];ie||(ie=[]);var Me=ne-1,be=0,Te=0;for(be=ae;be>=0;){ie[be]=!0,oe[oe.length]=be,we.push(K[be]);var _e=ee[Math.floor(be*4/ne)];if(Te=be*4&Me,ne<4+Te)throw new Error("FAT boundary crossed: "+be+" 4 "+ne);if(!K[_e])break;be=h0(K[_e],Te)}return{nodes:oe,data:zG([we])}}function k(K,ae,ee,ne){var ie=K.length,oe=[],we=[],Me=[],be=[],Te=ne-1,_e=0,We=0,Xe=0,lt=0;for(_e=0;_e<ie;++_e)if(Me=[],Xe=_e+ae,Xe>=ie&&(Xe-=ie),!we[Xe]){be=[];var qe=[];for(We=Xe;We>=0;){qe[We]=!0,we[We]=!0,Me[Me.length]=We,be.push(K[We]);var et=ee[Math.floor(We*4/ne)];if(lt=We*4&Te,ne<4+lt)throw new Error("FAT boundary crossed: "+We+" 4 "+ne);if(!K[et]||(We=h0(K[et],lt),qe[We]))break}oe[Xe]={nodes:Me,data:zG([be])}}return oe}function A(K,ae,ee,ne,ie,oe,we,Me){for(var be=0,Te=ne.length?2:0,_e=ae[K].data,We=0,Xe=0,lt;We<_e.length;We+=128){var qe=_e.slice(We,We+128);na(qe,64),Xe=qe.read_shift(2),lt=gD(qe,0,Xe-Te),ne.push(lt);var et={name:lt,type:qe.read_shift(1),color:qe.read_shift(1),L:qe.read_shift(4,"i"),R:qe.read_shift(4,"i"),C:qe.read_shift(4,"i"),clsid:qe.read_shift(16),state:qe.read_shift(4,"i"),start:0,size:0},pt=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);pt!==0&&(et.ct=O(qe,qe.l-8));var Lr=qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2)+qe.read_shift(2);Lr!==0&&(et.mt=O(qe,qe.l-8)),et.start=qe.read_shift(4,"i"),et.size=qe.read_shift(4,"i"),et.size<0&&et.start<0&&(et.size=et.type=0,et.start=U,et.name=""),et.type===5?(be=et.start,ie>0&&be!==U&&(ae[be].name="!StreamData")):et.size>=4096?(et.storage="fat",ae[et.start]===void 0&&(ae[et.start]=E(ee,et.start,ae.fat_addrs,ae.ssz)),ae[et.start].name=et.name,et.content=ae[et.start].data.slice(0,et.size)):(et.storage="minifat",et.size<0?et.size=0:be!==U&&et.start!==U&&ae[be]&&(et.content=b(et,ae[be].data,(ae[Me]||{}).data))),et.content&&na(et.content,0),oe[lt]=et,we.push(et)}}function O(K,ae){return new Date((jo(K,ae+4)/1e7*Math.pow(2,32)+jo(K,ae)/1e7-11644473600)*1e3)}function P(K,ae){return u(),d(l.readFileSync(K),ae)}function j(K,ae){var ee=ae&&ae.type;switch(ee||lr&&Buffer.isBuffer(K)&&(ee="buffer"),ee||"base64"){case"file":return P(K,ae);case"base64":return d(Bo(Xo(K)),ae);case"binary":return d(Bo(K),ae)}return d(K,ae)}function S(K,ae){var ee=ae||{},ne=ee.root||"Root Entry";if(K.FullPaths||(K.FullPaths=[]),K.FileIndex||(K.FileIndex=[]),K.FullPaths.length!==K.FileIndex.length)throw new Error("inconsistent CFB structure");K.FullPaths.length===0&&(K.FullPaths[0]=ne+"/",K.FileIndex[0]={name:ne,type:5}),ee.CLSID&&(K.FileIndex[0].clsid=ee.CLSID),I(K)}function I(K){var ae="Sh33tJ5";if(!Nt.find(K,"/"+ae)){var ee=Le(4);ee[0]=55,ee[1]=ee[3]=50,ee[2]=54,K.FileIndex.push({name:ae,type:2,content:ee,size:4,L:69,R:69,C:69}),K.FullPaths.push(K.FullPaths[0]+ae),R(K)}}function R(K,ae){S(K);for(var ee=!1,ne=!1,ie=K.FullPaths.length-1;ie>=0;--ie){var oe=K.FileIndex[ie];switch(oe.type){case 0:ne?ee=!0:(K.FileIndex.pop(),K.FullPaths.pop());break;case 1:case 2:case 5:ne=!0,isNaN(oe.R*oe.L*oe.C)&&(ee=!0),oe.R>-1&&oe.L>-1&&oe.R==oe.L&&(ee=!0);break;default:ee=!0;break}}if(!(!ee&&!ae)){var we=new Date(1987,1,19),Me=0,be=Object.create?Object.create(null):{},Te=[];for(ie=0;ie<K.FullPaths.length;++ie)be[K.FullPaths[ie]]=!0,K.FileIndex[ie].type!==0&&Te.push([K.FullPaths[ie],K.FileIndex[ie]]);for(ie=0;ie<Te.length;++ie){var _e=n(Te[ie][0]);ne=be[_e],ne||(Te.push([_e,{name:i(_e).replace("/",""),type:1,clsid:J,ct:we,mt:we,content:null}]),be[_e]=!0)}for(Te.sort(function(lt,qe){return r(lt[0],qe[0])}),K.FullPaths=[],K.FileIndex=[],ie=0;ie<Te.length;++ie)K.FullPaths[ie]=Te[ie][0],K.FileIndex[ie]=Te[ie][1];for(ie=0;ie<Te.length;++ie){var We=K.FileIndex[ie],Xe=K.FullPaths[ie];if(We.name=i(Xe).replace("/",""),We.L=We.R=We.C=-(We.color=1),We.size=We.content?We.content.length:0,We.start=0,We.clsid=We.clsid||J,ie===0)We.C=Te.length>1?1:-1,We.size=0,We.type=5;else if(Xe.slice(-1)=="/"){for(Me=ie+1;Me<Te.length&&n(K.FullPaths[Me])!=Xe;++Me);for(We.C=Me>=Te.length?-1:Me,Me=ie+1;Me<Te.length&&n(K.FullPaths[Me])!=n(Xe);++Me);We.R=Me>=Te.length?-1:Me,We.type=1}else n(K.FullPaths[ie+1]||"")==n(Xe)&&(We.R=ie+1),We.type=2}}}function D(K,ae){var ee=ae||{};if(ee.fileType=="mad")return $i(K,ee);switch(R(K),ee.fileType){case"zip":return Jr(K,ee)}var ne=(function(lt){for(var qe=0,et=0,pt=0;pt<lt.FileIndex.length;++pt){var Lr=lt.FileIndex[pt];if(Lr.content){var Fr=Lr.content.length;Fr>0&&(Fr<4096?qe+=Fr+63>>6:et+=Fr+511>>9)}}for(var tn=lt.FullPaths.length+3>>2,Ts=qe+7>>3,Da=qe+127>>7,Ss=Ts+et+tn+Da,Ni=Ss+127>>7,Qa=Ni<=109?0:Math.ceil((Ni-109)/127);Ss+Ni+Qa+127>>7>Ni;)Qa=++Ni<=109?0:Math.ceil((Ni-109)/127);var yi=[1,Qa,Ni,Da,tn,et,qe,0];return lt.FileIndex[0].size=qe<<6,yi[7]=(lt.FileIndex[0].start=yi[0]+yi[1]+yi[2]+yi[3]+yi[4]+yi[5])+(yi[6]+7>>3),yi})(K),ie=Le(ne[7]<<9),oe=0,we=0;{for(oe=0;oe<8;++oe)ie.write_shift(1,ue[oe]);for(oe=0;oe<8;++oe)ie.write_shift(2,0);for(ie.write_shift(2,62),ie.write_shift(2,3),ie.write_shift(2,65534),ie.write_shift(2,9),ie.write_shift(2,6),oe=0;oe<3;++oe)ie.write_shift(2,0);for(ie.write_shift(4,0),ie.write_shift(4,ne[2]),ie.write_shift(4,ne[0]+ne[1]+ne[2]+ne[3]-1),ie.write_shift(4,0),ie.write_shift(4,4096),ie.write_shift(4,ne[3]?ne[0]+ne[1]+ne[2]-1:U),ie.write_shift(4,ne[3]),ie.write_shift(-4,ne[1]?ne[0]-1:U),ie.write_shift(4,ne[1]),oe=0;oe<109;++oe)ie.write_shift(-4,oe<ne[2]?ne[1]+oe:-1)}if(ne[1])for(we=0;we<ne[1];++we){for(;oe<236+we*127;++oe)ie.write_shift(-4,oe<ne[2]?ne[1]+oe:-1);ie.write_shift(-4,we===ne[1]-1?U:we+1)}var Me=function(lt){for(we+=lt;oe<we-1;++oe)ie.write_shift(-4,oe+1);lt&&(++oe,ie.write_shift(-4,U))};for(we=oe=0,we+=ne[1];oe<we;++oe)ie.write_shift(-4,Q.DIFSECT);for(we+=ne[2];oe<we;++oe)ie.write_shift(-4,Q.FATSECT);Me(ne[3]),Me(ne[4]);for(var be=0,Te=0,_e=K.FileIndex[0];be<K.FileIndex.length;++be)_e=K.FileIndex[be],_e.content&&(Te=_e.content.length,!(Te<4096)&&(_e.start=we,Me(Te+511>>9)));for(Me(ne[6]+7>>3);ie.l&511;)ie.write_shift(-4,Q.ENDOFCHAIN);for(we=oe=0,be=0;be<K.FileIndex.length;++be)_e=K.FileIndex[be],_e.content&&(Te=_e.content.length,!(!Te||Te>=4096)&&(_e.start=we,Me(Te+63>>6)));for(;ie.l&511;)ie.write_shift(-4,Q.ENDOFCHAIN);for(oe=0;oe<ne[4]<<2;++oe){var We=K.FullPaths[oe];if(!We||We.length===0){for(be=0;be<17;++be)ie.write_shift(4,0);for(be=0;be<3;++be)ie.write_shift(4,-1);for(be=0;be<12;++be)ie.write_shift(4,0);continue}_e=K.FileIndex[oe],oe===0&&(_e.start=_e.size?_e.start-1:U);var Xe=oe===0&&ee.root||_e.name;if(Te=2*(Xe.length+1),ie.write_shift(64,Xe,"utf16le"),ie.write_shift(2,Te),ie.write_shift(1,_e.type),ie.write_shift(1,_e.color),ie.write_shift(-4,_e.L),ie.write_shift(-4,_e.R),ie.write_shift(-4,_e.C),_e.clsid)ie.write_shift(16,_e.clsid,"hex");else for(be=0;be<4;++be)ie.write_shift(4,0);ie.write_shift(4,_e.state||0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,0),ie.write_shift(4,_e.start),ie.write_shift(4,_e.size),ie.write_shift(4,0)}for(oe=1;oe<K.FileIndex.length;++oe)if(_e=K.FileIndex[oe],_e.size>=4096)if(ie.l=_e.start+1<<9,lr&&Buffer.isBuffer(_e.content))_e.content.copy(ie,ie.l,0,_e.size),ie.l+=_e.size+511&-512;else{for(be=0;be<_e.size;++be)ie.write_shift(1,_e.content[be]);for(;be&511;++be)ie.write_shift(1,0)}for(oe=1;oe<K.FileIndex.length;++oe)if(_e=K.FileIndex[oe],_e.size>0&&_e.size<4096)if(lr&&Buffer.isBuffer(_e.content))_e.content.copy(ie,ie.l,0,_e.size),ie.l+=_e.size+63&-64;else{for(be=0;be<_e.size;++be)ie.write_shift(1,_e.content[be]);for(;be&63;++be)ie.write_shift(1,0)}if(lr)ie.l=ie.length;else for(;ie.l<ie.length;)ie.write_shift(1,0);return ie}function M(K,ae){var ee=K.FullPaths.map(function(be){return be.toUpperCase()}),ne=ee.map(function(be){var Te=be.split("/");return Te[Te.length-(be.slice(-1)=="/"?2:1)]}),ie=!1;ae.charCodeAt(0)===47?(ie=!0,ae=ee[0].slice(0,-1)+ae):ie=ae.indexOf("/")!==-1;var oe=ae.toUpperCase(),we=ie===!0?ee.indexOf(oe):ne.indexOf(oe);if(we!==-1)return K.FileIndex[we];var Me=!oe.match(n1);for(oe=oe.replace(qa,""),Me&&(oe=oe.replace(n1,"!")),we=0;we<ee.length;++we)if((Me?ee[we].replace(n1,"!"):ee[we]).replace(qa,"")==oe||(Me?ne[we].replace(n1,"!"):ne[we]).replace(qa,"")==oe)return K.FileIndex[we];return null}var L=64,U=-2,le="d0cf11e0a1b11ae1",ue=[208,207,17,224,161,177,26,225],J="00000000000000000000000000000000",Q={MAXREGSECT:-6,DIFSECT:-4,FATSECT:-3,ENDOFCHAIN:U,FREESECT:-1,HEADER_SIGNATURE:le,HEADER_MINOR_VERSION:"3e00",MAXREGSID:-6,NOSTREAM:-1,HEADER_CLSID:J,EntryTypes:["unknown","storage","stream","lockbytes","property","root"]};function he(K,ae,ee){u();var ne=D(K,ee);l.writeFileSync(ae,ne)}function Z(K){for(var ae=new Array(K.length),ee=0;ee<K.length;++ee)ae[ee]=String.fromCharCode(K[ee]);return ae.join("")}function ge(K,ae){var ee=D(K,ae);switch(ae&&ae.type||"buffer"){case"file":return u(),l.writeFileSync(ae.filename,ee),ee;case"binary":return typeof ee=="string"?ee:Z(ee);case"base64":return Tx(typeof ee=="string"?ee:Z(ee));case"buffer":if(lr)return Buffer.isBuffer(ee)?ee:Dd(ee);case"array":return typeof ee=="string"?Bo(ee):ee}return ee}var H;function B(K){try{var ae=K.InflateRaw,ee=new ae;if(ee._processChunk(new Uint8Array([3,0]),ee._finishFlushFlag),ee.bytesRead)H=K;else throw new Error("zlib does not expose bytesRead")}catch(ne){console.error("cannot use native zlib: "+(ne.message||ne))}}function q(K,ae){if(!H)return da(K,ae);var ee=H.InflateRaw,ne=new ee,ie=ne._processChunk(K.slice(K.l),ne._finishFlushFlag);return K.l+=ne.bytesRead,ie}function W(K){return H?H.deflateRawSync(K):nt(K)}var Y=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],de=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258],me=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577];function ce(K){var ae=(K<<1|K<<11)&139536|(K<<5|K<<15)&558144;return(ae>>16|ae>>8|ae)&255}for(var se=typeof Uint8Array<"u",ve=se?new Uint8Array(256):[],Ve=0;Ve<256;++Ve)ve[Ve]=ce(Ve);function G(K,ae){var ee=ve[K&255];return ae<=8?ee>>>8-ae:(ee=ee<<8|ve[K>>8&255],ae<=16?ee>>>16-ae:(ee=ee<<8|ve[K>>16&255],ee>>>24-ae))}function Ze(K,ae){var ee=ae&7,ne=ae>>>3;return(K[ne]|(ee<=6?0:K[ne+1]<<8))>>>ee&3}function Ie(K,ae){var ee=ae&7,ne=ae>>>3;return(K[ne]|(ee<=5?0:K[ne+1]<<8))>>>ee&7}function tt(K,ae){var ee=ae&7,ne=ae>>>3;return(K[ne]|(ee<=4?0:K[ne+1]<<8))>>>ee&15}function Qe(K,ae){var ee=ae&7,ne=ae>>>3;return(K[ne]|(ee<=3?0:K[ne+1]<<8))>>>ee&31}function je(K,ae){var ee=ae&7,ne=ae>>>3;return(K[ne]|(ee<=1?0:K[ne+1]<<8))>>>ee&127}function rt(K,ae,ee){var ne=ae&7,ie=ae>>>3,oe=(1<<ee)-1,we=K[ie]>>>ne;return ee<8-ne||(we|=K[ie+1]<<8-ne,ee<16-ne)||(we|=K[ie+2]<<16-ne,ee<24-ne)||(we|=K[ie+3]<<24-ne),we&oe}function vt(K,ae,ee){var ne=ae&7,ie=ae>>>3;return ne<=5?K[ie]|=(ee&7)<<ne:(K[ie]|=ee<<ne&255,K[ie+1]=(ee&7)>>8-ne),ae+3}function It(K,ae,ee){var ne=ae&7,ie=ae>>>3;return ee=(ee&1)<<ne,K[ie]|=ee,ae+1}function Xr(K,ae,ee){var ne=ae&7,ie=ae>>>3;return ee<<=ne,K[ie]|=ee&255,ee>>>=8,K[ie+1]=ee,ae+8}function qr(K,ae,ee){var ne=ae&7,ie=ae>>>3;return ee<<=ne,K[ie]|=ee&255,ee>>>=8,K[ie+1]=ee&255,K[ie+2]=ee>>>8,ae+16}function Mr(K,ae){var ee=K.length,ne=2*ee>ae?2*ee:ae+5,ie=0;if(ee>=ae)return K;if(lr){var oe=EG(ne);if(K.copy)K.copy(oe);else for(;ie<K.length;++ie)oe[ie]=K[ie];return oe}else if(se){var we=new Uint8Array(ne);if(we.set)we.set(K);else for(;ie<ee;++ie)we[ie]=K[ie];return we}return K.length=ne,K}function Wt(K){for(var ae=new Array(K),ee=0;ee<K;++ee)ae[ee]=0;return ae}function Tr(K,ae,ee){var ne=1,ie=0,oe=0,we=0,Me=0,be=K.length,Te=se?new Uint16Array(32):Wt(32);for(oe=0;oe<32;++oe)Te[oe]=0;for(oe=be;oe<ee;++oe)K[oe]=0;be=K.length;var _e=se?new Uint16Array(be):Wt(be);for(oe=0;oe<be;++oe)Te[ie=K[oe]]++,ne<ie&&(ne=ie),_e[oe]=0;for(Te[0]=0,oe=1;oe<=ne;++oe)Te[oe+16]=Me=Me+Te[oe-1]<<1;for(oe=0;oe<be;++oe)Me=K[oe],Me!=0&&(_e[oe]=Te[Me+16]++);var We=0;for(oe=0;oe<be;++oe)if(We=K[oe],We!=0)for(Me=G(_e[oe],ne)>>ne-We,we=(1<<ne+4-We)-1;we>=0;--we)ae[Me|we<<We]=We&15|oe<<4;return ne}var Sn=se?new Uint16Array(512):Wt(512),pi=se?new Uint16Array(32):Wt(32);if(!se){for(var xe=0;xe<512;++xe)Sn[xe]=0;for(xe=0;xe<32;++xe)pi[xe]=0}(function(){for(var K=[],ae=0;ae<32;ae++)K.push(5);Tr(K,pi,32);var ee=[];for(ae=0;ae<=143;ae++)ee.push(8);for(;ae<=255;ae++)ee.push(9);for(;ae<=279;ae++)ee.push(7);for(;ae<=287;ae++)ee.push(8);Tr(ee,Sn,288)})();var Ke=(function(){for(var ae=se?new Uint8Array(32768):[],ee=0,ne=0;ee<me.length-1;++ee)for(;ne<me[ee+1];++ne)ae[ne]=ee;for(;ne<32768;++ne)ae[ne]=29;var ie=se?new Uint8Array(259):[];for(ee=0,ne=0;ee<de.length-1;++ee)for(;ne<de[ee+1];++ne)ie[ne]=ee;function oe(Me,be){for(var Te=0;Te<Me.length;){var _e=Math.min(65535,Me.length-Te),We=Te+_e==Me.length;for(be.write_shift(1,+We),be.write_shift(2,_e),be.write_shift(2,~_e&65535);_e-- >0;)be[be.l++]=Me[Te++]}return be.l}function we(Me,be){for(var Te=0,_e=0,We=se?new Uint16Array(32768):[];_e<Me.length;){var Xe=Math.min(65535,Me.length-_e);if(Xe<10){for(Te=vt(be,Te,+(_e+Xe==Me.length)),Te&7&&(Te+=8-(Te&7)),be.l=Te/8|0,be.write_shift(2,Xe),be.write_shift(2,~Xe&65535);Xe-- >0;)be[be.l++]=Me[_e++];Te=be.l*8;continue}Te=vt(be,Te,+(_e+Xe==Me.length)+2);for(var lt=0;Xe-- >0;){var qe=Me[_e];lt=(lt<<5^qe)&32767;var et=-1,pt=0;if((et=We[lt])&&(et|=_e&-32768,et>_e&&(et-=32768),et<_e))for(;Me[et+pt]==Me[_e+pt]&&pt<250;)++pt;if(pt>2){qe=ie[pt],qe<=22?Te=Xr(be,Te,ve[qe+1]>>1)-1:(Xr(be,Te,3),Te+=5,Xr(be,Te,ve[qe-23]>>5),Te+=3);var Lr=qe<8?0:qe-4>>2;Lr>0&&(qr(be,Te,pt-de[qe]),Te+=Lr),qe=ae[_e-et],Te=Xr(be,Te,ve[qe]>>3),Te-=3;var Fr=qe<4?0:qe-2>>1;Fr>0&&(qr(be,Te,_e-et-me[qe]),Te+=Fr);for(var tn=0;tn<pt;++tn)We[lt]=_e&32767,lt=(lt<<5^Me[_e])&32767,++_e;Xe-=pt-1}else qe<=143?qe=qe+48:Te=It(be,Te,1),Te=Xr(be,Te,ve[qe]),We[lt]=_e&32767,++_e}Te=Xr(be,Te,0)-1}return be.l=(Te+7)/8|0,be.l}return function(be,Te){return be.length<8?oe(be,Te):we(be,Te)}})();function nt(K){var ae=Le(50+Math.floor(K.length*1.1)),ee=Ke(K,ae);return ae.slice(0,ee)}var Pt=se?new Uint16Array(32768):Wt(32768),Gt=se?new Uint16Array(32768):Wt(32768),rr=se?new Uint16Array(128):Wt(128),br=1,Ui=1;function Qr(K,ae){var ee=Qe(K,ae)+257;ae+=5;var ne=Qe(K,ae)+1;ae+=5;var ie=tt(K,ae)+4;ae+=4;for(var oe=0,we=se?new Uint8Array(19):Wt(19),Me=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],be=1,Te=se?new Uint8Array(8):Wt(8),_e=se?new Uint8Array(8):Wt(8),We=we.length,Xe=0;Xe<ie;++Xe)we[Y[Xe]]=oe=Ie(K,ae),be<oe&&(be=oe),Te[oe]++,ae+=3;var lt=0;for(Te[0]=0,Xe=1;Xe<=be;++Xe)_e[Xe]=lt=lt+Te[Xe-1]<<1;for(Xe=0;Xe<We;++Xe)(lt=we[Xe])!=0&&(Me[Xe]=_e[lt]++);var qe=0;for(Xe=0;Xe<We;++Xe)if(qe=we[Xe],qe!=0){lt=ve[Me[Xe]]>>8-qe;for(var et=(1<<7-qe)-1;et>=0;--et)rr[lt|et<<qe]=qe&7|Xe<<3}var pt=[];for(be=1;pt.length<ee+ne;)switch(lt=rr[je(K,ae)],ae+=lt&7,lt>>>=3){case 16:for(oe=3+Ze(K,ae),ae+=2,lt=pt[pt.length-1];oe-- >0;)pt.push(lt);break;case 17:for(oe=3+Ie(K,ae),ae+=3;oe-- >0;)pt.push(0);break;case 18:for(oe=11+je(K,ae),ae+=7;oe-- >0;)pt.push(0);break;default:pt.push(lt),be<lt&&(be=lt);break}var Lr=pt.slice(0,ee),Fr=pt.slice(ee);for(Xe=ee;Xe<286;++Xe)Lr[Xe]=0;for(Xe=ne;Xe<30;++Xe)Fr[Xe]=0;return br=Tr(Lr,Pt,286),Ui=Tr(Fr,Gt,30),ae}function Ll(K,ae){if(K[0]==3&&!(K[1]&3))return[of(ae),2];for(var ee=0,ne=0,ie=EG(ae||1<<18),oe=0,we=ie.length>>>0,Me=0,be=0;(ne&1)==0;){if(ne=Ie(K,ee),ee+=3,ne>>>1)ne>>1==1?(Me=9,be=5):(ee=Qr(K,ee),Me=br,be=Ui);else{ee&7&&(ee+=8-(ee&7));var Te=K[ee>>>3]|K[(ee>>>3)+1]<<8;if(ee+=32,Te>0)for(!ae&&we<oe+Te&&(ie=Mr(ie,oe+Te),we=ie.length);Te-- >0;)ie[oe++]=K[ee>>>3],ee+=8;continue}for(;;){!ae&&we<oe+32767&&(ie=Mr(ie,oe+32767),we=ie.length);var _e=rt(K,ee,Me),We=ne>>>1==1?Sn[_e]:Pt[_e];if(ee+=We&15,We>>>=4,(We>>>8&255)===0)ie[oe++]=We;else{if(We==256)break;We-=257;var Xe=We<8?0:We-4>>2;Xe>5&&(Xe=0);var lt=oe+de[We];Xe>0&&(lt+=rt(K,ee,Xe),ee+=Xe),_e=rt(K,ee,be),We=ne>>>1==1?pi[_e]:Gt[_e],ee+=We&15,We>>>=4;var qe=We<4?0:We-2>>1,et=me[We];for(qe>0&&(et+=rt(K,ee,qe),ee+=qe),!ae&&we<lt&&(ie=Mr(ie,lt+100),we=ie.length);oe<lt;)ie[oe]=ie[oe-et],++oe}}}return ae?[ie,ee+7>>>3]:[ie.slice(0,oe),ee+7>>>3]}function da(K,ae){var ee=K.slice(K.l||0),ne=Ll(ee,ae);return K.l+=ne[1],ne[0]}function us(K,ae){if(K)typeof console<"u"&&console.error(ae);else throw new Error(ae)}function gi(K,ae){var ee=K;na(ee,0);var ne=[],ie=[],oe={FileIndex:ne,FullPaths:ie};S(oe,{root:ae.root});for(var we=ee.length-4;(ee[we]!=80||ee[we+1]!=75||ee[we+2]!=5||ee[we+3]!=6)&&we>=0;)--we;ee.l=we+4,ee.l+=4;var Me=ee.read_shift(2);ee.l+=6;var be=ee.read_shift(4);for(ee.l=be,we=0;we<Me;++we){ee.l+=20;var Te=ee.read_shift(4),_e=ee.read_shift(4),We=ee.read_shift(2),Xe=ee.read_shift(2),lt=ee.read_shift(2);ee.l+=8;var qe=ee.read_shift(4),et=o(ee.slice(ee.l+We,ee.l+We+Xe));ee.l+=We+Xe+lt;var pt=ee.l;ee.l=qe+4,_o(ee,Te,_e,oe,et),ee.l=pt}return oe}function _o(K,ae,ee,ne,ie){K.l+=2;var oe=K.read_shift(2),we=K.read_shift(2),Me=a(K);if(oe&8257)throw new Error("Unsupported ZIP encryption");for(var be=K.read_shift(4),Te=K.read_shift(4),_e=K.read_shift(4),We=K.read_shift(2),Xe=K.read_shift(2),lt="",qe=0;qe<We;++qe)lt+=String.fromCharCode(K[K.l++]);if(Xe){var et=o(K.slice(K.l,K.l+Xe));(et[21589]||{}).mt&&(Me=et[21589].mt),((ie||{})[21589]||{}).mt&&(Me=ie[21589].mt)}K.l+=Xe;var pt=K.slice(K.l,K.l+Te);switch(we){case 8:pt=q(K,_e);break;case 0:break;default:throw new Error("Unsupported ZIP Compression method "+we)}var Lr=!1;oe&8&&(be=K.read_shift(4),be==134695760&&(be=K.read_shift(4),Lr=!0),Te=K.read_shift(4),_e=K.read_shift(4)),Te!=ae&&us(Lr,"Bad compressed size: "+ae+" != "+Te),_e!=ee&&us(Lr,"Bad uncompressed size: "+ee+" != "+_e),en(ne,lt,pt,{unsafe:!0,mt:Me})}function Jr(K,ae){var ee=ae||{},ne=[],ie=[],oe=Le(1),we=ee.compression?8:0,Me=0,be=0,Te=0,_e=0,We=0,Xe=K.FullPaths[0],lt=Xe,qe=K.FileIndex[0],et=[],pt=0;for(be=1;be<K.FullPaths.length;++be)if(lt=K.FullPaths[be].slice(Xe.length),qe=K.FileIndex[be],!(!qe.size||!qe.content||lt=="Sh33tJ5")){var Lr=_e,Fr=Le(lt.length);for(Te=0;Te<lt.length;++Te)Fr.write_shift(1,lt.charCodeAt(Te)&127);Fr=Fr.slice(0,Fr.l),et[We]=$$e.buf(qe.content,0);var tn=qe.content;we==8&&(tn=W(tn)),oe=Le(30),oe.write_shift(4,67324752),oe.write_shift(2,20),oe.write_shift(2,Me),oe.write_shift(2,we),qe.mt?s(oe,qe.mt):oe.write_shift(4,0),oe.write_shift(-4,et[We]),oe.write_shift(4,tn.length),oe.write_shift(4,qe.content.length),oe.write_shift(2,Fr.length),oe.write_shift(2,0),_e+=oe.length,ne.push(oe),_e+=Fr.length,ne.push(Fr),_e+=tn.length,ne.push(tn),oe=Le(46),oe.write_shift(4,33639248),oe.write_shift(2,0),oe.write_shift(2,20),oe.write_shift(2,Me),oe.write_shift(2,we),oe.write_shift(4,0),oe.write_shift(-4,et[We]),oe.write_shift(4,tn.length),oe.write_shift(4,qe.content.length),oe.write_shift(2,Fr.length),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(4,0),oe.write_shift(4,Lr),pt+=oe.l,ie.push(oe),pt+=Fr.length,ie.push(Fr),++We}return oe=Le(22),oe.write_shift(4,101010256),oe.write_shift(2,0),oe.write_shift(2,0),oe.write_shift(2,We),oe.write_shift(2,We),oe.write_shift(4,pt),oe.write_shift(4,_e),oe.write_shift(2,0),Fs([Fs(ne),Fs(ie),oe])}var zi={htm:"text/html",xml:"text/xml",gif:"image/gif",jpg:"image/jpeg",png:"image/png",mso:"application/x-mso",thmx:"application/vnd.ms-officetheme",sh33tj5:"application/octet-stream"};function At(K,ae){if(K.ctype)return K.ctype;var ee=K.name||"",ne=ee.match(/\.([^\.]+)$/);return ne&&zi[ne[1]]||ae&&(ne=(ee=ae).match(/[\.\\]([^\.\\])+$/),ne&&zi[ne[1]])?zi[ne[1]]:"application/octet-stream"}function wr(K){for(var ae=Tx(K),ee=[],ne=0;ne<ae.length;ne+=76)ee.push(ae.slice(ne,ne+76));return ee.join(`\r
`)+`\r
`}function In(K){var ae=K.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF=]/g,function(Te){var _e=Te.charCodeAt(0).toString(16).toUpperCase();return"="+(_e.length==1?"0"+_e:_e)});ae=ae.replace(/ $/mg,"=20").replace(/\t$/mg,"=09"),ae.charAt(0)==`
`&&(ae="=0D"+ae.slice(1)),ae=ae.replace(/\r(?!\n)/mg,"=0D").replace(/\n\n/mg,`
=0A`).replace(/([^\r\n])\n/mg,"$1=0A");for(var ee=[],ne=ae.split(`\r
`),ie=0;ie<ne.length;++ie){var oe=ne[ie];if(oe.length==0){ee.push("");continue}for(var we=0;we<oe.length;){var Me=76,be=oe.slice(we,we+Me);be.charAt(Me-1)=="="?Me--:be.charAt(Me-2)=="="?Me-=2:be.charAt(Me-3)=="="&&(Me-=3),be=oe.slice(we,we+Me),we+=Me,we<oe.length&&(be+="="),ee.push(be)}}return ee.join(`\r
`)}function si(K){for(var ae=[],ee=0;ee<K.length;++ee){for(var ne=K[ee];ee<=K.length&&ne.charAt(ne.length-1)=="=";)ne=ne.slice(0,ne.length-1)+K[++ee];ae.push(ne)}for(var ie=0;ie<ae.length;++ie)ae[ie]=ae[ie].replace(/[=][0-9A-Fa-f]{2}/g,function(oe){return String.fromCharCode(parseInt(oe.slice(1),16))});return Bo(ae.join(`\r
`))}function ai(K,ae,ee){for(var ne="",ie="",oe="",we,Me=0;Me<10;++Me){var be=ae[Me];if(!be||be.match(/^\s*$/))break;var Te=be.match(/^(.*?):\s*([^\s].*)$/);if(Te)switch(Te[1].toLowerCase()){case"content-location":ne=Te[2].trim();break;case"content-type":oe=Te[2].trim();break;case"content-transfer-encoding":ie=Te[2].trim();break}}switch(++Me,ie.toLowerCase()){case"base64":we=Bo(Xo(ae.slice(Me).join("")));break;case"quoted-printable":we=si(ae.slice(Me));break;default:throw new Error("Unsupported Content-Transfer-Encoding "+ie)}var _e=en(K,ne.slice(ee.length),we,{unsafe:!0});oe&&(_e.ctype=oe)}function Zr(K,ae){if(Z(K.slice(0,13)).toLowerCase()!="mime-version:")throw new Error("Unsupported MAD header");var ee=ae&&ae.root||"",ne=(lr&&Buffer.isBuffer(K)?K.toString("binary"):Z(K)).split(`\r
`),ie=0,oe="";for(ie=0;ie<ne.length;++ie)if(oe=ne[ie],!!/^Content-Location:/i.test(oe)&&(oe=oe.slice(oe.indexOf("file")),ee||(ee=oe.slice(0,oe.lastIndexOf("/")+1)),oe.slice(0,ee.length)!=ee))for(;ee.length>0&&(ee=ee.slice(0,ee.length-1),ee=ee.slice(0,ee.lastIndexOf("/")+1),oe.slice(0,ee.length)!=ee););var we=(ne[1]||"").match(/boundary="(.*?)"/);if(!we)throw new Error("MAD cannot find boundary");var Me="--"+(we[1]||""),be=[],Te=[],_e={FileIndex:be,FullPaths:Te};S(_e);var We,Xe=0;for(ie=0;ie<ne.length;++ie){var lt=ne[ie];lt!==Me&&lt!==Me+"--"||(Xe++&&ai(_e,ne.slice(We,ie),ee),We=ie)}return _e}function $i(K,ae){var ee=ae||{},ne=ee.boundary||"SheetJS";ne="------="+ne;for(var ie=["MIME-Version: 1.0",'Content-Type: multipart/related; boundary="'+ne.slice(2)+'"',"","",""],oe=K.FullPaths[0],we=oe,Me=K.FileIndex[0],be=1;be<K.FullPaths.length;++be)if(we=K.FullPaths[be].slice(oe.length),Me=K.FileIndex[be],!(!Me.size||!Me.content||we=="Sh33tJ5")){we=we.replace(/[\x00-\x08\x0B\x0C\x0E-\x1F\x7E-\xFF]/g,function(pt){return"_x"+pt.charCodeAt(0).toString(16)+"_"}).replace(/[\u0080-\uFFFF]/g,function(pt){return"_u"+pt.charCodeAt(0).toString(16)+"_"});for(var Te=Me.content,_e=lr&&Buffer.isBuffer(Te)?Te.toString("binary"):Z(Te),We=0,Xe=Math.min(1024,_e.length),lt=0,qe=0;qe<=Xe;++qe)(lt=_e.charCodeAt(qe))>=32&&lt<128&&++We;var et=We>=Xe*4/5;ie.push(ne),ie.push("Content-Location: "+(ee.root||"file:///C:/SheetJS/")+we),ie.push("Content-Transfer-Encoding: "+(et?"quoted-printable":"base64")),ie.push("Content-Type: "+At(Me,we)),ie.push(""),ie.push(et?In(_e):wr(_e))}return ie.push(ne+`--\r
`),ie.join(`\r
`)}function Es(K){var ae={};return S(ae,K),ae}function en(K,ae,ee,ne){var ie=ne&&ne.unsafe;ie||S(K);var oe=!ie&&Nt.find(K,ae);if(!oe){var we=K.FullPaths[0];ae.slice(0,we.length)==we?we=ae:(we.slice(-1)!="/"&&(we+="/"),we=(we+ae).replace("//","/")),oe={name:i(ae),type:2},K.FileIndex.push(oe),K.FullPaths.push(we),ie||Nt.utils.cfb_gc(K)}return oe.content=ee,oe.size=ee?ee.length:0,ne&&(ne.CLSID&&(oe.clsid=ne.CLSID),ne.mt&&(oe.mt=ne.mt),ne.ct&&(oe.ct=ne.ct)),oe}function Ci(K,ae){S(K);var ee=Nt.find(K,ae);if(ee){for(var ne=0;ne<K.FileIndex.length;++ne)if(K.FileIndex[ne]==ee)return K.FileIndex.splice(ne,1),K.FullPaths.splice(ne,1),!0}return!1}function Ws(K,ae,ee){S(K);var ne=Nt.find(K,ae);if(ne){for(var ie=0;ie<K.FileIndex.length;++ie)if(K.FileIndex[ie]==ne)return K.FileIndex[ie].name=i(ee),K.FullPaths[ie]=ee,!0}return!1}function vi(K){R(K,!0)}return e.find=M,e.read=j,e.parse=d,e.write=ge,e.writeFile=he,e.utils={cfb_new:Es,cfb_add:en,cfb_del:Ci,cfb_mov:Ws,cfb_gc:vi,ReadShift:T1,CheckField:cle,prep_blob:na,bconcat:Fs,use_zlib:B,_deflateRaw:nt,_inflateRaw:da,consts:Q},e})();function H$e(t){return typeof t=="string"?ik(t):Array.isArray(t)?g$e(t):t}function Mb(t,e,r){if(typeof Deno<"u"){if(r&&typeof e=="string")switch(r){case"utf8":e=new TextEncoder(r).encode(e);break;case"binary":e=ik(e);break;default:throw new Error("Unsupported encoding "+r)}return Deno.writeFileSync(t,e)}var n=r=="utf8"?Yc(e):e;if(typeof IE_SaveFile<"u")return IE_SaveFile(n,t);if(typeof Blob<"u"){var i=new Blob([H$e(n)],{type:"application/octet-stream"});if(typeof navigator<"u"&&navigator.msSaveBlob)return navigator.msSaveBlob(i,t);if(typeof saveAs<"u")return saveAs(i,t);if(typeof URL<"u"&&typeof document<"u"&&document.createElement&&URL.createObjectURL){var s=URL.createObjectURL(i);if(typeof chrome=="object"&&typeof(chrome.downloads||{}).download=="function")return URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),chrome.downloads.download({url:s,filename:t,saveAs:!0});var a=document.createElement("a");if(a.download!=null)return a.download=t,a.href=s,document.body.appendChild(a),a.click(),document.body.removeChild(a),URL.revokeObjectURL&&typeof setTimeout<"u"&&setTimeout(function(){URL.revokeObjectURL(s)},6e4),s}}if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var o=File(t);return o.open("w"),o.encoding="binary",Array.isArray(e)&&(e=Ef(e)),o.write(e),o.close(),e}catch(l){if(!l.message||!l.message.match(/onstruct/))throw l}throw new Error("cannot save file "+t)}function q$e(t){if(typeof Deno<"u")return Deno.readFileSync(t);if(typeof $<"u"&&typeof File<"u"&&typeof Folder<"u")try{var e=File(t);e.open("r"),e.encoding="binary";var r=e.read();return e.close(),r}catch(n){if(!n.message||!n.message.match(/onstruct/))throw n}throw new Error("Cannot access file "+t)}function Ai(t){for(var e=Object.keys(t),r=[],n=0;n<e.length;++n)Object.prototype.hasOwnProperty.call(t,e[n])&&r.push(e[n]);return r}function OG(t,e){for(var r=[],n=Ai(t),i=0;i!==n.length;++i)r[t[n[i]][e]]==null&&(r[t[n[i]][e]]=n[i]);return r}function ak(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=r[n];return e}function ok(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]=parseInt(r[n],10);return e}function W$e(t){for(var e=[],r=Ai(t),n=0;n!==r.length;++n)e[t[r[n]]]==null&&(e[t[r[n]]]=[]),e[t[r[n]]].push(r[n]);return e}var zT=new Date(1899,11,30,0,0,0);function ys(t,e){var r=t.getTime(),n=zT.getTime()+(t.getTimezoneOffset()-zT.getTimezoneOffset())*6e4;return(r-n)/(1440*60*1e3)}var zoe=new Date,G$e=zT.getTime()+(zoe.getTimezoneOffset()-zT.getTimezoneOffset())*6e4,RG=zoe.getTimezoneOffset();function lk(t){var e=new Date;return e.setTime(t*24*60*60*1e3+G$e),e.getTimezoneOffset()!==RG&&e.setTime(e.getTime()+(e.getTimezoneOffset()-RG)*6e4),e}function K$e(t){var e=0,r=0,n=!1,i=t.match(/P([0-9\.]+Y)?([0-9\.]+M)?([0-9\.]+D)?T([0-9\.]+H)?([0-9\.]+M)?([0-9\.]+S)?/);if(!i)throw new Error("|"+t+"| is not an ISO8601 Duration");for(var s=1;s!=i.length;++s)if(i[s]){switch(r=1,s>3&&(n=!0),i[s].slice(i[s].length-1)){case"Y":throw new Error("Unsupported ISO Duration Field: "+i[s].slice(i[s].length-1));case"D":r*=24;case"H":r*=60;case"M":if(n)r*=60;else throw new Error("Unsupported ISO Duration Field: M")}e+=r*parseInt(i[s],10)}return e}var PG=new Date("2017-02-19T19:06:09.000Z"),$oe=isNaN(PG.getFullYear())?new Date("2/19/17"):PG,Y$e=$oe.getFullYear()==2017;function Wn(t,e){var r=new Date(t);if(Y$e)return e>0?r.setTime(r.getTime()+r.getTimezoneOffset()*60*1e3):e<0&&r.setTime(r.getTime()-r.getTimezoneOffset()*60*1e3),r;if(t instanceof Date)return t;if($oe.getFullYear()==1917&&!isNaN(r.getFullYear())){var n=r.getFullYear();return t.indexOf(""+n)>-1||r.setFullYear(r.getFullYear()+100),r}var i=t.match(/\d+/g)||["2017","2","19","0","0","0"],s=new Date(+i[0],+i[1]-1,+i[2],+i[3]||0,+i[4]||0,+i[5]||0);return t.indexOf("Z")>-1&&(s=new Date(s.getTime()-s.getTimezoneOffset()*60*1e3)),s}function im(t,e){if(lr&&Buffer.isBuffer(t)){if(e){if(t[0]==255&&t[1]==254)return Yc(t.slice(2).toString("utf16le"));if(t[1]==254&&t[2]==255)return Yc(Ioe(t.slice(2).toString("binary")))}return t.toString("binary")}if(typeof TextDecoder<"u")try{if(e){if(t[0]==255&&t[1]==254)return Yc(new TextDecoder("utf-16le").decode(t.slice(2)));if(t[0]==254&&t[1]==255)return Yc(new TextDecoder("utf-16be").decode(t.slice(2)))}var r={"":"","":"",:"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"","":"","":"","":"","":"","":"","":"","":"","":"","":"",:"","":"",:"",:"",:""};return Array.isArray(t)&&(t=new Uint8Array(t)),new TextDecoder("latin1").decode(t).replace(/[]/g,function(s){return r[s]||s})}catch{}for(var n=[],i=0;i!=t.length;++i)n.push(String.fromCharCode(t[i]));return n.join("")}function Gn(t){if(typeof JSON<"u"&&!Array.isArray(t))return JSON.parse(JSON.stringify(t));if(typeof t!="object"||t==null)return t;if(t instanceof Date)return new Date(t.getTime());var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=Gn(t[r]));return e}function Si(t,e){for(var r="";r.length<e;)r+=t;return r}function fc(t){var e=Number(t);if(!isNaN(e))return isFinite(e)?e:NaN;if(!/\d/.test(t))return e;var r=1,n=t.replace(/([\d]),([\d])/g,"$1$2").replace(/[$]/g,"").replace(/[%]/g,function(){return r*=100,""});return!isNaN(e=Number(n))||(n=n.replace(/[(](.*)[)]/,function(i,s){return r=-r,s}),!isNaN(e=Number(n)))?e/r:e}var X$e=["january","february","march","april","may","june","july","august","september","october","november","december"];function Qg(t){var e=new Date(t),r=new Date(NaN),n=e.getYear(),i=e.getMonth(),s=e.getDate();if(isNaN(s))return r;var a=t.toLowerCase();if(a.match(/jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec/)){if(a=a.replace(/[^a-z]/g,"").replace(/([^a-z]|^)[ap]m?([^a-z]|$)/,""),a.length>3&&X$e.indexOf(a)==-1)return r}else if(a.match(/[a-z]/))return r;return n<0||n>8099?r:(i>0||s>1)&&n!=101?e:t.match(/[^-0-9:,\/\\]/)?r:e}var Q$e=(function(){var t="abacaba".split(/(:?b)/i).length==5;return function(r,n,i){if(t||typeof n=="string")return r.split(n);for(var s=r.split(n),a=[s[0]],o=1;o<s.length;++o)a.push(i),a.push(s[o]);return a}})();function Hoe(t){return t?t.content&&t.type?im(t.content,!0):t.data?r1(t.data):t.asNodeBuffer&&lr?r1(t.asNodeBuffer().toString("binary")):t.asBinary?r1(t.asBinary()):t._data&&t._data.getContent?r1(im(Array.prototype.slice.call(t._data.getContent(),0))):null:null}function qoe(t){if(!t)return null;if(t.data)return wG(t.data);if(t.asNodeBuffer&&lr)return t.asNodeBuffer();if(t._data&&t._data.getContent){var e=t._data.getContent();return typeof e=="string"?wG(e):Array.prototype.slice.call(e)}return t.content&&t.type?t.content:null}function J$e(t){return t&&t.name.slice(-4)===".bin"?qoe(t):Hoe(t)}function bl(t,e){for(var r=t.FullPaths||Ai(t.files),n=e.toLowerCase().replace(/[\/]/g,"\\"),i=n.replace(/\\/g,"/"),s=0;s<r.length;++s){var a=r[s].replace(/^Root Entry[\/]/,"").toLowerCase();if(n==a||i==a)return t.files?t.files[r[s]]:t.FileIndex[s]}return null}function uD(t,e){var r=bl(t,e);if(r==null)throw new Error("Cannot find file "+e+" in zip");return r}function Ji(t,e,r){if(!r)return J$e(uD(t,e));if(!e)return null;try{return Ji(t,e)}catch{return null}}function Vo(t,e,r){if(!r)return Hoe(uD(t,e));if(!e)return null;try{return Vo(t,e)}catch{return null}}function Z$e(t,e,r){return qoe(uD(t,e))}function jG(t){for(var e=t.FullPaths||Ai(t.files),r=[],n=0;n<e.length;++n)e[n].slice(-1)!="/"&&r.push(e[n].replace(/^Root Entry[\/]/,""));return r.sort()}function ir(t,e,r){if(t.FullPaths){if(typeof r=="string"){var n;return lr?n=Dd(r):n=v$e(r),Nt.utils.cfb_add(t,e,n)}Nt.utils.cfb_add(t,e,r)}else t.file(e,r)}function dD(){return Nt.utils.cfb_new()}function Woe(t,e){switch(e.type){case"base64":return Nt.read(t,{type:"base64"});case"binary":return Nt.read(t,{type:"binary"});case"buffer":case"array":return Nt.read(t,{type:"buffer"})}throw new Error("Unrecognized type "+e.type)}function i1(t,e){if(t.charAt(0)=="/")return t.slice(1);var r=e.split("/");e.slice(-1)!="/"&&r.pop();for(var n=t.split("/");n.length!==0;){var i=n.shift();i===".."?r.pop():i!=="."&&r.push(i)}return r.join("/")}var Bi=`<?xml version="1.0" encoding="UTF-8" standalone="yes"?>\r
`,eHe=/([^"\s?>\/]+)\s*=\s*((?:")([^"]*)(?:")|(?:')([^']*)(?:')|([^'">\s]+))/g,DG=/<[\/\?]?[a-zA-Z0-9:_-]+(?:\s+[^"\s?>\/]+\s*=\s*(?:"[^"]*"|'[^']*'|[^'">\s=]+))*\s*[\/\?]?>/mg,tHe=/<[^>]*>/g,ja=Bi.match(DG)?DG:tHe,rHe=/<\w*:/,nHe=/<(\/?)\w+:/;function zt(t,e,r){for(var n={},i=0,s=0;i!==t.length&&!((s=t.charCodeAt(i))===32||s===10||s===13);++i);if(e||(n[0]=t.slice(0,i)),i===t.length)return n;var a=t.match(eHe),o=0,l="",u=0,d="",f="",g=1;if(a)for(u=0;u!=a.length;++u){for(f=a[u],s=0;s!=f.length&&f.charCodeAt(s)!==61;++s);for(d=f.slice(0,s).trim();f.charCodeAt(s+1)==32;)++s;for(g=(i=f.charCodeAt(s+1))==34||i==39?1:0,l=f.slice(s+1+g,f.length-g),o=0;o!=d.length&&d.charCodeAt(o)!==58;++o);if(o===d.length)d.indexOf("_")>0&&(d=d.slice(0,d.indexOf("_"))),n[d]=l,n[d.toLowerCase()]=l;else{var v=(o===5&&d.slice(0,5)==="xmlns"?"xmlns":"")+d.slice(o+1);if(n[v]&&d.slice(o-3,o)=="ext")continue;n[v]=l,n[v.toLowerCase()]=l}}return n}function mu(t){return t.replace(nHe,"<$1")}var Goe={"&quot;":'"',"&apos;":"'","&gt;":">","&lt;":"<","&amp;":"&"},hD=ak(Goe),Ar=(function(){var t=/&(?:quot|apos|gt|lt|amp|#x?([\da-fA-F]+));/ig,e=/_x([\da-fA-F]{4})_/ig;return function r(n){var i=n+"",s=i.indexOf("<![CDATA[");if(s==-1)return i.replace(t,function(o,l){return Goe[o]||String.fromCharCode(parseInt(l,o.indexOf("x")>-1?16:10))||o}).replace(e,function(o,l){return String.fromCharCode(parseInt(l,16))});var a=i.indexOf("]]>");return r(i.slice(0,s))+i.slice(s+9,a)+r(i.slice(a+3))}})(),fD=/[&<>'"]/g,iHe=/[\u0000-\u0008\u000b-\u001f]/g;function un(t){var e=t+"";return e.replace(fD,function(r){return hD[r]}).replace(iHe,function(r){return"_x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+"_"})}function MG(t){return un(t).replace(/ /g,"_x0020_")}var Koe=/[\u0000-\u001f]/g;function mD(t){var e=t+"";return e.replace(fD,function(r){return hD[r]}).replace(/\n/g,"<br/>").replace(Koe,function(r){return"&#x"+("000"+r.charCodeAt(0).toString(16)).slice(-4)+";"})}function sHe(t){var e=t+"";return e.replace(fD,function(r){return hD[r]}).replace(Koe,function(r){return"&#x"+r.charCodeAt(0).toString(16).toUpperCase()+";"})}var LG=(function(){var t=/&#(\d+);/g;function e(r,n){return String.fromCharCode(parseInt(n,10))}return function(n){return n.replace(t,e)}})();function aHe(t){return t.replace(/(\r\n|[\r\n])/g,"&#10;")}function $n(t){switch(t){case 1:case!0:case"1":case"true":case"TRUE":return!0;default:return!1}}function i5(t){for(var e="",r=0,n=0,i=0,s=0,a=0,o=0;r<t.length;){if(n=t.charCodeAt(r++),n<128){e+=String.fromCharCode(n);continue}if(i=t.charCodeAt(r++),n>191&&n<224){a=(n&31)<<6,a|=i&63,e+=String.fromCharCode(a);continue}if(s=t.charCodeAt(r++),n<240){e+=String.fromCharCode((n&15)<<12|(i&63)<<6|s&63);continue}a=t.charCodeAt(r++),o=((n&7)<<18|(i&63)<<12|(s&63)<<6|a&63)-65536,e+=String.fromCharCode(55296+(o>>>10&1023)),e+=String.fromCharCode(56320+(o&1023))}return e}function FG(t){var e=of(2*t.length),r,n,i=1,s=0,a=0,o;for(n=0;n<t.length;n+=i)i=1,(o=t.charCodeAt(n))<128?r=o:o<224?(r=(o&31)*64+(t.charCodeAt(n+1)&63),i=2):o<240?(r=(o&15)*4096+(t.charCodeAt(n+1)&63)*64+(t.charCodeAt(n+2)&63),i=3):(i=4,r=(o&7)*262144+(t.charCodeAt(n+1)&63)*4096+(t.charCodeAt(n+2)&63)*64+(t.charCodeAt(n+3)&63),r-=65536,a=55296+(r>>>10&1023),r=56320+(r&1023)),a!==0&&(e[s++]=a&255,e[s++]=a>>>8,a=0),e[s++]=r%256,e[s++]=r>>>8;return e.slice(0,s).toString("ucs2")}function BG(t){return Dd(t,"binary").toString("utf8")}var n2="foo bar baz",En=lr&&(BG(n2)==i5(n2)&&BG||FG(n2)==i5(n2)&&FG)||i5,Yc=lr?function(t){return Dd(t,"utf8").toString("binary")}:function(t){for(var e=[],r=0,n=0,i=0;r<t.length;)switch(n=t.charCodeAt(r++),!0){case n<128:e.push(String.fromCharCode(n));break;case n<2048:e.push(String.fromCharCode(192+(n>>6))),e.push(String.fromCharCode(128+(n&63)));break;case(n>=55296&&n<57344):n-=55296,i=t.charCodeAt(r++)-56320+(n<<10),e.push(String.fromCharCode(240+(i>>18&7))),e.push(String.fromCharCode(144+(i>>12&63))),e.push(String.fromCharCode(128+(i>>6&63))),e.push(String.fromCharCode(128+(i&63)));break;default:e.push(String.fromCharCode(224+(n>>12))),e.push(String.fromCharCode(128+(n>>6&63))),e.push(String.fromCharCode(128+(n&63)))}return e.join("")},kx=(function(){var t={};return function(r,n){var i=r+"|"+(n||"");return t[i]?t[i]:t[i]=new RegExp("<(?:\\w+:)?"+r+'(?: xml:space="preserve")?(?:[^>]*)>([\\s\\S]*?)</(?:\\w+:)?'+r+">",n||"")}})(),Yoe=(function(){var t=[["nbsp"," "],["middot",""],["quot",'"'],["apos","'"],["gt",">"],["lt","<"],["amp","&"]].map(function(e){return[new RegExp("&"+e[0]+";","ig"),e[1]]});return function(r){for(var n=r.replace(/^[\t\n\r ]+/,"").replace(/[\t\n\r ]+$/,"").replace(/>\s+/g,">").replace(/\s+</g,"<").replace(/[\t\n\r ]+/g," ").replace(/<\s*[bB][rR]\s*\/?>/g,`
`).replace(/<[^>]*>/g,""),i=0;i<t.length;++i)n=n.replace(t[i][0],t[i][1]);return n}})(),oHe=(function(){var t={};return function(r){return t[r]!==void 0?t[r]:t[r]=new RegExp("<(?:vt:)?"+r+">([\\s\\S]*?)</(?:vt:)?"+r+">","g")}})(),lHe=/<\/?(?:vt:)?variant>/g,cHe=/<(?:vt:)([^>]*)>([\s\S]*)</;function VG(t,e){var r=zt(t),n=t.match(oHe(r.baseType))||[],i=[];if(n.length!=r.size){if(e.WTF)throw new Error("unexpected vector length "+n.length+" != "+r.size);return i}return n.forEach(function(s){var a=s.replace(lHe,"").match(cHe);a&&i.push({v:En(a[2]),t:a[1]})}),i}var Xoe=/(^\s|\s$|\n)/;function aa(t,e){return"<"+t+(e.match(Xoe)?' xml:space="preserve"':"")+">"+e+"</"+t+">"}function Ax(t){return Ai(t).map(function(e){return" "+e+'="'+t[e]+'"'}).join("")}function it(t,e,r){return"<"+t+(r!=null?Ax(r):"")+(e!=null?(e.match(Xoe)?' xml:space="preserve"':"")+">"+e+"</"+t:"/")+">"}function lO(t,e){try{return t.toISOString().replace(/\.\d*/,"")}catch(r){if(e)throw r}return""}function uHe(t,e){switch(typeof t){case"string":var r=it("vt:lpwstr",un(t));return r=r.replace(/&quot;/g,"_x0022_"),r;case"number":return it((t|0)==t?"vt:i4":"vt:r8",un(String(t)));case"boolean":return it("vt:bool",t?"true":"false")}if(t instanceof Date)return it("vt:filetime",lO(t));throw new Error("Unable to serialize "+t)}function pD(t){if(lr&&Buffer.isBuffer(t))return t.toString("utf8");if(typeof t=="string")return t;if(typeof Uint8Array<"u"&&t instanceof Uint8Array)return En(Ef(oD(t)));throw new Error("Bad input format: expected Buffer or string")}var Cx=/<(\/?)([^\s?><!\/:]*:|)([^\s?<>:\/]+)(?:[\s?:\/][^>]*)?>/mg,gs={CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/metadata/core-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/custom-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/extended-properties",CT:"http://schemas.openxmlformats.org/package/2006/content-types",RELS:"http://schemas.openxmlformats.org/package/2006/relationships",TCMNT:"http://schemas.microsoft.com/office/spreadsheetml/2018/threadedcomments",dc:"http://purl.org/dc/elements/1.1/",dcterms:"http://purl.org/dc/terms/",dcmitype:"http://purl.org/dc/dcmitype/",r:"http://schemas.openxmlformats.org/officeDocument/2006/relationships",vt:"http://schemas.openxmlformats.org/officeDocument/2006/docPropsVTypes",xsi:"http://www.w3.org/2001/XMLSchema-instance",xsd:"http://www.w3.org/2001/XMLSchema"},Tm=["http://schemas.openxmlformats.org/spreadsheetml/2006/main","http://purl.oclc.org/ooxml/spreadsheetml/main","http://schemas.microsoft.com/office/excel/2006/main","http://schemas.microsoft.com/office/excel/2006/2"],Po={o:"urn:schemas-microsoft-com:office:office",x:"urn:schemas-microsoft-com:office:excel",ss:"urn:schemas-microsoft-com:office:spreadsheet",dt:"uuid:C2F41010-65B3-11d1-A29F-00AA00C14882",mv:"http://macVmlSchemaUri",v:"urn:schemas-microsoft-com:vml",html:"http://www.w3.org/TR/REC-html40"};function dHe(t,e){for(var r=1-2*(t[e+7]>>>7),n=((t[e+7]&127)<<4)+(t[e+6]>>>4&15),i=t[e+6]&15,s=5;s>=0;--s)i=i*256+t[e+s];return n==2047?i==0?r*(1/0):NaN:(n==0?n=-1022:(n-=1023,i+=Math.pow(2,52)),r*Math.pow(2,n-52)*i)}function hHe(t,e,r){var n=(e<0||1/e==-1/0?1:0)<<7,i=0,s=0,a=n?-e:e;isFinite(a)?a==0?i=s=0:(i=Math.floor(Math.log(a)/Math.LN2),s=a*Math.pow(2,52-i),i<=-1023&&(!isFinite(s)||s<Math.pow(2,52))?i=-1022:(s-=Math.pow(2,52),i+=1023)):(i=2047,s=isNaN(e)?26985:0);for(var o=0;o<=5;++o,s/=256)t[r+o]=s&255;t[r+6]=(i&15)<<4|s&15,t[r+7]=i>>4|n}var UG=function(t){for(var e=[],r=10240,n=0;n<t[0].length;++n)if(t[0][n])for(var i=0,s=t[0][n].length;i<s;i+=r)e.push.apply(e,t[0][n].slice(i,i+r));return e},zG=lr?function(t){return t[0].length>0&&Buffer.isBuffer(t[0][0])?Buffer.concat(t[0].map(function(e){return Buffer.isBuffer(e)?e:Dd(e)})):UG(t)}:UG,$G=function(t,e,r){for(var n=[],i=e;i<r;i+=2)n.push(String.fromCharCode(Xu(t,i)));return n.join("").replace(qa,"")},gD=lr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("utf16le",e,r).replace(qa,""):$G(t,e,r)}:$G,HG=function(t,e,r){for(var n=[],i=e;i<e+r;++i)n.push(("0"+t[i].toString(16)).slice(-2));return n.join("")},Qoe=lr?function(t,e,r){return Buffer.isBuffer(t)?t.toString("hex",e,e+r):HG(t,e,r)}:HG,qG=function(t,e,r){for(var n=[],i=e;i<r;i++)n.push(String.fromCharCode(Dp(t,i)));return n.join("")},Lb=lr?function(e,r,n){return Buffer.isBuffer(e)?e.toString("utf8",r,n):qG(e,r,n)}:qG,Joe=function(t,e){var r=jo(t,e);return r>0?Lb(t,e+4,e+4+r-1):""},Zoe=Joe,ele=function(t,e){var r=jo(t,e);return r>0?Lb(t,e+4,e+4+r-1):""},tle=ele,rle=function(t,e){var r=2*jo(t,e);return r>0?Lb(t,e+4,e+4+r-1):""},nle=rle,ile=function(e,r){var n=jo(e,r);return n>0?gD(e,r+4,r+4+n):""},sle=ile,ale=function(t,e){var r=jo(t,e);return r>0?Lb(t,e+4,e+4+r):""},ole=ale,lle=function(t,e){return dHe(t,e)},$T=lle,vD=function(e){return Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array};lr&&(Zoe=function(e,r){if(!Buffer.isBuffer(e))return Joe(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},tle=function(e,r){if(!Buffer.isBuffer(e))return ele(e,r);var n=e.readUInt32LE(r);return n>0?e.toString("utf8",r+4,r+4+n-1):""},nle=function(e,r){if(!Buffer.isBuffer(e))return rle(e,r);var n=2*e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n-1)},sle=function(e,r){if(!Buffer.isBuffer(e))return ile(e,r);var n=e.readUInt32LE(r);return e.toString("utf16le",r+4,r+4+n)},ole=function(e,r){if(!Buffer.isBuffer(e))return ale(e,r);var n=e.readUInt32LE(r);return e.toString("utf8",r+4,r+4+n)},$T=function(e,r){return Buffer.isBuffer(e)?e.readDoubleLE(r):lle(e,r)},vD=function(e){return Buffer.isBuffer(e)||Array.isArray(e)||typeof Uint8Array<"u"&&e instanceof Uint8Array});var Dp=function(t,e){return t[e]},Xu=function(t,e){return t[e+1]*256+t[e]},fHe=function(t,e){var r=t[e+1]*256+t[e];return r<32768?r:(65535-r+1)*-1},jo=function(t,e){return t[e+3]*(1<<24)+(t[e+2]<<16)+(t[e+1]<<8)+t[e]},h0=function(t,e){return t[e+3]<<24|t[e+2]<<16|t[e+1]<<8|t[e]},mHe=function(t,e){return t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3]};function T1(t,e){var r="",n,i,s=[],a,o,l,u;switch(e){case"dbcs":if(u=this.l,lr&&Buffer.isBuffer(this))r=this.slice(this.l,this.l+2*t).toString("utf16le");else for(l=0;l<t;++l)r+=String.fromCharCode(Xu(this,u)),u+=2;t*=2;break;case"utf8":r=Lb(this,this.l,this.l+t);break;case"utf16le":t*=2,r=gD(this,this.l,this.l+t);break;case"wstr":return T1.call(this,t,"dbcs");case"lpstr-ansi":r=Zoe(this,this.l),t=4+jo(this,this.l);break;case"lpstr-cp":r=tle(this,this.l),t=4+jo(this,this.l);break;case"lpwstr":r=nle(this,this.l),t=4+2*jo(this,this.l);break;case"lpp4":t=4+jo(this,this.l),r=sle(this,this.l),t&2&&(t+=2);break;case"8lpp4":t=4+jo(this,this.l),r=ole(this,this.l),t&3&&(t+=4-(t&3));break;case"cstr":for(t=0,r="";(a=Dp(this,this.l+t++))!==0;)s.push(r2(a));r=s.join("");break;case"_wstr":for(t=0,r="";(a=Xu(this,this.l+t))!==0;)s.push(r2(a)),t+=2;t+=2,r=s.join("");break;case"dbcs-cont":for(r="",u=this.l,l=0;l<t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Dp(this,u),this.l=u+1,o=T1.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(r2(Xu(this,u))),u+=2}r=s.join(""),t*=2;break;case"cpstr":case"sbcs-cont":for(r="",u=this.l,l=0;l!=t;++l){if(this.lens&&this.lens.indexOf(u)!==-1)return a=Dp(this,u),this.l=u+1,o=T1.call(this,t-l,a?"dbcs-cont":"sbcs-cont"),s.join("")+o;s.push(r2(Dp(this,u))),u+=1}r=s.join("");break;default:switch(t){case 1:return n=Dp(this,this.l),this.l++,n;case 2:return n=(e==="i"?fHe:Xu)(this,this.l),this.l+=2,n;case 4:case-4:return e==="i"||(this[this.l+3]&128)===0?(n=(t>0?h0:mHe)(this,this.l),this.l+=4,n):(i=jo(this,this.l),this.l+=4,i);case 8:case-8:if(e==="f")return t==8?i=$T(this,this.l):i=$T([this[this.l+7],this[this.l+6],this[this.l+5],this[this.l+4],this[this.l+3],this[this.l+2],this[this.l+1],this[this.l+0]],0),this.l+=8,i;t=8;case 16:r=Qoe(this,this.l,t);break}}return this.l+=t,r}var pHe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255,t[r+2]=e>>>16&255,t[r+3]=e>>>24&255},gHe=function(t,e,r){t[r]=e&255,t[r+1]=e>>8&255,t[r+2]=e>>16&255,t[r+3]=e>>24&255},vHe=function(t,e,r){t[r]=e&255,t[r+1]=e>>>8&255};function yHe(t,e,r){var n=0,i=0;if(r==="dbcs"){for(i=0;i!=e.length;++i)vHe(this,e.charCodeAt(i),this.l+2*i);n=2*e.length}else if(r==="sbcs"){for(e=e.replace(/[^\x00-\x7F]/g,"_"),i=0;i!=e.length;++i)this[this.l+i]=e.charCodeAt(i)&255;n=e.length}else if(r==="hex"){for(;i<t;++i)this[this.l++]=parseInt(e.slice(2*i,2*i+2),16)||0;return this}else if(r==="utf16le"){var s=Math.min(this.l+t,this.length);for(i=0;i<Math.min(e.length,t);++i){var a=e.charCodeAt(i);this[this.l++]=a&255,this[this.l++]=a>>8}for(;this.l<s;)this[this.l++]=0;return this}else switch(t){case 1:n=1,this[this.l]=e&255;break;case 2:n=2,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255;break;case 3:n=3,this[this.l]=e&255,e>>>=8,this[this.l+1]=e&255,e>>>=8,this[this.l+2]=e&255;break;case 4:n=4,pHe(this,e,this.l);break;case 8:if(n=8,r==="f"){hHe(this,e,this.l);break}case 16:break;case-4:n=4,gHe(this,e,this.l);break}return this.l+=n,this}function cle(t,e){var r=Qoe(this,this.l,t.length>>1);if(r!==t)throw new Error(e+"Expected "+t+" saw "+r);this.l+=t.length>>1}function na(t,e){t.l=e,t.read_shift=T1,t.chk=cle,t.write_shift=yHe}function Ra(t,e){t.l+=e}function Le(t){var e=of(t);return na(e,0),e}function Md(t,e,r){if(t){var n,i,s;na(t,t.l||0);for(var a=t.length,o=0,l=0;t.l<a;){o=t.read_shift(1),o&128&&(o=(o&127)+((t.read_shift(1)&127)<<7));var u=jx[o]||jx[65535];for(n=t.read_shift(1),s=n&127,i=1;i<4&&n&128;++i)s+=((n=t.read_shift(1))&127)<<7*i;l=t.l+s;var d=u.f&&u.f(t,s,r);if(t.l=l,e(d,u,o))return}}}function go(){var t=[],e=lr?256:2048,r=function(u){var d=Le(u);return na(d,0),d},n=r(e),i=function(){n&&(n.length>n.l&&(n=n.slice(0,n.l),n.l=n.length),n.length>0&&t.push(n),n=null)},s=function(u){return n&&u<n.length-n.l?n:(i(),n=r(Math.max(u+1,e)))},a=function(){return i(),Fs(t)},o=function(u){i(),n=u,n.l==null&&(n.l=n.length),s(e)};return{next:s,push:o,end:a,_bufs:t}}function He(t,e,r,n){var i=+e,s;if(!isNaN(i)){n||(n=jx[i].p||(r||[]).length||0),s=1+(i>=128?1:0)+1,n>=128&&++s,n>=16384&&++s,n>=2097152&&++s;var a=t.next(s);i<=127?a.write_shift(1,i):(a.write_shift(1,(i&127)+128),a.write_shift(1,i>>7));for(var o=0;o!=4;++o)if(n>=128)a.write_shift(1,(n&127)+128),n>>=7;else{a.write_shift(1,n);break}n>0&&vD(r)&&t.push(r)}}function S1(t,e,r){var n=Gn(t);if(e.s?(n.cRel&&(n.c+=e.s.c),n.rRel&&(n.r+=e.s.r)):(n.cRel&&(n.c+=e.c),n.rRel&&(n.r+=e.r)),!r||r.biff<12){for(;n.c>=256;)n.c-=256;for(;n.r>=65536;)n.r-=65536}return n}function WG(t,e,r){var n=Gn(t);return n.s=S1(n.s,e.s,r),n.e=S1(n.e,e.s,r),n}function k1(t,e){if(t.cRel&&t.c<0)for(t=Gn(t);t.c<0;)t.c+=e>8?16384:256;if(t.rRel&&t.r<0)for(t=Gn(t);t.r<0;)t.r+=e>8?1048576:e>5?65536:16384;var r=Ft(t);return!t.cRel&&t.cRel!=null&&(r=wHe(r)),!t.rRel&&t.rRel!=null&&(r=xHe(r)),r}function s5(t,e){return t.s.r==0&&!t.s.rRel&&t.e.r==(e.biff>=12?1048575:e.biff>=8?65536:16384)&&!t.e.rRel?(t.s.cRel?"":"$")+hi(t.s.c)+":"+(t.e.cRel?"":"$")+hi(t.e.c):t.s.c==0&&!t.s.cRel&&t.e.c==(e.biff>=12?16383:255)&&!t.e.cRel?(t.s.rRel?"":"$")+Fi(t.s.r)+":"+(t.e.rRel?"":"$")+Fi(t.e.r):k1(t.s,e.biff)+":"+k1(t.e,e.biff)}function yD(t){return parseInt(bHe(t),10)-1}function Fi(t){return""+(t+1)}function xHe(t){return t.replace(/([A-Z]|^)(\d+)$/,"$1$$$2")}function bHe(t){return t.replace(/\$(\d+)$/,"$1")}function xD(t){for(var e=_He(t),r=0,n=0;n!==e.length;++n)r=26*r+e.charCodeAt(n)-64;return r-1}function hi(t){if(t<0)throw new Error("invalid column "+t);var e="";for(++t;t;t=Math.floor((t-1)/26))e=String.fromCharCode((t-1)%26+65)+e;return e}function wHe(t){return t.replace(/^([A-Z])/,"$$$1")}function _He(t){return t.replace(/^\$([A-Z])/,"$1")}function EHe(t){return t.replace(/(\$?[A-Z]*)(\$?\d*)/,"$1,$2").split(",")}function fi(t){for(var e=0,r=0,n=0;n<t.length;++n){var i=t.charCodeAt(n);i>=48&&i<=57?e=10*e+(i-48):i>=65&&i<=90&&(r=26*r+(i-64))}return{c:r-1,r:e-1}}function Ft(t){for(var e=t.c+1,r="";e;e=(e-1)/26|0)r=String.fromCharCode((e-1)%26+65)+r;return r+(t.r+1)}function xo(t){var e=t.indexOf(":");return e==-1?{s:fi(t),e:fi(t)}:{s:fi(t.slice(0,e)),e:fi(t.slice(e+1))}}function tr(t,e){return typeof e>"u"||typeof e=="number"?tr(t.s,t.e):(typeof t!="string"&&(t=Ft(t)),typeof e!="string"&&(e=Ft(e)),t==e?t:t+":"+e)}function Cr(t){var e={s:{c:0,r:0},e:{c:0,r:0}},r=0,n=0,i=0,s=t.length;for(r=0;n<s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.s.c=--r,r=0;n<s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;if(e.s.r=--r,n===s||i!=10)return e.e.c=e.s.c,e.e.r=e.s.r,e;for(++n,r=0;n!=s&&!((i=t.charCodeAt(n)-64)<1||i>26);++n)r=26*r+i;for(e.e.c=--r,r=0;n!=s&&!((i=t.charCodeAt(n)-48)<0||i>9);++n)r=10*r+i;return e.e.r=--r,e}function GG(t,e){var r=t.t=="d"&&e instanceof Date;if(t.z!=null)try{return t.w=Pl(t.z,r?ys(e):e)}catch{}try{return t.w=Pl((t.XF||{}).numFmtId||(r?14:0),r?ys(e):e)}catch{return""+e}}function Td(t,e,r){return t==null||t.t==null||t.t=="z"?"":t.w!==void 0?t.w:(t.t=="d"&&!t.z&&r&&r.dateNF&&(t.z=r.dateNF),t.t=="e"?Ld[t.v]||t.v:e==null?GG(t,t.v):GG(t,e))}function Tf(t,e){var r=e&&e.sheet?e.sheet:"Sheet1",n={};return n[r]=t,{SheetNames:[r],Sheets:n}}function ule(t,e,r){var n=r||{},i=t?Array.isArray(t):n.dense,s=t||(i?[]:{}),a=0,o=0;if(s&&n.origin!=null){if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?fi(n.origin):n.origin;a=l.r,o=l.c}s["!ref"]||(s["!ref"]="A1:A1")}var u={s:{c:1e7,r:1e7},e:{c:0,r:0}};if(s["!ref"]){var d=Cr(s["!ref"]);u.s.c=d.s.c,u.s.r=d.s.r,u.e.c=Math.max(u.e.c,d.e.c),u.e.r=Math.max(u.e.r,d.e.r),a==-1&&(u.e.r=a=d.e.r+1)}for(var f=0;f!=e.length;++f)if(e[f]){if(!Array.isArray(e[f]))throw new Error("aoa_to_sheet expects an array of arrays");for(var g=0;g!=e[f].length;++g)if(!(typeof e[f][g]>"u")){var v={v:e[f][g]},x=a+f,b=o+g;if(u.s.r>x&&(u.s.r=x),u.s.c>b&&(u.s.c=b),u.e.r<x&&(u.e.r=x),u.e.c<b&&(u.e.c=b),e[f][g]&&typeof e[f][g]=="object"&&!Array.isArray(e[f][g])&&!(e[f][g]instanceof Date))v=e[f][g];else if(Array.isArray(v.v)&&(v.f=e[f][g][1],v.v=v.v[0]),v.v===null)if(v.f)v.t="n";else if(n.nullError)v.t="e",v.v=0;else if(n.sheetStubs)v.t="z";else continue;else typeof v.v=="number"?v.t="n":typeof v.v=="boolean"?v.t="b":v.v instanceof Date?(v.z=n.dateNF||Dt[14],n.cellDates?(v.t="d",v.w=Pl(v.z,ys(v.v))):(v.t="n",v.v=ys(v.v),v.w=Pl(v.z,v.v))):v.t="s";if(i)s[x]||(s[x]=[]),s[x][b]&&s[x][b].z&&(v.z=s[x][b].z),s[x][b]=v;else{var w=Ft({c:b,r:x});s[w]&&s[w].z&&(v.z=s[w].z),s[w]=v}}}return u.s.c<1e7&&(s["!ref"]=tr(u)),s}function Dv(t,e){return ule(null,t,e)}function THe(t){return t.read_shift(4,"i")}function mc(t,e){return e||(e=Le(4)),e.write_shift(4,t),e}function Ia(t){var e=t.read_shift(4);return e===0?"":t.read_shift(e,"dbcs")}function Bs(t,e){var r=!1;return e==null&&(r=!0,e=Le(4+2*t.length)),e.write_shift(4,t.length),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}function SHe(t){return{ich:t.read_shift(2),ifnt:t.read_shift(2)}}function kHe(t,e){return e||(e=Le(4)),e.write_shift(2,0),e.write_shift(2,0),e}function bD(t,e){var r=t.l,n=t.read_shift(1),i=Ia(t),s=[],a={t:i,h:i};if((n&1)!==0){for(var o=t.read_shift(4),l=0;l!=o;++l)s.push(SHe(t));a.r=s}else a.r=[{ich:0,ifnt:0}];return t.l=r+e,a}function AHe(t,e){var r=!1;return e==null&&(r=!0,e=Le(15+4*t.t.length)),e.write_shift(1,0),Bs(t.t,e),r?e.slice(0,e.l):e}var CHe=bD;function NHe(t,e){var r=!1;return e==null&&(r=!0,e=Le(23+4*t.t.length)),e.write_shift(1,1),Bs(t.t,e),e.write_shift(4,1),kHe({},e),r?e.slice(0,e.l):e}function Ml(t){var e=t.read_shift(4),r=t.read_shift(2);return r+=t.read_shift(1)<<16,t.l++,{c:e,iStyleRef:r}}function Sm(t,e){return e==null&&(e=Le(8)),e.write_shift(-4,t.c),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}function km(t){var e=t.read_shift(2);return e+=t.read_shift(1)<<16,t.l++,{c:-1,iStyleRef:e}}function Am(t,e){return e==null&&(e=Le(4)),e.write_shift(3,t.iStyleRef||t.s),e.write_shift(1,0),e}var IHe=Ia,dle=Bs;function wD(t){var e=t.read_shift(4);return e===0||e===4294967295?"":t.read_shift(e,"dbcs")}function HT(t,e){var r=!1;return e==null&&(r=!0,e=Le(127)),e.write_shift(4,t.length>0?t.length:4294967295),t.length>0&&e.write_shift(0,t,"dbcs"),r?e.slice(0,e.l):e}var OHe=Ia,cO=wD,_D=HT;function ED(t){var e=t.slice(t.l,t.l+4),r=e[0]&1,n=e[0]&2;t.l+=4;var i=n===0?$T([0,0,0,0,e[0]&252,e[1],e[2],e[3]],0):h0(e,0)>>2;return r?i/100:i}function hle(t,e){e==null&&(e=Le(4));var r=0,n=0,i=t*100;if(t==(t|0)&&t>=-536870912&&t<1<<29?n=1:i==(i|0)&&i>=-536870912&&i<1<<29&&(n=1,r=1),n)e.write_shift(-4,((r?i:t)<<2)+(r+2));else throw new Error("unsupported RkNumber "+t)}function fle(t){var e={s:{},e:{}};return e.s.r=t.read_shift(4),e.e.r=t.read_shift(4),e.s.c=t.read_shift(4),e.e.c=t.read_shift(4),e}function RHe(t,e){return e||(e=Le(16)),e.write_shift(4,t.s.r),e.write_shift(4,t.e.r),e.write_shift(4,t.s.c),e.write_shift(4,t.e.c),e}var Cm=fle,Mv=RHe;function Ta(t){if(t.length-t.l<8)throw"XLS Xnum Buffer underflow";return t.read_shift(8,"f")}function sm(t,e){return(e||Le(8)).write_shift(8,t,"f")}function PHe(t){var e={},r=t.read_shift(1),n=r>>>1,i=t.read_shift(1),s=t.read_shift(2,"i"),a=t.read_shift(1),o=t.read_shift(1),l=t.read_shift(1);switch(t.l++,n){case 0:e.auto=1;break;case 1:e.index=i;var u=j0[i];u&&(e.rgb=Ix(u));break;case 2:e.rgb=Ix([a,o,l]);break;case 3:e.theme=i;break}return s!=0&&(e.tint=s>0?s/32767:s/32768),e}function qT(t,e){if(e||(e=Le(8)),!t||t.auto)return e.write_shift(4,0),e.write_shift(4,0),e;t.index!=null?(e.write_shift(1,2),e.write_shift(1,t.index)):t.theme!=null?(e.write_shift(1,6),e.write_shift(1,t.theme)):(e.write_shift(1,5),e.write_shift(1,0));var r=t.tint||0;if(r>0?r*=32767:r<0&&(r*=32768),e.write_shift(2,r),!t.rgb||t.theme!=null)e.write_shift(2,0),e.write_shift(1,0),e.write_shift(1,0);else{var n=t.rgb||"FFFFFF";typeof n=="number"&&(n=("000000"+n.toString(16)).slice(-6)),e.write_shift(1,parseInt(n.slice(0,2),16)),e.write_shift(1,parseInt(n.slice(2,4),16)),e.write_shift(1,parseInt(n.slice(4,6),16)),e.write_shift(1,255)}return e}function jHe(t){var e=t.read_shift(1);t.l++;var r={fBold:e&1,fItalic:e&2,fUnderline:e&4,fStrikeout:e&8,fOutline:e&16,fShadow:e&32,fCondense:e&64,fExtend:e&128};return r}function DHe(t,e){e||(e=Le(2));var r=(t.italic?2:0)|(t.strike?8:0)|(t.outline?16:0)|(t.shadow?32:0)|(t.condense?64:0)|(t.extend?128:0);return e.write_shift(1,r),e.write_shift(1,0),e}function mle(t,e){var r={2:"BITMAP",3:"METAFILEPICT",8:"DIB",14:"ENHMETAFILE"},n=t.read_shift(4);switch(n){case 0:return"";case 4294967295:case 4294967294:return r[t.read_shift(4)]||""}if(n>400)throw new Error("Unsupported Clipboard: "+n.toString(16));return t.l-=4,t.read_shift(0,e==1?"lpstr":"lpwstr")}function MHe(t){return mle(t,1)}function LHe(t){return mle(t,2)}var TD=2,so=3,i2=11,KG=12,WT=19,s2=64,FHe=65,BHe=71,VHe=4108,UHe=4126,Rs=80,ple=81,zHe=[Rs,ple],uO={1:{n:"CodePage",t:TD},2:{n:"Category",t:Rs},3:{n:"PresentationFormat",t:Rs},4:{n:"ByteCount",t:so},5:{n:"LineCount",t:so},6:{n:"ParagraphCount",t:so},7:{n:"SlideCount",t:so},8:{n:"NoteCount",t:so},9:{n:"HiddenCount",t:so},10:{n:"MultimediaClipCount",t:so},11:{n:"ScaleCrop",t:i2},12:{n:"HeadingPairs",t:VHe},13:{n:"TitlesOfParts",t:UHe},14:{n:"Manager",t:Rs},15:{n:"Company",t:Rs},16:{n:"LinksUpToDate",t:i2},17:{n:"CharacterCount",t:so},19:{n:"SharedDoc",t:i2},22:{n:"HyperlinksChanged",t:i2},23:{n:"AppVersion",t:so,p:"version"},24:{n:"DigSig",t:FHe},26:{n:"ContentType",t:Rs},27:{n:"ContentStatus",t:Rs},28:{n:"Language",t:Rs},29:{n:"Version",t:Rs},255:{},2147483648:{n:"Locale",t:WT},2147483651:{n:"Behavior",t:WT},1919054434:{}},dO={1:{n:"CodePage",t:TD},2:{n:"Title",t:Rs},3:{n:"Subject",t:Rs},4:{n:"Author",t:Rs},5:{n:"Keywords",t:Rs},6:{n:"Comments",t:Rs},7:{n:"Template",t:Rs},8:{n:"LastAuthor",t:Rs},9:{n:"RevNumber",t:Rs},10:{n:"EditTime",t:s2},11:{n:"LastPrinted",t:s2},12:{n:"CreatedDate",t:s2},13:{n:"ModifiedDate",t:s2},14:{n:"PageCount",t:so},15:{n:"WordCount",t:so},16:{n:"CharCount",t:so},17:{n:"Thumbnail",t:BHe},18:{n:"Application",t:Rs},19:{n:"DocSecurity",t:so},255:{},2147483648:{n:"Locale",t:WT},2147483651:{n:"Behavior",t:WT},1919054434:{}},YG={1:"US",2:"CA",3:"",7:"RU",20:"EG",30:"GR",31:"NL",32:"BE",33:"FR",34:"ES",36:"HU",39:"IT",41:"CH",43:"AT",44:"GB",45:"DK",46:"SE",47:"NO",48:"PL",49:"DE",52:"MX",55:"BR",61:"AU",64:"NZ",66:"TH",81:"JP",82:"KR",84:"VN",86:"CN",90:"TR",105:"JS",213:"DZ",216:"MA",218:"LY",351:"PT",354:"IS",358:"FI",420:"CZ",886:"TW",961:"LB",962:"JO",963:"SY",964:"IQ",965:"KW",966:"SA",971:"AE",972:"IL",974:"QA",981:"IR",65535:"US"},$He=[null,"solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"];function HHe(t){return t.map(function(e){return[e>>16&255,e>>8&255,e&255]})}var qHe=HHe([0,16777215,16711680,65280,255,16776960,16711935,65535,0,16777215,16711680,65280,255,16776960,16711935,65535,8388608,32768,128,8421376,8388736,32896,12632256,8421504,10066431,10040166,16777164,13434879,6684774,16744576,26316,13421823,128,16711935,16776960,65535,8388736,8388608,32896,255,52479,13434879,13434828,16777113,10079487,16751052,13408767,16764057,3368703,3394764,10079232,16763904,16750848,16737792,6710937,9868950,13158,3381606,13056,3355392,10040064,10040166,3355545,3355443,16777215,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]),j0=Gn(qHe),Ld={0:"#NULL!",7:"#DIV/0!",15:"#VALUE!",23:"#REF!",29:"#NAME?",36:"#NUM!",42:"#N/A",43:"#GETTING_DATA",255:"#WTF?"},gle={"#NULL!":0,"#DIV/0!":7,"#VALUE!":15,"#REF!":23,"#NAME?":29,"#NUM!":36,"#N/A":42,"#GETTING_DATA":43,"#WTF?":255},hO={"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml":"workbooks","application/vnd.ms-excel.sheet.macroEnabled.main+xml":"workbooks","application/vnd.ms-excel.sheet.binary.macroEnabled.main":"workbooks","application/vnd.ms-excel.addin.macroEnabled.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml":"workbooks","application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml":"sheets","application/vnd.ms-excel.worksheet":"sheets","application/vnd.ms-excel.binIndexWs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml":"charts","application/vnd.ms-excel.chartsheet":"charts","application/vnd.ms-excel.macrosheet+xml":"macros","application/vnd.ms-excel.macrosheet":"macros","application/vnd.ms-excel.intlmacrosheet":"TODO","application/vnd.ms-excel.binIndexMs":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml":"dialogs","application/vnd.ms-excel.dialogsheet":"dialogs","application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml":"strs","application/vnd.ms-excel.sharedStrings":"strs","application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml":"styles","application/vnd.ms-excel.styles":"styles","application/vnd.openxmlformats-package.core-properties+xml":"coreprops","application/vnd.openxmlformats-officedocument.custom-properties+xml":"custprops","application/vnd.openxmlformats-officedocument.extended-properties+xml":"extprops","application/vnd.openxmlformats-officedocument.customXmlProperties+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.customProperty":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml":"comments","application/vnd.ms-excel.comments":"comments","application/vnd.ms-excel.threadedcomments+xml":"threadedcomments","application/vnd.ms-excel.person+xml":"people","application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml":"metadata","application/vnd.ms-excel.sheetMetadata":"metadata","application/vnd.ms-excel.pivotTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotTable+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.chart+xml":"TODO","application/vnd.ms-office.chartcolorstyle+xml":"TODO","application/vnd.ms-office.chartstyle+xml":"TODO","application/vnd.ms-office.chartex+xml":"TODO","application/vnd.ms-excel.calcChain":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.calcChain+xml":"calcchains","application/vnd.openxmlformats-officedocument.spreadsheetml.printerSettings":"TODO","application/vnd.ms-office.activeX":"TODO","application/vnd.ms-office.activeX+xml":"TODO","application/vnd.ms-excel.attachedToolbars":"TODO","application/vnd.ms-excel.connections":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.connections+xml":"TODO","application/vnd.ms-excel.externalLink":"links","application/vnd.openxmlformats-officedocument.spreadsheetml.externalLink+xml":"links","application/vnd.ms-excel.pivotCacheDefinition":"TODO","application/vnd.ms-excel.pivotCacheRecords":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheDefinition+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.pivotCacheRecords+xml":"TODO","application/vnd.ms-excel.queryTable":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.queryTable+xml":"TODO","application/vnd.ms-excel.userNames":"TODO","application/vnd.ms-excel.revisionHeaders":"TODO","application/vnd.ms-excel.revisionLog":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionHeaders+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.revisionLog+xml":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.userNames+xml":"TODO","application/vnd.ms-excel.tableSingleCells":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.tableSingleCells+xml":"TODO","application/vnd.ms-excel.slicer":"TODO","application/vnd.ms-excel.slicerCache":"TODO","application/vnd.ms-excel.slicer+xml":"TODO","application/vnd.ms-excel.slicerCache+xml":"TODO","application/vnd.ms-excel.wsSortMap":"TODO","application/vnd.ms-excel.table":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.table+xml":"TODO","application/vnd.openxmlformats-officedocument.theme+xml":"themes","application/vnd.openxmlformats-officedocument.themeOverride+xml":"TODO","application/vnd.ms-excel.Timeline+xml":"TODO","application/vnd.ms-excel.TimelineCache+xml":"TODO","application/vnd.ms-office.vbaProject":"vba","application/vnd.ms-office.vbaProjectSignature":"TODO","application/vnd.ms-office.volatileDependencies":"TODO","application/vnd.openxmlformats-officedocument.spreadsheetml.volatileDependencies+xml":"TODO","application/vnd.ms-excel.controlproperties+xml":"TODO","application/vnd.openxmlformats-officedocument.model+data":"TODO","application/vnd.ms-excel.Survey+xml":"TODO","application/vnd.openxmlformats-officedocument.drawing+xml":"drawings","application/vnd.openxmlformats-officedocument.drawingml.chartshapes+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramColors+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramData+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramLayout+xml":"TODO","application/vnd.openxmlformats-officedocument.drawingml.diagramStyle+xml":"TODO","application/vnd.openxmlformats-officedocument.vmlDrawing":"TODO","application/vnd.openxmlformats-package.relationships+xml":"rels","application/vnd.openxmlformats-officedocument.oleObject":"TODO","image/png":"TODO",sheet:"js"},a2={workbooks:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet.main+xml",xlsm:"application/vnd.ms-excel.sheet.macroEnabled.main+xml",xlsb:"application/vnd.ms-excel.sheet.binary.macroEnabled.main",xlam:"application/vnd.ms-excel.addin.macroEnabled.main+xml",xltx:"application/vnd.openxmlformats-officedocument.spreadsheetml.template.main+xml"},strs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sharedStrings+xml",xlsb:"application/vnd.ms-excel.sharedStrings"},comments:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.comments+xml",xlsb:"application/vnd.ms-excel.comments"},sheets:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.worksheet+xml",xlsb:"application/vnd.ms-excel.worksheet"},charts:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.chartsheet+xml",xlsb:"application/vnd.ms-excel.chartsheet"},dialogs:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.dialogsheet+xml",xlsb:"application/vnd.ms-excel.dialogsheet"},macros:{xlsx:"application/vnd.ms-excel.macrosheet+xml",xlsb:"application/vnd.ms-excel.macrosheet"},metadata:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheetMetadata+xml",xlsb:"application/vnd.ms-excel.sheetMetadata"},styles:{xlsx:"application/vnd.openxmlformats-officedocument.spreadsheetml.styles+xml",xlsb:"application/vnd.ms-excel.styles"}};function SD(){return{workbooks:[],sheets:[],charts:[],dialogs:[],macros:[],rels:[],strs:[],comments:[],threadedcomments:[],links:[],coreprops:[],extprops:[],custprops:[],themes:[],styles:[],calcchains:[],vba:[],drawings:[],metadata:[],people:[],TODO:[],xmlns:""}}function WHe(t){var e=SD();if(!t||!t.match)return e;var r={};if((t.match(ja)||[]).forEach(function(n){var i=zt(n);switch(i[0].replace(rHe,"<")){case"<?xml":break;case"<Types":e.xmlns=i["xmlns"+(i[0].match(/<(\w+):/)||["",""])[1]];break;case"<Default":r[i.Extension]=i.ContentType;break;case"<Override":e[hO[i.ContentType]]!==void 0&&e[hO[i.ContentType]].push(i.PartName);break}}),e.xmlns!==gs.CT)throw new Error("Unknown Namespace: "+e.xmlns);return e.calcchain=e.calcchains.length>0?e.calcchains[0]:"",e.sst=e.strs.length>0?e.strs[0]:"",e.style=e.styles.length>0?e.styles[0]:"",e.defaults=r,delete e.calcchains,e}function vle(t,e){var r=W$e(hO),n=[],i;n[n.length]=Bi,n[n.length]=it("Types",null,{xmlns:gs.CT,"xmlns:xsd":gs.xsd,"xmlns:xsi":gs.xsi}),n=n.concat([["xml","application/xml"],["bin","application/vnd.ms-excel.sheet.binary.macroEnabled.main"],["vml","application/vnd.openxmlformats-officedocument.vmlDrawing"],["data","application/vnd.openxmlformats-officedocument.model+data"],["bmp","image/bmp"],["png","image/png"],["gif","image/gif"],["emf","image/x-emf"],["wmf","image/x-wmf"],["jpg","image/jpeg"],["jpeg","image/jpeg"],["tif","image/tiff"],["tiff","image/tiff"],["pdf","application/pdf"],["rels","application/vnd.openxmlformats-package.relationships+xml"]].map(function(l){return it("Default",null,{Extension:l[0],ContentType:l[1]})}));var s=function(l){t[l]&&t[l].length>0&&(i=t[l][0],n[n.length]=it("Override",null,{PartName:(i[0]=="/"?"":"/")+i,ContentType:a2[l][e.bookType]||a2[l].xlsx}))},a=function(l){(t[l]||[]).forEach(function(u){n[n.length]=it("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:a2[l][e.bookType]||a2[l].xlsx})})},o=function(l){(t[l]||[]).forEach(function(u){n[n.length]=it("Override",null,{PartName:(u[0]=="/"?"":"/")+u,ContentType:r[l][0]})})};return s("workbooks"),a("sheets"),a("charts"),o("themes"),["strs","styles"].forEach(s),["coreprops","extprops","custprops"].forEach(o),o("vba"),o("comments"),o("threadedcomments"),o("drawings"),a("metadata"),o("people"),n.length>2&&(n[n.length]="</Types>",n[1]=n[1].replace("/>",">")),n.join("")}var cr={WB:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/officeDocument",SHEET:"http://sheetjs.openxmlformats.org/officeDocument/2006/relationships/officeDocument",HLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/hyperlink",VML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/vmlDrawing",XPATH:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLinkPath",XMISS:"http://schemas.microsoft.com/office/2006/relationships/xlExternalLinkPath/xlPathMissing",XLINK:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/externalLink",CXML:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXml",CXMLP:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/customXmlProps",CMNT:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/comments",CORE_PROPS:"http://schemas.openxmlformats.org/package/2006/relationships/metadata/core-properties",EXT_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/extended-properties",CUST_PROPS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/custom-properties",SST:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sharedStrings",STY:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/styles",THEME:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/theme",CHART:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chart",CHARTEX:"http://schemas.microsoft.com/office/2014/relationships/chartEx",CS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/chartsheet",WS:["http://schemas.openxmlformats.org/officeDocument/2006/relationships/worksheet","http://purl.oclc.org/ooxml/officeDocument/relationships/worksheet"],DS:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/dialogsheet",MS:"http://schemas.microsoft.com/office/2006/relationships/xlMacrosheet",IMG:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/image",DRAW:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/drawing",XLMETA:"http://schemas.openxmlformats.org/officeDocument/2006/relationships/sheetMetadata",TCMNT:"http://schemas.microsoft.com/office/2017/10/relationships/threadedComment",PEOPLE:"http://schemas.microsoft.com/office/2017/10/relationships/person",VBA:"http://schemas.microsoft.com/office/2006/relationships/vbaProject"};function Nx(t){var e=t.lastIndexOf("/");return t.slice(0,e+1)+"_rels/"+t.slice(e+1)+".rels"}function A1(t,e){var r={"!id":{}};if(!t)return r;e.charAt(0)!=="/"&&(e="/"+e);var n={};return(t.match(ja)||[]).forEach(function(i){var s=zt(i);if(s[0]==="<Relationship"){var a={};a.Type=s.Type,a.Target=s.Target,a.Id=s.Id,s.TargetMode&&(a.TargetMode=s.TargetMode);var o=s.TargetMode==="External"?s.Target:i1(s.Target,e);r[o]=a,n[s.Id]=a}}),r["!id"]=n,r}function ug(t){var e=[Bi,it("Relationships",null,{xmlns:gs.RELS})];return Ai(t["!id"]).forEach(function(r){e[e.length]=it("Relationship",null,t["!id"][r])}),e.length>2&&(e[e.length]="</Relationships>",e[1]=e[1].replace("/>",">")),e.join("")}function on(t,e,r,n,i,s){if(i||(i={}),t["!id"]||(t["!id"]={}),t["!idx"]||(t["!idx"]=1),e<0)for(e=t["!idx"];t["!id"]["rId"+e];++e);if(t["!idx"]=e+1,i.Id="rId"+e,i.Type=n,i.Target=r,[cr.HLINK,cr.XPATH,cr.XMISS].indexOf(i.Type)>-1&&(i.TargetMode="External"),t["!id"][i.Id])throw new Error("Cannot rewrite rId "+e);return t["!id"][i.Id]=i,t[("/"+i.Target).replace("//","/")]=i,e}var GHe="application/vnd.oasis.opendocument.spreadsheet";function KHe(t,e){for(var r=pD(t),n,i;n=Cx.exec(r);)switch(n[3]){case"manifest":break;case"file-entry":if(i=zt(n[0],!1),i.path=="/"&&i.type!==GHe)throw new Error("This OpenDocument is not a spreadsheet");break;case"encryption-data":case"algorithm":case"start-key-generation":case"key-derivation":throw new Error("Unsupported ODS Encryption");default:if(e&&e.WTF)throw n}}function YHe(t){var e=[Bi];e.push(`<manifest:manifest xmlns:manifest="urn:oasis:names:tc:opendocument:xmlns:manifest:1.0" manifest:version="1.2">
`),e.push(`  <manifest:file-entry manifest:full-path="/" manifest:version="1.2" manifest:media-type="application/vnd.oasis.opendocument.spreadsheet"/>
`);for(var r=0;r<t.length;++r)e.push('  <manifest:file-entry manifest:full-path="'+t[r][0]+'" manifest:media-type="'+t[r][1]+`"/>
`);return e.push("</manifest:manifest>"),e.join("")}function XG(t,e,r){return['  <rdf:Description rdf:about="'+t+`">
`,'    <rdf:type rdf:resource="http://docs.oasis-open.org/ns/office/1.2/meta/'+(r||"odf")+"#"+e+`"/>
`,`  </rdf:Description>
`].join("")}function XHe(t,e){return['  <rdf:Description rdf:about="'+t+`">
`,'    <ns0:hasPart xmlns:ns0="http://docs.oasis-open.org/ns/office/1.2/meta/pkg#" rdf:resource="'+e+`"/>
`,`  </rdf:Description>
`].join("")}function QHe(t){var e=[Bi];e.push(`<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#">
`);for(var r=0;r!=t.length;++r)e.push(XG(t[r][0],t[r][1])),e.push(XHe("",t[r][0]));return e.push(XG("","Document","pkg")),e.push("</rdf:RDF>"),e.join("")}function yle(){return'<office:document-meta xmlns:office="urn:oasis:names:tc:opendocument:xmlns:office:1.0" xmlns:meta="urn:oasis:names:tc:opendocument:xmlns:meta:1.0" xmlns:dc="http://purl.org/dc/elements/1.1/" xmlns:xlink="http://www.w3.org/1999/xlink" office:version="1.2"><office:meta><meta:generator>SheetJS '+FT.version+"</meta:generator></office:meta></office:document-meta>"}var Il=[["cp:category","Category"],["cp:contentStatus","ContentStatus"],["cp:keywords","Keywords"],["cp:lastModifiedBy","LastAuthor"],["cp:lastPrinted","LastPrinted"],["cp:revision","RevNumber"],["cp:version","Version"],["dc:creator","Author"],["dc:description","Comments"],["dc:identifier","Identifier"],["dc:language","Language"],["dc:subject","Subject"],["dc:title","Title"],["dcterms:created","CreatedDate","date"],["dcterms:modified","ModifiedDate","date"]],JHe=(function(){for(var t=new Array(Il.length),e=0;e<Il.length;++e){var r=Il[e],n="(?:"+r[0].slice(0,r[0].indexOf(":"))+":)"+r[0].slice(r[0].indexOf(":")+1);t[e]=new RegExp("<"+n+"[^>]*>([\\s\\S]*?)</"+n+">")}return t})();function xle(t){var e={};t=En(t);for(var r=0;r<Il.length;++r){var n=Il[r],i=t.match(JHe[r]);i!=null&&i.length>0&&(e[n[1]]=Ar(i[1])),n[2]==="date"&&e[n[1]]&&(e[n[1]]=Wn(e[n[1]]))}return e}function a5(t,e,r,n,i){i[t]!=null||e==null||e===""||(i[t]=e,e=un(e),n[n.length]=r?it(t,e,r):aa(t,e))}function ble(t,e){var r=e||{},n=[Bi,it("cp:coreProperties",null,{"xmlns:cp":gs.CORE_PROPS,"xmlns:dc":gs.dc,"xmlns:dcterms":gs.dcterms,"xmlns:dcmitype":gs.dcmitype,"xmlns:xsi":gs.xsi})],i={};if(!t&&!r.Props)return n.join("");t&&(t.CreatedDate!=null&&a5("dcterms:created",typeof t.CreatedDate=="string"?t.CreatedDate:lO(t.CreatedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i),t.ModifiedDate!=null&&a5("dcterms:modified",typeof t.ModifiedDate=="string"?t.ModifiedDate:lO(t.ModifiedDate,r.WTF),{"xsi:type":"dcterms:W3CDTF"},n,i));for(var s=0;s!=Il.length;++s){var a=Il[s],o=r.Props&&r.Props[a[1]]!=null?r.Props[a[1]]:t?t[a[1]]:null;o===!0?o="1":o===!1?o="0":typeof o=="number"&&(o=String(o)),o!=null&&a5(a[0],o,null,n,i)}return n.length>2&&(n[n.length]="</cp:coreProperties>",n[1]=n[1].replace("/>",">")),n.join("")}var D0=[["Application","Application","string"],["AppVersion","AppVersion","string"],["Company","Company","string"],["DocSecurity","DocSecurity","string"],["Manager","Manager","string"],["HyperlinksChanged","HyperlinksChanged","bool"],["SharedDoc","SharedDoc","bool"],["LinksUpToDate","LinksUpToDate","bool"],["ScaleCrop","ScaleCrop","bool"],["HeadingPairs","HeadingPairs","raw"],["TitlesOfParts","TitlesOfParts","raw"]],wle=["Worksheets","SheetNames","NamedRanges","DefinedNames","Chartsheets","ChartNames"];function _le(t,e,r,n){var i=[];if(typeof t=="string")i=VG(t,n);else for(var s=0;s<t.length;++s)i=i.concat(t[s].map(function(d){return{v:d}}));var a=typeof e=="string"?VG(e,n).map(function(d){return d.v}):e,o=0,l=0;if(a.length>0)for(var u=0;u!==i.length;u+=2){switch(l=+i[u+1].v,i[u].v){case"Worksheets":case"":case"":case" ":case"":case" ":case"Arbeitsbltter":case"alma Sayfalar":case"Feuilles de calcul":case"Fogli di lavoro":case"Folhas de clculo":case"Planilhas":case"Regneark":case"Hojas de clculo":case"Werkbladen":r.Worksheets=l,r.SheetNames=a.slice(o,o+l);break;case"Named Ranges":case"Rangos con nombre":case"":case"Benannte Bereiche":case"Navngivne omrder":r.NamedRanges=l,r.DefinedNames=a.slice(o,o+l);break;case"Charts":case"Diagramme":r.Chartsheets=l,r.ChartNames=a.slice(o,o+l);break}o+=l}}function ZHe(t,e,r){var n={};return e||(e={}),t=En(t),D0.forEach(function(i){var s=(t.match(kx(i[0]))||[])[1];switch(i[2]){case"string":s&&(e[i[1]]=Ar(s));break;case"bool":e[i[1]]=s==="true";break;case"raw":var a=t.match(new RegExp("<"+i[0]+"[^>]*>([\\s\\S]*?)</"+i[0]+">"));a&&a.length>0&&(n[i[1]]=a[1]);break}}),n.HeadingPairs&&n.TitlesOfParts&&_le(n.HeadingPairs,n.TitlesOfParts,e,r),e}function Ele(t){var e=[],r=it;return t||(t={}),t.Application="SheetJS",e[e.length]=Bi,e[e.length]=it("Properties",null,{xmlns:gs.EXT_PROPS,"xmlns:vt":gs.vt}),D0.forEach(function(n){if(t[n[1]]!==void 0){var i;switch(n[2]){case"string":i=un(String(t[n[1]]));break;case"bool":i=t[n[1]]?"true":"false";break}i!==void 0&&(e[e.length]=r(n[0],i))}}),e[e.length]=r("HeadingPairs",r("vt:vector",r("vt:variant","<vt:lpstr>Worksheets</vt:lpstr>")+r("vt:variant",r("vt:i4",String(t.Worksheets))),{size:2,baseType:"variant"})),e[e.length]=r("TitlesOfParts",r("vt:vector",t.SheetNames.map(function(n){return"<vt:lpstr>"+un(n)+"</vt:lpstr>"}).join(""),{size:t.Worksheets,baseType:"lpstr"})),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var eqe=/<[^>]+>[^<]*/g;function tqe(t,e){var r={},n="",i=t.match(eqe);if(i)for(var s=0;s!=i.length;++s){var a=i[s],o=zt(a);switch(o[0]){case"<?xml":break;case"<Properties":break;case"<property":n=Ar(o.name);break;case"</property>":n=null;break;default:if(a.indexOf("<vt:")===0){var l=a.split(">"),u=l[0].slice(4),d=l[1];switch(u){case"lpstr":case"bstr":case"lpwstr":r[n]=Ar(d);break;case"bool":r[n]=$n(d);break;case"i1":case"i2":case"i4":case"i8":case"int":case"uint":r[n]=parseInt(d,10);break;case"r4":case"r8":case"decimal":r[n]=parseFloat(d);break;case"filetime":case"date":r[n]=Wn(d);break;case"cy":case"error":r[n]=Ar(d);break;default:if(u.slice(-1)=="/")break;e.WTF&&typeof console<"u"&&console.warn("Unexpected",a,u,l)}}else if(a.slice(0,2)!=="</"){if(e.WTF)throw new Error(a)}}}return r}function Tle(t){var e=[Bi,it("Properties",null,{xmlns:gs.CUST_PROPS,"xmlns:vt":gs.vt})];if(!t)return e.join("");var r=1;return Ai(t).forEach(function(i){++r,e[e.length]=it("property",uHe(t[i]),{fmtid:"{D5CDD505-2E9C-101B-9397-08002B2CF9AE}",pid:r,name:un(i)})}),e.length>2&&(e[e.length]="</Properties>",e[1]=e[1].replace("/>",">")),e.join("")}var fO={Title:"Title",Subject:"Subject",Author:"Author",Keywords:"Keywords",Comments:"Description",LastAuthor:"LastAuthor",RevNumber:"Revision",Application:"AppName",LastPrinted:"LastPrinted",CreatedDate:"Created",ModifiedDate:"LastSaved",Category:"Category",Manager:"Manager",Company:"Company",AppVersion:"Version",ContentStatus:"ContentStatus",Identifier:"Identifier",Language:"Language"},o5;function rqe(t,e,r){o5||(o5=ak(fO)),e=o5[e]||e,t[e]=r}function nqe(t,e){var r=[];return Ai(fO).map(function(n){for(var i=0;i<Il.length;++i)if(Il[i][1]==n)return Il[i];for(i=0;i<D0.length;++i)if(D0[i][1]==n)return D0[i];throw n}).forEach(function(n){if(t[n[1]]!=null){var i=e&&e.Props&&e.Props[n[1]]!=null?e.Props[n[1]]:t[n[1]];switch(n[2]){case"date":i=new Date(i).toISOString().replace(/\.\d*Z/,"Z");break}typeof i=="number"?i=String(i):i===!0||i===!1?i=i?"1":"0":i instanceof Date&&(i=new Date(i).toISOString().replace(/\.\d*Z/,"")),r.push(aa(fO[n[1]]||n[1],i))}}),it("DocumentProperties",r.join(""),{xmlns:Po.o})}function iqe(t,e){var r=["Worksheets","SheetNames"],n="CustomDocumentProperties",i=[];return t&&Ai(t).forEach(function(s){if(Object.prototype.hasOwnProperty.call(t,s)){for(var a=0;a<Il.length;++a)if(s==Il[a][1])return;for(a=0;a<D0.length;++a)if(s==D0[a][1])return;for(a=0;a<r.length;++a)if(s==r[a])return;var o=t[s],l="string";typeof o=="number"?(l="float",o=String(o)):o===!0||o===!1?(l="boolean",o=o?"1":"0"):o=String(o),i.push(it(MG(s),o,{"dt:dt":l}))}}),e&&Ai(e).forEach(function(s){if(Object.prototype.hasOwnProperty.call(e,s)&&!(t&&Object.prototype.hasOwnProperty.call(t,s))){var a=e[s],o="string";typeof a=="number"?(o="float",a=String(a)):a===!0||a===!1?(o="boolean",a=a?"1":"0"):a instanceof Date?(o="dateTime.tz",a=a.toISOString()):a=String(a),i.push(it(MG(s),a,{"dt:dt":o}))}}),"<"+n+' xmlns="'+Po.o+'">'+i.join("")+"</"+n+">"}function kD(t){var e=t.read_shift(4),r=t.read_shift(4);return new Date((r/1e7*Math.pow(2,32)+e/1e7-11644473600)*1e3).toISOString().replace(/\.000/,"")}function sqe(t){var e=typeof t=="string"?new Date(Date.parse(t)):t,r=e.getTime()/1e3+11644473600,n=r%Math.pow(2,32),i=(r-n)/Math.pow(2,32);n*=1e7,i*=1e7;var s=n/Math.pow(2,32)|0;s>0&&(n=n%Math.pow(2,32),i+=s);var a=Le(8);return a.write_shift(4,n),a.write_shift(4,i),a}function Sle(t,e,r){var n=t.l,i=t.read_shift(0,"lpstr-cp");if(r)for(;t.l-n&3;)++t.l;return i}function kle(t,e,r){var n=t.read_shift(0,"lpwstr");return n}function Ale(t,e,r){return e===31?kle(t):Sle(t,e,r)}function mO(t,e,r){return Ale(t,e,r===!1?0:4)}function aqe(t,e){if(!e)throw new Error("VtUnalignedString must have positive length");return Ale(t,e,0)}function oqe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n){var i=t.l;r[n]=t.read_shift(0,"lpwstr").replace(qa,""),t.l-i&2&&(t.l+=2)}return r}function lqe(t){for(var e=t.read_shift(4),r=[],n=0;n!=e;++n)r[n]=t.read_shift(0,"lpstr-cp").replace(qa,"");return r}function cqe(t){var e=t.l,r=GT(t,ple);t[t.l]==0&&t[t.l+1]==0&&t.l-e&2&&(t.l+=2);var n=GT(t,so);return[r,n]}function uqe(t){for(var e=t.read_shift(4),r=[],n=0;n<e/2;++n)r.push(cqe(t));return r}function QG(t,e){for(var r=t.read_shift(4),n={},i=0;i!=r;++i){var s=t.read_shift(4),a=t.read_shift(4);n[s]=t.read_shift(a,e===1200?"utf16le":"utf8").replace(qa,"").replace(n1,"!"),e===1200&&a%2&&(t.l+=2)}return t.l&3&&(t.l=t.l>>3<<2),n}function Cle(t){var e=t.read_shift(4),r=t.slice(t.l,t.l+e);return t.l+=e,(e&3)>0&&(t.l+=4-(e&3)&3),r}function dqe(t){var e={};return e.Size=t.read_shift(4),t.l+=e.Size+3-(e.Size-1)%4,e}function GT(t,e,r){var n=t.read_shift(2),i,s=r||{};if(t.l+=2,e!==KG&&n!==e&&zHe.indexOf(e)===-1&&!((e&65534)==4126&&(n&65534)==4126))throw new Error("Expected type "+e+" saw "+n);switch(e===KG?n:e){case 2:return i=t.read_shift(2,"i"),s.raw||(t.l+=2),i;case 3:return i=t.read_shift(4,"i"),i;case 11:return t.read_shift(4)!==0;case 19:return i=t.read_shift(4),i;case 30:return Sle(t,n,4).replace(qa,"");case 31:return kle(t);case 64:return kD(t);case 65:return Cle(t);case 71:return dqe(t);case 80:return mO(t,n,!s.raw).replace(qa,"");case 81:return aqe(t,n).replace(qa,"");case 4108:return uqe(t);case 4126:case 4127:return n==4127?oqe(t):lqe(t);default:throw new Error("TypedPropertyValue unrecognized type "+e+" "+n)}}function JG(t,e){var r=Le(4),n=Le(4);switch(r.write_shift(4,t==80?31:t),t){case 3:n.write_shift(-4,e);break;case 5:n=Le(8),n.write_shift(8,e,"f");break;case 11:n.write_shift(4,e?1:0);break;case 64:n=sqe(e);break;case 31:case 80:for(n=Le(4+2*(e.length+1)+(e.length%2?0:2)),n.write_shift(4,e.length+1),n.write_shift(0,e,"dbcs");n.l!=n.length;)n.write_shift(1,0);break;default:throw new Error("TypedPropertyValue unrecognized type "+t+" "+e)}return Fs([r,n])}function ZG(t,e){var r=t.l,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0,o=0,l=-1,u={};for(a=0;a!=i;++a){var d=t.read_shift(4),f=t.read_shift(4);s[a]=[d,f+r]}s.sort(function(k,A){return k[1]-A[1]});var g={};for(a=0;a!=i;++a){if(t.l!==s[a][1]){var v=!0;if(a>0&&e)switch(e[s[a-1][0]].t){case 2:t.l+2===s[a][1]&&(t.l+=2,v=!1);break;case 80:t.l<=s[a][1]&&(t.l=s[a][1],v=!1);break;case 4108:t.l<=s[a][1]&&(t.l=s[a][1],v=!1);break}if((!e||a==0)&&t.l<=s[a][1]&&(v=!1,t.l=s[a][1]),v)throw new Error("Read Error: Expected address "+s[a][1]+" at "+t.l+" :"+a)}if(e){var x=e[s[a][0]];if(g[x.n]=GT(t,x.t,{raw:!0}),x.p==="version"&&(g[x.n]=String(g[x.n]>>16)+"."+("0000"+String(g[x.n]&65535)).slice(-4)),x.n=="CodePage")switch(g[x.n]){case 0:g[x.n]=1252;case 874:case 932:case 936:case 949:case 950:case 1250:case 1251:case 1253:case 1254:case 1255:case 1256:case 1257:case 1258:case 1e4:case 1200:case 1201:case 1252:case 65e3:case-536:case 65001:case-535:oc(o=g[x.n]>>>0&65535);break;default:throw new Error("Unsupported CodePage: "+g[x.n])}}else if(s[a][0]===1){if(o=g.CodePage=GT(t,TD),oc(o),l!==-1){var b=t.l;t.l=s[l][1],u=QG(t,o),t.l=b}}else if(s[a][0]===0){if(o===0){l=a,t.l=s[a+1][1];continue}u=QG(t,o)}else{var w=u[s[a][0]],E;switch(t[t.l]){case 65:t.l+=4,E=Cle(t);break;case 30:t.l+=4,E=mO(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 31:t.l+=4,E=mO(t,t[t.l-4]).replace(/\u0000+$/,"");break;case 3:t.l+=4,E=t.read_shift(4,"i");break;case 19:t.l+=4,E=t.read_shift(4);break;case 5:t.l+=4,E=t.read_shift(8,"f");break;case 11:t.l+=4,E=Pi(t,4);break;case 64:t.l+=4,E=Wn(kD(t));break;default:throw new Error("unparsed value: "+t[t.l])}g[w]=E}}return t.l=r+n,g}var Nle=["CodePage","Thumbnail","_PID_LINKBASE","_PID_HLINKS","SystemIdentifier","FMTID"];function hqe(t){switch(typeof t){case"boolean":return 11;case"number":return(t|0)==t?3:5;case"string":return 31;case"object":if(t instanceof Date)return 64;break}return-1}function eK(t,e,r){var n=Le(8),i=[],s=[],a=8,o=0,l=Le(8),u=Le(8);if(l.write_shift(4,2),l.write_shift(4,1200),u.write_shift(4,1),s.push(l),i.push(u),a+=8+l.length,!e){u=Le(8),u.write_shift(4,0),i.unshift(u);var d=[Le(4)];for(d[0].write_shift(4,t.length),o=0;o<t.length;++o){var f=t[o][0];for(l=Le(8+2*(f.length+1)+(f.length%2?0:2)),l.write_shift(4,o+2),l.write_shift(4,f.length+1),l.write_shift(0,f,"dbcs");l.l!=l.length;)l.write_shift(1,0);d.push(l)}l=Fs(d),s.unshift(l),a+=8+l.length}for(o=0;o<t.length;++o)if(!(e&&!e[t[o][0]])&&!(Nle.indexOf(t[o][0])>-1||wle.indexOf(t[o][0])>-1)&&t[o][1]!=null){var g=t[o][1],v=0;if(e){v=+e[t[o][0]];var x=r[v];if(x.p=="version"&&typeof g=="string"){var b=g.split(".");g=(+b[0]<<16)+(+b[1]||0)}l=JG(x.t,g)}else{var w=hqe(g);w==-1&&(w=31,g=String(g)),l=JG(w,g)}s.push(l),u=Le(8),u.write_shift(4,e?v:2+o),i.push(u),a+=8+l.length}var E=8*(s.length+1);for(o=0;o<s.length;++o)i[o].write_shift(4,E),E+=s[o].length;return n.write_shift(4,a),n.write_shift(4,s.length),Fs([n].concat(i).concat(s))}function tK(t,e,r){var n=t.content;if(!n)return{};na(n,0);var i,s,a,o,l=0;n.chk("feff","Byte Order: "),n.read_shift(2);var u=n.read_shift(4),d=n.read_shift(16);if(d!==Nt.utils.consts.HEADER_CLSID&&d!==r)throw new Error("Bad PropertySet CLSID "+d);if(i=n.read_shift(4),i!==1&&i!==2)throw new Error("Unrecognized #Sets: "+i);if(s=n.read_shift(16),o=n.read_shift(4),i===1&&o!==n.l)throw new Error("Length mismatch: "+o+" !== "+n.l);i===2&&(a=n.read_shift(16),l=n.read_shift(4));var f=ZG(n,e),g={SystemIdentifier:u};for(var v in f)g[v]=f[v];if(g.FMTID=s,i===1)return g;if(l-n.l==2&&(n.l+=2),n.l!==l)throw new Error("Length mismatch 2: "+n.l+" !== "+l);var x;try{x=ZG(n,null)}catch{}for(v in x)g[v]=x[v];return g.FMTID=[s,a],g}function rK(t,e,r,n,i,s){var a=Le(i?68:48),o=[a];a.write_shift(2,65534),a.write_shift(2,0),a.write_shift(4,842412599),a.write_shift(16,Nt.utils.consts.HEADER_CLSID,"hex"),a.write_shift(4,i?2:1),a.write_shift(16,e,"hex"),a.write_shift(4,i?68:48);var l=eK(t,r,n);if(o.push(l),i){var u=eK(i,null,null);a.write_shift(16,s,"hex"),a.write_shift(4,68+l.length),o.push(u)}return Fs(o)}function gh(t,e){return t.read_shift(e),null}function fqe(t,e){e||(e=Le(t));for(var r=0;r<t;++r)e.write_shift(1,0);return e}function mqe(t,e,r){for(var n=[],i=t.l+e;t.l<i;)n.push(r(t,i-t.l));if(i!==t.l)throw new Error("Slurp error");return n}function Pi(t,e){return t.read_shift(e)===1}function Va(t,e){return e||(e=Le(2)),e.write_shift(2,+!!t),e}function Zi(t){return t.read_shift(2,"u")}function wl(t,e){return e||(e=Le(2)),e.write_shift(2,t),e}function Ile(t,e){return mqe(t,e,Zi)}function pqe(t){var e=t.read_shift(1),r=t.read_shift(1);return r===1?e:e===1}function Ole(t,e,r){return r||(r=Le(2)),r.write_shift(1,e=="e"?+t:+!!t),r.write_shift(1,e=="e"?1:0),r}function Fb(t,e,r){var n=t.read_shift(r&&r.biff>=12?2:1),i="sbcs-cont";if(r&&r.biff>=8,!r||r.biff==8){var s=t.read_shift(1);s&&(i="dbcs-cont")}else r.biff==12&&(i="wstr");r.biff>=2&&r.biff<=5&&(i="cpstr");var a=n?t.read_shift(n,i):"";return a}function gqe(t){var e=t.read_shift(2),r=t.read_shift(1),n=r&4,i=r&8,s=1+(r&1),a=0,o,l={};i&&(a=t.read_shift(2)),n&&(o=t.read_shift(4));var u=s==2?"dbcs-cont":"sbcs-cont",d=e===0?"":t.read_shift(e,u);return i&&(t.l+=4*a),n&&(t.l+=o),l.t=d,i||(l.raw="<t>"+l.t+"</t>",l.r=l.t),l}function vqe(t){var e=t.t||"",r=Le(3);r.write_shift(2,e.length),r.write_shift(1,1);var n=Le(2*e.length);n.write_shift(2*e.length,e,"utf16le");var i=[r,n];return Fs(i)}function am(t,e,r){var n;if(r){if(r.biff>=2&&r.biff<=5)return t.read_shift(e,"cpstr");if(r.biff>=12)return t.read_shift(e,"dbcs-cont")}var i=t.read_shift(1);return i===0?n=t.read_shift(e,"sbcs-cont"):n=t.read_shift(e,"dbcs-cont"),n}function Bb(t,e,r){var n=t.read_shift(r&&r.biff==2?1:2);return n===0?(t.l++,""):am(t,n,r)}function Nm(t,e,r){if(r.biff>5)return Bb(t,e,r);var n=t.read_shift(1);return n===0?(t.l++,""):t.read_shift(n,r.biff<=4||!t.lens?"cpstr":"sbcs-cont")}function Rle(t,e,r){return r||(r=Le(3+2*t.length)),r.write_shift(2,t.length),r.write_shift(1,1),r.write_shift(31,t,"utf16le"),r}function yqe(t){var e=t.read_shift(1);t.l++;var r=t.read_shift(2);return t.l+=2,[e,r]}function xqe(t){var e=t.read_shift(4),r=t.l,n=!1;e>24&&(t.l+=e-24,t.read_shift(16)==="795881f43b1d7f48af2c825dc4852763"&&(n=!0),t.l=r);var i=t.read_shift((n?e-24:e)>>1,"utf16le").replace(qa,"");return n&&(t.l+=24),i}function bqe(t){for(var e=t.read_shift(2),r="";e-- >0;)r+="../";var n=t.read_shift(0,"lpstr-ansi");if(t.l+=2,t.read_shift(2)!=57005)throw new Error("Bad FileMoniker");var i=t.read_shift(4);if(i===0)return r+n.replace(/\\/g,"/");var s=t.read_shift(4);if(t.read_shift(2)!=3)throw new Error("Bad FileMoniker");var a=t.read_shift(s>>1,"utf16le").replace(qa,"");return r+a}function wqe(t,e){var r=t.read_shift(16);switch(r){case"e0c9ea79f9bace118c8200aa004ba90b":return xqe(t);case"0303000000000000c000000000000046":return bqe(t);default:throw new Error("Unsupported Moniker "+r)}}function o2(t){var e=t.read_shift(4),r=e>0?t.read_shift(e,"utf16le").replace(qa,""):"";return r}function nK(t,e){e||(e=Le(6+t.length*2)),e.write_shift(4,1+t.length);for(var r=0;r<t.length;++r)e.write_shift(2,t.charCodeAt(r));return e.write_shift(2,0),e}function _qe(t,e){var r=t.l+e,n=t.read_shift(4);if(n!==2)throw new Error("Unrecognized streamVersion: "+n);var i=t.read_shift(2);t.l+=2;var s,a,o,l,u="",d,f;i&16&&(s=o2(t,r-t.l)),i&128&&(a=o2(t,r-t.l)),(i&257)===257&&(o=o2(t,r-t.l)),(i&257)===1&&(l=wqe(t,r-t.l)),i&8&&(u=o2(t,r-t.l)),i&32&&(d=t.read_shift(16)),i&64&&(f=kD(t)),t.l=r;var g=a||o||l||"";g&&u&&(g+="#"+u),g||(g="#"+u),i&2&&g.charAt(0)=="/"&&g.charAt(1)!="/"&&(g="file://"+g);var v={Target:g};return d&&(v.guid=d),f&&(v.time=f),s&&(v.Tooltip=s),v}function Eqe(t){var e=Le(512),r=0,n=t.Target;n.slice(0,7)=="file://"&&(n=n.slice(7));var i=n.indexOf("#"),s=i>-1?31:23;switch(n.charAt(0)){case"#":s=28;break;case".":s&=-3;break}e.write_shift(4,2),e.write_shift(4,s);var a=[8,6815827,6619237,4849780,83];for(r=0;r<a.length;++r)e.write_shift(4,a[r]);if(s==28)n=n.slice(1),nK(n,e);else if(s&2){for(a="e0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));var o=i>-1?n.slice(0,i):n;for(e.write_shift(4,2*(o.length+1)),r=0;r<o.length;++r)e.write_shift(2,o.charCodeAt(r));e.write_shift(2,0),s&8&&nK(i>-1?n.slice(i+1):"",e)}else{for(a="03 03 00 00 00 00 00 00 c0 00 00 00 00 00 00 46".split(" "),r=0;r<a.length;++r)e.write_shift(1,parseInt(a[r],16));for(var l=0;n.slice(l*3,l*3+3)=="../"||n.slice(l*3,l*3+3)=="..\\";)++l;for(e.write_shift(2,l),e.write_shift(4,n.length-3*l+1),r=0;r<n.length-3*l;++r)e.write_shift(1,n.charCodeAt(r+3*l)&255);for(e.write_shift(1,0),e.write_shift(2,65535),e.write_shift(2,57005),r=0;r<6;++r)e.write_shift(4,0)}return e.slice(0,e.l)}function Ple(t){var e=t.read_shift(1),r=t.read_shift(1),n=t.read_shift(1),i=t.read_shift(1);return[e,r,n,i]}function jle(t,e){var r=Ple(t);return r[3]=0,r}function pu(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return{r:e,c:r,ixfe:n}}function om(t,e,r,n){return n||(n=Le(6)),n.write_shift(2,t),n.write_shift(2,e),n.write_shift(2,r||0),n}function Tqe(t){var e=t.read_shift(2),r=t.read_shift(2);return t.l+=8,{type:e,flags:r}}function Sqe(t,e,r){return e===0?"":Nm(t,e,r)}function kqe(t,e,r){var n=r.biff>8?4:2,i=t.read_shift(n),s=t.read_shift(n,"i"),a=t.read_shift(n,"i");return[i,s,a]}function Dle(t){var e=t.read_shift(2),r=ED(t);return[e,r]}function Aqe(t,e,r){t.l+=4,e-=4;var n=t.l+e,i=Fb(t,e,r),s=t.read_shift(2);if(n-=t.l,s!==n)throw new Error("Malformed AddinUdf: padding = "+n+" != "+s);return t.l+=s,i}function ck(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2);return{s:{c:n,r:e},e:{c:i,r}}}function Mle(t,e){return e||(e=Le(8)),e.write_shift(2,t.s.r),e.write_shift(2,t.e.r),e.write_shift(2,t.s.c),e.write_shift(2,t.e.c),e}function Lle(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(1),i=t.read_shift(1);return{s:{c:n,r:e},e:{c:i,r}}}var Cqe=Lle;function Fle(t){t.l+=4;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2);return t.l+=12,[r,e,n]}function Nqe(t){var e={};return t.l+=4,t.l+=16,e.fSharedNote=t.read_shift(2),t.l+=4,e}function Iqe(t){var e={};return t.l+=4,t.cf=t.read_shift(2),e}function ga(t){t.l+=2,t.l+=t.read_shift(2)}var Oqe={0:ga,4:ga,5:ga,6:ga,7:Iqe,8:ga,9:ga,10:ga,11:ga,12:ga,13:Nqe,14:ga,15:ga,16:ga,17:ga,18:ga,19:ga,20:ga,21:Fle};function Rqe(t,e){for(var r=t.l+e,n=[];t.l<r;){var i=t.read_shift(2);t.l-=2;try{n.push(Oqe[i](t,r-t.l))}catch{return t.l=r,n}}return t.l!=r&&(t.l=r),n}function l2(t,e){var r={BIFFVer:0,dt:0};switch(r.BIFFVer=t.read_shift(2),e-=2,e>=2&&(r.dt=t.read_shift(2),t.l-=2),r.BIFFVer){case 1536:case 1280:case 1024:case 768:case 512:case 2:case 7:break;default:if(e>6)throw new Error("Unexpected BIFF Ver "+r.BIFFVer)}return t.read_shift(e),r}function AD(t,e,r){var n=1536,i=16;switch(r.bookType){case"biff8":break;case"biff5":n=1280,i=8;break;case"biff4":n=4,i=6;break;case"biff3":n=3,i=6;break;case"biff2":n=2,i=4;break;case"xla":break;default:throw new Error("unsupported BIFF version")}var s=Le(i);return s.write_shift(2,n),s.write_shift(2,e),i>4&&s.write_shift(2,29282),i>6&&s.write_shift(2,1997),i>8&&(s.write_shift(2,49161),s.write_shift(2,1),s.write_shift(2,1798),s.write_shift(2,0)),s}function Pqe(t,e){return e===0||t.read_shift(2),1200}function jqe(t,e,r){if(r.enc)return t.l+=e,"";var n=t.l,i=Nm(t,0,r);return t.read_shift(e+n-t.l),i}function Dqe(t,e){var r=!e||e.biff==8,n=Le(r?112:54);for(n.write_shift(e.biff==8?2:1,7),r&&n.write_shift(1,0),n.write_shift(4,859007059),n.write_shift(4,5458548|(r?0:536870912));n.l<n.length;)n.write_shift(1,r?0:32);return n}function Mqe(t,e,r){var n=r&&r.biff==8||e==2?t.read_shift(2):(t.l+=e,0);return{fDialog:n&16,fBelow:n&64,fRight:n&128}}function Lqe(t,e,r){var n=t.read_shift(4),i=t.read_shift(1)&3,s=t.read_shift(1);switch(s){case 0:s="Worksheet";break;case 1:s="Macrosheet";break;case 2:s="Chartsheet";break;case 6:s="VBAModule";break}var a=Fb(t,0,r);return a.length===0&&(a="Sheet1"),{pos:n,hs:i,dt:s,name:a}}function Fqe(t,e){var r=!e||e.biff>=8?2:1,n=Le(8+r*t.name.length);n.write_shift(4,t.pos),n.write_shift(1,t.hs||0),n.write_shift(1,t.dt),n.write_shift(1,t.name.length),e.biff>=8&&n.write_shift(1,1),n.write_shift(r*t.name.length,t.name,e.biff<8?"sbcs":"utf16le");var i=n.slice(0,n.l);return i.l=n.l,i}function Bqe(t,e){for(var r=t.l+e,n=t.read_shift(4),i=t.read_shift(4),s=[],a=0;a!=i&&t.l<r;++a)s.push(gqe(t));return s.Count=n,s.Unique=i,s}function Vqe(t,e){var r=Le(8);r.write_shift(4,t.Count),r.write_shift(4,t.Unique);for(var n=[],i=0;i<t.length;++i)n[i]=vqe(t[i]);var s=Fs([r].concat(n));return s.parts=[r.length].concat(n.map(function(a){return a.length})),s}function Uqe(t,e){var r={};return r.dsst=t.read_shift(2),t.l+=e-2,r}function zqe(t){var e={};e.r=t.read_shift(2),e.c=t.read_shift(2),e.cnt=t.read_shift(2)-e.c;var r=t.read_shift(2);t.l+=4;var n=t.read_shift(1);return t.l+=3,n&7&&(e.level=n&7),n&32&&(e.hidden=!0),n&64&&(e.hpt=r/20),e}function $qe(t){var e=Tqe(t);if(e.type!=2211)throw new Error("Invalid Future Record "+e.type);var r=t.read_shift(4);return r!==0}function Hqe(t){return t.read_shift(2),t.read_shift(4)}function iK(t,e,r){var n=0;r&&r.biff==2||(n=t.read_shift(2));var i=t.read_shift(2);r&&r.biff==2&&(n=1-(i>>15),i&=32767);var s={Unsynced:n&1,DyZero:(n&2)>>1,ExAsc:(n&4)>>2,ExDsc:(n&8)>>3};return[s,i]}function qqe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=t.read_shift(2),l=t.read_shift(2),u=t.read_shift(2);return{Pos:[e,r],Dim:[n,i],Flags:s,CurTab:a,FirstTab:o,Selected:l,TabRatio:u}}function Wqe(){var t=Le(18);return t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,29280),t.write_shift(2,17600),t.write_shift(2,56),t.write_shift(2,0),t.write_shift(2,0),t.write_shift(2,1),t.write_shift(2,500),t}function Gqe(t,e,r){if(r&&r.biff>=2&&r.biff<5)return{};var n=t.read_shift(2);return{RTL:n&64}}function Kqe(t){var e=Le(18),r=1718;return t&&t.RTL&&(r|=64),e.write_shift(2,r),e.write_shift(4,0),e.write_shift(4,64),e.write_shift(4,0),e.write_shift(4,0),e}function Yqe(){}function Xqe(t,e,r){var n={dyHeight:t.read_shift(2),fl:t.read_shift(2)};switch(r&&r.biff||8){case 2:break;case 3:case 4:t.l+=2;break;default:t.l+=10;break}return n.name=Fb(t,0,r),n}function Qqe(t,e){var r=t.name||"Arial",n=e&&e.biff==5,i=n?15+r.length:16+2*r.length,s=Le(i);return s.write_shift(2,t.sz*20),s.write_shift(4,0),s.write_shift(2,400),s.write_shift(4,0),s.write_shift(2,0),s.write_shift(1,r.length),n||s.write_shift(1,1),s.write_shift((n?1:2)*r.length,r,n?"sbcs":"utf16le"),s}function Jqe(t){var e=pu(t);return e.isst=t.read_shift(4),e}function Zqe(t,e,r,n){var i=Le(10);return om(t,e,n,i),i.write_shift(4,r),i}function eWe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=t.l+e,i=pu(t);r.biff==2&&t.l++;var s=Bb(t,n-t.l,r);return i.val=s,i}function tWe(t,e,r,n,i){var s=!i||i.biff==8,a=Le(8+ +s+(1+s)*r.length);return om(t,e,n,a),a.write_shift(2,r.length),s&&a.write_shift(1,1),a.write_shift((1+s)*r.length,r,s?"utf16le":"sbcs"),a}function rWe(t,e,r){var n=t.read_shift(2),i=Nm(t,0,r);return[n,i]}function nWe(t,e,r,n){var i=r&&r.biff==5;n||(n=Le(i?3+e.length:5+2*e.length)),n.write_shift(2,t),n.write_shift(i?1:2,e.length),i||n.write_shift(1,1),n.write_shift((i?1:2)*e.length,e,i?"sbcs":"utf16le");var s=n.length>n.l?n.slice(0,n.l):n;return s.l==null&&(s.l=s.length),s}var iWe=Nm;function sK(t,e,r){var n=t.l+e,i=r.biff==8||!r.biff?4:2,s=t.read_shift(i),a=t.read_shift(i),o=t.read_shift(2),l=t.read_shift(2);return t.l=n,{s:{r:s,c:o},e:{r:a,c:l}}}function sWe(t,e){var r=e.biff==8||!e.biff?4:2,n=Le(2*r+6);return n.write_shift(r,t.s.r),n.write_shift(r,t.e.r+1),n.write_shift(2,t.s.c),n.write_shift(2,t.e.c+1),n.write_shift(2,0),n}function aWe(t){var e=t.read_shift(2),r=t.read_shift(2),n=Dle(t);return{r:e,c:r,ixfe:n[0],rknum:n[1]}}function oWe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(Dle(t));if(t.l!==r)throw new Error("MulRK read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulRK length mismatch");return{r:n,c:i,C:a,rkrec:s}}function lWe(t,e){for(var r=t.l+e-2,n=t.read_shift(2),i=t.read_shift(2),s=[];t.l<r;)s.push(t.read_shift(2));if(t.l!==r)throw new Error("MulBlank read error");var a=t.read_shift(2);if(s.length!=a-i+1)throw new Error("MulBlank length mismatch");return{r:n,c:i,C:a,ixfe:s}}function cWe(t,e,r,n){var i={},s=t.read_shift(4),a=t.read_shift(4),o=t.read_shift(4),l=t.read_shift(2);return i.patternType=$He[o>>26],n.cellStyles&&(i.alc=s&7,i.fWrap=s>>3&1,i.alcV=s>>4&7,i.fJustLast=s>>7&1,i.trot=s>>8&255,i.cIndent=s>>16&15,i.fShrinkToFit=s>>20&1,i.iReadOrder=s>>22&2,i.fAtrNum=s>>26&1,i.fAtrFnt=s>>27&1,i.fAtrAlc=s>>28&1,i.fAtrBdr=s>>29&1,i.fAtrPat=s>>30&1,i.fAtrProt=s>>31&1,i.dgLeft=a&15,i.dgRight=a>>4&15,i.dgTop=a>>8&15,i.dgBottom=a>>12&15,i.icvLeft=a>>16&127,i.icvRight=a>>23&127,i.grbitDiag=a>>30&3,i.icvTop=o&127,i.icvBottom=o>>7&127,i.icvDiag=o>>14&127,i.dgDiag=o>>21&15,i.icvFore=l&127,i.icvBack=l>>7&127,i.fsxButton=l>>14&1),i}function uWe(t,e,r){var n={};return n.ifnt=t.read_shift(2),n.numFmtId=t.read_shift(2),n.flags=t.read_shift(2),n.fStyle=n.flags>>2&1,e-=6,n.data=cWe(t,e,n.fStyle,r),n}function aK(t,e,r,n){var i=r&&r.biff==5;n||(n=Le(i?16:20)),n.write_shift(2,0),t.style?(n.write_shift(2,t.numFmtId||0),n.write_shift(2,65524)):(n.write_shift(2,t.numFmtId||0),n.write_shift(2,e<<4));var s=0;return t.numFmtId>0&&i&&(s|=1024),n.write_shift(4,s),n.write_shift(4,0),i||n.write_shift(4,0),n.write_shift(2,0),n}function dWe(t){t.l+=4;var e=[t.read_shift(2),t.read_shift(2)];if(e[0]!==0&&e[0]--,e[1]!==0&&e[1]--,e[0]>7||e[1]>7)throw new Error("Bad Gutters: "+e.join("|"));return e}function hWe(t){var e=Le(8);return e.write_shift(4,0),e.write_shift(2,0),e.write_shift(2,0),e}function oK(t,e,r){var n=pu(t);(r.biff==2||e==9)&&++t.l;var i=pqe(t);return n.val=i,n.t=i===!0||i===!1?"b":"e",n}function fWe(t,e,r,n,i,s){var a=Le(8);return om(t,e,n,a),Ole(r,s,a),a}function mWe(t,e,r){r.biffguess&&r.biff==2&&(r.biff=5);var n=pu(t),i=Ta(t);return n.val=i,n}function pWe(t,e,r,n){var i=Le(14);return om(t,e,n,i),sm(r,i),i}var lK=Sqe;function gWe(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(2);if(r.sbcch=s,s==1025||s==14849)return[s,i];if(s<1||s>255)throw new Error("Unexpected SupBook type: "+s);for(var a=am(t,s),o=[];n>t.l;)o.push(Bb(t));return[s,i,a,o]}function cK(t,e,r){var n=t.read_shift(2),i,s={fBuiltIn:n&1,fWantAdvise:n>>>1&1,fWantPict:n>>>2&1,fOle:n>>>3&1,fOleLink:n>>>4&1,cf:n>>>5&1023,fIcon:n>>>15&1};return r.sbcch===14849&&(i=Aqe(t,e-2,r)),s.body=i||t.read_shift(e-2),typeof i=="string"&&(s.Name=i),s}var vWe=["_xlnm.Consolidate_Area","_xlnm.Auto_Open","_xlnm.Auto_Close","_xlnm.Extract","_xlnm.Database","_xlnm.Criteria","_xlnm.Print_Area","_xlnm.Print_Titles","_xlnm.Recorder","_xlnm.Data_Form","_xlnm.Auto_Activate","_xlnm.Auto_Deactivate","_xlnm.Sheet_Title","_xlnm._FilterDatabase"];function uK(t,e,r){var n=t.l+e,i=t.read_shift(2),s=t.read_shift(1),a=t.read_shift(1),o=t.read_shift(r&&r.biff==2?1:2),l=0;(!r||r.biff>=5)&&(r.biff!=5&&(t.l+=2),l=t.read_shift(2),r.biff==5&&(t.l+=2),t.l+=4);var u=am(t,a,r);i&32&&(u=vWe[u.charCodeAt(0)]);var d=n-t.l;r&&r.biff==2&&--d;var f=n==t.l||o===0||!(d>0)?[]:RXe(t,d,r,o);return{chKey:s,Name:u,itab:l,rgce:f}}function Ble(t,e,r){if(r.biff<8)return yWe(t,e,r);for(var n=[],i=t.l+e,s=t.read_shift(r.biff>8?4:2);s--!==0;)n.push(kqe(t,r.biff>8?12:6,r));if(t.l!=i)throw new Error("Bad ExternSheet: "+t.l+" != "+i);return n}function yWe(t,e,r){t[t.l+1]==3&&t[t.l]++;var n=Fb(t,e,r);return n.charCodeAt(0)==3?n.slice(1):n}function xWe(t,e,r){if(r.biff<8){t.l+=e;return}var n=t.read_shift(2),i=t.read_shift(2),s=am(t,n,r),a=am(t,i,r);return[s,a]}function bWe(t,e,r){var n=Lle(t);t.l++;var i=t.read_shift(1);return e-=8,[PXe(t,e,r),i,n]}function dK(t,e,r){var n=Cqe(t);switch(r.biff){case 2:t.l++,e-=7;break;case 3:case 4:t.l+=2,e-=8;break;default:t.l+=6,e-=12}return[n,IXe(t,e,r)]}function wWe(t){var e=t.read_shift(4)!==0,r=t.read_shift(4)!==0,n=t.read_shift(4);return[e,r,n]}function _We(t,e,r){if(!(r.biff<8)){var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2),a=t.read_shift(2),o=Nm(t,0,r);return r.biff<8&&t.read_shift(1),[{r:n,c:i},o,a,s]}}function EWe(t,e,r){return _We(t,e,r)}function TWe(t,e){for(var r=[],n=t.read_shift(2);n--;)r.push(ck(t));return r}function SWe(t){var e=Le(2+t.length*8);e.write_shift(2,t.length);for(var r=0;r<t.length;++r)Mle(t[r],e);return e}function kWe(t,e,r){if(r&&r.biff<8)return CWe(t,e,r);var n=Fle(t),i=Rqe(t,e-22,n[1]);return{cmo:n,ft:i}}var AWe={8:function(t,e){var r=t.l+e;t.l+=10;var n=t.read_shift(2);t.l+=4,t.l+=2,t.l+=2,t.l+=2,t.l+=4;var i=t.read_shift(1);return t.l+=i,t.l=r,{fmt:n}}};function CWe(t,e,r){t.l+=4;var n=t.read_shift(2),i=t.read_shift(2),s=t.read_shift(2);t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=2,t.l+=6,e-=36;var a=[];return a.push((AWe[n]||Ra)(t,e,r)),{cmo:[i,n,s],ft:a}}function NWe(t,e,r){var n=t.l,i="";try{t.l+=4;var s=(r.lastobj||{cmo:[0,0]}).cmo[1],a;[0,5,7,11,12,14].indexOf(s)==-1?t.l+=6:a=yqe(t,6,r);var o=t.read_shift(2);t.read_shift(2),Zi(t,2);var l=t.read_shift(2);t.l+=l;for(var u=1;u<t.lens.length-1;++u){if(t.l-n!=t.lens[u])throw new Error("TxO: bad continue record");var d=t[t.l],f=am(t,t.lens[u+1]-t.lens[u]-1);if(i+=f,i.length>=(d?o:2*o))break}if(i.length!==o&&i.length!==o*2)throw new Error("cchText: "+o+" != "+i.length);return t.l=n+e,{t:i}}catch{return t.l=n+e,{t:i}}}function IWe(t,e){var r=ck(t);t.l+=16;var n=_qe(t,e-24);return[r,n]}function OWe(t){var e=Le(24),r=fi(t[0]);e.write_shift(2,r.r),e.write_shift(2,r.r),e.write_shift(2,r.c),e.write_shift(2,r.c);for(var n="d0 c9 ea 79 f9 ba ce 11 8c 82 00 aa 00 4b a9 0b".split(" "),i=0;i<16;++i)e.write_shift(1,parseInt(n[i],16));return Fs([e,Eqe(t[1])])}function RWe(t,e){t.read_shift(2);var r=ck(t),n=t.read_shift((e-10)/2,"dbcs-cont");return n=n.replace(qa,""),[r,n]}function PWe(t){var e=t[1].Tooltip,r=Le(10+2*(e.length+1));r.write_shift(2,2048);var n=fi(t[0]);r.write_shift(2,n.r),r.write_shift(2,n.r),r.write_shift(2,n.c),r.write_shift(2,n.c);for(var i=0;i<e.length;++i)r.write_shift(2,e.charCodeAt(i));return r.write_shift(2,0),r}function jWe(t){var e=[0,0],r;return r=t.read_shift(2),e[0]=YG[r]||r,r=t.read_shift(2),e[1]=YG[r]||r,e}function DWe(t){return t||(t=Le(4)),t.write_shift(2,1),t.write_shift(2,1),t}function MWe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(jle(t));return r}function LWe(t){for(var e=t.read_shift(2),r=[];e-- >0;)r.push(jle(t));return r}function FWe(t){t.l+=2;var e={cxfs:0,crc:0};return e.cxfs=t.read_shift(2),e.crc=t.read_shift(4),e}function Vle(t,e,r){if(!r.cellStyles)return Ra(t,e);var n=r&&r.biff>=12?4:2,i=t.read_shift(n),s=t.read_shift(n),a=t.read_shift(n),o=t.read_shift(n),l=t.read_shift(2);n==2&&(t.l+=2);var u={s:i,e:s,w:a,ixfe:o,flags:l};return(r.biff>=5||!r.biff)&&(u.level=l>>8&7),u}function BWe(t,e){var r=Le(12);r.write_shift(2,e),r.write_shift(2,e),r.write_shift(2,t.width*256),r.write_shift(2,0);var n=0;return t.hidden&&(n|=1),r.write_shift(1,n),n=t.level||0,r.write_shift(1,n),r.write_shift(2,0),r}function VWe(t,e){var r={};return e<32||(t.l+=16,r.header=Ta(t),r.footer=Ta(t),t.l+=2),r}function UWe(t,e,r){var n={area:!1};if(r.biff!=5)return t.l+=e,n;var i=t.read_shift(1);return t.l+=3,i&16&&(n.area=!0),n}function zWe(t){for(var e=Le(2*t),r=0;r<t;++r)e.write_shift(2,r+1);return e}var $We=pu,HWe=Ile,qWe=Bb;function WWe(t){var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i={fmt:e,env:r,len:n,data:t.slice(t.l,t.l+n)};return t.l+=n,i}function GWe(t,e,r){r.biffguess&&r.biff==5&&(r.biff=2);var n=pu(t);++t.l;var i=Nm(t,e-7,r);return n.t="str",n.val=i,n}function KWe(t){var e=pu(t);++t.l;var r=Ta(t);return e.t="n",e.val=r,e}function YWe(t,e,r){var n=Le(15);return $b(n,t,e),n.write_shift(8,r,"f"),n}function XWe(t){var e=pu(t);++t.l;var r=t.read_shift(2);return e.t="n",e.val=r,e}function QWe(t,e,r){var n=Le(9);return $b(n,t,e),n.write_shift(2,r),n}function JWe(t){var e=t.read_shift(1);return e===0?(t.l++,""):t.read_shift(e,"sbcs-cont")}function ZWe(t,e){t.l+=6,t.l+=2,t.l+=1,t.l+=3,t.l+=1,t.l+=e-13}function eGe(t,e,r){var n=t.l+e,i=pu(t),s=t.read_shift(2),a=am(t,s,r);return t.l=n,i.t="str",i.val=a,i}var tGe=[2,3,48,49,131,139,140,245],pO=(function(){var t={1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127,8:865,9:437,10:850,11:437,13:437,14:850,15:437,16:850,17:437,18:850,19:932,20:850,21:437,22:850,23:865,24:437,25:437,26:850,27:437,28:863,29:850,31:852,34:852,35:852,36:860,37:850,38:866,55:850,64:852,77:936,78:949,79:950,80:874,87:1252,88:1252,89:1252,108:863,134:737,135:852,136:857,204:1257,255:16969},e=ak({1:437,2:850,3:1252,4:1e4,100:852,101:866,102:865,103:861,104:895,105:620,106:737,107:857,120:950,121:949,122:936,123:932,124:874,125:1255,126:1256,150:10007,151:10029,152:10006,200:1250,201:1251,202:1254,203:1253,0:20127});function r(o,l){var u=[],d=of(1);switch(l.type){case"base64":d=Bo(Xo(o));break;case"binary":d=Bo(o);break;case"buffer":case"array":d=o;break}na(d,0);var f=d.read_shift(1),g=!!(f&136),v=!1,x=!1;switch(f){case 2:break;case 3:break;case 48:v=!0,g=!0;break;case 49:v=!0,g=!0;break;case 131:break;case 139:break;case 140:x=!0;break;case 245:break;default:throw new Error("DBF Unsupported Version: "+f.toString(16))}var b=0,w=521;f==2&&(b=d.read_shift(2)),d.l+=3,f!=2&&(b=d.read_shift(4)),b>1048576&&(b=1e6),f!=2&&(w=d.read_shift(2));var E=d.read_shift(2),k=l.codepage||1252;f!=2&&(d.l+=16,d.read_shift(1),d[d.l]!==0&&(k=t[d[d.l]]),d.l+=1,d.l+=2),x&&(d.l+=36);for(var A=[],O={},P=Math.min(d.length,f==2?521:w-10-(v?264:0)),j=x?32:11;d.l<P&&d[d.l]!=13;)switch(O={},O.name=Ex.utils.decode(k,d.slice(d.l,d.l+j)).replace(/[\u0000\r\n].*$/g,""),d.l+=j,O.type=String.fromCharCode(d.read_shift(1)),f!=2&&!x&&(O.offset=d.read_shift(4)),O.len=d.read_shift(1),f==2&&(O.offset=d.read_shift(2)),O.dec=d.read_shift(1),O.name.length&&A.push(O),f!=2&&(d.l+=x?13:14),O.type){case"B":(!v||O.len!=8)&&l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"G":case"P":l.WTF&&console.log("Skipping "+O.name+":"+O.type);break;case"+":case"0":case"@":case"C":case"D":case"F":case"I":case"L":case"M":case"N":case"O":case"T":case"Y":break;default:throw new Error("Unknown Field Type: "+O.type)}if(d[d.l]!==13&&(d.l=w-1),d.read_shift(1)!==13)throw new Error("DBF Terminator not found "+d.l+" "+d[d.l]);d.l=w;var S=0,I=0;for(u[0]=[],I=0;I!=A.length;++I)u[0][I]=A[I].name;for(;b-- >0;){if(d[d.l]===42){d.l+=E;continue}for(++d.l,u[++S]=[],I=0,I=0;I!=A.length;++I){var R=d.slice(d.l,d.l+A[I].len);d.l+=A[I].len,na(R,0);var D=Ex.utils.decode(k,R);switch(A[I].type){case"C":D.trim().length&&(u[S][I]=D.replace(/\s+$/,""));break;case"D":D.length===8?u[S][I]=new Date(+D.slice(0,4),+D.slice(4,6)-1,+D.slice(6,8)):u[S][I]=D;break;case"F":u[S][I]=parseFloat(D.trim());break;case"+":case"I":u[S][I]=x?R.read_shift(-4,"i")^2147483648:R.read_shift(4,"i");break;case"L":switch(D.trim().toUpperCase()){case"Y":case"T":u[S][I]=!0;break;case"N":case"F":u[S][I]=!1;break;case"":case"?":break;default:throw new Error("DBF Unrecognized L:|"+D+"|")}break;case"M":if(!g)throw new Error("DBF Unexpected MEMO for type "+f.toString(16));u[S][I]="##MEMO##"+(x?parseInt(D.trim(),10):R.read_shift(4));break;case"N":D=D.replace(/\u0000/g,"").trim(),D&&D!="."&&(u[S][I]=+D||0);break;case"@":u[S][I]=new Date(R.read_shift(-8,"f")-621356832e5);break;case"T":u[S][I]=new Date((R.read_shift(4)-2440588)*864e5+R.read_shift(4));break;case"Y":u[S][I]=R.read_shift(4,"i")/1e4+R.read_shift(4,"i")/1e4*Math.pow(2,32);break;case"O":u[S][I]=-R.read_shift(-8,"f");break;case"B":if(v&&A[I].len==8){u[S][I]=R.read_shift(8,"f");break}case"G":case"P":R.l+=A[I].len;break;case"0":if(A[I].name==="_NullFlags")break;default:throw new Error("DBF Unsupported data type "+A[I].type)}}}if(f!=2&&d.l<d.length&&d[d.l++]!=26)throw new Error("DBF EOF Marker missing "+(d.l-1)+" of "+d.length+" "+d[d.l-1].toString(16));return l&&l.sheetRows&&(u=u.slice(0,l.sheetRows)),l.DBF=A,u}function n(o,l){var u=l||{};u.dateNF||(u.dateNF="yyyymmdd");var d=Dv(r(o,u),u);return d["!cols"]=u.DBF.map(function(f){return{wch:f.len,DBF:f}}),delete u.DBF,d}function i(o,l){try{return Tf(n(o,l),l)}catch(u){if(l&&l.WTF)throw u}return{SheetNames:[],Sheets:{}}}var s={B:8,C:250,L:1,D:8,"?":0,"":0};function a(o,l){var u=l||{};if(+u.codepage>=0&&oc(+u.codepage),u.type=="string")throw new Error("Cannot write DBF to JS string");var d=go(),f=XT(o,{header:1,raw:!0,cellDates:!0}),g=f[0],v=f.slice(1),x=o["!cols"]||[],b=0,w=0,E=0,k=1;for(b=0;b<g.length;++b){if(((x[b]||{}).DBF||{}).name){g[b]=x[b].DBF.name,++E;continue}if(g[b]!=null){if(++E,typeof g[b]=="number"&&(g[b]=g[b].toString(10)),typeof g[b]!="string")throw new Error("DBF Invalid column name "+g[b]+" |"+typeof g[b]+"|");if(g.indexOf(g[b])!==b){for(w=0;w<1024;++w)if(g.indexOf(g[b]+"_"+w)==-1){g[b]+="_"+w;break}}}}var A=Cr(o["!ref"]),O=[],P=[],j=[];for(b=0;b<=A.e.c-A.s.c;++b){var S="",I="",R=0,D=[];for(w=0;w<v.length;++w)v[w][b]!=null&&D.push(v[w][b]);if(D.length==0||g[b]==null){O[b]="?";continue}for(w=0;w<D.length;++w){switch(typeof D[w]){case"number":I="B";break;case"string":I="C";break;case"boolean":I="L";break;case"object":I=D[w]instanceof Date?"D":"C";break;default:I="C"}R=Math.max(R,String(D[w]).length),S=S&&S!=I?"C":I}R>250&&(R=250),I=((x[b]||{}).DBF||{}).type,I=="C"&&x[b].DBF.len>R&&(R=x[b].DBF.len),S=="B"&&I=="N"&&(S="N",j[b]=x[b].DBF.dec,R=x[b].DBF.len),P[b]=S=="C"||I=="N"?R:s[S]||0,k+=P[b],O[b]=S}var M=d.next(32);for(M.write_shift(4,318902576),M.write_shift(4,v.length),M.write_shift(2,296+32*E),M.write_shift(2,k),b=0;b<4;++b)M.write_shift(4,0);for(M.write_shift(4,0|(+e[Noe]||3)<<8),b=0,w=0;b<g.length;++b)if(g[b]!=null){var L=d.next(32),U=(g[b].slice(-10)+"\0\0\0\0\0\0\0\0\0\0\0").slice(0,11);L.write_shift(1,U,"sbcs"),L.write_shift(1,O[b]=="?"?"C":O[b],"sbcs"),L.write_shift(4,w),L.write_shift(1,P[b]||s[O[b]]||0),L.write_shift(1,j[b]||0),L.write_shift(1,2),L.write_shift(4,0),L.write_shift(1,0),L.write_shift(4,0),L.write_shift(4,0),w+=P[b]||s[O[b]]||0}var le=d.next(264);for(le.write_shift(4,13),b=0;b<65;++b)le.write_shift(4,0);for(b=0;b<v.length;++b){var ue=d.next(k);for(ue.write_shift(1,0),w=0;w<g.length;++w)if(g[w]!=null)switch(O[w]){case"L":ue.write_shift(1,v[b][w]==null?63:v[b][w]?84:70);break;case"B":ue.write_shift(8,v[b][w]||0,"f");break;case"N":var J="0";for(typeof v[b][w]=="number"&&(J=v[b][w].toFixed(j[w]||0)),E=0;E<P[w]-J.length;++E)ue.write_shift(1,32);ue.write_shift(1,J,"sbcs");break;case"D":v[b][w]?(ue.write_shift(4,("0000"+v[b][w].getFullYear()).slice(-4),"sbcs"),ue.write_shift(2,("00"+(v[b][w].getMonth()+1)).slice(-2),"sbcs"),ue.write_shift(2,("00"+v[b][w].getDate()).slice(-2),"sbcs")):ue.write_shift(8,"00000000","sbcs");break;case"C":var Q=String(v[b][w]!=null?v[b][w]:"").slice(0,P[w]);for(ue.write_shift(1,Q,"sbcs"),E=0;E<P[w]-Q.length;++E)ue.write_shift(1,32);break}}return d.next(1).write_shift(1,26),d.end()}return{to_workbook:i,to_sheet:n,from_sheet:a}})(),Ule=(function(){var t={AA:"",BA:"",CA:"",DA:195,HA:"",JA:197,AE:"",BE:"",CE:"",HE:"",AI:"",BI:"",CI:"",HI:"",AO:"",BO:"",CO:"",DO:213,HO:"",AU:"",BU:"",CU:"",HU:"",Aa:"",Ba:"",Ca:"",Da:227,Ha:"",Ja:229,Ae:"",Be:"",Ce:"",He:"",Ai:"",Bi:"",Ci:"",Hi:"",Ao:"",Bo:"",Co:"",Do:245,Ho:"",Au:"",Bu:"",Cu:"",Hu:"",KC:"",Kc:"",q:"",z:"",a:"",j:"",DN:209,Dn:241,Hy:255,S:169,c:170,R:174,"B ":180,0:176,1:177,2:178,3:179,5:181,6:182,7:183,Q:185,k:186,b:208,i:216,l:222,s:240,y:248,"!":161,'"':162,"#":163,"(":164,"%":165,"'":167,"H ":168,"+":171,";":187,"<":188,"=":189,">":190,"?":191,"{":223},e=new RegExp("\x1BN("+Ai(t).join("|").replace(/\|\|\|/,"|\\||").replace(/([?()+])/g,"\\$1")+"|\\|)","gm"),r=function(g,v){var x=t[v];return typeof x=="number"?_G(x):x},n=function(g,v,x){var b=v.charCodeAt(0)-32<<4|x.charCodeAt(0)-48;return b==59?g:_G(b)};t["|"]=254;function i(g,v){switch(v.type){case"base64":return s(Xo(g),v);case"binary":return s(g,v);case"buffer":return s(lr&&Buffer.isBuffer(g)?g.toString("binary"):Ef(g),v);case"array":return s(im(g),v)}throw new Error("Unrecognized type "+v.type)}function s(g,v){var x=g.split(/[\n\r]+/),b=-1,w=-1,E=0,k=0,A=[],O=[],P=null,j={},S=[],I=[],R=[],D=0,M;for(+v.codepage>=0&&oc(+v.codepage);E!==x.length;++E){D=0;var L=x[E].trim().replace(/\x1B([\x20-\x2F])([\x30-\x3F])/g,n).replace(e,r),U=L.replace(/;;/g,"\0").split(";").map(function(Y){return Y.replace(/\u0000/g,";")}),le=U[0],ue;if(L.length>0)switch(le){case"ID":break;case"E":break;case"B":break;case"O":break;case"W":break;case"P":U[1].charAt(0)=="P"&&O.push(L.slice(3).replace(/;;/g,";"));break;case"C":var J=!1,Q=!1,he=!1,Z=!1,ge=-1,H=-1;for(k=1;k<U.length;++k)switch(U[k].charAt(0)){case"A":break;case"X":w=parseInt(U[k].slice(1))-1,Q=!0;break;case"Y":for(b=parseInt(U[k].slice(1))-1,Q||(w=0),M=A.length;M<=b;++M)A[M]=[];break;case"K":ue=U[k].slice(1),ue.charAt(0)==='"'?ue=ue.slice(1,ue.length-1):ue==="TRUE"?ue=!0:ue==="FALSE"?ue=!1:isNaN(fc(ue))?isNaN(Qg(ue).getDate())||(ue=Wn(ue)):(ue=fc(ue),P!==null&&Pv(P)&&(ue=lk(ue))),J=!0;break;case"E":Z=!0;var B=dg(U[k].slice(1),{r:b,c:w});A[b][w]=[A[b][w],B];break;case"S":he=!0,A[b][w]=[A[b][w],"S5S"];break;case"G":break;case"R":ge=parseInt(U[k].slice(1))-1;break;case"C":H=parseInt(U[k].slice(1))-1;break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}if(J&&(A[b][w]&&A[b][w].length==2?A[b][w][0]=ue:A[b][w]=ue,P=null),he){if(Z)throw new Error("SYLK shared formula cannot have own formula");var q=ge>-1&&A[ge][H];if(!q||!q[1])throw new Error("SYLK shared formula cannot find base");A[b][w][1]=sce(q[1],{r:b-ge,c:w-H})}break;case"F":var W=0;for(k=1;k<U.length;++k)switch(U[k].charAt(0)){case"X":w=parseInt(U[k].slice(1))-1,++W;break;case"Y":for(b=parseInt(U[k].slice(1))-1,M=A.length;M<=b;++M)A[M]=[];break;case"M":D=parseInt(U[k].slice(1))/20;break;case"F":break;case"G":break;case"P":P=O[parseInt(U[k].slice(1))];break;case"S":break;case"D":break;case"N":break;case"W":for(R=U[k].slice(1).split(" "),M=parseInt(R[0],10);M<=parseInt(R[1],10);++M)D=parseInt(R[2],10),I[M-1]=D===0?{hidden:!0}:{wch:D},lf(I[M-1]);break;case"C":w=parseInt(U[k].slice(1))-1,I[w]||(I[w]={});break;case"R":b=parseInt(U[k].slice(1))-1,S[b]||(S[b]={}),D>0?(S[b].hpt=D,S[b].hpx=Zg(D)):D===0&&(S[b].hidden=!0);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}W<1&&(P=null);break;default:if(v&&v.WTF)throw new Error("SYLK bad record "+L)}}return S.length>0&&(j["!rows"]=S),I.length>0&&(j["!cols"]=I),v&&v.sheetRows&&(A=A.slice(0,v.sheetRows)),[A,j]}function a(g,v){var x=i(g,v),b=x[0],w=x[1],E=Dv(b,v);return Ai(w).forEach(function(k){E[k]=w[k]}),E}function o(g,v){return Tf(a(g,v),v)}function l(g,v,x,b){var w="C;Y"+(x+1)+";X"+(b+1)+";K";switch(g.t){case"n":w+=g.v||0,g.f&&!g.F&&(w+=";E"+PD(g.f,{r:x,c:b}));break;case"b":w+=g.v?"TRUE":"FALSE";break;case"e":w+=g.w||g.v;break;case"d":w+='"'+(g.w||g.v)+'"';break;case"s":w+='"'+g.v.replace(/"/g,"").replace(/;/g,";;")+'"';break}return w}function u(g,v){v.forEach(function(x,b){var w="F;W"+(b+1)+" "+(b+1)+" ";x.hidden?w+="0":(typeof x.width=="number"&&!x.wpx&&(x.wpx=Ox(x.width)),typeof x.wpx=="number"&&!x.wch&&(x.wch=Rx(x.wpx)),typeof x.wch=="number"&&(w+=Math.round(x.wch))),w.charAt(w.length-1)!=" "&&g.push(w)})}function d(g,v){v.forEach(function(x,b){var w="F;";x.hidden?w+="M0;":x.hpt?w+="M"+20*x.hpt+";":x.hpx&&(w+="M"+20*Px(x.hpx)+";"),w.length>2&&g.push(w+"R"+(b+1))})}function f(g,v){var x=["ID;PWXL;N;E"],b=[],w=Cr(g["!ref"]),E,k=Array.isArray(g),A=`\r
`;x.push("P;PGeneral"),x.push("F;P0;DG0G8;M255"),g["!cols"]&&u(x,g["!cols"]),g["!rows"]&&d(x,g["!rows"]),x.push("B;Y"+(w.e.r-w.s.r+1)+";X"+(w.e.c-w.s.c+1)+";D"+[w.s.c,w.s.r,w.e.c,w.e.r].join(" "));for(var O=w.s.r;O<=w.e.r;++O)for(var P=w.s.c;P<=w.e.c;++P){var j=Ft({r:O,c:P});E=k?(g[O]||[])[P]:g[j],!(!E||E.v==null&&(!E.f||E.F))&&b.push(l(E,g,O,P))}return x.join(A)+A+b.join(A)+A+"E"+A}return{to_workbook:o,to_sheet:a,from_sheet:f}})(),zle=(function(){function t(s,a){switch(a.type){case"base64":return e(Xo(s),a);case"binary":return e(s,a);case"buffer":return e(lr&&Buffer.isBuffer(s)?s.toString("binary"):Ef(s),a);case"array":return e(im(s),a)}throw new Error("Unrecognized type "+a.type)}function e(s,a){for(var o=s.split(`
`),l=-1,u=-1,d=0,f=[];d!==o.length;++d){if(o[d].trim()==="BOT"){f[++l]=[],u=0;continue}if(!(l<0)){var g=o[d].trim().split(","),v=g[0],x=g[1];++d;for(var b=o[d]||"";(b.match(/["]/g)||[]).length&1&&d<o.length-1;)b+=`
`+o[++d];switch(b=b.trim(),+v){case-1:if(b==="BOT"){f[++l]=[],u=0;continue}else if(b!=="EOD")throw new Error("Unrecognized DIF special command "+b);break;case 0:b==="TRUE"?f[l][u]=!0:b==="FALSE"?f[l][u]=!1:isNaN(fc(x))?isNaN(Qg(x).getDate())?f[l][u]=x:f[l][u]=Wn(x):f[l][u]=fc(x),++u;break;case 1:b=b.slice(1,b.length-1),b=b.replace(/""/g,'"'),b&&b.match(/^=".*"$/)&&(b=b.slice(2,-1)),f[l][u++]=b!==""?b:null;break}if(b==="EOD")break}}return a&&a.sheetRows&&(f=f.slice(0,a.sheetRows)),f}function r(s,a){return Dv(t(s,a),a)}function n(s,a){return Tf(r(s,a),a)}var i=(function(){var s=function(l,u,d,f,g){l.push(u),l.push(d+","+f),l.push('"'+g.replace(/"/g,'""')+'"')},a=function(l,u,d,f){l.push(u+","+d),l.push(u==1?'"'+f.replace(/"/g,'""')+'"':f)};return function(l){var u=[],d=Cr(l["!ref"]),f,g=Array.isArray(l);s(u,"TABLE",0,1,"sheetjs"),s(u,"VECTORS",0,d.e.r-d.s.r+1,""),s(u,"TUPLES",0,d.e.c-d.s.c+1,""),s(u,"DATA",0,0,"");for(var v=d.s.r;v<=d.e.r;++v){a(u,-1,0,"BOT");for(var x=d.s.c;x<=d.e.c;++x){var b=Ft({r:v,c:x});if(f=g?(l[v]||[])[x]:l[b],!f){a(u,1,0,"");continue}switch(f.t){case"n":var w=f.w;!w&&f.v!=null&&(w=f.v),w==null?f.f&&!f.F?a(u,1,0,"="+f.f):a(u,1,0,""):a(u,0,w,"V");break;case"b":a(u,0,f.v?1:0,f.v?"TRUE":"FALSE");break;case"s":a(u,1,0,isNaN(f.v)?f.v:'="'+f.v+'"');break;case"d":f.w||(f.w=Pl(f.z||Dt[14],ys(Wn(f.v)))),a(u,0,f.w,"V");break;default:a(u,1,0,"")}}}a(u,-1,0,"EOD");var E=`\r
`,k=u.join(E);return k}})();return{to_workbook:n,to_sheet:r,from_sheet:i}})(),$le=(function(){function t(f){return f.replace(/\\b/g,"\\").replace(/\\c/g,":").replace(/\\n/g,`
`)}function e(f){return f.replace(/\\/g,"\\b").replace(/:/g,"\\c").replace(/\n/g,"\\n")}function r(f,g){for(var v=f.split(`
`),x=-1,b=-1,w=0,E=[];w!==v.length;++w){var k=v[w].trim().split(":");if(k[0]==="cell"){var A=fi(k[1]);if(E.length<=A.r)for(x=E.length;x<=A.r;++x)E[x]||(E[x]=[]);switch(x=A.r,b=A.c,k[2]){case"t":E[x][b]=t(k[3]);break;case"v":E[x][b]=+k[3];break;case"vtf":var O=k[k.length-1];case"vtc":switch(k[3]){case"nl":E[x][b]=!!+k[4];break;default:E[x][b]=+k[4];break}k[2]=="vtf"&&(E[x][b]=[E[x][b],O])}}}return g&&g.sheetRows&&(E=E.slice(0,g.sheetRows)),E}function n(f,g){return Dv(r(f,g),g)}function i(f,g){return Tf(n(f,g),g)}var s=["socialcalc:version:1.5","MIME-Version: 1.0","Content-Type: multipart/mixed; boundary=SocialCalcSpreadsheetControlSave"].join(`
`),a=["--SocialCalcSpreadsheetControlSave","Content-type: text/plain; charset=UTF-8"].join(`
`)+`
`,o=["# SocialCalc Spreadsheet Control Save","part:sheet"].join(`
`),l="--SocialCalcSpreadsheetControlSave--";function u(f){if(!f||!f["!ref"])return"";for(var g=[],v=[],x,b="",w=xo(f["!ref"]),E=Array.isArray(f),k=w.s.r;k<=w.e.r;++k)for(var A=w.s.c;A<=w.e.c;++A)if(b=Ft({r:k,c:A}),x=E?(f[k]||[])[A]:f[b],!(!x||x.v==null||x.t==="z")){switch(v=["cell",b,"t"],x.t){case"s":case"str":v.push(e(x.v));break;case"n":x.f?(v[2]="vtf",v[3]="n",v[4]=x.v,v[5]=e(x.f)):(v[2]="v",v[3]=x.v);break;case"b":v[2]="vt"+(x.f?"f":"c"),v[3]="nl",v[4]=x.v?"1":"0",v[5]=e(x.f||(x.v?"TRUE":"FALSE"));break;case"d":var O=ys(Wn(x.v));v[2]="vtc",v[3]="nd",v[4]=""+O,v[5]=x.w||Pl(x.z||Dt[14],O);break;case"e":continue}g.push(v.join(":"))}return g.push("sheet:c:"+(w.e.c-w.s.c+1)+":r:"+(w.e.r-w.s.r+1)+":tvf:1"),g.push("valueformat:1:text-wiki"),g.join(`
`)}function d(f){return[s,a,o,a,u(f),l].join(`
`)}return{to_workbook:i,to_sheet:n,from_sheet:d}})(),Jg=(function(){function t(d,f,g,v,x){x.raw?f[g][v]=d:d===""||(d==="TRUE"?f[g][v]=!0:d==="FALSE"?f[g][v]=!1:isNaN(fc(d))?isNaN(Qg(d).getDate())?f[g][v]=d:f[g][v]=Wn(d):f[g][v]=fc(d))}function e(d,f){var g=f||{},v=[];if(!d||d.length===0)return v;for(var x=d.split(/[\r\n]/),b=x.length-1;b>=0&&x[b].length===0;)--b;for(var w=10,E=0,k=0;k<=b;++k)E=x[k].indexOf(" "),E==-1?E=x[k].length:E++,w=Math.max(w,E);for(k=0;k<=b;++k){v[k]=[];var A=0;for(t(x[k].slice(0,w).trim(),v,k,A,g),A=1;A<=(x[k].length-w)/10+1;++A)t(x[k].slice(w+(A-1)*10,w+A*10).trim(),v,k,A,g)}return g.sheetRows&&(v=v.slice(0,g.sheetRows)),v}var r={44:",",9:"	",59:";",124:"|"},n={44:3,9:2,59:1,124:0};function i(d){for(var f={},g=!1,v=0,x=0;v<d.length;++v)(x=d.charCodeAt(v))==34?g=!g:!g&&x in r&&(f[x]=(f[x]||0)+1);x=[];for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&x.push([f[v],v]);if(!x.length){f=n;for(v in f)Object.prototype.hasOwnProperty.call(f,v)&&x.push([f[v],v])}return x.sort(function(b,w){return b[0]-w[0]||n[b[1]]-n[w[1]]}),r[x.pop()[1]]||44}function s(d,f){var g=f||{},v="",x=g.dense?[]:{},b={s:{c:0,r:0},e:{c:0,r:0}};d.slice(0,4)=="sep="?d.charCodeAt(5)==13&&d.charCodeAt(6)==10?(v=d.charAt(4),d=d.slice(7)):d.charCodeAt(5)==13||d.charCodeAt(5)==10?(v=d.charAt(4),d=d.slice(6)):v=i(d.slice(0,1024)):g&&g.FS?v=g.FS:v=i(d.slice(0,1024));var w=0,E=0,k=0,A=0,O=0,P=v.charCodeAt(0),j=!1,S=0,I=d.charCodeAt(0);d=d.replace(/\r\n/mg,`
`);var R=g.dateNF!=null?U$e(g.dateNF):null;function D(){var M=d.slice(A,O),L={};if(M.charAt(0)=='"'&&M.charAt(M.length-1)=='"'&&(M=M.slice(1,-1).replace(/""/g,'"')),M.length===0)L.t="z";else if(g.raw)L.t="s",L.v=M;else if(M.trim().length===0)L.t="s",L.v=M;else if(M.charCodeAt(0)==61)M.charCodeAt(1)==34&&M.charCodeAt(M.length-1)==34?(L.t="s",L.v=M.slice(2,-1).replace(/""/g,'"')):gYe(M)?(L.t="n",L.f=M.slice(1)):(L.t="s",L.v=M);else if(M=="TRUE")L.t="b",L.v=!0;else if(M=="FALSE")L.t="b",L.v=!1;else if(!isNaN(k=fc(M)))L.t="n",g.cellText!==!1&&(L.w=M),L.v=k;else if(!isNaN(Qg(M).getDate())||R&&M.match(R)){L.z=g.dateNF||Dt[14];var U=0;R&&M.match(R)&&(M=z$e(M,g.dateNF,M.match(R)||[]),U=1),g.cellDates?(L.t="d",L.v=Wn(M,U)):(L.t="n",L.v=ys(Wn(M,U))),g.cellText!==!1&&(L.w=Pl(L.z,L.v instanceof Date?ys(L.v):L.v)),g.cellNF||delete L.z}else L.t="s",L.v=M;if(L.t=="z"||(g.dense?(x[w]||(x[w]=[]),x[w][E]=L):x[Ft({c:E,r:w})]=L),A=O+1,I=d.charCodeAt(A),b.e.c<E&&(b.e.c=E),b.e.r<w&&(b.e.r=w),S==P)++E;else if(E=0,++w,g.sheetRows&&g.sheetRows<=w)return!0}e:for(;O<d.length;++O)switch(S=d.charCodeAt(O)){case 34:I===34&&(j=!j);break;case P:case 10:case 13:if(!j&&D())break e;break}return O-A>0&&D(),x["!ref"]=tr(b),x}function a(d,f){return!(f&&f.PRN)||f.FS||d.slice(0,4)=="sep="||d.indexOf("	")>=0||d.indexOf(",")>=0||d.indexOf(";")>=0?s(d,f):Dv(e(d,f),f)}function o(d,f){var g="",v=f.type=="string"?[0,0,0,0]:UD(d,f);switch(f.type){case"base64":g=Xo(d);break;case"binary":g=d;break;case"buffer":f.codepage==65001?g=d.toString("utf8"):f.codepage&&typeof Ex<"u"||(g=lr&&Buffer.isBuffer(d)?d.toString("binary"):Ef(d));break;case"array":g=im(d);break;case"string":g=d;break;default:throw new Error("Unrecognized type "+f.type)}return v[0]==239&&v[1]==187&&v[2]==191?g=En(g.slice(3)):f.type!="string"&&f.type!="buffer"&&f.codepage==65001?g=En(g):f.type=="binary"&&typeof Ex<"u",g.slice(0,19)=="socialcalc:version:"?$le.to_sheet(f.type=="string"?g:En(g),f):a(g,f)}function l(d,f){return Tf(o(d,f),f)}function u(d){for(var f=[],g=Cr(d["!ref"]),v,x=Array.isArray(d),b=g.s.r;b<=g.e.r;++b){for(var w=[],E=g.s.c;E<=g.e.c;++E){var k=Ft({r:b,c:E});if(v=x?(d[b]||[])[E]:d[k],!v||v.v==null){w.push("          ");continue}for(var A=(v.w||(Td(v),v.w)||"").slice(0,10);A.length<10;)A+=" ";w.push(A+(E===0?" ":""))}f.push(w.join(""))}return f.join(`
`)}return{to_workbook:l,to_sheet:o,from_sheet:u}})();function rGe(t,e){var r=e||{},n=!!r.WTF;r.WTF=!0;try{var i=Ule.to_workbook(t,r);return r.WTF=n,i}catch(s){if(r.WTF=n,!s.message.match(/SYLK bad record ID/)&&n)throw s;return Jg.to_workbook(t,e)}}var M0=(function(){function t(B,q,W){if(B){na(B,B.l||0);for(var Y=W.Enum||ge;B.l<B.length;){var de=B.read_shift(2),me=Y[de]||Y[65535],ce=B.read_shift(2),se=B.l+ce,ve=me.f&&me.f(B,ce,W);if(B.l=se,q(ve,me,de))return}}}function e(B,q){switch(q.type){case"base64":return r(Bo(Xo(B)),q);case"binary":return r(Bo(B),q);case"buffer":case"array":return r(B,q)}throw"Unsupported type "+q.type}function r(B,q){if(!B)return B;var W=q||{},Y=W.dense?[]:{},de="Sheet1",me="",ce=0,se={},ve=[],Ve=[],G={s:{r:0,c:0},e:{r:0,c:0}},Ze=W.sheetRows||0;if(B[2]==0&&(B[3]==8||B[3]==9)&&B.length>=16&&B[14]==5&&B[15]===108)throw new Error("Unsupported Works 3 for Mac file");if(B[2]==2)W.Enum=ge,t(B,function(je,rt,vt){switch(vt){case 0:W.vers=je,je>=4096&&(W.qpro=!0);break;case 6:G=je;break;case 204:je&&(me=je);break;case 222:me=je;break;case 15:case 51:W.qpro||(je[1].v=je[1].v.slice(1));case 13:case 14:case 16:vt==14&&(je[2]&112)==112&&(je[2]&15)>1&&(je[2]&15)<15&&(je[1].z=W.dateNF||Dt[14],W.cellDates&&(je[1].t="d",je[1].v=lk(je[1].v))),W.qpro&&je[3]>ce&&(Y["!ref"]=tr(G),se[de]=Y,ve.push(de),Y=W.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ce=je[3],de=me||"Sheet"+(ce+1),me="");var It=W.dense?(Y[je[0].r]||[])[je[0].c]:Y[Ft(je[0])];if(It){It.t=je[1].t,It.v=je[1].v,je[1].z!=null&&(It.z=je[1].z),je[1].f!=null&&(It.f=je[1].f);break}W.dense?(Y[je[0].r]||(Y[je[0].r]=[]),Y[je[0].r][je[0].c]=je[1]):Y[Ft(je[0])]=je[1];break}},W);else if(B[2]==26||B[2]==14)W.Enum=H,B[2]==14&&(W.qpro=!0,B.l=0),t(B,function(je,rt,vt){switch(vt){case 204:de=je;break;case 22:je[1].v=je[1].v.slice(1);case 23:case 24:case 25:case 37:case 39:case 40:if(je[3]>ce&&(Y["!ref"]=tr(G),se[de]=Y,ve.push(de),Y=W.dense?[]:{},G={s:{r:0,c:0},e:{r:0,c:0}},ce=je[3],de="Sheet"+(ce+1)),Ze>0&&je[0].r>=Ze)break;W.dense?(Y[je[0].r]||(Y[je[0].r]=[]),Y[je[0].r][je[0].c]=je[1]):Y[Ft(je[0])]=je[1],G.e.c<je[0].c&&(G.e.c=je[0].c),G.e.r<je[0].r&&(G.e.r=je[0].r);break;case 27:je[14e3]&&(Ve[je[14e3][0]]=je[14e3][1]);break;case 1537:Ve[je[0]]=je[1],je[0]==ce&&(de=je[1]);break}},W);else throw new Error("Unrecognized LOTUS BOF "+B[2]);if(Y["!ref"]=tr(G),se[me||de]=Y,ve.push(me||de),!Ve.length)return{SheetNames:ve,Sheets:se};for(var Ie={},tt=[],Qe=0;Qe<Ve.length;++Qe)se[ve[Qe]]?(tt.push(Ve[Qe]||ve[Qe]),Ie[Ve[Qe]]=se[Ve[Qe]]||se[ve[Qe]]):(tt.push(Ve[Qe]),Ie[Ve[Qe]]={"!ref":"A1"});return{SheetNames:tt,Sheets:Ie}}function n(B,q){var W=q||{};if(+W.codepage>=0&&oc(+W.codepage),W.type=="string")throw new Error("Cannot write WK1 to JS string");var Y=go(),de=Cr(B["!ref"]),me=Array.isArray(B),ce=[];at(Y,0,s(1030)),at(Y,6,l(de));for(var se=Math.min(de.e.r,8191),ve=de.s.r;ve<=se;++ve)for(var Ve=Fi(ve),G=de.s.c;G<=de.e.c;++G){ve===de.s.r&&(ce[G]=hi(G));var Ze=ce[G]+Ve,Ie=me?(B[ve]||[])[G]:B[Ze];if(!(!Ie||Ie.t=="z"))if(Ie.t=="n")(Ie.v|0)==Ie.v&&Ie.v>=-32768&&Ie.v<=32767?at(Y,13,v(ve,G,Ie.v)):at(Y,14,b(ve,G,Ie.v));else{var tt=Td(Ie);at(Y,15,f(ve,G,tt.slice(0,239)))}}return at(Y,1),Y.end()}function i(B,q){var W=q||{};if(+W.codepage>=0&&oc(+W.codepage),W.type=="string")throw new Error("Cannot write WK3 to JS string");var Y=go();at(Y,0,a(B));for(var de=0,me=0;de<B.SheetNames.length;++de)(B.Sheets[B.SheetNames[de]]||{})["!ref"]&&at(Y,27,Z(B.SheetNames[de],me++));var ce=0;for(de=0;de<B.SheetNames.length;++de){var se=B.Sheets[B.SheetNames[de]];if(!(!se||!se["!ref"])){for(var ve=Cr(se["!ref"]),Ve=Array.isArray(se),G=[],Ze=Math.min(ve.e.r,8191),Ie=ve.s.r;Ie<=Ze;++Ie)for(var tt=Fi(Ie),Qe=ve.s.c;Qe<=ve.e.c;++Qe){Ie===ve.s.r&&(G[Qe]=hi(Qe));var je=G[Qe]+tt,rt=Ve?(se[Ie]||[])[Qe]:se[je];if(!(!rt||rt.t=="z"))if(rt.t=="n")at(Y,23,D(Ie,Qe,ce,rt.v));else{var vt=Td(rt);at(Y,22,S(Ie,Qe,ce,vt.slice(0,239)))}}++ce}}return at(Y,1),Y.end()}function s(B){var q=Le(2);return q.write_shift(2,B),q}function a(B){var q=Le(26);q.write_shift(2,4096),q.write_shift(2,4),q.write_shift(4,0);for(var W=0,Y=0,de=0,me=0;me<B.SheetNames.length;++me){var ce=B.SheetNames[me],se=B.Sheets[ce];if(!(!se||!se["!ref"])){++de;var ve=xo(se["!ref"]);W<ve.e.r&&(W=ve.e.r),Y<ve.e.c&&(Y=ve.e.c)}}return W>8191&&(W=8191),q.write_shift(2,W),q.write_shift(1,de),q.write_shift(1,Y),q.write_shift(2,0),q.write_shift(2,0),q.write_shift(1,1),q.write_shift(1,2),q.write_shift(4,0),q.write_shift(4,0),q}function o(B,q,W){var Y={s:{c:0,r:0},e:{c:0,r:0}};return q==8&&W.qpro?(Y.s.c=B.read_shift(1),B.l++,Y.s.r=B.read_shift(2),Y.e.c=B.read_shift(1),B.l++,Y.e.r=B.read_shift(2),Y):(Y.s.c=B.read_shift(2),Y.s.r=B.read_shift(2),q==12&&W.qpro&&(B.l+=2),Y.e.c=B.read_shift(2),Y.e.r=B.read_shift(2),q==12&&W.qpro&&(B.l+=2),Y.s.c==65535&&(Y.s.c=Y.e.c=Y.s.r=Y.e.r=0),Y)}function l(B){var q=Le(8);return q.write_shift(2,B.s.c),q.write_shift(2,B.s.r),q.write_shift(2,B.e.c),q.write_shift(2,B.e.r),q}function u(B,q,W){var Y=[{c:0,r:0},{t:"n",v:0},0,0];return W.qpro&&W.vers!=20768?(Y[0].c=B.read_shift(1),Y[3]=B.read_shift(1),Y[0].r=B.read_shift(2),B.l+=2):(Y[2]=B.read_shift(1),Y[0].c=B.read_shift(2),Y[0].r=B.read_shift(2)),Y}function d(B,q,W){var Y=B.l+q,de=u(B,q,W);if(de[1].t="s",W.vers==20768){B.l++;var me=B.read_shift(1);return de[1].v=B.read_shift(me,"utf8"),de}return W.qpro&&B.l++,de[1].v=B.read_shift(Y-B.l,"cstr"),de}function f(B,q,W){var Y=Le(7+W.length);Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,B),Y.write_shift(1,39);for(var de=0;de<Y.length;++de){var me=W.charCodeAt(de);Y.write_shift(1,me>=128?95:me)}return Y.write_shift(1,0),Y}function g(B,q,W){var Y=u(B,q,W);return Y[1].v=B.read_shift(2,"i"),Y}function v(B,q,W){var Y=Le(7);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,B),Y.write_shift(2,W,"i"),Y}function x(B,q,W){var Y=u(B,q,W);return Y[1].v=B.read_shift(8,"f"),Y}function b(B,q,W){var Y=Le(13);return Y.write_shift(1,255),Y.write_shift(2,q),Y.write_shift(2,B),Y.write_shift(8,W,"f"),Y}function w(B,q,W){var Y=B.l+q,de=u(B,q,W);if(de[1].v=B.read_shift(8,"f"),W.qpro)B.l=Y;else{var me=B.read_shift(2);O(B.slice(B.l,B.l+me),de),B.l+=me}return de}function E(B,q,W){var Y=q&32768;return q&=-32769,q=(Y?B:0)+(q>=8192?q-16384:q),(Y?"":"$")+(W?hi(q):Fi(q))}var k={51:["FALSE",0],52:["TRUE",0],70:["LEN",1],80:["SUM",69],81:["AVERAGEA",69],82:["COUNTA",69],83:["MINA",69],84:["MAXA",69],111:["T",1]},A=["","","","","","","","","","+","-","*","/","^","=","<>","<=",">=","<",">","","","","","&","","","","","","",""];function O(B,q){na(B,0);for(var W=[],Y=0,de="",me="",ce="",se="";B.l<B.length;){var ve=B[B.l++];switch(ve){case 0:W.push(B.read_shift(8,"f"));break;case 1:me=E(q[0].c,B.read_shift(2),!0),de=E(q[0].r,B.read_shift(2),!1),W.push(me+de);break;case 2:{var Ve=E(q[0].c,B.read_shift(2),!0),G=E(q[0].r,B.read_shift(2),!1);me=E(q[0].c,B.read_shift(2),!0),de=E(q[0].r,B.read_shift(2),!1),W.push(Ve+G+":"+me+de)}break;case 3:if(B.l<B.length){console.error("WK1 premature formula end");return}break;case 4:W.push("("+W.pop()+")");break;case 5:W.push(B.read_shift(2));break;case 6:{for(var Ze="";ve=B[B.l++];)Ze+=String.fromCharCode(ve);W.push('"'+Ze.replace(/"/g,'""')+'"')}break;case 8:W.push("-"+W.pop());break;case 23:W.push("+"+W.pop());break;case 22:W.push("NOT("+W.pop()+")");break;case 20:case 21:se=W.pop(),ce=W.pop(),W.push(["AND","OR"][ve-20]+"("+ce+","+se+")");break;default:if(ve<32&&A[ve])se=W.pop(),ce=W.pop(),W.push(ce+A[ve]+se);else if(k[ve]){if(Y=k[ve][1],Y==69&&(Y=B[B.l++]),Y>W.length){console.error("WK1 bad formula parse 0x"+ve.toString(16)+":|"+W.join("|")+"|");return}var Ie=W.slice(-Y);W.length-=Y,W.push(k[ve][0]+"("+Ie.join(",")+")")}else return ve<=7?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=24?console.error("WK1 unsupported op "+ve.toString(16)):ve<=30?console.error("WK1 invalid opcode "+ve.toString(16)):ve<=115?console.error("WK1 unsupported function opcode "+ve.toString(16)):console.error("WK1 unrecognized opcode "+ve.toString(16))}}W.length==1?q[1].f=""+W[0]:console.error("WK1 bad formula parse |"+W.join("|")+"|")}function P(B){var q=[{c:0,r:0},{t:"n",v:0},0];return q[0].r=B.read_shift(2),q[3]=B[B.l++],q[0].c=B[B.l++],q}function j(B,q){var W=P(B);return W[1].t="s",W[1].v=B.read_shift(q-4,"cstr"),W}function S(B,q,W,Y){var de=Le(6+Y.length);de.write_shift(2,B),de.write_shift(1,W),de.write_shift(1,q),de.write_shift(1,39);for(var me=0;me<Y.length;++me){var ce=Y.charCodeAt(me);de.write_shift(1,ce>=128?95:ce)}return de.write_shift(1,0),de}function I(B,q){var W=P(B);W[1].v=B.read_shift(2);var Y=W[1].v>>1;if(W[1].v&1)switch(Y&7){case 0:Y=(Y>>3)*5e3;break;case 1:Y=(Y>>3)*500;break;case 2:Y=(Y>>3)/20;break;case 3:Y=(Y>>3)/200;break;case 4:Y=(Y>>3)/2e3;break;case 5:Y=(Y>>3)/2e4;break;case 6:Y=(Y>>3)/16;break;case 7:Y=(Y>>3)/64;break}return W[1].v=Y,W}function R(B,q){var W=P(B),Y=B.read_shift(4),de=B.read_shift(4),me=B.read_shift(2);if(me==65535)return Y===0&&de===3221225472?(W[1].t="e",W[1].v=15):Y===0&&de===3489660928?(W[1].t="e",W[1].v=42):W[1].v=0,W;var ce=me&32768;return me=(me&32767)-16446,W[1].v=(1-ce*2)*(de*Math.pow(2,me+32)+Y*Math.pow(2,me)),W}function D(B,q,W,Y){var de=Le(14);if(de.write_shift(2,B),de.write_shift(1,W),de.write_shift(1,q),Y==0)return de.write_shift(4,0),de.write_shift(4,0),de.write_shift(2,65535),de;var me=0,ce=0,se=0,ve=0;return Y<0&&(me=1,Y=-Y),ce=Math.log2(Y)|0,Y/=Math.pow(2,ce-31),ve=Y>>>0,(ve&2147483648)==0&&(Y/=2,++ce,ve=Y>>>0),Y-=ve,ve|=2147483648,ve>>>=0,Y*=Math.pow(2,32),se=Y>>>0,de.write_shift(4,se),de.write_shift(4,ve),ce+=16383+(me?32768:0),de.write_shift(2,ce),de}function M(B,q){var W=R(B);return B.l+=q-14,W}function L(B,q){var W=P(B),Y=B.read_shift(4);return W[1].v=Y>>6,W}function U(B,q){var W=P(B),Y=B.read_shift(8,"f");return W[1].v=Y,W}function le(B,q){var W=U(B);return B.l+=q-10,W}function ue(B,q){return B[B.l+q-1]==0?B.read_shift(q,"cstr"):""}function J(B,q){var W=B[B.l++];W>q-1&&(W=q-1);for(var Y="";Y.length<W;)Y+=String.fromCharCode(B[B.l++]);return Y}function Q(B,q,W){if(!(!W.qpro||q<21)){var Y=B.read_shift(1);B.l+=17,B.l+=1,B.l+=2;var de=B.read_shift(q-21,"cstr");return[Y,de]}}function he(B,q){for(var W={},Y=B.l+q;B.l<Y;){var de=B.read_shift(2);if(de==14e3){for(W[de]=[0,""],W[de][0]=B.read_shift(2);B[B.l];)W[de][1]+=String.fromCharCode(B[B.l]),B.l++;B.l++}}return W}function Z(B,q){var W=Le(5+B.length);W.write_shift(2,14e3),W.write_shift(2,q);for(var Y=0;Y<B.length;++Y){var de=B.charCodeAt(Y);W[W.l++]=de>127?95:de}return W[W.l++]=0,W}var ge={0:{n:"BOF",f:Zi},1:{n:"EOF"},2:{n:"CALCMODE"},3:{n:"CALCORDER"},4:{n:"SPLIT"},5:{n:"SYNC"},6:{n:"RANGE",f:o},7:{n:"WINDOW1"},8:{n:"COLW1"},9:{n:"WINTWO"},10:{n:"COLW2"},11:{n:"NAME"},12:{n:"BLANK"},13:{n:"INTEGER",f:g},14:{n:"NUMBER",f:x},15:{n:"LABEL",f:d},16:{n:"FORMULA",f:w},24:{n:"TABLE"},25:{n:"ORANGE"},26:{n:"PRANGE"},27:{n:"SRANGE"},28:{n:"FRANGE"},29:{n:"KRANGE1"},32:{n:"HRANGE"},35:{n:"KRANGE2"},36:{n:"PROTEC"},37:{n:"FOOTER"},38:{n:"HEADER"},39:{n:"SETUP"},40:{n:"MARGINS"},41:{n:"LABELFMT"},42:{n:"TITLES"},43:{n:"SHEETJS"},45:{n:"GRAPH"},46:{n:"NGRAPH"},47:{n:"CALCCOUNT"},48:{n:"UNFORMATTED"},49:{n:"CURSORW12"},50:{n:"WINDOW"},51:{n:"STRING",f:d},55:{n:"PASSWORD"},56:{n:"LOCKED"},60:{n:"QUERY"},61:{n:"QUERYNAME"},62:{n:"PRINT"},63:{n:"PRINTNAME"},64:{n:"GRAPH2"},65:{n:"GRAPHNAME"},66:{n:"ZOOM"},67:{n:"SYMSPLIT"},68:{n:"NSROWS"},69:{n:"NSCOLS"},70:{n:"RULER"},71:{n:"NNAME"},72:{n:"ACOMM"},73:{n:"AMACRO"},74:{n:"PARSE"},102:{n:"PRANGES??"},103:{n:"RRANGES??"},104:{n:"FNAME??"},105:{n:"MRANGES??"},204:{n:"SHEETNAMECS",f:ue},222:{n:"SHEETNAMELP",f:J},65535:{n:""}},H={0:{n:"BOF"},1:{n:"EOF"},2:{n:"PASSWORD"},3:{n:"CALCSET"},4:{n:"WINDOWSET"},5:{n:"SHEETCELLPTR"},6:{n:"SHEETLAYOUT"},7:{n:"COLUMNWIDTH"},8:{n:"HIDDENCOLUMN"},9:{n:"USERRANGE"},10:{n:"SYSTEMRANGE"},11:{n:"ZEROFORCE"},12:{n:"SORTKEYDIR"},13:{n:"FILESEAL"},14:{n:"DATAFILLNUMS"},15:{n:"PRINTMAIN"},16:{n:"PRINTSTRING"},17:{n:"GRAPHMAIN"},18:{n:"GRAPHSTRING"},19:{n:"??"},20:{n:"ERRCELL"},21:{n:"NACELL"},22:{n:"LABEL16",f:j},23:{n:"NUMBER17",f:R},24:{n:"NUMBER18",f:I},25:{n:"FORMULA19",f:M},26:{n:"FORMULA1A"},27:{n:"XFORMAT",f:he},28:{n:"DTLABELMISC"},29:{n:"DTLABELCELL"},30:{n:"GRAPHWINDOW"},31:{n:"CPA"},32:{n:"LPLAUTO"},33:{n:"QUERY"},34:{n:"HIDDENSHEET"},35:{n:"??"},37:{n:"NUMBER25",f:L},38:{n:"??"},39:{n:"NUMBER27",f:U},40:{n:"FORMULA28",f:le},142:{n:"??"},147:{n:"??"},150:{n:"??"},151:{n:"??"},152:{n:"??"},153:{n:"??"},154:{n:"??"},155:{n:"??"},156:{n:"??"},163:{n:"??"},174:{n:"??"},175:{n:"??"},176:{n:"??"},177:{n:"??"},184:{n:"??"},185:{n:"??"},186:{n:"??"},187:{n:"??"},188:{n:"??"},195:{n:"??"},201:{n:"??"},204:{n:"SHEETNAMECS",f:ue},205:{n:"??"},206:{n:"??"},207:{n:"??"},208:{n:"??"},256:{n:"??"},259:{n:"??"},260:{n:"??"},261:{n:"??"},262:{n:"??"},263:{n:"??"},265:{n:"??"},266:{n:"??"},267:{n:"??"},268:{n:"??"},270:{n:"??"},271:{n:"??"},384:{n:"??"},389:{n:"??"},390:{n:"??"},393:{n:"??"},396:{n:"??"},512:{n:"??"},514:{n:"??"},513:{n:"??"},516:{n:"??"},517:{n:"??"},640:{n:"??"},641:{n:"??"},642:{n:"??"},643:{n:"??"},644:{n:"??"},645:{n:"??"},646:{n:"??"},647:{n:"??"},648:{n:"??"},658:{n:"??"},659:{n:"??"},660:{n:"??"},661:{n:"??"},662:{n:"??"},665:{n:"??"},666:{n:"??"},768:{n:"??"},772:{n:"??"},1537:{n:"SHEETINFOQP",f:Q},1600:{n:"??"},1602:{n:"??"},1793:{n:"??"},1794:{n:"??"},1795:{n:"??"},1796:{n:"??"},1920:{n:"??"},2048:{n:"??"},2049:{n:"??"},2052:{n:"??"},2688:{n:"??"},10998:{n:"??"},12849:{n:"??"},28233:{n:"??"},28484:{n:"??"},65535:{n:""}};return{sheet_to_wk1:n,book_to_wk3:i,to_workbook:e}})();function nGe(t){var e={},r=t.match(ja),n=0,i=!1;if(r)for(;n!=r.length;++n){var s=zt(r[n]);switch(s[0].replace(/\w*:/g,"")){case"<condense":break;case"<extend":break;case"<shadow":if(!s.val)break;case"<shadow>":case"<shadow/>":e.shadow=1;break;case"</shadow>":break;case"<charset":if(s.val=="1")break;e.cp=iD[parseInt(s.val,10)];break;case"<outline":if(!s.val)break;case"<outline>":case"<outline/>":e.outline=1;break;case"</outline>":break;case"<rFont":e.name=s.val;break;case"<sz":e.sz=s.val;break;case"<strike":if(!s.val)break;case"<strike>":case"<strike/>":e.strike=1;break;case"</strike>":break;case"<u":if(!s.val)break;switch(s.val){case"double":e.uval="double";break;case"singleAccounting":e.uval="single-accounting";break;case"doubleAccounting":e.uval="double-accounting";break}case"<u>":case"<u/>":e.u=1;break;case"</u>":break;case"<b":if(s.val=="0")break;case"<b>":case"<b/>":e.b=1;break;case"</b>":break;case"<i":if(s.val=="0")break;case"<i>":case"<i/>":e.i=1;break;case"</i>":break;case"<color":s.rgb&&(e.color=s.rgb.slice(2,8));break;case"<color>":case"<color/>":case"</color>":break;case"<family":e.family=s.val;break;case"<family>":case"<family/>":case"</family>":break;case"<vertAlign":e.valign=s.val;break;case"<vertAlign>":case"<vertAlign/>":case"</vertAlign>":break;case"<scheme":break;case"<scheme>":case"<scheme/>":case"</scheme>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(s[0].charCodeAt(1)!==47&&!i)throw new Error("Unrecognized rich format "+s[0])}}return e}var iGe=(function(){var t=kx("t"),e=kx("rPr");function r(s){var a=s.match(t);if(!a)return{t:"s",v:""};var o={t:"s",v:Ar(a[1])},l=s.match(e);return l&&(o.s=nGe(l[1])),o}var n=/<(?:\w+:)?r>/g,i=/<\/(?:\w+:)?r>/;return function(a){return a.replace(n,"").split(i).map(r).filter(function(o){return o.v})}})(),sGe=(function(){var e=/(\r\n|\n)/g;function r(i,s,a){var o=[];i.u&&o.push("text-decoration: underline;"),i.uval&&o.push("text-underline-style:"+i.uval+";"),i.sz&&o.push("font-size:"+i.sz+"pt;"),i.outline&&o.push("text-effect: outline;"),i.shadow&&o.push("text-shadow: auto;"),s.push('<span style="'+o.join("")+'">'),i.b&&(s.push("<b>"),a.push("</b>")),i.i&&(s.push("<i>"),a.push("</i>")),i.strike&&(s.push("<s>"),a.push("</s>"));var l=i.valign||"";return l=="superscript"||l=="super"?l="sup":l=="subscript"&&(l="sub"),l!=""&&(s.push("<"+l+">"),a.push("</"+l+">")),a.push("</span>"),i}function n(i){var s=[[],i.v,[]];return i.v?(i.s&&r(i.s,s[0],s[2]),s[0].join("")+s[1].replace(e,"<br/>")+s[2].join("")):""}return function(s){return s.map(n).join("")}})(),aGe=/<(?:\w+:)?t[^>]*>([^<]*)<\/(?:\w+:)?t>/g,oGe=/<(?:\w+:)?r>/,lGe=/<(?:\w+:)?rPh.*?>([\s\S]*?)<\/(?:\w+:)?rPh>/g;function CD(t,e){var r=e?e.cellHTML:!0,n={};return t?(t.match(/^\s*<(?:\w+:)?t[^>]*>/)?(n.t=Ar(En(t.slice(t.indexOf(">")+1).split(/<\/(?:\w+:)?t>/)[0]||"")),n.r=En(t),r&&(n.h=mD(n.t))):t.match(oGe)&&(n.r=En(t),n.t=Ar(En((t.replace(lGe,"").match(aGe)||[]).join("").replace(ja,""))),r&&(n.h=sGe(iGe(n.r)))),n):{t:""}}var cGe=/<(?:\w+:)?sst([^>]*)>([\s\S]*)<\/(?:\w+:)?sst>/,uGe=/<(?:\w+:)?(?:si|sstItem)>/g,dGe=/<\/(?:\w+:)?(?:si|sstItem)>/;function hGe(t,e){var r=[],n="";if(!t)return r;var i=t.match(cGe);if(i){n=i[2].replace(uGe,"").split(dGe);for(var s=0;s!=n.length;++s){var a=CD(n[s].trim(),e);a!=null&&(r[r.length]=a)}i=zt(i[1]),r.Count=i.count,r.Unique=i.uniqueCount}return r}var fGe=/^\s|\s$|[\t\n\r]/;function Hle(t,e){if(!e.bookSST)return"";var r=[Bi];r[r.length]=it("sst",null,{xmlns:Tm[0],count:t.Count,uniqueCount:t.Unique});for(var n=0;n!=t.length;++n)if(t[n]!=null){var i=t[n],s="<si>";i.r?s+=i.r:(s+="<t",i.t||(i.t=""),i.t.match(fGe)&&(s+=' xml:space="preserve"'),s+=">"+un(i.t)+"</t>"),s+="</si>",r[r.length]=s}return r.length>2&&(r[r.length]="</sst>",r[1]=r[1].replace("/>",">")),r.join("")}function mGe(t){return[t.read_shift(4),t.read_shift(4)]}function pGe(t,e){var r=[],n=!1;return Md(t,function(s,a,o){switch(o){case 159:r.Count=s[0],r.Unique=s[1];break;case 19:r.push(s);break;case 160:return!0;case 35:n=!0;break;case 36:n=!1;break;default:if(a.T,!n||e.WTF)throw new Error("Unexpected record 0x"+o.toString(16))}}),r}function gGe(t,e){return e||(e=Le(8)),e.write_shift(4,t.Count),e.write_shift(4,t.Unique),e}var vGe=AHe;function yGe(t){var e=go();He(e,159,gGe(t));for(var r=0;r<t.length;++r)He(e,19,vGe(t[r]));return He(e,160),e.end()}function qle(t){for(var e=[],r=t.split(""),n=0;n<r.length;++n)e[n]=r[n].charCodeAt(0);return e}function od(t,e){var r={};return r.Major=t.read_shift(2),r.Minor=t.read_shift(2),e>=4&&(t.l+=e-4),r}function xGe(t){var e={};return e.id=t.read_shift(0,"lpp4"),e.R=od(t,4),e.U=od(t,4),e.W=od(t,4),e}function bGe(t){for(var e=t.read_shift(4),r=t.l+e-4,n={},i=t.read_shift(4),s=[];i-- >0;)s.push({t:t.read_shift(4),v:t.read_shift(0,"lpp4")});if(n.name=t.read_shift(0,"lpp4"),n.comps=s,t.l!=r)throw new Error("Bad DataSpaceMapEntry: "+t.l+" != "+r);return n}function wGe(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(bGe(t));return e}function _Ge(t){var e=[];t.l+=4;for(var r=t.read_shift(4);r-- >0;)e.push(t.read_shift(0,"lpp4"));return e}function EGe(t){var e={};return t.read_shift(4),t.l+=4,e.id=t.read_shift(0,"lpp4"),e.name=t.read_shift(0,"lpp4"),e.R=od(t,4),e.U=od(t,4),e.W=od(t,4),e}function TGe(t){var e=EGe(t);if(e.ename=t.read_shift(0,"8lpp4"),e.blksz=t.read_shift(4),e.cmode=t.read_shift(4),t.read_shift(4)!=4)throw new Error("Bad !Primary record");return e}function Wle(t,e){var r=t.l+e,n={};n.Flags=t.read_shift(4)&63,t.l+=4,n.AlgID=t.read_shift(4);var i=!1;switch(n.AlgID){case 26126:case 26127:case 26128:i=n.Flags==36;break;case 26625:i=n.Flags==4;break;case 0:i=n.Flags==16||n.Flags==4||n.Flags==36;break;default:throw"Unrecognized encryption algorithm: "+n.AlgID}if(!i)throw new Error("Encryption Flags/AlgID mismatch");return n.AlgIDHash=t.read_shift(4),n.KeySize=t.read_shift(4),n.ProviderType=t.read_shift(4),t.l+=8,n.CSPName=t.read_shift(r-t.l>>1,"utf16le"),t.l=r,n}function Gle(t,e){var r={},n=t.l+e;return t.l+=4,r.Salt=t.slice(t.l,t.l+16),t.l+=16,r.Verifier=t.slice(t.l,t.l+16),t.l+=16,t.read_shift(4),r.VerifierHash=t.slice(t.l,n),t.l=n,r}function SGe(t){var e=od(t);switch(e.Minor){case 2:return[e.Minor,kGe(t)];case 3:return[e.Minor,AGe()];case 4:return[e.Minor,CGe(t)]}throw new Error("ECMA-376 Encrypted file unrecognized Version: "+e.Minor)}function kGe(t){var e=t.read_shift(4);if((e&63)!=36)throw new Error("EncryptionInfo mismatch");var r=t.read_shift(4),n=Wle(t,r),i=Gle(t,t.length-t.l);return{t:"Std",h:n,v:i}}function AGe(){throw new Error("File is password-protected: ECMA-376 Extensible")}function CGe(t){var e=["saltSize","blockSize","keyBits","hashSize","cipherAlgorithm","cipherChaining","hashAlgorithm","saltValue"];t.l+=4;var r=t.read_shift(t.length-t.l,"utf8"),n={};return r.replace(ja,function(s){var a=zt(s);switch(mu(a[0])){case"<?xml":break;case"<encryption":case"</encryption>":break;case"<keyData":e.forEach(function(o){n[o]=a[o]});break;case"<dataIntegrity":n.encryptedHmacKey=a.encryptedHmacKey,n.encryptedHmacValue=a.encryptedHmacValue;break;case"<keyEncryptors>":case"<keyEncryptors":n.encs=[];break;case"</keyEncryptors>":break;case"<keyEncryptor":n.uri=a.uri;break;case"</keyEncryptor>":break;case"<encryptedKey":n.encs.push(a);break;default:throw a[0]}}),n}function NGe(t,e){var r={},n=r.EncryptionVersionInfo=od(t,4);if(e-=4,n.Minor!=2)throw new Error("unrecognized minor version code: "+n.Minor);if(n.Major>4||n.Major<2)throw new Error("unrecognized major version code: "+n.Major);r.Flags=t.read_shift(4),e-=4;var i=t.read_shift(4);return e-=4,r.EncryptionHeader=Wle(t,i),e-=i,r.EncryptionVerifier=Gle(t,e),r}function IGe(t){var e={},r=e.EncryptionVersionInfo=od(t,4);if(r.Major!=1||r.Minor!=1)throw"unrecognized version code "+r.Major+" : "+r.Minor;return e.Salt=t.read_shift(16),e.EncryptedVerifier=t.read_shift(16),e.EncryptedVerifierHash=t.read_shift(16),e}function ND(t){var e=0,r,n=qle(t),i=n.length+1,s,a,o,l,u;for(r=of(i),r[0]=n.length,s=1;s!=i;++s)r[s]=n[s-1];for(s=i-1;s>=0;--s)a=r[s],o=(e&16384)===0?0:1,l=e<<1&32767,u=o|l,e=u^a;return e^52811}var Kle=(function(){var t=[187,255,255,186,255,255,185,128,0,190,15,0,191,15,0],e=[57840,7439,52380,33984,4364,3600,61902,12606,6258,57657,54287,34041,10252,43370,20163],r=[44796,19929,39858,10053,20106,40212,10761,31585,63170,64933,60267,50935,40399,11199,17763,35526,1453,2906,5812,11624,23248,885,1770,3540,7080,14160,28320,56640,55369,41139,20807,41614,21821,43642,17621,28485,56970,44341,19019,38038,14605,29210,60195,50791,40175,10751,21502,43004,24537,18387,36774,3949,7898,15796,31592,63184,47201,24803,49606,37805,14203,28406,56812,17824,35648,1697,3394,6788,13576,27152,43601,17539,35078,557,1114,2228,4456,30388,60776,51953,34243,7079,14158,28316,14128,28256,56512,43425,17251,34502,7597,13105,26210,52420,35241,883,1766,3532,4129,8258,16516,33032,4657,9314,18628],n=function(a){return(a/2|a*128)&255},i=function(a,o){return n(a^o)},s=function(a){for(var o=e[a.length-1],l=104,u=a.length-1;u>=0;--u)for(var d=a[u],f=0;f!=7;++f)d&64&&(o^=r[l]),d*=2,--l;return o};return function(a){for(var o=qle(a),l=s(o),u=o.length,d=of(16),f=0;f!=16;++f)d[f]=0;var g,v,x;for((u&1)===1&&(g=l>>8,d[u]=i(t[0],g),--u,g=l&255,v=o[o.length-1],d[u]=i(v,g));u>0;)--u,g=l>>8,d[u]=i(o[u],g),--u,g=l&255,d[u]=i(o[u],g);for(u=15,x=15-o.length;x>0;)g=l>>8,d[u]=i(t[x],g),--u,--x,g=l&255,d[u]=i(o[u],g),--u,--x;return d}})(),OGe=function(t,e,r,n,i){i||(i=e),n||(n=Kle(t));var s,a;for(s=0;s!=e.length;++s)a=e[s],a^=n[r],a=(a>>5|a<<3)&255,i[s]=a,++r;return[i,r,n]},RGe=function(t){var e=0,r=Kle(t);return function(n){var i=OGe("",n,e,r);return e=i[1],i[0]}};function PGe(t,e,r,n){var i={key:Zi(t),verificationBytes:Zi(t)};return r.password&&(i.verifier=ND(r.password)),n.valid=i.verificationBytes===i.verifier,n.valid&&(n.insitu=RGe(r.password)),i}function jGe(t,e,r){var n=r||{};return n.Info=t.read_shift(2),t.l-=2,n.Info===1?n.Data=IGe(t):n.Data=NGe(t,e),n}function DGe(t,e,r){var n={Type:r.biff>=8?t.read_shift(2):0};return n.Type?jGe(t,e-2,n):PGe(t,r.biff>=8?e:e-2,r,n),n}var Yle=(function(){function t(i,s){switch(s.type){case"base64":return e(Xo(i),s);case"binary":return e(i,s);case"buffer":return e(lr&&Buffer.isBuffer(i)?i.toString("binary"):Ef(i),s);case"array":return e(im(i),s)}throw new Error("Unrecognized type "+s.type)}function e(i,s){var a=s||{},o=a.dense?[]:{},l=i.match(/\\trowd.*?\\row\b/g);if(!l.length)throw new Error("RTF missing table");var u={s:{c:0,r:0},e:{c:0,r:l.length-1}};return l.forEach(function(d,f){Array.isArray(o)&&(o[f]=[]);for(var g=/\\\w+\b/g,v=0,x,b=-1;x=g.exec(d);){switch(x[0]){case"\\cell":var w=d.slice(v,g.lastIndex-x[0].length);if(w[0]==" "&&(w=w.slice(1)),++b,w.length){var E={v:w,t:"s"};Array.isArray(o)?o[f][b]=E:o[Ft({r:f,c:b})]=E}break}v=g.lastIndex}b>u.e.c&&(u.e.c=b)}),o["!ref"]=tr(u),o}function r(i,s){return Tf(t(i,s),s)}function n(i){for(var s=["{\\rtf1\\ansi"],a=Cr(i["!ref"]),o,l=Array.isArray(i),u=a.s.r;u<=a.e.r;++u){s.push("\\trowd\\trautofit1");for(var d=a.s.c;d<=a.e.c;++d)s.push("\\cellx"+(d+1));for(s.push("\\pard\\intbl"),d=a.s.c;d<=a.e.c;++d){var f=Ft({r:u,c:d});o=l?(i[u]||[])[d]:i[f],!(!o||o.v==null&&(!o.f||o.F))&&(s.push(" "+(o.w||(Td(o),o.w))),s.push("\\cell"))}s.push("\\pard\\intbl\\row")}return s.join("")+"}"}return{to_workbook:r,to_sheet:t,from_sheet:n}})();function MGe(t){var e=t.slice(t[0]==="#"?1:0).slice(0,6);return[parseInt(e.slice(0,2),16),parseInt(e.slice(2,4),16),parseInt(e.slice(4,6),16)]}function Ix(t){for(var e=0,r=1;e!=3;++e)r=r*256+(t[e]>255?255:t[e]<0?0:t[e]);return r.toString(16).toUpperCase().slice(1)}function LGe(t){var e=t[0]/255,r=t[1]/255,n=t[2]/255,i=Math.max(e,r,n),s=Math.min(e,r,n),a=i-s;if(a===0)return[0,0,e];var o=0,l=0,u=i+s;switch(l=a/(u>1?2-u:u),i){case e:o=((r-n)/a+6)%6;break;case r:o=(n-e)/a+2;break;case n:o=(e-r)/a+4;break}return[o/6,l,u/2]}function FGe(t){var e=t[0],r=t[1],n=t[2],i=r*2*(n<.5?n:1-n),s=n-i/2,a=[s,s,s],o=6*e,l;if(r!==0)switch(o|0){case 0:case 6:l=i*o,a[0]+=i,a[1]+=l;break;case 1:l=i*(2-o),a[0]+=l,a[1]+=i;break;case 2:l=i*(o-2),a[1]+=i,a[2]+=l;break;case 3:l=i*(4-o),a[1]+=l,a[2]+=i;break;case 4:l=i*(o-4),a[2]+=i,a[0]+=l;break;case 5:l=i*(6-o),a[2]+=l,a[0]+=i;break}for(var u=0;u!=3;++u)a[u]=Math.round(a[u]*255);return a}function KT(t,e){if(e===0)return t;var r=LGe(MGe(t));return e<0?r[2]=r[2]*(1+e):r[2]=1-(1-r[2])*(1-e),Ix(FGe(r))}var Xle=6,BGe=15,VGe=1,Ea=Xle;function Ox(t){return Math.floor((t+Math.round(128/Ea)/256)*Ea)}function Rx(t){return Math.floor((t-5)/Ea*100+.5)/100}function YT(t){return Math.round((t*Ea+5)/Ea*256)/256}function l5(t){return YT(Rx(Ox(t)))}function ID(t){var e=Math.abs(t-l5(t)),r=Ea;if(e>.005)for(Ea=VGe;Ea<BGe;++Ea)Math.abs(t-l5(t))<=e&&(e=Math.abs(t-l5(t)),r=Ea);Ea=r}function lf(t){t.width?(t.wpx=Ox(t.width),t.wch=Rx(t.wpx),t.MDW=Ea):t.wpx?(t.wch=Rx(t.wpx),t.width=YT(t.wch),t.MDW=Ea):typeof t.wch=="number"&&(t.width=YT(t.wch),t.wpx=Ox(t.width),t.MDW=Ea),t.customWidth&&delete t.customWidth}var UGe=96,Qle=UGe;function Px(t){return t*96/Qle}function Zg(t){return t*Qle/96}var zGe={None:"none",Solid:"solid",Gray50:"mediumGray",Gray75:"darkGray",Gray25:"lightGray",HorzStripe:"darkHorizontal",VertStripe:"darkVertical",ReverseDiagStripe:"darkDown",DiagStripe:"darkUp",DiagCross:"darkGrid",ThickDiagCross:"darkTrellis",ThinHorzStripe:"lightHorizontal",ThinVertStripe:"lightVertical",ThinReverseDiagStripe:"lightDown",ThinHorzCross:"lightGrid"};function $Ge(t,e,r,n){e.Borders=[];var i={},s=!1;(t[0].match(ja)||[]).forEach(function(a){var o=zt(a);switch(mu(o[0])){case"<borders":case"<borders>":case"</borders>":break;case"<border":case"<border>":case"<border/>":i={},o.diagonalUp&&(i.diagonalUp=$n(o.diagonalUp)),o.diagonalDown&&(i.diagonalDown=$n(o.diagonalDown)),e.Borders.push(i);break;case"</border>":break;case"<left/>":break;case"<left":case"<left>":break;case"</left>":break;case"<right/>":break;case"<right":case"<right>":break;case"</right>":break;case"<top/>":break;case"<top":case"<top>":break;case"</top>":break;case"<bottom/>":break;case"<bottom":case"<bottom>":break;case"</bottom>":break;case"<diagonal":case"<diagonal>":case"<diagonal/>":break;case"</diagonal>":break;case"<horizontal":case"<horizontal>":case"<horizontal/>":break;case"</horizontal>":break;case"<vertical":case"<vertical>":case"<vertical/>":break;case"</vertical>":break;case"<start":case"<start>":case"<start/>":break;case"</start>":break;case"<end":case"<end>":case"<end/>":break;case"</end>":break;case"<color":case"<color>":break;case"<color/>":case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in borders")}})}function HGe(t,e,r,n){e.Fills=[];var i={},s=!1;(t[0].match(ja)||[]).forEach(function(a){var o=zt(a);switch(mu(o[0])){case"<fills":case"<fills>":case"</fills>":break;case"<fill>":case"<fill":case"<fill/>":i={},e.Fills.push(i);break;case"</fill>":break;case"<gradientFill>":break;case"<gradientFill":case"</gradientFill>":e.Fills.push(i),i={};break;case"<patternFill":case"<patternFill>":o.patternType&&(i.patternType=o.patternType);break;case"<patternFill/>":case"</patternFill>":break;case"<bgColor":i.bgColor||(i.bgColor={}),o.indexed&&(i.bgColor.indexed=parseInt(o.indexed,10)),o.theme&&(i.bgColor.theme=parseInt(o.theme,10)),o.tint&&(i.bgColor.tint=parseFloat(o.tint)),o.rgb&&(i.bgColor.rgb=o.rgb.slice(-6));break;case"<bgColor/>":case"</bgColor>":break;case"<fgColor":i.fgColor||(i.fgColor={}),o.theme&&(i.fgColor.theme=parseInt(o.theme,10)),o.tint&&(i.fgColor.tint=parseFloat(o.tint)),o.rgb!=null&&(i.fgColor.rgb=o.rgb.slice(-6));break;case"<fgColor/>":case"</fgColor>":break;case"<stop":case"<stop/>":break;case"</stop>":break;case"<color":case"<color/>":break;case"</color>":break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fills")}})}function qGe(t,e,r,n){e.Fonts=[];var i={},s=!1;(t[0].match(ja)||[]).forEach(function(a){var o=zt(a);switch(mu(o[0])){case"<fonts":case"<fonts>":case"</fonts>":break;case"<font":case"<font>":break;case"</font>":case"<font/>":e.Fonts.push(i),i={};break;case"<name":o.val&&(i.name=En(o.val));break;case"<name/>":case"</name>":break;case"<b":i.bold=o.val?$n(o.val):1;break;case"<b/>":i.bold=1;break;case"<i":i.italic=o.val?$n(o.val):1;break;case"<i/>":i.italic=1;break;case"<u":switch(o.val){case"none":i.underline=0;break;case"single":i.underline=1;break;case"double":i.underline=2;break;case"singleAccounting":i.underline=33;break;case"doubleAccounting":i.underline=34;break}break;case"<u/>":i.underline=1;break;case"<strike":i.strike=o.val?$n(o.val):1;break;case"<strike/>":i.strike=1;break;case"<outline":i.outline=o.val?$n(o.val):1;break;case"<outline/>":i.outline=1;break;case"<shadow":i.shadow=o.val?$n(o.val):1;break;case"<shadow/>":i.shadow=1;break;case"<condense":i.condense=o.val?$n(o.val):1;break;case"<condense/>":i.condense=1;break;case"<extend":i.extend=o.val?$n(o.val):1;break;case"<extend/>":i.extend=1;break;case"<sz":o.val&&(i.sz=+o.val);break;case"<sz/>":case"</sz>":break;case"<vertAlign":o.val&&(i.vertAlign=o.val);break;case"<vertAlign/>":case"</vertAlign>":break;case"<family":o.val&&(i.family=parseInt(o.val,10));break;case"<family/>":case"</family>":break;case"<scheme":o.val&&(i.scheme=o.val);break;case"<scheme/>":case"</scheme>":break;case"<charset":if(o.val=="1")break;o.codepage=iD[parseInt(o.val,10)];break;case"<color":if(i.color||(i.color={}),o.auto&&(i.color.auto=$n(o.auto)),o.rgb)i.color.rgb=o.rgb.slice(-6);else if(o.indexed){i.color.index=parseInt(o.indexed,10);var l=j0[i.color.index];i.color.index==81&&(l=j0[1]),l||(l=j0[1]),i.color.rgb=l[0].toString(16)+l[1].toString(16)+l[2].toString(16)}else o.theme&&(i.color.theme=parseInt(o.theme,10),o.tint&&(i.color.tint=parseFloat(o.tint)),o.theme&&r.themeElements&&r.themeElements.clrScheme&&(i.color.rgb=KT(r.themeElements.clrScheme[i.color.theme].rgb,i.color.tint||0)));break;case"<color/>":case"</color>":break;case"<AlternateContent":s=!0;break;case"</AlternateContent>":s=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":s=!0;break;case"</ext>":s=!1;break;default:if(n&&n.WTF&&!s)throw new Error("unrecognized "+o[0]+" in fonts")}})}function WGe(t,e,r){e.NumberFmt=[];for(var n=Ai(Dt),i=0;i<n.length;++i)e.NumberFmt[n[i]]=Dt[n[i]];var s=t[0].match(ja);if(s)for(i=0;i<s.length;++i){var a=zt(s[i]);switch(mu(a[0])){case"<numFmts":case"</numFmts>":case"<numFmts/>":case"<numFmts>":break;case"<numFmt":{var o=Ar(En(a.formatCode)),l=parseInt(a.numFmtId,10);if(e.NumberFmt[l]=o,l>0){if(l>392){for(l=392;l>60&&e.NumberFmt[l]!=null;--l);e.NumberFmt[l]=o}ad(o,l)}}break;case"</numFmt>":break;default:if(r.WTF)throw new Error("unrecognized "+a[0]+" in numFmts")}}}function GGe(t){var e=["<numFmts>"];return[[5,8],[23,26],[41,44],[50,392]].forEach(function(r){for(var n=r[0];n<=r[1];++n)t[n]!=null&&(e[e.length]=it("numFmt",null,{numFmtId:n,formatCode:un(t[n])}))}),e.length===1?"":(e[e.length]="</numFmts>",e[0]=it("numFmts",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var c2=["numFmtId","fillId","fontId","borderId","xfId"],u2=["applyAlignment","applyBorder","applyFill","applyFont","applyNumberFormat","applyProtection","pivotButton","quotePrefix"];function KGe(t,e,r){e.CellXf=[];var n,i=!1;(t[0].match(ja)||[]).forEach(function(s){var a=zt(s),o=0;switch(mu(a[0])){case"<cellXfs":case"<cellXfs>":case"<cellXfs/>":case"</cellXfs>":break;case"<xf":case"<xf/>":for(n=a,delete n[0],o=0;o<c2.length;++o)n[c2[o]]&&(n[c2[o]]=parseInt(n[c2[o]],10));for(o=0;o<u2.length;++o)n[u2[o]]&&(n[u2[o]]=$n(n[u2[o]]));if(e.NumberFmt&&n.numFmtId>392){for(o=392;o>60;--o)if(e.NumberFmt[n.numFmtId]==e.NumberFmt[o]){n.numFmtId=o;break}}e.CellXf.push(n);break;case"</xf>":break;case"<alignment":case"<alignment/>":var l={};a.vertical&&(l.vertical=a.vertical),a.horizontal&&(l.horizontal=a.horizontal),a.textRotation!=null&&(l.textRotation=a.textRotation),a.indent&&(l.indent=a.indent),a.wrapText&&(l.wrapText=$n(a.wrapText)),n.alignment=l;break;case"</alignment>":break;case"<protection":break;case"</protection>":case"<protection/>":break;case"<AlternateContent":i=!0;break;case"</AlternateContent>":i=!1;break;case"<extLst":case"<extLst>":case"</extLst>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;default:if(r&&r.WTF&&!i)throw new Error("unrecognized "+a[0]+" in cellXfs")}})}function YGe(t){var e=[];return e[e.length]=it("cellXfs",null),t.forEach(function(r){e[e.length]=it("xf",null,r)}),e[e.length]="</cellXfs>",e.length===2?"":(e[0]=it("cellXfs",null,{count:e.length-2}).replace("/>",">"),e.join(""))}var XGe=(function(){var e=/<(?:\w+:)?numFmts([^>]*)>[\S\s]*?<\/(?:\w+:)?numFmts>/,r=/<(?:\w+:)?cellXfs([^>]*)>[\S\s]*?<\/(?:\w+:)?cellXfs>/,n=/<(?:\w+:)?fills([^>]*)>[\S\s]*?<\/(?:\w+:)?fills>/,i=/<(?:\w+:)?fonts([^>]*)>[\S\s]*?<\/(?:\w+:)?fonts>/,s=/<(?:\w+:)?borders([^>]*)>[\S\s]*?<\/(?:\w+:)?borders>/;return function(o,l,u){var d={};if(!o)return d;o=o.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");var f;return(f=o.match(e))&&WGe(f,d,u),(f=o.match(i))&&qGe(f,d,l,u),(f=o.match(n))&&HGe(f,d,l,u),(f=o.match(s))&&$Ge(f,d,l,u),(f=o.match(r))&&KGe(f,d,u),d}})();function Jle(t,e){var r=[Bi,it("styleSheet",null,{xmlns:Tm[0],"xmlns:vt":gs.vt})],n;return t.SSF&&(n=GGe(t.SSF))!=null&&(r[r.length]=n),r[r.length]='<fonts count="1"><font><sz val="12"/><color theme="1"/><name val="Calibri"/><family val="2"/><scheme val="minor"/></font></fonts>',r[r.length]='<fills count="2"><fill><patternFill patternType="none"/></fill><fill><patternFill patternType="gray125"/></fill></fills>',r[r.length]='<borders count="1"><border><left/><right/><top/><bottom/><diagonal/></border></borders>',r[r.length]='<cellStyleXfs count="1"><xf numFmtId="0" fontId="0" fillId="0" borderId="0"/></cellStyleXfs>',(n=YGe(e.cellXfs))&&(r[r.length]=n),r[r.length]='<cellStyles count="1"><cellStyle name="Normal" xfId="0" builtinId="0"/></cellStyles>',r[r.length]='<dxfs count="0"/>',r[r.length]='<tableStyles count="0" defaultTableStyle="TableStyleMedium9" defaultPivotStyle="PivotStyleMedium4"/>',r.length>2&&(r[r.length]="</styleSheet>",r[1]=r[1].replace("/>",">")),r.join("")}function QGe(t,e){var r=t.read_shift(2),n=Ia(t);return[r,n]}function JGe(t,e,r){r||(r=Le(6+4*e.length)),r.write_shift(2,t),Bs(e,r);var n=r.length>r.l?r.slice(0,r.l):r;return r.l==null&&(r.l=r.length),n}function ZGe(t,e,r){var n={};n.sz=t.read_shift(2)/20;var i=jHe(t);i.fItalic&&(n.italic=1),i.fCondense&&(n.condense=1),i.fExtend&&(n.extend=1),i.fShadow&&(n.shadow=1),i.fOutline&&(n.outline=1),i.fStrikeout&&(n.strike=1);var s=t.read_shift(2);switch(s===700&&(n.bold=1),t.read_shift(2)){case 1:n.vertAlign="superscript";break;case 2:n.vertAlign="subscript";break}var a=t.read_shift(1);a!=0&&(n.underline=a);var o=t.read_shift(1);o>0&&(n.family=o);var l=t.read_shift(1);switch(l>0&&(n.charset=l),t.l++,n.color=PHe(t),t.read_shift(1)){case 1:n.scheme="major";break;case 2:n.scheme="minor";break}return n.name=Ia(t),n}function eKe(t,e){e||(e=Le(153)),e.write_shift(2,t.sz*20),DHe(t,e),e.write_shift(2,t.bold?700:400);var r=0;t.vertAlign=="superscript"?r=1:t.vertAlign=="subscript"&&(r=2),e.write_shift(2,r),e.write_shift(1,t.underline||0),e.write_shift(1,t.family||0),e.write_shift(1,t.charset||0),e.write_shift(1,0),qT(t.color,e);var n=0;return n=2,e.write_shift(1,n),Bs(t.name,e),e.length>e.l?e.slice(0,e.l):e}var tKe=["none","solid","mediumGray","darkGray","lightGray","darkHorizontal","darkVertical","darkDown","darkUp","darkGrid","darkTrellis","lightHorizontal","lightVertical","lightDown","lightUp","lightGrid","lightTrellis","gray125","gray0625"],c5,rKe=Ra;function hK(t,e){e||(e=Le(84)),c5||(c5=ak(tKe));var r=c5[t.patternType];r==null&&(r=40),e.write_shift(4,r);var n=0;if(r!=40)for(qT({auto:1},e),qT({auto:1},e);n<12;++n)e.write_shift(4,0);else{for(;n<4;++n)e.write_shift(4,0);for(;n<12;++n)e.write_shift(4,0)}return e.length>e.l?e.slice(0,e.l):e}function nKe(t,e){var r=t.l+e,n=t.read_shift(2),i=t.read_shift(2);return t.l=r,{ixfe:n,numFmtId:i}}function Zle(t,e,r){r||(r=Le(16)),r.write_shift(2,e||0),r.write_shift(2,t.numFmtId||0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(1,0),r.write_shift(1,0);var n=0;return r.write_shift(1,n),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(1,0),r}function Wy(t,e){return e||(e=Le(10)),e.write_shift(1,0),e.write_shift(1,0),e.write_shift(4,0),e.write_shift(4,0),e}var iKe=Ra;function sKe(t,e){return e||(e=Le(51)),e.write_shift(1,0),Wy(null,e),Wy(null,e),Wy(null,e),Wy(null,e),Wy(null,e),e.length>e.l?e.slice(0,e.l):e}function aKe(t,e){return e||(e=Le(52)),e.write_shift(4,t.xfId),e.write_shift(2,1),e.write_shift(1,0),e.write_shift(1,0),HT(t.name||"",e),e.length>e.l?e.slice(0,e.l):e}function oKe(t,e,r){var n=Le(2052);return n.write_shift(4,t),HT(e,n),HT(r,n),n.length>n.l?n.slice(0,n.l):n}function lKe(t,e,r){var n={};n.NumberFmt=[];for(var i in Dt)n.NumberFmt[i]=Dt[i];n.CellXf=[],n.Fonts=[];var s=[],a=!1;return Md(t,function(l,u,d){switch(d){case 44:n.NumberFmt[l[0]]=l[1],ad(l[1],l[0]);break;case 43:n.Fonts.push(l),l.color.theme!=null&&e&&e.themeElements&&e.themeElements.clrScheme&&(l.color.rgb=KT(e.themeElements.clrScheme[l.color.theme].rgb,l.color.tint||0));break;case 1025:break;case 45:break;case 46:break;case 47:s[s.length-1]==617&&n.CellXf.push(l);break;case 48:case 507:case 572:case 475:break;case 1171:case 2102:case 1130:case 512:case 2095:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:s.push(d),a=!0;break;case 38:s.pop(),a=!1;break;default:if(u.T>0)s.push(d);else if(u.T<0)s.pop();else if(!a||r.WTF&&s[s.length-1]!=37)throw new Error("Unexpected record 0x"+d.toString(16))}}),n}function cKe(t,e){if(e){var r=0;[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&++r}),r!=0&&(He(t,615,mc(r)),[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&He(t,44,JGe(i,e[i]))}),He(t,616))}}function uKe(t){var e=1;He(t,611,mc(e)),He(t,43,eKe({sz:12,color:{theme:1},name:"Calibri",family:2})),He(t,612)}function dKe(t){var e=2;He(t,603,mc(e)),He(t,45,hK({patternType:"none"})),He(t,45,hK({patternType:"gray125"})),He(t,604)}function hKe(t){var e=1;He(t,613,mc(e)),He(t,46,sKe()),He(t,614)}function fKe(t){var e=1;He(t,626,mc(e)),He(t,47,Zle({numFmtId:0},65535)),He(t,627)}function mKe(t,e){He(t,617,mc(e.length)),e.forEach(function(r){He(t,47,Zle(r,0))}),He(t,618)}function pKe(t){var e=1;He(t,619,mc(e)),He(t,48,aKe({xfId:0,name:"Normal"})),He(t,620)}function gKe(t){var e=0;He(t,505,mc(e)),He(t,506)}function vKe(t){var e=0;He(t,508,oKe(e,"TableStyleMedium9","PivotStyleMedium4")),He(t,509)}function yKe(t,e){var r=go();return He(r,278),cKe(r,t.SSF),uKe(r),dKe(r),hKe(r),fKe(r),mKe(r,e.cellXfs),pKe(r),gKe(r),vKe(r),He(r,279),r.end()}var xKe=["</a:lt1>","</a:dk1>","</a:lt2>","</a:dk2>","</a:accent1>","</a:accent2>","</a:accent3>","</a:accent4>","</a:accent5>","</a:accent6>","</a:hlink>","</a:folHlink>"];function bKe(t,e,r){e.themeElements.clrScheme=[];var n={};(t[0].match(ja)||[]).forEach(function(i){var s=zt(i);switch(s[0]){case"<a:clrScheme":case"</a:clrScheme>":break;case"<a:srgbClr":n.rgb=s.val;break;case"<a:sysClr":n.rgb=s.lastClr;break;case"<a:dk1>":case"</a:dk1>":case"<a:lt1>":case"</a:lt1>":case"<a:dk2>":case"</a:dk2>":case"<a:lt2>":case"</a:lt2>":case"<a:accent1>":case"</a:accent1>":case"<a:accent2>":case"</a:accent2>":case"<a:accent3>":case"</a:accent3>":case"<a:accent4>":case"</a:accent4>":case"<a:accent5>":case"</a:accent5>":case"<a:accent6>":case"</a:accent6>":case"<a:hlink>":case"</a:hlink>":case"<a:folHlink>":case"</a:folHlink>":s[0].charAt(1)==="/"?(e.themeElements.clrScheme[xKe.indexOf(s[0])]=n,n={}):n.name=s[0].slice(3,s[0].length-1);break;default:if(r&&r.WTF)throw new Error("Unrecognized "+s[0]+" in clrScheme")}})}function wKe(){}function _Ke(){}var EKe=/<a:clrScheme([^>]*)>[\s\S]*<\/a:clrScheme>/,TKe=/<a:fontScheme([^>]*)>[\s\S]*<\/a:fontScheme>/,SKe=/<a:fmtScheme([^>]*)>[\s\S]*<\/a:fmtScheme>/;function kKe(t,e,r){e.themeElements={};var n;[["clrScheme",EKe,bKe],["fontScheme",TKe,wKe],["fmtScheme",SKe,_Ke]].forEach(function(i){if(!(n=t.match(i[1])))throw new Error(i[0]+" not found in themeElements");i[2](n,e,r)})}var AKe=/<a:themeElements([^>]*)>[\s\S]*<\/a:themeElements>/;function ece(t,e){(!t||t.length===0)&&(t=OD());var r,n={};if(!(r=t.match(AKe)))throw new Error("themeElements not found in theme");return kKe(r[0],n,e),n.raw=t,n}function OD(t,e){if(e&&e.themeXLSX)return e.themeXLSX;if(t&&typeof t.raw=="string")return t.raw;var r=[Bi];return r[r.length]='<a:theme xmlns:a="http://schemas.openxmlformats.org/drawingml/2006/main" name="Office Theme">',r[r.length]="<a:themeElements>",r[r.length]='<a:clrScheme name="Office">',r[r.length]='<a:dk1><a:sysClr val="windowText" lastClr="000000"/></a:dk1>',r[r.length]='<a:lt1><a:sysClr val="window" lastClr="FFFFFF"/></a:lt1>',r[r.length]='<a:dk2><a:srgbClr val="1F497D"/></a:dk2>',r[r.length]='<a:lt2><a:srgbClr val="EEECE1"/></a:lt2>',r[r.length]='<a:accent1><a:srgbClr val="4F81BD"/></a:accent1>',r[r.length]='<a:accent2><a:srgbClr val="C0504D"/></a:accent2>',r[r.length]='<a:accent3><a:srgbClr val="9BBB59"/></a:accent3>',r[r.length]='<a:accent4><a:srgbClr val="8064A2"/></a:accent4>',r[r.length]='<a:accent5><a:srgbClr val="4BACC6"/></a:accent5>',r[r.length]='<a:accent6><a:srgbClr val="F79646"/></a:accent6>',r[r.length]='<a:hlink><a:srgbClr val="0000FF"/></a:hlink>',r[r.length]='<a:folHlink><a:srgbClr val="800080"/></a:folHlink>',r[r.length]="</a:clrScheme>",r[r.length]='<a:fontScheme name="Office">',r[r.length]="<a:majorFont>",r[r.length]='<a:latin typeface="Cambria"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Times New Roman"/>',r[r.length]='<a:font script="Hebr" typeface="Times New Roman"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="MoolBoran"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Times New Roman"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:majorFont>",r[r.length]="<a:minorFont>",r[r.length]='<a:latin typeface="Calibri"/>',r[r.length]='<a:ea typeface=""/>',r[r.length]='<a:cs typeface=""/>',r[r.length]='<a:font script="Jpan" typeface=" "/>',r[r.length]='<a:font script="Hang" typeface=" "/>',r[r.length]='<a:font script="Hans" typeface=""/>',r[r.length]='<a:font script="Hant" typeface=""/>',r[r.length]='<a:font script="Arab" typeface="Arial"/>',r[r.length]='<a:font script="Hebr" typeface="Arial"/>',r[r.length]='<a:font script="Thai" typeface="Tahoma"/>',r[r.length]='<a:font script="Ethi" typeface="Nyala"/>',r[r.length]='<a:font script="Beng" typeface="Vrinda"/>',r[r.length]='<a:font script="Gujr" typeface="Shruti"/>',r[r.length]='<a:font script="Khmr" typeface="DaunPenh"/>',r[r.length]='<a:font script="Knda" typeface="Tunga"/>',r[r.length]='<a:font script="Guru" typeface="Raavi"/>',r[r.length]='<a:font script="Cans" typeface="Euphemia"/>',r[r.length]='<a:font script="Cher" typeface="Plantagenet Cherokee"/>',r[r.length]='<a:font script="Yiii" typeface="Microsoft Yi Baiti"/>',r[r.length]='<a:font script="Tibt" typeface="Microsoft Himalaya"/>',r[r.length]='<a:font script="Thaa" typeface="MV Boli"/>',r[r.length]='<a:font script="Deva" typeface="Mangal"/>',r[r.length]='<a:font script="Telu" typeface="Gautami"/>',r[r.length]='<a:font script="Taml" typeface="Latha"/>',r[r.length]='<a:font script="Syrc" typeface="Estrangelo Edessa"/>',r[r.length]='<a:font script="Orya" typeface="Kalinga"/>',r[r.length]='<a:font script="Mlym" typeface="Kartika"/>',r[r.length]='<a:font script="Laoo" typeface="DokChampa"/>',r[r.length]='<a:font script="Sinh" typeface="Iskoola Pota"/>',r[r.length]='<a:font script="Mong" typeface="Mongolian Baiti"/>',r[r.length]='<a:font script="Viet" typeface="Arial"/>',r[r.length]='<a:font script="Uigh" typeface="Microsoft Uighur"/>',r[r.length]='<a:font script="Geor" typeface="Sylfaen"/>',r[r.length]="</a:minorFont>",r[r.length]="</a:fontScheme>",r[r.length]='<a:fmtScheme name="Office">',r[r.length]="<a:fillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="50000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="35000"><a:schemeClr val="phClr"><a:tint val="37000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="15000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="1"/>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="100000"/><a:shade val="100000"/><a:satMod val="130000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:tint val="50000"/><a:shade val="100000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:lin ang="16200000" scaled="0"/>',r[r.length]="</a:gradFill>",r[r.length]="</a:fillStyleLst>",r[r.length]="<a:lnStyleLst>",r[r.length]='<a:ln w="9525" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"><a:shade val="95000"/><a:satMod val="105000"/></a:schemeClr></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="25400" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]='<a:ln w="38100" cap="flat" cmpd="sng" algn="ctr"><a:solidFill><a:schemeClr val="phClr"/></a:solidFill><a:prstDash val="solid"/></a:ln>',r[r.length]="</a:lnStyleLst>",r[r.length]="<a:effectStyleLst>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="20000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="38000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]="</a:effectStyle>",r[r.length]="<a:effectStyle>",r[r.length]="<a:effectLst>",r[r.length]='<a:outerShdw blurRad="40000" dist="23000" dir="5400000" rotWithShape="0"><a:srgbClr val="000000"><a:alpha val="35000"/></a:srgbClr></a:outerShdw>',r[r.length]="</a:effectLst>",r[r.length]='<a:scene3d><a:camera prst="orthographicFront"><a:rot lat="0" lon="0" rev="0"/></a:camera><a:lightRig rig="threePt" dir="t"><a:rot lat="0" lon="0" rev="1200000"/></a:lightRig></a:scene3d>',r[r.length]='<a:sp3d><a:bevelT w="63500" h="25400"/></a:sp3d>',r[r.length]="</a:effectStyle>",r[r.length]="</a:effectStyleLst>",r[r.length]="<a:bgFillStyleLst>",r[r.length]='<a:solidFill><a:schemeClr val="phClr"/></a:solidFill>',r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="40000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="40000"><a:schemeClr val="phClr"><a:tint val="45000"/><a:shade val="99000"/><a:satMod val="350000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="20000"/><a:satMod val="255000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="-80000" r="50000" b="180000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]='<a:gradFill rotWithShape="1">',r[r.length]="<a:gsLst>",r[r.length]='<a:gs pos="0"><a:schemeClr val="phClr"><a:tint val="80000"/><a:satMod val="300000"/></a:schemeClr></a:gs>',r[r.length]='<a:gs pos="100000"><a:schemeClr val="phClr"><a:shade val="30000"/><a:satMod val="200000"/></a:schemeClr></a:gs>',r[r.length]="</a:gsLst>",r[r.length]='<a:path path="circle"><a:fillToRect l="50000" t="50000" r="50000" b="50000"/></a:path>',r[r.length]="</a:gradFill>",r[r.length]="</a:bgFillStyleLst>",r[r.length]="</a:fmtScheme>",r[r.length]="</a:themeElements>",r[r.length]="<a:objectDefaults>",r[r.length]="<a:spDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="1"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="3"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="2"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="lt1"/></a:fontRef></a:style>',r[r.length]="</a:spDef>",r[r.length]="<a:lnDef>",r[r.length]='<a:spPr/><a:bodyPr/><a:lstStyle/><a:style><a:lnRef idx="2"><a:schemeClr val="accent1"/></a:lnRef><a:fillRef idx="0"><a:schemeClr val="accent1"/></a:fillRef><a:effectRef idx="1"><a:schemeClr val="accent1"/></a:effectRef><a:fontRef idx="minor"><a:schemeClr val="tx1"/></a:fontRef></a:style>',r[r.length]="</a:lnDef>",r[r.length]="</a:objectDefaults>",r[r.length]="<a:extraClrSchemeLst/>",r[r.length]="</a:theme>",r.join("")}function CKe(t,e,r){var n=t.l+e,i=t.read_shift(4);if(i!==124226){if(!r.cellStyles){t.l=n;return}var s=t.slice(t.l);t.l=n;var a;try{a=Woe(s,{type:"array"})}catch{return}var o=Vo(a,"theme/theme/theme1.xml",!0);if(o)return ece(o,r)}}function NKe(t){return t.read_shift(4)}function IKe(t){var e={};switch(e.xclrType=t.read_shift(2),e.nTintShade=t.read_shift(2),e.xclrType){case 0:t.l+=4;break;case 1:e.xclrValue=OKe(t,4);break;case 2:e.xclrValue=Ple(t);break;case 3:e.xclrValue=NKe(t);break;case 4:t.l+=4;break}return t.l+=8,e}function OKe(t,e){return Ra(t,e)}function RKe(t,e){return Ra(t,e)}function PKe(t){var e=t.read_shift(2),r=t.read_shift(2)-4,n=[e];switch(e){case 4:case 5:case 7:case 8:case 9:case 10:case 11:case 13:n[1]=IKe(t);break;case 6:n[1]=RKe(t,r);break;case 14:case 15:n[1]=t.read_shift(r===1?1:2);break;default:throw new Error("Unrecognized ExtProp type: "+e+" "+r)}return n}function jKe(t,e){var r=t.l+e;t.l+=2;var n=t.read_shift(2);t.l+=2;for(var i=t.read_shift(2),s=[];i-- >0;)s.push(PKe(t,r-t.l));return{ixfe:n,ext:s}}function DKe(t,e){e.forEach(function(r){r[0]})}function MKe(t,e){return{flags:t.read_shift(4),version:t.read_shift(4),name:Ia(t)}}function LKe(t){var e=Le(12+2*t.name.length);return e.write_shift(4,t.flags),e.write_shift(4,t.version),Bs(t.name,e),e.slice(0,e.l)}function FKe(t){for(var e=[],r=t.read_shift(4);r-- >0;)e.push([t.read_shift(4),t.read_shift(4)]);return e}function BKe(t){var e=Le(4+8*t.length);e.write_shift(4,t.length);for(var r=0;r<t.length;++r)e.write_shift(4,t[r][0]),e.write_shift(4,t[r][1]);return e}function VKe(t,e){var r=Le(8+2*e.length);return r.write_shift(4,t),Bs(e,r),r.slice(0,r.l)}function UKe(t){return t.l+=4,t.read_shift(4)!=0}function zKe(t,e){var r=Le(8);return r.write_shift(4,t),r.write_shift(4,1),r}function $Ke(t,e,r){var n={Types:[],Cell:[],Value:[]},i=r||{},s=[],a=!1,o=2;return Md(t,function(l,u,d){switch(d){case 335:n.Types.push({name:l.name});break;case 51:l.forEach(function(f){o==1?n.Cell.push({type:n.Types[f[0]-1].name,index:f[1]}):o==0&&n.Value.push({type:n.Types[f[0]-1].name,index:f[1]})});break;case 337:o=l?1:0;break;case 338:o=2;break;case 35:s.push(d),a=!0;break;case 36:s.pop(),a=!1;break;default:if(!u.T){if(!a||i.WTF&&s[s.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}}),n}function HKe(){var t=go();return He(t,332),He(t,334,mc(1)),He(t,335,LKe({name:"XLDAPR",version:12e4,flags:3496657072})),He(t,336),He(t,339,VKe(1,"XLDAPR")),He(t,52),He(t,35,mc(514)),He(t,4096,mc(0)),He(t,4097,wl(1)),He(t,36),He(t,53),He(t,340),He(t,337,zKe(1)),He(t,51,BKe([[1,0]])),He(t,338),He(t,333),t.end()}function qKe(t,e,r){var n={Types:[],Cell:[],Value:[]};if(!t)return n;var i=!1,s=2,a;return t.replace(ja,function(o){var l=zt(o);switch(mu(l[0])){case"<?xml":break;case"<metadata":case"</metadata>":break;case"<metadataTypes":case"</metadataTypes>":break;case"<metadataType":n.Types.push({name:l.name});break;case"</metadataType>":break;case"<futureMetadata":for(var u=0;u<n.Types.length;++u)n.Types[u].name==l.name&&(a=n.Types[u]);break;case"</futureMetadata>":break;case"<bk>":break;case"</bk>":break;case"<rc":s==1?n.Cell.push({type:n.Types[l.t-1].name,index:+l.v}):s==0&&n.Value.push({type:n.Types[l.t-1].name,index:+l.v});break;case"</rc>":break;case"<cellMetadata":s=1;break;case"</cellMetadata>":s=2;break;case"<valueMetadata":s=0;break;case"</valueMetadata>":s=2;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":i=!0;break;case"</ext>":i=!1;break;case"<rvb":if(!a)break;a.offsets||(a.offsets=[]),a.offsets.push(+l.i);break;default:if(!i&&r.WTF)throw new Error("unrecognized "+l[0]+" in metadata")}return o}),n}function tce(){var t=[Bi];return t.push(`<metadata xmlns="http://schemas.openxmlformats.org/spreadsheetml/2006/main" xmlns:xlrd="http://schemas.microsoft.com/office/spreadsheetml/2017/richdata" xmlns:xda="http://schemas.microsoft.com/office/spreadsheetml/2017/dynamicarray">
  <metadataTypes count="1">
    <metadataType name="XLDAPR" minSupportedVersion="120000" copy="1" pasteAll="1" pasteValues="1" merge="1" splitFirst="1" rowColShift="1" clearFormats="1" clearComments="1" assign="1" coerce="1" cellMeta="1"/>
  </metadataTypes>
  <futureMetadata name="XLDAPR" count="1">
    <bk>
      <extLst>
        <ext uri="{bdbb8cdc-fa1e-496e-a857-3c3f30c029c3}">
          <xda:dynamicArrayProperties fDynamic="1" fCollapsed="0"/>
        </ext>
      </extLst>
    </bk>
  </futureMetadata>
  <cellMetadata count="1">
    <bk>
      <rc t="1" v="0"/>
    </bk>
  </cellMetadata>
</metadata>`),t.join("")}function WKe(t){var e=[];if(!t)return e;var r=1;return(t.match(ja)||[]).forEach(function(n){var i=zt(n);switch(i[0]){case"<?xml":break;case"<calcChain":case"<calcChain>":case"</calcChain>":break;case"<c":delete i[0],i.i?r=i.i:i.i=r,e.push(i);break}}),e}function GKe(t){var e={};e.i=t.read_shift(4);var r={};r.r=t.read_shift(4),r.c=t.read_shift(4),e.r=Ft(r);var n=t.read_shift(1);return n&2&&(e.l="1"),n&8&&(e.a="1"),e}function KKe(t,e,r){var n=[];return Md(t,function(s,a,o){switch(o){case 63:n.push(s);break;default:if(!a.T)throw new Error("Unexpected record 0x"+o.toString(16))}}),n}function YKe(t,e,r,n){if(!t)return t;var i=n||{},s=!1;Md(t,function(o,l,u){switch(u){case 359:case 363:case 364:case 366:case 367:case 368:case 369:case 370:case 371:case 472:case 577:case 578:case 579:case 580:case 581:case 582:case 583:case 584:case 585:case 586:case 587:break;case 35:s=!0;break;case 36:s=!1;break;default:if(!l.T){if(!s||i.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}},i)}function XKe(t,e){if(!t)return"??";var r=(t.match(/<c:chart [^>]*r:id="([^"]*)"/)||["",""])[1];return e["!id"][r].Target}var Kp=1024;function rce(t,e){for(var r=[21600,21600],n=["m0,0l0",r[1],r[0],r[1],r[0],"0xe"].join(","),i=[it("xml",null,{"xmlns:v":Po.v,"xmlns:o":Po.o,"xmlns:x":Po.x,"xmlns:mv":Po.mv}).replace(/\/>/,">"),it("o:shapelayout",it("o:idmap",null,{"v:ext":"edit",data:t}),{"v:ext":"edit"}),it("v:shapetype",[it("v:stroke",null,{joinstyle:"miter"}),it("v:path",null,{gradientshapeok:"t","o:connecttype":"rect"})].join(""),{id:"_x0000_t202","o:spt":202,coordsize:r.join(","),path:n})];Kp<t*1e3;)Kp+=1e3;return e.forEach(function(s){var a=fi(s[0]),o={color2:"#BEFF82",type:"gradient"};o.type=="gradient"&&(o.angle="-180");var l=o.type=="gradient"?it("o:fill",null,{type:"gradientUnscaled","v:ext":"view"}):null,u=it("v:fill",l,o),d={on:"t",obscured:"t"};++Kp,i=i.concat(["<v:shape"+Ax({id:"_x0000_s"+Kp,type:"#_x0000_t202",style:"position:absolute; margin-left:80pt;margin-top:5pt;width:104pt;height:64pt;z-index:10"+(s[1].hidden?";visibility:hidden":""),fillcolor:"#ECFAD4",strokecolor:"#edeaa1"})+">",u,it("v:shadow",null,d),it("v:path",null,{"o:connecttype":"none"}),'<v:textbox><div style="text-align:left"></div></v:textbox>','<x:ClientData ObjectType="Note">',"<x:MoveWithCells/>","<x:SizeWithCells/>",aa("x:Anchor",[a.c+1,0,a.r+1,0,a.c+3,20,a.r+5,20].join(",")),aa("x:AutoFill","False"),aa("x:Row",String(a.r)),aa("x:Column",String(a.c)),s[1].hidden?"":"<x:Visible/>","</x:ClientData>","</v:shape>"])}),i.push("</xml>"),i.join("")}function fK(t,e,r,n){var i=Array.isArray(t),s;e.forEach(function(a){var o=fi(a.ref);if(i?(t[o.r]||(t[o.r]=[]),s=t[o.r][o.c]):s=t[a.ref],!s){s={t:"z"},i?t[o.r][o.c]=s:t[a.ref]=s;var l=Cr(t["!ref"]||"BDWGO1000001:A1");l.s.r>o.r&&(l.s.r=o.r),l.e.r<o.r&&(l.e.r=o.r),l.s.c>o.c&&(l.s.c=o.c),l.e.c<o.c&&(l.e.c=o.c);var u=tr(l);u!==t["!ref"]&&(t["!ref"]=u)}s.c||(s.c=[]);var d={a:a.author,t:a.t,r:a.r,T:r};a.h&&(d.h=a.h);for(var f=s.c.length-1;f>=0;--f){if(!r&&s.c[f].T)return;r&&!s.c[f].T&&s.c.splice(f,1)}if(r&&n){for(f=0;f<n.length;++f)if(d.a==n[f].id){d.a=n[f].name||d.a;break}}s.c.push(d)})}function QKe(t,e){if(t.match(/<(?:\w+:)?comments *\/>/))return[];var r=[],n=[],i=t.match(/<(?:\w+:)?authors>([\s\S]*)<\/(?:\w+:)?authors>/);i&&i[1]&&i[1].split(/<\/\w*:?author>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?author[^>]*>(.*)/);o&&r.push(o[1])}});var s=t.match(/<(?:\w+:)?commentList>([\s\S]*)<\/(?:\w+:)?commentList>/);return s&&s[1]&&s[1].split(/<\/\w*:?comment>/).forEach(function(a){if(!(a===""||a.trim()==="")){var o=a.match(/<(?:\w+:)?comment[^>]*>/);if(o){var l=zt(o[0]),u={author:l.authorId&&r[l.authorId]||"sheetjsghost",ref:l.ref,guid:l.guid},d=fi(l.ref);if(!(e.sheetRows&&e.sheetRows<=d.r)){var f=a.match(/<(?:\w+:)?text>([\s\S]*)<\/(?:\w+:)?text>/),g=!!f&&!!f[1]&&CD(f[1])||{r:"",t:"",h:""};u.r=g.r,g.r=="<t></t>"&&(g.t=g.h=""),u.t=(g.t||"").replace(/\r\n/g,`
`).replace(/\r/g,`
`),e.cellHTML&&(u.h=g.h),n.push(u)}}}}),n}function nce(t){var e=[Bi,it("comments",null,{xmlns:Tm[0]})],r=[];return e.push("<authors>"),t.forEach(function(n){n[1].forEach(function(i){var s=un(i.a);r.indexOf(s)==-1&&(r.push(s),e.push("<author>"+s+"</author>")),i.T&&i.ID&&r.indexOf("tc="+i.ID)==-1&&(r.push("tc="+i.ID),e.push("<author>tc="+i.ID+"</author>"))})}),r.length==0&&(r.push("SheetJ5"),e.push("<author>SheetJ5</author>")),e.push("</authors>"),e.push("<commentList>"),t.forEach(function(n){var i=0,s=[];if(n[1][0]&&n[1][0].T&&n[1][0].ID?i=r.indexOf("tc="+n[1][0].ID):n[1].forEach(function(l){l.a&&(i=r.indexOf(un(l.a))),s.push(l.t||"")}),e.push('<comment ref="'+n[0]+'" authorId="'+i+'"><text>'),s.length<=1)e.push(aa("t",un(s[0]||"")));else{for(var a=`Comment:
    `+s[0]+`
`,o=1;o<s.length;++o)a+=`Reply:
    `+s[o]+`
`;e.push(aa("t",un(a)))}e.push("</text></comment>")}),e.push("</commentList>"),e.length>2&&(e[e.length]="</comments>",e[1]=e[1].replace("/>",">")),e.join("")}function JKe(t,e){var r=[],n=!1,i={},s=0;return t.replace(ja,function(o,l){var u=zt(o);switch(mu(u[0])){case"<?xml":break;case"<ThreadedComments":break;case"</ThreadedComments>":break;case"<threadedComment":i={author:u.personId,guid:u.id,ref:u.ref,T:1};break;case"</threadedComment>":i.t!=null&&r.push(i);break;case"<text>":case"<text":s=l+o.length;break;case"</text>":i.t=t.slice(s,l).replace(/\r\n/g,`
`).replace(/\r/g,`
`);break;case"<mentions":case"<mentions>":n=!0;break;case"</mentions>":n=!1;break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+u[0]+" in threaded comments")}return o}),r}function ZKe(t,e,r){var n=[Bi,it("ThreadedComments",null,{xmlns:gs.TCMNT}).replace(/[\/]>/,">")];return t.forEach(function(i){var s="";(i[1]||[]).forEach(function(a,o){if(!a.T){delete a.ID;return}a.a&&e.indexOf(a.a)==-1&&e.push(a.a);var l={ref:i[0],id:"{54EE7951-7262-4200-6969-"+("000000000000"+r.tcid++).slice(-12)+"}"};o==0?s=l.id:l.parentId=s,a.ID=l.id,a.a&&(l.personId="{54EE7950-7262-4200-6969-"+("000000000000"+e.indexOf(a.a)).slice(-12)+"}"),n.push(it("threadedComment",aa("text",a.t||""),l))})}),n.push("</ThreadedComments>"),n.join("")}function eYe(t,e){var r=[],n=!1;return t.replace(ja,function(s){var a=zt(s);switch(mu(a[0])){case"<?xml":break;case"<personList":break;case"</personList>":break;case"<person":r.push({name:a.displayname,id:a.id});break;case"</person>":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;default:if(!n&&e.WTF)throw new Error("unrecognized "+a[0]+" in threaded comments")}return s}),r}function tYe(t){var e=[Bi,it("personList",null,{xmlns:gs.TCMNT,"xmlns:x":Tm[0]}).replace(/[\/]>/,">")];return t.forEach(function(r,n){e.push(it("person",null,{displayName:r,id:"{54EE7950-7262-4200-6969-"+("000000000000"+n).slice(-12)+"}",userId:r,providerId:"None"}))}),e.push("</personList>"),e.join("")}function rYe(t){var e={};e.iauthor=t.read_shift(4);var r=Cm(t);return e.rfx=r.s,e.ref=Ft(r.s),t.l+=16,e}function nYe(t,e){return e==null&&(e=Le(36)),e.write_shift(4,t[1].iauthor),Mv(t[0],e),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e.write_shift(4,0),e}var iYe=Ia;function sYe(t){return Bs(t.slice(0,54))}function aYe(t,e){var r=[],n=[],i={},s=!1;return Md(t,function(o,l,u){switch(u){case 632:n.push(o);break;case 635:i=o;break;case 637:i.t=o.t,i.h=o.h,i.r=o.r;break;case 636:if(i.author=n[i.iauthor],delete i.iauthor,e.sheetRows&&i.rfx&&e.sheetRows<=i.rfx.r)break;i.t||(i.t=""),delete i.rfx,r.push(i);break;case 3072:break;case 35:s=!0;break;case 36:s=!1;break;case 37:break;case 38:break;default:if(!l.T){if(!s||e.WTF)throw new Error("Unexpected record 0x"+u.toString(16))}}}),r}function oYe(t){var e=go(),r=[];return He(e,628),He(e,630),t.forEach(function(n){n[1].forEach(function(i){r.indexOf(i.a)>-1||(r.push(i.a.slice(0,54)),He(e,632,sYe(i.a)))})}),He(e,631),He(e,633),t.forEach(function(n){n[1].forEach(function(i){i.iauthor=r.indexOf(i.a);var s={s:fi(n[0]),e:fi(n[0])};He(e,635,nYe([s,i])),i.t&&i.t.length>0&&He(e,637,NHe(i)),He(e,636),delete i.iauthor})}),He(e,634),He(e,629),e.end()}var lYe="application/vnd.ms-office.vbaProject";function cYe(t){var e=Nt.utils.cfb_new({root:"R"});return t.FullPaths.forEach(function(r,n){if(!(r.slice(-1)==="/"||!r.match(/_VBA_PROJECT_CUR/))){var i=r.replace(/^[^\/]*/,"R").replace(/\/_VBA_PROJECT_CUR\u0000*/,"");Nt.utils.cfb_add(e,i,t.FileIndex[n].content)}}),Nt.write(e)}function uYe(t,e){e.FullPaths.forEach(function(r,n){if(n!=0){var i=r.replace(/[^\/]*[\/]/,"/_VBA_PROJECT_CUR/");i.slice(-1)!=="/"&&Nt.utils.cfb_add(t,i,e.FileIndex[n].content)}})}var ice=["xlsb","xlsm","xlam","biff8","xla"];function dYe(){return{"!type":"dialog"}}function hYe(){return{"!type":"dialog"}}function fYe(){return{"!type":"macro"}}function mYe(){return{"!type":"macro"}}var dg=(function(){var t=/(^|[^A-Za-z_])R(\[?-?\d+\]|[1-9]\d*|)C(\[?-?\d+\]|[1-9]\d*|)(?![A-Za-z0-9_])/g,e={r:0,c:0};function r(n,i,s,a){var o=!1,l=!1;s.length==0?l=!0:s.charAt(0)=="["&&(l=!0,s=s.slice(1,-1)),a.length==0?o=!0:a.charAt(0)=="["&&(o=!0,a=a.slice(1,-1));var u=s.length>0?parseInt(s,10)|0:0,d=a.length>0?parseInt(a,10)|0:0;return o?d+=e.c:--d,l?u+=e.r:--u,i+(o?"":"$")+hi(d)+(l?"":"$")+Fi(u)}return function(i,s){return e=s,i.replace(t,r)}})(),RD=/(^|[^._A-Z0-9])([$]?)([A-Z]{1,2}|[A-W][A-Z]{2}|X[A-E][A-Z]|XF[A-D])([$]?)(10[0-3]\d{4}|104[0-7]\d{3}|1048[0-4]\d{2}|10485[0-6]\d|104857[0-6]|[1-9]\d{0,5})(?![_.\(A-Za-z0-9])/g,PD=(function(){return function(e,r){return e.replace(RD,function(n,i,s,a,o,l){var u=xD(a)-(s?0:r.c),d=yD(l)-(o?0:r.r),f=d==0?"":o?d+1:"["+d+"]",g=u==0?"":s?u+1:"["+u+"]";return i+"R"+f+"C"+g})}})();function sce(t,e){return t.replace(RD,function(r,n,i,s,a,o){return n+(i=="$"?i+s:hi(xD(s)+e.c))+(a=="$"?a+o:Fi(yD(o)+e.r))})}function pYe(t,e,r){var n=xo(e),i=n.s,s=fi(r),a={r:s.r-i.r,c:s.c-i.c};return sce(t,a)}function gYe(t){return t.length!=1}function mK(t){return t.replace(/_xlfn\./g,"")}function Xi(t){t.l+=1}function cf(t,e){var r=t.read_shift(2);return[r&16383,r>>14&1,r>>15&1]}function ace(t,e,r){var n=2;if(r){if(r.biff>=2&&r.biff<=5)return oce(t);r.biff==12&&(n=4)}var i=t.read_shift(n),s=t.read_shift(n),a=cf(t),o=cf(t);return{s:{r:i,c:a[0],cRel:a[1],rRel:a[2]},e:{r:s,c:o[0],cRel:o[1],rRel:o[2]}}}function oce(t){var e=cf(t),r=cf(t),n=t.read_shift(1),i=t.read_shift(1);return{s:{r:e[0],c:n,cRel:e[1],rRel:e[2]},e:{r:r[0],c:i,cRel:r[1],rRel:r[2]}}}function vYe(t,e,r){if(r.biff<8)return oce(t);var n=t.read_shift(r.biff==12?4:2),i=t.read_shift(r.biff==12?4:2),s=cf(t),a=cf(t);return{s:{r:n,c:s[0],cRel:s[1],rRel:s[2]},e:{r:i,c:a[0],cRel:a[1],rRel:a[2]}}}function lce(t,e,r){if(r&&r.biff>=2&&r.biff<=5)return yYe(t);var n=t.read_shift(r&&r.biff==12?4:2),i=cf(t);return{r:n,c:i[0],cRel:i[1],rRel:i[2]}}function yYe(t){var e=cf(t),r=t.read_shift(1);return{r:e[0],c:r,cRel:e[1],rRel:e[2]}}function xYe(t){var e=t.read_shift(2),r=t.read_shift(2);return{r:e,c:r&255,fQuoted:!!(r&16384),cRel:r>>15,rRel:r>>15}}function bYe(t,e,r){var n=r&&r.biff?r.biff:8;if(n>=2&&n<=5)return wYe(t);var i=t.read_shift(n>=12?4:2),s=t.read_shift(2),a=(s&16384)>>14,o=(s&32768)>>15;if(s&=16383,o==1)for(;i>524287;)i-=1048576;if(a==1)for(;s>8191;)s=s-16384;return{r:i,c:s,cRel:a,rRel:o}}function wYe(t){var e=t.read_shift(2),r=t.read_shift(1),n=(e&32768)>>15,i=(e&16384)>>14;return e&=16383,n==1&&e>=8192&&(e=e-16384),i==1&&r>=128&&(r=r-256),{r:e,c:r,cRel:i,rRel:n}}function _Ye(t,e,r){var n=(t[t.l++]&96)>>5,i=ace(t,r.biff>=2&&r.biff<=5?6:8,r);return[n,i]}function EYe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2,"i"),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}var a=ace(t,s,r);return[n,i,a]}function TYe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r&&r.biff>8?12:r.biff<8?6:8,[n]}function SYe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=8;if(r)switch(r.biff){case 5:t.l+=12,s=6;break;case 12:s=12;break}return t.l+=s,[n,i]}function kYe(t,e,r){var n=(t[t.l++]&96)>>5,i=vYe(t,e-1,r);return[n,i]}function AYe(t,e,r){var n=(t[t.l++]&96)>>5;return t.l+=r.biff==2?6:r.biff==12?14:7,[n]}function pK(t){var e=t[t.l+1]&1,r=1;return t.l+=4,[e,r]}function CYe(t,e,r){t.l+=2;for(var n=t.read_shift(r&&r.biff==2?1:2),i=[],s=0;s<=n;++s)i.push(t.read_shift(r&&r.biff==2?1:2));return i}function NYe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function IYe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=2,[n,t.read_shift(r&&r.biff==2?1:2)]}function OYe(t){var e=t[t.l+1]&255?1:0;return t.l+=2,[e,t.read_shift(2)]}function RYe(t,e,r){var n=t[t.l+1]&255?1:0;return t.l+=r&&r.biff==2?3:4,[n]}function cce(t){var e=t.read_shift(1),r=t.read_shift(1);return[e,r]}function PYe(t){return t.read_shift(2),cce(t)}function jYe(t){return t.read_shift(2),cce(t)}function DYe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=lce(t,0,r);return[n,i]}function MYe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=bYe(t,0,r);return[n,i]}function LYe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(2);r&&r.biff==5&&(t.l+=12);var s=lce(t,0,r);return[n,i,s]}function FYe(t,e,r){var n=(t[t.l]&96)>>5;t.l+=1;var i=t.read_shift(r&&r.biff<=3?1:2);return[UXe[i],hce[i],n]}function BYe(t,e,r){var n=t[t.l++],i=t.read_shift(1),s=r&&r.biff<=3?[n==88?-1:0,t.read_shift(1)]:VYe(t);return[i,(s[0]===0?hce:VXe)[s[1]]]}function VYe(t){return[t[t.l+1]>>7,t.read_shift(2)&32767]}function UYe(t,e,r){t.l+=r&&r.biff==2?3:4}function zYe(t,e,r){if(t.l++,r&&r.biff==12)return[t.read_shift(4,"i"),0];var n=t.read_shift(2),i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function $Ye(t){return t.l++,Ld[t.read_shift(1)]}function HYe(t){return t.l++,t.read_shift(2)}function qYe(t){return t.l++,t.read_shift(1)!==0}function WYe(t){return t.l++,Ta(t)}function GYe(t,e,r){return t.l++,Fb(t,e-1,r)}function KYe(t,e){var r=[t.read_shift(1)];if(e==12)switch(r[0]){case 2:r[0]=4;break;case 4:r[0]=16;break;case 0:r[0]=1;break;case 1:r[0]=2;break}switch(r[0]){case 4:r[1]=Pi(t,1)?"TRUE":"FALSE",e!=12&&(t.l+=7);break;case 37:case 16:r[1]=Ld[t[t.l]],t.l+=e==12?4:8;break;case 0:t.l+=8;break;case 1:r[1]=Ta(t);break;case 2:r[1]=Nm(t,0,{biff:e>0&&e<8?2:e});break;default:throw new Error("Bad SerAr: "+r[0])}return r}function YYe(t,e,r){for(var n=t.read_shift(r.biff==12?4:2),i=[],s=0;s!=n;++s)i.push((r.biff==12?Cm:ck)(t));return i}function XYe(t,e,r){var n=0,i=0;r.biff==12?(n=t.read_shift(4),i=t.read_shift(4)):(i=1+t.read_shift(1),n=1+t.read_shift(2)),r.biff>=2&&r.biff<8&&(--n,--i==0&&(i=256));for(var s=0,a=[];s!=n&&(a[s]=[]);++s)for(var o=0;o!=i;++o)a[s][o]=KYe(t,r.biff);return a}function QYe(t,e,r){var n=t.read_shift(1)>>>5&3,i=!r||r.biff>=8?4:2,s=t.read_shift(i);switch(r.biff){case 2:t.l+=5;break;case 3:case 4:t.l+=8;break;case 5:t.l+=12;break}return[n,0,s]}function JYe(t,e,r){if(r.biff==5)return ZYe(t);var n=t.read_shift(1)>>>5&3,i=t.read_shift(2),s=t.read_shift(4);return[n,i,s]}function ZYe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2,"i");t.l+=8;var n=t.read_shift(2);return t.l+=12,[e,r,n]}function eXe(t,e,r){var n=t.read_shift(1)>>>5&3;t.l+=r&&r.biff==2?3:4;var i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function tXe(t,e,r){var n=t.read_shift(1)>>>5&3,i=t.read_shift(r&&r.biff==2?1:2);return[n,i]}function rXe(t,e,r){var n=t.read_shift(1)>>>5&3;return t.l+=4,r.biff<8&&t.l--,r.biff==12&&(t.l+=2),[n]}function nXe(t,e,r){var n=(t[t.l++]&96)>>5,i=t.read_shift(2),s=4;if(r)switch(r.biff){case 5:s=15;break;case 12:s=6;break}return t.l+=s,[n,i]}var iXe=Ra,sXe=Ra,aXe=Ra;function Vb(t,e,r){return t.l+=2,[xYe(t)]}function jD(t){return t.l+=6,[]}var oXe=Vb,lXe=jD,cXe=jD,uXe=Vb;function uce(t){return t.l+=2,[Zi(t),t.read_shift(2)&1]}var dXe=Vb,hXe=uce,fXe=jD,mXe=Vb,pXe=Vb,gXe=["Data","All","Headers","??","?Data2","??","?DataHeaders","??","Totals","??","??","??","?DataTotals","??","??","??","?Current"];function vXe(t){t.l+=2;var e=t.read_shift(2),r=t.read_shift(2),n=t.read_shift(4),i=t.read_shift(2),s=t.read_shift(2),a=gXe[r>>2&31];return{ixti:e,coltype:r&3,rt:a,idx:n,c:i,C:s}}function yXe(t){return t.l+=2,[t.read_shift(4)]}function xXe(t,e,r){return t.l+=5,t.l+=2,t.l+=r.biff==2?1:4,["PTGSHEET"]}function bXe(t,e,r){return t.l+=r.biff==2?4:5,["PTGENDSHEET"]}function wXe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function _Xe(t){var e=t.read_shift(1)>>>5&3,r=t.read_shift(2);return[e,r]}function EXe(t){return t.l+=4,[0,0]}var gK={1:{n:"PtgExp",f:zYe},2:{n:"PtgTbl",f:aXe},3:{n:"PtgAdd",f:Xi},4:{n:"PtgSub",f:Xi},5:{n:"PtgMul",f:Xi},6:{n:"PtgDiv",f:Xi},7:{n:"PtgPower",f:Xi},8:{n:"PtgConcat",f:Xi},9:{n:"PtgLt",f:Xi},10:{n:"PtgLe",f:Xi},11:{n:"PtgEq",f:Xi},12:{n:"PtgGe",f:Xi},13:{n:"PtgGt",f:Xi},14:{n:"PtgNe",f:Xi},15:{n:"PtgIsect",f:Xi},16:{n:"PtgUnion",f:Xi},17:{n:"PtgRange",f:Xi},18:{n:"PtgUplus",f:Xi},19:{n:"PtgUminus",f:Xi},20:{n:"PtgPercent",f:Xi},21:{n:"PtgParen",f:Xi},22:{n:"PtgMissArg",f:Xi},23:{n:"PtgStr",f:GYe},26:{n:"PtgSheet",f:xXe},27:{n:"PtgEndSheet",f:bXe},28:{n:"PtgErr",f:$Ye},29:{n:"PtgBool",f:qYe},30:{n:"PtgInt",f:HYe},31:{n:"PtgNum",f:WYe},32:{n:"PtgArray",f:AYe},33:{n:"PtgFunc",f:FYe},34:{n:"PtgFuncVar",f:BYe},35:{n:"PtgName",f:QYe},36:{n:"PtgRef",f:DYe},37:{n:"PtgArea",f:_Ye},38:{n:"PtgMemArea",f:eXe},39:{n:"PtgMemErr",f:iXe},40:{n:"PtgMemNoMem",f:sXe},41:{n:"PtgMemFunc",f:tXe},42:{n:"PtgRefErr",f:rXe},43:{n:"PtgAreaErr",f:TYe},44:{n:"PtgRefN",f:MYe},45:{n:"PtgAreaN",f:kYe},46:{n:"PtgMemAreaN",f:wXe},47:{n:"PtgMemNoMemN",f:_Xe},57:{n:"PtgNameX",f:JYe},58:{n:"PtgRef3d",f:LYe},59:{n:"PtgArea3d",f:EYe},60:{n:"PtgRefErr3d",f:nXe},61:{n:"PtgAreaErr3d",f:SYe},255:{}},TXe={64:32,96:32,65:33,97:33,66:34,98:34,67:35,99:35,68:36,100:36,69:37,101:37,70:38,102:38,71:39,103:39,72:40,104:40,73:41,105:41,74:42,106:42,75:43,107:43,76:44,108:44,77:45,109:45,78:46,110:46,79:47,111:47,88:34,120:34,89:57,121:57,90:58,122:58,91:59,123:59,92:60,124:60,93:61,125:61},SXe={1:{n:"PtgElfLel",f:uce},2:{n:"PtgElfRw",f:mXe},3:{n:"PtgElfCol",f:oXe},6:{n:"PtgElfRwV",f:pXe},7:{n:"PtgElfColV",f:uXe},10:{n:"PtgElfRadical",f:dXe},11:{n:"PtgElfRadicalS",f:fXe},13:{n:"PtgElfColS",f:lXe},15:{n:"PtgElfColSV",f:cXe},16:{n:"PtgElfRadicalLel",f:hXe},25:{n:"PtgList",f:vXe},29:{n:"PtgSxName",f:yXe},255:{}},kXe={0:{n:"PtgAttrNoop",f:EXe},1:{n:"PtgAttrSemi",f:RYe},2:{n:"PtgAttrIf",f:IYe},4:{n:"PtgAttrChoose",f:CYe},8:{n:"PtgAttrGoto",f:NYe},16:{n:"PtgAttrSum",f:UYe},32:{n:"PtgAttrBaxcel",f:pK},33:{n:"PtgAttrBaxcel",f:pK},64:{n:"PtgAttrSpace",f:PYe},65:{n:"PtgAttrSpaceSemi",f:jYe},128:{n:"PtgAttrIfError",f:OYe},255:{}};function Ub(t,e,r,n){if(n.biff<8)return Ra(t,e);for(var i=t.l+e,s=[],a=0;a!==r.length;++a)switch(r[a][0]){case"PtgArray":r[a][1]=XYe(t,0,n),s.push(r[a][1]);break;case"PtgMemArea":r[a][2]=YYe(t,r[a][1],n),s.push(r[a][2]);break;case"PtgExp":n&&n.biff==12&&(r[a][1][1]=t.read_shift(4),s.push(r[a][1]));break;case"PtgList":case"PtgElfRadicalS":case"PtgElfColS":case"PtgElfColSV":throw"Unsupported "+r[a][0]}return e=i-t.l,e!==0&&s.push(Ra(t,e)),s}function zb(t,e,r){for(var n=t.l+e,i,s,a=[];n!=t.l;)e=n-t.l,s=t[t.l],i=gK[s]||gK[TXe[s]],(s===24||s===25)&&(i=(s===24?SXe:kXe)[t[t.l+1]]),!i||!i.f?Ra(t,e):a.push([i.n,i.f(t,e,r)]);return a}function AXe(t){for(var e=[],r=0;r<t.length;++r){for(var n=t[r],i=[],s=0;s<n.length;++s){var a=n[s];if(a)switch(a[0]){case 2:i.push('"'+a[1].replace(/"/g,'""')+'"');break;default:i.push(a[1])}else i.push("")}e.push(i.join(","))}return e.join(";")}var CXe={PtgAdd:"+",PtgConcat:"&",PtgDiv:"/",PtgEq:"=",PtgGe:">=",PtgGt:">",PtgLe:"<=",PtgLt:"<",PtgMul:"*",PtgNe:"<>",PtgPower:"^",PtgSub:"-"};function NXe(t,e){if(!t&&!(e&&e.biff<=5&&e.biff>=2))throw new Error("empty sheet name");return/[^\w\u4E00-\u9FFF\u3040-\u30FF]/.test(t)?"'"+t+"'":t}function dce(t,e,r){if(!t)return"SH33TJSERR0";if(r.biff>8&&(!t.XTI||!t.XTI[e]))return t.SheetNames[e];if(!t.XTI)return"SH33TJSERR6";var n=t.XTI[e];if(r.biff<8)return e>1e4&&(e-=65536),e<0&&(e=-e),e==0?"":t.XTI[e-1];if(!n)return"SH33TJSERR1";var i="";if(r.biff>8)switch(t[n[0]][0]){case 357:return i=n[1]==-1?"#REF":t.SheetNames[n[1]],n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 358:return r.SID!=null?t.SheetNames[r.SID]:"SH33TJSSAME"+t[n[0]][0];case 355:default:return"SH33TJSSRC"+t[n[0]][0]}switch(t[n[0]][0][0]){case 1025:return i=n[1]==-1?"#REF":t.SheetNames[n[1]]||"SH33TJSERR3",n[1]==n[2]?i:i+":"+t.SheetNames[n[2]];case 14849:return t[n[0]].slice(1).map(function(s){return s.Name}).join(";;");default:return t[n[0]][0][3]?(i=n[1]==-1?"#REF":t[n[0]][0][3][n[1]]||"SH33TJSERR4",n[1]==n[2]?i:i+":"+t[n[0]][0][3][n[2]]):"SH33TJSERR2"}}function vK(t,e,r){var n=dce(t,e,r);return n=="#REF"?n:NXe(n,r)}function ba(t,e,r,n,i){var s=i&&i.biff||8,a={s:{c:0,r:0}},o=[],l,u,d,f=0,g=0,v,x="";if(!t[0]||!t[0][0])return"";for(var b=-1,w="",E=0,k=t[0].length;E<k;++E){var A=t[0][E];switch(A[0]){case"PtgUminus":o.push("-"+o.pop());break;case"PtgUplus":o.push("+"+o.pop());break;case"PtgPercent":o.push(o.pop()+"%");break;case"PtgAdd":case"PtgConcat":case"PtgDiv":case"PtgEq":case"PtgGe":case"PtgGt":case"PtgLe":case"PtgLt":case"PtgMul":case"PtgNe":case"PtgPower":case"PtgSub":if(l=o.pop(),u=o.pop(),b>=0){switch(t[0][b][1][0]){case 0:w=Si(" ",t[0][b][1][1]);break;case 1:w=Si("\r",t[0][b][1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}u=u+w,b=-1}o.push(u+CXe[A[0]]+l);break;case"PtgIsect":l=o.pop(),u=o.pop(),o.push(u+" "+l);break;case"PtgUnion":l=o.pop(),u=o.pop(),o.push(u+","+l);break;case"PtgRange":l=o.pop(),u=o.pop(),o.push(u+":"+l);break;case"PtgAttrChoose":break;case"PtgAttrGoto":break;case"PtgAttrIf":break;case"PtgAttrIfError":break;case"PtgRef":d=S1(A[1][1],a,i),o.push(k1(d,s));break;case"PtgRefN":d=r?S1(A[1][1],r,i):A[1][1],o.push(k1(d,s));break;case"PtgRef3d":f=A[1][1],d=S1(A[1][2],a,i),x=vK(n,f,i),o.push(x+"!"+k1(d,s));break;case"PtgFunc":case"PtgFuncVar":var O=A[1][0],P=A[1][1];O||(O=0),O&=127;var j=O==0?[]:o.slice(-O);o.length-=O,P==="User"&&(P=j.shift()),o.push(P+"("+j.join(",")+")");break;case"PtgBool":o.push(A[1]?"TRUE":"FALSE");break;case"PtgInt":o.push(A[1]);break;case"PtgNum":o.push(String(A[1]));break;case"PtgStr":o.push('"'+A[1].replace(/"/g,'""')+'"');break;case"PtgErr":o.push(A[1]);break;case"PtgAreaN":v=WG(A[1][1],r?{s:r}:a,i),o.push(s5(v,i));break;case"PtgArea":v=WG(A[1][1],a,i),o.push(s5(v,i));break;case"PtgArea3d":f=A[1][1],v=A[1][2],x=vK(n,f,i),o.push(x+"!"+s5(v,i));break;case"PtgAttrSum":o.push("SUM("+o.pop()+")");break;case"PtgAttrBaxcel":case"PtgAttrSemi":break;case"PtgName":g=A[1][2];var S=(n.names||[])[g-1]||(n[0]||[])[g],I=S?S.Name:"SH33TJSNAME"+String(g);I&&I.slice(0,6)=="_xlfn."&&!i.xlfn&&(I=I.slice(6)),o.push(I);break;case"PtgNameX":var R=A[1][1];g=A[1][2];var D;if(i.biff<=5)R<0&&(R=-R),n[R]&&(D=n[R][g]);else{var M="";if(((n[R]||[])[0]||[])[0]==14849||(((n[R]||[])[0]||[])[0]==1025?n[R][g]&&n[R][g].itab>0&&(M=n.SheetNames[n[R][g].itab-1]+"!"):M=n.SheetNames[g-1]+"!"),n[R]&&n[R][g])M+=n[R][g].Name;else if(n[0]&&n[0][g])M+=n[0][g].Name;else{var L=(dce(n,R,i)||"").split(";;");L[g-1]?M=L[g-1]:M+="SH33TJSERRX"}o.push(M);break}D||(D={Name:"SH33TJSERRY"}),o.push(D.Name);break;case"PtgParen":var U="(",le=")";if(b>=0){switch(w="",t[0][b][1][0]){case 2:U=Si(" ",t[0][b][1][1])+U;break;case 3:U=Si("\r",t[0][b][1][1])+U;break;case 4:le=Si(" ",t[0][b][1][1])+le;break;case 5:le=Si("\r",t[0][b][1][1])+le;break;default:if(i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+t[0][b][1][0])}b=-1}o.push(U+o.pop()+le);break;case"PtgRefErr":o.push("#REF!");break;case"PtgRefErr3d":o.push("#REF!");break;case"PtgExp":d={c:A[1][1],r:A[1][0]};var ue={c:r.c,r:r.r};if(n.sharedf[Ft(d)]){var J=n.sharedf[Ft(d)];o.push(ba(J,a,ue,n,i))}else{var Q=!1;for(l=0;l!=n.arrayf.length;++l)if(u=n.arrayf[l],!(d.c<u[0].s.c||d.c>u[0].e.c)&&!(d.r<u[0].s.r||d.r>u[0].e.r)){o.push(ba(u[1],a,ue,n,i)),Q=!0;break}Q||o.push(A[1])}break;case"PtgArray":o.push("{"+AXe(A[1])+"}");break;case"PtgMemArea":break;case"PtgAttrSpace":case"PtgAttrSpaceSemi":b=E;break;case"PtgTbl":break;case"PtgMemErr":break;case"PtgMissArg":o.push("");break;case"PtgAreaErr":o.push("#REF!");break;case"PtgAreaErr3d":o.push("#REF!");break;case"PtgList":o.push("Table"+A[1].idx+"[#"+A[1].rt+"]");break;case"PtgMemAreaN":case"PtgMemNoMemN":case"PtgAttrNoop":case"PtgSheet":case"PtgEndSheet":break;case"PtgMemFunc":break;case"PtgMemNoMem":break;case"PtgElfCol":case"PtgElfColS":case"PtgElfColSV":case"PtgElfColV":case"PtgElfLel":case"PtgElfRadical":case"PtgElfRadicalLel":case"PtgElfRadicalS":case"PtgElfRw":case"PtgElfRwV":throw new Error("Unsupported ELFs");case"PtgSxName":throw new Error("Unrecognized Formula Token: "+String(A));default:throw new Error("Unrecognized Formula Token: "+String(A))}var he=["PtgAttrSpace","PtgAttrSpaceSemi","PtgAttrGoto"];if(i.biff!=3&&b>=0&&he.indexOf(t[0][E][0])==-1){A=t[0][b];var Z=!0;switch(A[1][0]){case 4:Z=!1;case 0:w=Si(" ",A[1][1]);break;case 5:Z=!1;case 1:w=Si("\r",A[1][1]);break;default:if(w="",i.WTF)throw new Error("Unexpected PtgAttrSpaceType "+A[1][0])}o.push((Z?w:"")+o.pop()+(Z?"":w)),b=-1}}if(o.length>1&&i.WTF)throw new Error("bad formula stack");return o[0]}function IXe(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ra(t,e-2)];var o=zb(t,a,r);return e!==a+i&&(s=Ub(t,e-a-i,o,r)),t.l=n,[o,s]}function OXe(t,e,r){var n=t.l+e,i=r.biff==2?1:2,s,a=t.read_shift(i);if(a==65535)return[[],Ra(t,e-2)];var o=zb(t,a,r);return e!==a+i&&(s=Ub(t,e-a-i,o,r)),t.l=n,[o,s]}function RXe(t,e,r,n){var i=t.l+e,s=zb(t,n,r),a;return i!==t.l&&(a=Ub(t,i-t.l,s,r)),[s,a]}function PXe(t,e,r){var n=t.l+e,i,s=t.read_shift(2),a=zb(t,s,r);return s==65535?[[],Ra(t,e-2)]:(e!==s+2&&(i=Ub(t,n-s-2,a,r)),[a,i])}function jXe(t){var e;if(Xu(t,t.l+6)!==65535)return[Ta(t),"n"];switch(t[t.l]){case 0:return t.l+=8,["String","s"];case 1:return e=t[t.l+2]===1,t.l+=8,[e,"b"];case 2:return e=t[t.l+2],t.l+=8,[e,"e"];case 3:return t.l+=8,["","s"]}return[]}function DXe(t){if(t==null){var e=Le(8);return e.write_shift(1,3),e.write_shift(1,0),e.write_shift(2,0),e.write_shift(2,0),e.write_shift(2,65535),e}else if(typeof t=="number")return sm(t);return sm(0)}function u5(t,e,r){var n=t.l+e,i=pu(t);r.biff==2&&++t.l;var s=jXe(t),a=t.read_shift(1);r.biff!=2&&(t.read_shift(1),r.biff>=5&&t.read_shift(4));var o=OXe(t,n-t.l,r);return{cell:i,val:s[0],formula:o,shared:a>>3&1,tt:s[1]}}function MXe(t,e,r,n,i){var s=om(e,r,i),a=DXe(t.v),o=Le(6),l=33;o.write_shift(2,l),o.write_shift(4,0);for(var u=Le(t.bf.length),d=0;d<t.bf.length;++d)u[d]=t.bf[d];var f=Fs([s,a,o,u]);return f}function uk(t,e,r){var n=t.read_shift(4),i=zb(t,n,r),s=t.read_shift(4),a=s>0?Ub(t,s,i,r):null;return[i,a]}var LXe=uk,dk=uk,FXe=uk,BXe=uk,VXe={0:"BEEP",1:"OPEN",2:"OPEN.LINKS",3:"CLOSE.ALL",4:"SAVE",5:"SAVE.AS",6:"FILE.DELETE",7:"PAGE.SETUP",8:"PRINT",9:"PRINTER.SETUP",10:"QUIT",11:"NEW.WINDOW",12:"ARRANGE.ALL",13:"WINDOW.SIZE",14:"WINDOW.MOVE",15:"FULL",16:"CLOSE",17:"RUN",22:"SET.PRINT.AREA",23:"SET.PRINT.TITLES",24:"SET.PAGE.BREAK",25:"REMOVE.PAGE.BREAK",26:"FONT",27:"DISPLAY",28:"PROTECT.DOCUMENT",29:"PRECISION",30:"A1.R1C1",31:"CALCULATE.NOW",32:"CALCULATION",34:"DATA.FIND",35:"EXTRACT",36:"DATA.DELETE",37:"SET.DATABASE",38:"SET.CRITERIA",39:"SORT",40:"DATA.SERIES",41:"TABLE",42:"FORMAT.NUMBER",43:"ALIGNMENT",44:"STYLE",45:"BORDER",46:"CELL.PROTECTION",47:"COLUMN.WIDTH",48:"UNDO",49:"CUT",50:"COPY",51:"PASTE",52:"CLEAR",53:"PASTE.SPECIAL",54:"EDIT.DELETE",55:"INSERT",56:"FILL.RIGHT",57:"FILL.DOWN",61:"DEFINE.NAME",62:"CREATE.NAMES",63:"FORMULA.GOTO",64:"FORMULA.FIND",65:"SELECT.LAST.CELL",66:"SHOW.ACTIVE.CELL",67:"GALLERY.AREA",68:"GALLERY.BAR",69:"GALLERY.COLUMN",70:"GALLERY.LINE",71:"GALLERY.PIE",72:"GALLERY.SCATTER",73:"COMBINATION",74:"PREFERRED",75:"ADD.OVERLAY",76:"GRIDLINES",77:"SET.PREFERRED",78:"AXES",79:"LEGEND",80:"ATTACH.TEXT",81:"ADD.ARROW",82:"SELECT.CHART",83:"SELECT.PLOT.AREA",84:"PATTERNS",85:"MAIN.CHART",86:"OVERLAY",87:"SCALE",88:"FORMAT.LEGEND",89:"FORMAT.TEXT",90:"EDIT.REPEAT",91:"PARSE",92:"JUSTIFY",93:"HIDE",94:"UNHIDE",95:"WORKSPACE",96:"FORMULA",97:"FORMULA.FILL",98:"FORMULA.ARRAY",99:"DATA.FIND.NEXT",100:"DATA.FIND.PREV",101:"FORMULA.FIND.NEXT",102:"FORMULA.FIND.PREV",103:"ACTIVATE",104:"ACTIVATE.NEXT",105:"ACTIVATE.PREV",106:"UNLOCKED.NEXT",107:"UNLOCKED.PREV",108:"COPY.PICTURE",109:"SELECT",110:"DELETE.NAME",111:"DELETE.FORMAT",112:"VLINE",113:"HLINE",114:"VPAGE",115:"HPAGE",116:"VSCROLL",117:"HSCROLL",118:"ALERT",119:"NEW",120:"CANCEL.COPY",121:"SHOW.CLIPBOARD",122:"MESSAGE",124:"PASTE.LINK",125:"APP.ACTIVATE",126:"DELETE.ARROW",127:"ROW.HEIGHT",128:"FORMAT.MOVE",129:"FORMAT.SIZE",130:"FORMULA.REPLACE",131:"SEND.KEYS",132:"SELECT.SPECIAL",133:"APPLY.NAMES",134:"REPLACE.FONT",135:"FREEZE.PANES",136:"SHOW.INFO",137:"SPLIT",138:"ON.WINDOW",139:"ON.DATA",140:"DISABLE.INPUT",142:"OUTLINE",143:"LIST.NAMES",144:"FILE.CLOSE",145:"SAVE.WORKBOOK",146:"DATA.FORM",147:"COPY.CHART",148:"ON.TIME",149:"WAIT",150:"FORMAT.FONT",151:"FILL.UP",152:"FILL.LEFT",153:"DELETE.OVERLAY",155:"SHORT.MENUS",159:"SET.UPDATE.STATUS",161:"COLOR.PALETTE",162:"DELETE.STYLE",163:"WINDOW.RESTORE",164:"WINDOW.MAXIMIZE",166:"CHANGE.LINK",167:"CALCULATE.DOCUMENT",168:"ON.KEY",169:"APP.RESTORE",170:"APP.MOVE",171:"APP.SIZE",172:"APP.MINIMIZE",173:"APP.MAXIMIZE",174:"BRING.TO.FRONT",175:"SEND.TO.BACK",185:"MAIN.CHART.TYPE",186:"OVERLAY.CHART.TYPE",187:"SELECT.END",188:"OPEN.MAIL",189:"SEND.MAIL",190:"STANDARD.FONT",191:"CONSOLIDATE",192:"SORT.SPECIAL",193:"GALLERY.3D.AREA",194:"GALLERY.3D.COLUMN",195:"GALLERY.3D.LINE",196:"GALLERY.3D.PIE",197:"VIEW.3D",198:"GOAL.SEEK",199:"WORKGROUP",200:"FILL.GROUP",201:"UPDATE.LINK",202:"PROMOTE",203:"DEMOTE",204:"SHOW.DETAIL",206:"UNGROUP",207:"OBJECT.PROPERTIES",208:"SAVE.NEW.OBJECT",209:"SHARE",210:"SHARE.NAME",211:"DUPLICATE",212:"APPLY.STYLE",213:"ASSIGN.TO.OBJECT",214:"OBJECT.PROTECTION",215:"HIDE.OBJECT",216:"SET.EXTRACT",217:"CREATE.PUBLISHER",218:"SUBSCRIBE.TO",219:"ATTRIBUTES",220:"SHOW.TOOLBAR",222:"PRINT.PREVIEW",223:"EDIT.COLOR",224:"SHOW.LEVELS",225:"FORMAT.MAIN",226:"FORMAT.OVERLAY",227:"ON.RECALC",228:"EDIT.SERIES",229:"DEFINE.STYLE",240:"LINE.PRINT",243:"ENTER.DATA",249:"GALLERY.RADAR",250:"MERGE.STYLES",251:"EDITION.OPTIONS",252:"PASTE.PICTURE",253:"PASTE.PICTURE.LINK",254:"SPELLING",256:"ZOOM",259:"INSERT.OBJECT",260:"WINDOW.MINIMIZE",265:"SOUND.NOTE",266:"SOUND.PLAY",267:"FORMAT.SHAPE",268:"EXTEND.POLYGON",269:"FORMAT.AUTO",272:"GALLERY.3D.BAR",273:"GALLERY.3D.SURFACE",274:"FILL.AUTO",276:"CUSTOMIZE.TOOLBAR",277:"ADD.TOOL",278:"EDIT.OBJECT",279:"ON.DOUBLECLICK",280:"ON.ENTRY",281:"WORKBOOK.ADD",282:"WORKBOOK.MOVE",283:"WORKBOOK.COPY",284:"WORKBOOK.OPTIONS",285:"SAVE.WORKSPACE",288:"CHART.WIZARD",289:"DELETE.TOOL",290:"MOVE.TOOL",291:"WORKBOOK.SELECT",292:"WORKBOOK.ACTIVATE",293:"ASSIGN.TO.TOOL",295:"COPY.TOOL",296:"RESET.TOOL",297:"CONSTRAIN.NUMERIC",298:"PASTE.TOOL",302:"WORKBOOK.NEW",305:"SCENARIO.CELLS",306:"SCENARIO.DELETE",307:"SCENARIO.ADD",308:"SCENARIO.EDIT",309:"SCENARIO.SHOW",310:"SCENARIO.SHOW.NEXT",311:"SCENARIO.SUMMARY",312:"PIVOT.TABLE.WIZARD",313:"PIVOT.FIELD.PROPERTIES",314:"PIVOT.FIELD",315:"PIVOT.ITEM",316:"PIVOT.ADD.FIELDS",318:"OPTIONS.CALCULATION",319:"OPTIONS.EDIT",320:"OPTIONS.VIEW",321:"ADDIN.MANAGER",322:"MENU.EDITOR",323:"ATTACH.TOOLBARS",324:"VBAActivate",325:"OPTIONS.CHART",328:"VBA.INSERT.FILE",330:"VBA.PROCEDURE.DEFINITION",336:"ROUTING.SLIP",338:"ROUTE.DOCUMENT",339:"MAIL.LOGON",342:"INSERT.PICTURE",343:"EDIT.TOOL",344:"GALLERY.DOUGHNUT",350:"CHART.TREND",352:"PIVOT.ITEM.PROPERTIES",354:"WORKBOOK.INSERT",355:"OPTIONS.TRANSITION",356:"OPTIONS.GENERAL",370:"FILTER.ADVANCED",373:"MAIL.ADD.MAILER",374:"MAIL.DELETE.MAILER",375:"MAIL.REPLY",376:"MAIL.REPLY.ALL",377:"MAIL.FORWARD",378:"MAIL.NEXT.LETTER",379:"DATA.LABEL",380:"INSERT.TITLE",381:"FONT.PROPERTIES",382:"MACRO.OPTIONS",383:"WORKBOOK.HIDE",384:"WORKBOOK.UNHIDE",385:"WORKBOOK.DELETE",386:"WORKBOOK.NAME",388:"GALLERY.CUSTOM",390:"ADD.CHART.AUTOFORMAT",391:"DELETE.CHART.AUTOFORMAT",392:"CHART.ADD.DATA",393:"AUTO.OUTLINE",394:"TAB.ORDER",395:"SHOW.DIALOG",396:"SELECT.ALL",397:"UNGROUP.SHEETS",398:"SUBTOTAL.CREATE",399:"SUBTOTAL.REMOVE",400:"RENAME.OBJECT",412:"WORKBOOK.SCROLL",413:"WORKBOOK.NEXT",414:"WORKBOOK.PREV",415:"WORKBOOK.TAB.SPLIT",416:"FULL.SCREEN",417:"WORKBOOK.PROTECT",420:"SCROLLBAR.PROPERTIES",421:"PIVOT.SHOW.PAGES",422:"TEXT.TO.COLUMNS",423:"FORMAT.CHARTTYPE",424:"LINK.FORMAT",425:"TRACER.DISPLAY",430:"TRACER.NAVIGATE",431:"TRACER.CLEAR",432:"TRACER.ERROR",433:"PIVOT.FIELD.GROUP",434:"PIVOT.FIELD.UNGROUP",435:"CHECKBOX.PROPERTIES",436:"LABEL.PROPERTIES",437:"LISTBOX.PROPERTIES",438:"EDITBOX.PROPERTIES",439:"PIVOT.REFRESH",440:"LINK.COMBO",441:"OPEN.TEXT",442:"HIDE.DIALOG",443:"SET.DIALOG.FOCUS",444:"ENABLE.OBJECT",445:"PUSHBUTTON.PROPERTIES",446:"SET.DIALOG.DEFAULT",447:"FILTER",448:"FILTER.SHOW.ALL",449:"CLEAR.OUTLINE",450:"FUNCTION.WIZARD",451:"ADD.LIST.ITEM",452:"SET.LIST.ITEM",453:"REMOVE.LIST.ITEM",454:"SELECT.LIST.ITEM",455:"SET.CONTROL.VALUE",456:"SAVE.COPY.AS",458:"OPTIONS.LISTS.ADD",459:"OPTIONS.LISTS.DELETE",460:"SERIES.AXES",461:"SERIES.X",462:"SERIES.Y",463:"ERRORBAR.X",464:"ERRORBAR.Y",465:"FORMAT.CHART",466:"SERIES.ORDER",467:"MAIL.LOGOFF",468:"CLEAR.ROUTING.SLIP",469:"APP.ACTIVATE.MICROSOFT",470:"MAIL.EDIT.MAILER",471:"ON.SHEET",472:"STANDARD.WIDTH",473:"SCENARIO.MERGE",474:"SUMMARY.INFO",475:"FIND.FILE",476:"ACTIVE.CELL.FONT",477:"ENABLE.TIPWIZARD",478:"VBA.MAKE.ADDIN",480:"INSERTDATATABLE",481:"WORKGROUP.OPTIONS",482:"MAIL.SEND.MAILER",485:"AUTOCORRECT",489:"POST.DOCUMENT",491:"PICKLIST",493:"VIEW.SHOW",494:"VIEW.DEFINE",495:"VIEW.DELETE",509:"SHEET.BACKGROUND",510:"INSERT.MAP.OBJECT",511:"OPTIONS.MENONO",517:"MSOCHECKS",518:"NORMAL",519:"LAYOUT",520:"RM.PRINT.AREA",521:"CLEAR.PRINT.AREA",522:"ADD.PRINT.AREA",523:"MOVE.BRK",545:"HIDECURR.NOTE",546:"HIDEALL.NOTES",547:"DELETE.NOTE",548:"TRAVERSE.NOTES",549:"ACTIVATE.NOTES",620:"PROTECT.REVISIONS",621:"UNPROTECT.REVISIONS",647:"OPTIONS.ME",653:"WEB.PUBLISH",667:"NEWWEBQUERY",673:"PIVOT.TABLE.CHART",753:"OPTIONS.SAVE",755:"OPTIONS.SPELL",808:"HIDEALL.INKANNOTS"},hce={0:"COUNT",1:"IF",2:"ISNA",3:"ISERROR",4:"SUM",5:"AVERAGE",6:"MIN",7:"MAX",8:"ROW",9:"COLUMN",10:"NA",11:"NPV",12:"STDEV",13:"DOLLAR",14:"FIXED",15:"SIN",16:"COS",17:"TAN",18:"ATAN",19:"PI",20:"SQRT",21:"EXP",22:"LN",23:"LOG10",24:"ABS",25:"INT",26:"SIGN",27:"ROUND",28:"LOOKUP",29:"INDEX",30:"REPT",31:"MID",32:"LEN",33:"VALUE",34:"TRUE",35:"FALSE",36:"AND",37:"OR",38:"NOT",39:"MOD",40:"DCOUNT",41:"DSUM",42:"DAVERAGE",43:"DMIN",44:"DMAX",45:"DSTDEV",46:"VAR",47:"DVAR",48:"TEXT",49:"LINEST",50:"TREND",51:"LOGEST",52:"GROWTH",53:"GOTO",54:"HALT",55:"RETURN",56:"PV",57:"FV",58:"NPER",59:"PMT",60:"RATE",61:"MIRR",62:"IRR",63:"RAND",64:"MATCH",65:"DATE",66:"TIME",67:"DAY",68:"MONTH",69:"YEAR",70:"WEEKDAY",71:"HOUR",72:"MINUTE",73:"SECOND",74:"NOW",75:"AREAS",76:"ROWS",77:"COLUMNS",78:"OFFSET",79:"ABSREF",80:"RELREF",81:"ARGUMENT",82:"SEARCH",83:"TRANSPOSE",84:"ERROR",85:"STEP",86:"TYPE",87:"ECHO",88:"SET.NAME",89:"CALLER",90:"DEREF",91:"WINDOWS",92:"SERIES",93:"DOCUMENTS",94:"ACTIVE.CELL",95:"SELECTION",96:"RESULT",97:"ATAN2",98:"ASIN",99:"ACOS",100:"CHOOSE",101:"HLOOKUP",102:"VLOOKUP",103:"LINKS",104:"INPUT",105:"ISREF",106:"GET.FORMULA",107:"GET.NAME",108:"SET.VALUE",109:"LOG",110:"EXEC",111:"CHAR",112:"LOWER",113:"UPPER",114:"PROPER",115:"LEFT",116:"RIGHT",117:"EXACT",118:"TRIM",119:"REPLACE",120:"SUBSTITUTE",121:"CODE",122:"NAMES",123:"DIRECTORY",124:"FIND",125:"CELL",126:"ISERR",127:"ISTEXT",128:"ISNUMBER",129:"ISBLANK",130:"T",131:"N",132:"FOPEN",133:"FCLOSE",134:"FSIZE",135:"FREADLN",136:"FREAD",137:"FWRITELN",138:"FWRITE",139:"FPOS",140:"DATEVALUE",141:"TIMEVALUE",142:"SLN",143:"SYD",144:"DDB",145:"GET.DEF",146:"REFTEXT",147:"TEXTREF",148:"INDIRECT",149:"REGISTER",150:"CALL",151:"ADD.BAR",152:"ADD.MENU",153:"ADD.COMMAND",154:"ENABLE.COMMAND",155:"CHECK.COMMAND",156:"RENAME.COMMAND",157:"SHOW.BAR",158:"DELETE.MENU",159:"DELETE.COMMAND",160:"GET.CHART.ITEM",161:"DIALOG.BOX",162:"CLEAN",163:"MDETERM",164:"MINVERSE",165:"MMULT",166:"FILES",167:"IPMT",168:"PPMT",169:"COUNTA",170:"CANCEL.KEY",171:"FOR",172:"WHILE",173:"BREAK",174:"NEXT",175:"INITIATE",176:"REQUEST",177:"POKE",178:"EXECUTE",179:"TERMINATE",180:"RESTART",181:"HELP",182:"GET.BAR",183:"PRODUCT",184:"FACT",185:"GET.CELL",186:"GET.WORKSPACE",187:"GET.WINDOW",188:"GET.DOCUMENT",189:"DPRODUCT",190:"ISNONTEXT",191:"GET.NOTE",192:"NOTE",193:"STDEVP",194:"VARP",195:"DSTDEVP",196:"DVARP",197:"TRUNC",198:"ISLOGICAL",199:"DCOUNTA",200:"DELETE.BAR",201:"UNREGISTER",204:"USDOLLAR",205:"FINDB",206:"SEARCHB",207:"REPLACEB",208:"LEFTB",209:"RIGHTB",210:"MIDB",211:"LENB",212:"ROUNDUP",213:"ROUNDDOWN",214:"ASC",215:"DBCS",216:"RANK",219:"ADDRESS",220:"DAYS360",221:"TODAY",222:"VDB",223:"ELSE",224:"ELSE.IF",225:"END.IF",226:"FOR.CELL",227:"MEDIAN",228:"SUMPRODUCT",229:"SINH",230:"COSH",231:"TANH",232:"ASINH",233:"ACOSH",234:"ATANH",235:"DGET",236:"CREATE.OBJECT",237:"VOLATILE",238:"LAST.ERROR",239:"CUSTOM.UNDO",240:"CUSTOM.REPEAT",241:"FORMULA.CONVERT",242:"GET.LINK.INFO",243:"TEXT.BOX",244:"INFO",245:"GROUP",246:"GET.OBJECT",247:"DB",248:"PAUSE",251:"RESUME",252:"FREQUENCY",253:"ADD.TOOLBAR",254:"DELETE.TOOLBAR",255:"User",256:"RESET.TOOLBAR",257:"EVALUATE",258:"GET.TOOLBAR",259:"GET.TOOL",260:"SPELLING.CHECK",261:"ERROR.TYPE",262:"APP.TITLE",263:"WINDOW.TITLE",264:"SAVE.TOOLBAR",265:"ENABLE.TOOL",266:"PRESS.TOOL",267:"REGISTER.ID",268:"GET.WORKBOOK",269:"AVEDEV",270:"BETADIST",271:"GAMMALN",272:"BETAINV",273:"BINOMDIST",274:"CHIDIST",275:"CHIINV",276:"COMBIN",277:"CONFIDENCE",278:"CRITBINOM",279:"EVEN",280:"EXPONDIST",281:"FDIST",282:"FINV",283:"FISHER",284:"FISHERINV",285:"FLOOR",286:"GAMMADIST",287:"GAMMAINV",288:"CEILING",289:"HYPGEOMDIST",290:"LOGNORMDIST",291:"LOGINV",292:"NEGBINOMDIST",293:"NORMDIST",294:"NORMSDIST",295:"NORMINV",296:"NORMSINV",297:"STANDARDIZE",298:"ODD",299:"PERMUT",300:"POISSON",301:"TDIST",302:"WEIBULL",303:"SUMXMY2",304:"SUMX2MY2",305:"SUMX2PY2",306:"CHITEST",307:"CORREL",308:"COVAR",309:"FORECAST",310:"FTEST",311:"INTERCEPT",312:"PEARSON",313:"RSQ",314:"STEYX",315:"SLOPE",316:"TTEST",317:"PROB",318:"DEVSQ",319:"GEOMEAN",320:"HARMEAN",321:"SUMSQ",322:"KURT",323:"SKEW",324:"ZTEST",325:"LARGE",326:"SMALL",327:"QUARTILE",328:"PERCENTILE",329:"PERCENTRANK",330:"MODE",331:"TRIMMEAN",332:"TINV",334:"MOVIE.COMMAND",335:"GET.MOVIE",336:"CONCATENATE",337:"POWER",338:"PIVOT.ADD.DATA",339:"GET.PIVOT.TABLE",340:"GET.PIVOT.FIELD",341:"GET.PIVOT.ITEM",342:"RADIANS",343:"DEGREES",344:"SUBTOTAL",345:"SUMIF",346:"COUNTIF",347:"COUNTBLANK",348:"SCENARIO.GET",349:"OPTIONS.LISTS.GET",350:"ISPMT",351:"DATEDIF",352:"DATESTRING",353:"NUMBERSTRING",354:"ROMAN",355:"OPEN.DIALOG",356:"SAVE.DIALOG",357:"VIEW.GET",358:"GETPIVOTDATA",359:"HYPERLINK",360:"PHONETIC",361:"AVERAGEA",362:"MAXA",363:"MINA",364:"STDEVPA",365:"VARPA",366:"STDEVA",367:"VARA",368:"BAHTTEXT",369:"THAIDAYOFWEEK",370:"THAIDIGIT",371:"THAIMONTHOFYEAR",372:"THAINUMSOUND",373:"THAINUMSTRING",374:"THAISTRINGLENGTH",375:"ISTHAIDIGIT",376:"ROUNDBAHTDOWN",377:"ROUNDBAHTUP",378:"THAIYEAR",379:"RTD",380:"CUBEVALUE",381:"CUBEMEMBER",382:"CUBEMEMBERPROPERTY",383:"CUBERANKEDMEMBER",384:"HEX2BIN",385:"HEX2DEC",386:"HEX2OCT",387:"DEC2BIN",388:"DEC2HEX",389:"DEC2OCT",390:"OCT2BIN",391:"OCT2HEX",392:"OCT2DEC",393:"BIN2DEC",394:"BIN2OCT",395:"BIN2HEX",396:"IMSUB",397:"IMDIV",398:"IMPOWER",399:"IMABS",400:"IMSQRT",401:"IMLN",402:"IMLOG2",403:"IMLOG10",404:"IMSIN",405:"IMCOS",406:"IMEXP",407:"IMARGUMENT",408:"IMCONJUGATE",409:"IMAGINARY",410:"IMREAL",411:"COMPLEX",412:"IMSUM",413:"IMPRODUCT",414:"SERIESSUM",415:"FACTDOUBLE",416:"SQRTPI",417:"QUOTIENT",418:"DELTA",419:"GESTEP",420:"ISEVEN",421:"ISODD",422:"MROUND",423:"ERF",424:"ERFC",425:"BESSELJ",426:"BESSELK",427:"BESSELY",428:"BESSELI",429:"XIRR",430:"XNPV",431:"PRICEMAT",432:"YIELDMAT",433:"INTRATE",434:"RECEIVED",435:"DISC",436:"PRICEDISC",437:"YIELDDISC",438:"TBILLEQ",439:"TBILLPRICE",440:"TBILLYIELD",441:"PRICE",442:"YIELD",443:"DOLLARDE",444:"DOLLARFR",445:"NOMINAL",446:"EFFECT",447:"CUMPRINC",448:"CUMIPMT",449:"EDATE",450:"EOMONTH",451:"YEARFRAC",452:"COUPDAYBS",453:"COUPDAYS",454:"COUPDAYSNC",455:"COUPNCD",456:"COUPNUM",457:"COUPPCD",458:"DURATION",459:"MDURATION",460:"ODDLPRICE",461:"ODDLYIELD",462:"ODDFPRICE",463:"ODDFYIELD",464:"RANDBETWEEN",465:"WEEKNUM",466:"AMORDEGRC",467:"AMORLINC",468:"CONVERT",724:"SHEETJS",469:"ACCRINT",470:"ACCRINTM",471:"WORKDAY",472:"NETWORKDAYS",473:"GCD",474:"MULTINOMIAL",475:"LCM",476:"FVSCHEDULE",477:"CUBEKPIMEMBER",478:"CUBESET",479:"CUBESETCOUNT",480:"IFERROR",481:"COUNTIFS",482:"SUMIFS",483:"AVERAGEIF",484:"AVERAGEIFS"},UXe={2:1,3:1,10:0,15:1,16:1,17:1,18:1,19:0,20:1,21:1,22:1,23:1,24:1,25:1,26:1,27:2,30:2,31:3,32:1,33:1,34:0,35:0,38:1,39:2,40:3,41:3,42:3,43:3,44:3,45:3,47:3,48:2,53:1,61:3,63:0,65:3,66:3,67:1,68:1,69:1,70:1,71:1,72:1,73:1,74:0,75:1,76:1,77:1,79:2,80:2,83:1,85:0,86:1,89:0,90:1,94:0,95:0,97:2,98:1,99:1,101:3,102:3,105:1,106:1,108:2,111:1,112:1,113:1,114:1,117:2,118:1,119:4,121:1,126:1,127:1,128:1,129:1,130:1,131:1,133:1,134:1,135:1,136:2,137:2,138:2,140:1,141:1,142:3,143:4,144:4,161:1,162:1,163:1,164:1,165:2,172:1,175:2,176:2,177:3,178:2,179:1,184:1,186:1,189:3,190:1,195:3,196:3,197:1,198:1,199:3,201:1,207:4,210:3,211:1,212:2,213:2,214:1,215:1,225:0,229:1,230:1,231:1,232:1,233:1,234:1,235:3,244:1,247:4,252:2,257:1,261:1,271:1,273:4,274:2,275:2,276:2,277:3,278:3,279:1,280:3,281:3,282:3,283:1,284:1,285:2,286:4,287:3,288:2,289:4,290:3,291:3,292:3,293:4,294:1,295:3,296:1,297:3,298:1,299:2,300:3,301:3,302:4,303:2,304:2,305:2,306:2,307:2,308:2,309:3,310:2,311:2,312:2,313:2,314:2,315:2,316:4,325:2,326:2,327:2,328:2,331:2,332:2,337:2,342:1,343:1,346:2,347:1,350:4,351:3,352:1,353:2,360:1,368:1,369:1,370:1,371:1,372:1,373:1,374:1,375:1,376:1,377:1,378:1,382:3,385:1,392:1,393:1,396:2,397:2,398:2,399:1,400:1,401:1,402:1,403:1,404:1,405:1,406:1,407:1,408:1,409:1,410:1,414:4,415:1,416:1,417:2,420:1,421:1,422:2,424:1,425:2,426:2,427:2,428:2,430:3,438:3,439:3,440:3,443:2,444:2,445:2,446:2,447:6,448:6,449:2,450:2,464:2,468:3,476:2,479:1,480:2,65535:0};function yK(t){return t.slice(0,3)=="of:"&&(t=t.slice(3)),t.charCodeAt(0)==61&&(t=t.slice(1),t.charCodeAt(0)==61&&(t=t.slice(1))),t=t.replace(/COM\.MICROSOFT\./g,""),t=t.replace(/\[((?:\.[A-Z]+[0-9]+)(?::\.[A-Z]+[0-9]+)?)\]/g,function(e,r){return r.replace(/\./g,"")}),t=t.replace(/\[.(#[A-Z]*[?!])\]/g,"$1"),t.replace(/[;~]/g,",").replace(/\|/g,";")}function zXe(t){var e="of:="+t.replace(RD,"$1[.$2$3$4$5]").replace(/\]:\[/g,":");return e.replace(/;/g,"|").replace(/,/g,";")}function d5(t){var e=t.split(":"),r=e[0].split(".")[0];return[r,e[0].split(".")[1]+(e.length>1?":"+(e[1].split(".")[1]||e[1].split(".")[0]):"")]}function $Xe(t){return t.replace(/\./,"!")}var C1={},hg={},N1=typeof Map<"u";function DD(t,e,r){var n=0,i=t.length;if(r){if(N1?r.has(e):Object.prototype.hasOwnProperty.call(r,e)){for(var s=N1?r.get(e):r[e];n<s.length;++n)if(t[s[n]].t===e)return t.Count++,s[n]}}else for(;n<i;++n)if(t[n].t===e)return t.Count++,n;return t[i]={t:e},t.Count++,t.Unique++,r&&(N1?(r.has(e)||r.set(e,[]),r.get(e).push(i)):(Object.prototype.hasOwnProperty.call(r,e)||(r[e]=[]),r[e].push(i))),i}function hk(t,e){var r={min:t+1,max:t+1},n=-1;return e.MDW&&(Ea=e.MDW),e.width!=null?r.customWidth=1:e.wpx!=null?n=Rx(e.wpx):e.wch!=null&&(n=e.wch),n>-1?(r.width=YT(n),r.customWidth=1):e.width!=null&&(r.width=e.width),e.hidden&&(r.hidden=!0),e.level!=null&&(r.outlineLevel=r.level=e.level),r}function L0(t,e){if(t){var r=[.7,.7,.75,.75,.3,.3];e=="xlml"&&(r=[1,1,1,1,.5,.5]),t.left==null&&(t.left=r[0]),t.right==null&&(t.right=r[1]),t.top==null&&(t.top=r[2]),t.bottom==null&&(t.bottom=r[3]),t.header==null&&(t.header=r[4]),t.footer==null&&(t.footer=r[5])}}function Sf(t,e,r){var n=r.revssf[e.z!=null?e.z:"General"],i=60,s=t.length;if(n==null&&r.ssf){for(;i<392;++i)if(r.ssf[i]==null){ad(e.z,i),r.ssf[i]=e.z,r.revssf[e.z]=n=i;break}}for(i=0;i!=s;++i)if(t[i].numFmtId===n)return i;return t[s]={numFmtId:n,fontId:0,fillId:0,borderId:0,xfId:0,applyNumberFormat:1},s}function fce(t,e,r,n,i,s){try{n.cellNF&&(t.z=Dt[e])}catch(o){if(n.WTF)throw o}if(!(t.t==="z"&&!n.cellStyles)){if(t.t==="d"&&typeof t.v=="string"&&(t.v=Wn(t.v)),(!n||n.cellText!==!1)&&t.t!=="z")try{if(Dt[e]==null&&ad(V$e[e]||"General",e),t.t==="e")t.w=t.w||Ld[t.v];else if(e===0)if(t.t==="n")(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Sx(t.v);else if(t.t==="d"){var a=ys(t.v);(a|0)===a?t.w=a.toString(10):t.w=Sx(a)}else{if(t.v===void 0)return"";t.w=nm(t.v,hg)}else t.t==="d"?t.w=Pl(e,ys(t.v),hg):t.w=Pl(e,t.v,hg)}catch(o){if(n.WTF)throw o}if(n.cellStyles&&r!=null)try{t.s=s.Fills[r],t.s.fgColor&&t.s.fgColor.theme&&!t.s.fgColor.rgb&&(t.s.fgColor.rgb=KT(i.themeElements.clrScheme[t.s.fgColor.theme].rgb,t.s.fgColor.tint||0),n.WTF&&(t.s.fgColor.raw_rgb=i.themeElements.clrScheme[t.s.fgColor.theme].rgb)),t.s.bgColor&&t.s.bgColor.theme&&(t.s.bgColor.rgb=KT(i.themeElements.clrScheme[t.s.bgColor.theme].rgb,t.s.bgColor.tint||0),n.WTF&&(t.s.bgColor.raw_rgb=i.themeElements.clrScheme[t.s.bgColor.theme].rgb))}catch(o){if(n.WTF&&s.Fills)throw o}}}function HXe(t,e,r){if(t&&t["!ref"]){var n=Cr(t["!ref"]);if(n.e.c<n.s.c||n.e.r<n.s.r)throw new Error("Bad range ("+r+"): "+t["!ref"])}}function qXe(t,e){var r=Cr(e);r.s.r<=r.e.r&&r.s.c<=r.e.c&&r.s.r>=0&&r.s.c>=0&&(t["!ref"]=tr(r))}var WXe=/<(?:\w:)?mergeCell ref="[A-Z0-9:]+"\s*[\/]?>/g,GXe=/<(?:\w+:)?sheetData[^>]*>([\s\S]*)<\/(?:\w+:)?sheetData>/,KXe=/<(?:\w:)?hyperlink [^>]*>/mg,YXe=/"(\w*:\w*)"/,XXe=/<(?:\w:)?col\b[^>]*[\/]?>/g,QXe=/<(?:\w:)?autoFilter[^>]*([\/]|>([\s\S]*)<\/(?:\w:)?autoFilter)>/g,JXe=/<(?:\w:)?pageMargins[^>]*\/>/g,mce=/<(?:\w:)?sheetPr\b(?:[^>a-z][^>]*)?\/>/,ZXe=/<(?:\w:)?sheetPr[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetPr)>/,eQe=/<(?:\w:)?sheetViews[^>]*(?:[\/]|>([\s\S]*)<\/(?:\w:)?sheetViews)>/;function tQe(t,e,r,n,i,s,a){if(!t)return t;n||(n={"!id":{}});var o=e.dense?[]:{},l={s:{r:2e6,c:2e6},e:{r:0,c:0}},u="",d="",f=t.match(GXe);f?(u=t.slice(0,f.index),d=t.slice(f.index+f[0].length)):u=d=t;var g=u.match(mce);g?MD(g[0],o,i,r):(g=u.match(ZXe))&&nQe(g[0],g[1]||"",o,i,r);var v=(u.match(/<(?:\w*:)?dimension/)||{index:-1}).index;if(v>0){var x=u.slice(v,v+50).match(YXe);x&&qXe(o,x[1])}var b=u.match(eQe);b&&b[1]&&gQe(b[1],i);var w=[];if(e.cellStyles){var E=u.match(XXe);E&&dQe(w,E)}f&&xQe(f[1],o,e,l,s,a);var k=d.match(QXe);k&&(o["!autofilter"]=fQe(k[0]));var A=[],O=d.match(WXe);if(O)for(v=0;v!=O.length;++v)A[v]=Cr(O[v].slice(O[v].indexOf('"')+1));var P=d.match(KXe);P&&lQe(o,P,n);var j=d.match(JXe);if(j&&(o["!margins"]=cQe(zt(j[0]))),!o["!ref"]&&l.e.c>=l.s.c&&l.e.r>=l.s.r&&(o["!ref"]=tr(l)),e.sheetRows>0&&o["!ref"]){var S=Cr(o["!ref"]);e.sheetRows<=+S.e.r&&(S.e.r=e.sheetRows-1,S.e.r>l.e.r&&(S.e.r=l.e.r),S.e.r<S.s.r&&(S.s.r=S.e.r),S.e.c>l.e.c&&(S.e.c=l.e.c),S.e.c<S.s.c&&(S.s.c=S.e.c),o["!fullref"]=o["!ref"],o["!ref"]=tr(S))}return w.length>0&&(o["!cols"]=w),A.length>0&&(o["!merges"]=A),o}function rQe(t){if(t.length===0)return"";for(var e='<mergeCells count="'+t.length+'">',r=0;r!=t.length;++r)e+='<mergeCell ref="'+tr(t[r])+'"/>';return e+"</mergeCells>"}function MD(t,e,r,n){var i=zt(t);r.Sheets[n]||(r.Sheets[n]={}),i.codeName&&(r.Sheets[n].CodeName=Ar(En(i.codeName)))}function nQe(t,e,r,n,i){MD(t.slice(0,t.indexOf(">")),r,n,i)}function iQe(t,e,r,n,i){var s=!1,a={},o=null;if(n.bookType!=="xlsx"&&e.vbaraw){var l=e.SheetNames[r];try{e.Workbook&&(l=e.Workbook.Sheets[r].CodeName||l)}catch{}s=!0,a.codeName=Yc(un(l))}if(t&&t["!outline"]){var u={summaryBelow:1,summaryRight:1};t["!outline"].above&&(u.summaryBelow=0),t["!outline"].left&&(u.summaryRight=0),o=(o||"")+it("outlinePr",null,u)}!s&&!o||(i[i.length]=it("sheetPr",o,a))}var sQe=["objects","scenarios","selectLockedCells","selectUnlockedCells"],aQe=["formatColumns","formatRows","formatCells","insertColumns","insertRows","insertHyperlinks","deleteColumns","deleteRows","sort","autoFilter","pivotTables"];function oQe(t){var e={sheet:1};return sQe.forEach(function(r){t[r]!=null&&t[r]&&(e[r]="1")}),aQe.forEach(function(r){t[r]!=null&&!t[r]&&(e[r]="0")}),t.password&&(e.password=ND(t.password).toString(16).toUpperCase()),it("sheetProtection",null,e)}function lQe(t,e,r){for(var n=Array.isArray(t),i=0;i!=e.length;++i){var s=zt(En(e[i]),!0);if(!s.ref)return;var a=((r||{})["!id"]||[])[s.id];a?(s.Target=a.Target,s.location&&(s.Target+="#"+Ar(s.location))):(s.Target="#"+Ar(s.location),a={Target:s.Target,TargetMode:"Internal"}),s.Rel=a,s.tooltip&&(s.Tooltip=s.tooltip,delete s.tooltip);for(var o=Cr(s.ref),l=o.s.r;l<=o.e.r;++l)for(var u=o.s.c;u<=o.e.c;++u){var d=Ft({c:u,r:l});n?(t[l]||(t[l]=[]),t[l][u]||(t[l][u]={t:"z",v:void 0}),t[l][u].l=s):(t[d]||(t[d]={t:"z",v:void 0}),t[d].l=s)}}}function cQe(t){var e={};return["left","right","top","bottom","header","footer"].forEach(function(r){t[r]&&(e[r]=parseFloat(t[r]))}),e}function uQe(t){return L0(t),it("pageMargins",null,t)}function dQe(t,e){for(var r=!1,n=0;n!=e.length;++n){var i=zt(e[n],!0);i.hidden&&(i.hidden=$n(i.hidden));var s=parseInt(i.min,10)-1,a=parseInt(i.max,10)-1;for(i.outlineLevel&&(i.level=+i.outlineLevel||0),delete i.min,delete i.max,i.width=+i.width,!r&&i.width&&(r=!0,ID(i.width)),lf(i);s<=a;)t[s++]=Gn(i)}}function hQe(t,e){for(var r=["<cols>"],n,i=0;i!=e.length;++i)(n=e[i])&&(r[r.length]=it("col",null,hk(i,n)));return r[r.length]="</cols>",r.join("")}function fQe(t){var e={ref:(t.match(/ref="([^"]*)"/)||[])[1]};return e}function mQe(t,e,r,n){var i=typeof t.ref=="string"?t.ref:tr(t.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var s=r.Workbook.Names,a=xo(i);a.s.r==a.e.r&&(a.e.r=xo(e["!ref"]).e.r,i=tr(a));for(var o=0;o<s.length;++o){var l=s[o];if(l.Name=="_xlnm._FilterDatabase"&&l.Sheet==n){l.Ref="'"+r.SheetNames[n]+"'!"+i;break}}return o==s.length&&s.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+i}),it("autoFilter",null,{ref:i})}var pQe=/<(?:\w:)?sheetView(?:[^>a-z][^>]*)?\/?>/;function gQe(t,e){e.Views||(e.Views=[{}]),(t.match(pQe)||[]).forEach(function(r,n){var i=zt(r);e.Views[n]||(e.Views[n]={}),+i.zoomScale&&(e.Views[n].zoom=+i.zoomScale),$n(i.rightToLeft)&&(e.Views[n].RTL=!0)})}function vQe(t,e,r,n){var i={workbookViewId:"0"};return(((n||{}).Workbook||{}).Views||[])[0]&&(i.rightToLeft=n.Workbook.Views[0].RTL?"1":"0"),it("sheetViews",it("sheetView",null,i),{})}function yQe(t,e,r,n){if(t.c&&r["!comments"].push([e,t.c]),t.v===void 0&&typeof t.f!="string"||t.t==="z"&&!t.f)return"";var i="",s=t.t,a=t.v;if(t.t!=="z")switch(t.t){case"b":i=t.v?"1":"0";break;case"n":i=""+t.v;break;case"e":i=Ld[t.v];break;case"d":n&&n.cellDates?i=Wn(t.v,-1).toISOString():(t=Gn(t),t.t="n",i=""+(t.v=ys(Wn(t.v)))),typeof t.z>"u"&&(t.z=Dt[14]);break;default:i=t.v;break}var o=aa("v",un(i)),l={r:e},u=Sf(n.cellXfs,t,n);switch(u!==0&&(l.s=u),t.t){case"n":break;case"d":l.t="d";break;case"b":l.t="b";break;case"e":l.t="e";break;case"z":break;default:if(t.v==null){delete t.t;break}if(t.v.length>32767)throw new Error("Text length must not exceed 32767 characters");if(n&&n.bookSST){o=aa("v",""+DD(n.Strings,t.v,n.revStrings)),l.t="s";break}l.t="str";break}if(t.t!=s&&(t.t=s,t.v=a),typeof t.f=="string"&&t.f){var d=t.F&&t.F.slice(0,e.length)==e?{t:"array",ref:t.F}:null;o=it("f",un(t.f),d)+(t.v!=null?o:"")}return t.l&&r["!links"].push([e,t.l]),t.D&&(l.cm=1),it("c",o,l)}var xQe=(function(){var t=/<(?:\w+:)?c[ \/>]/,e=/<\/(?:\w+:)?row>/,r=/r=["']([^"']*)["']/,n=/<(?:\w+:)?is>([\S\s]*?)<\/(?:\w+:)?is>/,i=/ref=["']([^"']*)["']/,s=kx("v"),a=kx("f");return function(l,u,d,f,g,v){for(var x=0,b="",w=[],E=[],k=0,A=0,O=0,P="",j,S,I=0,R=0,D,M,L=0,U=0,le=Array.isArray(v.CellXf),ue,J=[],Q=[],he=Array.isArray(u),Z=[],ge={},H=!1,B=!!d.sheetStubs,q=l.split(e),W=0,Y=q.length;W!=Y;++W){b=q[W].trim();var de=b.length;if(de!==0){var me=0;e:for(x=0;x<de;++x)switch(b[x]){case">":if(b[x-1]!="/"){++x;break e}if(d&&d.cellStyles){if(S=zt(b.slice(me,x),!0),I=S.r!=null?parseInt(S.r,10):I+1,R=-1,d.sheetRows&&d.sheetRows<I)continue;ge={},H=!1,S.ht&&(H=!0,ge.hpt=parseFloat(S.ht),ge.hpx=Zg(ge.hpt)),S.hidden=="1"&&(H=!0,ge.hidden=!0),S.outlineLevel!=null&&(H=!0,ge.level=+S.outlineLevel),H&&(Z[I-1]=ge)}break;case"<":me=x;break}if(me>=x)break;if(S=zt(b.slice(me,x),!0),I=S.r!=null?parseInt(S.r,10):I+1,R=-1,!(d.sheetRows&&d.sheetRows<I)){f.s.r>I-1&&(f.s.r=I-1),f.e.r<I-1&&(f.e.r=I-1),d&&d.cellStyles&&(ge={},H=!1,S.ht&&(H=!0,ge.hpt=parseFloat(S.ht),ge.hpx=Zg(ge.hpt)),S.hidden=="1"&&(H=!0,ge.hidden=!0),S.outlineLevel!=null&&(H=!0,ge.level=+S.outlineLevel),H&&(Z[I-1]=ge)),w=b.slice(x).split(t);for(var ce=0;ce!=w.length&&w[ce].trim().charAt(0)=="<";++ce);for(w=w.slice(ce),x=0;x!=w.length;++x)if(b=w[x].trim(),b.length!==0){if(E=b.match(r),k=x,A=0,O=0,b="<c "+(b.slice(0,1)=="<"?">":"")+b,E!=null&&E.length===2){for(k=0,P=E[1],A=0;A!=P.length&&!((O=P.charCodeAt(A)-64)<1||O>26);++A)k=26*k+O;--k,R=k}else++R;for(A=0;A!=b.length&&b.charCodeAt(A)!==62;++A);if(++A,S=zt(b.slice(0,A),!0),S.r||(S.r=Ft({r:I-1,c:R})),P=b.slice(A),j={t:""},(E=P.match(s))!=null&&E[1]!==""&&(j.v=Ar(E[1])),d.cellFormula){if((E=P.match(a))!=null&&E[1]!==""){if(j.f=Ar(En(E[1])).replace(/\r\n/g,`
`),d.xlfn||(j.f=mK(j.f)),E[0].indexOf('t="array"')>-1)j.F=(P.match(i)||[])[1],j.F.indexOf(":")>-1&&J.push([Cr(j.F),j.F]);else if(E[0].indexOf('t="shared"')>-1){M=zt(E[0]);var se=Ar(En(E[1]));d.xlfn||(se=mK(se)),Q[parseInt(M.si,10)]=[M,se,S.r]}}else(E=P.match(/<f[^>]*\/>/))&&(M=zt(E[0]),Q[M.si]&&(j.f=pYe(Q[M.si][1],Q[M.si][2],S.r)));var ve=fi(S.r);for(A=0;A<J.length;++A)ve.r>=J[A][0].s.r&&ve.r<=J[A][0].e.r&&ve.c>=J[A][0].s.c&&ve.c<=J[A][0].e.c&&(j.F=J[A][1])}if(S.t==null&&j.v===void 0)if(j.f||j.F)j.v=0,j.t="n";else if(B)j.t="z";else continue;else j.t=S.t||"n";switch(f.s.c>R&&(f.s.c=R),f.e.c<R&&(f.e.c=R),j.t){case"n":if(j.v==""||j.v==null){if(!B)continue;j.t="z"}else j.v=parseFloat(j.v);break;case"s":if(typeof j.v>"u"){if(!B)continue;j.t="z"}else D=C1[parseInt(j.v,10)],j.v=D.t,j.r=D.r,d.cellHTML&&(j.h=D.h);break;case"str":j.t="s",j.v=j.v!=null?En(j.v):"",d.cellHTML&&(j.h=mD(j.v));break;case"inlineStr":E=P.match(n),j.t="s",E!=null&&(D=CD(E[1]))?(j.v=D.t,d.cellHTML&&(j.h=D.h)):j.v="";break;case"b":j.v=$n(j.v);break;case"d":d.cellDates?j.v=Wn(j.v,1):(j.v=ys(Wn(j.v,1)),j.t="n");break;case"e":(!d||d.cellText!==!1)&&(j.w=j.v),j.v=gle[j.v];break}if(L=U=0,ue=null,le&&S.s!==void 0&&(ue=v.CellXf[S.s],ue!=null&&(ue.numFmtId!=null&&(L=ue.numFmtId),d.cellStyles&&ue.fillId!=null&&(U=ue.fillId))),fce(j,L,U,d,g,v),d.cellDates&&le&&j.t=="n"&&Pv(Dt[L])&&(j.t="d",j.v=lk(j.v)),S.cm&&d.xlmeta){var Ve=(d.xlmeta.Cell||[])[+S.cm-1];Ve&&Ve.type=="XLDAPR"&&(j.D=!0)}if(he){var G=fi(S.r);u[G.r]||(u[G.r]=[]),u[G.r][G.c]=j}else u[S.r]=j}}}}Z.length>0&&(u["!rows"]=Z)}})();function bQe(t,e,r,n){var i=[],s=[],a=Cr(t["!ref"]),o="",l,u="",d=[],f=0,g=0,v=t["!rows"],x=Array.isArray(t),b={r:u},w,E=-1;for(g=a.s.c;g<=a.e.c;++g)d[g]=hi(g);for(f=a.s.r;f<=a.e.r;++f){for(s=[],u=Fi(f),g=a.s.c;g<=a.e.c;++g){l=d[g]+u;var k=x?(t[f]||[])[g]:t[l];k!==void 0&&(o=yQe(k,l,t,e))!=null&&s.push(o)}(s.length>0||v&&v[f])&&(b={r:u},v&&v[f]&&(w=v[f],w.hidden&&(b.hidden=1),E=-1,w.hpx?E=Px(w.hpx):w.hpt&&(E=w.hpt),E>-1&&(b.ht=E,b.customHeight=1),w.level&&(b.outlineLevel=w.level)),i[i.length]=it("row",s.join(""),b))}if(v)for(;f<v.length;++f)v&&v[f]&&(b={r:f+1},w=v[f],w.hidden&&(b.hidden=1),E=-1,w.hpx?E=Px(w.hpx):w.hpt&&(E=w.hpt),E>-1&&(b.ht=E,b.customHeight=1),w.level&&(b.outlineLevel=w.level),i[i.length]=it("row","",b));return i.join("")}function pce(t,e,r,n){var i=[Bi,it("worksheet",null,{xmlns:Tm[0],"xmlns:r":gs.r})],s=r.SheetNames[t],a=0,o="",l=r.Sheets[s];l==null&&(l={});var u=l["!ref"]||"A1",d=Cr(u);if(d.e.c>16383||d.e.r>1048575){if(e.WTF)throw new Error("Range "+u+" exceeds format limit A1:XFD1048576");d.e.c=Math.min(d.e.c,16383),d.e.r=Math.min(d.e.c,1048575),u=tr(d)}n||(n={}),l["!comments"]=[];var f=[];iQe(l,r,t,e,i),i[i.length]=it("dimension",null,{ref:u}),i[i.length]=vQe(l,e,t,r),e.sheetFormat&&(i[i.length]=it("sheetFormatPr",null,{defaultRowHeight:e.sheetFormat.defaultRowHeight||"16",baseColWidth:e.sheetFormat.baseColWidth||"10",outlineLevelRow:e.sheetFormat.outlineLevelRow||"7"})),l["!cols"]!=null&&l["!cols"].length>0&&(i[i.length]=hQe(l,l["!cols"])),i[a=i.length]="<sheetData/>",l["!links"]=[],l["!ref"]!=null&&(o=bQe(l,e),o.length>0&&(i[i.length]=o)),i.length>a+1&&(i[i.length]="</sheetData>",i[a]=i[a].replace("/>",">")),l["!protect"]&&(i[i.length]=oQe(l["!protect"])),l["!autofilter"]!=null&&(i[i.length]=mQe(l["!autofilter"],l,r,t)),l["!merges"]!=null&&l["!merges"].length>0&&(i[i.length]=rQe(l["!merges"]));var g=-1,v,x=-1;return l["!links"].length>0&&(i[i.length]="<hyperlinks>",l["!links"].forEach(function(b){b[1].Target&&(v={ref:b[0]},b[1].Target.charAt(0)!="#"&&(x=on(n,-1,un(b[1].Target).replace(/#.*$/,""),cr.HLINK),v["r:id"]="rId"+x),(g=b[1].Target.indexOf("#"))>-1&&(v.location=un(b[1].Target.slice(g+1))),b[1].Tooltip&&(v.tooltip=un(b[1].Tooltip)),i[i.length]=it("hyperlink",null,v))}),i[i.length]="</hyperlinks>"),delete l["!links"],l["!margins"]!=null&&(i[i.length]=uQe(l["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&(i[i.length]=aa("ignoredErrors",it("ignoredError",null,{numberStoredAsText:1,sqref:u}))),f.length>0&&(x=on(n,-1,"../drawings/drawing"+(t+1)+".xml",cr.DRAW),i[i.length]=it("drawing",null,{"r:id":"rId"+x}),l["!drawing"]=f),l["!comments"].length>0&&(x=on(n,-1,"../drawings/vmlDrawing"+(t+1)+".vml",cr.VML),i[i.length]=it("legacyDrawing",null,{"r:id":"rId"+x}),l["!legacy"]=x),i.length>1&&(i[i.length]="</worksheet>",i[1]=i[1].replace("/>",">")),i.join("")}function wQe(t,e){var r={},n=t.l+e;r.r=t.read_shift(4),t.l+=4;var i=t.read_shift(2);t.l+=1;var s=t.read_shift(1);return t.l=n,s&7&&(r.level=s&7),s&16&&(r.hidden=!0),s&32&&(r.hpt=i/20),r}function _Qe(t,e,r){var n=Le(145),i=(r["!rows"]||[])[t]||{};n.write_shift(4,t),n.write_shift(4,0);var s=320;i.hpx?s=Px(i.hpx)*20:i.hpt&&(s=i.hpt*20),n.write_shift(2,s),n.write_shift(1,0);var a=0;i.level&&(a|=i.level),i.hidden&&(a|=16),(i.hpx||i.hpt)&&(a|=32),n.write_shift(1,a),n.write_shift(1,0);var o=0,l=n.l;n.l+=4;for(var u={r:t,c:0},d=0;d<16;++d)if(!(e.s.c>d+1<<10||e.e.c<d<<10)){for(var f=-1,g=-1,v=d<<10;v<d+1<<10;++v){u.c=v;var x=Array.isArray(r)?(r[u.r]||[])[u.c]:r[Ft(u)];x&&(f<0&&(f=v),g=v)}f<0||(++o,n.write_shift(4,f),n.write_shift(4,g))}var b=n.l;return n.l=l,n.write_shift(4,o),n.l=b,n.length>n.l?n.slice(0,n.l):n}function EQe(t,e,r,n){var i=_Qe(n,r,e);(i.length>17||(e["!rows"]||[])[n])&&He(t,0,i)}var TQe=Cm,SQe=Mv;function kQe(){}function AQe(t,e){var r={},n=t[t.l];return++t.l,r.above=!(n&64),r.left=!(n&128),t.l+=18,r.name=IHe(t),r}function CQe(t,e,r){r==null&&(r=Le(84+4*t.length));var n=192;e&&(e.above&&(n&=-65),e.left&&(n&=-129)),r.write_shift(1,n);for(var i=1;i<3;++i)r.write_shift(1,0);return qT({auto:1},r),r.write_shift(-4,-1),r.write_shift(-4,-1),dle(t,r),r.slice(0,r.l)}function NQe(t){var e=Ml(t);return[e]}function IQe(t,e,r){return r==null&&(r=Le(8)),Sm(e,r)}function OQe(t){var e=km(t);return[e]}function RQe(t,e,r){return r==null&&(r=Le(4)),Am(e,r)}function PQe(t){var e=Ml(t),r=t.read_shift(1);return[e,r,"b"]}function jQe(t,e,r){return r==null&&(r=Le(9)),Sm(e,r),r.write_shift(1,t.v?1:0),r}function DQe(t){var e=km(t),r=t.read_shift(1);return[e,r,"b"]}function MQe(t,e,r){return r==null&&(r=Le(5)),Am(e,r),r.write_shift(1,t.v?1:0),r}function LQe(t){var e=Ml(t),r=t.read_shift(1);return[e,r,"e"]}function FQe(t,e,r){return r==null&&(r=Le(9)),Sm(e,r),r.write_shift(1,t.v),r}function BQe(t){var e=km(t),r=t.read_shift(1);return[e,r,"e"]}function VQe(t,e,r){return r==null&&(r=Le(8)),Am(e,r),r.write_shift(1,t.v),r.write_shift(2,0),r.write_shift(1,0),r}function UQe(t){var e=Ml(t),r=t.read_shift(4);return[e,r,"s"]}function zQe(t,e,r){return r==null&&(r=Le(12)),Sm(e,r),r.write_shift(4,e.v),r}function $Qe(t){var e=km(t),r=t.read_shift(4);return[e,r,"s"]}function HQe(t,e,r){return r==null&&(r=Le(8)),Am(e,r),r.write_shift(4,e.v),r}function qQe(t){var e=Ml(t),r=Ta(t);return[e,r,"n"]}function WQe(t,e,r){return r==null&&(r=Le(16)),Sm(e,r),sm(t.v,r),r}function gce(t){var e=km(t),r=Ta(t);return[e,r,"n"]}function GQe(t,e,r){return r==null&&(r=Le(12)),Am(e,r),sm(t.v,r),r}function KQe(t){var e=Ml(t),r=ED(t);return[e,r,"n"]}function YQe(t,e,r){return r==null&&(r=Le(12)),Sm(e,r),hle(t.v,r),r}function XQe(t){var e=km(t),r=ED(t);return[e,r,"n"]}function QQe(t,e,r){return r==null&&(r=Le(8)),Am(e,r),hle(t.v,r),r}function JQe(t){var e=Ml(t),r=bD(t);return[e,r,"is"]}function ZQe(t){var e=Ml(t),r=Ia(t);return[e,r,"str"]}function eJe(t,e,r){return r==null&&(r=Le(12+4*t.v.length)),Sm(e,r),Bs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function tJe(t){var e=km(t),r=Ia(t);return[e,r,"str"]}function rJe(t,e,r){return r==null&&(r=Le(8+4*t.v.length)),Am(e,r),Bs(t.v,r),r.length>r.l?r.slice(0,r.l):r}function nJe(t,e,r){var n=t.l+e,i=Ml(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"b"];if(r.cellFormula){t.l+=2;var o=dk(t,n-t.l,r);a[3]=ba(o,null,i,r.supbooks,r)}else t.l=n;return a}function iJe(t,e,r){var n=t.l+e,i=Ml(t);i.r=r["!row"];var s=t.read_shift(1),a=[i,s,"e"];if(r.cellFormula){t.l+=2;var o=dk(t,n-t.l,r);a[3]=ba(o,null,i,r.supbooks,r)}else t.l=n;return a}function sJe(t,e,r){var n=t.l+e,i=Ml(t);i.r=r["!row"];var s=Ta(t),a=[i,s,"n"];if(r.cellFormula){t.l+=2;var o=dk(t,n-t.l,r);a[3]=ba(o,null,i,r.supbooks,r)}else t.l=n;return a}function aJe(t,e,r){var n=t.l+e,i=Ml(t);i.r=r["!row"];var s=Ia(t),a=[i,s,"str"];if(r.cellFormula){t.l+=2;var o=dk(t,n-t.l,r);a[3]=ba(o,null,i,r.supbooks,r)}else t.l=n;return a}var oJe=Cm,lJe=Mv;function cJe(t,e){return e==null&&(e=Le(4)),e.write_shift(4,t),e}function uJe(t,e){var r=t.l+e,n=Cm(t),i=wD(t),s=Ia(t),a=Ia(t),o=Ia(t);t.l=r;var l={rfx:n,relId:i,loc:s,display:o};return a&&(l.Tooltip=a),l}function dJe(t,e){var r=Le(50+4*(t[1].Target.length+(t[1].Tooltip||"").length));Mv({s:fi(t[0]),e:fi(t[0])},r),_D("rId"+e,r);var n=t[1].Target.indexOf("#"),i=n==-1?"":t[1].Target.slice(n+1);return Bs(i||"",r),Bs(t[1].Tooltip||"",r),Bs("",r),r.slice(0,r.l)}function hJe(){}function fJe(t,e,r){var n=t.l+e,i=fle(t),s=t.read_shift(1),a=[i];if(a[2]=s,r.cellFormula){var o=LXe(t,n-t.l,r);a[1]=o}else t.l=n;return a}function mJe(t,e,r){var n=t.l+e,i=Cm(t),s=[i];if(r.cellFormula){var a=BXe(t,n-t.l,r);s[1]=a,t.l=n}else t.l=n;return s}function pJe(t,e,r){r==null&&(r=Le(18));var n=hk(t,e);r.write_shift(-4,t),r.write_shift(-4,t),r.write_shift(4,(n.width||10)*256),r.write_shift(4,0);var i=0;return e.hidden&&(i|=1),typeof n.width=="number"&&(i|=2),e.level&&(i|=e.level<<8),r.write_shift(2,i),r}var vce=["left","right","top","bottom","header","footer"];function gJe(t){var e={};return vce.forEach(function(r){e[r]=Ta(t)}),e}function vJe(t,e){return e==null&&(e=Le(48)),L0(t),vce.forEach(function(r){sm(t[r],e)}),e}function yJe(t){var e=t.read_shift(2);return t.l+=28,{RTL:e&32}}function xJe(t,e,r){r==null&&(r=Le(30));var n=924;return(((e||{}).Views||[])[0]||{}).RTL&&(n|=32),r.write_shift(2,n),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(1,0),r.write_shift(1,0),r.write_shift(2,0),r.write_shift(2,100),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(2,0),r.write_shift(4,0),r}function bJe(t){var e=Le(24);return e.write_shift(4,4),e.write_shift(4,1),Mv(t,e),e}function wJe(t,e){return e==null&&(e=Le(66)),e.write_shift(2,t.password?ND(t.password):0),e.write_shift(4,1),[["objects",!1],["scenarios",!1],["formatCells",!0],["formatColumns",!0],["formatRows",!0],["insertColumns",!0],["insertRows",!0],["insertHyperlinks",!0],["deleteColumns",!0],["deleteRows",!0],["selectLockedCells",!1],["sort",!0],["autoFilter",!0],["pivotTables",!0],["selectUnlockedCells",!1]].forEach(function(r){r[1]?e.write_shift(4,t[r[0]]!=null&&!t[r[0]]?1:0):e.write_shift(4,t[r[0]]!=null&&t[r[0]]?0:1)}),e}function _Je(){}function EJe(){}function TJe(t,e,r,n,i,s,a){if(!t)return t;var o=e||{};n||(n={"!id":{}});var l=o.dense?[]:{},u,d={s:{r:2e6,c:2e6},e:{r:0,c:0}},f=!1,g=!1,v,x,b,w,E,k,A,O,P,j=[];o.biff=12,o["!row"]=0;var S=0,I=!1,R=[],D={},M=o.supbooks||i.supbooks||[[]];if(M.sharedf=D,M.arrayf=R,M.SheetNames=i.SheetNames||i.Sheets.map(function(he){return he.name}),!o.supbooks&&(o.supbooks=M,i.Names))for(var L=0;L<i.Names.length;++L)M[0][L+1]=i.Names[L];var U=[],le=[],ue=!1;jx[16]={n:"BrtShortReal",f:gce};var J;if(Md(t,function(Z,ge,H){if(!g)switch(H){case 148:u=Z;break;case 0:v=Z,o.sheetRows&&o.sheetRows<=v.r&&(g=!0),O=Fi(w=v.r),o["!row"]=v.r,(Z.hidden||Z.hpt||Z.level!=null)&&(Z.hpt&&(Z.hpx=Zg(Z.hpt)),le[Z.r]=Z);break;case 2:case 3:case 4:case 5:case 6:case 7:case 8:case 9:case 10:case 11:case 13:case 14:case 15:case 16:case 17:case 18:case 62:switch(x={t:Z[2]},Z[2]){case"n":x.v=Z[1];break;case"s":A=C1[Z[1]],x.v=A.t,x.r=A.r;break;case"b":x.v=!!Z[1];break;case"e":x.v=Z[1],o.cellText!==!1&&(x.w=Ld[x.v]);break;case"str":x.t="s",x.v=Z[1];break;case"is":x.t="s",x.v=Z[1].t;break}if((b=a.CellXf[Z[0].iStyleRef])&&fce(x,b.numFmtId,null,o,s,a),E=Z[0].c==-1?E+1:Z[0].c,o.dense?(l[w]||(l[w]=[]),l[w][E]=x):l[hi(E)+O]=x,o.cellFormula){for(I=!1,S=0;S<R.length;++S){var B=R[S];v.r>=B[0].s.r&&v.r<=B[0].e.r&&E>=B[0].s.c&&E<=B[0].e.c&&(x.F=tr(B[0]),I=!0)}!I&&Z.length>3&&(x.f=Z[3])}if(d.s.r>v.r&&(d.s.r=v.r),d.s.c>E&&(d.s.c=E),d.e.r<v.r&&(d.e.r=v.r),d.e.c<E&&(d.e.c=E),o.cellDates&&b&&x.t=="n"&&Pv(Dt[b.numFmtId])){var q=T0(x.v);q&&(x.t="d",x.v=new Date(q.y,q.m-1,q.d,q.H,q.M,q.S,q.u))}J&&(J.type=="XLDAPR"&&(x.D=!0),J=void 0);break;case 1:case 12:if(!o.sheetStubs||f)break;x={t:"z",v:void 0},E=Z[0].c==-1?E+1:Z[0].c,o.dense?(l[w]||(l[w]=[]),l[w][E]=x):l[hi(E)+O]=x,d.s.r>v.r&&(d.s.r=v.r),d.s.c>E&&(d.s.c=E),d.e.r<v.r&&(d.e.r=v.r),d.e.c<E&&(d.e.c=E),J&&(J.type=="XLDAPR"&&(x.D=!0),J=void 0);break;case 176:j.push(Z);break;case 49:J=((o.xlmeta||{}).Cell||[])[Z-1];break;case 494:var W=n["!id"][Z.relId];for(W?(Z.Target=W.Target,Z.loc&&(Z.Target+="#"+Z.loc),Z.Rel=W):Z.relId==""&&(Z.Target="#"+Z.loc),w=Z.rfx.s.r;w<=Z.rfx.e.r;++w)for(E=Z.rfx.s.c;E<=Z.rfx.e.c;++E)o.dense?(l[w]||(l[w]=[]),l[w][E]||(l[w][E]={t:"z",v:void 0}),l[w][E].l=Z):(k=Ft({c:E,r:w}),l[k]||(l[k]={t:"z",v:void 0}),l[k].l=Z);break;case 426:if(!o.cellFormula)break;R.push(Z),P=o.dense?l[w][E]:l[hi(E)+O],P.f=ba(Z[1],d,{r:v.r,c:E},M,o),P.F=tr(Z[0]);break;case 427:if(!o.cellFormula)break;D[Ft(Z[0].s)]=Z[1],P=o.dense?l[w][E]:l[hi(E)+O],P.f=ba(Z[1],d,{r:v.r,c:E},M,o);break;case 60:if(!o.cellStyles)break;for(;Z.e>=Z.s;)U[Z.e--]={width:Z.w/256,hidden:!!(Z.flags&1),level:Z.level},ue||(ue=!0,ID(Z.w/256)),lf(U[Z.e+1]);break;case 161:l["!autofilter"]={ref:tr(Z)};break;case 476:l["!margins"]=Z;break;case 147:i.Sheets[r]||(i.Sheets[r]={}),Z.name&&(i.Sheets[r].CodeName=Z.name),(Z.above||Z.left)&&(l["!outline"]={above:Z.above,left:Z.left});break;case 137:i.Views||(i.Views=[{}]),i.Views[0]||(i.Views[0]={}),Z.RTL&&(i.Views[0].RTL=!0);break;case 485:break;case 64:case 1053:break;case 151:break;case 152:case 175:case 644:case 625:case 562:case 396:case 1112:case 1146:case 471:case 1050:case 649:case 1105:case 589:case 607:case 564:case 1055:case 168:case 174:case 1180:case 499:case 507:case 550:case 171:case 167:case 1177:case 169:case 1181:case 551:case 552:case 661:case 639:case 478:case 537:case 477:case 536:case 1103:case 680:case 1104:case 1024:case 663:case 535:case 678:case 504:case 1043:case 428:case 170:case 3072:case 50:case 2070:case 1045:break;case 35:f=!0;break;case 36:f=!1;break;case 37:f=!0;break;case 38:f=!1;break;default:if(!ge.T){if(!f||o.WTF)throw new Error("Unexpected record 0x"+H.toString(16))}}},o),delete o.supbooks,delete o["!row"],!l["!ref"]&&(d.s.r<2e6||u&&(u.e.r>0||u.e.c>0||u.s.r>0||u.s.c>0))&&(l["!ref"]=tr(u||d)),o.sheetRows&&l["!ref"]){var Q=Cr(l["!ref"]);o.sheetRows<=+Q.e.r&&(Q.e.r=o.sheetRows-1,Q.e.r>d.e.r&&(Q.e.r=d.e.r),Q.e.r<Q.s.r&&(Q.s.r=Q.e.r),Q.e.c>d.e.c&&(Q.e.c=d.e.c),Q.e.c<Q.s.c&&(Q.s.c=Q.e.c),l["!fullref"]=l["!ref"],l["!ref"]=tr(Q))}return j.length>0&&(l["!merges"]=j),U.length>0&&(l["!cols"]=U),le.length>0&&(l["!rows"]=le),l}function SJe(t,e,r,n,i,s,a){if(e.v===void 0)return!1;var o="";switch(e.t){case"b":o=e.v?"1":"0";break;case"d":e=Gn(e),e.z=e.z||Dt[14],e.v=ys(Wn(e.v)),e.t="n";break;case"n":case"e":o=""+e.v;break;default:o=e.v;break}var l={r,c:n};switch(l.s=Sf(i.cellXfs,e,i),e.l&&s["!links"].push([Ft(l),e.l]),e.c&&s["!comments"].push([Ft(l),e.c]),e.t){case"s":case"str":return i.bookSST?(o=DD(i.Strings,e.v,i.revStrings),l.t="s",l.v=o,a?He(t,18,HQe(e,l)):He(t,7,zQe(e,l))):(l.t="str",a?He(t,17,rJe(e,l)):He(t,6,eJe(e,l))),!0;case"n":return e.v==(e.v|0)&&e.v>-1e3&&e.v<1e3?a?He(t,13,QQe(e,l)):He(t,2,YQe(e,l)):a?He(t,16,GQe(e,l)):He(t,5,WQe(e,l)),!0;case"b":return l.t="b",a?He(t,15,MQe(e,l)):He(t,4,jQe(e,l)),!0;case"e":return l.t="e",a?He(t,14,VQe(e,l)):He(t,3,FQe(e,l)),!0}return a?He(t,12,RQe(e,l)):He(t,1,IQe(e,l)),!0}function kJe(t,e,r,n){var i=Cr(e["!ref"]||"A1"),s,a="",o=[];He(t,145);var l=Array.isArray(e),u=i.e.r;e["!rows"]&&(u=Math.max(i.e.r,e["!rows"].length-1));for(var d=i.s.r;d<=u;++d){a=Fi(d),EQe(t,e,i,d);var f=!1;if(d<=i.e.r)for(var g=i.s.c;g<=i.e.c;++g){d===i.s.r&&(o[g]=hi(g)),s=o[g]+a;var v=l?(e[d]||[])[g]:e[s];if(!v){f=!1;continue}f=SJe(t,v,d,g,n,e,f)}}He(t,146)}function AJe(t,e){!e||!e["!merges"]||(He(t,177,cJe(e["!merges"].length)),e["!merges"].forEach(function(r){He(t,176,lJe(r))}),He(t,178))}function CJe(t,e){!e||!e["!cols"]||(He(t,390),e["!cols"].forEach(function(r,n){r&&He(t,60,pJe(n,r))}),He(t,391))}function NJe(t,e){!e||!e["!ref"]||(He(t,648),He(t,649,bJe(Cr(e["!ref"]))),He(t,650))}function IJe(t,e,r){e["!links"].forEach(function(n){if(n[1].Target){var i=on(r,-1,n[1].Target.replace(/#.*$/,""),cr.HLINK);He(t,494,dJe(n,i))}}),delete e["!links"]}function OJe(t,e,r,n){if(e["!comments"].length>0){var i=on(n,-1,"../drawings/vmlDrawing"+(r+1)+".vml",cr.VML);He(t,551,_D("rId"+i)),e["!legacy"]=i}}function RJe(t,e,r,n){if(e["!autofilter"]){var i=e["!autofilter"],s=typeof i.ref=="string"?i.ref:tr(i.ref);r.Workbook||(r.Workbook={Sheets:[]}),r.Workbook.Names||(r.Workbook.Names=[]);var a=r.Workbook.Names,o=xo(s);o.s.r==o.e.r&&(o.e.r=xo(e["!ref"]).e.r,s=tr(o));for(var l=0;l<a.length;++l){var u=a[l];if(u.Name=="_xlnm._FilterDatabase"&&u.Sheet==n){u.Ref="'"+r.SheetNames[n]+"'!"+s;break}}l==a.length&&a.push({Name:"_xlnm._FilterDatabase",Sheet:n,Ref:"'"+r.SheetNames[n]+"'!"+s}),He(t,161,Mv(Cr(s))),He(t,162)}}function PJe(t,e,r){He(t,133),He(t,137,xJe(e,r)),He(t,138),He(t,134)}function jJe(t,e){e["!protect"]&&He(t,535,wJe(e["!protect"]))}function DJe(t,e,r,n){var i=go(),s=r.SheetNames[t],a=r.Sheets[s]||{},o=s;try{r&&r.Workbook&&(o=r.Workbook.Sheets[t].CodeName||o)}catch{}var l=Cr(a["!ref"]||"A1");if(l.e.c>16383||l.e.r>1048575){if(e.WTF)throw new Error("Range "+(a["!ref"]||"A1")+" exceeds format limit A1:XFD1048576");l.e.c=Math.min(l.e.c,16383),l.e.r=Math.min(l.e.c,1048575)}return a["!links"]=[],a["!comments"]=[],He(i,129),(r.vbaraw||a["!outline"])&&He(i,147,CQe(o,a["!outline"])),He(i,148,SQe(l)),PJe(i,a,r.Workbook),CJe(i,a),kJe(i,a,t,e),jJe(i,a),RJe(i,a,r,t),AJe(i,a),IJe(i,a,n),a["!margins"]&&He(i,476,vJe(a["!margins"])),(!e||e.ignoreEC||e.ignoreEC==null)&&NJe(i,a),OJe(i,a,t,n),He(i,130),i.end()}function MJe(t){var e=[],r=t.match(/^<c:numCache>/),n;(t.match(/<c:pt idx="(\d*)">(.*?)<\/c:pt>/mg)||[]).forEach(function(s){var a=s.match(/<c:pt idx="(\d*?)"><c:v>(.*)<\/c:v><\/c:pt>/);a&&(e[+a[1]]=r?+a[2]:a[2])});var i=Ar((t.match(/<c:formatCode>([\s\S]*?)<\/c:formatCode>/)||["","General"])[1]);return(t.match(/<c:f>(.*?)<\/c:f>/mg)||[]).forEach(function(s){n=s.replace(/<.*?>/g,"")}),[e,i,n]}function LJe(t,e,r,n,i,s){var a=s||{"!type":"chart"};if(!t)return s;var o=0,l=0,u="A",d={s:{r:2e6,c:2e6},e:{r:0,c:0}};return(t.match(/<c:numCache>[\s\S]*?<\/c:numCache>/gm)||[]).forEach(function(f){var g=MJe(f);d.s.r=d.s.c=0,d.e.c=o,u=hi(o),g[0].forEach(function(v,x){a[u+Fi(x)]={t:"n",v,z:g[1]},l=x}),d.e.r<l&&(d.e.r=l),++o}),o>0&&(a["!ref"]=tr(d)),a}function FJe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a,o=t.match(mce);return o&&MD(o[0],s,i,r),(a=t.match(/drawing r:id="(.*?)"/))&&(s["!rel"]=a[1]),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}function BJe(t,e){t.l+=10;var r=Ia(t);return{name:r}}function VJe(t,e,r,n,i){if(!t)return t;n||(n={"!id":{}});var s={"!type":"chart","!drawel":null,"!rel":""},a=!1;return Md(t,function(l,u,d){switch(d){case 550:s["!rel"]=l;break;case 651:i.Sheets[r]||(i.Sheets[r]={}),l.name&&(i.Sheets[r].CodeName=l.name);break;case 562:case 652:case 669:case 679:case 551:case 552:case 476:case 3072:break;case 35:a=!0;break;case 36:a=!1;break;case 37:break;case 38:break;default:if(!(u.T>0)){if(!(u.T<0)){if(!a||e.WTF)throw new Error("Unexpected record 0x"+d.toString(16))}}}},e),n["!id"][s["!rel"]]&&(s["!drawel"]=n["!id"][s["!rel"]]),s}var LD=[["allowRefreshQuery",!1,"bool"],["autoCompressPictures",!0,"bool"],["backupFile",!1,"bool"],["checkCompatibility",!1,"bool"],["CodeName",""],["date1904",!1,"bool"],["defaultThemeVersion",0,"int"],["filterPrivacy",!1,"bool"],["hidePivotFieldList",!1,"bool"],["promptedSolutions",!1,"bool"],["publishItems",!1,"bool"],["refreshAllConnections",!1,"bool"],["saveExternalLinkValues",!0,"bool"],["showBorderUnselectedTables",!0,"bool"],["showInkAnnotation",!0,"bool"],["showObjects","all"],["showPivotChartFilter",!1,"bool"],["updateLinks","userSet"]],UJe=[["activeTab",0,"int"],["autoFilterDateGrouping",!0,"bool"],["firstSheet",0,"int"],["minimized",!1,"bool"],["showHorizontalScroll",!0,"bool"],["showSheetTabs",!0,"bool"],["showVerticalScroll",!0,"bool"],["tabRatio",600,"int"],["visibility","visible"]],zJe=[],$Je=[["calcCompleted","true"],["calcMode","auto"],["calcOnSave","true"],["concurrentCalc","true"],["fullCalcOnLoad","false"],["fullPrecision","true"],["iterate","false"],["iterateCount","100"],["iterateDelta","0.001"],["refMode","A1"]];function xK(t,e){for(var r=0;r!=t.length;++r)for(var n=t[r],i=0;i!=e.length;++i){var s=e[i];if(n[s[0]]==null)n[s[0]]=s[1];else switch(s[2]){case"bool":typeof n[s[0]]=="string"&&(n[s[0]]=$n(n[s[0]]));break;case"int":typeof n[s[0]]=="string"&&(n[s[0]]=parseInt(n[s[0]],10));break}}}function bK(t,e){for(var r=0;r!=e.length;++r){var n=e[r];if(t[n[0]]==null)t[n[0]]=n[1];else switch(n[2]){case"bool":typeof t[n[0]]=="string"&&(t[n[0]]=$n(t[n[0]]));break;case"int":typeof t[n[0]]=="string"&&(t[n[0]]=parseInt(t[n[0]],10));break}}}function yce(t){bK(t.WBProps,LD),bK(t.CalcPr,$Je),xK(t.WBView,UJe),xK(t.Sheets,zJe),hg.date1904=$n(t.WBProps.date1904)}function HJe(t){return!t.Workbook||!t.Workbook.WBProps?"false":$n(t.Workbook.WBProps.date1904)?"true":"false"}var qJe="][*?/\\".split("");function xce(t,e){if(t.length>31)throw new Error("Sheet names cannot exceed 31 chars");var r=!0;return qJe.forEach(function(n){if(t.indexOf(n)!=-1)throw new Error("Sheet name cannot contain : \\ / ? * [ ]")}),r}function WJe(t,e,r){t.forEach(function(n,i){xce(n);for(var s=0;s<i;++s)if(n==t[s])throw new Error("Duplicate Sheet Name: "+n);if(r){var a=e&&e[i]&&e[i].CodeName||n;if(a.charCodeAt(0)==95&&a.length>22)throw new Error("Bad Code Name: Worksheet"+a)}})}function GJe(t){if(!t||!t.SheetNames||!t.Sheets)throw new Error("Invalid Workbook");if(!t.SheetNames.length)throw new Error("Workbook is empty");var e=t.Workbook&&t.Workbook.Sheets||[];WJe(t.SheetNames,e,!!t.vbaraw);for(var r=0;r<t.SheetNames.length;++r)HXe(t.Sheets[t.SheetNames[r]],t.SheetNames[r],r)}var KJe=/<\w+:workbook/;function YJe(t,e){if(!t)throw new Error("Could not find file");var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},Names:[],xmlns:""},n=!1,i="xmlns",s={},a=0;if(t.replace(ja,function(l,u){var d=zt(l);switch(mu(d[0])){case"<?xml":break;case"<workbook":l.match(KJe)&&(i="xmlns"+l.match(/<(\w+):/)[1]),r.xmlns=d[i];break;case"</workbook>":break;case"<fileVersion":delete d[0],r.AppVersion=d;break;case"<fileVersion/>":case"</fileVersion>":break;case"<fileSharing":break;case"<fileSharing/>":break;case"<workbookPr":case"<workbookPr/>":LD.forEach(function(f){if(d[f[0]]!=null)switch(f[2]){case"bool":r.WBProps[f[0]]=$n(d[f[0]]);break;case"int":r.WBProps[f[0]]=parseInt(d[f[0]],10);break;default:r.WBProps[f[0]]=d[f[0]]}}),d.codeName&&(r.WBProps.CodeName=En(d.codeName));break;case"</workbookPr>":break;case"<workbookProtection":break;case"<workbookProtection/>":break;case"<bookViews":case"<bookViews>":case"</bookViews>":break;case"<workbookView":case"<workbookView/>":delete d[0],r.WBView.push(d);break;case"</workbookView>":break;case"<sheets":case"<sheets>":case"</sheets>":break;case"<sheet":switch(d.state){case"hidden":d.Hidden=1;break;case"veryHidden":d.Hidden=2;break;default:d.Hidden=0}delete d.state,d.name=Ar(En(d.name)),delete d[0],r.Sheets.push(d);break;case"</sheet>":break;case"<functionGroups":case"<functionGroups/>":break;case"<functionGroup":break;case"<externalReferences":case"</externalReferences>":case"<externalReferences>":break;case"<externalReference":break;case"<definedNames/>":break;case"<definedNames>":case"<definedNames":n=!0;break;case"</definedNames>":n=!1;break;case"<definedName":s={},s.Name=En(d.name),d.comment&&(s.Comment=d.comment),d.localSheetId&&(s.Sheet=+d.localSheetId),$n(d.hidden||"0")&&(s.Hidden=!0),a=u+l.length;break;case"</definedName>":s.Ref=Ar(En(t.slice(a,u))),r.Names.push(s);break;case"<definedName/>":break;case"<calcPr":delete d[0],r.CalcPr=d;break;case"<calcPr/>":delete d[0],r.CalcPr=d;break;case"</calcPr>":break;case"<oleSize":break;case"<customWorkbookViews>":case"</customWorkbookViews>":case"<customWorkbookViews":break;case"<customWorkbookView":case"</customWorkbookView>":break;case"<pivotCaches>":case"</pivotCaches>":case"<pivotCaches":break;case"<pivotCache":break;case"<smartTagPr":case"<smartTagPr/>":break;case"<smartTagTypes":case"<smartTagTypes>":case"</smartTagTypes>":break;case"<smartTagType":break;case"<webPublishing":case"<webPublishing/>":break;case"<fileRecoveryPr":case"<fileRecoveryPr/>":break;case"<webPublishObjects>":case"<webPublishObjects":case"</webPublishObjects>":break;case"<webPublishObject":break;case"<extLst":case"<extLst>":case"</extLst>":case"<extLst/>":break;case"<ext":n=!0;break;case"</ext>":n=!1;break;case"<ArchID":break;case"<AlternateContent":case"<AlternateContent>":n=!0;break;case"</AlternateContent>":n=!1;break;case"<revisionPtr":break;default:if(!n&&e.WTF)throw new Error("unrecognized "+d[0]+" in workbook")}return l}),Tm.indexOf(r.xmlns)===-1)throw new Error("Unknown Namespace: "+r.xmlns);return yce(r),r}function bce(t){var e=[Bi];e[e.length]=it("workbook",null,{xmlns:Tm[0],"xmlns:r":gs.r});var r=t.Workbook&&(t.Workbook.Names||[]).length>0,n={codeName:"ThisWorkbook"};t.Workbook&&t.Workbook.WBProps&&(LD.forEach(function(o){t.Workbook.WBProps[o[0]]!=null&&t.Workbook.WBProps[o[0]]!=o[1]&&(n[o[0]]=t.Workbook.WBProps[o[0]])}),t.Workbook.WBProps.CodeName&&(n.codeName=t.Workbook.WBProps.CodeName,delete n.CodeName)),e[e.length]=it("workbookPr",null,n);var i=t.Workbook&&t.Workbook.Sheets||[],s=0;if(i&&i[0]&&i[0].Hidden){for(e[e.length]="<bookViews>",s=0;s!=t.SheetNames.length&&!(!i[s]||!i[s].Hidden);++s);s==t.SheetNames.length&&(s=0),e[e.length]='<workbookView firstSheet="'+s+'" activeTab="'+s+'"/>',e[e.length]="</bookViews>"}for(e[e.length]="<sheets>",s=0;s!=t.SheetNames.length;++s){var a={name:un(t.SheetNames[s].slice(0,31))};if(a.sheetId=""+(s+1),a["r:id"]="rId"+(s+1),i[s])switch(i[s].Hidden){case 1:a.state="hidden";break;case 2:a.state="veryHidden";break}e[e.length]=it("sheet",null,a)}return e[e.length]="</sheets>",r&&(e[e.length]="<definedNames>",t.Workbook&&t.Workbook.Names&&t.Workbook.Names.forEach(function(o){var l={name:o.Name};o.Comment&&(l.comment=o.Comment),o.Sheet!=null&&(l.localSheetId=""+o.Sheet),o.Hidden&&(l.hidden="1"),o.Ref&&(e[e.length]=it("definedName",un(o.Ref),l))}),e[e.length]="</definedNames>"),e.length>2&&(e[e.length]="</workbook>",e[1]=e[1].replace("/>",">")),e.join("")}function XJe(t,e){var r={};return r.Hidden=t.read_shift(4),r.iTabID=t.read_shift(4),r.strRelID=cO(t),r.name=Ia(t),r}function QJe(t,e){return e||(e=Le(127)),e.write_shift(4,t.Hidden),e.write_shift(4,t.iTabID),_D(t.strRelID,e),Bs(t.name.slice(0,31),e),e.length>e.l?e.slice(0,e.l):e}function JJe(t,e){var r={},n=t.read_shift(4);r.defaultThemeVersion=t.read_shift(4);var i=e>8?Ia(t):"";return i.length>0&&(r.CodeName=i),r.autoCompressPictures=!!(n&65536),r.backupFile=!!(n&64),r.checkCompatibility=!!(n&4096),r.date1904=!!(n&1),r.filterPrivacy=!!(n&8),r.hidePivotFieldList=!!(n&1024),r.promptedSolutions=!!(n&16),r.publishItems=!!(n&2048),r.refreshAllConnections=!!(n&262144),r.saveExternalLinkValues=!!(n&128),r.showBorderUnselectedTables=!!(n&4),r.showInkAnnotation=!!(n&32),r.showObjects=["all","placeholders","none"][n>>13&3],r.showPivotChartFilter=!!(n&32768),r.updateLinks=["userSet","never","always"][n>>8&3],r}function ZJe(t,e){e||(e=Le(72));var r=0;return t&&t.filterPrivacy&&(r|=8),e.write_shift(4,r),e.write_shift(4,0),dle(t&&t.CodeName||"ThisWorkbook",e),e.slice(0,e.l)}function eZe(t,e){var r={};return t.read_shift(4),r.ArchID=t.read_shift(4),t.l+=e-8,r}function tZe(t,e,r){var n=t.l+e;t.l+=4,t.l+=1;var i=t.read_shift(4),s=OHe(t),a=FXe(t,0,r),o=wD(t);t.l=n;var l={Name:s,Ptg:a};return i<268435455&&(l.Sheet=i),o&&(l.Comment=o),l}function rZe(t,e){var r={AppVersion:{},WBProps:{},WBView:[],Sheets:[],CalcPr:{},xmlns:""},n=[],i=!1;e||(e={}),e.biff=12;var s=[],a=[[]];return a.SheetNames=[],a.XTI=[],jx[16]={n:"BrtFRTArchID$",f:eZe},Md(t,function(l,u,d){switch(d){case 156:a.SheetNames.push(l.name),r.Sheets.push(l);break;case 153:r.WBProps=l;break;case 39:l.Sheet!=null&&(e.SID=l.Sheet),l.Ref=ba(l.Ptg,null,null,a,e),delete e.SID,delete l.Ptg,s.push(l);break;case 1036:break;case 357:case 358:case 355:case 667:a[0].length?a.push([d,l]):a[0]=[d,l],a[a.length-1].XTI=[];break;case 362:a.length===0&&(a[0]=[],a[0].XTI=[]),a[a.length-1].XTI=a[a.length-1].XTI.concat(l),a.XTI=a.XTI.concat(l);break;case 361:break;case 2071:case 158:case 143:case 664:case 353:break;case 3072:case 3073:case 534:case 677:case 157:case 610:case 2050:case 155:case 548:case 676:case 128:case 665:case 2128:case 2125:case 549:case 2053:case 596:case 2076:case 2075:case 2082:case 397:case 154:case 1117:case 553:case 2091:break;case 35:n.push(d),i=!0;break;case 36:n.pop(),i=!1;break;case 37:n.push(d),i=!0;break;case 38:n.pop(),i=!1;break;case 16:break;default:if(!u.T){if(!i||e.WTF&&n[n.length-1]!=37&&n[n.length-1]!=35)throw new Error("Unexpected record 0x"+d.toString(16))}}},e),yce(r),r.Names=s,r.supbooks=a,r}function nZe(t,e){He(t,143);for(var r=0;r!=e.SheetNames.length;++r){var n=e.Workbook&&e.Workbook.Sheets&&e.Workbook.Sheets[r]&&e.Workbook.Sheets[r].Hidden||0,i={Hidden:n,iTabID:r+1,strRelID:"rId"+(r+1),name:e.SheetNames[r]};He(t,156,QJe(i))}He(t,144)}function iZe(t,e){e||(e=Le(127));for(var r=0;r!=4;++r)e.write_shift(4,0);return Bs("SheetJS",e),Bs(FT.version,e),Bs(FT.version,e),Bs("7262",e),e.length>e.l?e.slice(0,e.l):e}function sZe(t,e){e||(e=Le(29)),e.write_shift(-4,0),e.write_shift(-4,460),e.write_shift(4,28800),e.write_shift(4,17600),e.write_shift(4,500),e.write_shift(4,t),e.write_shift(4,t);var r=120;return e.write_shift(1,r),e.length>e.l?e.slice(0,e.l):e}function aZe(t,e){if(!(!e.Workbook||!e.Workbook.Sheets)){for(var r=e.Workbook.Sheets,n=0,i=-1,s=-1;n<r.length;++n)!r[n]||!r[n].Hidden&&i==-1?i=n:r[n].Hidden==1&&s==-1&&(s=n);s>i||(He(t,135),He(t,158,sZe(i)),He(t,136))}}function oZe(t,e){var r=go();return He(r,131),He(r,128,iZe()),He(r,153,ZJe(t.Workbook&&t.Workbook.WBProps||null)),aZe(r,t),nZe(r,t),He(r,132),r.end()}function lZe(t,e,r){return e.slice(-4)===".bin"?rZe(t,r):YJe(t,r)}function cZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?TJe(t,n,r,i,s,a,o):tQe(t,n,r,i,s,a,o)}function uZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?VJe(t,n,r,i,s):FJe(t,n,r,i,s)}function dZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?fYe():mYe()}function hZe(t,e,r,n,i,s,a,o){return e.slice(-4)===".bin"?dYe():hYe()}function fZe(t,e,r,n){return e.slice(-4)===".bin"?lKe(t,r,n):XGe(t,r,n)}function mZe(t,e,r){return ece(t,r)}function pZe(t,e,r){return e.slice(-4)===".bin"?pGe(t,r):hGe(t,r)}function gZe(t,e,r){return e.slice(-4)===".bin"?aYe(t,r):QKe(t,r)}function vZe(t,e,r){return e.slice(-4)===".bin"?KKe(t):WKe(t)}function yZe(t,e,r,n){return r.slice(-4)===".bin"?YKe(t,e,r,n):void 0}function xZe(t,e,r){return e.slice(-4)===".bin"?$Ke(t,e,r):qKe(t,e,r)}function bZe(t,e,r){return(e.slice(-4)===".bin"?oZe:bce)(t)}function wZe(t,e,r,n,i){return(e.slice(-4)===".bin"?DJe:pce)(t,r,n,i)}function _Ze(t,e,r){return(e.slice(-4)===".bin"?yKe:Jle)(t,r)}function EZe(t,e,r){return(e.slice(-4)===".bin"?yGe:Hle)(t,r)}function TZe(t,e,r){return(e.slice(-4)===".bin"?oYe:nce)(t)}function SZe(t){return(t.slice(-4)===".bin"?HKe:tce)()}var wce=/([\w:]+)=((?:")([^"]*)(?:")|(?:')([^']*)(?:'))/g,_ce=/([\w:]+)=((?:")(?:[^"]*)(?:")|(?:')(?:[^']*)(?:'))/;function Gl(t,e){var r=t.split(/\s+/),n=[];if(n[0]=r[0],r.length===1)return n;var i=t.match(wce),s,a,o,l;if(i)for(l=0;l!=i.length;++l)s=i[l].match(_ce),(a=s[1].indexOf(":"))===-1?n[s[1]]=s[2].slice(1,s[2].length-1):(s[1].slice(0,6)==="xmlns:"?o="xmlns"+s[1].slice(6):o=s[1].slice(a+1),n[o]=s[2].slice(1,s[2].length-1));return n}function kZe(t){var e=t.split(/\s+/),r={};if(e.length===1)return r;var n=t.match(wce),i,s,a,o;if(n)for(o=0;o!=n.length;++o)i=n[o].match(_ce),(s=i[1].indexOf(":"))===-1?r[i[1]]=i[2].slice(1,i[2].length-1):(i[1].slice(0,6)==="xmlns:"?a="xmlns"+i[1].slice(6):a=i[1].slice(s+1),r[a]=i[2].slice(1,i[2].length-1));return r}var I1;function AZe(t,e){var r=I1[t]||Ar(t);return r==="General"?nm(e):Pl(r,e)}function CZe(t,e,r,n){var i=n;switch((r[0].match(/dt:dt="([\w.]+)"/)||["",""])[1]){case"boolean":i=$n(n);break;case"i2":case"int":i=parseInt(n,10);break;case"r4":case"float":i=parseFloat(n);break;case"date":case"dateTime.tz":i=Wn(n);break;case"i8":case"string":case"fixed":case"uuid":case"bin.base64":break;default:throw new Error("bad custprop:"+r[0])}t[Ar(e)]=i}function NZe(t,e,r){if(t.t!=="z"){if(!r||r.cellText!==!1)try{t.t==="e"?t.w=t.w||Ld[t.v]:e==="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Sx(t.v):t.w=nm(t.v):t.w=AZe(e||"General",t.v)}catch(s){if(r.WTF)throw s}try{var n=I1[e]||e||"General";if(r.cellNF&&(t.z=n),r.cellDates&&t.t=="n"&&Pv(n)){var i=T0(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}catch(s){if(r.WTF)throw s}}}function IZe(t,e,r){if(r.cellStyles&&e.Interior){var n=e.Interior;n.Pattern&&(n.patternType=zGe[n.Pattern]||n.Pattern)}t[e.ID]=e}function OZe(t,e,r,n,i,s,a,o,l,u){var d="General",f=n.StyleID,g={};u=u||{};var v=[],x=0;for(f===void 0&&o&&(f=o.StyleID),f===void 0&&a&&(f=a.StyleID);s[f]!==void 0&&(s[f].nf&&(d=s[f].nf),s[f].Interior&&v.push(s[f].Interior),!!s[f].Parent);)f=s[f].Parent;switch(r.Type){case"Boolean":n.t="b",n.v=$n(t);break;case"String":n.t="s",n.r=LG(Ar(t)),n.v=t.indexOf("<")>-1?Ar(e||t).replace(/<.*?>/g,""):n.r;break;case"DateTime":t.slice(-1)!="Z"&&(t+="Z"),n.v=(Wn(t)-new Date(Date.UTC(1899,11,30)))/(1440*60*1e3),n.v!==n.v?n.v=Ar(t):n.v<60&&(n.v=n.v-1),(!d||d=="General")&&(d="yyyy-mm-dd");case"Number":n.v===void 0&&(n.v=+t),n.t||(n.t="n");break;case"Error":n.t="e",n.v=gle[t],u.cellText!==!1&&(n.w=t);break;default:t==""&&e==""?n.t="z":(n.t="s",n.v=LG(e||t));break}if(NZe(n,d,u),u.cellFormula!==!1)if(n.Formula){var b=Ar(n.Formula);b.charCodeAt(0)==61&&(b=b.slice(1)),n.f=dg(b,i),delete n.Formula,n.ArrayRange=="RC"?n.F=dg("RC:RC",i):n.ArrayRange&&(n.F=dg(n.ArrayRange,i),l.push([Cr(n.F),n.F]))}else for(x=0;x<l.length;++x)i.r>=l[x][0].s.r&&i.r<=l[x][0].e.r&&i.c>=l[x][0].s.c&&i.c<=l[x][0].e.c&&(n.F=l[x][1]);u.cellStyles&&(v.forEach(function(w){!g.patternType&&w.patternType&&(g.patternType=w.patternType)}),n.s=g),n.StyleID!==void 0&&(n.ixfe=n.StyleID)}function RZe(t){t.t=t.v||"",t.t=t.t.replace(/\r\n/g,`
`).replace(/\r/g,`
`),t.v=t.w=t.ixfe=void 0}function h5(t,e){var r=e||{};jv();var n=r1(pD(t));(r.type=="binary"||r.type=="array"||r.type=="base64")&&(n=En(n));var i=n.slice(0,1024).toLowerCase(),s=!1;if(i=i.replace(/".*?"/g,""),(i.indexOf(">")&1023)>Math.min(i.indexOf(",")&1023,i.indexOf(";")&1023)){var a=Gn(r);return a.type="string",Jg.to_workbook(n,a)}if(i.indexOf("<?xml")==-1&&["html","table","head","meta","script","style","div"].forEach(function(rt){i.indexOf("<"+rt)>=0&&(s=!0)}),s)return yet(n,r);I1={"General Number":"General","General Date":Dt[22],"Long Date":"dddd, mmmm dd, yyyy","Medium Date":Dt[15],"Short Date":Dt[14],"Long Time":Dt[19],"Medium Time":Dt[18],"Short Time":Dt[20],Currency:'"$"#,##0.00_);[Red]\\("$"#,##0.00\\)',Fixed:Dt[2],Standard:Dt[4],Percent:Dt[10],Scientific:Dt[11],"Yes/No":'"Yes";"Yes";"No";@',"True/False":'"True";"True";"False";@',"On/Off":'"Yes";"Yes";"No";@'};var o,l=[],u,d={},f=[],g=r.dense?[]:{},v="",x={},b={},w=Gl('<Data ss:Type="String">'),E=0,k=0,A=0,O={s:{r:2e6,c:2e6},e:{r:0,c:0}},P={},j={},S="",I=0,R=[],D={},M={},L=0,U=[],le=[],ue={},J=[],Q,he=!1,Z=[],ge=[],H={},B=0,q=0,W={Sheets:[],WBProps:{date1904:!1}},Y={};Cx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"");for(var de="";o=Cx.exec(n);)switch(o[3]=(de=o[3]).toLowerCase()){case"data":if(de=="data"){if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break}if(l[l.length-1][1])break;o[1]==="/"?OZe(n.slice(E,o.index),S,w,l[l.length-1][0]=="comment"?ue:x,{c:k,r:A},P,J[k],b,Z,r):(S="",w=Gl(o[0]),E=o.index+o[0].length);break;case"cell":if(o[1]==="/")if(le.length>0&&(x.c=le),(!r.sheetRows||r.sheetRows>A)&&x.v!==void 0&&(r.dense?(g[A]||(g[A]=[]),g[A][k]=x):g[hi(k)+Fi(A)]=x),x.HRef&&(x.l={Target:Ar(x.HRef)},x.HRefScreenTip&&(x.l.Tooltip=x.HRefScreenTip),delete x.HRef,delete x.HRefScreenTip),(x.MergeAcross||x.MergeDown)&&(B=k+(parseInt(x.MergeAcross,10)|0),q=A+(parseInt(x.MergeDown,10)|0),R.push({s:{c:k,r:A},e:{c:B,r:q}})),!r.sheetStubs)x.MergeAcross?k=B+1:++k;else if(x.MergeAcross||x.MergeDown){for(var me=k;me<=B;++me)for(var ce=A;ce<=q;++ce)(me>k||ce>A)&&(r.dense?(g[ce]||(g[ce]=[]),g[ce][me]={t:"z"}):g[hi(me)+Fi(ce)]={t:"z"});k=B+1}else++k;else x=kZe(o[0]),x.Index&&(k=+x.Index-1),k<O.s.c&&(O.s.c=k),k>O.e.c&&(O.e.c=k),o[0].slice(-2)==="/>"&&++k,le=[];break;case"row":o[1]==="/"||o[0].slice(-2)==="/>"?(A<O.s.r&&(O.s.r=A),A>O.e.r&&(O.e.r=A),o[0].slice(-2)==="/>"&&(b=Gl(o[0]),b.Index&&(A=+b.Index-1)),k=0,++A):(b=Gl(o[0]),b.Index&&(A=+b.Index-1),H={},(b.AutoFitHeight=="0"||b.Height)&&(H.hpx=parseInt(b.Height,10),H.hpt=Px(H.hpx),ge[A]=H),b.Hidden=="1"&&(H.hidden=!0,ge[A]=H));break;case"worksheet":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));f.push(v),O.s.r<=O.e.r&&O.s.c<=O.e.c&&(g["!ref"]=tr(O),r.sheetRows&&r.sheetRows<=O.e.r&&(g["!fullref"]=g["!ref"],O.e.r=r.sheetRows-1,g["!ref"]=tr(O))),R.length&&(g["!merges"]=R),J.length>0&&(g["!cols"]=J),ge.length>0&&(g["!rows"]=ge),d[v]=g}else O={s:{r:2e6,c:2e6},e:{r:0,c:0}},A=k=0,l.push([o[3],!1]),u=Gl(o[0]),v=Ar(u.Name),g=r.dense?[]:{},R=[],Z=[],ge=[],Y={name:v,Hidden:0},W.Sheets.push(Y);break;case"table":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else{if(o[0].slice(-2)=="/>")break;l.push([o[3],!1]),J=[],he=!1}break;case"style":o[1]==="/"?IZe(P,j,r):j=Gl(o[0]);break;case"numberformat":j.nf=Ar(Gl(o[0]).Format||"General"),I1[j.nf]&&(j.nf=I1[j.nf]);for(var se=0;se!=392&&Dt[se]!=j.nf;++se);if(se==392){for(se=57;se!=392;++se)if(Dt[se]==null){ad(j.nf,se);break}}break;case"column":if(l[l.length-1][0]!=="table")break;if(Q=Gl(o[0]),Q.Hidden&&(Q.hidden=!0,delete Q.Hidden),Q.Width&&(Q.wpx=parseInt(Q.Width,10)),!he&&Q.wpx>10){he=!0,Ea=Xle;for(var ve=0;ve<J.length;++ve)J[ve]&&lf(J[ve])}he&&lf(Q),J[Q.Index-1||J.length]=Q;for(var Ve=0;Ve<+Q.Span;++Ve)J[J.length]=Gn(Q);break;case"namedrange":if(o[1]==="/")break;W.Names||(W.Names=[]);var G=zt(o[0]),Ze={Name:G.Name,Ref:dg(G.RefersTo.slice(1),{r:0,c:0})};W.Sheets.length>0&&(Ze.Sheet=W.Sheets.length-1),W.Names.push(Ze);break;case"namedcell":break;case"b":break;case"i":break;case"u":break;case"s":break;case"em":break;case"h2":break;case"h3":break;case"sub":break;case"sup":break;case"span":break;case"alignment":break;case"borders":break;case"border":break;case"font":if(o[0].slice(-2)==="/>")break;o[1]==="/"?S+=n.slice(I,o.index):I=o.index+o[0].length;break;case"interior":if(!r.cellStyles)break;j.Interior=Gl(o[0]);break;case"protection":break;case"author":case"title":case"description":case"created":case"keywords":case"subject":case"category":case"company":case"lastauthor":case"lastsaved":case"lastprinted":case"version":case"revision":case"totaltime":case"hyperlinkbase":case"manager":case"contentstatus":case"identifier":case"language":case"appname":if(o[0].slice(-2)==="/>")break;o[1]==="/"?rqe(D,de,n.slice(L,o.index)):L=o.index+o[0].length;break;case"paragraphs":break;case"styles":case"workbook":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else l.push([o[3],!1]);break;case"comment":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"));RZe(ue),le.push(ue)}else l.push([o[3],!1]),u=Gl(o[0]),ue={a:u.Author};break;case"autofilter":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else if(o[0].charAt(o[0].length-2)!=="/"){var Ie=Gl(o[0]);g["!autofilter"]={ref:dg(Ie.Range).replace(/\$/g,"")},l.push([o[3],!0])}break;case"name":break;case"datavalidation":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"pixelsperinch":break;case"componentoptions":case"documentproperties":case"customdocumentproperties":case"officedocumentsettings":case"pivottable":case"pivotcache":case"names":case"mapinfo":case"pagebreaks":case"querytable":case"sorting":case"schema":case"conditionalformatting":case"smarttagtype":case"smarttags":case"excelworkbook":case"workbookoptions":case"worksheetoptions":if(o[1]==="/"){if((u=l.pop())[0]!==o[3])throw new Error("Bad state: "+u.join("|"))}else o[0].charAt(o[0].length-2)!=="/"&&l.push([o[3],!0]);break;case"null":break;default:if(l.length==0&&o[3]=="document"||l.length==0&&o[3]=="uof")return SK(n,r);var tt=!0;switch(l[l.length-1][0]){case"officedocumentsettings":switch(o[3]){case"allowpng":break;case"removepersonalinformation":break;case"downloadcomponents":break;case"locationofcomponents":break;case"colors":break;case"color":break;case"index":break;case"rgb":break;case"targetscreensize":break;case"readonlyrecommended":break;default:tt=!1}break;case"componentoptions":switch(o[3]){case"toolbar":break;case"hideofficelogo":break;case"spreadsheetautofit":break;case"label":break;case"caption":break;case"maxheight":break;case"maxwidth":break;case"nextsheetnumber":break;default:tt=!1}break;case"excelworkbook":switch(o[3]){case"date1904":W.WBProps.date1904=!0;break;case"windowheight":break;case"windowwidth":break;case"windowtopx":break;case"windowtopy":break;case"tabratio":break;case"protectstructure":break;case"protectwindow":break;case"protectwindows":break;case"activesheet":break;case"displayinknotes":break;case"firstvisiblesheet":break;case"supbook":break;case"sheetname":break;case"sheetindex":break;case"sheetindexfirst":break;case"sheetindexlast":break;case"dll":break;case"acceptlabelsinformulas":break;case"donotsavelinkvalues":break;case"iteration":break;case"maxiterations":break;case"maxchange":break;case"path":break;case"xct":break;case"count":break;case"selectedsheets":break;case"calculation":break;case"uncalced":break;case"startupprompt":break;case"crn":break;case"externname":break;case"formula":break;case"colfirst":break;case"collast":break;case"wantadvise":break;case"boolean":break;case"error":break;case"text":break;case"ole":break;case"noautorecover":break;case"publishobjects":break;case"donotcalculatebeforesave":break;case"number":break;case"refmoder1c1":break;case"embedsavesmarttags":break;default:tt=!1}break;case"workbookoptions":switch(o[3]){case"owcversion":break;case"height":break;case"width":break;default:tt=!1}break;case"worksheetoptions":switch(o[3]){case"visible":if(o[0].slice(-2)!=="/>")if(o[1]==="/")switch(n.slice(L,o.index)){case"SheetHidden":Y.Hidden=1;break;case"SheetVeryHidden":Y.Hidden=2;break}else L=o.index+o[0].length;break;case"header":g["!margins"]||L0(g["!margins"]={},"xlml"),isNaN(+zt(o[0]).Margin)||(g["!margins"].header=+zt(o[0]).Margin);break;case"footer":g["!margins"]||L0(g["!margins"]={},"xlml"),isNaN(+zt(o[0]).Margin)||(g["!margins"].footer=+zt(o[0]).Margin);break;case"pagemargins":var Qe=zt(o[0]);g["!margins"]||L0(g["!margins"]={},"xlml"),isNaN(+Qe.Top)||(g["!margins"].top=+Qe.Top),isNaN(+Qe.Left)||(g["!margins"].left=+Qe.Left),isNaN(+Qe.Right)||(g["!margins"].right=+Qe.Right),isNaN(+Qe.Bottom)||(g["!margins"].bottom=+Qe.Bottom);break;case"displayrighttoleft":W.Views||(W.Views=[]),W.Views[0]||(W.Views[0]={}),W.Views[0].RTL=!0;break;case"freezepanes":break;case"frozennosplit":break;case"splithorizontal":case"splitvertical":break;case"donotdisplaygridlines":break;case"activerow":break;case"activecol":break;case"toprowbottompane":break;case"leftcolumnrightpane":break;case"unsynced":break;case"print":break;case"printerrors":break;case"panes":break;case"scale":break;case"pane":break;case"number":break;case"layout":break;case"pagesetup":break;case"selected":break;case"protectobjects":break;case"enableselection":break;case"protectscenarios":break;case"validprinterinfo":break;case"horizontalresolution":break;case"verticalresolution":break;case"numberofcopies":break;case"activepane":break;case"toprowvisible":break;case"leftcolumnvisible":break;case"fittopage":break;case"rangeselection":break;case"papersizeindex":break;case"pagelayoutzoom":break;case"pagebreakzoom":break;case"filteron":break;case"fitwidth":break;case"fitheight":break;case"commentslayout":break;case"zoom":break;case"lefttoright":break;case"gridlines":break;case"allowsort":break;case"allowfilter":break;case"allowinsertrows":break;case"allowdeleterows":break;case"allowinsertcols":break;case"allowdeletecols":break;case"allowinserthyperlinks":break;case"allowformatcells":break;case"allowsizecols":break;case"allowsizerows":break;case"nosummaryrowsbelowdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].above=!0;break;case"tabcolorindex":break;case"donotdisplayheadings":break;case"showpagelayoutzoom":break;case"nosummarycolumnsrightdetail":g["!outline"]||(g["!outline"]={}),g["!outline"].left=!0;break;case"blackandwhite":break;case"donotdisplayzeros":break;case"displaypagebreak":break;case"rowcolheadings":break;case"donotdisplayoutline":break;case"noorientation":break;case"allowusepivottables":break;case"zeroheight":break;case"viewablerange":break;case"selection":break;case"protectcontents":break;default:tt=!1}break;case"pivottable":case"pivotcache":switch(o[3]){case"immediateitemsondrop":break;case"showpagemultipleitemlabel":break;case"compactrowindent":break;case"location":break;case"pivotfield":break;case"orientation":break;case"layoutform":break;case"layoutsubtotallocation":break;case"layoutcompactrow":break;case"position":break;case"pivotitem":break;case"datatype":break;case"datafield":break;case"sourcename":break;case"parentfield":break;case"ptlineitems":break;case"ptlineitem":break;case"countofsameitems":break;case"item":break;case"itemtype":break;case"ptsource":break;case"cacheindex":break;case"consolidationreference":break;case"filename":break;case"reference":break;case"nocolumngrand":break;case"norowgrand":break;case"blanklineafteritems":break;case"hidden":break;case"subtotal":break;case"basefield":break;case"mapchilditems":break;case"function":break;case"refreshonfileopen":break;case"printsettitles":break;case"mergelabels":break;case"defaultversion":break;case"refreshname":break;case"refreshdate":break;case"refreshdatecopy":break;case"versionlastrefresh":break;case"versionlastupdate":break;case"versionupdateablemin":break;case"versionrefreshablemin":break;case"calculation":break;default:tt=!1}break;case"pagebreaks":switch(o[3]){case"colbreaks":break;case"colbreak":break;case"rowbreaks":break;case"rowbreak":break;case"colstart":break;case"colend":break;case"rowend":break;default:tt=!1}break;case"autofilter":switch(o[3]){case"autofiltercolumn":break;case"autofiltercondition":break;case"autofilterand":break;case"autofilteror":break;default:tt=!1}break;case"querytable":switch(o[3]){case"id":break;case"autoformatfont":break;case"autoformatpattern":break;case"querysource":break;case"querytype":break;case"enableredirections":break;case"refreshedinxl9":break;case"urlstring":break;case"htmltables":break;case"connection":break;case"commandtext":break;case"refreshinfo":break;case"notitles":break;case"nextid":break;case"columninfo":break;case"overwritecells":break;case"donotpromptforfile":break;case"textwizardsettings":break;case"source":break;case"number":break;case"decimal":break;case"thousandseparator":break;case"trailingminusnumbers":break;case"formatsettings":break;case"fieldtype":break;case"delimiters":break;case"tab":break;case"comma":break;case"autoformatname":break;case"versionlastedit":break;case"versionlastrefresh":break;default:tt=!1}break;case"datavalidation":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;case"cellrangelist":break;default:tt=!1}break;case"sorting":case"conditionalformatting":switch(o[3]){case"range":break;case"type":break;case"min":break;case"max":break;case"sort":break;case"descending":break;case"order":break;case"casesensitive":break;case"value":break;case"errorstyle":break;case"errormessage":break;case"errortitle":break;case"cellrangelist":break;case"inputmessage":break;case"inputtitle":break;case"combohide":break;case"inputhide":break;case"condition":break;case"qualifier":break;case"useblank":break;case"value1":break;case"value2":break;case"format":break;default:tt=!1}break;case"mapinfo":case"schema":case"data":switch(o[3]){case"map":break;case"entry":break;case"range":break;case"xpath":break;case"field":break;case"xsdtype":break;case"filteron":break;case"aggregate":break;case"elementtype":break;case"attributetype":break;case"schema":case"element":case"complextype":case"datatype":case"all":case"attribute":case"extends":break;case"row":break;default:tt=!1}break;case"smarttags":break;default:tt=!1;break}if(tt||o[3].match(/!\[CDATA/))break;if(!l[l.length-1][1])throw"Unrecognized tag: "+o[3]+"|"+l.join("|");if(l[l.length-1][0]==="customdocumentproperties"){if(o[0].slice(-2)==="/>")break;o[1]==="/"?CZe(M,de,U,n.slice(L,o.index)):(U=o,L=o.index+o[0].length);break}if(r.WTF)throw"Unrecognized tag: "+o[3]+"|"+l.join("|")}var je={};return!r.bookSheets&&!r.bookProps&&(je.Sheets=d),je.SheetNames=f,je.Workbook=W,je.SSF=Gn(Dt),je.Props=D,je.Custprops=M,je}function gO(t,e){switch(BD(e=e||{}),e.type||"base64"){case"base64":return h5(Xo(t),e);case"binary":case"buffer":case"file":return h5(t,e);case"array":return h5(Ef(t),e)}}function PZe(t,e){var r=[];return t.Props&&r.push(nqe(t.Props,e)),t.Custprops&&r.push(iqe(t.Props,t.Custprops)),r.join("")}function jZe(){return""}function DZe(t,e){var r=['<Style ss:ID="Default" ss:Name="Normal"><NumberFormat/></Style>'];return e.cellXfs.forEach(function(n,i){var s=[];s.push(it("NumberFormat",null,{"ss:Format":un(Dt[n.numFmtId])}));var a={"ss:ID":"s"+(21+i)};r.push(it("Style",s.join(""),a))}),it("Styles",r.join(""))}function Ece(t){return it("NamedRange",null,{"ss:Name":t.Name,"ss:RefersTo":"="+PD(t.Ref,{r:0,c:0})})}function MZe(t){if(!((t||{}).Workbook||{}).Names)return"";for(var e=t.Workbook.Names,r=[],n=0;n<e.length;++n){var i=e[n];i.Sheet==null&&(i.Name.match(/^_xlfn\./)||r.push(Ece(i)))}return it("Names",r.join(""))}function LZe(t,e,r,n){if(!t||!((n||{}).Workbook||{}).Names)return"";for(var i=n.Workbook.Names,s=[],a=0;a<i.length;++a){var o=i[a];o.Sheet==r&&(o.Name.match(/^_xlfn\./)||s.push(Ece(o)))}return s.join("")}function FZe(t,e,r,n){if(!t)return"";var i=[];if(t["!margins"]&&(i.push("<PageSetup>"),t["!margins"].header&&i.push(it("Header",null,{"x:Margin":t["!margins"].header})),t["!margins"].footer&&i.push(it("Footer",null,{"x:Margin":t["!margins"].footer})),i.push(it("PageMargins",null,{"x:Bottom":t["!margins"].bottom||"0.75","x:Left":t["!margins"].left||"0.7","x:Right":t["!margins"].right||"0.7","x:Top":t["!margins"].top||"0.75"})),i.push("</PageSetup>")),n&&n.Workbook&&n.Workbook.Sheets&&n.Workbook.Sheets[r])if(n.Workbook.Sheets[r].Hidden)i.push(it("Visible",n.Workbook.Sheets[r].Hidden==1?"SheetHidden":"SheetVeryHidden",{}));else{for(var s=0;s<r&&!(n.Workbook.Sheets[s]&&!n.Workbook.Sheets[s].Hidden);++s);s==r&&i.push("<Selected/>")}return((((n||{}).Workbook||{}).Views||[])[0]||{}).RTL&&i.push("<DisplayRightToLeft/>"),t["!protect"]&&(i.push(aa("ProtectContents","True")),t["!protect"].objects&&i.push(aa("ProtectObjects","True")),t["!protect"].scenarios&&i.push(aa("ProtectScenarios","True")),t["!protect"].selectLockedCells!=null&&!t["!protect"].selectLockedCells?i.push(aa("EnableSelection","NoSelection")):t["!protect"].selectUnlockedCells!=null&&!t["!protect"].selectUnlockedCells&&i.push(aa("EnableSelection","UnlockedCells")),[["formatCells","AllowFormatCells"],["formatColumns","AllowSizeCols"],["formatRows","AllowSizeRows"],["insertColumns","AllowInsertCols"],["insertRows","AllowInsertRows"],["insertHyperlinks","AllowInsertHyperlinks"],["deleteColumns","AllowDeleteCols"],["deleteRows","AllowDeleteRows"],["sort","AllowSort"],["autoFilter","AllowFilter"],["pivotTables","AllowUsePivotTables"]].forEach(function(a){t["!protect"][a[0]]&&i.push("<"+a[1]+"/>")})),i.length==0?"":it("WorksheetOptions",i.join(""),{xmlns:Po.x})}function BZe(t){return t.map(function(e){var r=aHe(e.t||""),n=it("ss:Data",r,{xmlns:"http://www.w3.org/TR/REC-html40"});return it("Comment",n,{"ss:Author":e.a})}).join("")}function VZe(t,e,r,n,i,s,a){if(!t||t.v==null&&t.f==null)return"";var o={};if(t.f&&(o["ss:Formula"]="="+un(PD(t.f,a))),t.F&&t.F.slice(0,e.length)==e){var l=fi(t.F.slice(e.length+1));o["ss:ArrayRange"]="RC:R"+(l.r==a.r?"":"["+(l.r-a.r)+"]")+"C"+(l.c==a.c?"":"["+(l.c-a.c)+"]")}if(t.l&&t.l.Target&&(o["ss:HRef"]=un(t.l.Target),t.l.Tooltip&&(o["x:HRefScreenTip"]=un(t.l.Tooltip))),r["!merges"])for(var u=r["!merges"],d=0;d!=u.length;++d)u[d].s.c!=a.c||u[d].s.r!=a.r||(u[d].e.c>u[d].s.c&&(o["ss:MergeAcross"]=u[d].e.c-u[d].s.c),u[d].e.r>u[d].s.r&&(o["ss:MergeDown"]=u[d].e.r-u[d].s.r));var f="",g="";switch(t.t){case"z":if(!n.sheetStubs)return"";break;case"n":f="Number",g=String(t.v);break;case"b":f="Boolean",g=t.v?"1":"0";break;case"e":f="Error",g=Ld[t.v];break;case"d":f="DateTime",g=new Date(t.v).toISOString(),t.z==null&&(t.z=t.z||Dt[14]);break;case"s":f="String",g=sHe(t.v||"");break}var v=Sf(n.cellXfs,t,n);o["ss:StyleID"]="s"+(21+v),o["ss:Index"]=a.c+1;var x=t.v!=null?g:"",b=t.t=="z"?"":'<Data ss:Type="'+f+'">'+x+"</Data>";return(t.c||[]).length>0&&(b+=BZe(t.c)),it("Cell",b,o)}function UZe(t,e){var r='<Row ss:Index="'+(t+1)+'"';return e&&(e.hpt&&!e.hpx&&(e.hpx=Zg(e.hpt)),e.hpx&&(r+=' ss:AutoFitHeight="0" ss:Height="'+e.hpx+'"'),e.hidden&&(r+=' ss:Hidden="1"')),r+">"}function zZe(t,e,r,n){if(!t["!ref"])return"";var i=Cr(t["!ref"]),s=t["!merges"]||[],a=0,o=[];t["!cols"]&&t["!cols"].forEach(function(w,E){lf(w);var k=!!w.width,A=hk(E,w),O={"ss:Index":E+1};k&&(O["ss:Width"]=Ox(A.width)),w.hidden&&(O["ss:Hidden"]="1"),o.push(it("Column",null,O))});for(var l=Array.isArray(t),u=i.s.r;u<=i.e.r;++u){for(var d=[UZe(u,(t["!rows"]||[])[u])],f=i.s.c;f<=i.e.c;++f){var g=!1;for(a=0;a!=s.length;++a)if(!(s[a].s.c>f)&&!(s[a].s.r>u)&&!(s[a].e.c<f)&&!(s[a].e.r<u)){(s[a].s.c!=f||s[a].s.r!=u)&&(g=!0);break}if(!g){var v={r:u,c:f},x=Ft(v),b=l?(t[u]||[])[f]:t[x];d.push(VZe(b,x,t,e,r,n,v))}}d.push("</Row>"),d.length>2&&o.push(d.join(""))}return o.join("")}function $Ze(t,e,r){var n=[],i=r.SheetNames[t],s=r.Sheets[i],a=s?LZe(s,e,t,r):"";return a.length>0&&n.push("<Names>"+a+"</Names>"),a=s?zZe(s,e,t,r):"",a.length>0&&n.push("<Table>"+a+"</Table>"),n.push(FZe(s,e,t,r)),n.join("")}function HZe(t,e){e||(e={}),t.SSF||(t.SSF=Gn(Dt)),t.SSF&&(jv(),sk(t.SSF),e.revssf=ok(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF,e.cellXfs=[],Sf(e.cellXfs,{},{revssf:{General:0}}));var r=[];r.push(PZe(t,e)),r.push(jZe()),r.push(""),r.push("");for(var n=0;n<t.SheetNames.length;++n)r.push(it("Worksheet",$Ze(n,e,t),{"ss:Name":un(t.SheetNames[n])}));return r[2]=DZe(t,e),r[3]=MZe(t),Bi+it("Workbook",r.join(""),{xmlns:Po.ss,"xmlns:o":Po.o,"xmlns:x":Po.x,"xmlns:ss":Po.ss,"xmlns:dt":Po.dt,"xmlns:html":Po.html})}function qZe(t){var e={},r=t.content;if(r.l=28,e.AnsiUserType=r.read_shift(0,"lpstr-ansi"),e.AnsiClipboardFormat=MHe(r),r.length-r.l<=4)return e;var n=r.read_shift(4);if(n==0||n>40||(r.l-=4,e.Reserved1=r.read_shift(0,"lpstr-ansi"),r.length-r.l<=4)||(n=r.read_shift(4),n!==1907505652)||(e.UnicodeClipboardFormat=LHe(r),n=r.read_shift(4),n==0||n>40))return e;r.l-=4,e.Reserved2=r.read_shift(0,"lpwstr")}var WZe=[60,1084,2066,2165,2175];function GZe(t,e,r,n,i){var s=n,a=[],o=r.slice(r.l,r.l+s);if(i&&i.enc&&i.enc.insitu&&o.length>0)switch(t){case 9:case 521:case 1033:case 2057:case 47:case 405:case 225:case 406:case 312:case 404:case 10:break;case 133:break;default:i.enc.insitu(o)}a.push(o),r.l+=s;for(var l=Xu(r,r.l),u=vO[l],d=0;u!=null&&WZe.indexOf(l)>-1;)s=Xu(r,r.l+2),d=r.l+4,l==2066?d+=4:(l==2165||l==2175)&&(d+=12),o=r.slice(d,r.l+4+s),a.push(o),r.l+=4+s,u=vO[l=Xu(r,r.l)];var f=Fs(a);na(f,0);var g=0;f.lens=[];for(var v=0;v<a.length;++v)f.lens.push(g),g+=a[v].length;if(f.length<n)throw"XLS Record 0x"+t.toString(16)+" Truncated: "+f.length+" < "+n;return e.f(f,f.length,i)}function Vc(t,e,r){if(t.t!=="z"&&t.XF){var n=0;try{n=t.z||t.XF.numFmtId||0,e.cellNF&&(t.z=Dt[n])}catch(s){if(e.WTF)throw s}if(!e||e.cellText!==!1)try{t.t==="e"?t.w=t.w||Ld[t.v]:n===0||n=="General"?t.t==="n"?(t.v|0)===t.v?t.w=t.v.toString(10):t.w=Sx(t.v):t.w=nm(t.v):t.w=Pl(n,t.v,{date1904:!!r,dateNF:e&&e.dateNF})}catch(s){if(e.WTF)throw s}if(e.cellDates&&n&&t.t=="n"&&Pv(Dt[n]||String(n))){var i=T0(t.v);i&&(t.t="d",t.v=new Date(i.y,i.m-1,i.d,i.H,i.M,i.S,i.u))}}}function d2(t,e,r){return{v:t,ixfe:e,t:r}}function KZe(t,e){var r={opts:{}},n={},i=e.dense?[]:{},s={},a={},o=null,l=[],u="",d={},f,g="",v,x,b,w,E={},k=[],A,O,P=[],j=[],S={Sheets:[],WBProps:{date1904:!1},Views:[{}]},I={},R=function(nt){return nt<8?j0[nt]:nt<64&&j[nt-8]||j0[nt]},D=function(nt,Pt,Gt){var rr=Pt.XF.data;if(!(!rr||!rr.patternType||!Gt||!Gt.cellStyles)){Pt.s={},Pt.s.patternType=rr.patternType;var br;(br=Ix(R(rr.icvFore)))&&(Pt.s.fgColor={rgb:br}),(br=Ix(R(rr.icvBack)))&&(Pt.s.bgColor={rgb:br})}},M=function(nt,Pt,Gt){if(!(H>1)&&!(Gt.sheetRows&&nt.r>=Gt.sheetRows)){if(Gt.cellStyles&&Pt.XF&&Pt.XF.data&&D(nt,Pt,Gt),delete Pt.ixfe,delete Pt.XF,f=nt,g=Ft(nt),(!a||!a.s||!a.e)&&(a={s:{r:0,c:0},e:{r:0,c:0}}),nt.r<a.s.r&&(a.s.r=nt.r),nt.c<a.s.c&&(a.s.c=nt.c),nt.r+1>a.e.r&&(a.e.r=nt.r+1),nt.c+1>a.e.c&&(a.e.c=nt.c+1),Gt.cellFormula&&Pt.f){for(var rr=0;rr<k.length;++rr)if(!(k[rr][0].s.c>nt.c||k[rr][0].s.r>nt.r)&&!(k[rr][0].e.c<nt.c||k[rr][0].e.r<nt.r)){Pt.F=tr(k[rr][0]),(k[rr][0].s.c!=nt.c||k[rr][0].s.r!=nt.r)&&delete Pt.f,Pt.f&&(Pt.f=""+ba(k[rr][1],a,nt,Z,L));break}}Gt.dense?(i[nt.r]||(i[nt.r]=[]),i[nt.r][nt.c]=Pt):i[g]=Pt}},L={enc:!1,sbcch:0,snames:[],sharedf:E,arrayf:k,rrtabid:[],lastuser:"",biff:8,codepage:0,winlocked:0,cellStyles:!!e&&!!e.cellStyles,WTF:!!e&&!!e.wtf};e.password&&(L.password=e.password);var U,le=[],ue=[],J=[],Q=[],he=!1,Z=[];Z.SheetNames=L.snames,Z.sharedf=L.sharedf,Z.arrayf=L.arrayf,Z.names=[],Z.XTI=[];var ge=0,H=0,B=0,q=[],W=[],Y;L.codepage=1200,oc(1200);for(var de=!1;t.l<t.length-1;){var me=t.l,ce=t.read_shift(2);if(ce===0&&ge===10)break;var se=t.l===t.length?0:t.read_shift(2),ve=vO[ce];if(ve&&ve.f){if(e.bookSheets&&ge===133&&ce!==133)break;if(ge=ce,ve.r===2||ve.r==12){var Ve=t.read_shift(2);if(se-=2,!L.enc&&Ve!==ce&&((Ve&255)<<8|Ve>>8)!==ce)throw new Error("rt mismatch: "+Ve+"!="+ce);ve.r==12&&(t.l+=10,se-=10)}var G={};if(ce===10?G=ve.f(t,se,L):G=GZe(ce,ve,t,se,L),H==0&&[9,521,1033,2057].indexOf(ge)===-1)continue;switch(ce){case 34:r.opts.Date1904=S.WBProps.date1904=G;break;case 134:r.opts.WriteProtect=!0;break;case 47:if(L.enc||(t.l=0),L.enc=G,!e.password)throw new Error("File is password-protected");if(G.valid==null)throw new Error("Encryption scheme unsupported");if(!G.valid)throw new Error("Password is incorrect");break;case 92:L.lastuser=G;break;case 66:var Ze=Number(G);switch(Ze){case 21010:Ze=1200;break;case 32768:Ze=1e4;break;case 32769:Ze=1252;break}oc(L.codepage=Ze),de=!0;break;case 317:L.rrtabid=G;break;case 25:L.winlocked=G;break;case 439:r.opts.RefreshAll=G;break;case 12:r.opts.CalcCount=G;break;case 16:r.opts.CalcDelta=G;break;case 17:r.opts.CalcIter=G;break;case 13:r.opts.CalcMode=G;break;case 14:r.opts.CalcPrecision=G;break;case 95:r.opts.CalcSaveRecalc=G;break;case 15:L.CalcRefMode=G;break;case 2211:r.opts.FullCalc=G;break;case 129:G.fDialog&&(i["!type"]="dialog"),G.fBelow||((i["!outline"]||(i["!outline"]={})).above=!0),G.fRight||((i["!outline"]||(i["!outline"]={})).left=!0);break;case 224:P.push(G);break;case 430:Z.push([G]),Z[Z.length-1].XTI=[];break;case 35:case 547:Z[Z.length-1].push(G);break;case 24:case 536:Y={Name:G.Name,Ref:ba(G.rgce,a,null,Z,L)},G.itab>0&&(Y.Sheet=G.itab-1),Z.names.push(Y),Z[0]||(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].push(G),G.Name=="_xlnm._FilterDatabase"&&G.itab>0&&G.rgce&&G.rgce[0]&&G.rgce[0][0]&&G.rgce[0][0][0]=="PtgArea3d"&&(W[G.itab-1]={ref:tr(G.rgce[0][0][1][2])});break;case 22:L.ExternCount=G;break;case 23:Z.length==0&&(Z[0]=[],Z[0].XTI=[]),Z[Z.length-1].XTI=Z[Z.length-1].XTI.concat(G),Z.XTI=Z.XTI.concat(G);break;case 2196:if(L.biff<8)break;Y!=null&&(Y.Comment=G[1]);break;case 18:i["!protect"]=G;break;case 19:G!==0&&L.WTF&&console.error("Password verifier: "+G);break;case 133:s[G.pos]=G,L.snames.push(G.name);break;case 10:{if(--H)break;if(a.e){if(a.e.r>0&&a.e.c>0){if(a.e.r--,a.e.c--,i["!ref"]=tr(a),e.sheetRows&&e.sheetRows<=a.e.r){var Ie=a.e.r;a.e.r=e.sheetRows-1,i["!fullref"]=i["!ref"],i["!ref"]=tr(a),a.e.r=Ie}a.e.r++,a.e.c++}le.length>0&&(i["!merges"]=le),ue.length>0&&(i["!objects"]=ue),J.length>0&&(i["!cols"]=J),Q.length>0&&(i["!rows"]=Q),S.Sheets.push(I)}u===""?d=i:n[u]=i,i=e.dense?[]:{}}break;case 9:case 521:case 1033:case 2057:{if(L.biff===8&&(L.biff={9:2,521:3,1033:4}[ce]||{512:2,768:3,1024:4,1280:5,1536:8,2:2,7:2}[G.BIFFVer]||8),L.biffguess=G.BIFFVer==0,G.BIFFVer==0&&G.dt==4096&&(L.biff=5,de=!0,oc(L.codepage=28591)),L.biff==8&&G.BIFFVer==0&&G.dt==16&&(L.biff=2),H++)break;if(i=e.dense?[]:{},L.biff<8&&!de&&(de=!0,oc(L.codepage=e.codepage||1252)),L.biff<5||G.BIFFVer==0&&G.dt==4096){u===""&&(u="Sheet1"),a={s:{r:0,c:0},e:{r:0,c:0}};var tt={pos:t.l-se,name:u};s[tt.pos]=tt,L.snames.push(u)}else u=(s[me]||{name:""}).name;G.dt==32&&(i["!type"]="chart"),G.dt==64&&(i["!type"]="macro"),le=[],ue=[],L.arrayf=k=[],J=[],Q=[],he=!1,I={Hidden:(s[me]||{hs:0}).hs,name:u}}break;case 515:case 3:case 2:i["!type"]=="chart"&&(e.dense?(i[G.r]||[])[G.c]:i[Ft({c:G.c,r:G.r})])&&++G.c,A={ixfe:G.ixfe,XF:P[G.ixfe]||{},v:G.val,t:"n"},B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 5:case 517:A={ixfe:G.ixfe,XF:P[G.ixfe],v:G.val,t:G.t},B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 638:A={ixfe:G.ixfe,XF:P[G.ixfe],v:G.rknum,t:"n"},B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 189:for(var Qe=G.c;Qe<=G.C;++Qe){var je=G.rkrec[Qe-G.c][0];A={ixfe:je,XF:P[je],v:G.rkrec[Qe-G.c][1],t:"n"},B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:Qe,r:G.r},A,e)}break;case 6:case 518:case 1030:{if(G.val=="String"){o=G;break}if(A=d2(G.val,G.cell.ixfe,G.tt),A.XF=P[A.ixfe],e.cellFormula){var rt=G.formula;if(rt&&rt[0]&&rt[0][0]&&rt[0][0][0]=="PtgExp"){var vt=rt[0][0][1][0],It=rt[0][0][1][1],Xr=Ft({r:vt,c:It});E[Xr]?A.f=""+ba(G.formula,a,G.cell,Z,L):A.F=((e.dense?(i[vt]||[])[It]:i[Xr])||{}).F}else A.f=""+ba(G.formula,a,G.cell,Z,L)}B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M(G.cell,A,e),o=G}break;case 7:case 519:if(o)o.val=G,A=d2(G,o.cell.ixfe,"s"),A.XF=P[A.ixfe],e.cellFormula&&(A.f=""+ba(o.formula,a,o.cell,Z,L)),B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M(o.cell,A,e),o=null;else throw new Error("String record expects Formula");break;case 33:case 545:{k.push(G);var qr=Ft(G[0].s);if(v=e.dense?(i[G[0].s.r]||[])[G[0].s.c]:i[qr],e.cellFormula&&v){if(!o||!qr||!v)break;v.f=""+ba(G[1],a,G[0],Z,L),v.F=tr(G[0])}}break;case 1212:{if(!e.cellFormula)break;if(g){if(!o)break;E[Ft(o.cell)]=G[0],v=e.dense?(i[o.cell.r]||[])[o.cell.c]:i[Ft(o.cell)],(v||{}).f=""+ba(G[0],a,f,Z,L)}}break;case 253:A=d2(l[G.isst].t,G.ixfe,"s"),l[G.isst].h&&(A.h=l[G.isst].h),A.XF=P[A.ixfe],B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 513:e.sheetStubs&&(A={ixfe:G.ixfe,XF:P[G.ixfe],t:"z"},B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e));break;case 190:if(e.sheetStubs)for(var Mr=G.c;Mr<=G.C;++Mr){var Wt=G.ixfe[Mr-G.c];A={ixfe:Wt,XF:P[Wt],t:"z"},B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:Mr,r:G.r},A,e)}break;case 214:case 516:case 4:A=d2(G.val,G.ixfe,"s"),A.XF=P[A.ixfe],B>0&&(A.z=q[A.ixfe>>8&63]),Vc(A,e,r.opts.Date1904),M({c:G.c,r:G.r},A,e);break;case 0:case 512:H===1&&(a=G);break;case 252:l=G;break;case 1054:if(L.biff==4){q[B++]=G[1];for(var Tr=0;Tr<B+163&&Dt[Tr]!=G[1];++Tr);Tr>=163&&ad(G[1],B+163)}else ad(G[1],G[0]);break;case 30:{q[B++]=G;for(var Sn=0;Sn<B+163&&Dt[Sn]!=G;++Sn);Sn>=163&&ad(G,B+163)}break;case 229:le=le.concat(G);break;case 93:ue[G.cmo[0]]=L.lastobj=G;break;case 438:L.lastobj.TxO=G;break;case 127:L.lastobj.ImData=G;break;case 440:for(w=G[0].s.r;w<=G[0].e.r;++w)for(b=G[0].s.c;b<=G[0].e.c;++b)v=e.dense?(i[w]||[])[b]:i[Ft({c:b,r:w})],v&&(v.l=G[1]);break;case 2048:for(w=G[0].s.r;w<=G[0].e.r;++w)for(b=G[0].s.c;b<=G[0].e.c;++b)v=e.dense?(i[w]||[])[b]:i[Ft({c:b,r:w})],v&&v.l&&(v.l.Tooltip=G[1]);break;case 28:{if(L.biff<=5&&L.biff>=2)break;v=e.dense?(i[G[0].r]||[])[G[0].c]:i[Ft(G[0])];var pi=ue[G[2]];v||(e.dense?(i[G[0].r]||(i[G[0].r]=[]),v=i[G[0].r][G[0].c]={t:"z"}):v=i[Ft(G[0])]={t:"z"},a.e.r=Math.max(a.e.r,G[0].r),a.s.r=Math.min(a.s.r,G[0].r),a.e.c=Math.max(a.e.c,G[0].c),a.s.c=Math.min(a.s.c,G[0].c)),v.c||(v.c=[]),x={a:G[1],t:pi.TxO.t},v.c.push(x)}break;case 2173:DKe(P[G.ixfe],G.ext);break;case 125:{if(!L.cellStyles)break;for(;G.e>=G.s;)J[G.e--]={width:G.w/256,level:G.level||0,hidden:!!(G.flags&1)},he||(he=!0,ID(G.w/256)),lf(J[G.e+1])}break;case 520:{var xe={};G.level!=null&&(Q[G.r]=xe,xe.level=G.level),G.hidden&&(Q[G.r]=xe,xe.hidden=!0),G.hpt&&(Q[G.r]=xe,xe.hpt=G.hpt,xe.hpx=Zg(G.hpt))}break;case 38:case 39:case 40:case 41:i["!margins"]||L0(i["!margins"]={}),i["!margins"][{38:"left",39:"right",40:"top",41:"bottom"}[ce]]=G;break;case 161:i["!margins"]||L0(i["!margins"]={}),i["!margins"].header=G.header,i["!margins"].footer=G.footer;break;case 574:G.RTL&&(S.Views[0].RTL=!0);break;case 146:j=G;break;case 2198:U=G;break;case 140:O=G;break;case 442:u?I.CodeName=G||I.name:S.WBProps.CodeName=G||"ThisWorkbook";break}}else ve||console.error("Missing Info for XLS Record 0x"+ce.toString(16)),t.l+=se}return r.SheetNames=Ai(s).sort(function(Ke,nt){return Number(Ke)-Number(nt)}).map(function(Ke){return s[Ke].name}),e.bookSheets||(r.Sheets=n),!r.SheetNames.length&&d["!ref"]?(r.SheetNames.push("Sheet1"),r.Sheets&&(r.Sheets.Sheet1=d)):r.Preamble=d,r.Sheets&&W.forEach(function(Ke,nt){r.Sheets[r.SheetNames[nt]]["!autofilter"]=Ke}),r.Strings=l,r.SSF=Gn(Dt),L.enc&&(r.Encryption=L.enc),U&&(r.Themes=U),r.Metadata={},O!==void 0&&(r.Metadata.Country=O),Z.names.length>0&&(S.Names=Z.names),r.Workbook=S,r}var O1={SI:"e0859ff2f94f6810ab9108002b27b3d9",DSI:"02d5cdd59c2e1b10939708002b2cf9ae",UDI:"05d5cdd59c2e1b10939708002b2cf9ae"};function YZe(t,e,r){var n=Nt.find(t,"/!DocumentSummaryInformation");if(n&&n.size>0)try{var i=tK(n,uO,O1.DSI);for(var s in i)e[s]=i[s]}catch(u){if(r.WTF)throw u}var a=Nt.find(t,"/!SummaryInformation");if(a&&a.size>0)try{var o=tK(a,dO,O1.SI);for(var l in o)e[l]==null&&(e[l]=o[l])}catch(u){if(r.WTF)throw u}e.HeadingPairs&&e.TitlesOfParts&&(_le(e.HeadingPairs,e.TitlesOfParts,e,r),delete e.HeadingPairs,delete e.TitlesOfParts)}function XZe(t,e){var r=[],n=[],i=[],s=0,a,o=OG(uO,"n"),l=OG(dO,"n");if(t.Props)for(a=Ai(t.Props),s=0;s<a.length;++s)(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Props[a[s]]]);if(t.Custprops)for(a=Ai(t.Custprops),s=0;s<a.length;++s)Object.prototype.hasOwnProperty.call(t.Props||{},a[s])||(Object.prototype.hasOwnProperty.call(o,a[s])?r:Object.prototype.hasOwnProperty.call(l,a[s])?n:i).push([a[s],t.Custprops[a[s]]]);var u=[];for(s=0;s<i.length;++s)Nle.indexOf(i[s][0])>-1||wle.indexOf(i[s][0])>-1||i[s][1]!=null&&u.push(i[s]);n.length&&Nt.utils.cfb_add(e,"/SummaryInformation",rK(n,O1.SI,l,dO)),(r.length||u.length)&&Nt.utils.cfb_add(e,"/DocumentSummaryInformation",rK(r,O1.DSI,o,uO,u.length?u:null,O1.UDI))}function Tce(t,e){e||(e={}),BD(e),aD(),e.codepage&&sD(e.codepage);var r,n;if(t.FullPaths){if(Nt.find(t,"/encryption"))throw new Error("File is password-protected");r=Nt.find(t,"!CompObj"),n=Nt.find(t,"/Workbook")||Nt.find(t,"/Book")}else{switch(e.type){case"base64":t=Bo(Xo(t));break;case"binary":t=Bo(t);break;case"buffer":break;case"array":Array.isArray(t)||(t=Array.prototype.slice.call(t));break}na(t,0),n={content:t}}var i,s;if(r&&qZe(r),e.bookProps&&!e.bookSheets)i={};else{var a=lr?"buffer":"array";if(n&&n.content)i=KZe(n.content,e);else if((s=Nt.find(t,"PerfectOffice_MAIN"))&&s.content)i=M0.to_workbook(s.content,(e.type=a,e));else if((s=Nt.find(t,"NativeContent_MAIN"))&&s.content)i=M0.to_workbook(s.content,(e.type=a,e));else throw(s=Nt.find(t,"MN0"))&&s.content?new Error("Unsupported Works 4 for Mac file"):new Error("Cannot find Workbook stream");e.bookVBA&&t.FullPaths&&Nt.find(t,"/_VBA_PROJECT_CUR/VBA/dir")&&(i.vbaraw=cYe(t))}var o={};return t.FullPaths&&YZe(t,o,e),i.Props=i.Custprops=o,e.bookFiles&&(i.cfb=t),i}function QZe(t,e){var r=e||{},n=Nt.utils.cfb_new({root:"R"}),i="/Workbook";switch(r.bookType||"xls"){case"xls":r.bookType="biff8";case"xla":r.bookType||(r.bookType="xla");case"biff8":i="/Workbook",r.biff=8;break;case"biff5":i="/Book",r.biff=5;break;default:throw new Error("invalid type "+r.bookType+" for XLS CFB")}return Nt.utils.cfb_add(n,i,Sce(t,r)),r.biff==8&&(t.Props||t.Custprops)&&XZe(t,n),r.biff==8&&t.vbaraw&&uYe(n,Nt.read(t.vbaraw,{type:typeof t.vbaraw=="string"?"binary":"buffer"})),n}var jx={0:{f:wQe},1:{f:NQe},2:{f:KQe},3:{f:LQe},4:{f:PQe},5:{f:qQe},6:{f:ZQe},7:{f:UQe},8:{f:aJe},9:{f:sJe},10:{f:nJe},11:{f:iJe},12:{f:OQe},13:{f:XQe},14:{f:BQe},15:{f:DQe},16:{f:gce},17:{f:tJe},18:{f:$Qe},19:{f:bD},20:{},21:{},22:{},23:{},24:{},25:{},26:{},27:{},28:{},29:{},30:{},31:{},32:{},33:{},34:{},35:{T:1},36:{T:-1},37:{T:1},38:{T:-1},39:{f:tZe},40:{},42:{},43:{f:ZGe},44:{f:QGe},45:{f:rKe},46:{f:iKe},47:{f:nKe},48:{},49:{f:THe},50:{},51:{f:FKe},52:{T:1},53:{T:-1},54:{T:1},55:{T:-1},56:{T:1},57:{T:-1},58:{},59:{},60:{f:Vle},62:{f:JQe},63:{f:GKe},64:{f:_Je},65:{},66:{},67:{},68:{},69:{},70:{},128:{},129:{T:1},130:{T:-1},131:{T:1,f:Ra,p:0},132:{T:-1},133:{T:1},134:{T:-1},135:{T:1},136:{T:-1},137:{T:1,f:yJe},138:{T:-1},139:{T:1},140:{T:-1},141:{T:1},142:{T:-1},143:{T:1},144:{T:-1},145:{T:1},146:{T:-1},147:{f:AQe},148:{f:TQe,p:16},151:{f:hJe},152:{},153:{f:JJe},154:{},155:{},156:{f:XJe},157:{},158:{},159:{T:1,f:mGe},160:{T:-1},161:{T:1,f:Cm},162:{T:-1},163:{T:1},164:{T:-1},165:{T:1},166:{T:-1},167:{},168:{},169:{},170:{},171:{},172:{T:1},173:{T:-1},174:{},175:{},176:{f:oJe},177:{T:1},178:{T:-1},179:{T:1},180:{T:-1},181:{T:1},182:{T:-1},183:{T:1},184:{T:-1},185:{T:1},186:{T:-1},187:{T:1},188:{T:-1},189:{T:1},190:{T:-1},191:{T:1},192:{T:-1},193:{T:1},194:{T:-1},195:{T:1},196:{T:-1},197:{T:1},198:{T:-1},199:{T:1},200:{T:-1},201:{T:1},202:{T:-1},203:{T:1},204:{T:-1},205:{T:1},206:{T:-1},207:{T:1},208:{T:-1},209:{T:1},210:{T:-1},211:{T:1},212:{T:-1},213:{T:1},214:{T:-1},215:{T:1},216:{T:-1},217:{T:1},218:{T:-1},219:{T:1},220:{T:-1},221:{T:1},222:{T:-1},223:{T:1},224:{T:-1},225:{T:1},226:{T:-1},227:{T:1},228:{T:-1},229:{T:1},230:{T:-1},231:{T:1},232:{T:-1},233:{T:1},234:{T:-1},235:{T:1},236:{T:-1},237:{T:1},238:{T:-1},239:{T:1},240:{T:-1},241:{T:1},242:{T:-1},243:{T:1},244:{T:-1},245:{T:1},246:{T:-1},247:{T:1},248:{T:-1},249:{T:1},250:{T:-1},251:{T:1},252:{T:-1},253:{T:1},254:{T:-1},255:{T:1},256:{T:-1},257:{T:1},258:{T:-1},259:{T:1},260:{T:-1},261:{T:1},262:{T:-1},263:{T:1},264:{T:-1},265:{T:1},266:{T:-1},267:{T:1},268:{T:-1},269:{T:1},270:{T:-1},271:{T:1},272:{T:-1},273:{T:1},274:{T:-1},275:{T:1},276:{T:-1},277:{},278:{T:1},279:{T:-1},280:{T:1},281:{T:-1},282:{T:1},283:{T:1},284:{T:-1},285:{T:1},286:{T:-1},287:{T:1},288:{T:-1},289:{T:1},290:{T:-1},291:{T:1},292:{T:-1},293:{T:1},294:{T:-1},295:{T:1},296:{T:-1},297:{T:1},298:{T:-1},299:{T:1},300:{T:-1},301:{T:1},302:{T:-1},303:{T:1},304:{T:-1},305:{T:1},306:{T:-1},307:{T:1},308:{T:-1},309:{T:1},310:{T:-1},311:{T:1},312:{T:-1},313:{T:-1},314:{T:1},315:{T:-1},316:{T:1},317:{T:-1},318:{T:1},319:{T:-1},320:{T:1},321:{T:-1},322:{T:1},323:{T:-1},324:{T:1},325:{T:-1},326:{T:1},327:{T:-1},328:{T:1},329:{T:-1},330:{T:1},331:{T:-1},332:{T:1},333:{T:-1},334:{T:1},335:{f:MKe},336:{T:-1},337:{f:UKe,T:1},338:{T:-1},339:{T:1},340:{T:-1},341:{T:1},342:{T:-1},343:{T:1},344:{T:-1},345:{T:1},346:{T:-1},347:{T:1},348:{T:-1},349:{T:1},350:{T:-1},351:{},352:{},353:{T:1},354:{T:-1},355:{f:cO},357:{},358:{},359:{},360:{T:1},361:{},362:{f:Ble},363:{},364:{},366:{},367:{},368:{},369:{},370:{},371:{},372:{T:1},373:{T:-1},374:{T:1},375:{T:-1},376:{T:1},377:{T:-1},378:{T:1},379:{T:-1},380:{T:1},381:{T:-1},382:{T:1},383:{T:-1},384:{T:1},385:{T:-1},386:{T:1},387:{T:-1},388:{T:1},389:{T:-1},390:{T:1},391:{T:-1},392:{T:1},393:{T:-1},394:{T:1},395:{T:-1},396:{},397:{},398:{},399:{},400:{},401:{T:1},403:{},404:{},405:{},406:{},407:{},408:{},409:{},410:{},411:{},412:{},413:{},414:{},415:{},416:{},417:{},418:{},419:{},420:{},421:{},422:{T:1},423:{T:1},424:{T:-1},425:{T:-1},426:{f:fJe},427:{f:mJe},428:{},429:{T:1},430:{T:-1},431:{T:1},432:{T:-1},433:{T:1},434:{T:-1},435:{T:1},436:{T:-1},437:{T:1},438:{T:-1},439:{T:1},440:{T:-1},441:{T:1},442:{T:-1},443:{T:1},444:{T:-1},445:{T:1},446:{T:-1},447:{T:1},448:{T:-1},449:{T:1},450:{T:-1},451:{T:1},452:{T:-1},453:{T:1},454:{T:-1},455:{T:1},456:{T:-1},457:{T:1},458:{T:-1},459:{T:1},460:{T:-1},461:{T:1},462:{T:-1},463:{T:1},464:{T:-1},465:{T:1},466:{T:-1},467:{T:1},468:{T:-1},469:{T:1},470:{T:-1},471:{},472:{},473:{T:1},474:{T:-1},475:{},476:{f:gJe},477:{},478:{},479:{T:1},480:{T:-1},481:{T:1},482:{T:-1},483:{T:1},484:{T:-1},485:{f:kQe},486:{T:1},487:{T:-1},488:{T:1},489:{T:-1},490:{T:1},491:{T:-1},492:{T:1},493:{T:-1},494:{f:uJe},495:{T:1},496:{T:-1},497:{T:1},498:{T:-1},499:{},500:{T:1},501:{T:-1},502:{T:1},503:{T:-1},504:{},505:{T:1},506:{T:-1},507:{},508:{T:1},509:{T:-1},510:{T:1},511:{T:-1},512:{},513:{},514:{T:1},515:{T:-1},516:{T:1},517:{T:-1},518:{T:1},519:{T:-1},520:{T:1},521:{T:-1},522:{},523:{},524:{},525:{},526:{},527:{},528:{T:1},529:{T:-1},530:{T:1},531:{T:-1},532:{T:1},533:{T:-1},534:{},535:{},536:{},537:{},538:{T:1},539:{T:-1},540:{T:1},541:{T:-1},542:{T:1},548:{},549:{},550:{f:cO},551:{},552:{},553:{},554:{T:1},555:{T:-1},556:{T:1},557:{T:-1},558:{T:1},559:{T:-1},560:{T:1},561:{T:-1},562:{},564:{},565:{T:1},566:{T:-1},569:{T:1},570:{T:-1},572:{},573:{T:1},574:{T:-1},577:{},578:{},579:{},580:{},581:{},582:{},583:{},584:{},585:{},586:{},587:{},588:{T:-1},589:{},590:{T:1},591:{T:-1},592:{T:1},593:{T:-1},594:{T:1},595:{T:-1},596:{},597:{T:1},598:{T:-1},599:{T:1},600:{T:-1},601:{T:1},602:{T:-1},603:{T:1},604:{T:-1},605:{T:1},606:{T:-1},607:{},608:{T:1},609:{T:-1},610:{},611:{T:1},612:{T:-1},613:{T:1},614:{T:-1},615:{T:1},616:{T:-1},617:{T:1},618:{T:-1},619:{T:1},620:{T:-1},625:{},626:{T:1},627:{T:-1},628:{T:1},629:{T:-1},630:{T:1},631:{T:-1},632:{f:iYe},633:{T:1},634:{T:-1},635:{T:1,f:rYe},636:{T:-1},637:{f:CHe},638:{T:1},639:{},640:{T:-1},641:{T:1},642:{T:-1},643:{T:1},644:{},645:{T:-1},646:{T:1},648:{T:1},649:{},650:{T:-1},651:{f:BJe},652:{},653:{T:1},654:{T:-1},655:{T:1},656:{T:-1},657:{T:1},658:{T:-1},659:{},660:{T:1},661:{},662:{T:-1},663:{},664:{T:1},665:{},666:{T:-1},667:{},668:{},669:{},671:{T:1},672:{T:-1},673:{T:1},674:{T:-1},675:{},676:{},677:{},678:{},679:{},680:{},681:{},1024:{},1025:{},1026:{T:1},1027:{T:-1},1028:{T:1},1029:{T:-1},1030:{},1031:{T:1},1032:{T:-1},1033:{T:1},1034:{T:-1},1035:{},1036:{},1037:{},1038:{T:1},1039:{T:-1},1040:{},1041:{T:1},1042:{T:-1},1043:{},1044:{},1045:{},1046:{T:1},1047:{T:-1},1048:{T:1},1049:{T:-1},1050:{},1051:{T:1},1052:{T:1},1053:{f:EJe},1054:{T:1},1055:{},1056:{T:1},1057:{T:-1},1058:{T:1},1059:{T:-1},1061:{},1062:{T:1},1063:{T:-1},1064:{T:1},1065:{T:-1},1066:{T:1},1067:{T:-1},1068:{T:1},1069:{T:-1},1070:{T:1},1071:{T:-1},1072:{T:1},1073:{T:-1},1075:{T:1},1076:{T:-1},1077:{T:1},1078:{T:-1},1079:{T:1},1080:{T:-1},1081:{T:1},1082:{T:-1},1083:{T:1},1084:{T:-1},1085:{},1086:{T:1},1087:{T:-1},1088:{T:1},1089:{T:-1},1090:{T:1},1091:{T:-1},1092:{T:1},1093:{T:-1},1094:{T:1},1095:{T:-1},1096:{},1097:{T:1},1098:{},1099:{T:-1},1100:{T:1},1101:{T:-1},1102:{},1103:{},1104:{},1105:{},1111:{},1112:{},1113:{T:1},1114:{T:-1},1115:{T:1},1116:{T:-1},1117:{},1118:{T:1},1119:{T:-1},1120:{T:1},1121:{T:-1},1122:{T:1},1123:{T:-1},1124:{T:1},1125:{T:-1},1126:{},1128:{T:1},1129:{T:-1},1130:{},1131:{T:1},1132:{T:-1},1133:{T:1},1134:{T:-1},1135:{T:1},1136:{T:-1},1137:{T:1},1138:{T:-1},1139:{T:1},1140:{T:-1},1141:{},1142:{T:1},1143:{T:-1},1144:{T:1},1145:{T:-1},1146:{},1147:{T:1},1148:{T:-1},1149:{T:1},1150:{T:-1},1152:{T:1},1153:{T:-1},1154:{T:-1},1155:{T:-1},1156:{T:-1},1157:{T:1},1158:{T:-1},1159:{T:1},1160:{T:-1},1161:{T:1},1162:{T:-1},1163:{T:1},1164:{T:-1},1165:{T:1},1166:{T:-1},1167:{T:1},1168:{T:-1},1169:{T:1},1170:{T:-1},1171:{},1172:{T:1},1173:{T:-1},1177:{},1178:{T:1},1180:{},1181:{},1182:{},2048:{T:1},2049:{T:-1},2050:{},2051:{T:1},2052:{T:-1},2053:{},2054:{},2055:{T:1},2056:{T:-1},2057:{T:1},2058:{T:-1},2060:{},2067:{},2068:{T:1},2069:{T:-1},2070:{},2071:{},2072:{T:1},2073:{T:-1},2075:{},2076:{},2077:{T:1},2078:{T:-1},2079:{},2080:{T:1},2081:{T:-1},2082:{},2083:{T:1},2084:{T:-1},2085:{T:1},2086:{T:-1},2087:{T:1},2088:{T:-1},2089:{T:1},2090:{T:-1},2091:{},2092:{},2093:{T:1},2094:{T:-1},2095:{},2096:{T:1},2097:{T:-1},2098:{T:1},2099:{T:-1},2100:{T:1},2101:{T:-1},2102:{},2103:{T:1},2104:{T:-1},2105:{},2106:{T:1},2107:{T:-1},2108:{},2109:{T:1},2110:{T:-1},2111:{T:1},2112:{T:-1},2113:{T:1},2114:{T:-1},2115:{},2116:{},2117:{},2118:{T:1},2119:{T:-1},2120:{},2121:{T:1},2122:{T:-1},2123:{T:1},2124:{T:-1},2125:{},2126:{T:1},2127:{T:-1},2128:{},2129:{T:1},2130:{T:-1},2131:{T:1},2132:{T:-1},2133:{T:1},2134:{},2135:{},2136:{},2137:{T:1},2138:{T:-1},2139:{T:1},2140:{T:-1},2141:{},3072:{},3073:{},4096:{T:1},4097:{T:-1},5002:{T:1},5003:{T:-1},5081:{T:1},5082:{T:-1},5083:{},5084:{T:1},5085:{T:-1},5086:{T:1},5087:{T:-1},5088:{},5089:{},5090:{},5092:{T:1},5093:{T:-1},5094:{},5095:{T:1},5096:{T:-1},5097:{},5099:{},65535:{n:""}},vO={6:{f:u5},10:{f:gh},12:{f:Zi},13:{f:Zi},14:{f:Pi},15:{f:Pi},16:{f:Ta},17:{f:Pi},18:{f:Pi},19:{f:Zi},20:{f:lK},21:{f:lK},23:{f:Ble},24:{f:uK},25:{f:Pi},26:{},27:{},28:{f:EWe},29:{},34:{f:Pi},35:{f:cK},38:{f:Ta},39:{f:Ta},40:{f:Ta},41:{f:Ta},42:{f:Pi},43:{f:Pi},47:{f:DGe},49:{f:Xqe},51:{f:Zi},60:{},61:{f:qqe},64:{f:Pi},65:{f:Yqe},66:{f:Zi},77:{},80:{},81:{},82:{},85:{f:Zi},89:{},90:{},91:{},92:{f:jqe},93:{f:kWe},94:{},95:{f:Pi},96:{},97:{},99:{f:Pi},125:{f:Vle},128:{f:dWe},129:{f:Mqe},130:{f:Zi},131:{f:Pi},132:{f:Pi},133:{f:Lqe},134:{},140:{f:jWe},141:{f:Zi},144:{},146:{f:LWe},151:{},152:{},153:{},154:{},155:{},156:{f:Zi},157:{},158:{},160:{f:HWe},161:{f:VWe},174:{},175:{},176:{},177:{},178:{},180:{},181:{},182:{},184:{},185:{},189:{f:oWe},190:{f:lWe},193:{f:gh},197:{},198:{},199:{},200:{},201:{},202:{f:Pi},203:{},204:{},205:{},206:{},207:{},208:{},209:{},210:{},211:{},213:{},215:{},216:{},217:{},218:{f:Zi},220:{},221:{f:Pi},222:{},224:{f:uWe},225:{f:Pqe},226:{f:gh},227:{},229:{f:TWe},233:{},235:{},236:{},237:{},239:{},240:{},241:{},242:{},244:{},245:{},246:{},247:{},248:{},249:{},251:{},252:{f:Bqe},253:{f:Jqe},255:{f:Uqe},256:{},259:{},290:{},311:{},312:{},315:{},317:{f:Ile},318:{},319:{},320:{},330:{},331:{},333:{},334:{},335:{},336:{},337:{},338:{},339:{},340:{},351:{},352:{f:Pi},353:{f:gh},401:{},402:{},403:{},404:{},405:{},406:{},407:{},408:{},425:{},426:{},427:{},428:{},429:{},430:{f:gWe},431:{f:Pi},432:{},433:{},434:{},437:{},438:{f:NWe},439:{f:Pi},440:{f:IWe},441:{},442:{f:Bb},443:{},444:{f:Zi},445:{},446:{},448:{f:gh},449:{f:Hqe,r:2},450:{f:gh},512:{f:sK},513:{f:$We},515:{f:mWe},516:{f:eWe},517:{f:oK},519:{f:qWe},520:{f:zqe},523:{},545:{f:dK},549:{f:iK},566:{},574:{f:Gqe},638:{f:aWe},659:{},1048:{},1054:{f:rWe},1084:{},1212:{f:bWe},2048:{f:RWe},2049:{},2050:{},2051:{},2052:{},2053:{},2054:{},2055:{},2056:{},2057:{f:l2},2058:{},2059:{},2060:{},2061:{},2062:{},2063:{},2064:{},2066:{},2067:{},2128:{},2129:{},2130:{},2131:{},2132:{},2133:{},2134:{},2135:{},2136:{},2137:{},2138:{},2146:{},2147:{r:12},2148:{},2149:{},2150:{},2151:{f:gh},2152:{},2154:{},2155:{},2156:{},2161:{},2162:{},2164:{},2165:{},2166:{},2167:{},2168:{},2169:{},2170:{},2171:{},2172:{f:FWe,r:12},2173:{f:jKe,r:12},2174:{},2175:{},2180:{},2181:{},2182:{},2183:{},2184:{},2185:{},2186:{},2187:{},2188:{f:Pi,r:12},2189:{},2190:{r:12},2191:{},2192:{},2194:{},2195:{},2196:{f:xWe,r:12},2197:{},2198:{f:CKe,r:12},2199:{},2200:{},2201:{},2202:{f:wWe,r:12},2203:{f:gh},2204:{},2205:{},2206:{},2207:{},2211:{f:$qe},2212:{},2213:{},2214:{},2215:{},4097:{},4098:{},4099:{},4102:{},4103:{},4105:{},4106:{},4107:{},4108:{},4109:{},4116:{},4117:{},4118:{},4119:{},4120:{},4121:{},4122:{},4123:{},4124:{},4125:{},4126:{},4127:{},4128:{},4129:{},4130:{},4132:{},4133:{},4134:{f:Zi},4135:{},4146:{},4147:{},4148:{},4149:{},4154:{},4156:{},4157:{},4158:{},4159:{},4160:{},4161:{},4163:{},4164:{f:UWe},4165:{},4166:{},4168:{},4170:{},4171:{},4174:{},4175:{},4176:{},4177:{},4187:{},4188:{f:MWe},4189:{},4191:{},4192:{},4193:{},4194:{},4195:{},4196:{},4197:{},4198:{},4199:{},4200:{},0:{f:sK},1:{},2:{f:XWe},3:{f:KWe},4:{f:GWe},5:{f:oK},7:{f:JWe},8:{},9:{f:l2},11:{},22:{f:Zi},30:{f:iWe},31:{},32:{},33:{f:dK},36:{},37:{f:iK},50:{f:ZWe},62:{},52:{},67:{},68:{f:Zi},69:{},86:{},126:{},127:{f:WWe},135:{},136:{},137:{},145:{},148:{},149:{},150:{},169:{},171:{},188:{},191:{},192:{},194:{},195:{},214:{f:eGe},223:{},234:{},354:{},421:{},518:{f:u5},521:{f:l2},536:{f:uK},547:{f:cK},561:{},579:{},1030:{f:u5},1033:{f:l2},1091:{},2157:{},2163:{},2177:{},2240:{},2241:{},2242:{},2243:{},2244:{},2245:{},2246:{},2247:{},2248:{},2249:{},2250:{},2251:{},2262:{r:12},29282:{}};function at(t,e,r,n){var i=e;if(!isNaN(i)){var s=n||(r||[]).length||0,a=t.next(4);a.write_shift(2,i),a.write_shift(2,s),s>0&&vD(r)&&t.push(r)}}function JZe(t,e,r,n){var i=(r||[]).length||0;if(i<=8224)return at(t,e,r,i);var s=e;if(!isNaN(s)){for(var a=r.parts||[],o=0,l=0,u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;var d=t.next(4);for(d.write_shift(2,s),d.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u;l<i;){for(d=t.next(4),d.write_shift(2,60),u=0;u+(a[o]||8224)<=8224;)u+=a[o]||8224,o++;d.write_shift(2,u),t.push(r.slice(l,l+u)),l+=u}}}function $b(t,e,r){return t||(t=Le(7)),t.write_shift(2,e),t.write_shift(2,r),t.write_shift(2,0),t.write_shift(1,0),t}function ZZe(t,e,r,n){var i=Le(9);return $b(i,t,e),Ole(r,n||"b",i),i}function eet(t,e,r){var n=Le(8+2*r.length);return $b(n,t,e),n.write_shift(1,r.length),n.write_shift(r.length,r,"sbcs"),n.l<n.length?n.slice(0,n.l):n}function tet(t,e,r,n){if(e.v!=null)switch(e.t){case"d":case"n":var i=e.t=="d"?ys(Wn(e.v)):e.v;i==(i|0)&&i>=0&&i<65536?at(t,2,QWe(r,n,i)):at(t,3,YWe(r,n,i));return;case"b":case"e":at(t,5,ZZe(r,n,e.v,e.t));return;case"s":case"str":at(t,4,eet(r,n,(e.v||"").slice(0,255)));return}at(t,1,$b(null,r,n))}function ret(t,e,r,n){var i=Array.isArray(e),s=Cr(e["!ref"]||"A1"),a,o="",l=[];if(s.e.c>255||s.e.r>16383){if(n.WTF)throw new Error("Range "+(e["!ref"]||"A1")+" exceeds format limit A1:IV16384");s.e.c=Math.min(s.e.c,255),s.e.r=Math.min(s.e.c,16383),a=tr(s)}for(var u=s.s.r;u<=s.e.r;++u){o=Fi(u);for(var d=s.s.c;d<=s.e.c;++d){u===s.s.r&&(l[d]=hi(d)),a=l[d]+o;var f=i?(e[u]||[])[d]:e[a];f&&tet(t,f,u,d)}}}function net(t,e){for(var r=e||{},n=go(),i=0,s=0;s<t.SheetNames.length;++s)t.SheetNames[s]==r.sheet&&(i=s);if(i==0&&r.sheet&&t.SheetNames[0]!=r.sheet)throw new Error("Sheet not found: "+r.sheet);return at(n,r.biff==4?1033:r.biff==3?521:9,AD(t,16,r)),ret(n,t.Sheets[t.SheetNames[i]],i,r),at(n,10),n.end()}function iet(t,e,r){at(t,49,Qqe({sz:12,name:"Arial"},r))}function set(t,e,r){e&&[[5,8],[23,26],[41,44],[50,392]].forEach(function(n){for(var i=n[0];i<=n[1];++i)e[i]!=null&&at(t,1054,nWe(i,e[i],r))})}function aet(t,e){var r=Le(19);r.write_shift(4,2151),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,1),r.write_shift(4,0),at(t,2151,r),r=Le(39),r.write_shift(4,2152),r.write_shift(4,0),r.write_shift(4,0),r.write_shift(2,3),r.write_shift(1,0),r.write_shift(4,0),r.write_shift(2,1),r.write_shift(4,4),r.write_shift(2,0),Mle(Cr(e["!ref"]||"A1"),r),r.write_shift(4,4),at(t,2152,r)}function oet(t,e){for(var r=0;r<16;++r)at(t,224,aK({numFmtId:0,style:!0},0,e));e.cellXfs.forEach(function(n){at(t,224,aK(n,0,e))})}function cet(t,e){for(var r=0;r<e["!links"].length;++r){var n=e["!links"][r];at(t,440,OWe(n)),n[1].Tooltip&&at(t,2048,PWe(n))}delete e["!links"]}function uet(t,e){if(e){var r=0;e.forEach(function(n,i){++r<=256&&n&&at(t,125,BWe(hk(i,n),i))})}}function det(t,e,r,n,i){var s=16+Sf(i.cellXfs,e,i);if(e.v==null&&!e.bf){at(t,513,om(r,n,s));return}if(e.bf)at(t,6,MXe(e,r,n,i,s));else switch(e.t){case"d":case"n":var a=e.t=="d"?ys(Wn(e.v)):e.v;at(t,515,pWe(r,n,a,s));break;case"b":case"e":at(t,517,fWe(r,n,e.v,s,i,e.t));break;case"s":case"str":if(i.bookSST){var o=DD(i.Strings,e.v,i.revStrings);at(t,253,Zqe(r,n,o,s))}else at(t,516,tWe(r,n,(e.v||"").slice(0,255),s,i));break;default:at(t,513,om(r,n,s))}}function het(t,e,r){var n=go(),i=r.SheetNames[t],s=r.Sheets[i]||{},a=(r||{}).Workbook||{},o=(a.Sheets||[])[t]||{},l=Array.isArray(s),u=e.biff==8,d,f="",g=[],v=Cr(s["!ref"]||"A1"),x=u?65536:16384;if(v.e.c>255||v.e.r>=x){if(e.WTF)throw new Error("Range "+(s["!ref"]||"A1")+" exceeds format limit A1:IV16384");v.e.c=Math.min(v.e.c,255),v.e.r=Math.min(v.e.c,x-1)}at(n,2057,AD(r,16,e)),at(n,13,wl(1)),at(n,12,wl(100)),at(n,15,Va(!0)),at(n,17,Va(!1)),at(n,16,sm(.001)),at(n,95,Va(!0)),at(n,42,Va(!1)),at(n,43,Va(!1)),at(n,130,wl(1)),at(n,128,hWe()),at(n,131,Va(!1)),at(n,132,Va(!1)),u&&uet(n,s["!cols"]),at(n,512,sWe(v,e)),u&&(s["!links"]=[]);for(var b=v.s.r;b<=v.e.r;++b){f=Fi(b);for(var w=v.s.c;w<=v.e.c;++w){b===v.s.r&&(g[w]=hi(w)),d=g[w]+f;var E=l?(s[b]||[])[w]:s[d];E&&(det(n,E,b,w,e),u&&E.l&&s["!links"].push([d,E.l]))}}var k=o.CodeName||o.name||i;return u&&at(n,574,Kqe((a.Views||[])[0])),u&&(s["!merges"]||[]).length&&at(n,229,SWe(s["!merges"])),u&&cet(n,s),at(n,442,Rle(k)),u&&aet(n,s),at(n,10),n.end()}function fet(t,e,r){var n=go(),i=(t||{}).Workbook||{},s=i.Sheets||[],a=i.WBProps||{},o=r.biff==8,l=r.biff==5;if(at(n,2057,AD(t,5,r)),r.bookType=="xla"&&at(n,135),at(n,225,o?wl(1200):null),at(n,193,fqe(2)),l&&at(n,191),l&&at(n,192),at(n,226),at(n,92,Dqe("SheetJS",r)),at(n,66,wl(o?1200:1252)),o&&at(n,353,wl(0)),o&&at(n,448),at(n,317,zWe(t.SheetNames.length)),o&&t.vbaraw&&at(n,211),o&&t.vbaraw){var u=a.CodeName||"ThisWorkbook";at(n,442,Rle(u))}at(n,156,wl(17)),at(n,25,Va(!1)),at(n,18,Va(!1)),at(n,19,wl(0)),o&&at(n,431,Va(!1)),o&&at(n,444,wl(0)),at(n,61,Wqe()),at(n,64,Va(!1)),at(n,141,wl(0)),at(n,34,Va(HJe(t)=="true")),at(n,14,Va(!0)),o&&at(n,439,Va(!1)),at(n,218,wl(0)),iet(n,t,r),set(n,t.SSF,r),oet(n,r),o&&at(n,352,Va(!1));var d=n.end(),f=go();o&&at(f,140,DWe()),o&&r.Strings&&JZe(f,252,Vqe(r.Strings)),at(f,10);var g=f.end(),v=go(),x=0,b=0;for(b=0;b<t.SheetNames.length;++b)x+=(o?12:11)+(o?2:1)*t.SheetNames[b].length;var w=d.length+x+g.length;for(b=0;b<t.SheetNames.length;++b){var E=s[b]||{};at(v,133,Fqe({pos:w,hs:E.Hidden||0,dt:0,name:t.SheetNames[b]},r)),w+=e[b].length}var k=v.end();if(x!=k.length)throw new Error("BS8 "+x+" != "+k.length);var A=[];return d.length&&A.push(d),k.length&&A.push(k),g.length&&A.push(g),Fs(A)}function met(t,e){var r=e||{},n=[];t&&!t.SSF&&(t.SSF=Gn(Dt)),t&&t.SSF&&(jv(),sk(t.SSF),r.revssf=ok(t.SSF),r.revssf[t.SSF[65535]]=0,r.ssf=t.SSF),r.Strings=[],r.Strings.Count=0,r.Strings.Unique=0,VD(r),r.cellXfs=[],Sf(r.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={});for(var i=0;i<t.SheetNames.length;++i)n[n.length]=het(i,r,t);return n.unshift(fet(t,n,r)),Fs(n)}function Sce(t,e){for(var r=0;r<=t.SheetNames.length;++r){var n=t.Sheets[t.SheetNames[r]];if(!(!n||!n["!ref"])){var i=xo(n["!ref"]);i.e.c>255&&typeof console<"u"&&console.error&&console.error("Worksheet '"+t.SheetNames[r]+"' extends beyond column IV (255).  Data may be lost.")}}var s=e||{};switch(s.biff||2){case 8:case 5:return met(t,e);case 4:case 3:case 2:return net(t,e)}throw new Error("invalid type "+s.bookType+" for BIFF")}function wK(t,e){var r=e||{},n=r.dense?[]:{};t=t.replace(/<!--.*?-->/g,"");var i=t.match(/<table/i);if(!i)throw new Error("Invalid HTML: could not find <table>");var s=t.match(/<\/table/i),a=i.index,o=s&&s.index||t.length,l=Q$e(t.slice(a,o),/(:?<tr[^>]*>)/i,"<tr>"),u=-1,d=0,f=0,g=0,v={s:{r:1e7,c:1e7},e:{r:0,c:0}},x=[];for(a=0;a<l.length;++a){var b=l[a].trim(),w=b.slice(0,3).toLowerCase();if(w=="<tr"){if(++u,r.sheetRows&&r.sheetRows<=u){--u;break}d=0;continue}if(!(w!="<td"&&w!="<th")){var E=b.split(/<\/t[dh]>/i);for(o=0;o<E.length;++o){var k=E[o].trim();if(k.match(/<t[dh]/i)){for(var A=k,O=0;A.charAt(0)=="<"&&(O=A.indexOf(">"))>-1;)A=A.slice(O+1);for(var P=0;P<x.length;++P){var j=x[P];j.s.c==d&&j.s.r<u&&u<=j.e.r&&(d=j.e.c+1,P=-1)}var S=zt(k.slice(0,k.indexOf(">")));g=S.colspan?+S.colspan:1,((f=+S.rowspan)>1||g>1)&&x.push({s:{r:u,c:d},e:{r:u+(f||1)-1,c:d+g-1}});var I=S.t||S["data-t"]||"";if(!A.length){d+=g;continue}if(A=Yoe(A),v.s.r>u&&(v.s.r=u),v.e.r<u&&(v.e.r=u),v.s.c>d&&(v.s.c=d),v.e.c<d&&(v.e.c=d),!A.length){d+=g;continue}var R={t:"s",v:A};r.raw||!A.trim().length||I=="s"||(A==="TRUE"?R={t:"b",v:!0}:A==="FALSE"?R={t:"b",v:!1}:isNaN(fc(A))?isNaN(Qg(A).getDate())||(R={t:"d",v:Wn(A)},r.cellDates||(R={t:"n",v:ys(R.v)}),R.z=r.dateNF||Dt[14]):R={t:"n",v:fc(A)}),r.dense?(n[u]||(n[u]=[]),n[u][d]=R):n[Ft({r:u,c:d})]=R,d+=g}}}}return n["!ref"]=tr(v),x.length&&(n["!merges"]=x),n}function pet(t,e,r,n){for(var i=t["!merges"]||[],s=[],a=e.s.c;a<=e.e.c;++a){for(var o=0,l=0,u=0;u<i.length;++u)if(!(i[u].s.r>r||i[u].s.c>a)&&!(i[u].e.r<r||i[u].e.c<a)){if(i[u].s.r<r||i[u].s.c<a){o=-1;break}o=i[u].e.r-i[u].s.r+1,l=i[u].e.c-i[u].s.c+1;break}if(!(o<0)){var d=Ft({r,c:a}),f=n.dense?(t[r]||[])[a]:t[d],g=f&&f.v!=null&&(f.h||mD(f.w||(Td(f),f.w)||""))||"",v={};o>1&&(v.rowspan=o),l>1&&(v.colspan=l),n.editable?g='<span contenteditable="true">'+g+"</span>":f&&(v["data-t"]=f&&f.t||"z",f.v!=null&&(v["data-v"]=f.v),f.z!=null&&(v["data-z"]=f.z),f.l&&(f.l.Target||"#").charAt(0)!="#"&&(g='<a href="'+f.l.Target+'">'+g+"</a>")),v.id=(n.id||"sjs")+"-"+d,s.push(it("td",g,v))}}var x="<tr>";return x+s.join("")+"</tr>"}var get='<html><head><meta charset="utf-8"/><title>SheetJS Table Export</title></head><body>',vet="</body></html>";function yet(t,e){var r=t.match(/<table[\s\S]*?>[\s\S]*?<\/table>/gi);if(!r||r.length==0)throw new Error("Invalid HTML: could not find <table>");if(r.length==1)return Tf(wK(r[0],e),e);var n=$D();return r.forEach(function(i,s){HD(n,wK(i,e),"Sheet"+(s+1))}),n}function xet(t,e,r){var n=[];return n.join("")+"<table"+(r&&r.id?' id="'+r.id+'"':"")+">"}function kce(t,e){var r=e||{},n=r.header!=null?r.header:get,i=r.footer!=null?r.footer:vet,s=[n],a=xo(t["!ref"]);r.dense=Array.isArray(t),s.push(xet(t,a,r));for(var o=a.s.r;o<=a.e.r;++o)s.push(pet(t,a,o,r));return s.push("</table>"+i),s.join("")}function Ace(t,e,r){var n=r||{},i=0,s=0;if(n.origin!=null)if(typeof n.origin=="number")i=n.origin;else{var a=typeof n.origin=="string"?fi(n.origin):n.origin;i=a.r,s=a.c}var o=e.getElementsByTagName("tr"),l=Math.min(n.sheetRows||1e7,o.length),u={s:{r:0,c:0},e:{r:i,c:s}};if(t["!ref"]){var d=xo(t["!ref"]);u.s.r=Math.min(u.s.r,d.s.r),u.s.c=Math.min(u.s.c,d.s.c),u.e.r=Math.max(u.e.r,d.e.r),u.e.c=Math.max(u.e.c,d.e.c),i==-1&&(u.e.r=i=d.e.r+1)}var f=[],g=0,v=t["!rows"]||(t["!rows"]=[]),x=0,b=0,w=0,E=0,k=0,A=0;for(t["!cols"]||(t["!cols"]=[]);x<o.length&&b<l;++x){var O=o[x];if(_K(O)){if(n.display)continue;v[b]={hidden:!0}}var P=O.children;for(w=E=0;w<P.length;++w){var j=P[w];if(!(n.display&&_K(j))){var S=j.hasAttribute("data-v")?j.getAttribute("data-v"):j.hasAttribute("v")?j.getAttribute("v"):Yoe(j.innerHTML),I=j.getAttribute("data-z")||j.getAttribute("z");for(g=0;g<f.length;++g){var R=f[g];R.s.c==E+s&&R.s.r<b+i&&b+i<=R.e.r&&(E=R.e.c+1-s,g=-1)}A=+j.getAttribute("colspan")||1,((k=+j.getAttribute("rowspan")||1)>1||A>1)&&f.push({s:{r:b+i,c:E+s},e:{r:b+i+(k||1)-1,c:E+s+(A||1)-1}});var D={t:"s",v:S},M=j.getAttribute("data-t")||j.getAttribute("t")||"";S!=null&&(S.length==0?D.t=M||"z":n.raw||S.trim().length==0||M=="s"||(S==="TRUE"?D={t:"b",v:!0}:S==="FALSE"?D={t:"b",v:!1}:isNaN(fc(S))?isNaN(Qg(S).getDate())||(D={t:"d",v:Wn(S)},n.cellDates||(D={t:"n",v:ys(D.v)}),D.z=n.dateNF||Dt[14]):D={t:"n",v:fc(S)})),D.z===void 0&&I!=null&&(D.z=I);var L="",U=j.getElementsByTagName("A");if(U&&U.length)for(var le=0;le<U.length&&!(U[le].hasAttribute("href")&&(L=U[le].getAttribute("href"),L.charAt(0)!="#"));++le);L&&L.charAt(0)!="#"&&(D.l={Target:L}),n.dense?(t[b+i]||(t[b+i]=[]),t[b+i][E+s]=D):t[Ft({c:E+s,r:b+i})]=D,u.e.c<E+s&&(u.e.c=E+s),E+=A}}++b}return f.length&&(t["!merges"]=(t["!merges"]||[]).concat(f)),u.e.r=Math.max(u.e.r,b-1+i),t["!ref"]=tr(u),b>=l&&(t["!fullref"]=tr((u.e.r=o.length-x+b-1+i,u))),t}function Cce(t,e){var r=e||{},n=r.dense?[]:{};return Ace(n,t,e)}function bet(t,e){return Tf(Cce(t,e),e)}function _K(t){var e="",r=wet(t);return r&&(e=r(t).getPropertyValue("display")),e||(e=t.style&&t.style.display),e==="none"}function wet(t){return t.ownerDocument.defaultView&&typeof t.ownerDocument.defaultView.getComputedStyle=="function"?t.ownerDocument.defaultView.getComputedStyle:typeof getComputedStyle=="function"?getComputedStyle:null}function _et(t){var e=t.replace(/[\t\r\n]/g," ").trim().replace(/ +/g," ").replace(/<text:s\/>/g," ").replace(/<text:s text:c="(\d+)"\/>/g,function(n,i){return Array(parseInt(i,10)+1).join(" ")}).replace(/<text:tab[^>]*\/>/g,"	").replace(/<text:line-break\/>/g,`
`),r=Ar(e.replace(/<[^>]*>/g,""));return[r]}var EK={day:["d","dd"],month:["m","mm"],year:["y","yy"],hours:["h","hh"],minutes:["m","mm"],seconds:["s","ss"],"am-pm":["A/P","AM/PM"],"day-of-week":["ddd","dddd"],era:["e","ee"],quarter:["\\Qm",'m\\"th quarter"']};function Nce(t,e){var r=e||{},n=pD(t),i=[],s,a,o={name:""},l="",u=0,d,f,g={},v=[],x=r.dense?[]:{},b,w,E={value:""},k="",A=0,O=[],P=-1,j=-1,S={s:{r:1e6,c:1e7},e:{r:0,c:0}},I=0,R={},D=[],M={},L=0,U=0,le=[],ue=1,J=1,Q=[],he={Names:[]},Z={},ge=["",""],H=[],B={},q="",W=0,Y=!1,de=!1,me=0;for(Cx.lastIndex=0,n=n.replace(/<!--([\s\S]*?)-->/mg,"").replace(/<!DOCTYPE[^\[]*\[[^\]]*\]>/gm,"");b=Cx.exec(n);)switch(b[3]=b[3].replace(/_.*$/,"")){case"table":case"":b[1]==="/"?(S.e.c>=S.s.c&&S.e.r>=S.s.r?x["!ref"]=tr(S):x["!ref"]="A1:A1",r.sheetRows>0&&r.sheetRows<=S.e.r&&(x["!fullref"]=x["!ref"],S.e.r=r.sheetRows-1,x["!ref"]=tr(S)),D.length&&(x["!merges"]=D),le.length&&(x["!rows"]=le),d.name=d.||d.name,typeof JSON<"u"&&JSON.stringify(d),v.push(d.name),g[d.name]=x,de=!1):b[0].charAt(b[0].length-2)!=="/"&&(d=zt(b[0],!1),P=j=-1,S.s.r=S.s.c=1e7,S.e.r=S.e.c=0,x=r.dense?[]:{},D=[],le=[],de=!0);break;case"table-row-group":b[1]==="/"?--I:++I;break;case"table-row":case"":if(b[1]==="/"){P+=ue,ue=1;break}if(f=zt(b[0],!1),f.?P=f.-1:P==-1&&(P=0),ue=+f["number-rows-repeated"]||1,ue<10)for(me=0;me<ue;++me)I>0&&(le[P+me]={level:I});j=-1;break;case"covered-table-cell":b[1]!=="/"&&++j,r.sheetStubs&&(r.dense?(x[P]||(x[P]=[]),x[P][j]={t:"z"}):x[Ft({r:P,c:j})]={t:"z"}),k="",O=[];break;case"table-cell":case"":if(b[0].charAt(b[0].length-2)==="/")++j,E=zt(b[0],!1),J=parseInt(E["number-columns-repeated"]||"1",10),w={t:"z",v:null},E.formula&&r.cellFormula!=!1&&(w.f=yK(Ar(E.formula))),(E.||E["value-type"])=="string"&&(w.t="s",w.v=Ar(E["string-value"]||""),r.dense?(x[P]||(x[P]=[]),x[P][j]=w):x[Ft({r:P,c:j})]=w),j+=J-1;else if(b[1]!=="/"){++j,k="",A=0,O=[],J=1;var ce=ue?P+ue-1:P;if(j>S.e.c&&(S.e.c=j),j<S.s.c&&(S.s.c=j),P<S.s.r&&(S.s.r=P),ce>S.e.r&&(S.e.r=ce),E=zt(b[0],!1),H=[],B={},w={t:E.||E["value-type"],v:null},r.cellFormula)if(E.formula&&(E.formula=Ar(E.formula)),E["number-matrix-columns-spanned"]&&E["number-matrix-rows-spanned"]&&(L=parseInt(E["number-matrix-rows-spanned"],10)||0,U=parseInt(E["number-matrix-columns-spanned"],10)||0,M={s:{r:P,c:j},e:{r:P+L-1,c:j+U-1}},w.F=tr(M),Q.push([M,w.F])),E.formula)w.f=yK(E.formula);else for(me=0;me<Q.length;++me)P>=Q[me][0].s.r&&P<=Q[me][0].e.r&&j>=Q[me][0].s.c&&j<=Q[me][0].e.c&&(w.F=Q[me][1]);switch((E["number-columns-spanned"]||E["number-rows-spanned"])&&(L=parseInt(E["number-rows-spanned"],10)||0,U=parseInt(E["number-columns-spanned"],10)||0,M={s:{r:P,c:j},e:{r:P+L-1,c:j+U-1}},D.push(M)),E["number-columns-repeated"]&&(J=parseInt(E["number-columns-repeated"],10)),w.t){case"boolean":w.t="b",w.v=$n(E["boolean-value"]);break;case"float":w.t="n",w.v=parseFloat(E.value);break;case"percentage":w.t="n",w.v=parseFloat(E.value);break;case"currency":w.t="n",w.v=parseFloat(E.value);break;case"date":w.t="d",w.v=Wn(E["date-value"]),r.cellDates||(w.t="n",w.v=ys(w.v)),w.z="m/d/yy";break;case"time":w.t="n",w.v=K$e(E["time-value"])/86400,r.cellDates&&(w.t="d",w.v=lk(w.v)),w.z="HH:MM:SS";break;case"number":w.t="n",w.v=parseFloat(E.);break;default:if(w.t==="string"||w.t==="text"||!w.t)w.t="s",E["string-value"]!=null&&(k=Ar(E["string-value"]),O=[]);else throw new Error("Unsupported value type "+w.t)}}else{if(Y=!1,w.t==="s"&&(w.v=k||"",O.length&&(w.R=O),Y=A==0),Z.Target&&(w.l=Z),H.length>0&&(w.c=H,H=[]),k&&r.cellText!==!1&&(w.w=k),Y&&(w.t="z",delete w.v),(!Y||r.sheetStubs)&&!(r.sheetRows&&r.sheetRows<=P))for(var se=0;se<ue;++se){if(J=parseInt(E["number-columns-repeated"]||"1",10),r.dense)for(x[P+se]||(x[P+se]=[]),x[P+se][j]=se==0?w:Gn(w);--J>0;)x[P+se][j+J]=Gn(w);else for(x[Ft({r:P+se,c:j})]=w;--J>0;)x[Ft({r:P+se,c:j+J})]=Gn(w);S.e.c<=j&&(S.e.c=j)}J=parseInt(E["number-columns-repeated"]||"1",10),j+=J-1,J=0,w={},k="",O=[]}Z={};break;case"document":case"document-content":case"":case"spreadsheet":case"":case"scripts":case"styles":case"font-face-decls":case"master-styles":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!0]);break;case"annotation":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s;B.t=k,O.length&&(B.R=O),B.a=q,H.push(B)}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);q="",W=0,k="",A=0,O=[];break;case"creator":b[1]==="/"?q=n.slice(W,b.index):W=b.index+b[0].length;break;case"meta":case"":case"settings":case"config-item-set":case"config-item-map-indexed":case"config-item-map-entry":case"config-item-map-named":case"shapes":case"frame":case"text-box":case"image":case"data-pilot-tables":case"list-style":case"form":case"dde-links":case"event-listeners":case"chart":if(b[1]==="/"){if((s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&i.push([b[3],!1]);k="",A=0,O=[];break;case"scientific-number":break;case"currency-symbol":break;case"currency-style":break;case"number-style":case"percentage-style":case"date-style":case"time-style":if(b[1]==="/"){if(R[o.name]=l,(s=i.pop())[0]!==b[3])throw"Bad state: "+s}else b[0].charAt(b[0].length-2)!=="/"&&(l="",o=zt(b[0],!1),i.push([b[3],!0]));break;case"script":break;case"libraries":break;case"automatic-styles":break;case"default-style":case"page-layout":break;case"style":break;case"map":break;case"font-face":break;case"paragraph-properties":break;case"table-properties":break;case"table-column-properties":break;case"table-row-properties":break;case"table-cell-properties":break;case"number":switch(i[i.length-1][0]){case"time-style":case"date-style":a=zt(b[0],!1),l+=EK[b[3]][a.style==="long"?1:0];break}break;case"fraction":break;case"day":case"month":case"year":case"era":case"day-of-week":case"week-of-year":case"quarter":case"hours":case"minutes":case"seconds":case"am-pm":switch(i[i.length-1][0]){case"time-style":case"date-style":a=zt(b[0],!1),l+=EK[b[3]][a.style==="long"?1:0];break}break;case"boolean-style":break;case"boolean":break;case"text-style":break;case"text":if(b[0].slice(-2)==="/>")break;if(b[1]==="/")switch(i[i.length-1][0]){case"number-style":case"date-style":case"time-style":l+=n.slice(u,b.index);break}else u=b.index+b[0].length;break;case"named-range":a=zt(b[0],!1),ge=d5(a["cell-range-address"]);var ve={Name:a.name,Ref:ge[0]+"!"+ge[1]};de&&(ve.Sheet=v.length),he.Names.push(ve);break;case"text-content":break;case"text-properties":break;case"embedded-text":break;case"body":case"":break;case"forms":break;case"table-column":break;case"table-header-rows":break;case"table-rows":break;case"table-column-group":break;case"table-header-columns":break;case"table-columns":break;case"null-date":break;case"graphic-properties":break;case"calculation-settings":break;case"named-expressions":break;case"label-range":break;case"label-ranges":break;case"named-expression":break;case"sort":break;case"sort-by":break;case"sort-groups":break;case"tab":break;case"line-break":break;case"span":break;case"p":case"":if(["master-styles"].indexOf(i[i.length-1][0])>-1)break;if(b[1]==="/"&&(!E||!E["string-value"])){var Ve=_et(n.slice(A,b.index));k=(k.length>0?k+`
`:"")+Ve[0]}else zt(b[0],!1),A=b.index+b[0].length;break;case"s":break;case"database-range":if(b[1]==="/")break;try{ge=d5(zt(b[0])["target-range-address"]),g[ge[0]]["!autofilter"]={ref:ge[1]}}catch{}break;case"date":break;case"object":break;case"title":case"":break;case"desc":break;case"binary-data":break;case"table-source":break;case"scenario":break;case"iteration":break;case"content-validations":break;case"content-validation":break;case"help-message":break;case"error-message":break;case"database-ranges":break;case"filter":break;case"filter-and":break;case"filter-or":break;case"filter-condition":break;case"list-level-style-bullet":break;case"list-level-style-number":break;case"list-level-properties":break;case"sender-firstname":case"sender-lastname":case"sender-initials":case"sender-title":case"sender-position":case"sender-email":case"sender-phone-private":case"sender-fax":case"sender-company":case"sender-phone-work":case"sender-street":case"sender-city":case"sender-postal-code":case"sender-country":case"sender-state-or-province":case"author-name":case"author-initials":case"chapter":case"file-name":case"template-name":case"sheet-name":break;case"event-listener":break;case"initial-creator":case"creation-date":case"print-date":case"generator":case"document-statistic":case"user-defined":case"editing-duration":case"editing-cycles":break;case"config-item":break;case"page-number":break;case"page-count":break;case"time":break;case"cell-range-source":break;case"detective":break;case"operation":break;case"highlighted-range":break;case"data-pilot-table":case"source-cell-range":case"source-service":case"data-pilot-field":case"data-pilot-level":case"data-pilot-subtotals":case"data-pilot-subtotal":case"data-pilot-members":case"data-pilot-member":case"data-pilot-display-info":case"data-pilot-sort-info":case"data-pilot-layout-info":case"data-pilot-field-reference":case"data-pilot-groups":case"data-pilot-group":case"data-pilot-group-member":break;case"rect":break;case"dde-connection-decls":case"dde-connection-decl":case"dde-link":case"dde-source":break;case"properties":break;case"property":break;case"a":if(b[1]!=="/"){if(Z=zt(b[0],!1),!Z.href)break;Z.Target=Ar(Z.href),delete Z.href,Z.Target.charAt(0)=="#"&&Z.Target.indexOf(".")>-1?(ge=d5(Z.Target.slice(1)),Z.Target="#"+ge[0]+"!"+ge[1]):Z.Target.match(/^\.\.[\\\/]/)&&(Z.Target=Z.Target.slice(3))}break;case"table-protection":break;case"data-pilot-grand-total":break;case"office-document-common-attrs":break;default:switch(b[2]){case"dc:":case"calcext:":case"loext:":case"ooo:":case"chartooo:":case"draw:":case"style:":case"chart:":case"form:":case"uof:":case":":case":":break;default:if(r.WTF)throw new Error(b)}}var G={Sheets:g,SheetNames:v,Workbook:he};return r.bookSheets&&delete G.Sheets,G}function TK(t,e){e=e||{},bl(t,"META-INF/manifest.xml")&&KHe(Ji(t,"META-INF/manifest.xml"),e);var r=Vo(t,"content.xml");if(!r)throw new Error("Missing content.xml in ODS / UOF file");var n=Nce(En(r),e);return bl(t,"meta.xml")&&(n.Props=xle(Ji(t,"meta.xml"))),n}function SK(t,e){return Nce(t,e)}var Eet=(function(){var t=["<office:master-styles>",'<style:master-page style:name="mp1" style:page-layout-name="mp1">',"<style:header/>",'<style:header-left style:display="false"/>',"<style:footer/>",'<style:footer-left style:display="false"/>',"</style:master-page>","</office:master-styles>"].join(""),e="<office:document-styles "+Ax({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","office:version":"1.2"})+">"+t+"</office:document-styles>";return function(){return Bi+e}})(),kK=(function(){var t=function(s){return un(s).replace(/  +/g,function(a){return'<text:s text:c="'+a.length+'"/>'}).replace(/\t/g,"<text:tab/>").replace(/\n/g,"</text:p><text:p>").replace(/^ /,"<text:s/>").replace(/ $/,"<text:s/>")},e=`          <table:table-cell />
`,r=`          <table:covered-table-cell/>
`,n=function(s,a,o){var l=[];l.push('      <table:table table:name="'+un(a.SheetNames[o])+`" table:style-name="ta1">
`);var u=0,d=0,f=xo(s["!ref"]||"A1"),g=s["!merges"]||[],v=0,x=Array.isArray(s);if(s["!cols"])for(d=0;d<=f.e.c;++d)l.push("        <table:table-column"+(s["!cols"][d]?' table:style-name="co'+s["!cols"][d].ods+'"':"")+`></table:table-column>
`);var b="",w=s["!rows"]||[];for(u=0;u<f.s.r;++u)b=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+b+`></table:table-row>
`);for(;u<=f.e.r;++u){for(b=w[u]?' table:style-name="ro'+w[u].ods+'"':"",l.push("        <table:table-row"+b+`>
`),d=0;d<f.s.c;++d)l.push(e);for(;d<=f.e.c;++d){var E=!1,k={},A="";for(v=0;v!=g.length;++v)if(!(g[v].s.c>d)&&!(g[v].s.r>u)&&!(g[v].e.c<d)&&!(g[v].e.r<u)){(g[v].s.c!=d||g[v].s.r!=u)&&(E=!0),k["table:number-columns-spanned"]=g[v].e.c-g[v].s.c+1,k["table:number-rows-spanned"]=g[v].e.r-g[v].s.r+1;break}if(E){l.push(r);continue}var O=Ft({r:u,c:d}),P=x?(s[u]||[])[d]:s[O];if(P&&P.f&&(k["table:formula"]=un(zXe(P.f)),P.F&&P.F.slice(0,O.length)==O)){var j=xo(P.F);k["table:number-matrix-columns-spanned"]=j.e.c-j.s.c+1,k["table:number-matrix-rows-spanned"]=j.e.r-j.s.r+1}if(!P){l.push(e);continue}switch(P.t){case"b":A=P.v?"TRUE":"FALSE",k["office:value-type"]="boolean",k["office:boolean-value"]=P.v?"true":"false";break;case"n":A=P.w||String(P.v||0),k["office:value-type"]="float",k["office:value"]=P.v||0;break;case"s":case"str":A=P.v==null?"":P.v,k["office:value-type"]="string";break;case"d":A=P.w||Wn(P.v).toISOString(),k["office:value-type"]="date",k["office:date-value"]=Wn(P.v).toISOString(),k["table:style-name"]="ce1";break;default:l.push(e);continue}var S=t(A);if(P.l&&P.l.Target){var I=P.l.Target;I=I.charAt(0)=="#"?"#"+$Xe(I.slice(1)):I,I.charAt(0)!="#"&&!I.match(/^\w+:/)&&(I="../"+I),S=it("text:a",S,{"xlink:href":I.replace(/&/g,"&amp;")})}l.push("          "+it("table:table-cell",it("text:p",S,{}),k)+`
`)}l.push(`        </table:table-row>
`)}return l.push(`      </table:table>
`),l.join("")},i=function(s,a){s.push(` <office:automatic-styles>
`),s.push(`  <number:date-style style:name="N37" number:automatic-order="true">
`),s.push(`   <number:month number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:day number:style="long"/>
`),s.push(`   <number:text>/</number:text>
`),s.push(`   <number:year/>
`),s.push(`  </number:date-style>
`);var o=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!cols"]){for(var d=0;d<u["!cols"].length;++d)if(u["!cols"][d]){var f=u["!cols"][d];if(f.width==null&&f.wpx==null&&f.wch==null)continue;lf(f),f.ods=o;var g=u["!cols"][d].wpx+"px";s.push('  <style:style style:name="co'+o+`" style:family="table-column">
`),s.push('   <style:table-column-properties fo:break-before="auto" style:column-width="'+g+`"/>
`),s.push(`  </style:style>
`),++o}}});var l=0;a.SheetNames.map(function(u){return a.Sheets[u]}).forEach(function(u){if(u&&u["!rows"]){for(var d=0;d<u["!rows"].length;++d)if(u["!rows"][d]){u["!rows"][d].ods=l;var f=u["!rows"][d].hpx+"px";s.push('  <style:style style:name="ro'+l+`" style:family="table-row">
`),s.push('   <style:table-row-properties fo:break-before="auto" style:row-height="'+f+`"/>
`),s.push(`  </style:style>
`),++l}}}),s.push(`  <style:style style:name="ta1" style:family="table" style:master-page-name="mp1">
`),s.push(`   <style:table-properties table:display="true" style:writing-mode="lr-tb"/>
`),s.push(`  </style:style>
`),s.push(`  <style:style style:name="ce1" style:family="table-cell" style:parent-style-name="Default" style:data-style-name="N37"/>
`),s.push(` </office:automatic-styles>
`)};return function(a,o){var l=[Bi],u=Ax({"xmlns:office":"urn:oasis:names:tc:opendocument:xmlns:office:1.0","xmlns:table":"urn:oasis:names:tc:opendocument:xmlns:table:1.0","xmlns:style":"urn:oasis:names:tc:opendocument:xmlns:style:1.0","xmlns:text":"urn:oasis:names:tc:opendocument:xmlns:text:1.0","xmlns:draw":"urn:oasis:names:tc:opendocument:xmlns:drawing:1.0","xmlns:fo":"urn:oasis:names:tc:opendocument:xmlns:xsl-fo-compatible:1.0","xmlns:xlink":"http://www.w3.org/1999/xlink","xmlns:dc":"http://purl.org/dc/elements/1.1/","xmlns:meta":"urn:oasis:names:tc:opendocument:xmlns:meta:1.0","xmlns:number":"urn:oasis:names:tc:opendocument:xmlns:datastyle:1.0","xmlns:presentation":"urn:oasis:names:tc:opendocument:xmlns:presentation:1.0","xmlns:svg":"urn:oasis:names:tc:opendocument:xmlns:svg-compatible:1.0","xmlns:chart":"urn:oasis:names:tc:opendocument:xmlns:chart:1.0","xmlns:dr3d":"urn:oasis:names:tc:opendocument:xmlns:dr3d:1.0","xmlns:math":"http://www.w3.org/1998/Math/MathML","xmlns:form":"urn:oasis:names:tc:opendocument:xmlns:form:1.0","xmlns:script":"urn:oasis:names:tc:opendocument:xmlns:script:1.0","xmlns:ooo":"http://openoffice.org/2004/office","xmlns:ooow":"http://openoffice.org/2004/writer","xmlns:oooc":"http://openoffice.org/2004/calc","xmlns:dom":"http://www.w3.org/2001/xml-events","xmlns:xforms":"http://www.w3.org/2002/xforms","xmlns:xsd":"http://www.w3.org/2001/XMLSchema","xmlns:xsi":"http://www.w3.org/2001/XMLSchema-instance","xmlns:sheet":"urn:oasis:names:tc:opendocument:sh33tjs:1.0","xmlns:rpt":"http://openoffice.org/2005/report","xmlns:of":"urn:oasis:names:tc:opendocument:xmlns:of:1.2","xmlns:xhtml":"http://www.w3.org/1999/xhtml","xmlns:grddl":"http://www.w3.org/2003/g/data-view#","xmlns:tableooo":"http://openoffice.org/2009/table","xmlns:drawooo":"http://openoffice.org/2010/draw","xmlns:calcext":"urn:org:documentfoundation:names:experimental:calc:xmlns:calcext:1.0","xmlns:loext":"urn:org:documentfoundation:names:experimental:office:xmlns:loext:1.0","xmlns:field":"urn:openoffice:names:experimental:ooo-ms-interop:xmlns:field:1.0","xmlns:formx":"urn:openoffice:names:experimental:ooxml-odf-interop:xmlns:form:1.0","xmlns:css3t":"http://www.w3.org/TR/css3-text/","office:version":"1.2"}),d=Ax({"xmlns:config":"urn:oasis:names:tc:opendocument:xmlns:config:1.0","office:mimetype":"application/vnd.oasis.opendocument.spreadsheet"});o.bookType=="fods"?(l.push("<office:document"+u+d+`>
`),l.push(yle().replace(/office:document-meta/g,"office:meta"))):l.push("<office:document-content"+u+`>
`),i(l,a),l.push(`  <office:body>
`),l.push(`    <office:spreadsheet>
`);for(var f=0;f!=a.SheetNames.length;++f)l.push(n(a.Sheets[a.SheetNames[f]],a,f));return l.push(`    </office:spreadsheet>
`),l.push(`  </office:body>
`),o.bookType=="fods"?l.push("</office:document>"):l.push("</office:document-content>"),l.join("")}})();function Ice(t,e){if(e.bookType=="fods")return kK(t,e);var r=dD(),n="",i=[],s=[];return n="mimetype",ir(r,n,"application/vnd.oasis.opendocument.spreadsheet"),n="content.xml",ir(r,n,kK(t,e)),i.push([n,"text/xml"]),s.push([n,"ContentFile"]),n="styles.xml",ir(r,n,Eet(t,e)),i.push([n,"text/xml"]),s.push([n,"StylesFile"]),n="meta.xml",ir(r,n,Bi+yle()),i.push([n,"text/xml"]),s.push([n,"MetadataFile"]),n="manifest.rdf",ir(r,n,QHe(s)),i.push([n,"application/rdf+xml"]),n="META-INF/manifest.xml",ir(r,n,YHe(i)),r}/*! sheetjs (C) 2013-present SheetJS -- http://sheetjs.com */function lm(t){return new DataView(t.buffer,t.byteOffset,t.byteLength)}function yO(t){return typeof TextDecoder<"u"?new TextDecoder().decode(t):En(Ef(t))}function Tet(t){return typeof TextEncoder<"u"?new TextEncoder().encode(t):Bo(Yc(t))}function ket(t,e){e:for(var r=0;r<=t.length-e.length;++r){for(var n=0;n<e.length;++n)if(t[r+n]!=e[n])continue e;return!0}return!1}function uf(t){var e=t.reduce(function(i,s){return i+s.length},0),r=new Uint8Array(e),n=0;return t.forEach(function(i){r.set(i,n),n+=i.length}),r}function AK(t){return t-=t>>1&1431655765,t=(t&858993459)+(t>>2&858993459),(t+(t>>4)&252645135)*16843009>>>24}function Aet(t,e){for(var r=(t[e+15]&127)<<7|t[e+14]>>1,n=t[e+14]&1,i=e+13;i>=e;--i)n=n*256+t[i];return(t[e+15]&128?-n:n)*Math.pow(10,r-6176)}function Cet(t,e,r){var n=Math.floor(r==0?0:Math.LOG10E*Math.log(Math.abs(r)))+6176-20,i=r/Math.pow(10,n-6176);t[e+15]|=n>>7,t[e+14]|=(n&127)<<1;for(var s=0;i>=1;++s,i/=256)t[e+s]=i&255;t[e+15]|=r>=0?0:128}function Dx(t,e){var r=e?e[0]:0,n=t[r]&127;e:if(t[r++]>=128&&(n|=(t[r]&127)<<7,t[r++]<128||(n|=(t[r]&127)<<14,t[r++]<128)||(n|=(t[r]&127)<<21,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,28),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,35),++r,t[r++]<128)||(n+=(t[r]&127)*Math.pow(2,42),++r,t[r++]<128)))break e;return e&&(e[0]=r),n}function an(t){var e=new Uint8Array(7);e[0]=t&127;var r=1;e:if(t>127){if(e[r-1]|=128,e[r]=t>>7&127,++r,t<=16383||(e[r-1]|=128,e[r]=t>>14&127,++r,t<=2097151)||(e[r-1]|=128,e[r]=t>>21&127,++r,t<=268435455)||(e[r-1]|=128,e[r]=t/256>>>21&127,++r,t<=34359738367)||(e[r-1]|=128,e[r]=t/65536>>>21&127,++r,t<=4398046511103))break e;e[r-1]|=128,e[r]=t/16777216>>>21&127,++r}return e.slice(0,r)}function ki(t){var e=0,r=t[e]&127;e:if(t[e++]>=128){if(r|=(t[e]&127)<<7,t[e++]<128||(r|=(t[e]&127)<<14,t[e++]<128)||(r|=(t[e]&127)<<21,t[e++]<128))break e;r|=(t[e]&127)<<28}return r}function Or(t){for(var e=[],r=[0];r[0]<t.length;){var n=r[0],i=Dx(t,r),s=i&7;i=Math.floor(i/8);var a=0,o;if(i==0)break;switch(s){case 0:{for(var l=r[0];t[r[0]++]>=128;);o=t.slice(l,r[0])}break;case 5:a=4,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 1:a=8,o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 2:a=Dx(t,r),o=t.slice(r[0],r[0]+a),r[0]+=a;break;case 3:case 4:default:throw new Error("PB Type ".concat(s," for Field ").concat(i," at offset ").concat(n))}var u={data:o,type:s};e[i]==null?e[i]=[u]:e[i].push(u)}return e}function Zs(t){var e=[];return t.forEach(function(r,n){r.forEach(function(i){i.data&&(e.push(an(n*8+i.type)),i.type==2&&e.push(an(i.data.length)),e.push(i.data))})}),uf(e)}function FD(t,e){return(t==null?void 0:t.map(function(r){return e(r.data)}))||[]}function gl(t){for(var e,r=[],n=[0];n[0]<t.length;){var i=Dx(t,n),s=Or(t.slice(n[0],n[0]+i));n[0]+=i;var a={id:ki(s[1][0].data),messages:[]};s[2].forEach(function(o){var l=Or(o.data),u=ki(l[3][0].data);a.messages.push({meta:l,data:t.slice(n[0],n[0]+u)}),n[0]+=u}),(e=s[3])!=null&&e[0]&&(a.merge=ki(s[3][0].data)>>>0>0),r.push(a)}return r}function kp(t){var e=[];return t.forEach(function(r){var n=[];n[1]=[{data:an(r.id),type:0}],n[2]=[],r.merge!=null&&(n[3]=[{data:an(+!!r.merge),type:0}]);var i=[];r.messages.forEach(function(a){i.push(a.data),a.meta[3]=[{type:0,data:an(a.data.length)}],n[2].push({data:Zs(a.meta),type:2})});var s=Zs(n);e.push(an(s.length)),e.push(s),i.forEach(function(a){return e.push(a)})}),uf(e)}function Net(t,e){if(t!=0)throw new Error("Unexpected Snappy chunk type ".concat(t));for(var r=[0],n=Dx(e,r),i=[];r[0]<e.length;){var s=e[r[0]]&3;if(s==0){var a=e[r[0]++]>>2;if(a<60)++a;else{var o=a-59;a=e[r[0]],o>1&&(a|=e[r[0]+1]<<8),o>2&&(a|=e[r[0]+2]<<16),o>3&&(a|=e[r[0]+3]<<24),a>>>=0,a++,r[0]+=o}i.push(e.slice(r[0],r[0]+a)),r[0]+=a;continue}else{var l=0,u=0;if(s==1?(u=(e[r[0]]>>2&7)+4,l=(e[r[0]++]&224)<<3,l|=e[r[0]++]):(u=(e[r[0]++]>>2)+1,s==2?(l=e[r[0]]|e[r[0]+1]<<8,r[0]+=2):(l=(e[r[0]]|e[r[0]+1]<<8|e[r[0]+2]<<16|e[r[0]+3]<<24)>>>0,r[0]+=4)),i=[uf(i)],l==0)throw new Error("Invalid offset 0");if(l>i[0].length)throw new Error("Invalid offset beyond length");if(u>=l)for(i.push(i[0].slice(-l)),u-=l;u>=i[i.length-1].length;)i.push(i[i.length-1]),u-=i[i.length-1].length;i.push(i[0].slice(-l,-l+u))}}var d=uf(i);if(d.length!=n)throw new Error("Unexpected length: ".concat(d.length," != ").concat(n));return d}function vl(t){for(var e=[],r=0;r<t.length;){var n=t[r++],i=t[r]|t[r+1]<<8|t[r+2]<<16;r+=3,e.push(Net(n,t.slice(r,r+i))),r+=i}if(r!==t.length)throw new Error("data is not a valid framed stream!");return uf(e)}function Ap(t){for(var e=[],r=0;r<t.length;){var n=Math.min(t.length-r,268435455),i=new Uint8Array(4);e.push(i);var s=an(n),a=s.length;e.push(s),n<=60?(a++,e.push(new Uint8Array([n-1<<2]))):n<=256?(a+=2,e.push(new Uint8Array([240,n-1&255]))):n<=65536?(a+=3,e.push(new Uint8Array([244,n-1&255,n-1>>8&255]))):n<=16777216?(a+=4,e.push(new Uint8Array([248,n-1&255,n-1>>8&255,n-1>>16&255]))):n<=4294967296&&(a+=5,e.push(new Uint8Array([252,n-1&255,n-1>>8&255,n-1>>16&255,n-1>>>24&255]))),e.push(t.slice(r,r+n)),a+=n,i[0]=0,i[1]=a&255,i[2]=a>>8&255,i[3]=a>>16&255,r+=n}return uf(e)}function Iet(t,e,r,n){var i=lm(t),s=i.getUint32(4,!0),a=(n>1?12:8)+AK(s&(n>1?3470:398))*4,o=-1,l=-1,u=NaN,d=new Date(2001,0,1);s&512&&(o=i.getUint32(a,!0),a+=4),a+=AK(s&(n>1?12288:4096))*4,s&16&&(l=i.getUint32(a,!0),a+=4),s&32&&(u=i.getFloat64(a,!0),a+=8),s&64&&(d.setTime(d.getTime()+i.getFloat64(a,!0)*1e3),a+=8);var f;switch(t[2]){case 0:break;case 2:f={t:"n",v:u};break;case 3:f={t:"s",v:e[l]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(o>-1)f={t:"s",v:r[o]};else if(l>-1)f={t:"s",v:e[l]};else if(!isNaN(u))f={t:"n",v:u};else throw new Error("Unsupported cell type ".concat(t.slice(0,4)));break;default:throw new Error("Unsupported cell type ".concat(t.slice(0,4)))}return f}function Oet(t,e,r){var n=lm(t),i=n.getUint32(8,!0),s=12,a=-1,o=-1,l=NaN,u=NaN,d=new Date(2001,0,1);i&1&&(l=Aet(t,s),s+=16),i&2&&(u=n.getFloat64(s,!0),s+=8),i&4&&(d.setTime(d.getTime()+n.getFloat64(s,!0)*1e3),s+=8),i&8&&(o=n.getUint32(s,!0),s+=4),i&16&&(a=n.getUint32(s,!0),s+=4);var f;switch(t[1]){case 0:break;case 2:f={t:"n",v:l};break;case 3:f={t:"s",v:e[o]};break;case 5:f={t:"d",v:d};break;case 6:f={t:"b",v:u>0};break;case 7:f={t:"n",v:u/86400};break;case 8:f={t:"e",v:0};break;case 9:if(a>-1)f={t:"s",v:r[a]};else throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)));break;case 10:f={t:"n",v:l};break;default:throw new Error("Unsupported cell type ".concat(t[1]," : ").concat(i&31," : ").concat(t.slice(0,4)))}return f}function f5(t,e){var r=new Uint8Array(32),n=lm(r),i=12,s=0;switch(r[0]=5,t.t){case"n":r[1]=2,Cet(r,i,t.v),s|=1,i+=16;break;case"b":r[1]=6,n.setFloat64(i,t.v?1:0,!0),s|=2,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[1]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=8,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(8,s,!0),r.slice(0,i)}function m5(t,e){var r=new Uint8Array(32),n=lm(r),i=12,s=0;switch(r[0]=3,t.t){case"n":r[2]=2,n.setFloat64(i,t.v,!0),s|=32,i+=8;break;case"b":r[2]=6,n.setFloat64(i,t.v?1:0,!0),s|=32,i+=8;break;case"s":if(e.indexOf(t.v)==-1)throw new Error("Value ".concat(t.v," missing from SST!"));r[2]=3,n.setUint32(i,e.indexOf(t.v),!0),s|=16,i+=4;break;default:throw"unsupported cell type "+t.t}return n.setUint32(4,s,!0),r.slice(0,i)}function Ret(t,e,r){switch(t[0]){case 0:case 1:case 2:case 3:return Iet(t,e,r,t[0]);case 5:return Oet(t,e,r);default:throw new Error("Unsupported payload version ".concat(t[0]))}}function xa(t){var e=Or(t);return Dx(e[1][0].data)}function CK(t,e){var r=Or(e.data),n=ki(r[1][0].data),i=r[3],s=[];return(i||[]).forEach(function(a){var o=Or(a.data),l=ki(o[1][0].data)>>>0;switch(n){case 1:s[l]=yO(o[3][0].data);break;case 8:{var u=t[xa(o[9][0].data)][0],d=Or(u.data),f=t[xa(d[1][0].data)][0],g=ki(f.meta[1][0].data);if(g!=2001)throw new Error("2000 unexpected reference to ".concat(g));var v=Or(f.data);s[l]=v[3].map(function(x){return yO(x.data)}).join("")}break}}),s}function Pet(t,e){var r,n,i,s,a,o,l,u,d,f,g,v,x,b,w=Or(t),E=ki(w[1][0].data)>>>0,k=ki(w[2][0].data)>>>0,A=((n=(r=w[8])==null?void 0:r[0])==null?void 0:n.data)&&ki(w[8][0].data)>0||!1,O,P;if((s=(i=w[7])==null?void 0:i[0])!=null&&s.data&&e!=0)O=(o=(a=w[7])==null?void 0:a[0])==null?void 0:o.data,P=(u=(l=w[6])==null?void 0:l[0])==null?void 0:u.data;else if((f=(d=w[4])==null?void 0:d[0])!=null&&f.data&&e!=1)O=(v=(g=w[4])==null?void 0:g[0])==null?void 0:v.data,P=(b=(x=w[3])==null?void 0:x[0])==null?void 0:b.data;else throw"NUMBERS Tile missing ".concat(e," cell storage");for(var j=A?4:1,S=lm(O),I=[],R=0;R<O.length/2;++R){var D=S.getUint16(R*2,!0);D<65535&&I.push([R,D])}if(I.length!=k)throw"Expected ".concat(k," cells, found ").concat(I.length);var M=[];for(R=0;R<I.length-1;++R)M[I[R][0]]=P.subarray(I[R][1]*j,I[R+1][1]*j);return I.length>=1&&(M[I[I.length-1][0]]=P.subarray(I[I.length-1][1]*j)),{R:E,cells:M}}function jet(t,e){var r,n=Or(e.data),i=(r=n==null?void 0:n[7])!=null&&r[0]?ki(n[7][0].data)>>>0>0?1:0:-1,s=FD(n[5],function(a){return Pet(a,i)});return{nrows:ki(n[4][0].data)>>>0,data:s.reduce(function(a,o){return a[o.R]||(a[o.R]=[]),o.cells.forEach(function(l,u){if(a[o.R][u])throw new Error("Duplicate cell r=".concat(o.R," c=").concat(u));a[o.R][u]=l}),a},[])}}function Det(t,e,r){var n,i=Or(e.data),s={s:{r:0,c:0},e:{r:0,c:0}};if(s.e.r=(ki(i[6][0].data)>>>0)-1,s.e.r<0)throw new Error("Invalid row varint ".concat(i[6][0].data));if(s.e.c=(ki(i[7][0].data)>>>0)-1,s.e.c<0)throw new Error("Invalid col varint ".concat(i[7][0].data));r["!ref"]=tr(s);var a=Or(i[4][0].data),o=CK(t,t[xa(a[4][0].data)][0]),l=(n=a[17])!=null&&n[0]?CK(t,t[xa(a[17][0].data)][0]):[],u=Or(a[3][0].data),d=0;u[1].forEach(function(f){var g=Or(f.data),v=t[xa(g[2][0].data)][0],x=ki(v.meta[1][0].data);if(x!=6002)throw new Error("6001 unexpected reference to ".concat(x));var b=jet(t,v);b.data.forEach(function(w,E){w.forEach(function(k,A){var O=Ft({r:d+E,c:A}),P=Ret(k,o,l);P&&(r[O]=P)})}),d+=b.nrows})}function Met(t,e){var r=Or(e.data),n={"!ref":"A1"},i=t[xa(r[2][0].data)],s=ki(i[0].meta[1][0].data);if(s!=6001)throw new Error("6000 unexpected reference to ".concat(s));return Det(t,i[0],n),n}function Let(t,e){var r,n=Or(e.data),i={name:(r=n[1])!=null&&r[0]?yO(n[1][0].data):"",sheets:[]},s=FD(n[2],xa);return s.forEach(function(a){t[a].forEach(function(o){var l=ki(o.meta[1][0].data);l==6e3&&i.sheets.push(Met(t,o))})}),i}function Fet(t,e){var r=$D(),n=Or(e.data),i=FD(n[1],xa);if(i.forEach(function(s){t[s].forEach(function(a){var o=ki(a.meta[1][0].data);if(o==2){var l=Let(t,a);l.sheets.forEach(function(u,d){HD(r,u,d==0?l.name:l.name+"_"+d,!0)})}})}),r.SheetNames.length==0)throw new Error("Empty NUMBERS file");return r}function p5(t){var e,r,n,i,s={},a=[];if(t.FullPaths.forEach(function(l){if(l.match(/\.iwpv2/))throw new Error("Unsupported password protection")}),t.FileIndex.forEach(function(l){if(l.name.match(/\.iwa$/)){var u;try{u=vl(l.content)}catch(f){return console.log("?? "+l.content.length+" "+(f.message||f))}var d;try{d=gl(u)}catch(f){return console.log("## "+(f.message||f))}d.forEach(function(f){s[f.id]=f.messages,a.push(f.id)})}}),!a.length)throw new Error("File has no messages");var o=((i=(n=(r=(e=s==null?void 0:s[1])==null?void 0:e[0])==null?void 0:r.meta)==null?void 0:n[1])==null?void 0:i[0].data)&&ki(s[1][0].meta[1][0].data)==1&&s[1][0];if(o||a.forEach(function(l){s[l].forEach(function(u){var d=ki(u.meta[1][0].data)>>>0;if(d==1)if(!o)o=u;else throw new Error("Document has multiple roots")})}),!o)throw new Error("Cannot find Document root");return Fet(s,o)}function Bet(t,e,r){var n,i,s,a;if(!((n=t[6])!=null&&n[0])||!((i=t[7])!=null&&i[0]))throw"Mutation only works on post-BNC storages!";var o=((a=(s=t[8])==null?void 0:s[0])==null?void 0:a.data)&&ki(t[8][0].data)>0||!1;if(o)throw"Math only works with normal offsets";for(var l=0,u=lm(t[7][0].data),d=0,f=[],g=lm(t[4][0].data),v=0,x=[],b=0;b<e.length;++b){if(e[b]==null){u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535);continue}u.setUint16(b*2,d,!0),g.setUint16(b*2,v,!0);var w,E;switch(typeof e[b]){case"string":w=f5({t:"s",v:e[b]},r),E=m5({t:"s",v:e[b]},r);break;case"number":w=f5({t:"n",v:e[b]},r),E=m5({t:"n",v:e[b]},r);break;case"boolean":w=f5({t:"b",v:e[b]},r),E=m5({t:"b",v:e[b]},r);break;default:throw new Error("Unsupported value "+e[b])}f.push(w),d+=w.length,x.push(E),v+=E.length,++l}for(t[2][0].data=an(l);b<t[7][0].data.length/2;++b)u.setUint16(b*2,65535,!0),g.setUint16(b*2,65535,!0);return t[6][0].data=uf(f),t[3][0].data=uf(x),l}function Vet(t,e){if(!e||!e.numbers)throw new Error("Must pass a `numbers` option -- check the README");var r=t.Sheets[t.SheetNames[0]];t.SheetNames.length>1&&console.error("The Numbers writer currently writes only the first table");var n=xo(r["!ref"]);n.s.r=n.s.c=0;var i=!1;n.e.c>9&&(i=!0,n.e.c=9),n.e.r>49&&(i=!0,n.e.r=49),i&&console.error("The Numbers writer is currently limited to ".concat(tr(n)));var s=XT(r,{range:n,header:1}),a=["~Sh33tJ5~"];s.forEach(function(q){return q.forEach(function(W){typeof W=="string"&&a.push(W)})});var o={},l=[],u=Nt.read(e.numbers,{type:"base64"});u.FileIndex.map(function(q,W){return[q,u.FullPaths[W]]}).forEach(function(q){var W=q[0],Y=q[1];if(W.type==2&&W.name.match(/\.iwa/)){var de=W.content,me=vl(de),ce=gl(me);ce.forEach(function(se){l.push(se.id),o[se.id]={deps:[],location:Y,type:ki(se.messages[0].meta[1][0].data)}})}}),l.sort(function(q,W){return q-W});var d=l.filter(function(q){return q>1}).map(function(q){return[q,an(q)]});u.FileIndex.map(function(q,W){return[q,u.FullPaths[W]]}).forEach(function(q){var W=q[0];if(q[1],!!W.name.match(/\.iwa/)){var Y=gl(vl(W.content));Y.forEach(function(de){de.messages.forEach(function(me){d.forEach(function(ce){de.messages.some(function(se){return ki(se.meta[1][0].data)!=11006&&ket(se.data,ce[1])})&&o[ce[0]].deps.push(de.id)})})})}});for(var f=Nt.find(u,o[1].location),g=gl(vl(f.content)),v,x=0;x<g.length;++x){var b=g[x];b.id==1&&(v=b)}var w=xa(Or(v.messages[0].data)[1][0].data);for(f=Nt.find(u,o[w].location),g=gl(vl(f.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);for(w=xa(Or(v.messages[0].data)[2][0].data),f=Nt.find(u,o[w].location),g=gl(vl(f.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);for(w=xa(Or(v.messages[0].data)[2][0].data),f=Nt.find(u,o[w].location),g=gl(vl(f.content)),x=0;x<g.length;++x)b=g[x],b.id==w&&(v=b);var E=Or(v.messages[0].data);{E[6][0].data=an(n.e.r+1),E[7][0].data=an(n.e.c+1);var k=xa(E[46][0].data),A=Nt.find(u,o[k].location),O=gl(vl(A.content));{for(var P=0;P<O.length&&O[P].id!=k;++P);if(O[P].id!=k)throw"Bad ColumnRowUIDMapArchive";var j=Or(O[P].messages[0].data);j[1]=[],j[2]=[],j[3]=[];for(var S=0;S<=n.e.c;++S){var I=[];I[1]=I[2]=[{type:0,data:an(S+420690)}],j[1].push({type:2,data:Zs(I)}),j[2].push({type:0,data:an(S)}),j[3].push({type:0,data:an(S)})}j[4]=[],j[5]=[],j[6]=[];for(var R=0;R<=n.e.r;++R)I=[],I[1]=I[2]=[{type:0,data:an(R+726270)}],j[4].push({type:2,data:Zs(I)}),j[5].push({type:0,data:an(R)}),j[6].push({type:0,data:an(R)});O[P].messages[0].data=Zs(j)}A.content=Ap(kp(O)),A.size=A.content.length,delete E[46];var D=Or(E[4][0].data);{D[7][0].data=an(n.e.r+1);var M=Or(D[1][0].data),L=xa(M[2][0].data);A=Nt.find(u,o[L].location),O=gl(vl(A.content));{if(O[0].id!=L)throw"Bad HeaderStorageBucket";var U=Or(O[0].messages[0].data);for(R=0;R<s.length;++R){var le=Or(U[2][0].data);le[1][0].data=an(R),le[4][0].data=an(s[R].length),U[2][R]={type:U[2][0].type,data:Zs(le)}}O[0].messages[0].data=Zs(U)}A.content=Ap(kp(O)),A.size=A.content.length;var ue=xa(D[2][0].data);A=Nt.find(u,o[ue].location),O=gl(vl(A.content));{if(O[0].id!=ue)throw"Bad HeaderStorageBucket";for(U=Or(O[0].messages[0].data),S=0;S<=n.e.c;++S)le=Or(U[2][0].data),le[1][0].data=an(S),le[4][0].data=an(n.e.r+1),U[2][S]={type:U[2][0].type,data:Zs(le)};O[0].messages[0].data=Zs(U)}A.content=Ap(kp(O)),A.size=A.content.length;var J=xa(D[4][0].data);(function(){for(var q=Nt.find(u,o[J].location),W=gl(vl(q.content)),Y,de=0;de<W.length;++de){var me=W[de];me.id==J&&(Y=me)}var ce=Or(Y.messages[0].data);{ce[3]=[];var se=[];a.forEach(function(G,Ze){se[1]=[{type:0,data:an(Ze)}],se[2]=[{type:0,data:an(1)}],se[3]=[{type:2,data:Tet(G)}],ce[3].push({type:2,data:Zs(se)})})}Y.messages[0].data=Zs(ce);var ve=kp(W),Ve=Ap(ve);q.content=Ve,q.size=q.content.length})();var Q=Or(D[3][0].data);{var he=Q[1][0];delete Q[2];var Z=Or(he.data);{var ge=xa(Z[2][0].data);(function(){for(var q=Nt.find(u,o[ge].location),W=gl(vl(q.content)),Y,de=0;de<W.length;++de){var me=W[de];me.id==ge&&(Y=me)}var ce=Or(Y.messages[0].data);{delete ce[6],delete Q[7];var se=new Uint8Array(ce[5][0].data);ce[5]=[];for(var ve=0,Ve=0;Ve<=n.e.r;++Ve){var G=Or(se);ve+=Bet(G,s[Ve],a),G[1][0].data=an(Ve),ce[5].push({data:Zs(G),type:2})}ce[1]=[{type:0,data:an(n.e.c+1)}],ce[2]=[{type:0,data:an(n.e.r+1)}],ce[3]=[{type:0,data:an(ve)}],ce[4]=[{type:0,data:an(n.e.r+1)}]}Y.messages[0].data=Zs(ce);var Ze=kp(W),Ie=Ap(Ze);q.content=Ie,q.size=q.content.length})()}he.data=Zs(Z)}D[3][0].data=Zs(Q)}E[4][0].data=Zs(D)}v.messages[0].data=Zs(E);var H=kp(g),B=Ap(H);return f.content=B,f.size=f.content.length,u}function Oce(t){return function(r){for(var n=0;n!=t.length;++n){var i=t[n];r[i[0]]===void 0&&(r[i[0]]=i[1]),i[2]==="n"&&(r[i[0]]=Number(r[i[0]]))}}}function BD(t){Oce([["cellNF",!1],["cellHTML",!0],["cellFormula",!0],["cellStyles",!1],["cellText",!0],["cellDates",!1],["sheetStubs",!1],["sheetRows",0,"n"],["bookDeps",!1],["bookSheets",!1],["bookProps",!1],["bookFiles",!1],["bookVBA",!1],["password",""],["WTF",!1]])(t)}function VD(t){Oce([["cellDates",!1],["bookSST",!1],["bookType","xlsx"],["compression",!1],["WTF",!1]])(t)}function Uet(t){return cr.WS.indexOf(t)>-1?"sheet":t==cr.CS?"chart":t==cr.DS?"dialog":t==cr.MS?"macro":t&&t.length?t:"sheet"}function zet(t,e){if(!t)return 0;try{t=e.map(function(n){return n.id||(n.id=n.strRelID),[n.name,t["!id"][n.id].Target,Uet(t["!id"][n.id].Type)]})}catch{return null}return!t||t.length===0?null:t}function $et(t,e,r,n,i,s,a,o,l,u,d,f){try{s[n]=A1(Vo(t,r,!0),e);var g=Ji(t,e),v;switch(o){case"sheet":v=cZe(g,e,i,l,s[n],u,d,f);break;case"chart":if(v=uZe(g,e,i,l,s[n],u,d,f),!v||!v["!drawel"])break;var x=i1(v["!drawel"].Target,e),b=Nx(x),w=XKe(Vo(t,x,!0),A1(Vo(t,b,!0),x)),E=i1(w,x),k=Nx(E);v=LJe(Vo(t,E,!0),E,l,A1(Vo(t,k,!0),E),u,v);break;case"macro":v=dZe(g,e,i,l,s[n],u,d,f);break;case"dialog":v=hZe(g,e,i,l,s[n],u,d,f);break;default:throw new Error("Unrecognized sheet type "+o)}a[n]=v;var A=[];s&&s[n]&&Ai(s[n]).forEach(function(O){var P="";if(s[n][O].Type==cr.CMNT){P=i1(s[n][O].Target,e);var j=gZe(Ji(t,P,!0),P,l);if(!j||!j.length)return;fK(v,j,!1)}s[n][O].Type==cr.TCMNT&&(P=i1(s[n][O].Target,e),A=A.concat(JKe(Ji(t,P,!0),l)))}),A&&A.length&&fK(v,A,!0,l.people||[])}catch(O){if(l.WTF)throw O}}function hl(t){return t.charAt(0)=="/"?t.slice(1):t}function Het(t,e){if(jv(),e=e||{},BD(e),bl(t,"META-INF/manifest.xml")||bl(t,"objectdata.xml"))return TK(t,e);if(bl(t,"Index/Document.iwa")){if(typeof Uint8Array>"u")throw new Error("NUMBERS file parsing requires Uint8Array support");if(typeof p5<"u"){if(t.FileIndex)return p5(t);var r=Nt.utils.cfb_new();return jG(t).forEach(function(le){ir(r,le,Z$e(t,le))}),p5(r)}throw new Error("Unsupported NUMBERS file")}if(!bl(t,"[Content_Types].xml"))throw bl(t,"index.xml.gz")?new Error("Unsupported NUMBERS 08 file"):bl(t,"index.xml")?new Error("Unsupported NUMBERS 09 file"):new Error("Unsupported ZIP file");var n=jG(t),i=WHe(Vo(t,"[Content_Types].xml")),s=!1,a,o;if(i.workbooks.length===0&&(o="xl/workbook.xml",Ji(t,o,!0)&&i.workbooks.push(o)),i.workbooks.length===0){if(o="xl/workbook.bin",!Ji(t,o,!0))throw new Error("Could not find workbook");i.workbooks.push(o),s=!0}i.workbooks[0].slice(-3)=="bin"&&(s=!0);var l={},u={};if(!e.bookSheets&&!e.bookProps){if(C1=[],i.sst)try{C1=pZe(Ji(t,hl(i.sst)),i.sst,e)}catch(le){if(e.WTF)throw le}e.cellStyles&&i.themes.length&&(l=mZe(Vo(t,i.themes[0].replace(/^\//,""),!0)||"",i.themes[0],e)),i.style&&(u=fZe(Ji(t,hl(i.style)),i.style,l,e))}i.links.map(function(le){try{var ue=A1(Vo(t,Nx(hl(le))),le);return yZe(Ji(t,hl(le)),ue,le,e)}catch{}});var d=lZe(Ji(t,hl(i.workbooks[0])),i.workbooks[0],e),f={},g="";i.coreprops.length&&(g=Ji(t,hl(i.coreprops[0]),!0),g&&(f=xle(g)),i.extprops.length!==0&&(g=Ji(t,hl(i.extprops[0]),!0),g&&ZHe(g,f,e)));var v={};(!e.bookSheets||e.bookProps)&&i.custprops.length!==0&&(g=Vo(t,hl(i.custprops[0]),!0),g&&(v=tqe(g,e)));var x={};if((e.bookSheets||e.bookProps)&&(d.Sheets?a=d.Sheets.map(function(ue){return ue.name}):f.Worksheets&&f.SheetNames.length>0&&(a=f.SheetNames),e.bookProps&&(x.Props=f,x.Custprops=v),e.bookSheets&&typeof a<"u"&&(x.SheetNames=a),e.bookSheets?x.SheetNames:e.bookProps))return x;a={};var b={};e.bookDeps&&i.calcchain&&(b=vZe(Ji(t,hl(i.calcchain)),i.calcchain));var w=0,E={},k,A;{var O=d.Sheets;f.Worksheets=O.length,f.SheetNames=[];for(var P=0;P!=O.length;++P)f.SheetNames[P]=O[P].name}var j=s?"bin":"xml",S=i.workbooks[0].lastIndexOf("/"),I=(i.workbooks[0].slice(0,S+1)+"_rels/"+i.workbooks[0].slice(S+1)+".rels").replace(/^\//,"");bl(t,I)||(I="xl/_rels/workbook."+j+".rels");var R=A1(Vo(t,I,!0),I.replace(/_rels.*/,"s5s"));(i.metadata||[]).length>=1&&(e.xlmeta=xZe(Ji(t,hl(i.metadata[0])),i.metadata[0],e)),(i.people||[]).length>=1&&(e.people=eYe(Ji(t,hl(i.people[0])),e)),R&&(R=zet(R,d.Sheets));var D=Ji(t,"xl/worksheets/sheet.xml",!0)?1:0;e:for(w=0;w!=f.Worksheets;++w){var M="sheet";if(R&&R[w]?(k="xl/"+R[w][1].replace(/[\/]?xl\//,""),bl(t,k)||(k=R[w][1]),bl(t,k)||(k=I.replace(/_rels\/.*$/,"")+R[w][1]),M=R[w][2]):(k="xl/worksheets/sheet"+(w+1-D)+"."+j,k=k.replace(/sheet0\./,"sheet.")),A=k.replace(/^(.*)(\/)([^\/]*)$/,"$1/_rels/$3.rels"),e&&e.sheets!=null)switch(typeof e.sheets){case"number":if(w!=e.sheets)continue e;break;case"string":if(f.SheetNames[w].toLowerCase()!=e.sheets.toLowerCase())continue e;break;default:if(Array.isArray&&Array.isArray(e.sheets)){for(var L=!1,U=0;U!=e.sheets.length;++U)typeof e.sheets[U]=="number"&&e.sheets[U]==w&&(L=1),typeof e.sheets[U]=="string"&&e.sheets[U].toLowerCase()==f.SheetNames[w].toLowerCase()&&(L=1);if(!L)continue e}}$et(t,k,A,f.SheetNames[w],w,E,a,M,e,d,l,u)}return x={Directory:i,Workbook:d,Props:f,Custprops:v,Deps:b,Sheets:a,SheetNames:f.SheetNames,Strings:C1,Styles:u,Themes:l,SSF:Gn(Dt)},e&&e.bookFiles&&(t.files?(x.keys=n,x.files=t.files):(x.keys=[],x.files={},t.FullPaths.forEach(function(le,ue){le=le.replace(/^Root Entry[\/]/,""),x.keys.push(le),x.files[le]=t.FileIndex[ue]}))),e&&e.bookVBA&&(i.vba.length>0?x.vbaraw=Ji(t,hl(i.vba[0]),!0):i.defaults&&i.defaults.bin===lYe&&(x.vbaraw=Ji(t,"xl/vbaProject.bin",!0))),x}function qet(t,e){var r=e||{},n="Workbook",i=Nt.find(t,n);try{if(n="/!DataSpaces/Version",i=Nt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(xGe(i.content),n="/!DataSpaces/DataSpaceMap",i=Nt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var s=wGe(i.content);if(s.length!==1||s[0].comps.length!==1||s[0].comps[0].t!==0||s[0].name!=="StrongEncryptionDataSpace"||s[0].comps[0].v!=="EncryptedPackage")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/DataSpaceInfo/StrongEncryptionDataSpace",i=Nt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var a=_Ge(i.content);if(a.length!=1||a[0]!="StrongEncryptionTransform")throw new Error("ECMA-376 Encrypted file bad "+n);if(n="/!DataSpaces/TransformInfo/StrongEncryptionTransform/!Primary",i=Nt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);TGe(i.content)}catch{}if(n="/EncryptionInfo",i=Nt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);var o=SGe(i.content);if(n="/EncryptedPackage",i=Nt.find(t,n),!i||!i.content)throw new Error("ECMA-376 Encrypted file missing "+n);if(o[0]==4&&typeof decrypt_agile<"u")return decrypt_agile(o[1],i.content,r.password||"",r);if(o[0]==2&&typeof decrypt_std76<"u")return decrypt_std76(o[1],i.content,r.password||"",r);throw new Error("File is password-protected")}function Wet(t,e){return e.bookType=="ods"?Ice(t,e):e.bookType=="numbers"?Vet(t,e):e.bookType=="xlsb"?Get(t,e):Ket(t,e)}function Get(t,e){Kp=1024,t&&!t.SSF&&(t.SSF=Gn(Dt)),t&&t.SSF&&(jv(),sk(t.SSF),e.revssf=ok(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,N1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r=e.bookType=="xlsb"?"bin":"xml",n=ice.indexOf(e.bookType)>-1,i=SD();VD(e=e||{});var s=dD(),a="",o=0;if(e.cellXfs=[],Sf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ir(s,a,ble(t.Props,e)),i.coreprops.push(a),on(e.rels,2,a,cr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}for(t.Props.Worksheets=t.Props.SheetNames.length,ir(s,a,Ele(t.Props)),i.extprops.push(a),on(e.rels,3,a,cr.EXT_PROPS),t.Custprops!==t.Props&&Ai(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ir(s,a,Tle(t.Custprops)),i.custprops.push(a),on(e.rels,4,a,cr.CUST_PROPS)),o=1;o<=t.SheetNames.length;++o){var d={"!id":{}},f=t.Sheets[t.SheetNames[o-1]],g=(f||{})["!type"]||"sheet";switch(g){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,ir(s,a,wZe(o-1,a,e,t,d)),i.sheets.push(a),on(e.wbrels,-1,"worksheets/sheet"+o+"."+r,cr.WS[0])}if(f){var v=f["!comments"],x=!1,b="";v&&v.length>0&&(b="xl/comments"+o+"."+r,ir(s,b,TZe(v,b)),i.comments.push(b),on(d,-1,"../comments"+o+"."+r,cr.CMNT),x=!0),f["!legacy"]&&x&&ir(s,"xl/drawings/vmlDrawing"+o+".vml",rce(o,f["!comments"])),delete f["!comments"],delete f["!legacy"]}d["!id"].rId1&&ir(s,Nx(a),ug(d))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,ir(s,a,EZe(e.Strings,a,e)),i.strs.push(a),on(e.wbrels,-1,"sharedStrings."+r,cr.SST)),a="xl/workbook."+r,ir(s,a,bZe(t,a)),i.workbooks.push(a),on(e.rels,1,a,cr.WB),a="xl/theme/theme1.xml",ir(s,a,OD(t.Themes,e)),i.themes.push(a),on(e.wbrels,-1,"theme/theme1.xml",cr.THEME),a="xl/styles."+r,ir(s,a,_Ze(t,a,e)),i.styles.push(a),on(e.wbrels,-1,"styles."+r,cr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",ir(s,a,t.vbaraw),i.vba.push(a),on(e.wbrels,-1,"vbaProject.bin",cr.VBA)),a="xl/metadata."+r,ir(s,a,SZe(a)),i.metadata.push(a),on(e.wbrels,-1,"metadata."+r,cr.XLMETA),ir(s,"[Content_Types].xml",vle(i,e)),ir(s,"_rels/.rels",ug(e.rels)),ir(s,"xl/_rels/workbook."+r+".rels",ug(e.wbrels)),delete e.revssf,delete e.ssf,s}function Ket(t,e){Kp=1024,t&&!t.SSF&&(t.SSF=Gn(Dt)),t&&t.SSF&&(jv(),sk(t.SSF),e.revssf=ok(t.SSF),e.revssf[t.SSF[65535]]=0,e.ssf=t.SSF),e.rels={},e.wbrels={},e.Strings=[],e.Strings.Count=0,e.Strings.Unique=0,N1?e.revStrings=new Map:(e.revStrings={},e.revStrings.foo=[],delete e.revStrings.foo);var r="xml",n=ice.indexOf(e.bookType)>-1,i=SD();VD(e=e||{});var s=dD(),a="",o=0;if(e.cellXfs=[],Sf(e.cellXfs,{},{revssf:{General:0}}),t.Props||(t.Props={}),a="docProps/core.xml",ir(s,a,ble(t.Props,e)),i.coreprops.push(a),on(e.rels,2,a,cr.CORE_PROPS),a="docProps/app.xml",!(t.Props&&t.Props.SheetNames))if(!t.Workbook||!t.Workbook.Sheets)t.Props.SheetNames=t.SheetNames;else{for(var l=[],u=0;u<t.SheetNames.length;++u)(t.Workbook.Sheets[u]||{}).Hidden!=2&&l.push(t.SheetNames[u]);t.Props.SheetNames=l}t.Props.Worksheets=t.Props.SheetNames.length,ir(s,a,Ele(t.Props)),i.extprops.push(a),on(e.rels,3,a,cr.EXT_PROPS),t.Custprops!==t.Props&&Ai(t.Custprops||{}).length>0&&(a="docProps/custom.xml",ir(s,a,Tle(t.Custprops)),i.custprops.push(a),on(e.rels,4,a,cr.CUST_PROPS));var d=["SheetJ5"];for(e.tcid=0,o=1;o<=t.SheetNames.length;++o){var f={"!id":{}},g=t.Sheets[t.SheetNames[o-1]],v=(g||{})["!type"]||"sheet";switch(v){case"chart":default:a="xl/worksheets/sheet"+o+"."+r,ir(s,a,pce(o-1,e,t,f)),i.sheets.push(a),on(e.wbrels,-1,"worksheets/sheet"+o+"."+r,cr.WS[0])}if(g){var x=g["!comments"],b=!1,w="";if(x&&x.length>0){var E=!1;x.forEach(function(k){k[1].forEach(function(A){A.T==!0&&(E=!0)})}),E&&(w="xl/threadedComments/threadedComment"+o+"."+r,ir(s,w,ZKe(x,d,e)),i.threadedcomments.push(w),on(f,-1,"../threadedComments/threadedComment"+o+"."+r,cr.TCMNT)),w="xl/comments"+o+"."+r,ir(s,w,nce(x)),i.comments.push(w),on(f,-1,"../comments"+o+"."+r,cr.CMNT),b=!0}g["!legacy"]&&b&&ir(s,"xl/drawings/vmlDrawing"+o+".vml",rce(o,g["!comments"])),delete g["!comments"],delete g["!legacy"]}f["!id"].rId1&&ir(s,Nx(a),ug(f))}return e.Strings!=null&&e.Strings.length>0&&(a="xl/sharedStrings."+r,ir(s,a,Hle(e.Strings,e)),i.strs.push(a),on(e.wbrels,-1,"sharedStrings."+r,cr.SST)),a="xl/workbook."+r,ir(s,a,bce(t)),i.workbooks.push(a),on(e.rels,1,a,cr.WB),a="xl/theme/theme1.xml",ir(s,a,OD(t.Themes,e)),i.themes.push(a),on(e.wbrels,-1,"theme/theme1.xml",cr.THEME),a="xl/styles."+r,ir(s,a,Jle(t,e)),i.styles.push(a),on(e.wbrels,-1,"styles."+r,cr.STY),t.vbaraw&&n&&(a="xl/vbaProject.bin",ir(s,a,t.vbaraw),i.vba.push(a),on(e.wbrels,-1,"vbaProject.bin",cr.VBA)),a="xl/metadata."+r,ir(s,a,tce()),i.metadata.push(a),on(e.wbrels,-1,"metadata."+r,cr.XLMETA),d.length>1&&(a="xl/persons/person.xml",ir(s,a,tYe(d)),i.people.push(a),on(e.wbrels,-1,"persons/person.xml",cr.PEOPLE)),ir(s,"[Content_Types].xml",vle(i,e)),ir(s,"_rels/.rels",ug(e.rels)),ir(s,"xl/_rels/workbook."+r+".rels",ug(e.wbrels)),delete e.revssf,delete e.ssf,s}function UD(t,e){var r="";switch((e||{}).type||"base64"){case"buffer":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];case"base64":r=Xo(t.slice(0,12));break;case"binary":r=t;break;case"array":return[t[0],t[1],t[2],t[3],t[4],t[5],t[6],t[7]];default:throw new Error("Unrecognized type "+(e&&e.type||"undefined"))}return[r.charCodeAt(0),r.charCodeAt(1),r.charCodeAt(2),r.charCodeAt(3),r.charCodeAt(4),r.charCodeAt(5),r.charCodeAt(6),r.charCodeAt(7)]}function Yet(t,e){return Nt.find(t,"EncryptedPackage")?qet(t,e):Tce(t,e)}function Xet(t,e){var r,n=t,i=e||{};return i.type||(i.type=lr&&Buffer.isBuffer(t)?"buffer":"base64"),r=Woe(n,i),Het(r,i)}function Rce(t,e){var r=0;e:for(;r<t.length;)switch(t.charCodeAt(r)){case 10:case 13:case 32:++r;break;case 60:return gO(t.slice(r),e);default:break e}return Jg.to_workbook(t,e)}function Qet(t,e){var r="",n=UD(t,e);switch(e.type){case"base64":r=Xo(t);break;case"binary":r=t;break;case"buffer":r=t.toString("binary");break;case"array":r=im(t);break;default:throw new Error("Unrecognized type "+e.type)}return n[0]==239&&n[1]==187&&n[2]==191&&(r=En(r)),e.type="binary",Rce(r,e)}function Jet(t,e){var r=t;return e.type=="base64"&&(r=Xo(r)),r=Ex.utils.decode(1200,r.slice(2),"str"),e.type="binary",Rce(r,e)}function Zet(t){return t.match(/[^\x00-\x7F]/)?Yc(t):t}function g5(t,e,r,n){return n?(r.type="string",Jg.to_workbook(t,r)):Jg.to_workbook(e,r)}function xO(t,e){aD();var r=e||{};if(typeof ArrayBuffer<"u"&&t instanceof ArrayBuffer)return xO(new Uint8Array(t),(r=Gn(r),r.type="array",r));typeof Uint8Array<"u"&&t instanceof Uint8Array&&!r.type&&(r.type=typeof Deno<"u"?"buffer":"array");var n=t,i=[0,0,0,0],s=!1;if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),hg={},r.dateNF&&(hg.dateNF=r.dateNF),r.type||(r.type=lr&&Buffer.isBuffer(t)?"buffer":"base64"),r.type=="file"&&(r.type=lr?"buffer":"binary",n=q$e(t),typeof Uint8Array<"u"&&!lr&&(r.type="array")),r.type=="string"&&(s=!0,r.type="binary",r.codepage=65001,n=Zet(t)),r.type=="array"&&typeof Uint8Array<"u"&&t instanceof Uint8Array&&typeof ArrayBuffer<"u"){var a=new ArrayBuffer(3),o=new Uint8Array(a);if(o.foo="bar",!o.foo)return r=Gn(r),r.type="array",xO(oD(n),r)}switch((i=UD(n,r))[0]){case 208:if(i[1]===207&&i[2]===17&&i[3]===224&&i[4]===161&&i[5]===177&&i[6]===26&&i[7]===225)return Yet(Nt.read(n,r),r);break;case 9:if(i[1]<=8)return Tce(n,r);break;case 60:return gO(n,r);case 73:if(i[1]===73&&i[2]===42&&i[3]===0)throw new Error("TIFF Image File is not a spreadsheet");if(i[1]===68)return rGe(n,r);break;case 84:if(i[1]===65&&i[2]===66&&i[3]===76)return zle.to_workbook(n,r);break;case 80:return i[1]===75&&i[2]<9&&i[3]<9?Xet(n,r):g5(t,n,r,s);case 239:return i[3]===60?gO(n,r):g5(t,n,r,s);case 255:if(i[1]===254)return Jet(n,r);if(i[1]===0&&i[2]===2&&i[3]===0)return M0.to_workbook(n,r);break;case 0:if(i[1]===0&&(i[2]>=2&&i[3]===0||i[2]===0&&(i[3]===8||i[3]===9)))return M0.to_workbook(n,r);break;case 3:case 131:case 139:case 140:return pO.to_workbook(n,r);case 123:if(i[1]===92&&i[2]===114&&i[3]===116)return Yle.to_workbook(n,r);break;case 10:case 13:case 32:return Qet(n,r);case 137:if(i[1]===80&&i[2]===78&&i[3]===71)throw new Error("PNG Image File is not a spreadsheet");break}return tGe.indexOf(i[0])>-1&&i[2]<=12&&i[3]<=31?pO.to_workbook(n,r):g5(t,n,r,s)}function Pce(t,e){switch(e.type){case"base64":case"binary":break;case"buffer":case"array":e.type="";break;case"file":return Mb(e.file,Nt.write(t,{type:lr?"buffer":""}));case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");default:throw new Error("Unrecognized type "+e.type)}return Nt.write(t,e)}function ett(t,e){var r=Gn(e||{}),n=Wet(t,r);return ttt(n,r)}function ttt(t,e){var r={},n=lr?"nodebuffer":typeof Uint8Array<"u"?"array":"string";if(e.compression&&(r.compression="DEFLATE"),e.password)r.type=n;else switch(e.type){case"base64":r.type="base64";break;case"binary":r.type="string";break;case"string":throw new Error("'string' output type invalid for '"+e.bookType+"' files");case"buffer":case"file":r.type=n;break;default:throw new Error("Unrecognized type "+e.type)}var i=t.FullPaths?Nt.write(t,{fileType:"zip",type:{nodebuffer:"buffer",string:"binary"}[r.type]||r.type,compression:!!e.compression}):t.generate(r);if(typeof Deno<"u"&&typeof i=="string"){if(e.type=="binary"||e.type=="base64")return i;i=new Uint8Array(ik(i))}return e.password&&typeof encrypt_agile<"u"?Pce(encrypt_agile(i,e.password),e):e.type==="file"?Mb(e.file,i):e.type=="string"?En(i):i}function rtt(t,e){var r=e||{},n=QZe(t,r);return Pce(n,r)}function zc(t,e,r){r||(r="");var n=r+t;switch(e.type){case"base64":return Tx(Yc(n));case"binary":return Yc(n);case"string":return t;case"file":return Mb(e.file,n,"utf8");case"buffer":return lr?Dd(n,"utf8"):typeof TextEncoder<"u"?new TextEncoder().encode(n):zc(n,{type:"binary"}).split("").map(function(i){return i.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function ntt(t,e){switch(e.type){case"base64":return Tx(t);case"binary":return t;case"string":return t;case"file":return Mb(e.file,t,"binary");case"buffer":return lr?Dd(t,"binary"):t.split("").map(function(r){return r.charCodeAt(0)})}throw new Error("Unrecognized type "+e.type)}function h2(t,e){switch(e.type){case"string":case"base64":case"binary":for(var r="",n=0;n<t.length;++n)r+=String.fromCharCode(t[n]);return e.type=="base64"?Tx(r):e.type=="string"?En(r):r;case"file":return Mb(e.file,t);case"buffer":return t;default:throw new Error("Unrecognized type "+e.type)}}function jce(t,e){aD(),GJe(t);var r=Gn(e||{});if(r.cellStyles&&(r.cellNF=!0,r.sheetStubs=!0),r.type=="array"){r.type="binary";var n=jce(t,r);return r.type="array",ik(n)}var i=0;if(r.sheet&&(typeof r.sheet=="number"?i=r.sheet:i=t.SheetNames.indexOf(r.sheet),!t.SheetNames[i]))throw new Error("Sheet not found: "+r.sheet+" : "+typeof r.sheet);switch(r.bookType||"xlsb"){case"xml":case"xlml":return zc(HZe(t,r),r);case"slk":case"sylk":return zc(Ule.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"htm":case"html":return zc(kce(t.Sheets[t.SheetNames[i]],r),r);case"txt":return ntt(Dce(t.Sheets[t.SheetNames[i]],r),r);case"csv":return zc(zD(t.Sheets[t.SheetNames[i]],r),r,"\uFEFF");case"dif":return zc(zle.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"dbf":return h2(pO.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"prn":return zc(Jg.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"rtf":return zc(Yle.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"eth":return zc($le.from_sheet(t.Sheets[t.SheetNames[i]],r),r);case"fods":return zc(Ice(t,r),r);case"wk1":return h2(M0.sheet_to_wk1(t.Sheets[t.SheetNames[i]],r),r);case"wk3":return h2(M0.book_to_wk3(t,r),r);case"biff2":r.biff||(r.biff=2);case"biff3":r.biff||(r.biff=3);case"biff4":return r.biff||(r.biff=4),h2(Sce(t,r),r);case"biff5":r.biff||(r.biff=5);case"biff8":case"xla":case"xls":return r.biff||(r.biff=8),rtt(t,r);case"xlsx":case"xlsm":case"xlam":case"xlsb":case"numbers":case"ods":return ett(t,r);default:throw new Error("Unrecognized bookType |"+r.bookType+"|")}}function itt(t){if(!t.bookType){var e={xls:"biff8",htm:"html",slk:"sylk",socialcalc:"eth",Sh33tJS:"WTF"},r=t.file.slice(t.file.lastIndexOf(".")).toLowerCase();r.match(/^\.[a-z]+$/)&&(t.bookType=r.slice(1)),t.bookType=e[t.bookType]||t.bookType}}function stt(t,e,r){var n={};return n.type="file",n.file=e,itt(n),jce(t,n)}function att(t,e,r,n,i,s,a,o){var l=Fi(r),u=o.defval,d=o.raw||!Object.prototype.hasOwnProperty.call(o,"raw"),f=!0,g=i===1?[]:{};if(i!==1)if(Object.defineProperty)try{Object.defineProperty(g,"__rowNum__",{value:r,enumerable:!1})}catch{g.__rowNum__=r}else g.__rowNum__=r;if(!a||t[r])for(var v=e.s.c;v<=e.e.c;++v){var x=a?t[r][v]:t[n[v]+l];if(x===void 0||x.t===void 0){if(u===void 0)continue;s[v]!=null&&(g[s[v]]=u);continue}var b=x.v;switch(x.t){case"z":if(b==null)break;continue;case"e":b=b==0?null:void 0;break;case"s":case"d":case"b":case"n":break;default:throw new Error("unrecognized type "+x.t)}if(s[v]!=null){if(b==null)if(x.t=="e"&&b===null)g[s[v]]=null;else if(u!==void 0)g[s[v]]=u;else if(d&&b===null)g[s[v]]=null;else continue;else g[s[v]]=d&&(x.t!=="n"||x.t==="n"&&o.rawNumbers!==!1)?b:Td(x,b,o);b!=null&&(f=!1)}}return{row:g,isempty:f}}function XT(t,e){if(t==null||t["!ref"]==null)return[];var r={t:"n",v:0},n=0,i=1,s=[],a=0,o="",l={s:{r:0,c:0},e:{r:0,c:0}},u=e||{},d=u.range!=null?u.range:t["!ref"];switch(u.header===1?n=1:u.header==="A"?n=2:Array.isArray(u.header)?n=3:u.header==null&&(n=0),typeof d){case"string":l=Cr(d);break;case"number":l=Cr(t["!ref"]),l.s.r=d;break;default:l=d}n>0&&(i=0);var f=Fi(l.s.r),g=[],v=[],x=0,b=0,w=Array.isArray(t),E=l.s.r,k=0,A={};w&&!t[E]&&(t[E]=[]);var O=u.skipHidden&&t["!cols"]||[],P=u.skipHidden&&t["!rows"]||[];for(k=l.s.c;k<=l.e.c;++k)if(!(O[k]||{}).hidden)switch(g[k]=hi(k),r=w?t[E][k]:t[g[k]+f],n){case 1:s[k]=k-l.s.c;break;case 2:s[k]=g[k];break;case 3:s[k]=u.header[k-l.s.c];break;default:if(r==null&&(r={w:"__EMPTY",t:"s"}),o=a=Td(r,null,u),b=A[a]||0,!b)A[a]=1;else{do o=a+"_"+b++;while(A[o]);A[a]=b,A[o]=1}s[k]=o}for(E=l.s.r+i;E<=l.e.r;++E)if(!(P[E]||{}).hidden){var j=att(t,l,E,g,n,s,w,u);(j.isempty===!1||(n===1?u.blankrows!==!1:u.blankrows))&&(v[x++]=j.row)}return v.length=x,v}var NK=/"/g;function ott(t,e,r,n,i,s,a,o){for(var l=!0,u=[],d="",f=Fi(r),g=e.s.c;g<=e.e.c;++g)if(n[g]){var v=o.dense?(t[r]||[])[g]:t[n[g]+f];if(v==null)d="";else if(v.v!=null){l=!1,d=""+(o.rawNumbers&&v.t=="n"?v.v:Td(v,null,o));for(var x=0,b=0;x!==d.length;++x)if((b=d.charCodeAt(x))===i||b===s||b===34||o.forceQuotes){d='"'+d.replace(NK,'""')+'"';break}d=="ID"&&(d='"ID"')}else v.f!=null&&!v.F?(l=!1,d="="+v.f,d.indexOf(",")>=0&&(d='"'+d.replace(NK,'""')+'"')):d="";u.push(d)}return o.blankrows===!1&&l?null:u.join(a)}function zD(t,e){var r=[],n=e??{};if(t==null||t["!ref"]==null)return"";var i=Cr(t["!ref"]),s=n.FS!==void 0?n.FS:",",a=s.charCodeAt(0),o=n.RS!==void 0?n.RS:`
`,l=o.charCodeAt(0),u=new RegExp((s=="|"?"\\|":s)+"+$"),d="",f=[];n.dense=Array.isArray(t);for(var g=n.skipHidden&&t["!cols"]||[],v=n.skipHidden&&t["!rows"]||[],x=i.s.c;x<=i.e.c;++x)(g[x]||{}).hidden||(f[x]=hi(x));for(var b=0,w=i.s.r;w<=i.e.r;++w)(v[w]||{}).hidden||(d=ott(t,i,w,f,a,l,s,n),d!=null&&(n.strip&&(d=d.replace(u,"")),(d||n.blankrows!==!1)&&r.push((b++?o:"")+d)));return delete n.dense,r.join("")}function Dce(t,e){e||(e={}),e.FS="	",e.RS=`
`;var r=zD(t,e);return r}function ltt(t){var e="",r,n="";if(t==null||t["!ref"]==null)return[];var i=Cr(t["!ref"]),s="",a=[],o,l=[],u=Array.isArray(t);for(o=i.s.c;o<=i.e.c;++o)a[o]=hi(o);for(var d=i.s.r;d<=i.e.r;++d)for(s=Fi(d),o=i.s.c;o<=i.e.c;++o)if(e=a[o]+s,r=u?(t[d]||[])[o]:t[e],n="",r!==void 0){if(r.F!=null){if(e=r.F,!r.f)continue;n=r.f,e.indexOf(":")==-1&&(e=e+":"+e)}if(r.f!=null)n=r.f;else{if(r.t=="z")continue;if(r.t=="n"&&r.v!=null)n=""+r.v;else if(r.t=="b")n=r.v?"TRUE":"FALSE";else if(r.w!==void 0)n="'"+r.w;else{if(r.v===void 0)continue;r.t=="s"?n="'"+r.v:n=""+r.v}}l[l.length]=e+"="+n}return l}function Mce(t,e,r){var n=r||{},i=+!n.skipHeader,s=t||{},a=0,o=0;if(s&&n.origin!=null)if(typeof n.origin=="number")a=n.origin;else{var l=typeof n.origin=="string"?fi(n.origin):n.origin;a=l.r,o=l.c}var u,d={s:{c:0,r:0},e:{c:o,r:a+e.length-1+i}};if(s["!ref"]){var f=Cr(s["!ref"]);d.e.c=Math.max(d.e.c,f.e.c),d.e.r=Math.max(d.e.r,f.e.r),a==-1&&(a=f.e.r+1,d.e.r=a+e.length-1+i)}else a==-1&&(a=0,d.e.r=e.length-1+i);var g=n.header||[],v=0;e.forEach(function(b,w){Ai(b).forEach(function(E){(v=g.indexOf(E))==-1&&(g[v=g.length]=E);var k=b[E],A="z",O="",P=Ft({c:o+v,r:a+w+i});u=Mx(s,P),k&&typeof k=="object"&&!(k instanceof Date)?s[P]=k:(typeof k=="number"?A="n":typeof k=="boolean"?A="b":typeof k=="string"?A="s":k instanceof Date?(A="d",n.cellDates||(A="n",k=ys(k)),O=n.dateNF||Dt[14]):k===null&&n.nullError&&(A="e",k=0),u?(u.t=A,u.v=k,delete u.w,delete u.R,O&&(u.z=O)):s[P]=u={t:A,v:k},O&&(u.z=O))})}),d.e.c=Math.max(d.e.c,o+g.length-1);var x=Fi(a);if(i)for(v=0;v<g.length;++v)s[hi(v+o)+x]={t:"s",v:g[v]};return s["!ref"]=tr(d),s}function ctt(t,e){return Mce(null,t,e)}function Mx(t,e,r){if(typeof e=="string"){if(Array.isArray(t)){var n=fi(e);return t[n.r]||(t[n.r]=[]),t[n.r][n.c]||(t[n.r][n.c]={t:"z"})}return t[e]||(t[e]={t:"z"})}return typeof e!="number"?Mx(t,Ft(e)):Mx(t,Ft({r:e,c:r||0}))}function utt(t,e){if(typeof e=="number"){if(e>=0&&t.SheetNames.length>e)return e;throw new Error("Cannot find sheet # "+e)}else if(typeof e=="string"){var r=t.SheetNames.indexOf(e);if(r>-1)return r;throw new Error("Cannot find sheet name |"+e+"|")}else throw new Error("Cannot find sheet |"+e+"|")}function $D(){return{SheetNames:[],Sheets:{}}}function HD(t,e,r,n){var i=1;if(!r)for(;i<=65535&&t.SheetNames.indexOf(r="Sheet"+i)!=-1;++i,r=void 0);if(!r||t.SheetNames.length>=65535)throw new Error("Too many worksheets");if(n&&t.SheetNames.indexOf(r)>=0){var s=r.match(/(^.*?)(\d+)$/);i=s&&+s[2]||0;var a=s&&s[1]||r;for(++i;i<=65535&&t.SheetNames.indexOf(r=a+i)!=-1;++i);}if(xce(r),t.SheetNames.indexOf(r)>=0)throw new Error("Worksheet with name |"+r+"| already exists!");return t.SheetNames.push(r),t.Sheets[r]=e,r}function dtt(t,e,r){t.Workbook||(t.Workbook={}),t.Workbook.Sheets||(t.Workbook.Sheets=[]);var n=utt(t,e);switch(t.Workbook.Sheets[n]||(t.Workbook.Sheets[n]={}),r){case 0:case 1:case 2:break;default:throw new Error("Bad sheet visibility setting "+r)}t.Workbook.Sheets[n].Hidden=r}function htt(t,e){return t.z=e,t}function Lce(t,e,r){return e?(t.l={Target:e},r&&(t.l.Tooltip=r)):delete t.l,t}function ftt(t,e,r){return Lce(t,"#"+e,r)}function mtt(t,e,r){t.c||(t.c=[]),t.c.push({t:e,a:r||"SheetJS"})}function ptt(t,e,r,n){for(var i=typeof e!="string"?e:Cr(e),s=typeof e=="string"?e:tr(e),a=i.s.r;a<=i.e.r;++a)for(var o=i.s.c;o<=i.e.c;++o){var l=Mx(t,a,o);l.t="n",l.F=s,delete l.v,a==i.s.r&&o==i.s.c&&(l.f=r,n&&(l.D=!0))}return t}var f2={encode_col:hi,encode_row:Fi,encode_cell:Ft,encode_range:tr,decode_col:xD,decode_row:yD,split_cell:EHe,decode_cell:fi,decode_range:xo,format_cell:Td,sheet_add_aoa:ule,sheet_add_json:Mce,sheet_add_dom:Ace,aoa_to_sheet:Dv,json_to_sheet:ctt,table_to_sheet:Cce,table_to_book:bet,sheet_to_csv:zD,sheet_to_txt:Dce,sheet_to_json:XT,sheet_to_html:kce,sheet_to_formulae:ltt,sheet_to_row_object_array:XT,sheet_get_cell:Mx,book_new:$D,book_append_sheet:HD,book_set_sheet_visibility:dtt,cell_set_number_format:htt,cell_set_hyperlink:Lce,cell_set_internal_link:ftt,cell_add_comment:mtt,sheet_set_array_formula:ptt,consts:{SHEET_VISIBLE:0,SHEET_HIDDEN:1,SHEET_VERY_HIDDEN:2}};const gtt=({courseId:t,courseName:e,licenseId:r,onClose:n,onSuccess:i})=>{const[s,a]=C.useState(null),[o,l]=C.useState([]),[u,d]=C.useState(!1),[f,g]=C.useState(0),v=C.useRef(null),x=k=>{if(k.target.files&&k.target.files[0]){const A=k.target.files[0];a(A),b(A)}},b=k=>{const A=new FileReader;A.onload=O=>{var M,L,U,le;const P=new Uint8Array((M=O.target)==null?void 0:M.result),j=xO(P,{type:"array"}),S=j.SheetNames[0],I=j.Sheets[S],R=f2.sheet_to_json(I,{header:1}),D=[];for(let ue=1;ue<R.length;ue++){const J=R[ue];if(!J||J.length===0)continue;const Q=(L=J[0])==null?void 0:L.toString().trim(),he=(U=J[1])==null?void 0:U.toString().trim();if(Q&&he){let Z=J[2];typeof Z=="number"?Z=new Date(Math.round((Z-25569)*86400*1e3)).toLocaleDateString("vi-VN"):Z=(Z==null?void 0:Z.toString().trim())||"";const ge=((le=J[3])==null?void 0:le.toString().trim())||"123456";D.push({sbd:Q,fullName:he,birthDate:Z,password:ge,status:"pending"})}}l(D)},A.readAsArrayBuffer(k)},w=async()=>{if(o.length===0)return;d(!0),g(0);const k="SecondaryAppForImport";let A;try{A=hm(k)}catch{A=bS(c4,k)}const O=mP(A),P=[...o];let j=0;for(let S=0;S<P.length;S++){const I=P[S];try{const R=`${I.sbd}@daotaothuyenvien.com`;let D="";try{D=(await uP(O,R,I.password||"123456")).user.uid}catch(M){throw M.code==="auth/email-already-in-use"?new Error("Ti khon (SBD)  tn ti."):M}D&&(await mv(Ht(Ye,"users",D),{fullName:I.fullName,email:R,role:"hoc_vien",birthDate:I.birthDate,courseId:t,courseName:e,class:e,isVerified:!0,defaultLicenseId:r||null,createdAt:sa(),updatedAt:sa(),photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(I.fullName)}&background=random`},{merge:!0}),await Un(Ht(Ye,"courses",t),{students:Y1(D)}),P[S].status="success",j++)}catch(R){console.error(`Error importing ${I.sbd}:`,R),P[S].status="error",P[S].message=R.message}l([...P]),g(Math.round((S+1)/P.length*100))}await FZ(O),d(!1),j===P.length?(alert(` import thnh cng ${j} hc vin!`),i(),n()):alert(` x l xong. Thnh cng: ${j}, Li: ${P.length-j}`)},E=()=>{const k=f2.aoa_to_sheet([["SBD","H v tn","Ngy sinh","Mt khu (Ty chn)"],["TS001","Nguyn Vn A","01/01/1990","123456"],["TS002","Trn Th B","15/05/1995",""]]),A=f2.book_new();f2.book_append_sheet(A,k,"Mau_Import"),stt(A,"Mau_Danh_Sach_Hoc_Vien.xlsx")};return m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:n,children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 h-[80vh] flex flex-col relative",onClick:k=>k.stopPropagation(),children:[m.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:m.jsx(zu,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2 text-green-600",children:[m.jsx(mte,{})," Import Hc Vin t Excel"]}),m.jsxs("div",{className:"flex gap-4 mb-6",children:[m.jsx("button",{onClick:E,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg text-sm font-medium transition",children:"Ti file mu"}),m.jsxs("div",{className:"relative",children:[m.jsx("input",{type:"file",ref:v,onChange:x,accept:".xlsx, .xls",className:"hidden"}),m.jsxs("button",{onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg text-sm font-medium transition flex items-center gap-2",children:[m.jsx(Jke,{})," Chn file Excel"]})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto border border-gray-200 dark:border-slate-700 rounded-lg mb-4",children:m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 sticky top-0",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-3 font-semibold",children:"SBD"}),m.jsx("th",{className:"p-3 font-semibold",children:"H tn"}),m.jsx("th",{className:"p-3 font-semibold",children:"Ngy sinh"}),m.jsx("th",{className:"p-3 font-semibold",children:"Trng thi"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[o.map((k,A)=>m.jsxs("tr",{className:k.status==="error"?"bg-red-50 dark:bg-red-900/20":k.status==="success"?"bg-green-50 dark:bg-green-900/20":"",children:[m.jsx("td",{className:"p-3",children:k.sbd}),m.jsx("td",{className:"p-3",children:k.fullName}),m.jsx("td",{className:"p-3",children:k.birthDate}),m.jsxs("td",{className:"p-3",children:[k.status==="pending"&&m.jsx("span",{className:"text-gray-500",children:"Ch x l"}),k.status==="success"&&m.jsxs("span",{className:"text-green-600 flex items-center gap-1",children:[m.jsx(vd,{})," Thnh cng"]}),k.status==="error"&&m.jsxs("span",{className:"text-red-600 flex items-center gap-1",children:[m.jsx(bv,{})," ",k.message]})]})]},A)),o.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:4,className:"p-10 text-center text-gray-500 italic",children:"Cha c d liu. Vui lng ti file Excel ln."})})]})]})}),m.jsxs("div",{className:"flex justify-between items-center pt-4 border-t border-gray-100 dark:border-slate-700",children:[m.jsx("div",{className:"text-sm text-gray-500",children:o.length>0&&`Tm thy ${o.length} hc vin.`}),m.jsx("button",{onClick:w,disabled:u||o.length===0,className:"bg-green-600 text-white px-6 py-2 rounded-lg hover:bg-green-700 shadow-lg font-bold disabled:opacity-50 disabled:cursor-not-allowed flex items-center gap-2",children:u?m.jsxs(m.Fragment,{children:[m.jsx(bte,{className:"animate-spin"})," ang x l ",f,"%"]}):"Thc hin Import"})]})]})})},vtt=({courseId:t,courseName:e,licenseId:r,onClose:n,onSuccess:i})=>{const[s,a]=C.useState(""),[o,l]=C.useState(""),[u,d]=C.useState(""),[f,g]=C.useState("123456"),[v,x]=C.useState(!1),[b,w]=C.useState(""),E=async k=>{k.preventDefault(),w(""),x(!0);const A="SecondaryAppForManualCreate";let O;try{O=hm(A)}catch{O=bS(c4,A)}const P=mP(O);try{const j=`${s.trim()}@daotaothuyenvien.com`;let S="";try{S=(await uP(P,j,f)).user.uid}catch(I){throw I.code==="auth/email-already-in-use"?new Error("S bo danh ny  tn ti trong h thng."):I}S&&(await mv(Ht(Ye,"users",S),{fullName:o.trim(),email:j,role:"hoc_vien",birthDate:u,courseId:t,courseName:e,class:e,isVerified:!0,defaultLicenseId:r||null,createdAt:sa(),updatedAt:sa(),photoURL:`https://ui-avatars.com/api/?name=${encodeURIComponent(o.trim())}&background=random`},{merge:!0}),await Un(Ht(Ye,"courses",t),{students:Y1(S)}),alert(` to ti khon thnh cng cho hc vin: ${o}`),i(),n())}catch(j){console.error("Error creating student:",j),w(j.message||"C li xy ra.")}finally{await FZ(P),x(!1)}};return m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:n,children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",onClick:k=>k.stopPropagation(),children:[m.jsx("button",{onClick:n,className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:m.jsx(zu,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-6 flex items-center gap-2 text-blue-600",children:[m.jsx(Ete,{})," Thm Hc Vin Th Cng"]}),m.jsxs("form",{onSubmit:E,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:["S Bo Danh (SBD) ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",value:s,onChange:k=>a(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"V d: TMK3-001",required:!0})]}),m.jsxs("div",{children:[m.jsxs("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:["H v Tn ",m.jsx("span",{className:"text-red-500",children:"*"})]}),m.jsx("input",{type:"text",value:o,onChange:k=>l(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"V d: Nguyn Vn A",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Ngy sinh"}),m.jsx("input",{type:"text",value:u,onChange:k=>d(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white",placeholder:"DD/MM/YYYY"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 dark:text-gray-300 mb-1",children:"Mt khu mc nh"}),m.jsx("input",{type:"text",value:f,onChange:k=>g(k.target.value),className:"w-full border border-gray-300 rounded-lg px-3 py-2 focus:ring-2 focus:ring-blue-500 outline-none dark:bg-slate-700 dark:border-slate-600 dark:text-white bg-gray-100"})]}),b&&m.jsxs("div",{className:"bg-red-50 text-red-600 p-3 rounded-lg text-sm flex items-center gap-2",children:[m.jsx(bv,{})," ",b]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t border-gray-100 dark:border-slate-700 mt-6",children:[m.jsx("button",{type:"button",onClick:n,className:"px-4 py-2 bg-gray-100 hover:bg-gray-200 text-gray-700 rounded-lg font-medium transition",children:"Hy"}),m.jsx("button",{type:"submit",disabled:v,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-bold shadow-lg transition flex items-center gap-2 disabled:opacity-70",children:v?m.jsxs(m.Fragment,{children:[m.jsx(bte,{className:"animate-spin"})," ang to..."]}):"To ti khon"})]})]})]})})},ytt=t=>{switch(t){case"admin":return"Qun tr vin";case"lanh_dao":return"Lnh o";case"quan_ly":return"Qun l";case"giao_vien":return"Gio vin";case"hoc_vien":return"Hc vin";default:return t}},v5=t=>t==="admin"?10:t==="lanh_dao"?5:t==="quan_ly"?2:t==="giao_vien"?1:0,bn=t=>(t||"").toLowerCase(),xtt=({userProfile:t,onBack:e})=>{var xu,Ja;const[r,n]=C.useState([]),[i,s]=C.useState(null),[a,o]=C.useState(!0),[l,u]=C.useState({}),[d,f]=C.useState(!0),[g,v]=C.useState([]),[x,b]=C.useState([]),[w,E]=C.useState([]),[k,A]=C.useState([]),[O,P]=C.useState({}),[j,S]=C.useState(!1),[I,R]=C.useState(!1),[D,M]=C.useState(""),[L,U]=C.useState(""),[le,ue]=C.useState(!1),[J,Q]=C.useState(!1),[he,Z]=C.useState(new Set),[ge,H]=C.useState(!1),[B,q]=C.useState(!1),[W,Y]=C.useState(null),[de,me]=C.useState([]),[ce,se]=C.useState(!1),[ve,Ve]=C.useState({}),[G,Ze]=C.useState(!1),[Ie,tt]=C.useState(null),[Qe,je]=C.useState(!1),[rt,vt]=C.useState(!1),[It,Xr]=C.useState(!1),[qr,Mr]=C.useState(!1),[Wt,Tr]=C.useState(!1),[Sn,pi]=C.useState(""),[xe,Ke]=C.useState(""),[nt,Pt]=C.useState(!1),[Gt,rr]=C.useState(!1),[br,Ui]=C.useState(null),[Qr,Ll]=C.useState(""),[da,us]=C.useState(""),[gi,_o]=C.useState("system"),[Jr,zi]=C.useState(""),[At,wr]=C.useState(!1),[In,si]=C.useState("list"),[ai,Zr]=C.useState([]),[$i,Es]=C.useState(!1),[en,Ci]=C.useState(null),[Ws,vi]=C.useState(""),[K,ae]=C.useState(""),[ee,ne]=C.useState(""),[ie,oe]=C.useState(""),[we,Me]=C.useState(10),[be,Te]=C.useState(1),[_e,We]=C.useState("fullName"),[Xe,lt]=C.useState("asc"),qe=v5(t.role)>=2,et=["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role),pt=v5(t.role)>=2,Lr=v5(t.role)>=2,Fr=te=>te.roomId?"Thi Trc Tuyn":te.quizId==="exam-quiz"||te.quizId==="thithu2"||te.type==="Thi th"||te.quizTitle&&te.quizTitle.includes("Thi th")?"Thi th":"n tp",tn=te=>{switch(te){case"Thi Trc Tuyn":return"bg-red-100 text-red-800 border-red-200";case"Thi th":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-blue-100 text-blue-800 border-blue-200"}},Ts=te=>{if(te.roomId&&ve[te.roomId]){const Oe=ve[te.roomId];return`Phng thi ${Oe.name} / ${Oe.course_name||"T do"} / ${Oe.license_name||""}`}return te.quizTitle||(te.roomId?`Phng thi ${te.roomId}`:te.type)};C.useEffect(()=>{(async()=>{try{const Oe=pr(qt(Ye,"courses")),wt=(await _n(Oe)).docs.map(Gr=>({id:Gr.id,...Gr.data()}));n(wt);const mt=new Set(wt.map(Gr=>Gr.headTeacherId).filter(Boolean)),Wr={};for(const Gr of Array.from(mt))if(Gr)try{const fn=await ed(Ht(Ye,"users",Gr));fn.exists()&&(Wr[Gr]=fn.data().fullName)}catch{}u(Wr)}catch(Oe){console.error(Oe)}finally{o(!1)}})(),Pn(async()=>{const{fetchLicenses:Oe}=await Promise.resolve().then(()=>wM);return{fetchLicenses:Oe}},void 0).then(({fetchLicenses:Oe})=>{Oe().then(Zr).catch(console.error)})},[t]),C.useEffect(()=>{if(!i)return;let te,Oe;if(i.teacherIds&&i.teacherIds.length>0)try{const wt=[...new Set(i.teacherIds.filter(mt=>mt&&mt.trim()!==""))].slice(0,10);if(wt.length>0){const mt=pr(qt(Ye,"users"),kr(FS(),"in",wt));te=Ho(mt,Wr=>{b(Wr.docs.map(Gr=>{const fn=Gr.data();return{uid:Gr.id,...fn,photoURL:fn.photoURL||nf(fn.role)}}))})}else b([])}catch(wt){console.error("Teacher fetch error:",wt),b([])}else b([]);const ct=pr(qt(Ye,"users"),kr("courseId","==",i.id));return Oe=Ho(ct,async wt=>{const mt=wt.docs.map(Gr=>{const fn=Gr.data();return{uid:Gr.id,...fn,photoURL:fn.photoURL||nf(fn.role)}});v(mt);const Wr={};await Promise.all(mt.map(async Gr=>{try{const fn=await LT(Gr.uid);if(fn&&fn.length>0){const qi=fn[0];Wr[Gr.uid]={type:qi.quizTitle||qi.type||"Bi thi",time:qi.completedAt?qi.completedAt.toLocaleString("vi-VN"):"--",score:`${qi.score}/${qi.totalQuestions} cu`,rawDate:qi.completedAt}}else Wr[Gr.uid]={type:"--",time:"--",score:"--"}}catch{Wr[Gr.uid]={type:"Li",time:"--",score:"--"}}})),P(Wr)}),()=>{te&&te(),Oe&&Oe()}},[i]);const Da=C.useMemo(()=>{let te=[...g];if(D){const Oe=D.toLowerCase();te=te.filter(ct=>{var wt,mt,Wr;return((wt=ct.fullName)==null?void 0:wt.toLowerCase().includes(Oe))||((mt=ct.email)==null?void 0:mt.toLowerCase().includes(Oe))||((Wr=ct.phoneNumber)==null?void 0:Wr.includes(Oe))})}return te.sort((Oe,ct)=>{let wt=Oe[_e],mt=ct[_e];return _e==="status"&&(wt=Oe.isVerified||Oe.courseId?1:0,mt=ct.isVerified||ct.courseId?1:0),wt||(wt=""),mt||(mt=""),wt<mt?Xe==="asc"?-1:1:wt>mt?Xe==="asc"?1:-1:0}),te},[g,D,_e,Xe]),Ss=Math.ceil(Da.length/we),Ni=Da.slice((be-1)*we,be*we),Qa=te=>{_e===te?lt(Oe=>Oe==="asc"?"desc":"asc"):(We(te),lt("asc"))},yi=te=>_e!==te?m.jsx(xte,{className:"ml-1 text-gray-300 inline"}):Xe==="asc"?m.jsx(yte,{className:"ml-1 text-blue-500 inline"}):m.jsx(vte,{className:"ml-1 text-blue-500 inline"});C.useEffect(()=>{j&&(async()=>{const Oe=pr(qt(Ye,"users"),kr("role","in",["hoc_vien"])),wt=(await _n(Oe)).docs.map(mt=>({uid:mt.id,...mt.data()}));E(wt.filter(mt=>mt.courseId!==(i==null?void 0:i.id)||!mt.courseId))})()},[j,i]),C.useEffect(()=>{I&&(async()=>{const Oe=pr(qt(Ye,"users"),kr("role","in",["giao_vien","admin","quan_ly","lanh_dao"])),wt=(await _n(Oe)).docs.map(mt=>({uid:mt.id,...mt.data()}));A(wt.filter(mt=>!((i==null?void 0:i.teacherIds)||[]).includes(mt.uid)))})()},[I,i]),C.useEffect(()=>{B&&W&&(se(!0),(async()=>{const Oe=await LT(W.uid);Oe.sort((wt,mt)=>mt.completedAt.getTime()-wt.completedAt.getTime()),me(Oe);const ct=Array.from(new Set(Oe.filter(wt=>wt.roomId).map(wt=>wt.roomId)));if(ct.length>0){const wt={};await Promise.all(ct.map(async mt=>{try{const Wr=await ed(Ht(Ye,"exam_rooms",mt));Wr.exists()&&(wt[mt]=Wr.data())}catch{}})),Ve(wt)}se(!1)})())},[B,W]);const Ma=async te=>{te.preventDefault();try{await Zh(qt(Ye,"courses"),{name:Sn,description:xe,teacherIds:[],createdAt:sa(),createdBy:t.id,licenseId:ie}),Tr(!1),pi(""),Ke(""),oe(""),window.location.reload()}catch(Oe){console.error(Oe)}},xi=async te=>{if(te.preventDefault(),!!en)try{if(await Un(Ht(Ye,"courses",en.id),{name:Ws,description:K,licenseId:ee}),en.licenseId!==ee){const Oe=pr(qt(Ye,"users"),kr("courseId","==",en.id)),wt=(await _n(Oe)).docs.map(mt=>Un(Ht(Ye,"users",mt.id),{defaultLicenseId:ee||null}));await Promise.all(wt)}alert("Cp nht lp hc thnh cng!"),n(Oe=>Oe.map(ct=>ct.id===en.id?{...ct,name:Ws,description:K,licenseId:ee}:ct)),(i==null?void 0:i.id)===en.id&&s(Oe=>Oe?{...Oe,name:Ws,description:K,licenseId:ee}:null),Es(!1)}catch(Oe){console.error(Oe),alert("Li khi cp nht lp.")}},Hi=async te=>{if(confirm("Bn c chc chn mun xa lp ny? Hnh ng ny khng th hon tc!"))try{const Oe=pr(qt(Ye,"users"),kr("courseId","==",te)),wt=(await _n(Oe)).docs.map(mt=>Un(Ht(Ye,"users",mt.id),{courseId:null,courseName:null,class:null,isVerified:!1}));await Promise.all(wt),await Pn(async()=>{const{deleteDoc:mt}=await Promise.resolve().then(()=>$0);return{deleteDoc:mt}},void 0).then(({deleteDoc:mt})=>mt(Ht(Ye,"courses",te))),n(mt=>mt.filter(Wr=>Wr.id!==te)),alert(" xa lp hc!"),(i==null?void 0:i.id)===te&&s(null)}catch(Oe){console.error(Oe),alert("Li khi xa lp.")}},kc=(te,Oe)=>{Oe.stopPropagation(),Ci(te),vi(te.name),ae(te.description||""),ne(te.licenseId||""),Es(!0)},Nf=async te=>{if(!i)return;const Oe=w.find(ct=>ct.uid===te);if(Oe&&Oe.courseId){alert(`Hc vin ny ang hc lp ${Oe.courseName||Oe.courseId}. Vui lng xa khi lp c trc khi thm vo lp mi.`);return}ue(!0);try{await Un(Ht(Ye,"users",te),{courseId:i.id,courseName:i.name,class:i.name,isVerified:!0,defaultLicenseId:i.licenseId||null,updatedAt:sa()}),E(ct=>ct.filter(wt=>wt.uid!==te)),alert(` thm hc vin vo lp ${i.name}`)}catch(ct){console.error(ct),alert("Li khi thm hc vin.")}finally{ue(!1)}},Br=async te=>{if(i){Q(!0);try{const Oe=Ht(Ye,"courses",i.id);await Un(Oe,{teacherIds:Y1(te),...nt?{headTeacherId:te}:{}}),A(ct=>ct.filter(wt=>wt.uid!==te)),nt&&s(ct=>ct?{...ct,headTeacherId:te}:null),s(ct=>ct?{...ct,teacherIds:[...ct.teacherIds||[],te]}:null)}catch(Oe){console.error(Oe)}finally{Q(!1)}}},vu=async te=>{if(i&&confirm("Bn c chc chn xo gio vin ny khi lp?"))try{const Oe=Ht(Ye,"courses",i.id);await Un(Oe,{teacherIds:rP(te),...i.headTeacherId===te?{headTeacherId:null}:{}}),s(ct=>ct?{...ct,teacherIds:(ct.teacherIds||[]).filter(wt=>wt!==te),headTeacherId:ct.headTeacherId===te?void 0:ct.headTeacherId}:null)}catch(Oe){console.error("Error removing teacher:",Oe)}},Eo=async te=>{if(confirm("Bn c chc chn mun xa hc vin ny khi lp?"))try{await Un(Ht(Ye,"users",te),{courseId:null,courseName:null,class:null,isVerified:!1})}catch(Oe){console.error(Oe)}},yu=te=>{const Oe=new Set(he);Oe.has(te)?Oe.delete(te):Oe.add(te),Z(Oe)},ha=te=>{if(he.size===te.length&&te.length>0)Z(new Set);else{const Oe=new Set(te.map(ct=>ct.uid));Z(Oe)}},Fd=async()=>{if(!(he.size===0||!i)&&confirm(`Bn c chc mun thm ${he.size} hc vin vo lp ${i.name}?`)){H(!0);try{const te=Array.from(he).map(async Oe=>{if(!w.find(Wr=>Wr.uid===Oe))return;const wt=Ht(Ye,"users",Oe);await Un(wt,{courseId:i.id,courseName:i.name,isVerified:!0,defaultLicenseId:i.licenseId||null,class:i.name,updatedAt:sa()});const mt=Ht(Ye,"courses",i.id);await Un(mt,{students:Y1(Oe)})});await Promise.all(te),alert(` thm thnh cng ${he.size} hc vin!`),S(!1),Z(new Set)}catch(te){console.error(te),alert("C li xy ra khi thm nhiu hc vin.")}finally{H(!1)}}},Bd=(te,Oe,ct)=>{Ui({type:te,id:Oe,name:ct}),Ll(""),us(""),rr(!0)},If=async te=>{if(te.preventDefault(),!(!br||!t.id)){wr(!0);try{const Oe=Jr?new Date(Jr):null,ct=gi==="special"||gi==="attention",wt=ct?"all":br.type,mt=ct?null:br.id;await lte(Qr,da,gi,wt,mt,t.id,t.full_name,Oe),alert("Gi thng bo thnh cng!"),rr(!1)}catch(Oe){console.error(Oe),alert("Li khi gi thng bo. C th thiu Index Firestore.")}finally{wr(!1)}}},Fl=async(te,Oe)=>{var wt;const ct=prompt(`Nhp mt khu mi cho hc vin ${Oe}:`,"123456");if(ct!==null){if(!ct||ct.length<6){alert("Mt khu phi c t nht 6 k t.");return}try{const mt=await((wt=js.currentUser)==null?void 0:wt.getIdToken());if(!mt){alert("Li xc thc.");return}const Wr=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${mt}`},body:JSON.stringify({targetUserId:te,newPassword:ct})}),Gr=await Wr.json();Wr.ok?alert(` i mt khu cho ${Oe} thnh cng!`):alert(`Li: ${Gr.error}`)}catch(mt){console.error(mt),alert("Li kt ni.")}}},jm=async()=>{if(Ie){je(!0);try{const te=Oe=>Oe===void 0?null:Oe;await Un(Ht(Ye,"users",Ie.uid),{fullName:te(Ie.fullName),birthDate:te(Ie.birthDate),email:te(Ie.email),phoneNumber:te(Ie.phoneNumber),address:te(Ie.address),cccd:te(Ie.cccd),cccdDate:te(Ie.cccdDate),cccdPlace:te(Ie.cccdPlace),class:te(Ie.class),courseCode:te(Ie.courseCode),role:te(Ie.role)}),alert(" cp nht thng tin hc vin!"),Ze(!1),vt(!1)}catch(te){console.error("Error updating user:",te),alert("Li khi cp nht thng tin.")}finally{je(!1)}}},Ac=async(te,Oe)=>{try{await Un(Ht(Ye,"users",te),{offlineAccess:!Oe,updatedAt:sa()})}catch(ct){console.error("Error toggling offline access:",ct),alert("Li khi cp nht quyn Offline.")}},[Fn,Cc]=C.useState(new Set),[Vd,Ud]=C.useState(!1),zd=te=>{const Oe=new Set(Fn);Oe.has(te)?Oe.delete(te):Oe.add(te),Cc(Oe)},Dm=()=>{Fn.size===Ni.length&&Ni.length>0?Cc(new Set):Cc(new Set(Ni.map(te=>te.uid)))},Bl=async te=>{if(Fn.size!==0&&confirm(`Bn c chc mun ${te?"BT":"TT"} quyn Offline cho ${Fn.size} hc vin?`)){Ud(!0);try{const Oe=Array.from(Fn).map(ct=>Un(Ht(Ye,"users",ct),{offlineAccess:te,updatedAt:sa()}));await Promise.all(Oe),alert(` ${te?"bt":"tt"} Offline cho ${Fn.size} hc vin!`),Cc(new Set)}catch(Oe){console.error("Bulk offline toggle error:",Oe),alert("C li xy ra.")}finally{Ud(!1)}}};return i?m.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right relative",children:[m.jsxs("div",{className:"bg-gradient-to-r from-blue-600 to-cyan-600 rounded-2xl p-6 mb-8 text-white shadow-lg relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 p-4 opacity-20",children:m.jsx(y0,{className:"w-32 h-32 transform rotate-12"})}),m.jsxs("div",{className:"relative z-10",children:[m.jsxs("button",{onClick:e,className:"absolute top-0 left-0 bg-white/20 hover:bg-white/30 text-white px-3 py-1 rounded text-sm transition flex items-center gap-1 backdrop-blur-sm",children:[m.jsx(N0,{})," Quay li Dashboard"]}),m.jsxs("div",{className:"mt-8",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-2",children:[m.jsx("div",{className:"p-3 bg-white/20 rounded-xl backdrop-blur-md",children:m.jsx(WI,{className:"w-8 h-8"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold",children:i.name}),m.jsx("p",{className:"opacity-90",children:i.description||"Cha c m t"})]})]}),i.licenseId&&m.jsxs("div",{className:"inline-flex items-center gap-2 bg-yellow-400 text-black px-3 py-1 rounded-full text-sm font-bold shadow-sm mt-2",children:[m.jsx(DE,{}),((xu=ai.find(te=>te.id===i.licenseId))==null?void 0:xu.name)||i.licenseId]})]})]})]}),j&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>S(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 h-[80vh] flex flex-col relative",onClick:te=>te.stopPropagation(),children:[m.jsx("button",{onClick:()=>S(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full border border-gray-200 dark:border-slate-600",children:m.jsx(zu,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsxs("span",{className:"text-gray-800 dark:text-white",children:["Thm Hc Vin vo ",i.name]}),i.licenseId&&m.jsxs("span",{className:"text-xs px-2 py-1 bg-yellow-100 text-yellow-800 rounded-full border border-yellow-200",children:["Hng: ",((Ja=ai.find(te=>te.id===i.licenseId))==null?void 0:Ja.name)||i.licenseId]})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(KI,{className:"absolute left-3 top-3 text-gray-400"}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Tm kim tn, email, st...",value:D,onChange:te=>M(te.target.value)})]}),m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-blue-50 dark:bg-blue-900/30 rounded-lg border border-blue-100 dark:border-blue-800 px-4 cursor-pointer",onClick:()=>f(!d),children:[m.jsx("input",{type:"checkbox",checked:d,onChange:te=>f(te.target.checked),className:"w-5 h-5 text-blue-600 rounded focus:ring-blue-500"}),m.jsx("label",{className:"text-sm font-medium text-gray-700 dark:text-gray-200 cursor-pointer select-none",children:"Ch hin hc vin cha c lp"})]})]}),m.jsxs("div",{className:"grid grid-cols-12 gap-2 text-xs font-bold text-gray-500 uppercase px-3 pb-2 border-b border-gray-100 dark:border-slate-700 items-center",children:[m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:w.filter(te=>{const Oe=bn(te.fullName).includes(bn(D))||bn(te.email).includes(bn(D))||bn(te.phoneNumber).includes(bn(D)),ct=d?!te.courseId:!0;return Oe&&ct}).length>0&&he.size===w.filter(te=>{const Oe=bn(te.fullName).includes(bn(D))||bn(te.email).includes(bn(D))||bn(te.phoneNumber).includes(bn(D)),ct=d?!te.courseId:!0;return Oe&&ct}).length,onChange:()=>ha(w.filter(te=>{const Oe=bn(te.fullName).includes(bn(D))||bn(te.email).includes(bn(D))||bn(te.phoneNumber).includes(bn(D)),ct=d?!te.courseId:!0;return Oe&&ct}))})}),m.jsx("div",{className:"col-span-4",children:"Hc vin"}),m.jsx("div",{className:"col-span-2",children:"Ngy sinh/ST"}),m.jsx("div",{className:"col-span-2",children:"a ch"}),m.jsx("div",{className:"col-span-2",children:"Lp (T in)"}),m.jsx("div",{className:"col-span-1 text-center",children:"Thao tc"})]}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2 mt-2",children:w.filter(te=>{const Oe=bn(te.fullName).includes(bn(D))||bn(te.email).includes(bn(D))||bn(te.phoneNumber).includes(bn(D)),ct=d?!te.courseId:!0;return Oe&&ct}).map(te=>m.jsxs("div",{className:`grid grid-cols-12 gap-2 items-center p-3 rounded-lg border transition ${he.has(te.uid)?"bg-blue-50 border-blue-200 dark:bg-blue-900/20 dark:border-blue-800":"bg-gray-50 border-transparent hover:bg-gray-100 dark:bg-slate-700/50 dark:hover:bg-slate-700"}`,children:[m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:he.has(te.uid),onChange:()=>yu(te.uid)})}),m.jsxs("div",{className:"col-span-4 flex items-center gap-3 overflow-hidden",children:[m.jsx("img",{src:te.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`,onError:Oe=>{Oe.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`},className:"w-10 h-10 rounded-full border border-gray-200 flex-shrink-0"}),m.jsxs("div",{className:"min-w-0",children:[m.jsx("p",{className:"font-bold text-sm truncate text-gray-900 dark:text-white",title:te.fullName,children:te.fullName}),m.jsx("p",{className:"text-xs text-gray-500 truncate",title:te.email,children:te.email})]})]}),m.jsxs("div",{className:"col-span-2 text-sm text-gray-700 dark:text-gray-300",children:[m.jsx("div",{className:"text-xs text-gray-500",children:te.birthDate||"--/--/----"}),m.jsx("div",{className:"font-medium",children:te.phoneNumber||"---"})]}),m.jsx("div",{className:"col-span-2 text-sm text-gray-700 dark:text-gray-300",children:m.jsx("p",{className:"line-clamp-2 text-xs",title:te.address||te.cccdPlace,children:te.address||te.cccdPlace||"---"})}),m.jsxs("div",{className:"col-span-2 text-sm",children:[m.jsx("div",{className:"text-xs text-gray-900 dark:text-gray-100 font-medium truncate",title:te.class,children:te.class||"---"}),te.courseName&&m.jsxs("div",{className:"text-[10px] text-yellow-600 bg-yellow-50 px-1 rounded inline-block mt-1 truncate max-w-full",children:["ang hc: ",te.courseName]})]}),m.jsx("div",{className:"col-span-1 flex justify-center",children:m.jsx("button",{onClick:()=>Nf(te.uid),disabled:le,className:"bg-blue-600 text-white p-2 rounded hover:bg-blue-700 disabled:opacity-50 shadow-sm transition-transform active:scale-95",title:"Thm vo lp",children:m.jsx(Th,{})})})]},te.uid))}),he.size>0&&m.jsx("div",{className:"absolute bottom-6 right-6 left-6 flex justify-center z-10 animate-bounce-in",children:m.jsx("button",{onClick:Fd,disabled:ge,className:"bg-blue-600 text-white px-8 py-3 rounded-full shadow-xl hover:bg-blue-700 hover:scale-105 transition flex items-center gap-2 font-bold text-lg disabled:opacity-70 disabled:scale-100",children:ge?m.jsx(m.Fragment,{children:"Adding..."}):m.jsxs(m.Fragment,{children:[m.jsx(Th,{})," Thm ",he.size," hc vin"]})})})]})}),document.body),I&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>R(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 h-[80vh] flex flex-col relative",onClick:te=>te.stopPropagation(),children:[m.jsx("button",{onClick:()=>R(!1),className:"absolute top-4 right-4 bg-gray-100 p-2 rounded-full",children:m.jsx(zu,{})}),m.jsx("h2",{className:"text-xl font-bold mb-4",children:"Thm Gio Vin"}),m.jsxs("div",{className:"flex items-center gap-2 p-2 bg-yellow-50 rounded mb-4",children:[m.jsx("input",{type:"checkbox",checked:nt,onChange:te=>Pt(te.target.checked),className:"w-5 h-5 text-yellow-600"}),m.jsx("label",{className:"text-sm font-medium",children:"t lm GVCN"})]}),m.jsxs("div",{className:"relative mb-4",children:[m.jsx(KI,{className:"absolute left-3 top-3 text-gray-400"}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded dark:bg-slate-700",placeholder:"Tm kim gio vin...",value:L,onChange:te=>U(te.target.value)})]}),m.jsx("div",{className:"flex-1 overflow-y-auto pr-2 space-y-2",children:k.filter(te=>bn(te.fullName).includes(bn(L))||bn(te.email).includes(bn(L))).map(te=>m.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg hover:bg-gray-100 transition",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:te.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`,onError:Oe=>{Oe.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`},className:"w-10 h-10 rounded-full"}),m.jsxs("div",{children:[m.jsx("p",{className:"font-bold text-sm",children:te.fullName}),m.jsx("p",{className:"text-xs text-gray-500",children:te.email})]})]}),m.jsx("button",{onClick:()=>Br(te.uid),disabled:J,className:"bg-green-600 text-white px-3 py-1 rounded hover:bg-green-700 disabled:opacity-50 text-sm",children:"Thm"})]},te.uid))})]})}),document.body),B&&W&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>q(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-5xl p-6 h-[80vh] flex flex-col relative",onClick:te=>te.stopPropagation(),children:[m.jsx("button",{onClick:()=>q(!1),className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full",children:m.jsx(zu,{})}),m.jsxs("h2",{className:"text-xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(b1,{className:"text-blue-500"})," Lch s lm bi: ",m.jsx("span",{className:"text-blue-600",children:W.fullName})]}),m.jsx("div",{className:"flex-1 overflow-y-auto",children:ce?m.jsx("div",{className:"p-10 text-center text-gray-500",children:"ang ti lch s..."}):de.length===0?m.jsx("div",{className:"p-10 text-center text-gray-500 italic",children:"Hc vin ny cha lm bi thi no."}):m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left text-sm border-collapse",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-700 sticky top-0 text-gray-500 uppercase text-xs",children:m.jsxs("tr",{children:[m.jsx("th",{className:"p-4 font-semibold",children:"Loi"}),m.jsx("th",{className:"p-4 font-semibold",children:"Bi thi"}),m.jsx("th",{className:"p-4 font-semibold text-center",children:"im s"}),m.jsx("th",{className:"p-4 font-semibold",children:"Gi np"}),m.jsx("th",{className:"p-4 font-semibold",children:"Ngy np"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:de.map(te=>{const Oe=Fr(te);return m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition-colors",children:[m.jsx("td",{className:"p-4 align-middle",children:m.jsx("span",{className:`inline-block px-3 py-1 rounded-full text-xs font-bold border ${tn(Oe)}`,children:Oe})}),m.jsx("td",{className:"p-4 align-middle font-medium text-gray-900 dark:text-gray-100",children:Ts(te)}),m.jsxs("td",{className:"p-4 align-middle text-center",children:[m.jsx("span",{className:"font-bold text-blue-600 dark:text-blue-400",children:te.score}),m.jsxs("span",{className:"text-gray-400 text-xs",children:[" / ",te.totalQuestions]})]}),m.jsx("td",{className:"p-4 align-middle text-gray-500",children:new Date(te.completedAt).toLocaleTimeString("vi-VN",{hour:"2-digit",minute:"2-digit"})}),m.jsx("td",{className:"p-4 align-middle text-gray-500",children:new Date(te.completedAt).toLocaleDateString("vi-VN")})]},te.id)})})]})})})]})}),document.body),G&&Ie&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",onClick:()=>Ze(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-4xl p-6 relative animate-scale-up max-h-[90vh] overflow-y-auto",onClick:te=>te.stopPropagation(),children:[m.jsx("button",{onClick:()=>{Ze(!1),vt(!1)},className:"absolute top-4 right-4 bg-gray-100 dark:bg-slate-700 p-2 rounded-full hover:bg-gray-200 transition",children:m.jsx(zu,{})}),m.jsx("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2 text-blue-700 dark:text-blue-400",children:rt?m.jsxs(m.Fragment,{children:[m.jsx(Uu,{className:"text-yellow-500"})," Cp Nht Thng Tin"]}):m.jsxs(m.Fragment,{children:[m.jsx(ig,{className:"text-blue-500"})," H S Hc Vin"]})}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"H v Tn"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.fullName,readOnly:!rt,onChange:te=>tt({...Ie,fullName:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ngy sinh"}),m.jsx("input",{type:"date",className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.birthDate||"",readOnly:!rt,onChange:te=>tt({...Ie,birthDate:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Lp hc (Kha hc)"}),m.jsx("input",{className:"w-full p-2.5 border rounded-lg dark:bg-slate-700 bg-gray-50 border-transparent cursor-default",value:Ie.courseName||Ie.courseCode||"--",readOnly:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ngy cp CCCD"}),m.jsx("input",{type:rt?"date":"text",className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.cccdDate||"",readOnly:!rt,onChange:te=>tt({...Ie,cccdDate:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"a ch"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.address||"",readOnly:!rt,onChange:te=>tt({...Ie,address:te.target.value})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"S in thoi"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.phoneNumber||"",readOnly:!rt,onChange:te=>tt({...Ie,phoneNumber:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Lp hc (t in)"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.class||"",placeholder:"V d: Th my k2",readOnly:!rt,onChange:te=>tt({...Ie,class:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"S CCCD"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.cccd||"",readOnly:!rt,onChange:te=>tt({...Ie,cccd:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Ni cp"}),m.jsx("input",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default"}`,value:Ie.cccdPlace||"",readOnly:!rt,onChange:te=>tt({...Ie,cccdPlace:te.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-semibold mb-1 text-gray-700 dark:text-gray-300",children:"Vai tr"}),m.jsxs("select",{className:`w-full p-2.5 border rounded-lg dark:bg-slate-700 ${rt?"focus:ring-2 focus:ring-blue-500":"bg-gray-50 border-transparent cursor-default appearance-none pointer-events-none"}`,value:Ie.role,disabled:!rt,onChange:te=>tt({...Ie,role:te.target.value}),children:[m.jsx("option",{value:"hoc_vien",children:"Hc vin"}),m.jsx("option",{value:"student",children:"Hc sinh"}),m.jsx("option",{value:"teacher",children:"Gio vin"})]})]})]})]}),m.jsx("div",{className:"flex justify-end gap-3 mt-8 pt-4 border-t border-gray-100 dark:border-slate-700",children:rt?m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>vt(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-gray-700 font-medium",children:"Hy b"}),m.jsxs("button",{onClick:jm,disabled:Qe,className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg font-medium transition-transform active:scale-95",children:[m.jsx(YP,{})," ",Qe?"ang lu...":"Lu Thay i"]})]}):m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>Ze(!1),className:"px-4 py-2 bg-gray-100 rounded-lg hover:bg-gray-200 text-gray-700 font-medium",children:"ng"}),m.jsxs("button",{onClick:()=>vt(!0),className:"px-6 py-2 bg-blue-600 text-white rounded-lg hover:bg-blue-700 flex items-center gap-2 shadow-lg font-medium transition-transform active:scale-95",children:[m.jsx(Uu,{})," Chnh sa"]})]})})]})}),document.body),Gt&&br&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-[9999] p-4",onClick:()=>rr(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-2xl p-6 w-full max-w-md animate-scale-up",onClick:te=>te.stopPropagation(),children:[m.jsxs("h2",{className:"text-2xl font-bold mb-4 flex items-center gap-2",children:[m.jsx(C_,{className:"text-yellow-500"})," Gi Thng Bo"]}),m.jsxs("p",{className:"text-sm text-gray-500 mb-6",children:["To: ",m.jsx("span",{className:"font-bold text-blue-600",children:br.name})]}),m.jsxs("form",{onSubmit:If,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Loi thng bo"}),m.jsxs("select",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:gi,onChange:te=>_o(te.target.value),children:[m.jsx("option",{value:"system",children:"Bnh thng"}),["admin","lanh_dao","quan_ly"].includes(t.role)&&m.jsxs(m.Fragment,{children:[m.jsx("option",{value:"attention",children:" Ch  (Chy ch vng)"}),m.jsx("option",{value:"special",children:" C BIT (Chy ch )"})]})]})]}),(gi==="special"||gi==="attention")&&m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Hiu lc chy ch n"}),m.jsx("input",{type:"datetime-local",className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",value:Jr,onChange:te=>zi(te.target.value),required:!0}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Sau thi gian ny, thng bo s ngng chy ngang mn hnh."})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tiu "}),m.jsx("input",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 focus:ring-2 focus:ring-blue-500 outline-none",placeholder:"Tiu ...",value:Qr,onChange:te=>Ll(te.target.value),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1",children:"Tin nhn"}),m.jsx("textarea",{className:"w-full px-4 py-2 border rounded-lg dark:bg-slate-700 h-24 focus:ring-2 focus:ring-blue-500 outline-none resize-none",placeholder:"Ni dung...",value:da,onChange:te=>us(te.target.value),required:!0})]}),m.jsxs("div",{className:"flex justify-end gap-3 pt-2",children:[m.jsx("button",{type:"button",onClick:()=>rr(!1),className:"px-4 py-2 text-gray-600 bg-gray-100 rounded-lg hover:bg-gray-200",children:"Hy"}),m.jsx("button",{type:"submit",disabled:At,className:"bg-blue-600 text-white px-6 py-2 rounded-lg hover:bg-blue-700 shadow-lg font-medium",children:At?"ang gi...":"Gi Ngay"})]})]})]})}),document.body),m.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4 mb-8",children:[m.jsxs("div",{children:[m.jsxs("button",{onClick:()=>s(null),className:"flex items-center gap-2 text-sm text-gray-500 hover:text-blue-600 mb-2 transition-colors font-medium",children:[m.jsx(N0,{})," Quay li danh sch"]}),m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("div",{className:"bg-blue-100 dark:bg-blue-900/30 p-2 rounded-lg",children:m.jsx(y0,{className:"w-8 h-8 text-blue-600 dark:text-blue-400"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-blue-600 to-cyan-500",children:i.name}),m.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-sm mt-0.5",children:i.description})]})]})]}),m.jsx("div",{className:"flex gap-4",children:m.jsxs("button",{onClick:()=>Bd("class",i.name,i.name),className:"bg-gradient-to-r from-yellow-500 to-orange-500 text-white px-4 py-2 rounded-xl shadow-lg hover:shadow-xl hover:-translate-y-0.5 transition flex items-center gap-2 font-medium",children:[m.jsx(C_,{})," Thng bo c lp"]})})]}),m.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[m.jsx("div",{className:"lg:col-span-1 space-y-6",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-5 sticky top-20",children:[m.jsxs("div",{className:"flex justify-between items-center border-b pb-3 border-gray-100 dark:border-slate-700 mb-4",children:[m.jsxs("h3",{className:"font-bold text-lg flex items-center gap-2 text-gray-800 dark:text-white",children:[m.jsx(ig,{className:"text-green-500"})," Gio vin"]}),pt&&m.jsx("button",{onClick:()=>R(!0),className:"text-green-600 hover:bg-green-50 p-1.5 rounded-full transition-colors",children:m.jsx(Th,{size:14})})]}),m.jsxs("div",{className:"space-y-3",children:[x.map(te=>m.jsxs("div",{className:"flex items-center gap-3 p-2 hover:bg-gray-50 dark:hover:bg-slate-700/50 rounded-lg transition-colors group relative cursor-pointer",children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:te.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`,onError:Oe=>{Oe.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`},className:"w-10 h-10 rounded-full border border-gray-200"}),i.headTeacherId===te.uid&&m.jsx("div",{className:"absolute -top-1 -right-1 bg-yellow-400 text-white rounded-full p-0.5 border-2 border-white",children:m.jsx(DE,{size:10})})]}),m.jsxs("div",{className:"min-w-0 flex-1",children:[m.jsx("p",{className:"font-medium text-sm truncate text-gray-900 dark:text-gray-100",children:te.fullName}),m.jsx("p",{className:"text-[11px] text-gray-400 truncate",children:ytt(te.role)}),i.headTeacherId===te.uid&&m.jsx("span",{className:"text-[10px] font-bold text-yellow-600 bg-yellow-50 px-1.5 py-0.5 rounded border border-yellow-200 mt-1 inline-block",children:"GVCN"})]}),Lr&&m.jsx("button",{onClick:Oe=>{Oe.stopPropagation(),vu(te.uid)},className:"text-gray-400 hover:text-red-500 hover:bg-red-50 p-1.5 rounded opacity-0 group-hover:opacity-100 transition-all absolute right-2",title:"Xa gio vin",children:m.jsx(Gc,{size:12})})]},te.uid)),x.length===0&&m.jsx("p",{className:"text-sm text-gray-500 italic text-center py-4",children:"Cha c gio vin."})]})]})}),m.jsx("div",{className:"lg:col-span-3",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 p-6 min-h-[500px]",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6 pb-4 border-b border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsxs("h3",{className:"font-bold text-xl flex items-center gap-2 text-gray-800 dark:text-white",children:[m.jsx(zh,{className:"text-blue-500"})," Hc vin (",g.length,")"]}),m.jsxs("div",{className:"flex bg-gray-100 dark:bg-slate-700 rounded-lg p-1 ml-4",children:[m.jsx("button",{onClick:()=>si("grid"),className:`p-1.5 rounded ${In==="grid"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng li",children:m.jsx(wte,{})}),m.jsx("button",{onClick:()=>si("list"),className:`p-1.5 rounded ${In==="list"?"bg-white dark:bg-slate-600 shadow text-blue-600":"text-gray-500 hover:text-blue-500"}`,title:"Dng danh sch",children:m.jsx(gte,{})})]})]}),et&&m.jsxs(m.Fragment,{children:[m.jsxs("button",{onClick:()=>Xr(!0),className:"bg-green-600 text-white px-4 py-2 rounded-lg shadow hover:bg-green-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[m.jsx(mte,{})," Import Excel"]}),m.jsxs("button",{onClick:()=>Mr(!0),className:"bg-indigo-600 text-white px-4 py-2 rounded-lg shadow hover:bg-indigo-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[m.jsx(Ete,{})," Thm th cng"]}),m.jsxs("button",{onClick:()=>S(!0),className:"bg-blue-600 text-white px-4 py-2 rounded-lg shadow hover:bg-blue-700 hover:shadow-lg transition flex items-center gap-2 text-sm font-medium",children:[m.jsx(Th,{})," Thm Hc Vin (C sn)"]})]})]}),In==="grid"?m.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-5",children:Ni.map(te=>{const Oe=O[te.uid]||{score:"--"};return m.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-4 border border-gray-100 dark:border-slate-700 hover:shadow-md hover:border-blue-200 dark:hover:border-blue-500/30 transition-all duration-300 group relative overflow-hidden",children:[m.jsx("div",{className:"absolute top-0 right-0 w-16 h-16 bg-gradient-to-bl from-blue-100 to-transparent -mr-8 -mt-8 rounded-full opacity-50 group-hover:scale-150 transition-transform"}),m.jsxs("div",{className:"flex items-start gap-4 relative z-10",children:[m.jsx("div",{className:"relative",children:m.jsx("img",{src:te.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}&background=random`,onError:ct=>{ct.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}&background=random`},alt:te.fullName,className:"w-14 h-14 rounded-full object-cover border-2 border-white dark:border-slate-600 shadow-sm group-hover:border-blue-500 transition-colors"})}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("h4",{className:"font-bold text-gray-900 dark:text-gray-100 truncate group-hover:text-blue-600 transition-colors text-base flex items-center gap-1",children:[te.fullName,(te.isVerified||te.courseId)&&m.jsx(vd,{className:"text-green-500 text-xs shrink-0"})]}),m.jsx("p",{className:"text-xs text-gray-500 truncate",children:te.email}),m.jsx("div",{className:"mt-2 pt-2 border-t border-gray-100 dark:border-slate-600 text-xs",children:m.jsxs("div",{className:"flex justify-between text-gray-500",children:[m.jsx("span",{children:"Kt qu mi:"}),m.jsx("span",{className:"font-bold text-teal-600",children:Oe.score})]})}),m.jsxs("div",{className:"flex gap-2 mt-3 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>Bd("user",te.uid,te.fullName),className:"text-yellow-600 bg-yellow-50 hover:bg-yellow-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Nhn tin",children:m.jsx(C_,{})}),m.jsx("button",{onClick:()=>{tt(te),Ze(!0)},className:"text-blue-600 bg-blue-50 hover:bg-blue-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Sa thng tin",children:m.jsx(Uu,{})}),et&&m.jsx("button",{onClick:()=>Fl(te.uid,te.fullName),className:"text-yellow-600 bg-yellow-50 hover:bg-yellow-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Reset Mt khu",children:m.jsx(ME,{})}),m.jsx("button",{onClick:()=>{Y(te),q(!0)},className:"text-purple-600 bg-purple-50 hover:bg-purple-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Xem lch s",children:m.jsx(b1,{})}),et&&m.jsx("button",{onClick:()=>Eo(te.uid),className:"text-red-600 bg-red-50 hover:bg-red-100 p-1.5 rounded text-xs flex items-center gap-1",title:"Xa",children:m.jsx(Gc,{})})]})]})]})]},te.uid)})}):m.jsxs("div",{className:"overflow-x-auto",children:[m.jsxs("table",{className:"w-full text-left text-sm",children:[m.jsx("thead",{className:"text-xs text-gray-500 uppercase bg-gray-50 dark:bg-slate-700 dark:text-gray-300 select-none",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-2 py-3 w-10",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:Fn.size===Ni.length&&Ni.length>0,onChange:Dm,title:"Chn tt c"})}),m.jsx("th",{onClick:()=>Qa("fullName"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Hc vin ",yi("fullName")]})}),m.jsx("th",{onClick:()=>Qa("birthDate"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Ngy sinh ",yi("birthDate")]})}),m.jsx("th",{onClick:()=>Qa("recentExam"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Bi lm gn nht ",yi("recentExam")]})}),m.jsx("th",{onClick:()=>Qa("time"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["Thi gian ",yi("time")]})}),m.jsx("th",{onClick:()=>Qa("score"),className:"px-4 py-3 cursor-pointer hover:bg-gray-200 transition",children:m.jsxs("div",{className:"flex items-center",children:["im ",yi("score")]})}),m.jsx("th",{className:"px-4 py-3 text-center rounded-r-lg",children:"Hnh ng"})]})}),m.jsxs("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:[Ni.map(te=>{const Oe=O[te.uid]||{type:"--",time:"--",score:"--"};return m.jsxs("tr",{className:"group hover:bg-gray-50 dark:hover:bg-slate-700/30 transition-colors",children:[m.jsx("td",{className:"px-2 py-3 w-10",children:m.jsx("input",{type:"checkbox",className:"w-4 h-4 rounded text-blue-600 focus:ring-blue-500",checked:Fn.has(te.uid),onChange:()=>zd(te.uid)})}),m.jsxs("td",{className:"px-4 py-3 font-medium text-gray-900 dark:text-white flex items-center gap-3",children:[m.jsx("img",{src:te.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`,onError:ct=>{ct.currentTarget.src=`https://ui-avatars.com/api/?name=${encodeURIComponent(te.fullName)}`},className:"w-8 h-8 rounded-full border border-gray-200"}),m.jsxs("div",{children:[m.jsxs("p",{className:"flex items-center gap-1",children:[te.fullName,(te.isVerified||te.courseId)&&m.jsx(vd,{className:"text-green-500 text-xs"})]}),m.jsx("p",{className:"text-xs text-gray-500 font-normal",children:te.email})]})]}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:te.birthDate||"--"}),m.jsx("td",{className:"px-4 py-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-semibold
                                                        ${Oe.type.includes("n")?"bg-blue-100 text-blue-700":Oe.type.includes("Th")?"bg-purple-100 text-purple-700":Oe.type==="--"?"bg-gray-100 text-gray-500":"bg-red-100 text-red-700"}`,children:Oe.type})}),m.jsx("td",{className:"px-4 py-3 text-gray-500",children:Oe.time}),m.jsx("td",{className:"px-4 py-3 font-bold text-teal-600",children:Oe.score}),m.jsx("td",{className:"px-4 py-3 text-center",children:m.jsxs("div",{className:"flex items-center justify-center gap-2 opacity-100 sm:opacity-0 sm:group-hover:opacity-100 transition-opacity",children:[m.jsx("button",{onClick:()=>Bd("user",te.uid,te.fullName),className:"text-yellow-500 hover:bg-yellow-50 p-2 rounded-lg transition",title:"Gi tin nhn",children:m.jsx(C_,{})}),m.jsx("button",{onClick:()=>{tt(te),Ze(!0)},className:"text-blue-500 hover:bg-blue-50 p-2 rounded-lg transition",title:"Sa thng tin",children:m.jsx(Uu,{})}),et&&m.jsx("button",{onClick:()=>Fl(te.uid,te.fullName),className:"text-yellow-500 hover:bg-yellow-50 p-2 rounded-lg transition",title:"Reset Mt khu",children:m.jsx(ME,{})}),m.jsx("button",{onClick:()=>{Y(te),q(!0)},className:"text-purple-500 hover:bg-purple-50 p-2 rounded-lg transition",title:"Xem lch s thi",children:m.jsx(b1,{})}),et&&m.jsx("button",{onClick:()=>Eo(te.uid),className:"text-red-400 hover:text-red-600 hover:bg-red-50 p-2 rounded-lg transition",title:"Xa khi lp",children:m.jsx(Gc,{})}),m.jsx("button",{onClick:()=>Ac(te.uid,!!te.offlineAccess),className:`p-2 rounded-lg transition ${te.offlineAccess?"text-green-500 hover:bg-green-50":"text-gray-400 hover:bg-gray-50"}`,title:te.offlineAccess?" bt Offline":"Cha bt Offline",children:te.offlineAccess?m.jsx(YU,{}):m.jsx(bG,{})})]})})]},te.uid)}),g.length===0&&m.jsx("tr",{children:m.jsx("td",{colSpan:6,className:"text-center py-10 text-gray-400 italic",children:"Lp cha c hc vin no."})})]})]}),Fn.size>0&&m.jsxs("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 bg-white dark:bg-slate-800 rounded-full shadow-2xl px-6 py-3 flex items-center gap-4 border border-gray-200 dark:border-slate-700 animate-bounce-in",children:[m.jsxs("span",{className:"font-medium text-gray-700 dark:text-gray-200",children:[" chn ",Fn.size," hc vin"]}),m.jsxs("button",{onClick:()=>Bl(!0),disabled:Vd,className:"bg-green-500 text-white px-4 py-2 rounded-full hover:bg-green-600 transition flex items-center gap-2 disabled:opacity-50",children:[m.jsx(YU,{})," Bt Offline"]}),m.jsxs("button",{onClick:()=>Bl(!1),disabled:Vd,className:"bg-gray-500 text-white px-4 py-2 rounded-full hover:bg-gray-600 transition flex items-center gap-2 disabled:opacity-50",children:[m.jsx(bG,{})," Tt Offline"]}),m.jsx("button",{onClick:()=>Cc(new Set),className:"text-gray-500 hover:text-gray-700 p-2",title:"B chn",children:m.jsx(zu,{})})]})]}),Ss>1&&m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-100 dark:border-slate-700 gap-4",children:[m.jsxs("div",{className:"text-sm text-gray-500",children:["Hin th trang ",m.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-200",children:be})," / ",m.jsx("span",{className:"font-semibold",children:Ss}),m.jsx("span",{className:"mx-2",children:"|"}),"Tng ",m.jsx("span",{className:"font-bold text-blue-600",children:Da.length})," kt qu"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{className:"border border-gray-300 dark:border-slate-600 rounded-md text-sm p-1.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-200",value:we,onChange:te=>{Me(Number(te.target.value)),Te(1)},children:[m.jsx("option",{value:5,children:"5 / trang"}),m.jsx("option",{value:10,children:"10 / trang"}),m.jsx("option",{value:20,children:"20 / trang"}),m.jsx("option",{value:50,children:"50 / trang"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>Te(1),disabled:be===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"u"}),m.jsx("button",{onClick:()=>Te(te=>Math.max(1,te-1)),disabled:be===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Trc"}),m.jsx("button",{onClick:()=>Te(te=>Math.min(Ss,te+1)),disabled:be===Ss,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Sau"}),m.jsx("button",{onClick:()=>Te(Ss),disabled:be===Ss,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Cui"})]})]})]})]})})]}),It&&i&&m.jsx(gtt,{courseId:i.id,courseName:i.name,licenseId:i.licenseId,onClose:()=>Xr(!1),onSuccess:()=>{}}),qr&&i&&m.jsx(vtt,{courseId:i.id,courseName:i.name,licenseId:i.licenseId,onClose:()=>Mr(!1),onSuccess:()=>{}})]}):m.jsxs("div",{className:"w-full max-w-6xl mx-auto p-4 animate-slide-in-right relative",children:[Wt&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"To Lp Hc Mi"}),m.jsxs("form",{onSubmit:Ma,className:"space-y-4",children:[m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tn lp",value:Sn,onChange:te=>pi(te.target.value),required:!0}),m.jsxs("div",{className:"mb-2",children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Hng bng (Mc nh)"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:ie,onChange:te=>oe(te.target.value),children:[m.jsx("option",{value:"",children:"-- Chn hng bng --"}),ai.map(te=>m.jsx("option",{value:te.id,children:te.name},te.id))]}),m.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Hc vin s t ng c gn hng bng ny khi n tp."})]}),m.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"M t",value:xe,onChange:te=>Ke(te.target.value)}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:()=>Tr(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-teal-600 text-white rounded",children:"To"})]})]})]})}),document.body),$i&&en&&Ql.createPortal(m.jsx("div",{className:"fixed inset-0 z-[9999] flex items-center justify-center bg-black/50 p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6",children:[m.jsx("h2",{className:"text-xl font-bold mb-4 text-gray-800 dark:text-white",children:"Chnh Sa Lp Hc"}),m.jsxs("form",{onSubmit:xi,className:"space-y-4",children:[m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"Tn lp",value:Ws,onChange:te=>vi(te.target.value),required:!0}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Hng bng mc nh"}),m.jsxs("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:ee,onChange:te=>ne(te.target.value),children:[m.jsx("option",{value:"",children:"-- Khng chn --"}),ai.map(te=>m.jsx("option",{value:te.id,children:te.name},te.id))]})]}),m.jsx("textarea",{className:"w-full p-2 border rounded dark:bg-slate-700",placeholder:"M t",value:K,onChange:te=>ae(te.target.value)}),m.jsxs("div",{className:"flex justify-end gap-2",children:[m.jsx("button",{type:"button",onClick:()=>Es(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lu Thay i"})]})]})]})}),document.body),m.jsxs("div",{className:"flex justify-between items-center mb-8",children:[m.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-3 bg-clip-text text-transparent bg-gradient-to-r from-teal-600 to-emerald-600",children:[m.jsx(y0,{className:"text-teal-600"})," Qun l Lp hc"]}),m.jsx("button",{onClick:e,className:"bg-gray-200 dark:bg-slate-700 text-gray-800 dark:text-gray-200 px-4 py-2 rounded-lg hover:bg-gray-300 dark:hover:bg-slate-600 transition-colors",children:"Back Dashboard"})]}),a?m.jsx("div",{className:"p-20 text-center",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-teal-600 mx-auto"})}):r.length===0?m.jsxs("div",{className:"text-center p-12 bg-white dark:bg-slate-800 rounded-xl border border-gray-200 dark:border-slate-700 shadow-sm",children:[m.jsx(y0,{className:"w-16 h-16 text-gray-300 mx-auto mb-4"}),m.jsx("h3",{className:"text-xl font-bold text-gray-700 dark:text-gray-200 mb-2",children:"Cha c lp hc no"}),qe&&m.jsx("button",{onClick:()=>Tr(!0),className:"bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition",children:"To Lp Ngay"})]}):m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[qe&&m.jsxs("div",{onClick:()=>Tr(!0),className:"bg-gradient-to-br from-teal-500 to-emerald-500 rounded-xl shadow-lg p-6 flex flex-col justify-center items-center text-white cursor-pointer hover:shadow-xl hover:scale-[1.02] transition-all duration-300 group",children:[m.jsx("div",{className:"bg-white/20 p-4 rounded-full mb-3 group-hover:bg-white/30 transition-colors",children:m.jsx(Th,{className:"w-8 h-8"})}),m.jsx("h3",{className:"font-bold text-lg",children:"Thm Lp Mi"})]}),r.map(te=>{var wt;const Oe=["admin","quan_ly","lanh_dao"].includes(t.role)||t.role==="giao_vien"&&(te.headTeacherId===t.id||(te.teacherIds||[]).includes(t.id)),ct=["admin","quan_ly","lanh_dao"].includes(t.role);return m.jsxs("div",{onClick:()=>s(te),className:"bg-white dark:bg-slate-800 rounded-xl shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden cursor-pointer hover:shadow-xl hover:-translate-y-1 transition-all duration-300 group flex flex-col relative",children:[(Oe||ct)&&m.jsxs("div",{className:"absolute top-2 right-2 z-10 flex gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[Oe&&m.jsx("button",{onClick:mt=>kc(te,mt),className:"p-2 bg-white/90 text-blue-600 rounded-full shadow-sm hover:bg-blue-50",title:"Sa lp",children:m.jsx(Uu,{})}),ct&&m.jsx("button",{onClick:mt=>{mt.stopPropagation(),Hi(te.id)},className:"p-2 bg-white/90 text-red-600 rounded-full shadow-sm hover:bg-red-50",title:"Xa lp",children:m.jsx(Gc,{})})]}),m.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-600 to-cyan-500 relative flex items-center justify-center overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-black/10 group-hover:bg-transparent transition-colors"}),m.jsx(WI,{className:"text-white/30 w-20 h-20 transform -rotate-12 group-hover:scale-110 transition-transform duration-500"}),m.jsxs("div",{className:"absolute bottom-0 left-0 right-0 p-4 bg-gradient-to-t from-black/60 to-transparent",children:[m.jsx("h3",{className:"font-bold text-xl text-white truncate",children:te.name}),te.licenseId&&m.jsx("span",{className:"text-xs text-yellow-300 font-mono bg-black/30 px-1 rounded ml-2",children:((wt=ai.find(mt=>mt.id===te.licenseId))==null?void 0:wt.name)||te.licenseId})]})]}),m.jsxs("div",{className:"p-5 flex-1 flex flex-col",children:[m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 line-clamp-2 mb-4 flex-1",children:te.description||"Cha c m t kha hc."}),m.jsxs("div",{className:"flex justify-between items-center text-sm font-medium pt-4 border-t border-gray-100 dark:border-slate-700",children:[m.jsxs("span",{className:`flex items-center gap-1 ${te.headTeacherId?"text-blue-600 font-bold":"text-gray-500"}`,children:[m.jsx(ig,{})," GVCN: ",te.headTeacherId?l[te.headTeacherId]||"...":"Cha c"]}),m.jsxs("span",{className:"text-blue-600 group-hover:underline flex items-center gap-1",children:["Chi tit ",m.jsx(N0,{className:"rotate-180"})]})]})]})]},te.id)})]})]})},y5=[{id:"admin",name:"Qun tr vin"},{id:"lanh_dao",name:"Lnh o"},{id:"quan_ly",name:"Qun l"},{id:"giao_vien",name:"Gio vin"},{id:"hoc_vien",name:"Hc vin"}],btt=["giao_vien","lanh_dao","quan_ly"],wtt=({userProfile:t,onBack:e,onNavigate:r})=>{var pi;const[n,i]=C.useState(t),[s,a]=C.useState(!1),o=t.role!=="hoc_vien",[l,u]=C.useState([]),[d,f]=C.useState(!1),[g,v]=C.useState(""),[x,b]=C.useState("all"),[w,E]=C.useState("all"),[k,A]=C.useState("all"),[O,P]=C.useState(null),[j,S]=C.useState(!1),[I,R]=C.useState(!1),[D,M]=C.useState(null),[L,U]=C.useState(10),[le,ue]=C.useState(1),[J,Q]=C.useState("createdAt"),[he,Z]=C.useState("desc"),[ge,H]=C.useState(!1),[B,q]=C.useState(""),[W,Y]=C.useState(""),[de,me]=C.useState(""),[ce,se]=C.useState(!1);C.useEffect(()=>{o&&tt()},[o]);const ve=C.useMemo(()=>{let xe=l;if(x==="staff"?xe=xe.filter(Ke=>btt.includes(Ke.role)):x==="hoc_vien"&&(xe=xe.filter(Ke=>Ke.role==="hoc_vien")),w==="verified"?xe=xe.filter(Ke=>Ke.isVerified||Ke.courseId):w==="unverified"&&(xe=xe.filter(Ke=>!Ke.isVerified&&!Ke.courseId)),k!=="all"&&(k==="no_class"?xe=xe.filter(Ke=>!Ke.courseId&&!Ke.courseName):xe=xe.filter(Ke=>Ke.courseName===k)),g.trim()){const Ke=g.toLowerCase();xe=xe.filter(nt=>nt.fullName.toLowerCase().includes(Ke)||nt.email.toLowerCase().includes(Ke)||nt.phoneNumber&&nt.phoneNumber.includes(Ke))}return xe.sort((Ke,nt)=>{let Pt=Ke[J],Gt=nt[J];return Pt||(Pt=""),Gt||(Gt=""),Pt<Gt?he==="asc"?-1:1:Pt>Gt?he==="asc"?1:-1:0}),xe},[l,x,w,k,g,J,he]),Ve=Math.ceil(ve.length/L),G=ve.slice((le-1)*L,le*L),Ze=xe=>{J===xe?Z(Ke=>Ke==="asc"?"desc":"asc"):(Q(xe),Z("asc"))},Ie=xe=>J!==xe?m.jsx(xte,{className:"ml-1 text-gray-300 inline"}):he==="asc"?m.jsx(yte,{className:"ml-1 text-blue-500 inline"}):m.jsx(vte,{className:"ml-1 text-blue-500 inline"}),tt=async()=>{f(!0);try{const xe=pr(qt(Ye,"users"),po("createdAt","desc")),nt=(await _n(xe)).docs.map(Pt=>{const Gt=Pt.data();return{id:Pt.id,...Gt,photoURL:Gt.photoURL||nf(Gt.photoURL?void 0:Gt.role)}});u(nt)}catch(xe){console.error("Error fetching users:",xe)}finally{f(!1)}},Qe=async xe=>{xe.preventDefault(),a(!0);try{const Ke=nt=>nt===void 0?null:nt;await Un(Ht(Ye,"users",t.id),{fullName:Ke(n.full_name),full_name:Ke(n.full_name),phoneNumber:Ke(n.phoneNumber),birthDate:Ke(n.birthDate),address:Ke(n.address),cccd:Ke(n.cccd),cccdDate:Ke(n.cccdDate),cccdPlace:Ke(n.cccdPlace),class:Ke(n.class)}),alert("Cp nht thng tin thnh cng!")}catch(Ke){console.error(Ke),alert("Li khi lu thng tin.")}finally{a(!1)}},je=async xe=>{if(confirm("Bn c chc chn mun xa ti khon ny?"))try{await WS(Ht(Ye,"users",xe)),u(Ke=>Ke.filter(nt=>nt.id!==xe))}catch(Ke){console.error(Ke),alert("Li khi xa.")}},rt=async xe=>{if(xe.preventDefault(),!!O)try{const Ke=nt=>nt===void 0?null:nt;await Un(Ht(Ye,"users",O.id),{fullName:O.fullName,phoneNumber:Ke(O.phoneNumber),birthDate:Ke(O.birthDate),role:O.role,class:Ke(O.class),cccd:Ke(O.cccd),cccdDate:Ke(O.cccdDate),cccdPlace:Ke(O.cccdPlace),address:Ke(O.address)}),alert(" cp nht!"),S(!1),tt()}catch(Ke){console.error(Ke),alert("Li khi lu.")}},vt=async(xe,Ke)=>{var Pt;const nt=prompt(`Nhp mt khu mi cho ${Ke}:`,"123456");if(nt!==null){if(!nt||nt.length<6){alert("Mt khu phi c t nht 6 k t.");return}try{const Gt=await((Pt=js.currentUser)==null?void 0:Pt.getIdToken());if(!Gt){alert("Li xc thc: Khng tm thy token admin.");return}const rr=await fetch("/api/admin/reset-password",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Gt}`},body:JSON.stringify({targetUserId:xe,newPassword:nt})}),br=await rr.json();rr.ok?alert(` i mt khu cho ${Ke} thnh cng!`):alert(`Li: ${br.error||"Khng xc nh"}`)}catch(Gt){console.error("Reset password error:",Gt),alert("Li kt ni n server.")}}},It=xe=>{var Ke;return((Ke=y5.find(nt=>nt.id===xe))==null?void 0:Ke.name)||xe},Xr=async xe=>{if(xe.preventDefault(),W!==de){alert("Mt khu mi khng khp!");return}if(W.length<6){alert("Mt khu mi phi c t nht 6 k t.");return}se(!0);try{const Ke=js.currentUser;if(!Ke||!Ke.email){alert("Li xc thc.");return}const nt=xm.credential(Ke.email,B);await a2e(Ke,nt),await l2e(Ke,W),alert("i mt khu thnh cng!"),H(!1),q(""),Y(""),me("")}catch(Ke){console.error("Change password error:",Ke),Ke.code==="auth/wrong-password"||Ke.code==="auth/invalid-credential"?alert("Mt khu c khng ng."):Ke.code==="auth/weak-password"?alert("Mt khu qu yu."):alert("Li khi i mt khu: "+Ke.message)}finally{se(!1)}},[qr,Mr]=C.useState(!1),Wt=Ae.useRef(null),Tr=()=>{var xe;(xe=Wt.current)==null||xe.click()},Sn=async xe=>{var nt;const Ke=(nt=xe.target.files)==null?void 0:nt[0];if(Ke){if(!Ke.type.startsWith("image/")){alert("Vui lng chn file nh!");return}try{Mr(!0);const Pt=await M3e(Ke,t.id);await Un(Ht(Ye,"users",t.id),{photoURL:Pt}),i(Gt=>({...Gt,photoURL:Pt})),alert("Ti nh i din thnh cng!")}catch(Pt){console.error("Upload failed:",Pt),alert("C li xy ra khi ti nh.")}finally{Mr(!1),Wt.current&&(Wt.current.value="")}}};return m.jsxs("div",{className:"w-full max-w-7xl mx-auto p-4 animate-slide-in-right pb-20",children:[m.jsxs("div",{className:"flex items-center gap-4 mb-6",children:[m.jsx("button",{onClick:e,className:"p-2 bg-gray-100 dark:bg-slate-700 rounded-full hover:bg-gray-200",children:m.jsx(N0,{})}),m.jsxs("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(LE,{})," Ti khon ca ti"]})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 mb-8 border border-gray-100 dark:border-slate-700",children:[m.jsx("h2",{className:"text-lg font-bold mb-4 text-blue-600 border-b pb-2",children:"Thng tin c nhn"}),m.jsxs("div",{className:"flex flex-col items-center mb-6",children:[m.jsxs("div",{className:"relative group cursor-pointer",onClick:Tr,children:[m.jsxs("div",{className:"w-32 h-32 rounded-full overflow-hidden border-4 border-gray-200 dark:border-slate-600 shadow-lg relative",children:[m.jsx("img",{src:n.photoURL||nf(n.role),alt:"Avatar",className:"w-full h-full object-cover"}),qr&&m.jsx("div",{className:"absolute inset-0 bg-black/50 flex items-center justify-center",children:m.jsx("div",{className:"w-8 h-8 border-4 border-white border-t-transparent rounded-full animate-spin"})})]}),m.jsx("div",{className:"absolute bottom-1 right-1 bg-white dark:bg-slate-700 p-2 rounded-full shadow-md text-gray-600 dark:text-gray-200 group-hover:bg-blue-500 group-hover:text-white transition-colors",children:m.jsx(jke,{size:16})}),m.jsx("input",{type:"file",ref:Wt,className:"hidden",accept:"image/*",onChange:Sn})]}),m.jsx("p",{className:"text-sm text-gray-400 mt-2",children:"Chm  i nh i din"})]}),m.jsxs("form",{onSubmit:Qe,className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"H v Tn"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.full_name||n.fullName||"",onChange:xe=>i({...n,full_name:xe.target.value,fullName:xe.target.value}),required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Email (Khng i)"}),m.jsx("input",{className:"w-full p-2 border rounded bg-gray-50 dark:bg-slate-900 text-gray-500",value:n.email||"",readOnly:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ngy sinh"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:n.birthDate||"",onChange:xe=>i({...n,birthDate:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"S in thoi"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.phoneNumber||"",onChange:xe=>i({...n,phoneNumber:xe.target.value})})]})]}),m.jsxs("div",{className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"S CCCD"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccd||"",onChange:xe=>i({...n,cccd:xe.target.value})})]}),m.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ngy cp"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccdDate||"",onChange:xe=>i({...n,cccdDate:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Ni cp"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.cccdPlace||"",onChange:xe=>i({...n,cccdPlace:xe.target.value})})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"a ch / Qu qun"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.address||"",onChange:xe=>i({...n,address:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium mb-1 dark:text-gray-300",children:"Lp hc (t in)"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:n.class||"",onChange:xe=>i({...n,class:xe.target.value}),placeholder:"VD: Th my K2"})]})]}),m.jsxs("div",{className:"md:col-span-2 flex justify-end mt-4 gap-3",children:[m.jsxs("button",{type:"button",onClick:()=>H(!0),className:"flex items-center gap-2 bg-gray-600 text-white px-6 py-2 rounded-lg hover:bg-gray-700 transition shadow-md",children:[m.jsx(WU,{})," i mt khu"]}),m.jsxs("button",{type:"submit",disabled:s,className:"flex items-center gap-2 bg-teal-600 text-white px-6 py-2 rounded-lg hover:bg-teal-700 transition shadow-md disabled:opacity-50",children:[m.jsx(YP,{})," ",s?"ang lu...":"Cp nht thng tin"]})]})]})]}),o&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-md p-6 border border-gray-100 dark:border-slate-700 animate-fade-in-up",children:[m.jsxs("h2",{className:"text-lg font-bold mb-4 text-orange-600 border-b pb-2 flex items-center justify-between",children:[m.jsx("span",{children:"Qun l ngi dng"}),m.jsx("span",{className:"text-xs font-normal text-gray-500 bg-gray-100 rounded-full px-2 py-1",children:"Admin/Lnh o/QL/GV"})]}),m.jsxs("div",{className:"flex flex-col md:flex-row gap-4 mb-4",children:[m.jsxs("div",{className:"relative flex-1",children:[m.jsx(KI,{className:"absolute left-3 top-3 text-gray-400"}),m.jsx("input",{className:"w-full pl-10 pr-4 py-2 border rounded-full dark:bg-slate-700 outline-none focus:ring-2 focus:ring-blue-500",placeholder:"Tm hc vin, gio vin...",value:g,onChange:xe=>v(xe.target.value)})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",value:w,onChange:xe=>E(xe.target.value),children:[m.jsx("option",{value:"all",children:"Tt c trng thi"}),m.jsx("option",{value:"verified",children:" xc thc (Vo lp)"}),m.jsx("option",{value:"unverified",children:"Cha xc thc"})]}),m.jsx(c3,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer max-w-[200px]",value:k,onChange:xe=>A(xe.target.value),children:[m.jsx("option",{value:"all",children:"Tt c lp hc"}),m.jsx("option",{value:"no_class",children:"Cha vo lp"}),Array.from(new Set(l.map(xe=>xe.courseName).filter(Boolean))).sort().map(xe=>m.jsx("option",{value:xe,children:xe},xe))]}),m.jsx(c3,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]}),m.jsxs("div",{className:"relative",children:[m.jsxs("select",{className:"appearance-none bg-white dark:bg-slate-700 border hover:border-blue-500 px-4 py-2 pr-8 rounded-full shadow-sm outline-none focus:ring-2 focus:ring-blue-500 cursor-pointer",value:x,onChange:xe=>b(xe.target.value),children:[m.jsx("option",{value:"all",children:"Tt c vai tr"}),m.jsx("option",{value:"hoc_vien",children:"Hc vin"}),m.jsx("option",{value:"staff",children:"Nhn s (GV/QL/Admin)"})]}),m.jsx(c3,{className:"absolute right-3 top-3 text-gray-400 pointer-events-none text-xs"})]})]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left border-collapse min-w-[800px]",children:[m.jsx("thead",{className:"bg-gray-50 dark:bg-slate-900 text-sm uppercase text-gray-500 font-bold",children:m.jsxs("tr",{children:[m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Ze("fullName"),children:["H v Tn ",Ie("fullName")]}),m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Ze("class"),children:["Lp hc ",Ie("class")]}),m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Ze("email"),children:["Lin h ",Ie("email")]}),m.jsxs("th",{className:"p-3 border-b dark:border-slate-700 cursor-pointer hover:bg-gray-100 transition",onClick:()=>Ze("role"),children:["Vai tr ",Ie("role")]}),m.jsx("th",{className:"p-3 border-b dark:border-slate-700 text-center",children:"Thao tc"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100 dark:divide-slate-700",children:d?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-4 text-center",children:"ang ti..."})}):G.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"p-4 text-center italic text-gray-500",children:"Khng tm thy ngi dng."})}):G.map(xe=>m.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-slate-700/50 transition",children:[m.jsx("td",{className:"p-3 font-medium text-gray-900 dark:text-white cursor-pointer group",onClick:()=>{M(xe),R(!0)},children:m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("img",{src:xe.photoURL,alt:xe.fullName,className:"w-9 h-9 rounded-full object-cover border border-gray-200 dark:border-gray-600 shadow-sm",onError:Ke=>{Ke.currentTarget.src="https://ui-avatars.com/api/?name="+xe.fullName}}),m.jsx("div",{className:"flex flex-col",children:m.jsx("div",{className:"flex items-center gap-1",children:xe.role==="hoc_vien"&&(xe.isVerified||xe.courseId)?m.jsxs("span",{className:"flex items-center gap-1 text-blue-600 font-semibold group-hover:underline",children:[xe.fullName," ",m.jsx(vd,{className:"text-blue-500 text-xs"})]}):xe.role==="giao_vien"?m.jsx("span",{className:"font-bold text-yellow-600 dark:text-yellow-400 group-hover:underline",children:xe.fullName}):xe.role==="quan_ly"||xe.role==="lanh_dao"?m.jsx("span",{className:"font-bold text-red-600 dark:text-red-400 group-hover:underline",children:xe.fullName}):xe.role==="admin"?m.jsx("span",{className:"font-bold text-purple-600 dark:text-purple-400 group-hover:underline",children:xe.fullName}):m.jsx("span",{className:"group-hover:underline",children:xe.fullName})})}),m.jsx(pte,{className:"opacity-0 group-hover:opacity-100 text-gray-400 text-xs ml-auto"})]})}),m.jsx("td",{className:"p-3 text-sm",children:xe.courseName||xe.courseId?m.jsxs("span",{className:"cursor-pointer text-blue-600 hover:underline hover:text-blue-800 flex items-center gap-1",onClick:Ke=>{Ke.stopPropagation(),r("class_management")},title:"i ti qun l lp",children:[xe.courseName||xe.courseId," ",m.jsx(Ake,{className:"text-xs"})]}):m.jsx("span",{className:"text-gray-400",children:"--"})}),m.jsxs("td",{className:"p-3 text-sm",children:[m.jsx("div",{children:xe.email}),m.jsx("div",{className:"text-xs text-gray-500",children:xe.phoneNumber})]}),m.jsx("td",{className:"p-3",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-bold ${xe.role==="hoc_vien"?"bg-blue-100 text-blue-800":"bg-orange-100 text-orange-800"}`,children:It(xe.role)})}),m.jsxs("td",{className:"p-3 flex justify-center gap-2",children:[m.jsx("button",{onClick:()=>{P(xe),S(!0)},className:"p-2 text-blue-600 hover:bg-blue-50 rounded",title:"Sa thng tin",children:m.jsx(Uu,{})}),t.role==="admin"&&m.jsxs(m.Fragment,{children:[m.jsx("button",{onClick:()=>vt(xe.id,xe.fullName),className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",title:"i mt khu",children:m.jsx(ME,{})}),m.jsx("button",{onClick:()=>je(xe.id),className:"p-2 text-red-600 hover:bg-red-50 rounded",title:"Xa ti khon",children:m.jsx(Gc,{})})]})]})]},xe.id))})]})}),Ve>1&&m.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-center mt-6 pt-4 border-t border-gray-100 dark:border-slate-700 gap-4",children:[m.jsxs("div",{className:"text-sm text-gray-500",children:["Hin th trang ",m.jsx("span",{className:"font-bold text-gray-900 dark:text-gray-200",children:le})," / ",m.jsx("span",{className:"font-semibold",children:Ve}),m.jsx("span",{className:"mx-2",children:"|"}),"Tng ",m.jsx("span",{className:"font-bold text-blue-600",children:ve.length})," kt qu"]}),m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsxs("select",{className:"border border-gray-300 dark:border-slate-600 rounded-md text-sm p-1.5 focus:ring-2 focus:ring-blue-500 outline-none bg-white dark:bg-slate-700 text-gray-700 dark:text-gray-200",value:L,onChange:xe=>{U(Number(xe.target.value)),ue(1)},children:[m.jsx("option",{value:5,children:"5 / trang"}),m.jsx("option",{value:10,children:"10 / trang"}),m.jsx("option",{value:20,children:"20 / trang"}),m.jsx("option",{value:50,children:"50 / trang"})]}),m.jsxs("div",{className:"flex gap-1",children:[m.jsx("button",{onClick:()=>ue(1),disabled:le===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"u"}),m.jsx("button",{onClick:()=>ue(xe=>Math.max(1,xe-1)),disabled:le===1,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Trc"}),m.jsx("button",{onClick:()=>ue(xe=>Math.min(Ve,xe+1)),disabled:le===Ve,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Sau"}),m.jsx("button",{onClick:()=>ue(Ve),disabled:le===Ve,className:"px-3 py-1.5 border border-gray-300 rounded hover:bg-gray-100 disabled:opacity-50 disabled:cursor-not-allowed transition text-sm",children:"Cui"})]})]})]})]}),j&&O&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>S(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-2xl p-6 relative max-h-[90vh] overflow-y-auto",onClick:xe=>xe.stopPropagation(),children:[m.jsxs("h2",{className:"text-lg font-bold mb-4",children:["Sa ti khon: ",O.fullName]}),m.jsxs("form",{onSubmit:rt,className:"space-y-4",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"H tn"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:O.fullName,onChange:xe=>P({...O,fullName:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"ST"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:O.phoneNumber||"",onChange:xe=>P({...O,phoneNumber:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Ngy sinh"}),m.jsx("input",{type:"date",className:"w-full p-2 border rounded dark:bg-slate-700",value:O.birthDate||"",onChange:xe=>P({...O,birthDate:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Lp hc (t in)"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:O.class||"",onChange:xe=>P({...O,class:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"CCCD"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:O.cccd||"",onChange:xe=>P({...O,cccd:xe.target.value})})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"a ch"}),m.jsx("input",{className:"w-full p-2 border rounded dark:bg-slate-700",value:O.address||"",onChange:xe=>P({...O,address:xe.target.value})})]}),m.jsxs("div",{className:"col-span-2",children:[m.jsx("label",{className:"block text-sm font-bold mb-1",children:"Vai tr"}),m.jsx("select",{className:"w-full p-2 border rounded dark:bg-slate-700",value:O.role,onChange:xe=>P({...O,role:xe.target.value}),children:y5.map(xe=>m.jsx("option",{value:xe.id,children:xe.name},xe.id))})]})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>S(!1),className:"px-4 py-2 bg-gray-200 rounded",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded",children:"Lu"})]})]})]})}),I&&D&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>R(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-lg p-0 relative overflow-hidden animate-bounce-in",onClick:xe=>xe.stopPropagation(),children:[m.jsxs("div",{className:"h-32 bg-gradient-to-r from-blue-500 to-cyan-500 relative",children:[m.jsx("button",{onClick:()=>R(!1),className:"absolute top-4 right-4 bg-black/20 text-white p-2 rounded-full hover:bg-black/40",children:m.jsx(zu,{})}),m.jsx("div",{className:"absolute -bottom-10 left-6",children:m.jsx("img",{src:D.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(D.fullName)}`,className:"w-24 h-24 rounded-full border-4 border-white dark:border-slate-800 shadow-md bg-white"})})]}),m.jsxs("div",{className:"pt-12 px-6 pb-6",children:[m.jsxs("div",{className:"flex justify-between items-start mb-4",children:[m.jsxs("div",{children:[m.jsxs("h2",{className:"text-2xl font-bold text-gray-800 dark:text-white flex items-center gap-2",children:[D.fullName,D.isVerified&&m.jsx(vd,{className:"text-blue-500 text-lg"})]}),m.jsx("p",{className:"text-gray-500 text-sm font-medium uppercase tracking-wide",children:((pi=y5.find(xe=>xe.id===D.role))==null?void 0:pi.name)||D.role})]}),m.jsxs("button",{onClick:()=>{P(D),R(!1),S(!0)},className:"flex items-center gap-2 bg-blue-100 dark:bg-blue-900/30 text-blue-600 dark:text-blue-400 px-4 py-2 rounded-full font-bold hover:bg-blue-200 dark:hover:bg-blue-900/50 transition",children:[m.jsx(Uu,{})," Sa"]})]}),m.jsxs("div",{className:"space-y-3",children:[m.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Lp hc"}),m.jsx("p",{className:"font-semibold",children:D.courseName||D.class||"Cha c"})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Ngy sinh"}),m.jsx("p",{className:"font-semibold",children:D.birthDate||"--/--/----"})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"S in thoi"}),m.jsx("p",{className:"font-semibold",children:D.phoneNumber||"---"})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Email"}),m.jsx("p",{className:"font-semibold text-sm truncate",title:D.email,children:D.email})]})]}),m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"a ch"}),m.jsx("p",{className:"font-semibold text-sm",children:D.address||D.cccdPlace||"---"})]}),D.cccd&&m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-700/50 rounded-lg flex justify-between",children:[m.jsxs("div",{children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"CCCD"}),m.jsx("p",{className:"font-semibold text-sm",children:D.cccd})]}),D.cccdDate&&m.jsxs("div",{className:"text-right",children:[m.jsx("p",{className:"text-xs text-gray-400 uppercase font-bold",children:"Ngy cp"}),m.jsx("p",{className:"font-semibold text-sm",children:D.cccdDate})]})]})]})]})]})}),ge&&m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 p-4",onClick:()=>H(!1),children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-xl shadow-2xl w-full max-w-md p-6 relative",onClick:xe=>xe.stopPropagation(),children:[m.jsxs("h2",{className:"text-lg font-bold mb-4 flex items-center gap-2 text-gray-800 dark:text-white",children:[m.jsx(WU,{className:"text-blue-600"})," i mt khu"]}),m.jsxs("form",{onSubmit:Xr,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Mt khu c"}),m.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:B,onChange:xe=>q(xe.target.value),required:!0,placeholder:"Nhp mt khu hin ti"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Mt khu mi"}),m.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:W,onChange:xe=>Y(xe.target.value),required:!0,placeholder:"t nht 6 k t",minLength:6})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-1 dark:text-gray-300",children:"Xc nhn mt khu mi"}),m.jsx("input",{type:"password",className:"w-full p-2 border rounded dark:bg-slate-700 dark:text-white focus:ring-2 focus:ring-blue-500 outline-none",value:de,onChange:xe=>me(xe.target.value),required:!0,placeholder:"Nhp li mt khu mi"})]}),m.jsxs("div",{className:"flex justify-end gap-2 pt-4",children:[m.jsx("button",{type:"button",onClick:()=>H(!1),className:"px-4 py-2 bg-gray-200 dark:bg-slate-700 dark:text-white rounded hover:bg-gray-300 dark:hover:bg-slate-600 transition",children:"Hy"}),m.jsx("button",{type:"submit",disabled:ce,className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 transition disabled:opacity-50 flex items-center gap-2",children:ce?"ang x l...":"i mt khu"})]})]})]})})]})};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _tt=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),Ett=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase()),IK=t=>{const e=Ett(t);return e.charAt(0).toUpperCase()+e.slice(1)},Fce=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim(),Ttt=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Stt={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ktt=C.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:s,iconNode:a,...o},l)=>C.createElement("svg",{ref:l,...Stt,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:Fce("lucide",i),...!s&&!Ttt(o)&&{"aria-hidden":"true"},...o},[...a.map(([u,d])=>C.createElement(u,d)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kn=(t,e)=>{const r=C.forwardRef(({className:n,...i},s)=>C.createElement(ktt,{ref:s,iconNode:e,className:Fce(`lucide-${_tt(IK(t))}`,`lucide-${t}`,n),...i}));return r.displayName=IK(t),r};/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Att=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],Ctt=Kn("book-open",Att);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ntt=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Itt=Kn("check",Ntt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ott=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],Rtt=Kn("chevron-left",Ott);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ptt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],jtt=Kn("circle-alert",Ptt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dtt=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],Mtt=Kn("circle-check-big",Dtt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ltt=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],Ftt=Kn("clock",Ltt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Btt=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Vtt=Kn("download",Btt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Utt=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],OK=Kn("graduation-cap",Utt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ztt=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],$tt=Kn("history",ztt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Htt=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],qtt=Kn("image",Htt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wtt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Gtt=Kn("info",Wtt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ktt=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],Ytt=Kn("log-out",Ktt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xtt=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],Qtt=Kn("mail",Xtt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jtt=[["path",{d:"M15 18h-5",key:"95g1m2"}],["path",{d:"M18 14h-8",key:"sponae"}],["path",{d:"M4 22h16a2 2 0 0 0 2-2V4a2 2 0 0 0-2-2H8a2 2 0 0 0-2 2v16a2 2 0 0 1-4 0v-9a2 2 0 0 1 2-2h2",key:"39pd36"}],["rect",{width:"8",height:"4",x:"10",y:"6",rx:"1",key:"aywv1n"}]],RK=Kn("newspaper",Jtt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ztt=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],ert=Kn("phone",Ztt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const trt=[["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M18 5v16",key:"1ethyx"}],["path",{d:"m4 6 7.106-3.79a2 2 0 0 1 1.788 0L20 6",key:"zywc2d"}],["path",{d:"m6 11-3.52 2.147a1 1 0 0 0-.48.854V19a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-5a1 1 0 0 0-.48-.853L18 11",key:"1d4ql0"}],["path",{d:"M6 5v16",key:"1sn0nx"}],["circle",{cx:"12",cy:"9",r:"2",key:"1092wv"}]],rrt=Kn("school",trt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nrt=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],irt=Kn("search",nrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const srt=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],PK=Kn("send",srt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const art=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ort=Kn("settings",art);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lrt=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 14s1.5 2 4 2 4-2 4-2",key:"1y1vjs"}],["line",{x1:"9",x2:"9.01",y1:"9",y2:"9",key:"yxxnd0"}],["line",{x1:"15",x2:"15.01",y1:"9",y2:"9",key:"1p4y9e"}]],crt=Kn("smile",lrt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const urt=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],jK=Kn("trash-2",urt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const drt=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hrt=Kn("triangle-alert",drt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const frt=[["path",{d:"M10 15H6a4 4 0 0 0-4 4v2",key:"1nfge6"}],["path",{d:"m14.305 16.53.923-.382",key:"1itpsq"}],["path",{d:"m15.228 13.852-.923-.383",key:"eplpkm"}],["path",{d:"m16.852 12.228-.383-.923",key:"13v3q0"}],["path",{d:"m16.852 17.772-.383.924",key:"1i8mnm"}],["path",{d:"m19.148 12.228.383-.923",key:"1q8j1v"}],["path",{d:"m19.53 18.696-.382-.924",key:"vk1qj3"}],["path",{d:"m20.772 13.852.924-.383",key:"n880s0"}],["path",{d:"m20.772 16.148.924.383",key:"1g6xey"}],["circle",{cx:"18",cy:"15",r:"3",key:"gjjjvw"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],mrt=Kn("user-cog",frt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const prt=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],DK=Kn("video",prt);/**
 * @license lucide-react v0.561.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const grt=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],vrt=Kn("x",grt),Bce=`
# Changelog

## [v3.8.7] - 2025-12-22
###  Tnh nng mi (Windows App)
- **T khi ng:** Thm ty chn "T khi ng cng Windows" trong trang Ti khon.
- **ng b phin bn:** ng b ha phin bn gia bn Web v bn Windows.

## [v3.8.0] - 2025-12-20
###  Tnh nng Mi & ng b
- **ng b ng nhp:** Hc vin ng nhp 1 ln ti Trang ch s t ng ng nhp vo App n tp (v ngc li).
- **H thng Version:** S phin bn trn giao din t ng cp nht theo thi gian thc.

###  Ci thin Giao din (UI/UX)
- **Thi & n tp:**
  - Thm tin t **A, B, C, D** cho cc p n d quan st.
  - Sa li khng thot c bi thi (loi b chuyn hng chn ngi dng).
  - Ti u Banner nhc nh "Lm tip bi c".
- **Cu hnh:** Sa icon giao din cu hnh chun kch thc.

## [v3.7.1] - 2025-12-20

## [v3.7.0] - 2025-12-16
###  Tnh nng mi
- **H thng Thi Trc Tuyn (Online Exam):**
  - Tch hp hon ton module Thi Trc Tuyn vo h thng.
  - Thm trang ch thi (\`/thitructuyen\`) vi giao din mi.
  - H tr hc vin ng nhp v tham gia phng thi bng m phng.
  - Gio vin/Qun l c th truy cp trang Qun l thi t TopNavbar.

###  Giao din & Tri nghim
- **iu hng:**
  - Thm nt "Thi trc tuyn" vo thanh TopNavbar (ng dng n tp).
  - Thm lin kt "Thi trc tuyn" vo Menu chnh v Footer (Trang ch).
  - Cp nht Sitemap  h tr SEO cho trang thi.
- **Trang Thi Trc Tuyn:**
  - Cp nht thng tin Footer v Logo n v.
  - Ti u ha lung ng nhp v chuyn hng ngi dng.

###  K thut
- Cu hnh script build  h tr deploy ng thi c Next.js v React app ln Vercel.
- Dn dp code qun l thi c khi h thng Next.js  trnh xung t.
- Sa cc li giao din v logic nh khc.

---

## [v3.6.0] - 2024-12-15
###  Tnh nng
- Cp nht giao din Dashboard.
- Ti u ha hiu nng ti trang.
`,yrt=()=>{const t=Bce.match(/\[v(\d+\.\d+\.\d+)\]/);return t?t[1]:"3.0.0"},xrt=({onClose:t})=>m.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:m.jsxs("div",{className:"bg-white dark:bg-slate-800 w-full max-w-2xl max-h-[80vh] rounded-xl shadow-2xl flex flex-col overflow-hidden animate-in fade-in zoom-in duration-200",children:[m.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900/50",children:[m.jsx("h2",{className:"text-lg font-bold text-gray-800 dark:text-white flex items-center gap-2",children:" Lch s cp nht"}),m.jsx("button",{onClick:t,className:"p-2 hover:bg-gray-200 dark:hover:bg-slate-700 rounded-full transition-colors text-gray-500 dark:text-gray-400",children:m.jsx(vrt,{size:20})})]}),m.jsx("div",{className:"flex-1 overflow-y-auto p-6 text-gray-700 dark:text-gray-300 prose dark:prose-invert max-w-none",children:m.jsx("pre",{className:"whitespace-pre-wrap font-sans",children:Bce})}),m.jsx("div",{className:"p-4 border-t border-gray-200 dark:border-gray-700 bg-gray-50 dark:bg-slate-900/50 flex justify-end",children:m.jsx("button",{onClick:t,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg font-medium transition-colors",children:"ng"})})]})}),Vce=C.createContext({user:null,loading:!0}),fk=()=>C.useContext(Vce),brt=({children:t})=>{const[e,r]=C.useState(null),[n,i]=C.useState(!0);return C.useEffect(()=>{const s=LZ(js,a=>{r(a),i(!1)});return()=>s()},[]),m.jsx(Vce.Provider,{value:{user:e,loading:n},children:t})},wrt=()=>{const{user:t}=fk(),{userProfile:e}=Rn(v=>v),[r,n]=C.useState([]),[i,s]=C.useState(!1),[a,o]=C.useState(0),l=C.useRef(null);C.useEffect(()=>{const v=x=>{l.current&&!l.current.contains(x.target)&&s(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]),C.useEffect(()=>{t&&e&&mke(t.uid,void 0,e.role).then(v=>{const x=v.map(b=>({id:b.id,title:b.title,body:b.message,link:void 0,timestamp:b.createdAt?new Date(b.createdAt.seconds*1e3):new Date,read:b.read||!1,type:b.type}));n(x),o(x.filter(b=>!b.read).length)})},[t,e]),C.useEffect(()=>{if(!t||!e)return;const v=pr(qt(Ye,"notifications"),kr("targetType","==","all"),po("createdAt","desc"),El(10)),x=Ho(v,E=>{E.docChanges().forEach(k=>{if(k.type==="added"){const A=k.doc.data();if(A.targetRoles&&Array.isArray(A.targetRoles)&&A.targetRoles.length>0&&(!e.role||!A.targetRoles.includes(e.role)))return;n(O=>{var S;if(O.some(I=>I.id===k.doc.id))return O;const P={id:k.doc.id,title:A.title,body:A.message,link:void 0,timestamp:A.createdAt?new Date(A.createdAt.seconds*1e3):new Date,read:((S=A.readBy)==null?void 0:S.includes(t.uid))||!1,type:A.type};return Date.now()-P.timestamp.getTime()<1e4&&!P.read&&ln(P.title,{description:P.body,duration:5e3}),[P,...O].sort((I,R)=>R.timestamp.getTime()-I.timestamp.getTime())})}})}),b=pr(qt(Ye,"users",t.uid,"notifications"),po("createdAt","desc"),El(10)),w=Ho(b,E=>{E.docChanges().forEach(k=>{if(k.type==="added"){const A=k.doc.data();n(O=>{if(O.some(S=>S.id===k.doc.id))return O;const P={id:k.doc.id,title:A.title,body:A.message,link:void 0,timestamp:A.createdAt?new Date(A.createdAt.seconds*1e3):new Date,read:A.read||!1,type:A.type};return Date.now()-P.timestamp.getTime()<1e4&&!P.read&&ln(P.title,{description:P.body,duration:5e3}),[P,...O].sort((S,I)=>I.timestamp.getTime()-S.timestamp.getTime())})}})});return()=>{x(),w()}},[t,e]),C.useEffect(()=>{o(r.filter(v=>!v.read).length)},[r]);const u=()=>{s(!i)},d=async()=>{if(!t||a===0)return;n(x=>x.map(b=>({...b,read:!0}))),o(0);const v=r.filter(x=>!x.read).map(x=>x.id);for(const x of v)await pke(x,t.uid)},f=async(v,x)=>{v.stopPropagation(),t&&(n(b=>b.filter(w=>w.id!==x)),await VU(x,t.uid))},g=async()=>{if(!t)return;const v=r.filter(x=>x.read&&x.type!=="special"&&x.type!=="attention").map(x=>x.id);if(v.length===0){ln.info("Khng c thng bo  c no  xa.");return}n(x=>x.filter(b=>!b.read||b.type==="special"||b.type==="attention"));for(const x of v)await VU(x,t.uid);ln.success(` xa ${v.length} thng bo  c.`)};return m.jsxs("div",{className:"relative",ref:l,children:[m.jsxs("button",{onClick:u,className:"relative p-2 text-gray-600 dark:text-gray-300 hover:bg-gray-100 dark:hover:bg-slate-700 rounded-full transition-colors",title:"Thng bo",children:[m.jsx(Ike,{className:`text-xl ${a>0?"text-yellow-500 animate-swing":""}`}),a>0&&m.jsx("span",{className:"absolute top-0 right-0 inline-flex items-center justify-center px-2 py-1 text-xs font-bold leading-none text-white transform translate-x-1/4 -translate-y-1/4 bg-red-600 rounded-full",children:a})]}),i&&m.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-white dark:bg-slate-800 rounded-xl shadow-2xl overflow-hidden z-50 border border-gray-200 dark:border-gray-700 animate-fade-in-down",children:[m.jsxs("div",{className:"p-3 bg-gray-50 dark:bg-slate-900 border-b border-gray-200 dark:border-gray-700 flex justify-between items-center",children:[m.jsx("h3",{className:"font-semibold text-gray-800 dark:text-white",children:"Thng bo"}),m.jsxs("div",{className:"flex gap-3 text-xs",children:[m.jsxs("span",{className:"text-blue-500 cursor-pointer hover:underline flex items-center gap-1",onClick:d,title:"nh du tt c l  c",children:[m.jsx(hte,{}),"  c"]}),m.jsxs("span",{className:"text-red-500 cursor-pointer hover:underline flex items-center gap-1",onClick:g,title:"Xa cc thng bo  c",children:[m.jsx(Gc,{})," Xa  c"]})]})]}),m.jsx("div",{className:"max-h-96 overflow-y-auto",children:r.length===0?m.jsx("div",{className:"p-8 text-center text-gray-400",children:m.jsx("p",{children:"Khng c thng bo mi"})}):r.map(v=>m.jsxs("div",{className:`p-3 border-b border-gray-100 dark:border-gray-800 hover:bg-gray-50 dark:hover:bg-slate-700 transition-colors group relative ${v.read?"":"bg-blue-50 dark:bg-blue-900/10"}`,children:[m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{className:"flex-1 pr-6",children:[m.jsxs("p",{className:`text-sm text-gray-800 dark:text-gray-100 mb-1 ${v.read?"font-medium":"font-bold"}`,children:[!v.read&&m.jsx(Fke,{className:"inline-block text-[8px] text-blue-500 mr-1 mb-0.5"}),v.title]}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-400 line-clamp-2",children:v.body})]}),v.type!=="special"&&v.type!=="attention"&&m.jsx("button",{onClick:x=>f(x,v.id),className:"absolute top-3 right-3 text-gray-400 hover:text-red-500 opacity-0 group-hover:opacity-100 transition-opacity p-1",title:"Xa thng bo",children:m.jsx(Gc,{size:12})})]}),m.jsxs("div",{className:"flex justify-between items-center mt-2",children:[m.jsx("span",{className:"text-xs text-gray-400",children:v.timestamp.toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}),v.link&&m.jsx("a",{href:v.link,className:"text-xs text-blue-600 dark:text-blue-400 hover:underline",children:"Xem chi tit"})]})]},v.id))})]})]})},_rt=({userProfile:t,onNavigate:e,onLogout:r})=>{const[n,i]=C.useState(!1);return m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"fixed top-0 left-0 right-0 h-16 bg-white dark:bg-slate-900 border-b border-gray-200 dark:border-gray-800 z-40 px-4 shadow-sm flex items-center justify-between transition-colors duration-300",children:[m.jsxs("div",{className:"flex items-center gap-1 md:gap-4 overflow-x-auto no-scrollbar",children:[m.jsxs("button",{onClick:()=>e("dashboard"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(Ctt,{size:18,className:"text-blue-600 dark:text-blue-400"}),m.jsx("span",{className:"font-semibold text-sm md:text-base",children:"n tp"})]}),m.jsxs("button",{onClick:()=>{t&&["admin","quan_ly","lanh_dao","giao_vien"].includes(t.role)?e("online_exam_management"):e("thi_truc_tuyen")},className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(RK,{size:18,className:"text-red-600 dark:text-red-400"}),m.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Thi trc tuyn"})]}),m.jsxs("button",{onClick:()=>e("download_app"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(Vtt,{size:18,className:"text-green-600 dark:text-green-400"}),m.jsx("span",{className:"font-semibold text-sm md:text-base",children:"Ti App"})]}),m.jsxs("a",{href:"/",className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap decoration-0",children:[m.jsx(RK,{size:18,className:"text-teal-600 dark:text-teal-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Tin tc"})]}),m.jsxs("button",{onClick:()=>e("account"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(mrt,{size:18,className:"text-orange-600 dark:text-orange-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Ti khon"})]}),m.jsxs("button",{onClick:()=>e("mailbox"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(Qtt,{size:18,className:"text-pink-600 dark:text-pink-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Hp th"})]}),t&&m.jsxs(m.Fragment,{children:[["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)?m.jsxs("button",{onClick:()=>e("class_management"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(rrt,{size:18,className:"text-indigo-600 dark:text-indigo-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Qun l lp"})]}):m.jsxs("button",{onClick:()=>e("my_class"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx(OK,{size:18,className:"text-green-600 dark:text-green-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Lp ca ti"})]}),["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)&&m.jsxs("button",{onClick:()=>e("notification_mgmt"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap border-l border-gray-200 dark:border-gray-700 ml-2 pl-4",children:[m.jsx(hrt,{size:18,className:"text-red-500 animate-pulse-slow"}),m.jsx("span",{className:"font-bold text-sm md:text-base text-red-600 dark:text-red-400",children:"Qun l TB"})]}),t.role==="admin"&&m.jsxs("button",{onClick:()=>e("config"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap border-l border-gray-200 dark:border-gray-700 ml-2 pl-4",children:[m.jsx(ort,{size:18,className:"text-purple-600 animate-spin-slow"}),m.jsx("span",{className:"font-bold text-sm md:text-base text-purple-600 dark:text-purple-400",children:"Cu hnh"})]}),m.jsxs("button",{onClick:()=>e("history"),className:"flex items-center gap-2 px-3 py-2 rounded-lg text-gray-700 dark:text-gray-200 hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors whitespace-nowrap",children:[m.jsx($tt,{size:18,className:"text-purple-600 dark:text-purple-400"}),m.jsx("span",{className:"font-medium text-sm md:text-base",children:"Lch s"})]})]})]}),m.jsx("div",{className:"flex items-center gap-3 md:gap-4 ml-4 flex-shrink-0",children:t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"mr-2",children:m.jsx(wrt,{})}),m.jsx("div",{className:"hidden md:flex flex-col items-end mr-4",children:m.jsxs("button",{onClick:()=>i(!0),className:"text-xs font-medium text-gray-500 hover:text-blue-600 transition-colors",children:["v",yrt()]})}),m.jsxs("div",{className:"hidden md:flex flex-col items-end",children:[m.jsx("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:"Xin cho,"}),m.jsx("span",{className:"text-sm font-bold text-gray-800 dark:text-white max-w-[150px] truncate",children:t.isVerified||t.courseId?m.jsxs("span",{className:`flex items-center gap-1 font-bold ${t.role==="giao_vien"?"text-yellow-600 dark:text-yellow-400":t.role==="quan_ly"||t.role==="lanh_dao"?"text-red-600 dark:text-red-400":t.role==="admin"?"text-purple-600 dark:text-purple-400":"text-blue-600"}`,children:[t.full_name||t.fullName||"---",t.role==="hoc_vien"&&m.jsx(Mtt,{size:14,className:"text-green-500"})]}):m.jsx("span",{className:`font-bold ${t.role==="giao_vien"?"text-yellow-600 dark:text-yellow-400":t.role==="quan_ly"||t.role==="lanh_dao"?"text-red-600 dark:text-red-400":t.role==="admin"?"text-purple-600 dark:text-purple-400":"text-gray-800 dark:text-white"}`,children:t.full_name||t.fullName||"---"})})]}),m.jsx("div",{className:"md:hidden text-gray-700 dark:text-gray-200",children:m.jsx(OK,{size:20})}),m.jsx("div",{className:"h-8 w-[1px] bg-gray-300 dark:bg-gray-700 mx-1"}),m.jsxs("button",{onClick:r,className:"group flex items-center gap-2 text-red-600 dark:text-red-400 hover:bg-red-50 dark:hover:bg-red-900/20 px-3 py-2 rounded-full transition-colors",title:"ng xut",children:[m.jsx(Ytt,{size:18,className:"group-hover:translate-x-1 transition-transform"}),m.jsx("span",{className:"hidden md:inline font-medium text-sm",children:"Thot"})]})]}):m.jsx("button",{onClick:()=>e("login"),className:"bg-blue-600 hover:bg-blue-700 text-white px-4 py-2 rounded-lg font-semibold text-sm transition-colors shadow-md",children:"ng nhp"})})]}),n&&m.jsx(xrt,{onClose:()=>i(!1)})]})},mk=0,kf=1,Lv=2,Uce=4;function MK(t){return()=>t}function Ert(t){t()}function zce(t,e){return r=>t(e(r))}function LK(t,e){return()=>t(e)}function Trt(t,e){return r=>t(e,r)}function qD(t){return t!==void 0}function Srt(...t){return()=>{t.map(Ert)}}function Fv(){}function pk(t,e){return e(t),t}function krt(t,e){return e(t)}function Yn(...t){return t}function Kr(t,e){return t(kf,e)}function sr(t,e){t(mk,e)}function WD(t){t(Lv)}function ei(t){return t(Uce)}function Tt(t,e){return Kr(t,Trt(e,mk))}function pc(t,e){const r=t(kf,n=>{r(),e(n)});return r}function FK(t){let e,r;return n=>i=>{e=i,r&&clearTimeout(r),r=setTimeout(()=>{n(e)},t)}}function $ce(t,e){return t===e}function Hn(t=$ce){let e;return r=>n=>{t(e,n)||(e=n,r(n))}}function Lt(t){return e=>r=>{t(r)&&e(r)}}function ht(t){return e=>zce(e,t)}function qc(t){return e=>()=>{e(t)}}function Ge(t,...e){const r=Art(...e);return(n,i)=>{switch(n){case Lv:WD(t);return;case kf:return Kr(t,r(i))}}}function Xc(t,e){return r=>n=>{r(e=t(e,n))}}function cm(t){return e=>r=>{t>0?t--:e(r)}}function Qu(t){let e=null,r;return n=>i=>{e=i,!r&&(r=setTimeout(()=>{r=void 0,n(e)},t))}}function ar(...t){const e=new Array(t.length);let r=0,n=null;const i=Math.pow(2,t.length)-1;return t.forEach((s,a)=>{const o=Math.pow(2,a);Kr(s,l=>{const u=r;r=r|o,e[a]=l,u!==i&&r===i&&n&&(n(),n=null)})}),s=>a=>{const o=()=>{s([a].concat(e))};r===i?o():n=o}}function Art(...t){return e=>t.reduceRight(krt,e)}function Crt(t){let e,r;const n=()=>e==null?void 0:e();return function(i,s){switch(i){case kf:return s?r===s?void 0:(n(),r=s,e=Kr(t,s),e):(n(),Fv);case Lv:n(),r=null;return}}}function Je(t){let e=t;const r=Er();return(n,i)=>{switch(n){case mk:e=i;break;case kf:{i(e);break}case Uce:return e}return r(n,i)}}function Ca(t,e){return pk(Je(e),r=>Tt(t,r))}function Er(){const t=[];return(e,r)=>{switch(e){case mk:t.slice().forEach(n=>{n(r)});return;case Lv:t.splice(0,t.length);return;case kf:return t.push(r),()=>{const n=t.indexOf(r);n>-1&&t.splice(n,1)}}}}function Go(t){return pk(Er(),e=>Tt(t,e))}function Dr(t,e=[],{singleton:r}={singleton:!0}){return{constructor:t,dependencies:e,id:Nrt(),singleton:r}}const Nrt=()=>Symbol();function Irt(t){const e=new Map,r=({constructor:n,dependencies:i,id:s,singleton:a})=>{if(a&&e.has(s))return e.get(s);const o=n(i.map(l=>r(l)));return a&&e.set(s,o),o};return r(t)}function is(...t){const e=Er(),r=new Array(t.length);let n=0;const i=Math.pow(2,t.length)-1;return t.forEach((s,a)=>{const o=Math.pow(2,a);Kr(s,l=>{r[a]=l,n=n|o,n===i&&sr(e,r)})}),function(s,a){switch(s){case Lv:{WD(e);return}case kf:return n===i&&a(r),Kr(e,a)}}}function Mt(t,e=$ce){return Ge(t,Hn(e))}function bO(...t){return function(e,r){switch(e){case Lv:return;case kf:return Srt(...t.map(n=>Kr(n,r)))}}}var vo=(t=>(t[t.DEBUG=0]="DEBUG",t[t.INFO=1]="INFO",t[t.WARN=2]="WARN",t[t.ERROR=3]="ERROR",t))(vo||{});const Ort={0:"debug",3:"error",1:"log",2:"warn"},Rrt=()=>typeof globalThis>"u"?window:globalThis,Af=Dr(()=>{const t=Je(3);return{log:Je((e,r,n=1)=>{var i;const s=(i=Rrt().VIRTUOSO_LOG_LEVEL)!=null?i:ei(t);n>=s&&console[Ort[n]]("%creact-virtuoso: %c%s %o","color: #0253b3; font-weight: bold","color: initial",e,r)}),logLevel:t}},[],{singleton:!0});function Im(t,e,r){return GD(t,e,r).callbackRef}function GD(t,e,r){const n=Ae.useRef(null);let i=a=>{};const s=Ae.useMemo(()=>typeof ResizeObserver<"u"?new ResizeObserver(a=>{const o=()=>{const l=a[0].target;l.offsetParent!==null&&t(l)};r?o():requestAnimationFrame(o)}):null,[t,r]);return i=a=>{a&&e?(s==null||s.observe(a),n.current=a):(n.current&&(s==null||s.unobserve(n.current)),n.current=null)},{callbackRef:i,ref:n}}function Prt(t,e,r,n,i,s,a,o,l){const u=Ae.useCallback(d=>{const f=jrt(d.children,e,o?"offsetWidth":"offsetHeight",i);let g=d.parentElement;for(;!g.dataset.virtuosoScroller;)g=g.parentElement;const v=g.lastElementChild.dataset.viewportType==="window";let x;v&&(x=g.ownerDocument.defaultView);const b=a?o?a.scrollLeft:a.scrollTop:v?o?x.scrollX||x.document.documentElement.scrollLeft:x.scrollY||x.document.documentElement.scrollTop:o?g.scrollLeft:g.scrollTop,w=a?o?a.scrollWidth:a.scrollHeight:v?o?x.document.documentElement.scrollWidth:x.document.documentElement.scrollHeight:o?g.scrollWidth:g.scrollHeight,E=a?o?a.offsetWidth:a.offsetHeight:v?o?x.innerWidth:x.innerHeight:o?g.offsetWidth:g.offsetHeight;n({scrollHeight:w,scrollTop:Math.max(b,0),viewportHeight:E}),s==null||s(o?BK("column-gap",getComputedStyle(d).columnGap,i):BK("row-gap",getComputedStyle(d).rowGap,i)),f!==null&&t(f)},[t,e,i,s,a,n,o]);return GD(u,r,l)}function jrt(t,e,r,n){const i=t.length;if(i===0)return null;const s=[];for(let a=0;a<i;a++){const o=t.item(a);if(o.dataset.index===void 0)continue;const l=parseInt(o.dataset.index),u=parseFloat(o.dataset.knownSize),d=e(o,r);if(d===0&&n("Zero-sized element, this should not happen",{child:o},vo.ERROR),d===u)continue;const f=s[s.length-1];s.length===0||f.size!==d||f.endIndex!==l-1?s.push({endIndex:l,size:d,startIndex:l}):s[s.length-1].endIndex++}return s}function BK(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,vo.WARN),e==="normal"?0:parseInt(e??"0",10)}function Hce(t,e,r){const n=Ae.useRef(null),i=Ae.useCallback(l=>{if(!(l!=null&&l.offsetParent))return;const u=l.getBoundingClientRect(),d=u.width;let f,g;if(e){const v=e.getBoundingClientRect(),x=u.top-v.top;g=v.height-Math.max(0,x),f=x+e.scrollTop}else{const v=a.current.ownerDocument.defaultView;g=v.innerHeight-Math.max(0,u.top),f=u.top+v.scrollY}n.current={offsetTop:f,visibleHeight:g,visibleWidth:d},t(n.current)},[t,e]),{callbackRef:s,ref:a}=GD(i,!0,r),o=Ae.useCallback(()=>{i(a.current)},[i,a]);return Ae.useEffect(()=>{var l;if(e){e.addEventListener("scroll",o);const u=new ResizeObserver(()=>{requestAnimationFrame(o)});return u.observe(e),()=>{e.removeEventListener("scroll",o),u.unobserve(e)}}else{const u=(l=a.current)==null?void 0:l.ownerDocument.defaultView;return u==null||u.addEventListener("scroll",o),u==null||u.addEventListener("resize",o),()=>{u==null||u.removeEventListener("scroll",o),u==null||u.removeEventListener("resize",o)}}},[o,e,a]),s}const Ya=Dr(()=>{const t=Er(),e=Er(),r=Je(0),n=Er(),i=Je(0),s=Er(),a=Er(),o=Je(0),l=Je(0),u=Je(0),d=Je(0),f=Er(),g=Er(),v=Je(!1),x=Je(!1),b=Je(!1);return Tt(Ge(t,ht(({scrollTop:w})=>w)),e),Tt(Ge(t,ht(({scrollHeight:w})=>w)),a),Tt(e,i),{deviation:r,fixedFooterHeight:u,fixedHeaderHeight:l,footerHeight:d,headerHeight:o,horizontalDirection:x,scrollBy:g,scrollContainerState:t,scrollHeight:a,scrollingInProgress:v,scrollTo:f,scrollTop:e,skipAnimationFrameInResizeObserver:b,smoothScrollTargetReached:n,statefulScrollTop:i,viewportHeight:s}},[],{singleton:!0}),Lx={lvl:0};function qce(t,e){const r=t.length;if(r===0)return[];let{index:n,value:i}=e(t[0]);const s=[];for(let a=1;a<r;a++){const{index:o,value:l}=e(t[a]);s.push({end:o-1,start:n,value:i}),n=o,i=l}return s.push({end:1/0,start:n,value:i}),s}function Tn(t){return t===Lx}function Fx(t,e){if(!Tn(t))return e===t.k?t.v:e<t.k?Fx(t.l,e):Fx(t.r,e)}function _c(t,e,r="k"){if(Tn(t))return[-1/0,void 0];if(Number(t[r])===e)return[t.k,t.v];if(Number(t[r])<e){const n=_c(t.r,e,r);return n[0]===-1/0?[t.k,t.v]:n}return _c(t.l,e,r)}function Uo(t,e,r){return Tn(t)?Kce(e,r,1):e===t.k?ps(t,{k:e,v:r}):e<t.k?VK(ps(t,{l:Uo(t.l,e,r)})):VK(ps(t,{r:Uo(t.r,e,r)}))}function fg(){return Lx}function mg(t,e,r){if(Tn(t))return[];const n=_c(t,e)[0];return Drt(_O(t,n,r))}function wO(t,e){if(Tn(t))return Lx;const{k:r,l:n,r:i}=t;if(e===r){if(Tn(n))return i;if(Tn(i))return n;{const[s,a]=Gce(n);return V2(ps(t,{k:s,l:Wce(n),v:a}))}}else return e<r?V2(ps(t,{l:wO(n,e)})):V2(ps(t,{r:wO(i,e)}))}function S0(t){return Tn(t)?[]:[...S0(t.l),{k:t.k,v:t.v},...S0(t.r)]}function _O(t,e,r){if(Tn(t))return[];const{k:n,l:i,r:s,v:a}=t;let o=[];return n>e&&(o=o.concat(_O(i,e,r))),n>=e&&n<=r&&o.push({k:n,v:a}),n<=r&&(o=o.concat(_O(s,e,r))),o}function V2(t){const{l:e,lvl:r,r:n}=t;if(n.lvl>=r-1&&e.lvl>=r-1)return t;if(r>n.lvl+1){if(x5(e))return Yce(ps(t,{lvl:r-1}));if(!Tn(e)&&!Tn(e.r))return ps(e.r,{l:ps(e,{r:e.r.l}),lvl:r,r:ps(t,{l:e.r.r,lvl:r-1})});throw new Error("Unexpected empty nodes")}else{if(x5(t))return EO(ps(t,{lvl:r-1}));if(!Tn(n)&&!Tn(n.l)){const i=n.l,s=x5(i)?n.lvl-1:n.lvl;return ps(i,{l:ps(t,{lvl:r-1,r:i.l}),lvl:i.lvl+1,r:EO(ps(n,{l:i.r,lvl:s}))})}else throw new Error("Unexpected empty nodes")}}function ps(t,e){return Kce(e.k!==void 0?e.k:t.k,e.v!==void 0?e.v:t.v,e.lvl!==void 0?e.lvl:t.lvl,e.l!==void 0?e.l:t.l,e.r!==void 0?e.r:t.r)}function Wce(t){return Tn(t.r)?t.l:V2(ps(t,{r:Wce(t.r)}))}function x5(t){return Tn(t)||t.lvl>t.r.lvl}function Gce(t){return Tn(t.r)?[t.k,t.v]:Gce(t.r)}function Kce(t,e,r,n=Lx,i=Lx){return{k:t,l:n,lvl:r,r:i,v:e}}function VK(t){return EO(Yce(t))}function Yce(t){const{l:e}=t;return!Tn(e)&&e.lvl===t.lvl?ps(e,{r:ps(t,{l:e.r})}):t}function EO(t){const{lvl:e,r}=t;return!Tn(r)&&!Tn(r.r)&&r.lvl===e&&r.r.lvl===e?ps(r,{l:ps(t,{r:r.l}),lvl:e+1}):t}function Drt(t){return qce(t,({k:e,v:r})=>({index:e,value:r}))}function Xce(t,e){return!!(t&&t.startIndex===e.startIndex&&t.endIndex===e.endIndex)}function Bx(t,e){return!!(t&&t[0]===e[0]&&t[1]===e[1])}const KD=Dr(()=>({recalcInProgress:Je(!1)}),[],{singleton:!0});function Qce(t,e,r){return t[QT(t,e,r)]}function QT(t,e,r,n=0){let i=t.length-1;for(;n<=i;){const s=Math.floor((n+i)/2),a=t[s],o=r(a,e);if(o===0)return s;if(o===-1){if(i-n<2)return s-1;i=s-1}else{if(i===n)return s;n=s+1}}throw new Error(`Failed binary finding record in array - ${t.join(",")}, searched for ${e}`)}function Mrt(t,e,r,n){const i=QT(t,e,n),s=QT(t,r,n,i);return t.slice(i,s+1)}function df(t,e){return Math.round(t.getBoundingClientRect()[e])}function gk(t){return!Tn(t.groupOffsetTree)}function YD({index:t},e){return e===t?0:e<t?-1:1}function Lrt(){return{groupIndices:[],groupOffsetTree:fg(),lastIndex:0,lastOffset:0,lastSize:0,offsetTree:[],sizeTree:fg()}}function Frt(t,e){let r=Tn(t)?0:1/0;for(const n of e){const{endIndex:i,size:s,startIndex:a}=n;if(r=Math.min(r,a),Tn(t)){t=Uo(t,0,s);continue}const o=mg(t,a-1,i+1);if(o.some(qrt(n)))continue;let l=!1,u=!1;for(const{end:d,start:f,value:g}of o)l?(i>=f||s===g)&&(t=wO(t,f)):(u=g!==s,l=!0),d>i&&i>=f&&g!==s&&(t=Uo(t,i+1,g));u&&(t=Uo(t,a,s))}return[t,r]}function Brt(t){return typeof t.groupIndex<"u"}function Vrt({offset:t},e){return e===t?0:e<t?-1:1}function Vx(t,e,r){if(e.length===0)return 0;const{index:n,offset:i,size:s}=Qce(e,t,YD),a=t-n,o=s*a+(a-1)*r+i;return o>0?o+r:o}function Jce(t,e){if(!gk(e))return t;let r=0;for(;e.groupIndices[r]<=t+r;)r++;return t+r}function Zce(t,e,r){if(Brt(t))return e.groupIndices[t.groupIndex]+1;{const n=t.index==="LAST"?r:t.index;let i=Jce(n,e);return i=Math.max(0,i,Math.min(r,i)),i}}function Urt(t,e,r,n=0){return n>0&&(e=Math.max(e,Qce(t,n,YD).offset)),qce(Mrt(t,e,r,Vrt),Hrt)}function zrt(t,[e,r,n,i]){e.length>0&&n("received item sizes",e,vo.DEBUG);const s=t.sizeTree;let a=s,o=0;if(r.length>0&&Tn(s)&&e.length===2){const g=e[0].size,v=e[1].size;a=r.reduce((x,b)=>Uo(Uo(x,b,g),b+1,v),a)}else[a,o]=Frt(a,e);if(a===s)return t;const{lastIndex:l,lastOffset:u,lastSize:d,offsetTree:f}=TO(t.offsetTree,o,a,i);return{groupIndices:r,groupOffsetTree:r.reduce((g,v)=>Uo(g,v,Vx(v,f,i)),fg()),lastIndex:l,lastOffset:u,lastSize:d,offsetTree:f,sizeTree:a}}function $rt(t){return S0(t).map(({k:e,v:r},n,i)=>{const s=i[n+1];return{endIndex:s?s.k-1:1/0,size:r,startIndex:e}})}function UK(t,e){let r=0,n=0;for(;r<t;)r+=e[n+1]-e[n]-1,n++;return n-(r===t?0:1)}function TO(t,e,r,n){let i=t,s=0,a=0,o=0,l=0;if(e!==0){l=QT(i,e-1,YD),o=i[l].offset;const u=_c(r,e-1);s=u[0],a=u[1],i.length&&i[l].size===_c(r,e)[1]&&(l-=1),i=i.slice(0,l+1)}else i=[];for(const{start:u,value:d}of mg(r,e,1/0)){const f=u-s,g=f*a+o+f*n;i.push({index:u,offset:g,size:d}),s=u,o=g,a=d}return{lastIndex:s,lastOffset:o,lastSize:a,offsetTree:i}}function Hrt(t){return{index:t.index,value:t}}function qrt(t){const{endIndex:e,size:r,startIndex:n}=t;return i=>i.start===n&&(i.end===e||i.end===1/0)&&i.value===r}const Wrt={offsetHeight:"height",offsetWidth:"width"},gu=Dr(([{log:t},{recalcInProgress:e}])=>{const r=Er(),n=Er(),i=Ca(n,0),s=Er(),a=Er(),o=Je(0),l=Je([]),u=Je(void 0),d=Je(void 0),f=Je(void 0),g=Je(void 0),v=Je((S,I)=>df(S,Wrt[I])),x=Je(void 0),b=Je(0),w=Lrt(),E=Ca(Ge(r,ar(l,t,b),Xc(zrt,w),Hn()),w),k=Ca(Ge(l,Hn(),Xc((S,I)=>({current:I,prev:S.current}),{current:[],prev:[]}),ht(({prev:S})=>S)),[]);Tt(Ge(l,Lt(S=>S.length>0),ar(E,b),ht(([S,I,R])=>{const D=S.reduce((M,L,U)=>Uo(M,L,Vx(L,I.offsetTree,R)||U),fg());return{...I,groupIndices:S,groupOffsetTree:D}})),E),Tt(Ge(n,ar(E),Lt(([S,{lastIndex:I}])=>S<I),ht(([S,{lastIndex:I,lastSize:R}])=>[{endIndex:I,size:R,startIndex:S}])),r),Tt(u,d);const A=Ca(Ge(u,ht(S=>S===void 0)),!0);Tt(Ge(d,Lt(S=>S!==void 0&&Tn(ei(E).sizeTree)),ht(S=>{const I=ei(f),R=ei(l).length>0;return I?R?[{endIndex:0,size:I,startIndex:0},{endIndex:1,size:S,startIndex:1}]:[]:[{endIndex:0,size:S,startIndex:0}]})),r),Tt(Ge(g,Lt(S=>S!==void 0&&S.length>0&&Tn(ei(E).sizeTree)),ht(S=>{const I=[];let R=S[0],D=0;for(let M=1;M<S.length;M++){const L=S[M];L!==R&&(I.push({endIndex:M-1,size:R,startIndex:D}),R=L,D=M)}return I.push({endIndex:S.length-1,size:R,startIndex:D}),I})),r),Tt(Ge(l,ar(f,d),Lt(([,S,I])=>S!==void 0&&I!==void 0),ht(([S,I,R])=>{const D=[];for(let M=0;M<S.length;M++){const L=S[M],U=S[M+1];D.push({startIndex:L,endIndex:L,size:I}),U!==void 0&&D.push({startIndex:L+1,endIndex:U-1,size:R})}return D})),r);const O=Go(Ge(r,ar(E),Xc(({sizes:S},[I,R])=>({changed:R!==S,sizes:R}),{changed:!1,sizes:w}),ht(S=>S.changed)));Kr(Ge(o,Xc((S,I)=>({diff:S.prev-I,prev:I}),{diff:0,prev:0}),ht(S=>S.diff)),S=>{const{groupIndices:I}=ei(E);if(S>0)sr(e,!0),sr(s,S+UK(S,I));else if(S<0){const R=ei(k);R.length>0&&(S-=UK(-S,R)),sr(a,S)}}),Kr(Ge(o,ar(t)),([S,I])=>{S<0&&I("`firstItemIndex` prop should not be set to less than zero. If you don't know the total count, just use a very high value",{firstItemIndex:o},vo.ERROR)});const P=Go(s);Tt(Ge(s,ar(E),ht(([S,I])=>{const R=I.groupIndices.length>0,D=[],M=I.lastSize;if(R){const L=Fx(I.sizeTree,0);let U=0,le=0;for(;U<S;){const J=I.groupIndices[le],Q=I.groupIndices.length===le+1?1/0:I.groupIndices[le+1]-J-1;D.push({endIndex:J,size:L,startIndex:J}),D.push({endIndex:J+1+Q-1,size:M,startIndex:J+1}),le++,U+=Q+1}const ue=S0(I.sizeTree);return U!==S&&ue.shift(),ue.reduce((J,{k:Q,v:he})=>{let Z=J.ranges;return J.prevSize!==0&&(Z=[...J.ranges,{endIndex:Q+S-1,size:J.prevSize,startIndex:J.prevIndex}]),{prevIndex:Q+S,prevSize:he,ranges:Z}},{prevIndex:S,prevSize:0,ranges:D}).ranges}return S0(I.sizeTree).reduce((L,{k:U,v:le})=>({prevIndex:U+S,prevSize:le,ranges:[...L.ranges,{endIndex:U+S-1,size:L.prevSize,startIndex:L.prevIndex}]}),{prevIndex:0,prevSize:M,ranges:[]}).ranges})),r);const j=Go(Ge(a,ar(E,b),ht(([S,{offsetTree:I},R])=>{const D=-S;return Vx(D,I,R)})));return Tt(Ge(a,ar(E,b),ht(([S,I,R])=>{if(I.groupIndices.length>0){if(Tn(I.sizeTree))return I;let D=fg();const M=ei(k);let L=0,U=0,le=0;for(;L<-S;){le=M[U];const ue=M[U+1]-le-1;U++,L+=ue+1}if(D=S0(I.sizeTree).reduce((ue,{k:J,v:Q})=>Uo(ue,Math.max(0,J+S),Q),D),L!==-S){const ue=Fx(I.sizeTree,le);D=Uo(D,0,ue);const J=_c(I.sizeTree,-S+1)[1];D=Uo(D,1,J)}return{...I,sizeTree:D,...TO(I.offsetTree,0,D,R)}}else{const D=S0(I.sizeTree).reduce((M,{k:L,v:U})=>Uo(M,Math.max(0,L+S),U),fg());return{...I,sizeTree:D,...TO(I.offsetTree,0,D,R)}}})),E),{beforeUnshiftWith:P,data:x,defaultItemSize:d,firstItemIndex:o,fixedItemSize:u,fixedGroupSize:f,gap:b,groupIndices:l,heightEstimates:g,itemSize:v,listRefresh:O,shiftWith:a,shiftWithOffset:j,sizeRanges:r,sizes:E,statefulTotalCount:i,totalCount:n,trackItemSizes:A,unshiftWith:s}},Yn(Af,KD),{singleton:!0});function Grt(t){return t.reduce((e,r)=>(e.groupIndices.push(e.totalCount),e.totalCount+=r+1,e),{groupIndices:[],totalCount:0})}const eue=Dr(([{groupIndices:t,sizes:e,totalCount:r},{headerHeight:n,scrollTop:i}])=>{const s=Er(),a=Er(),o=Go(Ge(s,ht(Grt)));return Tt(Ge(o,ht(l=>l.totalCount)),r),Tt(Ge(o,ht(l=>l.groupIndices)),t),Tt(Ge(is(i,e,n),Lt(([l,u])=>gk(u)),ht(([l,u,d])=>_c(u.groupOffsetTree,Math.max(l-d,0),"v")[0]),Hn(),ht(l=>[l])),a),{groupCounts:s,topItemsIndexes:a}},Yn(gu,Ya)),Cf=Dr(([{log:t}])=>{const e=Je(!1),r=Go(Ge(e,Lt(n=>n),Hn()));return Kr(e,n=>{n&&ei(t)("props updated",{},vo.DEBUG)}),{didMount:r,propsReady:e}},Yn(Af),{singleton:!0}),Krt=typeof document<"u"&&"scrollBehavior"in document.documentElement.style;function tue(t){const e=typeof t=="number"?{index:t}:t;return e.align||(e.align="start"),(!e.behavior||!Krt)&&(e.behavior="auto"),e.offset||(e.offset=0),e}const Hb=Dr(([{gap:t,listRefresh:e,sizes:r,totalCount:n},{fixedFooterHeight:i,fixedHeaderHeight:s,footerHeight:a,headerHeight:o,scrollingInProgress:l,scrollTo:u,smoothScrollTargetReached:d,viewportHeight:f},{log:g}])=>{const v=Er(),x=Er(),b=Je(0);let w=null,E=null,k=null;function A(){w&&(w(),w=null),k&&(k(),k=null),E&&(clearTimeout(E),E=null),sr(l,!1)}return Tt(Ge(v,ar(r,f,n,b,o,a,g),ar(t,s,i),ht(([[O,P,j,S,I,R,D,M],L,U,le])=>{const ue=tue(O),{align:J,behavior:Q,offset:he}=ue,Z=S-1,ge=Zce(ue,P,Z);let H=Vx(ge,P.offsetTree,L)+R;J==="end"?(H+=U+_c(P.sizeTree,ge)[1]-j+le,ge===Z&&(H+=D)):J==="center"?H+=(U+_c(P.sizeTree,ge)[1]-j+le)/2:H-=I,he&&(H+=he);const B=q=>{A(),q?(M("retrying to scroll to",{location:O},vo.DEBUG),sr(v,O)):(sr(x,!0),M("list did not change, scroll successful",{},vo.DEBUG))};if(A(),Q==="smooth"){let q=!1;k=Kr(e,W=>{q=q||W}),w=pc(d,()=>{B(q)})}else w=pc(Ge(e,Yrt(150)),B);return E=setTimeout(()=>{A()},1200),sr(l,!0),M("scrolling from index to",{behavior:Q,index:ge,top:H},vo.DEBUG),{behavior:Q,top:H}})),u),{scrollTargetReached:x,scrollToIndex:v,topListHeight:b}},Yn(gu,Ya,Af),{singleton:!0});function Yrt(t){return e=>{const r=setTimeout(()=>{e(!1)},t);return n=>{n&&(e(!0),clearTimeout(r))}}}function XD(t,e){t==0?e():requestAnimationFrame(()=>{XD(t-1,e)})}function QD(t,e){const r=e-1;return typeof t=="number"?t:t.index==="LAST"?r:t.index}const qb=Dr(([{defaultItemSize:t,listRefresh:e,sizes:r},{scrollTop:n},{scrollTargetReached:i,scrollToIndex:s},{didMount:a}])=>{const o=Je(!0),l=Je(0),u=Je(!0);return Tt(Ge(a,ar(l),Lt(([d,f])=>!!f),qc(!1)),o),Tt(Ge(a,ar(l),Lt(([d,f])=>!!f),qc(!1)),u),Kr(Ge(is(e,a),ar(o,r,t,u),Lt(([[,d],f,{sizeTree:g},v,x])=>d&&(!Tn(g)||qD(v))&&!f&&!x),ar(l)),([,d])=>{pc(i,()=>{sr(u,!0)}),XD(4,()=>{pc(n,()=>{sr(o,!0)}),sr(s,d)})}),{initialItemFinalLocationReached:u,initialTopMostItemIndex:l,scrolledToInitialItem:o}},Yn(gu,Ya,Hb,Cf),{singleton:!0});function rue(t,e){return Math.abs(t-e)<1.01}const Ux="up",R1="down",Xrt="none",Qrt={atBottom:!1,notAtBottomBecause:"NOT_SHOWING_LAST_ITEM",state:{offsetBottom:0,scrollHeight:0,scrollTop:0,viewportHeight:0}},Jrt=0,Wb=Dr(([{footerHeight:t,headerHeight:e,scrollBy:r,scrollContainerState:n,scrollTop:i,viewportHeight:s}])=>{const a=Je(!1),o=Je(!0),l=Er(),u=Er(),d=Je(4),f=Je(Jrt),g=Ca(Ge(bO(Ge(Mt(i),cm(1),qc(!0)),Ge(Mt(i),cm(1),qc(!1),FK(100))),Hn()),!1),v=Ca(Ge(bO(Ge(r,qc(!0)),Ge(r,qc(!1),FK(200))),Hn()),!1);Tt(Ge(is(Mt(i),Mt(f)),ht(([k,A])=>k<=A),Hn()),o),Tt(Ge(o,Qu(50)),u);const x=Go(Ge(is(n,Mt(s),Mt(e),Mt(t),Mt(d)),Xc((k,[{scrollHeight:A,scrollTop:O},P,j,S,I])=>{const R=O+P-A>-I,D={scrollHeight:A,scrollTop:O,viewportHeight:P};if(R){let L,U;return O>k.state.scrollTop?(L="SCROLLED_DOWN",U=k.state.scrollTop-O):(L="SIZE_DECREASED",U=k.state.scrollTop-O||k.scrollTopDelta),{atBottom:!0,atBottomBecause:L,scrollTopDelta:U,state:D}}let M;return D.scrollHeight>k.state.scrollHeight?M="SIZE_INCREASED":P<k.state.viewportHeight?M="VIEWPORT_HEIGHT_DECREASING":O<k.state.scrollTop?M="SCROLLING_UPWARDS":M="NOT_FULLY_SCROLLED_TO_LAST_ITEM_BOTTOM",{atBottom:!1,notAtBottomBecause:M,state:D}},Qrt),Hn((k,A)=>k&&k.atBottom===A.atBottom))),b=Ca(Ge(n,Xc((k,{scrollHeight:A,scrollTop:O,viewportHeight:P})=>{if(rue(k.scrollHeight,A))return{changed:!1,jump:0,scrollHeight:A,scrollTop:O};{const j=A-(O+P)<1;return k.scrollTop!==O&&j?{changed:!0,jump:k.scrollTop-O,scrollHeight:A,scrollTop:O}:{changed:!0,jump:0,scrollHeight:A,scrollTop:O}}},{changed:!1,jump:0,scrollHeight:0,scrollTop:0}),Lt(k=>k.changed),ht(k=>k.jump)),0);Tt(Ge(x,ht(k=>k.atBottom)),a),Tt(Ge(a,Qu(50)),l);const w=Je(R1);Tt(Ge(n,ht(({scrollTop:k})=>k),Hn(),Xc((k,A)=>ei(v)?{direction:k.direction,prevScrollTop:A}:{direction:A<k.prevScrollTop?Ux:R1,prevScrollTop:A},{direction:R1,prevScrollTop:0}),ht(k=>k.direction)),w),Tt(Ge(n,Qu(50),qc(Xrt)),w);const E=Je(0);return Tt(Ge(g,Lt(k=>!k),qc(0)),E),Tt(Ge(i,Qu(100),ar(g),Lt(([k,A])=>!!A),Xc(([k,A],[O])=>[A,O],[0,0]),ht(([k,A])=>A-k)),E),{atBottomState:x,atBottomStateChange:l,atBottomThreshold:d,atTopStateChange:u,atTopThreshold:f,isAtBottom:a,isAtTop:o,isScrolling:g,lastJumpDueToItemResize:b,scrollDirection:w,scrollVelocity:E}},Yn(Ya)),zx="top",$x="bottom",zK="none";function $K(t,e,r){return typeof t=="number"?r===Ux&&e===zx||r===R1&&e===$x?t:0:r===Ux?e===zx?t.main:t.reverse:e===$x?t.main:t.reverse}function HK(t,e){var r;return typeof t=="number"?t:(r=t[e])!=null?r:0}const JD=Dr(([{deviation:t,fixedHeaderHeight:e,headerHeight:r,scrollTop:n,viewportHeight:i}])=>{const s=Er(),a=Je(0),o=Je(0),l=Je(0),u=Ca(Ge(is(Mt(n),Mt(i),Mt(r),Mt(s,Bx),Mt(l),Mt(a),Mt(e),Mt(t),Mt(o)),ht(([d,f,g,[v,x],b,w,E,k,A])=>{const O=d-k,P=w+E,j=Math.max(g-O,0);let S=zK;const I=HK(A,zx),R=HK(A,$x);return v-=k,v+=g+E,x+=g+E,x-=k,v>d+P-I&&(S=Ux),x<d-j+f+R&&(S=R1),S!==zK?[Math.max(O-g-$K(b,zx,S)-I,0),O-j-E+f+$K(b,$x,S)+R]:null}),Lt(d=>d!=null),Hn(Bx)),[0,0]);return{increaseViewportBy:o,listBoundary:s,overscan:l,topListHeight:a,visibleRange:u}},Yn(Ya),{singleton:!0});function Zrt(t,e,r){if(gk(e)){const n=Jce(t,e);return[{index:_c(e.groupOffsetTree,n)[0],offset:0,size:0},{data:r==null?void 0:r[0],index:n,offset:0,size:0}]}return[{data:r==null?void 0:r[0],index:t,offset:0,size:0}]}const b5={bottom:0,firstItemIndex:0,items:[],offsetBottom:0,offsetTop:0,top:0,topItems:[],topListHeight:0,totalCount:0};function U2(t,e,r,n,i,s){const{lastIndex:a,lastOffset:o,lastSize:l}=i;let u=0,d=0;if(t.length>0){u=t[0].offset;const b=t[t.length-1];d=b.offset+b.size}const f=r-a,g=o+f*l+(f-1)*n,v=u,x=g-d;return{bottom:d,firstItemIndex:s,items:qK(t,i,s),offsetBottom:x,offsetTop:u,top:v,topItems:qK(e,i,s),topListHeight:e.reduce((b,w)=>w.size+b,0),totalCount:r}}function nue(t,e,r,n,i,s){let a=0;if(r.groupIndices.length>0)for(const d of r.groupIndices){if(d-a>=t)break;a++}const o=t+a,l=QD(e,o),u=Array.from({length:o}).map((d,f)=>({data:s[f+l],index:f+l,offset:0,size:0}));return U2(u,[],o,i,r,n)}function qK(t,e,r){if(t.length===0)return[];if(!gk(e))return t.map(u=>({...u,index:u.index+r,originalIndex:u.index}));const n=t[0].index,i=t[t.length-1].index,s=[],a=mg(e.groupOffsetTree,n,i);let o,l=0;for(const u of t){(!o||o.end<u.index)&&(o=a.shift(),l=e.groupIndices.indexOf(o.start));let d;u.index===o.start?d={index:l,type:"group"}:d={groupIndex:l,index:u.index-(l+1)+r},s.push({...d,data:u.data,offset:u.offset,originalIndex:u.index,size:u.size})}return s}function WK(t,e){var r;return t===void 0?0:typeof t=="number"?t:(r=t[e])!=null?r:0}const Om=Dr(([{data:t,firstItemIndex:e,gap:r,sizes:n,totalCount:i},s,{listBoundary:a,topListHeight:o,visibleRange:l},{initialTopMostItemIndex:u,scrolledToInitialItem:d},{topListHeight:f},g,{didMount:v},{recalcInProgress:x}])=>{const b=Je([]),w=Je(0),E=Er(),k=Je(0);Tt(s.topItemsIndexes,b);const A=Ca(Ge(is(v,x,Mt(l,Bx),Mt(i),Mt(n),Mt(u),d,Mt(b),Mt(e),Mt(r),Mt(k),t),Lt(([S,I,,R,,,,,,,,D])=>{const M=D&&D.length!==R;return S&&!I&&!M}),ht(([,,[S,I],R,D,M,L,U,le,ue,J,Q])=>{var he,Z,ge,H;const B=D,{offsetTree:q,sizeTree:W}=B,Y=ei(w);if(R===0)return{...b5,totalCount:R};if(S===0&&I===0)return Y===0?{...b5,totalCount:R}:nue(Y,M,D,le,ue,Q||[]);if(Tn(W))return Y>0?null:U2(Zrt(QD(M,R),B,Q),[],R,ue,B,le);const de=[];if(U.length>0){const Ze=U[0],Ie=U[U.length-1];let tt=0;for(const Qe of mg(W,Ze,Ie)){const je=Qe.value,rt=Math.max(Qe.start,Ze),vt=Math.min(Qe.end,Ie);for(let It=rt;It<=vt;It++)de.push({data:Q==null?void 0:Q[It],index:It,offset:tt,size:je}),tt+=je}}if(!L)return U2([],de,R,ue,B,le);const me=U.length>0?U[U.length-1]+1:0,ce=Urt(q,S,I,me);if(ce.length===0)return null;const se=R-1,ve=pk([],Ze=>{for(const Ie of ce){const tt=Ie.value;let Qe=tt.offset,je=Ie.start;const rt=tt.size;if(tt.offset<S){je+=Math.floor((S-tt.offset+ue)/(rt+ue));const It=je-Ie.start;Qe+=It*rt+It*ue}je<me&&(Qe+=(me-je)*rt,je=me);const vt=Math.min(Ie.end,se);for(let It=je;It<=vt&&!(Qe>=I);It++)Ze.push({data:Q==null?void 0:Q[It],index:It,offset:Qe,size:rt}),Qe+=rt+ue}}),Ve=WK(J,zx),G=WK(J,$x);if(ve.length>0&&(Ve>0||G>0)){const Ze=ve[0],Ie=ve[ve.length-1];if(Ve>0&&Ze.index>me){const tt=Math.min(Ve,Ze.index-me),Qe=[];let je=Ze.offset;for(let rt=Ze.index-1;rt>=Ze.index-tt;rt--){const vt=(Z=(he=mg(W,rt,rt)[0])==null?void 0:he.value)!=null?Z:Ze.size;je-=vt+ue,Qe.unshift({data:Q==null?void 0:Q[rt],index:rt,offset:je,size:vt})}ve.unshift(...Qe)}if(G>0&&Ie.index<se){const tt=Math.min(G,se-Ie.index);let Qe=Ie.offset+Ie.size+ue;for(let je=Ie.index+1;je<=Ie.index+tt;je++){const rt=(H=(ge=mg(W,je,je)[0])==null?void 0:ge.value)!=null?H:Ie.size;ve.push({data:Q==null?void 0:Q[je],index:je,offset:Qe,size:rt}),Qe+=rt+ue}}}return U2(ve,de,R,ue,B,le)}),Lt(S=>S!==null),Hn()),b5);Tt(Ge(t,Lt(qD),ht(S=>S==null?void 0:S.length)),i),Tt(Ge(A,ht(S=>S.topListHeight)),f),Tt(f,o),Tt(Ge(A,ht(S=>[S.top,S.bottom])),a),Tt(Ge(A,ht(S=>S.items)),E);const O=Go(Ge(A,Lt(({items:S})=>S.length>0),ar(i,t),Lt(([{items:S},I])=>S[S.length-1].originalIndex===I-1),ht(([,S,I])=>[S-1,I]),Hn(Bx),ht(([S])=>S))),P=Go(Ge(A,Qu(200),Lt(({items:S,topItems:I})=>S.length>0&&S[0].originalIndex===I.length),ht(({items:S})=>S[0].index),Hn())),j=Go(Ge(A,Lt(({items:S})=>S.length>0),ht(({items:S})=>{let I=0,R=S.length-1;for(;S[I].type==="group"&&I<R;)I++;for(;S[R].type==="group"&&R>I;)R--;return{endIndex:S[R].index,startIndex:S[I].index}}),Hn(Xce)));return{endReached:O,initialItemCount:w,itemsRendered:E,listState:A,minOverscanItemCount:k,rangeChanged:j,startReached:P,topItemsIndexes:b,...g}},Yn(gu,eue,JD,qb,Hb,Wb,Cf,KD),{singleton:!0}),iue=Dr(([{fixedFooterHeight:t,fixedHeaderHeight:e,footerHeight:r,headerHeight:n},{listState:i}])=>{const s=Er(),a=Ca(Ge(is(r,t,n,e,i),ht(([o,l,u,d,f])=>o+l+u+d+f.offsetBottom+f.bottom)),0);return Tt(Mt(a),s),{totalListHeight:a,totalListHeightChanged:s}},Yn(Ya,Om),{singleton:!0}),ent=Dr(([{viewportHeight:t},{totalListHeight:e}])=>{const r=Je(!1),n=Ca(Ge(is(r,t,e),Lt(([i])=>i),ht(([,i,s])=>Math.max(0,i-s)),Qu(0),Hn()),0);return{alignToBottom:r,paddingTopAddition:n}},Yn(Ya,iue),{singleton:!0}),sue=Dr(()=>({context:Je(null)})),tnt=({itemBottom:t,itemTop:e,locationParams:{align:r,behavior:n,...i},viewportBottom:s,viewportTop:a})=>e<a?{...i,align:r??"start",behavior:n}:t>s?{...i,align:r??"end",behavior:n}:null,aue=Dr(([{gap:t,sizes:e,totalCount:r},{fixedFooterHeight:n,fixedHeaderHeight:i,headerHeight:s,scrollingInProgress:a,scrollTop:o,viewportHeight:l},{scrollToIndex:u}])=>{const d=Er();return Tt(Ge(d,ar(e,l,r,s,i,n,o),ar(t),ht(([[f,g,v,x,b,w,E,k],A])=>{const{align:O,behavior:P,calculateViewLocation:j=tnt,done:S,...I}=f,R=Zce(f,g,x-1),D=Vx(R,g.offsetTree,A)+b+w,M=D+_c(g.sizeTree,R)[1],L=k+w,U=k+v-E,le=j({itemBottom:M,itemTop:D,locationParams:{align:O,behavior:P,...I},viewportBottom:U,viewportTop:L});return le?S&&pc(Ge(a,Lt(ue=>!ue),cm(ei(a)?1:2)),S):S&&S(),le}),Lt(f=>f!==null)),u),{scrollIntoView:d}},Yn(gu,Ya,Hb,Om,Af),{singleton:!0});function GK(t){return t?t==="smooth"?"smooth":"auto":!1}const rnt=(t,e)=>typeof t=="function"?GK(t(e)):e&&GK(t),nnt=Dr(([{listRefresh:t,totalCount:e,fixedItemSize:r,data:n},{atBottomState:i,isAtBottom:s},{scrollToIndex:a},{scrolledToInitialItem:o},{didMount:l,propsReady:u},{log:d},{scrollingInProgress:f},{context:g},{scrollIntoView:v}])=>{const x=Je(!1),b=Er();let w=null;function E(P){sr(a,{align:"end",behavior:P,index:"LAST"})}Kr(Ge(is(Ge(Mt(e),cm(1)),l),ar(Mt(x),s,o,f),ht(([[P,j],S,I,R,D])=>{let M=j&&R,L="auto";return M&&(L=rnt(S,I||D),M=M&&!!L),{followOutputBehavior:L,shouldFollow:M,totalCount:P}}),Lt(({shouldFollow:P})=>P)),({followOutputBehavior:P,totalCount:j})=>{w&&(w(),w=null),ei(r)?requestAnimationFrame(()=>{ei(d)("following output to ",{totalCount:j},vo.DEBUG),E(P)}):w=pc(t,()=>{ei(d)("following output to ",{totalCount:j},vo.DEBUG),E(P),w=null})});function k(P){const j=pc(i,S=>{P&&!S.atBottom&&S.notAtBottomBecause==="SIZE_INCREASED"&&!w&&(ei(d)("scrolling to bottom due to increased size",{},vo.DEBUG),E("auto"))});setTimeout(j,100)}Kr(Ge(is(Mt(x),e,u),Lt(([P,,j])=>P&&j),Xc(({value:P},[,j])=>({refreshed:P===j,value:j}),{refreshed:!1,value:0}),Lt(({refreshed:P})=>P),ar(x,e)),([,P])=>{ei(o)&&k(P!==!1)}),Kr(b,()=>{k(ei(x)!==!1)}),Kr(is(Mt(x),i),([P,j])=>{P&&!j.atBottom&&j.notAtBottomBecause==="VIEWPORT_HEIGHT_DECREASING"&&E("auto")});const A=Je(null),O=Er();return Tt(bO(Ge(Mt(n),ht(P=>{var j;return(j=P==null?void 0:P.length)!=null?j:0})),Ge(Mt(e))),O),Kr(Ge(is(Ge(O,cm(1)),l),ar(Mt(A),o,f,g),ht(([[P,j],S,I,R,D])=>j&&I&&(S==null?void 0:S({context:D,totalCount:P,scrollingInProgress:R}))),Lt(P=>!!P),Qu(0)),P=>{w&&(w(),w=null),ei(r)?requestAnimationFrame(()=>{ei(d)("scrolling into view",{}),sr(v,P)}):w=pc(t,()=>{ei(d)("scrolling into view",{}),sr(v,P),w=null})}),{autoscrollToBottom:b,followOutput:x,scrollIntoViewOnChange:A}},Yn(gu,Wb,Hb,qb,Cf,Af,Ya,sue,aue)),int=Dr(([{data:t,firstItemIndex:e,gap:r,sizes:n},{initialTopMostItemIndex:i},{initialItemCount:s,listState:a},{didMount:o}])=>(Tt(Ge(o,ar(s),Lt(([,l])=>l!==0),ar(i,n,e,r,t),ht(([[,l],u,d,f,g,v=[]])=>nue(l,u,d,f,g,v))),a),{}),Yn(gu,qb,Om,Cf),{singleton:!0}),snt=Dr(([{didMount:t},{scrollTo:e},{listState:r}])=>{const n=Je(0);return Kr(Ge(t,ar(n),Lt(([,i])=>i!==0),ht(([,i])=>({top:i}))),i=>{pc(Ge(r,cm(1),Lt(s=>s.items.length>1)),()=>{requestAnimationFrame(()=>{sr(e,i)})})}),{initialScrollTop:n}},Yn(Cf,Ya,Om),{singleton:!0}),oue=Dr(([{scrollVelocity:t}])=>{const e=Je(!1),r=Er(),n=Je(!1);return Tt(Ge(t,ar(n,e,r),Lt(([i,s])=>!!s),ht(([i,s,a,o])=>{const{enter:l,exit:u}=s;if(a){if(u(i,o))return!1}else if(l(i,o))return!0;return a}),Hn()),e),Kr(Ge(is(e,t,r),ar(n)),([[i,s,a],o])=>{i&&o&&o.change&&o.change(s,a)}),{isSeeking:e,scrollSeekConfiguration:n,scrollSeekRangeChanged:r,scrollVelocity:t}},Yn(Wb),{singleton:!0}),ZD=Dr(([{scrollContainerState:t,scrollTo:e}])=>{const r=Er(),n=Er(),i=Er(),s=Je(!1),a=Je(void 0);return Tt(Ge(is(r,n),ht(([{scrollHeight:o,scrollTop:l,viewportHeight:u},{offsetTop:d}])=>({scrollHeight:o,scrollTop:Math.max(0,l-d),viewportHeight:u}))),t),Tt(Ge(e,ar(n),ht(([o,{offsetTop:l}])=>({...o,top:o.top+l}))),i),{customScrollParent:a,useWindowScroll:s,windowScrollContainerState:r,windowScrollTo:i,windowViewportRect:n}},Yn(Ya)),ant=Dr(([{sizeRanges:t,sizes:e},{headerHeight:r,scrollTop:n},{initialTopMostItemIndex:i},{didMount:s},{useWindowScroll:a,windowScrollContainerState:o,windowViewportRect:l}])=>{const u=Er(),d=Je(void 0),f=Je(null),g=Je(null);return Tt(o,f),Tt(l,g),Kr(Ge(u,ar(e,n,a,f,g,r)),([v,x,b,w,E,k,A])=>{const O=$rt(x.sizeTree);w&&E!==null&&k!==null&&(b=E.scrollTop-k.offsetTop),b-=A,v({ranges:O,scrollTop:b})}),Tt(Ge(d,Lt(qD),ht(ont)),i),Tt(Ge(s,ar(d),Lt(([,v])=>v!==void 0),Hn(),ht(([,v])=>v.ranges)),t),{getState:u,restoreStateFrom:d}},Yn(gu,Ya,qb,Cf,ZD));function ont(t){return{align:"start",index:0,offset:t.scrollTop}}const lnt=Dr(([{topItemsIndexes:t}])=>{const e=Je(0);return Tt(Ge(e,Lt(r=>r>=0),ht(r=>Array.from({length:r}).map((n,i)=>i))),t),{topItemCount:e}},Yn(Om));function lue(t){let e=!1,r;return()=>(e||(e=!0,r=t()),r)}const cnt=lue(()=>/iP(ad|od|hone)/i.test(navigator.userAgent)&&/WebKit/i.test(navigator.userAgent)),unt=Dr(([{deviation:t,scrollBy:e,scrollingInProgress:r,scrollTop:n},{isAtBottom:i,isScrolling:s,lastJumpDueToItemResize:a,scrollDirection:o},{listState:l},{beforeUnshiftWith:u,gap:d,shiftWithOffset:f,sizes:g},{log:v},{recalcInProgress:x}])=>{const b=Go(Ge(l,ar(a),Xc(([,E,k,A],[{bottom:O,items:P,offsetBottom:j,totalCount:S},I])=>{const R=O+j;let D=0;return k===S&&E.length>0&&P.length>0&&(P[0].originalIndex===0&&E[0].originalIndex===0||(D=R-A,D!==0&&(D+=I))),[D,P,S,R]},[0,[],0,0]),Lt(([E])=>E!==0),ar(n,o,r,i,v,x),Lt(([,E,k,A,,,O])=>!O&&!A&&E!==0&&k===Ux),ht(([[E],,,,,k])=>(k("Upward scrolling compensation",{amount:E},vo.DEBUG),E))));function w(E){E>0?(sr(e,{behavior:"auto",top:-E}),sr(t,0)):(sr(t,0),sr(e,{behavior:"auto",top:-E}))}return Kr(Ge(b,ar(t,s)),([E,k,A])=>{A&&cnt()?sr(t,k-E):w(-E)}),Kr(Ge(is(Ca(s,!1),t,x),Lt(([E,k,A])=>!E&&!A&&k!==0),ht(([E,k])=>k),Qu(1)),w),Tt(Ge(f,ht(E=>({top:-E}))),e),Kr(Ge(u,ar(g,d),ht(([E,{groupIndices:k,lastSize:A,sizeTree:O},P])=>{function j(S){return S*(A+P)}if(k.length===0)return j(E);{let S=0;const I=Fx(O,0);let R=0,D=0;for(;R<E;){R++,S+=I;let M=k.length===D+1?1/0:k[D+1]-k[D]-1;R+M>E&&(S-=I,M=E-R+1),R+=M,S+=j(M),D++}return S}})),E=>{sr(t,E),requestAnimationFrame(()=>{sr(e,{top:E}),requestAnimationFrame(()=>{sr(t,0),sr(x,!1)})})}),{deviation:t}},Yn(Ya,Wb,Om,gu,Af,KD)),dnt=Dr(([t,e,r,n,i,s,a,o,l,u,d])=>({...t,...e,...r,...n,...i,...s,...a,...o,...l,...u,...d}),Yn(JD,int,Cf,oue,iue,snt,ent,ZD,aue,Af,sue)),cue=Dr(([{data:t,defaultItemSize:e,firstItemIndex:r,fixedItemSize:n,fixedGroupSize:i,gap:s,groupIndices:a,heightEstimates:o,itemSize:l,sizeRanges:u,sizes:d,statefulTotalCount:f,totalCount:g,trackItemSizes:v},{initialItemFinalLocationReached:x,initialTopMostItemIndex:b,scrolledToInitialItem:w},E,k,A,O,{scrollToIndex:P},j,{topItemCount:S},{groupCounts:I},R])=>{const{listState:D,minOverscanItemCount:M,topItemsIndexes:L,rangeChanged:U,...le}=O;return Tt(U,R.scrollSeekRangeChanged),Tt(Ge(R.windowViewportRect,ht(ue=>ue.visibleHeight)),E.viewportHeight),{data:t,defaultItemHeight:e,firstItemIndex:r,fixedItemHeight:n,fixedGroupHeight:i,gap:s,groupCounts:I,heightEstimates:o,initialItemFinalLocationReached:x,initialTopMostItemIndex:b,scrolledToInitialItem:w,sizeRanges:u,topItemCount:S,topItemsIndexes:L,totalCount:g,...A,groupIndices:a,itemSize:l,listState:D,minOverscanItemCount:M,scrollToIndex:P,statefulTotalCount:f,trackItemSizes:v,rangeChanged:U,...le,...R,...E,sizes:d,...k}},Yn(gu,qb,Ya,ant,nnt,Om,Hb,unt,lnt,eue,dnt));function hnt(t,e){const r={},n={};let i=0;const s=t.length;for(;i<s;)n[t[i]]=1,i+=1;for(const a in e)Object.hasOwn(n,a)||(r[a]=e[a]);return r}const m2=typeof document<"u"?Ae.useLayoutEffect:Ae.useEffect;function uue(t,e,r){const n=Object.keys(e.required||{}),i=Object.keys(e.optional||{}),s=Object.keys(e.methods||{}),a=Object.keys(e.events||{}),o=Ae.createContext({});function l(w,E){w.propsReady&&sr(w.propsReady,!1);for(const k of n){const A=w[e.required[k]];sr(A,E[k])}for(const k of i)if(k in E){const A=w[e.optional[k]];sr(A,E[k])}w.propsReady&&sr(w.propsReady,!0)}function u(w){return s.reduce((E,k)=>(E[k]=A=>{const O=w[e.methods[k]];sr(O,A)},E),{})}function d(w){return a.reduce((E,k)=>(E[k]=Crt(w[e.events[k]]),E),{})}const f=Ae.forwardRef((w,E)=>{const{children:k,...A}=w,[O]=Ae.useState(()=>pk(Irt(t),S=>{l(S,A)})),[P]=Ae.useState(LK(d,O));m2(()=>{for(const S of a)S in A&&Kr(P[S],A[S]);return()=>{Object.values(P).map(WD)}},[A,P,O]),m2(()=>{l(O,A)}),Ae.useImperativeHandle(E,MK(u(O)));const j=r;return m.jsx(o.Provider,{value:O,children:r?m.jsx(j,{...hnt([...n,...i,...a],A),children:k}):k})}),g=w=>{const E=Ae.useContext(o);return Ae.useCallback(k=>{sr(E[w],k)},[E,w])},v=w=>{const E=Ae.useContext(o)[w],k=Ae.useCallback(A=>Kr(E,A),[E]);return Ae.useSyncExternalStore(k,()=>ei(E),()=>ei(E))},x=w=>{const E=Ae.useContext(o)[w],[k,A]=Ae.useState(LK(ei,E));return m2(()=>Kr(E,O=>{O!==k&&A(MK(O))}),[E,k]),k},b=Ae.version.startsWith("18")?v:x;return{Component:f,useEmitter:(w,E)=>{const k=Ae.useContext(o)[w];m2(()=>Kr(k,E),[E,k])},useEmitterValue:b,usePublisher:g}}const due=Ae.createContext(void 0),hue=Ae.createContext(void 0),fue=typeof document<"u"?Ae.useLayoutEffect:Ae.useEffect;function w5(t){return"self"in t}function fnt(t){return"body"in t}function mue(t,e,r,n=Fv,i,s){const a=Ae.useRef(null),o=Ae.useRef(null),l=Ae.useRef(null),u=Ae.useCallback(g=>{let v,x,b;const w=g.target;if(fnt(w)||w5(w)){const k=w5(w)?w:w.defaultView;b=s?k.scrollX:k.scrollY,v=s?k.document.documentElement.scrollWidth:k.document.documentElement.scrollHeight,x=s?k.innerWidth:k.innerHeight}else b=s?w.scrollLeft:w.scrollTop,v=s?w.scrollWidth:w.scrollHeight,x=s?w.offsetWidth:w.offsetHeight;const E=()=>{t({scrollHeight:v,scrollTop:Math.max(b,0),viewportHeight:x})};g.suppressFlushSync?E():wY.flushSync(E),o.current!==null&&(b===o.current||b<=0||b===v-x)&&(o.current=null,e(!0),l.current&&(clearTimeout(l.current),l.current=null))},[t,e,s]);Ae.useEffect(()=>{const g=i||a.current;return n(i||a.current),u({suppressFlushSync:!0,target:g}),g.addEventListener("scroll",u,{passive:!0}),()=>{n(null),g.removeEventListener("scroll",u)}},[a,u,r,n,i]);function d(g){const v=a.current;if(!v||(s?"offsetWidth"in v&&v.offsetWidth===0:"offsetHeight"in v&&v.offsetHeight===0))return;const x=g.behavior==="smooth";let b,w,E;w5(v)?(w=Math.max(df(v.document.documentElement,s?"width":"height"),s?v.document.documentElement.scrollWidth:v.document.documentElement.scrollHeight),b=s?v.innerWidth:v.innerHeight,E=s?window.scrollX:window.scrollY):(w=v[s?"scrollWidth":"scrollHeight"],b=df(v,s?"width":"height"),E=v[s?"scrollLeft":"scrollTop"]);const k=w-b;if(g.top=Math.ceil(Math.max(Math.min(k,g.top),0)),rue(b,w)||g.top===E){t({scrollHeight:w,scrollTop:E,viewportHeight:b}),x&&e(!0);return}x?(o.current=g.top,l.current&&clearTimeout(l.current),l.current=setTimeout(()=>{l.current=null,o.current=null,e(!0)},1e3)):o.current=null,s&&(g={behavior:g.behavior,left:g.top}),v.scrollTo(g)}function f(g){s&&(g={behavior:g.behavior,left:g.top}),a.current.scrollBy(g)}return{scrollByCallback:f,scrollerRef:a,scrollToCallback:d}}const _5="-webkit-sticky",KK="sticky",eM=lue(()=>{if(typeof document>"u")return KK;const t=document.createElement("div");return t.style.position=_5,t.style.position===_5?_5:KK});function tM(t){return t}const mnt=Dr(()=>{const t=Je(o=>`Item ${o}`),e=Je(o=>`Group ${o}`),r=Je({}),n=Je(tM),i=Je("div"),s=Je(Fv),a=(o,l=null)=>Ca(Ge(r,ht(u=>u[o]),Hn()),l);return{components:r,computeItemKey:n,EmptyPlaceholder:a("EmptyPlaceholder"),FooterComponent:a("Footer"),GroupComponent:a("Group","div"),groupContent:e,HeaderComponent:a("Header"),HeaderFooterTag:i,ItemComponent:a("Item","div"),itemContent:t,ListComponent:a("List","div"),ScrollerComponent:a("Scroller","div"),scrollerRef:s,ScrollSeekPlaceholder:a("ScrollSeekPlaceholder"),TopItemListComponent:a("TopItemList")}}),pnt=Dr(([t,e])=>({...t,...e}),Yn(cue,mnt)),gnt=({height:t})=>m.jsx("div",{style:{height:t}}),vnt={overflowAnchor:"none",position:eM(),zIndex:1},pue={overflowAnchor:"none"},ynt={...pue,display:"inline-block",height:"100%"},YK=Ae.memo(function({showTopList:t=!1}){const e=Xt("listState"),r=kl("sizeRanges"),n=Xt("useWindowScroll"),i=Xt("customScrollParent"),s=kl("windowScrollContainerState"),a=kl("scrollContainerState"),o=i||n?s:a,l=Xt("itemContent"),u=Xt("context"),d=Xt("groupContent"),f=Xt("trackItemSizes"),g=Xt("itemSize"),v=Xt("log"),x=kl("gap"),b=Xt("horizontalDirection"),{callbackRef:w}=Prt(r,g,f,t?Fv:o,v,x,i,b,Xt("skipAnimationFrameInResizeObserver")),[E,k]=Ae.useState(0);rM("deviation",le=>{E!==le&&k(le)});const A=Xt("EmptyPlaceholder"),O=Xt("ScrollSeekPlaceholder")||gnt,P=Xt("ListComponent"),j=Xt("ItemComponent"),S=Xt("GroupComponent"),I=Xt("computeItemKey"),R=Xt("isSeeking"),D=Xt("groupIndices").length>0,M=Xt("alignToBottom"),L=Xt("initialItemFinalLocationReached"),U=t?{}:{boxSizing:"border-box",...b?{display:"inline-block",height:"100%",marginLeft:E!==0?E:M?"auto":0,paddingLeft:e.offsetTop,paddingRight:e.offsetBottom,whiteSpace:"nowrap"}:{marginTop:E!==0?E:M?"auto":0,paddingBottom:e.offsetBottom,paddingTop:e.offsetTop},...L?{}:{visibility:"hidden"}};return!t&&e.totalCount===0&&A?m.jsx(A,{...Sa(A,u)}):m.jsx(P,{...Sa(P,u),"data-testid":t?"virtuoso-top-item-list":"virtuoso-item-list",ref:w,style:U,children:(t?e.topItems:e.items).map(le=>{const ue=le.originalIndex,J=I(ue+e.firstItemIndex,le.data,u);return R?C.createElement(O,{...Sa(O,u),height:le.size,index:le.index,key:J,type:le.type||"item",...le.type==="group"?{}:{groupIndex:le.groupIndex}}):le.type==="group"?C.createElement(S,{...Sa(S,u),"data-index":ue,"data-item-index":le.index,"data-known-size":le.size,key:J,style:vnt},d(le.index,u)):C.createElement(j,{...Sa(j,u),..._nt(j,le.data),"data-index":ue,"data-item-group-index":le.groupIndex,"data-item-index":le.index,"data-known-size":le.size,key:J,style:b?ynt:pue},D?l(le.index,le.groupIndex,le.data,u):l(le.index,le.data,u))})})}),xnt={height:"100%",outline:"none",overflowY:"auto",position:"relative",WebkitOverflowScrolling:"touch"},bnt={outline:"none",overflowX:"auto",position:"relative"},vk=t=>({height:"100%",position:"absolute",top:0,width:"100%",...t?{display:"flex",flexDirection:"column"}:{}}),wnt={position:eM(),top:0,width:"100%",zIndex:1};function Sa(t,e){if(typeof t!="string")return{context:e}}function _nt(t,e){return{item:typeof t=="string"?void 0:e}}const Ent=Ae.memo(function(){const t=Xt("HeaderComponent"),e=kl("headerHeight"),r=Xt("HeaderFooterTag"),n=Im(Ae.useMemo(()=>s=>{e(df(s,"height"))},[e]),!0,Xt("skipAnimationFrameInResizeObserver")),i=Xt("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...Sa(t,i)})}):null}),Tnt=Ae.memo(function(){const t=Xt("FooterComponent"),e=kl("footerHeight"),r=Xt("HeaderFooterTag"),n=Im(Ae.useMemo(()=>s=>{e(df(s,"height"))},[e]),!0,Xt("skipAnimationFrameInResizeObserver")),i=Xt("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...Sa(t,i)})}):null});function gue({useEmitter:t,useEmitterValue:e,usePublisher:r}){return Ae.memo(function({children:n,style:i,context:s,...a}){const o=r("scrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),d=e("scrollerRef"),f=e("horizontalDirection")||!1,{scrollByCallback:g,scrollerRef:v,scrollToCallback:x}=mue(o,u,l,d,void 0,f);return t("scrollTo",x),t("scrollBy",g),m.jsx(l,{"data-testid":"virtuoso-scroller","data-virtuoso-scroller":!0,ref:v,style:{...f?bnt:xnt,...i},tabIndex:0,...a,...Sa(l,s),children:n})})}function vue({useEmitter:t,useEmitterValue:e,usePublisher:r}){return Ae.memo(function({children:n,style:i,context:s,...a}){const o=r("windowScrollContainerState"),l=e("ScrollerComponent"),u=r("smoothScrollTargetReached"),d=e("totalListHeight"),f=e("deviation"),g=e("customScrollParent"),v=Ae.useRef(null),x=e("scrollerRef"),{scrollByCallback:b,scrollerRef:w,scrollToCallback:E}=mue(o,u,l,x,g);return fue(()=>{var k;return w.current=g||((k=v.current)==null?void 0:k.ownerDocument.defaultView),()=>{w.current=null}},[w,g]),t("windowScrollTo",E),t("scrollBy",b),m.jsx(l,{ref:v,"data-virtuoso-scroller":!0,style:{position:"relative",...i,...d!==0?{height:d+f}:{}},...a,...Sa(l,s),children:n})})}const Snt=({children:t})=>{const e=Ae.useContext(due),r=kl("viewportHeight"),n=kl("fixedItemHeight"),i=Xt("alignToBottom"),s=Xt("horizontalDirection"),a=Ae.useMemo(()=>zce(r,l=>df(l,s?"width":"height")),[r,s]),o=Im(a,!0,Xt("skipAnimationFrameInResizeObserver"));return Ae.useEffect(()=>{e&&(r(e.viewportHeight),n(e.itemHeight))},[e,r,n]),m.jsx("div",{"data-viewport-type":"element",ref:o,style:vk(i),children:t})},knt=({children:t})=>{const e=Ae.useContext(due),r=kl("windowViewportRect"),n=kl("fixedItemHeight"),i=Xt("customScrollParent"),s=Hce(r,i,Xt("skipAnimationFrameInResizeObserver")),a=Xt("alignToBottom");return Ae.useEffect(()=>{e&&(n(e.itemHeight),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:100}))},[e,r,n]),m.jsx("div",{"data-viewport-type":"window",ref:s,style:vk(a),children:t})},Ant=({children:t})=>{const e=Xt("TopItemListComponent")||"div",r=Xt("headerHeight"),n={...wnt,marginTop:`${r}px`},i=Xt("context");return m.jsx(e,{style:n,...Sa(e,i),children:t})},Cnt=Ae.memo(function(t){const e=Xt("useWindowScroll"),r=Xt("topItemsIndexes").length>0,n=Xt("customScrollParent"),i=Xt("context");return m.jsxs(n||e?Ont:Int,{...t,context:i,children:[r&&m.jsx(Ant,{children:m.jsx(YK,{showTopList:!0})}),m.jsxs(n||e?knt:Snt,{children:[m.jsx(Ent,{}),m.jsx(YK,{}),m.jsx(Tnt,{})]})]})}),{Component:Nnt,useEmitter:rM,useEmitterValue:Xt,usePublisher:kl}=uue(pnt,{required:{},optional:{restoreStateFrom:"restoreStateFrom",context:"context",followOutput:"followOutput",scrollIntoViewOnChange:"scrollIntoViewOnChange",itemContent:"itemContent",groupContent:"groupContent",overscan:"overscan",increaseViewportBy:"increaseViewportBy",minOverscanItemCount:"minOverscanItemCount",totalCount:"totalCount",groupCounts:"groupCounts",topItemCount:"topItemCount",firstItemIndex:"firstItemIndex",initialTopMostItemIndex:"initialTopMostItemIndex",components:"components",atBottomThreshold:"atBottomThreshold",atTopThreshold:"atTopThreshold",computeItemKey:"computeItemKey",defaultItemHeight:"defaultItemHeight",fixedGroupHeight:"fixedGroupHeight",fixedItemHeight:"fixedItemHeight",heightEstimates:"heightEstimates",itemSize:"itemSize",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"HeaderFooterTag",data:"data",initialItemCount:"initialItemCount",initialScrollTop:"initialScrollTop",alignToBottom:"alignToBottom",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",horizontalDirection:"horizontalDirection",skipAnimationFrameInResizeObserver:"skipAnimationFrameInResizeObserver"},methods:{scrollToIndex:"scrollToIndex",scrollIntoView:"scrollIntoView",scrollTo:"scrollTo",scrollBy:"scrollBy",autoscrollToBottom:"autoscrollToBottom",getState:"getState"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",totalListHeightChanged:"totalListHeightChanged",itemsRendered:"itemsRendered",groupIndices:"groupIndices"}},Cnt),Int=gue({useEmitter:rM,useEmitterValue:Xt,usePublisher:kl}),Ont=vue({useEmitter:rM,useEmitterValue:Xt,usePublisher:kl}),Rnt=Nnt,Pnt=Dr(()=>{const t=Je(u=>m.jsxs("td",{children:["Item $",u]})),e=Je(null),r=Je(u=>m.jsxs("td",{colSpan:1e3,children:["Group ",u]})),n=Je(null),i=Je(null),s=Je({}),a=Je(tM),o=Je(Fv),l=(u,d=null)=>Ca(Ge(s,ht(f=>f[u]),Hn()),d);return{components:s,computeItemKey:a,context:e,EmptyPlaceholder:l("EmptyPlaceholder"),FillerRow:l("FillerRow"),fixedFooterContent:i,fixedHeaderContent:n,itemContent:t,groupContent:r,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder"),TableBodyComponent:l("TableBody","tbody"),TableComponent:l("Table","table"),TableFooterComponent:l("TableFoot","tfoot"),TableHeadComponent:l("TableHead","thead"),TableRowComponent:l("TableRow","tr"),GroupComponent:l("Group","tr")}});Yn(cue,Pnt);eM();const XK={bottom:0,itemHeight:0,items:[],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},jnt={bottom:0,itemHeight:0,items:[{index:0}],itemWidth:0,offsetBottom:0,offsetTop:0,top:0},{ceil:QK,floor:JT,max:P1,min:E5,round:JK}=Math;function ZK(t,e,r){return Array.from({length:e-t+1}).map((n,i)=>({data:r===null?null:r[i+t],index:i+t}))}function Dnt(t){return{...jnt,items:t}}function p2(t,e){return t&&t.width===e.width&&t.height===e.height}function Mnt(t,e){return t&&t.column===e.column&&t.row===e.row}const Lnt=Dr(([{increaseViewportBy:t,listBoundary:e,overscan:r,visibleRange:n},{footerHeight:i,headerHeight:s,scrollBy:a,scrollContainerState:o,scrollTo:l,scrollTop:u,smoothScrollTargetReached:d,viewportHeight:f},g,v,{didMount:x,propsReady:b},{customScrollParent:w,useWindowScroll:E,windowScrollContainerState:k,windowScrollTo:A,windowViewportRect:O},P])=>{const j=Je(0),S=Je(0),I=Je(XK),R=Je({height:0,width:0}),D=Je({height:0,width:0}),M=Er(),L=Er(),U=Je(0),le=Je(null),ue=Je({column:0,row:0}),J=Er(),Q=Er(),he=Je(!1),Z=Je(0),ge=Je(!0),H=Je(!1),B=Je(!1);Kr(Ge(x,ar(Z),Lt(([ce,se])=>!!se)),()=>{sr(ge,!1)}),Kr(Ge(is(x,ge,D,R,Z,H),Lt(([ce,se,ve,Ve,,G])=>ce&&!se&&ve.height!==0&&Ve.height!==0&&!G)),([,,,,ce])=>{sr(H,!0),XD(1,()=>{sr(M,ce)}),pc(Ge(u),()=>{sr(e,[0,0]),sr(ge,!0)})}),Tt(Ge(Q,Lt(ce=>ce!=null&&ce.scrollTop>0),qc(0)),S),Kr(Ge(x,ar(Q),Lt(([,ce])=>ce!=null)),([,ce])=>{ce&&(sr(R,ce.viewport),sr(D,ce.item),sr(ue,ce.gap),ce.scrollTop>0&&(sr(he,!0),pc(Ge(u,cm(1)),se=>{sr(he,!1)}),sr(l,{top:ce.scrollTop})))}),Tt(Ge(R,ht(({height:ce})=>ce)),f),Tt(Ge(is(Mt(R,p2),Mt(D,p2),Mt(ue,(ce,se)=>ce&&ce.column===se.column&&ce.row===se.row),Mt(u)),ht(([ce,se,ve,Ve])=>({gap:ve,item:se,scrollTop:Ve,viewport:ce}))),J),Tt(Ge(is(Mt(j),n,Mt(ue,Mnt),Mt(D,p2),Mt(R,p2),Mt(le),Mt(S),Mt(he),Mt(ge),Mt(Z)),Lt(([,,,,,,,ce])=>!ce),ht(([ce,[se,ve],Ve,G,Ze,Ie,tt,,Qe,je])=>{const{column:rt,row:vt}=Ve,{height:It,width:Xr}=G,{width:qr}=Ze;if(tt===0&&(ce===0||qr===0))return XK;if(Xr===0){const Pt=QD(je,ce),Gt=Pt+Math.max(tt-1,0);return Dnt(ZK(Pt,Gt,Ie))}const Mr=yue(qr,Xr,rt);let Wt,Tr;Qe?se===0&&ve===0&&tt>0?(Wt=0,Tr=tt-1):(Wt=Mr*JT((se+vt)/(It+vt)),Tr=Mr*QK((ve+vt)/(It+vt))-1,Tr=E5(ce-1,P1(Tr,Mr-1)),Wt=E5(Tr,P1(0,Wt))):(Wt=0,Tr=-1);const Sn=ZK(Wt,Tr,Ie),{bottom:pi,top:xe}=eY(Ze,Ve,G,Sn),Ke=QK(ce/Mr),nt=Ke*It+(Ke-1)*vt-pi;return{bottom:pi,itemHeight:It,items:Sn,itemWidth:Xr,offsetBottom:nt,offsetTop:xe,top:xe}})),I),Tt(Ge(le,Lt(ce=>ce!==null),ht(ce=>ce.length)),j),Tt(Ge(is(R,D,I,ue),Lt(([ce,se,{items:ve}])=>ve.length>0&&se.height!==0&&ce.height!==0),ht(([ce,se,{items:ve},Ve])=>{const{bottom:G,top:Ze}=eY(ce,Ve,se,ve);return[Ze,G]}),Hn(Bx)),e);const q=Je(!1);Tt(Ge(u,ar(q),ht(([ce,se])=>se||ce!==0)),q);const W=Go(Ge(is(I,j),Lt(([{items:ce}])=>ce.length>0),ar(q),Lt(([[ce,se],ve])=>{const Ve=ce.items[ce.items.length-1].index===se-1;return(ve||ce.bottom>0&&ce.itemHeight>0&&ce.offsetBottom===0&&ce.items.length===se)&&Ve}),ht(([[,ce]])=>ce-1),Hn())),Y=Go(Ge(Mt(I),Lt(({items:ce})=>ce.length>0&&ce[0].index===0),qc(0),Hn())),de=Go(Ge(Mt(I),ar(he),Lt(([{items:ce},se])=>ce.length>0&&!se),ht(([{items:ce}])=>({endIndex:ce[ce.length-1].index,startIndex:ce[0].index})),Hn(Xce),Qu(0)));Tt(de,v.scrollSeekRangeChanged),Tt(Ge(M,ar(R,D,j,ue),ht(([ce,se,ve,Ve,G])=>{const Ze=tue(ce),{align:Ie,behavior:tt,offset:Qe}=Ze;let je=Ze.index;je==="LAST"&&(je=Ve-1),je=P1(0,je,E5(Ve-1,je));let rt=SO(se,G,ve,je);return Ie==="end"?rt=JK(rt-se.height+ve.height):Ie==="center"&&(rt=JK(rt-se.height/2+ve.height/2)),Qe&&(rt+=Qe),{behavior:tt,top:rt}})),l);const me=Ca(Ge(I,ht(ce=>ce.offsetBottom+ce.bottom)),0);return Tt(Ge(O,ht(ce=>({height:ce.visibleHeight,width:ce.visibleWidth}))),R),{customScrollParent:w,data:le,deviation:U,footerHeight:i,gap:ue,headerHeight:s,increaseViewportBy:t,initialItemCount:S,itemDimensions:D,overscan:r,restoreStateFrom:Q,scrollBy:a,scrollContainerState:o,scrollHeight:L,scrollTo:l,scrollToIndex:M,scrollTop:u,smoothScrollTargetReached:d,totalCount:j,useWindowScroll:E,viewportDimensions:R,windowScrollContainerState:k,windowScrollTo:A,windowViewportRect:O,...v,gridState:I,horizontalDirection:B,initialTopMostItemIndex:Z,totalListHeight:me,...g,endReached:W,propsReady:b,rangeChanged:de,startReached:Y,stateChanged:J,stateRestoreInProgress:he,...P}},Yn(JD,Ya,Wb,oue,Cf,ZD,Af));function yue(t,e,r){return P1(1,JT((t+r)/(JT(e)+r)))}function eY(t,e,r,n){const{height:i}=r;if(i===void 0||n.length===0)return{bottom:0,top:0};const s=SO(t,e,r,n[0].index);return{bottom:SO(t,e,r,n[n.length-1].index)+i,top:s}}function SO(t,e,r,n){const i=yue(t.width,r.width,e.column),s=JT(n/i),a=s*r.height+P1(0,s-1)*e.row;return a>0?a+e.row:a}const Fnt=Dr(()=>{const t=Je(f=>`Item ${f}`),e=Je({}),r=Je(null),n=Je("virtuoso-grid-item"),i=Je("virtuoso-grid-list"),s=Je(tM),a=Je("div"),o=Je(Fv),l=(f,g=null)=>Ca(Ge(e,ht(v=>v[f]),Hn()),g),u=Je(!1),d=Je(!1);return Tt(Mt(d),u),{components:e,computeItemKey:s,context:r,FooterComponent:l("Footer"),HeaderComponent:l("Header"),headerFooterTag:a,itemClassName:n,ItemComponent:l("Item","div"),itemContent:t,listClassName:i,ListComponent:l("List","div"),readyStateChanged:u,reportReadyState:d,ScrollerComponent:l("Scroller","div"),scrollerRef:o,ScrollSeekPlaceholder:l("ScrollSeekPlaceholder","div")}}),Bnt=Dr(([t,e])=>({...t,...e}),Yn(Lnt,Fnt)),Vnt=Ae.memo(function(){const t=Jn("gridState"),e=Jn("listClassName"),r=Jn("itemClassName"),n=Jn("itemContent"),i=Jn("computeItemKey"),s=Jn("isSeeking"),a=Al("scrollHeight"),o=Jn("ItemComponent"),l=Jn("ListComponent"),u=Jn("ScrollSeekPlaceholder"),d=Jn("context"),f=Al("itemDimensions"),g=Al("gap"),v=Jn("log"),x=Jn("stateRestoreInProgress"),b=Al("reportReadyState"),w=Im(Ae.useMemo(()=>E=>{const k=E.parentElement.parentElement.scrollHeight;a(k);const A=E.firstChild;if(A){const{height:O,width:P}=A.getBoundingClientRect();f({height:O,width:P})}g({column:tY("column-gap",getComputedStyle(E).columnGap,v),row:tY("row-gap",getComputedStyle(E).rowGap,v)})},[a,f,g,v]),!0,!1);return fue(()=>{t.itemHeight>0&&t.itemWidth>0&&b(!0)},[t]),x?null:m.jsx(l,{className:e,ref:w,...Sa(l,d),"data-testid":"virtuoso-item-list",style:{paddingBottom:t.offsetBottom,paddingTop:t.offsetTop},children:t.items.map(E=>{const k=i(E.index,E.data,d);return s?m.jsx(u,{...Sa(u,d),height:t.itemHeight,index:E.index,width:t.itemWidth},k):C.createElement(o,{...Sa(o,d),className:r,"data-index":E.index,key:k},n(E.index,E.data,d))})})}),Unt=Ae.memo(function(){const t=Jn("HeaderComponent"),e=Al("headerHeight"),r=Jn("headerFooterTag"),n=Im(Ae.useMemo(()=>s=>{e(df(s,"height"))},[e]),!0,!1),i=Jn("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...Sa(t,i)})}):null}),znt=Ae.memo(function(){const t=Jn("FooterComponent"),e=Al("footerHeight"),r=Jn("headerFooterTag"),n=Im(Ae.useMemo(()=>s=>{e(df(s,"height"))},[e]),!0,!1),i=Jn("context");return t?m.jsx(r,{ref:n,children:m.jsx(t,{...Sa(t,i)})}):null}),$nt=({children:t})=>{const e=Ae.useContext(hue),r=Al("itemDimensions"),n=Al("viewportDimensions"),i=Im(Ae.useMemo(()=>s=>{n(s.getBoundingClientRect())},[n]),!0,!1);return Ae.useEffect(()=>{e&&(n({height:e.viewportHeight,width:e.viewportWidth}),r({height:e.itemHeight,width:e.itemWidth}))},[e,n,r]),m.jsx("div",{ref:i,style:vk(!1),children:t})},Hnt=({children:t})=>{const e=Ae.useContext(hue),r=Al("windowViewportRect"),n=Al("itemDimensions"),i=Jn("customScrollParent"),s=Hce(r,i,!1);return Ae.useEffect(()=>{e&&(n({height:e.itemHeight,width:e.itemWidth}),r({offsetTop:0,visibleHeight:e.viewportHeight,visibleWidth:e.viewportWidth}))},[e,r,n]),m.jsx("div",{ref:s,style:vk(!1),children:t})},qnt=Ae.memo(function({...t}){const e=Jn("useWindowScroll"),r=Jn("customScrollParent"),n=r||e?Gnt:Wnt,i=r||e?Hnt:$nt,s=Jn("context");return m.jsx(n,{...t,...Sa(n,s),children:m.jsxs(i,{children:[m.jsx(Unt,{}),m.jsx(Vnt,{}),m.jsx(znt,{})]})})}),{useEmitter:xue,useEmitterValue:Jn,usePublisher:Al}=uue(Bnt,{optional:{context:"context",totalCount:"totalCount",overscan:"overscan",itemContent:"itemContent",components:"components",computeItemKey:"computeItemKey",data:"data",initialItemCount:"initialItemCount",scrollSeekConfiguration:"scrollSeekConfiguration",headerFooterTag:"headerFooterTag",listClassName:"listClassName",itemClassName:"itemClassName",useWindowScroll:"useWindowScroll",customScrollParent:"customScrollParent",scrollerRef:"scrollerRef",logLevel:"logLevel",restoreStateFrom:"restoreStateFrom",initialTopMostItemIndex:"initialTopMostItemIndex",increaseViewportBy:"increaseViewportBy"},methods:{scrollTo:"scrollTo",scrollBy:"scrollBy",scrollToIndex:"scrollToIndex"},events:{isScrolling:"isScrolling",endReached:"endReached",startReached:"startReached",rangeChanged:"rangeChanged",atBottomStateChange:"atBottomStateChange",atTopStateChange:"atTopStateChange",stateChanged:"stateChanged",readyStateChanged:"readyStateChanged"}},qnt),Wnt=gue({useEmitter:xue,useEmitterValue:Jn,usePublisher:Al}),Gnt=vue({useEmitter:xue,useEmitterValue:Jn,usePublisher:Al});function tY(t,e,r){return e!=="normal"&&!(e!=null&&e.endsWith("px"))&&r(`${t} was not resolved to pixel value correctly`,e,vo.WARN),e==="normal"?0:parseInt(e??"0",10)}const rY=t=>{switch(t){case"admin":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-purple-100 text-purple-600 border border-purple-200 dark:bg-purple-900/30 dark:text-purple-400 dark:border-purple-800",children:"Admin"});case"lanh_dao":case"quan_ly":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-red-100 text-red-600 border border-red-200 dark:bg-red-900/30 dark:text-red-400 dark:border-red-800",children:"Qun l"});case"giao_vien":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-yellow-100 text-yellow-600 border border-yellow-200 dark:bg-yellow-900/30 dark:text-yellow-400 dark:border-yellow-800",children:"Gio vin"});case"hoc_vien":return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-blue-100 text-blue-600 border border-blue-200 dark:bg-blue-900/30 dark:text-blue-400 dark:border-blue-800",children:"Hc vin"});default:return m.jsx("span",{className:"px-1.5 py-0.5 rounded text-[10px] font-bold bg-gray-50 text-gray-500 border border-gray-200 dark:bg-zinc-800 dark:text-gray-400 dark:border-zinc-700",children:"Khch"})}},Knt=({userProfile:t,onBack:e})=>{const[r,n]=C.useState(null),[i,s]=C.useState(""),[a,o]=C.useState(!1),[l,u]=C.useState(!1),d=C.useRef(null),[f,g]=C.useState(!1),[v,x]=C.useState([]),[b,w]=C.useState([]),[E,k]=C.useState([]),[A,O]=C.useState(!1);C.useRef(null);const[P,j]=C.useState("");C.useRef(null),C.useEffect(()=>{g(["admin","quan_ly","giao_vien"].includes(t.role))},[t.role]),C.useEffect(()=>{(async()=>{O(!0);try{const he=pr(qt(Ye,"users"),El(100)),Z=await _n(he),ge=[];Z.forEach(B=>{const q=B.data();B.id!==t.id&&ge.push({id:B.id,name:q.full_name||q.fullName||"Ngi dng",photoURL:q.photoURL||`https://ui-avatars.com/api/?name=${encodeURIComponent(q.full_name||"User")}&background=random`,role:q.role||"hoc_vien",email:q.email||"",lastMessage:"",lastMessageTime:"",unreadCount:0})});const H={admin:1,lanh_dao:2,quan_ly:3,giao_vien:4,hoc_vien:5,guest:6};ge.sort((B,q)=>{const W=H[B.role]||99,Y=H[q.role]||99;return W-Y}),w(ge)}catch(he){console.error("Error fetching users:",he)}finally{O(!1)}})()},[f,t.id]),C.useEffect(()=>{if(P.trim()){const Q=P.toLowerCase();k(b.filter(he=>he.name.toLowerCase().includes(Q)))}else{const Q=b.filter(he=>he.lastMessage||he.unreadCount);k(Q)}},[P,b,f]),C.useEffect(()=>{if(!r)return;const Q=[t.id,r.id].sort().join("_"),he=pr(qt(Ye,"messages"),kr("conversationId","==",Q),kr("visibleTo","array-contains",t.id),po("timestamp","desc"),El(50)),Z=Ho(he,B=>{const q=[];B.forEach(W=>{const Y=W.data();q.push({id:W.id,senderId:Y.senderId,senderName:Y.senderName||"",content:Y.content,timestamp:Y.timestamp?Y.timestamp.toDate():new Date,status:"sent"})}),x(q.reverse())}),ge=fo(oa,`typing/${Q}/${r.id}`),H=nx(ge,B=>{u(B.exists()&&B.val()===!0)});return()=>{Z(),H()}},[r,t.id]),C.useEffect(()=>{const Q=fo(oa,"status"),he=nx(Q,Z=>{if(Z.exists()){const ge=Z.val();w(H=>H.map(B=>{var q;return{...B,isOnline:((q=ge[B.id])==null?void 0:q.state)==="online"}}))}});return()=>he()},[]),C.useEffect(()=>{const Q=pr(qt(Ye,"messages"),kr("visibleTo","array-contains",t.id),po("timestamp","desc"),El(20)),Z=Ho(Q,ge=>{ge.docChanges().forEach(H=>{if(H.type==="added"){const B=H.doc.data(),q=B.senderId===t.id?B.receiverId:B.senderId;w(W=>{var me;const Y=[...W],de=Y.findIndex(ce=>ce.id===q);if(de>-1){const ce={...Y[de]};return(!ce.lastMessageTime||((me=B.timestamp)==null?void 0:me.toDate())>new Date(ce.lastMessageTime))&&(ce.lastMessage=B.content,ce.lastMessageTime="Va xong",(r==null?void 0:r.id)!==q&&(ce.unreadCount=(ce.unreadCount||0)+1),Y.splice(de,1),Y.unshift(ce)),Y}else return W})}})});return()=>Z()},[t.id,r]);const S=Q=>{if(s(Q.target.value),!r)return;const he=[t.id,r.id].sort().join("_"),Z=fo(oa,`typing/${he}/${t.id}`);a||(o(!0),l4(Z,!0)),d.current&&clearTimeout(d.current),d.current=setTimeout(()=>{o(!1),$I(Z)},2e3)},I=async(Q,he)=>{Q==null||Q.preventDefault();const Z=he||i;if(!(!Z.trim()||!r)){if(!he){s(""),o(!1);const ge=[t.id,r.id].sort().join("_");$I(fo(oa,`typing/${ge}/${t.id}`)),d.current&&clearTimeout(d.current)}try{const ge=[t.id,r.id].sort().join("_");await Zh(qt(Ye,"messages"),{senderId:t.id,senderName:t.full_name||"Ngi dng",receiverId:r.id,content:Z,timestamp:sa(),visibleTo:[t.id,r.id],conversationId:ge}),w(H=>{const B=[...H],q=B.findIndex(W=>W.id===r.id);if(q>-1){const W={...B[q]};W.lastMessage=Z===""?" gi mt like":Z,W.lastMessageTime="Va xong",B.splice(q,1),B.unshift(W)}return B})}catch(ge){console.error("Error sending message:",ge),alert("Li gi tin nhn")}}},R=async Q=>{if(confirm("Bn c chc mun xa tin nhn ny  pha bn?"))try{await Un(Ht(Ye,"messages",Q),{visibleTo:rP(t.id)})}catch(he){console.error("Error deleting:",he)}},[D,M]=C.useState(null),[L,U]=C.useState(!1),le=C.useRef(null),ue=async()=>{if(!r||!D||L)return;U(!0);const Q=[t.id,r.id].sort().join("_");try{const he=pr(qt(Ye,"messages"),kr("conversationId","==",Q),kr("visibleTo","array-contains",t.id),po("timestamp","desc"),oZ(D),El(20)),Z=await _n(he);if(Z.empty)M(null);else{const ge=[];Z.forEach(H=>{const B=H.data();ge.push({id:H.id,senderId:B.senderId,senderName:"",content:B.content,timestamp:B.timestamp?B.timestamp.toDate():new Date,status:"sent"})}),M(Z.docs[Z.docs.length-1]),x(H=>[...ge.reverse(),...H])}}catch(he){console.error("Error loading more:",he)}finally{U(!1)}},J=Q=>{var Z;const he=(Z=Q.target.files)==null?void 0:Z[0];he&&I(void 0,`[ gi nh: ${he.name}]`)};return m.jsxs("div",{className:"w-full h-[calc(100vh-64px)] bg-white dark:bg-black flex",children:[m.jsxs("div",{className:`w-full md:w-[360px] border-r border-gray-200 dark:border-gray-800 flex flex-col bg-white dark:bg-black ${r?"hidden md:flex":"flex"}`,children:[m.jsxs("div",{className:"p-4 flex flex-col gap-4",children:[m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("h1",{className:"text-2xl font-bold bg-gradient-to-r from-blue-600 to-teal-500 bg-clip-text text-transparent",children:"Chat"}),m.jsx("div",{className:"flex gap-2",children:m.jsx("button",{className:"p-2 rounded-full bg-gray-100 dark:bg-zinc-800 hover:bg-gray-200 dark:hover:bg-zinc-700 transition-colors",children:m.jsx(DK,{size:20,className:"text-gray-600 dark:text-gray-300"})})})]}),m.jsxs("div",{className:"relative",children:[m.jsx(irt,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-gray-500",size:18}),m.jsx("input",{type:"text",value:P,onChange:Q=>j(Q.target.value),placeholder:"Tm ngi dng...",className:"w-full pl-10 pr-4 py-2 bg-gray-100 dark:bg-zinc-800 rounded-full text-sm focus:outline-none focus:ring-2 focus:ring-blue-500/50 transition-all font-medium text-gray-700 dark:text-gray-200"})]})]}),m.jsx("div",{className:"flex-1 overflow-y-auto px-2",children:A?m.jsx("div",{className:"flex justify-center p-4",children:m.jsx("div",{className:"animate-spin w-6 h-6 border-2 border-blue-600 border-t-transparent rounded-full"})}):m.jsxs(m.Fragment,{children:[!P&&E.length===0&&m.jsxs("div",{className:"text-center p-8 text-gray-500 text-sm",children:[m.jsx("p",{children:"Cha c cuc tr chuyn no."}),m.jsx("p",{className:"mt-1",children:"Tm kim  bt u chat!"})]}),E.map(Q=>m.jsxs(xg.div,{whileHover:{scale:1.02},whileTap:{scale:.98},onClick:()=>n(Q),className:`p-3 rounded-xl flex items-center gap-3 cursor-pointer transition-all mb-1 ${(r==null?void 0:r.id)===Q.id?"bg-blue-50 dark:bg-blue-900/20":"hover:bg-gray-100 dark:hover:bg-zinc-800"}`,children:[m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:Q.photoURL,alt:Q.name,className:"w-12 h-12 rounded-full object-cover border border-gray-100 dark:border-gray-800"}),Q.isOnline&&m.jsx("div",{className:"absolute bottom-0 right-0 w-3.5 h-3.5 bg-green-500 border-2 border-white dark:border-black rounded-full"})]}),m.jsxs("div",{className:"flex-1 min-w-0",children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h3",{className:"font-semibold text-gray-900 dark:text-gray-100 truncate",children:Q.name}),rY(Q.role)]}),Q.email&&m.jsx("p",{className:"text-xs text-gray-500 truncate",children:Q.email}),m.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500 dark:text-gray-400",children:[m.jsx("span",{className:`truncate max-w-[140px] ${Q.unreadCount?"font-bold text-gray-900 dark:text-gray-100":""}`,children:Q.lastMessage||(Q.role==="admin"?"H tr trc tuyn":"Bt u tr chuyn")}),Q.lastMessageTime&&m.jsxs(m.Fragment,{children:[m.jsx("span",{className:"text-xs",children:""}),m.jsx("span",{className:"text-xs",children:Q.lastMessageTime})]})]})]}),Q.unreadCount?m.jsx("div",{className:"w-5 h-5 bg-blue-600 rounded-full flex items-center justify-center shadow-sm",children:m.jsx("span",{className:"text-[10px] font-bold text-white",children:Q.unreadCount})}):null]},Q.id))]})})]}),m.jsx("div",{className:`flex-1 flex flex-col bg-white dark:bg-black transition-all ${r?"flex":"hidden md:flex items-center justify-center"}`,children:r?m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"px-4 py-3 border-b border-gray-200 dark:border-gray-800 flex items-center justify-between bg-white/80 dark:bg-black/80 backdrop-blur-md sticky top-0 z-10 shadow-sm",children:[m.jsxs("div",{className:"flex items-center gap-3",children:[m.jsx("button",{onClick:()=>n(null),className:"md:hidden p-2 -ml-2 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full",children:m.jsx(Rtt,{size:24,className:"text-blue-600"})}),m.jsxs("div",{className:"relative",children:[m.jsx("img",{src:r.photoURL,alt:"Avt",className:"w-10 h-10 rounded-full border border-gray-200 dark:border-gray-700 object-cover"}),r.isOnline&&m.jsx("div",{className:"absolute bottom-0 right-0 w-3 h-3 bg-green-500 border-2 border-white dark:border-black rounded-full"})]}),m.jsxs("div",{children:[m.jsxs("div",{className:"flex items-center gap-2",children:[m.jsx("h2",{className:"font-bold text-gray-900 dark:text-gray-100 leading-tight",children:r.name}),rY(r.role)]}),r.email&&m.jsx("p",{className:"text-xs text-gray-500",children:r.email}),m.jsx("span",{className:`text-xs font-medium flex items-center gap-1 ${r.isOnline?"text-green-600":"text-gray-500"}`,children:r.isOnline?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"w-1.5 h-1.5 bg-green-500 rounded-full"})," ang hot ng"]}):"Ngoi tuyn"})]})]}),m.jsx("div",{className:"flex items-center gap-2",children:m.jsxs("div",{className:"flex items-center gap-4 text-blue-600",children:[m.jsx(ert,{size:24,className:"cursor-pointer hover:opacity-80 disabled-opacity"}),m.jsx(DK,{size:24,className:"cursor-pointer hover:opacity-80 disabled-opacity"}),m.jsx(Gtt,{size:24,className:"cursor-pointer hover:opacity-80"})]})})]}),!1,m.jsx("div",{className:"flex-1 p-4 bg-white dark:bg-black overflow-hidden",children:m.jsx(Rnt,{ref:le,style:{height:"100%"},data:v,startReached:ue,initialTopMostItemIndex:v.length-1,followOutput:"auto",alignToBottom:!0,itemContent:(Q,he)=>{var H;const Z=he.senderId===t.id,ge=!Z&&(Q===v.length-1||((H=v[Q+1])==null?void 0:H.senderId)!==he.senderId);return m.jsxs(xg.div,{layout:!0,initial:{opacity:0,y:10,scale:.95},animate:{opacity:1,y:0,scale:1},className:`flex gap-2 group mb-2 ${Z?"justify-end":"justify-start"}`,children:[!Z&&m.jsx("div",{className:"w-8 flex flex-col justify-end",children:ge?m.jsx("img",{src:r.photoURL,className:"w-8 h-8 rounded-full border border-gray-200 object-cover"}):m.jsx("div",{className:"w-8"})}),Z&&m.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center mr-2",children:m.jsx("button",{onClick:()=>R(he.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-gray-50 dark:bg-zinc-800 rounded-full",title:"Xa  pha ti",children:m.jsx(jK,{size:14})})}),!Z&&m.jsx("div",{className:"opacity-0 group-hover:opacity-100 transition-opacity flex items-center order-last ml-2",children:m.jsx("button",{onClick:()=>R(he.id),className:"p-1.5 text-gray-400 hover:text-red-500 bg-gray-50 dark:bg-zinc-800 rounded-full",title:"Xa  pha ti",children:m.jsx(jK,{size:14})})}),m.jsxs("div",{className:"flex flex-col items-end",children:[m.jsx("div",{className:`px-4 py-2 text-[15px] leading-relaxed break-words shadow-sm ${Z?"bg-blue-600 text-white rounded-2xl rounded-tr-md":"bg-gray-100 dark:bg-zinc-800 text-gray-900 dark:text-gray-100 rounded-2xl rounded-tl-md border border-gray-200 dark:border-gray-700"}`,children:he.content}),Z&&m.jsxs("div",{className:"flex items-center justify-end text-[10px] text-gray-400 mt-1 mr-1 gap-1 h-3",children:[he.status==="sending"&&m.jsx(Ftt,{size:10,className:"animate-spin"}),he.status==="sent"&&m.jsx(Itt,{size:12,className:"text-blue-500"}),he.status==="error"&&m.jsx(jtt,{size:12,className:"text-red-500"})]})]})]})},components:{Header:()=>m.jsxs("div",{className:"py-4",children:[L&&m.jsx("div",{className:"text-center text-xs text-gray-400",children:"ang ti tin c hn..."}),!L&&!D&&m.jsxs("div",{className:"flex flex-col items-center mt-4 mb-8 opacity-60",children:[m.jsx("img",{src:r.photoURL,className:"w-20 h-20 rounded-full mb-4 object-cover shadow-lg border-2 border-white"}),m.jsx("h3",{className:"text-xl font-bold text-gray-900 dark:text-white",children:r.name}),m.jsx("p",{className:"text-sm text-gray-500",children:f?"Thng tin hc vin / ng nghip":"Ban Qun Tr H Thng"})]})]}),Footer:()=>l?m.jsx("div",{className:"flex justify-start mb-2 ml-10 mt-2",children:m.jsxs("div",{className:"bg-gray-100 dark:bg-zinc-800 px-4 py-3 rounded-2xl rounded-tl-md flex gap-1 items-center",children:[m.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0ms"}}),m.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"150ms"}}),m.jsx("span",{className:"w-1.5 h-1.5 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"300ms"}})]})}):null}})}),m.jsxs("div",{className:"p-3 bg-white dark:bg-black flex items-center gap-2 border-t border-gray-100 dark:border-gray-800 relative",children:[!1,m.jsxs("button",{className:"p-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-full transition-colors relative",children:[m.jsx(qtt,{size:20}),m.jsx("input",{type:"file",accept:"image/*",className:"absolute inset-0 opacity-0 cursor-pointer",onChange:J})]}),m.jsxs("form",{onSubmit:I,className:"flex-1 flex items-center gap-2 bg-gray-100 dark:bg-zinc-800 rounded-full px-4 py-2",children:[m.jsx("input",{type:"text",placeholder:"Nhp tin nhn...",value:i,onChange:S,className:"flex-1 bg-transparent border-none focus:ring-0 text-gray-800 dark:text-white placeholder-gray-500",disabled:!1}),m.jsx("button",{type:"button",onClick:()=>s(Q=>Q+""),className:"text-gray-400 hover:text-yellow-500 transition-colors",children:m.jsx(crt,{size:20})})]}),i.trim()?m.jsx("button",{onClick:I,className:"p-3 bg-blue-600 hover:bg-blue-700 text-white rounded-full shadow-lg transition-transform active:scale-95 flex items-center justify-center",children:m.jsx(PK,{size:18,className:"translate-x-0.5 translate-y-0.5"})}):m.jsx("button",{onClick:()=>I(void 0,""),className:"p-3 text-blue-600 hover:bg-blue-50 dark:hover:bg-zinc-800 rounded-full transition-colors",children:m.jsx("span",{className:"text-xl",children:""})})]})]}):m.jsxs("div",{className:"flex flex-col items-center justify-center h-full opacity-50",children:[m.jsx("div",{className:"w-24 h-24 bg-gray-100 dark:bg-zinc-800 rounded-full flex items-center justify-center mb-4",children:m.jsx(PK,{size:40,className:"text-blue-600 -ml-1 mt-1"})}),m.jsx("h3",{className:"text-xl font-bold dark:text-white",children:"Cho mng n vi Chat"}),m.jsx("p",{className:"text-gray-500 mt-2",children:"Chn mt cuc hi thoi t danh sch bn tri"})]})})]})},nM="usage_config",iM="settings",fl={guest:{limit:5,period:"daily",isEnabled:!0,showAds:!0,message:"Bn  s dng ht {limit} lt lm th min ph trong ngy. Vui lng ng nhp  tip tc n tp! Mi chi tit lin h phng o to-Cng ty CP T vn v Gio dc Ninh Bnh. ST: 022 96 282 969"},free_user:{limit:10,period:"daily",isEnabled:!0,showAds:!0,message:"Bn  ht {limit} lt lm bi min ph hm nay. Hy ng k lp hc  m kha ton b tnh nng v n tp khng gii hn. Mi chi tit lin h phng o to-Cng ty CP T vn v Gio dc Ninh Bnh. ST: 022 96 282 969"},verified_user:{limit:50,period:"daily",isEnabled:!1,showAds:!1,message:"Ti khon lp ca bn  t gii hn {limit} lt truy cp. Vui lng lin h gio vin hoc admin  c h tr."},vip_user:{limit:100,period:"daily",isEnabled:!1,showAds:!1,message:"Ti khon VIP ca bn  ht {limit} lt s dng. Vui lng gia hn hoc lin h h tr."},teacher:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn gio vin."},manager:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn cn b qun l."},admin:{limit:9999,period:"daily",isEnabled:!1,showAds:!1,message:"Gii hn Admin."}},Gb=async()=>{try{const t=Ht(Ye,iM,nM),e=await ed(t);if(e.exists()){const r=e.data();return{...fl,guest:{...fl.guest,...r.guest||{}},free_user:{...fl.free_user,...r.free_user||{}},verified_user:{...fl.verified_user,...r.verified_user||{}},vip_user:{...fl.vip_user,...r.vip_user||{}},teacher:{...fl.teacher,...r.teacher||{}},manager:{...fl.manager,...r.manager||{}},admin:{...fl.admin,...r.admin||{}},app_links:r.app_links||fl.app_links}}else return console.log("Initializing default usage config..."),await mv(t,fl),fl}catch(t){return console.error("Error fetching usage config:",t),fl}},bue=async t=>{try{const e=Ht(Ye,iM,nM);await mv(e,t)}catch(e){throw console.error("Error saving usage config:",e),e}},Ynt=Object.freeze(Object.defineProperty({__proto__:null,SETTINGS_COLLECTION:iM,USAGE_CONFIG_DOC_ID:nM,getUsageConfig:Gb,saveUsageConfig:bue},Symbol.toStringTag,{value:"Module"}));/*!
* sweetalert2 v11.26.4
* Released under the MIT License.
*/function wue(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function Xnt(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function nY(t,e){return t.get(wue(t,e))}function Qnt(t,e,r){Xnt(t,e),e.set(t,r)}function Jnt(t,e,r){return t.set(wue(t,e),r),r}const Znt=100,Ot={},eit=()=>{Ot.previousActiveElement instanceof HTMLElement?(Ot.previousActiveElement.focus(),Ot.previousActiveElement=null):document.body&&document.body.focus()},tit=t=>new Promise(e=>{if(!t)return e();const r=window.scrollX,n=window.scrollY;Ot.restoreFocusTimeout=setTimeout(()=>{eit(),e()},Znt),window.scrollTo(r,n)}),_ue="swal2-",rit=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error","draggable","dragging"],De=rit.reduce((t,e)=>(t[e]=_ue+e,t),{}),nit=["success","warning","info","question","error"],ZT=nit.reduce((t,e)=>(t[e]=_ue+e,t),{}),Eue="SweetAlert2:",sM=t=>t.charAt(0).toUpperCase()+t.slice(1),Ka=t=>{console.warn(`${Eue} ${typeof t=="object"?t.join(" "):t}`)},Rm=t=>{console.error(`${Eue} ${t}`)},iY=[],iit=t=>{iY.includes(t)||(iY.push(t),Ka(t))},Tue=(t,e=null)=>{iit(`"${t}" is deprecated and will be removed in the next major release.${e?` Use "${e}" instead.`:""}`)},yk=t=>typeof t=="function"?t():t,aM=t=>t&&typeof t.toPromise=="function",Kb=t=>aM(t)?t.toPromise():Promise.resolve(t),oM=t=>t&&Promise.resolve(t)===t,Xa=()=>document.body.querySelector(`.${De.container}`),Yb=t=>{const e=Xa();return e?e.querySelector(t):null},Zo=t=>Yb(`.${t}`),Rr=()=>Zo(De.popup),Bv=()=>Zo(De.icon),sit=()=>Zo(De["icon-content"]),Sue=()=>Zo(De.title),lM=()=>Zo(De["html-container"]),kue=()=>Zo(De.image),cM=()=>Zo(De["progress-steps"]),xk=()=>Zo(De["validation-message"]),uu=()=>Yb(`.${De.actions} .${De.confirm}`),Vv=()=>Yb(`.${De.actions} .${De.cancel}`),Pm=()=>Yb(`.${De.actions} .${De.deny}`),ait=()=>Zo(De["input-label"]),Uv=()=>Yb(`.${De.loader}`),Xb=()=>Zo(De.actions),Aue=()=>Zo(De.footer),bk=()=>Zo(De["timer-progress-bar"]),uM=()=>Zo(De.close),oit=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,dM=()=>{const t=Rr();if(!t)return[];const e=t.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),r=Array.from(e).sort((s,a)=>{const o=parseInt(s.getAttribute("tabindex")||"0"),l=parseInt(a.getAttribute("tabindex")||"0");return o>l?1:o<l?-1:0}),n=t.querySelectorAll(oit),i=Array.from(n).filter(s=>s.getAttribute("tabindex")!=="-1");return[...new Set(r.concat(i))].filter(s=>yo(s))},hM=()=>ld(document.body,De.shown)&&!ld(document.body,De["toast-shown"])&&!ld(document.body,De["no-backdrop"]),wk=()=>{const t=Rr();return t?ld(t,De.toast):!1},lit=()=>{const t=Rr();return t?t.hasAttribute("data-loading"):!1},el=(t,e)=>{if(t.textContent="",e){const n=new DOMParser().parseFromString(e,"text/html"),i=n.querySelector("head");i&&Array.from(i.childNodes).forEach(a=>{t.appendChild(a)});const s=n.querySelector("body");s&&Array.from(s.childNodes).forEach(a=>{a instanceof HTMLVideoElement||a instanceof HTMLAudioElement?t.appendChild(a.cloneNode(!0)):t.appendChild(a)})}},ld=(t,e)=>{if(!e)return!1;const r=e.split(/\s+/);for(let n=0;n<r.length;n++)if(!t.classList.contains(r[n]))return!1;return!0},cit=(t,e)=>{Array.from(t.classList).forEach(r=>{!Object.values(De).includes(r)&&!Object.values(ZT).includes(r)&&!Object.values(e.showClass||{}).includes(r)&&t.classList.remove(r)})},Qo=(t,e,r)=>{if(cit(t,e),!e.customClass)return;const n=e.customClass[r];if(n){if(typeof n!="string"&&!n.forEach){Ka(`Invalid type of customClass.${r}! Expected string or iterable object, got "${typeof n}"`);return}$r(t,n)}},_k=(t,e)=>{if(!e)return null;switch(e){case"select":case"textarea":case"file":return t.querySelector(`.${De.popup} > .${De[e]}`);case"checkbox":return t.querySelector(`.${De.popup} > .${De.checkbox} input`);case"radio":return t.querySelector(`.${De.popup} > .${De.radio} input:checked`)||t.querySelector(`.${De.popup} > .${De.radio} input:first-child`);case"range":return t.querySelector(`.${De.popup} > .${De.range} input`);default:return t.querySelector(`.${De.popup} > .${De.input}`)}},Cue=t=>{if(t.focus(),t.type!=="file"){const e=t.value;t.value="",t.value=e}},Nue=(t,e,r)=>{!t||!e||(typeof e=="string"&&(e=e.split(/\s+/).filter(Boolean)),e.forEach(n=>{Array.isArray(t)?t.forEach(i=>{r?i.classList.add(n):i.classList.remove(n)}):r?t.classList.add(n):t.classList.remove(n)}))},$r=(t,e)=>{Nue(t,e,!0)},jl=(t,e)=>{Nue(t,e,!1)},Ph=(t,e)=>{const r=Array.from(t.children);for(let n=0;n<r.length;n++){const i=r[n];if(i instanceof HTMLElement&&ld(i,e))return i}},F0=(t,e,r)=>{r===`${parseInt(`${r}`)}`&&(r=parseInt(r)),r||parseInt(`${r}`)===0?t.style.setProperty(e,typeof r=="number"?`${r}px`:r):t.style.removeProperty(e)},$s=(t,e="flex")=>{t&&(t.style.display=e)},Pa=t=>{t&&(t.style.display="none")},fM=(t,e="block")=>{t&&new MutationObserver(()=>{Qb(t,t.innerHTML,e)}).observe(t,{childList:!0,subtree:!0})},sY=(t,e,r,n)=>{const i=t.querySelector(e);i&&i.style.setProperty(r,n)},Qb=(t,e,r="flex")=>{e?$s(t,r):Pa(t)},yo=t=>!!(t&&(t.offsetWidth||t.offsetHeight||t.getClientRects().length)),uit=()=>!yo(uu())&&!yo(Pm())&&!yo(Vv()),kO=t=>t.scrollHeight>t.clientHeight,dit=(t,e)=>{let r=t;for(;r&&r!==e;){if(kO(r))return!0;r=r.parentElement}return!1},Iue=t=>{const e=window.getComputedStyle(t),r=parseFloat(e.getPropertyValue("animation-duration")||"0"),n=parseFloat(e.getPropertyValue("transition-duration")||"0");return r>0||n>0},mM=(t,e=!1)=>{const r=bk();r&&yo(r)&&(e&&(r.style.transition="none",r.style.width="100%"),setTimeout(()=>{r.style.transition=`width ${t/1e3}s linear`,r.style.width="0%"},10))},hit=()=>{const t=bk();if(!t)return;const e=parseInt(window.getComputedStyle(t).width);t.style.removeProperty("transition"),t.style.width="100%";const r=parseInt(window.getComputedStyle(t).width),n=e/r*100;t.style.width=`${n}%`},fit=()=>typeof window>"u"||typeof document>"u",mit=`
 <div aria-labelledby="${De.title}" aria-describedby="${De["html-container"]}" class="${De.popup}" tabindex="-1">
   <button type="button" class="${De.close}"></button>
   <ul class="${De["progress-steps"]}"></ul>
   <div class="${De.icon}"></div>
   <img class="${De.image}" />
   <h2 class="${De.title}" id="${De.title}"></h2>
   <div class="${De["html-container"]}" id="${De["html-container"]}"></div>
   <input class="${De.input}" id="${De.input}" />
   <input type="file" class="${De.file}" />
   <div class="${De.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${De.select}" id="${De.select}"></select>
   <div class="${De.radio}"></div>
   <label class="${De.checkbox}">
     <input type="checkbox" id="${De.checkbox}" />
     <span class="${De.label}"></span>
   </label>
   <textarea class="${De.textarea}" id="${De.textarea}"></textarea>
   <div class="${De["validation-message"]}" id="${De["validation-message"]}"></div>
   <div class="${De.actions}">
     <div class="${De.loader}"></div>
     <button type="button" class="${De.confirm}"></button>
     <button type="button" class="${De.deny}"></button>
     <button type="button" class="${De.cancel}"></button>
   </div>
   <div class="${De.footer}"></div>
   <div class="${De["timer-progress-bar-container"]}">
     <div class="${De["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),pit=()=>{const t=Xa();return t?(t.remove(),jl([document.documentElement,document.body],[De["no-backdrop"],De["toast-shown"],De["has-column"]]),!0):!1},t0=()=>{Ot.currentInstance.resetValidationMessage()},git=()=>{const t=Rr(),e=Ph(t,De.input),r=Ph(t,De.file),n=t.querySelector(`.${De.range} input`),i=t.querySelector(`.${De.range} output`),s=Ph(t,De.select),a=t.querySelector(`.${De.checkbox} input`),o=Ph(t,De.textarea);e.oninput=t0,r.onchange=t0,s.onchange=t0,a.onchange=t0,o.oninput=t0,n.oninput=()=>{t0(),i.value=n.value},n.onchange=()=>{t0(),i.value=n.value}},vit=t=>typeof t=="string"?document.querySelector(t):t,yit=t=>{const e=Rr();e.setAttribute("role",t.toast?"alert":"dialog"),e.setAttribute("aria-live",t.toast?"polite":"assertive"),t.toast||e.setAttribute("aria-modal","true")},xit=t=>{window.getComputedStyle(t).direction==="rtl"&&($r(Xa(),De.rtl),Ot.isRTL=!0)},bit=t=>{const e=pit();if(fit()){Rm("SweetAlert2 requires document to initialize");return}const r=document.createElement("div");r.className=De.container,e&&$r(r,De["no-transition"]),el(r,mit),r.dataset.swal2Theme=t.theme;const n=vit(t.target);n.appendChild(r),t.topLayer&&(r.setAttribute("popover",""),r.showPopover()),yit(t),xit(n),git()},pM=(t,e)=>{t instanceof HTMLElement?e.appendChild(t):typeof t=="object"?wit(t,e):t&&el(e,t)},wit=(t,e)=>{t.jquery?_it(e,t):el(e,t.toString())},_it=(t,e)=>{if(t.textContent="",0 in e)for(let r=0;r in e;r++)t.appendChild(e[r].cloneNode(!0));else t.appendChild(e.cloneNode(!0))},Eit=(t,e)=>{const r=Xb(),n=Uv();!r||!n||(!e.showConfirmButton&&!e.showDenyButton&&!e.showCancelButton?Pa(r):$s(r),Qo(r,e,"actions"),Tit(r,n,e),el(n,e.loaderHtml||""),Qo(n,e,"loader"))};function Tit(t,e,r){const n=uu(),i=Pm(),s=Vv();!n||!i||!s||(S5(n,"confirm",r),S5(i,"deny",r),S5(s,"cancel",r),Sit(n,i,s,r),r.reverseButtons&&(r.toast?(t.insertBefore(s,n),t.insertBefore(i,n)):(t.insertBefore(s,e),t.insertBefore(i,e),t.insertBefore(n,e))))}function Sit(t,e,r,n){if(!n.buttonsStyling){jl([t,e,r],De.styled);return}$r([t,e,r],De.styled),n.confirmButtonColor&&t.style.setProperty("--swal2-confirm-button-background-color",n.confirmButtonColor),n.denyButtonColor&&e.style.setProperty("--swal2-deny-button-background-color",n.denyButtonColor),n.cancelButtonColor&&r.style.setProperty("--swal2-cancel-button-background-color",n.cancelButtonColor),T5(t),T5(e),T5(r)}function T5(t){const e=window.getComputedStyle(t);if(e.getPropertyValue("--swal2-action-button-focus-box-shadow"))return;const r=e.backgroundColor.replace(/rgba?\((\d+), (\d+), (\d+).*/,"rgba($1, $2, $3, 0.5)");t.style.setProperty("--swal2-action-button-focus-box-shadow",e.getPropertyValue("--swal2-outline").replace(/ rgba\(.*/,` ${r}`))}function S5(t,e,r){const n=sM(e);Qb(t,r[`show${n}Button`],"inline-block"),el(t,r[`${e}ButtonText`]||""),t.setAttribute("aria-label",r[`${e}ButtonAriaLabel`]||""),t.className=De[e],Qo(t,r,`${e}Button`)}const kit=(t,e)=>{const r=uM();r&&(el(r,e.closeButtonHtml||""),Qo(r,e,"closeButton"),Qb(r,e.showCloseButton),r.setAttribute("aria-label",e.closeButtonAriaLabel||""))},Ait=(t,e)=>{const r=Xa();r&&(Cit(r,e.backdrop),Nit(r,e.position),Iit(r,e.grow),Qo(r,e,"container"))};function Cit(t,e){typeof e=="string"?t.style.background=e:e||$r([document.documentElement,document.body],De["no-backdrop"])}function Nit(t,e){e&&(e in De?$r(t,De[e]):(Ka('The "position" parameter is not valid, defaulting to "center"'),$r(t,De.center)))}function Iit(t,e){e&&$r(t,De[`grow-${e}`])}var Mn={innerParams:new WeakMap,domCache:new WeakMap};const Oit=["input","file","range","select","radio","checkbox","textarea"],Rit=(t,e)=>{const r=Rr();if(!r)return;const n=Mn.innerParams.get(t),i=!n||e.input!==n.input;Oit.forEach(s=>{const a=Ph(r,De[s]);a&&(Dit(s,e.inputAttributes),a.className=De[s],i&&Pa(a))}),e.input&&(i&&Pit(e),Mit(e))},Pit=t=>{if(!t.input)return;if(!Di[t.input]){Rm(`Unexpected type of input! Expected ${Object.keys(Di).join(" | ")}, got "${t.input}"`);return}const e=Oue(t.input);if(!e)return;const r=Di[t.input](e,t);$s(e),t.inputAutoFocus&&setTimeout(()=>{Cue(r)})},jit=t=>{for(let e=0;e<t.attributes.length;e++){const r=t.attributes[e].name;["id","type","value","style"].includes(r)||t.removeAttribute(r)}},Dit=(t,e)=>{const r=Rr();if(!r)return;const n=_k(r,t);if(n){jit(n);for(const i in e)n.setAttribute(i,e[i])}},Mit=t=>{if(!t.input)return;const e=Oue(t.input);e&&Qo(e,t,"input")},gM=(t,e)=>{!t.placeholder&&e.inputPlaceholder&&(t.placeholder=e.inputPlaceholder)},Jb=(t,e,r)=>{if(r.inputLabel){const n=document.createElement("label"),i=De["input-label"];n.setAttribute("for",t.id),n.className=i,typeof r.customClass=="object"&&$r(n,r.customClass.inputLabel),n.innerText=r.inputLabel,e.insertAdjacentElement("beforebegin",n)}},Oue=t=>{const e=Rr();if(e)return Ph(e,De[t]||De.input)},eS=(t,e)=>{["string","number"].includes(typeof e)?t.value=`${e}`:oM(e)||Ka(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof e}"`)},Di={};Di.text=Di.email=Di.password=Di.number=Di.tel=Di.url=Di.search=Di.date=Di["datetime-local"]=Di.time=Di.week=Di.month=(t,e)=>(eS(t,e.inputValue),Jb(t,t,e),gM(t,e),t.type=e.input,t);Di.file=(t,e)=>(Jb(t,t,e),gM(t,e),t);Di.range=(t,e)=>{const r=t.querySelector("input"),n=t.querySelector("output");return eS(r,e.inputValue),r.type=e.input,eS(n,e.inputValue),Jb(r,t,e),t};Di.select=(t,e)=>{if(t.textContent="",e.inputPlaceholder){const r=document.createElement("option");el(r,e.inputPlaceholder),r.value="",r.disabled=!0,r.selected=!0,t.appendChild(r)}return Jb(t,t,e),t};Di.radio=t=>(t.textContent="",t);Di.checkbox=(t,e)=>{const r=_k(Rr(),"checkbox");r.value="1",r.checked=!!e.inputValue;const n=t.querySelector("span");return el(n,e.inputPlaceholder||e.inputLabel),r};Di.textarea=(t,e)=>{eS(t,e.inputValue),gM(t,e),Jb(t,t,e);const r=n=>parseInt(window.getComputedStyle(n).marginLeft)+parseInt(window.getComputedStyle(n).marginRight);return setTimeout(()=>{if("MutationObserver"in window){const n=parseInt(window.getComputedStyle(Rr()).width),i=()=>{if(!document.body.contains(t))return;const s=t.offsetWidth+r(t);s>n?Rr().style.width=`${s}px`:F0(Rr(),"width",e.width)};new MutationObserver(i).observe(t,{attributes:!0,attributeFilter:["style"]})}}),t};const Lit=(t,e)=>{const r=lM();r&&(fM(r),Qo(r,e,"htmlContainer"),e.html?(pM(e.html,r),$s(r,"block")):e.text?(r.textContent=e.text,$s(r,"block")):Pa(r),Rit(t,e))},Fit=(t,e)=>{const r=Aue();r&&(fM(r),Qb(r,!!e.footer,"block"),e.footer&&pM(e.footer,r),Qo(r,e,"footer"))},Bit=(t,e)=>{const r=Mn.innerParams.get(t),n=Bv();if(!n)return;if(r&&e.icon===r.icon){oY(n,e),aY(n,e);return}if(!e.icon&&!e.iconHtml){Pa(n);return}if(e.icon&&Object.keys(ZT).indexOf(e.icon)===-1){Rm(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${e.icon}"`),Pa(n);return}$s(n),oY(n,e),aY(n,e),$r(n,e.showClass&&e.showClass.icon),window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",Rue)},aY=(t,e)=>{for(const[r,n]of Object.entries(ZT))e.icon!==r&&jl(t,n);$r(t,e.icon&&ZT[e.icon]),zit(t,e),Rue(),Qo(t,e,"icon")},Rue=()=>{const t=Rr();if(!t)return;const e=window.getComputedStyle(t).getPropertyValue("background-color"),r=t.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let n=0;n<r.length;n++)r[n].style.backgroundColor=e},Vit=t=>`
  ${t.animation?'<div class="swal2-success-circular-line-left"></div>':""}
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div>
  ${t.animation?'<div class="swal2-success-fix"></div>':""}
  ${t.animation?'<div class="swal2-success-circular-line-right"></div>':""}
`,Uit=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,oY=(t,e)=>{if(!e.icon&&!e.iconHtml)return;let r=t.innerHTML,n="";e.iconHtml?n=lY(e.iconHtml):e.icon==="success"?(n=Vit(e),r=r.replace(/ style=".*?"/g,"")):e.icon==="error"?n=Uit:e.icon&&(n=lY({question:"?",warning:"!",info:"i"}[e.icon])),r.trim()!==n.trim()&&el(t,n)},zit=(t,e)=>{if(e.iconColor){t.style.color=e.iconColor,t.style.borderColor=e.iconColor;for(const r of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])sY(t,r,"background-color",e.iconColor);sY(t,".swal2-success-ring","border-color",e.iconColor)}},lY=t=>`<div class="${De["icon-content"]}">${t}</div>`,$it=(t,e)=>{const r=kue();if(r){if(!e.imageUrl){Pa(r);return}$s(r,""),r.setAttribute("src",e.imageUrl),r.setAttribute("alt",e.imageAlt||""),F0(r,"width",e.imageWidth),F0(r,"height",e.imageHeight),r.className=De.image,Qo(r,e,"image")}};let vM=!1,Pue=0,jue=0,Due=0,Mue=0;const Hit=t=>{t.addEventListener("mousedown",tS),document.body.addEventListener("mousemove",rS),t.addEventListener("mouseup",nS),t.addEventListener("touchstart",tS),document.body.addEventListener("touchmove",rS),t.addEventListener("touchend",nS)},qit=t=>{t.removeEventListener("mousedown",tS),document.body.removeEventListener("mousemove",rS),t.removeEventListener("mouseup",nS),t.removeEventListener("touchstart",tS),document.body.removeEventListener("touchmove",rS),t.removeEventListener("touchend",nS)},tS=t=>{const e=Rr();if(t.target===e||Bv().contains(t.target)){vM=!0;const r=Lue(t);Pue=r.clientX,jue=r.clientY,Due=parseInt(e.style.insetInlineStart)||0,Mue=parseInt(e.style.insetBlockStart)||0,$r(e,"swal2-dragging")}},rS=t=>{const e=Rr();if(vM){let{clientX:r,clientY:n}=Lue(t);const i=r-Pue;e.style.insetInlineStart=`${Due+(Ot.isRTL?-i:i)}px`,e.style.insetBlockStart=`${Mue+(n-jue)}px`}},nS=()=>{const t=Rr();vM=!1,jl(t,"swal2-dragging")},Lue=t=>{let e=0,r=0;return t.type.startsWith("mouse")?(e=t.clientX,r=t.clientY):t.type.startsWith("touch")&&(e=t.touches[0].clientX,r=t.touches[0].clientY),{clientX:e,clientY:r}},Wit=(t,e)=>{const r=Xa(),n=Rr();if(!(!r||!n)){if(e.toast){F0(r,"width",e.width),n.style.width="100%";const i=Uv();i&&n.insertBefore(i,Bv())}else F0(n,"width",e.width);F0(n,"padding",e.padding),e.color&&(n.style.color=e.color),e.background&&(n.style.background=e.background),Pa(xk()),Git(n,e),e.draggable&&!e.toast?($r(n,De.draggable),Hit(n)):(jl(n,De.draggable),qit(n))}},Git=(t,e)=>{const r=e.showClass||{};t.className=`${De.popup} ${yo(t)?r.popup:""}`,e.toast?($r([document.documentElement,document.body],De["toast-shown"]),$r(t,De.toast)):$r(t,De.modal),Qo(t,e,"popup"),typeof e.customClass=="string"&&$r(t,e.customClass),e.icon&&$r(t,De[`icon-${e.icon}`])},Kit=(t,e)=>{const r=cM();if(!r)return;const{progressSteps:n,currentProgressStep:i}=e;if(!n||n.length===0||i===void 0){Pa(r);return}$s(r),r.textContent="",i>=n.length&&Ka("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),n.forEach((s,a)=>{const o=Yit(s);if(r.appendChild(o),a===i&&$r(o,De["active-progress-step"]),a!==n.length-1){const l=Xit(e);r.appendChild(l)}})},Yit=t=>{const e=document.createElement("li");return $r(e,De["progress-step"]),el(e,t),e},Xit=t=>{const e=document.createElement("li");return $r(e,De["progress-step-line"]),t.progressStepsDistance&&F0(e,"width",t.progressStepsDistance),e},Qit=(t,e)=>{const r=Sue();r&&(fM(r),Qb(r,!!(e.title||e.titleText),"block"),e.title&&pM(e.title,r),e.titleText&&(r.innerText=e.titleText),Qo(r,e,"title"))},Fue=(t,e)=>{Wit(t,e),Ait(t,e),Kit(t,e),Bit(t,e),$it(t,e),Qit(t,e),kit(t,e),Lit(t,e),Eit(t,e),Fit(t,e);const r=Rr();typeof e.didRender=="function"&&r&&e.didRender(r),Ot.eventEmitter.emit("didRender",r)},Jit=()=>yo(Rr()),Bue=()=>{var t;return(t=uu())===null||t===void 0?void 0:t.click()},Zit=()=>{var t;return(t=Pm())===null||t===void 0?void 0:t.click()},est=()=>{var t;return(t=Vv())===null||t===void 0?void 0:t.click()},zv=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),Vue=t=>{t.keydownTarget&&t.keydownHandlerAdded&&(t.keydownTarget.removeEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!1)},tst=(t,e,r)=>{Vue(t),e.toast||(t.keydownHandler=n=>nst(e,n,r),t.keydownTarget=e.keydownListenerCapture?window:Rr(),t.keydownListenerCapture=e.keydownListenerCapture,t.keydownTarget.addEventListener("keydown",t.keydownHandler,{capture:t.keydownListenerCapture}),t.keydownHandlerAdded=!0)},AO=(t,e)=>{var r;const n=dM();if(n.length){t=t+e,t===-2&&(t=n.length-1),t===n.length?t=0:t===-1&&(t=n.length-1),n[t].focus();return}(r=Rr())===null||r===void 0||r.focus()},Uue=["ArrowRight","ArrowDown"],rst=["ArrowLeft","ArrowUp"],nst=(t,e,r)=>{t&&(e.isComposing||e.keyCode===229||(t.stopKeydownPropagation&&e.stopPropagation(),e.key==="Enter"?ist(e,t):e.key==="Tab"?sst(e):[...Uue,...rst].includes(e.key)?ast(e.key):e.key==="Escape"&&ost(e,t,r)))},ist=(t,e)=>{if(!yk(e.allowEnterKey))return;const r=_k(Rr(),e.input);if(t.target&&r&&t.target instanceof HTMLElement&&t.target.outerHTML===r.outerHTML){if(["textarea","file"].includes(e.input))return;Bue(),t.preventDefault()}},sst=t=>{const e=t.target,r=dM();let n=-1;for(let i=0;i<r.length;i++)if(e===r[i]){n=i;break}t.shiftKey?AO(n,-1):AO(n,1),t.stopPropagation(),t.preventDefault()},ast=t=>{const e=Xb(),r=uu(),n=Pm(),i=Vv();if(!e||!r||!n||!i)return;const s=[r,n,i];if(document.activeElement instanceof HTMLElement&&!s.includes(document.activeElement))return;const a=Uue.includes(t)?"nextElementSibling":"previousElementSibling";let o=document.activeElement;if(o){for(let l=0;l<e.children.length;l++){if(o=o[a],!o)return;if(o instanceof HTMLButtonElement&&yo(o))break}o instanceof HTMLButtonElement&&o.focus()}},ost=(t,e,r)=>{t.preventDefault(),yk(e.allowEscapeKey)&&r(zv.esc)};var ev={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const lst=()=>{const t=Xa();Array.from(document.body.children).forEach(r=>{r.contains(t)||(r.hasAttribute("aria-hidden")&&r.setAttribute("data-previous-aria-hidden",r.getAttribute("aria-hidden")||""),r.setAttribute("aria-hidden","true"))})},zue=()=>{Array.from(document.body.children).forEach(e=>{e.hasAttribute("data-previous-aria-hidden")?(e.setAttribute("aria-hidden",e.getAttribute("data-previous-aria-hidden")||""),e.removeAttribute("data-previous-aria-hidden")):e.removeAttribute("aria-hidden")})},$ue=typeof window<"u"&&!!window.GestureEvent,cst=()=>{if($ue&&!ld(document.body,De.iosfix)){const t=document.body.scrollTop;document.body.style.top=`${t*-1}px`,$r(document.body,De.iosfix),ust()}},ust=()=>{const t=Xa();if(!t)return;let e;t.ontouchstart=r=>{e=dst(r)},t.ontouchmove=r=>{e&&(r.preventDefault(),r.stopPropagation())}},dst=t=>{const e=t.target,r=Xa(),n=lM();return!r||!n||hst(t)||fst(t)?!1:e===r||!kO(r)&&e instanceof HTMLElement&&!dit(e,n)&&e.tagName!=="INPUT"&&e.tagName!=="TEXTAREA"&&!(kO(n)&&n.contains(e))},hst=t=>t.touches&&t.touches.length&&t.touches[0].touchType==="stylus",fst=t=>t.touches&&t.touches.length>1,mst=()=>{if(ld(document.body,De.iosfix)){const t=parseInt(document.body.style.top,10);jl(document.body,De.iosfix),document.body.style.top="",document.body.scrollTop=t*-1}},pst=()=>{const t=document.createElement("div");t.className=De["scrollbar-measure"],document.body.appendChild(t);const e=t.getBoundingClientRect().width-t.clientWidth;return document.body.removeChild(t),e};let pg=null;const gst=t=>{pg===null&&(document.body.scrollHeight>window.innerHeight||t==="scroll")&&(pg=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${pg+pst()}px`)},vst=()=>{pg!==null&&(document.body.style.paddingRight=`${pg}px`,pg=null)};function Hue(t,e,r,n){wk()?cY(t,n):(tit(r).then(()=>cY(t,n)),Vue(Ot)),$ue?(e.setAttribute("style","display:none !important"),e.removeAttribute("class"),e.innerHTML=""):e.remove(),hM()&&(vst(),mst(),zue()),yst()}function yst(){jl([document.documentElement,document.body],[De.shown,De["height-auto"],De["no-backdrop"],De["toast-shown"]])}function jh(t){t=bst(t);const e=ev.swalPromiseResolve.get(this),r=xst(this);this.isAwaitingPromise?t.isDismissed||(Zb(this),e(t)):r&&e(t)}const xst=t=>{const e=Rr();if(!e)return!1;const r=Mn.innerParams.get(t);if(!r||ld(e,r.hideClass.popup))return!1;jl(e,r.showClass.popup),$r(e,r.hideClass.popup);const n=Xa();return jl(n,r.showClass.backdrop),$r(n,r.hideClass.backdrop),wst(t,e,r),!0};function que(t){const e=ev.swalPromiseReject.get(this);Zb(this),e&&e(t)}const Zb=t=>{t.isAwaitingPromise&&(delete t.isAwaitingPromise,Mn.innerParams.get(t)||t._destroy())},bst=t=>typeof t>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},t),wst=(t,e,r)=>{var n;const i=Xa(),s=Iue(e);typeof r.willClose=="function"&&r.willClose(e),(n=Ot.eventEmitter)===null||n===void 0||n.emit("willClose",e),s?_st(t,e,i,r.returnFocus,r.didClose):Hue(t,i,r.returnFocus,r.didClose)},_st=(t,e,r,n,i)=>{Ot.swalCloseEventFinishedCallback=Hue.bind(null,t,r,n,i);const s=function(a){if(a.target===e){var o;(o=Ot.swalCloseEventFinishedCallback)===null||o===void 0||o.call(Ot),delete Ot.swalCloseEventFinishedCallback,e.removeEventListener("animationend",s),e.removeEventListener("transitionend",s)}};e.addEventListener("animationend",s),e.addEventListener("transitionend",s)},cY=(t,e)=>{setTimeout(()=>{var r;typeof e=="function"&&e.bind(t.params)(),(r=Ot.eventEmitter)===null||r===void 0||r.emit("didClose"),t._destroy&&t._destroy()})},tv=t=>{let e=Rr();if(e||new Zl,e=Rr(),!e)return;const r=Uv();wk()?Pa(Bv()):Est(e,t),$s(r),e.setAttribute("data-loading","true"),e.setAttribute("aria-busy","true"),e.focus()},Est=(t,e)=>{const r=Xb(),n=Uv();!r||!n||(!e&&yo(uu())&&(e=uu()),$s(r),e&&(Pa(e),n.setAttribute("data-button-to-replace",e.className),r.insertBefore(n,e)),$r([t,r],De.loading))},Tst=(t,e)=>{e.input==="select"||e.input==="radio"?Nst(t,e):["text","email","number","tel","textarea"].some(r=>r===e.input)&&(aM(e.inputValue)||oM(e.inputValue))&&(tv(uu()),Ist(t,e))},Sst=(t,e)=>{const r=t.getInput();if(!r)return null;switch(e.input){case"checkbox":return kst(r);case"radio":return Ast(r);case"file":return Cst(r);default:return e.inputAutoTrim?r.value.trim():r.value}},kst=t=>t.checked?1:0,Ast=t=>t.checked?t.value:null,Cst=t=>t.files&&t.files.length?t.getAttribute("multiple")!==null?t.files:t.files[0]:null,Nst=(t,e)=>{const r=Rr();if(!r)return;const n=i=>{e.input==="select"?Ost(r,iS(i),e):e.input==="radio"&&Rst(r,iS(i),e)};aM(e.inputOptions)||oM(e.inputOptions)?(tv(uu()),Kb(e.inputOptions).then(i=>{t.hideLoading(),n(i)})):typeof e.inputOptions=="object"?n(e.inputOptions):Rm(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof e.inputOptions}`)},Ist=(t,e)=>{const r=t.getInput();r&&(Pa(r),Kb(e.inputValue).then(n=>{r.value=e.input==="number"?`${parseFloat(n)||0}`:`${n}`,$s(r),r.focus(),t.hideLoading()}).catch(n=>{Rm(`Error in inputValue promise: ${n}`),r.value="",$s(r),r.focus(),t.hideLoading()}))};function Ost(t,e,r){const n=Ph(t,De.select);if(!n)return;const i=(s,a,o)=>{const l=document.createElement("option");l.value=o,el(l,a),l.selected=Wue(o,r.inputValue),s.appendChild(l)};e.forEach(s=>{const a=s[0],o=s[1];if(Array.isArray(o)){const l=document.createElement("optgroup");l.label=a,l.disabled=!1,n.appendChild(l),o.forEach(u=>i(l,u[1],u[0]))}else i(n,o,a)}),n.focus()}function Rst(t,e,r){const n=Ph(t,De.radio);if(!n)return;e.forEach(s=>{const a=s[0],o=s[1],l=document.createElement("input"),u=document.createElement("label");l.type="radio",l.name=De.radio,l.value=a,Wue(a,r.inputValue)&&(l.checked=!0);const d=document.createElement("span");el(d,o),d.className=De.label,u.appendChild(l),u.appendChild(d),n.appendChild(u)});const i=n.querySelectorAll("input");i.length&&i[0].focus()}const iS=t=>{const e=[];return t instanceof Map?t.forEach((r,n)=>{let i=r;typeof i=="object"&&(i=iS(i)),e.push([n,i])}):Object.keys(t).forEach(r=>{let n=t[r];typeof n=="object"&&(n=iS(n)),e.push([r,n])}),e},Wue=(t,e)=>!!e&&e.toString()===t.toString(),Pst=t=>{const e=Mn.innerParams.get(t);t.disableButtons(),e.input?Gue(t,"confirm"):xM(t,!0)},jst=t=>{const e=Mn.innerParams.get(t);t.disableButtons(),e.returnInputValueOnDeny?Gue(t,"deny"):yM(t,!1)},Dst=(t,e)=>{t.disableButtons(),e(zv.cancel)},Gue=(t,e)=>{const r=Mn.innerParams.get(t);if(!r.input){Rm(`The "input" parameter is needed to be set when using returnInputValueOn${sM(e)}`);return}const n=t.getInput(),i=Sst(t,r);r.inputValidator?Mst(t,i,e):n&&!n.checkValidity()?(t.enableButtons(),t.showValidationMessage(r.validationMessage||n.validationMessage)):e==="deny"?yM(t,i):xM(t,i)},Mst=(t,e,r)=>{const n=Mn.innerParams.get(t);t.disableInput(),Promise.resolve().then(()=>Kb(n.inputValidator(e,n.validationMessage))).then(s=>{t.enableButtons(),t.enableInput(),s?t.showValidationMessage(s):r==="deny"?yM(t,e):xM(t,e)})},yM=(t,e)=>{const r=Mn.innerParams.get(t||void 0);r.showLoaderOnDeny&&tv(Pm()),r.preDeny?(t.isAwaitingPromise=!0,Promise.resolve().then(()=>Kb(r.preDeny(e,r.validationMessage))).then(i=>{i===!1?(t.hideLoading(),Zb(t)):t.close({isDenied:!0,value:typeof i>"u"?e:i})}).catch(i=>Kue(t||void 0,i))):t.close({isDenied:!0,value:e})},uY=(t,e)=>{t.close({isConfirmed:!0,value:e})},Kue=(t,e)=>{t.rejectPromise(e)},xM=(t,e)=>{const r=Mn.innerParams.get(t||void 0);r.showLoaderOnConfirm&&tv(),r.preConfirm?(t.resetValidationMessage(),t.isAwaitingPromise=!0,Promise.resolve().then(()=>Kb(r.preConfirm(e,r.validationMessage))).then(i=>{yo(xk())||i===!1?(t.hideLoading(),Zb(t)):uY(t,typeof i>"u"?e:i)}).catch(i=>Kue(t||void 0,i))):uY(t,e)};function sS(){const t=Mn.innerParams.get(this);if(!t)return;const e=Mn.domCache.get(this);Pa(e.loader),wk()?t.icon&&$s(Bv()):Lst(e),jl([e.popup,e.actions],De.loading),e.popup.removeAttribute("aria-busy"),e.popup.removeAttribute("data-loading"),e.confirmButton.disabled=!1,e.denyButton.disabled=!1,e.cancelButton.disabled=!1}const Lst=t=>{const e=t.popup.getElementsByClassName(t.loader.getAttribute("data-button-to-replace"));e.length?$s(e[0],"inline-block"):uit()&&Pa(t.actions)};function Yue(){const t=Mn.innerParams.get(this),e=Mn.domCache.get(this);return e?_k(e.popup,t.input):null}function Xue(t,e,r){const n=Mn.domCache.get(t);e.forEach(i=>{n[i].disabled=r})}function Que(t,e){const r=Rr();if(!(!r||!t))if(t.type==="radio"){const n=r.querySelectorAll(`[name="${De.radio}"]`);for(let i=0;i<n.length;i++)n[i].disabled=e}else t.disabled=e}function Jue(){Xue(this,["confirmButton","denyButton","cancelButton"],!1)}function Zue(){Xue(this,["confirmButton","denyButton","cancelButton"],!0)}function ede(){Que(this.getInput(),!1)}function tde(){Que(this.getInput(),!0)}function rde(t){const e=Mn.domCache.get(this),r=Mn.innerParams.get(this);el(e.validationMessage,t),e.validationMessage.className=De["validation-message"],r.customClass&&r.customClass.validationMessage&&$r(e.validationMessage,r.customClass.validationMessage),$s(e.validationMessage);const n=this.getInput();n&&(n.setAttribute("aria-invalid","true"),n.setAttribute("aria-describedby",De["validation-message"]),Cue(n),$r(n,De.inputerror))}function nde(){const t=Mn.domCache.get(this);t.validationMessage&&Pa(t.validationMessage);const e=this.getInput();e&&(e.removeAttribute("aria-invalid"),e.removeAttribute("aria-describedby"),jl(e,De.inputerror))}const gg={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,draggable:!1,animation:!0,theme:"light",showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0,topLayer:!1},Fst=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","draggable","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","theme","willClose"],Bst={allowEnterKey:void 0},Vst=["allowOutsideClick","allowEnterKey","backdrop","draggable","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],ide=t=>Object.prototype.hasOwnProperty.call(gg,t),sde=t=>Fst.indexOf(t)!==-1,ade=t=>Bst[t],Ust=t=>{ide(t)||Ka(`Unknown parameter "${t}"`)},zst=t=>{Vst.includes(t)&&Ka(`The parameter "${t}" is incompatible with toasts`)},$st=t=>{const e=ade(t);e&&Tue(t,e)},ode=t=>{t.backdrop===!1&&t.allowOutsideClick&&Ka('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`'),t.theme&&!["light","dark","auto","minimal","borderless","bootstrap-4","bootstrap-4-light","bootstrap-4-dark","bootstrap-5","bootstrap-5-light","bootstrap-5-dark","material-ui","material-ui-light","material-ui-dark","embed-iframe","bulma","bulma-light","bulma-dark"].includes(t.theme)&&Ka(`Invalid theme "${t.theme}"`);for(const e in t)Ust(e),t.toast&&zst(e),$st(e)};function lde(t){const e=Xa(),r=Rr(),n=Mn.innerParams.get(this);if(!r||ld(r,n.hideClass.popup)){Ka("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}const i=Hst(t),s=Object.assign({},n,i);ode(s),e.dataset.swal2Theme=s.theme,Fue(this,s),Mn.innerParams.set(this,s),Object.defineProperties(this,{params:{value:Object.assign({},this.params,t),writable:!1,enumerable:!0}})}const Hst=t=>{const e={};return Object.keys(t).forEach(r=>{sde(r)?e[r]=t[r]:Ka(`Invalid parameter to update: ${r}`)}),e};function cde(){const t=Mn.domCache.get(this),e=Mn.innerParams.get(this);if(!e){ude(this);return}t.popup&&Ot.swalCloseEventFinishedCallback&&(Ot.swalCloseEventFinishedCallback(),delete Ot.swalCloseEventFinishedCallback),typeof e.didDestroy=="function"&&e.didDestroy(),Ot.eventEmitter.emit("didDestroy"),qst(this)}const qst=t=>{ude(t),delete t.params,delete Ot.keydownHandler,delete Ot.keydownTarget,delete Ot.currentInstance},ude=t=>{t.isAwaitingPromise?(k5(Mn,t),t.isAwaitingPromise=!0):(k5(ev,t),k5(Mn,t),delete t.isAwaitingPromise,delete t.disableButtons,delete t.enableButtons,delete t.getInput,delete t.disableInput,delete t.enableInput,delete t.hideLoading,delete t.disableLoading,delete t.showValidationMessage,delete t.resetValidationMessage,delete t.close,delete t.closePopup,delete t.closeModal,delete t.closeToast,delete t.rejectPromise,delete t.update,delete t._destroy)},k5=(t,e)=>{for(const r in t)t[r].delete(e)};var Wst=Object.freeze({__proto__:null,_destroy:cde,close:jh,closeModal:jh,closePopup:jh,closeToast:jh,disableButtons:Zue,disableInput:tde,disableLoading:sS,enableButtons:Jue,enableInput:ede,getInput:Yue,handleAwaitingPromise:Zb,hideLoading:sS,rejectPromise:que,resetValidationMessage:nde,showValidationMessage:rde,update:lde});const Gst=(t,e,r)=>{t.toast?Kst(t,e,r):(Xst(e),Qst(e),Jst(t,e,r))},Kst=(t,e,r)=>{e.popup.onclick=()=>{t&&(Yst(t)||t.timer||t.input)||r(zv.close)}},Yst=t=>!!(t.showConfirmButton||t.showDenyButton||t.showCancelButton||t.showCloseButton);let aS=!1;const Xst=t=>{t.popup.onmousedown=()=>{t.container.onmouseup=function(e){t.container.onmouseup=()=>{},e.target===t.container&&(aS=!0)}}},Qst=t=>{t.container.onmousedown=e=>{e.target===t.container&&e.preventDefault(),t.popup.onmouseup=function(r){t.popup.onmouseup=()=>{},(r.target===t.popup||r.target instanceof HTMLElement&&t.popup.contains(r.target))&&(aS=!0)}}},Jst=(t,e,r)=>{e.container.onclick=n=>{if(aS){aS=!1;return}n.target===e.container&&yk(t.allowOutsideClick)&&r(zv.backdrop)}},Zst=t=>typeof t=="object"&&t.jquery,dY=t=>t instanceof Element||Zst(t),eat=t=>{const e={};return typeof t[0]=="object"&&!dY(t[0])?Object.assign(e,t[0]):["title","html","icon"].forEach((r,n)=>{const i=t[n];typeof i=="string"||dY(i)?e[r]=i:i!==void 0&&Rm(`Unexpected type of ${r}! Expected "string" or "Element", got ${typeof i}`)}),e};function tat(...t){return new this(...t)}function rat(t){class e extends this{_main(n,i){return super._main(n,Object.assign({},t,i))}}return e}const nat=()=>Ot.timeout&&Ot.timeout.getTimerLeft(),dde=()=>{if(Ot.timeout)return hit(),Ot.timeout.stop()},hde=()=>{if(Ot.timeout){const t=Ot.timeout.start();return mM(t),t}},iat=()=>{const t=Ot.timeout;return t&&(t.running?dde():hde())},sat=t=>{if(Ot.timeout){const e=Ot.timeout.increase(t);return mM(e,!0),e}},aat=()=>!!(Ot.timeout&&Ot.timeout.isRunning());let hY=!1;const CO={};function oat(t="data-swal-template"){CO[t]=this,hY||(document.body.addEventListener("click",lat),hY=!0)}const lat=t=>{for(let e=t.target;e&&e!==document;e=e.parentNode)for(const r in CO){const n=e.getAttribute(r);if(n){CO[r].fire({template:n});return}}};class cat{constructor(){this.events={}}_getHandlersByEventName(e){return typeof this.events[e]>"u"&&(this.events[e]=[]),this.events[e]}on(e,r){const n=this._getHandlersByEventName(e);n.includes(r)||n.push(r)}once(e,r){const n=(...i)=>{this.removeListener(e,n),r.apply(this,i)};this.on(e,n)}emit(e,...r){this._getHandlersByEventName(e).forEach(n=>{try{n.apply(this,r)}catch(i){console.error(i)}})}removeListener(e,r){const n=this._getHandlersByEventName(e),i=n.indexOf(r);i>-1&&n.splice(i,1)}removeAllListeners(e){this.events[e]!==void 0&&(this.events[e].length=0)}reset(){this.events={}}}Ot.eventEmitter=new cat;const uat=(t,e)=>{Ot.eventEmitter.on(t,e)},dat=(t,e)=>{Ot.eventEmitter.once(t,e)},hat=(t,e)=>{if(!t){Ot.eventEmitter.reset();return}e?Ot.eventEmitter.removeListener(t,e):Ot.eventEmitter.removeAllListeners(t)};var fat=Object.freeze({__proto__:null,argsToParams:eat,bindClickHandler:oat,clickCancel:est,clickConfirm:Bue,clickDeny:Zit,enableLoading:tv,fire:tat,getActions:Xb,getCancelButton:Vv,getCloseButton:uM,getConfirmButton:uu,getContainer:Xa,getDenyButton:Pm,getFocusableElements:dM,getFooter:Aue,getHtmlContainer:lM,getIcon:Bv,getIconContent:sit,getImage:kue,getInputLabel:ait,getLoader:Uv,getPopup:Rr,getProgressSteps:cM,getTimerLeft:nat,getTimerProgressBar:bk,getTitle:Sue,getValidationMessage:xk,increaseTimer:sat,isDeprecatedParameter:ade,isLoading:lit,isTimerRunning:aat,isUpdatableParameter:sde,isValidParameter:ide,isVisible:Jit,mixin:rat,off:hat,on:uat,once:dat,resumeTimer:hde,showLoading:tv,stopTimer:dde,toggleTimer:iat});class mat{constructor(e,r){this.callback=e,this.remaining=r,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(e){const r=this.running;return r&&this.stop(),this.remaining+=e,r&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const fde=["swal-title","swal-html","swal-footer"],pat=t=>{const e=typeof t.template=="string"?document.querySelector(t.template):t.template;if(!e)return{};const r=e.content;return Eat(r),Object.assign(gat(r),vat(r),yat(r),xat(r),bat(r),wat(r),_at(r,fde))},gat=t=>{const e={};return Array.from(t.querySelectorAll("swal-param")).forEach(n=>{um(n,["name","value"]);const i=n.getAttribute("name"),s=n.getAttribute("value");!i||!s||(typeof gg[i]=="boolean"?e[i]=s!=="false":typeof gg[i]=="object"?e[i]=JSON.parse(s):e[i]=s)}),e},vat=t=>{const e={};return Array.from(t.querySelectorAll("swal-function-param")).forEach(n=>{const i=n.getAttribute("name"),s=n.getAttribute("value");!i||!s||(e[i]=new Function(`return ${s}`)())}),e},yat=t=>{const e={};return Array.from(t.querySelectorAll("swal-button")).forEach(n=>{um(n,["type","color","aria-label"]);const i=n.getAttribute("type");!i||!["confirm","cancel","deny"].includes(i)||(e[`${i}ButtonText`]=n.innerHTML,e[`show${sM(i)}Button`]=!0,n.hasAttribute("color")&&(e[`${i}ButtonColor`]=n.getAttribute("color")),n.hasAttribute("aria-label")&&(e[`${i}ButtonAriaLabel`]=n.getAttribute("aria-label")))}),e},xat=t=>{const e={},r=t.querySelector("swal-image");return r&&(um(r,["src","width","height","alt"]),r.hasAttribute("src")&&(e.imageUrl=r.getAttribute("src")||void 0),r.hasAttribute("width")&&(e.imageWidth=r.getAttribute("width")||void 0),r.hasAttribute("height")&&(e.imageHeight=r.getAttribute("height")||void 0),r.hasAttribute("alt")&&(e.imageAlt=r.getAttribute("alt")||void 0)),e},bat=t=>{const e={},r=t.querySelector("swal-icon");return r&&(um(r,["type","color"]),r.hasAttribute("type")&&(e.icon=r.getAttribute("type")),r.hasAttribute("color")&&(e.iconColor=r.getAttribute("color")),e.iconHtml=r.innerHTML),e},wat=t=>{const e={},r=t.querySelector("swal-input");r&&(um(r,["type","label","placeholder","value"]),e.input=r.getAttribute("type")||"text",r.hasAttribute("label")&&(e.inputLabel=r.getAttribute("label")),r.hasAttribute("placeholder")&&(e.inputPlaceholder=r.getAttribute("placeholder")),r.hasAttribute("value")&&(e.inputValue=r.getAttribute("value")));const n=Array.from(t.querySelectorAll("swal-input-option"));return n.length&&(e.inputOptions={},n.forEach(i=>{um(i,["value"]);const s=i.getAttribute("value");if(!s)return;const a=i.innerHTML;e.inputOptions[s]=a})),e},_at=(t,e)=>{const r={};for(const n in e){const i=e[n],s=t.querySelector(i);s&&(um(s,[]),r[i.replace(/^swal-/,"")]=s.innerHTML.trim())}return r},Eat=t=>{const e=fde.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(t.children).forEach(r=>{const n=r.tagName.toLowerCase();e.includes(n)||Ka(`Unrecognized element <${n}>`)})},um=(t,e)=>{Array.from(t.attributes).forEach(r=>{e.indexOf(r.name)===-1&&Ka([`Unrecognized attribute "${r.name}" on <${t.tagName.toLowerCase()}>.`,`${e.length?`Allowed attributes are: ${e.join(", ")}`:"To set the value, use HTML within the element."}`])})},mde=10,Tat=t=>{const e=Xa(),r=Rr();typeof t.willOpen=="function"&&t.willOpen(r),Ot.eventEmitter.emit("willOpen",r);const i=window.getComputedStyle(document.body).overflowY;Aat(e,r,t),setTimeout(()=>{Sat(e,r)},mde),hM()&&(kat(e,t.scrollbarPadding,i),lst()),!wk()&&!Ot.previousActiveElement&&(Ot.previousActiveElement=document.activeElement),typeof t.didOpen=="function"&&setTimeout(()=>t.didOpen(r)),Ot.eventEmitter.emit("didOpen",r)},oS=t=>{const e=Rr();if(t.target!==e)return;const r=Xa();e.removeEventListener("animationend",oS),e.removeEventListener("transitionend",oS),r.style.overflowY="auto",jl(r,De["no-transition"])},Sat=(t,e)=>{Iue(e)?(t.style.overflowY="hidden",e.addEventListener("animationend",oS),e.addEventListener("transitionend",oS)):t.style.overflowY="auto"},kat=(t,e,r)=>{cst(),e&&r!=="hidden"&&gst(r),setTimeout(()=>{t.scrollTop=0})},Aat=(t,e,r)=>{$r(t,r.showClass.backdrop),r.animation?(e.style.setProperty("opacity","0","important"),$s(e,"grid"),setTimeout(()=>{$r(e,r.showClass.popup),e.style.removeProperty("opacity")},mde)):$s(e,"grid"),$r([document.documentElement,document.body],De.shown),r.heightAuto&&r.backdrop&&!r.toast&&$r([document.documentElement,document.body],De["height-auto"])};var fY={email:(t,e)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid email address"),url:(t,e)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(t)?Promise.resolve():Promise.resolve(e||"Invalid URL")};function Cat(t){t.inputValidator||(t.input==="email"&&(t.inputValidator=fY.email),t.input==="url"&&(t.inputValidator=fY.url))}function Nat(t){(!t.target||typeof t.target=="string"&&!document.querySelector(t.target)||typeof t.target!="string"&&!t.target.appendChild)&&(Ka('Target parameter is not valid, defaulting to "body"'),t.target="body")}function Iat(t){Cat(t),t.showLoaderOnConfirm&&!t.preConfirm&&Ka(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),Nat(t),typeof t.title=="string"&&(t.title=t.title.split(`
`).join("<br />")),bit(t)}let Hc;var g2=new WeakMap;class Vi{constructor(...e){if(Qnt(this,g2,void 0),typeof window>"u")return;Hc=this;const r=Object.freeze(this.constructor.argsToParams(e));this.params=r,this.isAwaitingPromise=!1,Jnt(g2,this,this._main(Hc.params))}_main(e,r={}){if(ode(Object.assign({},r,e)),Ot.currentInstance){const s=ev.swalPromiseResolve.get(Ot.currentInstance),{isAwaitingPromise:a}=Ot.currentInstance;Ot.currentInstance._destroy(),a||s({isDismissed:!0}),hM()&&zue()}Ot.currentInstance=Hc;const n=Rat(e,r);Iat(n),Object.freeze(n),Ot.timeout&&(Ot.timeout.stop(),delete Ot.timeout),clearTimeout(Ot.restoreFocusTimeout);const i=Pat(Hc);return Fue(Hc,n),Mn.innerParams.set(Hc,n),Oat(Hc,i,n)}then(e){return nY(g2,this).then(e)}finally(e){return nY(g2,this).finally(e)}}const Oat=(t,e,r)=>new Promise((n,i)=>{const s=a=>{t.close({isDismissed:!0,dismiss:a,isConfirmed:!1,isDenied:!1})};ev.swalPromiseResolve.set(t,n),ev.swalPromiseReject.set(t,i),e.confirmButton.onclick=()=>{Pst(t)},e.denyButton.onclick=()=>{jst(t)},e.cancelButton.onclick=()=>{Dst(t,s)},e.closeButton.onclick=()=>{s(zv.close)},Gst(r,e,s),tst(Ot,r,s),Tst(t,r),Tat(r),jat(Ot,r,s),Dat(e,r),setTimeout(()=>{e.container.scrollTop=0})}),Rat=(t,e)=>{const r=pat(t),n=Object.assign({},gg,e,r,t);return n.showClass=Object.assign({},gg.showClass,n.showClass),n.hideClass=Object.assign({},gg.hideClass,n.hideClass),n.animation===!1&&(n.showClass={backdrop:"swal2-noanimation"},n.hideClass={}),n},Pat=t=>{const e={popup:Rr(),container:Xa(),actions:Xb(),confirmButton:uu(),denyButton:Pm(),cancelButton:Vv(),loader:Uv(),closeButton:uM(),validationMessage:xk(),progressSteps:cM()};return Mn.domCache.set(t,e),e},jat=(t,e,r)=>{const n=bk();Pa(n),e.timer&&(t.timeout=new mat(()=>{r("timer"),delete t.timeout},e.timer),e.timerProgressBar&&($s(n),Qo(n,e,"timerProgressBar"),setTimeout(()=>{t.timeout&&t.timeout.running&&mM(e.timer)})))},Dat=(t,e)=>{if(!e.toast){if(!yk(e.allowEnterKey)){Tue("allowEnterKey"),Fat();return}Mat(t)||Lat(t,e)||AO(-1,1)}},Mat=t=>{const e=Array.from(t.popup.querySelectorAll("[autofocus]"));for(const r of e)if(r instanceof HTMLElement&&yo(r))return r.focus(),!0;return!1},Lat=(t,e)=>e.focusDeny&&yo(t.denyButton)?(t.denyButton.focus(),!0):e.focusCancel&&yo(t.cancelButton)?(t.cancelButton.focus(),!0):e.focusConfirm&&yo(t.confirmButton)?(t.confirmButton.focus(),!0):!1,Fat=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};Vi.prototype.disableButtons=Zue;Vi.prototype.enableButtons=Jue;Vi.prototype.getInput=Yue;Vi.prototype.disableInput=tde;Vi.prototype.enableInput=ede;Vi.prototype.hideLoading=sS;Vi.prototype.disableLoading=sS;Vi.prototype.showValidationMessage=rde;Vi.prototype.resetValidationMessage=nde;Vi.prototype.close=jh;Vi.prototype.closePopup=jh;Vi.prototype.closeModal=jh;Vi.prototype.closeToast=jh;Vi.prototype.rejectPromise=que;Vi.prototype.update=lde;Vi.prototype._destroy=cde;Object.assign(Vi,fat);Object.keys(Wst).forEach(t=>{Vi[t]=function(...e){return Hc&&Hc[t]?Hc[t](...e):null}});Vi.DismissReason=zv;Vi.version="11.26.4";const Zl=Vi;Zl.default=Zl;typeof document<"u"&&(function(t,e){var r=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(r),r.styleSheet)r.styleSheet.disabled||(r.styleSheet.cssText=e);else try{r.innerHTML=e}catch{r.innerText=e}})(document,':root{--swal2-outline: 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-container-padding: 0.625em;--swal2-backdrop: rgba(0, 0, 0, 0.4);--swal2-backdrop-transition: background-color 0.15s;--swal2-width: 32em;--swal2-padding: 0 0 1.25em;--swal2-border: none;--swal2-border-radius: 0.3125rem;--swal2-background: white;--swal2-color: #545454;--swal2-show-animation: swal2-show 0.3s;--swal2-hide-animation: swal2-hide 0.15s forwards;--swal2-icon-zoom: 1;--swal2-icon-animations: true;--swal2-title-padding: 0.8em 1em 0;--swal2-html-container-padding: 1em 1.6em 0.3em;--swal2-input-border: 1px solid #d9d9d9;--swal2-input-border-radius: 0.1875em;--swal2-input-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-background: transparent;--swal2-input-transition: border-color 0.2s, box-shadow 0.2s;--swal2-input-hover-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px transparent;--swal2-input-focus-border: 1px solid #b4dbed;--swal2-input-focus-box-shadow: inset 0 1px 1px rgba(0, 0, 0, 0.06), 0 0 0 3px rgba(100, 150, 200, 0.5);--swal2-progress-step-background: #add8e6;--swal2-validation-message-background: #f0f0f0;--swal2-validation-message-color: #666;--swal2-footer-border-color: #eee;--swal2-footer-background: transparent;--swal2-footer-color: inherit;--swal2-timer-progress-bar-background: rgba(0, 0, 0, 0.3);--swal2-close-button-position: initial;--swal2-close-button-inset: auto;--swal2-close-button-font-size: 2.5em;--swal2-close-button-color: #ccc;--swal2-close-button-transition: color 0.2s, box-shadow 0.2s;--swal2-close-button-outline: initial;--swal2-close-button-box-shadow: inset 0 0 0 3px transparent;--swal2-close-button-focus-box-shadow: inset var(--swal2-outline);--swal2-close-button-hover-transform: none;--swal2-actions-justify-content: center;--swal2-actions-width: auto;--swal2-actions-margin: 1.25em auto 0;--swal2-actions-padding: 0;--swal2-actions-border-radius: 0;--swal2-actions-background: transparent;--swal2-action-button-transition: background-color 0.2s, box-shadow 0.2s;--swal2-action-button-hover: black 10%;--swal2-action-button-active: black 10%;--swal2-confirm-button-box-shadow: none;--swal2-confirm-button-border-radius: 0.25em;--swal2-confirm-button-background-color: #7066e0;--swal2-confirm-button-color: #fff;--swal2-deny-button-box-shadow: none;--swal2-deny-button-border-radius: 0.25em;--swal2-deny-button-background-color: #dc3741;--swal2-deny-button-color: #fff;--swal2-cancel-button-box-shadow: none;--swal2-cancel-button-border-radius: 0.25em;--swal2-cancel-button-background-color: #6e7881;--swal2-cancel-button-color: #fff;--swal2-toast-show-animation: swal2-toast-show 0.5s;--swal2-toast-hide-animation: swal2-toast-hide 0.1s forwards;--swal2-toast-border: none;--swal2-toast-box-shadow: 0 0 1px hsl(0deg 0% 0% / 0.075), 0 1px 2px hsl(0deg 0% 0% / 0.075), 1px 2px 4px hsl(0deg 0% 0% / 0.075), 1px 3px 8px hsl(0deg 0% 0% / 0.075), 2px 4px 16px hsl(0deg 0% 0% / 0.075)}[data-swal2-theme=dark]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}@media(prefers-color-scheme: dark){[data-swal2-theme=auto]{--swal2-dark-theme-black: #19191a;--swal2-dark-theme-white: #e1e1e1;--swal2-background: var(--swal2-dark-theme-black);--swal2-color: var(--swal2-dark-theme-white);--swal2-footer-border-color: #555;--swal2-input-background: color-mix(in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10%);--swal2-validation-message-background: color-mix( in srgb, var(--swal2-dark-theme-black), var(--swal2-dark-theme-white) 10% );--swal2-validation-message-color: var(--swal2-dark-theme-white);--swal2-timer-progress-bar-background: rgba(255, 255, 255, 0.7)}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px var(--swal2-backdrop)}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:var(--swal2-container-padding);overflow-x:hidden;transition:var(--swal2-backdrop-transition);-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:var(--swal2-backdrop)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container)[popover]{width:auto;border:0}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:var(--swal2-width);max-width:100%;padding:var(--swal2-padding);border:var(--swal2-border);border-radius:var(--swal2-border-radius);background:var(--swal2-background);color:var(--swal2-color);font-family:inherit;font-size:1rem;container-name:swal2-popup}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable{cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-draggable div:where(.swal2-icon){cursor:grab}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging{cursor:grabbing}div:where(.swal2-container) div:where(.swal2-popup).swal2-dragging div:where(.swal2-icon){cursor:grabbing}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:var(--swal2-title-padding);color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;overflow-wrap:break-word;cursor:initial}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:var(--swal2-actions-justify-content);width:var(--swal2-actions-width);margin:var(--swal2-actions-margin);padding:var(--swal2-actions-padding);border-radius:var(--swal2-actions-border-radius);background:var(--swal2-actions-background)}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:var(--swal2-action-button-transition);border:none;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border-radius:var(--swal2-confirm-button-border-radius);background:initial;background-color:var(--swal2-confirm-button-background-color);box-shadow:var(--swal2-confirm-button-box-shadow);color:var(--swal2-confirm-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):hover{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):active{background-color:color-mix(in srgb, var(--swal2-confirm-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border-radius:var(--swal2-deny-button-border-radius);background:initial;background-color:var(--swal2-deny-button-background-color);box-shadow:var(--swal2-deny-button-box-shadow);color:var(--swal2-deny-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):hover{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):active{background-color:color-mix(in srgb, var(--swal2-deny-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border-radius:var(--swal2-cancel-button-border-radius);background:initial;background-color:var(--swal2-cancel-button-background-color);box-shadow:var(--swal2-cancel-button-box-shadow);color:var(--swal2-cancel-button-color);font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):hover{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-hover))}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):active{background-color:color-mix(in srgb, var(--swal2-cancel-button-background-color), var(--swal2-action-button-active))}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none;box-shadow:var(--swal2-action-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-styled)[disabled]:not(.swal2-loading){opacity:.4}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid var(--swal2-footer-border-color);background:var(--swal2-footer-background);color:var(--swal2-footer-color);font-size:1em;text-align:center;cursor:initial}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:var(--swal2-border-radius);border-bottom-left-radius:var(--swal2-border-radius)}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:var(--swal2-timer-progress-bar-background)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em;cursor:initial}div:where(.swal2-container) button:where(.swal2-close){position:var(--swal2-close-button-position);inset:var(--swal2-close-button-inset);z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:var(--swal2-close-button-transition);border:none;border-radius:var(--swal2-border-radius);outline:var(--swal2-close-button-outline);background:rgba(0,0,0,0);color:var(--swal2-close-button-color);font-family:monospace;font-size:var(--swal2-close-button-font-size);cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:var(--swal2-close-button-hover-transform);background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:var(--swal2-close-button-focus-box-shadow)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-html-container){z-index:1;justify-content:center;margin:0;padding:var(--swal2-html-container-padding);overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;overflow-wrap:break-word;word-break:break-word;cursor:initial}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:var(--swal2-input-transition);border:var(--swal2-input-border);border-radius:var(--swal2-input-border-radius);background:var(--swal2-input-background);box-shadow:var(--swal2-input-box-shadow);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):hover,div:where(.swal2-container) input:where(.swal2-file):hover,div:where(.swal2-container) textarea:where(.swal2-textarea):hover{box-shadow:var(--swal2-input-hover-box-shadow)}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:var(--swal2-input-focus-border);outline:none;box-shadow:var(--swal2-input-focus-box-shadow)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:var(--swal2-background)}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:var(--swal2-input-background);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:var(--swal2-input-background);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:var(--swal2-background);color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:var(--swal2-validation-message-background);color:var(--swal2-validation-message-color);font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:var(--swal2-progress-step-background);color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:var(--swal2-progress-step-background)}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;zoom:var(--swal2-icon-zoom);border:.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}}div:where(.swal2-icon).swal2-warning{border-color:#f8bb86;color:#f8bb86}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}}div:where(.swal2-icon).swal2-info{border-color:#3fc3ee;color:#3fc3ee}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}}div:where(.swal2-icon).swal2-question{border-color:#87adbd;color:#87adbd}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}@container swal2-popup style(--swal2-icon-animations:true){div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:var(--swal2-show-animation)}.swal2-hide{animation:var(--swal2-hide-animation)}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;border:var(--swal2-toast-border);background:var(--swal2-background);box-shadow:var(--swal2-toast-box-shadow);pointer-events:all}.swal2-toast>*{grid-column:2}.swal2-toast h2:where(.swal2-title){margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-toast .swal2-loading{justify-content:center}.swal2-toast input:where(.swal2-input){height:2em;margin:.5em;font-size:1em}.swal2-toast .swal2-validation-message{font-size:1em}.swal2-toast div:where(.swal2-footer){margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-toast button:where(.swal2-close){grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-toast div:where(.swal2-html-container){margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-toast div:where(.swal2-html-container):empty{padding:0}.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-toast div:where(.swal2-actions){justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-toast button:where(.swal2-styled){margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}@container swal2-popup style(--swal2-icon-animations:true){.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}}.swal2-toast.swal2-show{animation:var(--swal2-toast-show-animation)}.swal2-toast.swal2-hide{animation:var(--swal2-toast-hide-animation)}@keyframes swal2-show{0%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}100%{transform:translate3d(0, 0, 0) scale(1);opacity:1}}@keyframes swal2-hide{0%{transform:translate3d(0, 0, 0) scale(1);opacity:1}100%{transform:translate3d(0, -50px, 0) scale(0.9);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}');const A5=Object.freeze(Object.defineProperty({__proto__:null,default:Zl},Symbol.toStringTag,{value:"Module"}));let v2=null;const bM=async()=>v2||(v2=await Gb(),v2),Ek=(t,e)=>{if(!e)return{param:t.guest,type:"guest"};const r=e.role;return r==="admin"?{param:t.admin,type:"admin"}:["lanh_dao","quan_ly"].includes(r)?{param:t.manager,type:"manager"}:r==="giao_vien"?{param:t.teacher,type:"teacher"}:e.isVip?{param:t.vip_user,type:"vip"}:e.class&&e.class.length>0||e.isVerified?{param:t.verified_user,type:"verified"}:{param:t.free_user,type:"free"}},pde=t=>{const e=new Date;if(t==="daily")return e.toLocaleDateString("vi-VN");{const r=e.getDay()||7;return r!==1?e.setHours(-24*(r-1)):e.setHours(0,0,0,0),`W-${e.getFullYear()}-${e.getMonth()+1}-${e.getDate()}`}},mY=async t=>{const e=await bM(),{param:r}=Ek(e,t);if(!r.isEnabled)return"ALLOWED";const i=`${t?`usage_user_${t.id}`:"usage_guest"}_${r.period}`,s=pde(r.period);let a={date:s,count:0};const o=localStorage.getItem(i);if(o)try{const l=JSON.parse(o);l.date===s&&(a=l)}catch(l){console.error("Error parsing usage data",l)}return console.log(`[Usage Check] ${i} - Used: ${a.count}/${r.limit}`),a.count>=r.limit?"BLOCKED":"ALLOWED"},pY=async t=>{const e=await bM(),{param:r}=Ek(e,t);if(!r.isEnabled)return;const i=`${t?`usage_user_${t.id}`:"usage_guest"}_${r.period}`,s=pde(r.period);let a={date:s,count:0};const o=localStorage.getItem(i);if(o)try{const l=JSON.parse(o);l.date===s&&(a=l)}catch{}a.count++,console.log(`[Usage] Incremented usage for ${i}: ${a.count}`),localStorage.setItem(i,JSON.stringify(a))},gY=async(t,e)=>{const r=await bM(),{param:n,type:i}=Ek(r,t),s=n.message.replace("{limit}",n.limit.toString()),a=i==="guest";Zl.fire({title:"Ht lt lm bi!",text:s,icon:"warning",showCancelButton:!0,confirmButtonText:a?"ng nhp ngay":"Lin h thy",cancelButtonText:"ng",confirmButtonColor:"#3085d6",cancelButtonColor:"#d33"}).then(o=>{o.isConfirmed&&(a?e():window.open("https://zalo.me/02296282969","_blank"))})},Bat=({userProfile:t})=>{const[e,r]=C.useState(!1);C.useEffect(()=>{(async()=>{try{const l=await Gb(),{param:u}=Ek(l,t);u.showAds?(r(!0),n(),a()):(r(!1),i(),s())}catch(l){console.error("Error checking AdSense config:",l)}})()},[t]);const n=()=>{if(document.getElementById("google-adsense-script"))return;const l=document.createElement("script");l.id="google-adsense-script",l.async=!0,l.src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-6121118706628509",l.crossOrigin="anonymous",document.head.appendChild(l),console.log(" Google AdSense Script Loaded (Allowed for this role)")},i=()=>{const o=document.getElementById("google-adsense-script");o&&(o.remove(),console.log(" Google AdSense Script Removed (Blocked for this role)"))},s=()=>{if(document.getElementById("adsense-blocker-style"))return;const o=document.createElement("style");o.id="adsense-blocker-style",o.innerHTML=`
            .adsbygoogle, .google-auto-placed, ins.adsbygoogle {
                display: none !important;
                visibility: hidden !important;
                height: 0 !important;
                width: 0 !important;
                overflow: hidden !important;
                position: absolute !important;
                pointer-events: none !important;
                z-index: -9999 !important;
            }
        `,document.head.appendChild(o),console.log(" AdSense Blocker Style Injected")},a=()=>{const o=document.getElementById("adsense-blocker-style");o&&(o.remove(),console.log(" AdSense Blocker Style Removed"))};return null},Vat=({userProfile:t,currentScreen:e,onNavigate:r,onLogout:n})=>{const[i,s]=C.useState(!1),a=C.useRef(null);C.useEffect(()=>{const g=v=>{a.current&&!a.current.contains(v.target)&&s(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const o=g=>!!(g==="dashboard"&&(e==="dashboard"||e.startsWith("in_"))||g==="account"&&e==="account"),l=g=>{r(g),s(!1)},u=[{name:"Tin tc",icon:qke,action:()=>window.location.href="/",active:!1,key:"news"},{name:"n tp",icon:Oke,action:()=>l("dashboard"),active:o("dashboard"),key:"dashboard"},{name:"Ti khon",icon:tAe,action:()=>l("account"),active:o("account"),key:"account"}],d=[];t&&(d.push({name:"Lch s thi",icon:b1,action:()=>l("history"),color:"text-purple-600"}),["admin","lanh_dao","quan_ly","giao_vien"].includes(t.role)?(d.push({name:"Qun l lp",icon:y0,action:()=>l("class_management"),color:"text-indigo-600"}),d.push({name:"Qun l TB",icon:bv,action:()=>l("notification_mgmt"),color:"text-red-500"})):d.push({name:"Lp ca ti",icon:_te,action:()=>l("my_class"),color:"text-green-600"}));const f=()=>s(!i);return m.jsxs(m.Fragment,{children:[m.jsx("div",{ref:a,className:`fixed bottom-24 right-4 z-[10000] md:hidden transition-all duration-300 origin-bottom-right ${i?"opacity-100 scale-100 translate-y-0":"opacity-0 scale-90 translate-y-4 pointer-events-none"}`,children:m.jsx("div",{className:"bg-white/95 dark:bg-slate-900/95 backdrop-blur-xl border border-white/20 shadow-2xl rounded-2xl p-4 w-56 flex flex-col gap-2",children:t?m.jsxs(m.Fragment,{children:[m.jsx("div",{className:"text-xs font-semibold text-gray-400 dark:text-gray-500 mb-2 uppercase tracking-wider border-b border-gray-200 dark:border-gray-700 pb-2",children:"Menu m rng"}),d.map((g,v)=>{const x=g.icon;return m.jsxs("button",{onClick:()=>{g.action(),s(!1)},className:"flex items-center gap-3 w-full p-2 rounded-xl hover:bg-gray-100 dark:hover:bg-slate-800 transition-colors group",children:[m.jsx("div",{className:`p-2 rounded-lg bg-gray-50 dark:bg-slate-800 group-hover:bg-white dark:group-hover:bg-slate-700 shadow-sm ${g.color}`,children:m.jsx(x,{})}),m.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-200",children:g.name})]},v)}),m.jsx("div",{className:"h-px bg-gray-200 dark:bg-gray-700 my-1"}),m.jsxs("button",{onClick:()=>{n(),s(!1)},className:"flex items-center gap-3 w-full p-2 rounded-xl hover:bg-red-50 dark:hover:bg-red-900/20 text-red-600 transition-colors",children:[m.jsx("div",{className:"p-2 rounded-lg bg-red-100 dark:bg-red-900/30",children:m.jsx(Kke,{})}),m.jsx("span",{className:"text-sm font-medium",children:"ng xut"})]})]}):m.jsx("button",{onClick:()=>{l("login"),s(!1)},className:"w-full py-2 bg-blue-600 text-white rounded-xl font-bold hover:bg-blue-700 transition",children:"ng nhp ngay"})})}),m.jsx("div",{className:"fixed bottom-4 left-4 right-4 z-[9999] md:hidden animate-fade-in-up",children:m.jsxs("div",{className:"bg-white/90 dark:bg-slate-900/90 backdrop-blur-lg border border-white/20 shadow-2xl rounded-2xl p-2 flex justify-between items-center relative overflow-hidden",children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-transparent via-white/10 to-transparent skew-x-12 animate-shine pointer-events-none"}),u.map(g=>{const v=g.icon,x=g.active;return m.jsxs("button",{onClick:g.action,className:`relative flex flex-col items-center justify-center w-full py-2 transition-all duration-300 group ${x?"-translate-y-1":""}`,children:[x&&m.jsx("div",{className:"absolute top-1 w-10 h-10 bg-indigo-500/20 rounded-full blur-md"}),m.jsx(v,{className:`text-2xl mb-1 transition-all duration-300 drop-shadow-sm ${x?"text-indigo-600 dark:text-indigo-400 scale-110 filter drop-shadow-[0_2px_4px_rgba(79,70,229,0.3)]":"text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300"}`}),m.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${x?"text-indigo-600 dark:text-indigo-400 opacity-100":"text-gray-400 dark:text-gray-500 opacity-80 group-hover:opacity-100"}`,children:g.name}),x&&m.jsx("span",{className:"absolute -bottom-1 w-1 h-1 bg-indigo-600 rounded-full"})]},g.key)}),m.jsxs("button",{onClick:f,className:`relative flex flex-col items-center justify-center w-full py-2 transition-all duration-300 group ${i?"-translate-y-1":""}`,children:[i&&m.jsx("div",{className:"absolute top-1 w-10 h-10 bg-orange-500/20 rounded-full blur-md"}),i?m.jsx(zu,{className:"text-2xl mb-1 text-orange-600 dark:text-orange-400 scale-110 transition-all duration-300"}):m.jsx(Nke,{className:"text-2xl mb-1 text-gray-400 dark:text-gray-500 group-hover:text-gray-600 dark:group-hover:text-gray-300 transition-all duration-300"}),m.jsx("span",{className:`text-[10px] font-bold transition-all duration-300 ${i?"text-orange-600 dark:text-orange-400 opacity-100":"text-gray-400 dark:text-gray-500 opacity-80 group-hover:opacity-100"}`,children:"Thm"})]})]})})]})},Uat=()=>{const{user:t}=fk(),[e,r]=C.useState(""),[n,i]=C.useState(""),[s,a]=C.useState(""),[o,l]=C.useState(!1),[u,d]=C.useState(""),[f,g]=C.useState(""),[v,x]=C.useState(!1),[b,w]=C.useState(null),[E,k]=C.useState([]),[A,O]=C.useState(null),P=async R=>{R.preventDefault(),a(""),l(!0);try{let D=e.trim();D.includes("@")||(D=`${D}@daotaothuyenvien.com`),await kI(js,D,n)}catch(D){console.error(D),a("Tn ng nhp hoc mt khu khng ng.")}finally{l(!1)}};C.useEffect(()=>{(async()=>{if(t&&t.uid)try{const D=await ed(Ht(Ye,"users",t.uid));if(D.exists()){const M=D.data(),L=M.courseId;if(L){const U=pr(qt(Ye,"exam_rooms"),kr("course_id","==",L),kr("status","in",["waiting","in_progress"]),po("created_at","desc"),El(1)),le=await _n(U);if(!le.empty){const ue=le.docs[0];d(ue.id),g(` tm thy phng thi cho lp ${M.courseName||""}. Vui lng nhn "VO THI NGAY".`)}}}}catch(D){console.error("Auto-join check failed:",D)}})()},[t]);const j=async()=>{var R;if(!u){ln.error("Vui lng nhp m phng thi.");return}l(!0);try{const D=await ed(Ht(Ye,"exam_rooms",u));if(!D.exists()){ln.error("Phng thi khng tn ti."),l(!1);return}const M=D.data();if(M.status==="finished"){ln.error("Phng thi  kt thc."),l(!1);return}if(M.password&&M.password!==n){ln.error("Mt khu phng thi khng ng."),l(!1);return}const L=M.license_id;let U=$E.from("questions").select("*").eq("license_id",L);M.subject_id&&(U=U.eq("subject_id",M.subject_id));const{data:le,error:ue}=await U;if(ue){console.error("Supabase Error:",ue),ln.error("Li kt ni d liu cu hi."),l(!1);return}if(!le||le.length===0){ln.error("Khng tm thy cu hi ph hp!"),l(!1);return}const Q=le.map(he=>({id:he.id,content:he.question,options:he.options,correctAnswerId:he.correct_answer,explanation:he.explanation,image:he.image})).sort(()=>.5-Math.random()).slice(0,30);if(k(Q),w({id:D.id,...M}),t){const he=await ed(Ht(Ye,"users",t.uid)),Z=he.exists()?he.data():null;O(Z);const ge=fo(oa,`exam_progress/${D.id}/${t.uid}`),H={user_name:(Z==null?void 0:Z.fullName)||t.displayName||t.email,user_email:t.email,user_sbd:((R=t.email)==null?void 0:R.split("@")[0])||"",status:"doing",joined_at:v0(),total_questions:Q.length,score:0,time_left:(M.duration||45)*60,last_updated:v0()};await l4(ge,H),ate(ge).update({status:"offline"})}x(!0),ln.success(" vo phng thi thnh cng!")}catch(D){console.error("Error joining room:",D),ln.error("Li khi vo phng thi.")}finally{l(!1)}},S=async(R,D,M)=>{if(!t||!b)return;let L=0;E.forEach(ue=>{M[ue.id]===ue.correctAnswerId&&L++});const U=L/E.length*10,le=fo(oa,`exam_progress/${b.id}/${t.uid}`);HI(le,{current_question_index:R,time_left:D,answers_count:Object.keys(M).length,score:U,last_updated:v0(),status:"doing"}).catch(ue=>console.error("RTDB Update Error:",ue))},I=async R=>{if(!t||!b)return;let D=0;E.forEach(U=>{R[U.id]===U.correctAnswerId&&D++});const M=D/E.length*10,L=M>=5;try{const U=fo(oa,`exam_progress/${b.id}/${t.uid}`);await HI(U,{status:"submitted",score:M,time_left:0,finished_at:v0()}),await Zh(qt(Ye,"exam_results"),{room_id:b.id,user_id:t.uid,user_name:(A==null?void 0:A.fullName)||t.email,score:M,correct_count:D,total_questions:E.length,answers:R,submitted_at:sa(),is_pass:L}),ln.success(` np bi! im s: ${M.toFixed(1)}`),x(!1),w(null),k([])}catch(U){console.error("Error submitting exam:",U),ln.error("Li khi np bi.")}};return v&&b&&E.length>0?m.jsx("div",{className:"min-h-screen bg-gray-100 p-4",children:m.jsx(_re,{quiz:{id:b.id,title:b.name,questions:E,timeLimit:(b.duration||45)*60},onFinish:I,onBack:()=>{window.confirm("Bn c chc mun thot? Kt qu s khng c lu.")&&x(!1)},userName:(A==null?void 0:A.fullName)||(t==null?void 0:t.email)||"",userProfile:A,selectedLicense:{id:b.license_id,name:`Hng ${b.license_id}`,subjects:[]},onProgressUpdate:S})}):m.jsxs("div",{className:"min-h-screen flex flex-col font-sans text-[#333]",children:[m.jsx("div",{className:"bg-white",children:m.jsxs("div",{className:"w-full h-[150px] bg-cover bg-center relative",style:{backgroundImage:"url('/ontap/assets/img/banner1.png')"},children:[m.jsx("div",{className:"absolute inset-0 bg-gradient-to-r from-blue-400 to-blue-200 opacity-50"}),m.jsx("div",{className:"container mx-auto h-full flex items-center px-4 relative z-10",children:m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("img",{src:"/ontap/assets/img/logo1.ico",alt:"Logo",className:"h-24 w-24 object-contain",onError:R=>R.currentTarget.src="https://via.placeholder.com/100?text=LOGO"}),m.jsxs("div",{className:"text-blue-800 uppercase font-bold drop-shadow-sm",children:[m.jsx("h1",{className:"text-3xl",children:"CNG TY CP T VN V GIO DC NINH BNH"}),m.jsx("h2",{className:"text-xl text-red-600 mt-1",children:"NINH BINH CONSULTING AND EDUCATION JOINT STOCK COMPANY"})]})]})})]})}),m.jsx("div",{className:"flex-grow bg-white flex justify-center pt-10 pb-20",children:m.jsx("div",{className:"w-full max-w-4xl px-4",children:t?m.jsxs("div",{className:"max-w-md mx-auto",children:[t.email&&!t.email.endsWith("@daotaothuyenvien.com")&&m.jsx("div",{className:"bg-yellow-50 border-l-4 border-yellow-400 p-4 mb-6 shadow-sm",children:m.jsxs("div",{className:"flex",children:[m.jsx("div",{className:"flex-shrink-0",children:m.jsx("svg",{className:"h-5 w-5 text-yellow-400",viewBox:"0 0 20 20",fill:"currentColor",children:m.jsx("path",{fillRule:"evenodd",d:"M8.257 3.099c.765-1.36 2.722-1.36 3.486 0l5.58 9.92c.75 1.334-.213 2.98-1.742 2.98H4.42c-1.53 0-2.493-1.646-1.743-2.98l5.58-9.92zM11 13a1 1 0 11-2 0 1 1 0 012 0zm-1-8a1 1 0 00-1 1v3a1 1 0 002 0V6a1 1 0 00-1-1z",clipRule:"evenodd"})})}),m.jsxs("div",{className:"ml-3",children:[m.jsxs("p",{className:"text-sm text-yellow-700",children:["Bn ang ng nhp l ",m.jsx("strong",{className:"font-bold",children:t.displayName||t.email}),"."]}),m.jsxs("p",{className:"text-sm text-yellow-700 mt-1",children:["Nu y l ti khon c nhn, vui lng ng xut  ng nhp bng ",m.jsx("strong",{children:"S Bo Danh"}),"."]}),m.jsx("div",{className:"mt-2",children:m.jsx("button",{onClick:async()=>{await js.signOut(),window.location.href="/ontap/thitructuyen"},className:"text-sm font-bold text-red-600 hover:text-red-800 underline",children:"ng xut & ng nhp li"})})]})]})}),m.jsxs("div",{className:"text-center mb-6",children:[m.jsx("h2",{className:"text-xl font-bold text-blue-700 uppercase",children:"Khu vc Thi Trc Tuyn"}),m.jsxs("p",{className:"text-gray-600 mt-2",children:["Xin cho, ",m.jsx("strong",{className:"text-blue-900",children:t.displayName||t.email})]})]}),m.jsxs("fieldset",{className:"border border-gray-300 p-6 rounded-sm shadow-sm bg-blue-50/30",children:[m.jsx("legend",{className:"px-2 text-blue-800 font-bold text-sm bg-white border border-gray-200 rounded shadow-sm",children:"Vo Phng Thi"}),m.jsxs("div",{className:"space-y-4 mt-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold text-gray-700 mb-1",children:"M phng thi (Room ID):"}),m.jsx("input",{type:"text",placeholder:"Nhp m phng do gim th cung cp...",value:u,onChange:R=>d(R.target.value),className:"w-full border border-gray-300 px-3 py-2 text-sm focus:outline-none focus:border-blue-400 rounded-sm shadow-inner"}),f&&m.jsx("p",{className:"text-green-600 text-xs mt-1 font-bold",children:f})]}),m.jsxs("button",{onClick:j,disabled:o,className:"w-full bg-[#2962ff] text-white px-4 py-2.5 text-sm font-bold rounded-sm hover:bg-blue-700 transition-all shadow-md flex justify-center items-center gap-2 disabled:opacity-70",children:[o?m.jsx("span",{className:"animate-spin",children:""}):m.jsx("span",{children:"VO THI NGAY"}),!o&&m.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:2,stroke:"currentColor",className:"w-4 h-4",children:m.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3"})})]})]})]}),m.jsx("div",{className:"mt-6 text-center",children:m.jsx("a",{href:"/ontap",className:"text-sm text-gray-500 hover:text-blue-600 hover:underline",children:" Quay li n tp"})})]}):m.jsxs(m.Fragment,{children:[m.jsxs("div",{className:"text-center mb-8 text-sm text-gray-700 space-y-1",children:[m.jsx("p",{children:"Vui lng nhp ti khon v mt khu  ng nhp."}),m.jsx("p",{children:"Nu bn cha c ti khon hoc qun mt khu vui lng lin h gim th coi thi!"}),m.jsxs("p",{children:["Nu bn mun tra kt qu hc tp, hy vo ",m.jsx("a",{href:"/ontap",className:"text-blue-600 font-bold hover:underline",children:"TRA CU IM"})]}),m.jsxs("p",{children:["Nu bn mun n tp hoc thi th, hy vo ",m.jsx("a",{href:"/ontap",className:"text-blue-600 font-bold hover:underline",children:"THI TH"})]})]}),m.jsx("div",{className:"max-w-md mx-auto",children:m.jsxs("fieldset",{className:"border border-gray-300 p-6 rounded-sm shadow-sm",children:[m.jsx("legend",{className:"px-2 text-gray-700 font-bold text-sm",children:"Thng tin ng nhp"}),m.jsxs("form",{onSubmit:P,className:"space-y-4 mt-2",children:[m.jsxs("div",{className:"flex items-center",children:[m.jsx("label",{className:"w-32 text-sm font-bold text-gray-700",children:"S bo danh:"}),m.jsx("input",{type:"text",value:e,onChange:R=>r(R.target.value),className:"flex-1 border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:border-blue-400 rounded-sm",required:!0})]}),m.jsxs("div",{className:"flex items-center",children:[m.jsx("label",{className:"w-32 text-sm font-bold text-gray-700",children:"Mt khu:"}),m.jsx("input",{type:"password",value:n,onChange:R=>i(R.target.value),className:"flex-1 border border-gray-300 px-2 py-1.5 text-sm focus:outline-none focus:border-blue-400 rounded-sm",required:!0})]}),s&&m.jsx("p",{className:"text-red-500 text-xs text-center",children:s}),m.jsx("div",{className:"flex justify-end mt-6",children:m.jsx("button",{type:"submit",disabled:o,className:"bg-[#2962ff] text-white px-6 py-1.5 text-sm font-bold rounded-sm hover:bg-blue-700 transition-colors shadow-sm",children:o?"ang x l...":"ng nhp"})})]})]})})]})})}),m.jsxs("div",{className:"bg-[#0d47a1] text-white py-4 text-center text-xs space-y-1",children:[m.jsx("p",{className:"uppercase font-bold",children:"Cng ty c phn T vn v Gio dc Ninh Bnh"}),m.jsx("p",{children:"ng Triu Vit Vng - Phng Hoa L - Tnh Ninh Bnh"}),m.jsx("p",{children:"022.96.282.969"}),m.jsx("p",{children:"ninhbinheduco.jsc@gmail.com"}),m.jsx("p",{children:"giaoducninhbinh@daotaothuyenvien.com"})]})]})},zat=()=>{const{roomId:t}=Mfe(),e=uS(),[r,n]=C.useState(null),[i,s]=C.useState(!0),[a,o]=C.useState([]);C.useEffect(()=>{if(!t)return;const g=Ht(Ye,"exam_rooms",t),v=Ho(g,w=>{w.exists()?n({id:w.id,...w.data()}):(ln.error("Phng thi khng tn ti!"),e("/admin/exam-manager")),s(!1)},w=>{console.error("Error fetching room:",w),s(!1)}),x=fo(oa,`exam_progress/${t}`),b=nx(x,w=>{if(w.exists()){const E=w.val(),k=Object.keys(E).map(A=>({uid:A,...E[A]}));o(k)}else o([])});return()=>{v(),b()}},[t,e]);const l=async g=>{if(r)try{await Un(Ht(Ye,"exam_rooms",r.id),{status:g}),ln.success(` cp nht trng thi: ${g}`)}catch{ln.error("Li cp nht trng thi")}},u=async()=>{if(!(!r||!window.confirm("Bn c chc chn mun xa phng thi ny?")))try{await WS(Ht(Ye,"exam_rooms",r.id)),ln.success(" xa phng thi"),e("/admin/exam-manager")}catch{ln.error("Li xa phng thi")}},d=async(g,v)=>{if(window.confirm(`Mi th sinh ${v} ra khi phng?`))try{await $I(fo(oa,`exam_progress/${t}/${g}`)),ln.success(` mi ${v} ra khi phng`)}catch{ln.error("Li khi mi th sinh")}},f=async(g,v)=>{if(window.confirm(`Buc th sinh ${v} np bi?`))try{await HI(fo(oa,`exam_progress/${t}/${g}`),{status:"submitted",force_submit:!0}),ln.success(` buc ${v} np bi`)}catch{ln.error("Li khi buc np bi")}};return i?m.jsx("div",{className:"p-8 text-center",children:"ang ti thng tin phng thi..."}):r?m.jsxs("div",{className:"max-w-6xl mx-auto p-6 space-y-6",children:[m.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:m.jsxs("div",{className:"flex justify-between items-start",children:[m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-2",children:r.name}),m.jsxs("div",{className:"flex gap-4 text-sm text-gray-600",children:[m.jsx("span",{className:"bg-blue-50 text-blue-700 px-3 py-1 rounded-full",children:r.license_id?`Hng ${r.license_id}`:"T do"}),m.jsxs("span",{className:"bg-gray-100 px-3 py-1 rounded-full",children:[r.duration," pht"]}),m.jsx("span",{className:`px-3 py-1 rounded-full ${r.status==="in_progress"?"bg-green-100 text-green-700":r.status==="finished"?"bg-red-100 text-red-700":"bg-yellow-100 text-yellow-700"}`,children:r.status==="waiting"?"ang ch":r.status==="in_progress"?"ang din ra":" kt thc"})]})]}),m.jsxs("div",{className:"flex gap-2",children:[r.status==="waiting"&&m.jsxs("button",{onClick:()=>l("in_progress"),className:"flex items-center gap-2 px-4 py-2 bg-green-600 text-white rounded-lg hover:bg-green-700",children:[m.jsx(Gke,{})," Bt u"]}),r.status==="in_progress"&&m.jsxs("button",{onClick:()=>l("finished"),className:"flex items-center gap-2 px-4 py-2 bg-red-600 text-white rounded-lg hover:bg-red-700",children:[m.jsx(Xke,{})," Kt thc"]}),m.jsxs("button",{onClick:u,className:"flex items-center gap-2 px-4 py-2 border border-red-200 text-red-600 rounded-lg hover:bg-red-50",children:[m.jsx(Gc,{})," Xa phng"]})]})]})}),m.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100 overflow-hidden",children:[m.jsx("div",{className:"p-6 border-b border-gray-100 flex justify-between items-center",children:m.jsxs("h2",{className:"text-lg font-semibold flex items-center gap-2",children:[m.jsx(zh,{className:"text-blue-500"}),"Danh sch th sinh (",a.length,")"]})}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full text-left",children:[m.jsx("thead",{className:"bg-gray-50 text-gray-600 text-sm uppercase",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-4",children:"Th sinh"}),m.jsx("th",{className:"px-6 py-4",children:"SBD"}),m.jsx("th",{className:"px-6 py-4",children:"Trng thi"}),m.jsx("th",{className:"px-6 py-4",children:"Tin "}),m.jsx("th",{className:"px-6 py-4",children:"im tm tnh"}),m.jsx("th",{className:"px-6 py-4",children:"Thi gian cn"}),m.jsx("th",{className:"px-6 py-4 text-right",children:"Thao tc"})]})}),m.jsx("tbody",{className:"divide-y divide-gray-100",children:a.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:7,className:"px-6 py-8 text-center text-gray-500",children:"Cha c th sinh no tham gia"})}):a.map(g=>m.jsxs("tr",{className:"hover:bg-gray-50",children:[m.jsxs("td",{className:"px-6 py-4 font-medium text-gray-800",children:[g.user_name,m.jsx("div",{className:"text-xs text-gray-400 font-normal",children:g.user_email})]}),m.jsx("td",{className:"px-6 py-4 text-gray-600",children:g.user_sbd}),m.jsx("td",{className:"px-6 py-4",children:m.jsx("span",{className:`px-2 py-1 rounded text-xs font-medium ${g.status==="doing"?"bg-blue-100 text-blue-700":g.status==="submitted"?"bg-green-100 text-green-700":g.status==="offline"?"bg-gray-100 text-gray-500":"bg-yellow-100 text-yellow-700"}`,children:g.status==="doing"?"ang lm bi":g.status==="submitted"?" np":g.status==="offline"?"Mt kt ni":" vo"})}),m.jsxs("td",{className:"px-6 py-4 text-gray-600",children:[g.answers_count||0,"/",g.total_questions||0," cu"]}),m.jsx("td",{className:"px-6 py-4 font-bold text-blue-600",children:g.score!==void 0?g.score.toFixed(1):"--"}),m.jsx("td",{className:"px-6 py-4 text-gray-600",children:g.time_left?`${Math.floor(g.time_left/60)}p ${g.time_left%60}s`:"--"}),m.jsxs("td",{className:"px-6 py-4 text-right space-x-2",children:[m.jsx("button",{onClick:()=>f(g.uid,g.user_name),title:"Buc np bi",className:"p-2 text-yellow-600 hover:bg-yellow-50 rounded",children:m.jsx(hte,{})}),m.jsx("button",{onClick:()=>d(g.uid,g.user_name),title:"Mi ra khi phng",className:"p-2 text-red-600 hover:bg-red-50 rounded",children:m.jsx(iAe,{})})]})]},g.uid))})]})})]})]}):m.jsx("div",{className:"p-8 text-center",children:"Khng tm thy phng thi"})},$at=({userProfile:t,onBack:e})=>{const[r,n]=C.useState([]),[i,s]=C.useState(!1),[a,o]=C.useState(!1),[l,u]=C.useState(""),[d,f]=C.useState(45),[g,v]=C.useState(""),[x,b]=C.useState(""),[w,E]=C.useState(null),[k,A]=C.useState([]),[O,P]=C.useState([]),[j,S]=C.useState("");C.useEffect(()=>{I(),Pn(async()=>{const{fetchLicenses:M}=await Promise.resolve().then(()=>wM);return{fetchLicenses:M}},void 0).then(({fetchLicenses:M})=>{M().then(A)}),(async()=>{const M=pr(qt(Ye,"courses"),po("createdAt","desc")),L=await _n(M);P(L.docs.map(U=>({id:U.id,...U.data()})))})()},[]);const I=async()=>{var D;s(!0);try{let M;["admin","quan_ly","lanh_dao"].includes(t.role)?M=pr(qt(Ye,"exam_rooms"),po("created_at","desc")):M=pr(qt(Ye,"exam_rooms"),kr("teacher_id","==",t.id),po("created_at","desc"));const U=(await _n(M)).docs.map(le=>({id:le.id,...le.data()}));n(U)}catch(M){console.error("Error fetching rooms:",M),(M==null?void 0:M.code)==="permission-denied"?ln.error("Bn khng c quyn truy cp danh sch phng thi."):(D=M==null?void 0:M.message)!=null&&D.includes("index")?ln.warning("H thng ang khi to d liu (To Index). Vui lng i 1-2 pht ri ti li trang."):ln.error("Khng th ti danh sch phng thi. Vui lng kim tra kt ni.")}finally{s(!1)}},R=async D=>{if(D.preventDefault(),!l||!x){ln.error("Vui lng in y  thng tin.");return}const M=k.find(U=>U.id===x),L=O.find(U=>U.id===j);try{await Zh(qt(Ye,"exam_rooms"),{room_name:l,license_id:x,license_name:(M==null?void 0:M.name)||"Unknown",teacher_id:t.id,teacher_name:t.full_name||t.email||"Unknown",status:"waiting",duration:Number(d),password:g||null,created_at:sa(),is_paused:!1,course_id:j||null,course_name:(L==null?void 0:L.name)||null}),ln.success("To phng thi thnh cng!"),o(!1),u(""),v(""),S(""),I()}catch(U){console.error(U),ln.error("Li khi to phng.")}};return w?m.jsx(zat,{roomId:w,onBack:()=>{E(null),I()}}):m.jsxs("div",{className:"p-6 max-w-7xl mx-auto font-sans text-gray-800",children:[m.jsxs("div",{className:"flex justify-between items-center mb-6",children:[m.jsx("h1",{className:"text-2xl font-bold text-blue-800",children:"Qun l Thi Trc Tuyn"}),m.jsxs("div",{className:"flex gap-2",children:[m.jsx("button",{onClick:e,className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Quay li"}),m.jsxs("button",{onClick:()=>o(!0),className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700 flex items-center gap-2",children:[m.jsx(Th,{})," To Phng Thi"]})]})]}),m.jsx("div",{className:"bg-white rounded-lg shadow overflow-hidden",children:m.jsxs("table",{className:"min-w-full divide-y divide-gray-200",children:[m.jsx("thead",{className:"bg-gray-50",children:m.jsxs("tr",{children:[m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Tn Phng"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Hng Bng"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Gio Vin"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Trng Thi"}),m.jsx("th",{className:"px-6 py-3 text-left text-xs font-medium text-gray-500 uppercase tracking-wider",children:"Chi tit"})]})}),m.jsx("tbody",{className:"bg-white divide-y divide-gray-200",children:i?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-4",children:"ang ti..."})}):r.length===0?m.jsx("tr",{children:m.jsx("td",{colSpan:5,className:"text-center py-4 text-gray-500",children:"Cha c phng thi no."})}):r.map(D=>m.jsxs("tr",{children:[m.jsx("td",{className:"px-6 py-4 whitespace-nowrap font-medium",children:D.room_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.license_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:D.teacher_name}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap",children:m.jsx("span",{className:`px-2 inline-flex text-xs leading-5 font-semibold rounded-full 
                                            ${D.status==="waiting"?"bg-yellow-100 text-yellow-800":D.status==="in_progress"?"bg-green-100 text-green-800":"bg-gray-100 text-gray-800"}`,children:D.status==="waiting"?"ang ch":D.status==="in_progress"?"ang thi":"Kt thc"})}),m.jsx("td",{className:"px-6 py-4 whitespace-nowrap text-sm font-medium",children:m.jsxs("button",{onClick:()=>E(D.id),className:"text-blue-600 hover:text-blue-900 flex items-center gap-1",children:[m.jsx(Uke,{})," Xem chi tit"]})})]},D.id))})]})}),a&&m.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:m.jsxs("div",{className:"bg-white p-6 rounded-lg w-full max-w-md",children:[m.jsx("h2",{className:"text-xl font-bold mb-4",children:"To Phng Thi Mi"}),m.jsxs("form",{onSubmit:R,className:"space-y-4",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Tn phng thi"}),m.jsx("input",{type:"text",value:l,onChange:D=>u(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:"V d: Thi th M1 - Ln 1",required:!0})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Hng bng"}),m.jsxs("select",{value:x,onChange:D=>b(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",required:!0,children:[m.jsx("option",{value:"",children:"-- Chn hng bng --"}),k.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Lp (Ty chn -  t ng vo phng)"}),m.jsxs("select",{value:j,onChange:D=>S(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",children:[m.jsx("option",{value:"",children:"-- Khng chn lp --"}),O.map(D=>m.jsx("option",{value:D.id,children:D.name},D.id))]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Thi gian lm bi (pht)"}),m.jsx("input",{type:"number",value:d,onChange:D=>f(Number(D.target.value)),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",min:"1"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-medium text-gray-700",children:"Mt khu (Ty chn)"}),m.jsx("input",{type:"text",value:g,onChange:D=>v(D.target.value),className:"mt-1 block w-full border border-gray-300 rounded-md shadow-sm p-2",placeholder:" trng nu khng cn mt khu"})]}),m.jsxs("div",{className:"flex justify-end gap-2 mt-6",children:[m.jsx("button",{type:"button",onClick:()=>o(!1),className:"px-4 py-2 bg-gray-200 rounded hover:bg-gray-300",children:"Hy"}),m.jsx("button",{type:"submit",className:"px-4 py-2 bg-blue-600 text-white rounded hover:bg-blue-700",children:"To phng"})]})]})]})})]})},Hat=({onBack:t})=>{const[e,r]=C.useState("7d"),[n,i]=C.useState(null),[s,a]=C.useState(!1),[o,l]=C.useState(null);C.useEffect(()=>{(async()=>{a(!0);try{const f=await fetch("/api/analytics",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({dateRange:e})});if(f.ok){const g=await f.json();i(g)}else l("Failed to fetch data")}catch(f){console.error(f),l("Error connecting to server")}finally{a(!1)}})()},[e]);const u=["#0088FE","#00C49F","#FFBB28","#FF8042"];return m.jsxs(xg.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},exit:{opacity:0,x:-20},className:"container mx-auto px-4 py-8 pb-24",children:[m.jsxs("div",{className:"flex flex-col md:flex-row justify-between items-center mb-8 gap-4",children:[m.jsxs("div",{className:"flex items-center gap-4 w-full md:w-auto",children:[m.jsx("button",{onClick:t,className:"p-3 hover:bg-gray-100 dark:hover:bg-zinc-800 rounded-full transition-colors shadow-sm bg-white dark:bg-zinc-900",children:m.jsx(N0,{className:"text-xl text-gray-600 dark:text-gray-300"})}),m.jsxs("div",{children:[m.jsx("h1",{className:"text-2xl font-bold text-gray-800 dark:text-white",children:"Thng k chi tit"}),m.jsx("p",{className:"text-sm text-gray-500",children:"Phn tch d liu truy cp website"})]})]}),m.jsxs("div",{className:"flex items-center gap-2 bg-white dark:bg-zinc-900 p-1.5 rounded-xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsx(Pke,{className:"text-gray-400 ml-2"}),m.jsxs("select",{value:e,onChange:d=>r(d.target.value),className:"bg-transparent border-none text-sm font-medium text-gray-700 dark:text-gray-200 focus:ring-0 cursor-pointer outline-none",children:[m.jsx("option",{value:"7d",children:"7 ngy qua"}),m.jsx("option",{value:"30d",children:"30 ngy qua"}),m.jsx("option",{value:"today",children:"Hm nay"})]})]})]}),s&&!n&&m.jsx("div",{className:"flex justify-center items-center h-64",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-500"})}),n&&m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[m.jsx(y2,{label:"Ngi dng mi",value:n.metrics.newUsers,color:"blue"}),m.jsx(y2,{label:"Phin truy cp",value:n.metrics.totalSessions,color:"purple"}),m.jsx(y2,{label:"Thi gian TB",value:`${Math.floor(n.metrics.avgSessionDuration/60)}m ${Math.floor(n.metrics.avgSessionDuration%60)}s`,color:"green"}),m.jsx(y2,{label:"T l thot",value:`${n.metrics.bounceRate.toFixed(1)}%`,color:"orange"})]}),m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsx("h3",{className:"text-lg font-bold mb-6 text-gray-800 dark:text-white",children:"Xu hng truy cp"}),m.jsx("div",{className:"h-[300px]",children:m.jsx(k6,{width:"100%",height:"100%",children:m.jsxs(Coe,{data:n.chart,children:[m.jsx("defs",{children:m.jsxs("linearGradient",{id:"colorVisitsPage",x1:"0",y1:"0",x2:"0",y2:"1",children:[m.jsx("stop",{offset:"5%",stopColor:"#3B82F6",stopOpacity:.3}),m.jsx("stop",{offset:"95%",stopColor:"#3B82F6",stopOpacity:0})]})}),m.jsx(Yj,{strokeDasharray:"3 3",vertical:!1,opacity:.3}),m.jsx(Zj,{dataKey:"name",axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"},dy:10}),m.jsx(eD,{axisLine:!1,tickLine:!1,tick:{fontSize:12,fill:"#9CA3AF"}}),m.jsx(Z6,{contentStyle:{borderRadius:"12px",border:"none",boxShadow:"0 4px 6px -1px rgba(0,0,0,0.1)"}}),m.jsx(jT,{type:"monotone",dataKey:"visits",stroke:"#3B82F6",strokeWidth:3,fillOpacity:1,fill:"url(#colorVisitsPage)",name:"Lt truy cp"})]})})})]}),m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(zke,{className:"text-blue-500"})," Trang c xem nhiu nht"]}),m.jsx("div",{className:"overflow-x-auto",children:m.jsxs("table",{className:"w-full",children:[m.jsx("thead",{children:m.jsxs("tr",{className:"text-left text-xs font-semibold text-gray-500 border-b border-gray-100 dark:border-zinc-800",children:[m.jsx("th",{className:"pb-3 pl-2",children:"Tiu  trang"}),m.jsx("th",{className:"pb-3 text-right pr-2",children:"Lt xem"})]})}),m.jsx("tbody",{children:n.topPages.map((d,f)=>m.jsxs("tr",{className:"border-b border-gray-50 dark:border-zinc-800/50 last:border-none hover:bg-gray-50 dark:hover:bg-zinc-800/50 transition-colors",children:[m.jsx("td",{className:"py-3 pl-2 text-sm text-gray-700 dark:text-gray-300 truncate max-w-[200px]",title:d.name,children:d.name}),m.jsx("td",{className:"py-3 pr-2 text-right text-sm font-bold text-gray-800 dark:text-white",children:d.value.toLocaleString()})]},f))})]})})]}),m.jsxs("div",{className:"space-y-6",children:[m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(fte,{className:"text-purple-500"})," Thit b"]}),m.jsx("div",{className:"h-[200px] flex items-center justify-center",children:m.jsx(k6,{width:"100%",height:"100%",children:m.jsxs(a$e,{children:[m.jsx(Kae,{data:n.devices,cx:"50%",cy:"50%",innerRadius:60,outerRadius:80,paddingAngle:5,dataKey:"value",children:n.devices.map((d,f)=>m.jsx(Z4,{fill:u[f%u.length]},`cell-${f}`))}),m.jsx(Z6,{}),m.jsx(aie,{verticalAlign:"bottom",height:36})]})})})]}),m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-6 rounded-2xl shadow-sm border border-gray-100 dark:border-zinc-800",children:[m.jsxs("h3",{className:"text-lg font-bold mb-4 text-gray-800 dark:text-white flex items-center gap-2",children:[m.jsx(Wke,{className:"text-red-500"})," a im (Top 5)"]}),m.jsx("div",{className:"space-y-3",children:n.cities.slice(0,5).map((d,f)=>m.jsxs("div",{className:"flex items-center justify-between",children:[m.jsx("span",{className:"text-sm text-gray-600 dark:text-gray-400",children:d.name}),m.jsxs("div",{className:"flex items-center gap-3 flex-1 justify-end",children:[m.jsx("div",{className:"w-24 h-2 bg-gray-100 dark:bg-zinc-800 rounded-full overflow-hidden",children:m.jsx("div",{className:"h-full bg-blue-500 rounded-full",style:{width:`${d.value/n.cities[0].value*100}%`}})}),m.jsx("span",{className:"text-xs font-bold w-8 text-right",children:d.value})]})]},f))})]})]})]})]})]})},y2=({label:t,value:e,color:r})=>{const n={blue:"bg-blue-50 text-blue-600 dark:bg-blue-900/20 dark:text-blue-400",green:"bg-green-50 text-green-600 dark:bg-green-900/20 dark:text-green-400",purple:"bg-purple-50 text-purple-600 dark:bg-purple-900/20 dark:text-purple-400",orange:"bg-orange-50 text-orange-600 dark:bg-orange-900/20 dark:text-orange-400"};return m.jsxs("div",{className:"bg-white dark:bg-zinc-900 p-4 rounded-2xl border border-gray-100 dark:border-zinc-800 shadow-sm",children:[m.jsx("p",{className:"text-xs text-gray-500 dark:text-gray-400 mb-1",children:t}),m.jsx("p",{className:`text-xl font-bold ${n[r].split(" ")[1]}`,children:e})]})},qat=()=>{const[t,e]=C.useState(null),[r,n]=C.useState(!0);if(C.useEffect(()=>{(async()=>{const a=await Gb();e(a),n(!1)})()},[]),r)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900",children:m.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600"})});const i=(t==null?void 0:t.app_links)||{windows:"",android:"",version:""};return m.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 pt-20 pb-12 px-4 sm:px-6 lg:px-8",children:m.jsxs("div",{className:"max-w-5xl mx-auto",children:[m.jsxs("div",{className:"text-center mb-16 animate-fade-in-down",children:[m.jsxs("h1",{className:"text-4xl md:text-5xl font-extrabold text-gray-900 dark:text-white mb-4",children:["Ti ng Dng ",m.jsx("span",{className:"text-blue-600",children:"n Thi Thuyn Vin"})]}),m.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"n tp mi lc, mi ni trn mi thit b. ng b d liu, lm bi thi th v theo di tin  hc tp ca bn."}),i.version&&m.jsxs("div",{className:"mt-4 inline-block px-4 py-1 bg-blue-100 dark:bg-blue-900/30 text-blue-700 dark:text-blue-300 rounded-full font-semibold text-sm",children:["Phin bn mi nht: v",i.version]})]}),m.jsxs("div",{className:"grid md:grid-cols-2 gap-8 max-w-4xl mx-auto",children:[m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 dark:border-slate-700 flex flex-col",children:[m.jsxs("div",{className:"p-8 flex-1 flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-blue-100 dark:bg-blue-900/30 rounded-2xl flex items-center justify-center mb-6 text-blue-600 dark:text-blue-400",children:m.jsx(l3,{className:"text-5xl"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Phin bn Windows"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Dnh cho my tnh  bn v laptop. Tri nghim n thi tt nht vi mn hnh ln."}),m.jsxs("ul",{className:"text-left text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-8 w-full px-4",children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(fte,{className:"text-blue-500"})," H tr Windows 10/11"]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(HU,{className:"text-blue-500"})," Ci t nhanh chng"]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(l3,{className:"text-blue-500"})," Hot ng mt m, n nh"]})]})]}),m.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-100 dark:border-slate-700",children:i.windows?m.jsxs("a",{href:i.windows,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 bg-blue-600 hover:bg-blue-700 text-white font-bold rounded-xl text-center transition-colors shadow-lg hover:shadow-blue-500/30 flex items-center justify-center gap-2",children:[m.jsx(l3,{})," Ti v cho Windows"]}):m.jsx("button",{disabled:!0,className:"block w-full py-3 px-6 bg-gray-300 dark:bg-slate-700 text-gray-500 dark:text-gray-400 font-bold rounded-xl text-center cursor-not-allowed",children:"ang cp nht link..."})})]}),m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-xl overflow-hidden hover:shadow-2xl transition-all duration-300 transform hover:-translate-y-1 border border-gray-100 dark:border-slate-700 flex flex-col",children:[m.jsxs("div",{className:"p-8 flex-1 flex flex-col items-center text-center",children:[m.jsx("div",{className:"w-20 h-20 bg-green-100 dark:bg-green-900/30 rounded-2xl flex items-center justify-center mb-6 text-green-600 dark:text-green-400",children:m.jsx(o3,{className:"text-5xl"})}),m.jsx("h2",{className:"text-2xl font-bold text-gray-900 dark:text-white mb-2",children:"Phin bn Android"}),m.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"n tp tin li ngay trn in thoi ca bn. H tr y  tnh nng nh trn web."}),m.jsxs("ul",{className:"text-left text-sm text-gray-500 dark:text-gray-400 space-y-2 mb-8 w-full px-4",children:[m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(GI,{className:"text-green-500"})," H tr Android 8.0 tr ln"]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(HU,{className:"text-green-500"})," Ti file APK trc tip"]}),m.jsxs("li",{className:"flex items-center gap-2",children:[m.jsx(o3,{className:"text-green-500"})," Giao din thn thin mobile"]})]})]}),m.jsx("div",{className:"p-6 bg-gray-50 dark:bg-slate-800/50 border-t border-gray-100 dark:border-slate-700",children:i.android?m.jsxs("a",{href:i.android,target:"_blank",rel:"noopener noreferrer",className:"block w-full py-3 px-6 bg-green-600 hover:bg-green-700 text-white font-bold rounded-xl text-center transition-colors shadow-lg hover:shadow-green-500/30 flex items-center justify-center gap-2",children:[m.jsx(o3,{})," Ti v cho Android"]}):m.jsx("button",{disabled:!0,className:"block w-full py-3 px-6 bg-gray-300 dark:bg-slate-700 text-gray-500 dark:text-gray-400 font-bold rounded-xl text-center cursor-not-allowed",children:"ang cp nht link..."})})]})]}),m.jsx("div",{className:"mt-12 text-center",children:m.jsxs("div",{className:"inline-flex items-center gap-2 text-gray-500 dark:text-gray-400 bg-white dark:bg-slate-800 px-6 py-3 rounded-full shadow-sm border border-gray-200 dark:border-slate-700",children:[m.jsx(kke,{className:"text-xl"}),m.jsx("span",{children:"Phin bn iOS ang c pht trin v s sm ra mt."})]})})]})})},Wat=()=>{var I,R,D,M;const t=uS(),[e,r]=C.useState(null),[n,i]=C.useState(!0),[s,a]=C.useState(!1),[o,l]=C.useState("limits"),[u,d]=C.useState("guest"),[f,g]=C.useState(null),[v,x]=C.useState(!1),[b,w]=C.useState(!1);C.useEffect(()=>{E()},[]);const E=async()=>{i(!0);const L=await Gb();r(L),i(!1)},k=async()=>{if(e){a(!0);try{await bue(e),Zl.fire({title:"Thnh cng!",text:"Cu hnh  c lu.",icon:"success",timer:1500,showConfirmButton:!1})}catch{Zl.fire("Li","Khng th lu cu hnh","error")}finally{a(!1)}}},A=(L,U,le)=>{e&&r({...e,[L]:{...e[L],[U]:le}})},O=async()=>{x(!0);try{const L=await _n(qt(Ye,"courses")),U=new Set(L.docs.map(Q=>Q.id)),le=pr(qt(Ye,"users"),kr("courseId","!=",null)),ue=await _n(le);let J=0;ue.forEach(Q=>{const he=Q.data();he.courseId&&!U.has(he.courseId)&&J++}),g(J),J===0&&Zl.fire("Tt","D liu sch s! Khng c hc vin li.","success")}catch(L){console.error(L),Zl.fire("Li","Khng th qut d liu","error")}finally{x(!1)}},P=async()=>{if(f){w(!0);try{const L=await _n(qt(Ye,"courses")),U=new Set(L.docs.map(he=>he.id)),le=pr(qt(Ye,"users"),kr("courseId","!=",null)),ue=await _n(le),J=nP(Ye);let Q=0;ue.forEach(he=>{const Z=he.data();if(Z.courseId&&!U.has(Z.courseId)){const ge=Ht(Ye,"users",he.id);J.update(ge,{courseId:null,courseName:null,class:null,isVerified:!1}),Q++}}),Q>0&&(await J.commit(),g(0),Zl.fire("Thnh cng",` sa li cho ${Q} hc vin!`,"success"))}catch(L){console.error(L),Zl.fire("Li","Khng th sa d liu","error")}finally{w(!1)}}};if(n)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 text-gray-500",children:"ang ti cu hnh..."});if(!e)return m.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 dark:bg-slate-900 text-red-500",children:"Li ti d liu"});const j=[{id:"guest",label:"Khch Vng Lai",icon:LE,color:"text-gray-500"},{id:"free_user",label:"Thnh Vin T Do",icon:_te,color:"text-green-500"},{id:"verified_user",label:"Hc Vin Lp",icon:nAe,color:"text-blue-500"},{id:"vip_user",label:"Thnh Vin VIP",icon:rAe,color:"text-yellow-500"},{id:"teacher",label:"Gio Vin",icon:WI,color:"text-purple-500"},{id:"manager",label:"Cn B Qun L",icon:ig,color:"text-red-500"},{id:"admin",label:"Qun Tr Vin",icon:Zke,color:"text-indigo-600"}],S=e[u];return m.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-slate-900 text-gray-900 dark:text-white animate-fade-in",children:[m.jsx("header",{className:"bg-white dark:bg-slate-800 shadow-sm border-b dark:border-slate-700 sticky top-0 z-30",children:m.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 h-16 flex items-center justify-between",children:[m.jsxs("div",{className:"flex items-center gap-4",children:[m.jsx("button",{onClick:()=>t("/dashboard"),className:"p-2 rounded-full hover:bg-gray-100 dark:hover:bg-slate-700 transition-colors",children:m.jsx(N0,{className:"text-gray-600 dark:text-gray-300"})}),m.jsxs("h1",{className:"text-xl font-bold flex items-center gap-2",children:[m.jsx(Vke,{className:"text-purple-600 animate-spin-slow"}),"Cu Hnh H Thng"]})]}),m.jsx("button",{onClick:k,disabled:s,className:"px-6 py-2 rounded-lg font-bold text-white bg-gradient-to-r from-purple-600 to-indigo-600 hover:shadow-lg hover:scale-105 transition-all flex items-center gap-2 disabled:opacity-50",children:s?"ang lu...":m.jsxs(m.Fragment,{children:[m.jsx(YP,{})," Lu Thay i"]})})]})}),m.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:m.jsxs("div",{className:"flex flex-col md:flex-row gap-8",children:[m.jsxs("nav",{className:"w-full md:w-64 flex-shrink-0 space-y-2",children:[m.jsxs("button",{onClick:()=>l("limits"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="limits"?"bg-white dark:bg-slate-800 shadow-md text-purple-600 font-bold border-l-4 border-purple-600":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(KU,{className:"text-xl"}),"Gii hn truy cp"]}),m.jsxs("button",{onClick:()=>l("app_links"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="app_links"?"bg-white dark:bg-slate-800 shadow-md text-blue-600 font-bold border-l-4 border-blue-600":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(GI,{className:"text-xl"}),"Lin kt Ti App"]}),m.jsxs("button",{onClick:()=>l("system"),className:`w-full flex items-center gap-3 px-4 py-3 rounded-xl transition-all ${o==="system"?"bg-white dark:bg-slate-800 shadow-md text-orange-600 font-bold border-l-4 border-orange-600":"text-gray-600 dark:text-gray-400 hover:bg-white/50 dark:hover:bg-slate-800/50"}`,children:[m.jsx(GU,{className:"text-xl"}),"H thng & D liu"]})]}),m.jsxs("main",{className:"flex-1 min-w-0",children:[o==="limits"&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border dark:border-slate-700 p-6 animate-fade-in-up",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(KU,{className:"text-purple-600"}),"Cu hnh Gii hn & Quyn"]}),m.jsxs("div",{className:"mb-8",children:[m.jsx("label",{className:"block text-sm font-medium text-gray-500 dark:text-gray-400 mb-2",children:"Chn nhm ngi dng  cu hnh:"}),m.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(L=>m.jsxs("button",{onClick:()=>d(L.id),className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-all border ${u===L.id?"bg-purple-50 dark:bg-purple-900/20 border-purple-200 dark:border-purple-700 text-purple-700 dark:text-purple-300 font-bold shadow-sm":"bg-gray-50 dark:bg-slate-700 border-transparent text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-slate-600"}`,children:[m.jsx(L.icon,{className:u===L.id?L.color:""}),L.label]},L.id))})]}),m.jsxs("div",{className:"bg-gray-50 dark:bg-slate-700/30 rounded-xl p-6 border border-gray-100 dark:border-slate-700",children:[m.jsxs("div",{className:"flex items-center justify-between mb-6",children:[m.jsxs("h3",{className:"text-lg font-bold flex items-center gap-2",children:[Ae.createElement(j.find(L=>L.id===u).icon,{className:j.find(L=>L.id===u).color}),j.find(L=>L.id===u).label]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:S.isEnabled,onChange:L=>A(u,"isEnabled",L.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-purple-300 dark:peer-focus:ring-purple-800 rounded-full peer dark:bg-gray-700 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-purple-600"}),m.jsx("span",{className:"ml-3 text-sm font-medium text-gray-900 dark:text-gray-300",children:S.isEnabled?"ang bt gii hn":"Khng gii hn (Tt)"})]})]}),S.isEnabled?m.jsxs("div",{className:"space-y-6 animate-fade-in",children:[m.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"S lt ti a"}),m.jsx("input",{type:"number",value:S.limit,onChange:L=>A(u,"limit",parseInt(L.target.value)||0),className:"w-full p-3 border rounded-lg dark:bg-slate-800 dark:border-slate-600 focus:ring-2 focus:ring-purple-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Chu k reset"}),m.jsxs("select",{value:S.period,onChange:L=>A(u,"period",L.target.value),className:"w-full p-3 border rounded-lg dark:bg-slate-800 dark:border-slate-600 focus:ring-2 focus:ring-purple-500 outline-none",children:[m.jsx("option",{value:"daily",children:"Hng Ngy (00:00)"}),m.jsx("option",{value:"weekly",children:"Hng Tun (Th 2)"})]})]})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Tin nhn bo chn"}),m.jsx("textarea",{rows:3,value:S.message,onChange:L=>A(u,"message",L.target.value),className:"w-full p-3 border rounded-lg dark:bg-slate-800 dark:border-slate-600 focus:ring-2 focus:ring-purple-500 outline-none",placeholder:"Nhp tin nhn..."}),m.jsxs("p",{className:"text-xs text-gray-500 mt-2",children:[" Mo: Dng ",m.jsx("code",{children:"{limit}"}),"  hin th s lt t ng."]})]})]}):m.jsxs("div",{className:"p-8 bg-white dark:bg-slate-800 rounded-xl border border-dashed border-gray-300 dark:border-slate-600 text-center text-gray-500",children:[m.jsx(vd,{className:"text-5xl mx-auto mb-4 text-green-500 opacity-50"}),m.jsx("p",{className:"text-lg",children:"Ngi dng thuc nhm ny c truy cp khng gii hn."})]}),m.jsxs("div",{className:"mt-8 pt-6 border-t border-gray-200 dark:border-slate-600 flex items-center justify-between",children:[m.jsxs("div",{children:[m.jsx("h4",{className:"font-bold text-orange-700 dark:text-orange-400",children:"Hin th Qung Co (Google Adsense)"}),m.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Bt  hin qung co cho nhm ny (Khng ph thuc gii hn)."})]}),m.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[m.jsx("input",{type:"checkbox",checked:S.showAds,onChange:L=>A(u,"showAds",L.target.checked),className:"sr-only peer"}),m.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none rounded-full peer dark:bg-gray-600 peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all dark:border-gray-600 peer-checked:bg-orange-500"})]})]})]})]}),o==="app_links"&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border dark:border-slate-700 p-6 animate-fade-in-up",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(GI,{className:"text-blue-600"}),"Cu hnh Link Ti App"]}),m.jsxs("div",{className:"space-y-6 max-w-2xl",children:[m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Phin bn App hin ti"}),m.jsx("input",{type:"text",value:((I=e.app_links)==null?void 0:I.version)||"",onChange:L=>r({...e,app_links:{...e.app_links,version:L.target.value}}),placeholder:"V d: 3.7.1",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Link Ti Windows (.exe)"}),m.jsx("input",{type:"text",value:((R=e.app_links)==null?void 0:R.windows)||"",onChange:L=>r({...e,app_links:{...e.app_links,windows:L.target.value}}),placeholder:"https://...",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Link Ti Android (.apk / Play Store)"}),m.jsx("input",{type:"text",value:((D=e.app_links)==null?void 0:D.android)||"",onChange:L=>r({...e,app_links:{...e.app_links,android:L.target.value}}),placeholder:"https://...",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"})]}),m.jsxs("div",{children:[m.jsx("label",{className:"block text-sm font-bold mb-2 dark:text-gray-300",children:"Link Ti iOS (TestFlight / App Store)"}),m.jsx("input",{type:"text",value:((M=e.app_links)==null?void 0:M.ios)||"",onChange:L=>r({...e,app_links:{...e.app_links,ios:L.target.value}}),placeholder:"https://...",className:"w-full p-3 border rounded-lg dark:bg-slate-700 dark:border-slate-600 focus:ring-2 focus:ring-blue-500 outline-none"})]})]})]}),o==="system"&&m.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl shadow-sm border dark:border-slate-700 p-6 animate-fade-in-up",children:[m.jsxs("h2",{className:"text-2xl font-bold mb-6 flex items-center gap-2",children:[m.jsx(GU,{className:"text-orange-600"}),"Cng c H thng"]}),m.jsxs("div",{className:"p-6 bg-orange-50 dark:bg-slate-700/30 rounded-xl border border-orange-200 dark:border-slate-600",children:[m.jsxs("h4",{className:"font-bold text-lg mb-2 text-orange-800 dark:text-orange-400 flex items-center gap-2",children:[m.jsx(Rke,{})," Dn dp d liu rc"]}),m.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300 mb-6",children:'Tm v sa cc ti khon hc vin vn cn lin kt vi lp hc  b xa (Orphaned Data). Li ny khin hc vin hin th " xc thc" nhng thng tin lp khng tn ti.'}),m.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[m.jsx("button",{onClick:O,disabled:v||b,className:"px-5 py-2.5 bg-blue-600 text-white rounded-lg font-bold hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2 shadow-sm",children:v?"ang qut...":"1. Qut tm li"}),f!==null&&f>0&&m.jsxs("div",{className:"flex items-center gap-4 animate-fade-in",children:[m.jsxs("span",{className:"font-bold text-red-500 bg-red-50 px-3 py-1 rounded-lg border border-red-100",children:["Tm thy ",f," ti khon li!"]}),m.jsx("button",{onClick:P,disabled:b,className:"px-5 py-2.5 bg-red-600 text-white rounded-lg font-bold hover:bg-red-700 disabled:opacity-50 shadow-sm",children:b?"ang sa...":"2. Sa ngay"})]}),f===0&&m.jsxs("span",{className:"text-green-600 font-bold animate-fade-in flex items-center gap-2",children:[m.jsx(vd,{})," Khng c li no!"]})]})]})]})]})]})})]})},Gat=(t,e)=>{const r=n=>{const i=n.match(/(\d+)$/);return i?parseInt(i[1],10):0};return r(t.id)-r(e.id)},gde=async()=>{const{data:t,error:e}=await $E.from("licenses").select(`
      id,
      name,
      display_order,
      subjects (
        id,
        name,
        display_order,
        questions (
          *,
          answers (
            id,
            text
          )
        )
      )
    `).order("display_order",{ascending:!0}).order("display_order",{foreignTable:"subjects",ascending:!0});if(e)throw console.error("Error fetching data from Supabase:",e),e;return t.map(n=>({id:n.id,name:n.name,subjects:n.subjects.map(i=>({id:i.id,name:i.name,questions:i.questions.sort(Gat).map(s=>({id:s.id,text:s.text,image:s.image,correctAnswerId:s.correct_answer_id,answers:s.answers.map(a=>({id:a.id,text:a.text}))}))}))}))},wM=Object.freeze(Object.defineProperty({__proto__:null,fetchLicenses:gde},Symbol.toStringTag,{value:"Module"})),Kat=()=>{const{user:t}=fk(),e=Rn(r=>r.userProfile);C.useEffect(()=>{if(!oa)return;const r=fo(oa,".info/connected");let n,i;if(t&&e)n=fo(oa,"/status/"+t.uid),i={state:"online",last_changed:v0(),role:e.role||"unknown",name:e.full_name||e.fullName||"User",photoURL:e.photoURL||"",device:"web"};else{let a=localStorage.getItem("guest_session_id");a||(a="guest_"+Math.random().toString(36).substr(2,9),localStorage.setItem("guest_session_id",a)),n=fo(oa,"/status/"+a),i={state:"online",last_changed:v0(),role:"guest",name:"Khch",device:"web"}}const s=nx(r,a=>{if(a.val()===!1)return;const o={state:"offline",last_changed:v0()};ate(n).set(o).then(()=>{l4(n,i)})});return()=>{s()}},[t,e])};var x2={},vY;function Yat(){if(vY)return x2;vY=1;function t(s){if(typeof window>"u")return;const a=document.createElement("style");return a.setAttribute("type","text/css"),a.innerHTML=s,document.head.appendChild(a),s}Object.defineProperty(x2,"__esModule",{value:!0});var e=dm();function r(s){return s&&typeof s=="object"&&"default"in s?s:{default:s}}var n=r(e);t(`.rfm-marquee-container {
  overflow-x: hidden;
  display: flex;
  flex-direction: row;
  position: relative;
  width: var(--width);
  transform: var(--transform);
}
.rfm-marquee-container:hover div {
  animation-play-state: var(--pause-on-hover);
}
.rfm-marquee-container:active div {
  animation-play-state: var(--pause-on-click);
}

.rfm-overlay {
  position: absolute;
  width: 100%;
  height: 100%;
}
.rfm-overlay::before, .rfm-overlay::after {
  background: linear-gradient(to right, var(--gradient-color), rgba(255, 255, 255, 0));
  content: "";
  height: 100%;
  position: absolute;
  width: var(--gradient-width);
  z-index: 2;
  pointer-events: none;
  touch-action: none;
}
.rfm-overlay::after {
  right: 0;
  top: 0;
  transform: rotateZ(180deg);
}
.rfm-overlay::before {
  left: 0;
  top: 0;
}

.rfm-marquee {
  flex: 0 0 auto;
  min-width: var(--min-width);
  z-index: 1;
  display: flex;
  flex-direction: row;
  align-items: center;
  animation: scroll var(--duration) linear var(--delay) var(--iteration-count);
  animation-play-state: var(--play);
  animation-delay: var(--delay);
  animation-direction: var(--direction);
}
@keyframes scroll {
  0% {
    transform: translateX(0%);
  }
  100% {
    transform: translateX(-100%);
  }
}

.rfm-initial-child-container {
  flex: 0 0 auto;
  display: flex;
  min-width: auto;
  flex-direction: row;
  align-items: center;
}

.rfm-child {
  transform: var(--transform);
}`);const i=e.forwardRef(function({style:a={},className:o="",autoFill:l=!1,play:u=!0,pauseOnHover:d=!1,pauseOnClick:f=!1,direction:g="left",speed:v=50,delay:x=0,loop:b=0,gradient:w=!1,gradientColor:E="white",gradientWidth:k=200,onFinish:A,onCycleComplete:O,onMount:P,children:j},S){const[I,R]=e.useState(0),[D,M]=e.useState(0),[L,U]=e.useState(1),[le,ue]=e.useState(!1),J=e.useRef(null),Q=S||J,he=e.useRef(null),Z=e.useCallback(()=>{if(he.current&&Q.current){const de=Q.current.getBoundingClientRect(),me=he.current.getBoundingClientRect();let ce=de.width,se=me.width;(g==="up"||g==="down")&&(ce=de.height,se=me.height),U(l&&ce&&se&&se<ce?Math.ceil(ce/se):1),R(ce),M(se)}},[l,Q,g]);e.useEffect(()=>{if(le&&(Z(),he.current&&Q.current)){const de=new ResizeObserver(()=>Z());return de.observe(Q.current),de.observe(he.current),()=>{de&&de.disconnect()}}},[Z,Q,le]),e.useEffect(()=>{Z()},[Z,j]),e.useEffect(()=>{ue(!0)},[]),e.useEffect(()=>{typeof P=="function"&&P()},[]);const ge=e.useMemo(()=>l?D*L/v:D<I?I/v:D/v,[l,I,D,L,v]),H=e.useMemo(()=>Object.assign(Object.assign({},a),{"--pause-on-hover":!u||d?"paused":"running","--pause-on-click":!u||d&&!f||f?"paused":"running","--width":g==="up"||g==="down"?"100vh":"100%","--transform":g==="up"?"rotate(-90deg)":g==="down"?"rotate(90deg)":"none"}),[a,u,d,f,g]),B=e.useMemo(()=>({"--gradient-color":E,"--gradient-width":typeof k=="number"?`${k}px`:k}),[E,k]),q=e.useMemo(()=>({"--play":u?"running":"paused","--direction":g==="left"?"normal":"reverse","--duration":`${ge}s`,"--delay":`${x}s`,"--iteration-count":b?`${b}`:"infinite","--min-width":l?"auto":"100%"}),[u,g,ge,x,b,l]),W=e.useMemo(()=>({"--transform":g==="up"?"rotate(90deg)":g==="down"?"rotate(-90deg)":"none"}),[g]),Y=e.useCallback(de=>[...Array(Number.isFinite(de)&&de>=0?de:0)].map((me,ce)=>n.default.createElement(e.Fragment,{key:ce},e.Children.map(j,se=>n.default.createElement("div",{style:W,className:"rfm-child"},se)))),[W,j]);return le?n.default.createElement("div",{ref:Q,style:H,className:"rfm-marquee-container "+o},w&&n.default.createElement("div",{style:B,className:"rfm-overlay"}),n.default.createElement("div",{className:"rfm-marquee",style:q,onAnimationIteration:O,onAnimationEnd:A},n.default.createElement("div",{className:"rfm-initial-child-container",ref:he},e.Children.map(j,de=>n.default.createElement("div",{style:W,className:"rfm-child"},de))),Y(L-1)),n.default.createElement("div",{className:"rfm-marquee",style:q},Y(L))):null});return x2.default=i,x2}var Xat=Yat();const Qat=Jo(Xat),Jat=()=>{const[t,e]=C.useState([]),{user:r}=fk(),{userProfile:n}=Rn(s=>s),i=async()=>{const s=await cte(r==null?void 0:r.uid,n==null?void 0:n.role);e(s)};return C.useEffect(()=>{i();const s=setInterval(i,300*1e3);return()=>clearInterval(s)},[r,n]),C.useEffect(()=>{const s=pr(qt(Ye,"notifications"),kr("targetType","==","all"),kr("type","in",["special","attention"])),a=Ho(s,()=>{i()});let o=()=>{};if(r){const l=pr(qt(Ye,"users",r.uid,"notifications"),kr("type","in",["special","attention"]));o=Ho(l,()=>{i()})}return()=>{a(),o()}},[r]),t.length===0?null:m.jsx("div",{className:"w-full z-30 sticky top-16",children:t.map(s=>m.jsxs("div",{className:`
                        w-full py-2 px-4 flex items-center shadow-md
                        ${s.type==="special"?"bg-gradient-to-r from-red-600 to-red-700 text-white":"bg-gradient-to-r from-amber-400 to-orange-500 text-gray-900"}
                    `,children:[m.jsxs("div",{className:"flex-shrink-0 mr-4 font-bold flex items-center gap-2 uppercase tracking-wider text-sm",children:[s.type==="special"?m.jsx(bv,{className:"animate-pulse"}):m.jsx(pte,{}),s.type==="special"?"Thng bo khn":"Ch "]}),m.jsxs(Qat,{gradient:!1,speed:50,className:"flex-1 font-medium text-sm md:text-base",children:[m.jsxs("span",{className:"mx-4",children:[s.title,": ",s.message]}),m.jsx("span",{className:"mx-4",children:" | "}),m.jsxs("span",{className:"mx-4",children:[s.title,": ",s.message]})]})]},s.id))})},Zat=()=>{var H;Kat();const t=uS(),e=cS(),r=Rn(B=>B.licenses),n=Rn(B=>B.setLicenses),i=Rn(B=>B.selectedLicense),s=Rn(B=>B.setSelectedLicense),a=Rn(B=>B.subjects),o=Rn(B=>B.setSubjects),l=Rn(B=>B.selectedSubject),u=Rn(B=>B.setSelectedSubject),d=Rn(B=>B.currentQuiz),f=Rn(B=>B.setCurrentQuiz),g=Rn(B=>B.userAnswers),v=Rn(B=>B.setUserAnswers),x=Rn(B=>B.score),b=Rn(B=>B.setScore),w=Rn(B=>B.userName),E=Rn(B=>B.setUserName),k=Rn(B=>B.userProfile),A=Rn(B=>B.setUserProfile),O=Rn(B=>B.resumeSessionAvailable),P=Rn(B=>B.setResumeSessionAvailable),j=Rn(B=>B.isMobileApp),S=Rn(B=>B.setIsMobileApp);C.useEffect(()=>{var Y;const q=new URLSearchParams(window.location.search).get("mode")==="app",W=Ug.isNativePlatform();S(!!(W||q)),(Y=window.electron)!=null&&Y.isElectron&&(setTimeout(async()=>{var me,ce;try{const{getUsageConfig:se}=await Pn(async()=>{const{getUsageConfig:Ie}=await Promise.resolve().then(()=>Ynt);return{getUsageConfig:Ie}},void 0),ve=await se(),Ve=window.electron.appVersion,G=(me=ve.app_links)==null?void 0:me.version,Ze=(ce=ve.app_links)==null?void 0:ce.windows;if(console.log(`Current: ${Ve}, Remote: ${G}`),Ve&&G&&Ze){const Ie=Ve.split(".").map(Number),tt=G.split(".").map(Number);let Qe=!1;for(let je=0;je<3;je++){if(tt[je]>Ie[je]){Qe=!0;break}if(tt[je]<Ie[je])break}if(Qe){const{default:je}=await Pn(async()=>{const{default:vt}=await Promise.resolve().then(()=>A5);return{default:vt}},void 0);(await je.fire({title:"C bn cp nht mi!",text:`Phin bn ${G}  sn sng. Bn c mun cp nht ngay khng?`,icon:"info",showCancelButton:!0,confirmButtonText:"Cp nht ngay",cancelButtonText:" sau"})).isConfirmed&&je.fire({title:"ang ti cp nht...",html:"Vui lng khng tt ng dng.<br><b>0%</b>",allowOutsideClick:!1,didOpen:()=>{je.showLoading(),window.electron.downloadUpdate(Ze)}})}}}catch(se){console.error("Update check failed:",se)}},3e3),window.electron.onUpdateProgress(me=>{const ce=document.querySelector(".swal2-html-container b");ce&&(ce.textContent=`${Math.round(me)}%`)}),window.electron.onUpdateDownloaded(()=>{Pn(async()=>{const{default:me}=await Promise.resolve().then(()=>A5);return{default:me}},void 0).then(({default:me})=>{me.fire({title:"Ti xong!",text:"ng dng s khi ng li  ci t.",icon:"success",timer:3e3,showConfirmButton:!1}).then(()=>{window.electron.installUpdate()})})}),window.electron.onUpdateError(me=>{Pn(async()=>{const{default:ce}=await Promise.resolve().then(()=>A5);return{default:ce}},void 0).then(({default:ce})=>{ce.fire("Li","Khng th ti bn cp nht. Vui lng th li sau.","error")})}))},[]),C.useEffect(()=>{(async()=>{try{const q=await gde();n(q)}catch(q){console.error("Error loading licenses:",q)}})()},[]),C.useEffect(()=>{const B=LZ(js,async q=>{if(q){Pn(async()=>{const{onSnapshot:Y,doc:de}=await Promise.resolve().then(()=>$0);return{onSnapshot:Y,doc:de}},void 0).then(({onSnapshot:Y,doc:de})=>{Y(de(Ye,"users",q.uid),me=>{if(me.exists()){const ce={id:me.id,...me.data()};A(ce),E(ce.full_name||q.displayName||"")}})});let W=null;try{W=await L3e(q.uid)}catch(Y){console.error(" Critical: Could not fetch user profile:",Y)}if(W===null){const Y={id:q.uid,full_name:q.displayName||"Ngi dng mi",email:q.email||"",role:"hoc_vien",photoURL:q.photoURL||"",isVerified:!1};try{const{setDoc:de,doc:me}=await Pn(async()=>{const{setDoc:ce,doc:se}=await Promise.resolve().then(()=>$0);return{setDoc:ce,doc:se}},void 0);await de(me(Ye,"users",q.uid),Y,{merge:!0}),W=Y,A(W),E(W.full_name)}catch(de){console.error(" Failed to create default profile:",de)}}Pn(async()=>{const{initializeFCM:Y}=await import("./fcmClient-DPcnogWI.js");return{initializeFCM:Y}},[]).then(({initializeFCM:Y})=>{Y(q.uid)}),Pn(async()=>{const{loadSession:Y,getLicensePreference:de}=await import("./sessionService-CxCtOUx6.js");return{loadSession:Y,getLicensePreference:de}},[]).then(({loadSession:Y,getLicensePreference:de})=>{const me=Y(q.uid);if(me){f(me.quiz),v(me.userAnswers),s(me.selectedLicense),u(me.selectedSubject);return}(async()=>{if(W!=null&&W.defaultLicenseId){const se=r.find(ve=>ve.id===W.defaultLicenseId);if(se){s(se);return}}})()})}else A(null),E("")});return()=>{B()}},[r,t,e.pathname]);const I=C.useCallback((B,q,W,Y,de)=>{!Y||!k||Pn(async()=>{const{saveSession:me}=await import("./sessionService-CxCtOUx6.js");return{saveSession:me}},[]).then(({saveSession:me})=>{me(k.id,Y,de,W,B,q,i,l)})},[i,l,k]);C.useEffect(()=>{if(e.pathname==="/ontap/lambai"||e.pathname==="/ontap/thithu"){P(!1);return}k&&Pn(async()=>{const{loadSession:B}=await import("./sessionService-CxCtOUx6.js");return{loadSession:B}},[]).then(({loadSession:B})=>{const q=B(k.id);P(!!q)})},[e.pathname,k]);const R=()=>{Pn(async()=>{const{loadSession:B}=await import("./sessionService-CxCtOUx6.js");return{loadSession:B}},[]).then(({loadSession:B})=>{if(!k)return;const q=B(k.id);q&&(f(q.quiz),v(q.userAnswers),s(q.selectedLicense),u(q.selectedSubject),q.mode==="online_exam"?t("/ontap/thithu"):t("/ontap/lambai"))})},D=async()=>{if(k){if(k.defaultLicenseId){const B=r.find(q=>q.id===k.defaultLicenseId);if(B){s(B),t("/ontap/chonchedo");return}}t("/ontap/chonbang")}else t("/ontap/chonbang")},M=async B=>{s(B),Pn(async()=>{const{saveLicensePreference:q}=await import("./sessionService-CxCtOUx6.js");return{saveLicensePreference:q}},[]).then(({saveLicensePreference:q})=>{q(B.id)}),t(k?"/ontap/chonchedo":"/ontap/nhapten")},L=B=>{E(B),t("/ontap/chonchedo")},U=async()=>{if(!i)return;if(await mY(k)!=="ALLOWED"){await gY(k,()=>t("/ontap/dangnhap"));return}await pY(k);const q=[];i.subjects.forEach(me=>{q.push(...me.questions)});const Y=[...q].sort(()=>.5-Math.random()).slice(0,30);if(Y.length===0){alert("Cha c cu hi no cho hng bng ny. Vui lng th li sau.");return}const de={id:`exam_${Date.now()}`,title:`Thi Th - ${i.name}`,questions:Y,timeLimit:2700};f(de),v({}),b(0),localStorage.removeItem("ontap_quiz_session"),t("/ontap/thithu")},le=async B=>{B==="practice"?i&&(o(i.subjects),t("/ontap/chonmon")):B==="online_exam"&&U()},ue=async B=>{if(await mY(k)!=="ALLOWED"){await gY(k,()=>t("/ontap/dangnhap"));return}await pY(k),u(B);const W={id:B.id,title:B.name,questions:B.questions,timeLimit:0};f(W),v({}),localStorage.removeItem("ontap_quiz_session"),t("/ontap/lambai")},J=B=>{if(d){Pn(async()=>{const{clearSession:W}=await import("./sessionService-CxCtOUx6.js");return{clearSession:W}},[]).then(({clearSession:W})=>W()),P(!1);let q=0;if(d.questions.forEach(W=>{B[W.id]===W.correctAnswerId&&q++}),b(q),v(B),e.pathname==="/ontap/thithu")k&&Tz(k.id,i.id,i.name,null,"Thi th",q,30,d.timeLimit-0),t("/ontap/ketquathi");else{if(k&&i){const W=l?l.name:null;Tz(k.id,i.id,i.name,W,"n tp",q,d.questions.length,0)}t("/ontap/ketqua")}}},Q=()=>{e.pathname==="/ontap/ketquathi"?U():l&&i&&ue(l)},he=B=>{switch(B){case"dashboard":t("/ontap/dashboard");break;case"history":t("/ontap/lichsu");break;case"login":t("/ontap/dangnhap");break;case"my_class":t("/ontap/lopcuatoi");break;case"class_management":t("/ontap/quanlylop");break;case"account":t(k?"/ontap/taikhoan":"/ontap/dangnhap");break;case"config":t("/ontap/cauhinh");break;case"notification_mgmt":t("/ontap/thongbao");break;case"online_exam_management":t("/ontap/quanlythi");break;case"mailbox":t("/ontap/homthu");break;case"thi_truc_tuyen":t("/ontap/thitructuyen");break;case"download_app":t("/ontap/download");break;case"analytics":t("/ontap/thongke");break;default:t("/ontap/dashboard")}},Z=async()=>{Pn(async()=>{const{clearSession:B}=await import("./sessionService-CxCtOUx6.js");return{clearSession:B}},[]).then(({clearSession:B})=>B()),await js.signOut(),t("/")};return(((H=window.electron)==null?void 0:H.isElectron)||window.location.protocol==="file:"||navigator.userAgent.toLowerCase().includes("electron"))&&!k?m.jsxs("div",{className:`min-h-screen bg-background text-foreground font-sans ${j?"pb-16":"pt-0"}`,children:[m.jsx(EB,{position:"top-right",richColors:!0,expand:!0}),m.jsx(Oz,{})]}):m.jsxs("div",{className:`min-h-screen bg-background text-foreground font-sans transition-colors duration-300 ${j?"pb-16":"pt-16"}`,children:[m.jsx(sAe,{}),m.jsx(EB,{position:"top-right",richColors:!0,expand:!0}),O&&m.jsxs("div",{className:"fixed bottom-4 left-1/2 transform -translate-x-1/2 bg-yellow-400 text-black px-6 py-3 rounded-full shadow-xl z-50 animate-bounce cursor-pointer hover:bg-yellow-500 font-bold flex items-center gap-2",onClick:R,children:[m.jsx("span",{children:" Bn ang c bi thi lm d!"}),m.jsx("span",{className:"underline",children:"Lm tip ngay"})]}),m.jsx(Bat,{userProfile:k}),!j&&m.jsxs(m.Fragment,{children:[m.jsx(_rt,{userProfile:k,onNavigate:he,onLogout:Z}),m.jsx(Jat,{})]}),m.jsx(NX,{mode:"wait",children:m.jsxs(Jfe,{location:e,children:[m.jsx(er,{path:"/",element:m.jsx(yn,{to:"/ontap/dashboard",replace:!0})}),m.jsx(er,{path:"/ontap",element:m.jsx(yn,{to:"/ontap/dashboard",replace:!0})}),m.jsx(er,{path:"/ontap/dashboard",element:k?m.jsx(c$e,{userProfile:k,onStart:()=>t("/ontap/chonbang"),onHistoryClick:()=>t("/ontap/lichsu"),onClassClick:()=>he((k==null?void 0:k.role)==="hoc_vien"?"my_class":"class_management"),onOnlineExamClick:()=>t("/ontap/quanlythi")}):m.jsx(q3e,{onStart:D,onLoginClick:()=>t("/ontap/dangnhap"),onRegisterClick:()=>t("/ontap/dangky")})}),m.jsx(er,{path:"/ontap/dangnhap",element:k?m.jsx(yn,{to:"/ontap/dashboard"}):m.jsx(mNe,{onBack:()=>t("/")})}),m.jsx(er,{path:"/ontap/windowslogin",element:k?m.jsx(yn,{to:"/ontap/dashboard"}):m.jsx(Oz,{})}),m.jsx(er,{path:"/ontap/dangky",element:m.jsx(pNe,{onBack:()=>t("/"),onSuccess:()=>t("/ontap/dashboard")})}),m.jsx(er,{path:"/ontap/chonbang",element:m.jsx(vNe,{licenses:r,onSelect:M,onBack:()=>t("/")})}),m.jsx(er,{path:"/ontap/nhapten",element:m.jsx(yNe,{onNameSubmit:L,onBack:()=>t("/ontap/chonbang")})}),m.jsx(er,{path:"/ontap/chonchedo",element:m.jsx(xNe,{onModeSelect:le,licenseName:(i==null?void 0:i.name)||"",userName:w,onSwitchLicense:()=>t("/ontap/chonbang")})}),m.jsx(er,{path:"/ontap/chonmon",element:m.jsx(bNe,{subjects:a,progress:{},onSelect:ue,onBack:()=>t("/ontap/chonchedo")})}),m.jsx(er,{path:"/ontap/lambai",element:d?m.jsx(wNe,{quiz:d,onFinish:J,onBack:()=>t("/ontap/chonmon"),initialAnswers:g,initialIndex:0,onProgressUpdate:(B,q,W)=>I(B,q,W,d,"practice")}):m.jsx(yn,{to:"/ontap/chonmon",replace:!0})}),m.jsx(er,{path:"/ontap/thithu",element:d?m.jsx(_re,{quiz:d,onFinish:J,onBack:()=>t("/ontap/chonchedo"),userName:w,userProfile:k,selectedLicense:i,initialAnswers:g,onProgressUpdate:(B,q,W)=>I(B,q,W,d,"online_exam")}):m.jsx(yn,{to:"/ontap/chonchedo",replace:!0})}),m.jsx(er,{path:"/ontap/ketqua",element:d?m.jsx(kNe,{quiz:d,userAnswers:g,score:x,onRetry:Q,onBack:()=>t("/ontap/chonmon"),userName:w}):m.jsx(yn,{to:"/ontap/chonmon",replace:!0})}),m.jsx(er,{path:"/ontap/ketquathi",element:d?m.jsx(SNe,{quiz:d,userAnswers:g,score:x,onRetry:Q,onBack:()=>t("/ontap/chonchedo"),userName:w}):m.jsx(yn,{to:"/ontap/chonchedo",replace:!0})}),m.jsx(er,{path:"/ontap/lichsu",element:m.jsx(u$e,{userProfile:k,onBack:()=>t("/ontap/dashboard")})}),m.jsx(er,{path:"/ontap/lopcuatoi",element:m.jsx(h$e,{userProfile:k,onBack:()=>t("/ontap/dashboard")})}),m.jsx(er,{path:"/ontap/quanlylop",element:m.jsx(xtt,{userProfile:k,onBack:()=>t("/ontap/dashboard")})}),m.jsx(er,{path:"/ontap/taikhoan",element:m.jsx(wtt,{userProfile:k,onBack:()=>t("/ontap/dashboard"),onNavigate:he})}),m.jsx(er,{path:"/ontap/cauhinh",element:k?m.jsx(Wat,{}):m.jsx(yn,{to:"/ontap/dangnhap"})}),m.jsx(er,{path:"/ontap/thongbao",element:k?m.jsx(V3e,{userProfile:k}):m.jsx(yn,{to:"/ontap/dangnhap"})}),m.jsx(er,{path:"/ontap/homthu",element:k?m.jsx(Knt,{userProfile:k,onBack:()=>t("/ontap/dashboard")}):m.jsx(yn,{to:"/ontap/dangnhap"})}),m.jsx(er,{path:"/ontap/quanlythi",element:k?m.jsx($at,{userProfile:k,onBack:()=>t("/ontap/dashboard")}):m.jsx(yn,{to:"/ontap/dangnhap"})}),m.jsx(er,{path:"/ontap/thitructuyen",element:m.jsx(Uat,{})}),m.jsx(er,{path:"/ontap/download",element:m.jsx(qat,{})}),m.jsx(er,{path:"/ontap/thongke",element:m.jsx(Hat,{onBack:()=>t("/ontap/dashboard")})}),m.jsx(er,{path:"/ontap/lam-bai",element:m.jsx(yn,{to:"/ontap/lambai",replace:!0})}),m.jsx(er,{path:"/ontap/chon-che-do",element:m.jsx(yn,{to:"/ontap/chonchedo",replace:!0})}),m.jsx(er,{path:"/ontap/chon-bang",element:m.jsx(yn,{to:"/ontap/chonbang",replace:!0})}),m.jsx(er,{path:"/ontap/nhap-ten",element:m.jsx(yn,{to:"/ontap/nhapten",replace:!0})}),m.jsx(er,{path:"/ontap/dang-nhap",element:m.jsx(yn,{to:"/ontap/dangnhap",replace:!0})}),m.jsx(er,{path:"/ontap/chon-mon",element:m.jsx(yn,{to:"/ontap/chonmon",replace:!0})}),m.jsx(er,{path:"/ontap/ket-qua-thi",element:m.jsx(yn,{to:"/ontap/ketquathi",replace:!0})}),m.jsx(er,{path:"/ontap/ket-qua",element:m.jsx(yn,{to:"/ontap/ketqua",replace:!0})}),m.jsx(er,{path:"/ontap/lich-su",element:m.jsx(yn,{to:"/ontap/lichsu",replace:!0})}),m.jsx(er,{path:"/ontap/lop-cua-toi",element:m.jsx(yn,{to:"/ontap/lopcuatoi",replace:!0})}),m.jsx(er,{path:"/ontap/quan-ly-lop",element:m.jsx(yn,{to:"/ontap/quanlylop",replace:!0})}),m.jsx(er,{path:"/ontap/hom-thu",element:m.jsx(yn,{to:"/ontap/homthu",replace:!0})}),m.jsx(er,{path:"/ontap/thong-ke",element:m.jsx(yn,{to:"/ontap/thongke",replace:!0})}),m.jsx(er,{path:"/ontap/dang-ky",element:m.jsx(yn,{to:"/ontap/dangky",replace:!0})}),m.jsx(er,{path:"/ontap/windows-login",element:m.jsx(yn,{to:"/ontap/windowslogin",replace:!0})}),m.jsx(er,{path:"/ontap/thi-truc-tuyen",element:m.jsx(yn,{to:"/ontap/thitructuyen",replace:!0})}),j&&m.jsx(Vat,{userProfile:k,currentScreen:e.pathname,onNavigate:he,onLogout:Z})]},e.pathname)})]})},eot=()=>m.jsxs(DY,{children:[m.jsx(yye,{}),m.jsx(Zat,{}),m.jsx("div",{className:"fixed bottom-4 right-4 z-50",children:m.jsx(vye,{})})]}),vde=document.getElementById("root");if(!vde)throw new Error("Could not find root element to mount to");const tot=afe.createRoot(vde);tot.render(m.jsx(Ae.StrictMode,{children:m.jsx(brt,{children:m.jsx(DY,{children:m.jsx(t0e,{children:m.jsx(eot,{})})})})}));export{Ug as C,vot as W,wre as a,Ye as b,Y1 as c,Ht as d,i8 as r,Un as u};
