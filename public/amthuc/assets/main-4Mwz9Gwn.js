(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&r(u)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function rE(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hf={exports:{}},Tl={},Wf={exports:{}},xe={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Yv;function FP(){if(Yv)return xe;Yv=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),u=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),g=Symbol.for("react.lazy"),_=Symbol.iterator;function E(B){return B===null||typeof B!="object"?null:(B=_&&B[_]||B["@@iterator"],typeof B=="function"?B:null)}var I={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},V=Object.assign,x={};function k(B,Y,Ce){this.props=B,this.context=Y,this.refs=x,this.updater=Ce||I}k.prototype.isReactComponent={},k.prototype.setState=function(B,Y){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Y,"setState")},k.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function F(){}F.prototype=k.prototype;function q(B,Y,Ce){this.props=B,this.context=Y,this.refs=x,this.updater=Ce||I}var H=q.prototype=new F;H.constructor=q,V(H,k.prototype),H.isPureReactComponent=!0;var re=Array.isArray,Q=Object.prototype.hasOwnProperty,ie={current:null},D={key:!0,ref:!0,__self:!0,__source:!0};function A(B,Y,Ce){var Ae,ke={},Ne=null,Be=null;if(Y!=null)for(Ae in Y.ref!==void 0&&(Be=Y.ref),Y.key!==void 0&&(Ne=""+Y.key),Y)Q.call(Y,Ae)&&!D.hasOwnProperty(Ae)&&(ke[Ae]=Y[Ae]);var Oe=arguments.length-2;if(Oe===1)ke.children=Ce;else if(1<Oe){for(var qe=Array(Oe),Yt=0;Yt<Oe;Yt++)qe[Yt]=arguments[Yt+2];ke.children=qe}if(B&&B.defaultProps)for(Ae in Oe=B.defaultProps,Oe)ke[Ae]===void 0&&(ke[Ae]=Oe[Ae]);return{$$typeof:n,type:B,key:Ne,ref:Be,props:ke,_owner:ie.current}}function P(B,Y){return{$$typeof:n,type:B.type,key:Y,ref:B.ref,props:B.props,_owner:B._owner}}function b(B){return typeof B=="object"&&B!==null&&B.$$typeof===n}function M(B){var Y={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(Ce){return Y[Ce]})}var U=/\/+/g;function N(B,Y){return typeof B=="object"&&B!==null&&B.key!=null?M(""+B.key):Y.toString(36)}function He(B,Y,Ce,Ae,ke){var Ne=typeof B;(Ne==="undefined"||Ne==="boolean")&&(B=null);var Be=!1;if(B===null)Be=!0;else switch(Ne){case"string":case"number":Be=!0;break;case"object":switch(B.$$typeof){case n:case e:Be=!0}}if(Be)return Be=B,ke=ke(Be),B=Ae===""?"."+N(Be,0):Ae,re(ke)?(Ce="",B!=null&&(Ce=B.replace(U,"$&/")+"/"),He(ke,Y,Ce,"",function(Yt){return Yt})):ke!=null&&(b(ke)&&(ke=P(ke,Ce+(!ke.key||Be&&Be.key===ke.key?"":(""+ke.key).replace(U,"$&/")+"/")+B)),Y.push(ke)),1;if(Be=0,Ae=Ae===""?".":Ae+":",re(B))for(var Oe=0;Oe<B.length;Oe++){Ne=B[Oe];var qe=Ae+N(Ne,Oe);Be+=He(Ne,Y,Ce,qe,ke)}else if(qe=E(B),typeof qe=="function")for(B=qe.call(B),Oe=0;!(Ne=B.next()).done;)Ne=Ne.value,qe=Ae+N(Ne,Oe++),Be+=He(Ne,Y,Ce,qe,ke);else if(Ne==="object")throw Y=String(B),Error("Objects are not valid as a React child (found: "+(Y==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Y)+"). If you meant to render a collection of children, use an array instead.");return Be}function wt(B,Y,Ce){if(B==null)return B;var Ae=[],ke=0;return He(B,Ae,"","",function(Ne){return Y.call(Ce,Ne,ke++)}),Ae}function kt(B){if(B._status===-1){var Y=B._result;Y=Y(),Y.then(function(Ce){(B._status===0||B._status===-1)&&(B._status=1,B._result=Ce)},function(Ce){(B._status===0||B._status===-1)&&(B._status=2,B._result=Ce)}),B._status===-1&&(B._status=0,B._result=Y)}if(B._status===1)return B._result.default;throw B._result}var Re={current:null},se={transition:null},me={ReactCurrentDispatcher:Re,ReactCurrentBatchConfig:se,ReactCurrentOwner:ie};function ae(){throw Error("act(...) is not supported in production builds of React.")}return xe.Children={map:wt,forEach:function(B,Y,Ce){wt(B,function(){Y.apply(this,arguments)},Ce)},count:function(B){var Y=0;return wt(B,function(){Y++}),Y},toArray:function(B){return wt(B,function(Y){return Y})||[]},only:function(B){if(!b(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},xe.Component=k,xe.Fragment=t,xe.Profiler=s,xe.PureComponent=q,xe.StrictMode=r,xe.Suspense=f,xe.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=me,xe.act=ae,xe.cloneElement=function(B,Y,Ce){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var Ae=V({},B.props),ke=B.key,Ne=B.ref,Be=B._owner;if(Y!=null){if(Y.ref!==void 0&&(Ne=Y.ref,Be=ie.current),Y.key!==void 0&&(ke=""+Y.key),B.type&&B.type.defaultProps)var Oe=B.type.defaultProps;for(qe in Y)Q.call(Y,qe)&&!D.hasOwnProperty(qe)&&(Ae[qe]=Y[qe]===void 0&&Oe!==void 0?Oe[qe]:Y[qe])}var qe=arguments.length-2;if(qe===1)Ae.children=Ce;else if(1<qe){Oe=Array(qe);for(var Yt=0;Yt<qe;Yt++)Oe[Yt]=arguments[Yt+2];Ae.children=Oe}return{$$typeof:n,type:B.type,key:ke,ref:Ne,props:Ae,_owner:Be}},xe.createContext=function(B){return B={$$typeof:u,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},xe.createElement=A,xe.createFactory=function(B){var Y=A.bind(null,B);return Y.type=B,Y},xe.createRef=function(){return{current:null}},xe.forwardRef=function(B){return{$$typeof:d,render:B}},xe.isValidElement=b,xe.lazy=function(B){return{$$typeof:g,_payload:{_status:-1,_result:B},_init:kt}},xe.memo=function(B,Y){return{$$typeof:p,type:B,compare:Y===void 0?null:Y}},xe.startTransition=function(B){var Y=se.transition;se.transition={};try{B()}finally{se.transition=Y}},xe.unstable_act=ae,xe.useCallback=function(B,Y){return Re.current.useCallback(B,Y)},xe.useContext=function(B){return Re.current.useContext(B)},xe.useDebugValue=function(){},xe.useDeferredValue=function(B){return Re.current.useDeferredValue(B)},xe.useEffect=function(B,Y){return Re.current.useEffect(B,Y)},xe.useId=function(){return Re.current.useId()},xe.useImperativeHandle=function(B,Y,Ce){return Re.current.useImperativeHandle(B,Y,Ce)},xe.useInsertionEffect=function(B,Y){return Re.current.useInsertionEffect(B,Y)},xe.useLayoutEffect=function(B,Y){return Re.current.useLayoutEffect(B,Y)},xe.useMemo=function(B,Y){return Re.current.useMemo(B,Y)},xe.useReducer=function(B,Y,Ce){return Re.current.useReducer(B,Y,Ce)},xe.useRef=function(B){return Re.current.useRef(B)},xe.useState=function(B){return Re.current.useState(B)},xe.useSyncExternalStore=function(B,Y,Ce){return Re.current.useSyncExternalStore(B,Y,Ce)},xe.useTransition=function(){return Re.current.useTransition()},xe.version="18.3.1",xe}var Jv;function pm(){return Jv||(Jv=1,Wf.exports=FP()),Wf.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zv;function UP(){if(Zv)return Tl;Zv=1;var n=pm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function u(d,f,p){var g,_={},E=null,I=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(I=f.ref);for(g in f)r.call(f,g)&&!a.hasOwnProperty(g)&&(_[g]=f[g]);if(d&&d.defaultProps)for(g in f=d.defaultProps,f)_[g]===void 0&&(_[g]=f[g]);return{$$typeof:e,type:d,key:E,ref:I,props:_,_owner:s.current}}return Tl.Fragment=t,Tl.jsx=u,Tl.jsxs=u,Tl}var e_;function BP(){return e_||(e_=1,Hf.exports=UP()),Hf.exports}var T=BP(),O=pm();const zP=rE(O);var Uc={},qf={exports:{}},on={},Gf={exports:{}},Kf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var t_;function $P(){return t_||(t_=1,(function(n){function e(se,me){var ae=se.length;se.push(me);e:for(;0<ae;){var B=ae-1>>>1,Y=se[B];if(0<s(Y,me))se[B]=me,se[ae]=Y,ae=B;else break e}}function t(se){return se.length===0?null:se[0]}function r(se){if(se.length===0)return null;var me=se[0],ae=se.pop();if(ae!==me){se[0]=ae;e:for(var B=0,Y=se.length,Ce=Y>>>1;B<Ce;){var Ae=2*(B+1)-1,ke=se[Ae],Ne=Ae+1,Be=se[Ne];if(0>s(ke,ae))Ne<Y&&0>s(Be,ke)?(se[B]=Be,se[Ne]=ae,B=Ne):(se[B]=ke,se[Ae]=ae,B=Ae);else if(Ne<Y&&0>s(Be,ae))se[B]=Be,se[Ne]=ae,B=Ne;else break e}}return me}function s(se,me){var ae=se.sortIndex-me.sortIndex;return ae!==0?ae:se.id-me.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var u=Date,d=u.now();n.unstable_now=function(){return u.now()-d}}var f=[],p=[],g=1,_=null,E=3,I=!1,V=!1,x=!1,k=typeof setTimeout=="function"?setTimeout:null,F=typeof clearTimeout=="function"?clearTimeout:null,q=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function H(se){for(var me=t(p);me!==null;){if(me.callback===null)r(p);else if(me.startTime<=se)r(p),me.sortIndex=me.expirationTime,e(f,me);else break;me=t(p)}}function re(se){if(x=!1,H(se),!V)if(t(f)!==null)V=!0,kt(Q);else{var me=t(p);me!==null&&Re(re,me.startTime-se)}}function Q(se,me){V=!1,x&&(x=!1,F(A),A=-1),I=!0;var ae=E;try{for(H(me),_=t(f);_!==null&&(!(_.expirationTime>me)||se&&!M());){var B=_.callback;if(typeof B=="function"){_.callback=null,E=_.priorityLevel;var Y=B(_.expirationTime<=me);me=n.unstable_now(),typeof Y=="function"?_.callback=Y:_===t(f)&&r(f),H(me)}else r(f);_=t(f)}if(_!==null)var Ce=!0;else{var Ae=t(p);Ae!==null&&Re(re,Ae.startTime-me),Ce=!1}return Ce}finally{_=null,E=ae,I=!1}}var ie=!1,D=null,A=-1,P=5,b=-1;function M(){return!(n.unstable_now()-b<P)}function U(){if(D!==null){var se=n.unstable_now();b=se;var me=!0;try{me=D(!0,se)}finally{me?N():(ie=!1,D=null)}}else ie=!1}var N;if(typeof q=="function")N=function(){q(U)};else if(typeof MessageChannel<"u"){var He=new MessageChannel,wt=He.port2;He.port1.onmessage=U,N=function(){wt.postMessage(null)}}else N=function(){k(U,0)};function kt(se){D=se,ie||(ie=!0,N())}function Re(se,me){A=k(function(){se(n.unstable_now())},me)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(se){se.callback=null},n.unstable_continueExecution=function(){V||I||(V=!0,kt(Q))},n.unstable_forceFrameRate=function(se){0>se||125<se?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<se?Math.floor(1e3/se):5},n.unstable_getCurrentPriorityLevel=function(){return E},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(se){switch(E){case 1:case 2:case 3:var me=3;break;default:me=E}var ae=E;E=me;try{return se()}finally{E=ae}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(se,me){switch(se){case 1:case 2:case 3:case 4:case 5:break;default:se=3}var ae=E;E=se;try{return me()}finally{E=ae}},n.unstable_scheduleCallback=function(se,me,ae){var B=n.unstable_now();switch(typeof ae=="object"&&ae!==null?(ae=ae.delay,ae=typeof ae=="number"&&0<ae?B+ae:B):ae=B,se){case 1:var Y=-1;break;case 2:Y=250;break;case 5:Y=1073741823;break;case 4:Y=1e4;break;default:Y=5e3}return Y=ae+Y,se={id:g++,callback:me,priorityLevel:se,startTime:ae,expirationTime:Y,sortIndex:-1},ae>B?(se.sortIndex=ae,e(p,se),t(f)===null&&se===t(p)&&(x?(F(A),A=-1):x=!0,Re(re,ae-B))):(se.sortIndex=Y,e(f,se),V||I||(V=!0,kt(Q))),se},n.unstable_shouldYield=M,n.unstable_wrapCallback=function(se){var me=E;return function(){var ae=E;E=me;try{return se.apply(this,arguments)}finally{E=ae}}}})(Kf)),Kf}var n_;function HP(){return n_||(n_=1,Gf.exports=$P()),Gf.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var r_;function WP(){if(r_)return on;r_=1;var n=pm(),e=HP();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,l=1;l<arguments.length;l++)o+="&args[]="+encodeURIComponent(arguments[l]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){u(i,o),u(i+"Capture",o)}function u(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,g={},_={};function E(i){return f.call(_,i)?!0:f.call(g,i)?!1:p.test(i)?_[i]=!0:(g[i]=!0,!1)}function I(i,o,l,h){if(l!==null&&l.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:l!==null?!l.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function V(i,o,l,h){if(o===null||typeof o>"u"||I(i,o,l,h))return!0;if(h)return!1;if(l!==null)switch(l.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function x(i,o,l,h,m,y,S){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=l,this.propertyName=i,this.type=o,this.sanitizeURL=y,this.removeEmptyString=S}var k={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){k[i]=new x(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];k[o]=new x(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){k[i]=new x(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){k[i]=new x(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){k[i]=new x(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){k[i]=new x(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){k[i]=new x(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){k[i]=new x(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){k[i]=new x(i,5,!1,i.toLowerCase(),null,!1,!1)});var F=/[\-:]([a-z])/g;function q(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(F,q);k[o]=new x(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(F,q);k[o]=new x(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(F,q);k[o]=new x(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){k[i]=new x(i,1,!1,i.toLowerCase(),null,!1,!1)}),k.xlinkHref=new x("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){k[i]=new x(i,1,!1,i.toLowerCase(),null,!0,!0)});function H(i,o,l,h){var m=k.hasOwnProperty(o)?k[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(V(o,l,m,h)&&(l=null),h||m===null?E(o)&&(l===null?i.removeAttribute(o):i.setAttribute(o,""+l)):m.mustUseProperty?i[m.propertyName]=l===null?m.type===3?!1:"":l:(o=m.attributeName,h=m.attributeNamespace,l===null?i.removeAttribute(o):(m=m.type,l=m===3||m===4&&l===!0?"":""+l,h?i.setAttributeNS(h,o,l):i.setAttribute(o,l))))}var re=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Q=Symbol.for("react.element"),ie=Symbol.for("react.portal"),D=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),P=Symbol.for("react.profiler"),b=Symbol.for("react.provider"),M=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),N=Symbol.for("react.suspense"),He=Symbol.for("react.suspense_list"),wt=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Re=Symbol.for("react.offscreen"),se=Symbol.iterator;function me(i){return i===null||typeof i!="object"?null:(i=se&&i[se]||i["@@iterator"],typeof i=="function"?i:null)}var ae=Object.assign,B;function Y(i){if(B===void 0)try{throw Error()}catch(l){var o=l.stack.trim().match(/\n( *(at )?)/);B=o&&o[1]||""}return`
`+B+i}var Ce=!1;function Ae(i,o){if(!i||Ce)return"";Ce=!0;var l=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(i,[],o)}else{try{o.call()}catch(G){h=G}i.call(o.prototype)}else{try{throw Error()}catch(G){h=G}i()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),y=h.stack.split(`
`),S=m.length-1,R=y.length-1;1<=S&&0<=R&&m[S]!==y[R];)R--;for(;1<=S&&0<=R;S--,R--)if(m[S]!==y[R]){if(S!==1||R!==1)do if(S--,R--,0>R||m[S]!==y[R]){var L=`
`+m[S].replace(" at new "," at ");return i.displayName&&L.includes("<anonymous>")&&(L=L.replace("<anonymous>",i.displayName)),L}while(1<=S&&0<=R);break}}}finally{Ce=!1,Error.prepareStackTrace=l}return(i=i?i.displayName||i.name:"")?Y(i):""}function ke(i){switch(i.tag){case 5:return Y(i.type);case 16:return Y("Lazy");case 13:return Y("Suspense");case 19:return Y("SuspenseList");case 0:case 2:case 15:return i=Ae(i.type,!1),i;case 11:return i=Ae(i.type.render,!1),i;case 1:return i=Ae(i.type,!0),i;default:return""}}function Ne(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case D:return"Fragment";case ie:return"Portal";case P:return"Profiler";case A:return"StrictMode";case N:return"Suspense";case He:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case M:return(i.displayName||"Context")+".Consumer";case b:return(i._context.displayName||"Context")+".Provider";case U:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case wt:return o=i.displayName||null,o!==null?o:Ne(i.type)||"Memo";case kt:o=i._payload,i=i._init;try{return Ne(i(o))}catch{}}return null}function Be(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ne(o);case 8:return o===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Oe(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function qe(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function Yt(i){var o=qe(i)?"checked":"value",l=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),h=""+i[o];if(!i.hasOwnProperty(o)&&typeof l<"u"&&typeof l.get=="function"&&typeof l.set=="function"){var m=l.get,y=l.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return m.call(this)},set:function(S){h=""+S,y.call(this,S)}}),Object.defineProperty(i,o,{enumerable:l.enumerable}),{getValue:function(){return h},setValue:function(S){h=""+S},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function Js(i){i._valueTracker||(i._valueTracker=Yt(i))}function Ra(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var l=o.getValue(),h="";return i&&(h=qe(i)?i.checked?"true":"false":i.value),i=h,i!==l?(o.setValue(i),!0):!1}function ii(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Zs(i,o){var l=o.checked;return ae({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:l??i._wrapperState.initialChecked})}function Pu(i,o){var l=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;l=Oe(o.value!=null?o.value:l),i._wrapperState={initialChecked:h,initialValue:l,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function eo(i,o){o=o.checked,o!=null&&H(i,"checked",o,!1)}function as(i,o){eo(i,o);var l=Oe(o.value),h=o.type;if(l!=null)h==="number"?(l===0&&i.value===""||i.value!=l)&&(i.value=""+l):i.value!==""+l&&(i.value=""+l);else if(h==="submit"||h==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?mt(i,o.type,l):o.hasOwnProperty("defaultValue")&&mt(i,o.type,Oe(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function xa(i,o,l){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,l||o===i.value||(i.value=o),i.defaultValue=o}l=i.name,l!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,l!==""&&(i.name=l)}function mt(i,o,l){(o!=="number"||ii(i.ownerDocument)!==i)&&(l==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+l&&(i.defaultValue=""+l))}var ct=Array.isArray;function Ln(i,o,l,h){if(i=i.options,o){o={};for(var m=0;m<l.length;m++)o["$"+l[m]]=!0;for(l=0;l<i.length;l++)m=o.hasOwnProperty("$"+i[l].value),i[l].selected!==m&&(i[l].selected=m),m&&h&&(i[l].defaultSelected=!0)}else{for(l=""+Oe(l),o=null,m=0;m<i.length;m++){if(i[m].value===l){i[m].selected=!0,h&&(i[m].defaultSelected=!0);return}o!==null||i[m].disabled||(o=i[m])}o!==null&&(o.selected=!0)}}function ka(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return ae({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function Na(i,o){var l=o.value;if(l==null){if(l=o.children,o=o.defaultValue,l!=null){if(o!=null)throw Error(t(92));if(ct(l)){if(1<l.length)throw Error(t(93));l=l[0]}o=l}o==null&&(o=""),l=o}i._wrapperState={initialValue:Oe(l)}}function Cu(i,o){var l=Oe(o.value),h=Oe(o.defaultValue);l!=null&&(l=""+l,l!==i.value&&(i.value=l),o.defaultValue==null&&i.defaultValue!==l&&(i.defaultValue=l)),h!=null&&(i.defaultValue=""+h)}function si(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Da(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function to(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Da(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var oi,Au=(function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,l,h,m){MSApp.execUnsafeLocalFunction(function(){return i(o,l,h,m)})}:i})(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(oi=oi||document.createElement("div"),oi.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=oi.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function ls(i,o){if(o){var l=i.firstChild;if(l&&l===i.lastChild&&l.nodeType===3){l.nodeValue=o;return}}i.textContent=o}var ai={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Ru=["Webkit","ms","Moz","O"];Object.keys(ai).forEach(function(i){Ru.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),ai[o]=ai[i]})});function li(i,o,l){return o==null||typeof o=="boolean"||o===""?"":l||typeof o!="number"||o===0||ai.hasOwnProperty(i)&&ai[i]?(""+o).trim():o+"px"}function no(i,o){i=i.style;for(var l in o)if(o.hasOwnProperty(l)){var h=l.indexOf("--")===0,m=li(l,o[l],h);l==="float"&&(l="cssFloat"),h?i.setProperty(l,m):i[l]=m}}var Va=ae({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function On(i,o){if(o){if(Va[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function ro(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ui=null;function io(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var Rr=null,xr=null,at=null;function ba(i){if(i=al(i)){if(typeof Rr!="function")throw Error(t(280));var o=i.stateNode;o&&(o=tc(o),Rr(i.stateNode,i.type,o))}}function ci(i){xr?at?at.push(i):at=[i]:xr=i}function hi(){if(xr){var i=xr,o=at;if(at=xr=null,ba(i),o)for(i=0;i<o.length;i++)ba(o[i])}}function xu(i,o){return i(o)}function ku(){}var Jn=!1;function Nu(i,o,l){if(Jn)return i(o,l);Jn=!0;try{return xu(i,o,l)}finally{Jn=!1,(xr!==null||at!==null)&&(ku(),hi())}}function us(i,o){var l=i.stateNode;if(l===null)return null;var h=tc(l);if(h===null)return null;l=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(i=i.type,h=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!h;break e;default:i=!1}if(i)return null;if(l&&typeof l!="function")throw Error(t(231,o,typeof l));return l}var di=!1;if(d)try{var fi={};Object.defineProperty(fi,"passive",{get:function(){di=!0}}),window.addEventListener("test",fi,fi),window.removeEventListener("test",fi,fi)}catch{di=!1}function Du(i,o,l,h,m,y,S,R,L){var G=Array.prototype.slice.call(arguments,3);try{o.apply(l,G)}catch(ee){this.onError(ee)}}var kr=!1,Zn=null,so=!1,Sn=null,Vu={onError:function(i){kr=!0,Zn=i}};function bu(i,o,l,h,m,y,S,R,L){kr=!1,Zn=null,Du.apply(Vu,arguments)}function Ma(i,o,l,h,m,y,S,R,L){if(bu.apply(this,arguments),kr){if(kr){var G=Zn;kr=!1,Zn=null}else throw Error(t(198));so||(so=!0,Sn=G)}}function jn(i){var o=i,l=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(l=o.return),i=o.return;while(i)}return o.tag===3?l:null}function La(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Mu(i){if(jn(i)!==i)throw Error(t(188))}function Lu(i){var o=i.alternate;if(!o){if(o=jn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var l=i,h=o;;){var m=l.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){l=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===l)return Mu(m),i;if(y===h)return Mu(m),o;y=y.sibling}throw Error(t(188))}if(l.return!==h.return)l=m,h=y;else{for(var S=!1,R=m.child;R;){if(R===l){S=!0,l=m,h=y;break}if(R===h){S=!0,h=m,l=y;break}R=R.sibling}if(!S){for(R=y.child;R;){if(R===l){S=!0,l=y,h=m;break}if(R===h){S=!0,h=y,l=m;break}R=R.sibling}if(!S)throw Error(t(189))}}if(l.alternate!==h)throw Error(t(190))}if(l.tag!==3)throw Error(t(188));return l.stateNode.current===l?i:o}function Ou(i){return i=Lu(i),i!==null?cs(i):null}function cs(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=cs(i);if(o!==null)return o;i=i.sibling}return null}var Oa=e.unstable_scheduleCallback,oo=e.unstable_cancelCallback,hs=e.unstable_shouldYield,Nr=e.unstable_requestPaint,Qe=e.unstable_now,wd=e.unstable_getCurrentPriorityLevel,ao=e.unstable_ImmediatePriority,ja=e.unstable_UserBlockingPriority,ds=e.unstable_NormalPriority,Fa=e.unstable_LowPriority,lo=e.unstable_IdlePriority,fs=null,cn=null;function ju(i){if(cn&&typeof cn.onCommitFiberRoot=="function")try{cn.onCommitFiberRoot(fs,i,void 0,(i.current.flags&128)===128)}catch{}}var hn=Math.clz32?Math.clz32:ps,er=Math.log,In=Math.LN2;function ps(i){return i>>>=0,i===0?32:31-(er(i)/In|0)|0}var tr=64,pi=4194304;function Ue(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function Dr(i,o){var l=i.pendingLanes;if(l===0)return 0;var h=0,m=i.suspendedLanes,y=i.pingedLanes,S=l&268435455;if(S!==0){var R=S&~m;R!==0?h=Ue(R):(y&=S,y!==0&&(h=Ue(y)))}else S=l&~m,S!==0?h=Ue(S):y!==0&&(h=Ue(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=l&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=h;0<o;)l=31-hn(o),m=1<<l,h|=i[l],o&=~m;return h}function ms(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gs(i,o){for(var l=i.suspendedLanes,h=i.pingedLanes,m=i.expirationTimes,y=i.pendingLanes;0<y;){var S=31-hn(y),R=1<<S,L=m[S];L===-1?((R&l)===0||(R&h)!==0)&&(m[S]=ms(R,o)):L<=o&&(i.expiredLanes|=R),y&=~R}}function Ua(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Ba(){var i=tr;return tr<<=1,(tr&4194240)===0&&(tr=64),i}function za(i){for(var o=[],l=0;31>l;l++)o.push(i);return o}function ys(i,o,l){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-hn(o),i[o]=l}function Ed(i,o){var l=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var h=i.eventTimes;for(i=i.expirationTimes;0<l;){var m=31-hn(l),y=1<<m;o[m]=0,h[m]=-1,i[m]=-1,l&=~y}}function $a(i,o){var l=i.entangledLanes|=o;for(i=i.entanglements;l;){var h=31-hn(l),m=1<<h;m&o|i[h]&o&&(i[h]|=o),l&=~m}}var Me=0;function nr(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ha,uo,Wa,qa,Ga,rr=!1,co=[],ir=null,sr=null,Nt=null,vs=new Map,Vr=new Map,dn=[],Fu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function mi(i,o){switch(i){case"focusin":case"focusout":ir=null;break;case"dragenter":case"dragleave":sr=null;break;case"mouseover":case"mouseout":Nt=null;break;case"pointerover":case"pointerout":vs.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(o.pointerId)}}function Fn(i,o,l,h,m,y){return i===null||i.nativeEvent!==y?(i={blockedOn:o,domEventName:l,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=al(o),o!==null&&uo(o)),i):(i.eventSystemFlags|=h,o=i.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),i)}function Uu(i,o,l,h,m){switch(o){case"focusin":return ir=Fn(ir,i,o,l,h,m),!0;case"dragenter":return sr=Fn(sr,i,o,l,h,m),!0;case"mouseover":return Nt=Fn(Nt,i,o,l,h,m),!0;case"pointerover":var y=m.pointerId;return vs.set(y,Fn(vs.get(y)||null,i,o,l,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Vr.set(y,Fn(Vr.get(y)||null,i,o,l,h,m)),!0}return!1}function ho(i){var o=Ts(i.target);if(o!==null){var l=jn(o);if(l!==null){if(o=l.tag,o===13){if(o=La(l),o!==null){i.blockedOn=o,Ga(i.priority,function(){Wa(l)});return}}else if(o===3&&l.stateNode.current.memoizedState.isDehydrated){i.blockedOn=l.tag===3?l.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Ge(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var l=fo(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(l===null){l=i.nativeEvent;var h=new l.constructor(l.type,l);ui=h,l.target.dispatchEvent(h),ui=null}else return o=al(l),o!==null&&uo(o),i.blockedOn=l,!1;o.shift()}return!0}function Bu(i,o,l){Ge(i)&&l.delete(o)}function Td(){rr=!1,ir!==null&&Ge(ir)&&(ir=null),sr!==null&&Ge(sr)&&(sr=null),Nt!==null&&Ge(Nt)&&(Nt=null),vs.forEach(Bu),Vr.forEach(Bu)}function gi(i,o){i.blockedOn===o&&(i.blockedOn=null,rr||(rr=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Td)))}function yi(i){function o(m){return gi(m,i)}if(0<co.length){gi(co[0],i);for(var l=1;l<co.length;l++){var h=co[l];h.blockedOn===i&&(h.blockedOn=null)}}for(ir!==null&&gi(ir,i),sr!==null&&gi(sr,i),Nt!==null&&gi(Nt,i),vs.forEach(o),Vr.forEach(o),l=0;l<dn.length;l++)h=dn[l],h.blockedOn===i&&(h.blockedOn=null);for(;0<dn.length&&(l=dn[0],l.blockedOn===null);)ho(l),l.blockedOn===null&&dn.shift()}var br=re.ReactCurrentBatchConfig,Mr=!0;function or(i,o,l,h){var m=Me,y=br.transition;br.transition=null;try{Me=1,Ka(i,o,l,h)}finally{Me=m,br.transition=y}}function zu(i,o,l,h){var m=Me,y=br.transition;br.transition=null;try{Me=4,Ka(i,o,l,h)}finally{Me=m,br.transition=y}}function Ka(i,o,l,h){if(Mr){var m=fo(i,o,l,h);if(m===null)Vd(i,o,h,ar,l),mi(i,h);else if(Uu(m,i,o,l,h))h.stopPropagation();else if(mi(i,h),o&4&&-1<Fu.indexOf(i)){for(;m!==null;){var y=al(m);if(y!==null&&Ha(y),y=fo(i,o,l,h),y===null&&Vd(i,o,h,ar,l),y===m)break;m=y}m!==null&&h.stopPropagation()}else Vd(i,o,h,null,l)}}var ar=null;function fo(i,o,l,h){if(ar=null,i=io(h),i=Ts(i),i!==null)if(o=jn(i),o===null)i=null;else if(l=o.tag,l===13){if(i=La(o),i!==null)return i;i=null}else if(l===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return ar=i,null}function po(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(wd()){case ao:return 1;case ja:return 4;case ds:case Fa:return 16;case lo:return 536870912;default:return 16}default:return 16}}var fn=null,mo=null,Lr=null;function $u(){if(Lr)return Lr;var i,o=mo,l=o.length,h,m="value"in fn?fn.value:fn.textContent,y=m.length;for(i=0;i<l&&o[i]===m[i];i++);var S=l-i;for(h=1;h<=S&&o[l-h]===m[y-h];h++);return Lr=m.slice(i,1<h?1-h:void 0)}function _s(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function lr(){return!0}function Qa(){return!1}function Ut(i){function o(l,h,m,y,S){this._reactName=l,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=S,this.currentTarget=null;for(var R in i)i.hasOwnProperty(R)&&(l=i[R],this[R]=l?l(y):y[R]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?lr:Qa,this.isPropagationStopped=Qa,this}return ae(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var l=this.nativeEvent;l&&(l.preventDefault?l.preventDefault():typeof l.returnValue!="unknown"&&(l.returnValue=!1),this.isDefaultPrevented=lr)},stopPropagation:function(){var l=this.nativeEvent;l&&(l.stopPropagation?l.stopPropagation():typeof l.cancelBubble!="unknown"&&(l.cancelBubble=!0),this.isPropagationStopped=lr)},persist:function(){},isPersistent:lr}),o}var ur={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ws=Ut(ur),vi=ae({},ur,{view:0,detail:0}),go=Ut(vi),yo,vo,pn,Es=ae({},vi,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ie,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==pn&&(pn&&i.type==="mousemove"?(yo=i.screenX-pn.screenX,vo=i.screenY-pn.screenY):vo=yo=0,pn=i),yo)},movementY:function(i){return"movementY"in i?i.movementY:vo}}),Xa=Ut(Es),Hu=ae({},Es,{dataTransfer:0}),Wu=Ut(Hu),_o=ae({},vi,{relatedTarget:0}),Dt=Ut(_o),qu=ae({},ur,{animationName:0,elapsedTime:0,pseudoElement:0}),Gu=Ut(qu),_i=ae({},ur,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),c=Ut(_i),v=ae({},ur,{data:0}),w=Ut(v),C={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},K={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function oe(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=K[i])?!!o[i]:!1}function Ie(){return oe}var ht=ae({},vi,{key:function(i){if(i.key){var o=C[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=_s(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?$[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ie,charCode:function(i){return i.type==="keypress"?_s(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?_s(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),We=Ut(ht),gt=ae({},Es,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),mn=Ut(gt),Or=ae({},vi,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ie}),cr=Ut(Or),hr=ae({},ur,{propertyName:0,elapsedTime:0,pseudoElement:0}),wo=Ut(hr),Ya=ae({},Es,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),VI=Ut(Ya),bI=[9,13,27,32],Sd=d&&"CompositionEvent"in window,Ja=null;d&&"documentMode"in document&&(Ja=document.documentMode);var MI=d&&"TextEvent"in window&&!Ja,$g=d&&(!Sd||Ja&&8<Ja&&11>=Ja),Hg=" ",Wg=!1;function qg(i,o){switch(i){case"keyup":return bI.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Gg(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Eo=!1;function LI(i,o){switch(i){case"compositionend":return Gg(o);case"keypress":return o.which!==32?null:(Wg=!0,Hg);case"textInput":return i=o.data,i===Hg&&Wg?null:i;default:return null}}function OI(i,o){if(Eo)return i==="compositionend"||!Sd&&qg(i,o)?(i=$u(),Lr=mo=fn=null,Eo=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return $g&&o.locale!=="ko"?null:o.data;default:return null}}var jI={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Kg(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!jI[i.type]:o==="textarea"}function Qg(i,o,l,h){ci(h),o=Ju(o,"onChange"),0<o.length&&(l=new ws("onChange","change",null,l,h),i.push({event:l,listeners:o}))}var Za=null,el=null;function FI(i){fy(i,0)}function Ku(i){var o=Co(i);if(Ra(o))return i}function UI(i,o){if(i==="change")return o}var Xg=!1;if(d){var Id;if(d){var Pd="oninput"in document;if(!Pd){var Yg=document.createElement("div");Yg.setAttribute("oninput","return;"),Pd=typeof Yg.oninput=="function"}Id=Pd}else Id=!1;Xg=Id&&(!document.documentMode||9<document.documentMode)}function Jg(){Za&&(Za.detachEvent("onpropertychange",Zg),el=Za=null)}function Zg(i){if(i.propertyName==="value"&&Ku(el)){var o=[];Qg(o,el,i,io(i)),Nu(FI,o)}}function BI(i,o,l){i==="focusin"?(Jg(),Za=o,el=l,Za.attachEvent("onpropertychange",Zg)):i==="focusout"&&Jg()}function zI(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Ku(el)}function $I(i,o){if(i==="click")return Ku(o)}function HI(i,o){if(i==="input"||i==="change")return Ku(o)}function WI(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var Un=typeof Object.is=="function"?Object.is:WI;function tl(i,o){if(Un(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var l=Object.keys(i),h=Object.keys(o);if(l.length!==h.length)return!1;for(h=0;h<l.length;h++){var m=l[h];if(!f.call(o,m)||!Un(i[m],o[m]))return!1}return!0}function ey(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function ty(i,o){var l=ey(i);i=0;for(var h;l;){if(l.nodeType===3){if(h=i+l.textContent.length,i<=o&&h>=o)return{node:l,offset:o-i};i=h}e:{for(;l;){if(l.nextSibling){l=l.nextSibling;break e}l=l.parentNode}l=void 0}l=ey(l)}}function ny(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?ny(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function ry(){for(var i=window,o=ii();o instanceof i.HTMLIFrameElement;){try{var l=typeof o.contentWindow.location.href=="string"}catch{l=!1}if(l)i=o.contentWindow;else break;o=ii(i.document)}return o}function Cd(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function qI(i){var o=ry(),l=i.focusedElem,h=i.selectionRange;if(o!==l&&l&&l.ownerDocument&&ny(l.ownerDocument.documentElement,l)){if(h!==null&&Cd(l)){if(o=h.start,i=h.end,i===void 0&&(i=o),"selectionStart"in l)l.selectionStart=o,l.selectionEnd=Math.min(i,l.value.length);else if(i=(o=l.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var m=l.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!i.extend&&y>h&&(m=h,h=y,y=m),m=ty(l,y);var S=ty(l,h);m&&S&&(i.rangeCount!==1||i.anchorNode!==m.node||i.anchorOffset!==m.offset||i.focusNode!==S.node||i.focusOffset!==S.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),i.removeAllRanges(),y>h?(i.addRange(o),i.extend(S.node,S.offset)):(o.setEnd(S.node,S.offset),i.addRange(o)))}}for(o=[],i=l;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof l.focus=="function"&&l.focus(),l=0;l<o.length;l++)i=o[l],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var GI=d&&"documentMode"in document&&11>=document.documentMode,To=null,Ad=null,nl=null,Rd=!1;function iy(i,o,l){var h=l.window===l?l.document:l.nodeType===9?l:l.ownerDocument;Rd||To==null||To!==ii(h)||(h=To,"selectionStart"in h&&Cd(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),nl&&tl(nl,h)||(nl=h,h=Ju(Ad,"onSelect"),0<h.length&&(o=new ws("onSelect","select",null,o,l),i.push({event:o,listeners:h}),o.target=To)))}function Qu(i,o){var l={};return l[i.toLowerCase()]=o.toLowerCase(),l["Webkit"+i]="webkit"+o,l["Moz"+i]="moz"+o,l}var So={animationend:Qu("Animation","AnimationEnd"),animationiteration:Qu("Animation","AnimationIteration"),animationstart:Qu("Animation","AnimationStart"),transitionend:Qu("Transition","TransitionEnd")},xd={},sy={};d&&(sy=document.createElement("div").style,"AnimationEvent"in window||(delete So.animationend.animation,delete So.animationiteration.animation,delete So.animationstart.animation),"TransitionEvent"in window||delete So.transitionend.transition);function Xu(i){if(xd[i])return xd[i];if(!So[i])return i;var o=So[i],l;for(l in o)if(o.hasOwnProperty(l)&&l in sy)return xd[i]=o[l];return i}var oy=Xu("animationend"),ay=Xu("animationiteration"),ly=Xu("animationstart"),uy=Xu("transitionend"),cy=new Map,hy="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wi(i,o){cy.set(i,o),a(o,[i])}for(var kd=0;kd<hy.length;kd++){var Nd=hy[kd],KI=Nd.toLowerCase(),QI=Nd[0].toUpperCase()+Nd.slice(1);wi(KI,"on"+QI)}wi(oy,"onAnimationEnd"),wi(ay,"onAnimationIteration"),wi(ly,"onAnimationStart"),wi("dblclick","onDoubleClick"),wi("focusin","onFocus"),wi("focusout","onBlur"),wi(uy,"onTransitionEnd"),u("onMouseEnter",["mouseout","mouseover"]),u("onMouseLeave",["mouseout","mouseover"]),u("onPointerEnter",["pointerout","pointerover"]),u("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var rl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),XI=new Set("cancel close invalid load scroll toggle".split(" ").concat(rl));function dy(i,o,l){var h=i.type||"unknown-event";i.currentTarget=l,Ma(h,o,void 0,i),i.currentTarget=null}function fy(i,o){o=(o&4)!==0;for(var l=0;l<i.length;l++){var h=i[l],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var S=h.length-1;0<=S;S--){var R=h[S],L=R.instance,G=R.currentTarget;if(R=R.listener,L!==y&&m.isPropagationStopped())break e;dy(m,R,G),y=L}else for(S=0;S<h.length;S++){if(R=h[S],L=R.instance,G=R.currentTarget,R=R.listener,L!==y&&m.isPropagationStopped())break e;dy(m,R,G),y=L}}}if(so)throw i=Sn,so=!1,Sn=null,i}function Xe(i,o){var l=o[Fd];l===void 0&&(l=o[Fd]=new Set);var h=i+"__bubble";l.has(h)||(py(o,i,2,!1),l.add(h))}function Dd(i,o,l){var h=0;o&&(h|=4),py(l,i,h,o)}var Yu="_reactListening"+Math.random().toString(36).slice(2);function il(i){if(!i[Yu]){i[Yu]=!0,r.forEach(function(l){l!=="selectionchange"&&(XI.has(l)||Dd(l,!1,i),Dd(l,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Yu]||(o[Yu]=!0,Dd("selectionchange",!1,o))}}function py(i,o,l,h){switch(po(o)){case 1:var m=or;break;case 4:m=zu;break;default:m=Ka}l=m.bind(null,o,l,i),m=void 0,!di||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?i.addEventListener(o,l,{capture:!0,passive:m}):i.addEventListener(o,l,!0):m!==void 0?i.addEventListener(o,l,{passive:m}):i.addEventListener(o,l,!1)}function Vd(i,o,l,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var S=h.tag;if(S===3||S===4){var R=h.stateNode.containerInfo;if(R===m||R.nodeType===8&&R.parentNode===m)break;if(S===4)for(S=h.return;S!==null;){var L=S.tag;if((L===3||L===4)&&(L=S.stateNode.containerInfo,L===m||L.nodeType===8&&L.parentNode===m))return;S=S.return}for(;R!==null;){if(S=Ts(R),S===null)return;if(L=S.tag,L===5||L===6){h=y=S;continue e}R=R.parentNode}}h=h.return}Nu(function(){var G=y,ee=io(l),te=[];e:{var Z=cy.get(i);if(Z!==void 0){var le=ws,he=i;switch(i){case"keypress":if(_s(l)===0)break e;case"keydown":case"keyup":le=We;break;case"focusin":he="focus",le=Dt;break;case"focusout":he="blur",le=Dt;break;case"beforeblur":case"afterblur":le=Dt;break;case"click":if(l.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":le=Xa;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":le=Wu;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":le=cr;break;case oy:case ay:case ly:le=Gu;break;case uy:le=wo;break;case"scroll":le=go;break;case"wheel":le=VI;break;case"copy":case"cut":case"paste":le=c;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":le=mn}var de=(o&4)!==0,dt=!de&&i==="scroll",z=de?Z!==null?Z+"Capture":null:Z;de=[];for(var j=G,W;j!==null;){W=j;var ne=W.stateNode;if(W.tag===5&&ne!==null&&(W=ne,z!==null&&(ne=us(j,z),ne!=null&&de.push(sl(j,ne,W)))),dt)break;j=j.return}0<de.length&&(Z=new le(Z,he,null,l,ee),te.push({event:Z,listeners:de}))}}if((o&7)===0){e:{if(Z=i==="mouseover"||i==="pointerover",le=i==="mouseout"||i==="pointerout",Z&&l!==ui&&(he=l.relatedTarget||l.fromElement)&&(Ts(he)||he[jr]))break e;if((le||Z)&&(Z=ee.window===ee?ee:(Z=ee.ownerDocument)?Z.defaultView||Z.parentWindow:window,le?(he=l.relatedTarget||l.toElement,le=G,he=he?Ts(he):null,he!==null&&(dt=jn(he),he!==dt||he.tag!==5&&he.tag!==6)&&(he=null)):(le=null,he=G),le!==he)){if(de=Xa,ne="onMouseLeave",z="onMouseEnter",j="mouse",(i==="pointerout"||i==="pointerover")&&(de=mn,ne="onPointerLeave",z="onPointerEnter",j="pointer"),dt=le==null?Z:Co(le),W=he==null?Z:Co(he),Z=new de(ne,j+"leave",le,l,ee),Z.target=dt,Z.relatedTarget=W,ne=null,Ts(ee)===G&&(de=new de(z,j+"enter",he,l,ee),de.target=W,de.relatedTarget=dt,ne=de),dt=ne,le&&he)t:{for(de=le,z=he,j=0,W=de;W;W=Io(W))j++;for(W=0,ne=z;ne;ne=Io(ne))W++;for(;0<j-W;)de=Io(de),j--;for(;0<W-j;)z=Io(z),W--;for(;j--;){if(de===z||z!==null&&de===z.alternate)break t;de=Io(de),z=Io(z)}de=null}else de=null;le!==null&&my(te,Z,le,de,!1),he!==null&&dt!==null&&my(te,dt,he,de,!0)}}e:{if(Z=G?Co(G):window,le=Z.nodeName&&Z.nodeName.toLowerCase(),le==="select"||le==="input"&&Z.type==="file")var fe=UI;else if(Kg(Z))if(Xg)fe=HI;else{fe=zI;var ye=BI}else(le=Z.nodeName)&&le.toLowerCase()==="input"&&(Z.type==="checkbox"||Z.type==="radio")&&(fe=$I);if(fe&&(fe=fe(i,G))){Qg(te,fe,l,ee);break e}ye&&ye(i,Z,G),i==="focusout"&&(ye=Z._wrapperState)&&ye.controlled&&Z.type==="number"&&mt(Z,"number",Z.value)}switch(ye=G?Co(G):window,i){case"focusin":(Kg(ye)||ye.contentEditable==="true")&&(To=ye,Ad=G,nl=null);break;case"focusout":nl=Ad=To=null;break;case"mousedown":Rd=!0;break;case"contextmenu":case"mouseup":case"dragend":Rd=!1,iy(te,l,ee);break;case"selectionchange":if(GI)break;case"keydown":case"keyup":iy(te,l,ee)}var ve;if(Sd)e:{switch(i){case"compositionstart":var Te="onCompositionStart";break e;case"compositionend":Te="onCompositionEnd";break e;case"compositionupdate":Te="onCompositionUpdate";break e}Te=void 0}else Eo?qg(i,l)&&(Te="onCompositionEnd"):i==="keydown"&&l.keyCode===229&&(Te="onCompositionStart");Te&&($g&&l.locale!=="ko"&&(Eo||Te!=="onCompositionStart"?Te==="onCompositionEnd"&&Eo&&(ve=$u()):(fn=ee,mo="value"in fn?fn.value:fn.textContent,Eo=!0)),ye=Ju(G,Te),0<ye.length&&(Te=new w(Te,i,null,l,ee),te.push({event:Te,listeners:ye}),ve?Te.data=ve:(ve=Gg(l),ve!==null&&(Te.data=ve)))),(ve=MI?LI(i,l):OI(i,l))&&(G=Ju(G,"onBeforeInput"),0<G.length&&(ee=new w("onBeforeInput","beforeinput",null,l,ee),te.push({event:ee,listeners:G}),ee.data=ve))}fy(te,o)})}function sl(i,o,l){return{instance:i,listener:o,currentTarget:l}}function Ju(i,o){for(var l=o+"Capture",h=[];i!==null;){var m=i,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=us(i,l),y!=null&&h.unshift(sl(i,y,m)),y=us(i,o),y!=null&&h.push(sl(i,y,m))),i=i.return}return h}function Io(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function my(i,o,l,h,m){for(var y=o._reactName,S=[];l!==null&&l!==h;){var R=l,L=R.alternate,G=R.stateNode;if(L!==null&&L===h)break;R.tag===5&&G!==null&&(R=G,m?(L=us(l,y),L!=null&&S.unshift(sl(l,L,R))):m||(L=us(l,y),L!=null&&S.push(sl(l,L,R)))),l=l.return}S.length!==0&&i.push({event:o,listeners:S})}var YI=/\r\n?/g,JI=/\u0000|\uFFFD/g;function gy(i){return(typeof i=="string"?i:""+i).replace(YI,`
`).replace(JI,"")}function Zu(i,o,l){if(o=gy(o),gy(i)!==o&&l)throw Error(t(425))}function ec(){}var bd=null,Md=null;function Ld(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Od=typeof setTimeout=="function"?setTimeout:void 0,ZI=typeof clearTimeout=="function"?clearTimeout:void 0,yy=typeof Promise=="function"?Promise:void 0,eP=typeof queueMicrotask=="function"?queueMicrotask:typeof yy<"u"?function(i){return yy.resolve(null).then(i).catch(tP)}:Od;function tP(i){setTimeout(function(){throw i})}function jd(i,o){var l=o,h=0;do{var m=l.nextSibling;if(i.removeChild(l),m&&m.nodeType===8)if(l=m.data,l==="/$"){if(h===0){i.removeChild(m),yi(o);return}h--}else l!=="$"&&l!=="$?"&&l!=="$!"||h++;l=m}while(l);yi(o)}function Ei(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function vy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="$"||l==="$!"||l==="$?"){if(o===0)return i;o--}else l==="/$"&&o++}i=i.previousSibling}return null}var Po=Math.random().toString(36).slice(2),dr="__reactFiber$"+Po,ol="__reactProps$"+Po,jr="__reactContainer$"+Po,Fd="__reactEvents$"+Po,nP="__reactListeners$"+Po,rP="__reactHandles$"+Po;function Ts(i){var o=i[dr];if(o)return o;for(var l=i.parentNode;l;){if(o=l[jr]||l[dr]){if(l=o.alternate,o.child!==null||l!==null&&l.child!==null)for(i=vy(i);i!==null;){if(l=i[dr])return l;i=vy(i)}return o}i=l,l=i.parentNode}return null}function al(i){return i=i[dr]||i[jr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Co(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function tc(i){return i[ol]||null}var Ud=[],Ao=-1;function Ti(i){return{current:i}}function Ye(i){0>Ao||(i.current=Ud[Ao],Ud[Ao]=null,Ao--)}function Ke(i,o){Ao++,Ud[Ao]=i.current,i.current=o}var Si={},Bt=Ti(Si),en=Ti(!1),Ss=Si;function Ro(i,o){var l=i.type.contextTypes;if(!l)return Si;var h=i.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in l)m[y]=o[y];return h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=m),m}function tn(i){return i=i.childContextTypes,i!=null}function nc(){Ye(en),Ye(Bt)}function _y(i,o,l){if(Bt.current!==Si)throw Error(t(168));Ke(Bt,o),Ke(en,l)}function wy(i,o,l){var h=i.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return l;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(t(108,Be(i)||"Unknown",m));return ae({},l,h)}function rc(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||Si,Ss=Bt.current,Ke(Bt,i),Ke(en,en.current),!0}function Ey(i,o,l){var h=i.stateNode;if(!h)throw Error(t(169));l?(i=wy(i,o,Ss),h.__reactInternalMemoizedMergedChildContext=i,Ye(en),Ye(Bt),Ke(Bt,i)):Ye(en),Ke(en,l)}var Fr=null,ic=!1,Bd=!1;function Ty(i){Fr===null?Fr=[i]:Fr.push(i)}function iP(i){ic=!0,Ty(i)}function Ii(){if(!Bd&&Fr!==null){Bd=!0;var i=0,o=Me;try{var l=Fr;for(Me=1;i<l.length;i++){var h=l[i];do h=h(!0);while(h!==null)}Fr=null,ic=!1}catch(m){throw Fr!==null&&(Fr=Fr.slice(i+1)),Oa(ao,Ii),m}finally{Me=o,Bd=!1}}return null}var xo=[],ko=0,sc=null,oc=0,Pn=[],Cn=0,Is=null,Ur=1,Br="";function Ps(i,o){xo[ko++]=oc,xo[ko++]=sc,sc=i,oc=o}function Sy(i,o,l){Pn[Cn++]=Ur,Pn[Cn++]=Br,Pn[Cn++]=Is,Is=i;var h=Ur;i=Br;var m=32-hn(h)-1;h&=~(1<<m),l+=1;var y=32-hn(o)+m;if(30<y){var S=m-m%5;y=(h&(1<<S)-1).toString(32),h>>=S,m-=S,Ur=1<<32-hn(o)+m|l<<m|h,Br=y+i}else Ur=1<<y|l<<m|h,Br=i}function zd(i){i.return!==null&&(Ps(i,1),Sy(i,1,0))}function $d(i){for(;i===sc;)sc=xo[--ko],xo[ko]=null,oc=xo[--ko],xo[ko]=null;for(;i===Is;)Is=Pn[--Cn],Pn[Cn]=null,Br=Pn[--Cn],Pn[Cn]=null,Ur=Pn[--Cn],Pn[Cn]=null}var gn=null,yn=null,tt=!1,Bn=null;function Iy(i,o){var l=kn(5,null,null,0);l.elementType="DELETED",l.stateNode=o,l.return=i,o=i.deletions,o===null?(i.deletions=[l],i.flags|=16):o.push(l)}function Py(i,o){switch(i.tag){case 5:var l=i.type;return o=o.nodeType!==1||l.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,gn=i,yn=Ei(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,gn=i,yn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(l=Is!==null?{id:Ur,overflow:Br}:null,i.memoizedState={dehydrated:o,treeContext:l,retryLane:1073741824},l=kn(18,null,null,0),l.stateNode=o,l.return=i,i.child=l,gn=i,yn=null,!0):!1;default:return!1}}function Hd(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Wd(i){if(tt){var o=yn;if(o){var l=o;if(!Py(i,o)){if(Hd(i))throw Error(t(418));o=Ei(l.nextSibling);var h=gn;o&&Py(i,o)?Iy(h,l):(i.flags=i.flags&-4097|2,tt=!1,gn=i)}}else{if(Hd(i))throw Error(t(418));i.flags=i.flags&-4097|2,tt=!1,gn=i}}}function Cy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;gn=i}function ac(i){if(i!==gn)return!1;if(!tt)return Cy(i),tt=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!Ld(i.type,i.memoizedProps)),o&&(o=yn)){if(Hd(i))throw Ay(),Error(t(418));for(;o;)Iy(i,o),o=Ei(o.nextSibling)}if(Cy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var l=i.data;if(l==="/$"){if(o===0){yn=Ei(i.nextSibling);break e}o--}else l!=="$"&&l!=="$!"&&l!=="$?"||o++}i=i.nextSibling}yn=null}}else yn=gn?Ei(i.stateNode.nextSibling):null;return!0}function Ay(){for(var i=yn;i;)i=Ei(i.nextSibling)}function No(){yn=gn=null,tt=!1}function qd(i){Bn===null?Bn=[i]:Bn.push(i)}var sP=re.ReactCurrentBatchConfig;function ll(i,o,l){if(i=l.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(l._owner){if(l=l._owner,l){if(l.tag!==1)throw Error(t(309));var h=l.stateNode}if(!h)throw Error(t(147,i));var m=h,y=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(S){var R=m.refs;S===null?delete R[y]:R[y]=S},o._stringRef=y,o)}if(typeof i!="string")throw Error(t(284));if(!l._owner)throw Error(t(290,i))}return i}function lc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function Ry(i){var o=i._init;return o(i._payload)}function xy(i){function o(z,j){if(i){var W=z.deletions;W===null?(z.deletions=[j],z.flags|=16):W.push(j)}}function l(z,j){if(!i)return null;for(;j!==null;)o(z,j),j=j.sibling;return null}function h(z,j){for(z=new Map;j!==null;)j.key!==null?z.set(j.key,j):z.set(j.index,j),j=j.sibling;return z}function m(z,j){return z=Di(z,j),z.index=0,z.sibling=null,z}function y(z,j,W){return z.index=W,i?(W=z.alternate,W!==null?(W=W.index,W<j?(z.flags|=2,j):W):(z.flags|=2,j)):(z.flags|=1048576,j)}function S(z){return i&&z.alternate===null&&(z.flags|=2),z}function R(z,j,W,ne){return j===null||j.tag!==6?(j=jf(W,z.mode,ne),j.return=z,j):(j=m(j,W),j.return=z,j)}function L(z,j,W,ne){var fe=W.type;return fe===D?ee(z,j,W.props.children,ne,W.key):j!==null&&(j.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&Ry(fe)===j.type)?(ne=m(j,W.props),ne.ref=ll(z,j,W),ne.return=z,ne):(ne=Dc(W.type,W.key,W.props,null,z.mode,ne),ne.ref=ll(z,j,W),ne.return=z,ne)}function G(z,j,W,ne){return j===null||j.tag!==4||j.stateNode.containerInfo!==W.containerInfo||j.stateNode.implementation!==W.implementation?(j=Ff(W,z.mode,ne),j.return=z,j):(j=m(j,W.children||[]),j.return=z,j)}function ee(z,j,W,ne,fe){return j===null||j.tag!==7?(j=Vs(W,z.mode,ne,fe),j.return=z,j):(j=m(j,W),j.return=z,j)}function te(z,j,W){if(typeof j=="string"&&j!==""||typeof j=="number")return j=jf(""+j,z.mode,W),j.return=z,j;if(typeof j=="object"&&j!==null){switch(j.$$typeof){case Q:return W=Dc(j.type,j.key,j.props,null,z.mode,W),W.ref=ll(z,null,j),W.return=z,W;case ie:return j=Ff(j,z.mode,W),j.return=z,j;case kt:var ne=j._init;return te(z,ne(j._payload),W)}if(ct(j)||me(j))return j=Vs(j,z.mode,W,null),j.return=z,j;lc(z,j)}return null}function Z(z,j,W,ne){var fe=j!==null?j.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return fe!==null?null:R(z,j,""+W,ne);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:return W.key===fe?L(z,j,W,ne):null;case ie:return W.key===fe?G(z,j,W,ne):null;case kt:return fe=W._init,Z(z,j,fe(W._payload),ne)}if(ct(W)||me(W))return fe!==null?null:ee(z,j,W,ne,null);lc(z,W)}return null}function le(z,j,W,ne,fe){if(typeof ne=="string"&&ne!==""||typeof ne=="number")return z=z.get(W)||null,R(j,z,""+ne,fe);if(typeof ne=="object"&&ne!==null){switch(ne.$$typeof){case Q:return z=z.get(ne.key===null?W:ne.key)||null,L(j,z,ne,fe);case ie:return z=z.get(ne.key===null?W:ne.key)||null,G(j,z,ne,fe);case kt:var ye=ne._init;return le(z,j,W,ye(ne._payload),fe)}if(ct(ne)||me(ne))return z=z.get(W)||null,ee(j,z,ne,fe,null);lc(j,ne)}return null}function he(z,j,W,ne){for(var fe=null,ye=null,ve=j,Te=j=0,At=null;ve!==null&&Te<W.length;Te++){ve.index>Te?(At=ve,ve=null):At=ve.sibling;var Fe=Z(z,ve,W[Te],ne);if(Fe===null){ve===null&&(ve=At);break}i&&ve&&Fe.alternate===null&&o(z,ve),j=y(Fe,j,Te),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe,ve=At}if(Te===W.length)return l(z,ve),tt&&Ps(z,Te),fe;if(ve===null){for(;Te<W.length;Te++)ve=te(z,W[Te],ne),ve!==null&&(j=y(ve,j,Te),ye===null?fe=ve:ye.sibling=ve,ye=ve);return tt&&Ps(z,Te),fe}for(ve=h(z,ve);Te<W.length;Te++)At=le(ve,z,Te,W[Te],ne),At!==null&&(i&&At.alternate!==null&&ve.delete(At.key===null?Te:At.key),j=y(At,j,Te),ye===null?fe=At:ye.sibling=At,ye=At);return i&&ve.forEach(function(Vi){return o(z,Vi)}),tt&&Ps(z,Te),fe}function de(z,j,W,ne){var fe=me(W);if(typeof fe!="function")throw Error(t(150));if(W=fe.call(W),W==null)throw Error(t(151));for(var ye=fe=null,ve=j,Te=j=0,At=null,Fe=W.next();ve!==null&&!Fe.done;Te++,Fe=W.next()){ve.index>Te?(At=ve,ve=null):At=ve.sibling;var Vi=Z(z,ve,Fe.value,ne);if(Vi===null){ve===null&&(ve=At);break}i&&ve&&Vi.alternate===null&&o(z,ve),j=y(Vi,j,Te),ye===null?fe=Vi:ye.sibling=Vi,ye=Vi,ve=At}if(Fe.done)return l(z,ve),tt&&Ps(z,Te),fe;if(ve===null){for(;!Fe.done;Te++,Fe=W.next())Fe=te(z,Fe.value,ne),Fe!==null&&(j=y(Fe,j,Te),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return tt&&Ps(z,Te),fe}for(ve=h(z,ve);!Fe.done;Te++,Fe=W.next())Fe=le(ve,z,Te,Fe.value,ne),Fe!==null&&(i&&Fe.alternate!==null&&ve.delete(Fe.key===null?Te:Fe.key),j=y(Fe,j,Te),ye===null?fe=Fe:ye.sibling=Fe,ye=Fe);return i&&ve.forEach(function(jP){return o(z,jP)}),tt&&Ps(z,Te),fe}function dt(z,j,W,ne){if(typeof W=="object"&&W!==null&&W.type===D&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case Q:e:{for(var fe=W.key,ye=j;ye!==null;){if(ye.key===fe){if(fe=W.type,fe===D){if(ye.tag===7){l(z,ye.sibling),j=m(ye,W.props.children),j.return=z,z=j;break e}}else if(ye.elementType===fe||typeof fe=="object"&&fe!==null&&fe.$$typeof===kt&&Ry(fe)===ye.type){l(z,ye.sibling),j=m(ye,W.props),j.ref=ll(z,ye,W),j.return=z,z=j;break e}l(z,ye);break}else o(z,ye);ye=ye.sibling}W.type===D?(j=Vs(W.props.children,z.mode,ne,W.key),j.return=z,z=j):(ne=Dc(W.type,W.key,W.props,null,z.mode,ne),ne.ref=ll(z,j,W),ne.return=z,z=ne)}return S(z);case ie:e:{for(ye=W.key;j!==null;){if(j.key===ye)if(j.tag===4&&j.stateNode.containerInfo===W.containerInfo&&j.stateNode.implementation===W.implementation){l(z,j.sibling),j=m(j,W.children||[]),j.return=z,z=j;break e}else{l(z,j);break}else o(z,j);j=j.sibling}j=Ff(W,z.mode,ne),j.return=z,z=j}return S(z);case kt:return ye=W._init,dt(z,j,ye(W._payload),ne)}if(ct(W))return he(z,j,W,ne);if(me(W))return de(z,j,W,ne);lc(z,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,j!==null&&j.tag===6?(l(z,j.sibling),j=m(j,W),j.return=z,z=j):(l(z,j),j=jf(W,z.mode,ne),j.return=z,z=j),S(z)):l(z,j)}return dt}var Do=xy(!0),ky=xy(!1),uc=Ti(null),cc=null,Vo=null,Gd=null;function Kd(){Gd=Vo=cc=null}function Qd(i){var o=uc.current;Ye(uc),i._currentValue=o}function Xd(i,o,l){for(;i!==null;){var h=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),i===l)break;i=i.return}}function bo(i,o){cc=i,Gd=Vo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(nn=!0),i.firstContext=null)}function An(i){var o=i._currentValue;if(Gd!==i)if(i={context:i,memoizedValue:o,next:null},Vo===null){if(cc===null)throw Error(t(308));Vo=i,cc.dependencies={lanes:0,firstContext:i}}else Vo=Vo.next=i;return o}var Cs=null;function Yd(i){Cs===null?Cs=[i]:Cs.push(i)}function Ny(i,o,l,h){var m=o.interleaved;return m===null?(l.next=l,Yd(o)):(l.next=m.next,m.next=l),o.interleaved=l,zr(i,h)}function zr(i,o){i.lanes|=o;var l=i.alternate;for(l!==null&&(l.lanes|=o),l=i,i=i.return;i!==null;)i.childLanes|=o,l=i.alternate,l!==null&&(l.childLanes|=o),l=i,i=i.return;return l.tag===3?l.stateNode:null}var Pi=!1;function Jd(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Dy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function $r(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ci(i,o,l){var h=i.updateQueue;if(h===null)return null;if(h=h.shared,(je&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,zr(i,l)}return m=h.interleaved,m===null?(o.next=o,Yd(h)):(o.next=m.next,m.next=o),h.interleaved=o,zr(i,l)}function hc(i,o,l){if(o=o.updateQueue,o!==null&&(o=o.shared,(l&4194240)!==0)){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,$a(i,l)}}function Vy(i,o){var l=i.updateQueue,h=i.alternate;if(h!==null&&(h=h.updateQueue,l===h)){var m=null,y=null;if(l=l.firstBaseUpdate,l!==null){do{var S={eventTime:l.eventTime,lane:l.lane,tag:l.tag,payload:l.payload,callback:l.callback,next:null};y===null?m=y=S:y=y.next=S,l=l.next}while(l!==null);y===null?m=y=o:y=y.next=o}else m=y=o;l={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},i.updateQueue=l;return}i=l.lastBaseUpdate,i===null?l.firstBaseUpdate=o:i.next=o,l.lastBaseUpdate=o}function dc(i,o,l,h){var m=i.updateQueue;Pi=!1;var y=m.firstBaseUpdate,S=m.lastBaseUpdate,R=m.shared.pending;if(R!==null){m.shared.pending=null;var L=R,G=L.next;L.next=null,S===null?y=G:S.next=G,S=L;var ee=i.alternate;ee!==null&&(ee=ee.updateQueue,R=ee.lastBaseUpdate,R!==S&&(R===null?ee.firstBaseUpdate=G:R.next=G,ee.lastBaseUpdate=L))}if(y!==null){var te=m.baseState;S=0,ee=G=L=null,R=y;do{var Z=R.lane,le=R.eventTime;if((h&Z)===Z){ee!==null&&(ee=ee.next={eventTime:le,lane:0,tag:R.tag,payload:R.payload,callback:R.callback,next:null});e:{var he=i,de=R;switch(Z=o,le=l,de.tag){case 1:if(he=de.payload,typeof he=="function"){te=he.call(le,te,Z);break e}te=he;break e;case 3:he.flags=he.flags&-65537|128;case 0:if(he=de.payload,Z=typeof he=="function"?he.call(le,te,Z):he,Z==null)break e;te=ae({},te,Z);break e;case 2:Pi=!0}}R.callback!==null&&R.lane!==0&&(i.flags|=64,Z=m.effects,Z===null?m.effects=[R]:Z.push(R))}else le={eventTime:le,lane:Z,tag:R.tag,payload:R.payload,callback:R.callback,next:null},ee===null?(G=ee=le,L=te):ee=ee.next=le,S|=Z;if(R=R.next,R===null){if(R=m.shared.pending,R===null)break;Z=R,R=Z.next,Z.next=null,m.lastBaseUpdate=Z,m.shared.pending=null}}while(!0);if(ee===null&&(L=te),m.baseState=L,m.firstBaseUpdate=G,m.lastBaseUpdate=ee,o=m.shared.interleaved,o!==null){m=o;do S|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);xs|=S,i.lanes=S,i.memoizedState=te}}function by(i,o,l){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var h=i[o],m=h.callback;if(m!==null){if(h.callback=null,h=l,typeof m!="function")throw Error(t(191,m));m.call(h)}}}var ul={},fr=Ti(ul),cl=Ti(ul),hl=Ti(ul);function As(i){if(i===ul)throw Error(t(174));return i}function Zd(i,o){switch(Ke(hl,o),Ke(cl,i),Ke(fr,ul),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:to(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=to(o,i)}Ye(fr),Ke(fr,o)}function Mo(){Ye(fr),Ye(cl),Ye(hl)}function My(i){As(hl.current);var o=As(fr.current),l=to(o,i.type);o!==l&&(Ke(cl,i),Ke(fr,l))}function ef(i){cl.current===i&&(Ye(fr),Ye(cl))}var rt=Ti(0);function fc(i){for(var o=i;o!==null;){if(o.tag===13){var l=o.memoizedState;if(l!==null&&(l=l.dehydrated,l===null||l.data==="$?"||l.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var tf=[];function nf(){for(var i=0;i<tf.length;i++)tf[i]._workInProgressVersionPrimary=null;tf.length=0}var pc=re.ReactCurrentDispatcher,rf=re.ReactCurrentBatchConfig,Rs=0,it=null,Et=null,Pt=null,mc=!1,dl=!1,fl=0,oP=0;function zt(){throw Error(t(321))}function sf(i,o){if(o===null)return!1;for(var l=0;l<o.length&&l<i.length;l++)if(!Un(i[l],o[l]))return!1;return!0}function of(i,o,l,h,m,y){if(Rs=y,it=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,pc.current=i===null||i.memoizedState===null?cP:hP,i=l(h,m),dl){y=0;do{if(dl=!1,fl=0,25<=y)throw Error(t(301));y+=1,Pt=Et=null,o.updateQueue=null,pc.current=dP,i=l(h,m)}while(dl)}if(pc.current=vc,o=Et!==null&&Et.next!==null,Rs=0,Pt=Et=it=null,mc=!1,o)throw Error(t(300));return i}function af(){var i=fl!==0;return fl=0,i}function pr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Pt===null?it.memoizedState=Pt=i:Pt=Pt.next=i,Pt}function Rn(){if(Et===null){var i=it.alternate;i=i!==null?i.memoizedState:null}else i=Et.next;var o=Pt===null?it.memoizedState:Pt.next;if(o!==null)Pt=o,Et=i;else{if(i===null)throw Error(t(310));Et=i,i={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},Pt===null?it.memoizedState=Pt=i:Pt=Pt.next=i}return Pt}function pl(i,o){return typeof o=="function"?o(i):o}function lf(i){var o=Rn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=Et,m=h.baseQueue,y=l.pending;if(y!==null){if(m!==null){var S=m.next;m.next=y.next,y.next=S}h.baseQueue=m=y,l.pending=null}if(m!==null){y=m.next,h=h.baseState;var R=S=null,L=null,G=y;do{var ee=G.lane;if((Rs&ee)===ee)L!==null&&(L=L.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:i(h,G.action);else{var te={lane:ee,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};L===null?(R=L=te,S=h):L=L.next=te,it.lanes|=ee,xs|=ee}G=G.next}while(G!==null&&G!==y);L===null?S=h:L.next=R,Un(h,o.memoizedState)||(nn=!0),o.memoizedState=h,o.baseState=S,o.baseQueue=L,l.lastRenderedState=h}if(i=l.interleaved,i!==null){m=i;do y=m.lane,it.lanes|=y,xs|=y,m=m.next;while(m!==i)}else m===null&&(l.lanes=0);return[o.memoizedState,l.dispatch]}function uf(i){var o=Rn(),l=o.queue;if(l===null)throw Error(t(311));l.lastRenderedReducer=i;var h=l.dispatch,m=l.pending,y=o.memoizedState;if(m!==null){l.pending=null;var S=m=m.next;do y=i(y,S.action),S=S.next;while(S!==m);Un(y,o.memoizedState)||(nn=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),l.lastRenderedState=y}return[y,h]}function Ly(){}function Oy(i,o){var l=it,h=Rn(),m=o(),y=!Un(h.memoizedState,m);if(y&&(h.memoizedState=m,nn=!0),h=h.queue,cf(Uy.bind(null,l,h,i),[i]),h.getSnapshot!==o||y||Pt!==null&&Pt.memoizedState.tag&1){if(l.flags|=2048,ml(9,Fy.bind(null,l,h,m,o),void 0,null),Ct===null)throw Error(t(349));(Rs&30)!==0||jy(l,o,m)}return m}function jy(i,o,l){i.flags|=16384,i={getSnapshot:o,value:l},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.stores=[i]):(l=o.stores,l===null?o.stores=[i]:l.push(i))}function Fy(i,o,l,h){o.value=l,o.getSnapshot=h,By(o)&&zy(i)}function Uy(i,o,l){return l(function(){By(o)&&zy(i)})}function By(i){var o=i.getSnapshot;i=i.value;try{var l=o();return!Un(i,l)}catch{return!0}}function zy(i){var o=zr(i,1);o!==null&&Wn(o,i,1,-1)}function $y(i){var o=pr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pl,lastRenderedState:i},o.queue=i,i=i.dispatch=uP.bind(null,it,i),[o.memoizedState,i]}function ml(i,o,l,h){return i={tag:i,create:o,destroy:l,deps:h,next:null},o=it.updateQueue,o===null?(o={lastEffect:null,stores:null},it.updateQueue=o,o.lastEffect=i.next=i):(l=o.lastEffect,l===null?o.lastEffect=i.next=i:(h=l.next,l.next=i,i.next=h,o.lastEffect=i)),i}function Hy(){return Rn().memoizedState}function gc(i,o,l,h){var m=pr();it.flags|=i,m.memoizedState=ml(1|o,l,void 0,h===void 0?null:h)}function yc(i,o,l,h){var m=Rn();h=h===void 0?null:h;var y=void 0;if(Et!==null){var S=Et.memoizedState;if(y=S.destroy,h!==null&&sf(h,S.deps)){m.memoizedState=ml(o,l,y,h);return}}it.flags|=i,m.memoizedState=ml(1|o,l,y,h)}function Wy(i,o){return gc(8390656,8,i,o)}function cf(i,o){return yc(2048,8,i,o)}function qy(i,o){return yc(4,2,i,o)}function Gy(i,o){return yc(4,4,i,o)}function Ky(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function Qy(i,o,l){return l=l!=null?l.concat([i]):null,yc(4,4,Ky.bind(null,o,i),l)}function hf(){}function Xy(i,o){var l=Rn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&sf(o,h[1])?h[0]:(l.memoizedState=[i,o],i)}function Yy(i,o){var l=Rn();o=o===void 0?null:o;var h=l.memoizedState;return h!==null&&o!==null&&sf(o,h[1])?h[0]:(i=i(),l.memoizedState=[i,o],i)}function Jy(i,o,l){return(Rs&21)===0?(i.baseState&&(i.baseState=!1,nn=!0),i.memoizedState=l):(Un(l,o)||(l=Ba(),it.lanes|=l,xs|=l,i.baseState=!0),o)}function aP(i,o){var l=Me;Me=l!==0&&4>l?l:4,i(!0);var h=rf.transition;rf.transition={};try{i(!1),o()}finally{Me=l,rf.transition=h}}function Zy(){return Rn().memoizedState}function lP(i,o,l){var h=ki(i);if(l={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null},ev(i))tv(o,l);else if(l=Ny(i,o,l,h),l!==null){var m=Zt();Wn(l,i,h,m),nv(l,o,h)}}function uP(i,o,l){var h=ki(i),m={lane:h,action:l,hasEagerState:!1,eagerState:null,next:null};if(ev(i))tv(o,m);else{var y=i.alternate;if(i.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var S=o.lastRenderedState,R=y(S,l);if(m.hasEagerState=!0,m.eagerState=R,Un(R,S)){var L=o.interleaved;L===null?(m.next=m,Yd(o)):(m.next=L.next,L.next=m),o.interleaved=m;return}}catch{}finally{}l=Ny(i,o,m,h),l!==null&&(m=Zt(),Wn(l,i,h,m),nv(l,o,h))}}function ev(i){var o=i.alternate;return i===it||o!==null&&o===it}function tv(i,o){dl=mc=!0;var l=i.pending;l===null?o.next=o:(o.next=l.next,l.next=o),i.pending=o}function nv(i,o,l){if((l&4194240)!==0){var h=o.lanes;h&=i.pendingLanes,l|=h,o.lanes=l,$a(i,l)}}var vc={readContext:An,useCallback:zt,useContext:zt,useEffect:zt,useImperativeHandle:zt,useInsertionEffect:zt,useLayoutEffect:zt,useMemo:zt,useReducer:zt,useRef:zt,useState:zt,useDebugValue:zt,useDeferredValue:zt,useTransition:zt,useMutableSource:zt,useSyncExternalStore:zt,useId:zt,unstable_isNewReconciler:!1},cP={readContext:An,useCallback:function(i,o){return pr().memoizedState=[i,o===void 0?null:o],i},useContext:An,useEffect:Wy,useImperativeHandle:function(i,o,l){return l=l!=null?l.concat([i]):null,gc(4194308,4,Ky.bind(null,o,i),l)},useLayoutEffect:function(i,o){return gc(4194308,4,i,o)},useInsertionEffect:function(i,o){return gc(4,2,i,o)},useMemo:function(i,o){var l=pr();return o=o===void 0?null:o,i=i(),l.memoizedState=[i,o],i},useReducer:function(i,o,l){var h=pr();return o=l!==void 0?l(o):o,h.memoizedState=h.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},h.queue=i,i=i.dispatch=lP.bind(null,it,i),[h.memoizedState,i]},useRef:function(i){var o=pr();return i={current:i},o.memoizedState=i},useState:$y,useDebugValue:hf,useDeferredValue:function(i){return pr().memoizedState=i},useTransition:function(){var i=$y(!1),o=i[0];return i=aP.bind(null,i[1]),pr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,l){var h=it,m=pr();if(tt){if(l===void 0)throw Error(t(407));l=l()}else{if(l=o(),Ct===null)throw Error(t(349));(Rs&30)!==0||jy(h,o,l)}m.memoizedState=l;var y={value:l,getSnapshot:o};return m.queue=y,Wy(Uy.bind(null,h,y,i),[i]),h.flags|=2048,ml(9,Fy.bind(null,h,y,l,o),void 0,null),l},useId:function(){var i=pr(),o=Ct.identifierPrefix;if(tt){var l=Br,h=Ur;l=(h&~(1<<32-hn(h)-1)).toString(32)+l,o=":"+o+"R"+l,l=fl++,0<l&&(o+="H"+l.toString(32)),o+=":"}else l=oP++,o=":"+o+"r"+l.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},hP={readContext:An,useCallback:Xy,useContext:An,useEffect:cf,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Yy,useReducer:lf,useRef:Hy,useState:function(){return lf(pl)},useDebugValue:hf,useDeferredValue:function(i){var o=Rn();return Jy(o,Et.memoizedState,i)},useTransition:function(){var i=lf(pl)[0],o=Rn().memoizedState;return[i,o]},useMutableSource:Ly,useSyncExternalStore:Oy,useId:Zy,unstable_isNewReconciler:!1},dP={readContext:An,useCallback:Xy,useContext:An,useEffect:cf,useImperativeHandle:Qy,useInsertionEffect:qy,useLayoutEffect:Gy,useMemo:Yy,useReducer:uf,useRef:Hy,useState:function(){return uf(pl)},useDebugValue:hf,useDeferredValue:function(i){var o=Rn();return Et===null?o.memoizedState=i:Jy(o,Et.memoizedState,i)},useTransition:function(){var i=uf(pl)[0],o=Rn().memoizedState;return[i,o]},useMutableSource:Ly,useSyncExternalStore:Oy,useId:Zy,unstable_isNewReconciler:!1};function zn(i,o){if(i&&i.defaultProps){o=ae({},o),i=i.defaultProps;for(var l in i)o[l]===void 0&&(o[l]=i[l]);return o}return o}function df(i,o,l,h){o=i.memoizedState,l=l(h,o),l=l==null?o:ae({},o,l),i.memoizedState=l,i.lanes===0&&(i.updateQueue.baseState=l)}var _c={isMounted:function(i){return(i=i._reactInternals)?jn(i)===i:!1},enqueueSetState:function(i,o,l){i=i._reactInternals;var h=Zt(),m=ki(i),y=$r(h,m);y.payload=o,l!=null&&(y.callback=l),o=Ci(i,y,m),o!==null&&(Wn(o,i,m,h),hc(o,i,m))},enqueueReplaceState:function(i,o,l){i=i._reactInternals;var h=Zt(),m=ki(i),y=$r(h,m);y.tag=1,y.payload=o,l!=null&&(y.callback=l),o=Ci(i,y,m),o!==null&&(Wn(o,i,m,h),hc(o,i,m))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var l=Zt(),h=ki(i),m=$r(l,h);m.tag=2,o!=null&&(m.callback=o),o=Ci(i,m,h),o!==null&&(Wn(o,i,h,l),hc(o,i,h))}};function rv(i,o,l,h,m,y,S){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(h,y,S):o.prototype&&o.prototype.isPureReactComponent?!tl(l,h)||!tl(m,y):!0}function iv(i,o,l){var h=!1,m=Si,y=o.contextType;return typeof y=="object"&&y!==null?y=An(y):(m=tn(o)?Ss:Bt.current,h=o.contextTypes,y=(h=h!=null)?Ro(i,m):Si),o=new o(l,y),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=_c,i.stateNode=o,o._reactInternals=i,h&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=m,i.__reactInternalMemoizedMaskedChildContext=y),o}function sv(i,o,l,h){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(l,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(l,h),o.state!==i&&_c.enqueueReplaceState(o,o.state,null)}function ff(i,o,l,h){var m=i.stateNode;m.props=l,m.state=i.memoizedState,m.refs={},Jd(i);var y=o.contextType;typeof y=="object"&&y!==null?m.context=An(y):(y=tn(o)?Ss:Bt.current,m.context=Ro(i,y)),m.state=i.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(df(i,o,y,l),m.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&_c.enqueueReplaceState(m,m.state,null),dc(i,l,m,h),m.state=i.memoizedState),typeof m.componentDidMount=="function"&&(i.flags|=4194308)}function Lo(i,o){try{var l="",h=o;do l+=ke(h),h=h.return;while(h);var m=l}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:i,source:o,stack:m,digest:null}}function pf(i,o,l){return{value:i,source:null,stack:l??null,digest:o??null}}function mf(i,o){try{console.error(o.value)}catch(l){setTimeout(function(){throw l})}}var fP=typeof WeakMap=="function"?WeakMap:Map;function ov(i,o,l){l=$r(-1,l),l.tag=3,l.payload={element:null};var h=o.value;return l.callback=function(){Cc||(Cc=!0,kf=h),mf(i,o)},l}function av(i,o,l){l=$r(-1,l),l.tag=3;var h=i.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;l.payload=function(){return h(m)},l.callback=function(){mf(i,o)}}var y=i.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(l.callback=function(){mf(i,o),typeof h!="function"&&(Ri===null?Ri=new Set([this]):Ri.add(this));var S=o.stack;this.componentDidCatch(o.value,{componentStack:S!==null?S:""})}),l}function lv(i,o,l){var h=i.pingCache;if(h===null){h=i.pingCache=new fP;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(l)||(m.add(l),i=AP.bind(null,i,o,l),o.then(i,i))}function uv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function cv(i,o,l,h,m){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,l.flags|=131072,l.flags&=-52805,l.tag===1&&(l.alternate===null?l.tag=17:(o=$r(-1,1),o.tag=2,Ci(l,o,1))),l.lanes|=1),i):(i.flags|=65536,i.lanes=m,i)}var pP=re.ReactCurrentOwner,nn=!1;function Jt(i,o,l,h){o.child=i===null?ky(o,null,l,h):Do(o,i.child,l,h)}function hv(i,o,l,h,m){l=l.render;var y=o.ref;return bo(o,m),h=of(i,o,l,h,y,m),l=af(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Hr(i,o,m)):(tt&&l&&zd(o),o.flags|=1,Jt(i,o,h,m),o.child)}function dv(i,o,l,h,m){if(i===null){var y=l.type;return typeof y=="function"&&!Of(y)&&y.defaultProps===void 0&&l.compare===null&&l.defaultProps===void 0?(o.tag=15,o.type=y,fv(i,o,y,h,m)):(i=Dc(l.type,null,h,o,o.mode,m),i.ref=o.ref,i.return=o,o.child=i)}if(y=i.child,(i.lanes&m)===0){var S=y.memoizedProps;if(l=l.compare,l=l!==null?l:tl,l(S,h)&&i.ref===o.ref)return Hr(i,o,m)}return o.flags|=1,i=Di(y,h),i.ref=o.ref,i.return=o,o.child=i}function fv(i,o,l,h,m){if(i!==null){var y=i.memoizedProps;if(tl(y,h)&&i.ref===o.ref)if(nn=!1,o.pendingProps=h=y,(i.lanes&m)!==0)(i.flags&131072)!==0&&(nn=!0);else return o.lanes=i.lanes,Hr(i,o,m)}return gf(i,o,l,h,m)}function pv(i,o,l){var h=o.pendingProps,m=h.children,y=i!==null?i.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},Ke(jo,vn),vn|=l;else{if((l&1073741824)===0)return i=y!==null?y.baseLanes|l:l,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,Ke(jo,vn),vn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:l,Ke(jo,vn),vn|=h}else y!==null?(h=y.baseLanes|l,o.memoizedState=null):h=l,Ke(jo,vn),vn|=h;return Jt(i,o,m,l),o.child}function mv(i,o){var l=o.ref;(i===null&&l!==null||i!==null&&i.ref!==l)&&(o.flags|=512,o.flags|=2097152)}function gf(i,o,l,h,m){var y=tn(l)?Ss:Bt.current;return y=Ro(o,y),bo(o,m),l=of(i,o,l,h,y,m),h=af(),i!==null&&!nn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~m,Hr(i,o,m)):(tt&&h&&zd(o),o.flags|=1,Jt(i,o,l,m),o.child)}function gv(i,o,l,h,m){if(tn(l)){var y=!0;rc(o)}else y=!1;if(bo(o,m),o.stateNode===null)Ec(i,o),iv(o,l,h),ff(o,l,h,m),h=!0;else if(i===null){var S=o.stateNode,R=o.memoizedProps;S.props=R;var L=S.context,G=l.contextType;typeof G=="object"&&G!==null?G=An(G):(G=tn(l)?Ss:Bt.current,G=Ro(o,G));var ee=l.getDerivedStateFromProps,te=typeof ee=="function"||typeof S.getSnapshotBeforeUpdate=="function";te||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==h||L!==G)&&sv(o,S,h,G),Pi=!1;var Z=o.memoizedState;S.state=Z,dc(o,h,S,m),L=o.memoizedState,R!==h||Z!==L||en.current||Pi?(typeof ee=="function"&&(df(o,l,ee,h),L=o.memoizedState),(R=Pi||rv(o,l,R,h,Z,L,G))?(te||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount()),typeof S.componentDidMount=="function"&&(o.flags|=4194308)):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=L),S.props=h,S.state=L,S.context=G,h=R):(typeof S.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{S=o.stateNode,Dy(i,o),R=o.memoizedProps,G=o.type===o.elementType?R:zn(o.type,R),S.props=G,te=o.pendingProps,Z=S.context,L=l.contextType,typeof L=="object"&&L!==null?L=An(L):(L=tn(l)?Ss:Bt.current,L=Ro(o,L));var le=l.getDerivedStateFromProps;(ee=typeof le=="function"||typeof S.getSnapshotBeforeUpdate=="function")||typeof S.UNSAFE_componentWillReceiveProps!="function"&&typeof S.componentWillReceiveProps!="function"||(R!==te||Z!==L)&&sv(o,S,h,L),Pi=!1,Z=o.memoizedState,S.state=Z,dc(o,h,S,m);var he=o.memoizedState;R!==te||Z!==he||en.current||Pi?(typeof le=="function"&&(df(o,l,le,h),he=o.memoizedState),(G=Pi||rv(o,l,G,h,Z,he,L)||!1)?(ee||typeof S.UNSAFE_componentWillUpdate!="function"&&typeof S.componentWillUpdate!="function"||(typeof S.componentWillUpdate=="function"&&S.componentWillUpdate(h,he,L),typeof S.UNSAFE_componentWillUpdate=="function"&&S.UNSAFE_componentWillUpdate(h,he,L)),typeof S.componentDidUpdate=="function"&&(o.flags|=4),typeof S.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof S.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=he),S.props=h,S.state=he,S.context=L,h=G):(typeof S.componentDidUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=4),typeof S.getSnapshotBeforeUpdate!="function"||R===i.memoizedProps&&Z===i.memoizedState||(o.flags|=1024),h=!1)}return yf(i,o,l,h,y,m)}function yf(i,o,l,h,m,y){mv(i,o);var S=(o.flags&128)!==0;if(!h&&!S)return m&&Ey(o,l,!1),Hr(i,o,y);h=o.stateNode,pP.current=o;var R=S&&typeof l.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,i!==null&&S?(o.child=Do(o,i.child,null,y),o.child=Do(o,null,R,y)):Jt(i,o,R,y),o.memoizedState=h.state,m&&Ey(o,l,!0),o.child}function yv(i){var o=i.stateNode;o.pendingContext?_y(i,o.pendingContext,o.pendingContext!==o.context):o.context&&_y(i,o.context,!1),Zd(i,o.containerInfo)}function vv(i,o,l,h,m){return No(),qd(m),o.flags|=256,Jt(i,o,l,h),o.child}var vf={dehydrated:null,treeContext:null,retryLane:0};function _f(i){return{baseLanes:i,cachePool:null,transitions:null}}function _v(i,o,l){var h=o.pendingProps,m=rt.current,y=!1,S=(o.flags&128)!==0,R;if((R=S)||(R=i!==null&&i.memoizedState===null?!1:(m&2)!==0),R?(y=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(m|=1),Ke(rt,m&1),i===null)return Wd(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(S=h.children,i=h.fallback,y?(h=o.mode,y=o.child,S={mode:"hidden",children:S},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=S):y=Vc(S,h,0,null),i=Vs(i,h,l,null),y.return=o,i.return=o,y.sibling=i,o.child=y,o.child.memoizedState=_f(l),o.memoizedState=vf,i):wf(o,S));if(m=i.memoizedState,m!==null&&(R=m.dehydrated,R!==null))return mP(i,o,S,h,R,m,l);if(y){y=h.fallback,S=o.mode,m=i.child,R=m.sibling;var L={mode:"hidden",children:h.children};return(S&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=L,o.deletions=null):(h=Di(m,L),h.subtreeFlags=m.subtreeFlags&14680064),R!==null?y=Di(R,y):(y=Vs(y,S,l,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,S=i.child.memoizedState,S=S===null?_f(l):{baseLanes:S.baseLanes|l,cachePool:null,transitions:S.transitions},y.memoizedState=S,y.childLanes=i.childLanes&~l,o.memoizedState=vf,h}return y=i.child,i=y.sibling,h=Di(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=l),h.return=o,h.sibling=null,i!==null&&(l=o.deletions,l===null?(o.deletions=[i],o.flags|=16):l.push(i)),o.child=h,o.memoizedState=null,h}function wf(i,o){return o=Vc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function wc(i,o,l,h){return h!==null&&qd(h),Do(o,i.child,null,l),i=wf(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function mP(i,o,l,h,m,y,S){if(l)return o.flags&256?(o.flags&=-257,h=pf(Error(t(422))),wc(i,o,S,h)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=Vc({mode:"visible",children:h.children},m,0,null),y=Vs(y,m,S,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Do(o,i.child,null,S),o.child.memoizedState=_f(S),o.memoizedState=vf,y);if((o.mode&1)===0)return wc(i,o,S,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var R=h.dgst;return h=R,y=Error(t(419)),h=pf(y,h,void 0),wc(i,o,S,h)}if(R=(S&i.childLanes)!==0,nn||R){if(h=Ct,h!==null){switch(S&-S){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|S))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,zr(i,m),Wn(h,i,m,-1))}return Lf(),h=pf(Error(t(421))),wc(i,o,S,h)}return m.data==="$?"?(o.flags|=128,o.child=i.child,o=RP.bind(null,i),m._reactRetry=o,null):(i=y.treeContext,yn=Ei(m.nextSibling),gn=o,tt=!0,Bn=null,i!==null&&(Pn[Cn++]=Ur,Pn[Cn++]=Br,Pn[Cn++]=Is,Ur=i.id,Br=i.overflow,Is=o),o=wf(o,h.children),o.flags|=4096,o)}function wv(i,o,l){i.lanes|=o;var h=i.alternate;h!==null&&(h.lanes|=o),Xd(i.return,o,l)}function Ef(i,o,l,h,m){var y=i.memoizedState;y===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:l,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=l,y.tailMode=m)}function Ev(i,o,l){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Jt(i,o,h.children,l),h=rt.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&wv(i,l,o);else if(i.tag===19)wv(i,l,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}h&=1}if(Ke(rt,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(l=o.child,m=null;l!==null;)i=l.alternate,i!==null&&fc(i)===null&&(m=l),l=l.sibling;l=m,l===null?(m=o.child,o.child=null):(m=l.sibling,l.sibling=null),Ef(o,!1,m,l,y);break;case"backwards":for(l=null,m=o.child,o.child=null;m!==null;){if(i=m.alternate,i!==null&&fc(i)===null){o.child=m;break}i=m.sibling,m.sibling=l,l=m,m=i}Ef(o,!0,l,null,y);break;case"together":Ef(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function Ec(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function Hr(i,o,l){if(i!==null&&(o.dependencies=i.dependencies),xs|=o.lanes,(l&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,l=Di(i,i.pendingProps),o.child=l,l.return=o;i.sibling!==null;)i=i.sibling,l=l.sibling=Di(i,i.pendingProps),l.return=o;l.sibling=null}return o.child}function gP(i,o,l){switch(o.tag){case 3:yv(o),No();break;case 5:My(o);break;case 1:tn(o.type)&&rc(o);break;case 4:Zd(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;Ke(uc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(Ke(rt,rt.current&1),o.flags|=128,null):(l&o.child.childLanes)!==0?_v(i,o,l):(Ke(rt,rt.current&1),i=Hr(i,o,l),i!==null?i.sibling:null);Ke(rt,rt.current&1);break;case 19:if(h=(l&o.childLanes)!==0,(i.flags&128)!==0){if(h)return Ev(i,o,l);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),Ke(rt,rt.current),h)break;return null;case 22:case 23:return o.lanes=0,pv(i,o,l)}return Hr(i,o,l)}var Tv,Tf,Sv,Iv;Tv=function(i,o){for(var l=o.child;l!==null;){if(l.tag===5||l.tag===6)i.appendChild(l.stateNode);else if(l.tag!==4&&l.child!==null){l.child.return=l,l=l.child;continue}if(l===o)break;for(;l.sibling===null;){if(l.return===null||l.return===o)return;l=l.return}l.sibling.return=l.return,l=l.sibling}},Tf=function(){},Sv=function(i,o,l,h){var m=i.memoizedProps;if(m!==h){i=o.stateNode,As(fr.current);var y=null;switch(l){case"input":m=Zs(i,m),h=Zs(i,h),y=[];break;case"select":m=ae({},m,{value:void 0}),h=ae({},h,{value:void 0}),y=[];break;case"textarea":m=ka(i,m),h=ka(i,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(i.onclick=ec)}On(l,h);var S;l=null;for(G in m)if(!h.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var R=m[G];for(S in R)R.hasOwnProperty(S)&&(l||(l={}),l[S]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(s.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in h){var L=h[G];if(R=m!=null?m[G]:void 0,h.hasOwnProperty(G)&&L!==R&&(L!=null||R!=null))if(G==="style")if(R){for(S in R)!R.hasOwnProperty(S)||L&&L.hasOwnProperty(S)||(l||(l={}),l[S]="");for(S in L)L.hasOwnProperty(S)&&R[S]!==L[S]&&(l||(l={}),l[S]=L[S])}else l||(y||(y=[]),y.push(G,l)),l=L;else G==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,R=R?R.__html:void 0,L!=null&&R!==L&&(y=y||[]).push(G,L)):G==="children"?typeof L!="string"&&typeof L!="number"||(y=y||[]).push(G,""+L):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(s.hasOwnProperty(G)?(L!=null&&G==="onScroll"&&Xe("scroll",i),y||R===L||(y=[])):(y=y||[]).push(G,L))}l&&(y=y||[]).push("style",l);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},Iv=function(i,o,l,h){l!==h&&(o.flags|=4)};function gl(i,o){if(!tt)switch(i.tailMode){case"hidden":o=i.tail;for(var l=null;o!==null;)o.alternate!==null&&(l=o),o=o.sibling;l===null?i.tail=null:l.sibling=null;break;case"collapsed":l=i.tail;for(var h=null;l!==null;)l.alternate!==null&&(h=l),l=l.sibling;h===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:h.sibling=null}}function $t(i){var o=i.alternate!==null&&i.alternate.child===i.child,l=0,h=0;if(o)for(var m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=i,m=m.sibling;else for(m=i.child;m!==null;)l|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=i,m=m.sibling;return i.subtreeFlags|=h,i.childLanes=l,o}function yP(i,o,l){var h=o.pendingProps;switch($d(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return $t(o),null;case 1:return tn(o.type)&&nc(),$t(o),null;case 3:return h=o.stateNode,Mo(),Ye(en),Ye(Bt),nf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(i===null||i.child===null)&&(ac(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,Bn!==null&&(Vf(Bn),Bn=null))),Tf(i,o),$t(o),null;case 5:ef(o);var m=As(hl.current);if(l=o.type,i!==null&&o.stateNode!=null)Sv(i,o,l,h,m),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(t(166));return $t(o),null}if(i=As(fr.current),ac(o)){h=o.stateNode,l=o.type;var y=o.memoizedProps;switch(h[dr]=o,h[ol]=y,i=(o.mode&1)!==0,l){case"dialog":Xe("cancel",h),Xe("close",h);break;case"iframe":case"object":case"embed":Xe("load",h);break;case"video":case"audio":for(m=0;m<rl.length;m++)Xe(rl[m],h);break;case"source":Xe("error",h);break;case"img":case"image":case"link":Xe("error",h),Xe("load",h);break;case"details":Xe("toggle",h);break;case"input":Pu(h,y),Xe("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},Xe("invalid",h);break;case"textarea":Na(h,y),Xe("invalid",h)}On(l,y),m=null;for(var S in y)if(y.hasOwnProperty(S)){var R=y[S];S==="children"?typeof R=="string"?h.textContent!==R&&(y.suppressHydrationWarning!==!0&&Zu(h.textContent,R,i),m=["children",R]):typeof R=="number"&&h.textContent!==""+R&&(y.suppressHydrationWarning!==!0&&Zu(h.textContent,R,i),m=["children",""+R]):s.hasOwnProperty(S)&&R!=null&&S==="onScroll"&&Xe("scroll",h)}switch(l){case"input":Js(h),xa(h,y,!0);break;case"textarea":Js(h),si(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=ec)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{S=m.nodeType===9?m:m.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Da(l)),i==="http://www.w3.org/1999/xhtml"?l==="script"?(i=S.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof h.is=="string"?i=S.createElement(l,{is:h.is}):(i=S.createElement(l),l==="select"&&(S=i,h.multiple?S.multiple=!0:h.size&&(S.size=h.size))):i=S.createElementNS(i,l),i[dr]=o,i[ol]=h,Tv(i,o,!1,!1),o.stateNode=i;e:{switch(S=ro(l,h),l){case"dialog":Xe("cancel",i),Xe("close",i),m=h;break;case"iframe":case"object":case"embed":Xe("load",i),m=h;break;case"video":case"audio":for(m=0;m<rl.length;m++)Xe(rl[m],i);m=h;break;case"source":Xe("error",i),m=h;break;case"img":case"image":case"link":Xe("error",i),Xe("load",i),m=h;break;case"details":Xe("toggle",i),m=h;break;case"input":Pu(i,h),m=Zs(i,h),Xe("invalid",i);break;case"option":m=h;break;case"select":i._wrapperState={wasMultiple:!!h.multiple},m=ae({},h,{value:void 0}),Xe("invalid",i);break;case"textarea":Na(i,h),m=ka(i,h),Xe("invalid",i);break;default:m=h}On(l,m),R=m;for(y in R)if(R.hasOwnProperty(y)){var L=R[y];y==="style"?no(i,L):y==="dangerouslySetInnerHTML"?(L=L?L.__html:void 0,L!=null&&Au(i,L)):y==="children"?typeof L=="string"?(l!=="textarea"||L!=="")&&ls(i,L):typeof L=="number"&&ls(i,""+L):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(s.hasOwnProperty(y)?L!=null&&y==="onScroll"&&Xe("scroll",i):L!=null&&H(i,y,L,S))}switch(l){case"input":Js(i),xa(i,h,!1);break;case"textarea":Js(i),si(i);break;case"option":h.value!=null&&i.setAttribute("value",""+Oe(h.value));break;case"select":i.multiple=!!h.multiple,y=h.value,y!=null?Ln(i,!!h.multiple,y,!1):h.defaultValue!=null&&Ln(i,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(i.onclick=ec)}switch(l){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return $t(o),null;case 6:if(i&&o.stateNode!=null)Iv(i,o,i.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(t(166));if(l=As(hl.current),As(fr.current),ac(o)){if(h=o.stateNode,l=o.memoizedProps,h[dr]=o,(y=h.nodeValue!==l)&&(i=gn,i!==null))switch(i.tag){case 3:Zu(h.nodeValue,l,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&Zu(h.nodeValue,l,(i.mode&1)!==0)}y&&(o.flags|=4)}else h=(l.nodeType===9?l:l.ownerDocument).createTextNode(h),h[dr]=o,o.stateNode=h}return $t(o),null;case 13:if(Ye(rt),h=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(tt&&yn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ay(),No(),o.flags|=98560,y=!1;else if(y=ac(o),h!==null&&h.dehydrated!==null){if(i===null){if(!y)throw Error(t(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(t(317));y[dr]=o}else No(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;$t(o),y=!1}else Bn!==null&&(Vf(Bn),Bn=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=l,o):(h=h!==null,h!==(i!==null&&i.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(rt.current&1)!==0?Tt===0&&(Tt=3):Lf())),o.updateQueue!==null&&(o.flags|=4),$t(o),null);case 4:return Mo(),Tf(i,o),i===null&&il(o.stateNode.containerInfo),$t(o),null;case 10:return Qd(o.type._context),$t(o),null;case 17:return tn(o.type)&&nc(),$t(o),null;case 19:if(Ye(rt),y=o.memoizedState,y===null)return $t(o),null;if(h=(o.flags&128)!==0,S=y.rendering,S===null)if(h)gl(y,!1);else{if(Tt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(S=fc(i),S!==null){for(o.flags|=128,gl(y,!1),h=S.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=l,l=o.child;l!==null;)y=l,i=h,y.flags&=14680066,S=y.alternate,S===null?(y.childLanes=0,y.lanes=i,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=S.childLanes,y.lanes=S.lanes,y.child=S.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=S.memoizedProps,y.memoizedState=S.memoizedState,y.updateQueue=S.updateQueue,y.type=S.type,i=S.dependencies,y.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),l=l.sibling;return Ke(rt,rt.current&1|2),o.child}i=i.sibling}y.tail!==null&&Qe()>Fo&&(o.flags|=128,h=!0,gl(y,!1),o.lanes=4194304)}else{if(!h)if(i=fc(S),i!==null){if(o.flags|=128,h=!0,l=i.updateQueue,l!==null&&(o.updateQueue=l,o.flags|=4),gl(y,!0),y.tail===null&&y.tailMode==="hidden"&&!S.alternate&&!tt)return $t(o),null}else 2*Qe()-y.renderingStartTime>Fo&&l!==1073741824&&(o.flags|=128,h=!0,gl(y,!1),o.lanes=4194304);y.isBackwards?(S.sibling=o.child,o.child=S):(l=y.last,l!==null?l.sibling=S:o.child=S,y.last=S)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=Qe(),o.sibling=null,l=rt.current,Ke(rt,h?l&1|2:l&1),o):($t(o),null);case 22:case 23:return Mf(),h=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(vn&1073741824)!==0&&($t(o),o.subtreeFlags&6&&(o.flags|=8192)):$t(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function vP(i,o){switch($d(o),o.tag){case 1:return tn(o.type)&&nc(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return Mo(),Ye(en),Ye(Bt),nf(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return ef(o),null;case 13:if(Ye(rt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));No()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return Ye(rt),null;case 4:return Mo(),null;case 10:return Qd(o.type._context),null;case 22:case 23:return Mf(),null;case 24:return null;default:return null}}var Tc=!1,Ht=!1,_P=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Oo(i,o){var l=i.ref;if(l!==null)if(typeof l=="function")try{l(null)}catch(h){lt(i,o,h)}else l.current=null}function Sf(i,o,l){try{l()}catch(h){lt(i,o,h)}}var Pv=!1;function wP(i,o){if(bd=Mr,i=ry(),Cd(i)){if("selectionStart"in i)var l={start:i.selectionStart,end:i.selectionEnd};else e:{l=(l=i.ownerDocument)&&l.defaultView||window;var h=l.getSelection&&l.getSelection();if(h&&h.rangeCount!==0){l=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{l.nodeType,y.nodeType}catch{l=null;break e}var S=0,R=-1,L=-1,G=0,ee=0,te=i,Z=null;t:for(;;){for(var le;te!==l||m!==0&&te.nodeType!==3||(R=S+m),te!==y||h!==0&&te.nodeType!==3||(L=S+h),te.nodeType===3&&(S+=te.nodeValue.length),(le=te.firstChild)!==null;)Z=te,te=le;for(;;){if(te===i)break t;if(Z===l&&++G===m&&(R=S),Z===y&&++ee===h&&(L=S),(le=te.nextSibling)!==null)break;te=Z,Z=te.parentNode}te=le}l=R===-1||L===-1?null:{start:R,end:L}}else l=null}l=l||{start:0,end:0}}else l=null;for(Md={focusedElem:i,selectionRange:l},Mr=!1,ce=o;ce!==null;)if(o=ce,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ce=i;else for(;ce!==null;){o=ce;try{var he=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(he!==null){var de=he.memoizedProps,dt=he.memoizedState,z=o.stateNode,j=z.getSnapshotBeforeUpdate(o.elementType===o.type?de:zn(o.type,de),dt);z.__reactInternalSnapshotBeforeUpdate=j}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ne){lt(o,o.return,ne)}if(i=o.sibling,i!==null){i.return=o.return,ce=i;break}ce=o.return}return he=Pv,Pv=!1,he}function yl(i,o,l){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&i)===i){var y=m.destroy;m.destroy=void 0,y!==void 0&&Sf(o,l,y)}m=m.next}while(m!==h)}}function Sc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var l=o=o.next;do{if((l.tag&i)===i){var h=l.create;l.destroy=h()}l=l.next}while(l!==o)}}function If(i){var o=i.ref;if(o!==null){var l=i.stateNode;switch(i.tag){case 5:i=l;break;default:i=l}typeof o=="function"?o(i):o.current=i}}function Cv(i){var o=i.alternate;o!==null&&(i.alternate=null,Cv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[dr],delete o[ol],delete o[Fd],delete o[nP],delete o[rP])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Av(i){return i.tag===5||i.tag===3||i.tag===4}function Rv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Av(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Pf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.nodeType===8?l.parentNode.insertBefore(i,o):l.insertBefore(i,o):(l.nodeType===8?(o=l.parentNode,o.insertBefore(i,l)):(o=l,o.appendChild(i)),l=l._reactRootContainer,l!=null||o.onclick!==null||(o.onclick=ec));else if(h!==4&&(i=i.child,i!==null))for(Pf(i,o,l),i=i.sibling;i!==null;)Pf(i,o,l),i=i.sibling}function Cf(i,o,l){var h=i.tag;if(h===5||h===6)i=i.stateNode,o?l.insertBefore(i,o):l.appendChild(i);else if(h!==4&&(i=i.child,i!==null))for(Cf(i,o,l),i=i.sibling;i!==null;)Cf(i,o,l),i=i.sibling}var Vt=null,$n=!1;function Ai(i,o,l){for(l=l.child;l!==null;)xv(i,o,l),l=l.sibling}function xv(i,o,l){if(cn&&typeof cn.onCommitFiberUnmount=="function")try{cn.onCommitFiberUnmount(fs,l)}catch{}switch(l.tag){case 5:Ht||Oo(l,o);case 6:var h=Vt,m=$n;Vt=null,Ai(i,o,l),Vt=h,$n=m,Vt!==null&&($n?(i=Vt,l=l.stateNode,i.nodeType===8?i.parentNode.removeChild(l):i.removeChild(l)):Vt.removeChild(l.stateNode));break;case 18:Vt!==null&&($n?(i=Vt,l=l.stateNode,i.nodeType===8?jd(i.parentNode,l):i.nodeType===1&&jd(i,l),yi(i)):jd(Vt,l.stateNode));break;case 4:h=Vt,m=$n,Vt=l.stateNode.containerInfo,$n=!0,Ai(i,o,l),Vt=h,$n=m;break;case 0:case 11:case 14:case 15:if(!Ht&&(h=l.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,S=y.destroy;y=y.tag,S!==void 0&&((y&2)!==0||(y&4)!==0)&&Sf(l,o,S),m=m.next}while(m!==h)}Ai(i,o,l);break;case 1:if(!Ht&&(Oo(l,o),h=l.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=l.memoizedProps,h.state=l.memoizedState,h.componentWillUnmount()}catch(R){lt(l,o,R)}Ai(i,o,l);break;case 21:Ai(i,o,l);break;case 22:l.mode&1?(Ht=(h=Ht)||l.memoizedState!==null,Ai(i,o,l),Ht=h):Ai(i,o,l);break;default:Ai(i,o,l)}}function kv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var l=i.stateNode;l===null&&(l=i.stateNode=new _P),o.forEach(function(h){var m=xP.bind(null,i,h);l.has(h)||(l.add(h),h.then(m,m))})}}function Hn(i,o){var l=o.deletions;if(l!==null)for(var h=0;h<l.length;h++){var m=l[h];try{var y=i,S=o,R=S;e:for(;R!==null;){switch(R.tag){case 5:Vt=R.stateNode,$n=!1;break e;case 3:Vt=R.stateNode.containerInfo,$n=!0;break e;case 4:Vt=R.stateNode.containerInfo,$n=!0;break e}R=R.return}if(Vt===null)throw Error(t(160));xv(y,S,m),Vt=null,$n=!1;var L=m.alternate;L!==null&&(L.return=null),m.return=null}catch(G){lt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Nv(o,i),o=o.sibling}function Nv(i,o){var l=i.alternate,h=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(Hn(o,i),mr(i),h&4){try{yl(3,i,i.return),Sc(3,i)}catch(de){lt(i,i.return,de)}try{yl(5,i,i.return)}catch(de){lt(i,i.return,de)}}break;case 1:Hn(o,i),mr(i),h&512&&l!==null&&Oo(l,l.return);break;case 5:if(Hn(o,i),mr(i),h&512&&l!==null&&Oo(l,l.return),i.flags&32){var m=i.stateNode;try{ls(m,"")}catch(de){lt(i,i.return,de)}}if(h&4&&(m=i.stateNode,m!=null)){var y=i.memoizedProps,S=l!==null?l.memoizedProps:y,R=i.type,L=i.updateQueue;if(i.updateQueue=null,L!==null)try{R==="input"&&y.type==="radio"&&y.name!=null&&eo(m,y),ro(R,S);var G=ro(R,y);for(S=0;S<L.length;S+=2){var ee=L[S],te=L[S+1];ee==="style"?no(m,te):ee==="dangerouslySetInnerHTML"?Au(m,te):ee==="children"?ls(m,te):H(m,ee,te,G)}switch(R){case"input":as(m,y);break;case"textarea":Cu(m,y);break;case"select":var Z=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var le=y.value;le!=null?Ln(m,!!y.multiple,le,!1):Z!==!!y.multiple&&(y.defaultValue!=null?Ln(m,!!y.multiple,y.defaultValue,!0):Ln(m,!!y.multiple,y.multiple?[]:"",!1))}m[ol]=y}catch(de){lt(i,i.return,de)}}break;case 6:if(Hn(o,i),mr(i),h&4){if(i.stateNode===null)throw Error(t(162));m=i.stateNode,y=i.memoizedProps;try{m.nodeValue=y}catch(de){lt(i,i.return,de)}}break;case 3:if(Hn(o,i),mr(i),h&4&&l!==null&&l.memoizedState.isDehydrated)try{yi(o.containerInfo)}catch(de){lt(i,i.return,de)}break;case 4:Hn(o,i),mr(i);break;case 13:Hn(o,i),mr(i),m=i.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(xf=Qe())),h&4&&kv(i);break;case 22:if(ee=l!==null&&l.memoizedState!==null,i.mode&1?(Ht=(G=Ht)||ee,Hn(o,i),Ht=G):Hn(o,i),mr(i),h&8192){if(G=i.memoizedState!==null,(i.stateNode.isHidden=G)&&!ee&&(i.mode&1)!==0)for(ce=i,ee=i.child;ee!==null;){for(te=ce=ee;ce!==null;){switch(Z=ce,le=Z.child,Z.tag){case 0:case 11:case 14:case 15:yl(4,Z,Z.return);break;case 1:Oo(Z,Z.return);var he=Z.stateNode;if(typeof he.componentWillUnmount=="function"){h=Z,l=Z.return;try{o=h,he.props=o.memoizedProps,he.state=o.memoizedState,he.componentWillUnmount()}catch(de){lt(h,l,de)}}break;case 5:Oo(Z,Z.return);break;case 22:if(Z.memoizedState!==null){bv(te);continue}}le!==null?(le.return=Z,ce=le):bv(te)}ee=ee.sibling}e:for(ee=null,te=i;;){if(te.tag===5){if(ee===null){ee=te;try{m=te.stateNode,G?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(R=te.stateNode,L=te.memoizedProps.style,S=L!=null&&L.hasOwnProperty("display")?L.display:null,R.style.display=li("display",S))}catch(de){lt(i,i.return,de)}}}else if(te.tag===6){if(ee===null)try{te.stateNode.nodeValue=G?"":te.memoizedProps}catch(de){lt(i,i.return,de)}}else if((te.tag!==22&&te.tag!==23||te.memoizedState===null||te===i)&&te.child!==null){te.child.return=te,te=te.child;continue}if(te===i)break e;for(;te.sibling===null;){if(te.return===null||te.return===i)break e;ee===te&&(ee=null),te=te.return}ee===te&&(ee=null),te.sibling.return=te.return,te=te.sibling}}break;case 19:Hn(o,i),mr(i),h&4&&kv(i);break;case 21:break;default:Hn(o,i),mr(i)}}function mr(i){var o=i.flags;if(o&2){try{e:{for(var l=i.return;l!==null;){if(Av(l)){var h=l;break e}l=l.return}throw Error(t(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(ls(m,""),h.flags&=-33);var y=Rv(i);Cf(i,y,m);break;case 3:case 4:var S=h.stateNode.containerInfo,R=Rv(i);Pf(i,R,S);break;default:throw Error(t(161))}}catch(L){lt(i,i.return,L)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function EP(i,o,l){ce=i,Dv(i)}function Dv(i,o,l){for(var h=(i.mode&1)!==0;ce!==null;){var m=ce,y=m.child;if(m.tag===22&&h){var S=m.memoizedState!==null||Tc;if(!S){var R=m.alternate,L=R!==null&&R.memoizedState!==null||Ht;R=Tc;var G=Ht;if(Tc=S,(Ht=L)&&!G)for(ce=m;ce!==null;)S=ce,L=S.child,S.tag===22&&S.memoizedState!==null?Mv(m):L!==null?(L.return=S,ce=L):Mv(m);for(;y!==null;)ce=y,Dv(y),y=y.sibling;ce=m,Tc=R,Ht=G}Vv(i)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,ce=y):Vv(i)}}function Vv(i){for(;ce!==null;){var o=ce;if((o.flags&8772)!==0){var l=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Ht||Sc(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!Ht)if(l===null)h.componentDidMount();else{var m=o.elementType===o.type?l.memoizedProps:zn(o.type,l.memoizedProps);h.componentDidUpdate(m,l.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&by(o,y,h);break;case 3:var S=o.updateQueue;if(S!==null){if(l=null,o.child!==null)switch(o.child.tag){case 5:l=o.child.stateNode;break;case 1:l=o.child.stateNode}by(o,S,l)}break;case 5:var R=o.stateNode;if(l===null&&o.flags&4){l=R;var L=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":L.autoFocus&&l.focus();break;case"img":L.src&&(l.src=L.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ee=G.memoizedState;if(ee!==null){var te=ee.dehydrated;te!==null&&yi(te)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Ht||o.flags&512&&If(o)}catch(Z){lt(o,o.return,Z)}}if(o===i){ce=null;break}if(l=o.sibling,l!==null){l.return=o.return,ce=l;break}ce=o.return}}function bv(i){for(;ce!==null;){var o=ce;if(o===i){ce=null;break}var l=o.sibling;if(l!==null){l.return=o.return,ce=l;break}ce=o.return}}function Mv(i){for(;ce!==null;){var o=ce;try{switch(o.tag){case 0:case 11:case 15:var l=o.return;try{Sc(4,o)}catch(L){lt(o,l,L)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(L){lt(o,m,L)}}var y=o.return;try{If(o)}catch(L){lt(o,y,L)}break;case 5:var S=o.return;try{If(o)}catch(L){lt(o,S,L)}}}catch(L){lt(o,o.return,L)}if(o===i){ce=null;break}var R=o.sibling;if(R!==null){R.return=o.return,ce=R;break}ce=o.return}}var TP=Math.ceil,Ic=re.ReactCurrentDispatcher,Af=re.ReactCurrentOwner,xn=re.ReactCurrentBatchConfig,je=0,Ct=null,yt=null,bt=0,vn=0,jo=Ti(0),Tt=0,vl=null,xs=0,Pc=0,Rf=0,_l=null,rn=null,xf=0,Fo=1/0,Wr=null,Cc=!1,kf=null,Ri=null,Ac=!1,xi=null,Rc=0,wl=0,Nf=null,xc=-1,kc=0;function Zt(){return(je&6)!==0?Qe():xc!==-1?xc:xc=Qe()}function ki(i){return(i.mode&1)===0?1:(je&2)!==0&&bt!==0?bt&-bt:sP.transition!==null?(kc===0&&(kc=Ba()),kc):(i=Me,i!==0||(i=window.event,i=i===void 0?16:po(i.type)),i)}function Wn(i,o,l,h){if(50<wl)throw wl=0,Nf=null,Error(t(185));ys(i,l,h),((je&2)===0||i!==Ct)&&(i===Ct&&((je&2)===0&&(Pc|=l),Tt===4&&Ni(i,bt)),sn(i,h),l===1&&je===0&&(o.mode&1)===0&&(Fo=Qe()+500,ic&&Ii()))}function sn(i,o){var l=i.callbackNode;gs(i,o);var h=Dr(i,i===Ct?bt:0);if(h===0)l!==null&&oo(l),i.callbackNode=null,i.callbackPriority=0;else if(o=h&-h,i.callbackPriority!==o){if(l!=null&&oo(l),o===1)i.tag===0?iP(Ov.bind(null,i)):Ty(Ov.bind(null,i)),eP(function(){(je&6)===0&&Ii()}),l=null;else{switch(nr(h)){case 1:l=ao;break;case 4:l=ja;break;case 16:l=ds;break;case 536870912:l=lo;break;default:l=ds}l=Wv(l,Lv.bind(null,i))}i.callbackPriority=o,i.callbackNode=l}}function Lv(i,o){if(xc=-1,kc=0,(je&6)!==0)throw Error(t(327));var l=i.callbackNode;if(Uo()&&i.callbackNode!==l)return null;var h=Dr(i,i===Ct?bt:0);if(h===0)return null;if((h&30)!==0||(h&i.expiredLanes)!==0||o)o=Nc(i,h);else{o=h;var m=je;je|=2;var y=Fv();(Ct!==i||bt!==o)&&(Wr=null,Fo=Qe()+500,Ns(i,o));do try{PP();break}catch(R){jv(i,R)}while(!0);Kd(),Ic.current=y,je=m,yt!==null?o=0:(Ct=null,bt=0,o=Tt)}if(o!==0){if(o===2&&(m=Ua(i),m!==0&&(h=m,o=Df(i,m))),o===1)throw l=vl,Ns(i,0),Ni(i,h),sn(i,Qe()),l;if(o===6)Ni(i,h);else{if(m=i.current.alternate,(h&30)===0&&!SP(m)&&(o=Nc(i,h),o===2&&(y=Ua(i),y!==0&&(h=y,o=Df(i,y))),o===1))throw l=vl,Ns(i,0),Ni(i,h),sn(i,Qe()),l;switch(i.finishedWork=m,i.finishedLanes=h,o){case 0:case 1:throw Error(t(345));case 2:Ds(i,rn,Wr);break;case 3:if(Ni(i,h),(h&130023424)===h&&(o=xf+500-Qe(),10<o)){if(Dr(i,0)!==0)break;if(m=i.suspendedLanes,(m&h)!==h){Zt(),i.pingedLanes|=i.suspendedLanes&m;break}i.timeoutHandle=Od(Ds.bind(null,i,rn,Wr),o);break}Ds(i,rn,Wr);break;case 4:if(Ni(i,h),(h&4194240)===h)break;for(o=i.eventTimes,m=-1;0<h;){var S=31-hn(h);y=1<<S,S=o[S],S>m&&(m=S),h&=~y}if(h=m,h=Qe()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*TP(h/1960))-h,10<h){i.timeoutHandle=Od(Ds.bind(null,i,rn,Wr),h);break}Ds(i,rn,Wr);break;case 5:Ds(i,rn,Wr);break;default:throw Error(t(329))}}}return sn(i,Qe()),i.callbackNode===l?Lv.bind(null,i):null}function Df(i,o){var l=_l;return i.current.memoizedState.isDehydrated&&(Ns(i,o).flags|=256),i=Nc(i,o),i!==2&&(o=rn,rn=l,o!==null&&Vf(o)),i}function Vf(i){rn===null?rn=i:rn.push.apply(rn,i)}function SP(i){for(var o=i;;){if(o.flags&16384){var l=o.updateQueue;if(l!==null&&(l=l.stores,l!==null))for(var h=0;h<l.length;h++){var m=l[h],y=m.getSnapshot;m=m.value;try{if(!Un(y(),m))return!1}catch{return!1}}}if(l=o.child,o.subtreeFlags&16384&&l!==null)l.return=o,o=l;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Ni(i,o){for(o&=~Rf,o&=~Pc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var l=31-hn(o),h=1<<l;i[l]=-1,o&=~h}}function Ov(i){if((je&6)!==0)throw Error(t(327));Uo();var o=Dr(i,0);if((o&1)===0)return sn(i,Qe()),null;var l=Nc(i,o);if(i.tag!==0&&l===2){var h=Ua(i);h!==0&&(o=h,l=Df(i,h))}if(l===1)throw l=vl,Ns(i,0),Ni(i,o),sn(i,Qe()),l;if(l===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,Ds(i,rn,Wr),sn(i,Qe()),null}function bf(i,o){var l=je;je|=1;try{return i(o)}finally{je=l,je===0&&(Fo=Qe()+500,ic&&Ii())}}function ks(i){xi!==null&&xi.tag===0&&(je&6)===0&&Uo();var o=je;je|=1;var l=xn.transition,h=Me;try{if(xn.transition=null,Me=1,i)return i()}finally{Me=h,xn.transition=l,je=o,(je&6)===0&&Ii()}}function Mf(){vn=jo.current,Ye(jo)}function Ns(i,o){i.finishedWork=null,i.finishedLanes=0;var l=i.timeoutHandle;if(l!==-1&&(i.timeoutHandle=-1,ZI(l)),yt!==null)for(l=yt.return;l!==null;){var h=l;switch($d(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&nc();break;case 3:Mo(),Ye(en),Ye(Bt),nf();break;case 5:ef(h);break;case 4:Mo();break;case 13:Ye(rt);break;case 19:Ye(rt);break;case 10:Qd(h.type._context);break;case 22:case 23:Mf()}l=l.return}if(Ct=i,yt=i=Di(i.current,null),bt=vn=o,Tt=0,vl=null,Rf=Pc=xs=0,rn=_l=null,Cs!==null){for(o=0;o<Cs.length;o++)if(l=Cs[o],h=l.interleaved,h!==null){l.interleaved=null;var m=h.next,y=l.pending;if(y!==null){var S=y.next;y.next=m,h.next=S}l.pending=h}Cs=null}return i}function jv(i,o){do{var l=yt;try{if(Kd(),pc.current=vc,mc){for(var h=it.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}mc=!1}if(Rs=0,Pt=Et=it=null,dl=!1,fl=0,Af.current=null,l===null||l.return===null){Tt=1,vl=o,yt=null;break}e:{var y=i,S=l.return,R=l,L=o;if(o=bt,R.flags|=32768,L!==null&&typeof L=="object"&&typeof L.then=="function"){var G=L,ee=R,te=ee.tag;if((ee.mode&1)===0&&(te===0||te===11||te===15)){var Z=ee.alternate;Z?(ee.updateQueue=Z.updateQueue,ee.memoizedState=Z.memoizedState,ee.lanes=Z.lanes):(ee.updateQueue=null,ee.memoizedState=null)}var le=uv(S);if(le!==null){le.flags&=-257,cv(le,S,R,y,o),le.mode&1&&lv(y,G,o),o=le,L=G;var he=o.updateQueue;if(he===null){var de=new Set;de.add(L),o.updateQueue=de}else he.add(L);break e}else{if((o&1)===0){lv(y,G,o),Lf();break e}L=Error(t(426))}}else if(tt&&R.mode&1){var dt=uv(S);if(dt!==null){(dt.flags&65536)===0&&(dt.flags|=256),cv(dt,S,R,y,o),qd(Lo(L,R));break e}}y=L=Lo(L,R),Tt!==4&&(Tt=2),_l===null?_l=[y]:_l.push(y),y=S;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var z=ov(y,L,o);Vy(y,z);break e;case 1:R=L;var j=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof j.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Ri===null||!Ri.has(W)))){y.flags|=65536,o&=-o,y.lanes|=o;var ne=av(y,R,o);Vy(y,ne);break e}}y=y.return}while(y!==null)}Bv(l)}catch(fe){o=fe,yt===l&&l!==null&&(yt=l=l.return);continue}break}while(!0)}function Fv(){var i=Ic.current;return Ic.current=vc,i===null?vc:i}function Lf(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),Ct===null||(xs&268435455)===0&&(Pc&268435455)===0||Ni(Ct,bt)}function Nc(i,o){var l=je;je|=2;var h=Fv();(Ct!==i||bt!==o)&&(Wr=null,Ns(i,o));do try{IP();break}catch(m){jv(i,m)}while(!0);if(Kd(),je=l,Ic.current=h,yt!==null)throw Error(t(261));return Ct=null,bt=0,Tt}function IP(){for(;yt!==null;)Uv(yt)}function PP(){for(;yt!==null&&!hs();)Uv(yt)}function Uv(i){var o=Hv(i.alternate,i,vn);i.memoizedProps=i.pendingProps,o===null?Bv(i):yt=o,Af.current=null}function Bv(i){var o=i;do{var l=o.alternate;if(i=o.return,(o.flags&32768)===0){if(l=yP(l,o,vn),l!==null){yt=l;return}}else{if(l=vP(l,o),l!==null){l.flags&=32767,yt=l;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{Tt=6,yt=null;return}}if(o=o.sibling,o!==null){yt=o;return}yt=o=i}while(o!==null);Tt===0&&(Tt=5)}function Ds(i,o,l){var h=Me,m=xn.transition;try{xn.transition=null,Me=1,CP(i,o,l,h)}finally{xn.transition=m,Me=h}return null}function CP(i,o,l,h){do Uo();while(xi!==null);if((je&6)!==0)throw Error(t(327));l=i.finishedWork;var m=i.finishedLanes;if(l===null)return null;if(i.finishedWork=null,i.finishedLanes=0,l===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var y=l.lanes|l.childLanes;if(Ed(i,y),i===Ct&&(yt=Ct=null,bt=0),(l.subtreeFlags&2064)===0&&(l.flags&2064)===0||Ac||(Ac=!0,Wv(ds,function(){return Uo(),null})),y=(l.flags&15990)!==0,(l.subtreeFlags&15990)!==0||y){y=xn.transition,xn.transition=null;var S=Me;Me=1;var R=je;je|=4,Af.current=null,wP(i,l),Nv(l,i),qI(Md),Mr=!!bd,Md=bd=null,i.current=l,EP(l),Nr(),je=R,Me=S,xn.transition=y}else i.current=l;if(Ac&&(Ac=!1,xi=i,Rc=m),y=i.pendingLanes,y===0&&(Ri=null),ju(l.stateNode),sn(i,Qe()),o!==null)for(h=i.onRecoverableError,l=0;l<o.length;l++)m=o[l],h(m.value,{componentStack:m.stack,digest:m.digest});if(Cc)throw Cc=!1,i=kf,kf=null,i;return(Rc&1)!==0&&i.tag!==0&&Uo(),y=i.pendingLanes,(y&1)!==0?i===Nf?wl++:(wl=0,Nf=i):wl=0,Ii(),null}function Uo(){if(xi!==null){var i=nr(Rc),o=xn.transition,l=Me;try{if(xn.transition=null,Me=16>i?16:i,xi===null)var h=!1;else{if(i=xi,xi=null,Rc=0,(je&6)!==0)throw Error(t(331));var m=je;for(je|=4,ce=i.current;ce!==null;){var y=ce,S=y.child;if((ce.flags&16)!==0){var R=y.deletions;if(R!==null){for(var L=0;L<R.length;L++){var G=R[L];for(ce=G;ce!==null;){var ee=ce;switch(ee.tag){case 0:case 11:case 15:yl(8,ee,y)}var te=ee.child;if(te!==null)te.return=ee,ce=te;else for(;ce!==null;){ee=ce;var Z=ee.sibling,le=ee.return;if(Cv(ee),ee===G){ce=null;break}if(Z!==null){Z.return=le,ce=Z;break}ce=le}}}var he=y.alternate;if(he!==null){var de=he.child;if(de!==null){he.child=null;do{var dt=de.sibling;de.sibling=null,de=dt}while(de!==null)}}ce=y}}if((y.subtreeFlags&2064)!==0&&S!==null)S.return=y,ce=S;else e:for(;ce!==null;){if(y=ce,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:yl(9,y,y.return)}var z=y.sibling;if(z!==null){z.return=y.return,ce=z;break e}ce=y.return}}var j=i.current;for(ce=j;ce!==null;){S=ce;var W=S.child;if((S.subtreeFlags&2064)!==0&&W!==null)W.return=S,ce=W;else e:for(S=j;ce!==null;){if(R=ce,(R.flags&2048)!==0)try{switch(R.tag){case 0:case 11:case 15:Sc(9,R)}}catch(fe){lt(R,R.return,fe)}if(R===S){ce=null;break e}var ne=R.sibling;if(ne!==null){ne.return=R.return,ce=ne;break e}ce=R.return}}if(je=m,Ii(),cn&&typeof cn.onPostCommitFiberRoot=="function")try{cn.onPostCommitFiberRoot(fs,i)}catch{}h=!0}return h}finally{Me=l,xn.transition=o}}return!1}function zv(i,o,l){o=Lo(l,o),o=ov(i,o,1),i=Ci(i,o,1),o=Zt(),i!==null&&(ys(i,1,o),sn(i,o))}function lt(i,o,l){if(i.tag===3)zv(i,i,l);else for(;o!==null;){if(o.tag===3){zv(o,i,l);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Ri===null||!Ri.has(h))){i=Lo(l,i),i=av(o,i,1),o=Ci(o,i,1),i=Zt(),o!==null&&(ys(o,1,i),sn(o,i));break}}o=o.return}}function AP(i,o,l){var h=i.pingCache;h!==null&&h.delete(o),o=Zt(),i.pingedLanes|=i.suspendedLanes&l,Ct===i&&(bt&l)===l&&(Tt===4||Tt===3&&(bt&130023424)===bt&&500>Qe()-xf?Ns(i,0):Rf|=l),sn(i,o)}function $v(i,o){o===0&&((i.mode&1)===0?o=1:(o=pi,pi<<=1,(pi&130023424)===0&&(pi=4194304)));var l=Zt();i=zr(i,o),i!==null&&(ys(i,o,l),sn(i,l))}function RP(i){var o=i.memoizedState,l=0;o!==null&&(l=o.retryLane),$v(i,l)}function xP(i,o){var l=0;switch(i.tag){case 13:var h=i.stateNode,m=i.memoizedState;m!==null&&(l=m.retryLane);break;case 19:h=i.stateNode;break;default:throw Error(t(314))}h!==null&&h.delete(o),$v(i,l)}var Hv;Hv=function(i,o,l){if(i!==null)if(i.memoizedProps!==o.pendingProps||en.current)nn=!0;else{if((i.lanes&l)===0&&(o.flags&128)===0)return nn=!1,gP(i,o,l);nn=(i.flags&131072)!==0}else nn=!1,tt&&(o.flags&1048576)!==0&&Sy(o,oc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;Ec(i,o),i=o.pendingProps;var m=Ro(o,Bt.current);bo(o,l),m=of(null,o,h,i,m,l);var y=af();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,tn(h)?(y=!0,rc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Jd(o),m.updater=_c,o.stateNode=m,m._reactInternals=o,ff(o,h,i,l),o=yf(null,o,h,!0,y,l)):(o.tag=0,tt&&y&&zd(o),Jt(null,o,m,l),o=o.child),o;case 16:h=o.elementType;e:{switch(Ec(i,o),i=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=NP(h),i=zn(h,i),m){case 0:o=gf(null,o,h,i,l);break e;case 1:o=gv(null,o,h,i,l);break e;case 11:o=hv(null,o,h,i,l);break e;case 14:o=dv(null,o,h,zn(h.type,i),l);break e}throw Error(t(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:zn(h,m),gf(i,o,h,m,l);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:zn(h,m),gv(i,o,h,m,l);case 3:e:{if(yv(o),i===null)throw Error(t(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Dy(i,o),dc(o,h,null,l);var S=o.memoizedState;if(h=S.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:S.cache,pendingSuspenseBoundaries:S.pendingSuspenseBoundaries,transitions:S.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=Lo(Error(t(423)),o),o=vv(i,o,h,l,m);break e}else if(h!==m){m=Lo(Error(t(424)),o),o=vv(i,o,h,l,m);break e}else for(yn=Ei(o.stateNode.containerInfo.firstChild),gn=o,tt=!0,Bn=null,l=ky(o,null,h,l),o.child=l;l;)l.flags=l.flags&-3|4096,l=l.sibling;else{if(No(),h===m){o=Hr(i,o,l);break e}Jt(i,o,h,l)}o=o.child}return o;case 5:return My(o),i===null&&Wd(o),h=o.type,m=o.pendingProps,y=i!==null?i.memoizedProps:null,S=m.children,Ld(h,m)?S=null:y!==null&&Ld(h,y)&&(o.flags|=32),mv(i,o),Jt(i,o,S,l),o.child;case 6:return i===null&&Wd(o),null;case 13:return _v(i,o,l);case 4:return Zd(o,o.stateNode.containerInfo),h=o.pendingProps,i===null?o.child=Do(o,null,h,l):Jt(i,o,h,l),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:zn(h,m),hv(i,o,h,m,l);case 7:return Jt(i,o,o.pendingProps,l),o.child;case 8:return Jt(i,o,o.pendingProps.children,l),o.child;case 12:return Jt(i,o,o.pendingProps.children,l),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,S=m.value,Ke(uc,h._currentValue),h._currentValue=S,y!==null)if(Un(y.value,S)){if(y.children===m.children&&!en.current){o=Hr(i,o,l);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var R=y.dependencies;if(R!==null){S=y.child;for(var L=R.firstContext;L!==null;){if(L.context===h){if(y.tag===1){L=$r(-1,l&-l),L.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var ee=G.pending;ee===null?L.next=L:(L.next=ee.next,ee.next=L),G.pending=L}}y.lanes|=l,L=y.alternate,L!==null&&(L.lanes|=l),Xd(y.return,l,o),R.lanes|=l;break}L=L.next}}else if(y.tag===10)S=y.type===o.type?null:y.child;else if(y.tag===18){if(S=y.return,S===null)throw Error(t(341));S.lanes|=l,R=S.alternate,R!==null&&(R.lanes|=l),Xd(S,l,o),S=y.sibling}else S=y.child;if(S!==null)S.return=y;else for(S=y;S!==null;){if(S===o){S=null;break}if(y=S.sibling,y!==null){y.return=S.return,S=y;break}S=S.return}y=S}Jt(i,o,m.children,l),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,bo(o,l),m=An(m),h=h(m),o.flags|=1,Jt(i,o,h,l),o.child;case 14:return h=o.type,m=zn(h,o.pendingProps),m=zn(h.type,m),dv(i,o,h,m,l);case 15:return fv(i,o,o.type,o.pendingProps,l);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:zn(h,m),Ec(i,o),o.tag=1,tn(h)?(i=!0,rc(o)):i=!1,bo(o,l),iv(o,h,m),ff(o,h,m,l),yf(null,o,h,!0,i,l);case 19:return Ev(i,o,l);case 22:return pv(i,o,l)}throw Error(t(156,o.tag))};function Wv(i,o){return Oa(i,o)}function kP(i,o,l,h){this.tag=i,this.key=l,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function kn(i,o,l,h){return new kP(i,o,l,h)}function Of(i){return i=i.prototype,!(!i||!i.isReactComponent)}function NP(i){if(typeof i=="function")return Of(i)?1:0;if(i!=null){if(i=i.$$typeof,i===U)return 11;if(i===wt)return 14}return 2}function Di(i,o){var l=i.alternate;return l===null?(l=kn(i.tag,o,i.key,i.mode),l.elementType=i.elementType,l.type=i.type,l.stateNode=i.stateNode,l.alternate=i,i.alternate=l):(l.pendingProps=o,l.type=i.type,l.flags=0,l.subtreeFlags=0,l.deletions=null),l.flags=i.flags&14680064,l.childLanes=i.childLanes,l.lanes=i.lanes,l.child=i.child,l.memoizedProps=i.memoizedProps,l.memoizedState=i.memoizedState,l.updateQueue=i.updateQueue,o=i.dependencies,l.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},l.sibling=i.sibling,l.index=i.index,l.ref=i.ref,l}function Dc(i,o,l,h,m,y){var S=2;if(h=i,typeof i=="function")Of(i)&&(S=1);else if(typeof i=="string")S=5;else e:switch(i){case D:return Vs(l.children,m,y,o);case A:S=8,m|=8;break;case P:return i=kn(12,l,o,m|2),i.elementType=P,i.lanes=y,i;case N:return i=kn(13,l,o,m),i.elementType=N,i.lanes=y,i;case He:return i=kn(19,l,o,m),i.elementType=He,i.lanes=y,i;case Re:return Vc(l,m,y,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case b:S=10;break e;case M:S=9;break e;case U:S=11;break e;case wt:S=14;break e;case kt:S=16,h=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=kn(S,l,o,m),o.elementType=i,o.type=h,o.lanes=y,o}function Vs(i,o,l,h){return i=kn(7,i,h,o),i.lanes=l,i}function Vc(i,o,l,h){return i=kn(22,i,h,o),i.elementType=Re,i.lanes=l,i.stateNode={isHidden:!1},i}function jf(i,o,l){return i=kn(6,i,null,o),i.lanes=l,i}function Ff(i,o,l){return o=kn(4,i.children!==null?i.children:[],i.key,o),o.lanes=l,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function DP(i,o,l,h,m){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=za(0),this.expirationTimes=za(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=za(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Uf(i,o,l,h,m,y,S,R,L){return i=new DP(i,o,l,R,L),o===1?(o=1,y===!0&&(o|=8)):o=0,y=kn(3,null,null,o),i.current=y,y.stateNode=i,y.memoizedState={element:h,isDehydrated:l,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jd(y),i}function VP(i,o,l){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ie,key:h==null?null:""+h,children:i,containerInfo:o,implementation:l}}function qv(i){if(!i)return Si;i=i._reactInternals;e:{if(jn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(tn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var l=i.type;if(tn(l))return wy(i,l,o)}return o}function Gv(i,o,l,h,m,y,S,R,L){return i=Uf(l,h,!0,i,m,y,S,R,L),i.context=qv(null),l=i.current,h=Zt(),m=ki(l),y=$r(h,m),y.callback=o??null,Ci(l,y,m),i.current.lanes=m,ys(i,m,h),sn(i,h),i}function bc(i,o,l,h){var m=o.current,y=Zt(),S=ki(m);return l=qv(l),o.context===null?o.context=l:o.pendingContext=l,o=$r(y,S),o.payload={element:i},h=h===void 0?null:h,h!==null&&(o.callback=h),i=Ci(m,o,S),i!==null&&(Wn(i,m,S,y),hc(i,m,S)),S}function Mc(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function Kv(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var l=i.retryLane;i.retryLane=l!==0&&l<o?l:o}}function Bf(i,o){Kv(i,o),(i=i.alternate)&&Kv(i,o)}function bP(){return null}var Qv=typeof reportError=="function"?reportError:function(i){console.error(i)};function zf(i){this._internalRoot=i}Lc.prototype.render=zf.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));bc(i,o,null,null)},Lc.prototype.unmount=zf.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;ks(function(){bc(null,i,null,null)}),o[jr]=null}};function Lc(i){this._internalRoot=i}Lc.prototype.unstable_scheduleHydration=function(i){if(i){var o=qa();i={blockedOn:null,target:i,priority:o};for(var l=0;l<dn.length&&o!==0&&o<dn[l].priority;l++);dn.splice(l,0,i),l===0&&ho(i)}};function $f(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Oc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function Xv(){}function MP(i,o,l,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var G=Mc(S);y.call(G)}}var S=Gv(o,h,i,0,null,!1,!1,"",Xv);return i._reactRootContainer=S,i[jr]=S.current,il(i.nodeType===8?i.parentNode:i),ks(),S}for(;m=i.lastChild;)i.removeChild(m);if(typeof h=="function"){var R=h;h=function(){var G=Mc(L);R.call(G)}}var L=Uf(i,0,!1,null,null,!1,!1,"",Xv);return i._reactRootContainer=L,i[jr]=L.current,il(i.nodeType===8?i.parentNode:i),ks(function(){bc(o,L,l,h)}),L}function jc(i,o,l,h,m){var y=l._reactRootContainer;if(y){var S=y;if(typeof m=="function"){var R=m;m=function(){var L=Mc(S);R.call(L)}}bc(o,S,i,m)}else S=MP(l,o,i,m,h);return Mc(S)}Ha=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var l=Ue(o.pendingLanes);l!==0&&($a(o,l|1),sn(o,Qe()),(je&6)===0&&(Fo=Qe()+500,Ii()))}break;case 13:ks(function(){var h=zr(i,1);if(h!==null){var m=Zt();Wn(h,i,1,m)}}),Bf(i,1)}},uo=function(i){if(i.tag===13){var o=zr(i,134217728);if(o!==null){var l=Zt();Wn(o,i,134217728,l)}Bf(i,134217728)}},Wa=function(i){if(i.tag===13){var o=ki(i),l=zr(i,o);if(l!==null){var h=Zt();Wn(l,i,o,h)}Bf(i,o)}},qa=function(){return Me},Ga=function(i,o){var l=Me;try{return Me=i,o()}finally{Me=l}},Rr=function(i,o,l){switch(o){case"input":if(as(i,l),o=l.name,l.type==="radio"&&o!=null){for(l=i;l.parentNode;)l=l.parentNode;for(l=l.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<l.length;o++){var h=l[o];if(h!==i&&h.form===i.form){var m=tc(h);if(!m)throw Error(t(90));Ra(h),as(h,m)}}}break;case"textarea":Cu(i,l);break;case"select":o=l.value,o!=null&&Ln(i,!!l.multiple,o,!1)}},xu=bf,ku=ks;var LP={usingClientEntryPoint:!1,Events:[al,Co,tc,ci,hi,bf]},El={findFiberByHostInstance:Ts,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},OP={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:re.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ou(i),i===null?null:i.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||bP,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Fc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Fc.isDisabled&&Fc.supportsFiber)try{fs=Fc.inject(OP),cn=Fc}catch{}}return on.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=LP,on.createPortal=function(i,o){var l=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!$f(o))throw Error(t(200));return VP(i,o,null,l)},on.createRoot=function(i,o){if(!$f(i))throw Error(t(299));var l=!1,h="",m=Qv;return o!=null&&(o.unstable_strictMode===!0&&(l=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Uf(i,1,!1,null,null,l,!1,h,m),i[jr]=o.current,il(i.nodeType===8?i.parentNode:i),new zf(o)},on.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ou(o),i=i===null?null:i.stateNode,i},on.flushSync=function(i){return ks(i)},on.hydrate=function(i,o,l){if(!Oc(o))throw Error(t(200));return jc(null,i,o,!0,l)},on.hydrateRoot=function(i,o,l){if(!$f(i))throw Error(t(405));var h=l!=null&&l.hydratedSources||null,m=!1,y="",S=Qv;if(l!=null&&(l.unstable_strictMode===!0&&(m=!0),l.identifierPrefix!==void 0&&(y=l.identifierPrefix),l.onRecoverableError!==void 0&&(S=l.onRecoverableError)),o=Gv(o,null,i,1,l??null,m,!1,y,S),i[jr]=o.current,il(i),h)for(i=0;i<h.length;i++)l=h[i],m=l._getVersion,m=m(l._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[l,m]:o.mutableSourceEagerHydrationData.push(l,m);return new Lc(o)},on.render=function(i,o,l){if(!Oc(o))throw Error(t(200));return jc(null,i,o,!1,l)},on.unmountComponentAtNode=function(i){if(!Oc(i))throw Error(t(40));return i._reactRootContainer?(ks(function(){jc(null,null,i,!1,function(){i._reactRootContainer=null,i[jr]=null})}),!0):!1},on.unstable_batchedUpdates=bf,on.unstable_renderSubtreeIntoContainer=function(i,o,l,h){if(!Oc(l))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return jc(i,o,l,!1,h)},on.version="18.3.1-next-f1338f8080-20240426",on}var i_;function qP(){if(i_)return qf.exports;i_=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),qf.exports=WP(),qf.exports}var s_;function GP(){if(s_)return Uc;s_=1;var n=qP();return Uc.createRoot=n.createRoot,Uc.hydrateRoot=n.hydrateRoot,Uc}var KP=GP();const QP=rE(KP);/**
 * react-router v7.11.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var o_="popstate";function XP(n={}){function e(r,s){let{pathname:a,search:u,hash:d}=r.location;return Sp("",{pathname:a,search:u,hash:d},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function t(r,s){return typeof s=="string"?s:$l(s)}return JP(e,t,null,n)}function nt(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function Mn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function YP(){return Math.random().toString(36).substring(2,10)}function a_(n,e){return{usr:n.state,key:n.key,idx:e}}function Sp(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?ma(e):e,state:t,key:e&&e.key||r||YP()}}function $l({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function ma(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function JP(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,u=s.history,d="POP",f=null,p=g();p==null&&(p=0,u.replaceState({...u.state,idx:p},""));function g(){return(u.state||{idx:null}).idx}function _(){d="POP";let k=g(),F=k==null?null:k-p;p=k,f&&f({action:d,location:x.location,delta:F})}function E(k,F){d="PUSH";let q=Sp(x.location,k,F);p=g()+1;let H=a_(q,p),re=x.createHref(q);try{u.pushState(H,"",re)}catch(Q){if(Q instanceof DOMException&&Q.name==="DataCloneError")throw Q;s.location.assign(re)}a&&f&&f({action:d,location:x.location,delta:1})}function I(k,F){d="REPLACE";let q=Sp(x.location,k,F);p=g();let H=a_(q,p),re=x.createHref(q);u.replaceState(H,"",re),a&&f&&f({action:d,location:x.location,delta:0})}function V(k){return ZP(k)}let x={get action(){return d},get location(){return n(s,u)},listen(k){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(o_,_),f=k,()=>{s.removeEventListener(o_,_),f=null}},createHref(k){return e(s,k)},createURL:V,encodeLocation(k){let F=V(k);return{pathname:F.pathname,search:F.search,hash:F.hash}},push:E,replace:I,go(k){return u.go(k)}};return x}function ZP(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),nt(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:$l(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function iE(n,e,t="/"){return eC(n,e,t,!1)}function eC(n,e,t,r){let s=typeof e=="string"?ma(e):e,a=Yr(s.pathname||"/",t);if(a==null)return null;let u=sE(n);tC(u);let d=null;for(let f=0;d==null&&f<u.length;++f){let p=dC(a);d=cC(u[f],p,r)}return d}function sE(n,e=[],t=[],r="",s=!1){let a=(u,d,f=s,p)=>{let g={relativePath:p===void 0?u.path||"":p,caseSensitive:u.caseSensitive===!0,childrenIndex:d,route:u};if(g.relativePath.startsWith("/")){if(!g.relativePath.startsWith(r)&&f)return;nt(g.relativePath.startsWith(r),`Absolute route path "${g.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(r.length)}let _=Kr([r,g.relativePath]),E=t.concat(g);u.children&&u.children.length>0&&(nt(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${_}".`),sE(u.children,e,E,_,f)),!(u.path==null&&!u.index)&&e.push({path:_,score:lC(_,u.index),routesMeta:E})};return n.forEach((u,d)=>{var f;if(u.path===""||!((f=u.path)!=null&&f.includes("?")))a(u,d);else for(let p of oE(u.path))a(u,d,!0,p)}),e}function oE(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let u=oE(r.join("/")),d=[];return d.push(...u.map(f=>f===""?a:[a,f].join("/"))),s&&d.push(...u),d.map(f=>n.startsWith("/")&&f===""?"/":f)}function tC(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:uC(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var nC=/^:[\w-]+$/,rC=3,iC=2,sC=1,oC=10,aC=-2,l_=n=>n==="*";function lC(n,e){let t=n.split("/"),r=t.length;return t.some(l_)&&(r+=aC),e&&(r+=iC),t.filter(s=>!l_(s)).reduce((s,a)=>s+(nC.test(a)?rC:a===""?sC:oC),r)}function uC(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function cC(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",u=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,g=a==="/"?e:e.slice(a.length)||"/",_=fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},g),E=f.route;if(!_&&p&&t&&!r[r.length-1].route.index&&(_=fh({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},g)),!_)return null;Object.assign(s,_.params),u.push({params:s,pathname:Kr([a,_.pathname]),pathnameBase:gC(Kr([a,_.pathnameBase])),route:E}),_.pathnameBase!=="/"&&(a=Kr([a,_.pathnameBase]))}return u}function fh(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=hC(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],u=a.replace(/(.)\/+$/,"$1"),d=s.slice(1);return{params:r.reduce((p,{paramName:g,isOptional:_},E)=>{if(g==="*"){let V=d[E]||"";u=a.slice(0,a.length-V.length).replace(/(.)\/+$/,"$1")}const I=d[E];return _&&!I?p[g]=void 0:p[g]=(I||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:u,pattern:n}}function hC(n,e=!1,t=!0){Mn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(u,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function dC(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Yr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}var aE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fC=n=>aE.test(n);function pC(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?ma(n):n,a;if(t)if(fC(t))a=t;else{if(t.includes("//")){let u=t;t=t.replace(/\/\/+/g,"/"),Mn(!1,`Pathnames cannot have embedded double slashes - normalizing ${u} -> ${t}`)}t.startsWith("/")?a=u_(t.substring(1),"/"):a=u_(t,e)}else a=e;return{pathname:a,search:yC(r),hash:vC(s)}}function u_(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qf(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function mC(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function mm(n){let e=mC(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function gm(n,e,t,r=!1){let s;typeof n=="string"?s=ma(n):(s={...n},nt(!s.pathname||!s.pathname.includes("?"),Qf("?","pathname","search",s)),nt(!s.pathname||!s.pathname.includes("#"),Qf("#","pathname","hash",s)),nt(!s.search||!s.search.includes("#"),Qf("#","search","hash",s)));let a=n===""||s.pathname==="",u=a?"/":s.pathname,d;if(u==null)d=t;else{let _=e.length-1;if(!r&&u.startsWith("..")){let E=u.split("/");for(;E[0]==="..";)E.shift(),_-=1;s.pathname=E.join("/")}d=_>=0?e[_]:"/"}let f=pC(s,d),p=u&&u!=="/"&&u.endsWith("/"),g=(a||u===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(p||g)&&(f.pathname+="/"),f}var Kr=n=>n.join("/").replace(/\/\/+/g,"/"),gC=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),yC=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,vC=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n,_C=class{constructor(n,e,t,r=!1){this.status=n,this.statusText=e||"",this.internal=r,t instanceof Error?(this.data=t.toString(),this.error=t):this.data=t}};function wC(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}function EC(n){return n.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var lE=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function uE(n,e){let t=n;if(typeof t!="string"||!aE.test(t))return{absoluteURL:void 0,isExternal:!1,to:t};let r=t,s=!1;if(lE)try{let a=new URL(window.location.href),u=t.startsWith("//")?new URL(a.protocol+t):new URL(t),d=Yr(u.pathname,e);u.origin===a.origin&&d!=null?t=d+u.search+u.hash:s=!0}catch{Mn(!1,`<Link to="${t}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:r,isExternal:s,to:t}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var cE=["POST","PUT","PATCH","DELETE"];new Set(cE);var TC=["GET",...cE];new Set(TC);var ga=O.createContext(null);ga.displayName="DataRouter";var zh=O.createContext(null);zh.displayName="DataRouterState";var SC=O.createContext(!1),hE=O.createContext({isTransitioning:!1});hE.displayName="ViewTransition";var IC=O.createContext(new Map);IC.displayName="Fetchers";var PC=O.createContext(null);PC.displayName="Await";var Tn=O.createContext(null);Tn.displayName="Navigation";var lu=O.createContext(null);lu.displayName="Location";var Yn=O.createContext({outlet:null,matches:[],isDataRoute:!1});Yn.displayName="Route";var ym=O.createContext(null);ym.displayName="RouteError";var dE="REACT_ROUTER_ERROR",CC="REDIRECT",AC="ROUTE_ERROR_RESPONSE";function RC(n){if(n.startsWith(`${dE}:${CC}:{`))try{let e=JSON.parse(n.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function xC(n){if(n.startsWith(`${dE}:${AC}:{`))try{let e=JSON.parse(n.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new _C(e.status,e.statusText,e.data)}catch{}}function kC(n,{relative:e}={}){nt(ya(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=O.useContext(Tn),{hash:s,pathname:a,search:u}=uu(n,{relative:e}),d=a;return t!=="/"&&(d=a==="/"?t:Kr([t,a])),r.createHref({pathname:d,search:u,hash:s})}function ya(){return O.useContext(lu)!=null}function ns(){return nt(ya(),"useLocation() may be used only in the context of a <Router> component."),O.useContext(lu).location}var fE="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pE(n){O.useContext(Tn).static||O.useLayoutEffect(n)}function vm(){let{isDataRoute:n}=O.useContext(Yn);return n?HC():NC()}function NC(){nt(ya(),"useNavigate() may be used only in the context of a <Router> component.");let n=O.useContext(ga),{basename:e,navigator:t}=O.useContext(Tn),{matches:r}=O.useContext(Yn),{pathname:s}=ns(),a=JSON.stringify(mm(r)),u=O.useRef(!1);return pE(()=>{u.current=!0}),O.useCallback((f,p={})=>{if(Mn(u.current,fE),!u.current)return;if(typeof f=="number"){t.go(f);return}let g=gm(f,JSON.parse(a),s,p.relative==="path");n==null&&e!=="/"&&(g.pathname=g.pathname==="/"?e:Kr([e,g.pathname])),(p.replace?t.replace:t.push)(g,p.state,p)},[e,t,a,s,n])}O.createContext(null);function DC(){let{matches:n}=O.useContext(Yn),e=n[n.length-1];return e?e.params:{}}function uu(n,{relative:e}={}){let{matches:t}=O.useContext(Yn),{pathname:r}=ns(),s=JSON.stringify(mm(t));return O.useMemo(()=>gm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function VC(n,e){return mE(n,e)}function mE(n,e,t,r,s){var q;nt(ya(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=O.useContext(Tn),{matches:u}=O.useContext(Yn),d=u[u.length-1],f=d?d.params:{},p=d?d.pathname:"/",g=d?d.pathnameBase:"/",_=d&&d.route;{let H=_&&_.path||"";yE(p,!_||H.endsWith("*")||H.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${p}" (under <Route path="${H}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${H}"> to <Route path="${H==="/"?"*":`${H}/*`}">.`)}let E=ns(),I;if(e){let H=typeof e=="string"?ma(e):e;nt(g==="/"||((q=H.pathname)==null?void 0:q.startsWith(g)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${g}" but pathname "${H.pathname}" was given in the \`location\` prop.`),I=H}else I=E;let V=I.pathname||"/",x=V;if(g!=="/"){let H=g.replace(/^\//,"").split("/");x="/"+V.replace(/^\//,"").split("/").slice(H.length).join("/")}let k=iE(n,{pathname:x});Mn(_||k!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Mn(k==null||k[k.length-1].route.element!==void 0||k[k.length-1].route.Component!==void 0||k[k.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let F=jC(k&&k.map(H=>Object.assign({},H,{params:Object.assign({},f,H.params),pathname:Kr([g,a.encodeLocation?a.encodeLocation(H.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathname]),pathnameBase:H.pathnameBase==="/"?g:Kr([g,a.encodeLocation?a.encodeLocation(H.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:H.pathnameBase])})),u,t,r,s);return e&&F?O.createElement(lu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},F):F}function bC(){let n=$C(),e=wC(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},u=null;return console.error("Error handled by React Router default ErrorBoundary:",n),u=O.createElement(O.Fragment,null,O.createElement("p",null," Hey developer "),O.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",O.createElement("code",{style:a},"ErrorBoundary")," or"," ",O.createElement("code",{style:a},"errorElement")," prop on your route.")),O.createElement(O.Fragment,null,O.createElement("h2",null,"Unexpected Application Error!"),O.createElement("h3",{style:{fontStyle:"italic"}},e),t?O.createElement("pre",{style:s},t):null,u)}var MC=O.createElement(bC,null),gE=class extends O.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){this.props.onError?this.props.onError(n,e):console.error("React Router caught the following error during render",n)}render(){let n=this.state.error;if(this.context&&typeof n=="object"&&n&&"digest"in n&&typeof n.digest=="string"){const t=xC(n.digest);t&&(n=t)}let e=n!==void 0?O.createElement(Yn.Provider,{value:this.props.routeContext},O.createElement(ym.Provider,{value:n,children:this.props.component})):this.props.children;return this.context?O.createElement(LC,{error:n},e):e}};gE.contextType=SC;var Xf=new WeakMap;function LC({children:n,error:e}){let{basename:t}=O.useContext(Tn);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let r=RC(e.digest);if(r){let s=Xf.get(e);if(s)throw s;let a=uE(r.location,t);if(lE&&!Xf.get(e))if(a.isExternal||r.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const u=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:r.replace}));throw Xf.set(e,u),u}return O.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return n}function OC({routeContext:n,match:e,children:t}){let r=O.useContext(ga);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),O.createElement(Yn.Provider,{value:n},t)}function jC(n,e=[],t=null,r=null,s=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let a=n,u=t==null?void 0:t.errors;if(u!=null){let g=a.findIndex(_=>_.route.id&&(u==null?void 0:u[_.route.id])!==void 0);nt(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let d=!1,f=-1;if(t)for(let g=0;g<a.length;g++){let _=a[g];if((_.route.HydrateFallback||_.route.hydrateFallbackElement)&&(f=g),_.route.id){let{loaderData:E,errors:I}=t,V=_.route.loader&&!E.hasOwnProperty(_.route.id)&&(!I||I[_.route.id]===void 0);if(_.route.lazy||V){d=!0,f>=0?a=a.slice(0,f+1):a=[a[0]];break}}}let p=t&&r?(g,_)=>{var E,I;r(g,{location:t.location,params:((I=(E=t.matches)==null?void 0:E[0])==null?void 0:I.params)??{},unstable_pattern:EC(t.matches),errorInfo:_})}:void 0;return a.reduceRight((g,_,E)=>{let I,V=!1,x=null,k=null;t&&(I=u&&_.route.id?u[_.route.id]:void 0,x=_.route.errorElement||MC,d&&(f<0&&E===0?(yE("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),V=!0,k=null):f===E&&(V=!0,k=_.route.hydrateFallbackElement||null)));let F=e.concat(a.slice(0,E+1)),q=()=>{let H;return I?H=x:V?H=k:_.route.Component?H=O.createElement(_.route.Component,null):_.route.element?H=_.route.element:H=g,O.createElement(OC,{match:_,routeContext:{outlet:g,matches:F,isDataRoute:t!=null},children:H})};return t&&(_.route.ErrorBoundary||_.route.errorElement||E===0)?O.createElement(gE,{location:t.location,revalidation:t.revalidation,component:x,error:I,children:q(),routeContext:{outlet:null,matches:F,isDataRoute:!0},onError:p}):q()},null)}function _m(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function FC(n){let e=O.useContext(ga);return nt(e,_m(n)),e}function UC(n){let e=O.useContext(zh);return nt(e,_m(n)),e}function BC(n){let e=O.useContext(Yn);return nt(e,_m(n)),e}function wm(n){let e=BC(n),t=e.matches[e.matches.length-1];return nt(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function zC(){return wm("useRouteId")}function $C(){var r;let n=O.useContext(ym),e=UC("useRouteError"),t=wm("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function HC(){let{router:n}=FC("useNavigate"),e=wm("useNavigate"),t=O.useRef(!1);return pE(()=>{t.current=!0}),O.useCallback(async(s,a={})=>{Mn(t.current,fE),t.current&&(typeof s=="number"?await n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var c_={};function yE(n,e,t){!e&&!c_[n]&&(c_[n]=!0,Mn(!1,t))}O.memo(WC);function WC({routes:n,future:e,state:t,onError:r}){return mE(n,void 0,t,r,e)}function qC({to:n,replace:e,state:t,relative:r}){nt(ya(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=O.useContext(Tn);Mn(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=O.useContext(Yn),{pathname:u}=ns(),d=vm(),f=gm(n,mm(a),u,r==="path"),p=JSON.stringify(f);return O.useEffect(()=>{d(JSON.parse(p),{replace:e,state:t,relative:r})},[d,p,r,e,t]),null}function js(n){nt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function GC({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1,unstable_useTransitions:u}){nt(!ya(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let d=n.replace(/^\/*/,"/"),f=O.useMemo(()=>({basename:d,navigator:s,static:a,unstable_useTransitions:u,future:{}}),[d,s,a,u]);typeof t=="string"&&(t=ma(t));let{pathname:p="/",search:g="",hash:_="",state:E=null,key:I="default"}=t,V=O.useMemo(()=>{let x=Yr(p,d);return x==null?null:{location:{pathname:x,search:g,hash:_,state:E,key:I},navigationType:r}},[d,p,g,_,E,I,r]);return Mn(V!=null,`<Router basename="${d}"> is not able to match the URL "${p}${g}${_}" because it does not start with the basename, so the <Router> won't render anything.`),V==null?null:O.createElement(Tn.Provider,{value:f},O.createElement(lu.Provider,{children:e,value:V}))}function vE({children:n,location:e}){return VC(Ip(n),e)}function Ip(n,e=[]){let t=[];return O.Children.forEach(n,(r,s)=>{if(!O.isValidElement(r))return;let a=[...e,s];if(r.type===O.Fragment){t.push.apply(t,Ip(r.props.children,a));return}nt(r.type===js,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),nt(!r.props.index||!r.props.children,"An index route cannot have child routes.");let u={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,middleware:r.props.middleware,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(u.children=Ip(r.props.children,a)),t.push(u)}),t}var Jc="get",Zc="application/x-www-form-urlencoded";function $h(n){return typeof HTMLElement<"u"&&n instanceof HTMLElement}function KC(n){return $h(n)&&n.tagName.toLowerCase()==="button"}function QC(n){return $h(n)&&n.tagName.toLowerCase()==="form"}function XC(n){return $h(n)&&n.tagName.toLowerCase()==="input"}function YC(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function JC(n,e){return n.button===0&&(!e||e==="_self")&&!YC(n)}var Bc=null;function ZC(){if(Bc===null)try{new FormData(document.createElement("form"),0),Bc=!1}catch{Bc=!0}return Bc}var eA=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yf(n){return n!=null&&!eA.has(n)?(Mn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Zc}"`),null):n}function tA(n,e){let t,r,s,a,u;if(QC(n)){let d=n.getAttribute("action");r=d?Yr(d,e):null,t=n.getAttribute("method")||Jc,s=Yf(n.getAttribute("enctype"))||Zc,a=new FormData(n)}else if(KC(n)||XC(n)&&(n.type==="submit"||n.type==="image")){let d=n.form;if(d==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||d.getAttribute("action");if(r=f?Yr(f,e):null,t=n.getAttribute("formmethod")||d.getAttribute("method")||Jc,s=Yf(n.getAttribute("formenctype"))||Yf(d.getAttribute("enctype"))||Zc,a=new FormData(d,n),!ZC()){let{name:p,type:g,value:_}=n;if(g==="image"){let E=p?`${p}.`:"";a.append(`${E}x`,"0"),a.append(`${E}y`,"0")}else p&&a.append(p,_)}}else{if($h(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Jc,r=null,s=Zc,u=n}return a&&s==="text/plain"&&(u=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:u}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function Em(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function nA(n,e,t){let r=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return r.pathname==="/"?r.pathname=`_root.${t}`:e&&Yr(r.pathname,e)==="/"?r.pathname=`${e.replace(/\/$/,"")}/_root.${t}`:r.pathname=`${r.pathname.replace(/\/$/,"")}.${t}`,r}async function rA(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function iA(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function sA(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let u=await rA(a,t);return u.links?u.links():[]}return[]}));return uA(r.flat(1).filter(iA).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function h_(n,e,t,r,s,a){let u=(f,p)=>t[p]?f.route.id!==t[p].route.id:!0,d=(f,p)=>{var g;return t[p].pathname!==f.pathname||((g=t[p].route.path)==null?void 0:g.endsWith("*"))&&t[p].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,p)=>u(f,p)||d(f,p)):a==="data"?e.filter((f,p)=>{var _;let g=r.routes[f.route.id];if(!g||!g.hasLoader)return!1;if(u(f,p)||d(f,p))return!0;if(f.route.shouldRevalidate){let E=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof E=="boolean")return E}return!0}):[]}function oA(n,e,{includeHydrateFallback:t}={}){return aA(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function aA(n){return[...new Set(n)]}function lA(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function uA(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(lA(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}function _E(){let n=O.useContext(ga);return Em(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function cA(){let n=O.useContext(zh);return Em(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Tm=O.createContext(void 0);Tm.displayName="FrameworkContext";function wE(){let n=O.useContext(Tm);return Em(n,"You must render this element inside a <HydratedRouter> element"),n}function hA(n,e){let t=O.useContext(Tm),[r,s]=O.useState(!1),[a,u]=O.useState(!1),{onFocus:d,onBlur:f,onMouseEnter:p,onMouseLeave:g,onTouchStart:_}=e,E=O.useRef(null);O.useEffect(()=>{if(n==="render"&&u(!0),n==="viewport"){let x=F=>{F.forEach(q=>{u(q.isIntersecting)})},k=new IntersectionObserver(x,{threshold:.5});return E.current&&k.observe(E.current),()=>{k.disconnect()}}},[n]),O.useEffect(()=>{if(r){let x=setTimeout(()=>{u(!0)},100);return()=>{clearTimeout(x)}}},[r]);let I=()=>{s(!0)},V=()=>{s(!1),u(!1)};return t?n!=="intent"?[a,E,{}]:[a,E,{onFocus:Sl(d,I),onBlur:Sl(f,V),onMouseEnter:Sl(p,I),onMouseLeave:Sl(g,V),onTouchStart:Sl(_,I)}]:[!1,E,{}]}function Sl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function dA({page:n,...e}){let{router:t}=_E(),r=O.useMemo(()=>iE(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?O.createElement(pA,{page:n,matches:r,...e}):null}function fA(n){let{manifest:e,routeModules:t}=wE(),[r,s]=O.useState([]);return O.useEffect(()=>{let a=!1;return sA(n,e,t).then(u=>{a||s(u)}),()=>{a=!0}},[n,e,t]),r}function pA({page:n,matches:e,...t}){let r=ns(),{manifest:s,routeModules:a}=wE(),{basename:u}=_E(),{loaderData:d,matches:f}=cA(),p=O.useMemo(()=>h_(n,e,f,s,r,"data"),[n,e,f,s,r]),g=O.useMemo(()=>h_(n,e,f,s,r,"assets"),[n,e,f,s,r]),_=O.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let V=new Set,x=!1;if(e.forEach(F=>{var H;let q=s.routes[F.route.id];!q||!q.hasLoader||(!p.some(re=>re.route.id===F.route.id)&&F.route.id in d&&((H=a[F.route.id])!=null&&H.shouldRevalidate)||q.hasClientLoader?x=!0:V.add(F.route.id))}),V.size===0)return[];let k=nA(n,u,"data");return x&&V.size>0&&k.searchParams.set("_routes",e.filter(F=>V.has(F.route.id)).map(F=>F.route.id).join(",")),[k.pathname+k.search]},[u,d,r,s,p,e,n,a]),E=O.useMemo(()=>oA(g,s),[g,s]),I=fA(g);return O.createElement(O.Fragment,null,_.map(V=>O.createElement("link",{key:V,rel:"prefetch",as:"fetch",href:V,...t})),E.map(V=>O.createElement("link",{key:V,rel:"modulepreload",href:V,...t})),I.map(({key:V,link:x})=>O.createElement("link",{key:V,nonce:t.nonce,...x})))}function mA(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var gA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{gA&&(window.__reactRouterVersion="7.11.0")}catch{}function yA({basename:n,children:e,unstable_useTransitions:t,window:r}){let s=O.useRef();s.current==null&&(s.current=XP({window:r,v5Compat:!0}));let a=s.current,[u,d]=O.useState({action:a.action,location:a.location}),f=O.useCallback(p=>{t===!1?d(p):O.startTransition(()=>d(p))},[t]);return O.useLayoutEffect(()=>a.listen(f),[a,f]),O.createElement(GC,{basename:n,children:e,location:u.location,navigationType:u.action,navigator:a,unstable_useTransitions:t})}var EE=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,un=O.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:u,state:d,target:f,to:p,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:E,...I},V){let{basename:x,unstable_useTransitions:k}=O.useContext(Tn),F=typeof p=="string"&&EE.test(p),q=uE(p,x);p=q.to;let H=kC(p,{relative:s}),[re,Q,ie]=hA(r,I),D=EA(p,{replace:u,state:d,target:f,preventScrollReset:g,relative:s,viewTransition:_,unstable_defaultShouldRevalidate:E,unstable_useTransitions:k});function A(b){e&&e(b),b.defaultPrevented||D(b)}let P=O.createElement("a",{...I,...ie,href:q.absoluteURL||H,onClick:q.isExternal||a?e:A,ref:mA(V,Q),target:f,"data-discover":!F&&t==="render"?"true":void 0});return re&&!F?O.createElement(O.Fragment,null,P,O.createElement(dA,{page:H})):P});un.displayName="Link";var vA=O.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:u,viewTransition:d,children:f,...p},g){let _=uu(u,{relative:p.relative}),E=ns(),I=O.useContext(zh),{navigator:V,basename:x}=O.useContext(Tn),k=I!=null&&CA(_)&&d===!0,F=V.encodeLocation?V.encodeLocation(_).pathname:_.pathname,q=E.pathname,H=I&&I.navigation&&I.navigation.location?I.navigation.location.pathname:null;t||(q=q.toLowerCase(),H=H?H.toLowerCase():null,F=F.toLowerCase()),H&&x&&(H=Yr(H,x)||H);const re=F!=="/"&&F.endsWith("/")?F.length-1:F.length;let Q=q===F||!s&&q.startsWith(F)&&q.charAt(re)==="/",ie=H!=null&&(H===F||!s&&H.startsWith(F)&&H.charAt(F.length)==="/"),D={isActive:Q,isPending:ie,isTransitioning:k},A=Q?e:void 0,P;typeof r=="function"?P=r(D):P=[r,Q?"active":null,ie?"pending":null,k?"transitioning":null].filter(Boolean).join(" ");let b=typeof a=="function"?a(D):a;return O.createElement(un,{...p,"aria-current":A,className:P,ref:g,style:b,to:u,viewTransition:d},typeof f=="function"?f(D):f)});vA.displayName="NavLink";var _A=O.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:u=Jc,action:d,onSubmit:f,relative:p,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:E,...I},V)=>{let{unstable_useTransitions:x}=O.useContext(Tn),k=IA(),F=PA(d,{relative:p}),q=u.toLowerCase()==="get"?"get":"post",H=typeof d=="string"&&EE.test(d),re=Q=>{if(f&&f(Q),Q.defaultPrevented)return;Q.preventDefault();let ie=Q.nativeEvent.submitter,D=(ie==null?void 0:ie.getAttribute("formmethod"))||u,A=()=>k(ie||Q.currentTarget,{fetcherKey:e,method:D,navigate:t,replace:s,state:a,relative:p,preventScrollReset:g,viewTransition:_,unstable_defaultShouldRevalidate:E});x&&t!==!1?O.startTransition(()=>A()):A()};return O.createElement("form",{ref:V,method:q,action:F,onSubmit:r?f:re,...I,"data-discover":!H&&n==="render"?"true":void 0})});_A.displayName="Form";function wA(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function TE(n){let e=O.useContext(ga);return nt(e,wA(n)),e}function EA(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d,unstable_useTransitions:f}={}){let p=vm(),g=ns(),_=uu(n,{relative:a});return O.useCallback(E=>{if(JC(E,e)){E.preventDefault();let I=t!==void 0?t:$l(g)===$l(_),V=()=>p(n,{replace:I,state:r,preventScrollReset:s,relative:a,viewTransition:u,unstable_defaultShouldRevalidate:d});f?O.startTransition(()=>V()):V()}},[g,p,_,t,r,e,n,s,a,u,d,f])}var TA=0,SA=()=>`__${String(++TA)}__`;function IA(){let{router:n}=TE("useSubmit"),{basename:e}=O.useContext(Tn),t=zC(),r=n.fetch,s=n.navigate;return O.useCallback(async(a,u={})=>{let{action:d,method:f,encType:p,formData:g,body:_}=tA(a,e);if(u.navigate===!1){let E=u.fetcherKey||SA();await r(E,t,u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:_,formMethod:u.method||f,formEncType:u.encType||p,flushSync:u.flushSync})}else await s(u.action||d,{unstable_defaultShouldRevalidate:u.unstable_defaultShouldRevalidate,preventScrollReset:u.preventScrollReset,formData:g,body:_,formMethod:u.method||f,formEncType:u.encType||p,replace:u.replace,state:u.state,fromRouteId:t,flushSync:u.flushSync,viewTransition:u.viewTransition})},[r,s,e,t])}function PA(n,{relative:e}={}){let{basename:t}=O.useContext(Tn),r=O.useContext(Yn);nt(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...uu(n||".",{relative:e})},u=ns();if(n==null){a.search=u.search;let d=new URLSearchParams(a.search),f=d.getAll("index");if(f.some(g=>g==="")){d.delete("index"),f.filter(_=>_).forEach(_=>d.append("index",_));let g=d.toString();a.search=g?`?${g}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:Kr([t,a.pathname])),$l(a)}function CA(n,{relative:e}={}){let t=O.useContext(hE);nt(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=TE("useViewTransitionState"),s=uu(n,{relative:e});if(!t.isTransitioning)return!1;let a=Yr(t.currentLocation.pathname,r)||t.currentLocation.pathname,u=Yr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return fh(s.pathname,u)!=null||fh(s.pathname,a)!=null}/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),SE=(...n)=>n.filter((e,t,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===t).join(" ").trim();/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var RA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xA=O.forwardRef(({color:n="currentColor",size:e=24,strokeWidth:t=2,absoluteStrokeWidth:r,className:s="",children:a,iconNode:u,...d},f)=>O.createElement("svg",{ref:f,...RA,width:e,height:e,stroke:n,strokeWidth:r?Number(t)*24/Number(e):t,className:SE("lucide",s),...d},[...u.map(([p,g])=>O.createElement(p,g)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $e=(n,e)=>{const t=O.forwardRef(({className:r,...s},a)=>O.createElement(xA,{ref:a,iconNode:e,className:SE(`lucide-${AA(n)}`,r),...s}));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pp=$e("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kA=$e("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=$e("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IE=$e("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DA=$e("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PE=$e("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CE=$e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=$e("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bA=$e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AE=$e("Grid3x3",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M3 9h18",key:"1pudct"}],["path",{d:"M3 15h18",key:"5xshup"}],["path",{d:"M9 3v18",key:"fh3hqa"}],["path",{d:"M15 3v18",key:"14nvp0"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=$e("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RE=$e("List",[["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M3 18h.01",key:"1tta3j"}],["path",{d:"M3 6h.01",key:"1rqtza"}],["path",{d:"M8 12h13",key:"1za7za"}],["path",{d:"M8 18h13",key:"1lx6n3"}],["path",{d:"M8 6h13",key:"ik3vkj"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=$e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=$e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jA=$e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hh=$e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=$e("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xE=$e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wh=$e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kE=$e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NE=$e("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ph=$e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DE=$e("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UA=$e("Star",[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VE=$e("Store",[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bE=$e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=$e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=$e("UtensilsCrossed",[["path",{d:"m16 2-2.3 2.3a3 3 0 0 0 0 4.2l1.8 1.8a3 3 0 0 0 4.2 0L22 8",key:"n7qcjb"}],["path",{d:"M15 15 3.3 3.3a4.2 4.2 0 0 0 0 6l7.3 7.3c.7.7 2 .7 2.8 0L15 15Zm0 0 7 7",key:"d0u48b"}],["path",{d:"m2.1 21.8 6.4-6.3",key:"yn04lh"}],["path",{d:"m19 5-7 7",key:"194lzd"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $A=$e("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.469.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=$e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function HA({searchQuery:n,onSearchChange:e}){const[t,r]=O.useState(!1);return T.jsx("header",{className:"header",children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"header-content",children:[T.jsxs(un,{to:"/",className:"logo",children:[T.jsx("span",{className:"logo-emoji",children:""}),T.jsx("span",{className:"logo-text gradient-text",children:"i n G?"})]}),T.jsxs("div",{className:"search-wrapper desktop-only",children:[T.jsx(ph,{className:"search-icon",size:20}),T.jsx("input",{type:"text",className:"search-input",placeholder:"Tm mn n hoc qun...",value:n,onChange:s=>e(s.target.value)})]}),T.jsxs("nav",{className:`nav ${t?"nav-open":""}`,children:[T.jsx(un,{to:"/dashboard",className:"nav-link",onClick:()=>r(!1),children:" Trang ch"}),T.jsx(un,{to:"/admin",className:"nav-link",onClick:()=>r(!1),children:" Qun l"}),T.jsx("a",{href:"https://daotaothuyenvien.com",className:"nav-link",onClick:()=>r(!1),children:" V trang chnh"})]}),T.jsx("button",{className:"mobile-menu-btn",onClick:()=>r(!t),"aria-label":"Menu",children:t?T.jsx(Hl,{size:24}):T.jsx(FA,{size:24})})]}),T.jsxs("div",{className:"search-wrapper mobile-only",children:[T.jsx(ph,{className:"search-icon",size:20}),T.jsx("input",{type:"text",className:"search-input",placeholder:"Tm mn n hoc qun...",value:n,onChange:s=>e(s.target.value)})]})]})})}function WA(){const n=new Date().getFullYear();return T.jsx("footer",{className:"footer",children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"footer-content",children:[T.jsxs("div",{className:"footer-brand",children:[T.jsxs(un,{to:"/",className:"footer-logo",children:[T.jsx("span",{children:""}),T.jsx("span",{className:"gradient-text",children:"i n G?"})]}),T.jsx("p",{className:"footer-desc",children:"Khm ph m thc Ninh Bnh - Tm qun n ngon, xem menu v t mn d dng!"})]}),T.jsxs("div",{className:"footer-links",children:[T.jsx("h4",{children:"Lin kt"}),T.jsxs("ul",{children:[T.jsx("li",{children:T.jsx(un,{to:"/dashboard",children:" Trang ch"})}),T.jsx("li",{children:T.jsx(un,{to:"/admin",children:" Qun l qun"})}),T.jsx("li",{children:T.jsx("a",{href:"https://daotaothuyenvien.com",children:" Trang chnh"})})]})]}),T.jsxs("div",{className:"footer-contact",children:[T.jsx("h4",{children:"Lin h"}),T.jsxs("div",{className:"contact-item",children:[T.jsx(Hh,{size:16}),T.jsx("span",{children:"TP.Hoa L, Ninh Bnh"})]}),T.jsxs("div",{className:"contact-item",children:[T.jsx(Wh,{size:16}),T.jsx("span",{children:"Hotline h tr"})]})]})]}),T.jsxs("div",{className:"footer-bottom",children:[T.jsxs("p",{children:["Made with ",T.jsx(MA,{size:14,className:"heart-icon"})," by"," ",T.jsx("a",{href:"https://daotaothuyenvien.com",className:"gradient-text",children:"daotaothuyenvien.com"})]}),T.jsxs("p",{className:"copyright",children:[" ",n," i n G? - All rights reserved"]})]})]})})}const ME=O.createContext({});function qA(n){const e=O.useRef(null);return e.current===null&&(e.current=n()),e.current}const Sm=O.createContext(null),LE=O.createContext({transformPagePoint:n=>n,isStatic:!1,reducedMotion:"never"});function GA(n=!0){const e=O.useContext(Sm);if(e===null)return[!0,null];const{isPresent:t,onExitComplete:r,register:s}=e,a=O.useId();O.useEffect(()=>{n&&s(a)},[n]);const u=O.useCallback(()=>n&&r&&r(a),[a,r,n]);return!t&&r?[!1,u]:[!0]}const Im=typeof window<"u",KA=Im?O.useLayoutEffect:O.useEffect,wn=n=>n;let OE=wn;function Pm(n){let e;return()=>(e===void 0&&(e=n()),e)}const ra=(n,e,t)=>{const r=e-n;return r===0?1:(t-n)/r},Qr=n=>n*1e3,Xr=n=>n/1e3,QA={useManualTiming:!1};function XA(n){let e=new Set,t=new Set,r=!1,s=!1;const a=new WeakSet;let u={delta:0,timestamp:0,isProcessing:!1};function d(p){a.has(p)&&(f.schedule(p),n()),p(u)}const f={schedule:(p,g=!1,_=!1)=>{const I=_&&r?e:t;return g&&a.add(p),I.has(p)||I.add(p),p},cancel:p=>{t.delete(p),a.delete(p)},process:p=>{if(u=p,r){s=!0;return}r=!0,[e,t]=[t,e],e.forEach(d),e.clear(),r=!1,s&&(s=!1,f.process(p))}};return f}const zc=["read","resolveKeyframes","update","preRender","render","postRender"],YA=40;function jE(n,e){let t=!1,r=!0;const s={delta:0,timestamp:0,isProcessing:!1},a=()=>t=!0,u=zc.reduce((F,q)=>(F[q]=XA(a),F),{}),{read:d,resolveKeyframes:f,update:p,preRender:g,render:_,postRender:E}=u,I=()=>{const F=performance.now();t=!1,s.delta=r?1e3/60:Math.max(Math.min(F-s.timestamp,YA),1),s.timestamp=F,s.isProcessing=!0,d.process(s),f.process(s),p.process(s),g.process(s),_.process(s),E.process(s),s.isProcessing=!1,t&&e&&(r=!1,n(I))},V=()=>{t=!0,r=!0,s.isProcessing||n(I)};return{schedule:zc.reduce((F,q)=>{const H=u[q];return F[q]=(re,Q=!1,ie=!1)=>(t||V(),H.schedule(re,Q,ie)),F},{}),cancel:F=>{for(let q=0;q<zc.length;q++)u[zc[q]].cancel(F)},state:s,steps:u}}const{schedule:et,cancel:Ki,state:Mt,steps:Jf}=jE(typeof requestAnimationFrame<"u"?requestAnimationFrame:wn,!0),FE=O.createContext({strict:!1}),d_={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},ia={};for(const n in d_)ia[n]={isEnabled:e=>d_[n].some(t=>!!e[t])};function JA(n){for(const e in n)ia[e]={...ia[e],...n[e]}}const ZA=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function mh(n){return n.startsWith("while")||n.startsWith("drag")&&n!=="draggable"||n.startsWith("layout")||n.startsWith("onTap")||n.startsWith("onPan")||n.startsWith("onLayout")||ZA.has(n)}let UE=n=>!mh(n);function eR(n){n&&(UE=e=>e.startsWith("on")?!mh(e):n(e))}try{eR(require("@emotion/is-prop-valid").default)}catch{}function tR(n,e,t){const r={};for(const s in n)s==="values"&&typeof n.values=="object"||(UE(s)||t===!0&&mh(s)||!e&&!mh(s)||n.draggable&&s.startsWith("onDrag"))&&(r[s]=n[s]);return r}function nR(n){if(typeof Proxy>"u")return n;const e=new Map,t=(...r)=>n(...r);return new Proxy(t,{get:(r,s)=>s==="create"?n:(e.has(s)||e.set(s,n(s)),e.get(s))})}const qh=O.createContext({});function Wl(n){return typeof n=="string"||Array.isArray(n)}function Gh(n){return n!==null&&typeof n=="object"&&typeof n.start=="function"}const Cm=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],Am=["initial",...Cm];function Kh(n){return Gh(n.animate)||Am.some(e=>Wl(n[e]))}function BE(n){return!!(Kh(n)||n.variants)}function rR(n,e){if(Kh(n)){const{initial:t,animate:r}=n;return{initial:t===!1||Wl(t)?t:void 0,animate:Wl(r)?r:void 0}}return n.inherit!==!1?e:{}}function iR(n){const{initial:e,animate:t}=rR(n,O.useContext(qh));return O.useMemo(()=>({initial:e,animate:t}),[f_(e),f_(t)])}function f_(n){return Array.isArray(n)?n.join(" "):n}const sR=Symbol.for("motionComponentSymbol");function Wo(n){return n&&typeof n=="object"&&Object.prototype.hasOwnProperty.call(n,"current")}function oR(n,e,t){return O.useCallback(r=>{r&&n.onMount&&n.onMount(r),e&&(r?e.mount(r):e.unmount()),t&&(typeof t=="function"?t(r):Wo(t)&&(t.current=r))},[e])}const Rm=n=>n.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),aR="framerAppearId",zE="data-"+Rm(aR),{schedule:xm}=jE(queueMicrotask,!1),$E=O.createContext({});function lR(n,e,t,r,s){var a,u;const{visualElement:d}=O.useContext(qh),f=O.useContext(FE),p=O.useContext(Sm),g=O.useContext(LE).reducedMotion,_=O.useRef(null);r=r||f.renderer,!_.current&&r&&(_.current=r(n,{visualState:e,parent:d,props:t,presenceContext:p,blockInitialAnimation:p?p.initial===!1:!1,reducedMotionConfig:g}));const E=_.current,I=O.useContext($E);E&&!E.projection&&s&&(E.type==="html"||E.type==="svg")&&uR(_.current,t,s,I);const V=O.useRef(!1);O.useInsertionEffect(()=>{E&&V.current&&E.update(t,p)});const x=t[zE],k=O.useRef(!!x&&!(!((a=window.MotionHandoffIsComplete)===null||a===void 0)&&a.call(window,x))&&((u=window.MotionHasOptimisedAnimation)===null||u===void 0?void 0:u.call(window,x)));return KA(()=>{E&&(V.current=!0,window.MotionIsMounted=!0,E.updateFeatures(),xm.render(E.render),k.current&&E.animationState&&E.animationState.animateChanges())}),O.useEffect(()=>{E&&(!k.current&&E.animationState&&E.animationState.animateChanges(),k.current&&(queueMicrotask(()=>{var F;(F=window.MotionHandoffMarkAsComplete)===null||F===void 0||F.call(window,x)}),k.current=!1))}),E}function uR(n,e,t,r){const{layoutId:s,layout:a,drag:u,dragConstraints:d,layoutScroll:f,layoutRoot:p}=e;n.projection=new t(n.latestValues,e["data-framer-portal-id"]?void 0:HE(n.parent)),n.projection.setOptions({layoutId:s,layout:a,alwaysMeasureLayout:!!u||d&&Wo(d),visualElement:n,animationType:typeof a=="string"?a:"both",initialPromotionConfig:r,layoutScroll:f,layoutRoot:p})}function HE(n){if(n)return n.options.allowProjection!==!1?n.projection:HE(n.parent)}function cR({preloadedFeatures:n,createVisualElement:e,useRender:t,useVisualState:r,Component:s}){var a,u;n&&JA(n);function d(p,g){let _;const E={...O.useContext(LE),...p,layoutId:hR(p)},{isStatic:I}=E,V=iR(p),x=r(p,I);if(!I&&Im){dR();const k=fR(E);_=k.MeasureLayout,V.visualElement=lR(s,x,E,e,k.ProjectionNode)}return T.jsxs(qh.Provider,{value:V,children:[_&&V.visualElement?T.jsx(_,{visualElement:V.visualElement,...E}):null,t(s,p,oR(x,V.visualElement,g),x,I,V.visualElement)]})}d.displayName=`motion.${typeof s=="string"?s:`create(${(u=(a=s.displayName)!==null&&a!==void 0?a:s.name)!==null&&u!==void 0?u:""})`}`;const f=O.forwardRef(d);return f[sR]=s,f}function hR({layoutId:n}){const e=O.useContext(ME).id;return e&&n!==void 0?e+"-"+n:n}function dR(n,e){O.useContext(FE).strict}function fR(n){const{drag:e,layout:t}=ia;if(!e&&!t)return{};const r={...e,...t};return{MeasureLayout:e!=null&&e.isEnabled(n)||t!=null&&t.isEnabled(n)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const pR=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function km(n){return typeof n!="string"||n.includes("-")?!1:!!(pR.indexOf(n)>-1||/[A-Z]/u.test(n))}function p_(n){const e=[{},{}];return n==null||n.values.forEach((t,r)=>{e[0][r]=t.get(),e[1][r]=t.getVelocity()}),e}function Nm(n,e,t,r){if(typeof e=="function"){const[s,a]=p_(r);e=e(t!==void 0?t:n.custom,s,a)}if(typeof e=="string"&&(e=n.variants&&n.variants[e]),typeof e=="function"){const[s,a]=p_(r);e=e(t!==void 0?t:n.custom,s,a)}return e}const Cp=n=>Array.isArray(n),mR=n=>!!(n&&typeof n=="object"&&n.mix&&n.toValue),gR=n=>Cp(n)?n[n.length-1]||0:n,Qt=n=>!!(n&&n.getVelocity);function eh(n){const e=Qt(n)?n.get():n;return mR(e)?e.toValue():e}function yR({scrapeMotionValuesFromProps:n,createRenderState:e,onUpdate:t},r,s,a){const u={latestValues:vR(r,s,a,n),renderState:e()};return t&&(u.onMount=d=>t({props:r,current:d,...u}),u.onUpdate=d=>t(d)),u}const WE=n=>(e,t)=>{const r=O.useContext(qh),s=O.useContext(Sm),a=()=>yR(n,e,r,s);return t?a():qA(a)};function vR(n,e,t,r){const s={},a=r(n,{});for(const E in a)s[E]=eh(a[E]);let{initial:u,animate:d}=n;const f=Kh(n),p=BE(n);e&&p&&!f&&n.inherit!==!1&&(u===void 0&&(u=e.initial),d===void 0&&(d=e.animate));let g=t?t.initial===!1:!1;g=g||u===!1;const _=g?d:u;if(_&&typeof _!="boolean"&&!Gh(_)){const E=Array.isArray(_)?_:[_];for(let I=0;I<E.length;I++){const V=Nm(n,E[I]);if(V){const{transitionEnd:x,transition:k,...F}=V;for(const q in F){let H=F[q];if(Array.isArray(H)){const re=g?H.length-1:0;H=H[re]}H!==null&&(s[q]=H)}for(const q in x)s[q]=x[q]}}}return s}const va=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Ks=new Set(va),qE=n=>e=>typeof e=="string"&&e.startsWith(n),GE=qE("--"),_R=qE("var(--"),Dm=n=>_R(n)?wR.test(n.split("/*")[0].trim()):!1,wR=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,KE=(n,e)=>e&&typeof n=="number"?e.transform(n):n,Jr=(n,e,t)=>t>e?e:t<n?n:t,_a={test:n=>typeof n=="number",parse:parseFloat,transform:n=>n},ql={..._a,transform:n=>Jr(0,1,n)},$c={..._a,default:1},cu=n=>({test:e=>typeof e=="string"&&e.endsWith(n)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${n}`}),Mi=cu("deg"),yr=cu("%"),_e=cu("px"),ER=cu("vh"),TR=cu("vw"),m_={...yr,parse:n=>yr.parse(n)/100,transform:n=>yr.transform(n*100)},SR={borderWidth:_e,borderTopWidth:_e,borderRightWidth:_e,borderBottomWidth:_e,borderLeftWidth:_e,borderRadius:_e,radius:_e,borderTopLeftRadius:_e,borderTopRightRadius:_e,borderBottomRightRadius:_e,borderBottomLeftRadius:_e,width:_e,maxWidth:_e,height:_e,maxHeight:_e,top:_e,right:_e,bottom:_e,left:_e,padding:_e,paddingTop:_e,paddingRight:_e,paddingBottom:_e,paddingLeft:_e,margin:_e,marginTop:_e,marginRight:_e,marginBottom:_e,marginLeft:_e,backgroundPositionX:_e,backgroundPositionY:_e},IR={rotate:Mi,rotateX:Mi,rotateY:Mi,rotateZ:Mi,scale:$c,scaleX:$c,scaleY:$c,scaleZ:$c,skew:Mi,skewX:Mi,skewY:Mi,distance:_e,translateX:_e,translateY:_e,translateZ:_e,x:_e,y:_e,z:_e,perspective:_e,transformPerspective:_e,opacity:ql,originX:m_,originY:m_,originZ:_e},g_={..._a,transform:Math.round},Vm={...SR,...IR,zIndex:g_,size:_e,fillOpacity:ql,strokeOpacity:ql,numOctaves:g_},PR={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CR=va.length;function AR(n,e,t){let r="",s=!0;for(let a=0;a<CR;a++){const u=va[a],d=n[u];if(d===void 0)continue;let f=!0;if(typeof d=="number"?f=d===(u.startsWith("scale")?1:0):f=parseFloat(d)===0,!f||t){const p=KE(d,Vm[u]);if(!f){s=!1;const g=PR[u]||u;r+=`${g}(${p}) `}t&&(e[u]=p)}}return r=r.trim(),t?r=t(e,s?"":r):s&&(r="none"),r}function bm(n,e,t){const{style:r,vars:s,transformOrigin:a}=n;let u=!1,d=!1;for(const f in e){const p=e[f];if(Ks.has(f)){u=!0;continue}else if(GE(f)){s[f]=p;continue}else{const g=KE(p,Vm[f]);f.startsWith("origin")?(d=!0,a[f]=g):r[f]=g}}if(e.transform||(u||t?r.transform=AR(e,n.transform,t):r.transform&&(r.transform="none")),d){const{originX:f="50%",originY:p="50%",originZ:g=0}=a;r.transformOrigin=`${f} ${p} ${g}`}}const RR={offset:"stroke-dashoffset",array:"stroke-dasharray"},xR={offset:"strokeDashoffset",array:"strokeDasharray"};function kR(n,e,t=1,r=0,s=!0){n.pathLength=1;const a=s?RR:xR;n[a.offset]=_e.transform(-r);const u=_e.transform(e),d=_e.transform(t);n[a.array]=`${u} ${d}`}function y_(n,e,t){return typeof n=="string"?n:_e.transform(e+t*n)}function NR(n,e,t){const r=y_(e,n.x,n.width),s=y_(t,n.y,n.height);return`${r} ${s}`}function Mm(n,{attrX:e,attrY:t,attrScale:r,originX:s,originY:a,pathLength:u,pathSpacing:d=1,pathOffset:f=0,...p},g,_){if(bm(n,p,_),g){n.style.viewBox&&(n.attrs.viewBox=n.style.viewBox);return}n.attrs=n.style,n.style={};const{attrs:E,style:I,dimensions:V}=n;E.transform&&(V&&(I.transform=E.transform),delete E.transform),V&&(s!==void 0||a!==void 0||I.transform)&&(I.transformOrigin=NR(V,s!==void 0?s:.5,a!==void 0?a:.5)),e!==void 0&&(E.x=e),t!==void 0&&(E.y=t),r!==void 0&&(E.scale=r),u!==void 0&&kR(E,u,d,f,!1)}const Lm=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),QE=()=>({...Lm(),attrs:{}}),Om=n=>typeof n=="string"&&n.toLowerCase()==="svg";function XE(n,{style:e,vars:t},r,s){Object.assign(n.style,e,s&&s.getProjectionStyles(r));for(const a in t)n.style.setProperty(a,t[a])}const YE=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function JE(n,e,t,r){XE(n,e,void 0,r);for(const s in e.attrs)n.setAttribute(YE.has(s)?s:Rm(s),e.attrs[s])}const gh={};function DR(n){Object.assign(gh,n)}function ZE(n,{layout:e,layoutId:t}){return Ks.has(n)||n.startsWith("origin")||(e||t!==void 0)&&(!!gh[n]||n==="opacity")}function jm(n,e,t){var r;const{style:s}=n,a={};for(const u in s)(Qt(s[u])||e.style&&Qt(e.style[u])||ZE(u,n)||((r=t==null?void 0:t.getValue(u))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(a[u]=s[u]);return a}function eT(n,e,t){const r=jm(n,e,t);for(const s in n)if(Qt(n[s])||Qt(e[s])){const a=va.indexOf(s)!==-1?"attr"+s.charAt(0).toUpperCase()+s.substring(1):s;r[a]=n[s]}return r}function VR(n,e){try{e.dimensions=typeof n.getBBox=="function"?n.getBBox():n.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const v_=["x","y","width","height","cx","cy","r"],bR={useVisualState:WE({scrapeMotionValuesFromProps:eT,createRenderState:QE,onUpdate:({props:n,prevProps:e,current:t,renderState:r,latestValues:s})=>{if(!t)return;let a=!!n.drag;if(!a){for(const d in s)if(Ks.has(d)){a=!0;break}}if(!a)return;let u=!e;if(e)for(let d=0;d<v_.length;d++){const f=v_[d];n[f]!==e[f]&&(u=!0)}u&&et.read(()=>{VR(t,r),et.render(()=>{Mm(r,s,Om(t.tagName),n.transformTemplate),JE(t,r)})})}})},MR={useVisualState:WE({scrapeMotionValuesFromProps:jm,createRenderState:Lm})};function tT(n,e,t){for(const r in e)!Qt(e[r])&&!ZE(r,t)&&(n[r]=e[r])}function LR({transformTemplate:n},e){return O.useMemo(()=>{const t=Lm();return bm(t,e,n),Object.assign({},t.vars,t.style)},[e])}function OR(n,e){const t=n.style||{},r={};return tT(r,t,n),Object.assign(r,LR(n,e)),r}function jR(n,e){const t={},r=OR(n,e);return n.drag&&n.dragListener!==!1&&(t.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=n.drag===!0?"none":`pan-${n.drag==="x"?"y":"x"}`),n.tabIndex===void 0&&(n.onTap||n.onTapStart||n.whileTap)&&(t.tabIndex=0),t.style=r,t}function FR(n,e,t,r){const s=O.useMemo(()=>{const a=QE();return Mm(a,e,Om(r),n.transformTemplate),{...a.attrs,style:{...a.style}}},[e]);if(n.style){const a={};tT(a,n.style,n),s.style={...a,...s.style}}return s}function UR(n=!1){return(t,r,s,{latestValues:a},u)=>{const f=(km(t)?FR:jR)(r,a,u,t),p=tR(r,typeof t=="string",n),g=t!==O.Fragment?{...p,...f,ref:s}:{},{children:_}=r,E=O.useMemo(()=>Qt(_)?_.get():_,[_]);return O.createElement(t,{...g,children:E})}}function BR(n,e){return function(r,{forwardMotionProps:s}={forwardMotionProps:!1}){const u={...km(r)?bR:MR,preloadedFeatures:n,useRender:UR(s),createVisualElement:e,Component:r};return cR(u)}}function nT(n,e){if(!Array.isArray(e))return!1;const t=e.length;if(t!==n.length)return!1;for(let r=0;r<t;r++)if(e[r]!==n[r])return!1;return!0}function Qh(n,e,t){const r=n.getProps();return Nm(r,e,t!==void 0?t:r.custom,n)}const zR=Pm(()=>window.ScrollTimeline!==void 0);class $R{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,t){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=t}attachTimeline(e,t){const r=this.animations.map(s=>{if(zR()&&s.attachTimeline)return s.attachTimeline(e);if(typeof t=="function")return t(s)});return()=>{r.forEach((s,a)=>{s&&s(),this.animations[a].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let t=0;t<this.animations.length;t++)e=Math.max(e,this.animations[t].duration);return e}runAll(e){this.animations.forEach(t=>t[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class HR extends $R{then(e,t){return Promise.all(this.animations).then(e).catch(t)}}function Fm(n,e){return n?n[e]||n.default||n:void 0}const Ap=2e4;function rT(n){let e=0;const t=50;let r=n.next(e);for(;!r.done&&e<Ap;)e+=t,r=n.next(e);return e>=Ap?1/0:e}function Um(n){return typeof n=="function"}function __(n,e){n.timeline=e,n.onfinish=null}const Bm=n=>Array.isArray(n)&&typeof n[0]=="number",WR={linearEasing:void 0};function qR(n,e){const t=Pm(n);return()=>{var r;return(r=WR[e])!==null&&r!==void 0?r:t()}}const yh=qR(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),iT=(n,e,t=10)=>{let r="";const s=Math.max(Math.round(e/t),2);for(let a=0;a<s;a++)r+=n(ra(0,s-1,a))+", ";return`linear(${r.substring(0,r.length-2)})`};function sT(n){return!!(typeof n=="function"&&yh()||!n||typeof n=="string"&&(n in Rp||yh())||Bm(n)||Array.isArray(n)&&n.every(sT))}const Pl=([n,e,t,r])=>`cubic-bezier(${n}, ${e}, ${t}, ${r})`,Rp={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:Pl([0,.65,.55,1]),circOut:Pl([.55,0,1,.45]),backIn:Pl([.31,.01,.66,-.59]),backOut:Pl([.33,1.53,.69,.99])};function oT(n,e){if(n)return typeof n=="function"&&yh()?iT(n,e):Bm(n)?Pl(n):Array.isArray(n)?n.map(t=>oT(t,e)||Rp.easeOut):Rp[n]}const qn={x:!1,y:!1};function aT(){return qn.x||qn.y}function GR(n,e,t){var r;if(n instanceof Element)return[n];if(typeof n=="string"){let s=document;const a=(r=void 0)!==null&&r!==void 0?r:s.querySelectorAll(n);return a?Array.from(a):[]}return Array.from(n)}function lT(n,e){const t=GR(n),r=new AbortController,s={passive:!0,...e,signal:r.signal};return[t,s,()=>r.abort()]}function w_(n){return e=>{e.pointerType==="touch"||aT()||n(e)}}function KR(n,e,t={}){const[r,s,a]=lT(n,t),u=w_(d=>{const{target:f}=d,p=e(d);if(typeof p!="function"||!f)return;const g=w_(_=>{p(_),f.removeEventListener("pointerleave",g)});f.addEventListener("pointerleave",g,s)});return r.forEach(d=>{d.addEventListener("pointerenter",u,s)}),a}const uT=(n,e)=>e?n===e?!0:uT(n,e.parentElement):!1,zm=n=>n.pointerType==="mouse"?typeof n.button!="number"||n.button<=0:n.isPrimary!==!1,QR=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function XR(n){return QR.has(n.tagName)||n.tabIndex!==-1}const Cl=new WeakSet;function E_(n){return e=>{e.key==="Enter"&&n(e)}}function Zf(n,e){n.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const YR=(n,e)=>{const t=n.currentTarget;if(!t)return;const r=E_(()=>{if(Cl.has(t))return;Zf(t,"down");const s=E_(()=>{Zf(t,"up")}),a=()=>Zf(t,"cancel");t.addEventListener("keyup",s,e),t.addEventListener("blur",a,e)});t.addEventListener("keydown",r,e),t.addEventListener("blur",()=>t.removeEventListener("keydown",r),e)};function T_(n){return zm(n)&&!aT()}function JR(n,e,t={}){const[r,s,a]=lT(n,t),u=d=>{const f=d.currentTarget;if(!T_(d)||Cl.has(f))return;Cl.add(f);const p=e(d),g=(I,V)=>{window.removeEventListener("pointerup",_),window.removeEventListener("pointercancel",E),!(!T_(I)||!Cl.has(f))&&(Cl.delete(f),typeof p=="function"&&p(I,{success:V}))},_=I=>{g(I,t.useGlobalTarget||uT(f,I.target))},E=I=>{g(I,!1)};window.addEventListener("pointerup",_,s),window.addEventListener("pointercancel",E,s)};return r.forEach(d=>{!XR(d)&&d.getAttribute("tabindex")===null&&(d.tabIndex=0),(t.useGlobalTarget?window:d).addEventListener("pointerdown",u,s),d.addEventListener("focus",p=>YR(p,s),s)}),a}function ZR(n){return n==="x"||n==="y"?qn[n]?null:(qn[n]=!0,()=>{qn[n]=!1}):qn.x||qn.y?null:(qn.x=qn.y=!0,()=>{qn.x=qn.y=!1})}const cT=new Set(["width","height","top","left","right","bottom",...va]);let th;function ex(){th=void 0}const vr={now:()=>(th===void 0&&vr.set(Mt.isProcessing||QA.useManualTiming?Mt.timestamp:performance.now()),th),set:n=>{th=n,queueMicrotask(ex)}};function $m(n,e){n.indexOf(e)===-1&&n.push(e)}function Hm(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}class Wm{constructor(){this.subscriptions=[]}add(e){return $m(this.subscriptions,e),()=>Hm(this.subscriptions,e)}notify(e,t,r){const s=this.subscriptions.length;if(s)if(s===1)this.subscriptions[0](e,t,r);else for(let a=0;a<s;a++){const u=this.subscriptions[a];u&&u(e,t,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function hT(n,e){return e?n*(1e3/e):0}const S_=30,tx=n=>!isNaN(parseFloat(n));class nx{constructor(e,t={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,s=!0)=>{const a=vr.now();this.updatedAt!==a&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),s&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=t.owner}setCurrent(e){this.current=e,this.updatedAt=vr.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=tx(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,t){this.events[e]||(this.events[e]=new Wm);const r=this.events[e].add(t);return e==="change"?()=>{r(),et.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,t){this.passiveEffect=e,this.stopPassiveEffect=t}set(e,t=!0){!t||!this.passiveEffect?this.updateAndNotify(e,t):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,t,r){this.set(t),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,t=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,t&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=vr.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>S_)return 0;const t=Math.min(this.updatedAt-this.prevUpdatedAt,S_);return hT(parseFloat(this.current)-parseFloat(this.prevFrameValue),t)}start(e){return this.stop(),new Promise(t=>{this.hasAnimated=!0,this.animation=e(t),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function Gl(n,e){return new nx(n,e)}function rx(n,e,t){n.hasValue(e)?n.getValue(e).set(t):n.addValue(e,Gl(t))}function ix(n,e){const t=Qh(n,e);let{transitionEnd:r={},transition:s={},...a}=t||{};a={...a,...r};for(const u in a){const d=gR(a[u]);rx(n,u,d)}}function sx(n){return!!(Qt(n)&&n.add)}function xp(n,e){const t=n.getValue("willChange");if(sx(t))return t.add(e)}function dT(n){return n.props[zE]}const fT=(n,e,t)=>(((1-3*t+3*e)*n+(3*t-6*e))*n+3*e)*n,ox=1e-7,ax=12;function lx(n,e,t,r,s){let a,u,d=0;do u=e+(t-e)/2,a=fT(u,r,s)-n,a>0?t=u:e=u;while(Math.abs(a)>ox&&++d<ax);return u}function hu(n,e,t,r){if(n===e&&t===r)return wn;const s=a=>lx(a,0,1,n,t);return a=>a===0||a===1?a:fT(s(a),e,r)}const pT=n=>e=>e<=.5?n(2*e)/2:(2-n(2*(1-e)))/2,mT=n=>e=>1-n(1-e),gT=hu(.33,1.53,.69,.99),qm=mT(gT),yT=pT(qm),vT=n=>(n*=2)<1?.5*qm(n):.5*(2-Math.pow(2,-10*(n-1))),Gm=n=>1-Math.sin(Math.acos(n)),_T=mT(Gm),wT=pT(Gm),ET=n=>/^0[^.\s]+$/u.test(n);function ux(n){return typeof n=="number"?n===0:n!==null?n==="none"||n==="0"||ET(n):!0}const Vl=n=>Math.round(n*1e5)/1e5,Km=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function cx(n){return n==null}const hx=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,Qm=(n,e)=>t=>!!(typeof t=="string"&&hx.test(t)&&t.startsWith(n)||e&&!cx(t)&&Object.prototype.hasOwnProperty.call(t,e)),TT=(n,e,t)=>r=>{if(typeof r!="string")return r;const[s,a,u,d]=r.match(Km);return{[n]:parseFloat(s),[e]:parseFloat(a),[t]:parseFloat(u),alpha:d!==void 0?parseFloat(d):1}},dx=n=>Jr(0,255,n),ep={..._a,transform:n=>Math.round(dx(n))},Fs={test:Qm("rgb","red"),parse:TT("red","green","blue"),transform:({red:n,green:e,blue:t,alpha:r=1})=>"rgba("+ep.transform(n)+", "+ep.transform(e)+", "+ep.transform(t)+", "+Vl(ql.transform(r))+")"};function fx(n){let e="",t="",r="",s="";return n.length>5?(e=n.substring(1,3),t=n.substring(3,5),r=n.substring(5,7),s=n.substring(7,9)):(e=n.substring(1,2),t=n.substring(2,3),r=n.substring(3,4),s=n.substring(4,5),e+=e,t+=t,r+=r,s+=s),{red:parseInt(e,16),green:parseInt(t,16),blue:parseInt(r,16),alpha:s?parseInt(s,16)/255:1}}const kp={test:Qm("#"),parse:fx,transform:Fs.transform},qo={test:Qm("hsl","hue"),parse:TT("hue","saturation","lightness"),transform:({hue:n,saturation:e,lightness:t,alpha:r=1})=>"hsla("+Math.round(n)+", "+yr.transform(Vl(e))+", "+yr.transform(Vl(t))+", "+Vl(ql.transform(r))+")"},qt={test:n=>Fs.test(n)||kp.test(n)||qo.test(n),parse:n=>Fs.test(n)?Fs.parse(n):qo.test(n)?qo.parse(n):kp.parse(n),transform:n=>typeof n=="string"?n:n.hasOwnProperty("red")?Fs.transform(n):qo.transform(n)},px=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function mx(n){var e,t;return isNaN(n)&&typeof n=="string"&&(((e=n.match(Km))===null||e===void 0?void 0:e.length)||0)+(((t=n.match(px))===null||t===void 0?void 0:t.length)||0)>0}const ST="number",IT="color",gx="var",yx="var(",I_="${}",vx=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Kl(n){const e=n.toString(),t=[],r={color:[],number:[],var:[]},s=[];let a=0;const d=e.replace(vx,f=>(qt.test(f)?(r.color.push(a),s.push(IT),t.push(qt.parse(f))):f.startsWith(yx)?(r.var.push(a),s.push(gx),t.push(f)):(r.number.push(a),s.push(ST),t.push(parseFloat(f))),++a,I_)).split(I_);return{values:t,split:d,indexes:r,types:s}}function PT(n){return Kl(n).values}function CT(n){const{split:e,types:t}=Kl(n),r=e.length;return s=>{let a="";for(let u=0;u<r;u++)if(a+=e[u],s[u]!==void 0){const d=t[u];d===ST?a+=Vl(s[u]):d===IT?a+=qt.transform(s[u]):a+=s[u]}return a}}const _x=n=>typeof n=="number"?0:n;function wx(n){const e=PT(n);return CT(n)(e.map(_x))}const Qi={test:mx,parse:PT,createTransformer:CT,getAnimatableNone:wx},Ex=new Set(["brightness","contrast","saturate","opacity"]);function Tx(n){const[e,t]=n.slice(0,-1).split("(");if(e==="drop-shadow")return n;const[r]=t.match(Km)||[];if(!r)return n;const s=t.replace(r,"");let a=Ex.has(e)?1:0;return r!==t&&(a*=100),e+"("+a+s+")"}const Sx=/\b([a-z-]*)\(.*?\)/gu,Np={...Qi,getAnimatableNone:n=>{const e=n.match(Sx);return e?e.map(Tx).join(" "):n}},Ix={...Vm,color:qt,backgroundColor:qt,outlineColor:qt,fill:qt,stroke:qt,borderColor:qt,borderTopColor:qt,borderRightColor:qt,borderBottomColor:qt,borderLeftColor:qt,filter:Np,WebkitFilter:Np},Xm=n=>Ix[n];function AT(n,e){let t=Xm(n);return t!==Np&&(t=Qi),t.getAnimatableNone?t.getAnimatableNone(e):void 0}const Px=new Set(["auto","none","0"]);function Cx(n,e,t){let r=0,s;for(;r<n.length&&!s;){const a=n[r];typeof a=="string"&&!Px.has(a)&&Kl(a).values.length&&(s=n[r]),r++}if(s&&t)for(const a of e)n[a]=AT(t,s)}const P_=n=>n===_a||n===_e,C_=(n,e)=>parseFloat(n.split(", ")[e]),A_=(n,e)=>(t,{transform:r})=>{if(r==="none"||!r)return 0;const s=r.match(/^matrix3d\((.+)\)$/u);if(s)return C_(s[1],e);{const a=r.match(/^matrix\((.+)\)$/u);return a?C_(a[1],n):0}},Ax=new Set(["x","y","z"]),Rx=va.filter(n=>!Ax.has(n));function xx(n){const e=[];return Rx.forEach(t=>{const r=n.getValue(t);r!==void 0&&(e.push([t,r.get()]),r.set(t.startsWith("scale")?1:0))}),e}const sa={width:({x:n},{paddingLeft:e="0",paddingRight:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),height:({y:n},{paddingTop:e="0",paddingBottom:t="0"})=>n.max-n.min-parseFloat(e)-parseFloat(t),top:(n,{top:e})=>parseFloat(e),left:(n,{left:e})=>parseFloat(e),bottom:({y:n},{top:e})=>parseFloat(e)+(n.max-n.min),right:({x:n},{left:e})=>parseFloat(e)+(n.max-n.min),x:A_(4,13),y:A_(5,14)};sa.translateX=sa.x;sa.translateY=sa.y;const Bs=new Set;let Dp=!1,Vp=!1;function RT(){if(Vp){const n=Array.from(Bs).filter(r=>r.needsMeasurement),e=new Set(n.map(r=>r.element)),t=new Map;e.forEach(r=>{const s=xx(r);s.length&&(t.set(r,s),r.render())}),n.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const s=t.get(r);s&&s.forEach(([a,u])=>{var d;(d=r.getValue(a))===null||d===void 0||d.set(u)})}),n.forEach(r=>r.measureEndState()),n.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}Vp=!1,Dp=!1,Bs.forEach(n=>n.complete()),Bs.clear()}function xT(){Bs.forEach(n=>{n.readKeyframes(),n.needsMeasurement&&(Vp=!0)})}function kx(){xT(),RT()}class Ym{constructor(e,t,r,s,a,u=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=t,this.name=r,this.motionValue=s,this.element=a,this.isAsync=u}scheduleResolve(){this.isScheduled=!0,this.isAsync?(Bs.add(this),Dp||(Dp=!0,et.read(xT),et.resolveKeyframes(RT))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:t,element:r,motionValue:s}=this;for(let a=0;a<e.length;a++)if(e[a]===null)if(a===0){const u=s==null?void 0:s.get(),d=e[e.length-1];if(u!==void 0)e[0]=u;else if(r&&t){const f=r.readValue(t,d);f!=null&&(e[0]=f)}e[0]===void 0&&(e[0]=d),s&&u===void 0&&s.set(e[0])}else e[a]=e[a-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),Bs.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,Bs.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const kT=n=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(n),Nx=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function Dx(n){const e=Nx.exec(n);if(!e)return[,];const[,t,r,s]=e;return[`--${t??r}`,s]}function NT(n,e,t=1){const[r,s]=Dx(n);if(!r)return;const a=window.getComputedStyle(e).getPropertyValue(r);if(a){const u=a.trim();return kT(u)?parseFloat(u):u}return Dm(s)?NT(s,e,t+1):s}const DT=n=>e=>e.test(n),Vx={test:n=>n==="auto",parse:n=>n},VT=[_a,_e,yr,Mi,TR,ER,Vx],R_=n=>VT.find(DT(n));class bT extends Ym{constructor(e,t,r,s,a){super(e,t,r,s,a,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:t,name:r}=this;if(!t||!t.current)return;super.readKeyframes();for(let f=0;f<e.length;f++){let p=e[f];if(typeof p=="string"&&(p=p.trim(),Dm(p))){const g=NT(p,t.current);g!==void 0&&(e[f]=g),f===e.length-1&&(this.finalKeyframe=p)}}if(this.resolveNoneKeyframes(),!cT.has(r)||e.length!==2)return;const[s,a]=e,u=R_(s),d=R_(a);if(u!==d)if(P_(u)&&P_(d))for(let f=0;f<e.length;f++){const p=e[f];typeof p=="string"&&(e[f]=parseFloat(p))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:t}=this,r=[];for(let s=0;s<e.length;s++)ux(e[s])&&r.push(s);r.length&&Cx(e,r,t)}measureInitialState(){const{element:e,unresolvedKeyframes:t,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=sa[r](e.measureViewportBox(),window.getComputedStyle(e.current)),t[0]=this.measuredOrigin;const s=t[t.length-1];s!==void 0&&e.getValue(r,s).jump(s,!1)}measureEndState(){var e;const{element:t,name:r,unresolvedKeyframes:s}=this;if(!t||!t.current)return;const a=t.getValue(r);a&&a.jump(this.measuredOrigin,!1);const u=s.length-1,d=s[u];s[u]=sa[r](t.measureViewportBox(),window.getComputedStyle(t.current)),d!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=d),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([f,p])=>{t.getValue(f).set(p)}),this.resolveNoneKeyframes()}}const x_=(n,e)=>e==="zIndex"?!1:!!(typeof n=="number"||Array.isArray(n)||typeof n=="string"&&(Qi.test(n)||n==="0")&&!n.startsWith("url("));function bx(n){const e=n[0];if(n.length===1)return!0;for(let t=0;t<n.length;t++)if(n[t]!==e)return!0}function Mx(n,e,t,r){const s=n[0];if(s===null)return!1;if(e==="display"||e==="visibility")return!0;const a=n[n.length-1],u=x_(s,e),d=x_(a,e);return!u||!d?!1:bx(n)||(t==="spring"||Um(t))&&r}const Lx=n=>n!==null;function Xh(n,{repeat:e,repeatType:t="loop"},r){const s=n.filter(Lx),a=e&&t!=="loop"&&e%2===1?0:s.length-1;return!a||r===void 0?s[a]:r}const Ox=40;class MT{constructor({autoplay:e=!0,delay:t=0,type:r="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:u="loop",...d}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=vr.now(),this.options={autoplay:e,delay:t,type:r,repeat:s,repeatDelay:a,repeatType:u,...d},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>Ox?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&kx(),this._resolved}onKeyframesResolved(e,t){this.resolvedAt=vr.now(),this.hasAttemptedResolve=!0;const{name:r,type:s,velocity:a,delay:u,onComplete:d,onUpdate:f,isGenerator:p}=this.options;if(!p&&!Mx(e,r,s,a))if(u)this.options.duration=0;else{f&&f(Xh(e,this.options,t)),d&&d(),this.resolveFinishedPromise();return}const g=this.initPlayback(e,t);g!==!1&&(this._resolved={keyframes:e,finalKeyframe:t,...g},this.onPostResolved())}onPostResolved(){}then(e,t){return this.currentFinishedPromise.then(e,t)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const st=(n,e,t)=>n+(e-n)*t;function tp(n,e,t){return t<0&&(t+=1),t>1&&(t-=1),t<1/6?n+(e-n)*6*t:t<1/2?e:t<2/3?n+(e-n)*(2/3-t)*6:n}function jx({hue:n,saturation:e,lightness:t,alpha:r}){n/=360,e/=100,t/=100;let s=0,a=0,u=0;if(!e)s=a=u=t;else{const d=t<.5?t*(1+e):t+e-t*e,f=2*t-d;s=tp(f,d,n+1/3),a=tp(f,d,n),u=tp(f,d,n-1/3)}return{red:Math.round(s*255),green:Math.round(a*255),blue:Math.round(u*255),alpha:r}}function vh(n,e){return t=>t>0?e:n}const np=(n,e,t)=>{const r=n*n,s=t*(e*e-r)+r;return s<0?0:Math.sqrt(s)},Fx=[kp,Fs,qo],Ux=n=>Fx.find(e=>e.test(n));function k_(n){const e=Ux(n);if(!e)return!1;let t=e.parse(n);return e===qo&&(t=jx(t)),t}const N_=(n,e)=>{const t=k_(n),r=k_(e);if(!t||!r)return vh(n,e);const s={...t};return a=>(s.red=np(t.red,r.red,a),s.green=np(t.green,r.green,a),s.blue=np(t.blue,r.blue,a),s.alpha=st(t.alpha,r.alpha,a),Fs.transform(s))},Bx=(n,e)=>t=>e(n(t)),du=(...n)=>n.reduce(Bx),bp=new Set(["none","hidden"]);function zx(n,e){return bp.has(n)?t=>t<=0?n:e:t=>t>=1?e:n}function $x(n,e){return t=>st(n,e,t)}function Jm(n){return typeof n=="number"?$x:typeof n=="string"?Dm(n)?vh:qt.test(n)?N_:qx:Array.isArray(n)?LT:typeof n=="object"?qt.test(n)?N_:Hx:vh}function LT(n,e){const t=[...n],r=t.length,s=n.map((a,u)=>Jm(a)(a,e[u]));return a=>{for(let u=0;u<r;u++)t[u]=s[u](a);return t}}function Hx(n,e){const t={...n,...e},r={};for(const s in t)n[s]!==void 0&&e[s]!==void 0&&(r[s]=Jm(n[s])(n[s],e[s]));return s=>{for(const a in r)t[a]=r[a](s);return t}}function Wx(n,e){var t;const r=[],s={color:0,var:0,number:0};for(let a=0;a<e.values.length;a++){const u=e.types[a],d=n.indexes[u][s[u]],f=(t=n.values[d])!==null&&t!==void 0?t:0;r[a]=f,s[u]++}return r}const qx=(n,e)=>{const t=Qi.createTransformer(e),r=Kl(n),s=Kl(e);return r.indexes.var.length===s.indexes.var.length&&r.indexes.color.length===s.indexes.color.length&&r.indexes.number.length>=s.indexes.number.length?bp.has(n)&&!s.values.length||bp.has(e)&&!r.values.length?zx(n,e):du(LT(Wx(r,s),s.values),t):vh(n,e)};function OT(n,e,t){return typeof n=="number"&&typeof e=="number"&&typeof t=="number"?st(n,e,t):Jm(n)(n,e)}const Gx=5;function jT(n,e,t){const r=Math.max(e-Gx,0);return hT(t-n(r),e-r)}const ut={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},rp=.001;function Kx({duration:n=ut.duration,bounce:e=ut.bounce,velocity:t=ut.velocity,mass:r=ut.mass}){let s,a,u=1-e;u=Jr(ut.minDamping,ut.maxDamping,u),n=Jr(ut.minDuration,ut.maxDuration,Xr(n)),u<1?(s=p=>{const g=p*u,_=g*n,E=g-t,I=Mp(p,u),V=Math.exp(-_);return rp-E/I*V},a=p=>{const _=p*u*n,E=_*t+t,I=Math.pow(u,2)*Math.pow(p,2)*n,V=Math.exp(-_),x=Mp(Math.pow(p,2),u);return(-s(p)+rp>0?-1:1)*((E-I)*V)/x}):(s=p=>{const g=Math.exp(-p*n),_=(p-t)*n+1;return-rp+g*_},a=p=>{const g=Math.exp(-p*n),_=(t-p)*(n*n);return g*_});const d=5/n,f=Xx(s,a,d);if(n=Qr(n),isNaN(f))return{stiffness:ut.stiffness,damping:ut.damping,duration:n};{const p=Math.pow(f,2)*r;return{stiffness:p,damping:u*2*Math.sqrt(r*p),duration:n}}}const Qx=12;function Xx(n,e,t){let r=t;for(let s=1;s<Qx;s++)r=r-n(r)/e(r);return r}function Mp(n,e){return n*Math.sqrt(1-e*e)}const Yx=["duration","bounce"],Jx=["stiffness","damping","mass"];function D_(n,e){return e.some(t=>n[t]!==void 0)}function Zx(n){let e={velocity:ut.velocity,stiffness:ut.stiffness,damping:ut.damping,mass:ut.mass,isResolvedFromDuration:!1,...n};if(!D_(n,Jx)&&D_(n,Yx))if(n.visualDuration){const t=n.visualDuration,r=2*Math.PI/(t*1.2),s=r*r,a=2*Jr(.05,1,1-(n.bounce||0))*Math.sqrt(s);e={...e,mass:ut.mass,stiffness:s,damping:a}}else{const t=Kx(n);e={...e,...t,mass:ut.mass},e.isResolvedFromDuration=!0}return e}function FT(n=ut.visualDuration,e=ut.bounce){const t=typeof n!="object"?{visualDuration:n,keyframes:[0,1],bounce:e}:n;let{restSpeed:r,restDelta:s}=t;const a=t.keyframes[0],u=t.keyframes[t.keyframes.length-1],d={done:!1,value:a},{stiffness:f,damping:p,mass:g,duration:_,velocity:E,isResolvedFromDuration:I}=Zx({...t,velocity:-Xr(t.velocity||0)}),V=E||0,x=p/(2*Math.sqrt(f*g)),k=u-a,F=Xr(Math.sqrt(f/g)),q=Math.abs(k)<5;r||(r=q?ut.restSpeed.granular:ut.restSpeed.default),s||(s=q?ut.restDelta.granular:ut.restDelta.default);let H;if(x<1){const Q=Mp(F,x);H=ie=>{const D=Math.exp(-x*F*ie);return u-D*((V+x*F*k)/Q*Math.sin(Q*ie)+k*Math.cos(Q*ie))}}else if(x===1)H=Q=>u-Math.exp(-F*Q)*(k+(V+F*k)*Q);else{const Q=F*Math.sqrt(x*x-1);H=ie=>{const D=Math.exp(-x*F*ie),A=Math.min(Q*ie,300);return u-D*((V+x*F*k)*Math.sinh(A)+Q*k*Math.cosh(A))/Q}}const re={calculatedDuration:I&&_||null,next:Q=>{const ie=H(Q);if(I)d.done=Q>=_;else{let D=0;x<1&&(D=Q===0?Qr(V):jT(H,Q,ie));const A=Math.abs(D)<=r,P=Math.abs(u-ie)<=s;d.done=A&&P}return d.value=d.done?u:ie,d},toString:()=>{const Q=Math.min(rT(re),Ap),ie=iT(D=>re.next(Q*D).value,Q,30);return Q+"ms "+ie}};return re}function V_({keyframes:n,velocity:e=0,power:t=.8,timeConstant:r=325,bounceDamping:s=10,bounceStiffness:a=500,modifyTarget:u,min:d,max:f,restDelta:p=.5,restSpeed:g}){const _=n[0],E={done:!1,value:_},I=A=>d!==void 0&&A<d||f!==void 0&&A>f,V=A=>d===void 0?f:f===void 0||Math.abs(d-A)<Math.abs(f-A)?d:f;let x=t*e;const k=_+x,F=u===void 0?k:u(k);F!==k&&(x=F-_);const q=A=>-x*Math.exp(-A/r),H=A=>F+q(A),re=A=>{const P=q(A),b=H(A);E.done=Math.abs(P)<=p,E.value=E.done?F:b};let Q,ie;const D=A=>{I(E.value)&&(Q=A,ie=FT({keyframes:[E.value,V(E.value)],velocity:jT(H,A,E.value),damping:s,stiffness:a,restDelta:p,restSpeed:g}))};return D(0),{calculatedDuration:null,next:A=>{let P=!1;return!ie&&Q===void 0&&(P=!0,re(A),D(A)),Q!==void 0&&A>=Q?ie.next(A-Q):(!P&&re(A),E)}}}const ek=hu(.42,0,1,1),tk=hu(0,0,.58,1),UT=hu(.42,0,.58,1),nk=n=>Array.isArray(n)&&typeof n[0]!="number",rk={linear:wn,easeIn:ek,easeInOut:UT,easeOut:tk,circIn:Gm,circInOut:wT,circOut:_T,backIn:qm,backInOut:yT,backOut:gT,anticipate:vT},b_=n=>{if(Bm(n)){OE(n.length===4);const[e,t,r,s]=n;return hu(e,t,r,s)}else if(typeof n=="string")return rk[n];return n};function ik(n,e,t){const r=[],s=t||OT,a=n.length-1;for(let u=0;u<a;u++){let d=s(n[u],n[u+1]);if(e){const f=Array.isArray(e)?e[u]||wn:e;d=du(f,d)}r.push(d)}return r}function sk(n,e,{clamp:t=!0,ease:r,mixer:s}={}){const a=n.length;if(OE(a===e.length),a===1)return()=>e[0];if(a===2&&e[0]===e[1])return()=>e[1];const u=n[0]===n[1];n[0]>n[a-1]&&(n=[...n].reverse(),e=[...e].reverse());const d=ik(e,r,s),f=d.length,p=g=>{if(u&&g<n[0])return e[0];let _=0;if(f>1)for(;_<n.length-2&&!(g<n[_+1]);_++);const E=ra(n[_],n[_+1],g);return d[_](E)};return t?g=>p(Jr(n[0],n[a-1],g)):p}function ok(n,e){const t=n[n.length-1];for(let r=1;r<=e;r++){const s=ra(0,e,r);n.push(st(t,1,s))}}function ak(n){const e=[0];return ok(e,n.length-1),e}function lk(n,e){return n.map(t=>t*e)}function uk(n,e){return n.map(()=>e||UT).splice(0,n.length-1)}function _h({duration:n=300,keyframes:e,times:t,ease:r="easeInOut"}){const s=nk(r)?r.map(b_):b_(r),a={done:!1,value:e[0]},u=lk(t&&t.length===e.length?t:ak(e),n),d=sk(u,e,{ease:Array.isArray(s)?s:uk(e,s)});return{calculatedDuration:n,next:f=>(a.value=d(f),a.done=f>=n,a)}}const ck=n=>{const e=({timestamp:t})=>n(t);return{start:()=>et.update(e,!0),stop:()=>Ki(e),now:()=>Mt.isProcessing?Mt.timestamp:vr.now()}},hk={decay:V_,inertia:V_,tween:_h,keyframes:_h,spring:FT},dk=n=>n/100;class Zm extends MT{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:f}=this.options;f&&f()};const{name:t,motionValue:r,element:s,keyframes:a}=this.options,u=(s==null?void 0:s.KeyframeResolver)||Ym,d=(f,p)=>this.onKeyframesResolved(f,p);this.resolver=new u(a,d,t,r,s),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:t="keyframes",repeat:r=0,repeatDelay:s=0,repeatType:a,velocity:u=0}=this.options,d=Um(t)?t:hk[t]||_h;let f,p;d!==_h&&typeof e[0]!="number"&&(f=du(dk,OT(e[0],e[1])),e=[0,100]);const g=d({...this.options,keyframes:e});a==="mirror"&&(p=d({...this.options,keyframes:[...e].reverse(),velocity:-u})),g.calculatedDuration===null&&(g.calculatedDuration=rT(g));const{calculatedDuration:_}=g,E=_+s,I=E*(r+1)-s;return{generator:g,mirroredGenerator:p,mapPercentToKeyframes:f,calculatedDuration:_,resolvedDuration:E,totalDuration:I}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,t=!1){const{resolved:r}=this;if(!r){const{keyframes:A}=this.options;return{done:!0,value:A[A.length-1]}}const{finalKeyframe:s,generator:a,mirroredGenerator:u,mapPercentToKeyframes:d,keyframes:f,calculatedDuration:p,totalDuration:g,resolvedDuration:_}=r;if(this.startTime===null)return a.next(0);const{delay:E,repeat:I,repeatType:V,repeatDelay:x,onUpdate:k}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-g/this.speed,this.startTime)),t?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const F=this.currentTime-E*(this.speed>=0?1:-1),q=this.speed>=0?F<0:F>g;this.currentTime=Math.max(F,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=g);let H=this.currentTime,re=a;if(I){const A=Math.min(this.currentTime,g)/_;let P=Math.floor(A),b=A%1;!b&&A>=1&&(b=1),b===1&&P--,P=Math.min(P,I+1),!!(P%2)&&(V==="reverse"?(b=1-b,x&&(b-=x/_)):V==="mirror"&&(re=u)),H=Jr(0,1,b)*_}const Q=q?{done:!1,value:f[0]}:re.next(H);d&&(Q.value=d(Q.value));let{done:ie}=Q;!q&&p!==null&&(ie=this.speed>=0?this.currentTime>=g:this.currentTime<=0);const D=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&ie);return D&&s!==void 0&&(Q.value=Xh(f,this.options,s)),k&&k(Q.value),D&&this.finish(),Q}get duration(){const{resolved:e}=this;return e?Xr(e.calculatedDuration):0}get time(){return Xr(this.currentTime)}set time(e){e=Qr(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const t=this.playbackSpeed!==e;this.playbackSpeed=e,t&&(this.time=Xr(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=ck,onPlay:t,startTime:r}=this.options;this.driver||(this.driver=e(a=>this.tick(a))),t&&t();const s=this.driver.now();this.holdTime!==null?this.startTime=s-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=s):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const fk=new Set(["opacity","clipPath","filter","transform"]);function pk(n,e,t,{delay:r=0,duration:s=300,repeat:a=0,repeatType:u="loop",ease:d="easeInOut",times:f}={}){const p={[e]:t};f&&(p.offset=f);const g=oT(d,s);return Array.isArray(g)&&(p.easing=g),n.animate(p,{delay:r,duration:s,easing:Array.isArray(g)?"linear":g,fill:"both",iterations:a+1,direction:u==="reverse"?"alternate":"normal"})}const mk=Pm(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),wh=10,gk=2e4;function yk(n){return Um(n.type)||n.type==="spring"||!sT(n.ease)}function vk(n,e){const t=new Zm({...e,keyframes:n,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:n[0]};const s=[];let a=0;for(;!r.done&&a<gk;)r=t.sample(a),s.push(r.value),a+=wh;return{times:void 0,keyframes:s,duration:a-wh,ease:"linear"}}const BT={anticipate:vT,backInOut:yT,circInOut:wT};function _k(n){return n in BT}class M_ extends MT{constructor(e){super(e);const{name:t,motionValue:r,element:s,keyframes:a}=this.options;this.resolver=new bT(a,(u,d)=>this.onKeyframesResolved(u,d),t,r,s),this.resolver.scheduleResolve()}initPlayback(e,t){let{duration:r=300,times:s,ease:a,type:u,motionValue:d,name:f,startTime:p}=this.options;if(!d.owner||!d.owner.current)return!1;if(typeof a=="string"&&yh()&&_k(a)&&(a=BT[a]),yk(this.options)){const{onComplete:_,onUpdate:E,motionValue:I,element:V,...x}=this.options,k=vk(e,x);e=k.keyframes,e.length===1&&(e[1]=e[0]),r=k.duration,s=k.times,a=k.ease,u="keyframes"}const g=pk(d.owner.current,f,e,{...this.options,duration:r,times:s,ease:a});return g.startTime=p??this.calcStartTime(),this.pendingTimeline?(__(g,this.pendingTimeline),this.pendingTimeline=void 0):g.onfinish=()=>{const{onComplete:_}=this.options;d.set(Xh(e,this.options,t)),_&&_(),this.cancel(),this.resolveFinishedPromise()},{animation:g,duration:r,times:s,type:u,ease:a,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:t}=e;return Xr(t)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:t}=e;return Xr(t.currentTime||0)}set time(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.currentTime=Qr(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:t}=e;return t.playbackRate}set speed(e){const{resolved:t}=this;if(!t)return;const{animation:r}=t;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:t}=e;return t.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:t}=e;return t.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:t}=this;if(!t)return wn;const{animation:r}=t;__(r,e)}return wn}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.playState==="finished"&&this.updateFinishedPromise(),t.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:t}=e;t.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:t,keyframes:r,duration:s,type:a,ease:u,times:d}=e;if(t.playState==="idle"||t.playState==="finished")return;if(this.time){const{motionValue:p,onUpdate:g,onComplete:_,element:E,...I}=this.options,V=new Zm({...I,keyframes:r,duration:s,type:a,ease:u,times:d,isGenerator:!0}),x=Qr(this.time);p.setWithVelocity(V.sample(x-wh).value,V.sample(x).value,wh)}const{onStop:f}=this.options;f&&f(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:t,name:r,repeatDelay:s,repeatType:a,damping:u,type:d}=e;if(!t||!t.owner||!(t.owner.current instanceof HTMLElement))return!1;const{onUpdate:f,transformTemplate:p}=t.owner.getProps();return mk()&&r&&fk.has(r)&&!f&&!p&&!s&&a!=="mirror"&&u!==0&&d!=="inertia"}}const wk={type:"spring",stiffness:500,damping:25,restSpeed:10},Ek=n=>({type:"spring",stiffness:550,damping:n===0?2*Math.sqrt(550):30,restSpeed:10}),Tk={type:"keyframes",duration:.8},Sk={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},Ik=(n,{keyframes:e})=>e.length>2?Tk:Ks.has(n)?n.startsWith("scale")?Ek(e[1]):wk:Sk;function Pk({when:n,delay:e,delayChildren:t,staggerChildren:r,staggerDirection:s,repeat:a,repeatType:u,repeatDelay:d,from:f,elapsed:p,...g}){return!!Object.keys(g).length}const eg=(n,e,t,r={},s,a)=>u=>{const d=Fm(r,n)||{},f=d.delay||r.delay||0;let{elapsed:p=0}=r;p=p-Qr(f);let g={keyframes:Array.isArray(t)?t:[null,t],ease:"easeOut",velocity:e.getVelocity(),...d,delay:-p,onUpdate:E=>{e.set(E),d.onUpdate&&d.onUpdate(E)},onComplete:()=>{u(),d.onComplete&&d.onComplete()},name:n,motionValue:e,element:a?void 0:s};Pk(d)||(g={...g,...Ik(n,g)}),g.duration&&(g.duration=Qr(g.duration)),g.repeatDelay&&(g.repeatDelay=Qr(g.repeatDelay)),g.from!==void 0&&(g.keyframes[0]=g.from);let _=!1;if((g.type===!1||g.duration===0&&!g.repeatDelay)&&(g.duration=0,g.delay===0&&(_=!0)),_&&!a&&e.get()!==void 0){const E=Xh(g.keyframes,d);if(E!==void 0)return et.update(()=>{g.onUpdate(E),g.onComplete()}),new HR([])}return!a&&M_.supports(g)?new M_(g):new Zm(g)};function Ck({protectedKeys:n,needsAnimating:e},t){const r=n.hasOwnProperty(t)&&e[t]!==!0;return e[t]=!1,r}function zT(n,e,{delay:t=0,transitionOverride:r,type:s}={}){var a;let{transition:u=n.getDefaultTransition(),transitionEnd:d,...f}=e;r&&(u=r);const p=[],g=s&&n.animationState&&n.animationState.getState()[s];for(const _ in f){const E=n.getValue(_,(a=n.latestValues[_])!==null&&a!==void 0?a:null),I=f[_];if(I===void 0||g&&Ck(g,_))continue;const V={delay:t,...Fm(u||{},_)};let x=!1;if(window.MotionHandoffAnimation){const F=dT(n);if(F){const q=window.MotionHandoffAnimation(F,_,et);q!==null&&(V.startTime=q,x=!0)}}xp(n,_),E.start(eg(_,E,I,n.shouldReduceMotion&&cT.has(_)?{type:!1}:V,n,x));const k=E.animation;k&&p.push(k)}return d&&Promise.all(p).then(()=>{et.update(()=>{d&&ix(n,d)})}),p}function Lp(n,e,t={}){var r;const s=Qh(n,e,t.type==="exit"?(r=n.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:a=n.getDefaultTransition()||{}}=s||{};t.transitionOverride&&(a=t.transitionOverride);const u=s?()=>Promise.all(zT(n,s,t)):()=>Promise.resolve(),d=n.variantChildren&&n.variantChildren.size?(p=0)=>{const{delayChildren:g=0,staggerChildren:_,staggerDirection:E}=a;return Ak(n,e,g+p,_,E,t)}:()=>Promise.resolve(),{when:f}=a;if(f){const[p,g]=f==="beforeChildren"?[u,d]:[d,u];return p().then(()=>g())}else return Promise.all([u(),d(t.delay)])}function Ak(n,e,t=0,r=0,s=1,a){const u=[],d=(n.variantChildren.size-1)*r,f=s===1?(p=0)=>p*r:(p=0)=>d-p*r;return Array.from(n.variantChildren).sort(Rk).forEach((p,g)=>{p.notify("AnimationStart",e),u.push(Lp(p,e,{...a,delay:t+f(g)}).then(()=>p.notify("AnimationComplete",e)))}),Promise.all(u)}function Rk(n,e){return n.sortNodePosition(e)}function xk(n,e,t={}){n.notify("AnimationStart",e);let r;if(Array.isArray(e)){const s=e.map(a=>Lp(n,a,t));r=Promise.all(s)}else if(typeof e=="string")r=Lp(n,e,t);else{const s=typeof e=="function"?Qh(n,e,t.custom):e;r=Promise.all(zT(n,s,t))}return r.then(()=>{n.notify("AnimationComplete",e)})}const kk=Am.length;function $T(n){if(!n)return;if(!n.isControllingVariants){const t=n.parent?$T(n.parent)||{}:{};return n.props.initial!==void 0&&(t.initial=n.props.initial),t}const e={};for(let t=0;t<kk;t++){const r=Am[t],s=n.props[r];(Wl(s)||s===!1)&&(e[r]=s)}return e}const Nk=[...Cm].reverse(),Dk=Cm.length;function Vk(n){return e=>Promise.all(e.map(({animation:t,options:r})=>xk(n,t,r)))}function bk(n){let e=Vk(n),t=L_(),r=!0;const s=f=>(p,g)=>{var _;const E=Qh(n,g,f==="exit"?(_=n.presenceContext)===null||_===void 0?void 0:_.custom:void 0);if(E){const{transition:I,transitionEnd:V,...x}=E;p={...p,...x,...V}}return p};function a(f){e=f(n)}function u(f){const{props:p}=n,g=$T(n.parent)||{},_=[],E=new Set;let I={},V=1/0;for(let k=0;k<Dk;k++){const F=Nk[k],q=t[F],H=p[F]!==void 0?p[F]:g[F],re=Wl(H),Q=F===f?q.isActive:null;Q===!1&&(V=k);let ie=H===g[F]&&H!==p[F]&&re;if(ie&&r&&n.manuallyAnimateOnMount&&(ie=!1),q.protectedKeys={...I},!q.isActive&&Q===null||!H&&!q.prevProp||Gh(H)||typeof H=="boolean")continue;const D=Mk(q.prevProp,H);let A=D||F===f&&q.isActive&&!ie&&re||k>V&&re,P=!1;const b=Array.isArray(H)?H:[H];let M=b.reduce(s(F),{});Q===!1&&(M={});const{prevResolvedValues:U={}}=q,N={...U,...M},He=Re=>{A=!0,E.has(Re)&&(P=!0,E.delete(Re)),q.needsAnimating[Re]=!0;const se=n.getValue(Re);se&&(se.liveStyle=!1)};for(const Re in N){const se=M[Re],me=U[Re];if(I.hasOwnProperty(Re))continue;let ae=!1;Cp(se)&&Cp(me)?ae=!nT(se,me):ae=se!==me,ae?se!=null?He(Re):E.add(Re):se!==void 0&&E.has(Re)?He(Re):q.protectedKeys[Re]=!0}q.prevProp=H,q.prevResolvedValues=M,q.isActive&&(I={...I,...M}),r&&n.blockInitialAnimation&&(A=!1),A&&(!(ie&&D)||P)&&_.push(...b.map(Re=>({animation:Re,options:{type:F}})))}if(E.size){const k={};E.forEach(F=>{const q=n.getBaseTarget(F),H=n.getValue(F);H&&(H.liveStyle=!0),k[F]=q??null}),_.push({animation:k})}let x=!!_.length;return r&&(p.initial===!1||p.initial===p.animate)&&!n.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(_):Promise.resolve()}function d(f,p){var g;if(t[f].isActive===p)return Promise.resolve();(g=n.variantChildren)===null||g===void 0||g.forEach(E=>{var I;return(I=E.animationState)===null||I===void 0?void 0:I.setActive(f,p)}),t[f].isActive=p;const _=u(f);for(const E in t)t[E].protectedKeys={};return _}return{animateChanges:u,setActive:d,setAnimateFunction:a,getState:()=>t,reset:()=>{t=L_(),r=!0}}}function Mk(n,e){return typeof e=="string"?e!==n:Array.isArray(e)?!nT(e,n):!1}function bs(n=!1){return{isActive:n,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function L_(){return{animate:bs(!0),whileInView:bs(),whileHover:bs(),whileTap:bs(),whileDrag:bs(),whileFocus:bs(),exit:bs()}}class rs{constructor(e){this.isMounted=!1,this.node=e}update(){}}class Lk extends rs{constructor(e){super(e),e.animationState||(e.animationState=bk(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Gh(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:t}=this.node.prevProps||{};e!==t&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let Ok=0;class jk extends rs{constructor(){super(...arguments),this.id=Ok++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:t}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const s=this.node.animationState.setActive("exit",!e);t&&!e&&s.then(()=>t(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const Fk={animation:{Feature:Lk},exit:{Feature:jk}};function Ql(n,e,t,r={passive:!0}){return n.addEventListener(e,t,r),()=>n.removeEventListener(e,t)}function fu(n){return{point:{x:n.pageX,y:n.pageY}}}const Uk=n=>e=>zm(e)&&n(e,fu(e));function bl(n,e,t,r){return Ql(n,e,Uk(t),r)}const O_=(n,e)=>Math.abs(n-e);function Bk(n,e){const t=O_(n.x,e.x),r=O_(n.y,e.y);return Math.sqrt(t**2+r**2)}class HT{constructor(e,t,{transformPagePoint:r,contextWindow:s,dragSnapToOrigin:a=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const _=sp(this.lastMoveEventInfo,this.history),E=this.startEvent!==null,I=Bk(_.offset,{x:0,y:0})>=3;if(!E&&!I)return;const{point:V}=_,{timestamp:x}=Mt;this.history.push({...V,timestamp:x});const{onStart:k,onMove:F}=this.handlers;E||(k&&k(this.lastMoveEvent,_),this.startEvent=this.lastMoveEvent),F&&F(this.lastMoveEvent,_)},this.handlePointerMove=(_,E)=>{this.lastMoveEvent=_,this.lastMoveEventInfo=ip(E,this.transformPagePoint),et.update(this.updatePoint,!0)},this.handlePointerUp=(_,E)=>{this.end();const{onEnd:I,onSessionEnd:V,resumeAnimation:x}=this.handlers;if(this.dragSnapToOrigin&&x&&x(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const k=sp(_.type==="pointercancel"?this.lastMoveEventInfo:ip(E,this.transformPagePoint),this.history);this.startEvent&&I&&I(_,k),V&&V(_,k)},!zm(e))return;this.dragSnapToOrigin=a,this.handlers=t,this.transformPagePoint=r,this.contextWindow=s||window;const u=fu(e),d=ip(u,this.transformPagePoint),{point:f}=d,{timestamp:p}=Mt;this.history=[{...f,timestamp:p}];const{onSessionStart:g}=t;g&&g(e,sp(d,this.history)),this.removeListeners=du(bl(this.contextWindow,"pointermove",this.handlePointerMove),bl(this.contextWindow,"pointerup",this.handlePointerUp),bl(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),Ki(this.updatePoint)}}function ip(n,e){return e?{point:e(n.point)}:n}function j_(n,e){return{x:n.x-e.x,y:n.y-e.y}}function sp({point:n},e){return{point:n,delta:j_(n,WT(e)),offset:j_(n,zk(e)),velocity:$k(e,.1)}}function zk(n){return n[0]}function WT(n){return n[n.length-1]}function $k(n,e){if(n.length<2)return{x:0,y:0};let t=n.length-1,r=null;const s=WT(n);for(;t>=0&&(r=n[t],!(s.timestamp-r.timestamp>Qr(e)));)t--;if(!r)return{x:0,y:0};const a=Xr(s.timestamp-r.timestamp);if(a===0)return{x:0,y:0};const u={x:(s.x-r.x)/a,y:(s.y-r.y)/a};return u.x===1/0&&(u.x=0),u.y===1/0&&(u.y=0),u}const qT=1e-4,Hk=1-qT,Wk=1+qT,GT=.01,qk=0-GT,Gk=0+GT;function En(n){return n.max-n.min}function Kk(n,e,t){return Math.abs(n-e)<=t}function F_(n,e,t,r=.5){n.origin=r,n.originPoint=st(e.min,e.max,n.origin),n.scale=En(t)/En(e),n.translate=st(t.min,t.max,n.origin)-n.originPoint,(n.scale>=Hk&&n.scale<=Wk||isNaN(n.scale))&&(n.scale=1),(n.translate>=qk&&n.translate<=Gk||isNaN(n.translate))&&(n.translate=0)}function Ml(n,e,t,r){F_(n.x,e.x,t.x,r?r.originX:void 0),F_(n.y,e.y,t.y,r?r.originY:void 0)}function U_(n,e,t){n.min=t.min+e.min,n.max=n.min+En(e)}function Qk(n,e,t){U_(n.x,e.x,t.x),U_(n.y,e.y,t.y)}function B_(n,e,t){n.min=e.min-t.min,n.max=n.min+En(e)}function Ll(n,e,t){B_(n.x,e.x,t.x),B_(n.y,e.y,t.y)}function Xk(n,{min:e,max:t},r){return e!==void 0&&n<e?n=r?st(e,n,r.min):Math.max(n,e):t!==void 0&&n>t&&(n=r?st(t,n,r.max):Math.min(n,t)),n}function z_(n,e,t){return{min:e!==void 0?n.min+e:void 0,max:t!==void 0?n.max+t-(n.max-n.min):void 0}}function Yk(n,{top:e,left:t,bottom:r,right:s}){return{x:z_(n.x,t,s),y:z_(n.y,e,r)}}function $_(n,e){let t=e.min-n.min,r=e.max-n.max;return e.max-e.min<n.max-n.min&&([t,r]=[r,t]),{min:t,max:r}}function Jk(n,e){return{x:$_(n.x,e.x),y:$_(n.y,e.y)}}function Zk(n,e){let t=.5;const r=En(n),s=En(e);return s>r?t=ra(e.min,e.max-r,n.min):r>s&&(t=ra(n.min,n.max-s,e.min)),Jr(0,1,t)}function e2(n,e){const t={};return e.min!==void 0&&(t.min=e.min-n.min),e.max!==void 0&&(t.max=e.max-n.min),t}const Op=.35;function t2(n=Op){return n===!1?n=0:n===!0&&(n=Op),{x:H_(n,"left","right"),y:H_(n,"top","bottom")}}function H_(n,e,t){return{min:W_(n,e),max:W_(n,t)}}function W_(n,e){return typeof n=="number"?n:n[e]||0}const q_=()=>({translate:0,scale:1,origin:0,originPoint:0}),Go=()=>({x:q_(),y:q_()}),G_=()=>({min:0,max:0}),ft=()=>({x:G_(),y:G_()});function Dn(n){return[n("x"),n("y")]}function KT({top:n,left:e,right:t,bottom:r}){return{x:{min:e,max:t},y:{min:n,max:r}}}function n2({x:n,y:e}){return{top:e.min,right:n.max,bottom:e.max,left:n.min}}function r2(n,e){if(!e)return n;const t=e({x:n.left,y:n.top}),r=e({x:n.right,y:n.bottom});return{top:t.y,left:t.x,bottom:r.y,right:r.x}}function op(n){return n===void 0||n===1}function jp({scale:n,scaleX:e,scaleY:t}){return!op(n)||!op(e)||!op(t)}function Ms(n){return jp(n)||QT(n)||n.z||n.rotate||n.rotateX||n.rotateY||n.skewX||n.skewY}function QT(n){return K_(n.x)||K_(n.y)}function K_(n){return n&&n!=="0%"}function Eh(n,e,t){const r=n-t,s=e*r;return t+s}function Q_(n,e,t,r,s){return s!==void 0&&(n=Eh(n,s,r)),Eh(n,t,r)+e}function Fp(n,e=0,t=1,r,s){n.min=Q_(n.min,e,t,r,s),n.max=Q_(n.max,e,t,r,s)}function XT(n,{x:e,y:t}){Fp(n.x,e.translate,e.scale,e.originPoint),Fp(n.y,t.translate,t.scale,t.originPoint)}const X_=.999999999999,Y_=1.0000000000001;function i2(n,e,t,r=!1){const s=t.length;if(!s)return;e.x=e.y=1;let a,u;for(let d=0;d<s;d++){a=t[d],u=a.projectionDelta;const{visualElement:f}=a.options;f&&f.props.style&&f.props.style.display==="contents"||(r&&a.options.layoutScroll&&a.scroll&&a!==a.root&&Qo(n,{x:-a.scroll.offset.x,y:-a.scroll.offset.y}),u&&(e.x*=u.x.scale,e.y*=u.y.scale,XT(n,u)),r&&Ms(a.latestValues)&&Qo(n,a.latestValues))}e.x<Y_&&e.x>X_&&(e.x=1),e.y<Y_&&e.y>X_&&(e.y=1)}function Ko(n,e){n.min=n.min+e,n.max=n.max+e}function J_(n,e,t,r,s=.5){const a=st(n.min,n.max,s);Fp(n,e,t,a,r)}function Qo(n,e){J_(n.x,e.x,e.scaleX,e.scale,e.originX),J_(n.y,e.y,e.scaleY,e.scale,e.originY)}function YT(n,e){return KT(r2(n.getBoundingClientRect(),e))}function s2(n,e,t){const r=YT(n,t),{scroll:s}=e;return s&&(Ko(r.x,s.offset.x),Ko(r.y,s.offset.y)),r}const JT=({current:n})=>n?n.ownerDocument.defaultView:null,o2=new WeakMap;class a2{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=ft(),this.visualElement=e}start(e,{snapToCursor:t=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const s=g=>{const{dragSnapToOrigin:_}=this.getProps();_?this.pauseAnimation():this.stopAnimation(),t&&this.snapToCursor(fu(g).point)},a=(g,_)=>{const{drag:E,dragPropagation:I,onDragStart:V}=this.getProps();if(E&&!I&&(this.openDragLock&&this.openDragLock(),this.openDragLock=ZR(E),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Dn(k=>{let F=this.getAxisMotionValue(k).get()||0;if(yr.test(F)){const{projection:q}=this.visualElement;if(q&&q.layout){const H=q.layout.layoutBox[k];H&&(F=En(H)*(parseFloat(F)/100))}}this.originPoint[k]=F}),V&&et.postRender(()=>V(g,_)),xp(this.visualElement,"transform");const{animationState:x}=this.visualElement;x&&x.setActive("whileDrag",!0)},u=(g,_)=>{const{dragPropagation:E,dragDirectionLock:I,onDirectionLock:V,onDrag:x}=this.getProps();if(!E&&!this.openDragLock)return;const{offset:k}=_;if(I&&this.currentDirection===null){this.currentDirection=l2(k),this.currentDirection!==null&&V&&V(this.currentDirection);return}this.updateAxis("x",_.point,k),this.updateAxis("y",_.point,k),this.visualElement.render(),x&&x(g,_)},d=(g,_)=>this.stop(g,_),f=()=>Dn(g=>{var _;return this.getAnimationState(g)==="paused"&&((_=this.getAxisMotionValue(g).animation)===null||_===void 0?void 0:_.play())}),{dragSnapToOrigin:p}=this.getProps();this.panSession=new HT(e,{onSessionStart:s,onStart:a,onMove:u,onSessionEnd:d,resumeAnimation:f},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:p,contextWindow:JT(this.visualElement)})}stop(e,t){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:s}=t;this.startAnimation(s);const{onDragEnd:a}=this.getProps();a&&et.postRender(()=>a(e,t))}cancel(){this.isDragging=!1;const{projection:e,animationState:t}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),t&&t.setActive("whileDrag",!1)}updateAxis(e,t,r){const{drag:s}=this.getProps();if(!r||!Hc(e,s,this.currentDirection))return;const a=this.getAxisMotionValue(e);let u=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(u=Xk(u,this.constraints[e],this.elastic[e])),a.set(u)}resolveConstraints(){var e;const{dragConstraints:t,dragElastic:r}=this.getProps(),s=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,a=this.constraints;t&&Wo(t)?this.constraints||(this.constraints=this.resolveRefConstraints()):t&&s?this.constraints=Yk(s.layoutBox,t):this.constraints=!1,this.elastic=t2(r),a!==this.constraints&&s&&this.constraints&&!this.hasMutatedConstraints&&Dn(u=>{this.constraints!==!1&&this.getAxisMotionValue(u)&&(this.constraints[u]=e2(s.layoutBox[u],this.constraints[u]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:t}=this.getProps();if(!e||!Wo(e))return!1;const r=e.current,{projection:s}=this.visualElement;if(!s||!s.layout)return!1;const a=s2(r,s.root,this.visualElement.getTransformPagePoint());let u=Jk(s.layout.layoutBox,a);if(t){const d=t(n2(u));this.hasMutatedConstraints=!!d,d&&(u=KT(d))}return u}startAnimation(e){const{drag:t,dragMomentum:r,dragElastic:s,dragTransition:a,dragSnapToOrigin:u,onDragTransitionEnd:d}=this.getProps(),f=this.constraints||{},p=Dn(g=>{if(!Hc(g,t,this.currentDirection))return;let _=f&&f[g]||{};u&&(_={min:0,max:0});const E=s?200:1e6,I=s?40:1e7,V={type:"inertia",velocity:r?e[g]:0,bounceStiffness:E,bounceDamping:I,timeConstant:750,restDelta:1,restSpeed:10,...a,..._};return this.startAxisValueAnimation(g,V)});return Promise.all(p).then(d)}startAxisValueAnimation(e,t){const r=this.getAxisMotionValue(e);return xp(this.visualElement,e),r.start(eg(e,r,0,t,this.visualElement,!1))}stopAnimation(){Dn(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Dn(e=>{var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.pause()})}getAnimationState(e){var t;return(t=this.getAxisMotionValue(e).animation)===null||t===void 0?void 0:t.state}getAxisMotionValue(e){const t=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),s=r[t];return s||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Dn(t=>{const{drag:r}=this.getProps();if(!Hc(t,r,this.currentDirection))return;const{projection:s}=this.visualElement,a=this.getAxisMotionValue(t);if(s&&s.layout){const{min:u,max:d}=s.layout.layoutBox[t];a.set(e[t]-st(u,d,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:t}=this.getProps(),{projection:r}=this.visualElement;if(!Wo(t)||!r||!this.constraints)return;this.stopAnimation();const s={x:0,y:0};Dn(u=>{const d=this.getAxisMotionValue(u);if(d&&this.constraints!==!1){const f=d.get();s[u]=Zk({min:f,max:f},this.constraints[u])}});const{transformTemplate:a}=this.visualElement.getProps();this.visualElement.current.style.transform=a?a({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Dn(u=>{if(!Hc(u,e,null))return;const d=this.getAxisMotionValue(u),{min:f,max:p}=this.constraints[u];d.set(st(f,p,s[u]))})}addListeners(){if(!this.visualElement.current)return;o2.set(this.visualElement,this);const e=this.visualElement.current,t=bl(e,"pointerdown",f=>{const{drag:p,dragListener:g=!0}=this.getProps();p&&g&&this.start(f)}),r=()=>{const{dragConstraints:f}=this.getProps();Wo(f)&&f.current&&(this.constraints=this.resolveRefConstraints())},{projection:s}=this.visualElement,a=s.addEventListener("measure",r);s&&!s.layout&&(s.root&&s.root.updateScroll(),s.updateLayout()),et.read(r);const u=Ql(window,"resize",()=>this.scalePositionWithinConstraints()),d=s.addEventListener("didUpdate",(({delta:f,hasLayoutChanged:p})=>{this.isDragging&&p&&(Dn(g=>{const _=this.getAxisMotionValue(g);_&&(this.originPoint[g]+=f[g].translate,_.set(_.get()+f[g].translate))}),this.visualElement.render())}));return()=>{u(),t(),a(),d&&d()}}getProps(){const e=this.visualElement.getProps(),{drag:t=!1,dragDirectionLock:r=!1,dragPropagation:s=!1,dragConstraints:a=!1,dragElastic:u=Op,dragMomentum:d=!0}=e;return{...e,drag:t,dragDirectionLock:r,dragPropagation:s,dragConstraints:a,dragElastic:u,dragMomentum:d}}}function Hc(n,e,t){return(e===!0||e===n)&&(t===null||t===n)}function l2(n,e=10){let t=null;return Math.abs(n.y)>e?t="y":Math.abs(n.x)>e&&(t="x"),t}class u2 extends rs{constructor(e){super(e),this.removeGroupControls=wn,this.removeListeners=wn,this.controls=new a2(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||wn}unmount(){this.removeGroupControls(),this.removeListeners()}}const Z_=n=>(e,t)=>{n&&et.postRender(()=>n(e,t))};class c2 extends rs{constructor(){super(...arguments),this.removePointerDownListener=wn}onPointerDown(e){this.session=new HT(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:JT(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:t,onPan:r,onPanEnd:s}=this.node.getProps();return{onSessionStart:Z_(e),onStart:Z_(t),onMove:r,onEnd:(a,u)=>{delete this.session,s&&et.postRender(()=>s(a,u))}}}mount(){this.removePointerDownListener=bl(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const nh={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function e0(n,e){return e.max===e.min?0:n/(e.max-e.min)*100}const Il={correct:(n,e)=>{if(!e.target)return n;if(typeof n=="string")if(_e.test(n))n=parseFloat(n);else return n;const t=e0(n,e.target.x),r=e0(n,e.target.y);return`${t}% ${r}%`}},h2={correct:(n,{treeScale:e,projectionDelta:t})=>{const r=n,s=Qi.parse(n);if(s.length>5)return r;const a=Qi.createTransformer(n),u=typeof s[0]!="number"?1:0,d=t.x.scale*e.x,f=t.y.scale*e.y;s[0+u]/=d,s[1+u]/=f;const p=st(d,f,.5);return typeof s[2+u]=="number"&&(s[2+u]/=p),typeof s[3+u]=="number"&&(s[3+u]/=p),a(s)}};class d2 extends O.Component{componentDidMount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r,layoutId:s}=this.props,{projection:a}=e;DR(f2),a&&(t.group&&t.group.add(a),r&&r.register&&s&&r.register(a),a.root.didUpdate(),a.addEventListener("animationComplete",()=>{this.safeToRemove()}),a.setOptions({...a.options,onExitComplete:()=>this.safeToRemove()})),nh.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:t,visualElement:r,drag:s,isPresent:a}=this.props,u=r.projection;return u&&(u.isPresent=a,s||e.layoutDependency!==t||t===void 0?u.willUpdate():this.safeToRemove(),e.isPresent!==a&&(a?u.promote():u.relegate()||et.postRender(()=>{const d=u.getStack();(!d||!d.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),xm.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:t,switchLayoutGroup:r}=this.props,{projection:s}=e;s&&(s.scheduleCheckAfterUnmount(),t&&t.group&&t.group.remove(s),r&&r.deregister&&r.deregister(s))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function ZT(n){const[e,t]=GA(),r=O.useContext(ME);return T.jsx(d2,{...n,layoutGroup:r,switchLayoutGroup:O.useContext($E),isPresent:e,safeToRemove:t})}const f2={borderRadius:{...Il,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Il,borderTopRightRadius:Il,borderBottomLeftRadius:Il,borderBottomRightRadius:Il,boxShadow:h2};function p2(n,e,t){const r=Qt(n)?n:Gl(n);return r.start(eg("",r,e,t)),r.animation}function m2(n){return n instanceof SVGElement&&n.tagName!=="svg"}const g2=(n,e)=>n.depth-e.depth;class y2{constructor(){this.children=[],this.isDirty=!1}add(e){$m(this.children,e),this.isDirty=!0}remove(e){Hm(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(g2),this.isDirty=!1,this.children.forEach(e)}}function v2(n,e){const t=vr.now(),r=({timestamp:s})=>{const a=s-t;a>=e&&(Ki(r),n(a-e))};return et.read(r,!0),()=>Ki(r)}const e1=["TopLeft","TopRight","BottomLeft","BottomRight"],_2=e1.length,t0=n=>typeof n=="string"?parseFloat(n):n,n0=n=>typeof n=="number"||_e.test(n);function w2(n,e,t,r,s,a){s?(n.opacity=st(0,t.opacity!==void 0?t.opacity:1,E2(r)),n.opacityExit=st(e.opacity!==void 0?e.opacity:1,0,T2(r))):a&&(n.opacity=st(e.opacity!==void 0?e.opacity:1,t.opacity!==void 0?t.opacity:1,r));for(let u=0;u<_2;u++){const d=`border${e1[u]}Radius`;let f=r0(e,d),p=r0(t,d);if(f===void 0&&p===void 0)continue;f||(f=0),p||(p=0),f===0||p===0||n0(f)===n0(p)?(n[d]=Math.max(st(t0(f),t0(p),r),0),(yr.test(p)||yr.test(f))&&(n[d]+="%")):n[d]=p}(e.rotate||t.rotate)&&(n.rotate=st(e.rotate||0,t.rotate||0,r))}function r0(n,e){return n[e]!==void 0?n[e]:n.borderRadius}const E2=t1(0,.5,_T),T2=t1(.5,.95,wn);function t1(n,e,t){return r=>r<n?0:r>e?1:t(ra(n,e,r))}function i0(n,e){n.min=e.min,n.max=e.max}function Nn(n,e){i0(n.x,e.x),i0(n.y,e.y)}function s0(n,e){n.translate=e.translate,n.scale=e.scale,n.originPoint=e.originPoint,n.origin=e.origin}function o0(n,e,t,r,s){return n-=e,n=Eh(n,1/t,r),s!==void 0&&(n=Eh(n,1/s,r)),n}function S2(n,e=0,t=1,r=.5,s,a=n,u=n){if(yr.test(e)&&(e=parseFloat(e),e=st(u.min,u.max,e/100)-u.min),typeof e!="number")return;let d=st(a.min,a.max,r);n===a&&(d-=e),n.min=o0(n.min,e,t,d,s),n.max=o0(n.max,e,t,d,s)}function a0(n,e,[t,r,s],a,u){S2(n,e[t],e[r],e[s],e.scale,a,u)}const I2=["x","scaleX","originX"],P2=["y","scaleY","originY"];function l0(n,e,t,r){a0(n.x,e,I2,t?t.x:void 0,r?r.x:void 0),a0(n.y,e,P2,t?t.y:void 0,r?r.y:void 0)}function u0(n){return n.translate===0&&n.scale===1}function n1(n){return u0(n.x)&&u0(n.y)}function c0(n,e){return n.min===e.min&&n.max===e.max}function C2(n,e){return c0(n.x,e.x)&&c0(n.y,e.y)}function h0(n,e){return Math.round(n.min)===Math.round(e.min)&&Math.round(n.max)===Math.round(e.max)}function r1(n,e){return h0(n.x,e.x)&&h0(n.y,e.y)}function d0(n){return En(n.x)/En(n.y)}function f0(n,e){return n.translate===e.translate&&n.scale===e.scale&&n.originPoint===e.originPoint}class A2{constructor(){this.members=[]}add(e){$m(this.members,e),e.scheduleRender()}remove(e){if(Hm(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const t=this.members[this.members.length-1];t&&this.promote(t)}}relegate(e){const t=this.members.findIndex(s=>e===s);if(t===0)return!1;let r;for(let s=t;s>=0;s--){const a=this.members[s];if(a.isPresent!==!1){r=a;break}}return r?(this.promote(r),!0):!1}promote(e,t){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,t&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:s}=e.options;s===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:t,resumingFrom:r}=e;t.onExitComplete&&t.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function R2(n,e,t){let r="";const s=n.x.translate/e.x,a=n.y.translate/e.y,u=(t==null?void 0:t.z)||0;if((s||a||u)&&(r=`translate3d(${s}px, ${a}px, ${u}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),t){const{transformPerspective:p,rotate:g,rotateX:_,rotateY:E,skewX:I,skewY:V}=t;p&&(r=`perspective(${p}px) ${r}`),g&&(r+=`rotate(${g}deg) `),_&&(r+=`rotateX(${_}deg) `),E&&(r+=`rotateY(${E}deg) `),I&&(r+=`skewX(${I}deg) `),V&&(r+=`skewY(${V}deg) `)}const d=n.x.scale*e.x,f=n.y.scale*e.y;return(d!==1||f!==1)&&(r+=`scale(${d}, ${f})`),r||"none"}const Ls={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},Al=typeof window<"u"&&window.MotionDebug!==void 0,ap=["","X","Y","Z"],x2={visibility:"hidden"},p0=1e3;let k2=0;function lp(n,e,t,r){const{latestValues:s}=e;s[n]&&(t[n]=s[n],e.setStaticValue(n,0),r&&(r[n]=0))}function i1(n){if(n.hasCheckedOptimisedAppear=!0,n.root===n)return;const{visualElement:e}=n.options;if(!e)return;const t=dT(e);if(window.MotionHasOptimisedAnimation(t,"transform")){const{layout:s,layoutId:a}=n.options;window.MotionCancelOptimisedAnimation(t,"transform",et,!(s||a))}const{parent:r}=n;r&&!r.hasCheckedOptimisedAppear&&i1(r)}function s1({attachResizeListener:n,defaultParent:e,measureScroll:t,checkIsScrollRoot:r,resetTransform:s}){return class{constructor(u={},d=e==null?void 0:e()){this.id=k2++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,Al&&(Ls.totalNodes=Ls.resolvedTargetDeltas=Ls.recalculatedProjection=0),this.nodes.forEach(V2),this.nodes.forEach(j2),this.nodes.forEach(F2),this.nodes.forEach(b2),Al&&window.MotionDebug.record(Ls)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=u,this.root=d?d.root||d:this,this.path=d?[...d.path,d]:[],this.parent=d,this.depth=d?d.depth+1:0;for(let f=0;f<this.path.length;f++)this.path[f].shouldResetTransform=!0;this.root===this&&(this.nodes=new y2)}addEventListener(u,d){return this.eventHandlers.has(u)||this.eventHandlers.set(u,new Wm),this.eventHandlers.get(u).add(d)}notifyListeners(u,...d){const f=this.eventHandlers.get(u);f&&f.notify(...d)}hasListeners(u){return this.eventHandlers.has(u)}mount(u,d=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=m2(u),this.instance=u;const{layoutId:f,layout:p,visualElement:g}=this.options;if(g&&!g.current&&g.mount(u),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),d&&(p||f)&&(this.isLayoutDirty=!0),n){let _;const E=()=>this.root.updateBlockedByResize=!1;n(u,()=>{this.root.updateBlockedByResize=!0,_&&_(),_=v2(E,250),nh.hasAnimatedSinceResize&&(nh.hasAnimatedSinceResize=!1,this.nodes.forEach(g0))})}f&&this.root.registerSharedNode(f,this),this.options.animate!==!1&&g&&(f||p)&&this.addEventListener("didUpdate",({delta:_,hasLayoutChanged:E,hasRelativeTargetChanged:I,layout:V})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const x=this.options.transition||g.getDefaultTransition()||H2,{onLayoutAnimationStart:k,onLayoutAnimationComplete:F}=g.getProps(),q=!this.targetLayout||!r1(this.targetLayout,V)||I,H=!E&&I;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||H||E&&(q||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(_,H);const re={...Fm(x,"layout"),onPlay:k,onComplete:F};(g.shouldReduceMotion||this.options.layoutRoot)&&(re.delay=0,re.type=!1),this.startAnimation(re)}else E||g0(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=V})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const u=this.getStack();u&&u.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,Ki(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(U2),this.animationId++)}getTransformTemplate(){const{visualElement:u}=this.options;return u&&u.getProps().transformTemplate}willUpdate(u=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&i1(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let g=0;g<this.path.length;g++){const _=this.path[g];_.shouldResetTransform=!0,_.updateScroll("snapshot"),_.options.layoutRoot&&_.willUpdate(!1)}const{layoutId:d,layout:f}=this.options;if(d===void 0&&!f)return;const p=this.getTransformTemplate();this.prevTransformTemplateValue=p?p(this.latestValues,""):void 0,this.updateSnapshot(),u&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(m0);return}this.isUpdating||this.nodes.forEach(L2),this.isUpdating=!1,this.nodes.forEach(O2),this.nodes.forEach(N2),this.nodes.forEach(D2),this.clearAllSnapshots();const d=vr.now();Mt.delta=Jr(0,1e3/60,d-Mt.timestamp),Mt.timestamp=d,Mt.isProcessing=!0,Jf.update.process(Mt),Jf.preRender.process(Mt),Jf.render.process(Mt),Mt.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,xm.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(M2),this.sharedNodes.forEach(B2)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,et.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){et.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let f=0;f<this.path.length;f++)this.path[f].updateScroll();const u=this.layout;this.layout=this.measure(!1),this.layoutCorrected=ft(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:d}=this.options;d&&d.notify("LayoutMeasure",this.layout.layoutBox,u?u.layoutBox:void 0)}updateScroll(u="measure"){let d=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===u&&(d=!1),d){const f=r(this.instance);this.scroll={animationId:this.root.animationId,phase:u,isRoot:f,offset:t(this.instance),wasRoot:this.scroll?this.scroll.isRoot:f}}}resetTransform(){if(!s)return;const u=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,d=this.projectionDelta&&!n1(this.projectionDelta),f=this.getTransformTemplate(),p=f?f(this.latestValues,""):void 0,g=p!==this.prevTransformTemplateValue;u&&(d||Ms(this.latestValues)||g)&&(s(this.instance,p),this.shouldResetTransform=!1,this.scheduleRender())}measure(u=!0){const d=this.measurePageBox();let f=this.removeElementScroll(d);return u&&(f=this.removeTransform(f)),W2(f),{animationId:this.root.animationId,measuredBox:d,layoutBox:f,latestValues:{},source:this.id}}measurePageBox(){var u;const{visualElement:d}=this.options;if(!d)return ft();const f=d.measureViewportBox();if(!(((u=this.scroll)===null||u===void 0?void 0:u.wasRoot)||this.path.some(q2))){const{scroll:g}=this.root;g&&(Ko(f.x,g.offset.x),Ko(f.y,g.offset.y))}return f}removeElementScroll(u){var d;const f=ft();if(Nn(f,u),!((d=this.scroll)===null||d===void 0)&&d.wasRoot)return f;for(let p=0;p<this.path.length;p++){const g=this.path[p],{scroll:_,options:E}=g;g!==this.root&&_&&E.layoutScroll&&(_.wasRoot&&Nn(f,u),Ko(f.x,_.offset.x),Ko(f.y,_.offset.y))}return f}applyTransform(u,d=!1){const f=ft();Nn(f,u);for(let p=0;p<this.path.length;p++){const g=this.path[p];!d&&g.options.layoutScroll&&g.scroll&&g!==g.root&&Qo(f,{x:-g.scroll.offset.x,y:-g.scroll.offset.y}),Ms(g.latestValues)&&Qo(f,g.latestValues)}return Ms(this.latestValues)&&Qo(f,this.latestValues),f}removeTransform(u){const d=ft();Nn(d,u);for(let f=0;f<this.path.length;f++){const p=this.path[f];if(!p.instance||!Ms(p.latestValues))continue;jp(p.latestValues)&&p.updateSnapshot();const g=ft(),_=p.measurePageBox();Nn(g,_),l0(d,p.latestValues,p.snapshot?p.snapshot.layoutBox:void 0,g)}return Ms(this.latestValues)&&l0(d,this.latestValues),d}setTargetDelta(u){this.targetDelta=u,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(u){this.options={...this.options,...u,crossfade:u.crossfade!==void 0?u.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==Mt.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(u=!1){var d;const f=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=f.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=f.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=f.isSharedProjectionDirty);const p=!!this.resumingFrom||this!==f;if(!(u||p&&this.isSharedProjectionDirty||this.isProjectionDirty||!((d=this.parent)===null||d===void 0)&&d.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:_,layoutId:E}=this.options;if(!(!this.layout||!(_||E))){if(this.resolvedRelativeTargetAt=Mt.timestamp,!this.targetDelta&&!this.relativeTarget){const I=this.getClosestProjectingParent();I&&I.layout&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Ll(this.relativeTargetOrigin,this.layout.layoutBox,I.layout.layoutBox),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=ft(),this.targetWithTransforms=ft()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),Qk(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Nn(this.target,this.layout.layoutBox),XT(this.target,this.targetDelta)):Nn(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const I=this.getClosestProjectingParent();I&&!!I.resumingFrom==!!this.resumingFrom&&!I.options.layoutScroll&&I.target&&this.animationProgress!==1?(this.relativeParent=I,this.forceRelativeParentToResolveTarget(),this.relativeTarget=ft(),this.relativeTargetOrigin=ft(),Ll(this.relativeTargetOrigin,this.target,I.target),Nn(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}Al&&Ls.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||jp(this.parent.latestValues)||QT(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var u;const d=this.getLead(),f=!!this.resumingFrom||this!==d;let p=!0;if((this.isProjectionDirty||!((u=this.parent)===null||u===void 0)&&u.isProjectionDirty)&&(p=!1),f&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(p=!1),this.resolvedRelativeTargetAt===Mt.timestamp&&(p=!1),p)return;const{layout:g,layoutId:_}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(g||_))return;Nn(this.layoutCorrected,this.layout.layoutBox);const E=this.treeScale.x,I=this.treeScale.y;i2(this.layoutCorrected,this.treeScale,this.path,f),d.layout&&!d.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(d.target=d.layout.layoutBox,d.targetWithTransforms=ft());const{target:V}=d;if(!V){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(s0(this.prevProjectionDelta.x,this.projectionDelta.x),s0(this.prevProjectionDelta.y,this.projectionDelta.y)),Ml(this.projectionDelta,this.layoutCorrected,V,this.latestValues),(this.treeScale.x!==E||this.treeScale.y!==I||!f0(this.projectionDelta.x,this.prevProjectionDelta.x)||!f0(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",V)),Al&&Ls.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(u=!0){var d;if((d=this.options.visualElement)===null||d===void 0||d.scheduleRender(),u){const f=this.getStack();f&&f.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=Go(),this.projectionDelta=Go(),this.projectionDeltaWithTransform=Go()}setAnimationOrigin(u,d=!1){const f=this.snapshot,p=f?f.latestValues:{},g={...this.latestValues},_=Go();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!d;const E=ft(),I=f?f.source:void 0,V=this.layout?this.layout.source:void 0,x=I!==V,k=this.getStack(),F=!k||k.members.length<=1,q=!!(x&&!F&&this.options.crossfade===!0&&!this.path.some($2));this.animationProgress=0;let H;this.mixTargetDelta=re=>{const Q=re/1e3;y0(_.x,u.x,Q),y0(_.y,u.y,Q),this.setTargetDelta(_),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Ll(E,this.layout.layoutBox,this.relativeParent.layout.layoutBox),z2(this.relativeTarget,this.relativeTargetOrigin,E,Q),H&&C2(this.relativeTarget,H)&&(this.isProjectionDirty=!1),H||(H=ft()),Nn(H,this.relativeTarget)),x&&(this.animationValues=g,w2(g,p,this.latestValues,Q,q,F)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=Q},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(u){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(Ki(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=et.update(()=>{nh.hasAnimatedSinceResize=!0,this.currentAnimation=p2(0,p0,{...u,onUpdate:d=>{this.mixTargetDelta(d),u.onUpdate&&u.onUpdate(d)},onComplete:()=>{u.onComplete&&u.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const u=this.getStack();u&&u.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(p0),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const u=this.getLead();let{targetWithTransforms:d,target:f,layout:p,latestValues:g}=u;if(!(!d||!f||!p)){if(this!==u&&this.layout&&p&&o1(this.options.animationType,this.layout.layoutBox,p.layoutBox)){f=this.target||ft();const _=En(this.layout.layoutBox.x);f.x.min=u.target.x.min,f.x.max=f.x.min+_;const E=En(this.layout.layoutBox.y);f.y.min=u.target.y.min,f.y.max=f.y.min+E}Nn(d,f),Qo(d,g),Ml(this.projectionDeltaWithTransform,this.layoutCorrected,d,g)}}registerSharedNode(u,d){this.sharedNodes.has(u)||this.sharedNodes.set(u,new A2),this.sharedNodes.get(u).add(d);const p=d.options.initialPromotionConfig;d.promote({transition:p?p.transition:void 0,preserveFollowOpacity:p&&p.shouldPreserveFollowOpacity?p.shouldPreserveFollowOpacity(d):void 0})}isLead(){const u=this.getStack();return u?u.lead===this:!0}getLead(){var u;const{layoutId:d}=this.options;return d?((u=this.getStack())===null||u===void 0?void 0:u.lead)||this:this}getPrevLead(){var u;const{layoutId:d}=this.options;return d?(u=this.getStack())===null||u===void 0?void 0:u.prevLead:void 0}getStack(){const{layoutId:u}=this.options;if(u)return this.root.sharedNodes.get(u)}promote({needsReset:u,transition:d,preserveFollowOpacity:f}={}){const p=this.getStack();p&&p.promote(this,f),u&&(this.projectionDelta=void 0,this.needsReset=!0),d&&this.setOptions({transition:d})}relegate(){const u=this.getStack();return u?u.relegate(this):!1}resetSkewAndRotation(){const{visualElement:u}=this.options;if(!u)return;let d=!1;const{latestValues:f}=u;if((f.z||f.rotate||f.rotateX||f.rotateY||f.rotateZ||f.skewX||f.skewY)&&(d=!0),!d)return;const p={};f.z&&lp("z",u,p,this.animationValues);for(let g=0;g<ap.length;g++)lp(`rotate${ap[g]}`,u,p,this.animationValues),lp(`skew${ap[g]}`,u,p,this.animationValues);u.render();for(const g in p)u.setStaticValue(g,p[g]),this.animationValues&&(this.animationValues[g]=p[g]);u.scheduleRender()}getProjectionStyles(u){var d,f;if(!this.instance||this.isSVG)return;if(!this.isVisible)return x2;const p={visibility:""},g=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,p.opacity="",p.pointerEvents=eh(u==null?void 0:u.pointerEvents)||"",p.transform=g?g(this.latestValues,""):"none",p;const _=this.getLead();if(!this.projectionDelta||!this.layout||!_.target){const x={};return this.options.layoutId&&(x.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,x.pointerEvents=eh(u==null?void 0:u.pointerEvents)||""),this.hasProjected&&!Ms(this.latestValues)&&(x.transform=g?g({},""):"none",this.hasProjected=!1),x}const E=_.animationValues||_.latestValues;this.applyTransformsToTarget(),p.transform=R2(this.projectionDeltaWithTransform,this.treeScale,E),g&&(p.transform=g(E,p.transform));const{x:I,y:V}=this.projectionDelta;p.transformOrigin=`${I.origin*100}% ${V.origin*100}% 0`,_.animationValues?p.opacity=_===this?(f=(d=E.opacity)!==null&&d!==void 0?d:this.latestValues.opacity)!==null&&f!==void 0?f:1:this.preserveOpacity?this.latestValues.opacity:E.opacityExit:p.opacity=_===this?E.opacity!==void 0?E.opacity:"":E.opacityExit!==void 0?E.opacityExit:0;for(const x in gh){if(E[x]===void 0)continue;const{correct:k,applyTo:F}=gh[x],q=p.transform==="none"?E[x]:k(E[x],_);if(F){const H=F.length;for(let re=0;re<H;re++)p[F[re]]=q}else p[x]=q}return this.options.layoutId&&(p.pointerEvents=_===this?eh(u==null?void 0:u.pointerEvents)||"":"none"),p}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(u=>{var d;return(d=u.currentAnimation)===null||d===void 0?void 0:d.stop()}),this.root.nodes.forEach(m0),this.root.sharedNodes.clear()}}}function N2(n){n.updateLayout()}function D2(n){var e;const t=((e=n.resumeFrom)===null||e===void 0?void 0:e.snapshot)||n.snapshot;if(n.isLead()&&n.layout&&t&&n.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:s}=n.layout,{animationType:a}=n.options,u=t.source!==n.layout.source;a==="size"?Dn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],I=En(E);E.min=r[_].min,E.max=E.min+I}):o1(a,t.layoutBox,r)&&Dn(_=>{const E=u?t.measuredBox[_]:t.layoutBox[_],I=En(r[_]);E.max=E.min+I,n.relativeTarget&&!n.currentAnimation&&(n.isProjectionDirty=!0,n.relativeTarget[_].max=n.relativeTarget[_].min+I)});const d=Go();Ml(d,r,t.layoutBox);const f=Go();u?Ml(f,n.applyTransform(s,!0),t.measuredBox):Ml(f,r,t.layoutBox);const p=!n1(d);let g=!1;if(!n.resumeFrom){const _=n.getClosestProjectingParent();if(_&&!_.resumeFrom){const{snapshot:E,layout:I}=_;if(E&&I){const V=ft();Ll(V,t.layoutBox,E.layoutBox);const x=ft();Ll(x,r,I.layoutBox),r1(V,x)||(g=!0),_.options.layoutRoot&&(n.relativeTarget=x,n.relativeTargetOrigin=V,n.relativeParent=_)}}}n.notifyListeners("didUpdate",{layout:r,snapshot:t,delta:f,layoutDelta:d,hasLayoutChanged:p,hasRelativeTargetChanged:g})}else if(n.isLead()){const{onExitComplete:r}=n.options;r&&r()}n.options.transition=void 0}function V2(n){Al&&Ls.totalNodes++,n.parent&&(n.isProjecting()||(n.isProjectionDirty=n.parent.isProjectionDirty),n.isSharedProjectionDirty||(n.isSharedProjectionDirty=!!(n.isProjectionDirty||n.parent.isProjectionDirty||n.parent.isSharedProjectionDirty)),n.isTransformDirty||(n.isTransformDirty=n.parent.isTransformDirty))}function b2(n){n.isProjectionDirty=n.isSharedProjectionDirty=n.isTransformDirty=!1}function M2(n){n.clearSnapshot()}function m0(n){n.clearMeasurements()}function L2(n){n.isLayoutDirty=!1}function O2(n){const{visualElement:e}=n.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),n.resetTransform()}function g0(n){n.finishAnimation(),n.targetDelta=n.relativeTarget=n.target=void 0,n.isProjectionDirty=!0}function j2(n){n.resolveTargetDelta()}function F2(n){n.calcProjection()}function U2(n){n.resetSkewAndRotation()}function B2(n){n.removeLeadSnapshot()}function y0(n,e,t){n.translate=st(e.translate,0,t),n.scale=st(e.scale,1,t),n.origin=e.origin,n.originPoint=e.originPoint}function v0(n,e,t,r){n.min=st(e.min,t.min,r),n.max=st(e.max,t.max,r)}function z2(n,e,t,r){v0(n.x,e.x,t.x,r),v0(n.y,e.y,t.y,r)}function $2(n){return n.animationValues&&n.animationValues.opacityExit!==void 0}const H2={duration:.45,ease:[.4,0,.1,1]},_0=n=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(n),w0=_0("applewebkit/")&&!_0("chrome/")?Math.round:wn;function E0(n){n.min=w0(n.min),n.max=w0(n.max)}function W2(n){E0(n.x),E0(n.y)}function o1(n,e,t){return n==="position"||n==="preserve-aspect"&&!Kk(d0(e),d0(t),.2)}function q2(n){var e;return n!==n.root&&((e=n.scroll)===null||e===void 0?void 0:e.wasRoot)}const G2=s1({attachResizeListener:(n,e)=>Ql(n,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),up={current:void 0},a1=s1({measureScroll:n=>({x:n.scrollLeft,y:n.scrollTop}),defaultParent:()=>{if(!up.current){const n=new G2({});n.mount(window),n.setOptions({layoutScroll:!0}),up.current=n}return up.current},resetTransform:(n,e)=>{n.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:n=>window.getComputedStyle(n).position==="fixed"}),K2={pan:{Feature:c2},drag:{Feature:u2,ProjectionNode:a1,MeasureLayout:ZT}};function T0(n,e,t){const{props:r}=n;n.animationState&&r.whileHover&&n.animationState.setActive("whileHover",t==="Start");const s="onHover"+t,a=r[s];a&&et.postRender(()=>a(e,fu(e)))}class Q2 extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=KR(e,t=>(T0(this.node,t,"Start"),r=>T0(this.node,r,"End"))))}unmount(){}}class X2 extends rs{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=du(Ql(this.node.current,"focus",()=>this.onFocus()),Ql(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function S0(n,e,t){const{props:r}=n;n.animationState&&r.whileTap&&n.animationState.setActive("whileTap",t==="Start");const s="onTap"+(t==="End"?"":t),a=r[s];a&&et.postRender(()=>a(e,fu(e)))}class Y2 extends rs{mount(){const{current:e}=this.node;e&&(this.unmount=JR(e,t=>(S0(this.node,t,"Start"),(r,{success:s})=>S0(this.node,r,s?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const Up=new WeakMap,cp=new WeakMap,J2=n=>{const e=Up.get(n.target);e&&e(n)},Z2=n=>{n.forEach(J2)};function eN({root:n,...e}){const t=n||document;cp.has(t)||cp.set(t,{});const r=cp.get(t),s=JSON.stringify(e);return r[s]||(r[s]=new IntersectionObserver(Z2,{root:n,...e})),r[s]}function tN(n,e,t){const r=eN(e);return Up.set(n,t),r.observe(n),()=>{Up.delete(n),r.unobserve(n)}}const nN={some:0,all:1};class rN extends rs{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:t,margin:r,amount:s="some",once:a}=e,u={root:t?t.current:void 0,rootMargin:r,threshold:typeof s=="number"?s:nN[s]},d=f=>{const{isIntersecting:p}=f;if(this.isInView===p||(this.isInView=p,a&&!p&&this.hasEnteredView))return;p&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",p);const{onViewportEnter:g,onViewportLeave:_}=this.node.getProps(),E=p?g:_;E&&E(f)};return tN(this.node.current,u,d)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:t}=this.node;["amount","margin","root"].some(iN(e,t))&&this.startObserver()}unmount(){}}function iN({viewport:n={}},{viewport:e={}}={}){return t=>n[t]!==e[t]}const sN={inView:{Feature:rN},tap:{Feature:Y2},focus:{Feature:X2},hover:{Feature:Q2}},oN={layout:{ProjectionNode:a1,MeasureLayout:ZT}},Bp={current:null},l1={current:!1};function aN(){if(l1.current=!0,!!Im)if(window.matchMedia){const n=window.matchMedia("(prefers-reduced-motion)"),e=()=>Bp.current=n.matches;n.addListener(e),e()}else Bp.current=!1}const lN=[...VT,qt,Qi],uN=n=>lN.find(DT(n)),I0=new WeakMap;function cN(n,e,t){for(const r in e){const s=e[r],a=t[r];if(Qt(s))n.addValue(r,s);else if(Qt(a))n.addValue(r,Gl(s,{owner:n}));else if(a!==s)if(n.hasValue(r)){const u=n.getValue(r);u.liveStyle===!0?u.jump(s):u.hasAnimated||u.set(s)}else{const u=n.getStaticValue(r);n.addValue(r,Gl(u!==void 0?u:s,{owner:n}))}}for(const r in t)e[r]===void 0&&n.removeValue(r);return e}const P0=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class hN{scrapeMotionValuesFromProps(e,t,r){return{}}constructor({parent:e,props:t,presenceContext:r,reducedMotionConfig:s,blockInitialAnimation:a,visualState:u},d={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=Ym,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const I=vr.now();this.renderScheduledAt<I&&(this.renderScheduledAt=I,et.render(this.render,!1,!0))};const{latestValues:f,renderState:p,onUpdate:g}=u;this.onUpdate=g,this.latestValues=f,this.baseTarget={...f},this.initialValues=t.initial?{...f}:{},this.renderState=p,this.parent=e,this.props=t,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=s,this.options=d,this.blockInitialAnimation=!!a,this.isControllingVariants=Kh(t),this.isVariantNode=BE(t),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:_,...E}=this.scrapeMotionValuesFromProps(t,{},this);for(const I in E){const V=E[I];f[I]!==void 0&&Qt(V)&&V.set(f[I],!1)}}mount(e){this.current=e,I0.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((t,r)=>this.bindToMotionValue(r,t)),l1.current||aN(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:Bp.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){I0.delete(this.current),this.projection&&this.projection.unmount(),Ki(this.notifyUpdate),Ki(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const t=this.features[e];t&&(t.unmount(),t.isMounted=!1)}this.current=null}bindToMotionValue(e,t){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Ks.has(e),s=t.on("change",d=>{this.latestValues[e]=d,this.props.onUpdate&&et.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),a=t.on("renderRequest",this.scheduleRender);let u;window.MotionCheckAppearSync&&(u=window.MotionCheckAppearSync(this,e,t)),this.valueSubscriptions.set(e,()=>{s(),a(),u&&u(),t.owner&&t.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in ia){const t=ia[e];if(!t)continue;const{isEnabled:r,Feature:s}=t;if(!this.features[e]&&s&&r(this.props)&&(this.features[e]=new s(this)),this.features[e]){const a=this.features[e];a.isMounted?a.update():(a.mount(),a.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):ft()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,t){this.latestValues[e]=t}update(e,t){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=t;for(let r=0;r<P0.length;r++){const s=P0[r];this.propEventSubscriptions[s]&&(this.propEventSubscriptions[s](),delete this.propEventSubscriptions[s]);const a="on"+s,u=e[a];u&&(this.propEventSubscriptions[s]=this.on(s,u))}this.prevMotionValues=cN(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const t=this.getClosestVariantNode();if(t)return t.variantChildren&&t.variantChildren.add(e),()=>t.variantChildren.delete(e)}addValue(e,t){const r=this.values.get(e);t!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,t),this.values.set(e,t),this.latestValues[e]=t.get())}removeValue(e){this.values.delete(e);const t=this.valueSubscriptions.get(e);t&&(t(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,t){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&t!==void 0&&(r=Gl(t===null?void 0:t,{owner:this}),this.addValue(e,r)),r}readValue(e,t){var r;let s=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return s!=null&&(typeof s=="string"&&(kT(s)||ET(s))?s=parseFloat(s):!uN(s)&&Qi.test(t)&&(s=AT(e,t)),this.setBaseTarget(e,Qt(s)?s.get():s)),Qt(s)?s.get():s}setBaseTarget(e,t){this.baseTarget[e]=t}getBaseTarget(e){var t;const{initial:r}=this.props;let s;if(typeof r=="string"||typeof r=="object"){const u=Nm(this.props,r,(t=this.presenceContext)===null||t===void 0?void 0:t.custom);u&&(s=u[e])}if(r&&s!==void 0)return s;const a=this.getBaseTargetFromProps(this.props,e);return a!==void 0&&!Qt(a)?a:this.initialValues[e]!==void 0&&s===void 0?void 0:this.baseTarget[e]}on(e,t){return this.events[e]||(this.events[e]=new Wm),this.events[e].add(t)}notify(e,...t){this.events[e]&&this.events[e].notify(...t)}}class u1 extends hN{constructor(){super(...arguments),this.KeyframeResolver=bT}sortInstanceNodePosition(e,t){return e.compareDocumentPosition(t)&2?1:-1}getBaseTargetFromProps(e,t){return e.style?e.style[t]:void 0}removeValueFromRenderState(e,{vars:t,style:r}){delete t[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;Qt(e)&&(this.childSubscription=e.on("change",t=>{this.current&&(this.current.textContent=`${t}`)}))}}function dN(n){return window.getComputedStyle(n)}class fN extends u1{constructor(){super(...arguments),this.type="html",this.renderInstance=XE}readValueFromInstance(e,t){if(Ks.has(t)){const r=Xm(t);return r&&r.default||0}else{const r=dN(e),s=(GE(t)?r.getPropertyValue(t):r[t])||0;return typeof s=="string"?s.trim():s}}measureInstanceViewportBox(e,{transformPagePoint:t}){return YT(e,t)}build(e,t,r){bm(e,t,r.transformTemplate)}scrapeMotionValuesFromProps(e,t,r){return jm(e,t,r)}}class pN extends u1{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=ft}getBaseTargetFromProps(e,t){return e[t]}readValueFromInstance(e,t){if(Ks.has(t)){const r=Xm(t);return r&&r.default||0}return t=YE.has(t)?t:Rm(t),e.getAttribute(t)}scrapeMotionValuesFromProps(e,t,r){return eT(e,t,r)}build(e,t,r){Mm(e,t,this.isSVGTag,r.transformTemplate)}renderInstance(e,t,r,s){JE(e,t,r,s)}mount(e){this.isSVGTag=Om(e.tagName),super.mount(e)}}const mN=(n,e)=>km(n)?new pN(e):new fN(e,{allowProjection:n!==O.Fragment}),gN=BR({...Fk,...sN,...K2,...oN},mN),bn=nR(gN),C0=["linear-gradient(135deg, #667eea 0%, #764ba2 100%)","linear-gradient(135deg, #f093fb 0%, #f5576c 100%)","linear-gradient(135deg, #4facfe 0%, #00f2fe 100%)","linear-gradient(135deg, #43e97b 0%, #38f9d7 100%)","linear-gradient(135deg, #fa709a 0%, #fee140 100%)","linear-gradient(135deg, #a18cd1 0%, #fbc2eb 100%)"];function yN({restaurant:n,menuCount:e}){var a;const t=n.id.charCodeAt(0)%C0.length,r=C0[t],s={hidden:{opacity:0,y:20},visible:{opacity:1,y:0,transition:{duration:.4}}};return T.jsx(bn.div,{className:"restaurant-card glass-card",variants:s,whileHover:{scale:1.02},whileTap:{scale:.98},children:T.jsxs(un,{to:`/quan/${n.id}`,className:"card-link",children:[T.jsxs("div",{className:"card-image",style:{background:n.imageUrl?`url(${n.imageUrl}) center/cover`:r},children:[T.jsx("div",{className:"card-tags",children:(a=n.categories)==null?void 0:a.slice(0,2).map((u,d)=>T.jsx("span",{className:"card-tag",children:u},d))}),T.jsxs("div",{className:"menu-badge",children:[T.jsx(NA,{size:14}),T.jsxs("span",{children:[e," mn"]})]})]}),T.jsxs("div",{className:"card-content",children:[T.jsx("h3",{className:"card-title",children:n.name}),T.jsxs("div",{className:"card-info",children:[T.jsx(Hh,{size:14}),T.jsx("span",{children:n.address||"Cha cp nht a ch"})]}),n.phone&&T.jsxs("div",{className:"card-info",children:[T.jsx(Wh,{size:14}),T.jsx("span",{children:n.phone})]}),T.jsxs("div",{className:"card-cta",children:[T.jsx("span",{children:"Xem menu"}),T.jsx(kA,{size:16})]})]})]})})}const A0=[{id:"all",label:"Tt c",emoji:""},{id:"do-an-vat",label:" n vt",emoji:""},{id:"ga",label:"G",emoji:""},{id:"my-pho",label:"M/Ph",emoji:""},{id:"com",label:"Cm",emoji:""},{id:"lau",label:"Lu",emoji:""},{id:"do-uong",label:" ung",emoji:""}],R0=[{id:"all",label:"Tt c gi"},{id:"under-30k",label:"Di 30k",max:3e4},{id:"30k-50k",label:"30k - 50k",min:3e4,max:5e4},{id:"over-50k",label:"Trn 50k",min:5e4}];function vN({restaurants:n,menuItems:e,loading:t,searchQuery:r}){const[s,a]=O.useState("all"),[u,d]=O.useState("all"),[f,p]=O.useState(!1),g=O.useMemo(()=>{var V;let I=[...n];if(r.trim()){const x=r.toLowerCase(),k=I.filter(H=>{var re;return H.name.toLowerCase().includes(x)||((re=H.address)==null?void 0:re.toLowerCase().includes(x))}),F=I.filter(H=>e.filter(Q=>Q.restaurantId===H.id).some(Q=>Q.name.toLowerCase().includes(x))),q=new Map;k.forEach(H=>q.set(H.id,H)),F.forEach(H=>q.set(H.id,H)),I=Array.from(q.values())}if(s!=="all"){const x=(V=A0.find(k=>k.id===s))==null?void 0:V.label;x&&(I=I.filter(k=>{var F;return(F=k.categories)==null?void 0:F.some(q=>q.toLowerCase().includes(x.toLowerCase()))}))}if(u!=="all"){const x=R0.find(k=>k.id===u);x&&(I=I.filter(k=>e.filter(q=>q.restaurantId===k.id).some(q=>x.min&&x.max?q.price>=x.min&&q.price<=x.max:x.min?q.price>=x.min:x.max?q.price<=x.max:!0)))}return I},[n,e,r,s,u]),_=I=>e.filter(V=>V.restaurantId===I).length,E={hidden:{opacity:0},visible:{opacity:1,transition:{staggerChildren:.1}}};return T.jsxs("div",{className:"home-page",children:[T.jsx("section",{className:"hero",children:T.jsx("div",{className:"container",children:T.jsxs(bn.div,{className:"hero-content",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.6},children:[T.jsxs("h1",{className:"hero-title",children:[T.jsx("span",{className:"gradient-text",children:"i n G?"})," "]}),T.jsx("p",{className:"hero-subtitle",children:"Khm ph m thc Ninh Bnh - Tm qun ngon, xem menu, t mn d dng!"}),T.jsxs("div",{className:"hero-stats",children:[T.jsxs("div",{className:"stat-item",children:[T.jsx($A,{size:20}),T.jsxs("span",{children:[T.jsx("strong",{children:n.length})," qun n"]})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx(BA,{size:20}),T.jsxs("span",{children:[T.jsx("strong",{children:e.length})," mn n"]})]}),T.jsxs("div",{className:"stat-item",children:[T.jsx(CE,{size:20}),T.jsxs("span",{children:["Cp nht ",T.jsx("strong",{children:"24/7"})]})]})]})]})})}),T.jsx("section",{className:"categories-section",children:T.jsxs("div",{className:"container",children:[T.jsx("div",{className:"categories-scroll",children:A0.map(I=>T.jsxs("button",{className:`category-btn ${s===I.id?"active":""}`,onClick:()=>a(I.id),children:[T.jsx("span",{className:"category-emoji",children:I.emoji}),T.jsx("span",{children:I.label})]},I.id))}),T.jsxs("button",{className:`filter-toggle ${f?"active":""}`,onClick:()=>p(!f),children:[T.jsx(bA,{size:18}),"B lc"]}),f&&T.jsx(bn.div,{className:"filters-panel",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},exit:{opacity:0,height:0},children:T.jsxs("div",{className:"filter-group",children:[T.jsx("label",{children:"Khong gi:"}),T.jsx("div",{className:"filter-options",children:R0.map(I=>T.jsx("button",{className:`filter-option ${u===I.id?"active":""}`,onClick:()=>d(I.id),children:I.label},I.id))})]})})]})}),T.jsx("section",{className:"restaurants-section",children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"section-header",children:[T.jsx("h2",{children:r?T.jsxs(T.Fragment,{children:['Kt qu cho "',T.jsx("span",{className:"gradient-text",children:r}),'"']}):T.jsxs(T.Fragment,{children:[" Qun n ",T.jsx("span",{className:"gradient-text",children:"ni bt"})]})}),T.jsxs("span",{className:"result-count",children:[g.length," qun"]})]}),t?T.jsx("div",{className:"loading-grid",children:[1,2,3,4].map(I=>T.jsxs("div",{className:"skeleton-card",children:[T.jsx("div",{className:"skeleton skeleton-image"}),T.jsxs("div",{className:"skeleton-content",children:[T.jsx("div",{className:"skeleton skeleton-title"}),T.jsx("div",{className:"skeleton skeleton-text"}),T.jsx("div",{className:"skeleton skeleton-text short"})]})]},I))}):g.length>0?T.jsx(bn.div,{className:"restaurants-grid",variants:E,initial:"hidden",animate:"visible",children:g.map(I=>T.jsx(yN,{restaurant:I,menuCount:_(I.id)},I.id))}):T.jsxs("div",{className:"empty-state",children:[T.jsx("span",{className:"empty-emoji",children:""}),T.jsx("h3",{children:"Khng tm thy qun n"}),T.jsx("p",{children:"Th thay i b lc hoc t kha tm kim nh!"}),T.jsx("button",{className:"btn btn-primary",onClick:()=>{a("all"),d("all")},children:"Xa b lc"})]})]})})]})}const _N=n=>new Intl.NumberFormat("vi-VN",{style:"currency",currency:"VND"}).format(n);function wN({restaurants:n,menuItems:e,loading:t}){var d;const{id:r}=DC(),s=n.find(f=>f.id===r),a=e.filter(f=>f.restaurantId===r),u=a.reduce((f,p)=>{const g=p.category||"Khc";return f[g]||(f[g]=[]),f[g].push(p),f},{});return t?T.jsx("div",{className:"restaurant-page",children:T.jsx("div",{className:"container",children:T.jsxs("div",{className:"loading-detail",children:[T.jsx("div",{className:"skeleton skeleton-header"}),T.jsx("div",{className:"skeleton skeleton-content"})]})})}):s?T.jsxs("div",{className:"restaurant-page",children:[T.jsx(bn.div,{className:"restaurant-hero",initial:{opacity:0},animate:{opacity:1},style:{background:s.imageUrl?`linear-gradient(rgba(0,0,0,0.6), rgba(15,15,35,1)), url(${s.imageUrl}) center/cover`:"linear-gradient(135deg, #667eea 0%, #764ba2 100%)"},children:T.jsxs("div",{className:"container",children:[T.jsxs(un,{to:"/",className:"back-link",children:[T.jsx(Pp,{size:20}),T.jsx("span",{children:"Quay li"})]}),T.jsxs(bn.div,{className:"hero-info",initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{delay:.2},children:[T.jsx("div",{className:"hero-tags",children:(d=s.categories)==null?void 0:d.map((f,p)=>T.jsx("span",{className:"hero-tag",children:f},p))}),T.jsx("h1",{className:"hero-title",children:s.name}),T.jsxs("div",{className:"hero-meta",children:[T.jsxs("div",{className:"meta-item",children:[T.jsx(Hh,{size:16}),T.jsx("span",{children:s.address||"Cha cp nht"})]}),s.phone&&T.jsxs("a",{href:`tel:${s.phone}`,className:"meta-item phone-link",children:[T.jsx(Wh,{size:16}),T.jsx("span",{children:s.phone})]}),T.jsxs("div",{className:"meta-item",children:[T.jsx(CE,{size:16}),T.jsx("span",{children:s.openTime&&s.closeTime?`${s.openTime} - ${s.closeTime}`:"Lin h  bit gi m ca"})]})]})]})]})}),T.jsx("section",{className:"menu-section",children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"menu-header",children:[T.jsxs("h2",{children:[" Menu ",T.jsx("span",{className:"gradient-text",children:s.name})]}),T.jsxs("span",{className:"menu-count",children:[a.length," mn"]})]}),Object.keys(u).length>0?Object.entries(u).map(([f,p])=>T.jsxs(bn.div,{className:"menu-category",initial:{opacity:0,y:20},whileInView:{opacity:1,y:0},viewport:{once:!0},children:[T.jsx("h3",{className:"category-title",children:f}),T.jsx("div",{className:"menu-items",children:p.map(g=>T.jsxs("div",{className:"menu-item glass-card",children:[g.imageUrl&&T.jsx("div",{className:"item-image",style:{backgroundImage:`url(${g.imageUrl})`}}),T.jsxs("div",{className:"item-content",children:[T.jsxs("div",{className:"item-header",children:[T.jsxs("h4",{className:"item-name",children:[g.isPopular&&T.jsx(UA,{size:14,className:"popular-icon"}),g.name]}),T.jsx("span",{className:"item-price price",children:_N(g.price)})]}),g.description&&T.jsx("p",{className:"item-desc",children:g.description}),!g.isAvailable&&T.jsx("span",{className:"unavailable-badge",children:"Ht mn"})]})]},g.id))})]},f)):T.jsxs("div",{className:"empty-menu",children:[T.jsx("span",{className:"empty-emoji",children:""}),T.jsx("h3",{children:"Cha c menu"}),T.jsx("p",{children:"Menu ca qun ang c cp nht, vui lng quay li sau nh!"})]})]})})]}):T.jsx("div",{className:"restaurant-page",children:T.jsx("div",{className:"container",children:T.jsxs("div",{className:"not-found",children:[T.jsx("span",{className:"not-found-emoji",children:""}),T.jsx("h2",{children:"Khng tm thy qun n"}),T.jsx("p",{children:"Qun n ny c th  b xa hoc khng tn ti."}),T.jsxs(un,{to:"/",className:"btn btn-primary",children:[T.jsx(Pp,{size:18}),"V trang ch"]})]})})})}const EN=()=>{};var x0={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const c1=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},TN=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],u=n[t++],d=n[t++],f=((s&7)<<18|(a&63)<<12|(u&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],u=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|u&63)}}return e.join("")},h1={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],u=s+1<n.length,d=u?n[s+1]:0,f=s+2<n.length,p=f?n[s+2]:0,g=a>>2,_=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,I=p&63;f||(I=64,u||(E=64)),r.push(t[g],t[_],t[E],t[I])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(c1(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):TN(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],d=s<n.length?t[n.charAt(s)]:0;++s;const p=s<n.length?t[n.charAt(s)]:64;++s;const _=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||d==null||p==null||_==null)throw new SN;const E=a<<2|d>>4;if(r.push(E),p!==64){const I=d<<4&240|p>>2;if(r.push(I),_!==64){const V=p<<6&192|_;r.push(V)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class SN extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const IN=function(n){const e=c1(n);return h1.encodeByteArray(e,!0)},Th=function(n){return IN(n).replace(/\./g,"")},d1=function(n){try{return h1.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PN(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CN=()=>PN().__FIREBASE_DEFAULTS__,AN=()=>{if(typeof process>"u"||typeof x0>"u")return;const n=x0.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},RN=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&d1(n[1]);return e&&JSON.parse(e)},Yh=()=>{try{return EN()||CN()||AN()||RN()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},f1=n=>{var e,t;return(t=(e=Yh())==null?void 0:e.emulatorHosts)==null?void 0:t[n]},xN=n=>{const e=f1(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},p1=()=>{var n;return(n=Yh())==null?void 0:n.config},m1=n=>{var e;return(e=Yh())==null?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kN{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wa(n){try{return(n.startsWith("http://")||n.startsWith("https://")?new URL(n).hostname:n).endsWith(".cloudworkstations.dev")}catch{return!1}}async function g1(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const u={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...n};return[Th(JSON.stringify(t)),Th(JSON.stringify(u)),""].join(".")}const Ol={};function DN(){const n={prod:[],emulator:[]};for(const e of Object.keys(Ol))Ol[e]?n.emulator.push(e):n.prod.push(e);return n}function VN(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let k0=!1;function y1(n,e){if(typeof window>"u"||typeof document>"u"||!wa(window.location.host)||Ol[n]===e||Ol[n]||k0)return;Ol[n]=e;function t(E){return`__firebase__banner__${E}`}const r="__firebase__banner",a=DN().prod.length>0;function u(){const E=document.getElementById(r);E&&E.remove()}function d(E){E.style.display="flex",E.style.background="#7faaf0",E.style.position="fixed",E.style.bottom="5px",E.style.left="5px",E.style.padding=".5em",E.style.borderRadius="5px",E.style.alignItems="center"}function f(E,I){E.setAttribute("width","24"),E.setAttribute("id",I),E.setAttribute("height","24"),E.setAttribute("viewBox","0 0 24 24"),E.setAttribute("fill","none"),E.style.marginLeft="-6px"}function p(){const E=document.createElement("span");return E.style.cursor="pointer",E.style.marginLeft="16px",E.style.fontSize="24px",E.innerHTML=" &times;",E.onclick=()=>{k0=!0,u()},E}function g(E,I){E.setAttribute("id",I),E.innerText="Learn more",E.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",E.setAttribute("target","__blank"),E.style.paddingLeft="5px",E.style.textDecoration="underline"}function _(){const E=VN(r),I=t("text"),V=document.getElementById(I)||document.createElement("span"),x=t("learnmore"),k=document.getElementById(x)||document.createElement("a"),F=t("preprendIcon"),q=document.getElementById(F)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(E.created){const H=E.element;d(H),g(k,x);const re=p();f(q,F),H.append(q,V,k,re),document.body.appendChild(H)}a?(V.innerText="Preview backend disconnected.",q.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(q.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,V.innerText="Preview backend running in this workspace."),V.setAttribute("id",I)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",_):_()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function bN(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Xt())}function MN(){var e;const n=(e=Yh())==null?void 0:e.forceEnvironment;if(n==="node")return!0;if(n==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function LN(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function ON(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jN(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function FN(){const n=Xt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function UN(){return!MN()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function BN(){try{return typeof indexedDB=="object"}catch{return!1}}function zN(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)==null?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $N="FirebaseError";class ri extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=$N,Object.setPrototypeOf(this,ri.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,pu.prototype.create)}}class pu{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],u=a?HN(a,r):"Error",d=`${this.serviceName}: ${u} (${s}).`;return new ri(s,d,r)}}function HN(n,e){return n.replace(WN,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const WN=/\{\$([^}]+)}/g;function qN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function zs(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],u=e[s];if(N0(a)&&N0(u)){if(!zs(a,u))return!1}else if(a!==u)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function N0(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mu(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Rl(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,a]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(a)}}),e}function xl(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function GN(n,e){const t=new KN(n,e);return t.subscribe.bind(t)}class KN{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let s;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");QN(e,["next","error","complete"])?s=e:s={next:e,error:t,complete:r},s.next===void 0&&(s.next=hp),s.error===void 0&&(s.error=hp),s.complete===void 0&&(s.complete=hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function QN(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jt(n){return n&&n._delegate?n._delegate:n}class $s{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Os="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XN{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new kN;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){const t=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(t)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:t})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(JN(e))try{this.getOrInitializeService({instanceIdentifier:Os})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Os){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Os){return this.instances.has(e)}getOptions(e=Os){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,u]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&u.resolve(s)}return s}onInit(e,t){const r=this.normalizeInstanceIdentifier(t),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const a=this.instances.get(r);return a&&e(a,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:YN(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Os){return this.component?this.component.multipleInstances?e:Os:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function YN(n){return n===Os?void 0:n}function JN(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZN{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new XN(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(De||(De={}));const eD={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},tD=De.INFO,nD={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},rD=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=nD[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class tg{constructor(e){this.name=e,this._logLevel=tD,this._logHandler=rD,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?eD[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const iD=(n,e)=>e.some(t=>n instanceof t);let D0,V0;function sD(){return D0||(D0=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oD(){return V0||(V0=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const v1=new WeakMap,zp=new WeakMap,_1=new WeakMap,dp=new WeakMap,ng=new WeakMap;function aD(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",u)},a=()=>{t(Bi(n.result)),s()},u=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",u)});return e.then(t=>{t instanceof IDBCursor&&v1.set(t,n)}).catch(()=>{}),ng.set(e,n),e}function lD(n){if(zp.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",u),n.removeEventListener("abort",u)},a=()=>{t(),s()},u=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",u),n.addEventListener("abort",u)});zp.set(n,e)}let $p={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return zp.get(n);if(e==="objectStoreNames")return n.objectStoreNames||_1.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Bi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function uD(n){$p=n($p)}function cD(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(fp(this),e,...t);return _1.set(r,e.sort?e.sort():[e]),Bi(r)}:oD().includes(n)?function(...e){return n.apply(fp(this),e),Bi(v1.get(this))}:function(...e){return Bi(n.apply(fp(this),e))}}function hD(n){return typeof n=="function"?cD(n):(n instanceof IDBTransaction&&lD(n),iD(n,sD())?new Proxy(n,$p):n)}function Bi(n){if(n instanceof IDBRequest)return aD(n);if(dp.has(n))return dp.get(n);const e=hD(n);return e!==n&&(dp.set(n,e),ng.set(e,n)),e}const fp=n=>ng.get(n);function dD(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const u=indexedDB.open(n,e),d=Bi(u);return r&&u.addEventListener("upgradeneeded",f=>{r(Bi(u.result),f.oldVersion,f.newVersion,Bi(u.transaction),f)}),t&&u.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",p=>s(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const fD=["get","getKey","getAll","getAllKeys","count"],pD=["put","add","delete","clear"],pp=new Map;function b0(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(pp.get(e))return pp.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=pD.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||fD.includes(t)))return;const a=async function(u,...d){const f=this.transaction(u,s?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[t](...d),s&&f.done]))[0]};return pp.set(e,a),a}uD(n=>({...n,get:(e,t,r)=>b0(e,t)||n.get(e,t,r),has:(e,t)=>!!b0(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(gD(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function gD(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Hp="@firebase/app",M0="0.14.6";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zr=new tg("@firebase/app"),yD="@firebase/app-compat",vD="@firebase/analytics-compat",_D="@firebase/analytics",wD="@firebase/app-check-compat",ED="@firebase/app-check",TD="@firebase/auth",SD="@firebase/auth-compat",ID="@firebase/database",PD="@firebase/data-connect",CD="@firebase/database-compat",AD="@firebase/functions",RD="@firebase/functions-compat",xD="@firebase/installations",kD="@firebase/installations-compat",ND="@firebase/messaging",DD="@firebase/messaging-compat",VD="@firebase/performance",bD="@firebase/performance-compat",MD="@firebase/remote-config",LD="@firebase/remote-config-compat",OD="@firebase/storage",jD="@firebase/storage-compat",FD="@firebase/firestore",UD="@firebase/ai",BD="@firebase/firestore-compat",zD="firebase",$D="12.6.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wp="[DEFAULT]",HD={[Hp]:"fire-core",[yD]:"fire-core-compat",[_D]:"fire-analytics",[vD]:"fire-analytics-compat",[ED]:"fire-app-check",[wD]:"fire-app-check-compat",[TD]:"fire-auth",[SD]:"fire-auth-compat",[ID]:"fire-rtdb",[PD]:"fire-data-connect",[CD]:"fire-rtdb-compat",[AD]:"fire-fn",[RD]:"fire-fn-compat",[xD]:"fire-iid",[kD]:"fire-iid-compat",[ND]:"fire-fcm",[DD]:"fire-fcm-compat",[VD]:"fire-perf",[bD]:"fire-perf-compat",[MD]:"fire-rc",[LD]:"fire-rc-compat",[OD]:"fire-gcs",[jD]:"fire-gcs-compat",[FD]:"fire-fst",[BD]:"fire-fst-compat",[UD]:"fire-vertex","fire-js":"fire-js",[zD]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sh=new Map,WD=new Map,qp=new Map;function L0(n,e){try{n.container.addComponent(e)}catch(t){Zr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function oa(n){const e=n.name;if(qp.has(e))return Zr.debug(`There were multiple attempts to register component ${e}.`),!1;qp.set(e,n);for(const t of Sh.values())L0(t,n);for(const t of WD.values())L0(t,n);return!0}function rg(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Gn(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qD={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},zi=new pu("app","Firebase",qD);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GD{constructor(e,t,r){this._isDeleted=!1,this._options={...e},this._config={...t},this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new $s("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw zi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ea=$D;function w1(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r={name:Wp,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw zi.create("bad-app-name",{appName:String(s)});if(t||(t=p1()),!t)throw zi.create("no-options");const a=Sh.get(s);if(a){if(zs(t,a.options)&&zs(r,a.config))return a;throw zi.create("duplicate-app",{appName:s})}const u=new ZN(s);for(const f of qp.values())u.addComponent(f);const d=new GD(t,r,u);return Sh.set(s,d),d}function E1(n=Wp){const e=Sh.get(n);if(!e&&n===Wp&&p1())return w1();if(!e)throw zi.create("no-app",{appName:n});return e}function $i(n,e,t){let r=HD[n]??n;t&&(r+=`-${t}`);const s=r.match(/\s|\//),a=e.match(/\s|\//);if(s||a){const u=[`Unable to register library "${r}" with version "${e}":`];s&&u.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&a&&u.push("and"),a&&u.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Zr.warn(u.join(" "));return}oa(new $s(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KD="firebase-heartbeat-database",QD=1,Xl="firebase-heartbeat-store";let mp=null;function T1(){return mp||(mp=dD(KD,QD,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Xl)}catch(t){console.warn(t)}}}}).catch(n=>{throw zi.create("idb-open",{originalErrorMessage:n.message})})),mp}async function XD(n){try{const t=(await T1()).transaction(Xl),r=await t.objectStore(Xl).get(S1(n));return await t.done,r}catch(e){if(e instanceof ri)Zr.warn(e.message);else{const t=zi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Zr.warn(t.message)}}}async function O0(n,e){try{const r=(await T1()).transaction(Xl,"readwrite");await r.objectStore(Xl).put(e,S1(n)),await r.done}catch(t){if(t instanceof ri)Zr.warn(t.message);else{const r=zi.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});Zr.warn(r.message)}}}function S1(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YD=1024,JD=30;class ZD{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new tV(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=j0();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)==null?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(u=>u.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>JD){const u=nV(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(u,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Zr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=j0(),{heartbeatsToSend:r,unsentEntries:s}=eV(this._heartbeatsCache.heartbeats),a=Th(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return Zr.warn(t),""}}}function j0(){return new Date().toISOString().substring(0,10)}function eV(n,e=YD){const t=[];let r=n.slice();for(const s of n){const a=t.find(u=>u.agent===s.agent);if(a){if(a.dates.push(s.date),F0(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),F0(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class tV{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return BN()?zN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await XD(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return O0(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function F0(n){return Th(JSON.stringify({version:2,heartbeats:n})).length}function nV(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rV(n){oa(new $s("platform-logger",e=>new mD(e),"PRIVATE")),oa(new $s("heartbeat",e=>new ZD(e),"PRIVATE")),$i(Hp,M0,n),$i(Hp,M0,"esm2020"),$i("fire-js","")}rV("");var iV="firebase",sV="12.7.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$i(iV,sV,"app");var U0=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Hi,I1;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(D,A){function P(){}P.prototype=A.prototype,D.F=A.prototype,D.prototype=new P,D.prototype.constructor=D,D.D=function(b,M,U){for(var N=Array(arguments.length-2),He=2;He<arguments.length;He++)N[He-2]=arguments[He];return A.prototype[M].apply(b,N)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,t),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(D,A,P){P||(P=0);const b=Array(16);if(typeof A=="string")for(var M=0;M<16;++M)b[M]=A.charCodeAt(P++)|A.charCodeAt(P++)<<8|A.charCodeAt(P++)<<16|A.charCodeAt(P++)<<24;else for(M=0;M<16;++M)b[M]=A[P++]|A[P++]<<8|A[P++]<<16|A[P++]<<24;A=D.g[0],P=D.g[1],M=D.g[2];let U=D.g[3],N;N=A+(U^P&(M^U))+b[0]+3614090360&4294967295,A=P+(N<<7&4294967295|N>>>25),N=U+(M^A&(P^M))+b[1]+3905402710&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(P^U&(A^P))+b[2]+606105819&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(A^M&(U^A))+b[3]+3250441966&4294967295,P=M+(N<<22&4294967295|N>>>10),N=A+(U^P&(M^U))+b[4]+4118548399&4294967295,A=P+(N<<7&4294967295|N>>>25),N=U+(M^A&(P^M))+b[5]+1200080426&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(P^U&(A^P))+b[6]+2821735955&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(A^M&(U^A))+b[7]+4249261313&4294967295,P=M+(N<<22&4294967295|N>>>10),N=A+(U^P&(M^U))+b[8]+1770035416&4294967295,A=P+(N<<7&4294967295|N>>>25),N=U+(M^A&(P^M))+b[9]+2336552879&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(P^U&(A^P))+b[10]+4294925233&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(A^M&(U^A))+b[11]+2304563134&4294967295,P=M+(N<<22&4294967295|N>>>10),N=A+(U^P&(M^U))+b[12]+1804603682&4294967295,A=P+(N<<7&4294967295|N>>>25),N=U+(M^A&(P^M))+b[13]+4254626195&4294967295,U=A+(N<<12&4294967295|N>>>20),N=M+(P^U&(A^P))+b[14]+2792965006&4294967295,M=U+(N<<17&4294967295|N>>>15),N=P+(A^M&(U^A))+b[15]+1236535329&4294967295,P=M+(N<<22&4294967295|N>>>10),N=A+(M^U&(P^M))+b[1]+4129170786&4294967295,A=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(A^P))+b[6]+3225465664&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^P&(U^A))+b[11]+643717713&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^A&(M^U))+b[0]+3921069994&4294967295,P=M+(N<<20&4294967295|N>>>12),N=A+(M^U&(P^M))+b[5]+3593408605&4294967295,A=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(A^P))+b[10]+38016083&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^P&(U^A))+b[15]+3634488961&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^A&(M^U))+b[4]+3889429448&4294967295,P=M+(N<<20&4294967295|N>>>12),N=A+(M^U&(P^M))+b[9]+568446438&4294967295,A=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(A^P))+b[14]+3275163606&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^P&(U^A))+b[3]+4107603335&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^A&(M^U))+b[8]+1163531501&4294967295,P=M+(N<<20&4294967295|N>>>12),N=A+(M^U&(P^M))+b[13]+2850285829&4294967295,A=P+(N<<5&4294967295|N>>>27),N=U+(P^M&(A^P))+b[2]+4243563512&4294967295,U=A+(N<<9&4294967295|N>>>23),N=M+(A^P&(U^A))+b[7]+1735328473&4294967295,M=U+(N<<14&4294967295|N>>>18),N=P+(U^A&(M^U))+b[12]+2368359562&4294967295,P=M+(N<<20&4294967295|N>>>12),N=A+(P^M^U)+b[5]+4294588738&4294967295,A=P+(N<<4&4294967295|N>>>28),N=U+(A^P^M)+b[8]+2272392833&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^P)+b[11]+1839030562&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^A)+b[14]+4259657740&4294967295,P=M+(N<<23&4294967295|N>>>9),N=A+(P^M^U)+b[1]+2763975236&4294967295,A=P+(N<<4&4294967295|N>>>28),N=U+(A^P^M)+b[4]+1272893353&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^P)+b[7]+4139469664&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^A)+b[10]+3200236656&4294967295,P=M+(N<<23&4294967295|N>>>9),N=A+(P^M^U)+b[13]+681279174&4294967295,A=P+(N<<4&4294967295|N>>>28),N=U+(A^P^M)+b[0]+3936430074&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^P)+b[3]+3572445317&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^A)+b[6]+76029189&4294967295,P=M+(N<<23&4294967295|N>>>9),N=A+(P^M^U)+b[9]+3654602809&4294967295,A=P+(N<<4&4294967295|N>>>28),N=U+(A^P^M)+b[12]+3873151461&4294967295,U=A+(N<<11&4294967295|N>>>21),N=M+(U^A^P)+b[15]+530742520&4294967295,M=U+(N<<16&4294967295|N>>>16),N=P+(M^U^A)+b[2]+3299628645&4294967295,P=M+(N<<23&4294967295|N>>>9),N=A+(M^(P|~U))+b[0]+4096336452&4294967295,A=P+(N<<6&4294967295|N>>>26),N=U+(P^(A|~M))+b[7]+1126891415&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~P))+b[14]+2878612391&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~A))+b[5]+4237533241&4294967295,P=M+(N<<21&4294967295|N>>>11),N=A+(M^(P|~U))+b[12]+1700485571&4294967295,A=P+(N<<6&4294967295|N>>>26),N=U+(P^(A|~M))+b[3]+2399980690&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~P))+b[10]+4293915773&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~A))+b[1]+2240044497&4294967295,P=M+(N<<21&4294967295|N>>>11),N=A+(M^(P|~U))+b[8]+1873313359&4294967295,A=P+(N<<6&4294967295|N>>>26),N=U+(P^(A|~M))+b[15]+4264355552&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~P))+b[6]+2734768916&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~A))+b[13]+1309151649&4294967295,P=M+(N<<21&4294967295|N>>>11),N=A+(M^(P|~U))+b[4]+4149444226&4294967295,A=P+(N<<6&4294967295|N>>>26),N=U+(P^(A|~M))+b[11]+3174756917&4294967295,U=A+(N<<10&4294967295|N>>>22),N=M+(A^(U|~P))+b[2]+718787259&4294967295,M=U+(N<<15&4294967295|N>>>17),N=P+(U^(M|~A))+b[9]+3951481745&4294967295,D.g[0]=D.g[0]+A&4294967295,D.g[1]=D.g[1]+(M+(N<<21&4294967295|N>>>11))&4294967295,D.g[2]=D.g[2]+M&4294967295,D.g[3]=D.g[3]+U&4294967295}r.prototype.v=function(D,A){A===void 0&&(A=D.length);const P=A-this.blockSize,b=this.C;let M=this.h,U=0;for(;U<A;){if(M==0)for(;U<=P;)s(this,D,U),U+=this.blockSize;if(typeof D=="string"){for(;U<A;)if(b[M++]=D.charCodeAt(U++),M==this.blockSize){s(this,b),M=0;break}}else for(;U<A;)if(b[M++]=D[U++],M==this.blockSize){s(this,b),M=0;break}}this.h=M,this.o+=A},r.prototype.A=function(){var D=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);D[0]=128;for(var A=1;A<D.length-8;++A)D[A]=0;A=this.o*8;for(var P=D.length-8;P<D.length;++P)D[P]=A&255,A/=256;for(this.v(D),D=Array(16),A=0,P=0;P<4;++P)for(let b=0;b<32;b+=8)D[A++]=this.g[P]>>>b&255;return D};function a(D,A){var P=d;return Object.prototype.hasOwnProperty.call(P,D)?P[D]:P[D]=A(D)}function u(D,A){this.h=A;const P=[];let b=!0;for(let M=D.length-1;M>=0;M--){const U=D[M]|0;b&&U==A||(P[M]=U,b=!1)}this.g=P}var d={};function f(D){return-128<=D&&D<128?a(D,function(A){return new u([A|0],A<0?-1:0)}):new u([D|0],D<0?-1:0)}function p(D){if(isNaN(D)||!isFinite(D))return _;if(D<0)return k(p(-D));const A=[];let P=1;for(let b=0;D>=P;b++)A[b]=D/P|0,P*=4294967296;return new u(A,0)}function g(D,A){if(D.length==0)throw Error("number format error: empty string");if(A=A||10,A<2||36<A)throw Error("radix out of range: "+A);if(D.charAt(0)=="-")return k(g(D.substring(1),A));if(D.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=p(Math.pow(A,8));let b=_;for(let U=0;U<D.length;U+=8){var M=Math.min(8,D.length-U);const N=parseInt(D.substring(U,U+M),A);M<8?(M=p(Math.pow(A,M)),b=b.j(M).add(p(N))):(b=b.j(P),b=b.add(p(N)))}return b}var _=f(0),E=f(1),I=f(16777216);n=u.prototype,n.m=function(){if(x(this))return-k(this).m();let D=0,A=1;for(let P=0;P<this.g.length;P++){const b=this.i(P);D+=(b>=0?b:4294967296+b)*A,A*=4294967296}return D},n.toString=function(D){if(D=D||10,D<2||36<D)throw Error("radix out of range: "+D);if(V(this))return"0";if(x(this))return"-"+k(this).toString(D);const A=p(Math.pow(D,6));var P=this;let b="";for(;;){const M=re(P,A).g;P=F(P,M.j(A));let U=((P.g.length>0?P.g[0]:P.h)>>>0).toString(D);if(P=M,V(P))return U+b;for(;U.length<6;)U="0"+U;b=U+b}},n.i=function(D){return D<0?0:D<this.g.length?this.g[D]:this.h};function V(D){if(D.h!=0)return!1;for(let A=0;A<D.g.length;A++)if(D.g[A]!=0)return!1;return!0}function x(D){return D.h==-1}n.l=function(D){return D=F(this,D),x(D)?-1:V(D)?0:1};function k(D){const A=D.g.length,P=[];for(let b=0;b<A;b++)P[b]=~D.g[b];return new u(P,~D.h).add(E)}n.abs=function(){return x(this)?k(this):this},n.add=function(D){const A=Math.max(this.g.length,D.g.length),P=[];let b=0;for(let M=0;M<=A;M++){let U=b+(this.i(M)&65535)+(D.i(M)&65535),N=(U>>>16)+(this.i(M)>>>16)+(D.i(M)>>>16);b=N>>>16,U&=65535,N&=65535,P[M]=N<<16|U}return new u(P,P[P.length-1]&-2147483648?-1:0)};function F(D,A){return D.add(k(A))}n.j=function(D){if(V(this)||V(D))return _;if(x(this))return x(D)?k(this).j(k(D)):k(k(this).j(D));if(x(D))return k(this.j(k(D)));if(this.l(I)<0&&D.l(I)<0)return p(this.m()*D.m());const A=this.g.length+D.g.length,P=[];for(var b=0;b<2*A;b++)P[b]=0;for(b=0;b<this.g.length;b++)for(let M=0;M<D.g.length;M++){const U=this.i(b)>>>16,N=this.i(b)&65535,He=D.i(M)>>>16,wt=D.i(M)&65535;P[2*b+2*M]+=N*wt,q(P,2*b+2*M),P[2*b+2*M+1]+=U*wt,q(P,2*b+2*M+1),P[2*b+2*M+1]+=N*He,q(P,2*b+2*M+1),P[2*b+2*M+2]+=U*He,q(P,2*b+2*M+2)}for(D=0;D<A;D++)P[D]=P[2*D+1]<<16|P[2*D];for(D=A;D<2*A;D++)P[D]=0;return new u(P,0)};function q(D,A){for(;(D[A]&65535)!=D[A];)D[A+1]+=D[A]>>>16,D[A]&=65535,A++}function H(D,A){this.g=D,this.h=A}function re(D,A){if(V(A))throw Error("division by zero");if(V(D))return new H(_,_);if(x(D))return A=re(k(D),A),new H(k(A.g),k(A.h));if(x(A))return A=re(D,k(A)),new H(k(A.g),A.h);if(D.g.length>30){if(x(D)||x(A))throw Error("slowDivide_ only works with positive integers.");for(var P=E,b=A;b.l(D)<=0;)P=Q(P),b=Q(b);var M=ie(P,1),U=ie(b,1);for(b=ie(b,2),P=ie(P,2);!V(b);){var N=U.add(b);N.l(D)<=0&&(M=M.add(P),U=N),b=ie(b,1),P=ie(P,1)}return A=F(D,M.j(A)),new H(M,A)}for(M=_;D.l(A)>=0;){for(P=Math.max(1,Math.floor(D.m()/A.m())),b=Math.ceil(Math.log(P)/Math.LN2),b=b<=48?1:Math.pow(2,b-48),U=p(P),N=U.j(A);x(N)||N.l(D)>0;)P-=b,U=p(P),N=U.j(A);V(U)&&(U=E),M=M.add(U),D=F(D,N)}return new H(M,D)}n.B=function(D){return re(this,D).h},n.and=function(D){const A=Math.max(this.g.length,D.g.length),P=[];for(let b=0;b<A;b++)P[b]=this.i(b)&D.i(b);return new u(P,this.h&D.h)},n.or=function(D){const A=Math.max(this.g.length,D.g.length),P=[];for(let b=0;b<A;b++)P[b]=this.i(b)|D.i(b);return new u(P,this.h|D.h)},n.xor=function(D){const A=Math.max(this.g.length,D.g.length),P=[];for(let b=0;b<A;b++)P[b]=this.i(b)^D.i(b);return new u(P,this.h^D.h)};function Q(D){const A=D.g.length+1,P=[];for(let b=0;b<A;b++)P[b]=D.i(b)<<1|D.i(b-1)>>>31;return new u(P,D.h)}function ie(D,A){const P=A>>5;A%=32;const b=D.g.length-P,M=[];for(let U=0;U<b;U++)M[U]=A>0?D.i(U+P)>>>A|D.i(U+P+1)<<32-A:D.i(U+P);return new u(M,D.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,I1=r,u.prototype.add=u.prototype.add,u.prototype.multiply=u.prototype.j,u.prototype.modulo=u.prototype.B,u.prototype.compare=u.prototype.l,u.prototype.toNumber=u.prototype.m,u.prototype.toString=u.prototype.toString,u.prototype.getBits=u.prototype.i,u.fromNumber=p,u.fromString=g,Hi=u}).apply(typeof U0<"u"?U0:typeof self<"u"?self:typeof window<"u"?window:{});var Wc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var P1,kl,C1,rh,Gp,A1,R1,x1;(function(){var n,e=Object.defineProperty;function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wc=="object"&&Wc];for(var v=0;v<c.length;++v){var w=c[v];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=t(this);function s(c,v){if(v)e:{var w=r;c=c.split(".");for(var C=0;C<c.length-1;C++){var $=c[C];if(!($ in w))break e;w=w[$]}c=c[c.length-1],C=w[c],v=v(C),v!=C&&v!=null&&e(w,c,{configurable:!0,writable:!0,value:v})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(v){var w=[],C;for(C in v)Object.prototype.hasOwnProperty.call(v,C)&&w.push([C,v[C]]);return w}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var a=a||{},u=this||self;function d(c){var v=typeof c;return v=="object"&&c!=null||v=="function"}function f(c,v,w){return c.call.apply(c.bind,arguments)}function p(c,v,w){return p=f,p.apply(null,arguments)}function g(c,v){var w=Array.prototype.slice.call(arguments,1);return function(){var C=w.slice();return C.push.apply(C,arguments),c.apply(this,C)}}function _(c,v){function w(){}w.prototype=v.prototype,c.Z=v.prototype,c.prototype=new w,c.prototype.constructor=c,c.Ob=function(C,$,K){for(var oe=Array(arguments.length-2),Ie=2;Ie<arguments.length;Ie++)oe[Ie-2]=arguments[Ie];return v.prototype[$].apply(C,oe)}}var E=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function I(c){const v=c.length;if(v>0){const w=Array(v);for(let C=0;C<v;C++)w[C]=c[C];return w}return[]}function V(c,v){for(let C=1;C<arguments.length;C++){const $=arguments[C];var w=typeof $;if(w=w!="object"?w:$?Array.isArray($)?"array":w:"null",w=="array"||w=="object"&&typeof $.length=="number"){w=c.length||0;const K=$.length||0;c.length=w+K;for(let oe=0;oe<K;oe++)c[w+oe]=$[oe]}else c.push($)}}class x{constructor(v,w){this.i=v,this.j=w,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function k(c){u.setTimeout(()=>{throw c},0)}function F(){var c=D;let v=null;return c.g&&(v=c.g,c.g=c.g.next,c.g||(c.h=null),v.next=null),v}class q{constructor(){this.h=this.g=null}add(v,w){const C=H.get();C.set(v,w),this.h?this.h.next=C:this.g=C,this.h=C}}var H=new x(()=>new re,c=>c.reset());class re{constructor(){this.next=this.g=this.h=null}set(v,w){this.h=v,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Q,ie=!1,D=new q,A=()=>{const c=Promise.resolve(void 0);Q=()=>{c.then(P)}};function P(){for(var c;c=F();){try{c.h.call(c.g)}catch(w){k(w)}var v=H;v.j(c),v.h<100&&(v.h++,c.next=v.g,v.g=c)}ie=!1}function b(){this.u=this.u,this.C=this.C}b.prototype.u=!1,b.prototype.dispose=function(){this.u||(this.u=!0,this.N())},b.prototype[Symbol.dispose]=function(){this.dispose()},b.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function M(c,v){this.type=c,this.g=this.target=v,this.defaultPrevented=!1}M.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!u.addEventListener||!Object.defineProperty)return!1;var c=!1,v=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};u.addEventListener("test",w,v),u.removeEventListener("test",w,v)}catch{}return c})();function N(c){return/^[\s\xa0]*$/.test(c)}function He(c,v){M.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,v)}_(He,M),He.prototype.init=function(c,v){const w=this.type=c.type,C=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=v,v=c.relatedTarget,v||(w=="mouseover"?v=c.fromElement:w=="mouseout"&&(v=c.toElement)),this.relatedTarget=v,C?(this.clientX=C.clientX!==void 0?C.clientX:C.pageX,this.clientY=C.clientY!==void 0?C.clientY:C.pageY,this.screenX=C.screenX||0,this.screenY=C.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&He.Z.h.call(this)},He.prototype.h=function(){He.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var wt="closure_listenable_"+(Math.random()*1e6|0),kt=0;function Re(c,v,w,C,$){this.listener=c,this.proxy=null,this.src=v,this.type=w,this.capture=!!C,this.ha=$,this.key=++kt,this.da=this.fa=!1}function se(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function me(c,v,w){for(const C in c)v.call(w,c[C],C,c)}function ae(c,v){for(const w in c)v.call(void 0,c[w],w,c)}function B(c){const v={};for(const w in c)v[w]=c[w];return v}const Y="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Ce(c,v){let w,C;for(let $=1;$<arguments.length;$++){C=arguments[$];for(w in C)c[w]=C[w];for(let K=0;K<Y.length;K++)w=Y[K],Object.prototype.hasOwnProperty.call(C,w)&&(c[w]=C[w])}}function Ae(c){this.src=c,this.g={},this.h=0}Ae.prototype.add=function(c,v,w,C,$){const K=c.toString();c=this.g[K],c||(c=this.g[K]=[],this.h++);const oe=Ne(c,v,C,$);return oe>-1?(v=c[oe],w||(v.fa=!1)):(v=new Re(v,this.src,K,!!C,$),v.fa=w,c.push(v)),v};function ke(c,v){const w=v.type;if(w in c.g){var C=c.g[w],$=Array.prototype.indexOf.call(C,v,void 0),K;(K=$>=0)&&Array.prototype.splice.call(C,$,1),K&&(se(v),c.g[w].length==0&&(delete c.g[w],c.h--))}}function Ne(c,v,w,C){for(let $=0;$<c.length;++$){const K=c[$];if(!K.da&&K.listener==v&&K.capture==!!w&&K.ha==C)return $}return-1}var Be="closure_lm_"+(Math.random()*1e6|0),Oe={};function qe(c,v,w,C,$){if(Array.isArray(v)){for(let K=0;K<v.length;K++)qe(c,v[K],w,C,$);return null}return w=xa(w),c&&c[wt]?c.J(v,w,d(C)?!!C.capture:!1,$):Yt(c,v,w,!1,C,$)}function Yt(c,v,w,C,$,K){if(!v)throw Error("Invalid event type");const oe=d($)?!!$.capture:!!$;let Ie=eo(c);if(Ie||(c[Be]=Ie=new Ae(c)),w=Ie.add(v,w,C,oe,K),w.proxy)return w;if(C=Js(),w.proxy=C,C.src=c,C.listener=w,c.addEventListener)U||($=oe),$===void 0&&($=!1),c.addEventListener(v.toString(),C,$);else if(c.attachEvent)c.attachEvent(Zs(v.toString()),C);else if(c.addListener&&c.removeListener)c.addListener(C);else throw Error("addEventListener and attachEvent are unavailable.");return w}function Js(){function c(w){return v.call(c.src,c.listener,w)}const v=Pu;return c}function Ra(c,v,w,C,$){if(Array.isArray(v))for(var K=0;K<v.length;K++)Ra(c,v[K],w,C,$);else C=d(C)?!!C.capture:!!C,w=xa(w),c&&c[wt]?(c=c.i,K=String(v).toString(),K in c.g&&(v=c.g[K],w=Ne(v,w,C,$),w>-1&&(se(v[w]),Array.prototype.splice.call(v,w,1),v.length==0&&(delete c.g[K],c.h--)))):c&&(c=eo(c))&&(v=c.g[v.toString()],c=-1,v&&(c=Ne(v,w,C,$)),(w=c>-1?v[c]:null)&&ii(w))}function ii(c){if(typeof c!="number"&&c&&!c.da){var v=c.src;if(v&&v[wt])ke(v.i,c);else{var w=c.type,C=c.proxy;v.removeEventListener?v.removeEventListener(w,C,c.capture):v.detachEvent?v.detachEvent(Zs(w),C):v.addListener&&v.removeListener&&v.removeListener(C),(w=eo(v))?(ke(w,c),w.h==0&&(w.src=null,v[Be]=null)):se(c)}}}function Zs(c){return c in Oe?Oe[c]:Oe[c]="on"+c}function Pu(c,v){if(c.da)c=!0;else{v=new He(v,this);const w=c.listener,C=c.ha||c.src;c.fa&&ii(c),c=w.call(C,v)}return c}function eo(c){return c=c[Be],c instanceof Ae?c:null}var as="__closure_events_fn_"+(Math.random()*1e9>>>0);function xa(c){return typeof c=="function"?c:(c[as]||(c[as]=function(v){return c.handleEvent(v)}),c[as])}function mt(){b.call(this),this.i=new Ae(this),this.M=this,this.G=null}_(mt,b),mt.prototype[wt]=!0,mt.prototype.removeEventListener=function(c,v,w,C){Ra(this,c,v,w,C)};function ct(c,v){var w,C=c.G;if(C)for(w=[];C;C=C.G)w.push(C);if(c=c.M,C=v.type||v,typeof v=="string")v=new M(v,c);else if(v instanceof M)v.target=v.target||c;else{var $=v;v=new M(C,c),Ce(v,$)}$=!0;let K,oe;if(w)for(oe=w.length-1;oe>=0;oe--)K=v.g=w[oe],$=Ln(K,C,!0,v)&&$;if(K=v.g=c,$=Ln(K,C,!0,v)&&$,$=Ln(K,C,!1,v)&&$,w)for(oe=0;oe<w.length;oe++)K=v.g=w[oe],$=Ln(K,C,!1,v)&&$}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var c=this.i;for(const v in c.g){const w=c.g[v];for(let C=0;C<w.length;C++)se(w[C]);delete c.g[v],c.h--}}this.G=null},mt.prototype.J=function(c,v,w,C){return this.i.add(String(c),v,!1,w,C)},mt.prototype.K=function(c,v,w,C){return this.i.add(String(c),v,!0,w,C)};function Ln(c,v,w,C){if(v=c.i.g[String(v)],!v)return!0;v=v.concat();let $=!0;for(let K=0;K<v.length;++K){const oe=v[K];if(oe&&!oe.da&&oe.capture==w){const Ie=oe.listener,ht=oe.ha||oe.src;oe.fa&&ke(c.i,oe),$=Ie.call(ht,C)!==!1&&$}}return $&&!C.defaultPrevented}function ka(c,v){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=p(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:u.setTimeout(c,v||0)}function Na(c){c.g=ka(()=>{c.g=null,c.i&&(c.i=!1,Na(c))},c.l);const v=c.h;c.h=null,c.m.apply(null,v)}class Cu extends b{constructor(v,w){super(),this.m=v,this.l=w,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Na(this)}N(){super.N(),this.g&&(u.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function si(c){b.call(this),this.h=c,this.g={}}_(si,b);var Da=[];function to(c){me(c.g,function(v,w){this.g.hasOwnProperty(w)&&ii(v)},c),c.g={}}si.prototype.N=function(){si.Z.N.call(this),to(this)},si.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var oi=u.JSON.stringify,Au=u.JSON.parse,ls=class{stringify(c){return u.JSON.stringify(c,void 0)}parse(c){return u.JSON.parse(c,void 0)}};function ai(){}function Ru(){}var li={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function no(){M.call(this,"d")}_(no,M);function Va(){M.call(this,"c")}_(Va,M);var On={},ro=null;function ui(){return ro=ro||new mt}On.Ia="serverreachability";function io(c){M.call(this,On.Ia,c)}_(io,M);function Rr(c){const v=ui();ct(v,new io(v))}On.STAT_EVENT="statevent";function xr(c,v){M.call(this,On.STAT_EVENT,c),this.stat=v}_(xr,M);function at(c){const v=ui();ct(v,new xr(v,c))}On.Ja="timingevent";function ba(c,v){M.call(this,On.Ja,c),this.size=v}_(ba,M);function ci(c,v){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return u.setTimeout(function(){c()},v)}function hi(){this.g=!0}hi.prototype.ua=function(){this.g=!1};function xu(c,v,w,C,$,K){c.info(function(){if(c.g)if(K){var oe="",Ie=K.split("&");for(let We=0;We<Ie.length;We++){var ht=Ie[We].split("=");if(ht.length>1){const gt=ht[0];ht=ht[1];const mn=gt.split("_");oe=mn.length>=2&&mn[1]=="type"?oe+(gt+"="+ht+"&"):oe+(gt+"=redacted&")}}}else oe=null;else oe=K;return"XMLHTTP REQ ("+C+") [attempt "+$+"]: "+v+`
`+w+`
`+oe})}function ku(c,v,w,C,$,K,oe){c.info(function(){return"XMLHTTP RESP ("+C+") [ attempt "+$+"]: "+v+`
`+w+`
`+K+" "+oe})}function Jn(c,v,w,C){c.info(function(){return"XMLHTTP TEXT ("+v+"): "+us(c,w)+(C?" "+C:"")})}function Nu(c,v){c.info(function(){return"TIMEOUT: "+v})}hi.prototype.info=function(){};function us(c,v){if(!c.g)return v;if(!v)return null;try{const K=JSON.parse(v);if(K){for(c=0;c<K.length;c++)if(Array.isArray(K[c])){var w=K[c];if(!(w.length<2)){var C=w[1];if(Array.isArray(C)&&!(C.length<1)){var $=C[0];if($!="noop"&&$!="stop"&&$!="close")for(let oe=1;oe<C.length;oe++)C[oe]=""}}}}return oi(K)}catch{return v}}var di={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},fi={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Du;function kr(){}_(kr,ai),kr.prototype.g=function(){return new XMLHttpRequest},Du=new kr;function Zn(c){return encodeURIComponent(String(c))}function so(c){var v=1;c=c.split(":");const w=[];for(;v>0&&c.length;)w.push(c.shift()),v--;return c.length&&w.push(c.join(":")),w}function Sn(c,v,w,C){this.j=c,this.i=v,this.l=w,this.S=C||1,this.V=new si(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Vu}function Vu(){this.i=null,this.g="",this.h=!1}var bu={},Ma={};function jn(c,v,w){c.M=1,c.A=Dr(In(v)),c.u=w,c.R=!0,La(c,null)}function La(c,v){c.F=Date.now(),cs(c),c.B=In(c.A);var w=c.B,C=c.S;Array.isArray(C)||(C=[String(C)]),qa(w.i,"t",C),c.C=0,w=c.j.L,c.h=new Vu,c.g=Hu(c.j,w?v:null,!c.u),c.P>0&&(c.O=new Cu(p(c.Y,c,c.g),c.P)),v=c.V,w=c.g,C=c.ba;var $="readystatechange";Array.isArray($)||($&&(Da[0]=$.toString()),$=Da);for(let K=0;K<$.length;K++){const oe=qe(w,$[K],C||v.handleEvent,!1,v.h||v);if(!oe)break;v.g[oe.key]=oe}v=c.J?B(c.J):{},c.u?(c.v||(c.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,v)):(c.v="GET",c.g.ea(c.B,c.v,null,v)),Rr(),xu(c.i,c.v,c.B,c.l,c.S,c.u)}Sn.prototype.ba=function(c){c=c.target;const v=this.O;v&&or(c)==3?v.j():this.Y(c)},Sn.prototype.Y=function(c){try{if(c==this.g)e:{const Ie=or(this.g),ht=this.g.ya(),We=this.g.ca();if(!(Ie<3)&&(Ie!=3||this.g&&(this.h.h||this.g.la()||zu(this.g)))){this.K||Ie!=4||ht==7||(ht==8||We<=0?Rr(3):Rr(2)),oo(this);var v=this.g.ca();this.X=v;var w=Mu(this);if(this.o=v==200,ku(this.i,this.v,this.B,this.l,this.S,Ie,v),this.o){if(this.U&&!this.L){t:{if(this.g){var C,$=this.g;if((C=$.g?$.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(C)){var K=C;break t}}K=null}if(c=K)Jn(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Qe(this,c);else{this.o=!1,this.m=3,at(12),Nr(this),hs(this);break e}}if(this.R){c=!0;let gt;for(;!this.K&&this.C<w.length;)if(gt=Ou(this,w),gt==Ma){Ie==4&&(this.m=4,at(14),c=!1),Jn(this.i,this.l,null,"[Incomplete Response]");break}else if(gt==bu){this.m=4,at(15),Jn(this.i,this.l,w,"[Invalid Chunk]"),c=!1;break}else Jn(this.i,this.l,gt,null),Qe(this,gt);if(Lu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ie!=4||w.length!=0||this.h.h||(this.m=1,at(16),c=!1),this.o=this.o&&c,!c)Jn(this.i,this.l,w,"[Invalid Chunked Response]"),Nr(this),hs(this);else if(w.length>0&&!this.W){this.W=!0;var oe=this.j;oe.g==this&&oe.aa&&!oe.P&&(oe.j.info("Great, no buffering proxy detected. Bytes received: "+w.length),ws(oe),oe.P=!0,at(11))}}else Jn(this.i,this.l,w,null),Qe(this,w);Ie==4&&Nr(this),this.o&&!this.K&&(Ie==4?yo(this.j,this):(this.o=!1,cs(this)))}else Ka(this.g),v==400&&w.indexOf("Unknown SID")>0?(this.m=3,at(12)):(this.m=0,at(13)),Nr(this),hs(this)}}}catch{}finally{}};function Mu(c){if(!Lu(c))return c.g.la();const v=zu(c.g);if(v==="")return"";let w="";const C=v.length,$=or(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return Nr(c),hs(c),"";c.h.i=new u.TextDecoder}for(let K=0;K<C;K++)c.h.h=!0,w+=c.h.i.decode(v[K],{stream:!($&&K==C-1)});return v.length=0,c.h.g+=w,c.C=0,c.h.g}function Lu(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Ou(c,v){var w=c.C,C=v.indexOf(`
`,w);return C==-1?Ma:(w=Number(v.substring(w,C)),isNaN(w)?bu:(C+=1,C+w>v.length?Ma:(v=v.slice(C,C+w),c.C=C+w,v)))}Sn.prototype.cancel=function(){this.K=!0,Nr(this)};function cs(c){c.T=Date.now()+c.H,Oa(c,c.H)}function Oa(c,v){if(c.D!=null)throw Error("WatchDog timer not null");c.D=ci(p(c.aa,c),v)}function oo(c){c.D&&(u.clearTimeout(c.D),c.D=null)}Sn.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(Nu(this.i,this.B),this.M!=2&&(Rr(),at(17)),Nr(this),this.m=2,hs(this)):Oa(this,this.T-c)};function hs(c){c.j.I==0||c.K||yo(c.j,c)}function Nr(c){oo(c);var v=c.O;v&&typeof v.dispose=="function"&&v.dispose(),c.O=null,to(c.V),c.g&&(v=c.g,c.g=null,v.abort(),v.dispose())}function Qe(c,v){try{var w=c.j;if(w.I!=0&&(w.g==c||Fa(w.h,c))){if(!c.L&&Fa(w.h,c)&&w.I==3){try{var C=w.Ba.g.parse(v)}catch{C=null}if(Array.isArray(C)&&C.length==3){var $=C;if($[0]==0){e:if(!w.v){if(w.g)if(w.g.F+3e3<c.F)go(w),fn(w);else break e;ur(w),at(18)}}else w.xa=$[1],0<w.xa-w.K&&$[2]<37500&&w.F&&w.A==0&&!w.C&&(w.C=ci(p(w.Va,w),6e3));ds(w.h)<=1&&w.ta&&(w.ta=void 0)}else pn(w,11)}else if((c.L||w.g==c)&&go(w),!N(v))for($=w.Ba.g.parse(v),v=0;v<$.length;v++){let We=$[v];const gt=We[0];if(!(gt<=w.K))if(w.K=gt,We=We[1],w.I==2)if(We[0]=="c"){w.M=We[1],w.ba=We[2];const mn=We[3];mn!=null&&(w.ka=mn,w.j.info("VER="+w.ka));const Or=We[4];Or!=null&&(w.za=Or,w.j.info("SVER="+w.za));const cr=We[5];cr!=null&&typeof cr=="number"&&cr>0&&(C=1.5*cr,w.O=C,w.j.info("backChannelRequestTimeoutMs_="+C)),C=w;const hr=c.g;if(hr){const wo=hr.g?hr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wo){var K=C.h;K.g||wo.indexOf("spdy")==-1&&wo.indexOf("quic")==-1&&wo.indexOf("h2")==-1||(K.j=K.l,K.g=new Set,K.h&&(lo(K,K.h),K.h=null))}if(C.G){const Ya=hr.g?hr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ya&&(C.wa=Ya,Ue(C.J,C.G,Ya))}}w.I=3,w.l&&w.l.ra(),w.aa&&(w.T=Date.now()-c.F,w.j.info("Handshake RTT: "+w.T+"ms")),C=w;var oe=c;if(C.na=Xa(C,C.L?C.ba:null,C.W),oe.L){fs(C.h,oe);var Ie=oe,ht=C.O;ht&&(Ie.H=ht),Ie.D&&(oo(Ie),cs(Ie)),C.g=oe}else Ut(C);w.i.length>0&&Lr(w)}else We[0]!="stop"&&We[0]!="close"||pn(w,7);else w.I==3&&(We[0]=="stop"||We[0]=="close"?We[0]=="stop"?pn(w,7):po(w):We[0]!="noop"&&w.l&&w.l.qa(We),w.A=0)}}Rr(4)}catch{}}var wd=class{constructor(c,v){this.g=c,this.map=v}};function ao(c){this.l=c||10,u.PerformanceNavigationTiming?(c=u.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(u.chrome&&u.chrome.loadTimes&&u.chrome.loadTimes()&&u.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function ja(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function ds(c){return c.h?1:c.g?c.g.size:0}function Fa(c,v){return c.h?c.h==v:c.g?c.g.has(v):!1}function lo(c,v){c.g?c.g.add(v):c.h=v}function fs(c,v){c.h&&c.h==v?c.h=null:c.g&&c.g.has(v)&&c.g.delete(v)}ao.prototype.cancel=function(){if(this.i=cn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function cn(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let v=c.i;for(const w of c.g.values())v=v.concat(w.G);return v}return I(c.i)}var ju=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hn(c,v){if(c){c=c.split("&");for(let w=0;w<c.length;w++){const C=c[w].indexOf("=");let $,K=null;C>=0?($=c[w].substring(0,C),K=c[w].substring(C+1)):$=c[w],v($,K?decodeURIComponent(K.replace(/\+/g," ")):"")}}}function er(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;c instanceof er?(this.l=c.l,ps(this,c.j),this.o=c.o,this.g=c.g,tr(this,c.u),this.h=c.h,pi(this,Ga(c.i)),this.m=c.m):c&&(v=String(c).match(ju))?(this.l=!1,ps(this,v[1]||"",!0),this.o=ms(v[2]||""),this.g=ms(v[3]||"",!0),tr(this,v[4]),this.h=ms(v[5]||"",!0),pi(this,v[6]||"",!0),this.m=ms(v[7]||"")):(this.l=!1,this.i=new Me(null,this.l))}er.prototype.toString=function(){const c=[];var v=this.j;v&&c.push(gs(v,Ba,!0),":");var w=this.g;return(w||v=="file")&&(c.push("//"),(v=this.o)&&c.push(gs(v,Ba,!0),"@"),c.push(Zn(w).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.u,w!=null&&c.push(":",String(w))),(w=this.h)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(gs(w,w.charAt(0)=="/"?ys:za,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",gs(w,$a)),c.join("")},er.prototype.resolve=function(c){const v=In(this);let w=!!c.j;w?ps(v,c.j):w=!!c.o,w?v.o=c.o:w=!!c.g,w?v.g=c.g:w=c.u!=null;var C=c.h;if(w)tr(v,c.u);else if(w=!!c.h){if(C.charAt(0)!="/")if(this.g&&!this.h)C="/"+C;else{var $=v.h.lastIndexOf("/");$!=-1&&(C=v.h.slice(0,$+1)+C)}if($=C,$==".."||$==".")C="";else if($.indexOf("./")!=-1||$.indexOf("/.")!=-1){C=$.lastIndexOf("/",0)==0,$=$.split("/");const K=[];for(let oe=0;oe<$.length;){const Ie=$[oe++];Ie=="."?C&&oe==$.length&&K.push(""):Ie==".."?((K.length>1||K.length==1&&K[0]!="")&&K.pop(),C&&oe==$.length&&K.push("")):(K.push(Ie),C=!0)}C=K.join("/")}else C=$}return w?v.h=C:w=c.i.toString()!=="",w?pi(v,Ga(c.i)):w=!!c.m,w&&(v.m=c.m),v};function In(c){return new er(c)}function ps(c,v,w){c.j=w?ms(v,!0):v,c.j&&(c.j=c.j.replace(/:$/,""))}function tr(c,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);c.u=v}else c.u=null}function pi(c,v,w){v instanceof Me?(c.i=v,co(c.i,c.l)):(w||(v=gs(v,Ed)),c.i=new Me(v,c.l))}function Ue(c,v,w){c.i.set(v,w)}function Dr(c){return Ue(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function ms(c,v){return c?v?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function gs(c,v,w){return typeof c=="string"?(c=encodeURI(c).replace(v,Ua),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ua(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ba=/[#\/\?@]/g,za=/[#\?:]/g,ys=/[#\?]/g,Ed=/[#\?@]/g,$a=/#/g;function Me(c,v){this.h=this.g=null,this.i=c||null,this.j=!!v}function nr(c){c.g||(c.g=new Map,c.h=0,c.i&&hn(c.i,function(v,w){c.add(decodeURIComponent(v.replace(/\+/g," ")),w)}))}n=Me.prototype,n.add=function(c,v){nr(this),this.i=null,c=rr(this,c);let w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(v),this.h+=1,this};function Ha(c,v){nr(c),v=rr(c,v),c.g.has(v)&&(c.i=null,c.h-=c.g.get(v).length,c.g.delete(v))}function uo(c,v){return nr(c),v=rr(c,v),c.g.has(v)}n.forEach=function(c,v){nr(this),this.g.forEach(function(w,C){w.forEach(function($){c.call(v,$,C,this)},this)},this)};function Wa(c,v){nr(c);let w=[];if(typeof v=="string")uo(c,v)&&(w=w.concat(c.g.get(rr(c,v))));else for(c=Array.from(c.g.values()),v=0;v<c.length;v++)w=w.concat(c[v]);return w}n.set=function(c,v){return nr(this),this.i=null,c=rr(this,c),uo(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[v]),this.h+=1,this},n.get=function(c,v){return c?(c=Wa(this,c),c.length>0?String(c[0]):v):v};function qa(c,v,w){Ha(c,v),w.length>0&&(c.i=null,c.g.set(rr(c,v),I(w)),c.h+=w.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],v=Array.from(this.g.keys());for(let C=0;C<v.length;C++){var w=v[C];const $=Zn(w);w=Wa(this,w);for(let K=0;K<w.length;K++){let oe=$;w[K]!==""&&(oe+="="+Zn(w[K])),c.push(oe)}}return this.i=c.join("&")};function Ga(c){const v=new Me;return v.i=c.i,c.g&&(v.g=new Map(c.g),v.h=c.h),v}function rr(c,v){return v=String(v),c.j&&(v=v.toLowerCase()),v}function co(c,v){v&&!c.j&&(nr(c),c.i=null,c.g.forEach(function(w,C){const $=C.toLowerCase();C!=$&&(Ha(this,C),qa(this,$,w))},c)),c.j=v}function ir(c,v){const w=new hi;if(u.Image){const C=new Image;C.onload=g(Nt,w,"TestLoadImage: loaded",!0,v,C),C.onerror=g(Nt,w,"TestLoadImage: error",!1,v,C),C.onabort=g(Nt,w,"TestLoadImage: abort",!1,v,C),C.ontimeout=g(Nt,w,"TestLoadImage: timeout",!1,v,C),u.setTimeout(function(){C.ontimeout&&C.ontimeout()},1e4),C.src=c}else v(!1)}function sr(c,v){const w=new hi,C=new AbortController,$=setTimeout(()=>{C.abort(),Nt(w,"TestPingServer: timeout",!1,v)},1e4);fetch(c,{signal:C.signal}).then(K=>{clearTimeout($),K.ok?Nt(w,"TestPingServer: ok",!0,v):Nt(w,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout($),Nt(w,"TestPingServer: error",!1,v)})}function Nt(c,v,w,C,$){try{$&&($.onload=null,$.onerror=null,$.onabort=null,$.ontimeout=null),C(w)}catch{}}function vs(){this.g=new ls}function Vr(c){this.i=c.Sb||null,this.h=c.ab||!1}_(Vr,ai),Vr.prototype.g=function(){return new dn(this.i,this.h)};function dn(c,v){mt.call(this),this.H=c,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}_(dn,mt),n=dn.prototype,n.open=function(c,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=v,this.readyState=1,Fn(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(v.body=c),(this.H||u).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,mi(this)),this.readyState=0},n.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Fn(this)),this.g&&(this.readyState=3,Fn(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof u.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Fu(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function Fu(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}n.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var v=c.value?c.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!c.done}))&&(this.response=this.responseText+=v)}c.done?mi(this):Fn(this),this.readyState==3&&Fu(this)}},n.Oa=function(c){this.g&&(this.response=this.responseText=c,mi(this))},n.Na=function(c){this.g&&(this.response=c,mi(this))},n.ga=function(){this.g&&mi(this)};function mi(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Fn(c)}n.setRequestHeader=function(c,v){this.A.append(c,v)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],v=this.h.entries();for(var w=v.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=v.next();return c.join(`\r
`)};function Fn(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(dn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Uu(c){let v="";return me(c,function(w,C){v+=C,v+=":",v+=w,v+=`\r
`}),v}function ho(c,v,w){e:{for(C in w){var C=!1;break e}C=!0}C||(w=Uu(w),typeof c=="string"?w!=null&&Zn(w):Ue(c,v,w))}function Ge(c){mt.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}_(Ge,mt);var Bu=/^https?$/i,Td=["POST","PUT"];n=Ge.prototype,n.Fa=function(c){this.H=c},n.ea=function(c,v,w,C){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);v=v?v.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Du.g(),this.g.onreadystatechange=E(p(this.Ca,this));try{this.B=!0,this.g.open(v,String(c),!0),this.B=!1}catch(K){gi(this,K);return}if(c=w||"",w=new Map(this.headers),C)if(Object.getPrototypeOf(C)===Object.prototype)for(var $ in C)w.set($,C[$]);else if(typeof C.keys=="function"&&typeof C.get=="function")for(const K of C.keys())w.set(K,C.get(K));else throw Error("Unknown input type for opt_headers: "+String(C));C=Array.from(w.keys()).find(K=>K.toLowerCase()=="content-type"),$=u.FormData&&c instanceof u.FormData,!(Array.prototype.indexOf.call(Td,v,void 0)>=0)||C||$||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[K,oe]of w)this.g.setRequestHeader(K,oe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(K){gi(this,K)}};function gi(c,v){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=v,c.o=5,yi(c),Mr(c)}function yi(c){c.A||(c.A=!0,ct(c,"complete"),ct(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,ct(this,"complete"),ct(this,"abort"),Mr(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Mr(this,!0)),Ge.Z.N.call(this)},n.Ca=function(){this.u||(this.B||this.v||this.j?br(this):this.Xa())},n.Xa=function(){br(this)};function br(c){if(c.h&&typeof a<"u"){if(c.v&&or(c)==4)setTimeout(c.Ca.bind(c),0);else if(ct(c,"readystatechange"),or(c)==4){c.h=!1;try{const K=c.ca();e:switch(K){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var w;if(!(w=v)){var C;if(C=K===0){let oe=String(c.D).match(ju)[1]||null;!oe&&u.self&&u.self.location&&(oe=u.self.location.protocol.slice(0,-1)),C=!Bu.test(oe?oe.toLowerCase():"")}w=C}if(w)ct(c,"complete"),ct(c,"success");else{c.o=6;try{var $=or(c)>2?c.g.statusText:""}catch{$=""}c.l=$+" ["+c.ca()+"]",yi(c)}}finally{Mr(c)}}}}function Mr(c,v){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const w=c.g;c.g=null,v||ct(c,"ready");try{w.onreadystatechange=null}catch{}}}n.isActive=function(){return!!this.g};function or(c){return c.g?c.g.readyState:0}n.ca=function(){try{return or(this)>2?this.g.status:-1}catch{return-1}},n.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.La=function(c){if(this.g){var v=this.g.responseText;return c&&v.indexOf(c)==0&&(v=v.substring(c.length)),Au(v)}};function zu(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Ka(c){const v={};c=(c.g&&or(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let C=0;C<c.length;C++){if(N(c[C]))continue;var w=so(c[C]);const $=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const K=v[$]||[];v[$]=K,K.push(w)}ae(v,function(C){return C.join(", ")})}n.ya=function(){return this.o},n.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function ar(c,v,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||v}function fo(c){this.za=0,this.i=[],this.j=new hi,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=ar("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=ar("baseRetryDelayMs",5e3,c),this.Za=ar("retryDelaySeedMs",1e4,c),this.Ta=ar("forwardChannelMaxRetries",2,c),this.va=ar("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new ao(c&&c.concurrentRequestLimit),this.Ba=new vs,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}n=fo.prototype,n.ka=8,n.I=1,n.connect=function(c,v,w,C){at(0),this.W=c,this.H=v||{},w&&C!==void 0&&(this.H.OSID=w,this.H.OAID=C),this.F=this.X,this.J=Xa(this,null,this.W),Lr(this)};function po(c){if(mo(c),c.I==3){var v=c.V++,w=In(c.J);if(Ue(w,"SID",c.M),Ue(w,"RID",v),Ue(w,"TYPE","terminate"),lr(c,w),v=new Sn(c,c.j,v),v.M=2,v.A=Dr(In(w)),w=!1,u.navigator&&u.navigator.sendBeacon)try{w=u.navigator.sendBeacon(v.A.toString(),"")}catch{}!w&&u.Image&&(new Image().src=v.A,w=!0),w||(v.g=Hu(v.j,null),v.g.ea(v.A)),v.F=Date.now(),cs(v)}Es(c)}function fn(c){c.g&&(ws(c),c.g.cancel(),c.g=null)}function mo(c){fn(c),c.v&&(u.clearTimeout(c.v),c.v=null),go(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&u.clearTimeout(c.m),c.m=null)}function Lr(c){if(!ja(c.h)&&!c.m){c.m=!0;var v=c.Ea;Q||A(),ie||(Q(),ie=!0),D.add(v,c),c.D=0}}function $u(c,v){return ds(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=v.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=ci(p(c.Ea,c,v),vo(c,c.D)),c.D++,!0)}n.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const $=new Sn(this,this.j,c);let K=this.o;if(this.U&&(K?(K=B(K),Ce(K,this.U)):K=this.U),this.u!==null||this.R||($.J=K,K=null),this.S)e:{for(var v=0,w=0;w<this.i.length;w++){t:{var C=this.i[w];if("__data__"in C.map&&(C=C.map.__data__,typeof C=="string")){C=C.length;break t}C=void 0}if(C===void 0)break;if(v+=C,v>4096){v=w;break e}if(v===4096||w===this.i.length-1){v=w+1;break e}}v=1e3}else v=1e3;v=Qa(this,$,v),w=In(this.J),Ue(w,"RID",c),Ue(w,"CVER",22),this.G&&Ue(w,"X-HTTP-Session-Id",this.G),lr(this,w),K&&(this.R?v="headers="+Zn(Uu(K))+"&"+v:this.u&&ho(w,this.u,K)),lo(this.h,$),this.Ra&&Ue(w,"TYPE","init"),this.S?(Ue(w,"$req",v),Ue(w,"SID","null"),$.U=!0,jn($,w,null)):jn($,w,v),this.I=2}}else this.I==3&&(c?_s(this,c):this.i.length==0||ja(this.h)||_s(this))};function _s(c,v){var w;v?w=v.l:w=c.V++;const C=In(c.J);Ue(C,"SID",c.M),Ue(C,"RID",w),Ue(C,"AID",c.K),lr(c,C),c.u&&c.o&&ho(C,c.u,c.o),w=new Sn(c,c.j,w,c.D+1),c.u===null&&(w.J=c.o),v&&(c.i=v.G.concat(c.i)),v=Qa(c,w,1e3),w.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),lo(c.h,w),jn(w,C,v)}function lr(c,v){c.H&&me(c.H,function(w,C){Ue(v,C,w)}),c.l&&me({},function(w,C){Ue(v,C,w)})}function Qa(c,v,w){w=Math.min(c.i.length,w);const C=c.l?p(c.l.Ka,c.l,c):null;e:{var $=c.i;let Ie=-1;for(;;){const ht=["count="+w];Ie==-1?w>0?(Ie=$[0].g,ht.push("ofs="+Ie)):Ie=0:ht.push("ofs="+Ie);let We=!0;for(let gt=0;gt<w;gt++){var K=$[gt].g;const mn=$[gt].map;if(K-=Ie,K<0)Ie=Math.max(0,$[gt].g-100),We=!1;else try{K="req"+K+"_"||"";try{var oe=mn instanceof Map?mn:Object.entries(mn);for(const[Or,cr]of oe){let hr=cr;d(cr)&&(hr=oi(cr)),ht.push(K+Or+"="+encodeURIComponent(hr))}}catch(Or){throw ht.push(K+"type="+encodeURIComponent("_badmap")),Or}}catch{C&&C(mn)}}if(We){oe=ht.join("&");break e}}oe=void 0}return c=c.i.splice(0,w),v.G=c,oe}function Ut(c){if(!c.g&&!c.v){c.Y=1;var v=c.Da;Q||A(),ie||(Q(),ie=!0),D.add(v,c),c.A=0}}function ur(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=ci(p(c.Da,c),vo(c,c.A)),c.A++,!0)}n.Da=function(){if(this.v=null,vi(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=ci(p(this.Wa,this),c)}},n.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,at(10),fn(this),vi(this))};function ws(c){c.B!=null&&(u.clearTimeout(c.B),c.B=null)}function vi(c){c.g=new Sn(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var v=In(c.na);Ue(v,"RID","rpc"),Ue(v,"SID",c.M),Ue(v,"AID",c.K),Ue(v,"CI",c.F?"0":"1"),!c.F&&c.ia&&Ue(v,"TO",c.ia),Ue(v,"TYPE","xmlhttp"),lr(c,v),c.u&&c.o&&ho(v,c.u,c.o),c.O&&(c.g.H=c.O);var w=c.g;c=c.ba,w.M=1,w.A=Dr(In(v)),w.u=null,w.R=!0,La(w,c)}n.Va=function(){this.C!=null&&(this.C=null,fn(this),ur(this),at(19))};function go(c){c.C!=null&&(u.clearTimeout(c.C),c.C=null)}function yo(c,v){var w=null;if(c.g==v){go(c),ws(c),c.g=null;var C=2}else if(Fa(c.h,v))w=v.G,fs(c.h,v),C=1;else return;if(c.I!=0){if(v.o)if(C==1){w=v.u?v.u.length:0,v=Date.now()-v.F;var $=c.D;C=ui(),ct(C,new ba(C,w)),Lr(c)}else Ut(c);else if($=v.m,$==3||$==0&&v.X>0||!(C==1&&$u(c,v)||C==2&&ur(c)))switch(w&&w.length>0&&(v=c.h,v.i=v.i.concat(w)),$){case 1:pn(c,5);break;case 4:pn(c,10);break;case 3:pn(c,6);break;default:pn(c,2)}}}function vo(c,v){let w=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(w*=2),w*v}function pn(c,v){if(c.j.info("Error code "+v),v==2){var w=p(c.bb,c),C=c.Ua;const $=!C;C=new er(C||"//www.google.com/images/cleardot.gif"),u.location&&u.location.protocol=="http"||ps(C,"https"),Dr(C),$?ir(C.toString(),w):sr(C.toString(),w)}else at(2);c.I=0,c.l&&c.l.pa(v),Es(c),mo(c)}n.bb=function(c){c?(this.j.info("Successfully pinged google.com"),at(2)):(this.j.info("Failed to ping google.com"),at(1))};function Es(c){if(c.I=0,c.ja=[],c.l){const v=cn(c.h);(v.length!=0||c.i.length!=0)&&(V(c.ja,v),V(c.ja,c.i),c.h.i.length=0,I(c.i),c.i.length=0),c.l.oa()}}function Xa(c,v,w){var C=w instanceof er?In(w):new er(w);if(C.g!="")v&&(C.g=v+"."+C.g),tr(C,C.u);else{var $=u.location;C=$.protocol,v=v?v+"."+$.hostname:$.hostname,$=+$.port;const K=new er(null);C&&ps(K,C),v&&(K.g=v),$&&tr(K,$),w&&(K.h=w),C=K}return w=c.G,v=c.wa,w&&v&&Ue(C,w,v),Ue(C,"VER",c.ka),lr(c,C),C}function Hu(c,v,w){if(v&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=c.Aa&&!c.ma?new Ge(new Vr({ab:w})):new Ge(c.ma),v.Fa(c.L),v}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wu(){}n=Wu.prototype,n.ra=function(){},n.qa=function(){},n.pa=function(){},n.oa=function(){},n.isActive=function(){return!0},n.Ka=function(){};function _o(){}_o.prototype.g=function(c,v){return new Dt(c,v)};function Dt(c,v){mt.call(this),this.g=new fo(v),this.l=c,this.h=v&&v.messageUrlParams||null,c=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(c?c["X-WebChannel-Content-Type"]=v.messageContentType:c={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(c?c["X-WebChannel-Client-Profile"]=v.sa:c={"X-WebChannel-Client-Profile":v.sa}),this.g.U=c,(c=v&&v.Qb)&&!N(c)&&(this.g.u=c),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!N(v)&&(this.g.G=v,c=this.h,c!==null&&v in c&&(c=this.h,v in c&&delete c[v])),this.j=new _i(this)}_(Dt,mt),Dt.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},Dt.prototype.close=function(){po(this.g)},Dt.prototype.o=function(c){var v=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.v&&(w={},w.__data__=oi(c),c=w);v.i.push(new wd(v.Ya++,c)),v.I==3&&Lr(v)},Dt.prototype.N=function(){this.g.l=null,delete this.j,po(this.g),delete this.g,Dt.Z.N.call(this)};function qu(c){no.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var v=c.__sm__;if(v){e:{for(const w in v){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,v=v!==null&&c in v?v[c]:void 0),this.data=v}else this.data=c}_(qu,no);function Gu(){Va.call(this),this.status=1}_(Gu,Va);function _i(c){this.g=c}_(_i,Wu),_i.prototype.ra=function(){ct(this.g,"a")},_i.prototype.qa=function(c){ct(this.g,new qu(c))},_i.prototype.pa=function(c){ct(this.g,new Gu)},_i.prototype.oa=function(){ct(this.g,"b")},_o.prototype.createWebChannel=_o.prototype.g,Dt.prototype.send=Dt.prototype.o,Dt.prototype.open=Dt.prototype.m,Dt.prototype.close=Dt.prototype.close,x1=function(){return new _o},R1=function(){return ui()},A1=On,Gp={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},di.NO_ERROR=0,di.TIMEOUT=8,di.HTTP_ERROR=6,rh=di,fi.COMPLETE="complete",C1=fi,Ru.EventType=li,li.OPEN="a",li.CLOSE="b",li.ERROR="c",li.MESSAGE="d",mt.prototype.listen=mt.prototype.J,kl=Ru,Ge.prototype.listenOnce=Ge.prototype.K,Ge.prototype.getLastError=Ge.prototype.Ha,Ge.prototype.getLastErrorCode=Ge.prototype.ya,Ge.prototype.getStatus=Ge.prototype.ca,Ge.prototype.getResponseJson=Ge.prototype.La,Ge.prototype.getResponseText=Ge.prototype.la,Ge.prototype.send=Ge.prototype.ea,Ge.prototype.setWithCredentials=Ge.prototype.Fa,P1=Ge}).apply(typeof Wc<"u"?Wc:typeof self<"u"?self:typeof window<"u"?window:{});const B0="@firebase/firestore",z0="4.9.3";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Gt.UNAUTHENTICATED=new Gt(null),Gt.GOOGLE_CREDENTIALS=new Gt("google-credentials-uid"),Gt.FIRST_PARTY=new Gt("first-party-uid"),Gt.MOCK_USER=new Gt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ta="12.7.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs=new tg("@firebase/firestore");function Bo(){return Hs.logLevel}function ue(n,...e){if(Hs.logLevel<=De.DEBUG){const t=e.map(ig);Hs.debug(`Firestore (${Ta}): ${n}`,...t)}}function ei(n,...e){if(Hs.logLevel<=De.ERROR){const t=e.map(ig);Hs.error(`Firestore (${Ta}): ${n}`,...t)}}function aa(n,...e){if(Hs.logLevel<=De.WARN){const t=e.map(ig);Hs.warn(`Firestore (${Ta}): ${n}`,...t)}}function ig(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(t){return JSON.stringify(t)})(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ee(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,k1(n,r,t)}function k1(n,e,t){let r=`FIRESTORE (${Ta}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ei(r),new Error(r)}function ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||k1(e,s,r)}function Pe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class pe extends ri{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oV{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(Gt.UNAUTHENTICATED)))}shutdown(){}}class aV{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class lV{constructor(e){this.t=e,this.currentUser=Gt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Wi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Wi,e.enqueueRetryable((()=>s(this.currentUser)))};const u=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await s(this.currentUser)}))},d=f=>{ue("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),u())};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(ue("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Wi)}}),0),u()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((r=>this.i!==e?(ue("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ze(typeof r.accessToken=="string",31837,{l:r}),new N1(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return ze(e===null||typeof e=="string",2055,{h:e}),new Gt(e)}}class uV{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=Gt.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class cV{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new uV(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable((()=>t(Gt.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class $0{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hV{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Gn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ue("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const u=a.token!==this.m;return this.m=a.token,ue("FirebaseAppCheckTokenProvider",`Received ${u?"new":"existing"} token.`),u?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const s=a=>{ue("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>s(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ue("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new $0(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((t=>t?(ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new $0(t.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dV(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=dV(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function Ve(n,e){return n<e?-1:n>e?1:0}function Kp(n,e){const t=Math.min(n.length,e.length);for(let r=0;r<t;r++){const s=n.charAt(r),a=e.charAt(r);if(s!==a)return gp(s)===gp(a)?Ve(s,a):gp(s)?1:-1}return Ve(n.length,e.length)}const fV=55296,pV=57343;function gp(n){const e=n.charCodeAt(0);return e>=fV&&e<=pV}function la(n,e,t){return n.length===e.length&&n.every(((r,s)=>t(r,e[s])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H0="__name__";class gr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Ee(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Ee(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return gr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof gr?e.forEach((r=>{t.push(r)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=gr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return Ve(e.length,t.length)}static compareSegments(e,t){const r=gr.isNumericId(e),s=gr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?gr.extractNumericId(e).compare(gr.extractNumericId(t)):Kp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Hi.fromString(e.substring(4,e.length-2))}}class Je extends gr{construct(e,t,r){return new Je(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new pe(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter((s=>s.length>0)))}return new Je(t)}static emptyPath(){return new Je([])}}const mV=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ot extends gr{construct(e,t,r){return new Ot(e,t,r)}static isValidIdentifier(e){return mV.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ot.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===H0}static keyField(){return new Ot([H0])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new pe(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let u=!1;for(;s<e.length;){const d=e[s];if(d==="\\"){if(s+1===e.length)throw new pe(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new pe(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else d==="`"?(u=!u,s++):d!=="."||u?(r+=d,s++):(a(),s++)}if(a(),u)throw new pe(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ot(t)}static emptyPath(){return new Ot([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ge{constructor(e){this.path=e}static fromPath(e){return new ge(Je.fromString(e))}static fromName(e){return new ge(Je.fromString(e).popFirst(5))}static empty(){return new ge(Je.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Je.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Je.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ge(new Je(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D1(n,e,t){if(!t)throw new pe(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function gV(n,e,t,r){if(e===!0&&r===!0)throw new pe(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function W0(n){if(!ge.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function q0(n){if(ge.isDocumentKey(n))throw new pe(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function V1(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}function og(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Ee(12329,{type:typeof n})}function Ws(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new pe(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=og(n);throw new pe(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _t(n,e){const t={typeString:n};return e&&(t.value=e),t}function gu(n,e){if(!V1(n))throw new pe(J.INVALID_ARGUMENT,"JSON must be an object");let t;for(const r in e)if(e[r]){const s=e[r].typeString,a="value"in e[r]?{value:e[r].value}:void 0;if(!(r in n)){t=`JSON missing required field: '${r}'`;break}const u=n[r];if(s&&typeof u!==s){t=`JSON field '${r}' must be a ${s}.`;break}if(a!==void 0&&u!==a.value){t=`Expected '${r}' field to equal '${a.value}'`;break}}if(t)throw new pe(J.INVALID_ARGUMENT,t);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G0=-62135596800,K0=1e6;class Ze{static now(){return Ze.fromMillis(Date.now())}static fromDate(e){return Ze.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*K0);return new Ze(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new pe(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<G0)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new pe(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/K0}_compareTo(e){return this.seconds===e.seconds?Ve(this.nanoseconds,e.nanoseconds):Ve(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ze._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(gu(e,Ze._jsonSchema))return new Ze(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-G0;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ze._jsonSchemaVersion="firestore/timestamp/1.0",Ze._jsonSchema={type:_t("string",Ze._jsonSchemaVersion),seconds:_t("number"),nanoseconds:_t("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{static fromTimestamp(e){return new Se(e)}static min(){return new Se(new Ze(0,0))}static max(){return new Se(new Ze(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yl=-1;function yV(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Se.fromTimestamp(r===1e9?new Ze(t+1,0):new Ze(t,r));return new Xi(s,ge.empty(),e)}function vV(n){return new Xi(n.readTime,n.key,Yl)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(Se.min(),ge.empty(),Yl)}static max(){return new Xi(Se.max(),ge.empty(),Yl)}}function _V(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ge.comparator(n.documentKey,e.documentKey),t!==0?t:Ve(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wV="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class EV{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==wV)throw n;ue("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)}),(t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Ee(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X(((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):X.reject(t)}static resolve(e){return new X(((t,r)=>{t(e)}))}static reject(e){return new X(((t,r)=>{r(e)}))}static waitFor(e){return new X(((t,r)=>{let s=0,a=0,u=!1;e.forEach((d=>{++s,d.next((()=>{++a,u&&a===s&&t()}),(f=>r(f)))})),u=!0,a===s&&t()}))}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next((s=>s?X.resolve(s):r()));return t}static forEach(e,t){const r=[];return e.forEach(((s,a)=>{r.push(t.call(this,s,a))})),this.waitFor(r)}static mapArray(e,t){return new X(((r,s)=>{const a=e.length,u=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;t(e[p]).next((g=>{u[p]=g,++d,d===a&&r(u)}),(g=>s(g)))}}))}static doWhile(e,t){return new X(((r,s)=>{const a=()=>{e()===!0?t().next((()=>{a()}),s):r()};a()}))}}function TV(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ia(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>t.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Jh.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ag=-1;function Zh(n){return n==null}function Ih(n){return n===0&&1/n==-1/0}function SV(n){return typeof n=="number"&&Number.isInteger(n)&&!Ih(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b1="";function IV(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Q0(e)),e=PV(n.get(t),e);return Q0(e)}function PV(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case b1:t+="";break;default:t+=a}}return t}function Q0(n){return n+b1+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X0(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function is(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function M1(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,t){this.comparator=e,this.root=t||Lt.EMPTY}insert(e,t){return new ot(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Lt.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Lt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,r)=>(e(t,r),!1)))}toString(){const e=[];return this.inorderTraversal(((t,r)=>(e.push(`${t}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qc(this.root,e,this.comparator,!1)}getReverseIterator(){return new qc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qc(this.root,e,this.comparator,!0)}}class qc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Lt{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Lt.RED,this.left=s??Lt.EMPTY,this.right=a??Lt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Lt(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Lt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Lt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Lt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Lt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ee(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ee(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ee(27949);return e+(this.isRed()?0:1)}}Lt.EMPTY=null,Lt.RED=!0,Lt.BLACK=!1;Lt.EMPTY=new class{constructor(){this.size=0}get key(){throw Ee(57766)}get value(){throw Ee(16141)}get color(){throw Ee(16727)}get left(){throw Ee(29726)}get right(){throw Ee(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Lt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class It{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,r)=>(e(t),!1)))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Y0(this.data.getIterator())}getIteratorFrom(e){return new Y0(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((r=>{t=t.add(r)})),t}isEqual(e){if(!(e instanceof It)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new It(this.comparator);return t.data=e,t}}class Y0{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(Ot.comparator)}static empty(){return new _n([])}unionWith(e){let t=new It(Ot.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,((t,r)=>t.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const t=(function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new L1("Invalid base64 string: "+a):a}})(e);return new Ft(t)}static fromUint8Array(e){const t=(function(s){let a="";for(let u=0;u<s.length;++u)a+=String.fromCharCode(s[u]);return a})(e);return new Ft(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(t){return btoa(t)})(this.binaryString)}toUint8Array(){return(function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ve(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const CV=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yi(n){if(ze(!!n,39018),typeof n=="string"){let e=0;const t=CV.exec(n);if(ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pt(n.seconds),nanos:pt(n.nanos)}}function pt(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Ji(n){return typeof n=="string"?Ft.fromBase64String(n):Ft.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const O1="server_timestamp",j1="__type__",F1="__previous_value__",U1="__local_write_time__";function lg(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[j1])==null?void 0:r.stringValue)===O1}function ed(n){const e=n.mapValue.fields[F1];return lg(e)?ed(e):e}function Jl(n){const e=Yi(n.mapValue.fields[U1].timestampValue);return new Ze(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AV{constructor(e,t,r,s,a,u,d,f,p,g){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=u,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p,this.isUsingEmulator=g}}const Ph="(default)";class Zl{constructor(e,t){this.projectId=e,this.database=t||Ph}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===Ph}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B1="__type__",RV="__max__",Gc={mapValue:{}},z1="__vector__",Ch="value";function Zi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?lg(n)?4:kV(n)?9007199254740991:xV(n)?10:11:Ee(28295,{value:n})}function Cr(n,e){if(n===e)return!0;const t=Zi(n);if(t!==Zi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jl(n).isEqual(Jl(e));case 3:return(function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const u=Yi(s.timestampValue),d=Yi(a.timestampValue);return u.seconds===d.seconds&&u.nanos===d.nanos})(n,e);case 5:return n.stringValue===e.stringValue;case 6:return(function(s,a){return Ji(s.bytesValue).isEqual(Ji(a.bytesValue))})(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return(function(s,a){return pt(s.geoPointValue.latitude)===pt(a.geoPointValue.latitude)&&pt(s.geoPointValue.longitude)===pt(a.geoPointValue.longitude)})(n,e);case 2:return(function(s,a){if("integerValue"in s&&"integerValue"in a)return pt(s.integerValue)===pt(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const u=pt(s.doubleValue),d=pt(a.doubleValue);return u===d?Ih(u)===Ih(d):isNaN(u)&&isNaN(d)}return!1})(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Cr);case 10:case 11:return(function(s,a){const u=s.mapValue.fields||{},d=a.mapValue.fields||{};if(X0(u)!==X0(d))return!1;for(const f in u)if(u.hasOwnProperty(f)&&(d[f]===void 0||!Cr(u[f],d[f])))return!1;return!0})(n,e);default:return Ee(52216,{left:n})}}function eu(n,e){return(n.values||[]).find((t=>Cr(t,e)))!==void 0}function ua(n,e){if(n===e)return 0;const t=Zi(n),r=Zi(e);if(t!==r)return Ve(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Ve(n.booleanValue,e.booleanValue);case 2:return(function(a,u){const d=pt(a.integerValue||a.doubleValue),f=pt(u.integerValue||u.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(n,e);case 3:return J0(n.timestampValue,e.timestampValue);case 4:return J0(Jl(n),Jl(e));case 5:return Kp(n.stringValue,e.stringValue);case 6:return(function(a,u){const d=Ji(a),f=Ji(u);return d.compareTo(f)})(n.bytesValue,e.bytesValue);case 7:return(function(a,u){const d=a.split("/"),f=u.split("/");for(let p=0;p<d.length&&p<f.length;p++){const g=Ve(d[p],f[p]);if(g!==0)return g}return Ve(d.length,f.length)})(n.referenceValue,e.referenceValue);case 8:return(function(a,u){const d=Ve(pt(a.latitude),pt(u.latitude));return d!==0?d:Ve(pt(a.longitude),pt(u.longitude))})(n.geoPointValue,e.geoPointValue);case 9:return Z0(n.arrayValue,e.arrayValue);case 10:return(function(a,u){var E,I,V,x;const d=a.fields||{},f=u.fields||{},p=(E=d[Ch])==null?void 0:E.arrayValue,g=(I=f[Ch])==null?void 0:I.arrayValue,_=Ve(((V=p==null?void 0:p.values)==null?void 0:V.length)||0,((x=g==null?void 0:g.values)==null?void 0:x.length)||0);return _!==0?_:Z0(p,g)})(n.mapValue,e.mapValue);case 11:return(function(a,u){if(a===Gc.mapValue&&u===Gc.mapValue)return 0;if(a===Gc.mapValue)return 1;if(u===Gc.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=u.fields||{},g=Object.keys(p);f.sort(),g.sort();for(let _=0;_<f.length&&_<g.length;++_){const E=Kp(f[_],g[_]);if(E!==0)return E;const I=ua(d[f[_]],p[g[_]]);if(I!==0)return I}return Ve(f.length,g.length)})(n.mapValue,e.mapValue);default:throw Ee(23264,{he:t})}}function J0(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Ve(n,e);const t=Yi(n),r=Yi(e),s=Ve(t.seconds,r.seconds);return s!==0?s:Ve(t.nanos,r.nanos)}function Z0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ua(t[s],r[s]);if(a)return a}return Ve(t.length,r.length)}function ca(n){return Qp(n)}function Qp(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?(function(t){const r=Yi(t);return`time(${r.seconds},${r.nanos})`})(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?(function(t){return Ji(t).toBase64()})(n.bytesValue):"referenceValue"in n?(function(t){return ge.fromName(t).toString()})(n.referenceValue):"geoPointValue"in n?(function(t){return`geo(${t.latitude},${t.longitude})`})(n.geoPointValue):"arrayValue"in n?(function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Qp(a);return r+"]"})(n.arrayValue):"mapValue"in n?(function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const u of r)a?a=!1:s+=",",s+=`${u}:${Qp(t.fields[u])}`;return s+"}"})(n.mapValue):Ee(61005,{value:n})}function ih(n){switch(Zi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=ed(n);return e?16+ih(e):16;case 5:return 2*n.stringValue.length;case 6:return Ji(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return(function(r){return(r.values||[]).reduce(((s,a)=>s+ih(a)),0)})(n.arrayValue);case 10:case 11:return(function(r){let s=0;return is(r.fields,((a,u)=>{s+=a.length+ih(u)})),s})(n.mapValue);default:throw Ee(13486,{value:n})}}function Xp(n){return!!n&&"integerValue"in n}function ug(n){return!!n&&"arrayValue"in n}function ew(n){return!!n&&"nullValue"in n}function tw(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function sh(n){return!!n&&"mapValue"in n}function xV(n){var t,r;return((r=(((t=n==null?void 0:n.mapValue)==null?void 0:t.fields)||{})[B1])==null?void 0:r.stringValue)===z1}function jl(n){if(n.geoPointValue)return{geoPointValue:{...n.geoPointValue}};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:{...n.timestampValue}};if(n.mapValue){const e={mapValue:{fields:{}}};return is(n.mapValue.fields,((t,r)=>e.mapValue.fields[t]=jl(r))),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=jl(n.arrayValue.values[t]);return e}return{...n}}function kV(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===RV}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ln{constructor(e){this.value=e}static empty(){return new ln({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!sh(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=jl(t)}setAll(e){let t=Ot.emptyPath(),r={},s=[];e.forEach(((u,d)=>{if(!t.isImmediateParentOf(d)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=d.popLast()}u?r[d.lastSegment()]=jl(u):s.push(d.lastSegment())}));const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());sh(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Cr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];sh(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){is(t,((s,a)=>e[s]=a));for(const s of r)delete e[s]}clone(){return new ln(jl(this.value))}}function $1(n){const e=[];return is(n.fields,((t,r)=>{const s=new Ot([t]);if(sh(r)){const a=$1(r.mapValue).fields;if(a.length===0)e.push(s);else for(const u of a)e.push(s.child(u))}else e.push(s)})),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kt{constructor(e,t,r,s,a,u,d){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=u,this.documentState=d}static newInvalidDocument(e){return new Kt(e,0,Se.min(),Se.min(),Se.min(),ln.empty(),0)}static newFoundDocument(e,t,r,s){return new Kt(e,1,t,Se.min(),r,s,0)}static newNoDocument(e,t){return new Kt(e,2,t,Se.min(),Se.min(),ln.empty(),0)}static newUnknownDocument(e,t){return new Kt(e,3,t,Se.min(),Se.min(),ln.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ln.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ln.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Kt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Kt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ah{constructor(e,t){this.position=e,this.inclusive=t}}function nw(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],u=n.position[s];if(a.field.isKeyField()?r=ge.comparator(ge.fromName(u.referenceValue),t.key):r=ua(u,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function rw(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Cr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e,t="asc"){this.field=e,this.dir=t}}function NV(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{}class St extends H1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new VV(e,t,r):t==="array-contains"?new LV(e,r):t==="in"?new OV(e,r):t==="not-in"?new jV(e,r):t==="array-contains-any"?new FV(e,r):new St(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new bV(e,r):new MV(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ua(t,this.value)):t!==null&&Zi(this.value)===Zi(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ee(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Ar extends H1{constructor(e,t){super(),this.filters=e,this.op=t,this.Pe=null}static create(e,t){return new Ar(e,t)}matches(e){return W1(this)?this.filters.find((t=>!t.matches(e)))===void 0:this.filters.find((t=>t.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function W1(n){return n.op==="and"}function q1(n){return DV(n)&&W1(n)}function DV(n){for(const e of n.filters)if(e instanceof Ar)return!1;return!0}function Yp(n){if(n instanceof St)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(q1(n))return n.filters.map((e=>Yp(e))).join(",");{const e=n.filters.map((t=>Yp(t))).join(",");return`${n.op}(${e})`}}function G1(n,e){return n instanceof St?(function(r,s){return s instanceof St&&r.op===s.op&&r.field.isEqual(s.field)&&Cr(r.value,s.value)})(n,e):n instanceof Ar?(function(r,s){return s instanceof Ar&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce(((a,u,d)=>a&&G1(u,s.filters[d])),!0):!1})(n,e):void Ee(19439)}function K1(n){return n instanceof St?(function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`})(n):n instanceof Ar?(function(t){return t.op.toString()+" {"+t.getFilters().map(K1).join(" ,")+"}"})(n):"Filter"}class VV extends St{constructor(e,t,r){super(e,t,r),this.key=ge.fromName(r.referenceValue)}matches(e){const t=ge.comparator(e.key,this.key);return this.matchesComparison(t)}}class bV extends St{constructor(e,t){super(e,"in",t),this.keys=Q1("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class MV extends St{constructor(e,t){super(e,"not-in",t),this.keys=Q1("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function Q1(n,e){var t;return(((t=e.arrayValue)==null?void 0:t.values)||[]).map((r=>ge.fromName(r.referenceValue)))}class LV extends St{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return ug(t)&&eu(t.arrayValue,this.value)}}class OV extends St{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eu(this.value.arrayValue,t)}}class jV extends St{constructor(e,t){super(e,"not-in",t)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!eu(this.value.arrayValue,t)}}class FV extends St{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!ug(t)||!t.arrayValue.values)&&t.arrayValue.values.some((r=>eu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UV{constructor(e,t=null,r=[],s=[],a=null,u=null,d=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=u,this.endAt=d,this.Te=null}}function iw(n,e=null,t=[],r=[],s=null,a=null,u=null){return new UV(n,e,t,r,s,a,u)}function cg(n){const e=Pe(n);if(e.Te===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map((r=>Yp(r))).join(","),t+="|ob:",t+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Zh(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((r=>ca(r))).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((r=>ca(r))).join(",")),e.Te=t}return e.Te}function hg(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!NV(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!G1(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!rw(n.startAt,e.startAt)&&rw(n.endAt,e.endAt)}function Jp(n){return ge.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class td{constructor(e,t=null,r=[],s=[],a=null,u="F",d=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=u,this.startAt=d,this.endAt=f,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function BV(n,e,t,r,s,a,u,d){return new td(n,e,t,r,s,a,u,d)}function X1(n){return new td(n)}function sw(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function zV(n){return n.collectionGroup!==null}function Fl(n){const e=Pe(n);if(e.Ie===null){e.Ie=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(u){let d=new It(Ot.comparator);return u.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new Rh(a,r))})),t.has(Ot.keyField().canonicalString())||e.Ie.push(new Rh(Ot.keyField(),r))}return e.Ie}function _r(n){const e=Pe(n);return e.Ee||(e.Ee=$V(e,Fl(n))),e.Ee}function $V(n,e){if(n.limitType==="F")return iw(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map((s=>{const a=s.dir==="desc"?"asc":"desc";return new Rh(s.field,a)}));const t=n.endAt?new Ah(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ah(n.startAt.position,n.startAt.inclusive):null;return iw(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Zp(n,e,t){return new td(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function nd(n,e){return hg(_r(n),_r(e))&&n.limitType===e.limitType}function Y1(n){return`${cg(_r(n))}|lt:${n.limitType}`}function zo(n){return`Query(target=${(function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map((s=>K1(s))).join(", ")}]`),Zh(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map((s=>(function(u){return`${u.field.canonicalString()} (${u.dir})`})(s))).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map((s=>ca(s))).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map((s=>ca(s))).join(",")),`Target(${r})`})(_r(n))}; limitType=${n.limitType})`}function rd(n,e){return e.isFoundDocument()&&(function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):ge.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(n,e)&&(function(r,s){for(const a of Fl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0})(n,e)&&(function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0})(n,e)&&(function(r,s){return!(r.startAt&&!(function(u,d,f){const p=nw(u,d,f);return u.inclusive?p<=0:p<0})(r.startAt,Fl(r),s)||r.endAt&&!(function(u,d,f){const p=nw(u,d,f);return u.inclusive?p>=0:p>0})(r.endAt,Fl(r),s))})(n,e)}function HV(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function J1(n){return(e,t)=>{let r=!1;for(const s of Fl(n)){const a=WV(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function WV(n,e,t){const r=n.field.isKeyField()?ge.comparator(e.key,t.key):(function(a,u,d){const f=u.data.field(a),p=d.data.field(a);return f!==null&&p!==null?ua(f,p):Ee(42886)})(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Ee(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){is(this.inner,((t,r)=>{for(const[s,a]of r)e(s,a)}))}isEmpty(){return M1(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qV=new ot(ge.comparator);function ti(){return qV}const Z1=new ot(ge.comparator);function Nl(...n){let e=Z1;for(const t of n)e=e.insert(t.key,t);return e}function eS(n){let e=Z1;return n.forEach(((t,r)=>e=e.insert(t,r.overlayedDocument))),e}function Us(){return Ul()}function tS(){return Ul()}function Ul(){return new Qs((n=>n.toString()),((n,e)=>n.isEqual(e)))}const GV=new ot(ge.comparator),KV=new It(ge.comparator);function be(...n){let e=KV;for(const t of n)e=e.add(t);return e}const QV=new It(Ve);function XV(){return QV}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ih(e)?"-0":e}}function nS(n){return{integerValue:""+n}}function YV(n,e){return SV(e)?nS(e):dg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class id{constructor(){this._=void 0}}function JV(n,e,t){return n instanceof tu?(function(s,a){const u={fields:{[j1]:{stringValue:O1},[U1]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&lg(a)&&(a=ed(a)),a&&(u.fields[F1]=a),{mapValue:u}})(t,e):n instanceof nu?iS(n,e):n instanceof ru?sS(n,e):(function(s,a){const u=rS(s,a),d=ow(u)+ow(s.Ae);return Xp(u)&&Xp(s.Ae)?nS(d):dg(s.serializer,d)})(n,e)}function ZV(n,e,t){return n instanceof nu?iS(n,e):n instanceof ru?sS(n,e):t}function rS(n,e){return n instanceof xh?(function(r){return Xp(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class tu extends id{}class nu extends id{constructor(e){super(),this.elements=e}}function iS(n,e){const t=oS(e);for(const r of n.elements)t.some((s=>Cr(s,r)))||t.push(r);return{arrayValue:{values:t}}}class ru extends id{constructor(e){super(),this.elements=e}}function sS(n,e){let t=oS(e);for(const r of n.elements)t=t.filter((s=>!Cr(s,r)));return{arrayValue:{values:t}}}class xh extends id{constructor(e,t){super(),this.serializer=e,this.Ae=t}}function ow(n){return pt(n.integerValue||n.doubleValue)}function oS(n){return ug(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eb{constructor(e,t){this.field=e,this.transform=t}}function tb(n,e){return n.field.isEqual(e.field)&&(function(r,s){return r instanceof nu&&s instanceof nu||r instanceof ru&&s instanceof ru?la(r.elements,s.elements,Cr):r instanceof xh&&s instanceof xh?Cr(r.Ae,s.Ae):r instanceof tu&&s instanceof tu})(n.transform,e.transform)}class nb{constructor(e,t){this.version=e,this.transformResults=t}}class Qn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Qn}static exists(e){return new Qn(void 0,e)}static updateTime(e){return new Qn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function oh(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class sd{}function aS(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new fg(n.key,Qn.none()):new yu(n.key,n.data,Qn.none());{const t=n.data,r=ln.empty();let s=new It(Ot.comparator);for(let a of e.fields)if(!s.has(a)){let u=t.field(a);u===null&&a.length>1&&(a=a.popLast(),u=t.field(a)),u===null?r.delete(a):r.set(a,u),s=s.add(a)}return new ss(n.key,r,new _n(s.toArray()),Qn.none())}}function rb(n,e,t){n instanceof yu?(function(s,a,u){const d=s.value.clone(),f=lw(s.fieldTransforms,a,u.transformResults);d.setAll(f),a.convertToFoundDocument(u.version,d).setHasCommittedMutations()})(n,e,t):n instanceof ss?(function(s,a,u){if(!oh(s.precondition,a))return void a.convertToUnknownDocument(u.version);const d=lw(s.fieldTransforms,a,u.transformResults),f=a.data;f.setAll(lS(s)),f.setAll(d),a.convertToFoundDocument(u.version,f).setHasCommittedMutations()})(n,e,t):(function(s,a,u){a.convertToNoDocument(u.version).setHasCommittedMutations()})(0,e,t)}function Bl(n,e,t,r){return n instanceof yu?(function(a,u,d,f){if(!oh(a.precondition,u))return d;const p=a.value.clone(),g=uw(a.fieldTransforms,f,u);return p.setAll(g),u.convertToFoundDocument(u.version,p).setHasLocalMutations(),null})(n,e,t,r):n instanceof ss?(function(a,u,d,f){if(!oh(a.precondition,u))return d;const p=uw(a.fieldTransforms,f,u),g=u.data;return g.setAll(lS(a)),g.setAll(p),u.convertToFoundDocument(u.version,g).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((_=>_.field)))})(n,e,t,r):(function(a,u,d){return oh(a.precondition,u)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):d})(n,e,t)}function ib(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=rS(r.transform,s||null);a!=null&&(t===null&&(t=ln.empty()),t.set(r.field,a))}return t||null}function aw(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!(function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&la(r,s,((a,u)=>tb(a,u)))})(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class yu extends sd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class ss extends sd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function lS(n){const e=new Map;return n.fieldMask.fields.forEach((t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}})),e}function lw(n,e,t){const r=new Map;ze(n.length===t.length,32656,{Re:t.length,Ve:n.length});for(let s=0;s<t.length;s++){const a=n[s],u=a.transform,d=e.data.field(a.field);r.set(a.field,ZV(u,d,t[s]))}return r}function uw(n,e,t){const r=new Map;for(const s of n){const a=s.transform,u=t.data.field(s.field);r.set(s.field,JV(a,u,e))}return r}class fg extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class sb extends sd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ob{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&rb(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Bl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=tS();return this.mutations.forEach((s=>{const a=e.get(s.key),u=a.overlayedDocument;let d=this.applyToLocalView(u,a.mutatedFields);d=t.has(s.key)?null:d;const f=aS(u,d);f!==null&&r.set(s.key,f),u.isValidDocument()||u.convertToNoDocument(Se.min())})),r}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),be())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,((t,r)=>aw(t,r)))&&la(this.baseMutations,e.baseMutations,((t,r)=>aw(t,r)))}}class pg{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){ze(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=(function(){return GV})();const a=e.mutations;for(let u=0;u<a.length;u++)s=s.insert(a[u].key,r[u].version);return new pg(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lb{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var vt,Le;function ub(n){switch(n){case J.OK:return Ee(64938);case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0;default:return Ee(15467,{code:n})}}function uS(n){if(n===void 0)return ei("GRPC error has no .code"),J.UNKNOWN;switch(n){case vt.OK:return J.OK;case vt.CANCELLED:return J.CANCELLED;case vt.UNKNOWN:return J.UNKNOWN;case vt.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case vt.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case vt.INTERNAL:return J.INTERNAL;case vt.UNAVAILABLE:return J.UNAVAILABLE;case vt.UNAUTHENTICATED:return J.UNAUTHENTICATED;case vt.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case vt.NOT_FOUND:return J.NOT_FOUND;case vt.ALREADY_EXISTS:return J.ALREADY_EXISTS;case vt.PERMISSION_DENIED:return J.PERMISSION_DENIED;case vt.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case vt.ABORTED:return J.ABORTED;case vt.OUT_OF_RANGE:return J.OUT_OF_RANGE;case vt.UNIMPLEMENTED:return J.UNIMPLEMENTED;case vt.DATA_LOSS:return J.DATA_LOSS;default:return Ee(39323,{code:n})}}(Le=vt||(vt={}))[Le.OK=0]="OK",Le[Le.CANCELLED=1]="CANCELLED",Le[Le.UNKNOWN=2]="UNKNOWN",Le[Le.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Le[Le.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Le[Le.NOT_FOUND=5]="NOT_FOUND",Le[Le.ALREADY_EXISTS=6]="ALREADY_EXISTS",Le[Le.PERMISSION_DENIED=7]="PERMISSION_DENIED",Le[Le.UNAUTHENTICATED=16]="UNAUTHENTICATED",Le[Le.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Le[Le.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Le[Le.ABORTED=10]="ABORTED",Le[Le.OUT_OF_RANGE=11]="OUT_OF_RANGE",Le[Le.UNIMPLEMENTED=12]="UNIMPLEMENTED",Le[Le.INTERNAL=13]="INTERNAL",Le[Le.UNAVAILABLE=14]="UNAVAILABLE",Le[Le.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cb(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hb=new Hi([4294967295,4294967295],0);function cw(n){const e=cb().encode(n),t=new I1;return t.update(e),new Uint8Array(t.digest())}function hw(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Hi([t,r],0),new Hi([s,a],0)]}class mg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Dl(`Invalid padding: ${t}`);if(r<0)throw new Dl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Dl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Dl(`Invalid padding when bitmap length is 0: ${t}`);this.ge=8*e.length-t,this.pe=Hi.fromNumber(this.ge)}ye(e,t,r){let s=e.add(t.multiply(Hi.fromNumber(r)));return s.compare(hb)===1&&(s=new Hi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const t=cw(e),[r,s]=hw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);if(!this.we(u))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),u=new mg(a,s,t);return r.forEach((d=>u.insert(d))),u}insert(e){if(this.ge===0)return;const t=cw(e),[r,s]=hw(t);for(let a=0;a<this.hashCount;a++){const u=this.ye(r,s,a);this.Se(u)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Dl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class od{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,vu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new od(Se.min(),s,new ot(Ve),ti(),be())}}class vu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new vu(r,t,be(),be(),be())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah{constructor(e,t,r,s){this.be=e,this.removedTargetIds=t,this.key=r,this.De=s}}class cS{constructor(e,t){this.targetId=e,this.Ce=t}}class hS{constructor(e,t,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class dw{constructor(){this.ve=0,this.Fe=fw(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=be(),t=be(),r=be();return this.Fe.forEach(((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Ee(38017,{changeType:a})}})),new vu(this.Me,this.xe,e,t,r)}qe(){this.Oe=!1,this.Fe=fw()}Qe(e,t){this.Oe=!0,this.Fe=this.Fe.insert(e,t)}$e(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}Ue(){this.ve+=1}Ke(){this.ve-=1,ze(this.ve>=0,3241,{ve:this.ve})}We(){this.Oe=!0,this.xe=!0}}class db{constructor(e){this.Ge=e,this.ze=new Map,this.je=ti(),this.Je=Kc(),this.He=Kc(),this.Ye=new ot(Ve)}Ze(e){for(const t of e.be)e.De&&e.De.isFoundDocument()?this.Xe(t,e.De):this.et(t,e.key,e.De);for(const t of e.removedTargetIds)this.et(t,e.key,e.De)}tt(e){this.forEachTarget(e,(t=>{const r=this.nt(t);switch(e.state){case 0:this.rt(t)&&r.Le(e.resumeToken);break;case 1:r.Ke(),r.Ne||r.qe(),r.Le(e.resumeToken);break;case 2:r.Ke(),r.Ne||this.removeTarget(t);break;case 3:this.rt(t)&&(r.We(),r.Le(e.resumeToken));break;case 4:this.rt(t)&&(this.it(t),r.Le(e.resumeToken));break;default:Ee(56790,{state:e.state})}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.ze.forEach(((r,s)=>{this.rt(s)&&t(s)}))}st(e){const t=e.targetId,r=e.Ce.count,s=this.ot(t);if(s){const a=s.target;if(Jp(a))if(r===0){const u=new ge(a.path);this.et(t,u,Kt.newNoDocument(u,Se.min()))}else ze(r===1,20013,{expectedCount:r});else{const u=this._t(t);if(u!==r){const d=this.ut(e),f=d?this.ct(d,e,u):1;if(f!==0){this.it(t);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ye=this.Ye.insert(t,p)}}}}}ut(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let u,d;try{u=Ji(r).toUint8Array()}catch(f){if(f instanceof L1)return aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new mg(u,s,a)}catch(f){return aa(f instanceof Dl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.ge===0?null:d}ct(e,t,r){return t.Ce.count===r-this.Pt(e,t.targetId)?0:2}Pt(e,t){const r=this.Ge.getRemoteKeysForTarget(t);let s=0;return r.forEach((a=>{const u=this.Ge.ht(),d=`projects/${u.projectId}/databases/${u.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.et(t,a,null),s++)})),s}Tt(e){const t=new Map;this.ze.forEach(((a,u)=>{const d=this.ot(u);if(d){if(a.current&&Jp(d.target)){const f=new ge(d.target.path);this.It(f).has(u)||this.Et(u,f)||this.et(u,f,Kt.newNoDocument(f,e))}a.Be&&(t.set(u,a.ke()),a.qe())}}));let r=be();this.He.forEach(((a,u)=>{let d=!0;u.forEachWhile((f=>{const p=this.ot(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.je.forEach(((a,u)=>u.setReadTime(e)));const s=new od(e,t,this.Ye,this.je,r);return this.je=ti(),this.Je=Kc(),this.He=Kc(),this.Ye=new ot(Ve),s}Xe(e,t){if(!this.rt(e))return;const r=this.Et(e,t.key)?2:0;this.nt(e).Qe(t.key,r),this.je=this.je.insert(t.key,t),this.Je=this.Je.insert(t.key,this.It(t.key).add(e)),this.He=this.He.insert(t.key,this.dt(t.key).add(e))}et(e,t,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,t)?s.Qe(t,1):s.$e(t),this.He=this.He.insert(t,this.dt(t).delete(e)),this.He=this.He.insert(t,this.dt(t).add(e)),r&&(this.je=this.je.insert(t,r))}removeTarget(e){this.ze.delete(e)}_t(e){const t=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ue(e){this.nt(e).Ue()}nt(e){let t=this.ze.get(e);return t||(t=new dw,this.ze.set(e,t)),t}dt(e){let t=this.He.get(e);return t||(t=new It(Ve),this.He=this.He.insert(e,t)),t}It(e){let t=this.Je.get(e);return t||(t=new It(Ve),this.Je=this.Je.insert(e,t)),t}rt(e){const t=this.ot(e)!==null;return t||ue("WatchChangeAggregator","Detected inactive target",e),t}ot(e){const t=this.ze.get(e);return t&&t.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new dw),this.Ge.getRemoteKeysForTarget(e).forEach((t=>{this.et(e,t,null)}))}Et(e,t){return this.Ge.getRemoteKeysForTarget(e).has(t)}}function Kc(){return new ot(ge.comparator)}function fw(){return new ot(ge.comparator)}const fb={asc:"ASCENDING",desc:"DESCENDING"},pb={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},mb={and:"AND",or:"OR"};class gb{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function em(n,e){return n.useProto3Json||Zh(e)?e:{value:e}}function kh(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function dS(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function yb(n,e){return kh(n,e.toTimestamp())}function wr(n){return ze(!!n,49232),Se.fromTimestamp((function(t){const r=Yi(t);return new Ze(r.seconds,r.nanos)})(n))}function gg(n,e){return tm(n,e).canonicalString()}function tm(n,e){const t=(function(s){return new Je(["projects",s.projectId,"databases",s.database])})(n).child("documents");return e===void 0?t:t.child(e)}function fS(n){const e=Je.fromString(n);return ze(vS(e),10190,{key:e.toString()}),e}function nm(n,e){return gg(n.databaseId,e.path)}function yp(n,e){const t=fS(e);if(t.get(1)!==n.databaseId.projectId)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new pe(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new ge(mS(t))}function pS(n,e){return gg(n.databaseId,e)}function vb(n){const e=fS(n);return e.length===4?Je.emptyPath():mS(e)}function rm(n){return new Je(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function mS(n){return ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function pw(n,e,t){return{name:nm(n,e),fields:t.value.mapValue.fields}}function _b(n,e){let t;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:Ee(39313,{state:p})})(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=(function(p,g){return p.useProto3Json?(ze(g===void 0||typeof g=="string",58123),Ft.fromBase64String(g||"")):(ze(g===void 0||g instanceof Buffer||g instanceof Uint8Array,16193),Ft.fromUint8Array(g||new Uint8Array))})(n,e.targetChange.resumeToken),u=e.targetChange.cause,d=u&&(function(p){const g=p.code===void 0?J.UNKNOWN:uS(p.code);return new pe(g,p.message||"")})(u);t=new hS(r,s,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=yp(n,r.document.name),a=wr(r.document.updateTime),u=r.document.createTime?wr(r.document.createTime):Se.min(),d=new ln({mapValue:{fields:r.document.fields}}),f=Kt.newFoundDocument(s,a,u,d),p=r.targetIds||[],g=r.removedTargetIds||[];t=new ah(p,g,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=yp(n,r.document),a=r.readTime?wr(r.readTime):Se.min(),u=Kt.newNoDocument(s,a),d=r.removedTargetIds||[];t=new ah([],d,u.key,u)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=yp(n,r.document),a=r.removedTargetIds||[];t=new ah([],a,s,null)}else{if(!("filter"in e))return Ee(11601,{Rt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,u=new lb(s,a),d=r.targetId;t=new cS(d,u)}}return t}function wb(n,e){let t;if(e instanceof yu)t={update:pw(n,e.key,e.value)};else if(e instanceof fg)t={delete:nm(n,e.key)};else if(e instanceof ss)t={update:pw(n,e.key,e.data),updateMask:xb(e.fieldMask)};else{if(!(e instanceof sb))return Ee(16599,{Vt:e.type});t={verify:nm(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map((r=>(function(a,u){const d=u.transform;if(d instanceof tu)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof nu)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof ru)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof xh)return{fieldPath:u.field.canonicalString(),increment:d.Ae};throw Ee(20930,{transform:u.transform})})(0,r)))),e.precondition.isNone||(t.currentDocument=(function(s,a){return a.updateTime!==void 0?{updateTime:yb(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ee(27497)})(n,e.precondition)),t}function Eb(n,e){return n&&n.length>0?(ze(e!==void 0,14353),n.map((t=>(function(s,a){let u=s.updateTime?wr(s.updateTime):wr(a);return u.isEqual(Se.min())&&(u=wr(a)),new nb(u,s.transformResults||[])})(t,e)))):[]}function Tb(n,e){return{documents:[pS(n,e.path)]}}function Sb(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=pS(n,s);const a=(function(p){if(p.length!==0)return yS(Ar.create(p,"and"))})(e.filters);a&&(t.structuredQuery.where=a);const u=(function(p){if(p.length!==0)return p.map((g=>(function(E){return{field:$o(E.field),direction:Cb(E.dir)}})(g)))})(e.orderBy);u&&(t.structuredQuery.orderBy=u);const d=em(n,e.limit);return d!==null&&(t.structuredQuery.limit=d),e.startAt&&(t.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(t.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{ft:t,parent:s}}function Ib(n){let e=vb(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){ze(r===1,65062);const g=t.from[0];g.allDescendants?s=g.collectionId:e=e.child(g.collectionId)}let a=[];t.where&&(a=(function(_){const E=gS(_);return E instanceof Ar&&q1(E)?E.getFilters():[E]})(t.where));let u=[];t.orderBy&&(u=(function(_){return _.map((E=>(function(V){return new Rh(Ho(V.field),(function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(V.direction))})(E)))})(t.orderBy));let d=null;t.limit&&(d=(function(_){let E;return E=typeof _=="object"?_.value:_,Zh(E)?null:E})(t.limit));let f=null;t.startAt&&(f=(function(_){const E=!!_.before,I=_.values||[];return new Ah(I,E)})(t.startAt));let p=null;return t.endAt&&(p=(function(_){const E=!_.before,I=_.values||[];return new Ah(I,E)})(t.endAt)),BV(e,s,u,a,d,"F",f,p)}function Pb(n,e){const t=(function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ee(28987,{purpose:s})}})(e.purpose);return t==null?null:{"goog-listen-tags":t}}function gS(n){return n.unaryFilter!==void 0?(function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Ho(t.unaryFilter.field);return St.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Ho(t.unaryFilter.field);return St.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Ho(t.unaryFilter.field);return St.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Ho(t.unaryFilter.field);return St.create(u,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ee(61313);default:return Ee(60726)}})(n):n.fieldFilter!==void 0?(function(t){return St.create(Ho(t.fieldFilter.field),(function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ee(58110);default:return Ee(50506)}})(t.fieldFilter.op),t.fieldFilter.value)})(n):n.compositeFilter!==void 0?(function(t){return Ar.create(t.compositeFilter.filters.map((r=>gS(r))),(function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Ee(1026)}})(t.compositeFilter.op))})(n):Ee(30097,{filter:n})}function Cb(n){return fb[n]}function Ab(n){return pb[n]}function Rb(n){return mb[n]}function $o(n){return{fieldPath:n.canonicalString()}}function Ho(n){return Ot.fromServerFormat(n.fieldPath)}function yS(n){return n instanceof St?(function(t){if(t.op==="=="){if(tw(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NAN"}};if(ew(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(tw(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NAN"}};if(ew(t.value))return{unaryFilter:{field:$o(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:$o(t.field),op:Ab(t.op),value:t.value}}})(n):n instanceof Ar?(function(t){const r=t.getFilters().map((s=>yS(s)));return r.length===1?r[0]:{compositeFilter:{op:Rb(t.op),filters:r}}})(n):Ee(54877,{filter:n})}function xb(n){const e=[];return n.fields.forEach((t=>e.push(t.canonicalString()))),{fieldPaths:e}}function vS(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ui{constructor(e,t,r,s,a=Se.min(),u=Se.min(),d=Ft.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=u,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Ui(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Ui(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kb{constructor(e){this.yt=e}}function Nb(n){const e=Ib({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Zp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Db{constructor(){this.Cn=new Vb}addToCollectionParentIndex(e,t){return this.Cn.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}deleteAllFieldIndexes(e){return X.resolve()}createTargetIndexes(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(Xi.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class Vb{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new It(Je.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new It(Je.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},_S=41943040;class an{static withCacheSize(e){return new an(e,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */an.DEFAULT_COLLECTION_PERCENTILE=10,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,an.DEFAULT=new an(_S,an.DEFAULT_COLLECTION_PERCENTILE,an.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),an.DISABLED=new an(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this.ar=e}next(){return this.ar+=2,this.ar}static ur(){return new ha(0)}static cr(){return new ha(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gw="LruGarbageCollector",bb=1048576;function yw([n,e],[t,r]){const s=Ve(n,t);return s===0?Ve(e,r):s}class Mb{constructor(e){this.Ir=e,this.buffer=new It(yw),this.Er=0}dr(){return++this.Er}Ar(e){const t=[e,this.dr()];if(this.buffer.size<this.Ir)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();yw(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Lb{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Vr(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Vr(e){ue(gw,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ia(t)?ue(gw,"Ignoring IndexedDB error during garbage collection: ",t):await Sa(t)}await this.Vr(3e5)}))}}class Ob{constructor(e,t){this.mr=e,this.params=t}calculateTargetCount(e,t){return this.mr.gr(e).next((r=>Math.floor(t/100*r)))}nthSequenceNumber(e,t){if(t===0)return X.resolve(Jh.ce);const r=new Mb(t);return this.mr.forEachTarget(e,(s=>r.Ar(s.sequenceNumber))).next((()=>this.mr.pr(e,(s=>r.Ar(s))))).next((()=>r.maxValue))}removeTargets(e,t,r){return this.mr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.mr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ue("LruGarbageCollector","Garbage collection skipped; disabled"),X.resolve(mw)):this.getCacheSize(e).next((r=>r<this.params.cacheSizeCollectionThreshold?(ue("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),mw):this.yr(e,t)))}getCacheSize(e){return this.mr.getCacheSize(e)}yr(e,t){let r,s,a,u,d,f,p;const g=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((_=>(_>this.params.maximumSequenceNumbersToCollect?(ue("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),s=this.params.maximumSequenceNumbersToCollect):s=_,u=Date.now(),this.nthSequenceNumber(e,s)))).next((_=>(r=_,d=Date.now(),this.removeTargets(e,r,t)))).next((_=>(a=_,f=Date.now(),this.removeOrphanedDocuments(e,r)))).next((_=>(p=Date.now(),Bo()<=De.DEBUG&&ue("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${u-g}ms
	Determined least recently used ${s} in `+(d-u)+`ms
	Removed ${a} targets in `+(f-d)+`ms
	Removed ${_} documents in `+(p-f)+`ms
Total Duration: ${p-g}ms`),X.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:_}))))}}function jb(n,e){return new Ob(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fb{constructor(){this.changes=new Qs((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Kt.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ub{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bb{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next((s=>(r=s,this.remoteDocumentCache.getEntry(e,t)))).next((s=>(r!==null&&Bl(r.mutation,s,_n.empty(),Ze.now()),s)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.getLocalViewOfDocuments(e,r,be()).next((()=>r))))}getLocalViewOfDocuments(e,t,r=be()){const s=Us();return this.populateOverlays(e,s,t).next((()=>this.computeViews(e,t,s,r).next((a=>{let u=Nl();return a.forEach(((d,f)=>{u=u.insert(d,f.overlayedDocument)})),u}))))}getOverlayedDocuments(e,t){const r=Us();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,be())))}populateOverlays(e,t,r){const s=[];return r.forEach((a=>{t.has(a)||s.push(a)})),this.documentOverlayCache.getOverlays(e,s).next((a=>{a.forEach(((u,d)=>{t.set(u,d)}))}))}computeViews(e,t,r,s){let a=ti();const u=Ul(),d=(function(){return Ul()})();return t.forEach(((f,p)=>{const g=r.get(p.key);s.has(p.key)&&(g===void 0||g.mutation instanceof ss)?a=a.insert(p.key,p):g!==void 0?(u.set(p.key,g.mutation.getFieldMask()),Bl(g.mutation,p,g.mutation.getFieldMask(),Ze.now())):u.set(p.key,_n.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,g)=>u.set(p,g))),t.forEach(((p,g)=>d.set(p,new Ub(g,u.get(p)??null)))),d)))}recalculateAndSaveOverlays(e,t){const r=Ul();let s=new ot(((u,d)=>u-d)),a=be();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((u=>{for(const d of u)d.keys().forEach((f=>{const p=t.get(f);if(p===null)return;let g=r.get(f)||_n.empty();g=d.applyToLocalView(p,g),r.set(f,g);const _=(s.get(d.batchId)||be()).add(f);s=s.insert(d.batchId,_)}))})).next((()=>{const u=[],d=s.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,g=f.value,_=tS();g.forEach((E=>{if(!a.has(E)){const I=aS(t.get(E),r.get(E));I!==null&&_.set(E,I),a=a.add(E)}})),u.push(this.documentOverlayCache.saveOverlays(e,p,_))}return X.waitFor(u)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,t,r,s){return(function(u){return ge.isDocumentKey(u.path)&&u.collectionGroup===null&&u.filters.length===0})(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):zV(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next((a=>{const u=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):X.resolve(Us());let d=Yl,f=a;return u.next((p=>X.forEach(p,((g,_)=>(d<_.largestBatchId&&(d=_.largestBatchId),a.get(g)?X.resolve():this.remoteDocumentCache.getEntry(e,g).next((E=>{f=f.insert(g,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,be()))).next((g=>({batchId:d,changes:eS(g)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ge(t)).next((r=>{let s=Nl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s}))}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let u=Nl();return this.indexManager.getCollectionParents(e,a).next((d=>X.forEach(d,(f=>{const p=(function(_,E){return new td(E,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)})(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,s).next((g=>{g.forEach(((_,E)=>{u=u.insert(_,E)}))}))})).next((()=>u))))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next((u=>(a=u,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s)))).next((u=>{a.forEach(((f,p)=>{const g=p.getKey();u.get(g)===null&&(u=u.insert(g,Kt.newInvalidDocument(g)))}));let d=Nl();return u.forEach(((f,p)=>{const g=a.get(f);g!==void 0&&Bl(g.mutation,p,_n.empty(),Ze.now()),rd(t,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zb{constructor(e){this.serializer=e,this.Lr=new Map,this.kr=new Map}getBundleMetadata(e,t){return X.resolve(this.Lr.get(t))}saveBundleMetadata(e,t){return this.Lr.set(t.id,(function(s){return{id:s.id,version:s.version,createTime:wr(s.createTime)}})(t)),X.resolve()}getNamedQuery(e,t){return X.resolve(this.kr.get(t))}saveNamedQuery(e,t){return this.kr.set(t.name,(function(s){return{name:s.name,query:Nb(s.bundledQuery),readTime:wr(s.readTime)}})(t)),X.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $b{constructor(){this.overlays=new ot(ge.comparator),this.qr=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Us();return X.forEach(t,(s=>this.getOverlay(e,s).next((a=>{a!==null&&r.set(s,a)})))).next((()=>r))}saveOverlays(e,t,r){return r.forEach(((s,a)=>{this.St(e,t,a)})),X.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.qr.get(r);return s!==void 0&&(s.forEach((a=>this.overlays=this.overlays.remove(a))),this.qr.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const s=Us(),a=t.length+1,u=new ge(t.child("")),d=this.overlays.getIteratorFrom(u);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!t.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return X.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new ot(((p,g)=>p-g));const u=this.overlays.getIterator();for(;u.hasNext();){const p=u.getNext().value;if(p.getKey().getCollectionGroup()===t&&p.largestBatchId>r){let g=a.get(p.largestBatchId);g===null&&(g=Us(),a=a.insert(p.largestBatchId,g)),g.set(p.getKey(),p)}}const d=Us(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,g)=>d.set(p,g))),!(d.size()>=s)););return X.resolve(d)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const u=this.qr.get(s.largestBatchId).delete(r.key);this.qr.set(s.largestBatchId,u)}this.overlays=this.overlays.insert(r.key,new ab(t,r));let a=this.qr.get(t);a===void 0&&(a=be(),this.qr.set(t,a)),this.qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hb{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return X.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,X.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yg{constructor(){this.Qr=new It(Rt.$r),this.Ur=new It(Rt.Kr)}isEmpty(){return this.Qr.isEmpty()}addReference(e,t){const r=new Rt(e,t);this.Qr=this.Qr.add(r),this.Ur=this.Ur.add(r)}Wr(e,t){e.forEach((r=>this.addReference(r,t)))}removeReference(e,t){this.Gr(new Rt(e,t))}zr(e,t){e.forEach((r=>this.removeReference(r,t)))}jr(e){const t=new ge(new Je([])),r=new Rt(t,e),s=new Rt(t,e+1),a=[];return this.Ur.forEachInRange([r,s],(u=>{this.Gr(u),a.push(u.key)})),a}Jr(){this.Qr.forEach((e=>this.Gr(e)))}Gr(e){this.Qr=this.Qr.delete(e),this.Ur=this.Ur.delete(e)}Hr(e){const t=new ge(new Je([])),r=new Rt(t,e),s=new Rt(t,e+1);let a=be();return this.Ur.forEachInRange([r,s],(u=>{a=a.add(u.key)})),a}containsKey(e){const t=new Rt(e,0),r=this.Qr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Rt{constructor(e,t){this.key=e,this.Yr=t}static $r(e,t){return ge.comparator(e.key,t.key)||Ve(e.Yr,t.Yr)}static Kr(e,t){return Ve(e.Yr,t.Yr)||ge.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wb{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.tr=1,this.Zr=new It(Rt.$r)}checkEmpty(e){return X.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.tr;this.tr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const u=new ob(a,t,r,s);this.mutationQueue.push(u);for(const d of s)this.Zr=this.Zr.add(new Rt(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return X.resolve(u)}lookupMutationBatch(e,t){return X.resolve(this.Xr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ei(r),a=s<0?0:s;return X.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(this.mutationQueue.length===0?ag:this.tr-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Rt(t,0),s=new Rt(t,Number.POSITIVE_INFINITY),a=[];return this.Zr.forEachInRange([r,s],(u=>{const d=this.Xr(u.Yr);a.push(d)})),X.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new It(Ve);return t.forEach((s=>{const a=new Rt(s,0),u=new Rt(s,Number.POSITIVE_INFINITY);this.Zr.forEachInRange([a,u],(d=>{r=r.add(d.Yr)}))})),X.resolve(this.ti(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;ge.isDocumentKey(a)||(a=a.child(""));const u=new Rt(new ge(a),0);let d=new It(Ve);return this.Zr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===s&&(d=d.add(f.Yr)),!0)}),u),X.resolve(this.ti(d))}ti(e){const t=[];return e.forEach((r=>{const s=this.Xr(r);s!==null&&t.push(s)})),t}removeMutationBatch(e,t){ze(this.ni(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Zr;return X.forEach(t.mutations,(s=>{const a=new Rt(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)})).next((()=>{this.Zr=r}))}ir(e){}containsKey(e,t){const r=new Rt(t,0),s=this.Zr.firstAfterOrEqual(r);return X.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,X.resolve()}ni(e,t){return this.ei(e)}ei(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Xr(e){const t=this.ei(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(e){this.ri=e,this.docs=(function(){return new ot(ge.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,u=this.ri(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:u}),this.size+=u-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():Kt.newInvalidDocument(t))}getEntries(e,t){let r=ti();return t.forEach((s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():Kt.newInvalidDocument(s))})),X.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ti();const u=t.path,d=new ge(u.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:g}}=f.getNext();if(!u.isPrefixOf(p.path))break;p.path.length>u.length+1||_V(vV(g),r)<=0||(s.has(g.key)||rd(t,g))&&(a=a.insert(g.key,g.mutableCopy()))}return X.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Ee(9500)}ii(e,t){return X.forEach(this.docs,(r=>t(r)))}newChangeBuffer(e){return new Gb(this)}getSize(e){return X.resolve(this.size)}}class Gb extends Fb{constructor(e){super(),this.Nr=e}applyChanges(e){const t=[];return this.changes.forEach(((r,s)=>{s.isValidDocument()?t.push(this.Nr.addEntry(e,s)):this.Nr.removeEntry(r)})),X.waitFor(t)}getFromCache(e,t){return this.Nr.getEntry(e,t)}getAllFromCache(e,t){return this.Nr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kb{constructor(e){this.persistence=e,this.si=new Qs((t=>cg(t)),hg),this.lastRemoteSnapshotVersion=Se.min(),this.highestTargetId=0,this.oi=0,this._i=new yg,this.targetCount=0,this.ai=ha.ur()}forEachTarget(e,t){return this.si.forEach(((r,s)=>t(s))),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.oi)}allocateTargetId(e){return this.highestTargetId=this.ai.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.oi&&(this.oi=t),X.resolve()}Pr(e){this.si.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ai=new ha(t),this.highestTargetId=t),e.sequenceNumber>this.oi&&(this.oi=e.sequenceNumber)}addTargetData(e,t){return this.Pr(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Pr(t),X.resolve()}removeTargetData(e,t){return this.si.delete(t.target),this._i.jr(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.si.forEach(((u,d)=>{d.sequenceNumber<=t&&r.get(d.targetId)===null&&(this.si.delete(u),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),s++)})),X.waitFor(a).next((()=>s))}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.si.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this._i.Wr(t,r),X.resolve()}removeMatchingKeys(e,t,r){this._i.zr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach((u=>{a.push(s.markPotentiallyOrphaned(e,u))})),X.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this._i.jr(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this._i.Hr(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this._i.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wS{constructor(e,t){this.ui={},this.overlays={},this.ci=new Jh(0),this.li=!1,this.li=!0,this.hi=new Hb,this.referenceDelegate=e(this),this.Pi=new Kb(this),this.indexManager=new Db,this.remoteDocumentCache=(function(s){return new qb(s)})((r=>this.referenceDelegate.Ti(r))),this.serializer=new kb(t),this.Ii=new zb(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.li=!1,Promise.resolve()}get started(){return this.li}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new $b,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ui[e.toKey()];return r||(r=new Wb(t,this.referenceDelegate),this.ui[e.toKey()]=r),r}getGlobalsCache(){return this.hi}getTargetCache(){return this.Pi}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ii}runTransaction(e,t,r){ue("MemoryPersistence","Starting transaction:",e);const s=new Qb(this.ci.next());return this.referenceDelegate.Ei(),r(s).next((a=>this.referenceDelegate.di(s).next((()=>a)))).toPromise().then((a=>(s.raiseOnCommittedEvent(),a)))}Ai(e,t){return X.or(Object.values(this.ui).map((r=>()=>r.containsKey(e,t))))}}class Qb extends EV{constructor(e){super(),this.currentSequenceNumber=e}}class vg{constructor(e){this.persistence=e,this.Ri=new yg,this.Vi=null}static mi(e){return new vg(e)}get fi(){if(this.Vi)return this.Vi;throw Ee(60996)}addReference(e,t,r){return this.Ri.addReference(r,t),this.fi.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Ri.removeReference(r,t),this.fi.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.fi.add(t.toString()),X.resolve()}removeTarget(e,t){this.Ri.jr(t.targetId).forEach((s=>this.fi.add(s.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next((s=>{s.forEach((a=>this.fi.add(a.toString())))})).next((()=>r.removeTargetData(e,t)))}Ei(){this.Vi=new Set}di(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.fi,(r=>{const s=ge.fromPath(r);return this.gi(e,s).next((a=>{a||t.removeEntry(s,Se.min())}))})).next((()=>(this.Vi=null,t.apply(e))))}updateLimboDocument(e,t){return this.gi(e,t).next((r=>{r?this.fi.delete(t.toString()):this.fi.add(t.toString())}))}Ti(e){return 0}gi(e,t){return X.or([()=>X.resolve(this.Ri.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ai(e,t)])}}class Nh{constructor(e,t){this.persistence=e,this.pi=new Qs((r=>IV(r.path)),((r,s)=>r.isEqual(s))),this.garbageCollector=jb(this,t)}static mi(e,t){return new Nh(e,t)}Ei(){}di(e){return X.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}gr(e){const t=this.wr(e);return this.persistence.getTargetCache().getTargetCount(e).next((r=>t.next((s=>r+s))))}wr(e){let t=0;return this.pr(e,(r=>{t++})).next((()=>t))}pr(e,t){return X.forEach(this.pi,((r,s)=>this.br(e,r,s).next((a=>a?X.resolve():t(s)))))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.ii(e,(u=>this.br(e,u,t).next((d=>{d||(r++,a.removeEntry(u,Se.min()))})))).next((()=>a.apply(e))).next((()=>r))}markPotentiallyOrphaned(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}removeReference(e,t,r){return this.pi.set(r,e.currentSequenceNumber),X.resolve()}updateLimboDocument(e,t){return this.pi.set(t,e.currentSequenceNumber),X.resolve()}Ti(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=ih(e.data.value)),t}br(e,t,r){return X.or([()=>this.persistence.Ai(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.pi.get(t);return X.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Es=r,this.ds=s}static As(e,t){let r=be(),s=be();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new _g(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xb{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yb{constructor(){this.Rs=!1,this.Vs=!1,this.fs=100,this.gs=(function(){return UN()?8:TV(Xt())>0?6:4})()}initialize(e,t){this.ps=e,this.indexManager=t,this.Rs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ys(e,t).next((u=>{a.result=u})).next((()=>{if(!a.result)return this.ws(e,t,s,r).next((u=>{a.result=u}))})).next((()=>{if(a.result)return;const u=new Xb;return this.Ss(e,t,u).next((d=>{if(a.result=d,this.Vs)return this.bs(e,t,u,d.size)}))})).next((()=>a.result))}bs(e,t,r,s){return r.documentReadCount<this.fs?(Bo()<=De.DEBUG&&ue("QueryEngine","SDK will not create cache indexes for query:",zo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.fs,"documents"),X.resolve()):(Bo()<=De.DEBUG&&ue("QueryEngine","Query:",zo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.gs*s?(Bo()<=De.DEBUG&&ue("QueryEngine","The SDK decides to create cache indexes for query:",zo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,_r(t))):X.resolve())}ys(e,t){if(sw(t))return X.resolve(null);let r=_r(t);return this.indexManager.getIndexType(e,r).next((s=>s===0?null:(t.limit!==null&&s===1&&(t=Zp(t,null,"F"),r=_r(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const u=be(...a);return this.ps.getDocuments(e,u).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.Ds(t,d);return this.Cs(t,p,u,f.readTime)?this.ys(e,Zp(t,null,"F")):this.vs(e,p,t,f)}))))})))))}ws(e,t,r,s){return sw(t)||s.isEqual(Se.min())?X.resolve(null):this.ps.getDocuments(e,r).next((a=>{const u=this.Ds(t,a);return this.Cs(t,u,r,s)?X.resolve(null):(Bo()<=De.DEBUG&&ue("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),zo(t)),this.vs(e,u,t,yV(s,Yl)).next((d=>d)))}))}Ds(e,t){let r=new It(J1(e));return t.forEach(((s,a)=>{rd(e,a)&&(r=r.add(a))})),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Bo()<=De.DEBUG&&ue("QueryEngine","Using full collection scan to execute query:",zo(t)),this.ps.getDocumentsMatchingQuery(e,t,Xi.min(),r)}vs(e,t,r,s){return this.ps.getDocumentsMatchingQuery(e,r,s).next((a=>(t.forEach((u=>{a=a.insert(u.key,u)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wg="LocalStore",Jb=3e8;class Zb{constructor(e,t,r,s){this.persistence=e,this.Fs=t,this.serializer=s,this.Ms=new ot(Ve),this.xs=new Qs((a=>cg(a)),hg),this.Os=new Map,this.Ns=e.getRemoteDocumentCache(),this.Pi=e.getTargetCache(),this.Ii=e.getBundleCache(),this.Bs(r)}Bs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Bb(this.Ns,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Ns.setIndexManager(this.indexManager),this.Fs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.Ms)))}}function eM(n,e,t,r){return new Zb(n,e,t,r)}async function ES(n,e){const t=Pe(n);return await t.persistence.runTransaction("Handle user change","readonly",(r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next((a=>(s=a,t.Bs(e),t.mutationQueue.getAllMutationBatches(r)))).next((a=>{const u=[],d=[];let f=be();for(const p of s){u.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}for(const p of a){d.push(p.batchId);for(const g of p.mutations)f=f.add(g.key)}return t.localDocuments.getDocuments(r,f).next((p=>({Ls:p,removedBatchIds:u,addedBatchIds:d})))}))}))}function tM(n,e){const t=Pe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const s=e.batch.keys(),a=t.Ns.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,g){const _=p.batch,E=_.keys();let I=X.resolve();return E.forEach((V=>{I=I.next((()=>g.getEntry(f,V))).next((x=>{const k=p.docVersions.get(V);ze(k!==null,48541),x.version.compareTo(k)<0&&(_.applyToRemoteDocument(x,p),x.isValidDocument()&&(x.setReadTime(p.commitVersion),g.addEntry(x)))}))})),I.next((()=>d.mutationQueue.removeMutationBatch(f,_)))})(t,r,e,a).next((()=>a.apply(r))).next((()=>t.mutationQueue.performConsistencyCheck(r))).next((()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId))).next((()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=be();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>t.localDocuments.getDocuments(r,s)))}))}function TS(n){const e=Pe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(t=>e.Pi.getLastRemoteSnapshotVersion(t)))}function nM(n,e){const t=Pe(n),r=e.snapshotVersion;let s=t.Ms;return t.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const u=t.Ns.newChangeBuffer({trackRemovals:!0});s=t.Ms;const d=[];e.targetChanges.forEach(((g,_)=>{const E=s.get(_);if(!E)return;d.push(t.Pi.removeMatchingKeys(a,g.removedDocuments,_).next((()=>t.Pi.addMatchingKeys(a,g.addedDocuments,_))));let I=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(_)!==null?I=I.withResumeToken(Ft.EMPTY_BYTE_STRING,Se.min()).withLastLimboFreeSnapshotVersion(Se.min()):g.resumeToken.approximateByteSize()>0&&(I=I.withResumeToken(g.resumeToken,r)),s=s.insert(_,I),(function(x,k,F){return x.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-x.snapshotVersion.toMicroseconds()>=Jb?!0:F.addedDocuments.size+F.modifiedDocuments.size+F.removedDocuments.size>0})(E,I,g)&&d.push(t.Pi.updateTargetData(a,I))}));let f=ti(),p=be();if(e.documentUpdates.forEach((g=>{e.resolvedLimboDocuments.has(g)&&d.push(t.persistence.referenceDelegate.updateLimboDocument(a,g))})),d.push(rM(a,u,e.documentUpdates).next((g=>{f=g.ks,p=g.qs}))),!r.isEqual(Se.min())){const g=t.Pi.getLastRemoteSnapshotVersion(a).next((_=>t.Pi.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(g)}return X.waitFor(d).next((()=>u.apply(a))).next((()=>t.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(t.Ms=s,a)))}function rM(n,e,t){let r=be(),s=be();return t.forEach((a=>r=r.add(a))),e.getEntries(n,r).next((a=>{let u=ti();return t.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(s=s.add(d)),f.isNoDocument()&&f.version.isEqual(Se.min())?(e.removeEntry(d,f.readTime),u=u.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),u=u.insert(d,f)):ue(wg,"Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{ks:u,qs:s}}))}function iM(n,e){const t=Pe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=ag),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function sM(n,e){const t=Pe(n);return t.persistence.runTransaction("Allocate target","readwrite",(r=>{let s;return t.Pi.getTargetData(r,e).next((a=>a?(s=a,X.resolve(s)):t.Pi.allocateTargetId(r).next((u=>(s=new Ui(e,u,"TargetPurposeListen",r.currentSequenceNumber),t.Pi.addTargetData(r,s).next((()=>s)))))))})).then((r=>{const s=t.Ms.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.Ms=t.Ms.insert(r.targetId,r),t.xs.set(e,r.targetId)),r}))}async function im(n,e,t){const r=Pe(n),s=r.Ms.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,(u=>r.persistence.referenceDelegate.removeTarget(u,s)))}catch(u){if(!Ia(u))throw u;ue(wg,`Failed to update sequence numbers for target ${e}: ${u}`)}r.Ms=r.Ms.remove(e),r.xs.delete(s.target)}function vw(n,e,t){const r=Pe(n);let s=Se.min(),a=be();return r.persistence.runTransaction("Execute query","readwrite",(u=>(function(f,p,g){const _=Pe(f),E=_.xs.get(g);return E!==void 0?X.resolve(_.Ms.get(E)):_.Pi.getTargetData(p,g)})(r,u,_r(e)).next((d=>{if(d)return s=d.lastLimboFreeSnapshotVersion,r.Pi.getMatchingKeysForTargetId(u,d.targetId).next((f=>{a=f}))})).next((()=>r.Fs.getDocumentsMatchingQuery(u,e,t?s:Se.min(),t?a:be()))).next((d=>(oM(r,HV(e),d),{documents:d,Qs:a})))))}function oM(n,e,t){let r=n.Os.get(e)||Se.min();t.forEach(((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),n.Os.set(e,r)}class _w{constructor(){this.activeTargetIds=XV()}zs(e){this.activeTargetIds=this.activeTargetIds.add(e)}js(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class aM{constructor(){this.Mo=new _w,this.xo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.Mo.zs(e),this.xo[e]||"not-current"}updateQueryState(e,t,r){this.xo[e]=t}removeLocalQueryTarget(e){this.Mo.js(e)}isLocalQueryTarget(e){return this.Mo.activeTargetIds.has(e)}clearQueryState(e){delete this.xo[e]}getAllActiveQueryTargets(){return this.Mo.activeTargetIds}isActiveQueryTarget(e){return this.Mo.activeTargetIds.has(e)}start(){return this.Mo=new _w,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lM{Oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ww="ConnectivityMonitor";class Ew{constructor(){this.No=()=>this.Bo(),this.Lo=()=>this.ko(),this.qo=[],this.Qo()}Oo(e){this.qo.push(e)}shutdown(){window.removeEventListener("online",this.No),window.removeEventListener("offline",this.Lo)}Qo(){window.addEventListener("online",this.No),window.addEventListener("offline",this.Lo)}Bo(){ue(ww,"Network connectivity changed: AVAILABLE");for(const e of this.qo)e(0)}ko(){ue(ww,"Network connectivity changed: UNAVAILABLE");for(const e of this.qo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qc=null;function sm(){return Qc===null?Qc=(function(){return 268435456+Math.round(2147483648*Math.random())})():Qc++,"0x"+Qc.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vp="RestConnection",uM={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cM{get $o(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Uo=t+"://"+e.host,this.Ko=`projects/${r}/databases/${s}`,this.Wo=this.databaseId.database===Ph?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Go(e,t,r,s,a){const u=sm(),d=this.zo(e,t.toUriEncodedString());ue(vp,`Sending RPC '${e}' ${u}:`,d,r);const f={"google-cloud-resource-prefix":this.Ko,"x-goog-request-params":this.Wo};this.jo(f,s,a);const{host:p}=new URL(d),g=wa(p);return this.Jo(e,d,f,r,g).then((_=>(ue(vp,`Received RPC '${e}' ${u}: `,_),_)),(_=>{throw aa(vp,`RPC '${e}' ${u} failed with error: `,_,"url: ",d,"request:",r),_}))}Ho(e,t,r,s,a,u){return this.Go(e,t,r,s,a)}jo(e,t,r){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Ta})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((s,a)=>e[a]=s)),r&&r.headers.forEach(((s,a)=>e[a]=s))}zo(e,t){const r=uM[e];return`${this.Uo}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hM{constructor(e){this.Yo=e.Yo,this.Zo=e.Zo}Xo(e){this.e_=e}t_(e){this.n_=e}r_(e){this.i_=e}onMessage(e){this.s_=e}close(){this.Zo()}send(e){this.Yo(e)}o_(){this.e_()}__(){this.n_()}a_(e){this.i_(e)}u_(e){this.s_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wt="WebChannelConnection";class dM extends cM{constructor(e){super(e),this.c_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const u=sm();return new Promise(((d,f)=>{const p=new P1;p.setWithCredentials(!0),p.listenOnce(C1.COMPLETE,(()=>{try{switch(p.getLastErrorCode()){case rh.NO_ERROR:const _=p.getResponseJson();ue(Wt,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(_)),d(_);break;case rh.TIMEOUT:ue(Wt,`RPC '${e}' ${u} timed out`),f(new pe(J.DEADLINE_EXCEEDED,"Request time out"));break;case rh.HTTP_ERROR:const E=p.getStatus();if(ue(Wt,`RPC '${e}' ${u} failed with status:`,E,"response text:",p.getResponseText()),E>0){let I=p.getResponseJson();Array.isArray(I)&&(I=I[0]);const V=I==null?void 0:I.error;if(V&&V.status&&V.message){const x=(function(F){const q=F.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(q)>=0?q:J.UNKNOWN})(V.status);f(new pe(x,V.message))}else f(new pe(J.UNKNOWN,"Server responded with status "+p.getStatus()))}else f(new pe(J.UNAVAILABLE,"Connection failed."));break;default:Ee(9055,{l_:e,streamId:u,h_:p.getLastErrorCode(),P_:p.getLastError()})}}finally{ue(Wt,`RPC '${e}' ${u} completed.`)}}));const g=JSON.stringify(s);ue(Wt,`RPC '${e}' ${u} sending request:`,s),p.send(t,"POST",g,r,15)}))}T_(e,t,r){const s=sm(),a=[this.Uo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=x1(),d=R1(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.useFetchStreams=!0),this.jo(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const g=a.join("");ue(Wt,`Creating RPC '${e}' stream ${s}: ${g}`,f);const _=u.createWebChannel(g,f);this.I_(_);let E=!1,I=!1;const V=new hM({Yo:k=>{I?ue(Wt,`Not sending because RPC '${e}' stream ${s} is closed:`,k):(E||(ue(Wt,`Opening RPC '${e}' stream ${s} transport.`),_.open(),E=!0),ue(Wt,`RPC '${e}' stream ${s} sending:`,k),_.send(k))},Zo:()=>_.close()}),x=(k,F,q)=>{k.listen(F,(H=>{try{q(H)}catch(re){setTimeout((()=>{throw re}),0)}}))};return x(_,kl.EventType.OPEN,(()=>{I||(ue(Wt,`RPC '${e}' stream ${s} transport opened.`),V.o_())})),x(_,kl.EventType.CLOSE,(()=>{I||(I=!0,ue(Wt,`RPC '${e}' stream ${s} transport closed`),V.a_(),this.E_(_))})),x(_,kl.EventType.ERROR,(k=>{I||(I=!0,aa(Wt,`RPC '${e}' stream ${s} transport errored. Name:`,k.name,"Message:",k.message),V.a_(new pe(J.UNAVAILABLE,"The operation could not be completed")))})),x(_,kl.EventType.MESSAGE,(k=>{var F;if(!I){const q=k.data[0];ze(!!q,16349);const H=q,re=(H==null?void 0:H.error)||((F=H[0])==null?void 0:F.error);if(re){ue(Wt,`RPC '${e}' stream ${s} received error:`,re);const Q=re.status;let ie=(function(P){const b=vt[P];if(b!==void 0)return uS(b)})(Q),D=re.message;ie===void 0&&(ie=J.INTERNAL,D="Unknown error status: "+Q+" with message "+re.message),I=!0,V.a_(new pe(ie,D)),_.close()}else ue(Wt,`RPC '${e}' stream ${s} received:`,q),V.u_(q)}})),x(d,A1.STAT_EVENT,(k=>{k.stat===Gp.PROXY?ue(Wt,`RPC '${e}' stream ${s} detected buffering proxy`):k.stat===Gp.NOPROXY&&ue(Wt,`RPC '${e}' stream ${s} detected no buffering proxy`)})),setTimeout((()=>{V.__()}),0),V}terminate(){this.c_.forEach((e=>e.close())),this.c_=[]}I_(e){this.c_.push(e)}E_(e){this.c_=this.c_.filter((t=>t===e))}}function _p(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ad(n){return new gb(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SS{constructor(e,t,r=1e3,s=1.5,a=6e4){this.Mi=e,this.timerId=t,this.d_=r,this.A_=s,this.R_=a,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const t=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,t-r);s>0&&ue("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.V_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,s,(()=>(this.f_=Date.now(),e()))),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tw="PersistentStream";class IS{constructor(e,t,r,s,a,u,d,f){this.Mi=e,this.S_=r,this.b_=s,this.connection=a,this.authCredentialsProvider=u,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new SS(e,t)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Mi.enqueueAfterDelay(this.S_,6e4,(()=>this.k_())))}q_(e){this.Q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}Q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,t){this.Q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(ei(t.toString()),ei("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):t&&t.code===J.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.K_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.r_(t)}K_(){}auth(){this.state=1;const e=this.W_(this.D_),t=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,s])=>{this.D_===t&&this.G_(r,s)}),(r=>{e((()=>{const s=new pe(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)}))}))}G_(e,t){const r=this.W_(this.D_);this.stream=this.j_(e,t),this.stream.Xo((()=>{r((()=>this.listener.Xo()))})),this.stream.t_((()=>{r((()=>(this.state=2,this.v_=this.Mi.enqueueAfterDelay(this.b_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.t_())))})),this.stream.r_((s=>{r((()=>this.z_(s)))})),this.stream.onMessage((s=>{r((()=>++this.F_==1?this.J_(s):this.onNext(s)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ue(Tw,`close with error: ${e}`),this.stream=null,this.close(4,e)}W_(e){return t=>{this.Mi.enqueueAndForget((()=>this.D_===e?t():(ue(Tw,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class fM extends IS{constructor(e,t,r,s,a,u){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}j_(e,t){return this.connection.T_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.M_.reset();const t=_b(this.serializer,e),r=(function(a){if(!("targetChange"in a))return Se.min();const u=a.targetChange;return u.targetIds&&u.targetIds.length?Se.min():u.readTime?wr(u.readTime):Se.min()})(e);return this.listener.H_(t,r)}Y_(e){const t={};t.database=rm(this.serializer),t.addTarget=(function(a,u){let d;const f=u.target;if(d=Jp(f)?{documents:Tb(a,f)}:{query:Sb(a,f).ft},d.targetId=u.targetId,u.resumeToken.approximateByteSize()>0){d.resumeToken=dS(a,u.resumeToken);const p=em(a,u.expectedCount);p!==null&&(d.expectedCount=p)}else if(u.snapshotVersion.compareTo(Se.min())>0){d.readTime=kh(a,u.snapshotVersion.toTimestamp());const p=em(a,u.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=Pb(this.serializer,e);r&&(t.labels=r),this.q_(t)}Z_(e){const t={};t.database=rm(this.serializer),t.removeTarget=e,this.q_(t)}}class pM extends IS{constructor(e,t,r,s,a,u){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,u),this.serializer=a}get X_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}K_(){this.X_&&this.ea([])}j_(e,t){return this.connection.T_("Write",e,t)}J_(e){return ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const t=Eb(e.writeResults,e.commitTime),r=wr(e.commitTime);return this.listener.na(r,t)}ra(){const e={};e.database=rm(this.serializer),this.q_(e)}ea(e){const t={streamToken:this.lastStreamToken,writes:e.map((r=>wb(this.serializer,r)))};this.q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mM{}class gM extends mM{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.")}Go(e,t,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,u])=>this.connection.Go(e,tm(t,r),s,a,u))).catch((a=>{throw a.name==="FirebaseError"?(a.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new pe(J.UNKNOWN,a.toString())}))}Ho(e,t,r,s,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([u,d])=>this.connection.Ho(e,tm(t,r),s,u,d,a))).catch((u=>{throw u.name==="FirebaseError"?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new pe(J.UNKNOWN,u.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}class yM{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ei(t),this.aa=!1):ue("OnlineStateTracker",t)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qs="RemoteStore";class vM{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.da=[],this.Aa=a,this.Aa.Oo((u=>{r.enqueueAndForget((async()=>{Xs(this)&&(ue(qs,"Restarting streams for network reachability change."),await(async function(f){const p=Pe(f);p.Ea.add(4),await _u(p),p.Ra.set("Unknown"),p.Ea.delete(4),await ld(p)})(this))}))})),this.Ra=new yM(r,s)}}async function ld(n){if(Xs(n))for(const e of n.da)await e(!0)}async function _u(n){for(const e of n.da)await e(!1)}function PS(n,e){const t=Pe(n);t.Ia.has(e.targetId)||(t.Ia.set(e.targetId,e),Ig(t)?Sg(t):Pa(t).O_()&&Tg(t,e))}function Eg(n,e){const t=Pe(n),r=Pa(t);t.Ia.delete(e),r.O_()&&CS(t,e),t.Ia.size===0&&(r.O_()?r.L_():Xs(t)&&t.Ra.set("Unknown"))}function Tg(n,e){if(n.Va.Ue(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Se.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Pa(n).Y_(e)}function CS(n,e){n.Va.Ue(e),Pa(n).Z_(e)}function Sg(n){n.Va=new db({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),At:e=>n.Ia.get(e)||null,ht:()=>n.datastore.serializer.databaseId}),Pa(n).start(),n.Ra.ua()}function Ig(n){return Xs(n)&&!Pa(n).x_()&&n.Ia.size>0}function Xs(n){return Pe(n).Ea.size===0}function AS(n){n.Va=void 0}async function _M(n){n.Ra.set("Online")}async function wM(n){n.Ia.forEach(((e,t)=>{Tg(n,e)}))}async function EM(n,e){AS(n),Ig(n)?(n.Ra.ha(e),Sg(n)):n.Ra.set("Unknown")}async function TM(n,e,t){if(n.Ra.set("Online"),e instanceof hS&&e.state===2&&e.cause)try{await(async function(s,a){const u=a.cause;for(const d of a.targetIds)s.Ia.has(d)&&(await s.remoteSyncer.rejectListen(d,u),s.Ia.delete(d),s.Va.removeTarget(d))})(n,e)}catch(r){ue(qs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Dh(n,r)}else if(e instanceof ah?n.Va.Ze(e):e instanceof cS?n.Va.st(e):n.Va.tt(e),!t.isEqual(Se.min()))try{const r=await TS(n.localStore);t.compareTo(r)>=0&&await(function(a,u){const d=a.Va.Tt(u);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const g=a.Ia.get(p);g&&a.Ia.set(p,g.withResumeToken(f.resumeToken,u))}})),d.targetMismatches.forEach(((f,p)=>{const g=a.Ia.get(f);if(!g)return;a.Ia.set(f,g.withResumeToken(Ft.EMPTY_BYTE_STRING,g.snapshotVersion)),CS(a,f);const _=new Ui(g.target,f,p,g.sequenceNumber);Tg(a,_)})),a.remoteSyncer.applyRemoteEvent(d)})(n,t)}catch(r){ue(qs,"Failed to raise snapshot:",r),await Dh(n,r)}}async function Dh(n,e,t){if(!Ia(e))throw e;n.Ea.add(1),await _u(n),n.Ra.set("Offline"),t||(t=()=>TS(n.localStore)),n.asyncQueue.enqueueRetryable((async()=>{ue(qs,"Retrying IndexedDB access"),await t(),n.Ea.delete(1),await ld(n)}))}function RS(n,e){return e().catch((t=>Dh(n,t,e)))}async function ud(n){const e=Pe(n),t=es(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:ag;for(;SM(e);)try{const s=await iM(e.localStore,r);if(s===null){e.Ta.length===0&&t.L_();break}r=s.batchId,IM(e,s)}catch(s){await Dh(e,s)}xS(e)&&kS(e)}function SM(n){return Xs(n)&&n.Ta.length<10}function IM(n,e){n.Ta.push(e);const t=es(n);t.O_()&&t.X_&&t.ea(e.mutations)}function xS(n){return Xs(n)&&!es(n).x_()&&n.Ta.length>0}function kS(n){es(n).start()}async function PM(n){es(n).ra()}async function CM(n){const e=es(n);for(const t of n.Ta)e.ea(t.mutations)}async function AM(n,e,t){const r=n.Ta.shift(),s=pg.from(r,e,t);await RS(n,(()=>n.remoteSyncer.applySuccessfulWrite(s))),await ud(n)}async function RM(n,e){e&&es(n).X_&&await(async function(r,s){if((function(u){return ub(u)&&u!==J.ABORTED})(s.code)){const a=r.Ta.shift();es(r).B_(),await RS(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s))),await ud(r)}})(n,e),xS(n)&&kS(n)}async function Sw(n,e){const t=Pe(n);t.asyncQueue.verifyOperationInProgress(),ue(qs,"RemoteStore received new credentials");const r=Xs(t);t.Ea.add(3),await _u(t),r&&t.Ra.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.Ea.delete(3),await ld(t)}async function xM(n,e){const t=Pe(n);e?(t.Ea.delete(2),await ld(t)):e||(t.Ea.add(2),await _u(t),t.Ra.set("Unknown"))}function Pa(n){return n.ma||(n.ma=(function(t,r,s){const a=Pe(t);return a.sa(),new fM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:_M.bind(null,n),t_:wM.bind(null,n),r_:EM.bind(null,n),H_:TM.bind(null,n)}),n.da.push((async e=>{e?(n.ma.B_(),Ig(n)?Sg(n):n.Ra.set("Unknown")):(await n.ma.stop(),AS(n))}))),n.ma}function es(n){return n.fa||(n.fa=(function(t,r,s){const a=Pe(t);return a.sa(),new pM(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)})(n.datastore,n.asyncQueue,{Xo:()=>Promise.resolve(),t_:PM.bind(null,n),r_:RM.bind(null,n),ta:CM.bind(null,n),na:AM.bind(null,n)}),n.da.push((async e=>{e?(n.fa.B_(),await ud(n)):(await n.fa.stop(),n.Ta.length>0&&(ue(qs,`Stopping write stream with ${n.Ta.length} pending writes`),n.Ta=[]))}))),n.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Wi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((u=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const u=Date.now()+r,d=new Pg(e,t,u,s,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new pe(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Cg(n,e){if(ei("AsyncQueue",`${e}: ${n}`),Ia(n))return new pe(J.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{static emptySet(e){return new Yo(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||ge.comparator(t.key,r.key):(t,r)=>ge.comparator(t.key,r.key),this.keyedMap=Nl(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,r)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Yo)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new Yo;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(){this.ga=new ot(ge.comparator)}track(e){const t=e.doc.key,r=this.ga.get(t);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(t,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(t):e.type===1&&r.type===2?this.ga=this.ga.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(t,{type:2,doc:e.doc}):Ee(63341,{Rt:e,pa:r}):this.ga=this.ga.insert(t,e)}ya(){const e=[];return this.ga.inorderTraversal(((t,r)=>{e.push(r)})),e}}class da{constructor(e,t,r,s,a,u,d,f,p){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=u,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,t,r,s,a){const u=[];return t.forEach((d=>{u.push({type:0,doc:d})})),new da(e,t,Yo.emptySet(t),u,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&nd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kM{constructor(){this.wa=void 0,this.Sa=[]}ba(){return this.Sa.some((e=>e.Da()))}}class NM{constructor(){this.queries=Pw(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Pe(t),a=s.queries;s.queries=Pw(),a.forEach(((u,d)=>{for(const f of d.Sa)f.onError(r)}))})(this,new pe(J.ABORTED,"Firestore shutting down"))}}function Pw(){return new Qs((n=>Y1(n)),nd)}async function DM(n,e){const t=Pe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.ba()&&e.Da()&&(r=2):(a=new kM,r=e.Da()?0:1);try{switch(r){case 0:a.wa=await t.onListen(s,!0);break;case 1:a.wa=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(u){const d=Cg(u,`Initialization of query '${zo(e.query)}' failed`);return void e.onError(d)}t.queries.set(s,a),a.Sa.push(e),e.va(t.onlineState),a.wa&&e.Fa(a.wa)&&Ag(t)}async function VM(n,e){const t=Pe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const u=a.Sa.indexOf(e);u>=0&&(a.Sa.splice(u,1),a.Sa.length===0?s=e.Da()?0:1:!a.ba()&&e.Da()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function bM(n,e){const t=Pe(n);let r=!1;for(const s of e){const a=s.query,u=t.queries.get(a);if(u){for(const d of u.Sa)d.Fa(s)&&(r=!0);u.wa=s}}r&&Ag(t)}function MM(n,e,t){const r=Pe(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function Ag(n){n.Ca.forEach((e=>{e.next()}))}var om,Cw;(Cw=om||(om={})).Ma="default",Cw.Cache="cache";class LM{constructor(e,t,r){this.query=e,this.xa=t,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new da(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),t=!0):this.La(e,this.onlineState)&&(this.ka(e),t=!0),this.Na=e,t}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let t=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),t=!0),t}La(e,t){if(!e.fromCache||!this.Da())return!0;const r=t!=="Offline";return(!this.options.qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const t=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}ka(e){e=da.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==om.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NS{constructor(e){this.key=e}}class DS{constructor(e){this.key=e}}class OM{constructor(e,t){this.query=e,this.Ya=t,this.Za=null,this.hasCachedResults=!1,this.current=!1,this.Xa=be(),this.mutatedKeys=be(),this.eu=J1(e),this.tu=new Yo(this.eu)}get nu(){return this.Ya}ru(e,t){const r=t?t.iu:new Iw,s=t?t.tu:this.tu;let a=t?t.mutatedKeys:this.mutatedKeys,u=s,d=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,p=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal(((g,_)=>{const E=s.get(g),I=rd(this.query,_)?_:null,V=!!E&&this.mutatedKeys.has(E.key),x=!!I&&(I.hasLocalMutations||this.mutatedKeys.has(I.key)&&I.hasCommittedMutations);let k=!1;E&&I?E.data.isEqual(I.data)?V!==x&&(r.track({type:3,doc:I}),k=!0):this.su(E,I)||(r.track({type:2,doc:I}),k=!0,(f&&this.eu(I,f)>0||p&&this.eu(I,p)<0)&&(d=!0)):!E&&I?(r.track({type:0,doc:I}),k=!0):E&&!I&&(r.track({type:1,doc:E}),k=!0,(f||p)&&(d=!0)),k&&(I?(u=u.add(I),a=x?a.add(g):a.delete(g)):(u=u.delete(g),a=a.delete(g)))})),this.query.limit!==null)for(;u.size>this.query.limit;){const g=this.query.limitType==="F"?u.last():u.first();u=u.delete(g.key),a=a.delete(g.key),r.track({type:1,doc:g})}return{tu:u,iu:r,Cs:d,mutatedKeys:a}}su(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const u=e.iu.ya();u.sort(((g,_)=>(function(I,V){const x=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ee(20277,{Rt:k})}};return x(I)-x(V)})(g.type,_.type)||this.eu(g.doc,_.doc))),this.ou(r),s=s??!1;const d=t&&!s?this._u():[],f=this.Xa.size===0&&this.current&&!s?1:0,p=f!==this.Za;return this.Za=f,u.length!==0||p?{snapshot:new da(this.query,e.tu,a,u,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:d}:{au:d}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new Iw,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{au:[]}}uu(e){return!this.Ya.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((t=>this.Ya=this.Ya.add(t))),e.modifiedDocuments.forEach((t=>{})),e.removedDocuments.forEach((t=>this.Ya=this.Ya.delete(t))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Xa;this.Xa=be(),this.tu.forEach((r=>{this.uu(r.key)&&(this.Xa=this.Xa.add(r.key))}));const t=[];return e.forEach((r=>{this.Xa.has(r)||t.push(new DS(r))})),this.Xa.forEach((r=>{e.has(r)||t.push(new NS(r))})),t}cu(e){this.Ya=e.Qs,this.Xa=be();const t=this.ru(e.documents);return this.applyChanges(t,!0)}lu(){return da.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Za===0,this.hasCachedResults)}}const Rg="SyncEngine";class jM{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class FM{constructor(e){this.key=e,this.hu=!1}}class UM{constructor(e,t,r,s,a,u){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=u,this.Pu={},this.Tu=new Qs((d=>Y1(d)),nd),this.Iu=new Map,this.Eu=new Set,this.du=new ot(ge.comparator),this.Au=new Map,this.Ru=new yg,this.Vu={},this.mu=new Map,this.fu=ha.cr(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function BM(n,e,t=!0){const r=jS(n);let s;const a=r.Tu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.lu()):s=await VS(r,e,t,!0),s}async function zM(n,e){const t=jS(n);await VS(t,e,!0,!1)}async function VS(n,e,t,r){const s=await sM(n.localStore,_r(e)),a=s.targetId,u=n.sharedClientState.addLocalQueryTarget(a,t);let d;return r&&(d=await $M(n,e,a,u==="current",s.resumeToken)),n.isPrimaryClient&&t&&PS(n.remoteStore,s),d}async function $M(n,e,t,r,s){n.pu=(_,E,I)=>(async function(x,k,F,q){let H=k.view.ru(F);H.Cs&&(H=await vw(x.localStore,k.query,!1).then((({documents:D})=>k.view.ru(D,H))));const re=q&&q.targetChanges.get(k.targetId),Q=q&&q.targetMismatches.get(k.targetId)!=null,ie=k.view.applyChanges(H,x.isPrimaryClient,re,Q);return Rw(x,k.targetId,ie.au),ie.snapshot})(n,_,E,I);const a=await vw(n.localStore,e,!0),u=new OM(e,a.Qs),d=u.ru(a.documents),f=vu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),p=u.applyChanges(d,n.isPrimaryClient,f);Rw(n,t,p.au);const g=new jM(e,t,u);return n.Tu.set(e,g),n.Iu.has(t)?n.Iu.get(t).push(e):n.Iu.set(t,[e]),p.snapshot}async function HM(n,e,t){const r=Pe(n),s=r.Tu.get(e),a=r.Iu.get(s.targetId);if(a.length>1)return r.Iu.set(s.targetId,a.filter((u=>!nd(u,e)))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await im(r.localStore,s.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(s.targetId),t&&Eg(r.remoteStore,s.targetId),am(r,s.targetId)})).catch(Sa)):(am(r,s.targetId),await im(r.localStore,s.targetId,!0))}async function WM(n,e){const t=Pe(n),r=t.Tu.get(e),s=t.Iu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),Eg(t.remoteStore,r.targetId))}async function qM(n,e,t){const r=ZM(n);try{const s=await(function(u,d){const f=Pe(u),p=Ze.now(),g=d.reduce(((I,V)=>I.add(V.key)),be());let _,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(I=>{let V=ti(),x=be();return f.Ns.getEntries(I,g).next((k=>{V=k,V.forEach(((F,q)=>{q.isValidDocument()||(x=x.add(F))}))})).next((()=>f.localDocuments.getOverlayedDocuments(I,V))).next((k=>{_=k;const F=[];for(const q of d){const H=ib(q,_.get(q.key).overlayedDocument);H!=null&&F.push(new ss(q.key,H,$1(H.value.mapValue),Qn.exists(!0)))}return f.mutationQueue.addMutationBatch(I,p,F,d)})).next((k=>{E=k;const F=k.applyToLocalDocumentSet(_,x);return f.documentOverlayCache.saveOverlays(I,k.batchId,F)}))})).then((()=>({batchId:E.batchId,changes:eS(_)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),(function(u,d,f){let p=u.Vu[u.currentUser.toKey()];p||(p=new ot(Ve)),p=p.insert(d,f),u.Vu[u.currentUser.toKey()]=p})(r,s.batchId,t),await wu(r,s.changes),await ud(r.remoteStore)}catch(s){const a=Cg(s,"Failed to persist write");t.reject(a)}}async function bS(n,e){const t=Pe(n);try{const r=await nM(t.localStore,e);e.targetChanges.forEach(((s,a)=>{const u=t.Au.get(a);u&&(ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?u.hu=!0:s.modifiedDocuments.size>0?ze(u.hu,14607):s.removedDocuments.size>0&&(ze(u.hu,42227),u.hu=!1))})),await wu(t,r,e)}catch(r){await Sa(r)}}function Aw(n,e,t){const r=Pe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.Tu.forEach(((a,u)=>{const d=u.view.va(e);d.snapshot&&s.push(d.snapshot)})),(function(u,d){const f=Pe(u);f.onlineState=d;let p=!1;f.queries.forEach(((g,_)=>{for(const E of _.Sa)E.va(d)&&(p=!0)})),p&&Ag(f)})(r.eventManager,e),s.length&&r.Pu.H_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function GM(n,e,t){const r=Pe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Au.get(e),a=s&&s.key;if(a){let u=new ot(ge.comparator);u=u.insert(a,Kt.newNoDocument(a,Se.min()));const d=be().add(a),f=new od(Se.min(),new Map,new ot(Ve),u,d);await bS(r,f),r.du=r.du.remove(a),r.Au.delete(e),xg(r)}else await im(r.localStore,e,!1).then((()=>am(r,e,t))).catch(Sa)}async function KM(n,e){const t=Pe(n),r=e.batch.batchId;try{const s=await tM(t.localStore,e);LS(t,r,null),MS(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await wu(t,s)}catch(s){await Sa(s)}}async function QM(n,e,t){const r=Pe(n);try{const s=await(function(u,d){const f=Pe(u);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let g;return f.mutationQueue.lookupMutationBatch(p,d).next((_=>(ze(_!==null,37113),g=_.keys(),f.mutationQueue.removeMutationBatch(p,_)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,g,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,g))).next((()=>f.localDocuments.getDocuments(p,g)))}))})(r.localStore,e);LS(r,e,t),MS(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await wu(r,s)}catch(s){await Sa(s)}}function MS(n,e){(n.mu.get(e)||[]).forEach((t=>{t.resolve()})),n.mu.delete(e)}function LS(n,e,t){const r=Pe(n);let s=r.Vu[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Vu[r.currentUser.toKey()]=s}}function am(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Iu.get(e))n.Tu.delete(r),t&&n.Pu.yu(r,t);n.Iu.delete(e),n.isPrimaryClient&&n.Ru.jr(e).forEach((r=>{n.Ru.containsKey(r)||OS(n,r)}))}function OS(n,e){n.Eu.delete(e.path.canonicalString());const t=n.du.get(e);t!==null&&(Eg(n.remoteStore,t),n.du=n.du.remove(e),n.Au.delete(t),xg(n))}function Rw(n,e,t){for(const r of t)r instanceof NS?(n.Ru.addReference(r.key,e),XM(n,r)):r instanceof DS?(ue(Rg,"Document no longer in limbo: "+r.key),n.Ru.removeReference(r.key,e),n.Ru.containsKey(r.key)||OS(n,r.key)):Ee(19791,{wu:r})}function XM(n,e){const t=e.key,r=t.path.canonicalString();n.du.get(t)||n.Eu.has(r)||(ue(Rg,"New document in limbo: "+t),n.Eu.add(r),xg(n))}function xg(n){for(;n.Eu.size>0&&n.du.size<n.maxConcurrentLimboResolutions;){const e=n.Eu.values().next().value;n.Eu.delete(e);const t=new ge(Je.fromString(e)),r=n.fu.next();n.Au.set(r,new FM(t)),n.du=n.du.insert(t,r),PS(n.remoteStore,new Ui(_r(X1(t.path)),r,"TargetPurposeLimboResolution",Jh.ce))}}async function wu(n,e,t){const r=Pe(n),s=[],a=[],u=[];r.Tu.isEmpty()||(r.Tu.forEach(((d,f)=>{u.push(r.pu(f,e,t).then((p=>{var g;if((p||t)&&r.isPrimaryClient){const _=p?!p.fromCache:(g=t==null?void 0:t.targetChanges.get(f.targetId))==null?void 0:g.current;r.sharedClientState.updateQueryState(f.targetId,_?"current":"not-current")}if(p){s.push(p);const _=_g.As(f.targetId,p);a.push(_)}})))})),await Promise.all(u),r.Pu.H_(s),await(async function(f,p){const g=Pe(f);try{await g.persistence.runTransaction("notifyLocalViewChanges","readwrite",(_=>X.forEach(p,(E=>X.forEach(E.Es,(I=>g.persistence.referenceDelegate.addReference(_,E.targetId,I))).next((()=>X.forEach(E.ds,(I=>g.persistence.referenceDelegate.removeReference(_,E.targetId,I)))))))))}catch(_){if(!Ia(_))throw _;ue(wg,"Failed to update sequence numbers: "+_)}for(const _ of p){const E=_.targetId;if(!_.fromCache){const I=g.Ms.get(E),V=I.snapshotVersion,x=I.withLastLimboFreeSnapshotVersion(V);g.Ms=g.Ms.insert(E,x)}}})(r.localStore,a))}async function YM(n,e){const t=Pe(n);if(!t.currentUser.isEqual(e)){ue(Rg,"User change. New user:",e.toKey());const r=await ES(t.localStore,e);t.currentUser=e,(function(a,u){a.mu.forEach((d=>{d.forEach((f=>{f.reject(new pe(J.CANCELLED,u))}))})),a.mu.clear()})(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await wu(t,r.Ls)}}function JM(n,e){const t=Pe(n),r=t.Au.get(e);if(r&&r.hu)return be().add(r.key);{let s=be();const a=t.Iu.get(e);if(!a)return s;for(const u of a){const d=t.Tu.get(u);s=s.unionWith(d.view.nu)}return s}}function jS(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=bS.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=JM.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=GM.bind(null,e),e.Pu.H_=bM.bind(null,e.eventManager),e.Pu.yu=MM.bind(null,e.eventManager),e}function ZM(n){const e=Pe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=KM.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=QM.bind(null,e),e}class Vh{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ad(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,t){return null}Mu(e,t){return null}vu(e){return eM(this.persistence,new Yb,e.initialUser,this.serializer)}Cu(e){return new wS(vg.mi,this.serializer)}Du(e){return new aM}async terminate(){var e,t;(e=this.gcScheduler)==null||e.stop(),(t=this.indexBackfillerScheduler)==null||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Vh.provider={build:()=>new Vh};class eL extends Vh{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,t){ze(this.persistence.referenceDelegate instanceof Nh,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Lb(r,e.asyncQueue,t)}Cu(e){const t=this.cacheSizeBytes!==void 0?an.withCacheSize(this.cacheSizeBytes):an.DEFAULT;return new wS((r=>Nh.mi(r,t)),this.serializer)}}class lm{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Aw(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=YM.bind(null,this.syncEngine),await xM(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new NM})()}createDatastore(e){const t=ad(e.databaseInfo.databaseId),r=(function(a){return new dM(a)})(e.databaseInfo);return(function(a,u,d,f){return new gM(a,u,d,f)})(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return(function(r,s,a,u,d){return new vM(r,s,a,u,d)})(this.localStore,this.datastore,e.asyncQueue,(t=>Aw(this.syncEngine,t,0)),(function(){return Ew.v()?new Ew:new lM})())}createSyncEngine(e,t){return(function(s,a,u,d,f,p,g){const _=new UM(s,a,u,d,f,p);return g&&(_.gu=!0),_})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await(async function(s){const a=Pe(s);ue(qs,"RemoteStore shutting down."),a.Ea.add(5),await _u(a),a.Aa.shutdown(),a.Ra.set("Unknown")})(this.remoteStore),(e=this.datastore)==null||e.terminate(),(t=this.eventManager)==null||t.terminate()}}lm.provider={build:()=>new lm};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tL{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ei("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ts="FirestoreClient";class nL{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=Gt.UNAUTHENTICATED,this.clientId=sg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,(async u=>{ue(ts,"Received user=",u.uid),await this.authCredentialListener(u),this.user=u})),this.appCheckCredentials.start(r,(u=>(ue(ts,"Received new app check token=",u),this.appCheckCredentialListener(u,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Wi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Cg(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function wp(n,e){n.asyncQueue.verifyOperationInProgress(),ue(ts,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener((async s=>{r.isEqual(s)||(await ES(e.localStore,s),r=s)})),e.persistence.setDatabaseDeletedListener((()=>n.terminate())),n._offlineComponents=e}async function xw(n,e){n.asyncQueue.verifyOperationInProgress();const t=await rL(n);ue(ts,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener((r=>Sw(e.remoteStore,r))),n.setAppCheckTokenChangeListener(((r,s)=>Sw(e.remoteStore,s))),n._onlineComponents=e}async function rL(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ue(ts,"Using user provided OfflineComponentProvider");try{await wp(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!(function(s){return s.name==="FirebaseError"?s.code===J.FAILED_PRECONDITION||s.code===J.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11})(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await wp(n,new Vh)}}else ue(ts,"Using default OfflineComponentProvider"),await wp(n,new eL(void 0));return n._offlineComponents}async function FS(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ue(ts,"Using user provided OnlineComponentProvider"),await xw(n,n._uninitializedComponentsProvider._online)):(ue(ts,"Using default OnlineComponentProvider"),await xw(n,new lm))),n._onlineComponents}function iL(n){return FS(n).then((e=>e.syncEngine))}async function sL(n){const e=await FS(n),t=e.eventManager;return t.onListen=BM.bind(null,e.syncEngine),t.onUnlisten=HM.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=zM.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=WM.bind(null,e.syncEngine),t}function oL(n,e,t={}){const r=new Wi;return n.asyncQueue.enqueueAndForget((async()=>(function(a,u,d,f,p){const g=new tL({next:E=>{g.Nu(),u.enqueueAndForget((()=>VM(a,_))),E.fromCache&&f.source==="server"?p.reject(new pe(J.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),_=new LM(d,g,{includeMetadataChanges:!0,qa:!0});return DM(a,_)})(await sL(n),n.asyncQueue,e,t,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function US(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BS="firestore.googleapis.com",Nw=!0;class Dw{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new pe(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=BS,this.ssl=Nw}else this.host=e.host,this.ssl=e.ssl??Nw;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=_S;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<bb)throw new pe(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}gV("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=US(e.experimentalLongPollingOptions??{}),(function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new pe(J.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,s){return r.timeoutSeconds===s.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class cd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Dw({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new pe(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new pe(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Dw(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new oV;switch(r.type){case"firstParty":return new cV(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new pe(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(t){const r=kw.get(t);r&&(ue("ComponentProvider","Removing Datastore"),kw.delete(t),r.terminate())})(this),Promise.resolve()}}function aL(n,e,t,r={}){var p;n=Ws(n,cd);const s=wa(e),a=n._getSettings(),u={...a,emulatorOptions:n._getEmulatorOptions()},d=`${e}:${t}`;s&&(g1(`https://${d}`),y1("Firestore",!0)),a.host!==BS&&a.host!==d&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const f={...a,host:d,ssl:s,emulatorOptions:r};if(!zs(f,u)&&(n._setSettings(f),r.mockUserToken)){let g,_;if(typeof r.mockUserToken=="string")g=r.mockUserToken,_=Gt.MOCK_USER;else{g=NN(r.mockUserToken,(p=n._app)==null?void 0:p.options.projectId);const E=r.mockUserToken.sub||r.mockUserToken.user_id;if(!E)throw new pe(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");_=new Gt(E)}n._authCredentials=new aV(new N1(g,_))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hd{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new hd(this.firestore,e,this._query)}}class xt{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,t,r){if(gu(t,xt._jsonSchema))return new xt(e,r||null,new ge(Je.fromString(t.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:_t("string",xt._jsonSchemaVersion),referencePath:_t("string")};class qi extends hd{constructor(e,t,r){super(e,t,X1(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new ge(e))}withConverter(e){return new qi(this.firestore,e,this._path)}}function fa(n,e,...t){if(n=jt(n),D1("collection","path",e),n instanceof cd){const r=Je.fromString(e,...t);return q0(r),new qi(n,null,r)}{if(!(n instanceof xt||n instanceof qi))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return q0(r),new qi(n.firestore,null,r)}}function iu(n,e,...t){if(n=jt(n),arguments.length===1&&(e=sg.newId()),D1("doc","path",e),n instanceof cd){const r=Je.fromString(e,...t);return W0(r),new xt(n,null,new ge(r))}{if(!(n instanceof xt||n instanceof qi))throw new pe(J.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Je.fromString(e,...t));return W0(r),new xt(n.firestore,n instanceof qi?n.converter:null,new ge(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vw="AsyncQueue";class bw{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new SS(this,"async_queue_retry"),this._c=()=>{const r=_p();r&&ue(Vw,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const t=_p();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const t=_p();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const t=new Wi;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Xu.push(e),this.lc())))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!Ia(e))throw e;ue(Vw,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const t=this.ac.then((()=>(this.rc=!0,e().catch((r=>{throw this.nc=r,this.rc=!1,ei("INTERNAL UNHANDLED ERROR: ",Mw(r)),r})).then((r=>(this.rc=!1,r))))));return this.ac=t,t}enqueueAfterDelay(e,t,r){this.uc(),this.oc.indexOf(e)>-1&&(t=0);const s=Pg.createAndSchedule(this,e,t,r,(a=>this.hc(a)));return this.tc.push(s),s}uc(){this.nc&&Ee(47125,{Pc:Mw(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const t of this.tc)if(t.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((t,r)=>t.targetTimeMs-r.targetTimeMs));for(const t of this.tc)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.Tc()}))}dc(e){this.oc.push(e)}hc(e){const t=this.tc.indexOf(e);this.tc.splice(t,1)}}function Mw(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}class Eu extends cd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new bw,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new bw(e),this._firestoreClient=void 0,await e}}}function lL(n,e){const t=typeof n=="object"?n:E1(),r=typeof n=="string"?n:Ph,s=rg(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=xN("firestore");a&&aL(s,...a)}return s}function zS(n){if(n._terminated)throw new pe(J.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||uL(n),n._firestoreClient}function uL(n){var r,s,a;const e=n._freezeSettings(),t=(function(d,f,p,g){return new AV(d,f,p,g.host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,US(g.experimentalLongPollingOptions),g.useFetchStreams,g.isUsingEmulator)})(n._databaseId,((r=n._app)==null?void 0:r.options.appId)||"",n._persistenceKey,e);n._componentsProvider||(s=e.localCache)!=null&&s._offlineComponentProvider&&((a=e.localCache)!=null&&a._onlineComponentProvider)&&(n._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),n._firestoreClient=new nL(n._authCredentials,n._appCheckCredentials,n._queue,t,n._componentsProvider&&(function(d){const f=d==null?void 0:d._online.build();return{_offline:d==null?void 0:d._offline.build(f),_online:f}})(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Vn(Ft.fromBase64String(e))}catch(t){throw new pe(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Vn(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Vn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(gu(e,Vn._jsonSchema))return Vn.fromBase64String(e.bytes)}}Vn._jsonSchemaVersion="firestore/bytes/1.0",Vn._jsonSchema={type:_t("string",Vn._jsonSchemaVersion),bytes:_t("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dd{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new pe(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ot(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Er{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new pe(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new pe(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ve(this._lat,e._lat)||Ve(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Er._jsonSchemaVersion}}static fromJSON(e){if(gu(e,Er._jsonSchema))return new Er(e.latitude,e.longitude)}}Er._jsonSchemaVersion="firestore/geoPoint/1.0",Er._jsonSchema={type:_t("string",Er._jsonSchemaVersion),latitude:_t("number"),longitude:_t("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tr{constructor(e){this._values=(e||[]).map((t=>t))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:Tr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(gu(e,Tr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((t=>typeof t=="number")))return new Tr(e.vectorValues);throw new pe(J.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}Tr._jsonSchemaVersion="firestore/vectorValue/1.0",Tr._jsonSchema={type:_t("string",Tr._jsonSchemaVersion),vectorValues:_t("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cL=/^__.*__$/;class hL{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new ss(e,this.data,this.fieldMask,t,this.fieldTransforms):new yu(e,this.data,t,this.fieldTransforms)}}class $S{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new ss(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HS(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ee(40011,{Ac:n})}}class kg{constructor(e,t,r,s,a,u){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Rc(),this.fieldTransforms=a||[],this.fieldMask=u||[]}get path(){return this.settings.path}get Ac(){return this.settings.Ac}Vc(e){return new kg({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}mc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.gc(e),r}yc(e){var s;const t=(s=this.path)==null?void 0:s.child(e),r=this.Vc({path:t,fc:!1});return r.Rc(),r}wc(e){return this.Vc({path:void 0,fc:!0})}Sc(e){return bh(e,this.settings.methodName,this.settings.bc||!1,this.path,this.settings.Dc)}contains(e){return this.fieldMask.find((t=>e.isPrefixOf(t)))!==void 0||this.fieldTransforms.find((t=>e.isPrefixOf(t.field)))!==void 0}Rc(){if(this.path)for(let e=0;e<this.path.length;e++)this.gc(this.path.get(e))}gc(e){if(e.length===0)throw this.Sc("Document fields must not be empty");if(HS(this.Ac)&&cL.test(e))throw this.Sc('Document fields cannot begin and end with "__"')}}class dL{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ad(e)}Cc(e,t,r,s=!1){return new kg({Ac:e,methodName:t,Dc:r,path:Ot.emptyPath(),fc:!1,bc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function WS(n){const e=n._freezeSettings(),t=ad(n._databaseId);return new dL(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fL(n,e,t,r,s,a={}){const u=n.Cc(a.merge||a.mergeFields?2:0,e,t,s);Dg("Data must be an object, but it was:",u,r);const d=qS(r,u);let f,p;if(a.merge)f=new _n(u.fieldMask),p=u.fieldTransforms;else if(a.mergeFields){const g=[];for(const _ of a.mergeFields){const E=um(e,_,t);if(!u.contains(E))throw new pe(J.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);KS(g,E)||g.push(E)}f=new _n(g),p=u.fieldTransforms.filter((_=>f.covers(_.field)))}else f=null,p=u.fieldTransforms;return new hL(new ln(d),f,p)}class pd extends fd{_toFieldTransform(e){if(e.Ac!==2)throw e.Ac===1?e.Sc(`${this._methodName}() can only appear at the top level of your update data`):e.Sc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof pd}}class Ng extends fd{_toFieldTransform(e){return new eb(e.path,new tu)}isEqual(e){return e instanceof Ng}}function pL(n,e,t,r){const s=n.Cc(1,e,t);Dg("Data must be an object, but it was:",s,r);const a=[],u=ln.empty();is(r,((f,p)=>{const g=Vg(e,f,t);p=jt(p);const _=s.yc(g);if(p instanceof pd)a.push(g);else{const E=md(p,_);E!=null&&(a.push(g),u.set(g,E))}}));const d=new _n(a);return new $S(u,d,s.fieldTransforms)}function mL(n,e,t,r,s,a){const u=n.Cc(1,e,t),d=[um(e,r,t)],f=[s];if(a.length%2!=0)throw new pe(J.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(um(e,a[E])),f.push(a[E+1]);const p=[],g=ln.empty();for(let E=d.length-1;E>=0;--E)if(!KS(p,d[E])){const I=d[E];let V=f[E];V=jt(V);const x=u.yc(I);if(V instanceof pd)p.push(I);else{const k=md(V,x);k!=null&&(p.push(I),g.set(I,k))}}const _=new _n(p);return new $S(g,_,u.fieldTransforms)}function md(n,e){if(GS(n=jt(n)))return Dg("Unsupported field value:",e,n),qS(n,e);if(n instanceof fd)return(function(r,s){if(!HS(s.Ac))throw s.Sc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.Sc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)})(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.fc&&e.Ac!==4)throw e.Sc("Nested arrays are not supported");return(function(r,s){const a=[];let u=0;for(const d of r){let f=md(d,s.wc(u));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),u++}return{arrayValue:{values:a}}})(n,e)}return(function(r,s){if((r=jt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return YV(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ze.fromDate(r);return{timestampValue:kh(s.serializer,a)}}if(r instanceof Ze){const a=new Ze(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:kh(s.serializer,a)}}if(r instanceof Er)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Vn)return{bytesValue:dS(s.serializer,r._byteString)};if(r instanceof xt){const a=s.databaseId,u=r.firestore._databaseId;if(!u.isEqual(a))throw s.Sc(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:gg(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof Tr)return(function(u,d){return{mapValue:{fields:{[B1]:{stringValue:z1},[Ch]:{arrayValue:{values:u.toArray().map((p=>{if(typeof p!="number")throw d.Sc("VectorValues must only contain numeric values.");return dg(d.serializer,p)}))}}}}}})(r,s);throw s.Sc(`Unsupported field value: ${og(r)}`)})(n,e)}function qS(n,e){const t={};return M1(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):is(n,((r,s)=>{const a=md(s,e.mc(r));a!=null&&(t[r]=a)})),{mapValue:{fields:t}}}function GS(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ze||n instanceof Er||n instanceof Vn||n instanceof xt||n instanceof fd||n instanceof Tr)}function Dg(n,e,t){if(!GS(t)||!V1(t)){const r=og(t);throw r==="an object"?e.Sc(n+" a custom object"):e.Sc(n+" "+r)}}function um(n,e,t){if((e=jt(e))instanceof dd)return e._internalPath;if(typeof e=="string")return Vg(n,e);throw bh("Field path arguments must be of type string or ",n,!1,void 0,t)}const gL=new RegExp("[~\\*/\\[\\]]");function Vg(n,e,t){if(e.search(gL)>=0)throw bh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new dd(...e.split("."))._internalPath}catch{throw bh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function bh(n,e,t,r,s){const a=r&&!r.isEmpty(),u=s!==void 0;let d=`Function ${e}() called with invalid data`;t&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||u)&&(f+=" (found",a&&(f+=` in field ${r}`),u&&(f+=` in document ${s}`),f+=")"),new pe(J.INVALID_ARGUMENT,d+n+f)}function KS(n,e){return n.some((t=>t.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QS{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new yL(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(XS("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class yL extends QS{data(){return super.data()}}function XS(n,e){return typeof e=="string"?Vg(n,e):e instanceof dd?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vL(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new pe(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class _L{convertValue(e,t="none"){switch(Zi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Ji(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Ee(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return is(e,((s,a)=>{r[s]=this.convertValue(a,t)})),r}convertVectorValue(e){var r,s,a;const t=(a=(s=(r=e.fields)==null?void 0:r[Ch].arrayValue)==null?void 0:s.values)==null?void 0:a.map((u=>pt(u.doubleValue)));return new Tr(t)}convertGeoPoint(e){return new Er(pt(e.latitude),pt(e.longitude))}convertArray(e,t){return(e.values||[]).map((r=>this.convertValue(r,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const r=ed(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=Yi(e);return new Ze(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Je.fromString(e);ze(vS(r),9688,{name:e});const s=new Zl(r.get(1),r.get(3)),a=new ge(r.popFirst(5));return s.isEqual(t)||ei(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wL(n,e,t){let r;return r=n?n.toFirestore(e):e,r}class Xc{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Jo extends QS{constructor(e,t,r,s,a,u){super(e,t,r,s,u),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new lh(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(XS("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,t={};return t.type=Jo._jsonSchemaVersion,t.bundle="",t.bundleSource="DocumentSnapshot",t.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?t:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),t.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),t)}}Jo._jsonSchemaVersion="firestore/documentSnapshot/1.0",Jo._jsonSchema={type:_t("string",Jo._jsonSchemaVersion),bundleSource:_t("string","DocumentSnapshot"),bundleName:_t("string"),bundle:_t("string")};class lh extends Jo{data(e={}){return super.data(e)}}class Zo{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Xc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach((t=>e.push(t))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach((r=>{e.call(t,new lh(this._firestore,this._userDataWriter,r.key,r,new Xc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new pe(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=(function(s,a){if(s._snapshot.oldDocs.isEmpty()){let u=0;return s._snapshot.docChanges.map((d=>{const f=new lh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Xc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:u++}}))}{let u=s._snapshot.oldDocs;return s._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new lh(s._firestore,s._userDataWriter,d.doc.key,d.doc,new Xc(s._snapshot.mutatedKeys.has(d.doc.key),s._snapshot.fromCache),s.query.converter);let p=-1,g=-1;return d.type!==0&&(p=u.indexOf(d.doc.key),u=u.delete(d.doc.key)),d.type!==1&&(u=u.add(d.doc),g=u.indexOf(d.doc.key)),{type:EL(d.type),doc:f,oldIndex:p,newIndex:g}}))}})(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new pe(J.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Zo._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=sg.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const t=[],r=[],s=[];return this.docs.forEach((a=>{a._document!==null&&(t.push(a._document),r.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),s.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function EL(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ee(61501,{type:n})}}Zo._jsonSchemaVersion="firestore/querySnapshot/1.0",Zo._jsonSchema={type:_t("string",Zo._jsonSchemaVersion),bundleSource:_t("string","QuerySnapshot"),bundleName:_t("string"),bundle:_t("string")};class TL extends _L{constructor(e){super(),this.firestore=e}convertBytes(e){return new Vn(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}}function Lw(n){n=Ws(n,hd);const e=Ws(n.firestore,Eu),t=zS(e),r=new TL(e);return vL(n._query),oL(t,n._query).then((s=>new Zo(e,r,n,s)))}function YS(n,e,t,...r){n=Ws(n,xt);const s=Ws(n.firestore,Eu),a=WS(s);let u;return u=typeof(e=jt(e))=="string"||e instanceof dd?mL(a,"updateDoc",n._key,e,t,r):pL(a,"updateDoc",n._key,e),bg(s,[u.toMutation(n._key,Qn.exists(!0))])}function JS(n){return bg(Ws(n.firestore,Eu),[new fg(n._key,Qn.none())])}function Mh(n,e){const t=Ws(n.firestore,Eu),r=iu(n),s=wL(n.converter,e);return bg(t,[fL(WS(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,Qn.exists(!1))]).then((()=>r))}function bg(n,e){return(function(r,s){const a=new Wi;return r.asyncQueue.enqueueAndForget((async()=>qM(await iL(r),s,a))),a.promise})(zS(n),e)}function su(){return new Ng("serverTimestamp")}(function(e,t=!0){(function(s){Ta=s})(Ea),oa(new $s("firestore",((r,{instanceIdentifier:s,options:a})=>{const u=r.getProvider("app").getImmediate(),d=new Eu(new lV(r.getProvider("auth-internal")),new hV(u,r.getProvider("app-check-internal")),(function(p,g){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new pe(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(p.options.projectId,g)})(u,s),u);return a={useFetchStreams:t,...a},d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),$i(B0,z0,e),$i(B0,z0,"esm2020")})();function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const SL=ZS,eI=new pu("auth","Firebase",ZS());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lh=new tg("@firebase/auth");function IL(n,...e){Lh.logLevel<=De.WARN&&Lh.warn(`Auth (${Ea}): ${n}`,...e)}function uh(n,...e){Lh.logLevel<=De.ERROR&&Lh.error(`Auth (${Ea}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xn(n,...e){throw Mg(n,...e)}function Sr(n,...e){return Mg(n,...e)}function tI(n,e,t){const r={...SL(),[e]:t};return new pu("auth","Firebase",r).create(e,{appName:n.name})}function Gi(n){return tI(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Mg(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return eI.create(n,...e)}function we(n,e,...t){if(!n)throw Mg(e,...t)}function qr(n){const e="INTERNAL ASSERTION FAILED: "+n;throw uh(e),new Error(e)}function ni(n,e){n||qr(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cm(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.href)||""}function PL(){return Ow()==="http:"||Ow()==="https:"}function Ow(){var n;return typeof self<"u"&&((n=self.location)==null?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CL(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(PL()||ON()||"connection"in navigator)?navigator.onLine:!0}function AL(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,t){this.shortDelay=e,this.longDelay=t,ni(t>e,"Short delay should be less than long delay!"),this.isMobile=bN()||jN()}get(){return CL()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lg(n,e){ni(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;qr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;qr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;qr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RL={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xL=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],kL=new Tu(3e4,6e4);function Ys(n,e){return n.tenantId&&!e.tenantId?{...e,tenantId:n.tenantId}:e}async function os(n,e,t,r,s={}){return rI(n,s,async()=>{let a={},u={};r&&(e==="GET"?u=r:a={body:JSON.stringify(r)});const d=mu({key:n.config.apiKey,...u}).slice(1),f=await n._getAdditionalHeaders();f["Content-Type"]="application/json",n.languageCode&&(f["X-Firebase-Locale"]=n.languageCode);const p={method:e,headers:f,...a};return LN()||(p.referrerPolicy="no-referrer"),n.emulatorConfig&&wa(n.emulatorConfig.host)&&(p.credentials="include"),nI.fetch()(await iI(n,n.config.apiHost,t,d),p)})}async function rI(n,e,t){n._canInitEmulator=!1;const r={...RL,...e};try{const s=new DL(n),a=await Promise.race([t(),s.promise]);s.clearNetworkTimeout();const u=await a.json();if("needConfirmation"in u)throw Yc(n,"account-exists-with-different-credential",u);if(a.ok&&!("errorMessage"in u))return u;{const d=a.ok?u.errorMessage:u.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Yc(n,"credential-already-in-use",u);if(f==="EMAIL_EXISTS")throw Yc(n,"email-already-in-use",u);if(f==="USER_DISABLED")throw Yc(n,"user-disabled",u);const g=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw tI(n,g,p);Xn(n,g)}}catch(s){if(s instanceof ri)throw s;Xn(n,"network-request-failed",{message:String(s)})}}async function gd(n,e,t,r,s={}){const a=await os(n,e,t,r,s);return"mfaPendingCredential"in a&&Xn(n,"multi-factor-auth-required",{_serverResponse:a}),a}async function iI(n,e,t,r){const s=`${e}${t}?${r}`,a=n,u=a.config.emulator?Lg(n.config,s):`${n.config.apiScheme}://${s}`;return xL.includes(t)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(u).toString():u}function NL(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class DL{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(Sr(this.auth,"network-request-failed")),kL.get())})}}function Yc(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const s=Sr(n,e,r);return s.customData._tokenResponse=t,s}function jw(n){return n!==void 0&&n.enterprise!==void 0}class VL{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return NL(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function bL(n,e){return os(n,"GET","/v2/recaptchaConfig",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ML(n,e){return os(n,"POST","/v1/accounts:delete",e)}async function Oh(n,e){return os(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zl(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function LL(n,e=!1){const t=jt(n),r=await t.getIdToken(e),s=Og(r);we(s&&s.exp&&s.auth_time&&s.iat,t.auth,"internal-error");const a=typeof s.firebase=="object"?s.firebase:void 0,u=a==null?void 0:a.sign_in_provider;return{claims:s,token:r,authTime:zl(Ep(s.auth_time)),issuedAtTime:zl(Ep(s.iat)),expirationTime:zl(Ep(s.exp)),signInProvider:u||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Ep(n){return Number(n)*1e3}function Og(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return uh("JWT malformed, contained fewer than 3 sections"),null;try{const s=d1(t);return s?JSON.parse(s):(uh("Failed to decode base64 JWT payload"),null)}catch(s){return uh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function Fw(n){const e=Og(n);return we(e,"internal-error"),we(typeof e.exp<"u","internal-error"),we(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ou(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof ri&&OL(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function OL({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jL{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const t=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),t}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hm{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=zl(this.lastLoginAt),this.creationTime=zl(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jh(n){var _;const e=n.auth,t=await n.getIdToken(),r=await ou(n,Oh(e,{idToken:t}));we(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];n._notifyReloadListener(s);const a=(_=s.providerUserInfo)!=null&&_.length?sI(s.providerUserInfo):[],u=UL(n.providerData,a),d=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(u!=null&&u.length),p=d?f:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:u,metadata:new hm(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(n,g)}async function FL(n){const e=jt(n);await jh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function UL(n,e){return[...n.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function sI(n){return n.map(({providerId:e,...t})=>({providerId:e,uid:t.rawId||"",displayName:t.displayName||null,email:t.email||null,phoneNumber:t.phoneNumber||null,photoURL:t.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function BL(n,e){const t=await rI(n,{},async()=>{const r=mu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:a}=n.config,u=await iI(n,s,"/v1/token",`key=${a}`),d=await n._getAdditionalHeaders();d["Content-Type"]="application/x-www-form-urlencoded";const f={method:"POST",headers:d,body:r};return n.emulatorConfig&&wa(n.emulatorConfig.host)&&(f.credentials="include"),nI.fetch()(u,f)});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function zL(n,e){return os(n,"POST","/v2/accounts:revokeToken",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ea{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){we(e.idToken,"internal-error"),we(typeof e.idToken<"u","internal-error"),we(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Fw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){we(e.length!==0,"internal-error");const t=Fw(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(we(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:s,expiresIn:a}=await BL(e,t);this.updateTokensAndExpiration(r,s,Number(a))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:s,expirationTime:a}=t,u=new ea;return r&&(we(typeof r=="string","internal-error",{appName:e}),u.refreshToken=r),s&&(we(typeof s=="string","internal-error",{appName:e}),u.accessToken=s),a&&(we(typeof a=="number","internal-error",{appName:e}),u.expirationTime=a),u}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ea,this.toJSON())}_performRefresh(){return qr("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bi(n,e){we(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class Kn{constructor({uid:e,auth:t,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new jL(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=t,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new hm(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await ou(this,this.stsTokenManager.getToken(this.auth,e));return we(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return LL(this,e)}reload(){return FL(this)}_assign(e){this!==e&&(we(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>({...t})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new Kn({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return t.metadata._copy(this.metadata),t}_onReload(e){we(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await jh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Gn(this.auth.app))return Promise.reject(Gi(this.auth));const e=await this.getIdToken();return await ou(this,ML(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){const r=t.displayName??void 0,s=t.email??void 0,a=t.phoneNumber??void 0,u=t.photoURL??void 0,d=t.tenantId??void 0,f=t._redirectEventId??void 0,p=t.createdAt??void 0,g=t.lastLoginAt??void 0,{uid:_,emailVerified:E,isAnonymous:I,providerData:V,stsTokenManager:x}=t;we(_&&x,e,"internal-error");const k=ea.fromJSON(this.name,x);we(typeof _=="string",e,"internal-error"),bi(r,e.name),bi(s,e.name),we(typeof E=="boolean",e,"internal-error"),we(typeof I=="boolean",e,"internal-error"),bi(a,e.name),bi(u,e.name),bi(d,e.name),bi(f,e.name),bi(p,e.name),bi(g,e.name);const F=new Kn({uid:_,auth:e,email:s,emailVerified:E,displayName:r,isAnonymous:I,photoURL:u,phoneNumber:a,tenantId:d,stsTokenManager:k,createdAt:p,lastLoginAt:g});return V&&Array.isArray(V)&&(F.providerData=V.map(q=>({...q}))),f&&(F._redirectEventId=f),F}static async _fromIdTokenResponse(e,t,r=!1){const s=new ea;s.updateFromServerResponse(t);const a=new Kn({uid:t.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await jh(a),a}static async _fromGetAccountInfoResponse(e,t,r){const s=t.users[0];we(s.localId!==void 0,"internal-error");const a=s.providerUserInfo!==void 0?sI(s.providerUserInfo):[],u=!(s.email&&s.passwordHash)&&!(a!=null&&a.length),d=new ea;d.updateFromIdToken(r);const f=new Kn({uid:s.localId,auth:e,stsTokenManager:d,isAnonymous:u}),p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new hm(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uw=new Map;function Gr(n){ni(n instanceof Function,"Expected a class definition");let e=Uw.get(n);return e?(ni(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Uw.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oI{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}oI.type="NONE";const Bw=oI;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ch(n,e,t){return`firebase:${n}:${e}:${t}`}class ta{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:s,name:a}=this.auth;this.fullUserKey=ch(this.userKey,s.apiKey,a),this.fullPersistenceKey=ch("persistence",s.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const t=await Oh(this.auth,{idToken:e}).catch(()=>{});return t?Kn._fromGetAccountInfoResponse(this.auth,t,e):null}return Kn._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new ta(Gr(Bw),e,r);const s=(await Promise.all(t.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=s[0]||Gr(Bw);const u=ch(r,e.config.apiKey,e.name);let d=null;for(const p of t)try{const g=await p._get(u);if(g){let _;if(typeof g=="string"){const E=await Oh(e,{idToken:g}).catch(()=>{});if(!E)break;_=await Kn._fromGetAccountInfoResponse(e,E,g)}else _=Kn._fromJSON(e,g);p!==a&&(d=_),a=p;break}}catch{}const f=s.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new ta(a,e,r):(a=f[0],d&&await a._set(u,d.toJSON()),await Promise.all(t.map(async p=>{if(p!==a)try{await p._remove(u)}catch{}})),new ta(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cI(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(aI(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(dI(e))return"Blackberry";if(fI(e))return"Webos";if(lI(e))return"Safari";if((e.includes("chrome/")||uI(e))&&!e.includes("edge/"))return"Chrome";if(hI(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function aI(n=Xt()){return/firefox\//i.test(n)}function lI(n=Xt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function uI(n=Xt()){return/crios\//i.test(n)}function cI(n=Xt()){return/iemobile/i.test(n)}function hI(n=Xt()){return/android/i.test(n)}function dI(n=Xt()){return/blackberry/i.test(n)}function fI(n=Xt()){return/webos/i.test(n)}function jg(n=Xt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function $L(n=Xt()){var e;return jg(n)&&!!((e=window.navigator)!=null&&e.standalone)}function HL(){return FN()&&document.documentMode===10}function pI(n=Xt()){return jg(n)||hI(n)||fI(n)||dI(n)||/windows phone/i.test(n)||cI(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mI(n,e=[]){let t;switch(n){case"Browser":t=zw(Xt());break;case"Worker":t=`${zw(Xt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WL{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((u,d)=>{try{const f=e(a);u(f)}catch(f){d(f)}});r.onAbort=t,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const s of t)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qL(n,e={}){return os(n,"GET","/v2/passwordPolicy",Ys(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GL=6;class KL{constructor(e){var r;const t=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=t.minPasswordLength??GL,t.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=t.maxPasswordLength),t.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=t.containsLowercaseCharacter),t.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=t.containsUppercaseCharacter),t.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=t.containsNumericCharacter),t.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=t.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const t={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,t),this.validatePasswordCharacterOptions(e,t),t.isValid&&(t.isValid=t.meetsMinPasswordLength??!0),t.isValid&&(t.isValid=t.meetsMaxPasswordLength??!0),t.isValid&&(t.isValid=t.containsLowercaseLetter??!0),t.isValid&&(t.isValid=t.containsUppercaseLetter??!0),t.isValid&&(t.isValid=t.containsNumericCharacter??!0),t.isValid&&(t.isValid=t.containsNonAlphanumericCharacter??!0),t}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),s&&(t.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,s,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QL{constructor(e,t,r,s){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new $w(this),this.idTokenSubscription=new $w(this),this.beforeStateQueue=new WL(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=eI,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Gr(t)),this._initializationPromise=this.queue(async()=>{var r,s,a;if(!this._deleted&&(this.persistenceManager=await ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((a=this.currentUser)==null?void 0:a.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await Oh(this,{idToken:e}),r=await Kn._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var a;if(Gn(this.app)){const u=this.app.settings.authIdToken;return u?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(u).then(d,d))}):this.directlySetCurrentUser(null)}const t=await this.assertedPersistence.getCurrentUser();let r=t,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const u=(a=this.redirectUser)==null?void 0:a._redirectEventId,d=r==null?void 0:r._redirectEventId,f=await this.tryRedirectSignIn(e);(!u||u===d)&&(f!=null&&f.user)&&(r=f.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(u){r=t,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(u))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return we(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await jh(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=AL()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Gn(this.app))return Promise.reject(Gi(this));const t=e?jt(e):null;return t&&we(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&we(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Gn(this.app)?Promise.reject(Gi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Gn(this.app)?Promise.reject(Gi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Gr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await qL(this),t=new KL(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new pu("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await zL(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&Gr(e)||this._popupRedirectResolver;we(t,this,"argument-error"),this.redirectPersistenceManager=await ta.create(this,[Gr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)==null?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((t=this.currentUser)==null?void 0:t.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,s){if(this._deleted)return()=>{};const a=typeof t=="function"?t:t.next.bind(t);let u=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if(we(d,this,"internal-error"),d.then(()=>{u||a(this.currentUser)}),typeof t=="function"){const f=e.addObserver(t,r,s);return()=>{u=!0,f()}}else{const f=e.addObserver(t);return()=>{u=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return we(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=mI(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const t=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());t&&(e["X-Firebase-Client"]=t);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var t;if(Gn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:t.getToken());return e!=null&&e.error&&IL(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function Ca(n){return jt(n)}class $w{constructor(e){this.auth=e,this.observer=null,this.addObserver=GN(t=>this.observer=t)}get next(){return we(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yd={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function XL(n){yd=n}function gI(n){return yd.loadJS(n)}function YL(){return yd.recaptchaEnterpriseScript}function JL(){return yd.gapiScript}function ZL(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class eO{constructor(){this.enterprise=new tO}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class tO{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const nO="recaptcha-enterprise",yI="NO_RECAPTCHA";class rO{constructor(e){this.type=nO,this.auth=Ca(e)}async verify(e="verify",t=!1){async function r(a){if(!t){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(u,d)=>{bL(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new VL(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,u(p.siteKey)}}).catch(f=>{d(f)})})}function s(a,u,d){const f=window.grecaptcha;jw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{u(p)}).catch(()=>{u(yI)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new eO().execute("siteKey",{action:"verify"}):new Promise((a,u)=>{r(this.auth).then(d=>{if(!t&&jw(window.grecaptcha))s(d,a,u);else{if(typeof window>"u"){u(new Error("RecaptchaVerifier is only supported in browser"));return}let f=YL();f.length!==0&&(f+=d),gI(f).then(()=>{s(d,a,u)}).catch(p=>{u(p)})}}).catch(d=>{u(d)})})}}async function Hw(n,e,t,r=!1,s=!1){const a=new rO(n);let u;if(s)u=yI;else try{u=await a.verify(t)}catch{u=await a.verify(t,!0)}const d={...e};if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in d){const f=d.phoneEnrollmentInfo.phoneNumber,p=d.phoneEnrollmentInfo.recaptchaToken;Object.assign(d,{phoneEnrollmentInfo:{phoneNumber:f,recaptchaToken:p,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in d){const f=d.phoneSignInInfo.recaptchaToken;Object.assign(d,{phoneSignInInfo:{recaptchaToken:f,captchaResponse:u,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return d}return r?Object.assign(d,{captchaResp:u}):Object.assign(d,{captchaResponse:u}),Object.assign(d,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(d,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),d}async function Ww(n,e,t,r,s){var a;if((a=n._getRecaptchaConfig())!=null&&a.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const u=await Hw(n,e,t,t==="getOobCode");return r(n,u)}else return r(n,e).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const d=await Hw(n,e,t,t==="getOobCode");return r(n,d)}else return Promise.reject(u)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iO(n,e){const t=rg(n,"auth");if(t.isInitialized()){const s=t.getImmediate(),a=t.getOptions();if(zs(a,e??{}))return s;Xn(s,"already-initialized")}return t.initialize({options:e})}function sO(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(Gr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oO(n,e,t){const r=Ca(n);we(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!1,a=vI(e),{host:u,port:d}=aO(e),f=d===null?"":`:${d}`,p={url:`${a}//${u}${f}/`},g=Object.freeze({host:u,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){we(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),we(zs(p,r.config.emulator)&&zs(g,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=p,r.emulatorConfig=g,r.settings.appVerificationDisabledForTesting=!0,wa(u)?(g1(`${a}//${u}${f}`),y1("Auth",!0)):lO()}function vI(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function aO(n){const e=vI(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const a=s[1];return{host:a,port:qw(r.substr(a.length+1))}}else{const[a,u]=r.split(":");return{host:a,port:qw(u)}}}function qw(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function lO(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return qr("not implemented")}_getIdTokenResponse(e){return qr("not implemented")}_linkToIdToken(e,t){return qr("not implemented")}_getReauthenticationResolver(e){return qr("not implemented")}}async function uO(n,e){return os(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cO(n,e){return gd(n,"POST","/v1/accounts:signInWithPassword",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hO(n,e){return gd(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}async function dO(n,e){return gd(n,"POST","/v1/accounts:signInWithEmailLink",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au extends Fg{constructor(e,t,r,s=null){super("password",r),this._email=e,this._password=t,this._tenantId=s}static _fromEmailAndPassword(e,t){return new au(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new au(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,t,"signInWithPassword",cO);case"emailLink":return hO(e,{email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ww(e,r,"signUpPassword",uO);case"emailLink":return dO(e,{idToken:t,email:this._email,oobCode:this._password});default:Xn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function na(n,e){return gd(n,"POST","/v1/accounts:signInWithIdp",Ys(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fO="http://localhost";class Gs extends Fg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new Gs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Xn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...a}=t;if(!r||!s)return null;const u=new Gs(r,s);return u.idToken=a.idToken||void 0,u.accessToken=a.accessToken||void 0,u.secret=a.secret,u.nonce=a.nonce,u.pendingToken=a.pendingToken||null,u}_getIdTokenResponse(e){const t=this.buildRequest();return na(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,na(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,na(e,t)}buildRequest(){const e={requestUri:fO,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=mu(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pO(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mO(n){const e=Rl(xl(n)).link,t=e?Rl(xl(e)).deep_link_id:null,r=Rl(xl(n)).deep_link_id;return(r?Rl(xl(r)).link:null)||r||t||e||n}class Ug{constructor(e){const t=Rl(xl(e)),r=t.apiKey??null,s=t.oobCode??null,a=pO(t.mode??null);we(r&&s&&a,"argument-error"),this.apiKey=r,this.operation=a,this.code=s,this.continueUrl=t.continueUrl??null,this.languageCode=t.lang??null,this.tenantId=t.tenantId??null}static parseLink(e){const t=mO(e);try{return new Ug(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Aa{constructor(){this.providerId=Aa.PROVIDER_ID}static credential(e,t){return au._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=Ug.parseLink(t);return we(r,"argument-error"),au._fromEmailAndCode(e,r.code,r.tenantId)}}Aa.PROVIDER_ID="password";Aa.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Aa.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _I{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su extends _I{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Li extends Su{constructor(){super("facebook.com")}static credential(e){return Gs._fromParams({providerId:Li.PROVIDER_ID,signInMethod:Li.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Li.credentialFromTaggedObject(e)}static credentialFromError(e){return Li.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Li.credential(e.oauthAccessToken)}catch{return null}}}Li.FACEBOOK_SIGN_IN_METHOD="facebook.com";Li.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oi extends Su{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return Gs._fromParams({providerId:Oi.PROVIDER_ID,signInMethod:Oi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Oi.credentialFromTaggedObject(e)}static credentialFromError(e){return Oi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Oi.credential(t,r)}catch{return null}}}Oi.GOOGLE_SIGN_IN_METHOD="google.com";Oi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ji extends Su{constructor(){super("github.com")}static credential(e){return Gs._fromParams({providerId:ji.PROVIDER_ID,signInMethod:ji.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ji.credentialFromTaggedObject(e)}static credentialFromError(e){return ji.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ji.credential(e.oauthAccessToken)}catch{return null}}}ji.GITHUB_SIGN_IN_METHOD="github.com";ji.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fi extends Su{constructor(){super("twitter.com")}static credential(e,t){return Gs._fromParams({providerId:Fi.PROVIDER_ID,signInMethod:Fi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Fi.credentialFromTaggedObject(e)}static credentialFromError(e){return Fi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Fi.credential(t,r)}catch{return null}}}Fi.TWITTER_SIGN_IN_METHOD="twitter.com";Fi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,s=!1){const a=await Kn._fromIdTokenResponse(e,r,s),u=Gw(r);return new pa({user:a,providerId:u,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const s=Gw(r);return new pa({user:e,providerId:s,_tokenResponse:r,operationType:t})}}function Gw(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh extends ri{constructor(e,t,r,s){super(t.code,t.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,Fh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,s){return new Fh(e,t,r,s)}}function wI(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?Fh._fromErrorAndOperation(n,a,e,r):a})}async function gO(n,e,t=!1){const r=await ou(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return pa._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yO(n,e,t=!1){const{auth:r}=n;if(Gn(r.app))return Promise.reject(Gi(r));const s="reauthenticate";try{const a=await ou(n,wI(r,s,e,n),t);we(a.idToken,r,"internal-error");const u=Og(a.idToken);we(u,r,"internal-error");const{sub:d}=u;return we(n.uid===d,r,"user-mismatch"),pa._forOperation(n,s,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&Xn(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EI(n,e,t=!1){if(Gn(n.app))return Promise.reject(Gi(n));const r="signIn",s=await wI(n,r,e),a=await pa._fromIdTokenResponse(n,r,s);return t||await n._updateCurrentUser(a.user),a}async function vO(n,e){return EI(Ca(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _O(n){const e=Ca(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function wO(n,e,t){return Gn(n.app)?Promise.reject(Gi(n)):vO(jt(n),Aa.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&_O(n),r})}function EO(n,e,t,r){return jt(n).onIdTokenChanged(e,t,r)}function TO(n,e,t){return jt(n).beforeAuthStateChanged(e,t)}function SO(n,e,t,r){return jt(n).onAuthStateChanged(e,t,r)}function IO(n){return jt(n).signOut()}const Uh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TI{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Uh,"1"),this.storage.removeItem(Uh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PO=1e3,CO=10;class SI extends TI{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=pI(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),s=this.localCache[t];r!==s&&e(t,s,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((u,d,f)=>{this.notifyListeners(u,f)});return}const r=e.key;t?this.detachListener():this.stopPolling();const s=()=>{const u=this.storage.getItem(r);!t&&this.localCache[r]===u||this.notifyListeners(r,u)},a=this.storage.getItem(r);HL()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,CO):s()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},PO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}SI.type="LOCAL";const AO=SI;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class II extends TI{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}II.type="SESSION";const PI=II;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RO(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vd{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(s=>s.isListeningto(e));if(t)return t;const r=new vd(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:s,data:a}=t.data,u=this.handlersMap[s];if(!(u!=null&&u.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const d=Array.from(u).map(async p=>p(t.origin,a)),f=await RO(d);t.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:f})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}vd.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bg(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xO{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let a,u;return new Promise((d,f)=>{const p=Bg("",20);s.port1.start();const g=setTimeout(()=>{f(new Error("unsupported_event"))},r);u={messageChannel:s,onMessage(_){const E=_;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(g),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(g),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(u),s.port1.addEventListener("message",u.onMessage),this.target.postMessage({eventType:e,eventId:p,data:t},[s.port2])}).finally(()=>{u&&this.removeMessageHandler(u)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ir(){return window}function kO(n){Ir().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CI(){return typeof Ir().WorkerGlobalScope<"u"&&typeof Ir().importScripts=="function"}async function NO(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DO(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)==null?void 0:n.controller)||null}function VO(){return CI()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AI="firebaseLocalStorageDb",bO=1,Bh="firebaseLocalStorage",RI="fbase_key";class Iu{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function _d(n,e){return n.transaction([Bh],e?"readwrite":"readonly").objectStore(Bh)}function MO(){const n=indexedDB.deleteDatabase(AI);return new Iu(n).toPromise()}function dm(){const n=indexedDB.open(AI,bO);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Bh,{keyPath:RI})}catch(s){t(s)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Bh)?e(r):(r.close(),await MO(),e(await dm()))})})}async function Kw(n,e,t){const r=_d(n,!0).put({[RI]:e,value:t});return new Iu(r).toPromise()}async function LO(n,e){const t=_d(n,!1).get(e),r=await new Iu(t).toPromise();return r===void 0?null:r.value}function Qw(n,e){const t=_d(n,!0).delete(e);return new Iu(t).toPromise()}const OO=800,jO=3;class xI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await dm(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>jO)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return CI()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=vd._getInstance(VO()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var t,r;if(this.activeServiceWorker=await NO(),!this.activeServiceWorker)return;this.sender=new xO(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(t=e[0])!=null&&t.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DO()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await dm();return await Kw(e,Uh,"1"),await Qw(e,Uh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>Kw(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>LO(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>Qw(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const a=_d(s,!1).getAll();return new Iu(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:a}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(a)&&(this.notifyListeners(s,a),t.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),t.push(s));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),OO)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}xI.type="LOCAL";const FO=xI;new Tu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UO(n,e){return e?Gr(e):(we(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zg extends Fg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return na(e,this._buildIdpRequest())}_linkToIdToken(e,t){return na(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return na(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function BO(n){return EI(n.auth,new zg(n),n.bypassAuthState)}function zO(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),yO(t,new zg(n),n.bypassAuthState)}async function $O(n){const{auth:e,user:t}=n;return we(t,e,"internal-error"),gO(t,new zg(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kI{constructor(e,t,r,s,a=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:s,tenantId:a,error:u,type:d}=e;if(u){this.reject(u);return}const f={auth:this.auth,requestUri:t,sessionId:r,tenantId:a||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BO;case"linkViaPopup":case"linkViaRedirect":return $O;case"reauthViaPopup":case"reauthViaRedirect":return zO;default:Xn(this.auth,"internal-error")}}resolve(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ni(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HO=new Tu(2e3,1e4);class Xo extends kI{constructor(e,t,r,s,a){super(e,t,s,a),this.provider=r,this.authWindow=null,this.pollId=null,Xo.currentPopupAction&&Xo.currentPopupAction.cancel(),Xo.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return we(e,this.auth,"internal-error"),e}async onExecution(){ni(this.filter.length===1,"Popup operations only handle one event");const e=Bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(Sr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Sr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Xo.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if((r=(t=this.authWindow)==null?void 0:t.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Sr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,HO.get())};e()}}Xo.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WO="pendingRedirect",hh=new Map;class qO extends kI{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=hh.get(this.auth._key());if(!e){try{const r=await GO(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}hh.set(this.auth._key(),e)}return this.bypassAuthState||hh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function GO(n,e){const t=XO(e),r=QO(n);if(!await r._isAvailable())return!1;const s=await r._get(t)==="true";return await r._remove(t),s}function KO(n,e){hh.set(n._key(),e)}function QO(n){return Gr(n._redirectPersistence)}function XO(n){return ch(WO,n.config.apiKey,n.name)}async function YO(n,e,t=!1){if(Gn(n.app))return Promise.reject(Gi(n));const r=Ca(n),s=UO(r,e),u=await new qO(r,s,t).execute();return u&&!t&&(delete u.user._redirectEventId,await r._persistUserIfCurrent(u.user),await r._setRedirectUser(null,e)),u}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JO=600*1e3;class ZO{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!e4(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!NI(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";t.onError(Sr(this.auth,s))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=JO&&this.cachedEventUids.clear(),this.cachedEventUids.has(Xw(e))}saveEventToCache(e){this.cachedEventUids.add(Xw(e)),this.lastProcessedEventTime=Date.now()}}function Xw(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function NI({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function e4(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return NI(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t4(n,e={}){return os(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n4=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,r4=/^https?/;async function i4(n){if(n.config.emulator)return;const{authorizedDomains:e}=await t4(n);for(const t of e)try{if(s4(t))return}catch{}Xn(n,"unauthorized-domain")}function s4(n){const e=cm(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const u=new URL(n);return u.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&u.hostname===r}if(!r4.test(t))return!1;if(n4.test(n))return r===n;const s=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o4=new Tu(3e4,6e4);function Yw(){const n=Ir().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function a4(n){return new Promise((e,t)=>{var s,a,u;function r(){Yw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Yw(),t(Sr(n,"network-request-failed"))},timeout:o4.get()})}if((a=(s=Ir().gapi)==null?void 0:s.iframes)!=null&&a.Iframe)e(gapi.iframes.getContext());else if((u=Ir().gapi)!=null&&u.load)r();else{const d=ZL("iframefcb");return Ir()[d]=()=>{gapi.load?r():t(Sr(n,"network-request-failed"))},gI(`${JL()}?onload=${d}`).catch(f=>t(f))}}).catch(e=>{throw dh=null,e})}let dh=null;function l4(n){return dh=dh||a4(n),dh}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const u4=new Tu(5e3,15e3),c4="__/auth/iframe",h4="emulator/auth/iframe",d4={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},f4=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function p4(n){const e=n.config;we(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?Lg(e,h4):`https://${n.config.authDomain}/${c4}`,r={apiKey:e.apiKey,appName:n.name,v:Ea},s=f4.get(n.config.apiHost);s&&(r.eid=s);const a=n._getFrameworks();return a.length&&(r.fw=a.join(",")),`${t}?${mu(r).slice(1)}`}async function m4(n){const e=await l4(n),t=Ir().gapi;return we(t,n,"internal-error"),e.open({where:document.body,url:p4(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:d4,dontclear:!0},r=>new Promise(async(s,a)=>{await r.restyle({setHideOnLeave:!1});const u=Sr(n,"network-request-failed"),d=Ir().setTimeout(()=>{a(u)},u4.get());function f(){Ir().clearTimeout(d),s(r)}r.ping(f).then(f,()=>{a(u)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g4={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},y4=500,v4=600,_4="_blank",w4="http://localhost";class Jw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function E4(n,e,t,r=y4,s=v4){const a=Math.max((window.screen.availHeight-s)/2,0).toString(),u=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f={...g4,width:r.toString(),height:s.toString(),top:a,left:u},p=Xt().toLowerCase();t&&(d=uI(p)?_4:t),aI(p)&&(e=e||w4,f.scrollbars="yes");const g=Object.entries(f).reduce((E,[I,V])=>`${E}${I}=${V},`,"");if($L(p)&&d!=="_self")return T4(e||"",d),new Jw(null);const _=window.open(e||"",d,g);we(_,n,"popup-blocked");try{_.focus()}catch{}return new Jw(_)}function T4(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S4="__/auth/handler",I4="emulator/auth/handler",P4=encodeURIComponent("fac");async function Zw(n,e,t,r,s,a){we(n.config.authDomain,n,"auth-domain-config-required"),we(n.config.apiKey,n,"invalid-api-key");const u={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ea,eventId:s};if(e instanceof _I){e.setDefaultLanguage(n.languageCode),u.providerId=e.providerId||"",qN(e.getCustomParameters())||(u.customParameters=JSON.stringify(e.getCustomParameters()));for(const[g,_]of Object.entries({}))u[g]=_}if(e instanceof Su){const g=e.getScopes().filter(_=>_!=="");g.length>0&&(u.scopes=g.join(","))}n.tenantId&&(u.tid=n.tenantId);const d=u;for(const g of Object.keys(d))d[g]===void 0&&delete d[g];const f=await n._getAppCheckToken(),p=f?`#${P4}=${encodeURIComponent(f)}`:"";return`${C4(n)}?${mu(d).slice(1)}${p}`}function C4({config:n}){return n.emulator?Lg(n,I4):`https://${n.authDomain}/${S4}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="webStorageSupport";class A4{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=PI,this._completeRedirectFn=YO,this._overrideRedirectResult=KO}async _openPopup(e,t,r,s){var u;ni((u=this.eventManagers[e._key()])==null?void 0:u.manager,"_initialize() not called before _openPopup()");const a=await Zw(e,t,r,cm(),s);return E4(e,a,Bg())}async _openRedirect(e,t,r,s){await this._originValidation(e);const a=await Zw(e,t,r,cm(),s);return kO(a),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:s,promise:a}=this.eventManagers[t];return s?Promise.resolve(s):(ni(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await m4(e),r=new ZO(e);return t.register("authEvent",s=>(we(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Tp,{type:Tp},s=>{var u;const a=(u=s==null?void 0:s[0])==null?void 0:u[Tp];a!==void 0&&t(!!a),Xn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=i4(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return pI()||lI()||jg()}}const R4=A4;var eE="@firebase/auth",tE="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x4{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){we(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function k4(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function N4(n){oa(new $s("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:u,authDomain:d}=r.options;we(u&&!u.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:u,authDomain:d,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:mI(n)},p=new QL(r,s,a,f);return sO(p,t),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),oa(new $s("auth-internal",e=>{const t=Ca(e.getProvider("auth").getImmediate());return(r=>new x4(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),$i(eE,tE,k4(n)),$i(eE,tE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const D4=300,V4=m1("authIdTokenMaxAge")||D4;let nE=null;const b4=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>V4)return;const s=t==null?void 0:t.token;nE!==s&&(nE=s,await fetch(n,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function M4(n=E1()){const e=rg(n,"auth");if(e.isInitialized())return e.getImmediate();const t=iO(n,{popupRedirectResolver:R4,persistence:[FO,AO,PI]}),r=m1("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const u=b4(a.toString());TO(t,u,()=>u(t.currentUser)),EO(t,d=>u(d))}}const s=f1("auth");return s&&oO(t,`http://${s}`),t}function L4(){var n;return((n=document.getElementsByTagName("head"))==null?void 0:n[0])??document}XL({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=s=>{const a=Sr("internal-error");a.customData=s,t(a)},r.type="text/javascript",r.charset="UTF-8",L4().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});N4("Browser");const O4={apiKey:"AIzaSyAqc-ct97cFYhUbX1qQA08zUDD6xAz6Ias",authDomain:"thi-tnd.firebaseapp.com",projectId:"thi-tnd",storageBucket:"thi-tnd.firebasestorage.app",messagingSenderId:"107125875663",appId:"1:107125875663:web:0e1a632779f51340c828ba"},DI=w1(O4),Pr=lL(DI),fm=M4(DI),j4=[{info:{name:"Menu Nh Em",phone:"0982307002",address:"Khng c a ch c th",categories:["G","ch","M xo","Xi"],description:"Ship ngy & m - 0982307002 (ngy) / 0986376661 (m)"},menu:[{name:"G hun khi, g  mui",price:125e3,category:"G",isPopular:!0},{name:"Chn g s tc, st thi",price:5e4,category:"G",isPopular:!1},{name:"Gn b mui rau tin vua",price:1e5,category:"c sn",isPopular:!1},{name:"i ch chin gin",price:1e5,category:"ch",isPopular:!0},{name:"i ch rang mui",price:11e4,category:"ch",isPopular:!1},{name:"Nm chn g rt xng",price:85e3,category:"G",isPopular:!1},{name:"Nm tai heo",price:85e3,category:"c sn",isPopular:!1},{name:"C trng chin gin",price:1e5,category:"C",isPopular:!1},{name:"Chn g luc",price:9e4,category:"G",isPopular:!1},{name:"Chn g rang mui",price:1e5,category:"G",isPopular:!1},{name:"Cnh g rang mui",price:1e5,category:"G",isPopular:!1},{name:"G rang mui",price:11e4,category:"G",isPopular:!1},{name:"Di sn",price:1e4,category:"c sn",isPopular:!1},{name:"Xi chim chin",price:6e4,category:"Xi",isPopular:!1},{name:"c nhi ng na hp",price:8e4,category:"c sn",isPopular:!1},{name:"M xo b",price:4e4,category:"M xo",isPopular:!0},{name:"M xo xc xch vin chin",price:35e3,category:"M xo",isPopular:!1},{name:"M xo Hi sn",price:4e4,category:"M xo",isPopular:!1},{name:"M xo thp Cm",price:45e3,category:"M xo",isPopular:!1},{name:"Xi ruc, xi trng",price:25e3,category:"Xi",isPopular:!1},{name:"Xi trng",price:2e4,category:"Xi",isPopular:!1},{name:"Xi lp xng",price:3e4,category:"Xi",isPopular:!1},{name:"Xi xc xch vin chin",price:3e4,category:"Xi",isPopular:!1},{name:"Xi thp cm",price:45e3,category:"Xi",isPopular:!1}]},{info:{name:"Qun 824 Nguyn Cng Tr",phone:"0912912082",address:"824 Nguyn Cng Tr, TP Hoa L, Ninh Bnh",categories:["G","Xi","c sn"],description:"Khng r gi, c ship bui chiu"},menu:[{name:"G Luc",price:23e4,category:"G",isPopular:!0},{name:"G  mui",price:14e4,category:"G",isPopular:!0},{name:"Xi chim chin",price:65e3,category:"Xi",isPopular:!1},{name:"Chn G Luc",price:9e4,category:"G",isPopular:!1},{name:"Chn g x tc / st thi",price:8e4,category:"G",isPopular:!1},{name:"Nhng ong xo l chanh",price:2e5,category:"c sn",isPopular:!0},{name:"Trng Vt ln luc",price:8e4,category:"Trng",isPopular:!1},{name:"Di sn chin",price:1e4,category:"c sn",isPopular:!1},{name:"Lp xng chin",price:15e3,category:"c sn",isPopular:!1},{name:"Hoa Qu Tng Hp",price:5e4,category:" ung",isPopular:!1}]},{info:{name:"Ship  n m (M Cay, Lu Ly)",phone:"0986288397",address:"Khng c a ch c th",categories:["M cay","Lu","n vt"],description:"Ship 15:00 - 03:00 sng - Zalo: 0344851998"},menu:[{name:"M cay (b, sn, hi sn)",price:47500,category:"M cay",isPopular:!0},{name:"M trn (trng p, si co)",price:35e3,category:"M trn",isPopular:!1},{name:"Lu ly (b, sn, thp cm)",price:4e4,category:"Lu",isPopular:!0},{name:"Vin chin",price:25e3,category:"n vt",isPopular:!1},{name:"Si co",price:25e3,category:"n vt",isPopular:!1},{name:"G xin que",price:25e3,category:"n vt",isPopular:!1},{name:"Xc xch",price:25e3,category:"n vt",isPopular:!1},{name:"Lp xng",price:25e3,category:"n vt",isPopular:!1},{name:"Nem chua rn",price:25e3,category:"n vt",isPopular:!1}]},{info:{name:"Qun n Vt Trn Ph",phone:"0356943456",address:"S 04 Ng 65 Trn Ph (gn Ch Bp)",categories:["Nem nng","Bn","M","Tokboki","Kimbap"],description:"Gi khng r"},menu:[{name:"Nem nng Nha Trang",price:35e3,category:"Nem nng",isPopular:!0},{name:"Bn Trn Nem Nng",price:35e3,category:"Bn",isPopular:!1},{name:"Bn trn B",price:39e3,category:"Bn",isPopular:!1},{name:"M trn",price:4e4,category:"M",isPopular:!1},{name:"G  Mui",price:149e3,category:"G",isPopular:!0},{name:"Chn g st thi",price:5e4,category:"G",isPopular:!1},{name:"Cm g",price:49e3,category:"Cm",isPopular:!1},{name:"Cm trn Hn Quc",price:39e3,category:"Cm",isPopular:!1},{name:"M ",price:35e3,category:"M",isPopular:!1},{name:"M cay kim chi (c vin, xc xch, b, hi sn)",price:47e3,category:"M cay",isPopular:!0},{name:"Tokbokki (Gc ph mai, st truyn thng)",price:37500,category:"Tokboki",isPopular:!1},{name:"Pizza chicago",price:5e4,category:"Pizza",isPopular:!1},{name:"Kimbap (Chin, Thng, B)",price:35e3,category:"Kimbap",isPopular:!1},{name:" chin (Nem chua, xc xch, khoai ty, khoai lang)",price:3e4,category:"n vt",isPopular:!1}]},{info:{name:"Qun n m Xun Thnh",phone:"0368730876",address:"516 ng Xun Thnh, TP. Ninh Bnh",categories:["G","Nng","c sn"],description:"M 17:00 - Sng - ST: 0342299012"},menu:[{name:"Chn g nng",price:12e3,category:"G",isPopular:!0},{name:"Chn g luc",price:12e3,category:"G",isPopular:!1},{name:"Hu nng",price:6e3,category:"Hi sn",isPopular:!1},{name:"Trng vt ln",price:8e3,category:"Trng",isPopular:!1},{name:"Trng g",price:6e3,category:"Trng",isPopular:!1},{name:"Xin nng",price:12e3,category:"Nng",isPopular:!0},{name:"M tm xo (trng, xc xch)",price:35e3,category:"M xo",isPopular:!1},{name:"Cm rang (trng, xc xch, thp cm)",price:42500,category:"Cm",isPopular:!1},{name:"Tit canh",price:4e4,category:"c sn",isPopular:!1}]},{info:{name:"Bp Quyt Tiger - Lu ch Mng Cay",phone:"0866969626",address:"526 Ng Gia T, P. Nam Bnh, TP. Hoa L",categories:["Lu","ch","Nng","G"],description:"Ship n 24h - Zalo: 0866.969.626"},menu:[{name:"Lu ch Mng Cay (ni 2-3 ngi)",price:3e5,category:"Lu",isPopular:!0},{name:"Lu ch Mng Cay (ni 3-4 ngi)",price:4e5,category:"Lu",isPopular:!1},{name:"Lu ch Mng Cay (ni 4-5 ngi)",price:5e5,category:"Lu",isPopular:!1},{name:"Lu ch Mng Cay (ni 5-6 ngi)",price:6e5,category:"Lu",isPopular:!1},{name:"Sn Nng Tng BBQ (600g)",price:25e4,category:"Nng",isPopular:!0},{name:"C Nng Mui t (1.3-1.5kg)",price:25e4,category:"Nng",isPopular:!1},{name:"G  Mui (1 con)",price:29e4,category:"G",isPopular:!0},{name:"G  Mui (na con)",price:15e4,category:"G",isPopular:!1},{name:"Sn G Rang Mui (1 sut)",price:12e4,category:"G",isPopular:!1},{name:"ch Chin Mm (1 sut)",price:15e4,category:"ch",isPopular:!1},{name:"M Heo Nng (1 sut)",price:15e4,category:"Nng",isPopular:!1},{name:"Ru Mc Nng Mui t (1 sut)",price:2e5,category:"Nng",isPopular:!1},{name:"ch Xo Mng Cay/Rang Mui (1 sut)",price:15e4,category:"ch",isPopular:!1}]},{info:{name:"Ship c Sn Cc Vng Min",phone:"0389363897",address:"Ship full map Ninh Bnh",categories:["c sn","Bnh"],description:"Zalo/iMessage: 0389363897 - c sn cc vng min"},menu:[{name:"Bnh m cay Hi Phng",price:45e3,category:"Bnh",isPopular:!0},{name:"Bnh bt lc Phan Thit (hp 500gr)",price:1e5,category:"Bnh",isPopular:!1},{name:"Bnh nm Hu",price:48e3,category:"Bnh",isPopular:!1},{name:"Bnh t Hu",price:47e3,category:"Bnh",isPopular:!1},{name:"Bnh trng mm ruc  Lt (bch 5c)",price:38e3,category:"Bnh",isPopular:!1},{name:"Bnh trng nng sate b (bch 10c)",price:4e4,category:"Bnh",isPopular:!0},{name:"Khoai lang sy mt  Lt (gi 500gr)",price:8e4,category:"c sn",isPopular:!1}]}];function F4({onComplete:n,existingRestaurants:e}){const[t,r]=O.useState("idle"),[s,a]=O.useState(""),[u,d]=O.useState(0),f=j4.filter(_=>!e.includes(_.info.name));if(f.length===0)return null;const p=async()=>{r("loading"),a("ang thm cc qun...");try{let _=0;for(const I of f){a(`ang thm ${I.info.name}...`);const V=await Mh(fa(Pr,"restaurants"),{...I.info,createdAt:su()});for(const x of I.menu)await Mh(fa(Pr,"menuItems"),{...x,restaurantId:V.id,isAvailable:!0,createdAt:su()});_++,d(Math.round(_/f.length*100))}const E=f.reduce((I,V)=>I+V.menu.length,0);r("success"),a(`  thm ${f.length} qun vi ${E} mn!`),setTimeout(()=>{n()},1500)}catch(_){r("error"),a(`Li: ${_.message}`),console.error("Seed error:",_)}},g=f.reduce((_,E)=>_+E.menu.length,0);return T.jsxs("div",{style:{padding:"20px",background:"rgba(255,255,255,0.05)",borderRadius:"16px",marginBottom:"16px",border:"1px solid rgba(255,255,255,0.1)"},children:[T.jsxs("h3",{style:{marginBottom:"12px",display:"flex",alignItems:"center",gap:"8px"},children:[T.jsx(VA,{size:20}),"Thm 5 Qun T nh"]}),T.jsxs("p",{style:{color:"rgba(255,255,255,0.6)",fontSize:"14px",marginBottom:"8px"},children:[f.length," qun mi - ",g," mn"]}),T.jsx("ul",{style:{color:"rgba(255,255,255,0.5)",fontSize:"12px",marginBottom:"16px",paddingLeft:"20px"},children:f.map((_,E)=>T.jsxs("li",{children:[_.info.name," (",_.menu.length," mn)"]},E))}),T.jsxs("button",{onClick:p,disabled:t==="loading"||t==="success",style:{display:"flex",alignItems:"center",gap:"8px",padding:"12px 24px",background:t==="success"?"#00F5D4":"linear-gradient(135deg, #FF6B6B 0%, #845EC2 100%)",color:"white",border:"none",borderRadius:"9999px",fontWeight:"600",cursor:t==="loading"||t==="success"?"not-allowed":"pointer",opacity:t==="loading"?.7:1},children:[t==="loading"&&T.jsx(LA,{size:18,style:{animation:"spin 1s linear infinite"}}),t==="success"&&T.jsx(DA,{size:18}),t==="error"&&T.jsx(IE,{size:18}),t==="idle"&&` Thm ${f.length} qun`,t==="loading"&&`${u}%`,t==="success"&&"Hon thnh!",t==="error"&&"Th li"]}),s&&T.jsx("p",{style:{marginTop:"12px",fontSize:"14px",color:t==="error"?"#ff6b6b":t==="success"?"#00F5D4":"rgba(255,255,255,0.7)"},children:s})]})}function U4({restaurants:n,menuItems:e,onRefresh:t}){const[r,s]=O.useState(null),[a,u]=O.useState(!0);return vm(),O.useEffect(()=>{const d=SO(fm,f=>{s(f),u(!1)});return()=>d()},[]),a?T.jsx("div",{className:"admin-page",children:T.jsx("div",{className:"container",children:T.jsx("div",{className:"loading-admin",children:"ang kim tra ng nhp..."})})}):r?T.jsx("div",{className:"admin-page",children:T.jsxs("div",{className:"container",children:[T.jsxs("div",{className:"admin-header",children:[T.jsxs("div",{className:"admin-title",children:[T.jsxs("h1",{children:[" Qun l ",T.jsx("span",{className:"gradient-text",children:"m Thc"})]}),T.jsxs("p",{children:["Xin cho, ",r.email]})]}),T.jsxs("button",{className:"btn btn-secondary",onClick:()=>IO(fm),children:[T.jsx(jA,{size:18}),"ng xut"]})]}),T.jsxs("div",{className:"admin-nav",children:[T.jsxs(un,{to:"/admin",className:"admin-nav-item",children:[T.jsx(VE,{size:20}),"Qun n (",n.length,")"]}),T.jsxs(un,{to:"/admin/menu",className:"admin-nav-item",children:[T.jsx(zA,{size:20}),"Mn n (",e.length,")"]})]}),(()=>{const d=n.map(f=>f.name);return T.jsx(F4,{onComplete:t,existingRestaurants:d})})(),T.jsxs(vE,{children:[T.jsx(js,{path:"/",element:T.jsx(z4,{restaurants:n,onRefresh:t})}),T.jsx(js,{path:"/menu",element:T.jsx($4,{restaurants:n,menuItems:e,onRefresh:t})})]})]})}):T.jsx(B4,{})}function B4(){const[n,e]=O.useState(""),[t,r]=O.useState(""),[s,a]=O.useState(""),[u,d]=O.useState(!1),f=async p=>{p.preventDefault(),a(""),d(!0);try{await wO(fm,n,t)}catch{a("Email hoc mt khu khng ng!")}finally{d(!1)}};return T.jsx("div",{className:"login-page",children:T.jsxs(bn.div,{className:"login-card glass-card",initial:{opacity:0,y:20},animate:{opacity:1,y:0},children:[T.jsxs("div",{className:"login-header",children:[T.jsx("span",{className:"login-emoji",children:""}),T.jsx("h2",{children:"ng nhp Admin"}),T.jsx("p",{children:"Nhp thng tin  qun l qun n"})]}),T.jsxs("form",{onSubmit:f,className:"login-form",children:[s&&T.jsxs("div",{className:"error-message",children:[T.jsx(IE,{size:16}),s]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Email"}),T.jsx("input",{type:"email",className:"input",placeholder:"admin@example.com",value:n,onChange:p=>e(p.target.value),required:!0})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Mt khu"}),T.jsx("input",{type:"password",className:"input",placeholder:"",value:t,onChange:p=>r(p.target.value),required:!0})]}),T.jsxs("button",{type:"submit",className:"btn btn-primary w-full",disabled:u,children:[T.jsx(OA,{size:18}),u?"ang ng nhp...":"ng nhp"]})]}),T.jsxs(un,{to:"/",className:"login-back",children:[T.jsx(Pp,{size:16}),"V trang ch"]})]})})}function z4({restaurants:n,onRefresh:e}){const[t,r]=O.useState(!1),[s,a]=O.useState(null),[u,d]=O.useState("grid"),[f,p]=O.useState(3),[g,_]=O.useState(""),[E,I]=O.useState({name:"",address:"",phone:"",categories:"",imageUrl:"",description:""}),[V,x]=O.useState(!1),k=n.filter(Q=>{var ie,D;return Q.name.toLowerCase().includes(g.toLowerCase())||((ie=Q.address)==null?void 0:ie.toLowerCase().includes(g.toLowerCase()))||((D=Q.phone)==null?void 0:D.includes(g))}),F=()=>{I({name:"",address:"",phone:"",categories:"",imageUrl:"",description:""}),a(null),r(!1)},q=Q=>{var ie;I({name:Q.name,address:Q.address||"",phone:Q.phone||"",categories:((ie=Q.categories)==null?void 0:ie.join(", "))||"",imageUrl:Q.imageUrl||"",description:Q.description||""}),a(Q.id),r(!0)},H=async()=>{if(!E.name.trim()){alert("Vui lng nhp tn qun!");return}x(!0);try{const Q={name:E.name.trim(),address:E.address.trim(),phone:E.phone.trim(),categories:E.categories.split(",").map(ie=>ie.trim()).filter(Boolean),imageUrl:E.imageUrl.trim(),description:E.description.trim(),updatedAt:su()};s?await YS(iu(Pr,"restaurants",s),Q):await Mh(fa(Pr,"restaurants"),{...Q,createdAt:su()}),e(),F()}catch(Q){console.error("Li khi lu:",Q),alert("C li xy ra, vui lng th li!")}finally{x(!1)}},re=async(Q,ie)=>{if(confirm(`Bn c chc mun xa qun "${ie}"?`))try{await JS(iu(Pr,"restaurants",Q)),e()}catch(D){console.error("Li khi xa:",D),alert("C li xy ra!")}};return T.jsxs("div",{className:"admin-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsxs("h2",{children:[" Danh sch qun n (",k.length,"/",n.length,")"]}),T.jsxs("div",{className:"section-actions",children:[T.jsxs("div",{className:"view-toggle",children:[T.jsx("button",{className:`view-btn ${u==="grid"?"active":""}`,onClick:()=>d("grid"),title:"Xem dng li",children:T.jsx(AE,{size:18})}),T.jsx("button",{className:`view-btn ${u==="list"?"active":""}`,onClick:()=>d("list"),title:"Xem dng danh sch",children:T.jsx(RE,{size:18})})]}),u==="grid"&&T.jsxs("div",{className:"size-control",children:[T.jsx("button",{className:"size-btn",onClick:()=>p(Q=>Math.max(2,Q-1)),disabled:f<=2,title:"Phng to",children:T.jsx(xE,{size:16})}),T.jsxs("span",{className:"size-label",children:[f," ct"]}),T.jsx("button",{className:"size-btn",onClick:()=>p(Q=>Math.min(6,Q+1)),disabled:f>=6,title:"Thu nh",children:T.jsx(PE,{size:16})})]}),T.jsxs("button",{className:"btn btn-primary",onClick:()=>r(!0),children:[T.jsx(kE,{size:18}),"Thm qun"]})]})]}),T.jsxs("div",{className:"search-bar glass-card",children:[T.jsx(ph,{size:18}),T.jsx("input",{type:"text",className:"search-input",placeholder:"Tm nhanh qun theo tn, a ch, ST...",value:g,onChange:Q=>_(Q.target.value)}),g&&T.jsx("button",{className:"clear-btn",onClick:()=>_(""),children:T.jsx(Hl,{size:16})})]}),t&&T.jsxs(bn.div,{className:"admin-form glass-card",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[T.jsxs("div",{className:"form-header",children:[T.jsx("h3",{children:s?" Sa qun n":" Thm qun mi"}),T.jsx("button",{className:"btn-icon",onClick:F,children:T.jsx(Hl,{size:20})})]}),T.jsxs("div",{className:"form-grid",children:[T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Tn qun *"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD: Qun Ch Bp",value:E.name,onChange:Q=>I({...E,name:Q.target.value})})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"S in thoi"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD: 0356943456",value:E.phone,onChange:Q=>I({...E,phone:Q.target.value})})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"a ch"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD: sn 04 Ng 65 Trn Ph",value:E.address,onChange:Q=>I({...E,address:Q.target.value})})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"Danh mc (cch nhau bi du phy)"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD:  n vt, G, M cay",value:E.categories,onChange:Q=>I({...E,categories:Q.target.value})})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"URL hnh nh"}),T.jsx("input",{type:"text",className:"input",placeholder:"https://example.com/image.jpg",value:E.imageUrl,onChange:Q=>I({...E,imageUrl:Q.target.value})})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"M t"}),T.jsx("textarea",{className:"input textarea",placeholder:"M t ngn v qun...",value:E.description,onChange:Q=>I({...E,description:Q.target.value})})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{className:"btn btn-secondary",onClick:F,children:"Hy"}),T.jsxs("button",{className:"btn btn-primary",onClick:H,disabled:V,children:[T.jsx(NE,{size:18}),V?"ang lu...":"Lu qun"]})]})]}),T.jsx("div",{className:`admin-list ${u==="grid"?"admin-grid":"admin-rows"}`,style:u==="grid"?{gridTemplateColumns:`repeat(${f}, 1fr)`}:void 0,children:k.length>0?k.map(Q=>{var ie;return T.jsxs(bn.div,{className:`admin-item glass-card ${u==="grid"?"admin-card":"admin-row"}`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[u==="grid"&&T.jsx("div",{className:"card-image",style:{background:Q.imageUrl?`url(${Q.imageUrl}) center/cover`:"linear-gradient(135deg, #FF6B6B 0%, #845EC2 100%)"},children:T.jsx("div",{className:"card-overlay",children:T.jsx("span",{className:"card-emoji",children:""})})}),T.jsxs("div",{className:"item-info",children:[T.jsx("h4",{children:Q.name}),Q.phone&&T.jsxs("p",{className:"item-phone",children:[T.jsx(Wh,{size:14}),Q.phone]}),T.jsxs("p",{className:"item-address",children:[T.jsx(Hh,{size:14}),Q.address||"Cha c a ch"]}),T.jsx("div",{className:"item-tags",children:(ie=Q.categories)==null?void 0:ie.slice(0,3).map((D,A)=>T.jsx("span",{className:"item-tag",children:D},A))})]}),T.jsxs("div",{className:"item-actions",children:[T.jsx("button",{className:"btn-icon edit",onClick:()=>q(Q),title:"Sa",children:T.jsx(DE,{size:18})}),T.jsx("button",{className:"btn-icon delete",onClick:()=>re(Q.id,Q.name),title:"Xa",children:T.jsx(bE,{size:18})})]})]},Q.id)}):T.jsxs("div",{className:"empty-admin",children:[T.jsx("span",{children:""}),T.jsx("p",{children:"Cha c qun n no. Hy thm qun u tin!"})]})})]})}function $4({restaurants:n,menuItems:e,onRefresh:t}){const[r,s]=O.useState(""),[a,u]=O.useState(!1),[d,f]=O.useState(null),[p,g]=O.useState("grid"),[_,E]=O.useState(3),[I,V]=O.useState(""),[x,k]=O.useState({name:"",price:"",category:"",description:"",imageUrl:"",isPopular:!1,isAvailable:!0}),[F,q]=O.useState(!1),H=e.filter(P=>{var b;if(r&&P.restaurantId!==r)return!1;if(I){const M=I.toLowerCase(),U=n.find(N=>N.id===P.restaurantId);return P.name.toLowerCase().includes(M)||((b=P.category)==null?void 0:b.toLowerCase().includes(M))||(U==null?void 0:U.name.toLowerCase().includes(M))}return!0}),re=()=>{k({name:"",price:"",category:"",description:"",imageUrl:"",isPopular:!1,isAvailable:!0}),f(null),u(!1)},Q=P=>{k({name:P.name,price:P.price.toString(),category:P.category||"",description:P.description||"",imageUrl:P.imageUrl||"",isPopular:P.isPopular,isAvailable:P.isAvailable!==!1}),s(P.restaurantId),f(P.id),u(!0)},ie=async()=>{if(!x.name.trim()||!x.price||!r){alert("Vui lng nhp y : tn mn, gi, v chn qun!");return}q(!0);try{const P={name:x.name.trim(),price:parseInt(x.price),category:x.category.trim(),description:x.description.trim(),imageUrl:x.imageUrl.trim(),isPopular:x.isPopular,isAvailable:x.isAvailable,restaurantId:r};d?await YS(iu(Pr,"menuItems",d),P):await Mh(fa(Pr,"menuItems"),{...P,createdAt:su()}),t(),re()}catch(P){console.error("Li khi lu:",P),alert("C li xy ra!")}finally{q(!1)}},D=async(P,b)=>{if(confirm(`Xa mn "${b}"?`))try{await JS(iu(Pr,"menuItems",P)),t()}catch(M){console.error("Li:",M)}},A=P=>new Intl.NumberFormat("vi-VN").format(P)+"";return T.jsxs("div",{className:"admin-section",children:[T.jsxs("div",{className:"section-header",children:[T.jsxs("h2",{children:[" Danh sch mn n (",H.length,"/",e.length,")"]}),T.jsxs("div",{className:"section-actions",children:[T.jsxs("div",{className:"view-toggle",children:[T.jsx("button",{className:`view-btn ${p==="grid"?"active":""}`,onClick:()=>g("grid"),title:"Xem dng li",children:T.jsx(AE,{size:18})}),T.jsx("button",{className:`view-btn ${p==="list"?"active":""}`,onClick:()=>g("list"),title:"Xem dng danh sch",children:T.jsx(RE,{size:18})})]}),p==="grid"&&T.jsxs("div",{className:"size-control",children:[T.jsx("button",{className:"size-btn",onClick:()=>E(P=>Math.max(2,P-1)),disabled:_<=2,title:"Phng to",children:T.jsx(xE,{size:16})}),T.jsxs("span",{className:"size-label",children:[_," ct"]}),T.jsx("button",{className:"size-btn",onClick:()=>E(P=>Math.min(6,P+1)),disabled:_>=6,title:"Thu nh",children:T.jsx(PE,{size:16})})]}),T.jsxs("button",{className:"btn btn-primary",onClick:()=>u(!0),children:[T.jsx(kE,{size:18}),"Thm mn"]})]})]}),T.jsxs("div",{className:"filter-row",children:[T.jsxs("div",{className:"search-bar glass-card",children:[T.jsx(ph,{size:18}),T.jsx("input",{type:"text",className:"search-input",placeholder:"Tm nhanh mn, loi, qun...",value:I,onChange:P=>V(P.target.value)}),I&&T.jsx("button",{className:"clear-btn",onClick:()=>V(""),children:T.jsx(Hl,{size:16})})]}),T.jsxs("select",{className:"input filter-select",value:r,onChange:P=>s(P.target.value),children:[T.jsx("option",{value:"",children:"Tt c qun"}),n.map(P=>T.jsx("option",{value:P.id,children:P.name},P.id))]})]}),a&&T.jsxs(bn.div,{className:"admin-form glass-card",initial:{opacity:0,height:0},animate:{opacity:1,height:"auto"},children:[T.jsxs("div",{className:"form-header",children:[T.jsx("h3",{children:d?" Sa mn":" Thm mn mi"}),T.jsx("button",{className:"btn-icon",onClick:re,children:T.jsx(Hl,{size:20})})]}),T.jsxs("div",{className:"form-grid",children:[T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"Chn qun *"}),T.jsxs("select",{className:"input",value:r,onChange:P=>s(P.target.value),children:[T.jsx("option",{value:"",children:"-- Chn qun --"}),n.map(P=>T.jsx("option",{value:P.id,children:P.name},P.id))]})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Tn mn *"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD: Nem nng Nha Trang",value:x.name,onChange:P=>k({...x,name:P.target.value})})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Gi (VN) *"}),T.jsx("input",{type:"number",className:"input",placeholder:"VD: 35000",value:x.price,onChange:P=>k({...x,price:P.target.value})})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"Loi mn"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD: Nem nng",value:x.category,onChange:P=>k({...x,category:P.target.value})})]}),T.jsxs("div",{className:"form-group",children:[T.jsx("label",{children:"M t"}),T.jsx("input",{type:"text",className:"input",placeholder:"M t ngn...",value:x.description,onChange:P=>k({...x,description:P.target.value})})]}),T.jsxs("div",{className:"form-group full-width",children:[T.jsx("label",{children:"URL nh mn"}),T.jsx("input",{type:"text",className:"input",placeholder:"VD: /amthuc/assets/menu/mon-an.jpg",value:x.imageUrl,onChange:P=>k({...x,imageUrl:P.target.value})}),x.imageUrl&&T.jsx("img",{src:x.imageUrl,alt:"Preview",style:{width:"80px",height:"80px",objectFit:"cover",borderRadius:"8px",marginTop:"8px"},onError:P=>P.currentTarget.style.display="none"})]}),T.jsxs("div",{className:"form-group checkbox-group",children:[T.jsxs("label",{className:"checkbox-label",children:[T.jsx("input",{type:"checkbox",checked:x.isPopular,onChange:P=>k({...x,isPopular:P.target.checked})})," Mn ph bin"]}),T.jsxs("label",{className:"checkbox-label",children:[T.jsx("input",{type:"checkbox",checked:x.isAvailable,onChange:P=>k({...x,isAvailable:P.target.checked})})," Cn phc v"]})]})]}),T.jsxs("div",{className:"form-actions",children:[T.jsx("button",{className:"btn btn-secondary",onClick:re,children:"Hy"}),T.jsxs("button",{className:"btn btn-primary",onClick:ie,disabled:F,children:[T.jsx(NE,{size:18}),F?"ang lu...":"Lu mn"]})]})]}),T.jsx("div",{className:`admin-list ${p==="grid"?"admin-grid":"admin-rows"}`,style:p==="grid"?{gridTemplateColumns:`repeat(${_}, 1fr)`}:void 0,children:H.length>0?H.map(P=>{const b=n.find(M=>M.id===P.restaurantId);return T.jsxs(bn.div,{className:`admin-item glass-card ${p==="grid"?"admin-card menu-card":"admin-row"}`,initial:{opacity:0,scale:.95},animate:{opacity:1,scale:1},transition:{duration:.2},children:[p==="grid"&&T.jsxs("div",{className:"card-image",style:{background:P.imageUrl?`url(${P.imageUrl}) center/cover`:"linear-gradient(135deg, #00F5D4 0%, #845EC2 100%)"},children:[T.jsx("div",{className:"card-overlay",children:T.jsx("span",{className:"card-emoji",children:""})}),P.isPopular&&T.jsx("span",{className:"card-badge popular",children:" Ni bt"}),!P.isAvailable&&T.jsx("span",{className:"card-badge unavailable",children:"Ht"})]}),T.jsxs("div",{className:"item-info",children:[T.jsxs("h4",{children:[p==="list"&&P.isPopular&&" ",P.name,p==="list"&&!P.isAvailable&&T.jsx("span",{className:"unavailable",children:" (Ht)"})]}),T.jsx("p",{className:"price",children:A(P.price)}),T.jsxs("p",{className:"item-restaurant",children:[T.jsx(VE,{size:14}),(b==null?void 0:b.name)||"Khng xc nh"]}),P.category&&T.jsx("span",{className:"item-tag",children:P.category})]}),T.jsxs("div",{className:"item-actions",children:[T.jsx("button",{className:"btn-icon edit",onClick:()=>Q(P),title:"Sa",children:T.jsx(DE,{size:18})}),T.jsx("button",{className:"btn-icon delete",onClick:()=>D(P.id,P.name),title:"Xa",children:T.jsx(bE,{size:18})})]})]},P.id)}):T.jsxs("div",{className:"empty-admin",children:[T.jsx("span",{children:""}),T.jsx("p",{children:r?"Qun ny cha c mn no. Hy thm mn u tin!":"Cha c mn n no. Hy thm mn u tin!"})]})})]})}function H4(){const[n,e]=O.useState([]),[t,r]=O.useState([]),[s,a]=O.useState(!0),[u,d]=O.useState("");O.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0);const g=fa(Pr,"restaurants"),E=(await Lw(g)).docs.map(k=>{var F;return{id:k.id,...k.data(),createdAt:((F=k.data().createdAt)==null?void 0:F.toDate())||new Date}}),I=fa(Pr,"menuItems"),x=(await Lw(I)).docs.map(k=>{var F;return{id:k.id,...k.data(),createdAt:((F=k.data().createdAt)==null?void 0:F.toDate())||new Date}});e(E),r(x)}catch(g){console.error("Li khi load d liu:",g)}finally{a(!1)}},p=()=>{f()};return T.jsx(yA,{basename:"/amthuc",children:T.jsxs("div",{className:"app",children:[T.jsx(HA,{searchQuery:u,onSearchChange:d}),T.jsx("main",{className:"main-content",children:T.jsxs(vE,{children:[T.jsx(js,{path:"/dashboard",element:T.jsx(vN,{restaurants:n,menuItems:t,loading:s,searchQuery:u})}),T.jsx(js,{path:"/",element:T.jsx(qC,{to:"/dashboard",replace:!0})}),T.jsx(js,{path:"/quan/:id",element:T.jsx(wN,{restaurants:n,menuItems:t,loading:s})}),T.jsx(js,{path:"/admin/*",element:T.jsx(U4,{restaurants:n,menuItems:t,onRefresh:p})})]})}),T.jsx(WA,{})]})})}QP.createRoot(document.getElementById("root")).render(T.jsx(zP.StrictMode,{children:T.jsx(H4,{})}));
